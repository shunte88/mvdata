id,type,state,state_reason,title,body,author,created_at,assignees,updated_at,closed_at,url,labels,comments_list,comment_thread
2840484523,pull_request,open,,Masking details while creating connections using json & uri,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->

We should also mask the connection details when connections are created using conn-json or conn-extra to unify with rest of the ways.

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",amoghrajesh,2025-02-09 07:13:20+00:00,[],2025-02-09 07:13:29+00:00,,https://github.com/apache/airflow/pull/46595,[],[],
2840471490,pull_request,closed,,Add RemovedInAirflow4Warning,This is needed for cases where we want to deprecate stuff in Airflow 3 rather than remove them (like email integration in code),eladkal,2025-02-09 06:32:57+00:00,[],2025-02-09 07:54:15+00:00,2025-02-09 07:53:51+00:00,https://github.com/apache/airflow/pull/46594,"[('changelog:skip', 'Changes that should be skipped from the changelog (CI, tests, etc..)')]",[],
2840426095,pull_request,open,,Add error_statuses verification in RdsExportTaskExistenceSensor,This pull request fixes: https://github.com/apache/airflow/issues/46555,vargacypher,2025-02-09 04:09:47+00:00,[],2025-02-09 08:02:45+00:00,,https://github.com/apache/airflow/pull/46593,"[('provider:amazon', 'AWS/Amazon - related issues'), ('area:providers', '')]","[{'comment_id': 2646063540, 'issue_id': 2840426095, 'author': 'vargacypher', 'body': ""I'll fix the **lambda** call in test."", 'created_at': datetime.datetime(2025, 2, 9, 4, 30, 19, tzinfo=datetime.timezone.utc)}]","vargacypher (Issue Creator) on (2025-02-09 04:30:19 UTC): I'll fix the **lambda** call in test.

"
2840398789,pull_request,open,,Update Metadata Database Doc for Resolving Conflict,"
## Why


While working on #45961, I took some time to figure out how to resolve metadata database-related conflicts. Adding these steps to the documentation could help others who are resolving metadata database conflicts for the first time.


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",jason810496,2025-02-09 03:03:08+00:00,[],2025-02-09 03:03:14+00:00,,https://github.com/apache/airflow/pull/46592,"[('area:dev-tools', '')]",[],
2840306154,pull_request,open,,Remove minimum height on elements in Flexible Form,"I noticed that the flexible trigger form always used minimum 80px as space per form row, even if content is less. This occupies a too much screen space for simple forms.
Root cause is that the labels are receiving a minimum height of 80px if no flex basis is defined as style. This PR fixes the layout bug.

Before:
![image](https://github.com/user-attachments/assets/b29f4d08-ca07-4082-bba2-5a152deda1fb)

After / with this PR:
![image](https://github.com/user-attachments/assets/7a35435e-734f-49de-8943-8390556d6f25)

FYI @shubhamraj-git ",jscheffl,2025-02-08 22:27:08+00:00,[],2025-02-08 22:27:11+00:00,,https://github.com/apache/airflow/pull/46591,"[('area:UI', 'Related to UI/UX. For Frontend Developers.')]",[],
2840289862,pull_request,closed,,Migrate Amazon provider package," Fixes: #46045

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-02-08 21:42:13+00:00,[],2025-02-09 08:17:20+00:00,2025-02-09 08:17:18+00:00,https://github.com/apache/airflow/pull/46590,"[('provider:amazon', 'AWS/Amazon - related issues'), ('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', '')]","[{'comment_id': 2645955494, 'issue_id': 2840289862, 'author': 'potiuk', 'body': 'cc: @o-nikolas -> could not add fixup in your PR so created a new one (but you are author still) :)', 'created_at': datetime.datetime(2025, 2, 8, 21, 46, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2646120922, 'issue_id': 2840289862, 'author': 'potiuk', 'body': 'Yeah. I took it from your PR initially and added some fixes :)', 'created_at': datetime.datetime(2025, 2, 9, 8, 17, 14, tzinfo=datetime.timezone.utc)}]","potiuk (Issue Creator) on (2025-02-08 21:46:26 UTC): cc: @o-nikolas -> could not add fixup in your PR so created a new one (but you are author still) :)

potiuk (Issue Creator) on (2025-02-09 08:17:14 UTC): Yeah. I took it from your PR initially and added some fixes :)

"
2840228743,pull_request,open,,Feat/get rid  zip tests cases,"closes: #46449

adding *.zip in gitignore based on discussion at https://github.com/apache/airflow/pull/46459

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",mansi0829,2025-02-08 19:39:09+00:00,[],2025-02-09 01:45:12+00:00,,https://github.com/apache/airflow/pull/46589,[],"[{'comment_id': 2645915990, 'issue_id': 2840228743, 'author': 'boring-cyborg[bot]', 'body': ""Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)\nHere are some useful points:\n- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.\n- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.\n- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.\n- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.\n- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.\n- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).\n- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.\nApache Airflow is a community-driven project and together we are making it better ðŸš€.\nIn case of doubts contact the developers at:\nMailing List: dev@airflow.apache.org\nSlack: https://s.apache.org/airflow-slack"", 'created_at': datetime.datetime(2025, 2, 8, 19, 39, 12, tzinfo=datetime.timezone.utc)}]","boring-cyborg[bot] on (2025-02-08 19:39:12 UTC): Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)
Here are some useful points:
- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.
- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.
- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.
- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.
- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.
- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).
- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.
Apache Airflow is a community-driven project and together we are making it better ðŸš€.
In case of doubts contact the developers at:
Mailing List: dev@airflow.apache.org
Slack: https://s.apache.org/airflow-slack

"
2840191800,pull_request,closed,,Correct some CODEOWNER entries,After the email from @potiuk  (https://lists.apache.org/thread/xq7837nd2j99slb558ls7b6jqntq6y32) about better CODEOWNER I took a look and found some orphaned entries which were pointing to old/moved files. This PR corrects the path entries.,jscheffl,2025-02-08 18:13:50+00:00,[],2025-02-08 18:23:09+00:00,2025-02-08 18:22:50+00:00,https://github.com/apache/airflow/pull/46588,"[('area:dev-tools', '')]","[{'comment_id': 2645891333, 'issue_id': 2840191800, 'author': 'potiuk', 'body': ""Nice :). It's now REALLY easy to update those :)"", 'created_at': datetime.datetime(2025, 2, 8, 18, 23, 7, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-02-08 18:23:07 UTC): Nice :). It's now REALLY easy to update those :)

"
2840190652,pull_request,closed,,Remove overlooked `pod_generator_deprecated.py` ,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->
`pod_generator_deprecated.py` file was missed in the https://github.com/apache/airflow/pull/43689/

- Delete unused and deprecated pod generator module `providers/cncf/kubernetes/src/airflow/providers/cncf/kubernetes/pod_generator_deprecated.py`
- Remove  already deleted deprecated k8s provider modules from tests presence exclusion

(Re-creation of messed up PR by new providers structure rebasing: https://github.com/apache/airflow/pull/46377)


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",insomnes,2025-02-08 18:11:07+00:00,[],2025-02-08 19:24:38+00:00,2025-02-08 19:24:38+00:00,https://github.com/apache/airflow/pull/46587,"[('provider:cncf-kubernetes', 'Kubernetes provider related issues')]",[],
2840147882,pull_request,closed,,Fix Legacy UI Button Navigation Issue,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #46516 
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->

**What was wrong:** 
The ""Legacy UI"" button in the New UI was misdirecting users by linking to an incorrect URL (wrong port), which prevented proper navigation to the legacy interface.

**What was changed:**
I updated the ""Legacy UI"" button to navigate to https://localhost:28080/

Closes: #46516 

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",SaumilPatel03,2025-02-08 17:03:13+00:00,[],2025-02-08 20:00:20+00:00,2025-02-08 20:00:19+00:00,https://github.com/apache/airflow/pull/46586,"[('area:UI', 'Related to UI/UX. For Frontend Developers.')]",[],
2840032237,pull_request,closed,,Fix Legacy UI Button Navigation Issue,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #46516 
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->

**What was wrong:** 
The ""Legacy UI"" button in the New UI was misdirecting users by linking to an incorrect URL (wrong port), which prevented proper navigation to the legacy interface.

**What was changed:**
I updated the ""Legacy UI"" button to navigate to https://localhost:28080/

Closes: #46516 

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",SaumilPatel03,2025-02-08 14:27:16+00:00,[],2025-02-08 14:48:44+00:00,2025-02-08 14:48:44+00:00,https://github.com/apache/airflow/pull/46585,"[('area:dev-tools', ''), ('area:API', ""Airflow's REST/HTTP API""), ('kind:documentation', ''), ('area:production-image', 'Production image improvements and fixes'), ('area:UI', 'Related to UI/UX. For Frontend Developers.'), ('area:DAG-processing', '')]",[],
2840032161,pull_request,open,,[WIP] Implement short circuit operator,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",shahar1,2025-02-08 14:27:05+00:00,[],2025-02-08 19:51:11+00:00,,https://github.com/apache/airflow/pull/46584,"[('provider:standard', ''), ('area:task-sdk', None)]",[],
2839918225,pull_request,closed,,Update k8s test Document for non LocalExecutor,"
related: #46502

Add a note in the documentation to help others avoid encountering the same error when running k8s tests.

> While working on this issue, I encountered a problem where the `test-namespace` task was never successful. After several attempts, I realized that I needed to add the `--multi-namespace-mode --executor KubernetesExecutor` flags.  
Adding a hint for the `deploy-airflow` command could help others avoid the same trouble.


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",jason810496,2025-02-08 12:40:46+00:00,[],2025-02-08 17:28:47+00:00,2025-02-08 17:28:37+00:00,https://github.com/apache/airflow/pull/46583,"[('area:dev-tools', '')]","[{'comment_id': 2645863929, 'issue_id': 2839918225, 'author': 'potiuk', 'body': 'Nice! thank you!', 'created_at': datetime.datetime(2025, 2, 8, 17, 28, 46, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-02-08 17:28:46 UTC): Nice! thank you!

"
2839664451,pull_request,open,,Improve SFTP hook's directory transfer to use a single connection for multiple files,"This PR improves SFTP hook's `store_directory` and `retrieve_directory` functions to use a single connection when transferring a directory with multiple files.

Previously, these functions relied on `store_file` and `retrieve_file` functions. And with this [PR](https://github.com/apache/airflow/pull/44247), the `store_file` and `retrieve_file` functions were modified to open and close sftp connection each time.
This leads to the `store_directory` and `retrieve_directory` functions to open and close too many connections repeatedly when there are many files in a directory, which causes significant overhead.

To address this, I modified them to open a connection, transfer all files in a directory, and then close the connection afterward.

I also did a performance test in my local environment by transferring a directory containing 1,000 small files. This reduced the transfer time by approximately 8-9 seconds. The results are shown below.

|        | AS-IS     | TO-BE     |
|--------|-----------|-----------|
| store  | 47.18 sec | 39.35 sec |
| retrieve | 63.50 sec | 54.73 sec |
",Dawnpool,2025-02-08 07:14:02+00:00,[],2025-02-08 09:17:34+00:00,,https://github.com/apache/airflow/pull/46582,"[('provider:sftp', '')]",[],
2839419775,pull_request,open,,Add MwaaTriggerDagRunOperator and MwaaHook to Amazon Provider Package,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
This PR adds AWS Managed Workflows for Apache Airflow (MWAA) integration to the Amazon Provider Package. The integration includes:

1. `MwaaTriggerDagRunOperator`: Allows triggering DAGs in an MWAA environment
2. `MwaaHook`: A generic hook to interact with MWAA environments via REST API

To run the `example_mwaa` system test, there needs to be an existing environment already created. In the future, when we add a `CreateEnvironmentOperator`, there will be a separate system test just for that operator. This approach was chosen due to the significant time required for MWAA environment creation.

---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",ramitkataria,2025-02-08 02:38:39+00:00,[],2025-02-09 06:10:55+00:00,,https://github.com/apache/airflow/pull/46579,"[('provider:amazon', 'AWS/Amazon - related issues'), ('area:providers', ''), ('kind:documentation', '')]","[{'comment_id': 2644443705, 'issue_id': 2839419775, 'author': 'boring-cyborg[bot]', 'body': ""Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)\nHere are some useful points:\n- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.\n- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.\n- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.\n- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.\n- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.\n- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).\n- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.\nApache Airflow is a community-driven project and together we are making it better ðŸš€.\nIn case of doubts contact the developers at:\nMailing List: dev@airflow.apache.org\nSlack: https://s.apache.org/airflow-slack"", 'created_at': datetime.datetime(2025, 2, 8, 2, 38, 43, tzinfo=datetime.timezone.utc)}]","boring-cyborg[bot] on (2025-02-08 02:38:43 UTC): Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)
Here are some useful points:
- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.
- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.
- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.
- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.
- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.
- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).
- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.
Apache Airflow is a community-driven project and together we are making it better ðŸš€.
In case of doubts contact the developers at:
Mailing List: dev@airflow.apache.org
Slack: https://s.apache.org/airflow-slack

"
2839246935,pull_request,closed,,Remove the `--subdir` arg from the dags pause/unpause command,"The arg didn't actually do anything :)

related: #45647 ",jedcunningham,2025-02-07 23:01:03+00:00,[],2025-02-07 23:24:06+00:00,2025-02-07 23:24:05+00:00,https://github.com/apache/airflow/pull/46577,"[('area:CLI', ''), ('AIP-66: DAG Bundle/Manifest', '')]",[],
2839222602,pull_request,open,,Support `--bundle-name` on DAG processor,"This adds support for the bundle name arg on the DAG processor, which allows for a DAG processor to only parse certain bundles.

This also removes the subdir arg, as that has been superceded by separate bundles.

related: #45647 ",jedcunningham,2025-02-07 22:39:47+00:00,[],2025-02-08 17:36:34+00:00,,https://github.com/apache/airflow/pull/46576,"[('area:CLI', ''), ('area:DAG-processing', ''), ('AIP-66: DAG Bundle/Manifest', '')]",[],
2839194217,pull_request,open,,Update providers path in `pre-commit` configuration,"While working on a pre-commit I realized that many pre-commits are now misconfigured because the path of the providers changed with the restructure project (#46045). Fixing these.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vincbeck,2025-02-07 22:18:11+00:00,[],2025-02-08 17:34:43+00:00,,https://github.com/apache/airflow/pull/46575,"[('area:dev-tools', '')]","[{'comment_id': 2644231006, 'issue_id': 2839194217, 'author': 'vincbeck', 'body': '@potiuk You might want to take a look at this one', 'created_at': datetime.datetime(2025, 2, 7, 22, 18, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2645866227, 'issue_id': 2839194217, 'author': 'potiuk', 'body': '> @potiuk You might want to take a look at this one\r\n\r\nOh absolutely .. I knew we will have to review and update those (and possibly fix some things that we missed) - it was just sometimes a bit too **complex** to get it all right with new and old provider structures.\r\n\r\nI\'d say what @jscheffl wrote is good idea - let\'s fix things and keep on rebasing those for the next few days (I hope) and merge right after we merge amazon and microsoft.azure ones - then I have the ""cleanup"" step to do where I will be removing a lot of the code tha handles both new and old providers, and I can make sure to also review the pre-commits to make sure they are ""correct"". i saw at least few places where pre-commits are ""somewhat"" testing things now - possibly skipping some of the stuff we wanted to catch so some fixes will be inevitable.', 'created_at': datetime.datetime(2025, 2, 8, 17, 34, 42, tzinfo=datetime.timezone.utc)}]","vincbeck (Issue Creator) on (2025-02-07 22:18:27 UTC): @potiuk You might want to take a look at this one

potiuk on (2025-02-08 17:34:42 UTC): Oh absolutely .. I knew we will have to review and update those (and possibly fix some things that we missed) - it was just sometimes a bit too **complex** to get it all right with new and old provider structures.

I'd say what @jscheffl wrote is good idea - let's fix things and keep on rebasing those for the next few days (I hope) and merge right after we merge amazon and microsoft.azure ones - then I have the ""cleanup"" step to do where I will be removing a lot of the code tha handles both new and old providers, and I can make sure to also review the pre-commits to make sure they are ""correct"". i saw at least few places where pre-commits are ""somewhat"" testing things now - possibly skipping some of the stuff we wanted to catch so some fixes will be inevitable.

"
2839169582,pull_request,closed,,chore(kubernetes): reduce redundant code,,hussein-awala,2025-02-07 22:00:33+00:00,[],2025-02-07 23:07:06+00:00,2025-02-07 23:07:05+00:00,https://github.com/apache/airflow/pull/46574,"[('provider:cncf-kubernetes', 'Kubernetes provider related issues')]",[],
2839047944,pull_request,closed,,BREAKING_CHANGE: remove airflow.operators.email.EmailOperator in favor of SMTP provider operator,This PR removes `airflow.operators.email.EmailOperator` operator in favor of `airflow.providers.smtp.operators.smtp.EmailOperator`,hussein-awala,2025-02-07 20:40:45+00:00,[],2025-02-09 02:47:11+00:00,2025-02-08 20:21:49+00:00,https://github.com/apache/airflow/pull/46573,"[('kind:documentation', ''), ('area:core-operators', 'Operators, Sensors and hooks within Core Airflow')]",[],
2838901093,pull_request,closed,,Allow passing more then one `--bundle-name` to reserialize command,"This allows multiple bundle names to passed via the cli - the reserialize command is the only current user of it. But this will apply across a number of commands longer term, so a bit of prep was done by extracting out the validation into a helper.",jedcunningham,2025-02-07 19:11:32+00:00,[],2025-02-08 16:11:13+00:00,2025-02-07 20:20:12+00:00,https://github.com/apache/airflow/pull/46571,"[('area:CLI', ''), ('full tests needed', 'We need to run full set of tests for this PR to merge'), ('AIP-66: DAG Bundle/Manifest', '')]","[{'comment_id': 2645812678, 'issue_id': 2838901093, 'author': 'ambika-garg', 'body': 'Hey @jedcunninghamin, should we pass the bundle names as a list of strings?', 'created_at': datetime.datetime(2025, 2, 8, 16, 11, 12, tzinfo=datetime.timezone.utc)}]","ambika-garg on (2025-02-08 16:11:12 UTC): Hey @jedcunninghamin, should we pass the bundle names as a list of strings?

"
2838608370,pull_request,closed,,Bump openlineage-airflow from 1.27.0 to 1.28.0,"Bumps openlineage-airflow from 1.27.0 to 1.28.0.


[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=openlineage-airflow&package-manager=pip&previous-version=1.27.0&new-version=1.28.0)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores)

Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.

[//]: # (dependabot-automerge-start)
[//]: # (dependabot-automerge-end)

---

<details>
<summary>Dependabot commands and options</summary>
<br />

You can trigger Dependabot actions by commenting on this PR:
- `@dependabot rebase` will rebase this PR
- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it
- `@dependabot merge` will merge this PR after your CI passes on it
- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it
- `@dependabot cancel merge` will cancel a previously requested merge and block automerging
- `@dependabot reopen` will reopen this PR if it is closed
- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
- `@dependabot show <dependency name> ignore conditions` will show all of the ignore conditions of the specified dependency
- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)
- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)
- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)


</details>",dependabot[bot],2025-02-07 16:42:16+00:00,[],2025-02-07 16:48:31+00:00,2025-02-07 16:48:23+00:00,https://github.com/apache/airflow/pull/46568,"[('area:dependencies', 'Issues related to dependencies problems'), ('python', 'Pull requests that update Python code')]",[],
2838565422,pull_request,closed,,Fix `compile-ui-assets` to not exit after generating main UI assets,"As part of `compile-ui-assets` we are generating assets from the main UI but also assets from the simple auth manager UI, see [code](https://github.com/apache/airflow/blob/main/scripts/ci/pre_commit/compile_ui_assets.py#L97). However, in case of successful generation, we exit the script so the simple auth manager assets are never compiled.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vincbeck,2025-02-07 16:24:18+00:00,[],2025-02-07 17:31:03+00:00,2025-02-07 17:31:01+00:00,https://github.com/apache/airflow/pull/46567,"[('area:dev-tools', '')]",[],
2838482148,pull_request,closed,,Add warning message in simple auth manager: dev only auth manager,"Add warning in the simple auth manager login page to warn users this should be used only in dev environments.

![Screenshot 2025-02-07 at 10 34 51â€¯AM](https://github.com/user-attachments/assets/4f3963ad-345c-4cd7-b03c-561ed213a31b)

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vincbeck,2025-02-07 15:45:07+00:00,[],2025-02-07 16:09:35+00:00,2025-02-07 16:09:35+00:00,https://github.com/apache/airflow/pull/46564,[],[],
2838398791,pull_request,closed,,Increase retries in `EmrContainerHook.create_emr_on_eks_cluster`,"Follow-up of #46441.

#46441 solves the issue but only partially, the system test is succeeding and failing intermittently. When it fails, it fails due to the same error:

```
botocore.errorfactory.ValidationException: An error occurred (ValidationException) when calling the CreateVirtualCluster operation: Cluster env40beb96b-cluster is not reachable as its connection is currently being updated
```

The only thing we can do is wait longer ...

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vincbeck,2025-02-07 15:07:54+00:00,[],2025-02-07 18:52:54+00:00,2025-02-07 18:52:52+00:00,https://github.com/apache/airflow/pull/46562,"[('provider:amazon', 'AWS/Amazon - related issues'), ('area:providers', '')]",[],
2838393074,pull_request,closed,,fix: Dataproc operators fail to import without OpenLineage,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->
related: #46478

This PR does three things:
1. Moves top level import from Google's OpenLineage utils into operator's execute method, to avoid issues with ImportError, should they happen in the future.
2. Adds try/except for OpenLineage code in DataProc operators, so that any error related to OpenLineage does not affect execution of DataProc.
3. Moves `BigQueryJobRunFacet` to a separate file and add try/except on class definition, in case OpenLineage is not available (similar logic as in common.compat provider). I've also moved the import of this facet into specific method in _OpenLineageMixin, so it's no longer top level import.

I've tested it manually on the environment without OpenLineage and the error described in the issue is gone after applying  changes included in this PR.

CC @mobuchowski 


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",kacpermuda,2025-02-07 15:05:19+00:00,[],2025-02-07 19:18:11+00:00,2025-02-07 19:18:11+00:00,https://github.com/apache/airflow/pull/46561,"[('provider:google', 'Google (including GCP) related issues')]","[{'comment_id': 2643244591, 'issue_id': 2838393074, 'author': 'potiuk', 'body': 'Nice. Some mypy checks but it looks good :)', 'created_at': datetime.datetime(2025, 2, 7, 15, 26, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643247884, 'issue_id': 2838393074, 'author': 'potiuk', 'body': 'Quick fix @kacpermuda :)', 'created_at': datetime.datetime(2025, 2, 7, 15, 28, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643296190, 'issue_id': 2838393074, 'author': 'kacpermuda', 'body': ""@potiuk let's hold on with merging until we get @mobuchowski approval. We discussed few ways to solve this, and I want to hear his opinion."", 'created_at': datetime.datetime(2025, 2, 7, 15, 48, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643339732, 'issue_id': 2838393074, 'author': 'potiuk', 'body': 'Sure', 'created_at': datetime.datetime(2025, 2, 7, 16, 3, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643819468, 'issue_id': 2838393074, 'author': 'mobuchowski', 'body': 'No need to be a single point of failure ðŸ™‚ \r\nPR looks good to me.', 'created_at': datetime.datetime(2025, 2, 7, 19, 18, 7, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-02-07 15:26:39 UTC): Nice. Some mypy checks but it looks good :)

potiuk on (2025-02-07 15:28:08 UTC): Quick fix @kacpermuda :)

kacpermuda (Issue Creator) on (2025-02-07 15:48:52 UTC): @potiuk let's hold on with merging until we get @mobuchowski approval. We discussed few ways to solve this, and I want to hear his opinion.

potiuk on (2025-02-07 16:03:54 UTC): Sure

mobuchowski on (2025-02-07 19:18:07 UTC): No need to be a single point of failure ðŸ™‚ 
PR looks good to me.

"
2838377516,pull_request,closed,,Fix system test `test_aws_auth_manager`,"The system test succeeds when I run it with breeze locally but it fails in AWS CI because the Airflow UI assets are not generated in AWS CI (they are locally). Let's make it simpler and test the redirection works as expected, no need to follow the redirection.

```
FAILED providers/tests/system/amazon/aws/tests/test_aws_auth_manager.py::TestAwsAuthManager::test_login_admin - jinja2.exceptions.TemplateNotFound: '/index.html' not found in search path: '/opt/airflow/airflow/ui/dist'
```

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vincbeck,2025-02-07 14:58:53+00:00,[],2025-02-07 15:35:14+00:00,2025-02-07 15:35:12+00:00,https://github.com/apache/airflow/pull/46560,"[('provider:amazon', 'AWS/Amazon - related issues'), ('area:providers', '')]",[],
2838351688,pull_request,closed,,AIP-38 Reword Trigger Section for Runs,"Context: https://github.com/apache/airflow/pull/46074#discussion_r1943252920

Ideally we would want the datamodel to also reflect that change and drop the `external` part. This is a small change to not mention it in the UI anymore.",pierrejeambrun,2025-02-07 14:48:27+00:00,['pierrejeambrun'],2025-02-07 17:20:23+00:00,2025-02-07 17:20:21+00:00,https://github.com/apache/airflow/pull/46559,"[('area:UI', 'Related to UI/UX. For Frontend Developers.'), ('AIP-38', 'Modern Web Application')]",[],
2838332205,pull_request,closed,,AIP-38 JWT Flow in the UI,"Part of: https://github.com/apache/airflow/issues/44884

Implements a basic jwt flow that will retrieve the token in any of the urls save it to the localstorage, clear the URL and then attach this token to every requests in the header.

I'll follow up with another PR implenting a `/login` in the backend that will redirect to the auth manager login page.",pierrejeambrun,2025-02-07 14:40:57+00:00,[],2025-02-07 17:20:54+00:00,2025-02-07 17:20:51+00:00,https://github.com/apache/airflow/pull/46558,"[('area:UI', 'Related to UI/UX. For Frontend Developers.')]","[{'comment_id': 2643450134, 'issue_id': 2838332205, 'author': 'pierrejeambrun', 'body': '> LGTM but I think it would be worth adding a unit test to cover the flow?\r\n\r\nTest case added thanks.', 'created_at': datetime.datetime(2025, 2, 7, 16, 44, 55, tzinfo=datetime.timezone.utc)}]","pierrejeambrun (Issue Creator) on (2025-02-07 16:44:55 UTC): Test case added thanks.

"
2838261614,pull_request,closed,,Move smtp provider to the new structure,"Part of #46045

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-02-07 14:10:02+00:00,[],2025-02-07 15:07:49+00:00,2025-02-07 15:07:47+00:00,https://github.com/apache/airflow/pull/46556,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:smtp', '')]","[{'comment_id': 2643048276, 'issue_id': 2838261614, 'author': 'potiuk', 'body': 'cc: @shubhamraj-git', 'created_at': datetime.datetime(2025, 2, 7, 14, 11, 40, tzinfo=datetime.timezone.utc)}]","potiuk (Issue Creator) on (2025-02-07 14:11:40 UTC): cc: @shubhamraj-git

"
2838190818,pull_request,open,,AIP-83 refactor backfill reprocess behaviour,"closes: https://github.com/apache/airflow/issues/46278
[AIP-83: Restore Uniqueness Constraint on Logical Date, Make It Nullable](https://github.com/apache/airflow/pull/46295) impacted backfill reprocessing behavior. Now, attempting to reprocess a run with the same logical date results in a unique constraint error.

This PR fixes that behavior by clearing the existing run before reprocessing, restoring the legacy behavior instead of creating a new run.

Now we are not getting Unique constraint if reprocess behaviour is  `completed`  or `failed`

<img width=""1426"" alt=""image"" src=""https://github.com/user-attachments/assets/6cb37b03-7f9b-4fb2-a771-be9ffafa9a39"" />


In `backfill_dag_run` table as run would be cleared and would be in `queued` state. We will add exception reason as `in flight`

<img width=""906"" alt=""image"" src=""https://github.com/user-attachments/assets/d9cbfc29-93f3-4a46-9e34-618b2183d53b"" />

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vatsrahul1001,2025-02-07 13:40:06+00:00,[],2025-02-07 17:20:24+00:00,,https://github.com/apache/airflow/pull/46554,[],[],
2838073353,pull_request,closed,,Adapt Asana Provider to Asana Client >=5.0.0,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #32994
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->

closes: #32994

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",simonprydden,2025-02-07 12:43:16+00:00,[],2025-02-07 15:29:14+00:00,2025-02-07 15:22:56+00:00,https://github.com/apache/airflow/pull/46553,"[('area:dev-tools', ''), ('provider:asana', '')]",[],
2837626737,pull_request,open,,Use run_id for ExternalDag and TriggerDagRun links,"Airflow views already can handle run_id instead of logical_date in the URL query, so we no longer needs to use the logical_date anyway. We also do not need to fetch the TaskInstance object from db at all since ti_key has all the information available to fetch the RTIF data we need.

Although the type hint on the corresponding RTIF function is changed, the runtime behaviour is actually unchanged (which means old versions of Airflow work just fine!) because TaskInstanceKey shares the same attribute name protocol as a reak TaskInstance.",uranusjr,2025-02-07 09:05:28+00:00,[],2025-02-07 09:14:59+00:00,,https://github.com/apache/airflow/pull/46546,"[('AIP-83', 'Remove Execution Date Unique Constraint from DAG Run'), ('provider:standard', '')]",[],
2837396070,pull_request,open,,Detailed requirement on receiving `.output` property as task input in TaskFlow tutorial,"## Purpose
Gives more detailed description on using `.output` property as downstream task input when using TaskFlow.

## Details
 - Move the note block right after code examples to better understand why these examples work
 - Points out the requirement applies to downstream task
 - Provides suggestion in different cases (traditional class/decorated task)
 - Provides reference link for users planning to write up their own operator class

---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",pykenny,2025-02-07 07:01:32+00:00,[],2025-02-07 07:01:36+00:00,,https://github.com/apache/airflow/pull/46545,"[('kind:documentation', '')]",[],
2837359905,pull_request,open,,Fix Legacy configuration not removed or updated,"
closes: #46517

The `inversed_deprecated_options` logic in `config_command.py` causes `config lint` to retrieve the new section-option pair from the old section-option pair. Adding the `lookup_from_deprecated_options` argument can resolve the error.

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",jason810496,2025-02-07 06:36:07+00:00,[],2025-02-07 07:33:28+00:00,,https://github.com/apache/airflow/pull/46544,"[('area:CLI', ''), ('area:serialization', '')]","[{'comment_id': 2642066242, 'issue_id': 2837359905, 'author': 'jason810496', 'body': 'Followup:\r\n\r\nShould we add a `pre-commit` check to ensure the default configuration doesnâ€™t raise issues with `airflow config lint`?\r\ncc @Lee-W', 'created_at': datetime.datetime(2025, 2, 7, 6, 39, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642068812, 'issue_id': 2837359905, 'author': 'Lee-W', 'body': '> Followup:\r\n> \r\n> Should we add a `pre-commit` check to ensure the default configuration doesnâ€™t raise issues with `airflow config lint`? cc @Lee-W\r\n\r\nsounds like a great idea!', 'created_at': datetime.datetime(2025, 2, 7, 6, 41, 49, tzinfo=datetime.timezone.utc)}]","jason810496 (Issue Creator) on (2025-02-07 06:39:45 UTC): Followup:

Should we add a `pre-commit` check to ensure the default configuration doesnâ€™t raise issues with `airflow config lint`?
cc @Lee-W

Lee-W on (2025-02-07 06:41:49 UTC): sounds like a great idea!

"
2836766680,pull_request,closed,,Use factory for dag_file_processor_timeout in DagFileProcessorManager,"The manager already has a factory for the config, we don't need to resolve it in the cli command and pass it in.",jedcunningham,2025-02-06 22:32:22+00:00,[],2025-02-07 10:35:35+00:00,2025-02-07 10:35:33+00:00,https://github.com/apache/airflow/pull/46541,"[('area:CLI', ''), ('AIP-66: DAG Bundle/Manifest', '')]",[],
2836758296,pull_request,closed,,Split dag bundle tests into separate files,,jedcunningham,2025-02-06 22:26:49+00:00,[],2025-02-06 23:33:28+00:00,2025-02-06 23:33:26+00:00,https://github.com/apache/airflow/pull/46540,"[('area:DAG-processing', ''), ('AIP-66: DAG Bundle/Manifest', '')]",[],
2836704381,pull_request,closed,,Replace caplog with mocking log methods in wasb tests.,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-02-06 21:55:52+00:00,[],2025-02-06 23:41:04+00:00,2025-02-06 22:19:43+00:00,https://github.com/apache/airflow/pull/46539,"[('provider:microsoft-azure', 'Azure-related issues'), ('area:providers', '')]","[{'comment_id': 2641154340, 'issue_id': 2836704381, 'author': 'potiuk', 'body': '> Wohoo! Get rid of caplog!\r\n\r\nIndeed :D ... ~Caplog~', 'created_at': datetime.datetime(2025, 2, 6, 21, 59, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641360162, 'issue_id': 2836704381, 'author': 'bugraoz93', 'body': 'One down :D Thanks! I have started listing all caplog usage and will create a high-level plan this weekend to see how we can easily approach it. I will create an engagement again on the approach. The first layer is to include a selective check to make maintainers aware, which created the issue already #46445', 'created_at': datetime.datetime(2025, 2, 6, 23, 41, 3, tzinfo=datetime.timezone.utc)}]","potiuk (Issue Creator) on (2025-02-06 21:59:38 UTC): Indeed :D ... ~Caplog~

bugraoz93 on (2025-02-06 23:41:03 UTC): One down :D Thanks! I have started listing all caplog usage and will create a high-level plan this weekend to see how we can easily approach it. I will create an engagement again on the approach. The first layer is to include a selective check to make maintainers aware, which created the issue already #46445

"
2836601181,pull_request,closed,,Fix CODEOWNERS after providers have been moved,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-02-06 21:10:29+00:00,[],2025-02-06 21:18:55+00:00,2025-02-06 21:17:03+00:00,https://github.com/apache/airflow/pull/46538,"[('area:dev-tools', '')]","[{'comment_id': 2641055730, 'issue_id': 2836601181, 'author': 'potiuk', 'body': '> Nice and concise now that all provider code is under one directory :)\r\n\r\nVery much so.. One of the benefits of this move :)', 'created_at': datetime.datetime(2025, 2, 6, 21, 16, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641063180, 'issue_id': 2836601181, 'author': 'potiuk', 'body': ""And ... maybe finally we will get to cleaning it up and maybe even engaging more people to be added here and starting to make better use of it.. Been thinking about that, but that's likely something closer to Airlfow 3 release."", 'created_at': datetime.datetime(2025, 2, 6, 21, 18, 54, tzinfo=datetime.timezone.utc)}]","potiuk (Issue Creator) on (2025-02-06 21:16:55 UTC): Very much so.. One of the benefits of this move :)

potiuk (Issue Creator) on (2025-02-06 21:18:54 UTC): And ... maybe finally we will get to cleaning it up and maybe even engaging more people to be added here and starting to make better use of it.. Been thinking about that, but that's likely something closer to Airlfow 3 release.

"
2836580294,pull_request,closed,,Add documentation about ulimit use on MacOS for `uv sync`,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-02-06 20:59:35+00:00,[],2025-02-06 21:12:53+00:00,2025-02-06 21:12:52+00:00,https://github.com/apache/airflow/pull/46537,"[('area:dev-tools', '')]",[],
2836567866,pull_request,closed,,Taking out experimental tag from ObjectStorage,"Updated the ObjectStorage core concept doc to take out the experimental tag

This is following up on the discussion in Airflow slack about the same topic. ",vikramkoka,2025-02-06 20:53:13+00:00,[],2025-02-08 17:04:21+00:00,2025-02-08 17:04:21+00:00,https://github.com/apache/airflow/pull/46536,"[('kind:documentation', '')]",[],
2836551900,pull_request,closed,,More meaningful `@task.kubernetes` pod naming,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->
Use name based on decorated python callable in `@task.kubernetes` pod name generation 

- generate attribute and metadata pod name based on decorated python callable
- drop uuid usage as a random suffix in favor of `random_name_suffix` argument 
- add specific pod naming tests for decorator flow because the decorator distinguishes between `name=None` and no `name` argument provided

Re-implementation of the previous PR messed up by new providers structure rebasing
https://github.com/apache/airflow/pull/46462 

closes: #46464


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",insomnes,2025-02-06 20:45:14+00:00,[],2025-02-08 18:25:03+00:00,2025-02-08 18:25:03+00:00,https://github.com/apache/airflow/pull/46535,"[('provider:cncf-kubernetes', 'Kubernetes provider related issues')]","[{'comment_id': 2641107872, 'issue_id': 2836551900, 'author': 'insomnes', 'body': ""@RNHTTR I am sorry to bother you, but do you mind taking a look at the re-creation of the previous PR already approved by you? I've messed up a ton with rebasing for the new providers structure, so I've re-created it. Also, the `CODEOWNERS` file was broken at the moment, now this new PR is lost in limbo. Thank you!\r\n\r\nThe changes are the same, and now the tests are green after fixes in `main`."", 'created_at': datetime.datetime(2025, 2, 6, 21, 37, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2645891989, 'issue_id': 2836551900, 'author': 'potiuk', 'body': 'Nice!', 'created_at': datetime.datetime(2025, 2, 8, 18, 24, 59, tzinfo=datetime.timezone.utc)}]","insomnes (Issue Creator) on (2025-02-06 21:37:29 UTC): @RNHTTR I am sorry to bother you, but do you mind taking a look at the re-creation of the previous PR already approved by you? I've messed up a ton with rebasing for the new providers structure, so I've re-created it. Also, the `CODEOWNERS` file was broken at the moment, now this new PR is lost in limbo. Thank you!

The changes are the same, and now the tests are green after fixes in `main`.

potiuk on (2025-02-08 18:24:59 UTC): Nice!

"
2836464730,pull_request,closed,,Add expected_return_code parameter to WinRMOperator,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---

Add expected_return_code to WinRMOperator
closes: https://github.com/apache/airflow/issues/46494
",darkag,2025-02-06 20:02:22+00:00,[],2025-02-06 22:25:25+00:00,2025-02-06 22:25:24+00:00,https://github.com/apache/airflow/pull/46534,"[('provider:microsoft-winrm', '')]",[],
2836351312,pull_request,closed,,Move apache.impala provider to a new structure,"Part of #46045

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-02-06 19:04:06+00:00,[],2025-02-06 19:53:23+00:00,2025-02-06 19:53:21+00:00,https://github.com/apache/airflow/pull/46532,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:apache-impala', '')]","[{'comment_id': 2640756596, 'issue_id': 2836351312, 'author': 'potiuk', 'body': 'Seems `apache.impala` provider was a bit orphaned when it comes to moving it :)', 'created_at': datetime.datetime(2025, 2, 6, 19, 5, 40, tzinfo=datetime.timezone.utc)}]","potiuk (Issue Creator) on (2025-02-06 19:05:40 UTC): Seems `apache.impala` provider was a bit orphaned when it comes to moving it :)

"
2836332738,pull_request,closed,,Update system test `test_aws_auth_manager`,"When working on #46381 I forgot to also update the system test. This PR updates the system test `test_aws_auth_manager` given the changes made in #46381.



<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vincbeck,2025-02-06 18:53:25+00:00,[],2025-02-06 22:45:33+00:00,2025-02-06 22:45:31+00:00,https://github.com/apache/airflow/pull/46531,"[('provider:amazon', 'AWS/Amazon - related issues'), ('area:providers', '')]",[],
2836290813,pull_request,closed,,Fix some dag card ux bugs,"Only [last commit](https://github.com/apache/airflow/commit/a8e6a50bf38695342d614848189ab1419e798fc6) is relevant

Our refetchInterval with passing a dag or is_paused was broken.

Dropped the schedule icon when displaying the timetable. It didn't look right for Asset scheduled dags

Updated TogglePause query cache invalidation to match useTrigger, since a run can start or fail immediately.


---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",bbovenzi,2025-02-06 18:29:29+00:00,[],2025-02-07 13:42:57+00:00,2025-02-07 13:42:54+00:00,https://github.com/apache/airflow/pull/46530,"[('area:UI', 'Related to UI/UX. For Frontend Developers.')]",[],
2835993302,pull_request,open,,Separate the case where DagFileInfo should have bundle path from the one where it doesn't have to,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->

related: #45623 (AIP-66 cleanup)

Before migrating the rest of entities in DB that rely on an absolute path of the DAG to use relative one + bundle name, this PR clearly separates the cases where DAG metadata has absolute path determined from the ones, where it is not needed. Effectively, it splits `DagFileInfo` into 2 entities:
  - `DagEntrypoint` - where DAG(s) file is referenced without a tie to any version (and path where it is actually present as a file)
  - `ParseFileInfo` - where DAG(s) file is parsed within a fixed parse context - here we guarantee that the file has some absolute path attached to it and can be read.

This separation of types delegates the pain of figuring out of ""do I have an absolute path set here?"" to static type checks and revealed a couple of bugs in tests.
With this implemented, the migration of DAG code and import errors becomes straight forward and removes the need to pass multiple additional parameters across multiple methods in `dag_processing/collection.py` of model. Otherwise we would have to drag bundle's name, path and version as arguments across multiple functions (or do an even more disruptive refactoring, which wouldn't align with feature-freeze goals at all).

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",IKholopov,2025-02-06 16:21:13+00:00,[],2025-02-08 01:12:56+00:00,,https://github.com/apache/airflow/pull/46528,"[('area:DAG-processing', '')]",[],
2835985628,pull_request,closed,,Update FAB auth manager `get_url_login` method to handle `Flask` and `Fastapi`,"FAB auth manager is currently used in AF2 web application (Flask) and AF3 web application (fastapi). One of the responsibility of the auth manager is to provide the url of the login page. This URL differs whether we are in the context of AF2 or AF3. To address both use cases, I introduce an ugly flag to specify whether the auth manager is run in AF2 or AF3. This is temporary and will be removed when the AF2 Flask application is removed.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vincbeck,2025-02-06 16:18:50+00:00,[],2025-02-06 20:36:03+00:00,2025-02-06 20:36:03+00:00,https://github.com/apache/airflow/pull/46527,"[('area:webserver', 'Webserver related Issues'), ('provider:fab', '')]",[],
2835919934,pull_request,closed,,Moving yandex provider to new provider structure,"Relates to https://github.com/apache/airflow/issues/46045, moving `yandex` provider to new folder structure. Also added a check in the `move_providers.py` script to check if a dir exists before trying to move it. 

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",kunaljubce,2025-02-06 15:55:24+00:00,[],2025-02-06 20:56:31+00:00,2025-02-06 19:53:56+00:00,https://github.com/apache/airflow/pull/46525,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:yandex', '')]","[{'comment_id': 2640493833, 'issue_id': 2835919934, 'author': 'potiuk', 'body': 'OK. there is a small caveat with ""latest botocore"" - Let me add a fixup - I know how to fix it', 'created_at': datetime.datetime(2025, 2, 6, 17, 8, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640495131, 'issue_id': 2835919934, 'author': 'kunaljubce', 'body': 'When I try to reproduce this error locally with `breeze testing core-tests --run-in-parallel`, it returns errors but seemingly unrelated to `yandex` provider changes - \r\n\r\n```shell\r\n=========================== short test summary info ============================\r\nFAILED tests/always/test_example_dags.py::test_should_be_importable[providers/google/tests/system/google/cloud/ml_engine/example_mlengine.py] - AssertionError: import_errors={\'/opt/airflow/providers/google/tests/system/google/cloud/ml_engine/example_mlengine.py\': \'Traceback (most recent call last):\\n  File ""<frozen importlib._bootstrap_external>"", line 1040, in get_data\\n  File ""/opt/airflow/airflow/utils/timeout.py"", line 69, in handle_timeout\\n    raise AirflowTaskTimeout(self.error_message)\\nairflow.exceptions.AirflowTaskTimeout: DagBag import timeout for /opt/airflow/providers/google/tests/system/google/cloud/ml_engine/example_mlengine.py after 30.0s.\\nPlease take a look at these docs to improve your DAG import time:\\n* http://apache-airflow-docs.s3-website.eu-central-1.amazonaws.com/docs/apache-airflow/stable/best-practices.html#top-level-python-code\\n* http://apache-airflow-docs.s3-website.eu-central-1.amazonaws.com/docs/apache-airflow/stable/best-practices.html#reducing-dag-complexity, PID: 75\\n\'}\r\nassert 1 == 0\r\n +  where 1 = len({\'/opt/airflow/providers/google/tests/system/google/cloud/ml_engine/example_mlengine.py\': \'Traceback (most recent call...-website.eu-central-1.amazonaws.com/docs/apache-airflow/stable/best-practices.html#reducing-dag-complexity, PID: 75\\n\'})\r\n +    where {\'/opt/airflow/providers/google/tests/system/google/cloud/ml_engine/example_mlengine.py\': \'Traceback (most recent call...-website.eu-central-1.amazonaws.com/docs/apache-airflow/stable/best-practices.html#reducing-dag-complexity, PID: 75\\n\'} = <airflow.models.dagbag.DagBag object at 0xffff48087910>.import_errors\r\nFAILED tests/always/test_example_dags.py::test_should_be_importable[providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_forecasting_training.py] - AssertionError: import_errors={\'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_forecasting_training.py\': \'Traceback (most recent call last):\\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/client.py"", line 35, in <module>\\n    from google.cloud.aiplatform_v1 import gapic_version as package_version\\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/__init__.py"", line 57, in <module>\\n    from .services.index_service import IndexServiceClient\\nImportError: cannot import name \\\'IndexServiceClient\\\' from partially initialized module \\\'google.cloud.aiplatform_v1.services.index_service\\\' (most likely due to a circular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\\n\'}\r\nassert 1 == 0\r\n +  where 1 = len({\'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_forecasting_training.py\'...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\\n\'})\r\n +    where {\'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_forecasting_training.py\'...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\\n\'} = <airflow.models.dagbag.DagBag object at 0xffff43775190>.import_errors\r\nFAILED tests/always/test_example_dags.py::test_should_be_importable[providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_image_object_detection.py] - AssertionError: import_errors={\'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_image_object_detection.py\': \'Traceback (most recent call last):\\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/client.py"", line 35, in <module>\\n    from google.cloud.aiplatform_v1 import gapic_version as package_version\\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/__init__.py"", line 57, in <module>\\n    from .services.index_service import IndexServiceClient\\nImportError: cannot import name \\\'IndexServiceClient\\\' from partially initialized module \\\'google.cloud.aiplatform_v1.services.index_service\\\' (most likely due to a circular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\\n\'}\r\nassert 1 == 0\r\n +  where 1 = len({\'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_image_object_detection.p...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\\n\'})\r\n +    where {\'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_image_object_detection.p...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\\n\'} = <airflow.models.dagbag.DagBag object at 0xffff434f20a0>.import_errors\r\nFAILED tests/always/test_example_dags.py::test_should_be_importable[providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_image_training.py] - AssertionError: import_errors={\'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_image_training.py\': \'Traceback (most recent call last):\\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/client.py"", line 35, in <module>\\n    from google.cloud.aiplatform_v1 import gapic_version as package_version\\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/__init__.py"", line 57, in <module>\\n    from .services.index_service import IndexServiceClient\\nImportError: cannot import name \\\'IndexServiceClient\\\' from partially initialized module \\\'google.cloud.aiplatform_v1.services.index_service\\\' (most likely due to a circular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\\n\'}\r\nassert 1 == 0\r\n +  where 1 = len({\'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_image_training.py\': \'Tra...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\\n\'})\r\n +    where {\'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_image_training.py\': \'Tra...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\\n\'} = <airflow.models.dagbag.DagBag object at 0xffff43838430>.import_errors\r\nFAILED tests/always/test_example_dags.py::test_should_be_importable[providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_list_training.py] - AssertionError: import_errors={\'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_list_training.py\': \'Traceback (most recent call last):\\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/client.py"", line 35, in <module>\\n    from google.cloud.aiplatform_v1 import gapic_version as package_version\\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/__init__.py"", line 57, in <module>\\n    from .services.index_service import IndexServiceClient\\nImportError: cannot import name \\\'IndexServiceClient\\\' from partially initialized module \\\'google.cloud.aiplatform_v1.services.index_service\\\' (most likely due to a circular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\\n\'}\r\nassert 1 == 0\r\n +  where 1 = len({\'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_list_training.py\': \'Trac...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\\n\'})\r\n +    where {\'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_list_training.py\': \'Trac...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\\n\'} = <airflow.models.dagbag.DagBag object at 0xffff4341ac40>.import_errors\r\nFAILED tests/always/test_example_dags.py::test_should_be_importable[providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_tabular_training.py] - AssertionError: import_errors={\'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_tabular_training.py\': \'Traceback (most recent call last):\\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/client.py"", line 35, in <module>\\n    from google.cloud.aiplatform_v1 import gapic_version as package_version\\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/__init__.py"", line 57, in <module>\\n    from .services.index_service import IndexServiceClient\\nImportError: cannot import name \\\'IndexServiceClient\\\' from partially initialized module \\\'google.cloud.aiplatform_v1.services.index_service\\\' (most likely due to a circular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\\n\'}\r\nassert 1 == 0\r\n +  where 1 = len({\'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_tabular_training.py\': \'T...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\\n\'})\r\n +    where {\'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_tabular_training.py\': \'T...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\\n\'} = <airflow.models.dagbag.DagBag object at 0xffff434cab50>.import_errors\r\nFAILED tests/always/test_example_dags.py::test_should_be_importable[providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_video_tracking.py] - AssertionError: import_errors={\'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_video_tracking.py\': \'Traceback (most recent call last):\\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/client.py"", line 35, in <module>\\n    from google.cloud.aiplatform_v1 import gapic_version as package_version\\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/__init__.py"", line 57, in <module>\\n    from .services.index_service import IndexServiceClient\\nImportError: cannot import name \\\'IndexServiceClient\\\' from partially initialized module \\\'google.cloud.aiplatform_v1.services.index_service\\\' (most likely due to a circular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\\n\'}\r\nassert 1 == 0\r\n +  where 1 = len({\'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_video_tracking.py\': \'Tra...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\\n\'})\r\n +    where {\'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_video_tracking.py\': \'Tra...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\\n\'} = <airflow.models.dagbag.DagBag object at 0xffff4383ec40>.import_errors\r\nFAILED tests/always/test_example_dags.py::test_should_be_importable[providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_video_training.py] - AssertionError: import_errors={\'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_video_training.py\': \'Traceback (most recent call last):\\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/client.py"", line 35, in <module>\\n    from google.cloud.aiplatform_v1 import gapic_version as package_version\\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/__init__.py"", line 57, in <module>\\n    from .services.index_service import IndexServiceClient\\nImportError: cannot import name \\\'IndexServiceClient\\\' from partially initialized module \\\'google.cloud.aiplatform_v1.services.index_service\\\' (most likely due to a circular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\\n\'}\r\nassert 1 == 0\r\n +  where 1 = len({\'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_video_training.py\': \'Tra...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\\n\'})\r\n +    where {\'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_video_training.py\': \'Tra...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\\n\'} = <airflow.models.dagbag.DagBag object at 0xffff43755f40>.import_errors\r\nFAILED tests/always/test_example_dags.py::test_should_be_importable[providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_batch_prediction_job.py] - AssertionError: import_errors={\'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_batch_prediction_job.py\': \'Traceback (most recent call last):\\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/client.py"", line 35, in <module>\\n    from google.cloud.aiplatform_v1 import gapic_version as package_version\\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/__init__.py"", line 57, in <module>\\n    from .services.index_service import IndexServiceClient\\nImportError: cannot import name \\\'IndexServiceClient\\\' from partially initialized module \\\'google.cloud.aiplatform_v1.services.index_service\\\' (most likely due to a circular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\\n\'}\r\nassert 1 == 0\r\n +  where 1 = len({\'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_batch_prediction_job.py\': \'Trace...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\\n\'})\r\n +    where {\'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_batch_prediction_job.py\': \'Trace...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\\n\'} = <airflow.models.dagbag.DagBag object at 0xffff43880880>.import_errors\r\nFAILED tests/always/test_example_dags.py::test_should_be_importable[providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_custom_container.py] - AssertionError: import_errors={\'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_custom_container.py\': \'Traceback (most recent call last):\\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/client.py"", line 35, in <module>\\n    from google.cloud.aiplatform_v1 import gapic_version as package_version\\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/__init__.py"", line 57, in <module>\\n    from .services.index_service import IndexServiceClient\\nImportError: cannot import name \\\'IndexServiceClient\\\' from partially initialized module \\\'google.cloud.aiplatform_v1.services.index_service\\\' (most likely due to a circular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\\n\'}\r\nassert 1 == 0\r\n +  where 1 = len({\'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_custom_container.py\': \'Traceback...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\\n\'})\r\n +    where {\'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_custom_container.py\': \'Traceback...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\\n\'} = <airflow.models.dagbag.DagBag object at 0xffff4389ae20>.import_errors\r\nFAILED tests/always/test_example_dags.py::test_should_be_importable[providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_custom_job.py] - AssertionError: import_errors={\'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_custom_job.py\': \'Traceback (most recent call last):\\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/client.py"", line 35, in <module>\\n    from google.cloud.aiplatform_v1 import gapic_version as package_version\\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/__init__.py"", line 57, in <module>\\n    from .services.index_service import IndexServiceClient\\nImportError: cannot import name \\\'IndexServiceClient\\\' from partially initialized module \\\'google.cloud.aiplatform_v1.services.index_service\\\' (most likely due to a circular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\\n\'}\r\nassert 1 == 0\r\n +  where 1 = len({\'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_custom_job.py\': \'Traceback (most...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\\n\'})\r\n +    where {\'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_custom_job.py\': \'Traceback (most...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\\n\'} = <airflow.models.dagbag.DagBag object at 0xffff43549b20>.import_errors\r\nFAILED tests/always/test_example_dags.py::test_should_be_importable[providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_custom_job_python_package.py] - AssertionError: import_errors={\'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_custom_job_python_package.py\': \'Traceback (most recent call last):\\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/client.py"", line 35, in <module>\\n    from google.cloud.aiplatform_v1 import gapic_version as package_version\\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/__init__.py"", line 57, in <module>\\n    from .services.index_service import IndexServiceClient\\nImportError: cannot import name \\\'IndexServiceClient\\\' from partially initialized module \\\'google.cloud.aiplatform_v1.services.index_service\\\' (most likely due to a circular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\\n\'}\r\nassert 1 == 0\r\n +  where 1 = len({\'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_custom_job_python_package.py\': \'...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\\n\'})\r\n +    where {\'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_custom_job_python_package.py\': \'...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\\n\'} = <airflow.models.dagbag.DagBag object at 0xffff43955cd0>.import_errors\r\n= 12 failed, 1549 passed, 1 skipped, 1 xfailed, 1 warning in 1577.55s (0:26:17) =\r\nNo stopped containers\r\n\r\nThere were errors when running some tasks. Quitting.\r\n```', 'created_at': datetime.datetime(2025, 2, 6, 17, 8, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640499054, 'issue_id': 2835919934, 'author': 'potiuk', 'body': 'pushed likely fix', 'created_at': datetime.datetime(2025, 2, 6, 17, 10, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640508780, 'issue_id': 2835919934, 'author': 'kunaljubce', 'body': 'Thanks @potiuk. For my understanding, can you please explain a little about the botocore issue?', 'created_at': datetime.datetime(2025, 2, 6, 17, 14, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640668571, 'issue_id': 2835919934, 'author': 'potiuk', 'body': '> Thanks @potiuk. For my understanding, can you please explain a little about the botocore issue?\r\n\r\nYeah. The thing is that with botocore tests we are upgrading to latest (i.e. newest) possible botocore - basically by removing aiobotocore that holds it back. The `aiobotocore` is non-aws, 3rd-party async botocore extension and the problem with it is that it lags behind the main botocore - which is released almost daily\r\n\r\nSee: https://pypi.org/project/botocore/#history\r\nvs. https://pypi.org/project/aiobotocore/#history\r\n\r\nbotocore - released today, aiobotocore released 22 Jan and it has `Requires-Dist: botocore<1.36.4,>=1.36.0` -> 1.36.0 of botocore was released on 15th of Jan.\r\n\r\nSo those tests are removing aiobotocore and try to run all the tests with latest botocore. And yandex also uses a aiobotocore I think.\r\n\r\nI see my fix did not work, so I have to fix it differently', 'created_at': datetime.datetime(2025, 2, 6, 18, 21, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640739880, 'issue_id': 2835919934, 'author': 'potiuk', 'body': 'Ok. I pushed simplified version. I think in this case we do not have to run `pip check` - because this is what caused the failures. When we simply upgrade botocore to latest version it will cause conflicting dependencies with other package(s) - - but this should be no big issue , as long as all the tests pass.', 'created_at': datetime.datetime(2025, 2, 6, 18, 56, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640740392, 'issue_id': 2835919934, 'author': 'potiuk', 'body': ':crossed_fingers:', 'created_at': datetime.datetime(2025, 2, 6, 18, 57, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640859350, 'issue_id': 2835919934, 'author': 'potiuk', 'body': '> Are you sure you want to delete all the RST when moving the provider?\r\n\r\nAAAAAH... Merged tooo fast... good eye Jens.', 'created_at': datetime.datetime(2025, 2, 6, 19, 55, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640872236, 'issue_id': 2835919934, 'author': 'potiuk', 'body': 'Ah no --... yandex docs were copied previously (accidentally) as part of another provider (TERADATA) :) . All good :)', 'created_at': datetime.datetime(2025, 2, 6, 20, 0, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641002599, 'issue_id': 2835919934, 'author': 'jscheffl', 'body': '> Ah no --... yandex docs were copied previously (accidentally) as part of another provider (TERADATA) :) . All good :)\r\n\r\nDid not know but good you confirmed.... and no Aaaah :-D', 'created_at': datetime.datetime(2025, 2, 6, 20, 56, 30, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-02-06 17:08:08 UTC): OK. there is a small caveat with ""latest botocore"" - Let me add a fixup - I know how to fix it

kunaljubce (Issue Creator) on (2025-02-06 17:08:41 UTC): When I try to reproduce this error locally with `breeze testing core-tests --run-in-parallel`, it returns errors but seemingly unrelated to `yandex` provider changes - 

```shell
=========================== short test summary info ============================
FAILED tests/always/test_example_dags.py::test_should_be_importable[providers/google/tests/system/google/cloud/ml_engine/example_mlengine.py] - AssertionError: import_errors={'/opt/airflow/providers/google/tests/system/google/cloud/ml_engine/example_mlengine.py': 'Traceback (most recent call last):\n  File ""<frozen importlib._bootstrap_external>"", line 1040, in get_data\n  File ""/opt/airflow/airflow/utils/timeout.py"", line 69, in handle_timeout\n    raise AirflowTaskTimeout(self.error_message)\nairflow.exceptions.AirflowTaskTimeout: DagBag import timeout for /opt/airflow/providers/google/tests/system/google/cloud/ml_engine/example_mlengine.py after 30.0s.\nPlease take a look at these docs to improve your DAG import time:\n* http://apache-airflow-docs.s3-website.eu-central-1.amazonaws.com/docs/apache-airflow/stable/best-practices.html#top-level-python-code\n* http://apache-airflow-docs.s3-website.eu-central-1.amazonaws.com/docs/apache-airflow/stable/best-practices.html#reducing-dag-complexity, PID: 75\n'}
assert 1 == 0
 +  where 1 = len({'/opt/airflow/providers/google/tests/system/google/cloud/ml_engine/example_mlengine.py': 'Traceback (most recent call...-website.eu-central-1.amazonaws.com/docs/apache-airflow/stable/best-practices.html#reducing-dag-complexity, PID: 75\n'})
 +    where {'/opt/airflow/providers/google/tests/system/google/cloud/ml_engine/example_mlengine.py': 'Traceback (most recent call...-website.eu-central-1.amazonaws.com/docs/apache-airflow/stable/best-practices.html#reducing-dag-complexity, PID: 75\n'} = <airflow.models.dagbag.DagBag object at 0xffff48087910>.import_errors
FAILED tests/always/test_example_dags.py::test_should_be_importable[providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_forecasting_training.py] - AssertionError: import_errors={'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_forecasting_training.py': 'Traceback (most recent call last):\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/client.py"", line 35, in <module>\n    from google.cloud.aiplatform_v1 import gapic_version as package_version\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/__init__.py"", line 57, in <module>\n    from .services.index_service import IndexServiceClient\nImportError: cannot import name \'IndexServiceClient\' from partially initialized module \'google.cloud.aiplatform_v1.services.index_service\' (most likely due to a circular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\n'}
assert 1 == 0
 +  where 1 = len({'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_forecasting_training.py'...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\n'})
 +    where {'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_forecasting_training.py'...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\n'} = <airflow.models.dagbag.DagBag object at 0xffff43775190>.import_errors
FAILED tests/always/test_example_dags.py::test_should_be_importable[providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_image_object_detection.py] - AssertionError: import_errors={'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_image_object_detection.py': 'Traceback (most recent call last):\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/client.py"", line 35, in <module>\n    from google.cloud.aiplatform_v1 import gapic_version as package_version\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/__init__.py"", line 57, in <module>\n    from .services.index_service import IndexServiceClient\nImportError: cannot import name \'IndexServiceClient\' from partially initialized module \'google.cloud.aiplatform_v1.services.index_service\' (most likely due to a circular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\n'}
assert 1 == 0
 +  where 1 = len({'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_image_object_detection.p...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\n'})
 +    where {'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_image_object_detection.p...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\n'} = <airflow.models.dagbag.DagBag object at 0xffff434f20a0>.import_errors
FAILED tests/always/test_example_dags.py::test_should_be_importable[providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_image_training.py] - AssertionError: import_errors={'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_image_training.py': 'Traceback (most recent call last):\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/client.py"", line 35, in <module>\n    from google.cloud.aiplatform_v1 import gapic_version as package_version\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/__init__.py"", line 57, in <module>\n    from .services.index_service import IndexServiceClient\nImportError: cannot import name \'IndexServiceClient\' from partially initialized module \'google.cloud.aiplatform_v1.services.index_service\' (most likely due to a circular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\n'}
assert 1 == 0
 +  where 1 = len({'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_image_training.py': 'Tra...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\n'})
 +    where {'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_image_training.py': 'Tra...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\n'} = <airflow.models.dagbag.DagBag object at 0xffff43838430>.import_errors
FAILED tests/always/test_example_dags.py::test_should_be_importable[providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_list_training.py] - AssertionError: import_errors={'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_list_training.py': 'Traceback (most recent call last):\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/client.py"", line 35, in <module>\n    from google.cloud.aiplatform_v1 import gapic_version as package_version\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/__init__.py"", line 57, in <module>\n    from .services.index_service import IndexServiceClient\nImportError: cannot import name \'IndexServiceClient\' from partially initialized module \'google.cloud.aiplatform_v1.services.index_service\' (most likely due to a circular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\n'}
assert 1 == 0
 +  where 1 = len({'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_list_training.py': 'Trac...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\n'})
 +    where {'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_list_training.py': 'Trac...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\n'} = <airflow.models.dagbag.DagBag object at 0xffff4341ac40>.import_errors
FAILED tests/always/test_example_dags.py::test_should_be_importable[providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_tabular_training.py] - AssertionError: import_errors={'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_tabular_training.py': 'Traceback (most recent call last):\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/client.py"", line 35, in <module>\n    from google.cloud.aiplatform_v1 import gapic_version as package_version\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/__init__.py"", line 57, in <module>\n    from .services.index_service import IndexServiceClient\nImportError: cannot import name \'IndexServiceClient\' from partially initialized module \'google.cloud.aiplatform_v1.services.index_service\' (most likely due to a circular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\n'}
assert 1 == 0
 +  where 1 = len({'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_tabular_training.py': 'T...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\n'})
 +    where {'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_tabular_training.py': 'T...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\n'} = <airflow.models.dagbag.DagBag object at 0xffff434cab50>.import_errors
FAILED tests/always/test_example_dags.py::test_should_be_importable[providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_video_tracking.py] - AssertionError: import_errors={'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_video_tracking.py': 'Traceback (most recent call last):\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/client.py"", line 35, in <module>\n    from google.cloud.aiplatform_v1 import gapic_version as package_version\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/__init__.py"", line 57, in <module>\n    from .services.index_service import IndexServiceClient\nImportError: cannot import name \'IndexServiceClient\' from partially initialized module \'google.cloud.aiplatform_v1.services.index_service\' (most likely due to a circular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\n'}
assert 1 == 0
 +  where 1 = len({'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_video_tracking.py': 'Tra...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\n'})
 +    where {'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_video_tracking.py': 'Tra...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\n'} = <airflow.models.dagbag.DagBag object at 0xffff4383ec40>.import_errors
FAILED tests/always/test_example_dags.py::test_should_be_importable[providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_video_training.py] - AssertionError: import_errors={'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_video_training.py': 'Traceback (most recent call last):\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/client.py"", line 35, in <module>\n    from google.cloud.aiplatform_v1 import gapic_version as package_version\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/__init__.py"", line 57, in <module>\n    from .services.index_service import IndexServiceClient\nImportError: cannot import name \'IndexServiceClient\' from partially initialized module \'google.cloud.aiplatform_v1.services.index_service\' (most likely due to a circular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\n'}
assert 1 == 0
 +  where 1 = len({'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_video_training.py': 'Tra...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\n'})
 +    where {'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_auto_ml_video_training.py': 'Tra...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\n'} = <airflow.models.dagbag.DagBag object at 0xffff43755f40>.import_errors
FAILED tests/always/test_example_dags.py::test_should_be_importable[providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_batch_prediction_job.py] - AssertionError: import_errors={'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_batch_prediction_job.py': 'Traceback (most recent call last):\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/client.py"", line 35, in <module>\n    from google.cloud.aiplatform_v1 import gapic_version as package_version\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/__init__.py"", line 57, in <module>\n    from .services.index_service import IndexServiceClient\nImportError: cannot import name \'IndexServiceClient\' from partially initialized module \'google.cloud.aiplatform_v1.services.index_service\' (most likely due to a circular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\n'}
assert 1 == 0
 +  where 1 = len({'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_batch_prediction_job.py': 'Trace...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\n'})
 +    where {'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_batch_prediction_job.py': 'Trace...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\n'} = <airflow.models.dagbag.DagBag object at 0xffff43880880>.import_errors
FAILED tests/always/test_example_dags.py::test_should_be_importable[providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_custom_container.py] - AssertionError: import_errors={'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_custom_container.py': 'Traceback (most recent call last):\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/client.py"", line 35, in <module>\n    from google.cloud.aiplatform_v1 import gapic_version as package_version\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/__init__.py"", line 57, in <module>\n    from .services.index_service import IndexServiceClient\nImportError: cannot import name \'IndexServiceClient\' from partially initialized module \'google.cloud.aiplatform_v1.services.index_service\' (most likely due to a circular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\n'}
assert 1 == 0
 +  where 1 = len({'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_custom_container.py': 'Traceback...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\n'})
 +    where {'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_custom_container.py': 'Traceback...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\n'} = <airflow.models.dagbag.DagBag object at 0xffff4389ae20>.import_errors
FAILED tests/always/test_example_dags.py::test_should_be_importable[providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_custom_job.py] - AssertionError: import_errors={'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_custom_job.py': 'Traceback (most recent call last):\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/client.py"", line 35, in <module>\n    from google.cloud.aiplatform_v1 import gapic_version as package_version\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/__init__.py"", line 57, in <module>\n    from .services.index_service import IndexServiceClient\nImportError: cannot import name \'IndexServiceClient\' from partially initialized module \'google.cloud.aiplatform_v1.services.index_service\' (most likely due to a circular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\n'}
assert 1 == 0
 +  where 1 = len({'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_custom_job.py': 'Traceback (most...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\n'})
 +    where {'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_custom_job.py': 'Traceback (most...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\n'} = <airflow.models.dagbag.DagBag object at 0xffff43549b20>.import_errors
FAILED tests/always/test_example_dags.py::test_should_be_importable[providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_custom_job_python_package.py] - AssertionError: import_errors={'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_custom_job_python_package.py': 'Traceback (most recent call last):\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/client.py"", line 35, in <module>\n    from google.cloud.aiplatform_v1 import gapic_version as package_version\n  File ""/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/__init__.py"", line 57, in <module>\n    from .services.index_service import IndexServiceClient\nImportError: cannot import name \'IndexServiceClient\' from partially initialized module \'google.cloud.aiplatform_v1.services.index_service\' (most likely due to a circular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\n'}
assert 1 == 0
 +  where 1 = len({'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_custom_job_python_package.py': '...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\n'})
 +    where {'/opt/airflow/providers/google/tests/system/google/cloud/vertex_ai/example_vertex_ai_custom_job_python_package.py': '...ular import) (/usr/local/lib/python3.9/site-packages/google/cloud/aiplatform_v1/services/index_service/__init__.py)\n'} = <airflow.models.dagbag.DagBag object at 0xffff43955cd0>.import_errors
= 12 failed, 1549 passed, 1 skipped, 1 xfailed, 1 warning in 1577.55s (0:26:17) =
No stopped containers

There were errors when running some tasks. Quitting.
```

potiuk on (2025-02-06 17:10:25 UTC): pushed likely fix

kunaljubce (Issue Creator) on (2025-02-06 17:14:45 UTC): Thanks @potiuk. For my understanding, can you please explain a little about the botocore issue?

potiuk on (2025-02-06 18:21:09 UTC): Yeah. The thing is that with botocore tests we are upgrading to latest (i.e. newest) possible botocore - basically by removing aiobotocore that holds it back. The `aiobotocore` is non-aws, 3rd-party async botocore extension and the problem with it is that it lags behind the main botocore - which is released almost daily

See: https://pypi.org/project/botocore/#history
vs. https://pypi.org/project/aiobotocore/#history

botocore - released today, aiobotocore released 22 Jan and it has `Requires-Dist: botocore<1.36.4,>=1.36.0` -> 1.36.0 of botocore was released on 15th of Jan.

So those tests are removing aiobotocore and try to run all the tests with latest botocore. And yandex also uses a aiobotocore I think.

I see my fix did not work, so I have to fix it differently

potiuk on (2025-02-06 18:56:59 UTC): Ok. I pushed simplified version. I think in this case we do not have to run `pip check` - because this is what caused the failures. When we simply upgrade botocore to latest version it will cause conflicting dependencies with other package(s) - - but this should be no big issue , as long as all the tests pass.

potiuk on (2025-02-06 18:57:14 UTC): :crossed_fingers:

potiuk on (2025-02-06 19:55:12 UTC): AAAAAH... Merged tooo fast... good eye Jens.

potiuk on (2025-02-06 20:00:27 UTC): Ah no --... yandex docs were copied previously (accidentally) as part of another provider (TERADATA) :) . All good :)

jscheffl on (2025-02-06 20:56:30 UTC): Did not know but good you confirmed.... and no Aaaah :-D

"
2835789297,pull_request,closed,,Fix task sdk client dry-run mode,"The `run_after` field was missing in the fake dag run response, resulting in the following error upon calling the `supervise` function:
```
ValidationError: 1 validation error for TIRunContext
dag_run.run_after
  Field required [type=missing, input_value={'dag_id': 'test_dag', 'r...', 'run_type': 'manual'}, 
input_type=dict]
    For further information visit https://errors.pydantic.dev/2.10/v/missing
```

related to: https://github.com/apache/airflow/pull/45732, https://github.com/apache/airflow/pull/46492

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",feluelle,2025-02-06 15:05:14+00:00,[],2025-02-06 16:39:09+00:00,2025-02-06 16:39:09+00:00,https://github.com/apache/airflow/pull/46524,"[('area:task-sdk', None)]",[],
2835618643,pull_request,closed,,Remove `ds`/`ts` etc from Template/run context when no logical date is defined,"This is part of the AIP-83 ammendments.


Closes #46521 

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",ashb,2025-02-06 13:59:52+00:00,[],2025-02-06 16:40:31+00:00,2025-02-06 16:38:50+00:00,https://github.com/apache/airflow/pull/46522,"[('AIP-83', 'Remove Execution Date Unique Constraint from DAG Run'), ('area:task-sdk', None)]","[{'comment_id': 2639910624, 'issue_id': 2835618643, 'author': 'ashb', 'body': ""This also fixes #46521 in the way going forward. If this doesn't pass tests lets go for that version though, and we'll need something like this once #46512 is merged."", 'created_at': datetime.datetime(2025, 2, 6, 14, 0, 27, tzinfo=datetime.timezone.utc)}]","ashb (Issue Creator) on (2025-02-06 14:00:27 UTC): This also fixes #46521 in the way going forward. If this doesn't pass tests lets go for that version though, and we'll need something like this once #46512 is merged.

"
2835507664,pull_request,closed,,Fix missing logical_date in DagRun for DMS operator tests,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->
This pull request resolves a Pydantic validation error in the `DmsDescribeReplicationConfigsOperator` tests caused by a missing `logical_date` field in the DagRun instance. The test was updated to set `logical_date` using `execution_date`, ensuring successful validation and correct construction of the template context.

Previously it was throwing following error:
```
providers/tests/amazon/aws/operators/test_dms.py:503: in test_template_fields_native
    context = ti.get_template_context(session)
airflow/models/taskinstance.py:3242: in get_template_context
    return _get_template_context(
airflow/models/taskinstance.py:960: in _get_template_context
    dag_run=DagRunSDK.model_validate(dag_run, from_attributes=True),
E   pydantic_core._pydantic_core.ValidationError: 1 validation error for DagRun
E   logical_date
E     Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
E       For further information visit https://errors.pydantic.dev/2.10/v/datetime_type
```
<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",sunank200,2025-02-06 13:15:52+00:00,[],2025-02-06 14:43:34+00:00,2025-02-06 14:43:32+00:00,https://github.com/apache/airflow/pull/46521,"[('provider:amazon', 'AWS/Amazon - related issues'), ('area:providers', ''), ('full tests needed', 'We need to run full set of tests for this PR to merge')]",[],
2835426012,pull_request,open,,Feature/enable comment on maintenance mode,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
The edge worker can be put to maintenance mode. We need to make transparent to all operators why the worker was disabled. Therefore there is a new comment field introduced for the worker. It is mandatory to be filled before entering maintenance mode, and will be cleared upon exiting.

---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",majorosdonat,2025-02-06 12:40:32+00:00,[],2025-02-08 15:23:47+00:00,,https://github.com/apache/airflow/pull/46519,"[('provider:edge', 'Edge Executor / Worker (AIP-69)')]",[],
2835136155,pull_request,open,,Change manual run data interval behavior based on logical_date ,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->
This PR does the following:
- This PR changes the default logical date to null when a manual trigger from UI. This is part of the AIP-83 amendment. 
 reference: [https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=337676722#Option2clarificationdocWIP-Resolutionofquestions](https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=337676722#Option2clarificationdocWIP-Resolutionofquestions)
- For manual runs, schedule-driven dag, if the logical date is null, there should be no data interval; if the logical date is not null, the data interval should be as normal.

closes: #46455 
closes: #46197
<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",sunank200,2025-02-06 10:30:07+00:00,[],2025-02-07 19:23:03+00:00,,https://github.com/apache/airflow/pull/46512,"[('area:webserver', 'Webserver related Issues'), ('AIP-83', 'Remove Execution Date Unique Constraint from DAG Run'), ('legacy api', 'Whether legacy API changes should be allowed in PR')]","[{'comment_id': 2639915027, 'issue_id': 2835136155, 'author': 'ashb', 'body': ""We should probably not change the old UI anymore (we're very close to removing it), but we should change the New FastAPI routes instead"", 'created_at': datetime.datetime(2025, 2, 6, 14, 2, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642157092, 'issue_id': 2835136155, 'author': 'uranusjr', 'body': 'By â€œsoonâ€ itâ€™s after 3.0 right? I feel we should still keep the old view work the same as the new to not confuse users too much.', 'created_at': datetime.datetime(2025, 2, 7, 7, 44, 28, tzinfo=datetime.timezone.utc)}]","ashb on (2025-02-06 14:02:09 UTC): We should probably not change the old UI anymore (we're very close to removing it), but we should change the New FastAPI routes instead

uranusjr on (2025-02-07 07:44:28 UTC): By â€œsoonâ€ itâ€™s after 3.0 right? I feel we should still keep the old view work the same as the new to not confuse users too much.

"
2835127508,pull_request,closed,,Integrate the SimpleAuthManager UI in dev mode,"Integrate the dev mode of the SImpleAuthManager UI into breeze. (Before the UI would be just blank)


Before:
![Screenshot 2025-02-06 at 11 26 03](https://github.com/user-attachments/assets/dbbd2c00-7bab-462f-b7a6-b53bddb4521c)
![Screenshot 2025-02-06 at 11 26 19](https://github.com/user-attachments/assets/2947f286-bc04-4ebf-85d5-cb8189723249)


Now:
![Screenshot 2025-02-06 at 11 25 25](https://github.com/user-attachments/assets/56bc4251-4665-432f-bac8-1b54752dccb7)
",pierrejeambrun,2025-02-06 10:26:27+00:00,['pierrejeambrun'],2025-02-06 15:04:43+00:00,2025-02-06 13:59:35+00:00,https://github.com/apache/airflow/pull/46511,"[('area:dev-tools', ''), ('AIP-38', 'Modern Web Application')]","[{'comment_id': 2639498174, 'issue_id': 2835127508, 'author': 'potiuk', 'body': 'COOOOL', 'created_at': datetime.datetime(2025, 2, 6, 11, 0, 30, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-02-06 11:00:30 UTC): COOOOL

"
2835109708,pull_request,closed,,OTEL metric export: Switch ObservableGauge to sync Gauge metric export,"# Overview
Hi Airflow community,

IÂ´m currently trying to get Airflow metrics exported via OTEL -> Prometheus into Grafana Dashboards. I wanted to use the label advantage of OTEL to create nice Dashboards. 

During the implementation I found an issue and will use metric airflow_dag_processing_last_duration to explain the details:

This metric is exported in 2 different ways in the Airflow code, to support statsd way and otel way with labels.
Stats.timing(f""dag_processing.last_duration.{file_name}"", stat.last_duration)
Stats.timing(""dag_processing.last_duration"", stat.last_duration, tags={""file_name"": file_name})

The following prometheus example contains metric export for 2 dags (dag1, dag2). But the metric with the label (Otel) does only export the metric for 1 dag. Metric export with file_name in the metric name is exported for 2 dags.

| # HELP airflow_dag_processing_last_duration
| # TYPE airflow_dag_processing_last_duration gauge
| airflow_dag_processing_last_duration{file_name=""dag1"",job=""Airflow""} 0.293856

| # HELP airflow_dag_processing_last_duration_dag1
| # TYPE airflow_dag_processing_last_duration_dag1  gauge
| airflow_dag_processing_last_duration_dag1 {job=""Airflow""} 0.293856
| # HELP airflow_dag_processing_last_duration_blabla2
| # TYPE airflow_dag_processing_last_duration_blabla2 gauge
| airflow_dag_processing_last_duration_dag2{job=""Airflow""} 0.343803

would expect that the metric is also exported like this:
| airflow_dag_processing_last_duration{file_name=""dag2"",job=""Airflow""} 0.343803


So I debugged some time and found out that this issue is only related to the gauge export. If the metric is a counter the label export works fine.

The issue is that the gauge value is created as an ObserveableGauge and with that OTEL uses a callback to collect the metric. For this OTEL python lib creates intruments to handle the metric. The down side of this is that if a second Observable instrument with the same metric name is created, OTEL will only create one instrument because it checks for the metric name. 
This results in the issue that only the callback for the first registered metric will be executed and all other metrics with different label but same name will be ignored.
My idea is now to switch to an syncronos gauge export of the metric like it is used for the counter export. 

IÂ´m not sure why the ObserveableGauge was used but I did not found a solution to fix the issue without switching to sync gauge export.
Also not sure about any down side of using sync gauge, like maybe runtime, but for the counter metric export sync was also used. Anyone has more know how in that area and give feedback for this?

# Details of changes:
* Use of normal sync Gauge instead of ObservedGauge.
* Moved logic to handle gauge into InternalGauge class.

Looking forward to fix this issue and the feedback from your side!",AutomationDev85,2025-02-06 10:19:06+00:00,[],2025-02-07 19:55:04+00:00,2025-02-07 14:11:02+00:00,https://github.com/apache/airflow/pull/46510,[],"[{'comment_id': 2642389107, 'issue_id': 2835109708, 'author': 'AutomationDev85', 'body': '@ferruzzi  Thanks for the feedback. I tested it:\r\n![image](https://github.com/user-attachments/assets/c462d18a-331b-4a15-b8c6-7bc592104bc3)\r\n\r\nHere you see that after  switching to my changes the metric includes all DAGs and not only for one.\r\nI will also try to check the counter issue because I ran into some strange behavior. \r\n\r\nDo you have a link to the issue thread were the issues are described which are mentioned by you?', 'created_at': datetime.datetime(2025, 2, 7, 9, 21, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643971955, 'issue_id': 2835109708, 'author': 'ferruzzi', 'body': '> Do you have a link to the issue thread were the issues are described which are mentioned by you?\r\n\r\nYou found the one that I was thinking about, bu if you [search open Issues for ""otel""](https://github.com/apache/airflow/issues?q=is%3Aissue%20state%3Aopen%20otel) there are around 20 or so, if you are interested in helping.    `sla_miss` is removed in 3.0 so that one might not be worth fixing now, and the one about duplicate config options needs to be discussed, but there are some that might be interesting if you are inclined.', 'created_at': datetime.datetime(2025, 2, 7, 19, 55, 2, tzinfo=datetime.timezone.utc)}]","AutomationDev85 (Issue Creator) on (2025-02-07 09:21:53 UTC): @ferruzzi  Thanks for the feedback. I tested it:
![image](https://github.com/user-attachments/assets/c462d18a-331b-4a15-b8c6-7bc592104bc3)

Here you see that after  switching to my changes the metric includes all DAGs and not only for one.
I will also try to check the counter issue because I ran into some strange behavior. 

Do you have a link to the issue thread were the issues are described which are mentioned by you?

ferruzzi on (2025-02-07 19:55:02 UTC): You found the one that I was thinking about, bu if you [search open Issues for ""otel""](https://github.com/apache/airflow/issues?q=is%3Aissue%20state%3Aopen%20otel) there are around 20 or so, if you are interested in helping.    `sla_miss` is removed in 3.0 so that one might not be worth fixing now, and the one about duplicate config options needs to be discussed, but there are some that might be interesting if you are inclined.

"
2835109296,pull_request,closed,,fix(task_sdk): add missing type column to TIRuntimeCheckPayload,"## Why

https://github.com/apache/airflow/blob/39d5c55a46250983b0e3ed0ca8b3647e3b273276/task_sdk/src/airflow/sdk/api/client.py#L182 passes `inlets`, `outlets` and `type` for https://github.com/apache/airflow/blob/39d5c55a46250983b0e3ed0ca8b3647e3b273276/airflow/api_fastapi/execution_api/datamodels/taskinstance.py#L255 to process and thus failed.

closes: https://github.com/apache/airflow/issues/46508#event-16207568544


## What
Add missing column ""type""

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",Lee-W,2025-02-06 10:18:55+00:00,[],2025-02-07 02:11:27+00:00,2025-02-07 02:11:25+00:00,https://github.com/apache/airflow/pull/46509,[],[],
2834919979,pull_request,open,,feat(context): remove context key logicate_date for asset triggerable dags,"## Why

#46194

## What
* Add `triggered_by` to task_sdk DagRun
* Not adding `data_interval_start, data_interval_end, prev_data_interval_start_success, prev_data_interval_end_success, logical_date, ds, ds_nodash, ts, ts_nodash, ts_nodash_with_tz` keys to context if it's a triggered_by asset

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",Lee-W,2025-02-06 08:53:22+00:00,[],2025-02-08 06:59:15+00:00,,https://github.com/apache/airflow/pull/46507,"[('area:task-sdk', None)]","[{'comment_id': 2639268429, 'issue_id': 2834919979, 'author': 'uranusjr', 'body': 'Itâ€™s not mentioned in the linked issue, but in other issues thereâ€™s a rule saying if logical date is not available, data interval should not be either. Itâ€™s probably not a bad idea to do them both in one PR.', 'created_at': datetime.datetime(2025, 2, 6, 9, 30, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642465170, 'issue_id': 2834919979, 'author': 'Lee-W', 'body': ""> Itâ€™s not mentioned in the linked issue, but in other issues thereâ€™s a rule saying if logical date is not available, data interval should not be either. Itâ€™s probably not a bad idea to do them both in one PR.\r\n\r\nRemoved the following keys `data_interval_start`, `data_interval_end`, `prev_data_interval_start_success`, `prev_data_interval_end_success`, `logical_date`, `ds`, `ds_nodash`, `ts`, `ts_nodash`, `ts_nodash_with_tz`. Is there anything missed or shouldn't be removed?"", 'created_at': datetime.datetime(2025, 2, 7, 9, 56, 44, tzinfo=datetime.timezone.utc)}]","uranusjr on (2025-02-06 09:30:07 UTC): Itâ€™s not mentioned in the linked issue, but in other issues thereâ€™s a rule saying if logical date is not available, data interval should not be either. Itâ€™s probably not a bad idea to do them both in one PR.

Lee-W (Issue Creator) on (2025-02-07 09:56:44 UTC): Removed the following keys `data_interval_start`, `data_interval_end`, `prev_data_interval_start_success`, `prev_data_interval_end_success`, `logical_date`, `ds`, `ds_nodash`, `ts`, `ts_nodash`, `ts_nodash_with_tz`. Is there anything missed or shouldn't be removed?

"
2834872160,pull_request,open,,Fix hashicorp provider vault gcp auth,"closes issue: https://github.com/apache/airflow/issues/17500
continuation of closed PR: https://github.com/apache/airflow/pull/35855
@boring-cyborg assign: @fpopic, (@messam88 https://github.com/apache/airflow/pull/35855#issuecomment-2575764545 - thank you!)",fpopic,2025-02-06 08:29:36+00:00,[],2025-02-06 14:19:57+00:00,,https://github.com/apache/airflow/pull/46505,"[('provider:hashicorp', 'Hashicorp provider related issues')]","[{'comment_id': 2639741714, 'issue_id': 2834872160, 'author': 'potiuk', 'body': 'A number of tests/checks to fix though :)', 'created_at': datetime.datetime(2025, 2, 6, 12, 50, 12, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-02-06 12:50:12 UTC): A number of tests/checks to fix though :)

"
2834835401,pull_request,open,,Add recent runs duration chart.,"This uses the API to get recent 14 dag runs to plot the chart along with average of the run and queued duration as annotations. The size is 1/3 since there will be 2 more for success/failed rate and grouped durations as per design. This is for initial implementation and might not completely cover all use cases like Airflow 2 but can be taken up in subsequent PRs or separate issues for them as below. If approved a similar overview page can be created for task page as well in another PR for task duration.

Notes to self and review 

1. It seems `stateColor.ts` was removed. What is the recommended way to show color based on state for a given theme?
2. Legend is not implemented now where in Airflow 2 it can be selected to show only those values.
3. Duration is now in seconds and conversion to other units is yet to be implemented.
4. x axis value is set to 3 since high number causes values to render vertically amidst smaller space.
5. landing times based toggle is not implemented yet.
6. Clicking on dagrun to take to the run page is not implemented yet.
7. Autorefresh is not yet implemented.
8. It seems even with limit of 14 passed more dagruns are returned. Changing it manually reflects correct value. Need to see if there is some cache issue.

![image](https://github.com/user-attachments/assets/762a97ba-e168-4adb-9159-a164ca99876e)

![image](https://github.com/user-attachments/assets/08ee9784-a120-4954-812c-5616c2b38102)
",tirkarthi,2025-02-06 08:10:16+00:00,[],2025-02-07 19:59:05+00:00,,https://github.com/apache/airflow/pull/46504,"[('area:UI', 'Related to UI/UX. For Frontend Developers.'), ('AIP-38', 'Modern Web Application')]","[{'comment_id': 2643827586, 'issue_id': 2834835401, 'author': 'tirkarthi', 'body': 'Thanks @bbovenzi , I suppose a very similar overview page will be present for each task too with recent failed task instances, task duration chart etc, as per the design.\r\n\r\nhttp://localhost:8000/webapp/dags/tutorial_taskflow_api/tasks/load', 'created_at': datetime.datetime(2025, 2, 7, 19, 21, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643910473, 'issue_id': 2834835401, 'author': 'bbovenzi', 'body': '> Thanks @bbovenzi , I suppose a very similar overview page will be present for each task too with recent failed task instances, task duration chart etc, as per the design.\r\n> \r\n> http://localhost:8000/webapp/dags/tutorial_taskflow_api/tasks/load\r\n\r\nYes, eventually we want to do a lot more with these dashboard views on the homepage and on a Dag or Task.\r\n\r\nWhat were you trying to link here?', 'created_at': datetime.datetime(2025, 2, 7, 19, 40, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644001638, 'issue_id': 2834835401, 'author': 'tirkarthi', 'body': 'The link was to a sample task details page which now only has task instances and events tab. My understanding from the designs is that there will be a overview page for a task similar to dag page. The task duration chart was useful with median plot and it will be good to have it somewhere in Airflow 3 too.', 'created_at': datetime.datetime(2025, 2, 7, 19, 59, 3, tzinfo=datetime.timezone.utc)}]","tirkarthi (Issue Creator) on (2025-02-07 19:21:05 UTC): Thanks @bbovenzi , I suppose a very similar overview page will be present for each task too with recent failed task instances, task duration chart etc, as per the design.

http://localhost:8000/webapp/dags/tutorial_taskflow_api/tasks/load

bbovenzi on (2025-02-07 19:40:19 UTC): Yes, eventually we want to do a lot more with these dashboard views on the homepage and on a Dag or Task.

What were you trying to link here?

tirkarthi (Issue Creator) on (2025-02-07 19:59:03 UTC): The link was to a sample task details page which now only has task instances and events tab. My understanding from the designs is that there will be a overview page for a task similar to dag page. The task duration chart was useful with median plot and it will be good to have it somewhere in Airflow 3 too.

"
2834650618,pull_request,open,,wip / experiment - Dag bundle ttl flock,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",dstandish,2025-02-06 06:18:26+00:00,[],2025-02-07 19:39:09+00:00,,https://github.com/apache/airflow/pull/46503,"[('area:serialization', ''), ('area:DAG-processing', ''), ('area:Executors-core', 'LocalExecutor & SequentialExecutor'), ('area:task-sdk', None)]",[],
2834621889,pull_request,closed,,Fix k8s flaky test - test_integration_run_dag_with_scheduler_failure,"
closes: #45145

- Replace `time.sleep(10)` with `kubectl rollout status --watch`.  
- Add a hint for the `deploy-airflow` command when using `KubernetesExecutor` after the `upload-k8s-image` command.  

While working on this issue, I encountered a problem where the `test-namespace` task was never successful. After several attempts, I realized that I needed to add the `--multi-namespace-mode --executor KubernetesExecutor` flags.  
Adding a hint for the `deploy-airflow` command could help others avoid the same trouble.



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",jason810496,2025-02-06 05:58:33+00:00,[],2025-02-06 08:06:13+00:00,2025-02-06 08:06:13+00:00,https://github.com/apache/airflow/pull/46502,"[('area:dev-tools', ''), ('provider:cncf-kubernetes', 'Kubernetes provider related issues')]",[],
2834582504,pull_request,closed,,Add `lock` to `BaseDagBundle` and use it in `GitDagBundle`,"`initialize` and `refresh` need to be safe to call from different threads/processes, so this adds a simple `lock` context manager that bundles can use if the underlying implementation doesn't allow for that.

For example, `GitDagBundle` is the first taker.

closes: #46444",jedcunningham,2025-02-06 05:28:05+00:00,[],2025-02-06 11:00:07+00:00,2025-02-06 11:00:05+00:00,https://github.com/apache/airflow/pull/46501,"[('full tests needed', 'We need to run full set of tests for this PR to merge'), ('area:DAG-processing', ''), ('AIP-66: DAG Bundle/Manifest', '')]",[],
2834267988,pull_request,open,,Migrate Amazon provider package,"Provider tests pass but there are many issues (after fixing a handful of failures related to paths being used in tests which needed updating):

### 1) mypy failures:
Example: 
```traceback
providers/amazon/src/airflow/providers/amazon/aws/operators/bedrock.py:358: error:
Value of type ""Optional[dict[str, Any]]"" is not indexable  [index]
            if event[""status""] != ""success"":
```

We have a helper `validate_execute_complete_event(event)` to check if the event is None, for this exact reason. Which was working perfectly fine before the migration but is now failing type checking locally for me on all operators.


### 2) docs

There are many _api docs which either seem out of date or have spelling errors that seem to already be fixed. I do not know how to generate these docs. I tried a docs build but that fails because all paths to system test examples are now incorrect. I'm not sure if this is something unique to amazon, or if the migration script failed (there were some issues related to the `aws` directory within the `amazon` provider).

### 3) there are many bits of code that have not been static checked for issues of spelling and words like ""master"". I've fixed most but some are in places that are difficult to change.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",o-nikolas,2025-02-06 01:07:29+00:00,[],2025-02-09 05:21:28+00:00,,https://github.com/apache/airflow/pull/46498,"[('area:dev-tools', ''), ('kind:documentation', '')]","[{'comment_id': 2639057193, 'issue_id': 2834267988, 'author': 'potiuk', 'body': 'Yeah. Some problems are expected - especially for such huge providers as amazon. This is one of the reasons we did no move all providers at once, because rather than havin 10 people solving those things individually, we would have to have 1 person solving all 100 providers issues at once, we are basically crowd-sourcing problem solving.\r\n\r\nBut I see my role here as help to guide people (and I did that in other providers) how to solve those difficult issues. That\'s a good learning for everyone as well. Worked so far very well. and I am happy to guide you as well.\r\n\r\n> 1) mypy failures:\r\n\r\nYes. It\'s known that `mypy` is not fully deterministic and might or migh not find different errors when files are moved. Happened many times for others who moved other providers. \r\n\r\nSeems that pretty much all the problems you see are the same -> the optional part of event is not automatically detected by MyPy now. Why exactly it has not detected it before - I think it\'s a good question for MyPy creators (basically at this stage we are waiting until `astral` will come up with their own type hint consistency checker, because MyPy is plagued by all kinds of those problems and we hit it many times\r\n\r\nBut it seems in this case (or at least when I googled it) setting `allow_redefinition` should solve the problem https://mypy.readthedocs.io/en/stable/config_file.html#confval-allow_redefinition  -> this is one of the features of `mypy` that you can enable ot allow redefining type of variable. It might - of course - cause a ripple effect and MyPy complaining about something else, but it\'s worth trying if you do not want to `fix` the way things are implemented now. Because I personally think that redefining type of the variable like that is a bit fishy (that\'s why also it\'s not enabled by default by MyPY) - I would rather create another variable (`coerced_event` would be a good name) and use this one instead of `event` - but If you do not want to refactor it in all those places (should be relatively easy with IntelliJ or VSCode refactoring - just rename the variable with refactor and bring `event` back in the method signature  and `validate_execute_complete_event` method call without refactoring. Yep. A bit ""dull"" change, and will take about 10-15 minutes of time to change it in all those places, but possibly it\'s worth it. \r\n\r\n> 2) docs\r\n> There are many _api docs which either seem out of date or have spelling errors that seem to already be fixed. I do not know how to generate these docs. I tried a docs build but that fails because all paths to system test examples are now incorrect. I\'m not sure if this is something unique to amazon, or if the migration script failed (there were some issues related to the aws directory within the amazon provider).\r\n\r\nUnfortunately when `autoapi` generates API docs and fails, no API docs are generated and then you can have many unrelated errors about missing docs.  Not much we can do about it. \r\n\r\nThis is how sphinx/autoapi works. The errors are likely coming from just a few failing docstring generation by autoapi - likely those last errors are the root cause - those classes are referred to in some docstrings you just need to fin them: `tests.system.providers.amazon.aws.example_appflow_run.create_s3_to_s3_flow`. The migration script does not handle **all** cases. It handled ""most common cases"" - 95% of those - simply those that could be easily automated, common for all operators and are not risky - does not require human to diagnose and fix those. The rest of fixes for providers have to be done manually. That\'s one of the tasks when migrating provider to identify and fix those remaing 5%. \r\n\r\nIf we could 100% migrate all providers, I would not ask others for help, I would just run the scripts myself. Unfortunately, with inter-relations between providers, doc generation and others, automating absolutely all cases would take likely far more effort of one person to track, identify and fix and especially automate those. The premise was that individuals looking at those will do it much faster (and in parallel or at different times) - also that their involvement in helping to move will make it more of a ""community"" effort. Which pretty much worked so far. \r\n\r\n> 2) there are many bits of code that have not been static checked for issues of spelling and words\r\n\r\nYep. We are well aware that things are not always fixable for those. There are exclusions in .pre-commit-config.yaml for thsoe. Likely those need to be moved. Like the exclusions should be updated - for example here: https://github.com/apache/airflow/blob/main/.pre-commit-config.yaml#L661 rather than the words removed \r\n\r\n> Other problems:\r\n\r\n* Breeze unit tests -> There are also some unit tests to fix in Breeze -> but those are mainly about changed path \r\n\r\n* Check if RST files use double backticks for code............................Failed -> looks like some of the ``api`` generated docs contain single backticks - which for some reason was excluded so far, but now we seem to see it. Those are easy to fix and I think it\'s good we started to detect those. \r\n* nohup.out is accidentally merged.\r\n* some system tests are failing - likely there are some imports that have not been covered by the migration script - but should be as easy as search/replace for those. \r\n\r\nI hope we can get it green quickly :)', 'created_at': datetime.datetime(2025, 2, 6, 7, 43, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640809223, 'issue_id': 2834267988, 'author': 'potiuk', 'body': 'I think you need to rebase and resolve conflicts @o-nikolas - in order to trigger tests. \r\n\r\nBTW. The mypy `satisfying` (I prefer that name ;) change looks good.', 'created_at': datetime.datetime(2025, 2, 6, 19, 31, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640842126, 'issue_id': 2834267988, 'author': 'o-nikolas', 'body': ""> I think you need to rebase and resolve conflicts @o-nikolas - in order to trigger tests.\r\n\r\nAgreed, I'm already working on the rebase but it's a bit of a nasty one! Lots of stuff touches the amazone provider package :cry: \r\n\r\nI have a busy day today as well, so I'm only making bits of progress here and there as I have time"", 'created_at': datetime.datetime(2025, 2, 6, 19, 47, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640877737, 'issue_id': 2834267988, 'author': 'potiuk', 'body': ""> I have a busy day today as well, so I'm only making bits of progress here and there as I have time\r\n\r\nYeah. Amazon is a beast :)"", 'created_at': datetime.datetime(2025, 2, 6, 20, 3, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641282928, 'issue_id': 2834267988, 'author': 'o-nikolas', 'body': ""Updates so far:\r\n- I have fixed the original mypy issues and also many more that have cropped up (I'm not quite sure what's causing more to show up)\r\n- I have done a rebase which need some handholding\r\n- I have fixed most of the breeze tests (**code not yet pushed**). I have two left. It is tricky because I don't quite know how to run them locally, so cannot use a debugger."", 'created_at': datetime.datetime(2025, 2, 6, 22, 38, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2645843564, 'issue_id': 2834267988, 'author': 'potiuk', 'body': 'That looks way better now :) -> only small/easy things seems to be remaining :)', 'created_at': datetime.datetime(2025, 2, 8, 16, 57, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2645844585, 'issue_id': 2834267988, 'author': 'potiuk', 'body': ""> I have fixed most of the breeze tests (code not yet pushed). I have two left. It is tricky because I don't quite know how to run them locally, so cannot use a debugger.\r\n\r\nSuper easy: breeze is just standard Python package with `pyproject.toml` etc. \r\n\r\n1) cd ./dev/breeze/\r\n2) Run `uv sync`\r\n3) Use the `.venv` generated there as your project's Python venv\r\n4) Mark `src` directory (if you are using intellij) as sources and `tests` as tests\r\n5) Run tests same way as other tests\r\n6) CLI is `uv run pytest tests` when you are in `dev/breeze`\r\n\r\n\r\nIt's absolutley 100% standard Python project - but just placed in `dev/breeze` folder"", 'created_at': datetime.datetime(2025, 2, 8, 17, 0, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2646074755, 'issue_id': 2834267988, 'author': 'o-nikolas', 'body': ""> > I have fixed most of the breeze tests (code not yet pushed). I have two left. It is tricky because I don't quite know how to run them locally, so cannot use a debugger.\n> \n> Super easy: breeze is just standard Python package with `pyproject.toml` etc. \n> \n> 1) cd ./dev/breeze/\n> 2) Run `uv sync`\n> 3) Use the `.venv` generated there as your project's Python venv\n> 4) Mark `src` directory (if you are using intellij) as sources and `tests` as tests\n> 5) Run tests same way as other tests\n> 6) CLI is `uv run pytest tests` when you are in `dev/breeze`\n> \n> \n> It's absolutley 100% standard Python project - but just placed in `dev/breeze` folder\n> \n\nThanks! I ended up figuring out a similar way of doing it after a little while, accelerated a lot of debugging!"", 'created_at': datetime.datetime(2025, 2, 9, 5, 18, 27, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-02-06 07:43:12 UTC): Yeah. Some problems are expected - especially for such huge providers as amazon. This is one of the reasons we did no move all providers at once, because rather than havin 10 people solving those things individually, we would have to have 1 person solving all 100 providers issues at once, we are basically crowd-sourcing problem solving.

But I see my role here as help to guide people (and I did that in other providers) how to solve those difficult issues. That's a good learning for everyone as well. Worked so far very well. and I am happy to guide you as well.


Yes. It's known that `mypy` is not fully deterministic and might or migh not find different errors when files are moved. Happened many times for others who moved other providers. 

Seems that pretty much all the problems you see are the same -> the optional part of event is not automatically detected by MyPy now. Why exactly it has not detected it before - I think it's a good question for MyPy creators (basically at this stage we are waiting until `astral` will come up with their own type hint consistency checker, because MyPy is plagued by all kinds of those problems and we hit it many times

But it seems in this case (or at least when I googled it) setting `allow_redefinition` should solve the problem https://mypy.readthedocs.io/en/stable/config_file.html#confval-allow_redefinition  -> this is one of the features of `mypy` that you can enable ot allow redefining type of variable. It might - of course - cause a ripple effect and MyPy complaining about something else, but it's worth trying if you do not want to `fix` the way things are implemented now. Because I personally think that redefining type of the variable like that is a bit fishy (that's why also it's not enabled by default by MyPY) - I would rather create another variable (`coerced_event` would be a good name) and use this one instead of `event` - but If you do not want to refactor it in all those places (should be relatively easy with IntelliJ or VSCode refactoring - just rename the variable with refactor and bring `event` back in the method signature  and `validate_execute_complete_event` method call without refactoring. Yep. A bit ""dull"" change, and will take about 10-15 minutes of time to change it in all those places, but possibly it's worth it. 


Unfortunately when `autoapi` generates API docs and fails, no API docs are generated and then you can have many unrelated errors about missing docs.  Not much we can do about it. 

This is how sphinx/autoapi works. The errors are likely coming from just a few failing docstring generation by autoapi - likely those last errors are the root cause - those classes are referred to in some docstrings you just need to fin them: `tests.system.providers.amazon.aws.example_appflow_run.create_s3_to_s3_flow`. The migration script does not handle **all** cases. It handled ""most common cases"" - 95% of those - simply those that could be easily automated, common for all operators and are not risky - does not require human to diagnose and fix those. The rest of fixes for providers have to be done manually. That's one of the tasks when migrating provider to identify and fix those remaing 5%. 

If we could 100% migrate all providers, I would not ask others for help, I would just run the scripts myself. Unfortunately, with inter-relations between providers, doc generation and others, automating absolutely all cases would take likely far more effort of one person to track, identify and fix and especially automate those. The premise was that individuals looking at those will do it much faster (and in parallel or at different times) - also that their involvement in helping to move will make it more of a ""community"" effort. Which pretty much worked so far. 


Yep. We are well aware that things are not always fixable for those. There are exclusions in .pre-commit-config.yaml for thsoe. Likely those need to be moved. Like the exclusions should be updated - for example here: https://github.com/apache/airflow/blob/main/.pre-commit-config.yaml#L661 rather than the words removed 


* Breeze unit tests -> There are also some unit tests to fix in Breeze -> but those are mainly about changed path 

* Check if RST files use double backticks for code............................Failed -> looks like some of the ``api`` generated docs contain single backticks - which for some reason was excluded so far, but now we seem to see it. Those are easy to fix and I think it's good we started to detect those. 
* nohup.out is accidentally merged.
* some system tests are failing - likely there are some imports that have not been covered by the migration script - but should be as easy as search/replace for those. 

I hope we can get it green quickly :)

potiuk on (2025-02-06 19:31:52 UTC): I think you need to rebase and resolve conflicts @o-nikolas - in order to trigger tests. 

BTW. The mypy `satisfying` (I prefer that name ;) change looks good.

o-nikolas (Issue Creator) on (2025-02-06 19:47:24 UTC): Agreed, I'm already working on the rebase but it's a bit of a nasty one! Lots of stuff touches the amazone provider package :cry: 

I have a busy day today as well, so I'm only making bits of progress here and there as I have time

potiuk on (2025-02-06 20:03:02 UTC): Yeah. Amazon is a beast :)

o-nikolas (Issue Creator) on (2025-02-06 22:38:48 UTC): Updates so far:
- I have fixed the original mypy issues and also many more that have cropped up (I'm not quite sure what's causing more to show up)
- I have done a rebase which need some handholding
- I have fixed most of the breeze tests (**code not yet pushed**). I have two left. It is tricky because I don't quite know how to run them locally, so cannot use a debugger.

potiuk on (2025-02-08 16:57:49 UTC): That looks way better now :) -> only small/easy things seems to be remaining :)

potiuk on (2025-02-08 17:00:24 UTC): Super easy: breeze is just standard Python package with `pyproject.toml` etc. 

1) cd ./dev/breeze/
2) Run `uv sync`
3) Use the `.venv` generated there as your project's Python venv
4) Mark `src` directory (if you are using intellij) as sources and `tests` as tests
5) Run tests same way as other tests
6) CLI is `uv run pytest tests` when you are in `dev/breeze`


It's absolutley 100% standard Python project - but just placed in `dev/breeze` folder

o-nikolas (Issue Creator) on (2025-02-09 05:18:27 UTC): Thanks! I ended up figuring out a similar way of doing it after a little while, accelerated a lot of debugging!

"
2834200218,pull_request,closed,,"Update `create_emr_on_eks_cluster` method to try when ""cluster is not reachable as its connection is currently being updated""","The AWS system test `example_emr_eks.py` started to fail because of the error below:

```
botocore.errorfactory.ValidationException: An error occurred (ValidationException) when calling the CreateVirtualCluster operation: Cluster XXX is not reachable as its connection is currently being updated
```

This error happens when trying to create the virtual cluster on EMR. The creation of this virtual cluster happens after creating the EKS cluster and waiting for its status to be active.  After some testing, the creation succeeds after waiting few seconds between the creation of the EKS cluster and the virtual cluster. It must be a race condition. Retrying is the only option here since there is no notion of cluster connection status in EKS.

I also revert the change I did in #46441 because it did not help (it just happened to succeed when I changed the version, but it was a fluke ...).

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vincbeck,2025-02-05 23:58:35+00:00,[],2025-02-06 14:59:44+00:00,2025-02-06 06:53:30+00:00,https://github.com/apache/airflow/pull/46497,"[('provider:amazon', 'AWS/Amazon - related issues'), ('area:providers', '')]",[],
2834139270,pull_request,closed,,Fix TaskSDK Tests,"related: #46492

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",bugraoz93,2025-02-05 23:07:49+00:00,[],2025-02-06 05:37:39+00:00,2025-02-06 05:37:39+00:00,https://github.com/apache/airflow/pull/46496,"[('area:task-sdk', None)]","[{'comment_id': 2638266989, 'issue_id': 2834139270, 'author': 'bugraoz93', 'body': 'Still, 3 tests are failing :( Also, some parts missed from my local mypy. Checking now', 'created_at': datetime.datetime(2025, 2, 5, 23, 30, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638319349, 'issue_id': 2834139270, 'author': 'bugraoz93', 'body': 'Fixed the mypy errors and one more test. Two to go if my sleep will allow me. Otherwise, I will ping the channel with latest state :)', 'created_at': datetime.datetime(2025, 2, 6, 0, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638780267, 'issue_id': 2834139270, 'author': 'amoghrajesh', 'body': '@bugraoz93 merged my PR after fixing the tests. Can you close this one?\n\nThanks for help!!', 'created_at': datetime.datetime(2025, 2, 6, 4, 10, 26, tzinfo=datetime.timezone.utc)}]","bugraoz93 (Issue Creator) on (2025-02-05 23:30:14 UTC): Still, 3 tests are failing :( Also, some parts missed from my local mypy. Checking now

bugraoz93 (Issue Creator) on (2025-02-06 00:14:00 UTC): Fixed the mypy errors and one more test. Two to go if my sleep will allow me. Otherwise, I will ping the channel with latest state :)

amoghrajesh on (2025-02-06 04:10:26 UTC): @bugraoz93 merged my PR after fixing the tests. Can you close this one?

Thanks for help!!

"
2834015773,pull_request,closed,,Add expected_return_code to WinRMOperator,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->

Add expected_return_code to WinRMOperator
closes: #46494

<!-- Please keep an empty line above the dashes. -->



",darkag,2025-02-05 21:40:49+00:00,[],2025-02-06 18:40:18+00:00,2025-02-06 18:39:23+00:00,https://github.com/apache/airflow/pull/46495,"[('area:providers', ''), ('provider:microsoft-winrm', '')]","[{'comment_id': 2638122778, 'issue_id': 2834015773, 'author': 'potiuk', 'body': 'You should add unit test to that change', 'created_at': datetime.datetime(2025, 2, 5, 22, 1, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640706272, 'issue_id': 2834015773, 'author': 'darkag', 'body': 'since provider has been moved. I will restart from a proper branch', 'created_at': datetime.datetime(2025, 2, 6, 18, 39, 23, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-02-05 22:01:26 UTC): You should add unit test to that change

darkag (Issue Creator) on (2025-02-06 18:39:23 UTC): since provider has been moved. I will restart from a proper branch

"
2833875023,pull_request,closed,,Bump vitest from 2.1.8 to 2.1.9 in /airflow/auth/managers/simple/ui,"Bumps [vitest](https://github.com/vitest-dev/vitest/tree/HEAD/packages/vitest) from 2.1.8 to 2.1.9.
<details>
<summary>Release notes</summary>
<p><em>Sourced from <a href=""https://github.com/vitest-dev/vitest/releases"">vitest's releases</a>.</em></p>
<blockquote>
<h2>v2.1.9</h2>
<p>This release includes security patches for:</p>
<ul>
<li><a href=""https://github.com/vitest-dev/vitest/security/advisories/GHSA-8gvc-j273-4wm5"">Browser mode serves arbitrary files | CVE-2025-24963</a></li>
<li><a href=""https://github.com/vitest-dev/vitest/security/advisories/GHSA-9crc-q9x8-hgqq"">Remote Code Execution when accessing a malicious website while Vitest API server is listening | CVE-2025-24964</a></li>
</ul>
<h3>Â Â Â ðŸž Bug Fixes</h3>
<ul>
<li>backport <a href=""https://redirect.github.com/vitest-dev/vitest/issues/7317"">vitest-dev/vitest#7317</a> to v2 - by <a href=""https://github.com/hi-ogawa""><code>@â€‹hi-ogawa</code></a> in <a href=""https://redirect.github.com/vitest-dev/vitest/pull/7318"">vitest-dev/vitest#7318</a></li>
<li>(backport <a href=""https://github.com/vitest-dev/vitest/tree/HEAD/packages/vitest/issues/7340"">#7340</a> to v2) restrict served files from <code>/__screenshot-error</code> - by <a href=""https://github.com/hi-ogawa""><code>@â€‹hi-ogawa</code></a> in <a href=""https://redirect.github.com/vitest-dev/vitest/pull/7343"">vitest-dev/vitest#7343</a></li>
</ul>
<h5>Â Â Â Â <a href=""https://github.com/vitest-dev/vitest/compare/v2.1.8...v2.1.9"">View changes on GitHub</a></h5>
</blockquote>
</details>
<details>
<summary>Commits</summary>
<ul>
<li><a href=""https://github.com/vitest-dev/vitest/commit/c9e59a089d94642eea29a43f2ee1986a5afb99c6""><code>c9e59a0</code></a> chore: release v2.1.9</li>
<li><a href=""https://github.com/vitest-dev/vitest/commit/e0fe1d81e2d4bcddb1c6ca3c5c3970d8ba697383""><code>e0fe1d8</code></a> fix: backport <a href=""https://github.com/vitest-dev/vitest/tree/HEAD/packages/vitest/issues/7317"">#7317</a> to v2 (<a href=""https://github.com/vitest-dev/vitest/tree/HEAD/packages/vitest/issues/7318"">#7318</a>)</li>
<li>See full diff in <a href=""https://github.com/vitest-dev/vitest/commits/v2.1.9/packages/vitest"">compare view</a></li>
</ul>
</details>
<br />


[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=vitest&package-manager=npm_and_yarn&previous-version=2.1.8&new-version=2.1.9)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores)

Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.

[//]: # (dependabot-automerge-start)
[//]: # (dependabot-automerge-end)

---

<details>
<summary>Dependabot commands and options</summary>
<br />

You can trigger Dependabot actions by commenting on this PR:
- `@dependabot rebase` will rebase this PR
- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it
- `@dependabot merge` will merge this PR after your CI passes on it
- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it
- `@dependabot cancel merge` will cancel a previously requested merge and block automerging
- `@dependabot reopen` will reopen this PR if it is closed
- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
- `@dependabot show <dependency name> ignore conditions` will show all of the ignore conditions of the specified dependency
- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)
- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)
- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)
You can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/apache/airflow/network/alerts).

</details>",dependabot[bot],2025-02-05 20:14:06+00:00,[],2025-02-05 21:37:24+00:00,2025-02-05 21:37:16+00:00,https://github.com/apache/airflow/pull/46493,"[('area:dependencies', 'Issues related to dependencies problems'), ('javascript', 'Pull requests that update Javascript code')]",[],
2833804785,pull_request,closed,,Adding `run_after` field in task SDK datamodels,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->


All K8s tests started failing in https://github.com/apache/airflow/actions/runs/13158509534.

When traced down, this is the error:
```
2025-02-05T14:49:01.975482931Z stdout F [2025-02-05T14:49:01.975+0000] {_trace.py:47} DEBUG - receive_response_body.started request=<Request [b'PATCH']>
2025-02-05T14:49:01.975742808Z stdout F 2025-02-05 14:49:01 [info     ] Process exited                 [supervisor] exit_code=<Negsignal.SIGKILL: -9> pid=155 signal=SIGKILL
2025-02-05T14:49:01.977567917Z stdout F [2025-02-05T14:49:01.976+0000] {local_executor.py:99} ERROR - uhoh
2025-02-05T14:49:01.977577034Z stdout F Traceback (most recent call last):
2025-02-05T14:49:01.977581732Z stdout F   File ""/home/airflow/.local/lib/python3.9/site-packages/airflow/executors/local_executor.py"", line 95, in _run_worker
2025-02-05T14:49:01.977586171Z stdout F     _execute_work(log, workload)
2025-02-05T14:49:01.977590339Z stdout F   File ""/home/airflow/.local/lib/python3.9/site-packages/airflow/executors/local_executor.py"", line 116, in _execute_work
2025-02-05T14:49:01.977594466Z stdout F     supervise(
2025-02-05T14:49:01.977598674Z stdout F   File ""/home/airflow/.local/lib/python3.9/site-packages/airflow/sdk/execution_time/supervisor.py"", line 970, in supervise
2025-02-05T14:49:01.977602662Z stdout F     process = ActivitySubprocess.start(
2025-02-05T14:49:01.977606619Z stdout F   File ""/home/airflow/.local/lib/python3.9/site-packages/airflow/sdk/execution_time/supervisor.py"", line 602, in start
2025-02-05T14:49:01.977620685Z stdout F     proc._on_child_started(ti=what, dag_rel_path=dag_rel_path, bundle_info=bundle_info)
2025-02-05T14:49:01.977625254Z stdout F   File ""/home/airflow/.local/lib/python3.9/site-packages/airflow/sdk/execution_time/supervisor.py"", line 611, in _on_child_started
2025-02-05T14:49:01.977629722Z stdout F     ti_context = self.client.task_instances.start(ti.id, self.pid, datetime.now(tz=timezone.utc))
2025-02-05T14:49:01.97763392Z stdout F   File ""/home/airflow/.local/lib/python3.9/site-packages/airflow/sdk/api/client.py"", line 133, in start
2025-02-05T14:49:01.977638399Z stdout F     return TIRunContext.model_validate_json(resp.read())
2025-02-05T14:49:01.977642506Z stdout F   File ""/home/airflow/.local/lib/python3.9/site-packages/pydantic/main.py"", line 656, in model_validate_json
2025-02-05T14:49:01.977647135Z stdout F     return cls.__pydantic_validator__.validate_json(json_data, strict=strict, context=context)
2025-02-05T14:49:01.977651122Z stdout F pydantic_core._pydantic_core.ValidationError: 1 validation error for TIRunContext
2025-02-05T14:49:01.977655821Z stdout F dag_run.run_after
2025-02-05T14:49:01.977659999Z stdout F   Extra inputs are not permitted [type=extra_forbidden, input_value='2025-02-05T00:00:00Z', input_type=str]
2025-02-05T14:49:01.977664077Z stdout F     For further information visit https://errors.pydantic.dev/2.10/v/extra_forbidden
```

This makes https://github.com/apache/airflow/pull/45732 the obvious candidate but that was merged a couple days ago, we shouldve seen the failures earlier.

But, https://github.com/apache/airflow/pull/44986 was merged recently which doesn't allow extra fields in any datamodels, due to which the fields added in the previous PR started screaming.

This PR updates the fields in task sdk datamodels.



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",amoghrajesh,2025-02-05 19:36:32+00:00,[],2025-02-06 07:58:30+00:00,2025-02-06 04:09:17+00:00,https://github.com/apache/airflow/pull/46492,"[('full tests needed', 'We need to run full set of tests for this PR to merge'), ('area:task-sdk', None)]","[{'comment_id': 2638779090, 'issue_id': 2833804785, 'author': 'amoghrajesh', 'body': 'Okay got this one through!!', 'created_at': datetime.datetime(2025, 2, 6, 4, 9, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639089755, 'issue_id': 2833804785, 'author': 'potiuk', 'body': 'NICE! COOL @amoghrajesh !', 'created_at': datetime.datetime(2025, 2, 6, 7, 58, 29, tzinfo=datetime.timezone.utc)}]","amoghrajesh (Issue Creator) on (2025-02-06 04:09:09 UTC): Okay got this one through!!

potiuk on (2025-02-06 07:58:29 UTC): NICE! COOL @amoghrajesh !

"
2833713090,pull_request,closed,,AIP-65: Add DagVersion to TaskInstanceHistory RESTAPI Response,"This PR adds dag_version to TaskInstanceHistory RESTAPI response. Closes: #45993

",ephraimbuddy,2025-02-05 18:50:07+00:00,[],2025-02-05 21:46:14+00:00,2025-02-05 21:46:12+00:00,https://github.com/apache/airflow/pull/46489,"[('area:UI', 'Related to UI/UX. For Frontend Developers.'), ('AIP-84', 'Modern Rest API'), ('AIP-65: DAG history in UI', '')]",[],
2833661514,pull_request,closed,,"Revert ""AIP-72: Move Secrets Masker to task SDK (#46375)""","This reverts commit e78b5b48085e9139f70f045192f3e8169af5920d.

Reverts #46375, which is causing k8s intergration test failures.",jedcunningham,2025-02-05 18:25:18+00:00,[],2025-02-05 19:17:35+00:00,2025-02-05 19:17:35+00:00,https://github.com/apache/airflow/pull/46488,"[('provider:amazon', 'AWS/Amazon - related issues'), ('area:webserver', 'Webserver related Issues'), ('area:CLI', ''), ('area:providers', ''), ('area:dev-tools', ''), ('area:logging', ''), ('area:serialization', ''), ('area:secrets', ''), ('area:API', ""Airflow's REST/HTTP API""), ('kind:documentation', ''), ('full tests needed', 'We need to run full set of tests for this PR to merge'), ('provider:cncf-kubernetes', 'Kubernetes provider related issues'), ('provider:openlineage', 'AIP-53'), ('legacy api', 'Whether legacy API changes should be allowed in PR')]","[{'comment_id': 2637822678, 'issue_id': 2833661514, 'author': 'jedcunningham', 'body': ""Well, this isn't the culprit!"", 'created_at': datetime.datetime(2025, 2, 5, 19, 17, 35, tzinfo=datetime.timezone.utc)}]","jedcunningham (Issue Creator) on (2025-02-05 19:17:35 UTC): Well, this isn't the culprit!

"
2833643452,pull_request,closed,,Fix scheduler ServiceAccount automount for multi-executor,"We can't just check if CeleryExecutor is one of the executors when determining if we can expose the automount param, we need to make sure it's the _only_ executor - the others need it.",jedcunningham,2025-02-05 18:16:08+00:00,[],2025-02-06 14:01:35+00:00,2025-02-06 14:01:35+00:00,https://github.com/apache/airflow/pull/46486,"[('area:helm-chart', 'Airflow Helm Chart')]",[],
2833605943,pull_request,closed,,Fix bug in query invalidation and remove custom predicate logic,"

I was passing `{ dagIds: [dagId] }` instead of `{dagId}` to `useDagRunServiceGetDagRunsKey` and that is why the query wasn't invalidating correct.y We actually didn't need all the custom query matching logic

---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",bbovenzi,2025-02-05 17:57:21+00:00,[],2025-02-06 18:28:57+00:00,2025-02-06 18:28:55+00:00,https://github.com/apache/airflow/pull/46485,"[('area:UI', 'Related to UI/UX. For Frontend Developers.')]",[],
2833585329,pull_request,open,,[WIP] AIP-65 | Add dag versions to DAGRunResponse,"depends on: #46565
closes: #45995 



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",jason810496,2025-02-05 17:47:47+00:00,[],2025-02-07 16:09:03+00:00,,https://github.com/apache/airflow/pull/46484,"[('area:UI', 'Related to UI/UX. For Frontend Developers.')]","[{'comment_id': 2637637753, 'issue_id': 2833585329, 'author': 'jason810496', 'body': ""Hi @pierrejeambrun,  \r\n\r\nCould you help me confirm whether the current implementation of `airflow/api_fastapi/core_api/routes/public/dag_run.py` aligns with the issue? I'm not entirely sure if this is the best approach to retrieve DAG versions for each `dag_run`.  \r\n\r\nIf there are no concerns with the current implementation (my main concern is performance), Iâ€™ll move some common queries to the `api_fastapi.common.db` module and complete the `/recent_dag_runs` UI endpoint. (`/recent_dag_runs` also depends on `DAGRunResponse`.)  \r\n\r\nThanks!"", 'created_at': datetime.datetime(2025, 2, 5, 17, 55, 47, tzinfo=datetime.timezone.utc)}]","jason810496 (Issue Creator) on (2025-02-05 17:55:47 UTC): Hi @pierrejeambrun,  

Could you help me confirm whether the current implementation of `airflow/api_fastapi/core_api/routes/public/dag_run.py` aligns with the issue? I'm not entirely sure if this is the best approach to retrieve DAG versions for each `dag_run`.  

If there are no concerns with the current implementation (my main concern is performance), Iâ€™ll move some common queries to the `api_fastapi.common.db` module and complete the `/recent_dag_runs` UI endpoint. (`/recent_dag_runs` also depends on `DAGRunResponse`.)  

Thanks!

"
2833532405,pull_request,closed,,Chart: be consisent with denoting templated params,,jedcunningham,2025-02-05 17:20:48+00:00,[],2025-02-06 15:22:16+00:00,2025-02-06 08:02:10+00:00,https://github.com/apache/airflow/pull/46481,"[('area:helm-chart', 'Airflow Helm Chart')]",[],
2833522759,pull_request,closed,,Rename apiServer to _apiServer to preserve it in beta until v3 release (#46477),"Closes #46477

The chart version 1.16.0 would be released before airflow v3, so it's better to keep api server in beta so it's easier to make changes.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",andrii-korotkov-verkada,2025-02-05 17:16:06+00:00,[],2025-02-06 15:21:49+00:00,2025-02-06 15:21:49+00:00,https://github.com/apache/airflow/pull/46480,"[('area:helm-chart', 'Airflow Helm Chart')]",[],
2833451736,pull_request,closed,,[snowflake] Add ocsp_fail_open setting for SnowflakeHook,"Adds support for passing through the `ocsp_fail_open` parameter. Ref: https://docs.snowflake.com/en/developer-guide/python-connector/python-connector-connect#choosing-fail-open-or-fail-close-mode

The `ocsp_fail_open` parameter defaults to `True` inside of the driver when the snowflake-connector version is 1.8.0 or later. So the usual case for overriding the setting will be providing a `False` value. That is different than other flags (where we only pass through `True`), so you may notice some difference in the flag handling.

Also, for building the sqlalchemy engine, this parameter needs to be passed in as part of `connect_args`.

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",jcrobak,2025-02-05 16:44:07+00:00,[],2025-02-05 22:02:05+00:00,2025-02-05 22:02:01+00:00,https://github.com/apache/airflow/pull/46476,"[('provider:snowflake', 'Issues related to Snowflake provider')]","[{'comment_id': 2637461919, 'issue_id': 2833451736, 'author': 'boring-cyborg[bot]', 'body': ""Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)\nHere are some useful points:\n- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.\n- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.\n- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.\n- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.\n- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.\n- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).\n- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.\nApache Airflow is a community-driven project and together we are making it better ðŸš€.\nIn case of doubts contact the developers at:\nMailing List: dev@airflow.apache.org\nSlack: https://s.apache.org/airflow-slack"", 'created_at': datetime.datetime(2025, 2, 5, 16, 44, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638004731, 'issue_id': 2833451736, 'author': 'jcrobak', 'body': 'Thanks for the review @potiuk !! The build failed with:\r\n\r\n```\r\nThe image /mnt/ci-image-save-linux_amd64-3.9.tar does not exist.\r\n```\r\n\r\nduring the ""Prepare breeze & CI Image: 3.9"" step of [Lowest direct dependency providers tests / All-core:LowestDeps-Postgres:13:3.9](https://github.com/apache/airflow/actions/runs/13162285492/job/36745165887#logs).\r\n\r\nI don\'t think this is related to this change, so I have rebased to see if it can pick up any fixes for main. Do you mind kicking off the CI again?', 'created_at': datetime.datetime(2025, 2, 5, 20, 56, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638127038, 'issue_id': 2833451736, 'author': 'boring-cyborg[bot]', 'body': 'Awesome work, congrats on your first merged pull request! You are invited to check our [Issue Tracker](https://github.com/apache/airflow/issues) for additional contributions.', 'created_at': datetime.datetime(2025, 2, 5, 22, 2, 4, tzinfo=datetime.timezone.utc)}]","boring-cyborg[bot] on (2025-02-05 16:44:13 UTC): Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)
Here are some useful points:
- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.
- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.
- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.
- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.
- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.
- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).
- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.
Apache Airflow is a community-driven project and together we are making it better ðŸš€.
In case of doubts contact the developers at:
Mailing List: dev@airflow.apache.org
Slack: https://s.apache.org/airflow-slack

jcrobak (Issue Creator) on (2025-02-05 20:56:17 UTC): Thanks for the review @potiuk !! The build failed with:

```
The image /mnt/ci-image-save-linux_amd64-3.9.tar does not exist.
```

during the ""Prepare breeze & CI Image: 3.9"" step of [Lowest direct dependency providers tests / All-core:LowestDeps-Postgres:13:3.9](https://github.com/apache/airflow/actions/runs/13162285492/job/36745165887#logs).

I don't think this is related to this change, so I have rebased to see if it can pick up any fixes for main. Do you mind kicking off the CI again?

boring-cyborg[bot] on (2025-02-05 22:02:04 UTC): Awesome work, congrats on your first merged pull request! You are invited to check our [Issue Tracker](https://github.com/apache/airflow/issues) for additional contributions.

"
2833426170,pull_request,closed,,#46316 issue,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",SaumilPatel03,2025-02-05 16:32:49+00:00,[],2025-02-05 16:33:07+00:00,2025-02-05 16:33:07+00:00,https://github.com/apache/airflow/pull/46474,"[('kind:documentation', '')]",[],
2833258932,pull_request,open,,AIP-38 Add logical date to trigger DagRun form,"Closes: https://github.com/apache/airflow/issues/46189

Needs https://github.com/apache/airflow/pull/46390 (to fix linting issue + make the feature functional)


Logical date is optional in the form and will send `null` to the API. It can be specified to any arbitrary date otherwise:

## Example Logical Date not specified
![Screenshot 2025-02-05 at 16 22 48](https://github.com/user-attachments/assets/cadbb10c-b41f-46f9-98d7-bf8fa67d98f5)

## Example Logical Date specified
![Screenshot 2025-02-05 at 16 23 04](https://github.com/user-attachments/assets/0c4d8ebb-dcea-4665-84f8-af89bc1e3a4e)
",pierrejeambrun,2025-02-05 15:23:44+00:00,['pierrejeambrun'],2025-02-06 15:20:06+00:00,,https://github.com/apache/airflow/pull/46471,"[('area:UI', 'Related to UI/UX. For Frontend Developers.'), ('AIP-38', 'Modern Web Application')]",[],
2833063497,pull_request,closed,,Undoing the retryhttp limitation (<1.3.0),"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->


#46446 had limited retryhttp and was waiting on https://github.com/austind/retryhttp/issues/20#issuecomment-2636923772 to be fixed. testing the fix as https://github.com/austind/retryhttp/issues/20#issuecomment-2636923772 is resolved


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",amoghrajesh,2025-02-05 14:11:59+00:00,[],2025-02-05 14:58:26+00:00,2025-02-05 14:58:26+00:00,https://github.com/apache/airflow/pull/46470,"[('area:task-sdk', None), ('provider:edge', 'Edge Executor / Worker (AIP-69)')]","[{'comment_id': 2637000234, 'issue_id': 2833063497, 'author': 'amoghrajesh', 'body': 'Thats a very good idea!', 'created_at': datetime.datetime(2025, 2, 5, 14, 26, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637101176, 'issue_id': 2833063497, 'author': 'potiuk', 'body': 'Merging. The ""generate constraints"" alredy used the new retry and mypy checks passed.', 'created_at': datetime.datetime(2025, 2, 5, 14, 58, 21, tzinfo=datetime.timezone.utc)}]","amoghrajesh (Issue Creator) on (2025-02-05 14:26:42 UTC): Thats a very good idea!

potiuk on (2025-02-05 14:58:21 UTC): Merging. The ""generate constraints"" alredy used the new retry and mypy checks passed.

"
2833035716,pull_request,closed,,Move microsoft winrm to new provider structure,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: [#46045](https://github.com/apache/airflow/issues/46045)

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->

Move microsoft winrm to new provider structure

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",dabla,2025-02-05 14:01:30+00:00,[],2025-02-06 17:02:39+00:00,2025-02-06 17:02:38+00:00,https://github.com/apache/airflow/pull/46469,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:microsoft-winrm', '')]","[{'comment_id': 2636938010, 'issue_id': 2833035716, 'author': 'dabla', 'body': 'Created [PR ](https://github.com/apache/airflow/issues/46045) to move WinRM provider to new structure', 'created_at': datetime.datetime(2025, 2, 5, 14, 2, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637804295, 'issue_id': 2833035716, 'author': 'potiuk', 'body': 'Need some static fixes', 'created_at': datetime.datetime(2025, 2, 5, 19, 10, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638028931, 'issue_id': 2833035716, 'author': 'jscheffl', 'body': 'Yeah I assme once you rebase and run `pre-commit run -a` then all should be fixed.', 'created_at': datetime.datetime(2025, 2, 5, 21, 10, 18, tzinfo=datetime.timezone.utc)}]","dabla (Issue Creator) on (2025-02-05 14:02:38 UTC): Created [PR ](https://github.com/apache/airflow/issues/46045) to move WinRM provider to new structure

potiuk on (2025-02-05 19:10:32 UTC): Need some static fixes

jscheffl on (2025-02-05 21:10:18 UTC): Yeah I assme once you rebase and run `pre-commit run -a` then all should be fixed.

"
2833021087,pull_request,closed,,[v2-10-test] Fix case in releasing images where chicken-egg-providers are empty (#46467),"(cherry picked from commit aa7143b8ab854acb99cb14dc26640bf9f72778d1)

Co-authored-by: Jarek Potiuk <jarek@potiuk.com>",github-actions[bot],2025-02-05 13:55:43+00:00,[],2025-02-05 13:56:13+00:00,2025-02-05 13:56:13+00:00,https://github.com/apache/airflow/pull/46468,"[('area:dev-tools', '')]",[],
2833014641,pull_request,closed,,Fix case in releasing images where chicken-egg-providers are empty,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-02-05 13:53:08+00:00,[],2025-02-05 13:55:46+00:00,2025-02-05 13:54:51+00:00,https://github.com/apache/airflow/pull/46467,"[('area:dev-tools', ''), ('backport-to-v2-10-test', 'Mark PR with this label to backport to v2-10-test branch')]","[{'comment_id': 2636921364, 'issue_id': 2833014641, 'author': 'github-actions[bot]', 'body': '### Backport successfully created: v2-10-test\n\n<table>\n                <tr>\n                    <th>Status</th>\n                    <th>Branch</th>\n                    <th>Result</th>\n                </tr>\n                <tr>\n                    <td>âœ…</td>\n                    <td>v2-10-test</td>\n                    <td><a href=""https://github.com/apache/airflow/pull/46468""><img src=""https://img.shields.io/badge/PR-46468-blue"" alt=""PR Link""></a></td>\n                </tr>\n            </table>', 'created_at': datetime.datetime(2025, 2, 5, 13, 55, 45, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-02-05 13:55:45 UTC): ### Backport successfully created: v2-10-test

<table>
                <tr>
                    <th>Status</th>
                    <th>Branch</th>
                    <th>Result</th>
                </tr>
                <tr>
                    <td>âœ…</td>
                    <td>v2-10-test</td>
                    <td><a href=""https://github.com/apache/airflow/pull/46468""><img src=""https://img.shields.io/badge/PR-46468-blue"" alt=""PR Link""></a></td>
                </tr>
            </table>

"
2832909223,pull_request,closed,,Add state filter to task page.,"For a given task it will be helpful to have a filter similar to dag runs list and tasks page to filter task instances for a task by given state like all failed states for a task. This is very similar to how it's done in dag run page's task instance tab. 

Notes for self and review : 

`stateOptions` can perhaps be moved to a common constant inside `src/constants` to reuse between the pages.

![image](https://github.com/user-attachments/assets/fbd55384-b973-486d-adef-a490a0b04a09)
",tirkarthi,2025-02-05 13:08:29+00:00,[],2025-02-06 17:29:01+00:00,2025-02-06 17:29:01+00:00,https://github.com/apache/airflow/pull/46465,"[('area:UI', 'Related to UI/UX. For Frontend Developers.')]",[],
2832785733,pull_request,closed,,Add hotkey shortcut for search component.,"Add hotkey shortcut for search component through ""mod+k"" that focuses on the search bar input. Similar to https://github.com/apache/airflow/pull/45908

![image](https://github.com/user-attachments/assets/d26d7c18-61dd-4652-9947-5a4cbcd4cb2f)

Closes #46458",tirkarthi,2025-02-05 12:18:47+00:00,[],2025-02-05 15:47:42+00:00,2025-02-05 15:47:42+00:00,https://github.com/apache/airflow/pull/46463,"[('area:UI', 'Related to UI/UX. For Frontend Developers.')]",[],
2832769031,pull_request,closed,,More meaningful name for `@task.kubernetes` pods,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->


<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->

Use name based on python callable in `@task.kubernetes` pod name generation 

- generate specific pod name base by provided python callable
- drop uuid usage with no name (random is controlled by `random_name_suffix` arg, there is no need for extra UUID usage)
- add specific pod naming tests for decorator flow because decorator distinguishes between `name=None` and no `name` argument provided

closes: #46464

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",insomnes,2025-02-05 12:11:24+00:00,[],2025-02-06 20:34:45+00:00,2025-02-06 20:21:42+00:00,https://github.com/apache/airflow/pull/46462,"[('area:providers', ''), ('provider:cncf-kubernetes', 'Kubernetes provider related issues')]","[{'comment_id': 2637551641, 'issue_id': 2832769031, 'author': 'insomnes', 'body': ""> What will happen if two Dag runs are triggered at the same time, and two `TaskInstance`s are created from the same task simultaneously?\r\n\r\n@RNHTTR \r\nIf `random_name_suffix` arg is set (as default) they would have two different names by separate random suffixes which are generated  as part of pod request object during `execute` calls in KPO by `build_pod_request_obj` method.\r\n\r\nIf user has disabled name randomization  by `random_name_suffix=False` -- that's more on user side to ensure name uniqueness. \r\n\r\nI am happy to add a test for this case if you can guide me a bit on how to setup such test."", 'created_at': datetime.datetime(2025, 2, 5, 17, 18, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638308394, 'issue_id': 2832769031, 'author': 'RNHTTR', 'body': 'Looks good imo, but tests are failing now', 'created_at': datetime.datetime(2025, 2, 6, 0, 4, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639428307, 'issue_id': 2832769031, 'author': 'insomnes', 'body': 'I think: the problem is on the CI side with k8s cluster tests and not in the code, will wait a bit and retry by rebasing the branch. My last attempt failed to set the environment, and previous failures were about failing jobs.', 'created_at': datetime.datetime(2025, 2, 6, 10, 30, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640589866, 'issue_id': 2832769031, 'author': 'insomnes', 'body': 'Oh, now there is conflict after the provider move to a new structure.  Will  check it a bit later today', 'created_at': datetime.datetime(2025, 2, 6, 17, 52, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640804876, 'issue_id': 2832769031, 'author': 'potiuk', 'body': 'Yeah... Sorry :) . It was finaly green, so I merged it. But I think in this case git will properly fix stuff when you rebase -  automatically', 'created_at': datetime.datetime(2025, 2, 6, 19, 29, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640902777, 'issue_id': 2832769031, 'author': 'potiuk', 'body': 'still conflicts to solve :(', 'created_at': datetime.datetime(2025, 2, 6, 20, 15, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640915009, 'issue_id': 2832769031, 'author': 'insomnes', 'body': 'Holy moly I am so sorry for this mess, and I am really sorry for the ping for the whole repo I will close this one and apply my changes to the new structure, that would be easier. I am sorry for bothering you all', 'created_at': datetime.datetime(2025, 2, 6, 20, 21, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640940351, 'issue_id': 2832769031, 'author': 'potiuk', 'body': 'No worries :)', 'created_at': datetime.datetime(2025, 2, 6, 20, 34, 44, tzinfo=datetime.timezone.utc)}]","insomnes (Issue Creator) on (2025-02-05 17:18:06 UTC): @RNHTTR 
If `random_name_suffix` arg is set (as default) they would have two different names by separate random suffixes which are generated  as part of pod request object during `execute` calls in KPO by `build_pod_request_obj` method.

If user has disabled name randomization  by `random_name_suffix=False` -- that's more on user side to ensure name uniqueness. 

I am happy to add a test for this case if you can guide me a bit on how to setup such test.

RNHTTR on (2025-02-06 00:04:26 UTC): Looks good imo, but tests are failing now

insomnes (Issue Creator) on (2025-02-06 10:30:02 UTC): I think: the problem is on the CI side with k8s cluster tests and not in the code, will wait a bit and retry by rebasing the branch. My last attempt failed to set the environment, and previous failures were about failing jobs.

insomnes (Issue Creator) on (2025-02-06 17:52:48 UTC): Oh, now there is conflict after the provider move to a new structure.  Will  check it a bit later today

potiuk on (2025-02-06 19:29:35 UTC): Yeah... Sorry :) . It was finaly green, so I merged it. But I think in this case git will properly fix stuff when you rebase -  automatically

potiuk on (2025-02-06 20:15:08 UTC): still conflicts to solve :(

insomnes (Issue Creator) on (2025-02-06 20:21:42 UTC): Holy moly I am so sorry for this mess, and I am really sorry for the ping for the whole repo I will close this one and apply my changes to the new structure, that would be easier. I am sorry for bothering you all

potiuk on (2025-02-06 20:34:44 UTC): No worries :)

"
2832762302,pull_request,closed,,Dummy test run for cncf,dummy run,rawwar,2025-02-05 12:08:59+00:00,[],2025-02-06 02:27:01+00:00,2025-02-06 02:27:01+00:00,https://github.com/apache/airflow/pull/46461,"[('area:dev-tools', ''), ('kind:documentation', '')]",[],
2832529935,pull_request,open,,None as logical date and data interval for asset triggered dag,"closes: #46192 

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",Lee-W,2025-02-05 10:27:02+00:00,[],2025-02-08 05:16:48+00:00,,https://github.com/apache/airflow/pull/46460,"[('area:Scheduler', 'including HA (high availability) scheduler'), ('AIP-83', 'Remove Execution Date Unique Constraint from DAG Run')]","[{'comment_id': 2636336362, 'issue_id': 2832529935, 'author': 'Lee-W', 'body': 'blocked by https://github.com/apache/airflow/pull/46295 and https://github.com/apache/airflow/pull/46398', 'created_at': datetime.datetime(2025, 2, 5, 10, 28, 33, tzinfo=datetime.timezone.utc)}]","Lee-W (Issue Creator) on (2025-02-05 10:28:33 UTC): blocked by https://github.com/apache/airflow/pull/46295 and https://github.com/apache/airflow/pull/46398

"
2832519097,pull_request,open,,Update pre-commit hook to avoid committing zip file,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #46449 

related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->

---
**What was wrong**: Committed ZIP files are hard to review and can pose security risks.

What was changed: added a Python pre-commit hook to prevent their accidental commit.

closes: #46449 




",SaumilPatel03,2025-02-05 10:22:18+00:00,[],2025-02-06 11:11:09+00:00,,https://github.com/apache/airflow/pull/46459,"[('area:dev-tools', ''), ('kind:documentation', '')]","[{'comment_id': 2636528778, 'issue_id': 2832519097, 'author': 'eladkal', 'body': 'But right now we have zip files\r\n`tests/dags/test_zip.zip` I think par to of the task is to drop what we have now and replace it with creation of the zip on the fly.', 'created_at': datetime.datetime(2025, 2, 5, 11, 57, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637836279, 'issue_id': 2832519097, 'author': 'potiuk', 'body': '> But right now we have zip files `tests/dags/test_zip.zip` I think par to of the task is to drop what we have now and replace it with creation of the zip on the fly.\r\n\r\nYes. But I believe we do not need\xa0pre-commit for that - .gitignore should be enough. And even if we want to have .zip check the precommit should be just `false` command  if `.*.zip` files match - there is no need to have python for that.', 'created_at': datetime.datetime(2025, 2, 5, 19, 24, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639523539, 'issue_id': 2832519097, 'author': 'ashb', 'body': '_and_ if we want to forbid zip files the error message or at least the check in pre-commit should say why.', 'created_at': datetime.datetime(2025, 2, 6, 11, 11, 7, tzinfo=datetime.timezone.utc)}]","eladkal on (2025-02-05 11:57:25 UTC): But right now we have zip files
`tests/dags/test_zip.zip` I think par to of the task is to drop what we have now and replace it with creation of the zip on the fly.

potiuk on (2025-02-05 19:24:01 UTC): Yes. But I believe we do not needÂ pre-commit for that - .gitignore should be enough. And even if we want to have .zip check the precommit should be just `false` command  if `.*.zip` files match - there is no need to have python for that.

ashb on (2025-02-06 11:11:07 UTC): _and_ if we want to forbid zip files the error message or at least the check in pre-commit should say why.

"
2832464594,pull_request,closed,,Add update XCom endpoint in RestAPI,"related: https://github.com/apache/airflow/issues/45966

Debugging Airflow workflows often involves dealing with incorrect or missing XCom values, which can cause tasks to fail or behave unexpectedly. 
Traditionally, fixing such issues requires rerunning tasks, modifying Dag logic, or even manually editing the Airflow metadata databaseâ€”none of which are ideal in a production setting. With API-based XCom updates, users can quickly correct erroneous values without restarting entire workflows. 
This is especially useful in long-running jobs, where reprocessing can be costly, or in dependency-heavy pipelines, where a single incorrect value can block multiple downstream tasks. By allowing targeted updates, this feature speeds up debugging, reduces downtime, and ensures smoother workflow execution.

-----------------------------------

### Steps to play around the feature.

Add the following Dag.
```
from datetime import datetime, timedelta
from airflow import DAG
from airflow.operators.python import PythonOperator
import time

def push_xcom_value(ti):
    value_to_push = ""Hello from XCom!""
    ti.xcom_push(key='my_key', value=value_to_push)
    time.sleep(60)  # Wait for 1 minute, meanwhile you can update the XCom via API

def pull_xcom_value(ti):
    pulled_value = ti.xcom_pull(task_ids='push_task', key='my_key')
    print(f""Pulled Value: {pulled_value}"") # Updated value should be present

default_args = {
    'owner': 'airflow',
    'catchup': False,
    'start_date': datetime(2024, 2, 5),
}

dag = DAG(
    'xcom_push_pull_dag',
    default_args=default_args,
    description='A simple DAG to demonstrate XCom push and pull',
    catchup=False,
)

push_task = PythonOperator(
    task_id='push_task',
    python_callable=push_xcom_value,
    dag=dag,
)

pull_task = PythonOperator(
    task_id='pull_task',
    python_callable=pull_xcom_value,
    dag=dag,
)

push_task >> pull_task

```
As soon as push_task has pushed to xcom, just update the value via API.
http://localhost:29091/docs#/XCom/update_xcom_entry

<img width=""1416"" alt=""image"" src=""https://github.com/user-attachments/assets/47bb5e5c-2574-448a-9f43-a029f71c8a2f"" />


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",shubhamraj-git,2025-02-05 10:00:09+00:00,[],2025-02-06 14:29:45+00:00,2025-02-06 14:29:45+00:00,https://github.com/apache/airflow/pull/46457,"[('type:new-feature', 'Changelog: New Features'), ('area:UI', 'Related to UI/UX. For Frontend Developers.')]",[],
2832436780,pull_request,closed,,AIP-72: Port tests in TestDagDecorator to task sdk,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->

We have already ported over dag decorator to the task sdk but not some of its tests.
This PR moves https://github.com/apache/airflow/blob/main/tests/models/test_dag.py#L2522-L2648 to the task sdk tests:

 - some are under task runner as we are checking some runtime behaviour with tasks too
- rest remain to be under `definitions/test_dag.py`


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",amoghrajesh,2025-02-05 09:48:20+00:00,[],2025-02-05 12:22:26+00:00,2025-02-05 12:22:24+00:00,https://github.com/apache/airflow/pull/46456,"[('area:task-sdk', None)]",[],
2832242653,pull_request,closed,,fix get_classes_from_file,"this fixes failing tests - https://github.com/apache/airflow/pull/46436

current logic to get the import path fails for cncf providers as we have kubernetes folder inside cncf folder. This PR logic tries to find `airflow.providers` and strip everything before it.",rawwar,2025-02-05 08:24:04+00:00,[],2025-02-06 08:22:48+00:00,2025-02-06 08:22:47+00:00,https://github.com/apache/airflow/pull/46454,[],"[{'comment_id': 2639132725, 'issue_id': 2832242653, 'author': 'rawwar', 'body': 'Closing this as https://github.com/apache/airflow/pull/46436 has the same changes', 'created_at': datetime.datetime(2025, 2, 6, 8, 22, 47, tzinfo=datetime.timezone.utc)}]","rawwar (Issue Creator) on (2025-02-06 08:22:47 UTC): Closing this as https://github.com/apache/airflow/pull/46436 has the same changes

"
2832122146,pull_request,closed,,Bugfix/edge worker restarts on version mismatch,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
As the edge worker does not use internal api anymore, we need to handle the EdgeWorkerVersionException when http 400 is raised

---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",majorosdonat,2025-02-05 07:19:01+00:00,[],2025-02-05 09:35:18+00:00,2025-02-05 09:35:18+00:00,https://github.com/apache/airflow/pull/46453,"[('provider:edge', 'Edge Executor / Worker (AIP-69)')]",[],
2832084697,pull_request,closed,,Implement worker deletion and proper CSRF handling,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
If and edge worker is shut down and removed, it is not cleared from the database. Therefore it will be visible on the edge worker hosts page for ever, even if it is not used anymore, making the worker list longer and harder to read.
This PR adds an option to the UI to delete that worker from the database.
Also, proper csrf handling is added to the maintenance mode as fix.

---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",majorosdonat,2025-02-05 07:00:39+00:00,[],2025-02-05 07:49:23+00:00,2025-02-05 07:49:23+00:00,https://github.com/apache/airflow/pull/46452,"[('provider:edge', 'Edge Executor / Worker (AIP-69)')]",[],
2832083980,pull_request,closed,,Timetable that runs on multiple cron expressions,"This adds a new `MultipleCronTriggerTimetable` that takes multiple cron expressions, and schedule runs whenever the time matches at least one of the expressions. Internally, this just uses `CronTriggerTimetable` and check which instance gives the closest â€œnextâ€ run.

I specifically choose `CronTriggerTimetable`, not the more traditional `CronDataIntervalTimetable`, since the latter needs to have data interval logic, and it is very unclear how data interval should be calculated when more than one cron expression is involved.",uranusjr,2025-02-05 07:00:14+00:00,[],2025-02-06 05:33:16+00:00,2025-02-06 05:33:15+00:00,https://github.com/apache/airflow/pull/46451,"[('type:new-feature', 'Changelog: New Features')]","[{'comment_id': 2635974661, 'issue_id': 2832083980, 'author': 'uranusjr', 'body': 'I donâ€™t even think multiple cron expressions can express a bi-weekly schedule though? To be able to identify bi-weekly, youâ€™ll need some way to count weeks, which cron simply does not allow you to.\r\n\r\nThe linked issue does provide a useful example though:\r\n\r\n> every 10 min between 16:30 to 18:10\r\n\r\nIâ€™ll create some documentation using that instead.', 'created_at': datetime.datetime(2025, 2, 5, 7, 45, 18, tzinfo=datetime.timezone.utc)}]","uranusjr (Issue Creator) on (2025-02-05 07:45:18 UTC): I donâ€™t even think multiple cron expressions can express a bi-weekly schedule though? To be able to identify bi-weekly, youâ€™ll need some way to count weeks, which cron simply does not allow you to.

The linked issue does provide a useful example though:


Iâ€™ll create some documentation using that instead.

"
2832077317,pull_request,closed,,AIP-72: Deleting duplicate test class: TestDagParamRuntime,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->

We already have the class TestDagParamRuntime in task SDK. Forgot to remove it earlier, removed it and deleted the file too

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",amoghrajesh,2025-02-05 06:56:38+00:00,[],2025-02-05 07:38:33+00:00,2025-02-05 07:38:31+00:00,https://github.com/apache/airflow/pull/46450,[],[],
2832028125,pull_request,open,,Emit warning for deprecated get_link signature,See #46415 for context.,uranusjr,2025-02-05 06:26:46+00:00,[],2025-02-05 07:21:20+00:00,,https://github.com/apache/airflow/pull/46448,[],[],
2831986840,pull_request,closed,,Bump vitest from 2.1.1 to 2.1.9 in /airflow/ui,"Bumps [vitest](https://github.com/vitest-dev/vitest/tree/HEAD/packages/vitest) from 2.1.1 to 2.1.9.
<details>
<summary>Release notes</summary>
<p><em>Sourced from <a href=""https://github.com/vitest-dev/vitest/releases"">vitest's releases</a>.</em></p>
<blockquote>
<h2>v2.1.9</h2>
<p>This release includes security patches for:</p>
<ul>
<li><a href=""https://github.com/vitest-dev/vitest/security/advisories/GHSA-8gvc-j273-4wm5"">Browser mode serves arbitrary files | CVE-2025-24963</a></li>
<li><a href=""https://github.com/vitest-dev/vitest/security/advisories/GHSA-9crc-q9x8-hgqq"">Remote Code Execution when accessing a malicious website while Vitest API server is listening | CVE-2025-24964</a></li>
</ul>
<h3>Â Â Â ðŸž Bug Fixes</h3>
<ul>
<li>backport <a href=""https://redirect.github.com/vitest-dev/vitest/issues/7317"">vitest-dev/vitest#7317</a> to v2 - by <a href=""https://github.com/hi-ogawa""><code>@â€‹hi-ogawa</code></a> in <a href=""https://redirect.github.com/vitest-dev/vitest/pull/7318"">vitest-dev/vitest#7318</a></li>
<li>(backport <a href=""https://github.com/vitest-dev/vitest/tree/HEAD/packages/vitest/issues/7340"">#7340</a> to v2) restrict served files from <code>/__screenshot-error</code> - by <a href=""https://github.com/hi-ogawa""><code>@â€‹hi-ogawa</code></a> in <a href=""https://redirect.github.com/vitest-dev/vitest/pull/7343"">vitest-dev/vitest#7343</a></li>
</ul>
<h5>Â Â Â Â <a href=""https://github.com/vitest-dev/vitest/compare/v2.1.8...v2.1.9"">View changes on GitHub</a></h5>
<h2>v2.1.8</h2>
<h3>Â Â Â ðŸž Bug Fixes</h3>
<ul>
<li>Support Node 21 Â -Â  by <a href=""https://github.com/sheremet-va""><code>@â€‹sheremet-va</code></a> <a href=""https://github.com/vitest-dev/vitest/commit/92f7a2ad""><!-- raw HTML omitted -->(92f7a)<!-- raw HTML omitted --></a></li>
</ul>
<h5>Â Â Â Â <a href=""https://github.com/vitest-dev/vitest/compare/v2.1.7...v2.1.8"">View changes on GitHub</a></h5>
<h2>v2.1.7</h2>
<h3>Â Â Â ðŸž Bug Fixes</h3>
<ul>
<li>Revert support for Vite 6 Â -Â  by <a href=""https://github.com/sheremet-va""><code>@â€‹sheremet-va</code></a> <a href=""https://github.com/vitest-dev/vitest/commit/fbe5c39d""><!-- raw HTML omitted -->(fbe5c)<!-- raw HTML omitted --></a>
<ul>
<li>This introduced some breaking changes (<a href=""https://redirect.github.com/vitest-dev/vitest/issues/6992"">vitest-dev/vitest#6992</a>). We will enable support for it later. In the meantime, you can still use <code>pnpm.overrides</code> or yarn resolutions to override the <code>vite</code> version in the <code>vitest</code> package - the APIs are compatible.</li>
</ul>
</li>
</ul>
<h5>Â Â Â Â <a href=""https://github.com/vitest-dev/vitest/compare/v2.1.6...v2.1.7"">View changes on GitHub</a></h5>
<h2>v2.1.6</h2>
<h2>ðŸš€ Features</h2>
<ul>
<li>Support Vite 6</li>
</ul>
<h5>Â Â Â Â <a href=""https://github.com/vitest-dev/vitest/compare/v2.1.5...v2.1.6"">View changes on GitHub</a></h5>
<h2>v2.1.5</h2>
<h3>Â Â Â ðŸž Bug Fixes</h3>
<ul>
<li><code>dangerouslyIgnoreUnhandledErrors</code> without base reporter Â -Â  by <a href=""https://github.com/AriPerkkio""><code>@â€‹AriPerkkio</code></a> in <a href=""https://redirect.github.com/vitest-dev/vitest/issues/6808"">vitest-dev/vitest#6808</a> <a href=""https://github.com/vitest-dev/vitest/commit/0bf0ab00""><!-- raw HTML omitted -->(0bf0a)<!-- raw HTML omitted --></a></li>
<li>Capture <code>unhandledRejection</code> even when base reporter is not used Â -Â  by <a href=""https://github.com/AriPerkkio""><code>@â€‹AriPerkkio</code></a> in <a href=""https://redirect.github.com/vitest-dev/vitest/issues/6812"">vitest-dev/vitest#6812</a> <a href=""https://github.com/vitest-dev/vitest/commit/8878b04d""><!-- raw HTML omitted -->(8878b)<!-- raw HTML omitted --></a></li>
<li>Don't change the working directory when loading workspace projects Â -Â  by <a href=""https://github.com/sheremet-va""><code>@â€‹sheremet-va</code></a> in <a href=""https://redirect.github.com/vitest-dev/vitest/issues/6811"">vitest-dev/vitest#6811</a> <a href=""https://github.com/vitest-dev/vitest/commit/f0aeaca8""><!-- raw HTML omitted -->(f0aea)<!-- raw HTML omitted --></a></li>
<li>Remove <code>sequence.concurrent</code> from the <code>RuntimeConfig</code> type Â -Â  by <a href=""https://github.com/sheremet-va""><code>@â€‹sheremet-va</code></a> in <a href=""https://redirect.github.com/vitest-dev/vitest/issues/6880"">vitest-dev/vitest#6880</a> <a href=""https://github.com/vitest-dev/vitest/commit/6af73d93""><!-- raw HTML omitted -->(6af73)<!-- raw HTML omitted --></a></li>
<li>Stop the runner before restarting, restart on workspace config change Â -Â  by <a href=""https://github.com/sheremet-va""><code>@â€‹sheremet-va</code></a> in <a href=""https://redirect.github.com/vitest-dev/vitest/issues/6859"">vitest-dev/vitest#6859</a> <a href=""https://github.com/vitest-dev/vitest/commit/b01df47d""><!-- raw HTML omitted -->(b01df)<!-- raw HTML omitted --></a></li>
<li>Don't rerun on Esc or Ctrl-C during watch filter Â -Â  by <a href=""https://github.com/hi-ogawa""><code>@â€‹hi-ogawa</code></a> in <a href=""https://redirect.github.com/vitest-dev/vitest/issues/6895"">vitest-dev/vitest#6895</a> <a href=""https://github.com/vitest-dev/vitest/commit/98f76ea7""><!-- raw HTML omitted -->(98f76)<!-- raw HTML omitted --></a></li>
<li>Print ssrTransform error Â -Â  by <a href=""https://github.com/hi-ogawa""><code>@â€‹hi-ogawa</code></a> in <a href=""https://redirect.github.com/vitest-dev/vitest/issues/6885"">vitest-dev/vitest#6885</a> <a href=""https://github.com/vitest-dev/vitest/commit/4c96cce7""><!-- raw HTML omitted -->(4c96c)<!-- raw HTML omitted --></a></li>
<li>Throw an error and a warning if <code>.poll</code>, <code>.element</code>, <code>.rejects</code>/<code>.resolves</code>, and <code>locator.*</code> weren't awaited Â -Â  by <a href=""https://github.com/sheremet-va""><code>@â€‹sheremet-va</code></a> in <a href=""https://redirect.github.com/vitest-dev/vitest/issues/6877"">vitest-dev/vitest#6877</a> <a href=""https://github.com/vitest-dev/vitest/commit/93b67c24""><!-- raw HTML omitted -->(93b67)<!-- raw HTML omitted --></a></li>
<li><strong>browser</strong>:
<ul>
<li>Don't process the default css styles Â -Â  by <a href=""https://github.com/sheremet-va""><code>@â€‹sheremet-va</code></a> in <a href=""https://redirect.github.com/vitest-dev/vitest/issues/6861"">vitest-dev/vitest#6861</a> <a href=""https://github.com/vitest-dev/vitest/commit/0d67f04b""><!-- raw HTML omitted -->(0d67f)<!-- raw HTML omitted --></a></li>
<li>Support non US key input Â -Â  by <a href=""https://github.com/hi-ogawa""><code>@â€‹hi-ogawa</code></a> in <a href=""https://redirect.github.com/vitest-dev/vitest/issues/6873"">vitest-dev/vitest#6873</a> <a href=""https://github.com/vitest-dev/vitest/commit/5969d8da""><!-- raw HTML omitted -->(5969d)<!-- raw HTML omitted --></a></li>
</ul>
</li>
</ul>
<!-- raw HTML omitted -->
</blockquote>
<p>... (truncated)</p>
</details>
<details>
<summary>Commits</summary>
<ul>
<li><a href=""https://github.com/vitest-dev/vitest/commit/c9e59a089d94642eea29a43f2ee1986a5afb99c6""><code>c9e59a0</code></a> chore: release v2.1.9</li>
<li><a href=""https://github.com/vitest-dev/vitest/commit/e0fe1d81e2d4bcddb1c6ca3c5c3970d8ba697383""><code>e0fe1d8</code></a> fix: backport <a href=""https://github.com/vitest-dev/vitest/tree/HEAD/packages/vitest/issues/7317"">#7317</a> to v2 (<a href=""https://github.com/vitest-dev/vitest/tree/HEAD/packages/vitest/issues/7318"">#7318</a>)</li>
<li><a href=""https://github.com/vitest-dev/vitest/commit/d69cc75698dd6dbeaed5c237ebb46ccd41bfb438""><code>d69cc75</code></a> bump: 2.1.8</li>
<li><a href=""https://github.com/vitest-dev/vitest/commit/92f7a2ad18453343bfef1333af4b4c8191f72ec4""><code>92f7a2a</code></a> fix: support Node 21</li>
<li><a href=""https://github.com/vitest-dev/vitest/commit/81ed45b3a46759ac5b8aaa3a5fad80767316c4ae""><code>81ed45b</code></a> chore: release v2.1.7</li>
<li><a href=""https://github.com/vitest-dev/vitest/commit/fbe5c39d8891abcd91dc6b03720ee2b6c7678197""><code>fbe5c39</code></a> fix: revert support for Vite 6</li>
<li><a href=""https://github.com/vitest-dev/vitest/commit/b936702debce5a9deca637b25950afa485ad3639""><code>b936702</code></a> bump: 2.1.6</li>
<li><a href=""https://github.com/vitest-dev/vitest/commit/32f23b98b4b1a3708360debc03b6719f5226db87""><code>32f23b9</code></a> chore: release v2.1.5</li>
<li><a href=""https://github.com/vitest-dev/vitest/commit/417bdb423d7a33d9c8be5b2d0d7027a2c38ded43""><code>417bdb4</code></a> fix(browser): init browsers eagerly when tests are running (<a href=""https://github.com/vitest-dev/vitest/tree/HEAD/packages/vitest/issues/6876"">#6876</a>)</li>
<li><a href=""https://github.com/vitest-dev/vitest/commit/93b67c24b1e8297f230d54d953a5c537aa7b9f75""><code>93b67c2</code></a> fix: throw an error and a warning if <code>.poll</code>, <code>.element</code>, <code>.rejects</code>/`.resolv...</li>
<li>Additional commits viewable in <a href=""https://github.com/vitest-dev/vitest/commits/v2.1.9/packages/vitest"">compare view</a></li>
</ul>
</details>
<br />


[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=vitest&package-manager=npm_and_yarn&previous-version=2.1.1&new-version=2.1.9)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores)

Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.

[//]: # (dependabot-automerge-start)
[//]: # (dependabot-automerge-end)

---

<details>
<summary>Dependabot commands and options</summary>
<br />

You can trigger Dependabot actions by commenting on this PR:
- `@dependabot rebase` will rebase this PR
- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it
- `@dependabot merge` will merge this PR after your CI passes on it
- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it
- `@dependabot cancel merge` will cancel a previously requested merge and block automerging
- `@dependabot reopen` will reopen this PR if it is closed
- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
- `@dependabot show <dependency name> ignore conditions` will show all of the ignore conditions of the specified dependency
- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)
- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)
- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)
You can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/apache/airflow/network/alerts).

</details>",dependabot[bot],2025-02-05 05:58:44+00:00,[],2025-02-05 12:51:19+00:00,2025-02-05 12:51:10+00:00,https://github.com/apache/airflow/pull/46447,"[('area:UI', 'Related to UI/UX. For Frontend Developers.'), ('area:dependencies', 'Issues related to dependencies problems'), ('javascript', 'Pull requests that update Javascript code')]",[],
2831862009,pull_request,closed,,Limiting retryhttp to not use 1.3.0 to fix CI mypy checks,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->

retryhttp released 1.3.0 and seems like clients using it run into mypy issues 
```
providers/edge/src/airflow/providers/edge/cli/api_client.py:66: error: Never
not callable  [misc]
    @retry(
     ^
Found 1 error in 1 file (checked [36](https://github.com/apache/airflow/actions/runs/13148605736/job/36692383263#step:6:37)88 source files)
Error 1 returned
```

Example https://github.com/apache/airflow/actions/runs/13148605736/job/36692383263


The issue is either mypy or retryhttp, testing this as a potential fix.

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",amoghrajesh,2025-02-05 04:35:00+00:00,[],2025-02-05 20:27:28+00:00,2025-02-05 05:57:16+00:00,https://github.com/apache/airflow/pull/46446,"[('area:task-sdk', None), ('provider:edge', 'Edge Executor / Worker (AIP-69)')]","[{'comment_id': 2635683092, 'issue_id': 2831862009, 'author': 'amoghrajesh', 'body': 'If this one goes through, will raise an issue against retry http.', 'created_at': datetime.datetime(2025, 2, 5, 4, 35, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635689464, 'issue_id': 2831862009, 'author': 'amoghrajesh', 'body': 'Closing and reopening to run all tests', 'created_at': datetime.datetime(2025, 2, 5, 4, 42, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635768180, 'issue_id': 2831862009, 'author': 'amoghrajesh', 'body': 'Created a bug against retryhttp: https://github.com/austind/retryhttp/issues/20', 'created_at': datetime.datetime(2025, 2, 5, 5, 56, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636509171, 'issue_id': 2831862009, 'author': 'potiuk', 'body': 'nice!', 'created_at': datetime.datetime(2025, 2, 5, 11, 47, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637954018, 'issue_id': 2831862009, 'author': 'jscheffl', 'body': 'Oh, just saw this late - THANKS for fixing!', 'created_at': datetime.datetime(2025, 2, 5, 20, 27, 27, tzinfo=datetime.timezone.utc)}]","amoghrajesh (Issue Creator) on (2025-02-05 04:35:52 UTC): If this one goes through, will raise an issue against retry http.

amoghrajesh (Issue Creator) on (2025-02-05 04:42:08 UTC): Closing and reopening to run all tests

amoghrajesh (Issue Creator) on (2025-02-05 05:56:32 UTC): Created a bug against retryhttp: https://github.com/austind/retryhttp/issues/20

potiuk on (2025-02-05 11:47:56 UTC): nice!

jscheffl on (2025-02-05 20:27:27 UTC): Oh, just saw this late - THANKS for fixing!

"
2831420598,pull_request,closed,,Refactor dag processor for code clarity,"Dag processor has experienced a lot of organic growth over the years and had gotten into a state where it became a bit hard to understand.  E.g. method `set_files` did not have a name that clearly indicated its purpose. And that's probably in part because it did a bunch of things and was called in a bunch of places.  I simplify that method and focus on just one aspect of its prior work, namely handling removed files, and call it `handle_removed_files`.

A lot of the behavior was driven by a data structure on the instance called file paths.  This contained all known files.  It's one thing that was modified in `set_files`.  From looking at the main loop it was not obvious where this structure was being used or modified.  So I made it a local variable instead of instance attr. And now we can easily see all the methods that are using it because it must be passed around.

I rename the `file_paths` to known_files because that is clearer about its meaning.  Previously it was file_paths and file_queue -- harder to understand the different purposes.  I make file_paths a dictionary because then it's easier to replace all the files in the bundle, something that was previously done by iterating through the files. 

In prepare file paths, I pull out the mtime mode logic into its own method because it's quite involved and made the prepare file paths method too big and complicated.  Along with this I simplify the logic to not exclude recently processed files if they were recently changed.

In some of the tests, I had to change the way we simulated mtime numbers because the input is now a set which does not guarantee order.  So I encode the mtime in the filename in the test.  And the one test dealing with zip file, this was apparently a flakey test.  I change it so we don't mock anything but just copy the file to a tmp dir and make a bundle there, then remove it and see what happens.

In clear_orphaned_import_errors I no longer pass the entire list of known dag files.  Cus there could be a lot of them.


",dstandish,2025-02-04 22:24:10+00:00,[],2025-02-07 19:18:31+00:00,2025-02-07 19:18:29+00:00,https://github.com/apache/airflow/pull/46443,"[('full tests needed', 'We need to run full set of tests for this PR to merge'), ('area:DAG-processing', ''), ('AIP-66: DAG Bundle/Manifest', '')]",[],
2831350332,pull_request,closed,,Update Kubernetes version used in the system test `example_emr_eks`,"The default Kubernetes version used in EKS is `1.31`. This version will be deprecated in November 2025. Plus, for various reason, using the `1.31` version makes the system test `example_emr_eks` fail with the error:

```
botocore.errorfactory.ValidationException: An error occurred (ValidationException) when calling the CreateVirtualCluster operation: Cluster env40beb96b-cluster is not reachable as its connection is currently being updated
```

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vincbeck,2025-02-04 21:36:52+00:00,[],2025-02-05 16:45:18+00:00,2025-02-05 16:45:16+00:00,https://github.com/apache/airflow/pull/46441,"[('provider:amazon', 'AWS/Amazon - related issues'), ('area:providers', '')]",[],
2831290905,pull_request,closed,,Make building PROD image using sources requirements,"When PROD image is build using sources, it should use source requireents rather than pip requirements - they might be conflicting if the main providers are different than released prividers.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-02-04 21:01:06+00:00,[],2025-02-04 22:10:51+00:00,2025-02-04 22:10:49+00:00,https://github.com/apache/airflow/pull/46440,"[('area:dev-tools', '')]",[],
2831163145,pull_request,closed,,Implemented cursor for ElasticsearchSQLHook so it can be used through SQLExecuteQueryOperator,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: [#46434](https://github.com/apache/airflow/issues/46434)
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->

This PR implements a PEP 249-like cursor (e.g. ElasticsearchSQLCursor) so the ElasticsearchSQLHook (which is a specialization of the DbApiHook) can be used through the SQLExecuteQueryOperator.

The issue is that the TestElasticsearchSQLHook mocks the cursor and thus gives the impression the ESConnection has a cursor available which is internally used by the run method of the DbApiHook but in reality doesn't exist, this means at runtime the SQLExecuteQueryOperator will fail.


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",dabla,2025-02-04 19:54:59+00:00,[],2025-02-05 19:48:15+00:00,2025-02-05 19:48:15+00:00,https://github.com/apache/airflow/pull/46439,"[('provider:elasticsearch', '')]",[],
2831022833,pull_request,closed,,Prepare documentation for FAB provider 1.5.3 release,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-02-04 18:40:30+00:00,[],2025-02-04 21:08:57+00:00,2025-02-04 21:08:55+00:00,https://github.com/apache/airflow/pull/46438,"[('area:providers', ''), ('kind:documentation', '')]","[{'comment_id': 2634918526, 'issue_id': 2831022833, 'author': 'potiuk', 'body': '> Dont forget also to forward port the changelog and commit.rst to main branch\r\n\r\nYep. Thanks for reminding :)', 'created_at': datetime.datetime(2025, 2, 4, 19, 49, 3, tzinfo=datetime.timezone.utc)}]","potiuk (Issue Creator) on (2025-02-04 19:49:03 UTC): Yep. Thanks for reminding :)

"
2831002514,pull_request,closed,,Add search bar for pools page,"related: #43706 

<img width=""1728"" alt=""image"" src=""https://github.com/user-attachments/assets/b33638cf-c8bd-4301-a101-4113975433e2"" />


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",shubhamraj-git,2025-02-04 18:29:53+00:00,[],2025-02-04 20:00:15+00:00,2025-02-04 20:00:14+00:00,https://github.com/apache/airflow/pull/46437,"[('area:UI', 'Related to UI/UX. For Frontend Developers.')]",[],
2830861903,pull_request,closed,,Move CNCF Kubernetes to new provider structure,"related: #46045 



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",jason810496,2025-02-04 17:22:33+00:00,[],2025-02-06 17:35:58+00:00,2025-02-06 17:33:23+00:00,https://github.com/apache/airflow/pull/46436,"[('area:dev-tools', ''), ('kind:documentation', '')]","[{'comment_id': 2634624857, 'issue_id': 2830861903, 'author': 'rawwar', 'body': '~~@hardeybisey  is already working on this - https://github.com/apache/airflow/issues/46045#issuecomment-2626683707~~\r\n\r\nJust noticed the comment - https://github.com/apache/airflow/pull/46132#issuecomment-2634622838', 'created_at': datetime.datetime(2025, 2, 4, 17, 30, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635240675, 'issue_id': 2830861903, 'author': 'bugraoz93', 'body': 'One of the docs is failing due to a path showing old system tests. `apache-airflow/tutorial/taskflow.rst`', 'created_at': datetime.datetime(2025, 2, 4, 22, 48, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635830490, 'issue_id': 2830861903, 'author': 'jason810496', 'body': ""The remain errors are caused by `tests/always/test_project_structure.py::TestCncfProviderProjectStructure::test_missing_examples`  and import error for `airflow.providers.cncf` in `kubernetes_tests/test_kubernetes_pod_operator.py`.\r\n\r\n```\r\nkubernetes_tests/test_kubernetes_pod_operator.py:39: in <module>\r\n    from airflow.providers.cncf.kubernetes.hooks.kubernetes import KubernetesHook\r\nE   ModuleNotFoundError: No module named 'airflow.providers.cncf'\r\n```\r\n\r\nI tried updating the path in `tests/always/test_project_structure.py`, replacing `providers/tests/cncf/kubernetes/` with `providers/cncf/kubernetes/tests/provider_tests/cncf/kubernetes/`, and ran the test locally, but it still fails.\r\n\r\nI'm also unsure why the import in `kubernetes_tests/test_kubernetes_pod_operator.py` is failing, might need some hints on how to fix these errors. ðŸ™"", 'created_at': datetime.datetime(2025, 2, 5, 6, 46, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635854334, 'issue_id': 2830861903, 'author': 'rawwar', 'body': ""@jason810496 , which failing test has this import error? I checked failing tests and don't see any import errors. Can you share the link to the failing test? or is it happening locally?"", 'created_at': datetime.datetime(2025, 2, 5, 7, 4, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635856928, 'issue_id': 2830861903, 'author': 'jason810496', 'body': ""> @jason810496 , which failing test has this import error? I checked failing tests and don't see any import errors. Can you share the link to the failing test? or is it happening locally?\r\n\r\nAll the k8s tests encounter the import error. e.g. https://github.com/apache/airflow/actions/runs/13149821313/job/36695881525?pr=46436"", 'created_at': datetime.datetime(2025, 2, 5, 7, 6, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635859795, 'issue_id': 2830861903, 'author': 'rawwar', 'body': ""> > @jason810496 , which failing test has this import error? I checked failing tests and don't see any import errors. Can you share the link to the failing test? or is it happening locally?\r\n> \r\n> All the k8s tests encounter the import error. e.g. https://github.com/apache/airflow/actions/runs/13149821313/job/36695881525?pr=46436\r\n\r\nAh sorry. I just realised you mentioned about two issues. I resolved the issue with example_dag in google provider. looking into it. Not sure about k8s tests. Will look at it after example dag tests"", 'created_at': datetime.datetime(2025, 2, 5, 7, 8, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635871878, 'issue_id': 2830861903, 'author': 'rawwar', 'body': '@jason810496 , I noticed that adding\r\n\r\n```\r\nMISSING_EXAMPLES_FOR_CLASSES = {\r\n        ""src.airflow.providers.cncf.kubernetes.operators.job.KubernetesDeleteJobOperator""\r\n    }\r\n```\r\n\r\nto TestCncfProviderProjectStructure and that\'s ignoring the issues.  But, in actual, test for the class is present at `airflow/providers/cncf/kubernetes/tests/provider_tests/cncf/kubernetes/operators/test_job.py`\r\n\r\nSo, issue is definitely with the src prefix in the import path. That\'s a direction to look into?\r\n\r\n\r\nEDIT: I suspect issue is because of the way we find example dags at https://github.com/rawwar/airflow/blob/4821da5cc3fe58e1f64d49967b52026adfa89dbe/tests/always/test_project_structure.py#L307', 'created_at': datetime.datetime(2025, 2, 5, 7, 16, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635911155, 'issue_id': 2830861903, 'author': 'rawwar', 'body': 'Ok, so, the issue is that PROVIDER is set to `cncf`  in https://github.com/rawwar/airflow/blob/4821da5cc3fe58e1f64d49967b52026adfa89dbe/tests/always/test_project_structure.py#L288\r\n\r\nbecause of that, its unable to find the example dags', 'created_at': datetime.datetime(2025, 2, 5, 7, 28, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635925270, 'issue_id': 2830861903, 'author': 'jason810496', 'body': '> Ok, so, the issue is that PROVIDER is set to `cncf` in https://github.com/rawwar/airflow/blob/4821da5cc3fe58e1f64d49967b52026adfa89dbe/tests/always/test_project_structure.py#L288\r\n> \r\n> because of that, its unable to find the example dags\r\n\r\nI just replaced the `PROVIDER = ""cncf""` with `PROVIDER = ""cncf/kubernetes""` and ran the test, but it still fail.\r\nhttps://github.com/rawwar/airflow/blob/4821da5cc3fe58e1f64d49967b52026adfa89dbe/tests/always/test_project_structure.py#L571\r\n\r\nUPDATED:\r\nThe test fail due to:\r\n```\r\n{\'src.airflow.providers.cncf.kubernetes.operators.spark_kubernetes.SparkKubernetesOperator\': <ast.ClassDef object at 0xffffb0c46910>}\r\nClasses with missing examples:\r\n    src.airflow.providers.cncf.kubernetes.operators.job.KubernetesDeleteJobOperator\r\n    src.airflow.providers.cncf.kubernetes.operators.job.KubernetesJobOperator\r\n    src.airflow.providers.cncf.kubernetes.operators.job.KubernetesPatchJobOperator\r\n    src.airflow.providers.cncf.kubernetes.operators.kueue.KubernetesInstallKueueOperator\r\n    src.airflow.providers.cncf.kubernetes.operators.kueue.KubernetesStartKueueJobOperator\r\n    src.airflow.providers.cncf.kubernetes.operators.pod.KubernetesPodOperator\r\n    src.airflow.providers.cncf.kubernetes.operators.resource.KubernetesCreateResourceOperator\r\n    src.airflow.providers.cncf.kubernetes.operators.resource.KubernetesDeleteResourceOperator\r\n    src.airflow.providers.cncf.kubernetes.operators.resource.KubernetesResourceBaseOperator\r\n    src.airflow.providers.cncf.kubernetes.operators.spark_kubernetes.SparkKubernetesOperator\r\n    src.airflow.providers.cncf.kubernetes.sensors.spark_kubernetes.SparkKubernetesSensor\r\nFAILED\r\n```\r\nI think by adding `MISSING_EXAMPLES_FOR_CLASSES` set will resolve this error.', 'created_at': datetime.datetime(2025, 2, 5, 7, 32, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635938804, 'issue_id': 2830861903, 'author': 'rawwar', 'body': ""> \r\n> I think by adding `MISSING_EXAMPLES_FOR_CLASSES` set will resolve this error.\r\n\r\nI was actually checking. I see example tests at `airflow/providers/cncf/kubernetes/tests/system/cncf/kubernetes/example_kubernetes_job.py`. \r\n\r\nSomehow, these aren't being imported\r\n\r\nEDIT: Issue is definitely because of https://github.com/rawwar/airflow/blob/4821da5cc3fe58e1f64d49967b52026adfa89dbe/tests/always/test_project_structure.py#L243\r\n\r\nOnly for this provider, its prefixed with `src.`. I checked google tests and I don't see `src.` being prefixed. fixing that should resolve the issues"", 'created_at': datetime.datetime(2025, 2, 5, 7, 35, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636021093, 'issue_id': 2830861903, 'author': 'rawwar', 'body': 'So, the actual issue for the example test is at https://github.com/rawwar/airflow/blob/4821da5cc3fe58e1f64d49967b52026adfa89dbe/tests/always/test_project_structure.py#L272\r\n\r\nHere we just split and consider from 2nd index. since, its `cncf.kubernetes.src`  in this case, its failing. This needs to be fixed. Maybe later or in this PR\r\n\r\n\r\nOn to K8s failing tests', 'created_at': datetime.datetime(2025, 2, 5, 8, 9, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636049151, 'issue_id': 2830861903, 'author': 'rawwar', 'body': '@jason810496 , raised a separate pr - https://github.com/apache/airflow/pull/46454 . that might handle it. Locally, tests passed . looking into k8s tests failure', 'created_at': datetime.datetime(2025, 2, 5, 8, 24, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636211723, 'issue_id': 2830861903, 'author': 'rawwar', 'body': 'it looks like https://github.com/apache/airflow/pull/46454 also fixes K8s tests. I just ran them locally and they passed', 'created_at': datetime.datetime(2025, 2, 5, 9, 37, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636243436, 'issue_id': 2830861903, 'author': 'jason810496', 'body': '> it looks like https://github.com/apache/airflow/pull/46454 also fixes K8s tests. I just ran them locally and they passed\n\nIf then, I will revert the last commit and wait for #46454 be merged. Big thanks to @rawwar !', 'created_at': datetime.datetime(2025, 2, 5, 9, 50, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636246776, 'issue_id': 2830861903, 'author': 'rawwar', 'body': ""Can you pull the changes from the PR? these k8s tests didn't run on the other PR. Once you pull, we can at least confirm that the changes fix the k8s tests."", 'created_at': datetime.datetime(2025, 2, 5, 9, 51, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636837177, 'issue_id': 2830861903, 'author': 'rawwar', 'body': 'So, the only other fix required here for the example tests is to make providers = ""cncf/kubernetes"". \r\n\r\nBut, k8s tests are still failing. I just raised a [dummy pr](https://github.com/apache/airflow/actions/runs/13157601342/job/36720083829?pr=46461) to see the test results and they failed. Locally, They are successful.', 'created_at': datetime.datetime(2025, 2, 5, 13, 19, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637801109, 'issue_id': 2830861903, 'author': 'potiuk', 'body': '@jason810496 -> the k8s tests here are failing because you need to modify `scripts/ci/kubernetes/k8s_requirements.txt` -> You need to add this:\r\n\r\n```\r\n-e ./providers/cncf/kubernetes\r\n```', 'created_at': datetime.datetime(2025, 2, 5, 19, 9, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638984219, 'issue_id': 2830861903, 'author': 'jason810496', 'body': 'The import error has finally been resolved! Big thanks to @potiuk! \r\n\r\nThe only remaining CI failures:  \r\n- **Additional PROD image tests**  \r\n  - **Docker Compose quick start with PROD image**  \r\n    - `upstream_failed` in `docker_tests/test_docker_compose_quick_start.py::test_trigger_dag_and_wait_for_result`  \r\n- **K8s tests**  \r\n  - `upstream_failed` or `failed` for both `CeleryExecutor` and `LocalExecutor`.  \r\n\r\nNot sure if rerunning the tests would resolve these errors.', 'created_at': datetime.datetime(2025, 2, 6, 6, 55, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639087916, 'issue_id': 2830861903, 'author': 'potiuk', 'body': '> Not sure if rerunning the tests would resolve these errors\r\n\r\nThose are tests failing in main now - due to some `task_sdk`  errors and there are other PRs that should already fix them https://github.com/apache/airflow/pull/46492 - merged after your change, so rebasing should fix them. Let me try it.', 'created_at': datetime.datetime(2025, 2, 6, 7, 57, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639932873, 'issue_id': 2830861903, 'author': 'potiuk', 'body': 'Ah... You need to rebase :( there are some changes merged in the meantime. Sorry :( \r\n\r\nBut we are REALLY close.', 'created_at': datetime.datetime(2025, 2, 6, 14, 8, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639961408, 'issue_id': 2830861903, 'author': 'jason810496', 'body': '> But we are REALLY close.\r\n\r\nHope this one will be the last one to be green  ðŸš€ ðŸŸ¢', 'created_at': datetime.datetime(2025, 2, 6, 14, 20, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640392535, 'issue_id': 2830861903, 'author': 'potiuk', 'body': 'Ah.. For some reason you have all teh `_api` files generated added to that PR @jason810496 -> you should remove them!', 'created_at': datetime.datetime(2025, 2, 6, 16, 43, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640413598, 'issue_id': 2830861903, 'author': 'jason810496', 'body': '> Ah.. For some reason you have all teh `_api` files generated added to that PR @jason810496 -> you should remove them!\r\n\r\nDo you mean all the docs prefix with `_api` should be removed ?', 'created_at': datetime.datetime(2025, 2, 6, 16, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640432315, 'issue_id': 2830861903, 'author': 'potiuk', 'body': 'Yep. I have not seen you are around - just pushed that fixup.\r\n\r\nYeah. The `_api` docs are generated automatically when docs are being built and they should be `.gitignored` in general - but they were added in this PR.', 'created_at': datetime.datetime(2025, 2, 6, 16, 48, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640550372, 'issue_id': 2830861903, 'author': 'potiuk', 'body': 'Wooho.', 'created_at': datetime.datetime(2025, 2, 6, 17, 33, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640555298, 'issue_id': 2830861903, 'author': 'jason810496', 'body': '> Wooho.\r\n\r\nGreatly appreciate it, thanks @potiuk! ðŸ™ŒðŸŽ‰', 'created_at': datetime.datetime(2025, 2, 6, 17, 35, 56, tzinfo=datetime.timezone.utc)}]","rawwar on (2025-02-04 17:30:02 UTC): ~~@hardeybisey  is already working on this - https://github.com/apache/airflow/issues/46045#issuecomment-2626683707~~

Just noticed the comment - https://github.com/apache/airflow/pull/46132#issuecomment-2634622838

bugraoz93 on (2025-02-04 22:48:47 UTC): One of the docs is failing due to a path showing old system tests. `apache-airflow/tutorial/taskflow.rst`

jason810496 (Issue Creator) on (2025-02-05 06:46:42 UTC): The remain errors are caused by `tests/always/test_project_structure.py::TestCncfProviderProjectStructure::test_missing_examples`  and import error for `airflow.providers.cncf` in `kubernetes_tests/test_kubernetes_pod_operator.py`.

```
kubernetes_tests/test_kubernetes_pod_operator.py:39: in <module>
    from airflow.providers.cncf.kubernetes.hooks.kubernetes import KubernetesHook
E   ModuleNotFoundError: No module named 'airflow.providers.cncf'
```

I tried updating the path in `tests/always/test_project_structure.py`, replacing `providers/tests/cncf/kubernetes/` with `providers/cncf/kubernetes/tests/provider_tests/cncf/kubernetes/`, and ran the test locally, but it still fails.

I'm also unsure why the import in `kubernetes_tests/test_kubernetes_pod_operator.py` is failing, might need some hints on how to fix these errors. ðŸ™

rawwar on (2025-02-05 07:04:35 UTC): @jason810496 , which failing test has this import error? I checked failing tests and don't see any import errors. Can you share the link to the failing test? or is it happening locally?

jason810496 (Issue Creator) on (2025-02-05 07:06:22 UTC): All the k8s tests encounter the import error. e.g. https://github.com/apache/airflow/actions/runs/13149821313/job/36695881525?pr=46436

rawwar on (2025-02-05 07:08:22 UTC): Ah sorry. I just realised you mentioned about two issues. I resolved the issue with example_dag in google provider. looking into it. Not sure about k8s tests. Will look at it after example dag tests

rawwar on (2025-02-05 07:16:59 UTC): @jason810496 , I noticed that adding

```
MISSING_EXAMPLES_FOR_CLASSES = {
        ""src.airflow.providers.cncf.kubernetes.operators.job.KubernetesDeleteJobOperator""
    }
```

to TestCncfProviderProjectStructure and that's ignoring the issues.  But, in actual, test for the class is present at `airflow/providers/cncf/kubernetes/tests/provider_tests/cncf/kubernetes/operators/test_job.py`

So, issue is definitely with the src prefix in the import path. That's a direction to look into?


EDIT: I suspect issue is because of the way we find example dags at https://github.com/rawwar/airflow/blob/4821da5cc3fe58e1f64d49967b52026adfa89dbe/tests/always/test_project_structure.py#L307

rawwar on (2025-02-05 07:28:12 UTC): Ok, so, the issue is that PROVIDER is set to `cncf`  in https://github.com/rawwar/airflow/blob/4821da5cc3fe58e1f64d49967b52026adfa89dbe/tests/always/test_project_structure.py#L288

because of that, its unable to find the example dags

jason810496 (Issue Creator) on (2025-02-05 07:32:04 UTC): I just replaced the `PROVIDER = ""cncf""` with `PROVIDER = ""cncf/kubernetes""` and ran the test, but it still fail.
https://github.com/rawwar/airflow/blob/4821da5cc3fe58e1f64d49967b52026adfa89dbe/tests/always/test_project_structure.py#L571

UPDATED:
The test fail due to:
```
{'src.airflow.providers.cncf.kubernetes.operators.spark_kubernetes.SparkKubernetesOperator': <ast.ClassDef object at 0xffffb0c46910>}
Classes with missing examples:
    src.airflow.providers.cncf.kubernetes.operators.job.KubernetesDeleteJobOperator
    src.airflow.providers.cncf.kubernetes.operators.job.KubernetesJobOperator
    src.airflow.providers.cncf.kubernetes.operators.job.KubernetesPatchJobOperator
    src.airflow.providers.cncf.kubernetes.operators.kueue.KubernetesInstallKueueOperator
    src.airflow.providers.cncf.kubernetes.operators.kueue.KubernetesStartKueueJobOperator
    src.airflow.providers.cncf.kubernetes.operators.pod.KubernetesPodOperator
    src.airflow.providers.cncf.kubernetes.operators.resource.KubernetesCreateResourceOperator
    src.airflow.providers.cncf.kubernetes.operators.resource.KubernetesDeleteResourceOperator
    src.airflow.providers.cncf.kubernetes.operators.resource.KubernetesResourceBaseOperator
    src.airflow.providers.cncf.kubernetes.operators.spark_kubernetes.SparkKubernetesOperator
    src.airflow.providers.cncf.kubernetes.sensors.spark_kubernetes.SparkKubernetesSensor
FAILED
```
I think by adding `MISSING_EXAMPLES_FOR_CLASSES` set will resolve this error.

rawwar on (2025-02-05 07:35:42 UTC): I was actually checking. I see example tests at `airflow/providers/cncf/kubernetes/tests/system/cncf/kubernetes/example_kubernetes_job.py`. 

Somehow, these aren't being imported

EDIT: Issue is definitely because of https://github.com/rawwar/airflow/blob/4821da5cc3fe58e1f64d49967b52026adfa89dbe/tests/always/test_project_structure.py#L243

Only for this provider, its prefixed with `src.`. I checked google tests and I don't see `src.` being prefixed. fixing that should resolve the issues

rawwar on (2025-02-05 08:09:48 UTC): So, the actual issue for the example test is at https://github.com/rawwar/airflow/blob/4821da5cc3fe58e1f64d49967b52026adfa89dbe/tests/always/test_project_structure.py#L272

Here we just split and consider from 2nd index. since, its `cncf.kubernetes.src`  in this case, its failing. This needs to be fixed. Maybe later or in this PR


On to K8s failing tests

rawwar on (2025-02-05 08:24:58 UTC): @jason810496 , raised a separate pr - https://github.com/apache/airflow/pull/46454 . that might handle it. Locally, tests passed . looking into k8s tests failure

rawwar on (2025-02-05 09:37:38 UTC): it looks like https://github.com/apache/airflow/pull/46454 also fixes K8s tests. I just ran them locally and they passed

jason810496 (Issue Creator) on (2025-02-05 09:50:25 UTC): If then, I will revert the last commit and wait for #46454 be merged. Big thanks to @rawwar !

rawwar on (2025-02-05 09:51:52 UTC): Can you pull the changes from the PR? these k8s tests didn't run on the other PR. Once you pull, we can at least confirm that the changes fix the k8s tests.

rawwar on (2025-02-05 13:19:32 UTC): So, the only other fix required here for the example tests is to make providers = ""cncf/kubernetes"". 

But, k8s tests are still failing. I just raised a [dummy pr](https://github.com/apache/airflow/actions/runs/13157601342/job/36720083829?pr=46461) to see the test results and they failed. Locally, They are successful.

potiuk on (2025-02-05 19:09:25 UTC): @jason810496 -> the k8s tests here are failing because you need to modify `scripts/ci/kubernetes/k8s_requirements.txt` -> You need to add this:

```
-e ./providers/cncf/kubernetes
```

jason810496 (Issue Creator) on (2025-02-06 06:55:12 UTC): The import error has finally been resolved! Big thanks to @potiuk! 

The only remaining CI failures:  
- **Additional PROD image tests**  
  - **Docker Compose quick start with PROD image**  
    - `upstream_failed` in `docker_tests/test_docker_compose_quick_start.py::test_trigger_dag_and_wait_for_result`  
- **K8s tests**  
  - `upstream_failed` or `failed` for both `CeleryExecutor` and `LocalExecutor`.  

Not sure if rerunning the tests would resolve these errors.

potiuk on (2025-02-06 07:57:21 UTC): Those are tests failing in main now - due to some `task_sdk`  errors and there are other PRs that should already fix them https://github.com/apache/airflow/pull/46492 - merged after your change, so rebasing should fix them. Let me try it.

potiuk on (2025-02-06 14:08:59 UTC): Ah... You need to rebase :( there are some changes merged in the meantime. Sorry :( 

But we are REALLY close.

jason810496 (Issue Creator) on (2025-02-06 14:20:28 UTC): Hope this one will be the last one to be green  ðŸš€ ðŸŸ¢

potiuk on (2025-02-06 16:43:28 UTC): Ah.. For some reason you have all teh `_api` files generated added to that PR @jason810496 -> you should remove them!

jason810496 (Issue Creator) on (2025-02-06 16:46:00 UTC): Do you mean all the docs prefix with `_api` should be removed ?

potiuk on (2025-02-06 16:48:44 UTC): Yep. I have not seen you are around - just pushed that fixup.

Yeah. The `_api` docs are generated automatically when docs are being built and they should be `.gitignored` in general - but they were added in this PR.

potiuk on (2025-02-06 17:33:37 UTC): Wooho.

jason810496 (Issue Creator) on (2025-02-06 17:35:56 UTC): Greatly appreciate it, thanks @potiuk! ðŸ™ŒðŸŽ‰

"
2830795181,pull_request,closed,,AIP 65 Add task instance version name,"![Screenshot 2025-02-04 at 17 50 30](https://github.com/user-attachments/assets/ea2b6520-cbcc-4d28-97ed-9de279bafe2d)
",pierrejeambrun,2025-02-04 16:50:09+00:00,[],2025-02-04 19:10:08+00:00,2025-02-04 19:10:05+00:00,https://github.com/apache/airflow/pull/46433,"[('area:UI', 'Related to UI/UX. For Frontend Developers.'), ('AIP-38', 'Modern Web Application'), ('AIP-65: DAG history in UI', '')]",[],
2830631108,pull_request,closed,,Bump psycopg2 to 2.9.9 to possibly avoid crash on Python 3.12,"Fixes: https://github.com/apache/airflow/issues/46430  (Likely)

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-02-04 15:41:35+00:00,[],2025-02-04 16:41:47+00:00,2025-02-04 16:41:44+00:00,https://github.com/apache/airflow/pull/46431,"[('area:dev-tools', ''), ('provider:postgres', '')]","[{'comment_id': 2634511186, 'issue_id': 2830631108, 'author': 'potiuk', 'body': 'Random failure, recorded in https://github.com/apache/airflow/issues/46432  - merging.', 'created_at': datetime.datetime(2025, 2, 4, 16, 41, 40, tzinfo=datetime.timezone.utc)}]","potiuk (Issue Creator) on (2025-02-04 16:41:40 UTC): Random failure, recorded in https://github.com/apache/airflow/issues/46432  - merging.

"
2830547428,pull_request,closed,,Fix ownership of files that docker uses in mounted directories,"The #46358 moved docker to another mounted directory - but this directory and all files in it are owned by host user. The directory and all files inside should be owned by root in order to properly reflect permissions of the files when building docker images.

The change is now simplified. Rather than passing mount directory by variable and passing it through GitHub Actions, we hard-code the location of docker in cleanup_docker.sh script - we also incorporate changing ownership and showing disk space in the same cleanup_docker.sh script and make sure that script is only called in the ""real"" (not composite) actions at the beginning - right after the repository is checked out - previously that script was also called in composite actions and changing the repo to be writeable was done AFTER cleanup_docker.sh - which would not work as we want the /mnt directory to be still owned by the host user, but the docker storage should be still owned by root.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-02-04 15:09:12+00:00,[],2025-02-04 19:50:22+00:00,2025-02-04 15:59:20+00:00,https://github.com/apache/airflow/pull/46428,"[('area:dev-tools', '')]","[{'comment_id': 2634921056, 'issue_id': 2830547428, 'author': 'jscheffl', 'body': 'Great!', 'created_at': datetime.datetime(2025, 2, 4, 19, 50, 20, tzinfo=datetime.timezone.utc)}]","jscheffl on (2025-02-04 19:50:20 UTC): Great!

"
2830517021,pull_request,closed,,fix: variable typo Update variable.rst,"Variable key typo in the docs.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",suyesh-amatya,2025-02-04 14:57:47+00:00,[],2025-02-05 19:01:45+00:00,2025-02-05 19:01:41+00:00,https://github.com/apache/airflow/pull/46427,"[('kind:documentation', '')]","[{'comment_id': 2634232499, 'issue_id': 2830517021, 'author': 'boring-cyborg[bot]', 'body': ""Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)\nHere are some useful points:\n- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.\n- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.\n- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.\n- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.\n- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.\n- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).\n- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.\nApache Airflow is a community-driven project and together we are making it better ðŸš€.\nIn case of doubts contact the developers at:\nMailing List: dev@airflow.apache.org\nSlack: https://s.apache.org/airflow-slack"", 'created_at': datetime.datetime(2025, 2, 4, 14, 57, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637782794, 'issue_id': 2830517021, 'author': 'boring-cyborg[bot]', 'body': 'Awesome work, congrats on your first merged pull request! You are invited to check our [Issue Tracker](https://github.com/apache/airflow/issues) for additional contributions.', 'created_at': datetime.datetime(2025, 2, 5, 19, 1, 44, tzinfo=datetime.timezone.utc)}]","boring-cyborg[bot] on (2025-02-04 14:57:51 UTC): Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)
Here are some useful points:
- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.
- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.
- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.
- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.
- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.
- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).
- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.
Apache Airflow is a community-driven project and together we are making it better ðŸš€.
In case of doubts contact the developers at:
Mailing List: dev@airflow.apache.org
Slack: https://s.apache.org/airflow-slack

boring-cyborg[bot] on (2025-02-05 19:01:44 UTC): Awesome work, congrats on your first merged pull request! You are invited to check our [Issue Tracker](https://github.com/apache/airflow/issues) for additional contributions.

"
2830226970,pull_request,open,,Fix deferrable databricks operator failed before defer,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
When a Databricks job fails, it's expected the task instance will also fail. If the operator is configured as `deferrable=True` and the Databricks job already failed before defer, it should raise an error, as done in the `_handle_databricks_operator_execution` so the task instance will also fail.

The `_handle_deferrable_databricks_operator_execution` function wasn't raising this error, so when the Databricks job failed before defer, it would only finish successfully, opposed from the expected.

**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",GabrielSalla,2025-02-04 13:16:20+00:00,[],2025-02-05 18:59:01+00:00,,https://github.com/apache/airflow/pull/46424,"[('area:providers', ''), ('provider:databricks', '')]","[{'comment_id': 2637771406, 'issue_id': 2830226970, 'author': 'potiuk', 'body': '@alexott  ?', 'created_at': datetime.datetime(2025, 2, 5, 18, 59, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-02-05 18:59:00 UTC): @alexott  ?

"
2830160378,pull_request,closed,,SnowflakeSqlApiOperator: add snowflake_conn_id to template_fields,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #46421

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
closes: #46421
",bbossy,2025-02-04 12:49:12+00:00,[],2025-02-06 13:12:32+00:00,2025-02-06 13:12:27+00:00,https://github.com/apache/airflow/pull/46422,"[('provider:snowflake', 'Issues related to Snowflake provider')]","[{'comment_id': 2633812054, 'issue_id': 2830160378, 'author': 'boring-cyborg[bot]', 'body': ""Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)\nHere are some useful points:\n- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.\n- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.\n- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.\n- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.\n- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.\n- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).\n- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.\nApache Airflow is a community-driven project and together we are making it better ðŸš€.\nIn case of doubts contact the developers at:\nMailing List: dev@airflow.apache.org\nSlack: https://s.apache.org/airflow-slack"", 'created_at': datetime.datetime(2025, 2, 4, 12, 49, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639793730, 'issue_id': 2830160378, 'author': 'boring-cyborg[bot]', 'body': 'Awesome work, congrats on your first merged pull request! You are invited to check our [Issue Tracker](https://github.com/apache/airflow/issues) for additional contributions.', 'created_at': datetime.datetime(2025, 2, 6, 13, 12, 30, tzinfo=datetime.timezone.utc)}]","boring-cyborg[bot] on (2025-02-04 12:49:17 UTC): Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)
Here are some useful points:
- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.
- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.
- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.
- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.
- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.
- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).
- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.
Apache Airflow is a community-driven project and together we are making it better ðŸš€.
In case of doubts contact the developers at:
Mailing List: dev@airflow.apache.org
Slack: https://s.apache.org/airflow-slack

boring-cyborg[bot] on (2025-02-06 13:12:30 UTC): Awesome work, congrats on your first merged pull request! You are invited to check our [Issue Tracker](https://github.com/apache/airflow/issues) for additional contributions.

"
2830107684,pull_request,closed,,AIP-72: Enhancing task SDK to support nested tuples in template fields,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->

closes: https://github.com/apache/airflow/issues/46393


As part of https://github.com/apache/airflow/commit/ff7e70056e5b4e6e61d20215eec00054415d4a77, I had realised that there is an issue in the way tuples were handled and I had made a change for that:


To quote from that commit:
- Handling special case of `tuples` - they are json serialisable but we used to store them as lists when passed as tuples, because of usage of json.dumps(). It has been made like this now:
```
    def is_jsonable(x):
        try:
            json.dumps(x)
            if isinstance(x, tuple):
                # Tuple is converted to list in json.dumps
                # so while it is jsonable, it changes the type which might be a surprise
                # for the user, so instead we return False here -- which will convert it to string
                return False
```

Historically, all tuples in RTIF were converted to lists and this PR is bringing back that behaviour. It is just more natural to do that. So no major impact to anyone who is using it, if its a pure tuple, it will be kept as a tuple, if nested, it will be list-ified.

## Testing Results
1. Simple DAG:
```
import sys
from time import sleep

from airflow import DAG
from airflow.providers.standard.operators.python import PythonOperator
from datetime import datetime, timedelta
from airflow.exceptions import AirflowTaskTimeout


def print_hello(*args):
    print(args)

with DAG(
    dag_id=""atul_rendered"",
    schedule=None,
    catchup=False,
    tags=[""demo""],
) as dag:
    PythonOperator(
        task_id=""matts_assert"",
        python_callable=print_hello,
        op_args=[(""a"", ""b"", ""c"")]
    )
```

![image](https://github.com/user-attachments/assets/c5fb470d-599b-4f90-9956-d46c09f5d2cb)



2. Slightly more nested DAG:
```
import sys
from time import sleep

from airflow import DAG
from airflow.providers.standard.operators.python import PythonOperator
from datetime import datetime, timedelta
from airflow.exceptions import AirflowTaskTimeout


def print_hello(*args):
    print(args)

with DAG(
    dag_id=""atul_rendered"",
    schedule=None,
    catchup=False,
    tags=[""demo""],
) as dag:
    PythonOperator(
        task_id=""matts_assert"",
        python_callable=print_hello,
        op_args=[
            [(""t0.task_id"", ""t1.task_id"", ""branch one""),
             (""t0.task_id"", ""t2.task_id"", ""branch two""),
             (""t0.task_id"", ""t3.task_id"", ""branch three"")
             ]]
    )
```

![image](https://github.com/user-attachments/assets/c5fb470d-599b-4f90-9956-d46c09f5d2cb)


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",amoghrajesh,2025-02-04 12:30:23+00:00,[],2025-02-04 13:35:33+00:00,2025-02-04 13:35:32+00:00,https://github.com/apache/airflow/pull/46420,"[('area:serialization', ''), ('area:task-sdk', None)]",[],
2829798905,pull_request,closed,,[EDGE] worker remembers maintenance on restart,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
If the edge worker was shut down it should remember that it was in maintenance mode, and in the next startup it should remain in maintenance mode. 
There is a new state introduced: ""offline maintenance"". If the _EdgeWorkerCli.maintenance_mode flag is True, then the worker will be set to this state during shut down. Then on startup maintenance request will be in the database instead of starting. That way the worker will jump to maintenance mode.

---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",majorosdonat,2025-02-04 10:54:25+00:00,[],2025-02-04 16:56:22+00:00,2025-02-04 16:56:22+00:00,https://github.com/apache/airflow/pull/46416,"[('provider:edge', 'Edge Executor / Worker (AIP-69)')]",[],
2829739118,pull_request,open,,Remove deprecated get_link signature support,"Operator link currently supports two signatures, one modern using TaskInstanceKey, the other old using execution_date. The old signature will have a problem after the AIP-83 amendments where None is a possibility. Airflow 3.0 is a good chance to just get rid of this problem entirely.

TODO:

* [x] Emit deprecation warning in 2.x. #46448
* [x] News fragment
* [ ] Migration tool",uranusjr,2025-02-04 10:29:34+00:00,['uranusjr'],2025-02-05 10:44:30+00:00,,https://github.com/apache/airflow/pull/46415,"[('airflow3.0:breaking', 'Candidates for Airflow 3.0 that contain breaking changes')]","[{'comment_id': 2636186625, 'issue_id': 2829739118, 'author': 'uranusjr', 'body': 'Old signature:\r\n\r\n```python\r\nclass MyOperatorLink(BaseOperatorLink):\r\n    def get_link(self, operator, dttm):\r\n        ...\r\n```\r\n\r\nNew signature:\r\n\r\n```python\r\nclass MyOperatorLink(BaseOperatorLink):\r\n    def get_link(self, operator, *, ti_key):\r\n        ...\r\n```\r\n\r\nNote that in the old signature, `dttm` is used by Airflow as a _positional_ argument, so the argument name in the function declaration may not be `dttm`. In the new signature, however, the argument name must be `ti_key` (although it may be non-keyword-only; `self, operator, ti_key` should be considered new signature). So the deprecated signature detection rule should be **exactly three positional arguments, the third one not named `ti_key`**.\r\n\r\nThe migration tool should search files for subclasses of `BaseOperatorLink`, and check their `get_link` declaration.\r\n\r\nIdeally, the tool should check all entries defined in the `operator_extra_links` list of a plugin, even if it does not subclass `BaseOperatorLink`, because Airflow does not actually require you to subclass, as long as the signature match at runtime. But this can be difficult to do, so I think itâ€™s OK to ignore this. We always subclass `BaseOperatorLink` in documentation, and the non-subclass implementation works only by accident.\r\n\r\nRelevant documentation on operator extra link: https://airflow.apache.org/docs/apache-airflow/stable/howto/define-extra-link.html', 'created_at': datetime.datetime(2025, 2, 5, 9, 27, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636373500, 'issue_id': 2829739118, 'author': 'uranusjr', 'body': 'Delaying this a bit per discussion with @ashb. The task SDK work may need to change this.', 'created_at': datetime.datetime(2025, 2, 5, 10, 44, 29, tzinfo=datetime.timezone.utc)}]","uranusjr (Issue Creator) on (2025-02-05 09:27:05 UTC): Old signature:

```python
class MyOperatorLink(BaseOperatorLink):
    def get_link(self, operator, dttm):
        ...
```

New signature:

```python
class MyOperatorLink(BaseOperatorLink):
    def get_link(self, operator, *, ti_key):
        ...
```

Note that in the old signature, `dttm` is used by Airflow as a _positional_ argument, so the argument name in the function declaration may not be `dttm`. In the new signature, however, the argument name must be `ti_key` (although it may be non-keyword-only; `self, operator, ti_key` should be considered new signature). So the deprecated signature detection rule should be **exactly three positional arguments, the third one not named `ti_key`**.

The migration tool should search files for subclasses of `BaseOperatorLink`, and check their `get_link` declaration.

Ideally, the tool should check all entries defined in the `operator_extra_links` list of a plugin, even if it does not subclass `BaseOperatorLink`, because Airflow does not actually require you to subclass, as long as the signature match at runtime. But this can be difficult to do, so I think itâ€™s OK to ignore this. We always subclass `BaseOperatorLink` in documentation, and the non-subclass implementation works only by accident.

Relevant documentation on operator extra link: https://airflow.apache.org/docs/apache-airflow/stable/howto/define-extra-link.html

uranusjr (Issue Creator) on (2025-02-05 10:44:29 UTC): Delaying this a bit per discussion with @ashb. The task SDK work may need to change this.

"
2829653171,pull_request,closed,,Add `3.0.0a1` tag in airflow_bug_report.yml,"We noticed that the 3.0.0a1 tag was not available in the Airflow version while creating an issue. This PR adds 3.0.0a1 to the version.

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vatsrahul1001,2025-02-04 09:53:33+00:00,[],2025-02-04 10:22:38+00:00,2025-02-04 10:22:30+00:00,https://github.com/apache/airflow/pull/46413,"[('area:dev-tools', ''), ('changelog:skip', 'Changes that should be skipped from the changelog (CI, tests, etc..)')]",[],
2829300507,pull_request,open,,docs(newsfragments): update migration rules status,"## Why
All the migration rules of `newsfragments/aip-66.significant.rst` has been done.

## What
Check the checkboxes in `newsfragments/aip-66.significant.rst`

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",Lee-W,2025-02-04 06:57:47+00:00,[],2025-02-04 06:57:47+00:00,,https://github.com/apache/airflow/pull/46409,[],[],
2829243225,pull_request,closed,,Use LoggingMixin for DagProcessorManager,"Since we always have a standalone DAG processor now, we no longer need the special logging config to have a separate log file for the DagProcessorManager. Using LoggingMixin instead, all of the logs end up on stdout, just like other Airflow components.

This also adds the ability to have a ""non deprecated"" removal in `config lint`:

![Screenshot 2025-02-03 at 11 13 08â€¯PM](https://github.com/user-attachments/assets/7fcaff52-02e6-4f15-be5a-a5e941665b6f)


",jedcunningham,2025-02-04 06:20:15+00:00,[],2025-02-04 21:24:47+00:00,2025-02-04 21:24:45+00:00,https://github.com/apache/airflow/pull/46408,"[('area:CLI', ''), ('full tests needed', 'We need to run full set of tests for this PR to merge'), ('area:DAG-processing', ''), ('AIP-66: DAG Bundle/Manifest', '')]",[],
2829204182,pull_request,closed,,Handle null logical date in CLI commands,"More AIP-83 amendment groundwork.

Relatively simple things. Sorting by logical date is replaced by run_after instead. Selecting a run using logical date is replaced by the smart logical-date-or-run-ID argument already available for other purposes.
",uranusjr,2025-02-04 05:52:52+00:00,['uranusjr'],2025-02-06 09:25:19+00:00,2025-02-06 09:25:18+00:00,https://github.com/apache/airflow/pull/46407,"[('area:CLI', ''), ('AIP-83', 'Remove Execution Date Unique Constraint from DAG Run')]",[],
2829088003,pull_request,open,,AIP-72: Setting default retries for task sdk client to 3 and log cleanup,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->

For errrors like 500, we retry 10 times, reducing it would be better to fail faster and improving logs to show the method and reason for retry

Logs before making changes:
```
PASSED       [100%][2025-02-04T09:46:18.711+0530] {_client.py:1026} INFO - HTTP Request: GET test://server/xcoms/dag_id/run_id/task_id/key ""HTTP/1.1 500 Internal Server Error""
2025-02-04 09:46:18 [warning  ] Server error                   [airflow.sdk.api.client] detail={'reason': 'invalid_format', 'message': 'XCom value is not a valid JSON'}
2025-02-04 09:46:18 [warning  ] Starting call to 'airflow.sdk.api.client.Client.request', this is the 1st time calling it. [airflow.sdk.api.client]
[2025-02-04T09:46:18.715+0530] {_client.py:1026} INFO - HTTP Request: GET test://server/xcoms/dag_id/run_id/task_id/key ""HTTP/1.1 500 Internal Server Error""
2025-02-04 09:46:18 [warning  ] Server error                   [airflow.sdk.api.client] detail={'reason': 'invalid_format', 'message': 'XCom value is not a valid JSON'}
2025-02-04 09:46:18 [warning  ] Starting call to 'airflow.sdk.api.client.Client.request', this is the 2nd time calling it. [airflow.sdk.api.client]
[2025-02-04T09:46:18.715+0530] {_client.py:1026} INFO - HTTP Request: GET test://server/xcoms/dag_id/run_id/task_id/key ""HTTP/1.1 500 Internal Server Error""
2025-02-04 09:46:18 [warning  ] Server error                   [airflow.sdk.api.client] detail={'reason': 'invalid_format', 'message': 'XCom value is not a valid JSON'}
2025-02-04 09:46:18 [warning  ] Starting call to 'airflow.sdk.api.client.Client.request', this is the 3rd time calling it. [airflow.sdk.api.client]
[2025-02-04T09:46:18.715+0530] {_client.py:1026} INFO - HTTP Request: GET test://server/xcoms/dag_id/run_id/task_id/key ""HTTP/1.1 500 Internal Server Error""
2025-02-04 09:46:18 [warning  ] Server error                   [airflow.sdk.api.client] detail={'reason': 'invalid_format', 'message': 'XCom value is not a valid JSON'}
2025-02-04 09:46:18 [warning  ] Starting call to 'airflow.sdk.api.client.Client.request', this is the 4th time calling it. [airflow.sdk.api.client]
[2025-02-04T09:46:18.716+0530] {_client.py:1026} INFO - HTTP Request: GET test://server/xcoms/dag_id/run_id/task_id/key ""HTTP/1.1 500 Internal Server Error""
2025-02-04 09:46:18 [warning  ] Server error                   [airflow.sdk.api.client] detail={'reason': 'invalid_format', 'message': 'XCom value is not a valid JSON'}
2025-02-04 09:46:18 [warning  ] Starting call to 'airflow.sdk.api.client.Client.request', this is the 5th time calling it. [airflow.sdk.api.client]
[2025-02-04T09:46:18.716+0530] {_client.py:1026} INFO - HTTP Request: GET test://server/xcoms/dag_id/run_id/task_id/key ""HTTP/1.1 500 Internal Server Error""
2025-02-04 09:46:18 [warning  ] Server error                   [airflow.sdk.api.client] detail={'reason': 'invalid_format', 'message': 'XCom value is not a valid JSON'}
2025-02-04 09:46:18 [warning  ] Starting call to 'airflow.sdk.api.client.Client.request', this is the 6th time calling it. [airflow.sdk.api.client]
[2025-02-04T09:46:18.716+0530] {_client.py:1026} INFO - HTTP Request: GET test://server/xcoms/dag_id/run_id/task_id/key ""HTTP/1.1 500 Internal Server Error""
2025-02-04 09:46:18 [warning  ] Server error                   [airflow.sdk.api.client] detail={'reason': 'invalid_format', 'message': 'XCom value is not a valid JSON'}
2025-02-04 09:46:18 [warning  ] Starting call to 'airflow.sdk.api.client.Client.request', this is the 7th time calling it. [airflow.sdk.api.client]
[2025-02-04T09:46:18.717+0530] {_client.py:1026} INFO - HTTP Request: GET test://server/xcoms/dag_id/run_id/task_id/key ""HTTP/1.1 500 Internal Server Error""
2025-02-04 09:46:18 [warning  ] Server error                   [airflow.sdk.api.client] detail={'reason': 'invalid_format', 'message': 'XCom value is not a valid JSON'}
2025-02-04 09:46:18 [warning  ] Starting call to 'airflow.sdk.api.client.Client.request', this is the 8th time calling it. [airflow.sdk.api.client]
[2025-02-04T09:46:18.717+0530] {_client.py:1026} INFO - HTTP Request: GET test://server/xcoms/dag_id/run_id/task_id/key ""HTTP/1.1 500 Internal Server Error""
2025-02-04 09:46:18 [warning  ] Server error                   [airflow.sdk.api.client] detail={'reason': 'invalid_format', 'message': 'XCom value is not a valid JSON'}
2025-02-04 09:46:18 [warning  ] Starting call to 'airflow.sdk.api.client.Client.request', this is the 9th time calling it. [airflow.sdk.api.client]
[2025-02-04T09:46:18.717+0530] {_client.py:1026} INFO - HTTP Request: GET test://server/xcoms/dag_id/run_id/task_id/key ""HTTP/1.1 500 Internal Server Error""
2025-02-04 09:46:18 [warning  ] Server error                   [airflow.sdk.api.client] detail={'reason': 'invalid_format', 'message': 'XCom value is not a valid JSON'}
```

Logs after making changes:
```
PASSED       [100%][2025-02-04T09:41:23.045+0530] {_client.py:1026} INFO - HTTP Request: GET test://server/xcoms/dag_id/run_id/task_id/key ""HTTP/1.1 500 Internal Server Error""
2025-02-04 09:41:28 [warning  ] Server error                   [airflow.sdk.api.client] detail={'reason': 'invalid_format', 'message': 'XCom value is not a valid JSON'}
2025-02-04 09:41:28 [warning  ] Retrying request due to HTTP error [airflow.sdk.api.client] extra={'method': 'GET', 'url': 'xcoms/dag_id/run_id/task_id/key', 'status_code': 500, 'reason': '{""reason"": ""invalid_format"", ""message"": ""XCom value is not a valid JSON""}'}
2025-02-04 09:41:28 [warning  ] Starting call to 'airflow.sdk.api.client.Client.request', this is the 1st time calling it. [airflow.sdk.api.client]
[2025-02-04T09:41:28.542+0530] {_client.py:1026} INFO - HTTP Request: GET test://server/xcoms/dag_id/run_id/task_id/key ""HTTP/1.1 500 Internal Server Error""
2025-02-04 09:41:30 [warning  ] Server error                   [airflow.sdk.api.client] detail={'reason': 'invalid_format', 'message': 'XCom value is not a valid JSON'}
2025-02-04 09:41:30 [warning  ] Retrying request due to HTTP error [airflow.sdk.api.client] extra={'method': 'GET', 'url': 'xcoms/dag_id/run_id/task_id/key', 'status_code': 500, 'reason': '{""reason"": ""invalid_format"", ""message"": ""XCom value is not a valid JSON""}'}
2025-02-04 09:41:30 [warning  ] Starting call to 'airflow.sdk.api.client.Client.request', this is the 2nd time calling it. [airflow.sdk.api.client]
[2025-02-04T09:41:30.031+0530] {_client.py:1026} INFO - HTTP Request: GET test://server/xcoms/dag_id/run_id/task_id/key ""HTTP/1.1 500 Internal Server Error""
2025-02-04 09:41:30 [warning  ] Server error                   [airflow.sdk.api.client] detail={'reason': 'invalid_format', 'message': 'XCom value is not a valid JSON'}
2025-02-04 09:41:30 [warning  ] Retrying request due to HTTP error [airflow.sdk.api.client] extra={'method': 'GET', 'url': 'xcoms/dag_id/run_id/task_id/key', 'status_code': 500, 'reason': '{""reason"": ""invalid_format"", ""message"": ""XCom value is not a valid JSON""}'}

```


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",amoghrajesh,2025-02-04 04:21:09+00:00,[],2025-02-05 20:22:05+00:00,,https://github.com/apache/airflow/pull/46406,"[('area:task-sdk', None)]","[{'comment_id': 2634891945, 'issue_id': 2829088003, 'author': 'jscheffl', 'body': 'I think it is not good to reduce the grace time to fail in case of HTTP 500. Most often K8s infra recovery or a DB restart takes longer than 3 minutes.\r\nFrom the productive use of Edge Worker we can say that the most stable situation we have is by the settingss we made currently as default. I fear reducing this will lower the quality of service.\r\n\r\nI propose to handle functional problems in a different error code to skip retry.\r\n\r\nIf you reduce it as here in the PR, please make it configurable at least such that we can increase it back to 10 attempts, else I fear it will lower the stability when moving to Task SDK.', 'created_at': datetime.datetime(2025, 2, 4, 19, 34, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634893376, 'issue_id': 2829088003, 'author': 'jscheffl', 'body': 'For this Example: Please do not raise 500 if the XCom is not valid JSON.\r\n400 Bad Request would be correct in this case.', 'created_at': datetime.datetime(2025, 2, 4, 19, 35, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635570611, 'issue_id': 2829088003, 'author': 'amoghrajesh', 'body': '> I think it is not good to reduce the grace time to fail in case of HTTP 500. Most often K8s infra recovery or a DB restart takes longer than 3 minutes. From the productive use of Edge Worker we can say that the most stable situation we have is by the settingss we made currently as default. I fear reducing this will lower the quality of service.\r\n> \r\n> I propose to handle functional problems in a different error code to skip retry.\r\n> \r\n> If you reduce it as here in the PR, please make it configurable at least such that we can increase it back to 10 attempts, else I fear it will lower the stability when moving to Task SDK.\r\n\r\nThanks for your reply, @jscheffl. Was hoping to get review from you.\r\n\r\nWe do have an option to configure the number of retries to 10 or any chosen number via the env variable. The issue is that the conf is not yet ported over to the sdk. But the intention is that it can be overriden.', 'created_at': datetime.datetime(2025, 2, 5, 2, 35, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635571319, 'issue_id': 2829088003, 'author': 'amoghrajesh', 'body': '> I propose to handle functional problems in a different error code to skip retry.\r\n\r\nCan do. I too think 500 is not good for xcom invalid json case. Let me see what I can do.\r\n\r\nI think 400 is more ideal.', 'created_at': datetime.datetime(2025, 2, 5, 2, 36, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635797976, 'issue_id': 2829088003, 'author': 'amoghrajesh', 'body': '@jscheffl I gave it some thought and this is what I think:\r\n\r\nThe part of code that returns 500:\r\n```\r\n    result = query.with_entities(BaseXCom.value).first()\r\n\r\n    if result is None:\r\n        raise HTTPException(\r\n            status_code=status.HTTP_404_NOT_FOUND,\r\n            detail={\r\n                ""reason"": ""not_found"",\r\n                ""message"": f""XCom with key \'{key}\' not found for task \'{task_id}\' in DAG \'{dag_id}\'"",\r\n            },\r\n        )\r\n\r\n    try:\r\n        xcom_value = BaseXCom.orm_deserialize_value(result)\r\n    except json.JSONDecodeError:\r\n        raise HTTPException(\r\n            status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,\r\n            detail={\r\n                ""reason"": ""invalid_format"",\r\n                ""message"": ""XCom value is not a valid JSON"",\r\n            },\r\n        )\r\n\r\n    return XComResponse(key=key, value=xcom_value)\r\n```\r\n\r\n\r\nAs observed in:\r\n```\r\n   try:\r\n        xcom_value = BaseXCom.orm_deserialize_value(result)\r\n    except json.JSONDecodeError:\r\n        raise HTTPException(\r\n            status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,\r\n            detail={\r\n                ""reason"": ""invalid_format"",\r\n                ""message"": ""XCom value is not a valid JSON"",\r\n            },\r\n        )\r\n```\r\n\r\nHere, `result` is also something that comes from the server. So, the issue is actually is at the server end and not the client. 400 would be ideal if there\'s some issue with what the client sent, 4xx stands for client side errors. \r\n\r\nDoes that make sense?', 'created_at': datetime.datetime(2025, 2, 5, 6, 20, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637943390, 'issue_id': 2829088003, 'author': 'jscheffl', 'body': '> Here, `result` is also something that comes from the server. So, the issue is actually is at the server end and not the client. 400 would be ideal if there\'s some issue with what the client sent, 4xx stands for client side errors.\r\n> \r\n> Does that make sense?\r\n\r\nSorry for the delayed response. That all makes sense that it is then not a 4xx as the XCom value is ""broken"" in the DB and can not be de-serialized. I would ask myself how it got in there but... 500 also gives me the impression that something on the server side is ""broken"". But also restarting does not help. The given data point is corrupt.\r\n\r\nQuestion for me would be, in case we can not de-serialize... should we directly delete it? Or do we keep it for manual recovery?\r\n\r\nIf it would be deleted to clean broken stuff, then HTTP 410 might be fitting to purpose.\r\n\r\nOtherwise following the discussion in https://www.bennadel.com/blog/2434-http-status-codes-for-invalid-data-400-vs-422.htm I assume 422 might be a good response code to signal this error. Even if it is a server content issue and not a client issue. I see no 5xx error code which would be matching otherwise. Even if in general a 5xx error would fir better from problem domain.', 'created_at': datetime.datetime(2025, 2, 5, 20, 21, 7, tzinfo=datetime.timezone.utc)}]","jscheffl on (2025-02-04 19:34:43 UTC): I think it is not good to reduce the grace time to fail in case of HTTP 500. Most often K8s infra recovery or a DB restart takes longer than 3 minutes.
From the productive use of Edge Worker we can say that the most stable situation we have is by the settingss we made currently as default. I fear reducing this will lower the quality of service.

I propose to handle functional problems in a different error code to skip retry.

If you reduce it as here in the PR, please make it configurable at least such that we can increase it back to 10 attempts, else I fear it will lower the stability when moving to Task SDK.

jscheffl on (2025-02-04 19:35:27 UTC): For this Example: Please do not raise 500 if the XCom is not valid JSON.
400 Bad Request would be correct in this case.

amoghrajesh (Issue Creator) on (2025-02-05 02:35:37 UTC): Thanks for your reply, @jscheffl. Was hoping to get review from you.

We do have an option to configure the number of retries to 10 or any chosen number via the env variable. The issue is that the conf is not yet ported over to the sdk. But the intention is that it can be overriden.

amoghrajesh (Issue Creator) on (2025-02-05 02:36:16 UTC): Can do. I too think 500 is not good for xcom invalid json case. Let me see what I can do.

I think 400 is more ideal.

amoghrajesh (Issue Creator) on (2025-02-05 06:20:45 UTC): @jscheffl I gave it some thought and this is what I think:

The part of code that returns 500:
```
    result = query.with_entities(BaseXCom.value).first()

    if result is None:
        raise HTTPException(
            status_code=status.HTTP_404_NOT_FOUND,
            detail={
                ""reason"": ""not_found"",
                ""message"": f""XCom with key '{key}' not found for task '{task_id}' in DAG '{dag_id}'"",
            },
        )

    try:
        xcom_value = BaseXCom.orm_deserialize_value(result)
    except json.JSONDecodeError:
        raise HTTPException(
            status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,
            detail={
                ""reason"": ""invalid_format"",
                ""message"": ""XCom value is not a valid JSON"",
            },
        )

    return XComResponse(key=key, value=xcom_value)
```


As observed in:
```
   try:
        xcom_value = BaseXCom.orm_deserialize_value(result)
    except json.JSONDecodeError:
        raise HTTPException(
            status_code=status.HTTP_500_INTERNAL_SERVER_ERROR,
            detail={
                ""reason"": ""invalid_format"",
                ""message"": ""XCom value is not a valid JSON"",
            },
        )
```

Here, `result` is also something that comes from the server. So, the issue is actually is at the server end and not the client. 400 would be ideal if there's some issue with what the client sent, 4xx stands for client side errors. 

Does that make sense?

jscheffl on (2025-02-05 20:21:07 UTC): Sorry for the delayed response. That all makes sense that it is then not a 4xx as the XCom value is ""broken"" in the DB and can not be de-serialized. I would ask myself how it got in there but... 500 also gives me the impression that something on the server side is ""broken"". But also restarting does not help. The given data point is corrupt.

Question for me would be, in case we can not de-serialize... should we directly delete it? Or do we keep it for manual recovery?

If it would be deleted to clean broken stuff, then HTTP 410 might be fitting to purpose.

Otherwise following the discussion in https://www.bennadel.com/blog/2434-http-status-codes-for-invalid-data-400-vs-422.htm I assume 422 might be a good response code to signal this error. Even if it is a server content issue and not a client issue. I see no 5xx error code which would be matching otherwise. Even if in general a 5xx error would fir better from problem domain.

"
2829016635,pull_request,closed,,provider migrate cloudant,"Migrates the Cloudant provider.

static and unit tests pass. 

This provider required changes to the new provider schema to add back support for excluded python versions which cloudant makes use of (see comment annotations for more details).  The release management scripts for generating project toml files also needed updating.

related: https://github.com/apache/airflow/issues/46045

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",o-nikolas,2025-02-04 03:09:26+00:00,[],2025-02-05 20:12:35+00:00,2025-02-05 20:12:35+00:00,https://github.com/apache/airflow/pull/46405,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:cloudant', '')]","[{'comment_id': 2637647303, 'issue_id': 2829016635, 'author': 'o-nikolas', 'body': ""@potiuk \r\nI think this PR should be fine now, but it's failing for the kube related issues from main."", 'created_at': datetime.datetime(2025, 2, 5, 18, 0, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637925362, 'issue_id': 2829016635, 'author': 'potiuk', 'body': 'Indeed. Looks good. The fix to main is coming https://github.com/apache/airflow/pull/46492', 'created_at': datetime.datetime(2025, 2, 5, 20, 11, 6, tzinfo=datetime.timezone.utc)}]","o-nikolas (Issue Creator) on (2025-02-05 18:00:15 UTC): @potiuk 
I think this PR should be fine now, but it's failing for the kube related issues from main.

potiuk on (2025-02-05 20:11:06 UTC): Indeed. Looks good. The fix to main is coming https://github.com/apache/airflow/pull/46492

"
2828972734,pull_request,closed,,ci(github-actions): relax docutils version to support python 3.8,"## Why
Our runner seems to use Python 3.8 which cause failure in https://github.com/apache/airflow/pull/46231

## What

Relax doctuils version to support python 3.8. It will still work fine even if we drop 3.8

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",Lee-W,2025-02-04 02:31:39+00:00,['Lee-W'],2025-02-04 04:27:39+00:00,2025-02-04 04:27:37+00:00,https://github.com/apache/airflow/pull/46404,"[('area:dev-tools', '')]",[],
2828575308,pull_request,closed,,Model docker cleanup as proper github action,"After #46358 as hot-fix making the main building again, this PR cleans-up the approach and models a re-usable action to setup and clean docker workspace.

DRAFT because first I attempt to also check why the constraints generation failed. Might need a few iterations to understand why the step fails when docker workspace is on the second drive.",jscheffl,2025-02-03 21:34:56+00:00,[],2025-02-05 19:15:25+00:00,2025-02-04 19:48:23+00:00,https://github.com/apache/airflow/pull/46400,"[('area:dev-tools', ''), ('full tests needed', 'We need to run full set of tests for this PR to merge'), ('all versions', 'If set, the CI build will be forced to use all versions of Python/K8S/DBs')]","[{'comment_id': 2634917336, 'issue_id': 2828575308, 'author': 'jscheffl', 'body': 'Coo, super seeded by #46428', 'created_at': datetime.datetime(2025, 2, 4, 19, 48, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637817909, 'issue_id': 2828575308, 'author': 'potiuk', 'body': 'Ah have not seen it :) .But yeh - similar concepts :)', 'created_at': datetime.datetime(2025, 2, 5, 19, 15, 23, tzinfo=datetime.timezone.utc)}]","jscheffl (Issue Creator) on (2025-02-04 19:48:23 UTC): Coo, super seeded by #46428

potiuk on (2025-02-05 19:15:23 UTC): Ah have not seen it :) .But yeh - similar concepts :)

"
2828470885,pull_request,closed,,Fix deactivate dags logic for zip files,"https://github.com/apache/airflow/pull/46343 resolved a different issue but likely broke handling for zipped dags.

Need to do follow up in this area to resolve other known issues with stale dag handling.",dstandish,2025-02-03 20:34:14+00:00,[],2025-02-03 21:57:05+00:00,2025-02-03 21:57:03+00:00,https://github.com/apache/airflow/pull/46399,"[('area:DAG-processing', ''), ('AIP-66: DAG Bundle/Manifest', '')]",[],
2828438306,pull_request,open,,AIP-83 run_id logic when no logical date,"Closes: [#46199](https://github.com/apache/airflow/issues/46199)

Construct run_id, when logical date is null, using run_after + random string.",prabhusneha,2025-02-03 20:16:46+00:00,[],2025-02-06 10:02:21+00:00,,https://github.com/apache/airflow/pull/46398,"[('area:Scheduler', 'including HA (high availability) scheduler'), ('area:webserver', 'Webserver related Issues'), ('area:API', ""Airflow's REST/HTTP API""), ('AIP-83', 'Remove Execution Date Unique Constraint from DAG Run'), ('legacy api', 'Whether legacy API changes should be allowed in PR')]",[],
2828391680,pull_request,closed,,Add Pool name search in get pools API,"related: #43706 

<img width=""1416"" alt=""image"" src=""https://github.com/user-attachments/assets/6e42c443-6f81-4e15-b666-a7f9a8c56abd"" />



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",shubhamraj-git,2025-02-03 19:52:44+00:00,[],2025-02-04 14:58:38+00:00,2025-02-04 14:58:38+00:00,https://github.com/apache/airflow/pull/46397,"[('area:UI', 'Related to UI/UX. For Frontend Developers.')]","[{'comment_id': 2632569035, 'issue_id': 2828391680, 'author': 'shubhamraj-git', 'body': '@jscheffl it will be consumed via UI, to search like we use to do for other pages.', 'created_at': datetime.datetime(2025, 2, 4, 1, 42, 31, tzinfo=datetime.timezone.utc)}]","shubhamraj-git (Issue Creator) on (2025-02-04 01:42:31 UTC): @jscheffl it will be consumed via UI, to search like we use to do for other pages.

"
2828308695,pull_request,closed,,Fix poolbar icon and colour post Stateicon changes,"related: #43706 

Before:
<img width=""1728"" alt=""image"" src=""https://github.com/user-attachments/assets/5c0b4b5f-5897-4ca8-bb48-def6cca1527b"" />


Updated UI:

<img width=""1728"" alt=""image"" src=""https://github.com/user-attachments/assets/bf884620-0553-4ec8-aad4-b402802a7b52"" />




<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",shubhamraj-git,2025-02-03 19:07:29+00:00,[],2025-02-03 21:16:34+00:00,2025-02-03 21:16:34+00:00,https://github.com/apache/airflow/pull/46396,"[('area:UI', 'Related to UI/UX. For Frontend Developers.')]",[],
2828224366,pull_request,closed,,Fix attribute error on accessing Gitbundle.repo_url,"The position where we added the repo_url makes it unavailable on the GitBundle instance when the connection id is not defined. This PR fixes it and added a test to check that it has the attribute when the connection ID is not defined

",ephraimbuddy,2025-02-03 18:26:37+00:00,[],2025-02-04 00:00:23+00:00,2025-02-04 00:00:21+00:00,https://github.com/apache/airflow/pull/46394,"[('area:DAG-processing', ''), ('AIP-66: DAG Bundle/Manifest', '')]",[],
2828168628,pull_request,closed,,[providers-fab/v1-5] Use different default algorithms for different werkzeug versions (#46384),"Older werkzeug uses different algorithms for different versions - we
should match the default algorithm for those versions.
(cherry picked from commit dafd1660fdfdf008a20d95f95ea6529525bf11b8)

Co-authored-by: Jarek Potiuk <jarek@potiuk.com>",github-actions[bot],2025-02-03 17:57:20+00:00,[],2025-02-04 13:57:49+00:00,2025-02-04 13:57:48+00:00,https://github.com/apache/airflow/pull/46392,"[('area:providers', '')]","[{'comment_id': 2634046788, 'issue_id': 2828168628, 'author': 'potiuk', 'body': 'Just random failure - merging', 'created_at': datetime.datetime(2025, 2, 4, 13, 57, 44, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-02-04 13:57:44 UTC): Just random failure - merging

"
2828157173,pull_request,open,,AIP-82 Introduce `BaseEventTrigger` as base class for triggers used with event driven scheduling,"As explained in the [lazy consensus thread](https://lists.apache.org/thread/lpvq3lhjd79q097f1wy3r3n1jybo2v09), we need to create a new base class `BaseEventTrigger`. This new base class allows categorizing triggers suitable for event driven scheduling usage. Not all triggers should be used to schedule DAGs, `BaseEventTrigger` is making this categorization.


<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vincbeck,2025-02-03 17:51:08+00:00,[],2025-02-07 02:40:19+00:00,,https://github.com/apache/airflow/pull/46391,"[('area:providers', ''), ('area:serialization', ''), ('area:DAG-processing', ''), ('area:task-sdk', None)]",[],
2828155974,pull_request,open,,AIP-83 Logical date should be required field when triggering run via API,"closes:https://github.com/apache/airflow/issues/46188
depends: https://github.com/apache/airflow/pull/46295

**API request with the logical date as null**

<img width=""1056"" alt=""image"" src=""https://github.com/user-attachments/assets/91b6b988-965e-4c56-9c1f-1cc83fee1122"" />

**API request with the logical date as not null**
![image](https://github.com/user-attachments/assets/13aa33c0-90eb-4c27-ad27-f1cbb1d48d5d)

---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vatsrahul1001,2025-02-03 17:50:30+00:00,[],2025-02-07 17:28:09+00:00,,https://github.com/apache/airflow/pull/46390,"[('area:webserver', 'Webserver related Issues'), ('kind:documentation', ''), ('area:UI', 'Related to UI/UX. For Frontend Developers.'), ('area:db-migrations', 'PRs with DB migration'), ('AIP-83', 'Remove Execution Date Unique Constraint from DAG Run')]",[],
2828149810,pull_request,closed,,AIP-83 Logical date should be required field when triggering run via API,"
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vatsrahul1001,2025-02-03 17:47:15+00:00,[],2025-02-03 17:50:16+00:00,2025-02-03 17:50:16+00:00,https://github.com/apache/airflow/pull/46389,"[('kind:documentation', ''), ('area:db-migrations', 'PRs with DB migration')]",[],
2828085069,pull_request,closed,,Add DB exeption handler to Execution API,"Exception handlers attached to the root app do not handle exceptions of subapplications.

Explicitely add the db exeptions handlers to the Execution API app.

https://github.com/fastapi/fastapi/issues/5300",pierrejeambrun,2025-02-03 17:14:15+00:00,['pierrejeambrun'],2025-02-05 11:52:14+00:00,2025-02-05 11:52:11+00:00,https://github.com/apache/airflow/pull/46388,[],"[{'comment_id': 2631598521, 'issue_id': 2828085069, 'author': 'pierrejeambrun', 'body': 'cc: @ashb', 'created_at': datetime.datetime(2025, 2, 3, 17, 14, 33, tzinfo=datetime.timezone.utc)}]","pierrejeambrun (Issue Creator) on (2025-02-03 17:14:33 UTC): cc: @ashb

"
2828076289,pull_request,closed,,Moving Arangodb provider to new structure,"Related : #46045 
<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",Prab-27,2025-02-03 17:09:58+00:00,[],2025-02-06 20:31:05+00:00,2025-02-06 20:31:04+00:00,https://github.com/apache/airflow/pull/46387,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:arangodb', '')]","[{'comment_id': 2637471531, 'issue_id': 2828076289, 'author': 'potiuk', 'body': 'Some docs issues stil :)', 'created_at': datetime.datetime(2025, 2, 5, 16, 48, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640849588, 'issue_id': 2828076289, 'author': 'potiuk', 'body': 'I pushed a small doc fixup to fix remaining example references.', 'created_at': datetime.datetime(2025, 2, 6, 19, 51, 18, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-02-05 16:48:08 UTC): Some docs issues stil :)

potiuk on (2025-02-06 19:51:18 UTC): I pushed a small doc fixup to fix remaining example references.

"
2828046519,pull_request,closed,,Make v2-10-test insync with v2-10-stable,,utkarsharma2,2025-02-03 16:56:18+00:00,[],2025-02-03 16:58:49+00:00,2025-02-03 16:58:48+00:00,https://github.com/apache/airflow/pull/46386,"[('area:dev-tools', ''), ('area:API', ""Airflow's REST/HTTP API""), ('kind:documentation', ''), ('area:production-image', 'Production image improvements and fixes'), ('legacy api', 'Whether legacy API changes should be allowed in PR')]",[],
2827981280,pull_request,closed,,Use different default algorithms for different werkzeug versions,"Older werkzeug uses different algorithms for different versions - we should match the default algorithm for those versions.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-02-03 16:26:29+00:00,[],2025-02-03 17:57:24+00:00,2025-02-03 17:56:21+00:00,https://github.com/apache/airflow/pull/46384,"[('provider:fab', ''), ('backport-to-providers-fab/v1-5', '')]","[{'comment_id': 2631690343, 'issue_id': 2827981280, 'author': 'github-actions[bot]', 'body': '### Backport successfully created: providers-fab/v1-5\n\n<table>\n                <tr>\n                    <th>Status</th>\n                    <th>Branch</th>\n                    <th>Result</th>\n                </tr>\n                <tr>\n                    <td>âœ…</td>\n                    <td>providers-fab/v1-5</td>\n                    <td><a href=""https://github.com/apache/airflow/pull/46392""><img src=""https://img.shields.io/badge/PR-46392-blue"" alt=""PR Link""></a></td>\n                </tr>\n            </table>', 'created_at': datetime.datetime(2025, 2, 3, 17, 57, 22, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-02-03 17:57:22 UTC): ### Backport successfully created: providers-fab/v1-5

<table>
                <tr>
                    <th>Status</th>
                    <th>Branch</th>
                    <th>Result</th>
                </tr>
                <tr>
                    <td>âœ…</td>
                    <td>providers-fab/v1-5</td>
                    <td><a href=""https://github.com/apache/airflow/pull/46392""><img src=""https://img.shields.io/badge/PR-46392-blue"" alt=""PR Link""></a></td>
                </tr>
            </table>

"
2827807475,pull_request,closed,,Remove dag details requests from dag list page,"The dag details check inside of useAutorefresh was firing too many requests on the dags list page. This is unnecessary since we already know if the dag is paused or not. So let's just pass `isPaused` instead of `dagId` and save time.


---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",bbovenzi,2025-02-03 15:16:02+00:00,[],2025-02-04 00:18:45+00:00,2025-02-04 00:18:44+00:00,https://github.com/apache/airflow/pull/46382,"[('area:UI', 'Related to UI/UX. For Frontend Developers.')]",[],
2827738324,pull_request,closed,,Update AWS auth manager to use Fastapi instead of Flask,"Make AWS auth manager compatible with AF3 only.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vincbeck,2025-02-03 14:50:21+00:00,[],2025-02-06 14:56:38+00:00,2025-02-06 14:56:36+00:00,https://github.com/apache/airflow/pull/46381,"[('provider:amazon', 'AWS/Amazon - related issues'), ('area:providers', '')]",[],
2827724128,pull_request,closed,,Fixed generated SQL MSSQL dialect when all columns are also primary keys,"This PR fixes the case when all columns are also primary keys when generating the replace SQL statement for MS SQL.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",dabla,2025-02-03 14:44:44+00:00,[],2025-02-05 19:41:00+00:00,2025-02-05 19:41:00+00:00,https://github.com/apache/airflow/pull/46380,"[('area:providers', ''), ('provider:microsoft-mssql', '')]","[{'comment_id': 2636338297, 'issue_id': 2827724128, 'author': 'eladkal', 'body': 'Static checks are failing https://github.com/apache/airflow/actions/runs/13154423653/job/36708789726?pr=46380#step:6:218', 'created_at': datetime.datetime(2025, 2, 5, 10, 29, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636576532, 'issue_id': 2827724128, 'author': 'dabla', 'body': '> Static checks are failing https://github.com/apache/airflow/actions/runs/13154423653/job/36708789726?pr=46380#step:6:218\r\n\r\nshould be fixed now', 'created_at': datetime.datetime(2025, 2, 5, 12, 18, 57, tzinfo=datetime.timezone.utc)}]","eladkal on (2025-02-05 10:29:20 UTC): Static checks are failing https://github.com/apache/airflow/actions/runs/13154423653/job/36708789726?pr=46380#step:6:218

dabla (Issue Creator) on (2025-02-05 12:18:57 UTC): should be fixed now

"
2827722434,pull_request,closed,,tests: Add more information to check in OL system test,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->
This PR extends what we already check in OL system tests.


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",kacpermuda,2025-02-03 14:44:06+00:00,[],2025-02-07 14:45:30+00:00,2025-02-05 16:35:27+00:00,https://github.com/apache/airflow/pull/46379,"[('provider:openlineage', 'AIP-53')]",[],
2827464797,pull_request,closed,,Remove overlooked `kubernetes/pod_generator_deprecated.py` file,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->
`providers/src/airflow/providers/cncf/kubernetes/pod_generator_deprecated.py` was missed in the https://github.com/apache/airflow/pull/43689/

- Delete unused and deprecated pod generator module
- Remove some already deleted deprecated modules from tests presence exclusion

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",insomnes,2025-02-03 13:04:39+00:00,[],2025-02-06 20:24:32+00:00,2025-02-06 20:20:26+00:00,https://github.com/apache/airflow/pull/46377,"[('area:providers', ''), ('provider:cncf-kubernetes', 'Kubernetes provider related issues')]","[{'comment_id': 2630958156, 'issue_id': 2827464797, 'author': 'insomnes', 'body': 'After looking up issues, PRs, tests, and code I am pretty sure this file was missed. \r\n\r\nShould I add `significant.rst` about it (delete is backward incompatible)?', 'created_at': datetime.datetime(2025, 2, 3, 13, 6, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630975715, 'issue_id': 2827464797, 'author': 'eladkal', 'body': 'I am not sure if we can remove it now.\r\nShould it wait for next major release? cc @romsharon98 @jedcunningham WDYT?', 'created_at': datetime.datetime(2025, 2, 3, 13, 13, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631002558, 'issue_id': 2827464797, 'author': 'insomnes', 'body': ""Sure, I'm not in a rush. \r\nI was digging for another issue so I made this PR to not overlook it again.\r\n\r\nI would be happy to adhere to the established release process. If any, tell me: should I close this one, make it WIP, or set the destination to another branch?"", 'created_at': datetime.datetime(2025, 2, 3, 13, 25, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634646153, 'issue_id': 2827464797, 'author': 'insomnes', 'body': '@romsharon98 @jedcunningham UP with the Elad\'s question above. I am not in a rush but I would like to know what to do with this one and remove this PR from my ""working RAM"" if it\'s not needed.', 'created_at': datetime.datetime(2025, 2, 4, 17, 39, 46, tzinfo=datetime.timezone.utc)}]","insomnes (Issue Creator) on (2025-02-03 13:06:19 UTC): After looking up issues, PRs, tests, and code I am pretty sure this file was missed. 

Should I add `significant.rst` about it (delete is backward incompatible)?

eladkal on (2025-02-03 13:13:56 UTC): I am not sure if we can remove it now.
Should it wait for next major release? cc @romsharon98 @jedcunningham WDYT?

insomnes (Issue Creator) on (2025-02-03 13:25:47 UTC): Sure, I'm not in a rush. 
I was digging for another issue so I made this PR to not overlook it again.

I would be happy to adhere to the established release process. If any, tell me: should I close this one, make it WIP, or set the destination to another branch?

insomnes (Issue Creator) on (2025-02-04 17:39:46 UTC): @romsharon98 @jedcunningham UP with the Elad's question above. I am not in a rush but I would like to know what to do with this one and remove this PR from my ""working RAM"" if it's not needed.

"
2827316292,pull_request,closed,,AIP-72: Move Secrets Masker to task SDK,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->

closes: https://github.com/apache/airflow/issues/45438

Moving the secrets masker class to task sdk so that it can be used to write dags and tasks, in form of custom operators

TODO:
- [x] Move the tests over to sdk
- [x] Add a newsfragment as its a breaking change (?)

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",amoghrajesh,2025-02-03 12:03:01+00:00,['amoghrajesh'],2025-02-05 07:34:50+00:00,2025-02-05 07:34:49+00:00,https://github.com/apache/airflow/pull/46375,"[('provider:amazon', 'AWS/Amazon - related issues'), ('area:webserver', 'Webserver related Issues'), ('area:CLI', ''), ('area:providers', ''), ('area:dev-tools', ''), ('area:serialization', ''), ('area:secrets', ''), ('area:API', ""Airflow's REST/HTTP API""), ('kind:documentation', ''), ('provider:cncf-kubernetes', 'Kubernetes provider related issues'), ('provider:openlineage', 'AIP-53'), ('airflow3.0:breaking', 'Candidates for Airflow 3.0 that contain breaking changes'), ('legacy api', 'Whether legacy API changes should be allowed in PR'), ('area:task-sdk', None)]","[{'comment_id': 2633054239, 'issue_id': 2827316292, 'author': 'amoghrajesh', 'body': '@eladkal / @Lee-W would this require a newsfragment?\r\n\r\nSecretsMasker was always a public interface and some users would have some custom operators would probably have used it for their redaction reasons / anything or that sort. That would mean that they might have to rewrite these operators atleast for the imports.', 'created_at': datetime.datetime(2025, 2, 4, 7, 8, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633059147, 'issue_id': 2827316292, 'author': 'Lee-W', 'body': '> @eladkal / @Lee-W would this require a newsfragment?\r\n> \r\n> SecretsMasker was always a public interface and some users would have some custom operators would probably have used it for their redaction reasons / anything or that sort. That would mean that they might have to rewrite these operators atleast for the imports.\r\n\r\nYes, it would be categorized as `Behavior change` based on previous discussion', 'created_at': datetime.datetime(2025, 2, 4, 7, 11, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635794373, 'issue_id': 2827316292, 'author': 'amoghrajesh', 'body': '@Lee-W I added a newsfragment for this, does it look OK only with respect to that?', 'created_at': datetime.datetime(2025, 2, 5, 6, 17, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635935259, 'issue_id': 2827316292, 'author': 'amoghrajesh', 'body': 'Thanks for the reviews, merging it', 'created_at': datetime.datetime(2025, 2, 5, 7, 34, 43, tzinfo=datetime.timezone.utc)}]","amoghrajesh (Issue Creator) on (2025-02-04 07:08:10 UTC): @eladkal / @Lee-W would this require a newsfragment?

SecretsMasker was always a public interface and some users would have some custom operators would probably have used it for their redaction reasons / anything or that sort. That would mean that they might have to rewrite these operators atleast for the imports.

Lee-W on (2025-02-04 07:11:32 UTC): Yes, it would be categorized as `Behavior change` based on previous discussion

amoghrajesh (Issue Creator) on (2025-02-05 06:17:41 UTC): @Lee-W I added a newsfragment for this, does it look OK only with respect to that?

amoghrajesh (Issue Creator) on (2025-02-05 07:34:43 UTC): Thanks for the reviews, merging it

"
2827286378,pull_request,closed,,"Render a pod spec using the `pod_template_file` override, if passed to the executor","If a task was created by a custom `executor_options['pod_template_file']` option, we make sure to render the `TaskInstance`'s associated `k8s_pod_spec` with this specific `pod_template_file`, to avoid seeing discrepancies between the spec visible in airflow and the one deployed to Kubernetes.

After having deployed this patch to my test instance running in our Kubernetes cluster, the 2 fields that were missing from the `K8s Pod Spec` pane were now visible (namely, the `kubeapi_enabled` label in the following screenshot).
 
<img width=""865"" alt=""Screenshot 2025-02-03 at 12 43 40"" src=""https://github.com/user-attachments/assets/b7826b3e-8853-44de-845f-f88e6726fb8a"" />


closes: #46373



<!-- Please keep an empty line above the dashes. -->
---
",brouberol,2025-02-03 11:49:01+00:00,[],2025-02-09 06:18:58+00:00,2025-02-09 06:18:58+00:00,https://github.com/apache/airflow/pull/46374,"[('area:providers', ''), ('provider:cncf-kubernetes', 'Kubernetes provider related issues')]","[{'comment_id': 2643448573, 'issue_id': 2827286378, 'author': 'brouberol', 'body': '> What about updating the documentation? Like in `pod_override` [here](https://airflow.apache.org/docs/apache-airflow-providers-cncf-kubernetes/stable/kubernetes_executor.html#pod-override).\r\n\r\nThe documentation is actually quite good there! I did add a mention related to the non default `pod_template_file` being used to render the K8s Pod Spec though. Thanks for the suggestion!', 'created_at': datetime.datetime(2025, 2, 7, 16, 44, 5, tzinfo=datetime.timezone.utc)}]","brouberol (Issue Creator) on (2025-02-07 16:44:05 UTC): The documentation is actually quite good there! I did add a mention related to the non default `pod_template_file` being used to render the K8s Pod Spec though. Thanks for the suggestion!

"
2827239238,pull_request,closed,,Fix doc issues found with recent moves,"Because of the failures with building image we had some issues with docs building - some indexes were missing.

I also found that one of the link types (versioned doc link in README) has not been updated in move_providers script.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-02-03 11:27:08+00:00,[],2025-02-03 14:43:58+00:00,2025-02-03 14:43:56+00:00,https://github.com/apache/airflow/pull/46372,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:common-sql', ''), ('provider:docker', ''), ('provider:elasticsearch', ''), ('provider:http', ''), ('provider:jdbc', ''), ('provider:ftp', ''), ('provider:alibaba', ''), ('provider:asana', ''), ('provider:dbt-cloud', ''), ('provider:dingding', ''), ('provider:github', ''), ('provider:jenkins', ''), ('provider:neo4j', ''), ('provider:odbc', ''), ('provider:apache-kafka', ''), ('provider:apache-hive', ''), ('provider:apache-druid', ''), ('provider:apache-spark', ''), ('provider:apache-beam', ''), ('provider:mysql', ''), ('provider:apache-livy', ''), ('provider:apache-drill', ''), ('provider:apache-cassandra', ''), ('provider:apache-kylin', ''), ('provider:apache-pig', ''), ('provider:influxdb', ''), ('provider:yandex', ''), ('provider:apache-pinot', ''), ('provider:common-io', '')]",[],
2827199739,pull_request,closed,,docs: clarify Gunicorn's role in webserver worker refresh,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->


This update revises the documentation for worker_refresh_batch_size to clearly state:

""Number of workers to refresh at a time through Gunicorn's built-in worker management. When set to 0, worker refresh is disabled. When nonzero, Airflow periodically refreshes webserver workers by bringing up new ones and killing old ones.""

The change aims to eliminate ambiguity by clarifying that Gunicorn reload and webserver refresh refer to the same underlying mechanism. Previously, these terms could be misinterpreted as distinct functions or mistaken for auto_refresh_interval, leading to confusion. By emphasizing that both phenomena are part of Gunicorn's worker management strategy, users will have a clearer understanding of how Airflow manages webserver workers.



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",0BVer,2025-02-03 11:09:49+00:00,[],2025-02-07 04:53:11+00:00,2025-02-06 12:35:48+00:00,https://github.com/apache/airflow/pull/46371,[],"[{'comment_id': 2630640434, 'issue_id': 2827199739, 'author': 'boring-cyborg[bot]', 'body': ""Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)\nHere are some useful points:\n- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.\n- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.\n- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.\n- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.\n- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.\n- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).\n- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.\nApache Airflow is a community-driven project and together we are making it better ðŸš€.\nIn case of doubts contact the developers at:\nMailing List: dev@airflow.apache.org\nSlack: https://s.apache.org/airflow-slack"", 'created_at': datetime.datetime(2025, 2, 3, 11, 9, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638870740, 'issue_id': 2827199739, 'author': '0BVer', 'body': 'I applied pre-commit', 'created_at': datetime.datetime(2025, 2, 6, 5, 27, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639709411, 'issue_id': 2827199739, 'author': 'boring-cyborg[bot]', 'body': 'Awesome work, congrats on your first merged pull request! You are invited to check our [Issue Tracker](https://github.com/apache/airflow/issues) for additional contributions.', 'created_at': datetime.datetime(2025, 2, 6, 12, 35, 50, tzinfo=datetime.timezone.utc)}]","boring-cyborg[bot] on (2025-02-03 11:09:52 UTC): Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)
Here are some useful points:
- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.
- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.
- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.
- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.
- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.
- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).
- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.
Apache Airflow is a community-driven project and together we are making it better ðŸš€.
In case of doubts contact the developers at:
Mailing List: dev@airflow.apache.org
Slack: https://s.apache.org/airflow-slack

0BVer (Issue Creator) on (2025-02-06 05:27:22 UTC): I applied pre-commit

boring-cyborg[bot] on (2025-02-06 12:35:50 UTC): Awesome work, congrats on your first merged pull request! You are invited to check our [Issue Tracker](https://github.com/apache/airflow/issues) for additional contributions.

"
2827172364,pull_request,closed,,Account for None logical date in API,"Laying some ground work for AIP-83 amendments. This changes implementation in API so a None logical_date is correctly handled when referenced.

A couple of overloads are added to `DAG.clear()` to clear one single DAG run selected by run_id. Previously, the API uses `start_date` and `end_date` to select a single DAG run (by logical_date), but this would not work if we want to select a run with logical_date set to None.",uranusjr,2025-02-03 10:57:59+00:00,[],2025-02-04 03:44:53+00:00,2025-02-04 03:44:52+00:00,https://github.com/apache/airflow/pull/46369,"[('area:API', ""Airflow's REST/HTTP API""), ('AIP-83', 'Remove Execution Date Unique Constraint from DAG Run'), ('legacy api', 'Whether legacy API changes should be allowed in PR')]",[],
2827167091,pull_request,closed,,"Revert ""Improve example docs around SQLExecuteQueryOperator in Postgres/Oracle/Presto/Vertica/ODBC (#46352)""","â€¦es/Oracle/Presto/Vertica/ODBC (#46352)""

This reverts commit 454afb5a4a0c2b092f9921e639b7ee56e37b2f00.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->

Reverts https://github.com/apache/airflow/pull/46352 to fix the CI. After reverting, spellcheck goes through:
```

Current package filters: 
['apache-airflow-providers-odbc']
#################### Fetching inventories ####################
Nothing to do
#################### Documentation will be built for 1 package(s) with 12 parallel jobs ####################
1. apache-airflow-providers-odbc
#################### Cleaning documentation files ####################
apache-airflow-providers-odbc                               : Cleaning files
#################### Scheduling spell checking of documentation ####################
apache-airflow-providers-odbc                               : Scheduling spellchecking
#################### Running spell checking of documentation ####################

apache-airflow-providers-odbc                               : Checking spelling started
apache-airflow-providers-odbc                               : (NEW) Cleaning up old files in /opt/airflow/docs/apache-airflow-providers-odbc.
apache-airflow-providers-odbc                               : (NEW) Coping docs from /opt/airflow/providers/odbc/docs to /opt/airflow/docs/apache-airflow-providers-odbc.
apache-airflow-providers-odbc                               : Finished spell-checking successfully
apache-airflow-providers-odbc                               : (NEW) Cleaning up generated files in /opt/airflow/docs/apache-airflow-providers-odbc.
apache-airflow-providers-odbc                               : Checking spelling completed
```

cc @nailo2c you will have to probably create it again, sorry about that.


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",amoghrajesh,2025-02-03 10:55:42+00:00,[],2025-02-03 18:36:32+00:00,2025-02-03 11:17:13+00:00,https://github.com/apache/airflow/pull/46368,"[('provider:presto', ''), ('provider:odbc', ''), ('provider:postgres', ''), ('provider:vertica', ''), ('provider:oracle', '')]","[{'comment_id': 2630691595, 'issue_id': 2827167091, 'author': 'potiuk', 'body': ""Hmm. I was fixing it - without revertion in https://github.com/apache/airflow/pull/46372 -> I will reapply this one as I think it's been properly building docs after my changes."", 'created_at': datetime.datetime(2025, 2, 3, 11, 33, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630707428, 'issue_id': 2827167091, 'author': 'amoghrajesh', 'body': 'Sorry about that, was unblocking some builds', 'created_at': datetime.datetime(2025, 2, 3, 11, 40, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631770413, 'issue_id': 2827167091, 'author': 'nailo2c', 'body': ""No worries, I'll check my PR again and reapply it."", 'created_at': datetime.datetime(2025, 2, 3, 18, 36, 31, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-02-03 11:33:11 UTC): Hmm. I was fixing it - without revertion in https://github.com/apache/airflow/pull/46372 -> I will reapply this one as I think it's been properly building docs after my changes.

amoghrajesh (Issue Creator) on (2025-02-03 11:40:25 UTC): Sorry about that, was unblocking some builds

nailo2c on (2025-02-03 18:36:31 UTC): No worries, I'll check my PR again and reapply it.

"
2827076589,pull_request,closed,,fix: OL sql parsing add try-except for sqlalchemy engine,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->
Add try/except for sql alchemy engine creation used in some google cloud operators (not in SQLExecuteQueryOperator). It's used only for query compilation within sql parser and it's not required, so i think this is reasonable. This issue came out when using CloudSQLExecuteQuery operator, and this is a quick fix before release happens. 


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",kacpermuda,2025-02-03 10:16:12+00:00,[],2025-02-03 13:29:52+00:00,2025-02-03 12:41:58+00:00,https://github.com/apache/airflow/pull/46366,"[('provider:openlineage', 'AIP-53'), ('provider:common-compat', '')]","[{'comment_id': 2630608654, 'issue_id': 2827076589, 'author': 'mobuchowski', 'body': ""@kacpermuda are we sure nothing breaks when we don't pass the sqlalchemy_engine later?"", 'created_at': datetime.datetime(2025, 2, 3, 10, 55, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630669767, 'issue_id': 2827076589, 'author': 'kacpermuda', 'body': ""@mobuchowski This engine is used only [here](https://github.com/apache/airflow/blob/16568e176608fa2c65d0cd5d891f0a3cd1099396/providers/openlineage/src/airflow/providers/openlineage/utils/sql.py#L158), in `create_information_schema_query` and is already typed as Optional with default to None. I've tested it manually on both breeze and astro and it works fine without it."", 'created_at': datetime.datetime(2025, 2, 3, 11, 23, tzinfo=datetime.timezone.utc)}]","mobuchowski on (2025-02-03 10:55:50 UTC): @kacpermuda are we sure nothing breaks when we don't pass the sqlalchemy_engine later?

kacpermuda (Issue Creator) on (2025-02-03 11:23:00 UTC): @mobuchowski This engine is used only [here](https://github.com/apache/airflow/blob/16568e176608fa2c65d0cd5d891f0a3cd1099396/providers/openlineage/src/airflow/providers/openlineage/utils/sql.py#L158), in `create_information_schema_query` and is already typed as Optional with default to None. I've tested it manually on both breeze and astro and it works fine without it.

"
2826917545,pull_request,closed,,Optimize CI image build step,"The image has been using the same disk for building the image and to export the mount cache - which caused some problems in main builds where the build run out of disk space.

There are a few changes here:

* mount cache is stored in /mnt directory - separately from the root directory where docker storage is

* disk stats are displayed more often to see how much disk is used during the build steps

* we also display docker buildx stats to show how much space is used by docker buildx

* environment variables are moved to the JOB so that they are not set in multiple places

* only env variables are used in bash commands to avoid potential template injections (as suggested by zizmor)

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-02-03 09:24:25+00:00,[],2025-02-03 10:41:58+00:00,2025-02-03 10:41:58+00:00,https://github.com/apache/airflow/pull/46365,"[('area:dev-tools', '')]","[{'comment_id': 2630576584, 'issue_id': 2826917545, 'author': 'potiuk', 'body': 'Actually - not sure if that is a good idea - those df are cluttering the output quite a bit.', 'created_at': datetime.datetime(2025, 2, 3, 10, 41, 56, tzinfo=datetime.timezone.utc)}]","potiuk (Issue Creator) on (2025-02-03 10:41:56 UTC): Actually - not sure if that is a good idea - those df are cluttering the output quite a bit.

"
2826695596,pull_request,closed,,docs(newsfragment): add significant newsfragment to PR 42252,"## Why

As mentioned in https://github.com/apache/airflow/pull/46231#issuecomment-2629671007, newsfragment for https://github.com/apache/airflow/pull/42252 was missing

## What
Add a newsfragment for changes in https://github.com/apache/airflow/pull/42252

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",Lee-W,2025-02-03 08:05:05+00:00,[],2025-02-03 09:37:29+00:00,2025-02-03 09:37:27+00:00,https://github.com/apache/airflow/pull/46364,[],"[{'comment_id': 2630377100, 'issue_id': 2826695596, 'author': 'Lee-W', 'body': '> Can you also add for PythonOperator?\r\n\r\nIt seems PythonOperator is not changed in #42252?', 'created_at': datetime.datetime(2025, 2, 3, 9, 16, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630420083, 'issue_id': 2826695596, 'author': 'amoghrajesh', 'body': '> > Can you also add for PythonOperator?\r\n> \r\n> It seems PythonOperator is not changed in #42252?\r\n\r\nAh right, read the file name again, needs to be added, just not in this PR newsfragment', 'created_at': datetime.datetime(2025, 2, 3, 9, 35, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630424901, 'issue_id': 2826695596, 'author': 'Lee-W', 'body': ""> > > Can you also add for PythonOperator?\r\n> > \r\n> > \r\n> > It seems PythonOperator is not changed in #42252?\r\n> \r\n> Ah right, read the file name again, needs to be added, just not in this PR newsfragment\r\n\r\nYep, we can add it once we find the root PR. I'll go ahead and merge this one"", 'created_at': datetime.datetime(2025, 2, 3, 9, 37, 25, tzinfo=datetime.timezone.utc)}]","Lee-W (Issue Creator) on (2025-02-03 09:16:52 UTC): It seems PythonOperator is not changed in #42252?

amoghrajesh on (2025-02-03 09:35:18 UTC): Ah right, read the file name again, needs to be added, just not in this PR newsfragment

Lee-W (Issue Creator) on (2025-02-03 09:37:25 UTC): Yep, we can add it once we find the root PR. I'll go ahead and merge this one

"
2826410236,pull_request,open,,Fix TypeError when importing operators from airflow.providers.google.cloud.operators.dataproc,"Fixes #46357

Update `BigQueryJobRunFacet` class in `providers/src/airflow/providers/google/cloud/openlineage/utils.py` to handle `properties` as a `dict` instead of a `str`.

---

For more details, open the [Copilot Workspace session](https://copilot-workspace.githubnext.com/apache/airflow/pull/46360?shareId=2c7ef92a-aac1-4d88-b309-05d58fe4cc70).",tousifanwar11,2025-02-03 04:55:59+00:00,[],2025-02-04 21:17:28+00:00,,https://github.com/apache/airflow/pull/46360,"[('provider:google', 'Google (including GCP) related issues'), ('area:providers', '')]","[{'comment_id': 2629940710, 'issue_id': 2826410236, 'author': 'boring-cyborg[bot]', 'body': ""Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)\nHere are some useful points:\n- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.\n- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.\n- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.\n- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.\n- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.\n- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).\n- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.\nApache Airflow is a community-driven project and together we are making it better ðŸš€.\nIn case of doubts contact the developers at:\nMailing List: dev@airflow.apache.org\nSlack: https://s.apache.org/airflow-slack"", 'created_at': datetime.datetime(2025, 2, 3, 4, 56, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635096853, 'issue_id': 2826410236, 'author': 'potiuk', 'body': 'You need to rebase after moving provider to new structure.', 'created_at': datetime.datetime(2025, 2, 4, 21, 17, 27, tzinfo=datetime.timezone.utc)}]","boring-cyborg[bot] on (2025-02-03 04:56:03 UTC): Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)
Here are some useful points:
- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.
- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.
- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.
- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.
- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.
- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).
- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.
Apache Airflow is a community-driven project and together we are making it better ðŸš€.
In case of doubts contact the developers at:
Mailing List: dev@airflow.apache.org
Slack: https://s.apache.org/airflow-slack

potiuk on (2025-02-04 21:17:27 UTC): You need to rebase after moving provider to new structure.

"
2826162907,pull_request,closed,,Add Halter to the list of companies using Airflow.,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",antonysouthworth-halter,2025-02-03 01:14:40+00:00,[],2025-02-03 01:54:38+00:00,2025-02-03 01:54:37+00:00,https://github.com/apache/airflow/pull/46359,[],[],
2825991617,pull_request,closed,,Fix disk space issues on github runners,"Main is failing e.g. in https://github.com/apache/airflow/actions/runs/13101805105/job/36550974189 as runners are ""out of disk space"".
This seems to be caused as only 23GB are free on /root disk where main artifacts like docker is produced. When the runner starts the following disk space is available:
```
Run df -H
Filesystem      Size  Used Avail Use% Mounted on
/dev/root        78G   56G   23G  72% /
tmpfs           8.4G  177k  8.4G   1% /dev/shm
tmpfs           3.4G  1.2M  3.4G   1% /run
tmpfs           5.3M     0  5.3M   0% /run/lock
/dev/sda15      110M  6.4M  104M   6% /boot/efi
/dev/sdb1        79G  4.3G   71G   6% /mnt
tmpfs           1.7G   13k  1.7G   1% /run/user/1001
```
(A lot of build tools are already on CI image - see more debug info from the additional debug steps in https://github.com/apache/airflow/actions/runs/13102704519/job/36552932758 where the disk space onthe image is allocated.)

...but this means that after building the image only ~5GB are free and in some corner cases (e.g. main) the build fails. Disk space at then of building pipelines is:
```
Run df -H
Filesystem      Size  Used Avail Use% Mounted on
/dev/root        78G   73G  5.2G  94% /
tmpfs           8.4G  177k  8.4G   1% /dev/shm
tmpfs           3.4G  1.2M  3.4G   1% /run
tmpfs           5.3M     0  5.3M   0% /run/lock
/dev/sdb15      110M  6.4M  104M   6% /boot/efi
/dev/sda1        79G  8.2G   67G  11% /mnt
tmpfs           1.7G   13k  1.7G   1% /run/user/1001
```

...and as it seems a LOT of disk space is on the second drive in /mnt and the larged data chunk from triaging is the docker workspace, this PR adds a bind mout to use the second drive in /var/lib/docker. With this at the end of the build of the image the following free space is available:
```
Run df -H
Filesystem      Size  Used Avail Use% Mounted on
/dev/root        78G   54G   25G  69% /
tmpfs           8.4G  177k  8.4G   1% /dev/shm
tmpfs           3.4G  1.2M  3.4G   1% /run
tmpfs           5.3M     0  5.3M   0% /run/lock
/dev/sda15      110M  6.4M  104M   6% /boot/efi
/dev/sdb1        79G   28G   48G  37% /mnt
tmpfs           1.7G   13k  1.7G   1% /run/user/1001
```
Adding this as a function to the docker cleanup script and making this to all pipelines.
(Numbers were taken from Python 3.9)",jscheffl,2025-02-02 20:19:22+00:00,[],2025-02-03 08:56:53+00:00,2025-02-03 08:56:53+00:00,https://github.com/apache/airflow/pull/46358,"[('area:dev-tools', ''), ('full tests needed', 'We need to run full set of tests for this PR to merge'), ('all versions', 'If set, the CI build will be forced to use all versions of Python/K8S/DBs')]","[{'comment_id': 2629589992, 'issue_id': 2825991617, 'author': 'jscheffl', 'body': 'Mhm, not sure but smells like image constraint generation failure is un-related to this PR... at least should be...', 'created_at': datetime.datetime(2025, 2, 2, 22, 34, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630329179, 'issue_id': 2825991617, 'author': 'jscheffl', 'body': 'Docs build problems seem to be un-related, merging. Dcos will need another fix', 'created_at': datetime.datetime(2025, 2, 3, 8, 56, 46, tzinfo=datetime.timezone.utc)}]","jscheffl (Issue Creator) on (2025-02-02 22:34:02 UTC): Mhm, not sure but smells like image constraint generation failure is un-related to this PR... at least should be...

jscheffl (Issue Creator) on (2025-02-03 08:56:46 UTC): Docs build problems seem to be un-related, merging. Dcos will need another fix

"
2825891906,pull_request,closed,,Fix `dag reserialize` not calling bundle initialize,"Some bundle types, like git, require that `initialize` is called before you can call other methods, like `get_current_version`. This was missed when introducing `initialize` though.
",jedcunningham,2025-02-02 16:38:36+00:00,[],2025-02-02 17:00:35+00:00,2025-02-02 17:00:33+00:00,https://github.com/apache/airflow/pull/46355,"[('area:CLI', ''), ('AIP-66: DAG Bundle/Manifest', '')]",[],
2825626789,pull_request,closed,,Skip ci if pr is a draft commit,"There's no need to run ci for wip
commits.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",aritra24,2025-02-02 05:52:34+00:00,[],2025-02-04 21:15:39+00:00,2025-02-03 02:10:02+00:00,https://github.com/apache/airflow/pull/46353,"[('area:dev-tools', '')]","[{'comment_id': 2629256348, 'issue_id': 2825626789, 'author': 'aritra24', 'body': ""Draft prs shouldn't go through all the build/test?"", 'created_at': datetime.datetime(2025, 2, 2, 5, 54, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629387255, 'issue_id': 2825626789, 'author': 'jscheffl', 'body': 'I think it is valueable to run Draft PRs also through CI. Then as a contributor you can have early feedback. Before opening a PR up toreviewers and generating notifications. What else should a WIP/Draft PR be for?\r\nOr do we need to fear that we have too high CI workload and need to reduce infra capacity? Then still a reduced run would be of value in my view.', 'created_at': datetime.datetime(2025, 2, 2, 13, 0, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629509900, 'issue_id': 2825626789, 'author': 'aritra24', 'body': ""I think that's fair, I was coming in from a perspective of I know my pr is half baked and is not ready to be merged (and so is highly likely to fail in ci). I mainly use drafts to get early feedback on direction of code from specific folks with context on the task. \n\nBut I don't have a strong opinion on this so I'm good with closing it as not needed."", 'created_at': datetime.datetime(2025, 2, 2, 18, 46, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629738056, 'issue_id': 2825626789, 'author': 'jedcunningham', 'body': ""I agree with Jens that there is value in having them go through CI. If it's half baked and a bunch of tests are failing, you won't catch any flak at all. In fact, it's nice you can defer notifying reviewers until you know everything is green, particularly if you think tests across a lot of places may fail. I do it pretty often myself.\r\n\r\nWe already use [selective checks](https://github.com/apache/airflow/blob/main/dev/breeze/doc/ci/04_selective_checks.md) to optimize and only run tests that need to run for a given change. I'm sure there is still gains to be had, but the low hanging fruit is already picked there (at least afaik ðŸ˜„).\r\n\r\nThanks for the PR, but I'm going to close this one."", 'created_at': datetime.datetime(2025, 2, 3, 2, 10, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635093712, 'issue_id': 2825626789, 'author': 'potiuk', 'body': 'You can always add `[skip ci]` in your PR title or message if you want to skip CI in draft PR https://github.blog/changelog/2021-02-08-github-actions-skip-pull-request-and-push-workflows-with-skip-ci/', 'created_at': datetime.datetime(2025, 2, 4, 21, 15, 38, tzinfo=datetime.timezone.utc)}]","aritra24 (Issue Creator) on (2025-02-02 05:54:55 UTC): Draft prs shouldn't go through all the build/test?

jscheffl on (2025-02-02 13:00:32 UTC): I think it is valueable to run Draft PRs also through CI. Then as a contributor you can have early feedback. Before opening a PR up toreviewers and generating notifications. What else should a WIP/Draft PR be for?
Or do we need to fear that we have too high CI workload and need to reduce infra capacity? Then still a reduced run would be of value in my view.

aritra24 (Issue Creator) on (2025-02-02 18:46:16 UTC): I think that's fair, I was coming in from a perspective of I know my pr is half baked and is not ready to be merged (and so is highly likely to fail in ci). I mainly use drafts to get early feedback on direction of code from specific folks with context on the task. 

But I don't have a strong opinion on this so I'm good with closing it as not needed.

jedcunningham on (2025-02-03 02:10:02 UTC): I agree with Jens that there is value in having them go through CI. If it's half baked and a bunch of tests are failing, you won't catch any flak at all. In fact, it's nice you can defer notifying reviewers until you know everything is green, particularly if you think tests across a lot of places may fail. I do it pretty often myself.

We already use [selective checks](https://github.com/apache/airflow/blob/main/dev/breeze/doc/ci/04_selective_checks.md) to optimize and only run tests that need to run for a given change. I'm sure there is still gains to be had, but the low hanging fruit is already picked there (at least afaik ðŸ˜„).

Thanks for the PR, but I'm going to close this one.

potiuk on (2025-02-04 21:15:38 UTC): You can always add `[skip ci]` in your PR title or message if you want to skip CI in draft PR https://github.blog/changelog/2021-02-08-github-actions-skip-pull-request-and-push-workflows-with-skip-ci/

"
2825413908,pull_request,closed,,Improve example docs around SQLExecuteQueryOperator in Postgres/Oracle/Presto/Vertica/ODBC,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->


related: #44807 

I used the command `breeze build-docs` locally, and all the docs seem okay.


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",nailo2c,2025-02-01 20:31:18+00:00,[],2025-02-09 06:25:39+00:00,2025-02-03 04:31:19+00:00,https://github.com/apache/airflow/pull/46352,"[('provider:presto', ''), ('provider:odbc', ''), ('provider:postgres', ''), ('provider:vertica', ''), ('provider:oracle', '')]","[{'comment_id': 2629140532, 'issue_id': 2825413908, 'author': 'potiuk', 'body': 'But you also need to run pre-commits :)', 'created_at': datetime.datetime(2025, 2, 1, 22, 22, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629267391, 'issue_id': 2825413908, 'author': 'nailo2c', 'body': ""Thanks for the reminder! All the static check errors have been fixed. Next time, I'll remember to use `pre-commit` to check :)"", 'created_at': datetime.datetime(2025, 2, 2, 6, 39, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630430311, 'issue_id': 2825413908, 'author': 'jscheffl', 'body': 'It seems/smells like this PR broke main. Docs build fails now in https://github.com/apache/airflow/actions/runs/13109792195/job/36571965268\r\n\r\nCan this be fixed short term or shall we revert this PR and re-fix it?', 'created_at': datetime.datetime(2025, 2, 3, 9, 39, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631761149, 'issue_id': 2825413908, 'author': 'nailo2c', 'body': 'Hi, thanks for reverting. Let me check what happened later.', 'created_at': datetime.datetime(2025, 2, 3, 18, 31, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2645949284, 'issue_id': 2825413908, 'author': 'eladkal', 'body': '@nailo2c can you resubmit the PR and we will look into what was the issue?', 'created_at': datetime.datetime(2025, 2, 8, 21, 26, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2646010719, 'issue_id': 2825413908, 'author': 'nailo2c', 'body': ""Hi @eladkal, I've noticed that my code change is included in this [[PR](https://github.com/apache/airflow/pull/46372)](https://github.com/apache/airflow/pull/46372) (check the files changed in the `oracle/`, `presto/`, `vertica/`, and `odbc/` folders). Should I resubmit the original PR?"", 'created_at': datetime.datetime(2025, 2, 9, 1, 17, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2646088366, 'issue_id': 2825413908, 'author': 'eladkal', 'body': 'Ah cool. Will you raise PR for the other peoviders listed in the issue that were not yet handled?', 'created_at': datetime.datetime(2025, 2, 9, 6, 12, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2646091535, 'issue_id': 2825413908, 'author': 'nailo2c', 'body': ""Yes, I'm working on that. I hope I won't encounter the same issue in the next PR."", 'created_at': datetime.datetime(2025, 2, 9, 6, 25, 38, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-02-01 22:22:19 UTC): But you also need to run pre-commits :)

nailo2c (Issue Creator) on (2025-02-02 06:39:54 UTC): Thanks for the reminder! All the static check errors have been fixed. Next time, I'll remember to use `pre-commit` to check :)

jscheffl on (2025-02-03 09:39:46 UTC): It seems/smells like this PR broke main. Docs build fails now in https://github.com/apache/airflow/actions/runs/13109792195/job/36571965268

Can this be fixed short term or shall we revert this PR and re-fix it?

nailo2c (Issue Creator) on (2025-02-03 18:31:46 UTC): Hi, thanks for reverting. Let me check what happened later.

eladkal on (2025-02-08 21:26:09 UTC): @nailo2c can you resubmit the PR and we will look into what was the issue?

nailo2c (Issue Creator) on (2025-02-09 01:17:18 UTC): Hi @eladkal, I've noticed that my code change is included in this [[PR](https://github.com/apache/airflow/pull/46372)](https://github.com/apache/airflow/pull/46372) (check the files changed in the `oracle/`, `presto/`, `vertica/`, and `odbc/` folders). Should I resubmit the original PR?

eladkal on (2025-02-09 06:12:59 UTC): Ah cool. Will you raise PR for the other peoviders listed in the issue that were not yet handled?

nailo2c (Issue Creator) on (2025-02-09 06:25:38 UTC): Yes, I'm working on that. I hope I won't encounter the same issue in the next PR.

"
2825265495,pull_request,closed,,Fix indentation Error on Docs Google Provider,"Fix indentation Error on Docs Google Provider seen at #46269.

Job URL: https://github.com/apache/airflow/actions/runs/13089117540/job/36523818067?pr=46269
<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",bugraoz93,2025-02-01 15:18:09+00:00,[],2025-02-01 16:26:17+00:00,2025-02-01 15:26:23+00:00,https://github.com/apache/airflow/pull/46351,"[('provider:google', 'Google (including GCP) related issues'), ('area:providers', ''), ('kind:documentation', '')]","[{'comment_id': 2628995023, 'issue_id': 2825265495, 'author': 'amoghrajesh', 'body': 'Hey @bugraoz93!\r\n\r\nJust merged the fix for it: https://github.com/apache/airflow/pull/46350', 'created_at': datetime.datetime(2025, 2, 1, 15, 26, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628995083, 'issue_id': 2825265495, 'author': 'bugraoz93', 'body': 'Closing this in favor of #46350.', 'created_at': datetime.datetime(2025, 2, 1, 15, 26, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628995707, 'issue_id': 2825265495, 'author': 'bugraoz93', 'body': ""> Hey @bugraoz93!\r\n> \r\n> Just merged the fix for it: #46350\r\n\r\n@amoghrajesh  Thanks for fixing it! You were faster :) I searched and found no one working and the alert hadn't been generated yet in the Slack channel when I realised this here https://github.com/apache/airflow/pull/46269#issuecomment-2628974400, I should have pinged from the channel and should have checked there before creating :raised_hands:"", 'created_at': datetime.datetime(2025, 2, 1, 15, 28, 14, tzinfo=datetime.timezone.utc)}]","amoghrajesh on (2025-02-01 15:26:14 UTC): Hey @bugraoz93!

Just merged the fix for it: https://github.com/apache/airflow/pull/46350

bugraoz93 (Issue Creator) on (2025-02-01 15:26:23 UTC): Closing this in favor of #46350.

bugraoz93 (Issue Creator) on (2025-02-01 15:28:14 UTC): @amoghrajesh  Thanks for fixing it! You were faster :) I searched and found no one working and the alert hadn't been generated yet in the Slack channel when I realised this here https://github.com/apache/airflow/pull/46269#issuecomment-2628974400, I should have pinged from the channel and should have checked there before creating :raised_hands:

"
2825255820,pull_request,closed,,Reducing dedent to fix doc building issues in CI,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->

CI ran into failure:
```
############################## Start docs build errors summary ##############################

============================== apache-airflow-providers-google ==============================
------------------------------ Error   1 --------------------
 WARNING: non-whitespace stripped by dedent

File path: apache-airflow-providers-google/operators/cloud/bigquery.rst.rst (216)
------------------------------ Error   2 --------------------
 WARNING: non-whitespace stripped by dedent

File path: apache-airflow-providers-google/operators/cloud/bigquery.rst.rst (314)
------------------------------ Error   3 --------------------
 WARNING: non-whitespace stripped by dedent

File path: apache-airflow-providers-google/operators/cloud/bigquery.rst.rst (337)
------------------------------ Error   4 --------------------
 WARNING: non-whitespace stripped by dedent

File path: apache-airflow-providers-google/operators/cloud/bigquery.rst.rst (374)
------------------------------ Error   5 --------------------
 WARNING: non-whitespace stripped by dedent

File path: apache-airflow-providers-google/operators/cloud/bigquery.rst.rst (400)
------------------------------ Error   6 --------------------
 WARNING: non-whitespace stripped by dedent

File path: apache-airflow-providers-google/operators/cloud/bigquery.rst.rst (424)

############################## End docs build errors summary ##############################
```

Caused due to https://github.com/apache/airflow/pull/46244. Example failure: https://github.com/apache/airflow/actions/runs/13089095187/job/36523870095

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",amoghrajesh,2025-02-01 14:58:37+00:00,[],2025-02-01 21:08:38+00:00,2025-02-01 15:19:20+00:00,https://github.com/apache/airflow/pull/46350,"[('provider:google', 'Google (including GCP) related issues'), ('area:providers', ''), ('kind:documentation', '')]","[{'comment_id': 2629114896, 'issue_id': 2825255820, 'author': 'potiuk', 'body': 'cool :)', 'created_at': datetime.datetime(2025, 2, 1, 21, 8, 38, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-02-01 21:08:38 UTC): cool :)

"
2825245706,pull_request,closed,,Create My_Test_Dag.py,"Just for Educational Purpose

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",deneshvarma22,2025-02-01 14:37:47+00:00,[],2025-02-01 15:01:39+00:00,2025-02-01 14:48:26+00:00,https://github.com/apache/airflow/pull/46349,[],"[{'comment_id': 2628977829, 'issue_id': 2825245706, 'author': 'boring-cyborg[bot]', 'body': ""Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)\nHere are some useful points:\n- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.\n- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.\n- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.\n- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.\n- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.\n- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).\n- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.\nApache Airflow is a community-driven project and together we are making it better ðŸš€.\nIn case of doubts contact the developers at:\nMailing List: dev@airflow.apache.org\nSlack: https://s.apache.org/airflow-slack"", 'created_at': datetime.datetime(2025, 2, 1, 14, 37, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628981301, 'issue_id': 2825245706, 'author': 'potiuk', 'body': 'Please do not create noise in Airflow by creating educational PRs. You can work on your private repo.\r\n\r\nCan you please explain - did someone tell you in some instructions how to create the PRs and forgot to mention that you shoudl not create an issue in Airflow repo? We received similar PR from another person just recently but it did not happen before. Can you please explain where the idea of creating PR in airflow repo came from?', 'created_at': datetime.datetime(2025, 2, 1, 14, 48, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628985876, 'issue_id': 2825245706, 'author': 'deneshvarma22', 'body': 'Hi Jarek,\r\n\r\nApologies for the confusion. I mistakenly created a PR in the Apache\r\nAirflow repository while learning about Airflow and GitHub integration.\r\n\r\nI will make sure to work in my own private repository and avoid making\r\nunnecessary PRs in the official repo.\r\n\r\nThanks for letting me know!\r\n\r\nRegards,\r\n\r\nDinesh\r\n\r\n\r\nOn Sat, 1 Feb 2025 at 20:18, Jarek Potiuk ***@***.***> wrote:\r\n\r\n> Please do not create noise in Airflow by creating educational PRs. You can\r\n> work on your private repo.\r\n>\r\n> Can you please explain - did someone tell you in some instructions how to\r\n> create the PRs and forgot to mention that you shoudl not create an issue in\r\n> Airflow repo? We received similar PR from another person just recently but\r\n> it did not happen before. Can you please explain where the idea of creating\r\n> PR in airflow repo came from?\r\n>\r\n> â€”\r\n> Reply to this email directly, view it on GitHub\r\n> <https://github.com/apache/airflow/pull/46349#issuecomment-2628981301>,\r\n> or unsubscribe\r\n> <https://github.com/notifications/unsubscribe-auth/BIE2KJZZURESW26GJLBBW6T2NTNFDAVCNFSM6AAAAABWJLHUYWVHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMZDMMRYHE4DCMZQGE>\r\n> .\r\n> You are receiving this because you authored the thread.Message ID:\r\n> ***@***.***>\r\n>', 'created_at': datetime.datetime(2025, 2, 1, 15, 1, 38, tzinfo=datetime.timezone.utc)}]","boring-cyborg[bot] on (2025-02-01 14:37:50 UTC): Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)
Here are some useful points:
- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.
- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.
- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.
- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.
- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.
- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).
- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.
Apache Airflow is a community-driven project and together we are making it better ðŸš€.
In case of doubts contact the developers at:
Mailing List: dev@airflow.apache.org
Slack: https://s.apache.org/airflow-slack

potiuk on (2025-02-01 14:48:26 UTC): Please do not create noise in Airflow by creating educational PRs. You can work on your private repo.

Can you please explain - did someone tell you in some instructions how to create the PRs and forgot to mention that you shoudl not create an issue in Airflow repo? We received similar PR from another person just recently but it did not happen before. Can you please explain where the idea of creating PR in airflow repo came from?

deneshvarma22 (Issue Creator) on (2025-02-01 15:01:38 UTC): Hi Jarek,

Apologies for the confusion. I mistakenly created a PR in the Apache
Airflow repository while learning about Airflow and GitHub integration.

I will make sure to work in my own private repository and avoid making
unnecessary PRs in the official repo.

Thanks for letting me know!

Regards,

Dinesh


On Sat, 1 Feb 2025 at 20:18, Jarek Potiuk ***@***.***> wrote:

"
2825241346,pull_request,open,,WIP: Creating run backfill,"WIP: #43969

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",aritra24,2025-02-01 14:28:55+00:00,[],2025-02-08 10:06:53+00:00,,https://github.com/apache/airflow/pull/46348,"[('area:UI', 'Related to UI/UX. For Frontend Developers.')]","[{'comment_id': 2644798098, 'issue_id': 2825241346, 'author': 'aritra24', 'body': 'Still needs some fixing up, throws a bunch of errors on sending the requests. Pushing now to get some feedback on the UI changes.', 'created_at': datetime.datetime(2025, 2, 8, 9, 57, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644798276, 'issue_id': 2825241346, 'author': 'aritra24', 'body': '<img width=""1470"" alt=""Screenshot 2025-02-08 at 2 53 56\u202fPM"" src=""https://github.com/user-attachments/assets/5ea8e428-b5d6-4755-8b3d-1b91550a48cd"" />\r\nThis is what the UI looks like right now.', 'created_at': datetime.datetime(2025, 2, 8, 9, 58, 9, tzinfo=datetime.timezone.utc)}]","aritra24 (Issue Creator) on (2025-02-08 09:57:34 UTC): Still needs some fixing up, throws a bunch of errors on sending the requests. Pushing now to get some feedback on the UI changes.

aritra24 (Issue Creator) on (2025-02-08 09:58:09 UTC): <img width=""1470"" alt=""Screenshot 2025-02-08 at 2 53 56â€¯PM"" src=""https://github.com/user-attachments/assets/5ea8e428-b5d6-4755-8b3d-1b91550a48cd"" />
This is what the UI looks like right now.

"
2825238318,pull_request,closed,,Upgrade to latest uv,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-02-01 14:22:36+00:00,[],2025-02-01 22:21:27+00:00,2025-02-01 22:21:27+00:00,https://github.com/apache/airflow/pull/46347,"[('area:dev-tools', ''), ('area:production-image', 'Production image improvements and fixes')]","[{'comment_id': 2629140268, 'issue_id': 2825238318, 'author': 'potiuk', 'body': 'Google issue with docs - already fixed. Merging.', 'created_at': datetime.datetime(2025, 2, 1, 22, 21, 23, tzinfo=datetime.timezone.utc)}]","potiuk (Issue Creator) on (2025-02-01 22:21:23 UTC): Google issue with docs - already fixed. Merging.

"
2825237756,pull_request,closed,,add a dummy changes,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",Gyaneshwar81,2025-02-01 14:21:25+00:00,[],2025-02-01 14:33:58+00:00,2025-02-01 14:29:20+00:00,https://github.com/apache/airflow/pull/46346,[],"[{'comment_id': 2628971855, 'issue_id': 2825237756, 'author': 'boring-cyborg[bot]', 'body': ""Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)\nHere are some useful points:\n- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.\n- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.\n- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.\n- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.\n- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.\n- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).\n- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.\nApache Airflow is a community-driven project and together we are making it better ðŸš€.\nIn case of doubts contact the developers at:\nMailing List: dev@airflow.apache.org\nSlack: https://s.apache.org/airflow-slack"", 'created_at': datetime.datetime(2025, 2, 1, 14, 21, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628974680, 'issue_id': 2825237756, 'author': 'potiuk', 'body': 'Please don\'t create ""dummy"" changes in our repo. you can play with yours if you want but this one introduces noise in Airflow.', 'created_at': datetime.datetime(2025, 2, 1, 14, 29, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628976401, 'issue_id': 2825237756, 'author': 'Gyaneshwar81', 'body': 'Sorry sir for this mistake I have changed the code in repo.\r\n\r\n________________________________\r\nFrom: Jarek Potiuk ***@***.***>\r\nSent: Saturday, February 1, 2025 2:29 PM\r\nTo: apache/airflow ***@***.***>\r\nCc: Gyaneshwar ***@***.***>; Author ***@***.***>\r\nSubject: Re: [apache/airflow] add a dummy changes (PR #46346)\r\n\r\n\r\nPlease don\'t create ""dummy"" changes in our repo. you can play with yours if you want but this one introduces noise in Airflow.\r\n\r\nâ€”\r\nReply to this email directly, view it on GitHub<https://github.com/apache/airflow/pull/46346#issuecomment-2628974680>, or unsubscribe<https://github.com/notifications/unsubscribe-auth/BN4S6OC4P2JSHKLOMYFC76D2NTK5PAVCNFSM6AAAAABWJKYQT6VHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMZDMMRYHE3TINRYGA>.\r\nYou are receiving this because you authored the thread.Message ID: ***@***.***>', 'created_at': datetime.datetime(2025, 2, 1, 14, 33, 57, tzinfo=datetime.timezone.utc)}]","boring-cyborg[bot] on (2025-02-01 14:21:29 UTC): Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)
Here are some useful points:
- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.
- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.
- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.
- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.
- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.
- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).
- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.
Apache Airflow is a community-driven project and together we are making it better ðŸš€.
In case of doubts contact the developers at:
Mailing List: dev@airflow.apache.org
Slack: https://s.apache.org/airflow-slack

potiuk on (2025-02-01 14:29:20 UTC): Please don't create ""dummy"" changes in our repo. you can play with yours if you want but this one introduces noise in Airflow.

Gyaneshwar81 (Issue Creator) on (2025-02-01 14:33:57 UTC): Sorry sir for this mistake I have changed the code in repo.

________________________________
From: Jarek Potiuk ***@***.***>
Sent: Saturday, February 1, 2025 2:29 PM
To: apache/airflow ***@***.***>
Cc: Gyaneshwar ***@***.***>; Author ***@***.***>
Subject: Re: [apache/airflow] add a dummy changes (PR #46346)


Please don't create ""dummy"" changes in our repo. you can play with yours if you want but this one introduces noise in Airflow.

â€”
Reply to this email directly, view it on GitHub<https://github.com/apache/airflow/pull/46346#issuecomment-2628974680>, or unsubscribe<https://github.com/notifications/unsubscribe-auth/BN4S6OC4P2JSHKLOMYFC76D2NTK5PAVCNFSM6AAAAABWJKYQT6VHI2DSMVQWIX3LMV43OSLTON2WKQ3PNVWWK3TUHMZDMMRYHE3TINRYGA>.
You are receiving this because you authored the thread.Message ID: ***@***.***>

"
2825233653,pull_request,closed,,Allow specifying repo_url in GitDagBundle kwargs,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->

closes: #45952 

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",jx2lee,2025-02-01 14:12:46+00:00,[],2025-02-02 16:48:16+00:00,2025-02-02 16:48:09+00:00,https://github.com/apache/airflow/pull/46345,"[('area:DAG-processing', ''), ('AIP-66: DAG Bundle/Manifest', '')]",[],
2825146219,pull_request,closed,,Move Google provider to new provider structure,"related to #46045

There are multiple active open PRs for Google providers.

https://github.com/apache/airflow/pulls?q=is%3Aopen+is%3Apr+label%3Aprovider%3Agoogle",rawwar,2025-02-01 11:05:43+00:00,[],2025-02-04 14:16:41+00:00,2025-02-04 14:02:31+00:00,https://github.com/apache/airflow/pull/46344,"[('provider:google', 'Google (including GCP) related issues'), ('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', '')]","[{'comment_id': 2628931588, 'issue_id': 2825146219, 'author': 'potiuk', 'body': 'I reviewed and merged the PRs that could be merged on that one @rawwar, and warned the authors of the other PRs that they will have to rebase their PRs. I think this one might show you what needs to be fixed manually after the move (unit tests, mypy and some imports of the common code, so feel free to take it on, redo the move on latest main and I suggest we try to merge it quickly :)', 'created_at': datetime.datetime(2025, 2, 1, 12, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628931893, 'issue_id': 2825146219, 'author': 'potiuk', 'body': 'If you need some help - ping me on slack - I am at FOSDEM now, but I can take a quick look usually and help to make decisions what to do if you are blocked', 'created_at': datetime.datetime(2025, 2, 1, 12, 22, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628973398, 'issue_id': 2825146219, 'author': 'rawwar', 'body': '> If you need some help - ping me on slack - I am at FOSDEM now, but I can take a quick look usually and help to make decisions what to do if you are blocked\r\n\r\nThanks. I will reach out on slack if I need help. As of now, resolving several mypy issues locally.', 'created_at': datetime.datetime(2025, 2, 1, 14, 25, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629401862, 'issue_id': 2825146219, 'author': 'rawwar', 'body': 'discussion threads on slack - https://apache-airflow.slack.com/archives/C08AA9EJFB5/p1738464696036019', 'created_at': datetime.datetime(2025, 2, 2, 13, 41, 50, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-02-01 12:22:00 UTC): I reviewed and merged the PRs that could be merged on that one @rawwar, and warned the authors of the other PRs that they will have to rebase their PRs. I think this one might show you what needs to be fixed manually after the move (unit tests, mypy and some imports of the common code, so feel free to take it on, redo the move on latest main and I suggest we try to merge it quickly :)

potiuk on (2025-02-01 12:22:55 UTC): If you need some help - ping me on slack - I am at FOSDEM now, but I can take a quick look usually and help to make decisions what to do if you are blocked

rawwar (Issue Creator) on (2025-02-01 14:25:30 UTC): Thanks. I will reach out on slack if I need help. As of now, resolving several mypy issues locally.

rawwar (Issue Creator) on (2025-02-02 13:41:50 UTC): discussion threads on slack - https://apache-airflow.slack.com/archives/C08AA9EJFB5/p1738464696036019

"
2825144145,pull_request,closed,,"Fix DAGs being deactivated as ""deleted""","We missed a spot when switching to using relative_fileloc during parsing, and it was causing all DAGs to be deactivated because Airflow thought the file they were is was deleted. This fixes it so we are using relative_fileloc on both sides.",jedcunningham,2025-02-01 11:01:14+00:00,[],2025-02-01 14:59:54+00:00,2025-02-01 14:59:53+00:00,https://github.com/apache/airflow/pull/46343,"[('full tests needed', 'We need to run full set of tests for this PR to merge'), ('area:DAG-processing', ''), ('AIP-66: DAG Bundle/Manifest', '')]",[],
2824654753,pull_request,closed,,Update constraints for 3.0.0a1,"These are the alphas we had to cut alongside 3.0.0a1, so the alpha is usable.",jedcunningham,2025-02-01 00:46:14+00:00,[],2025-02-01 01:39:58+00:00,2025-02-01 01:39:57+00:00,https://github.com/apache/airflow/pull/46342,[],[],
2824554138,pull_request,closed,,Make var naming a little more consistent in dag processor,"Previously we dealt with filepaths, just string paths.  Now we deal with a different object, DagFileInfo which is basically bundle name and rel path.  Updating the names of some of these functions and variables makes it a little more intuitive to deal with.
",dstandish,2025-01-31 23:17:10+00:00,[],2025-02-01 11:08:38+00:00,2025-02-01 11:08:32+00:00,https://github.com/apache/airflow/pull/46341,"[('full tests needed', 'We need to run full set of tests for this PR to merge'), ('area:DAG-processing', ''), ('AIP-66: DAG Bundle/Manifest', '')]",[],
2824417482,pull_request,closed,,Adding extra links for EC2,"
---
Added extra links to EC2 operators. For operators w/ single instance id, the link directs the user to the specific instance's page. For multiple instances, the link directs the user to the instance list.",ellisms,2025-01-31 21:22:19+00:00,[],2025-02-06 17:21:03+00:00,2025-02-06 17:21:03+00:00,https://github.com/apache/airflow/pull/46340,"[('provider:amazon', 'AWS/Amazon - related issues'), ('area:providers', '')]","[{'comment_id': 2639043518, 'issue_id': 2824417482, 'author': 'eladkal', 'body': '@o-nikolas any further comments? If not, happy to merge', 'created_at': datetime.datetime(2025, 2, 6, 7, 34, 15, tzinfo=datetime.timezone.utc)}]","eladkal on (2025-02-06 07:34:15 UTC): @o-nikolas any further comments? If not, happy to merge

"
2824406714,pull_request,closed,,Fix UI asset compilation in Airflow package,"PR #45928 started building it, but it wasn't in the final wheel/sdist :)",jedcunningham,2025-01-31 21:15:39+00:00,[],2025-02-01 11:10:11+00:00,2025-01-31 22:36:47+00:00,https://github.com/apache/airflow/pull/46339,[],"[{'comment_id': 2628908167, 'issue_id': 2824406714, 'author': 'potiuk', 'body': 'NICE!', 'created_at': datetime.datetime(2025, 2, 1, 11, 10, 10, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-02-01 11:10:10 UTC): NICE!

"
2824206961,pull_request,closed,,Move Microsoft MSSQL / PSRP and WinRM providers to new provider structure,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: [#46254](https://github.com/apache/airflow/pull/46254)

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->

Move Microsoft MSSQL / PSRP and WinRM providers to new provider structure

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",dabla,2025-01-31 19:09:54+00:00,[],2025-02-04 07:55:06+00:00,2025-02-03 21:18:35+00:00,https://github.com/apache/airflow/pull/46338,[],"[{'comment_id': 2628109742, 'issue_id': 2824206961, 'author': 'dabla', 'body': 'Started PR to move remaining Microsoft [providers to new provider structure](https://github.com/apache/airflow/issues/46045)', 'created_at': datetime.datetime(2025, 1, 31, 19, 11, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628891377, 'issue_id': 2824206961, 'author': 'potiuk', 'body': 'I think you have not used the script to move the providers @dabla? Looks like all those are manually moved :) (we have  the script in `/dev/moving_providers/` that does most of the necessary modifications and creates necessary files :)', 'created_at': datetime.datetime(2025, 2, 1, 10, 18, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628905336, 'issue_id': 2824206961, 'author': 'dabla', 'body': '> I think you have not used the script to move the providers @dabla? Looks like all those are manually moved :) (we have the script in `/dev/moving_providers/` that does most of the necessary modifications and creates necessary files :)\r\n\r\nOk thx Jarek indeed I did manually. Will revert current commit and use script instead :)', 'created_at': datetime.datetime(2025, 2, 1, 11, 1, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629138930, 'issue_id': 2824206961, 'author': 'potiuk', 'body': 'Looks like code loading resource file in tests needs to be fixed.', 'created_at': datetime.datetime(2025, 2, 1, 22, 17, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629141230, 'issue_id': 2824206961, 'author': 'dabla', 'body': '> Looks like code loading resource file in tests needs to be fixed.\r\n\r\nYes indeed but the conftest was shared across all Microsoft providers so think!it will have to be split now', 'created_at': datetime.datetime(2025, 2, 1, 22, 24, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629142444, 'issue_id': 2824206961, 'author': 'potiuk', 'body': '> > Looks like code loading resource file in tests needs to be fixed.\r\n> \r\n> Yes indeed but the conftest was shared across all Microsoft providers so think!it will have to be split now\r\n\r\nYeah. There are two options:\r\n\r\n* if common code is small -> copy it. Tests do not have to be DRY\r\n* If the code is substantial enough to justify keeping it DRY - we have `tests_common` project which is added as a plugin to all providers and common code is there.', 'created_at': datetime.datetime(2025, 2, 1, 22, 29, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629347670, 'issue_id': 2824206961, 'author': 'dabla', 'body': ""> > > Looks like code loading resource file in tests needs to be fixed.\r\n> > \r\n> > \r\n> > Yes indeed but the conftest was shared across all Microsoft providers so think!it will have to be split now\r\n> \r\n> Yeah. There are two options:\r\n> \r\n> * if common code is small -> copy it. Tests do not have to be DRY\r\n> * If the code is substantial enough to justify keeping it DRY - we have `tests_common` project which is added as a plugin to all providers and common code is there.\r\n\r\nShould be fixed now, I've copied the logic in conftest of mssql provider, maybe later we can consolidate (make helper tests methods more DRY), will see when azure provider is done, then it will be easier I think."", 'created_at': datetime.datetime(2025, 2, 2, 11, 6, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629389301, 'issue_id': 2824206961, 'author': 'jscheffl', 'body': 'Close. Just some static checks missing. I can propose to run `pre-commit run -a` if you have a larger change-set.', 'created_at': datetime.datetime(2025, 2, 2, 13, 5, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631025033, 'issue_id': 2824206961, 'author': 'dabla', 'body': '> Close. Just some static checks missing. I can propose to run `pre-commit run -a` if you have a larger change-set.\r\n\r\nStatic checks are fixed, all other tests also pass so I think this one is good now and can be merged.', 'created_at': datetime.datetime(2025, 2, 3, 13, 35, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633141379, 'issue_id': 2824206961, 'author': 'dabla', 'body': 'Thx @jscheffl', 'created_at': datetime.datetime(2025, 2, 4, 7, 55, 5, tzinfo=datetime.timezone.utc)}]","dabla (Issue Creator) on (2025-01-31 19:11:15 UTC): Started PR to move remaining Microsoft [providers to new provider structure](https://github.com/apache/airflow/issues/46045)

potiuk on (2025-02-01 10:18:38 UTC): I think you have not used the script to move the providers @dabla? Looks like all those are manually moved :) (we have  the script in `/dev/moving_providers/` that does most of the necessary modifications and creates necessary files :)

dabla (Issue Creator) on (2025-02-01 11:01:51 UTC): Ok thx Jarek indeed I did manually. Will revert current commit and use script instead :)

potiuk on (2025-02-01 22:17:01 UTC): Looks like code loading resource file in tests needs to be fixed.

dabla (Issue Creator) on (2025-02-01 22:24:36 UTC): Yes indeed but the conftest was shared across all Microsoft providers so think!it will have to be split now

potiuk on (2025-02-01 22:29:09 UTC): Yeah. There are two options:

* if common code is small -> copy it. Tests do not have to be DRY
* If the code is substantial enough to justify keeping it DRY - we have `tests_common` project which is added as a plugin to all providers and common code is there.

dabla (Issue Creator) on (2025-02-02 11:06:48 UTC): Should be fixed now, I've copied the logic in conftest of mssql provider, maybe later we can consolidate (make helper tests methods more DRY), will see when azure provider is done, then it will be easier I think.

jscheffl on (2025-02-02 13:05:50 UTC): Close. Just some static checks missing. I can propose to run `pre-commit run -a` if you have a larger change-set.

dabla (Issue Creator) on (2025-02-03 13:35:13 UTC): Static checks are fixed, all other tests also pass so I think this one is good now and can be merged.

dabla (Issue Creator) on (2025-02-04 07:55:05 UTC): Thx @jscheffl

"
2824201805,pull_request,closed,,Add map_index parameter to extra links API for Airflow 2.10,"related: https://github.com/apache/airflow/issues/45614
Closes: https://github.com/apache/airflow/issues/43757

<img width=""1418"" alt=""image"" src=""https://github.com/user-attachments/assets/4fc0c274-b25d-4aa5-8ad4-20dfff8e62f7"" />



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",shubhamraj-git,2025-01-31 19:06:15+00:00,[],2025-02-03 11:37:34+00:00,2025-02-03 06:19:11+00:00,https://github.com/apache/airflow/pull/46337,"[('kind:bug', 'This is a clearly a bug'), ('area:webserver', 'Webserver related Issues'), ('area:API', ""Airflow's REST/HTTP API""), ('type:bug-fix', 'Changelog: Bug Fixes'), ('area:UI', 'Related to UI/UX. For Frontend Developers.'), ('legacy ui', 'Whether legacy UI change should be allowed in PR'), ('legacy api', 'Whether legacy API changes should be allowed in PR')]","[{'comment_id': 2629071208, 'issue_id': 2824201805, 'author': 'jscheffl', 'body': 'Need to close and re-open to re-build', 'created_at': datetime.datetime(2025, 2, 1, 19, 0, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629074639, 'issue_id': 2824201805, 'author': 'jscheffl', 'body': 'And another time :-(', 'created_at': datetime.datetime(2025, 2, 1, 19, 9, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629140075, 'issue_id': 2824201805, 'author': 'potiuk', 'body': 'I am afraid some fixes are needed.', 'created_at': datetime.datetime(2025, 2, 1, 22, 20, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629140704, 'issue_id': 2824201805, 'author': 'shubhamraj-git', 'body': '@potiuk yaa, tests needs to be fixed. Bit struggling to make it right.', 'created_at': datetime.datetime(2025, 2, 1, 22, 22, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630068193, 'issue_id': 2824201805, 'author': 'eladkal', 'body': 'Note to release manager. This is a bug fix of https://github.com/apache/airflow/issues/43757', 'created_at': datetime.datetime(2025, 2, 3, 6, 18, 42, tzinfo=datetime.timezone.utc)}]","jscheffl on (2025-02-01 19:00:06 UTC): Need to close and re-open to re-build

jscheffl on (2025-02-01 19:09:29 UTC): And another time :-(

potiuk on (2025-02-01 22:20:45 UTC): I am afraid some fixes are needed.

shubhamraj-git (Issue Creator) on (2025-02-01 22:22:54 UTC): @potiuk yaa, tests needs to be fixed. Bit struggling to make it right.

eladkal on (2025-02-03 06:18:42 UTC): Note to release manager. This is a bug fix of https://github.com/apache/airflow/issues/43757

"
2824194044,pull_request,closed,,#46316 issue,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",SaumilPatel03,2025-01-31 19:01:05+00:00,[],2025-01-31 19:01:13+00:00,2025-01-31 19:01:13+00:00,https://github.com/apache/airflow/pull/46336,"[('kind:documentation', '')]",[],
2824146113,pull_request,closed,,#46316 Issue: Update start.rst,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #46316 
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",SaumilPatel03,2025-01-31 18:29:41+00:00,[],2025-02-05 20:00:48+00:00,2025-02-05 20:00:44+00:00,https://github.com/apache/airflow/pull/46335,"[('kind:documentation', '')]","[{'comment_id': 2628041854, 'issue_id': 2824146113, 'author': 'boring-cyborg[bot]', 'body': ""Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)\nHere are some useful points:\n- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.\n- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.\n- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.\n- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.\n- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.\n- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).\n- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.\nApache Airflow is a community-driven project and together we are making it better ðŸš€.\nIn case of doubts contact the developers at:\nMailing List: dev@airflow.apache.org\nSlack: https://s.apache.org/airflow-slack"", 'created_at': datetime.datetime(2025, 1, 31, 18, 29, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629229547, 'issue_id': 2824146113, 'author': 'SaumilPatel03', 'body': '@RNHTTR @potiuk  Can you please review my changes.', 'created_at': datetime.datetime(2025, 2, 2, 3, 53, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637307333, 'issue_id': 2824146113, 'author': 'potiuk', 'body': 'Soem static checks are failing', 'created_at': datetime.datetime(2025, 2, 5, 15, 50, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637906659, 'issue_id': 2824146113, 'author': 'boring-cyborg[bot]', 'body': 'Awesome work, congrats on your first merged pull request! You are invited to check our [Issue Tracker](https://github.com/apache/airflow/issues) for additional contributions.', 'created_at': datetime.datetime(2025, 2, 5, 20, 0, 46, tzinfo=datetime.timezone.utc)}]","boring-cyborg[bot] on (2025-01-31 18:29:45 UTC): Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)
Here are some useful points:
- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.
- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.
- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.
- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.
- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.
- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).
- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.
Apache Airflow is a community-driven project and together we are making it better ðŸš€.
In case of doubts contact the developers at:
Mailing List: dev@airflow.apache.org
Slack: https://s.apache.org/airflow-slack

SaumilPatel03 (Issue Creator) on (2025-02-02 03:53:24 UTC): @RNHTTR @potiuk  Can you please review my changes.

potiuk on (2025-02-05 15:50:20 UTC): Soem static checks are failing

boring-cyborg[bot] on (2025-02-05 20:00:46 UTC): Awesome work, congrats on your first merged pull request! You are invited to check our [Issue Tracker](https://github.com/apache/airflow/issues) for additional contributions.

"
2824124521,pull_request,closed,,add gyli to triage team,"I've been working with @gyli to get started contributing to Airflow, and he's keen on joining the triage team. His addition would bring the team back up to 10 members.",RNHTTR,2025-01-31 18:15:34+00:00,[],2025-02-04 16:20:23+00:00,2025-02-01 19:29:08+00:00,https://github.com/apache/airflow/pull/46333,"[('area:dev-tools', '')]","[{'comment_id': 2628042662, 'issue_id': 2824124521, 'author': 'hussein-awala', 'body': ""Given #43507, with 0 interactions on GitHub (before and after the addition), I'm not sure if these are strict requirements.\r\n\r\ncc: @potiuk since you are the author of the PR I mentioned"", 'created_at': datetime.datetime(2025, 1, 31, 18, 30, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628051457, 'issue_id': 2824124521, 'author': 'RNHTTR', 'body': '> From `ISSUE_TRIAGE_PROCESS.rst` doc:\r\n> \r\n> > Committers can invite people to become members of the triage team if they see that the users are already helping and responding to issues and when they see the users are involved regularly. But you can also ask to become a member of the team (on devlist) if you can show that you have done that and when you want to have more ways to help others.\r\n> \r\n> I saw he commented on 3 Github issues and created one PR, is he active on Slack or the dev list?\r\n\r\nNot yet, but I think he will be (although feel free to speak for yourself @gyli ðŸ™‚)', 'created_at': datetime.datetime(2025, 1, 31, 18, 35, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628825004, 'issue_id': 2824124521, 'author': 'gyli', 'body': ""Hi guys, sorry for the late reply as I was sick.\r\n\r\nYes, I am usually on Slack and had been in some discussions in the mail list before. There were some specific topics I was mostly interested in such as [serialization](https://github.com/apache/airflow/issues/40974) and XTable integration (https://github.com/apache/airflow/discussions/40981, https://github.com/apache/incubator-xtable/issues/495), because they are a little bit related to my works in Uber, who hosts its fork version of Airflow, Piper. Piper is my daily tool that I'm quite familiar with, and one of my work project in Uber this year is porting some Airflow newer features to Piper. I believe it's valuable to share the ideas and improvements between Airflow and Piper bidirectionally. \r\n\r\nRecently I decided to focus more on the general topics and contributions, instead of those specific features, and also want to explore which part I am interested in the most. @RNHTTR is my mentor on this (big thanks!), and he mentioned that he helps triaging issues sometimes. So I think it's also a great opportunity for me to see if triaging would be my favorite part. Meanwhile, we have also been discussing about how to be more involved in the community and the best AIPs that I can contribute to, so I expect my contributions on code and communication should grow as well."", 'created_at': datetime.datetime(2025, 2, 1, 7, 19, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629081141, 'issue_id': 2824124521, 'author': 'hussein-awala', 'body': 'All contributions are welcome!', 'created_at': datetime.datetime(2025, 2, 1, 19, 28, 53, tzinfo=datetime.timezone.utc)}]","hussein-awala on (2025-01-31 18:30:16 UTC): Given #43507, with 0 interactions on GitHub (before and after the addition), I'm not sure if these are strict requirements.

cc: @potiuk since you are the author of the PR I mentioned

RNHTTR (Issue Creator) on (2025-01-31 18:35:55 UTC): Not yet, but I think he will be (although feel free to speak for yourself @gyli ðŸ™‚)

gyli on (2025-02-01 07:19:34 UTC): Hi guys, sorry for the late reply as I was sick.

Yes, I am usually on Slack and had been in some discussions in the mail list before. There were some specific topics I was mostly interested in such as [serialization](https://github.com/apache/airflow/issues/40974) and XTable integration (https://github.com/apache/airflow/discussions/40981, https://github.com/apache/incubator-xtable/issues/495), because they are a little bit related to my works in Uber, who hosts its fork version of Airflow, Piper. Piper is my daily tool that I'm quite familiar with, and one of my work project in Uber this year is porting some Airflow newer features to Piper. I believe it's valuable to share the ideas and improvements between Airflow and Piper bidirectionally. 

Recently I decided to focus more on the general topics and contributions, instead of those specific features, and also want to explore which part I am interested in the most. @RNHTTR is my mentor on this (big thanks!), and he mentioned that he helps triaging issues sometimes. So I think it's also a great opportunity for me to see if triaging would be my favorite part. Meanwhile, we have also been discussing about how to be more involved in the community and the best AIPs that I can contribute to, so I expect my contributions on code and communication should grow as well.

hussein-awala on (2025-02-01 19:28:53 UTC): All contributions are welcome!

"
2824124136,pull_request,closed,,Make constraints compatible with Airflow 3.0,"Due to dependency conflicts we need to make the constraint compatible manually -

```
The conflict is caused by:
    apache-airflow 3.0.0 depends on flask-appbuilder==4.5.3
    The user requested (constraint) flask-appbuilder==4.5.2

To fix this you could try to:
1. loosen the range of package versions you've specified
2. remove package versions to allow pip to attempt to solve the dependency conflict
```",utkarsharma2,2025-01-31 18:15:19+00:00,[],2025-01-31 18:17:15+00:00,2025-01-31 18:17:13+00:00,https://github.com/apache/airflow/pull/46332,[],[],
2824122601,pull_request,closed,,Move Dingding provider to new provider structure ,"Related : #46045 
<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",Prab-27,2025-01-31 18:14:21+00:00,[],2025-02-01 09:44:49+00:00,2025-01-31 20:20:06+00:00,https://github.com/apache/airflow/pull/46331,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:dingding', '')]","[{'comment_id': 2628879689, 'issue_id': 2824122601, 'author': 'potiuk', 'body': 'ðŸ‘', 'created_at': datetime.datetime(2025, 2, 1, 9, 44, 48, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-02-01 09:44:48 UTC): ðŸ‘

"
2824085203,pull_request,closed,,Add basic autorefresh to grid and graph,"Add very basic auto refresh to the grid and graph views. We can do more here later if each request is too cumbersome for large dags.

---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",bbovenzi,2025-01-31 17:51:22+00:00,[],2025-01-31 18:05:49+00:00,2025-01-31 18:05:47+00:00,https://github.com/apache/airflow/pull/46330,"[('area:UI', 'Related to UI/UX. For Frontend Developers.')]",[],
2824079107,pull_request,closed,,Mostly use relative fileloc in dag processor - round 2,"This was originally added in #46290 then reverted in #46308.
",dstandish,2025-01-31 17:48:20+00:00,[],2025-01-31 22:32:31+00:00,2025-01-31 22:32:30+00:00,https://github.com/apache/airflow/pull/46329,"[('full tests needed', 'We need to run full set of tests for this PR to merge'), ('area:DAG-processing', '')]",[],
2824039158,pull_request,closed,,AIP-84 Remove unecessary datamodels config and from_attributes,I realized we had some remnant of `from_attributes=True` on some datamodels. This is not needed anymore because it is the base class default behavior.,pierrejeambrun,2025-01-31 17:26:13+00:00,['pierrejeambrun'],2025-02-06 14:00:04+00:00,2025-02-06 14:00:02+00:00,https://github.com/apache/airflow/pull/46328,"[('AIP-84', 'Modern Rest API')]",[],
2823975825,pull_request,closed,,Add autorefresh to dags list page,"Add auto refresh to dags list.

Replace the isFetching progress bar with a spinner on each refreshing dag (has an active run and is not paused)

Update the dag details query cache instead of refreshing on toggling is_paused

<img width=""1197"" alt=""Screenshot 2025-01-31 at 11 29 35â€¯AM"" src=""https://github.com/user-attachments/assets/b5e4bdaa-57cb-4ba2-9d34-d0ed1e0c50b1"" />

---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",bbovenzi,2025-01-31 16:49:48+00:00,[],2025-01-31 17:57:51+00:00,2025-01-31 17:57:49+00:00,https://github.com/apache/airflow/pull/46326,"[('area:UI', 'Related to UI/UX. For Frontend Developers.')]",[],
2823941672,pull_request,closed,,AIP-65 structure endpoint rename dag_version to version_number,"Followup of https://github.com/apache/airflow/pull/46279

`dag_version` is a weird name because it's the name of the ORM object / table. It is hard to know from a client side if this is the `dag_version_id` (pk) or the `version_number` that we expect.

Updated it to `version_number` to avoid confusion as this is also what we are doing on the public api side.",pierrejeambrun,2025-01-31 16:31:13+00:00,['pierrejeambrun'],2025-01-31 22:11:55+00:00,2025-01-31 22:11:53+00:00,https://github.com/apache/airflow/pull/46325,"[('area:UI', 'Related to UI/UX. For Frontend Developers.'), ('AIP-65: DAG history in UI', '')]",[],
2823897739,pull_request,closed,,Bump version of task-sdk package to alpha,"In order to release a usable alpha build of apache-airflow (""core"") we'll need
an alpha version of the task-sdk to go along with it.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",ashb,2025-01-31 16:11:44+00:00,[],2025-01-31 16:20:42+00:00,2025-01-31 16:20:30+00:00,https://github.com/apache/airflow/pull/46324,"[('area:task-sdk', None)]",[],
2823891663,pull_request,closed,,AIP-65 Fix version_number in grid endpoint,"`version_number` field was actually pointing to the `dag_version_id`.

Fixing this as we will use the `version_number` to identify the `dag_version` for a specific dag.",pierrejeambrun,2025-01-31 16:09:10+00:00,['pierrejeambrun'],2025-02-01 15:55:13+00:00,2025-02-01 15:55:11+00:00,https://github.com/apache/airflow/pull/46323,"[('area:UI', 'Related to UI/UX. For Frontend Developers.'), ('AIP-84', 'Modern Rest API'), ('AIP-65: DAG history in UI', '')]",[],
2823843350,pull_request,closed,,Remove Alembic migration autogenerated comment ,"While rebasing #45961 to the latest main branch and resolving the migration file conflict, I found that the comment was not removed.

related: #46009


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",jason810496,2025-01-31 15:46:55+00:00,[],2025-02-01 13:19:05+00:00,2025-02-01 13:19:05+00:00,https://github.com/apache/airflow/pull/46322,"[('area:db-migrations', 'PRs with DB migration')]",[],
2823824188,pull_request,closed,,Set minimum dependencies for apache-beam deps on Py 3.12+3.13,"Set minimum dependencies for apache-beam on Py 3.12+3.13

Older versions of apache-beam package depend upon gprcio-tools, but the
version requirement they specify doesn't work on Py 3.12, but the metadata
doesn't say that, so it tries to compile it and fails.


<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",ashb,2025-01-31 15:37:45+00:00,[],2025-01-31 18:03:16+00:00,2025-01-31 18:03:12+00:00,https://github.com/apache/airflow/pull/46321,"[('provider:apache-beam', '')]","[{'comment_id': 2627712082, 'issue_id': 2823824188, 'author': 'potiuk', 'body': 'Cool !', 'created_at': datetime.datetime(2025, 1, 31, 16, 11, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627766307, 'issue_id': 2823824188, 'author': 'ashb', 'body': ""Odd, that didn't seem to work:\r\n\r\n```\r\n  + uv pip install --python /usr/local/bin/python --resolution lowest-direct --upgrade --editable '.[apache-beam]' --editable ./task_sdk\r\n  Using Python 3.12.8 environment at: /usr/local\r\n  Resolved 179 packages in 4.73s\r\n    Ã— Failed to download and build `apache-beam==2.55.0`\r\n    â”œâ”€â–¶ Failed to install requirements from `build-system.requires`\r\n    â”œâ”€â–¶ Failed to build `grpcio-tools==1.53.0`\r\n```"", 'created_at': datetime.datetime(2025, 1, 31, 16, 35, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627772384, 'issue_id': 2823824188, 'author': 'ashb', 'body': ""I'm going to set the min version of apache-beam itself instead."", 'created_at': datetime.datetime(2025, 1, 31, 16, 38, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627784128, 'issue_id': 2823824188, 'author': 'potiuk', 'body': 'Ah. This is because apache-beam 2.55.0 has grpcio.tools as ""build requirements"" not ""requirements"". In a modern build packaging - when a frontend is building package (because it does not have corresponding binary wheel) it will perform the build of that package from .sdist in ""isolated build environment"" -> where it downloads and sets up  temporary venv with the dependencies specified in the ""build requirements"" of that package. \r\n\r\nFrom the error looks like apache-beam 2.55.0 has grpcio-tools 1.53.0 set as their `build requirements`.', 'created_at': datetime.datetime(2025, 1, 31, 16, 44, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627785121, 'issue_id': 2823824188, 'author': 'potiuk', 'body': 'So yeah - we should limit `apache.beam` not `grpc-tools` in this case.', 'created_at': datetime.datetime(2025, 1, 31, 16, 45, 8, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-31 16:11:37 UTC): Cool !

ashb (Issue Creator) on (2025-01-31 16:35:47 UTC): Odd, that didn't seem to work:

```
  + uv pip install --python /usr/local/bin/python --resolution lowest-direct --upgrade --editable '.[apache-beam]' --editable ./task_sdk
  Using Python 3.12.8 environment at: /usr/local
  Resolved 179 packages in 4.73s
    Ã— Failed to download and build `apache-beam==2.55.0`
    â”œâ”€â–¶ Failed to install requirements from `build-system.requires`
    â”œâ”€â–¶ Failed to build `grpcio-tools==1.53.0`
```

ashb (Issue Creator) on (2025-01-31 16:38:51 UTC): I'm going to set the min version of apache-beam itself instead.

potiuk on (2025-01-31 16:44:37 UTC): Ah. This is because apache-beam 2.55.0 has grpcio.tools as ""build requirements"" not ""requirements"". In a modern build packaging - when a frontend is building package (because it does not have corresponding binary wheel) it will perform the build of that package from .sdist in ""isolated build environment"" -> where it downloads and sets up  temporary venv with the dependencies specified in the ""build requirements"" of that package. 

From the error looks like apache-beam 2.55.0 has grpcio-tools 1.53.0 set as their `build requirements`.

potiuk on (2025-01-31 16:45:08 UTC): So yeah - we should limit `apache.beam` not `grpc-tools` in this case.

"
2823791702,pull_request,closed,,AIP-65 Add DagVersion to TaskInstanceResponse Serializer,Part of https://github.com/apache/airflow/issues/45993. (Only taking care of `TaskInstanceResponse` for now and the associated filter),pierrejeambrun,2025-01-31 15:23:01+00:00,['pierrejeambrun'],2025-02-04 15:59:31+00:00,2025-02-04 15:59:30+00:00,https://github.com/apache/airflow/pull/46320,"[('area:UI', 'Related to UI/UX. For Frontend Developers.'), ('AIP-65: DAG history in UI', '')]",[],
2823664553,pull_request,closed,,Create TaskMap rows when pushing XCom values from the Task Exec Interface,"This is needed so that we can have the scheduler create the expand TIs for the downstream tasks.

Note, that we don't enforce that this is set when it needs to be on the server side, as the only way for us to know if we need to or not (and conversely, when it's set when it _doesn't_ need to, which is no effect other than creating a small DB row that nothing will ever read) as doing that would involve loading the serialized DAG to walk the structure which is a relatively expensive operation.

We could improve that by ""pre-computing"" some of the info on what tasks are actually mapped or not before serialization so we wouldn't have to walk the task groups to find out, but that wouldn't do anything about the need to load the serialized DAG which is the expensive part.

If this turns out to be a problem to not be enforcing this  is passed when required we can revisit the decision later.

Relates to #44360",ashb,2025-01-31 14:30:30+00:00,[],2025-01-31 17:15:35+00:00,2025-01-31 17:15:32+00:00,https://github.com/apache/airflow/pull/46319,"[('area:task-execution-interface-aip72', 'AIP-72: Task Execution Interface (TEI) aka Task SDK'), ('area:task-sdk', None)]",[],
2823639993,pull_request,closed,,Fix branch used for constraints in k8s env creation,"This was using `constraints-{AIRFLOW_BRANCH}`, which could be e.g. `constraints-v3-0-test` outside of main, where it should be `constraints-3-0`, which is already defined in
`DEFAULT_AIRFLOW_CONSTRAINTS_BRANCH`.",jedcunningham,2025-01-31 14:20:37+00:00,[],2025-01-31 15:44:09+00:00,2025-01-31 15:44:07+00:00,https://github.com/apache/airflow/pull/46318,"[('area:dev-tools', ''), ('full tests needed', 'We need to run full set of tests for this PR to merge')]","[{'comment_id': 2627492452, 'issue_id': 2823639993, 'author': 'potiuk', 'body': 'Nice!', 'created_at': datetime.datetime(2025, 1, 31, 14, 31, 30, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-31 14:31:30 UTC): Nice!

"
2823512369,pull_request,closed,,Move Oracle to new provider structure,"
related: #46045



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",jason810496,2025-01-31 13:33:42+00:00,[],2025-01-31 20:22:16+00:00,2025-01-31 20:22:15+00:00,https://github.com/apache/airflow/pull/46314,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:oracle', '')]","[{'comment_id': 2627730148, 'issue_id': 2823512369, 'author': 'potiuk', 'body': 'Some docs issues :)', 'created_at': datetime.datetime(2025, 1, 31, 16, 20, 7, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-31 16:20:07 UTC): Some docs issues :)

"
2823474202,pull_request,closed,,Move Sendgrid to new provider structure,"
related: #46045



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",jason810496,2025-01-31 13:19:53+00:00,[],2025-01-31 16:12:28+00:00,2025-01-31 16:12:28+00:00,https://github.com/apache/airflow/pull/46313,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', '')]",[],
2823456376,pull_request,closed,,Move Apache Hive to new provider structure,"
related: #46106



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",jason810496,2025-01-31 13:13:01+00:00,[],2025-02-01 11:08:46+00:00,2025-01-31 20:23:36+00:00,https://github.com/apache/airflow/pull/46312,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:apache-hive', '')]","[{'comment_id': 2627497781, 'issue_id': 2823456376, 'author': 'potiuk', 'body': 'Needs breeze unit tests fix,', 'created_at': datetime.datetime(2025, 1, 31, 14, 33, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628907640, 'issue_id': 2823456376, 'author': 'potiuk', 'body': 'â¤ï¸', 'created_at': datetime.datetime(2025, 2, 1, 11, 8, 44, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-31 14:33:41 UTC): Needs breeze unit tests fix,

potiuk on (2025-02-01 11:08:44 UTC): â¤ï¸

"
2823445108,pull_request,closed,,Fix deferrable databricks operator failed before defer,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
When a Databricks job fails, it's expected the task instance will also fail. If the operator is configured as `deferrable=True` and the Databricks job already failed before defer, it should raise an error, as done in the `_handle_databricks_operator_execution` so the task instance will also fail.

The `_handle_deferrable_databricks_operator_execution` function wasn't raising this error, so when the Databricks job failed before defer, it would only finish successfully, opposed from the expected.

**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",GabrielSalla,2025-01-31 13:09:05+00:00,[],2025-02-04 13:15:23+00:00,2025-02-04 13:15:23+00:00,https://github.com/apache/airflow/pull/46311,"[('area:providers', ''), ('provider:databricks', '')]","[{'comment_id': 2627298794, 'issue_id': 2823445108, 'author': 'boring-cyborg[bot]', 'body': ""Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)\nHere are some useful points:\n- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.\n- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.\n- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.\n- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.\n- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.\n- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).\n- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.\nApache Airflow is a community-driven project and together we are making it better ðŸš€.\nIn case of doubts contact the developers at:\nMailing List: dev@airflow.apache.org\nSlack: https://s.apache.org/airflow-slack"", 'created_at': datetime.datetime(2025, 1, 31, 13, 9, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627440012, 'issue_id': 2823445108, 'author': 'GabrielSalla', 'body': 'I missed one test in the previous commit, just fixed it', 'created_at': datetime.datetime(2025, 1, 31, 14, 7, 39, tzinfo=datetime.timezone.utc)}]","boring-cyborg[bot] on (2025-01-31 13:09:09 UTC): Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)
Here are some useful points:
- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.
- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.
- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.
- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.
- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.
- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).
- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.
Apache Airflow is a community-driven project and together we are making it better ðŸš€.
In case of doubts contact the developers at:
Mailing List: dev@airflow.apache.org
Slack: https://s.apache.org/airflow-slack

GabrielSalla (Issue Creator) on (2025-01-31 14:07:39 UTC): I missed one test in the previous commit, just fixed it

"
2823419025,pull_request,closed,,Only update docs inventory cache from a single docs build matrix job,"Since each job is producing the same content we want the key to be the same,
but we don't need to update it from both -- that is wasteful, and worse, prone
to race condotions and 409 HTTP errors.

Rather than ignore all errors by specifying `continue-on-error: true` in the
step, we choose to instead only upload from one matrix
",ashb,2025-01-31 12:59:44+00:00,[],2025-01-31 14:19:41+00:00,2025-01-31 13:54:07+00:00,https://github.com/apache/airflow/pull/46310,"[('area:dev-tools', '')]",[],
2823137668,pull_request,closed,,"Revert ""Mostly use relative fileloc in dag processor""","Reverts apache/airflow#46290

Unfortunately this broke `prepare_file_path_queue` which only showed up in the Kube integration tests, not in this PR (due to selective tests, which 99.9% of the time is fine to not run for this sort of change)

The error we saw was:

```
2025-01-31T10:02:53.715990881Z stderr F   File ""/home/airflow/.local/lib/python3.10/site-packages/airflow/dag_processing/manager.py"", line 317, in _run_parsing_loop
2025-01-31T10:02:53.715993857Z stderr F     self.prepare_file_path_queue()
2025-01-31T10:02:53.715996832Z stderr F   File ""/home/airflow/.local/lib/python3.10/site-packages/airflow/dag_processing/manager.py"", line 899, in prepare_file_path_queue
2025-01-31T10:02:53.716003114Z stderr F     ""\n\t"".join(f.path for f in files_paths_to_queue),
2025-01-31T10:02:53.71600625Z stderr F   File ""/home/airflow/.local/lib/python3.10/site-packages/airflow/dag_processing/manager.py"", line 899, in <genexpr>
2025-01-31T10:02:53.716009275Z stderr F     ""\n\t"".join(f.path for f in files_paths_to_queue),
2025-01-31T10:02:53.716012241Z stderr F AttributeError: 'DagFileInfo' object has no attribute 'path'
```

And while that change was easy enough to fix, (`path` -> `relpath`) I wasn't happy ""just"" fixing that path without some kind of tests/checks, so I also added typing here:

https://github.com/apache/airflow/blob/9ef89acf85dffe69266b716fa0fa1cfa6246b1f3/airflow/dag_processing/manager.py#L831

```python
        file_paths: list[DagFileInfo] = []
```

I noticed this as I use basedpyright in my editor which type checks functions even when the signature has no typing.
Adding a `-> None:` on the function so mypy type checks it, and then suddenly we get all these errors:

```
airflow/dag_processing/manager.py:840: error: Invalid index type ""DagFileInfo"" for ""dict[str, datetime]""; expected type ""str""  [index]
                        files_with_mtime[file_path] = os.path.getmtime(file_path.absolute_path)
                                         ^~~~~~~~~
airflow/dag_processing/manager.py:840: error: Incompatible types in assignment (expression has type ""float"", target has type ""datetime"")  [assignment]
                        files_with_mtime[file_path] = os.path.getmtime(file_path.absolute_path)
                                                      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
airflow/dag_processing/manager.py:846: error: Argument 1 to ""fromtimestamp"" of ""datetime"" has incompatible type ""datetime""; expected ""float""  [arg-type]
                    file_modified_time = datetime.fromtimestamp(files_with_mtime[file_path], tz=timezone.utc)
                                                                ^~~~~~~~~~~~~~~~~~~~~~~~~~~
airflow/dag_processing/manager.py:846: error: Invalid index type ""DagFileInfo"" for ""dict[str, datetime]""; expected type ""str""  [index]
                    file_modified_time = datetime.fromtimestamp(files_with_mtime[file_path], tz=timezone.utc)
                                                                                 ^~~~~~~~~
airflow/dag_processing/manager.py:866: error: Argument 1 to ""sorted"" has incompatible type ""dict[str, datetime]""; expected ""Iterable[DagFileInfo]""  [arg-type]
                file_paths = sorted(files_with_mtime, key=files_with_mtime.get, reverse=True)
                                    ^~~~~~~~~~~~~~~~
airflow/dag_processing/manager.py:866: error: Argument ""key"" to ""sorted"" has incompatible type overloaded function; expected ""Callable[[DagFileInfo], SupportsDunderLT[Any] | SupportsDunderGT[Any]]""  [arg-type]
                file_paths = sorted(files_with_mtime, key=files_with_mtime.get, reverse=True)
                                                          ^~~~~~~~~~~~~~~~~~~~
airflow/dag_processing/manager.py:867: error: Name ""files_paths"" is not defined  [name-defined]
                reveal_type(files_paths)
                            ^
airflow/dag_processing/manager.py:904: error: ""DagFileInfo"" has no attribute ""relpath""; maybe ""rel_path""?  [attr-defined]
                    ""\n\t"".join(f.relpath for f in files_paths_to_queue),
                                ^~~~~~~~~
Found 8 errors in 1 file (checked 1 source file)
```

The mtime path is geborken, so reverting this for now as it's breaking main.

Sorry @dstandish ",ashb,2025-01-31 11:26:41+00:00,[],2025-01-31 14:23:29+00:00,2025-01-31 12:02:15+00:00,https://github.com/apache/airflow/pull/46308,"[('area:DAG-processing', '')]","[{'comment_id': 2626986818, 'issue_id': 2823137668, 'author': 'ashb', 'body': 'Do I wait for tests or just merge it now do you think @amoghrajesh ?', 'created_at': datetime.datetime(2025, 1, 31, 11, 29, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626987344, 'issue_id': 2823137668, 'author': 'amoghrajesh', 'body': 'Lets wait for the tests just to be sure', 'created_at': datetime.datetime(2025, 1, 31, 11, 30, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627475834, 'issue_id': 2823137668, 'author': 'potiuk', 'body': 'Good catch ðŸŸ !!', 'created_at': datetime.datetime(2025, 1, 31, 14, 23, 27, tzinfo=datetime.timezone.utc)}]","ashb (Issue Creator) on (2025-01-31 11:29:56 UTC): Do I wait for tests or just merge it now do you think @amoghrajesh ?

amoghrajesh on (2025-01-31 11:30:15 UTC): Lets wait for the tests just to be sure

potiuk on (2025-01-31 14:23:27 UTC): Good catch ðŸŸ !!

"
2823050062,pull_request,closed,,[WIP] Sync v3-0-stable with v3-0-test to release 3.0.0,Time for 3.0.0a1!,utkarsharma2,2025-01-31 10:53:54+00:00,[],2025-02-01 01:41:34+00:00,2025-02-01 01:41:34+00:00,https://github.com/apache/airflow/pull/46307,"[('area:dev-tools', ''), ('area:API', ""Airflow's REST/HTTP API""), ('kind:documentation', ''), ('area:production-image', 'Production image improvements and fixes'), ('full tests needed', 'We need to run full set of tests for this PR to merge'), ('legacy api', 'Whether legacy API changes should be allowed in PR')]","[{'comment_id': 2628113916, 'issue_id': 2823050062, 'author': 'ashb', 'body': ""Oh, here's a point -- we probably shouldn't have a v3-0-stable branch yet. It's not stable until we've got an RC"", 'created_at': datetime.datetime(2025, 1, 31, 19, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628673296, 'issue_id': 2823050062, 'author': 'jedcunningham', 'body': ""We don't need to sync to `v3-0-stable`, we've cut from `v3-0-test` directly."", 'created_at': datetime.datetime(2025, 2, 1, 1, 41, 34, tzinfo=datetime.timezone.utc)}]","ashb on (2025-01-31 19:14:00 UTC): Oh, here's a point -- we probably shouldn't have a v3-0-stable branch yet. It's not stable until we've got an RC

jedcunningham on (2025-02-01 01:41:34 UTC): We don't need to sync to `v3-0-stable`, we've cut from `v3-0-test` directly.

"
2822935949,pull_request,closed,,Removing feature: send context in venv operators (using `use_airflow_context`),"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->

related: #45739 

https://github.com/apache/airflow/pull/41363 is a feature that heavily relied on pydantic models of AIP 44 to do some serialisation magic.

Historically did this: 
```
            if self.use_airflow_context:
                from airflow.serialization.serialized_objects import BaseSerialization

                context = get_current_context()
                with create_session() as session:
                    # FIXME: DetachedInstanceError
                    dag_run, task_instance = context[""dag_run""], context[""task_instance""]
                    session.add_all([dag_run, task_instance])
                    serializable_context: dict[Encoding, Any] = BaseSerialization.serialize(
                        context, use_pydantic_models=True
                    )
```

- So it used a pydantic model to serialize the DAG.
- And the mapping looked like so:
```
_type_to_class: dict[DAT | str, list] = {
    DAT.BASE_JOB: [JobPydantic, Job],
    DAT.TASK_INSTANCE: [TaskInstancePydantic, TaskInstance],
    DAT.DAG_RUN: [DagRunPydantic, DagRun],
    DAT.DAG_MODEL: [DagModelPydantic, DagModel],
    DAT.LOG_TEMPLATE: [LogTemplatePydantic, LogTemplate],
    DAT.DATA_SET: [DatasetPydantic, Dataset],
    DAT.TRIGGER: [TriggerPydantic, Trigger],
}
```
- And this:
```
def serialize_operator(x: DAG) -> dict:
    from airflow.serialization.serialized_objects import SerializedDAG

    return SerializedDAG.serialize_dag(x)


def validate_operator(x: DAG | dict[str, Any], _info: ValidationInfo) -> Any:
    from airflow.serialization.serialized_objects import SerializedDAG

    if isinstance(x, DAG):
        return x
    return SerializedDAG.deserialize_dag(x)
```

Since now we do not have the pydantic models of AIP 44 AND the fact that this didnt make it to any release, now is a time to chop it off.

cc: @phi-friday 


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",amoghrajesh,2025-01-31 09:57:02+00:00,[],2025-02-03 06:13:44+00:00,2025-02-03 06:11:19+00:00,https://github.com/apache/airflow/pull/46306,"[('provider:standard', '')]","[{'comment_id': 2626847574, 'issue_id': 2822935949, 'author': 'ashb', 'body': 'For context on why we are removing this:\r\n\r\n1. It never actually made it in to a release (it was tagged with 2.10.0 milestone but somehow got missed in that release)\r\n2. It relies on AIP-44 and the pydantic models it creates to work, and those have been removed in main/Airflow 3\r\n3. With the split out of the new standard provider it will be easier to add this back in quicker, but trying to support it now will delay Airflow 3 work as we have a long list of _critical_ features related ti AIP-72/Task Execution interface, and unfortunately we have to cut something.\r\n\r\nSorry to revert this yet again :(', 'created_at': datetime.datetime(2025, 1, 31, 10, 18, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627461955, 'issue_id': 2822935949, 'author': 'amoghrajesh', 'body': '@ephraimbuddy are we good to send this one in?', 'created_at': datetime.datetime(2025, 1, 31, 14, 17, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627463676, 'issue_id': 2822935949, 'author': 'potiuk', 'body': 'Makes sense. Thanks for the reasoning @ashb . Should we also add an issue for 3.1 to re-add it ?', 'created_at': datetime.datetime(2025, 1, 31, 14, 18, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630062217, 'issue_id': 2822935949, 'author': 'amoghrajesh', 'body': '> Makes sense. Thanks for the reasoning @ashb . Should we also add an issue for 3.1 to re-add it ?\r\n\r\nThanks @potiuk, created https://github.com/apache/airflow/issues/46361 for tracking sake.', 'created_at': datetime.datetime(2025, 2, 3, 6, 13, 42, tzinfo=datetime.timezone.utc)}]","ashb on (2025-01-31 10:18:10 UTC): For context on why we are removing this:

1. It never actually made it in to a release (it was tagged with 2.10.0 milestone but somehow got missed in that release)
2. It relies on AIP-44 and the pydantic models it creates to work, and those have been removed in main/Airflow 3
3. With the split out of the new standard provider it will be easier to add this back in quicker, but trying to support it now will delay Airflow 3 work as we have a long list of _critical_ features related ti AIP-72/Task Execution interface, and unfortunately we have to cut something.

Sorry to revert this yet again :(

amoghrajesh (Issue Creator) on (2025-01-31 14:17:20 UTC): @ephraimbuddy are we good to send this one in?

potiuk on (2025-01-31 14:18:12 UTC): Makes sense. Thanks for the reasoning @ashb . Should we also add an issue for 3.1 to re-add it ?

amoghrajesh (Issue Creator) on (2025-02-03 06:13:42 UTC): Thanks @potiuk, created https://github.com/apache/airflow/issues/46361 for tracking sake.

"
2822877807,pull_request,open,,Add Branch Protection for v3-0-stable and v3-0-test,,utkarsharma2,2025-01-31 09:28:41+00:00,[],2025-01-31 09:28:55+00:00,,https://github.com/apache/airflow/pull/46305,"[('area:dev-tools', '')]",[],
2822869297,pull_request,open,,Add v3-0-stable and v3-0-test branches to codecov,,utkarsharma2,2025-01-31 09:24:26+00:00,[],2025-01-31 09:25:59+00:00,,https://github.com/apache/airflow/pull/46304,[],[],
2822840687,pull_request,open,,refactor: add `STRAIGHT_JOIN` prefix for MySQL query optimization in `get_sorted_triggers`,"This PR adds a `STRAIGHT_JOIN` hint to prevent an unintended full scan in `get_sorted_triggers`.

With MySQL backend, if there are many records in the `trigger`, it causes the `task_instance` to be scanned first as the driving table, leading to slow queries.

To test this, I stopped the `triggerer` process to keep it unassigned first, and generated some dummy data, as shown below:

```python
from airflow.models.trigger import Trigger
from airflow.utils.session import NEW_SESSION, provide_session

@provide_session
def add_trigger(session=NEW_SESSION):
    for _ in range(10):
        session.add(Trigger(classpath="""", kwargs={""key"": ""value""}))
    session.commit()

if __name__ == ""__main__"":
    add_trigger()
```

With the following 10 records where the triggerer is not assigned:

```sql
MySQL [airflow]> SELECT * FROM `trigger`;
+----+-----------+-----------------------------------------------+----------------------------+--------------+
| id | classpath | kwargs                                        | created_date               | triggerer_id |
+----+-----------+-----------------------------------------------+----------------------------+--------------+
| 41 |           | {""__var"": {""key"": ""value""}, ""__type"": ""dict""} | 2025-01-31 03:00:02.982334 |         NULL |
| 42 |           | {""__var"": {""key"": ""value""}, ""__type"": ""dict""} | 2025-01-31 03:00:02.982502 |         NULL |
| 43 |           | {""__var"": {""key"": ""value""}, ""__type"": ""dict""} | 2025-01-31 03:00:02.982536 |         NULL |
| 44 |           | {""__var"": {""key"": ""value""}, ""__type"": ""dict""} | 2025-01-31 03:00:02.982560 |         NULL |
| 45 |           | {""__var"": {""key"": ""value""}, ""__type"": ""dict""} | 2025-01-31 03:00:02.982583 |         NULL |
| 46 |           | {""__var"": {""key"": ""value""}, ""__type"": ""dict""} | 2025-01-31 03:00:02.982675 |         NULL |
| 47 |           | {""__var"": {""key"": ""value""}, ""__type"": ""dict""} | 2025-01-31 03:00:02.982696 |         NULL |
| 48 |           | {""__var"": {""key"": ""value""}, ""__type"": ""dict""} | 2025-01-31 03:00:02.982713 |         NULL |
| 49 |           | {""__var"": {""key"": ""value""}, ""__type"": ""dict""} | 2025-01-31 03:00:02.982731 |         NULL |
| 50 |           | {""__var"": {""key"": ""value""}, ""__type"": ""dict""} | 2025-01-31 03:00:02.982749 |         NULL |
+----+-----------+-----------------------------------------------+----------------------------+--------------+
10 rows in set (0.000 sec)
```

The execution plan of the AS-IS query shows that it does a full scan of `task_instance` first, causing a slowdown of the query due to the unnecessary scan.

```sql
MySQL [airflow]> 
MySQL [airflow]> EXPLAIN
    -> SELECT `trigger`.id 
    -> FROM `trigger` INNER JOIN task_instance ON `trigger`.id = task_instance.trigger_id 
    -> WHERE `trigger`.triggerer_id IS NULL OR (`trigger`.triggerer_id NOT IN (SELECT job.id 
    -> FROM job 
    -> WHERE job.end_date IS NULL AND job.latest_heartbeat > '2025-01-31 00:00:00' AND job.job_type = 'TriggererJob')) ORDER BY coalesce(task_instance.priority_weight, 0) DESC, `trigger`.created_date 
    ->  LIMIT 998 FOR UPDATE SKIP LOCKED;
+----+-------------+---------------+------------+--------+------------------------+----------------+---------+----------------------------------+------+----------+----------------------------------------------+
| id | select_type | table         | partitions | type   | possible_keys          | key            | key_len | ref                              | rows | filtered | Extra                                        |
+----+-------------+---------------+------------+--------+------------------------+----------------+---------+----------------------------------+------+----------+----------------------------------------------+
|  1 | PRIMARY     | task_instance | NULL       | ALL    | ti_trigger_id          | NULL           | NULL    | NULL                             | 1354 |   100.00 | Using where; Using temporary; Using filesort |
|  1 | PRIMARY     | trigger       | NULL       | eq_ref | PRIMARY                | PRIMARY        | 4       | airflow.task_instance.trigger_id |    1 |   100.00 | Using where                                  |
|  2 | SUBQUERY    | job           | NULL       | range  | PRIMARY,job_type_heart | job_type_heart | 131     | NULL                             |    3 |    10.00 | Using index condition; Using where           |
+----+-------------+---------------+------------+--------+------------------------+----------------+---------+----------------------------------+------+----------+----------------------------------------------+
3 rows in set, 1 warning (0.001 sec)

```

When adding `.prefix_with(""STRAIGHT_JOIN"", dialect=""mysql"")`, the compiled SQL execution plan improved as shown below:

```sql
MySQL [airflow]> EXPLAIN
    -> SELECT STRAIGHT_JOIN `trigger`.id 
    -> FROM `trigger` INNER JOIN task_instance ON `trigger`.id = task_instance.trigger_id 
    -> WHERE `trigger`.triggerer_id IS NULL OR (`trigger`.triggerer_id NOT IN (SELECT job.id 
    -> FROM job 
    -> WHERE job.end_date IS NULL AND job.latest_heartbeat > '2025-01-31 00:00:00' AND job.job_type = 'TriggererJob')) ORDER BY coalesce(task_instance.priority_weight, 0) DESC, `trigger`.created_date 
    ->  LIMIT 998 FOR UPDATE SKIP LOCKED;
+----+--------------------+---------------+------------+-----------------+------------------------+---------+---------+------+------+----------+----------------------------------------------+
| id | select_type        | table         | partitions | type            | possible_keys          | key     | key_len | ref  | rows | filtered | Extra                                        |
+----+--------------------+---------------+------------+-----------------+------------------------+---------+---------+------+------+----------+----------------------------------------------+
|  1 | PRIMARY            | trigger       | NULL       | ALL             | PRIMARY                | NULL    | NULL    | NULL |   10 |   100.00 | Using where; Using temporary; Using filesort |
|  1 | PRIMARY            | task_instance | NULL       | ALL             | ti_trigger_id          | NULL    | NULL    | NULL | 1354 |   100.00 | Using where; Using join buffer (hash join)   |
|  2 | DEPENDENT SUBQUERY | job           | NULL       | unique_subquery | PRIMARY,job_type_heart | PRIMARY | 4       | func |    1 |     5.00 | Using where; Full scan on NULL key           |
+----+--------------------+---------------+------------+-----------------+------------------------+---------+---------+------+------+----------+----------------------------------------------+
3 rows in set, 1 warning (0.001 sec)

```

In the case of PostgreSQL, regardless of the number of records in the trigger, the execution plan remains the same and efficient as shown below:

```sql
 Limit  (cost=113.21..121.68 rows=678 width=28)
   ->  LockRows  (cost=113.21..121.68 rows=678 width=28)
         ->  Sort  (cost=113.21..114.90 rows=678 width=28)
               Sort Key: (COALESCE(task_instance.priority_weight, 0)) DESC, trigger.created_date
               ->  Hash Join  (cost=19.21..81.32 rows=678 width=28)
                     Hash Cond: (task_instance.trigger_id = trigger.id)
                     ->  Seq Scan on task_instance  (cost=0.00..58.55 rows=1355 width=14)
                     ->  Hash  (cost=18.40..18.40 rows=65 width=18)
                           ->  Seq Scan on trigger  (cost=6.78..18.40 rows=65 width=18)
                                 Filter: ((triggerer_id IS NULL) OR (NOT (hashed SubPlan 1)))
                                 SubPlan 1
                                   ->  Seq Scan on job  (cost=0.00..6.78 rows=1 width=4)
                                         Filter: ((end_date IS NULL) AND (latest_heartbeat > '2025-01-31 00:00:00+00'::timestamp with time zone) AND ((job_type)
::text = 'TriggererJob'::text))
```
",oboki,2025-01-31 09:09:27+00:00,[],2025-02-04 18:51:26+00:00,,https://github.com/apache/airflow/pull/46303,"[('area:Triggerer', '')]",[],
2822713466,pull_request,closed,,"Nuking extra code branching in task runner for inlets, outlets","<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->


The logic to check for task inlets, outlets in task runner had unwanted code branching - if, else when it could have been simpler. (Yea, i wrote the initial code, but didnt realise that time :)).

This PR simplifies that part by keeping only the `if` and adding a finally. Additionally, renamed `msg` that received `OKResponse` as `ok_response` to not confuse with the actual message from supervsior.

Extended the tests for OK = true as well as false. 


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",amoghrajesh,2025-01-31 07:55:58+00:00,[],2025-01-31 12:11:11+00:00,2025-01-31 12:11:08+00:00,https://github.com/apache/airflow/pull/46302,"[('area:task-sdk', None)]",[],
2822542539,pull_request,closed,,Move salesforce provider to new structure,"related: #46045
- [x] fix unit tests 

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",josix,2025-01-31 06:18:16+00:00,[],2025-02-01 08:00:16+00:00,2025-02-01 08:00:16+00:00,https://github.com/apache/airflow/pull/46301,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:salesforce', '')]","[{'comment_id': 2628336057, 'issue_id': 2822542539, 'author': 'jscheffl', 'body': 'Ups, due to other merges some new conflicts. I assume it just needs a bit of rebase, then good!', 'created_at': datetime.datetime(2025, 1, 31, 20, 21, 29, tzinfo=datetime.timezone.utc)}]","jscheffl on (2025-01-31 20:21:29 UTC): Ups, due to other merges some new conflicts. I assume it just needs a bit of rebase, then good!

"
2822472157,pull_request,open,,Fix dagbag resolving with isolated way,"if there are n dags in our system, it is resolved in order in inner system with file system pathes.

but if there is dag with problem, other dag is affected by problematic dag.

let's say there is `a, b, c` dag in ours, and resolved order is set as `a, b, c`.
if `b` is broken, `c` is also broken even there is no problem at all, which is broken because this `c`'s order is behind `b`.

so, this PR contains enhanced dagbag resolving way with isolation.",donghyun-daniel,2025-01-31 05:20:56+00:00,[],2025-01-31 05:21:01+00:00,,https://github.com/apache/airflow/pull/46300,[],"[{'comment_id': 2626328420, 'issue_id': 2822472157, 'author': 'boring-cyborg[bot]', 'body': ""Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)\nHere are some useful points:\n- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.\n- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.\n- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.\n- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.\n- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.\n- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).\n- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.\nApache Airflow is a community-driven project and together we are making it better ðŸš€.\nIn case of doubts contact the developers at:\nMailing List: dev@airflow.apache.org\nSlack: https://s.apache.org/airflow-slack"", 'created_at': datetime.datetime(2025, 1, 31, 5, 20, 59, tzinfo=datetime.timezone.utc)}]","boring-cyborg[bot] on (2025-01-31 05:20:59 UTC): Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)
Here are some useful points:
- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.
- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.
- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.
- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.
- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.
- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).
- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.
Apache Airflow is a community-driven project and together we are making it better ðŸš€.
In case of doubts contact the developers at:
Mailing List: dev@airflow.apache.org
Slack: https://s.apache.org/airflow-slack

"
2821948407,pull_request,closed,,python_named_parameters should be python_named_params,"Incorrect on https://airflow.apache.org/docs/apache-airflow-providers-databricks/stable/operators/run_now.html
It's also incorrect in some places on https://airflow.apache.org/docs/apache-airflow-providers-databricks/stable/_api/airflow/providers/databricks/operators/databricks/index.html#airflow.providers.databricks.operators.databricks.DatabricksRunNowOperator, but I wasn't sure where to fix that. 
<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",lendle,2025-01-30 22:32:38+00:00,[],2025-01-31 13:52:52+00:00,2025-01-31 13:52:49+00:00,https://github.com/apache/airflow/pull/46299,"[('area:providers', ''), ('kind:documentation', ''), ('provider:databricks', '')]","[{'comment_id': 2625735677, 'issue_id': 2821948407, 'author': 'boring-cyborg[bot]', 'body': ""Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)\nHere are some useful points:\n- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.\n- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.\n- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.\n- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.\n- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.\n- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).\n- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.\nApache Airflow is a community-driven project and together we are making it better ðŸš€.\nIn case of doubts contact the developers at:\nMailing List: dev@airflow.apache.org\nSlack: https://s.apache.org/airflow-slack"", 'created_at': datetime.datetime(2025, 1, 30, 22, 32, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627407500, 'issue_id': 2821948407, 'author': 'boring-cyborg[bot]', 'body': 'Awesome work, congrats on your first merged pull request! You are invited to check our [Issue Tracker](https://github.com/apache/airflow/issues) for additional contributions.', 'created_at': datetime.datetime(2025, 1, 31, 13, 52, 51, tzinfo=datetime.timezone.utc)}]","boring-cyborg[bot] on (2025-01-30 22:32:42 UTC): Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)
Here are some useful points:
- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.
- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.
- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.
- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.
- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.
- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).
- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.
Apache Airflow is a community-driven project and together we are making it better ðŸš€.
In case of doubts contact the developers at:
Mailing List: dev@airflow.apache.org
Slack: https://s.apache.org/airflow-slack

boring-cyborg[bot] on (2025-01-31 13:52:51 UTC): Awesome work, congrats on your first merged pull request! You are invited to check our [Issue Tracker](https://github.com/apache/airflow/issues) for additional contributions.

"
2821641630,pull_request,closed,,Add autorefresh to dag page,"Add autorefresh to Dag page for the header, runs list, and tasks list.

This required rebuilding how we get data for the tasks list cards and how we invalidate queries when triggering a dag run.


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",bbovenzi,2025-01-30 19:26:10+00:00,[],2025-01-31 15:58:10+00:00,2025-01-31 15:58:07+00:00,https://github.com/apache/airflow/pull/46296,"[('area:UI', 'Related to UI/UX. For Frontend Developers.')]",[],
2821243761,pull_request,closed,,"AIP-83: Restore Uniqueness Constraint on Logical Date, Make It Nullable","closes:https://github.com/apache/airflow/issues/46187


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vatsrahul1001,2025-01-30 16:13:39+00:00,[],2025-02-06 15:47:23+00:00,2025-02-06 08:32:03+00:00,https://github.com/apache/airflow/pull/46295,"[('kind:documentation', ''), ('area:db-migrations', 'PRs with DB migration'), ('AIP-83', 'Remove Execution Date Unique Constraint from DAG Run')]","[{'comment_id': 2626223844, 'issue_id': 2821243761, 'author': 'vatsrahul1001', 'body': 'Need to look at failures.', 'created_at': datetime.datetime(2025, 1, 31, 3, 30, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635734777, 'issue_id': 2821243761, 'author': 'uranusjr', 'body': 'I added a couple of changes to fix tests in ways I think make more sense. This looks good to me except the parts involving backfill; deferring those to Daniel.', 'created_at': datetime.datetime(2025, 2, 5, 5, 26, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636962098, 'issue_id': 2821243761, 'author': 'dstandish', 'body': ""Let's take the backfill part of this out; we can just do minimal changes to backfill such that tests are passing.  Backfill can be broken if necessary as a result of this and fixed by sneha's PR.   But we need to get the constraint change in there."", 'created_at': datetime.datetime(2025, 2, 5, 14, 12, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637003267, 'issue_id': 2821243761, 'author': 'uranusjr', 'body': 'Letâ€™s take out the changes in backfill.py from this PR so we can merge the model changes first. Everything else sort of depends on them. This means backfilling would break if you hit a duplicate logical date, but I think itâ€™s fine as long as we fix it before the final release.\r\n\r\nIâ€™ll do that tomorrow if nobody beats me to it.', 'created_at': datetime.datetime(2025, 2, 5, 14, 27, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637494387, 'issue_id': 2821243761, 'author': 'vatsrahul1001', 'body': '@uranusjr @dstandish I have removed backfill related changes from this PR. We should be good to merge this after CI is green', 'created_at': datetime.datetime(2025, 2, 5, 16, 54, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637569962, 'issue_id': 2821243761, 'author': 'dstandish', 'body': '> @uranusjr @dstandish I have removed backfill related changes from this PR. We should be good to merge this after CI is green\r\n\r\nok cool', 'created_at': datetime.datetime(2025, 2, 5, 17, 26, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639741420, 'issue_id': 2821243761, 'author': 'ashb', 'body': ""```\r\nproviders/tests/amazon/aws/operators/test_dms.py:503: in test_template_fields_native\r\n    context = ti.get_template_context(session)\r\nairflow/models/taskinstance.py:3242: in get_template_context\r\n    return _get_template_context(\r\nairflow/models/taskinstance.py:960: in _get_template_context\r\n    dag_run=DagRunSDK.model_validate(dag_run, from_attributes=True),\r\nE   pydantic_core._pydantic_core.ValidationError: 1 validation error for DagRun\r\nE   logical_date\r\nE     Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]\r\nE       For further information visit https://errors.pydantic.dev/2.10/v/datetime_type\r\n```\r\n\r\nIt's curious/a massive oversight in tests that this is broken but it's only a provider test that picks it up!"", 'created_at': datetime.datetime(2025, 2, 6, 12, 50, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640201017, 'issue_id': 2821243761, 'author': 'potiuk', 'body': ""> It's curious/a massive oversight in tests that this is broken but it's only a provider test that picks it up!\r\n\r\nYep. I would really be curious to see what's the solution - maybe it's just a test case, maybe that's something that it's missing in the unit tests. Or maybe we should bring back all provider tests to be run on core changes - they are disabled now but seems to be breaking things more often."", 'created_at': datetime.datetime(2025, 2, 6, 15, 47, 22, tzinfo=datetime.timezone.utc)}]","vatsrahul1001 (Issue Creator) on (2025-01-31 03:30:51 UTC): Need to look at failures.

uranusjr on (2025-02-05 05:26:43 UTC): I added a couple of changes to fix tests in ways I think make more sense. This looks good to me except the parts involving backfill; deferring those to Daniel.

dstandish on (2025-02-05 14:12:01 UTC): Let's take the backfill part of this out; we can just do minimal changes to backfill such that tests are passing.  Backfill can be broken if necessary as a result of this and fixed by sneha's PR.   But we need to get the constraint change in there.

uranusjr on (2025-02-05 14:27:51 UTC): Letâ€™s take out the changes in backfill.py from this PR so we can merge the model changes first. Everything else sort of depends on them. This means backfilling would break if you hit a duplicate logical date, but I think itâ€™s fine as long as we fix it before the final release.

Iâ€™ll do that tomorrow if nobody beats me to it.

vatsrahul1001 (Issue Creator) on (2025-02-05 16:54:59 UTC): @uranusjr @dstandish I have removed backfill related changes from this PR. We should be good to merge this after CI is green

dstandish on (2025-02-05 17:26:18 UTC): ok cool

ashb on (2025-02-06 12:50:03 UTC): ```
providers/tests/amazon/aws/operators/test_dms.py:503: in test_template_fields_native
    context = ti.get_template_context(session)
airflow/models/taskinstance.py:3242: in get_template_context
    return _get_template_context(
airflow/models/taskinstance.py:960: in _get_template_context
    dag_run=DagRunSDK.model_validate(dag_run, from_attributes=True),
E   pydantic_core._pydantic_core.ValidationError: 1 validation error for DagRun
E   logical_date
E     Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
E       For further information visit https://errors.pydantic.dev/2.10/v/datetime_type
```

It's curious/a massive oversight in tests that this is broken but it's only a provider test that picks it up!

potiuk on (2025-02-06 15:47:22 UTC): Yep. I would really be curious to see what's the solution - maybe it's just a test case, maybe that's something that it's missing in the unit tests. Or maybe we should bring back all provider tests to be run on core changes - they are disabled now but seems to be breaking things more often.

"
2821231060,pull_request,closed,,Migrate Druid provider to the new structure,"Static tests and provider tests both passing âœ”ï¸

Related: https://github.com/apache/airflow/issues/46045

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",o-nikolas,2025-01-30 16:07:57+00:00,[],2025-01-30 18:41:37+00:00,2025-01-30 18:41:35+00:00,https://github.com/apache/airflow/pull/46294,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:apache-druid', '')]",[],
2821125086,pull_request,closed,,Adding DataSync links,"
---
Adds extra links for AWS DataSync tasks and task executions.",ellisms,2025-01-30 15:25:39+00:00,[],2025-01-31 04:46:48+00:00,2025-01-31 04:46:48+00:00,https://github.com/apache/airflow/pull/46292,"[('provider:amazon', 'AWS/Amazon - related issues'), ('area:providers', '')]",[],
2821113811,pull_request,closed,,Fix side effect of not tearing down mongo hook in tests,"The MongoClient apparently starts a separate thread that runs an active loop that performs sleep every 0.5 second. MongoClient is stored in the Hook and hooks/test_mongo.py stored the hook as object in the test class, which means that the thread has not been torn down and continued to run after mongo tests completed.

Subsequently any test that was mocking time.sleep (and skipping waiting) had been spammed by mongo client thread calling sleep() - potentially many times.

Earlier attempts to fix this had not succeeded - so they are reverted now as part of this PR, as the original patching of sleep was much nicer there.

Revert ""Make  racy test test_start_pod_startup_interval_seconds less racy (#46282)""

This reverts commit 60f0abf4ced92c8c6fd6343092b53e802c41eb72.

Revert ""Make azure test less flaky/racy (#46281)""

This reverts commit ae55e2224493ff812135ca7e8a64de2aeca8317d.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-01-30 15:21:04+00:00,[],2025-01-31 13:49:18+00:00,2025-01-30 16:39:37+00:00,https://github.com/apache/airflow/pull/46291,"[('provider:microsoft-azure', 'Azure-related issues'), ('area:providers', ''), ('full tests needed', 'We need to run full set of tests for this PR to merge'), ('provider:cncf-kubernetes', 'Kubernetes provider related issues'), ('provider:mongo', ''), ('canary', 'When set on PR running from apache repo - behave as canary run')]","[{'comment_id': 2624870842, 'issue_id': 2821113811, 'author': 'ashb', 'body': 'It does WHAT? ðŸ¤¯', 'created_at': datetime.datetime(2025, 1, 30, 15, 49, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625004337, 'issue_id': 2821113811, 'author': 'potiuk', 'body': '> It does WHAT? ðŸ¤¯\r\n\r\nYep. ðŸ¤¯', 'created_at': datetime.datetime(2025, 1, 30, 16, 39, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625500773, 'issue_id': 2821113811, 'author': 'jscheffl', 'body': 'Wow, great catch!', 'created_at': datetime.datetime(2025, 1, 30, 20, 23, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627400053, 'issue_id': 2821113811, 'author': 'potiuk', 'body': '> Wow, great catch!\r\n\r\nðŸŸ', 'created_at': datetime.datetime(2025, 1, 31, 13, 49, 17, tzinfo=datetime.timezone.utc)}]","ashb on (2025-01-30 15:49:22 UTC): It does WHAT? ðŸ¤¯

potiuk (Issue Creator) on (2025-01-30 16:39:29 UTC): Yep. ðŸ¤¯

jscheffl on (2025-01-30 20:23:25 UTC): Wow, great catch!

potiuk (Issue Creator) on (2025-01-31 13:49:17 UTC): ðŸŸ

"
2821083953,pull_request,closed,,Mostly use relative fileloc in dag processor,"Where possible in dag processor, replace references to fileloc with bundle name + relative fileloc.  This is a stepping stone on the way to removing the fileloc attr (or perhaps we change it to mean relative and remove relative as a distinct field).  One place I could not update in this PR was due to needing to update ParseImportError, and I did not want to overcomplicate this PR.
In a few places I also try to make the code a little more intelligible without changing its behavior.",dstandish,2025-01-30 15:09:14+00:00,[],2025-01-31 00:10:55+00:00,2025-01-31 00:10:53+00:00,https://github.com/apache/airflow/pull/46290,"[('area:DAG-processing', '')]",[],
2820872112,pull_request,closed,,Remove requests limits and restore opensearch tests for latest boto,"The requests limits were removing opensearch during ""latest boto"" tests but this is not needed any more, since apache.beam latest version already supports requests 2.32.*. That also unblocks moving opensearch to a separate provider project.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-01-30 13:41:15+00:00,[],2025-01-30 15:31:15+00:00,2025-01-30 15:30:12+00:00,https://github.com/apache/airflow/pull/46289,"[('area:dev-tools', ''), ('canary', 'When set on PR running from apache repo - behave as canary run')]","[{'comment_id': 2624561922, 'issue_id': 2820872112, 'author': 'potiuk', 'body': 'Applied `canary` label to test latest boto tests.', 'created_at': datetime.datetime(2025, 1, 30, 13, 46, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624820056, 'issue_id': 2820872112, 'author': 'potiuk', 'body': 'Merged - failing tests are addressed in https://github.com/apache/airflow/pull/46291', 'created_at': datetime.datetime(2025, 1, 30, 15, 31, 13, tzinfo=datetime.timezone.utc)}]","potiuk (Issue Creator) on (2025-01-30 13:46:13 UTC): Applied `canary` label to test latest boto tests.

potiuk (Issue Creator) on (2025-01-30 15:31:13 UTC): Merged - failing tests are addressed in https://github.com/apache/airflow/pull/46291

"
2820787888,pull_request,closed,,Add info that delete_local_logs also works for HDFS remote logging,"This is minor PR adds information that `[logging] delete_local_logs` parameter also affects HDFS remote logging, see 
https://github.com/apache/airflow/blob/main/providers/src/airflow/providers/apache/hdfs/log/hdfs_task_handler.py#L43
https://github.com/apache/airflow/blob/main/providers/src/airflow/providers/apache/hdfs/log/hdfs_task_handler.py#L83


<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",Aakcht,2025-01-30 13:04:44+00:00,[],2025-02-03 11:45:39+00:00,2025-02-03 11:37:42+00:00,https://github.com/apache/airflow/pull/46287,"[('area:logging', ''), ('kind:documentation', '')]",[],
2820760779,pull_request,closed,,Limit Apache Beam's numpy used,"Separating beam out reveald that the lower limit for numpy migh lead to installation problems on newer package managers and python versions (lack of distutils installed by default in Python 3.12 in causes older versions of numpy to not build and uv / pip trying to install it will fail.

This PR lower-binds numpy to mid-2023 version.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-01-30 12:52:37+00:00,[],2025-01-30 20:19:34+00:00,2025-01-30 12:59:09+00:00,https://github.com/apache/airflow/pull/46286,"[('provider:apache-beam', '')]","[{'comment_id': 2624440631, 'issue_id': 2820760779, 'author': 'potiuk', 'body': 'Example failure: \r\n\r\nhttps://github.com/apache/airflow/actions/runs/13047585952/job/36404137972#step:6:5204\r\n\r\nFails when tries to build 1.24.4 on 3.12\r\n\r\n```python\r\nResolved 178 packages in 4.30s\r\n    Ã— Failed to build `numpy==1.24.4`\r\n    â”œâ”€â–¶ The build backend returned an error\r\n    â•°â”€â–¶ Call to `setuptools.build_meta:__legacy__.build_wheel` failed (exit\r\n        status: 1)\r\n  \r\n        [stderr]\r\n        Traceback (most recent call last):\r\n          File ""<string>"", line 8, in <module>\r\n          File\r\n        ""/root/.cache/uv/builds-v0/.tmppPFSGG/lib/python3.12/site-packages/setuptools/__init__.py"",\r\n        line 10, in <module>\r\n            import distutils.core\r\n        ModuleNotFoundError: No module named \'distutils\'\r\n  \r\n        hint: `distutils` was removed from the standard library in Python 3.12.\r\n        Consider adding a constraint (like `numpy >1.24.4`) to avoid building a\r\n        version of `numpy` that depends on `distutils`.\r\n    help: `numpy` (v1.24.4) was included because `apache-airflow[apache-beam]`\r\n          (v3.0.0.dev0) depends on `pyarrow` (v14.0.1) which depends on\r\n          `numpy`\r\n```', 'created_at': datetime.datetime(2025, 1, 30, 12, 54, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624449792, 'issue_id': 2820760779, 'author': 'potiuk', 'body': ""> So it wasnt flakiness after all. Yeah this workaround sounds OK for now!\r\n\r\nIt's a good long term one actually- because we prevent installing old versions that are not installable on newer python versions :)"", 'created_at': datetime.datetime(2025, 1, 30, 12, 58, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624451279, 'issue_id': 2820760779, 'author': 'potiuk', 'body': 'Merging to get next canary builds to run it', 'created_at': datetime.datetime(2025, 1, 30, 12, 59, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625493718, 'issue_id': 2820760779, 'author': 'jscheffl', 'body': 'Cool! Yeah, did not notice this but also in example DAGs numpy < 1.26 failed with Python 3.12. Good that this is also fixed here!', 'created_at': datetime.datetime(2025, 1, 30, 20, 19, 32, tzinfo=datetime.timezone.utc)}]","potiuk (Issue Creator) on (2025-01-30 12:54:46 UTC): Example failure: 

https://github.com/apache/airflow/actions/runs/13047585952/job/36404137972#step:6:5204

Fails when tries to build 1.24.4 on 3.12

```python
Resolved 178 packages in 4.30s
    Ã— Failed to build `numpy==1.24.4`
    â”œâ”€â–¶ The build backend returned an error
    â•°â”€â–¶ Call to `setuptools.build_meta:__legacy__.build_wheel` failed (exit
        status: 1)
  
        [stderr]
        Traceback (most recent call last):
          File ""<string>"", line 8, in <module>
          File
        ""/root/.cache/uv/builds-v0/.tmppPFSGG/lib/python3.12/site-packages/setuptools/__init__.py"",
        line 10, in <module>
            import distutils.core
        ModuleNotFoundError: No module named 'distutils'
  
        hint: `distutils` was removed from the standard library in Python 3.12.
        Consider adding a constraint (like `numpy >1.24.4`) to avoid building a
        version of `numpy` that depends on `distutils`.
    help: `numpy` (v1.24.4) was included because `apache-airflow[apache-beam]`
          (v3.0.0.dev0) depends on `pyarrow` (v14.0.1) which depends on
          `numpy`
```

potiuk (Issue Creator) on (2025-01-30 12:58:55 UTC): It's a good long term one actually- because we prevent installing old versions that are not installable on newer python versions :)

potiuk (Issue Creator) on (2025-01-30 12:59:33 UTC): Merging to get next canary builds to run it

jscheffl on (2025-01-30 20:19:32 UTC): Cool! Yeah, did not notice this but also in example DAGs numpy < 1.26 failed with Python 3.12. Good that this is also fixed here!

"
2820709963,pull_request,open,,update xcom docs ,minor rewrite of the sentence regarding pushing of multiple XComs,rawwar,2025-01-30 12:30:56+00:00,[],2025-02-05 16:47:01+00:00,,https://github.com/apache/airflow/pull/46284,"[('kind:documentation', '')]","[{'comment_id': 2624400049, 'issue_id': 2820709963, 'author': 'rawwar', 'body': ""When pushing multiple XCom values, we can still pull them using the 'return_value' key if we aren't explicitly pushing using a new key. So, we aren't exactly renaming anything here. Rather, we can now also pull using the keys within the returned XCom dictionary."", 'created_at': datetime.datetime(2025, 1, 30, 12, 40, 17, tzinfo=datetime.timezone.utc)}]","rawwar (Issue Creator) on (2025-01-30 12:40:17 UTC): When pushing multiple XCom values, we can still pull them using the 'return_value' key if we aren't explicitly pushing using a new key. So, we aren't exactly renaming anything here. Rather, we can now also pull using the keys within the returned XCom dictionary.

"
2820596204,pull_request,closed,,feat: Add ProcessingEngineRunFacet to all OL events,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->
ProcessingEngineRunFacet was added in #43213 only for start events. As it is useful for debugging and lightweight, i think we can extend it to all OpenLineage events.


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",kacpermuda,2025-01-30 11:38:32+00:00,[],2025-02-03 13:29:44+00:00,2025-02-03 12:41:28+00:00,https://github.com/apache/airflow/pull/46283,"[('provider:openlineage', 'AIP-53')]","[{'comment_id': 2630360281, 'issue_id': 2820596204, 'author': 'kacpermuda', 'body': '@mobuchowski FYI', 'created_at': datetime.datetime(2025, 2, 3, 9, 9, 25, tzinfo=datetime.timezone.utc)}]","kacpermuda (Issue Creator) on (2025-02-03 09:09:25 UTC): @mobuchowski FYI

"
2820416263,pull_request,closed,,Make  racy test test_start_pod_startup_interval_seconds less racy,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-01-30 10:14:48+00:00,[],2025-01-30 10:31:12+00:00,2025-01-30 10:30:28+00:00,https://github.com/apache/airflow/pull/46282,"[('area:providers', ''), ('provider:cncf-kubernetes', 'Kubernetes provider related issues')]","[{'comment_id': 2624103128, 'issue_id': 2820416263, 'author': 'amoghrajesh', 'body': 'Oh, a tad bit late!', 'created_at': datetime.datetime(2025, 1, 30, 10, 31, 11, tzinfo=datetime.timezone.utc)}]","amoghrajesh on (2025-01-30 10:31:11 UTC): Oh, a tad bit late!

"
2820341046,pull_request,closed,,Make azure test less flaky/racy,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-01-30 09:40:11+00:00,[],2025-01-30 10:22:19+00:00,2025-01-30 10:22:16+00:00,https://github.com/apache/airflow/pull/46281,"[('provider:microsoft-azure', 'Azure-related issues'), ('area:providers', '')]",[],
2820251369,pull_request,closed,,Fixed thread local _sentinel.callers defect and added test cases (#44â€¦,"
Backport of  https://github.com/apache/airflow/pull/44646

---------

Co-authored-by: Rahul Goyal <rahgoyal3@publicisgroupe.net>
(cherry picked from commit a77fca25518b07d7d75c3301244d21f6a97c3947)",utkarsharma2,2025-01-30 08:57:12+00:00,[],2025-01-30 09:55:23+00:00,2025-01-30 09:42:21+00:00,https://github.com/apache/airflow/pull/46280,"[('type:bug-fix', 'Changelog: Bug Fixes')]",[],
2820015331,pull_request,closed,,AIP-65 | Filter dag structure by dag version,"
closes: #45994



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",jason810496,2025-01-30 06:27:41+00:00,[],2025-01-30 17:02:10+00:00,2025-01-30 17:02:09+00:00,https://github.com/apache/airflow/pull/46279,"[('area:UI', 'Related to UI/UX. For Frontend Developers.')]","[{'comment_id': 2624066663, 'issue_id': 2820015331, 'author': 'jason810496', 'body': 'CI failure due to an unrelated check.', 'created_at': datetime.datetime(2025, 1, 30, 10, 15, 38, tzinfo=datetime.timezone.utc)}]","jason810496 (Issue Creator) on (2025-01-30 10:15:38 UTC): CI failure due to an unrelated check.

"
2819950900,pull_request,closed,,Move Influxdb provider to new provider structure,"Related: #46045 
<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",Prab-27,2025-01-30 05:41:32+00:00,[],2025-01-30 10:25:10+00:00,2025-01-30 10:25:10+00:00,https://github.com/apache/airflow/pull/46277,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:influxdb', '')]",[],
2819864832,pull_request,closed,,Try and reduce flakiness of number of test call asserts,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->

Saw such failures in CI:
```
TestDbtCloudRunJobOperator.test_execute_wait_for_termination[default_account-2-timeout] _
providers/tests/dbt/cloud/operators/test_dbt.py:290: in test_execute_wait_for_termination
    assert mock_get_job_run.call_count == 4
E   AssertionError: assert 2 == 4
E    +  where 2 = <MagicMock name='get_job_run' id='139851324412688'>.call_count
```

Example run https://github.com/apache/airflow/actions/runs/13044119066

We can just make it more dynamic by expecting the max calls and asserting that we have finished sooner.

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",amoghrajesh,2025-01-30 04:18:52+00:00,[],2025-01-30 07:22:53+00:00,2025-01-30 06:47:43+00:00,https://github.com/apache/airflow/pull/46276,"[('area:providers', ''), ('provider:dbt-cloud', '')]","[{'comment_id': 2623712389, 'issue_id': 2819864832, 'author': 'potiuk', 'body': 'nice!', 'created_at': datetime.datetime(2025, 1, 30, 7, 22, 52, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-30 07:22:52 UTC): nice!

"
2819864656,pull_request,closed,,Validate body to be defined when the server/network is not available.,"I noticed few times during development when the fastapi server is restarting or down with UI open where `error.body` is not defined resulting in below stacktrace and UI crashing.

To reproduce : 

1. Run fastapi in dev mode
2. Open home page
3. Stop fastapi server and navigate to another page in UI.

Before 

![image](https://github.com/user-attachments/assets/df30c348-20b6-4b19-83d1-9cc528afaa0c)

After PR

![image](https://github.com/user-attachments/assets/47902af6-e833-4f35-adc4-59fc4dcb3a0a)

",tirkarthi,2025-01-30 04:18:43+00:00,[],2025-01-30 20:11:24+00:00,2025-01-30 20:11:24+00:00,https://github.com/apache/airflow/pull/46275,"[('area:UI', 'Related to UI/UX. For Frontend Developers.')]",[],
2819767553,pull_request,closed,,Remove import from MySQL provider tests in generic transfer test,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-01-30 02:37:55+00:00,[],2025-01-30 03:47:52+00:00,2025-01-30 03:47:51+00:00,https://github.com/apache/airflow/pull/46274,"[('provider:standard', '')]",[],
2819679684,pull_request,closed,,Replace caplog with patching log property in k8s tests,"Since caplog is very vulnerable to side effects we remove it from k8s tests and replace it with patching the log property of the K8SHook. This should not be vulnerable to side-effects.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-01-30 01:14:12+00:00,[],2025-02-01 13:19:38+00:00,2025-01-30 02:04:33+00:00,https://github.com/apache/airflow/pull/46273,"[('area:providers', ''), ('provider:cncf-kubernetes', 'Kubernetes provider related issues')]","[{'comment_id': 2623317991, 'issue_id': 2819679684, 'author': 'bugraoz93', 'body': 'Look great! Thanks!\nShould we aim to maybe scan and plan to remove caplog pieces other than cases where it is strictly necessary? Or do we need a lazy consensus to decide removing caplog pieces? Also, including a CI check to prevent to be included more caplog test without mocking if decisionis more towards to this approach?', 'created_at': datetime.datetime(2025, 1, 30, 1, 28, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623334039, 'issue_id': 2819679684, 'author': 'potiuk', 'body': '> Should we aim to maybe scan and plan to remove caplog pieces other than cases where it is strictly necessary? \r\n\r\nYes\r\n\r\n> Or do we need a lazy consensus to decide removing caplog pieces? \r\n\r\nMight be worth doing to get people aware/engaged.\r\n\r\n> Also, including a CI check to prevent to be included more caplog test without mocking if decisionis more towards to this approach?\r\n\r\nAbsolutely.\r\n\r\nGo ahead with that :)', 'created_at': datetime.datetime(2025, 1, 30, 1, 43, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628949278, 'issue_id': 2819679684, 'author': 'bugraoz93', 'body': '> > Should we aim to maybe scan and plan to remove caplog pieces other than cases where it is strictly necessary?\r\n> \r\n> Yes\r\n> \r\n> > Or do we need a lazy consensus to decide removing caplog pieces?\r\n> \r\n> Might be worth doing to get people aware/engaged.\r\n> \r\n> > Also, including a CI check to prevent to be included more caplog test without mocking if decisionis more towards to this approach?\r\n> \r\n> Absolutely.\r\n> \r\n> Go ahead with that :)\r\n\r\nAmazing! I will make the engagement and will create follow-ups :) This was one of the things I always wanted to support and wished to make it happen :partying_face:', 'created_at': datetime.datetime(2025, 2, 1, 13, 14, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628951031, 'issue_id': 2819679684, 'author': 'potiuk', 'body': '> Amazing! I will make the engagement and will create follow-ups :) This was one of the things I always wanted to support and wished to make it happen ðŸ¥³\r\n\r\nðŸ‘€ ðŸ‘€ ðŸ‘€ ðŸ‘€ ðŸ‘€', 'created_at': datetime.datetime(2025, 2, 1, 13, 19, 37, tzinfo=datetime.timezone.utc)}]","bugraoz93 on (2025-01-30 01:28:21 UTC): Look great! Thanks!
Should we aim to maybe scan and plan to remove caplog pieces other than cases where it is strictly necessary? Or do we need a lazy consensus to decide removing caplog pieces? Also, including a CI check to prevent to be included more caplog test without mocking if decisionis more towards to this approach?

potiuk (Issue Creator) on (2025-01-30 01:43:35 UTC): Yes


Might be worth doing to get people aware/engaged.


Absolutely.

Go ahead with that :)

bugraoz93 on (2025-02-01 13:14:06 UTC): Amazing! I will make the engagement and will create follow-ups :) This was one of the things I always wanted to support and wished to make it happen :partying_face:

potiuk (Issue Creator) on (2025-02-01 13:19:37 UTC): ðŸ‘€ ðŸ‘€ ðŸ‘€ ðŸ‘€ ðŸ‘€

"
2819658083,pull_request,closed,,Remove log tests from  Livy,"Similarly to #46263 - there is no real value in keeping tests for logs in Livy - and caplog tests are known to be super vulnerable to side-effects from other tests. Since those tests add no value, we should just remove them without replacement.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-01-30 00:53:33+00:00,[],2025-02-07 13:00:10+00:00,2025-01-30 01:36:48+00:00,https://github.com/apache/airflow/pull/46272,"[('area:providers', ''), ('provider:apache-livy', '')]",[],
2819644369,pull_request,closed,,Move Atlassian Jira Provider to the New Structure,"related: #46045
No PR is created at this moment.

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",bugraoz93,2025-01-30 00:39:48+00:00,[],2025-01-30 09:41:56+00:00,2025-01-30 09:41:56+00:00,https://github.com/apache/airflow/pull/46271,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:atlassian-jira', '')]",[],
2819641137,pull_request,closed,,Add evaluation extra to google-cloud-aiplatform,"The scikit-learn is an optional dependency of the library from google and apparently we are using the `evaluation` optional feature of it. Adding the extra should make google provider depends on scikit-learn.

Closes: #46258

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-01-30 00:37:17+00:00,[],2025-01-30 20:12:49+00:00,2025-01-30 07:23:40+00:00,https://github.com/apache/airflow/pull/46270,"[('provider:google', 'Google (including GCP) related issues'), ('area:providers', '')]","[{'comment_id': 2623270797, 'issue_id': 2819641137, 'author': 'potiuk', 'body': 'More explanation:\r\n\r\nThe difference between metadata of 1.78.0 vs. 1.79.0\r\n\r\n<img width=""2039"" alt=""Screenshot 2025-01-30 at 01 39 30"" src=""https://github.com/user-attachments/assets/3ba660ca-c014-4642-83d7-948da5f4489f"" />\r\n\r\nWe\'ve been installing both extras (pandas, tqdm) by other means before - but we should have been using `evaluation` extra before, because we are apparently using it for some operators in Google Provider before - but it has not been noticed, because those deps were already installed by other providers (tqdm is a dependency of fsspec). \r\n\r\nBut no-one else uses scikit learn, so when they added it in 1.79, we have not installed it because we did not have the extra.', 'created_at': datetime.datetime(2025, 1, 30, 0, 44, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623311818, 'issue_id': 2819641137, 'author': 'potiuk', 'body': 'That works - no failures in static checks - other errors fxed in upcoming PRs.', 'created_at': datetime.datetime(2025, 1, 30, 1, 22, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623582063, 'issue_id': 2819641137, 'author': 'amoghrajesh', 'body': ""Error:\r\n```\r\nFAILED providers/tests/dbt/cloud/operators/test_dbt.py::TestDbtCloudRunJobOperator::test_execute_wait_for_termination[explicit_account-1-timeout] - AssertionError: assert 2 == 4\r\n +  where 2 = <MagicMock name='get_job_run' id='140435097315120'>.call_count\r\n====== 1 failed, 6263 passed, 97 skipped, 1 warning in 746.83s (0:12:26) =======\r\n```\r\n\r\nAttempted a fix: https://github.com/apache/airflow/pull/46276"", 'created_at': datetime.datetime(2025, 1, 30, 5, 57, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625480586, 'issue_id': 2819641137, 'author': 'jscheffl', 'body': 'Cool!', 'created_at': datetime.datetime(2025, 1, 30, 20, 12, 48, tzinfo=datetime.timezone.utc)}]","potiuk (Issue Creator) on (2025-01-30 00:44:39 UTC): More explanation:

The difference between metadata of 1.78.0 vs. 1.79.0

<img width=""2039"" alt=""Screenshot 2025-01-30 at 01 39 30"" src=""https://github.com/user-attachments/assets/3ba660ca-c014-4642-83d7-948da5f4489f"" />

We've been installing both extras (pandas, tqdm) by other means before - but we should have been using `evaluation` extra before, because we are apparently using it for some operators in Google Provider before - but it has not been noticed, because those deps were already installed by other providers (tqdm is a dependency of fsspec). 

But no-one else uses scikit learn, so when they added it in 1.79, we have not installed it because we did not have the extra.

potiuk (Issue Creator) on (2025-01-30 01:22:15 UTC): That works - no failures in static checks - other errors fxed in upcoming PRs.

amoghrajesh on (2025-01-30 05:57:03 UTC): Error:
```
FAILED providers/tests/dbt/cloud/operators/test_dbt.py::TestDbtCloudRunJobOperator::test_execute_wait_for_termination[explicit_account-1-timeout] - AssertionError: assert 2 == 4
 +  where 2 = <MagicMock name='get_job_run' id='140435097315120'>.call_count
====== 1 failed, 6263 passed, 97 skipped, 1 warning in 746.83s (0:12:26) =======
```

Attempted a fix: https://github.com/apache/airflow/pull/46276

jscheffl on (2025-01-30 20:12:48 UTC): Cool!

"
2819632865,pull_request,closed,,Move JDBC Provider to the New Structure,"related: #46045

No PR is created at this moment.

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",bugraoz93,2025-01-30 00:28:35+00:00,[],2025-02-01 14:28:35+00:00,2025-02-01 14:27:11+00:00,https://github.com/apache/airflow/pull/46269,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:jdbc', '')]","[{'comment_id': 2624128551, 'issue_id': 2819632865, 'author': 'potiuk', 'body': 'Conflicts again - but this time I think ðŸ¤ž all of those flaky tests shoudl be handled.', 'created_at': datetime.datetime(2025, 1, 30, 10, 42, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628956141, 'issue_id': 2819632865, 'author': 'bugraoz93', 'body': '> Conflicts again - but this time I think ðŸ¤ž all of those flaky tests shoudl be handled.\r\n\r\n Thanks for checking and syncing! :crossed_fingers:', 'created_at': datetime.datetime(2025, 2, 1, 13, 34, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628972712, 'issue_id': 2819632865, 'author': 'bugraoz93', 'body': '> CI Error seems to be in Google Operator (from main) and not from this change. I think we can merge.\r\n\r\nYes, I am going to check if I can fix that in another PR. First will check if anyone is already working on a fix. Thanks for your reviews!', 'created_at': datetime.datetime(2025, 2, 1, 14, 23, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628973905, 'issue_id': 2819632865, 'author': 'potiuk', 'body': ""Indeed. Can't fix those quickly but if somoene could (looks like just indenting of docs in bigquery.rst) it would be great."", 'created_at': datetime.datetime(2025, 2, 1, 14, 27, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628974400, 'issue_id': 2819632865, 'author': 'bugraoz93', 'body': 'It seems like no one is working. I will make the changes.', 'created_at': datetime.datetime(2025, 2, 1, 14, 28, 34, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-30 10:42:19 UTC): Conflicts again - but this time I think ðŸ¤ž all of those flaky tests shoudl be handled.

bugraoz93 (Issue Creator) on (2025-02-01 13:34:50 UTC): Thanks for checking and syncing! :crossed_fingers:

bugraoz93 (Issue Creator) on (2025-02-01 14:23:33 UTC): Yes, I am going to check if I can fix that in another PR. First will check if anyone is already working on a fix. Thanks for your reviews!

potiuk on (2025-02-01 14:27:06 UTC): Indeed. Can't fix those quickly but if somoene could (looks like just indenting of docs in bigquery.rst) it would be great.

bugraoz93 (Issue Creator) on (2025-02-01 14:28:34 UTC): It seems like no one is working. I will make the changes.

"
2819612580,pull_request,closed,,"Expand KPO template_fields, fix Spark k8s operator tests","<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:



How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->

Adding name and hostname to KubernetesPodOperator template_fields

- Move name validation and normalization inside execute method
- Expand KubernetesPodOperator tests
- Refactor create application SparkKubernetesOperator due to bug in tests
- Fix `kubernetes_tests/test_kubernetes_pod_operator.py` too long name testing flow and add this case to unit tests

closes: #43480
Based on previously staled [PR](https://github.com/apache/airflow/pull/43601/)

---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",insomnes,2025-01-30 00:16:49+00:00,[],2025-02-01 20:51:16+00:00,2025-02-01 13:30:03+00:00,https://github.com/apache/airflow/pull/46268,"[('area:providers', ''), ('provider:cncf-kubernetes', 'Kubernetes provider related issues')]","[{'comment_id': 2623255459, 'issue_id': 2819612580, 'author': 'insomnes', 'body': ""I was interested in this feature so I've bring back staled PR with some extra tests, maybe we can succeed with it this time"", 'created_at': datetime.datetime(2025, 1, 30, 0, 30, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625609188, 'issue_id': 2819612580, 'author': 'insomnes', 'body': ""I think, I've found the bug in spark  k8s operator test code. Will check and try to fix for affected test and bring the bug issue to fix any other occurrences"", 'created_at': datetime.datetime(2025, 1, 30, 21, 14, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626000545, 'issue_id': 2819612580, 'author': 'insomnes', 'body': 'The mentioned bug in the spark k8s operator test is related to mocking and new changes. \r\n\r\nPreviously, tests were failed because the new KPO `execute()` validates the name set for a pod on an operator by calling `_set_name` (because of templating changes, we need to have context applied to templates before name validation).\r\nThus the tests in k8s spark operator with `mock_create_job_name` could not succeed. MagickMock is not a str instance, so validation failed.\r\n\r\nThis led me to understand that calls to `assert op.name.startswith(""..."")` are broken in these tests, otherwise, they would fail too (this is checked after operator execution). My investigation showed that changing prefix to anything like `name.startswith(""ABRA-CADABRA"")` didn\'t lead to test fails. Functions with applied `unittest.patch`  actually return `MagicMock` object, so the `op.name` was a `MagicMock` instance in these tests.\r\n\r\nAny method call on instance of `MagickMock` doesn\'t fail by design and returns another `MagicMock` object. They lead to positive assertions. That\'s why I have refactored affected spark k8s operator tests. I\'ve extracted `create_application` tests to a separate class where `create_job_name` is not patched. \r\n\r\nI believe that all affected tests are fixed now. So there is no need for a new issue.', 'created_at': datetime.datetime(2025, 1, 31, 0, 17, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628953794, 'issue_id': 2819612580, 'author': 'shahar1', 'body': 'LGTM!', 'created_at': datetime.datetime(2025, 2, 1, 13, 28, 17, tzinfo=datetime.timezone.utc)}]","insomnes (Issue Creator) on (2025-01-30 00:30:48 UTC): I was interested in this feature so I've bring back staled PR with some extra tests, maybe we can succeed with it this time

insomnes (Issue Creator) on (2025-01-30 21:14:46 UTC): I think, I've found the bug in spark  k8s operator test code. Will check and try to fix for affected test and bring the bug issue to fix any other occurrences

insomnes (Issue Creator) on (2025-01-31 00:17:10 UTC): The mentioned bug in the spark k8s operator test is related to mocking and new changes. 

Previously, tests were failed because the new KPO `execute()` validates the name set for a pod on an operator by calling `_set_name` (because of templating changes, we need to have context applied to templates before name validation).
Thus the tests in k8s spark operator with `mock_create_job_name` could not succeed. MagickMock is not a str instance, so validation failed.

This led me to understand that calls to `assert op.name.startswith(""..."")` are broken in these tests, otherwise, they would fail too (this is checked after operator execution). My investigation showed that changing prefix to anything like `name.startswith(""ABRA-CADABRA"")` didn't lead to test fails. Functions with applied `unittest.patch`  actually return `MagicMock` object, so the `op.name` was a `MagicMock` instance in these tests.

Any method call on instance of `MagickMock` doesn't fail by design and returns another `MagicMock` object. They lead to positive assertions. That's why I have refactored affected spark k8s operator tests. I've extracted `create_application` tests to a separate class where `create_job_name` is not patched. 

I believe that all affected tests are fixed now. So there is no need for a new issue.

shahar1 on (2025-02-01 13:28:17 UTC): LGTM!

"
2819496666,pull_request,closed,,Swap CeleryExecutor over to use TaskSDK for execution.,"Closes #45426

Some points of note about this PR:

- Logging is changed in Celery, but only for Airflow 3

  Celery does it's own ""capture stdout"" logging, which conflicts with the ones
  we do in the TaskSDK, so we disable that; but to not change anything for
  Airflow 3.

- Simplify task SDK logging redirection

  As part of this discovery that Celery captures stdout/stderr itself (and
  before disabling that) I discovered a simpler way to re-open the
  stdin/out/err so that the implementation needs fewer/no special casing.

- Make JSON task logs more readable by giving them a consistent/useful order

  We re-order (by re-creating) the event_dict so that timestamp, level, and
  then even are always the first items in the dict

- Makes the CeleryExecutor understand the concept of ""workloads"" instead a
  command tuple.

  This change isn't done in the best way, but until Kube executor is swapped
  over (and possibly the other in-tree executors, such as ECS) we need to
  support both styles concurrently.

  The change should be done in such a way that the provider still works with
  Airflow v2, if it's running on that version.

- Upgrade Celery

  This turned out to not be 100% necessary but it does fix some deprecation
  warnings when running on Python 3.12

- Ensure that the forked process in TaskSDK _never ever_ exits

  Again, this isn't possible usually, but since the setup step of `_fork_main`
  died, it didn't call `os._exit()`, and was caught further up, which meant
  the process stayed alive as it never closed the sockets properly. We put and
  extra safety try/except block in place to catch that

I have not yet included a newsfragment for changing the executor interface as
the old style is _currently_ still supported.


Testing: I ran `airflow scheduler`, `airflow fastapi-api`, and `airflow celery
worker` and triggered some dags, viewed logs etc.

And since a picture makes all PRs better

<img width=""1550"" alt=""Screenshot 2025-01-29 at 22 49 49"" src=""https://github.com/user-attachments/assets/a6b1bc3c-917c-408e-bc7b-e4ac2890804e"" />  


Celery window showing debug logs from the supervisor itself (task output goes to file)

<img width=""1022"" alt=""Screenshot 2025-01-29 at 22 50 56"" src=""https://github.com/user-attachments/assets/922b801b-2f4a-4a69-a02d-dd9b536b7bd5"" />


",ashb,2025-01-29 22:45:29+00:00,[],2025-01-31 20:12:45+00:00,2025-01-31 15:24:04+00:00,https://github.com/apache/airflow/pull/46265,"[('area:Scheduler', 'including HA (high availability) scheduler'), ('provider:celery', ''), ('area:Executors-core', 'LocalExecutor & SequentialExecutor'), ('area:task-sdk', None)]","[{'comment_id': 2623620835, 'issue_id': 2819496666, 'author': 'amoghrajesh', 'body': 'Some CI failures, static checks complaining about extra ""===="":\r\n```\r\nindex d4a2491..001620b 100644\r\n--- a/providers/celery/README.rst\r\n+++ b/providers/celery/README.rst\r\n@@ -51,14 +51,14 @@ The package supports the following python versions: 3.9,3.10,3.11,3.12\r\n Requirements\r\n ------------\r\n \r\n-==================  ==============================\r\n+==================  ==================\r\n PIP package         Version required\r\n-==================  ==============================\r\n+==================  ==================\r\n ``apache-airflow``  ``>=2.9.0``\r\n ``celery[redis]``   ``>=5.4.0,<6``\r\n ``flower``          ``>=1.0.0``\r\n ``google-re2``      ``>=1.0``\r\n-==================  ==============================\r\n+==================  ==================\r\n```', 'created_at': datetime.datetime(2025, 1, 30, 6, 26, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625104397, 'issue_id': 2819496666, 'author': 'ashb', 'body': ""RIght I think this is good, the failing tests are fixed in main by Jarek's hard work.\r\n\r\nOne failure I wasn't happy with, so I've rebased."", 'created_at': datetime.datetime(2025, 1, 30, 17, 18, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625297105, 'issue_id': 2819496666, 'author': 'ashb', 'body': ""> Changes to base look good to me to support both for now. I think it's called out in a comment but we should migrate all in-tree executors (K8s, ECS, Batch, Edge, etc) and add a new min Airflow version for those packages.\n\n:+1: Yup, or we can make them work with 2+3 similar to how I've done for celery. The ecs etc changes right now are very minimal in this or"", 'created_at': datetime.datetime(2025, 1, 30, 18, 44, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626733091, 'issue_id': 2819496666, 'author': 'ashb', 'body': '> no such table: dag_run\r\n\r\nThat seems to be the issue @jens, likely this is the task in still trying to use DB as not everything has been ported over yet?', 'created_at': datetime.datetime(2025, 1, 31, 9, 22, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627589959, 'issue_id': 2819496666, 'author': 'ashb', 'body': ""K, finally. One (ðŸ¤žðŸ») unrelated Beam downgrade test failing, but that's happening on other PRs too"", 'created_at': datetime.datetime(2025, 1, 31, 15, 15, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628323711, 'issue_id': 2819496666, 'author': 'jscheffl', 'body': '> > no such table: dag_run\r\n> \r\n> That seems to be the issue @jens, likely this is the task in still trying to use DB as not everything has been ported over yet?\r\n\r\nYeah, am not sure. In Edge the DB Connection gets dropped, maybe this is the side effect if still defined in ENV for celery. In 2.10 all was clean, maybe some refactoring re-introduced this or the cleanup of AIP-44 leftovers. So no blame to this PR :-D just noticed... LGTM! ...ups was already :-D', 'created_at': datetime.datetime(2025, 1, 31, 20, 12, 17, tzinfo=datetime.timezone.utc)}]","amoghrajesh on (2025-01-30 06:26:42 UTC): Some CI failures, static checks complaining about extra ""===="":
```
index d4a2491..001620b 100644
--- a/providers/celery/README.rst
+++ b/providers/celery/README.rst
@@ -51,14 +51,14 @@ The package supports the following python versions: 3.9,3.10,3.11,3.12
 Requirements
 ------------
 
-==================  ==============================
+==================  ==================
 PIP package         Version required
-==================  ==============================
+==================  ==================
 ``apache-airflow``  ``>=2.9.0``
 ``celery[redis]``   ``>=5.4.0,<6``
 ``flower``          ``>=1.0.0``
 ``google-re2``      ``>=1.0``
-==================  ==============================
+==================  ==================
```

ashb (Issue Creator) on (2025-01-30 17:18:33 UTC): RIght I think this is good, the failing tests are fixed in main by Jarek's hard work.

One failure I wasn't happy with, so I've rebased.

ashb (Issue Creator) on (2025-01-30 18:44:04 UTC): :+1: Yup, or we can make them work with 2+3 similar to how I've done for celery. The ecs etc changes right now are very minimal in this or

ashb (Issue Creator) on (2025-01-31 09:22:02 UTC): That seems to be the issue @jens, likely this is the task in still trying to use DB as not everything has been ported over yet?

ashb (Issue Creator) on (2025-01-31 15:15:43 UTC): K, finally. One (ðŸ¤žðŸ») unrelated Beam downgrade test failing, but that's happening on other PRs too

jscheffl on (2025-01-31 20:12:17 UTC): Yeah, am not sure. In Edge the DB Connection gets dropped, maybe this is the side effect if still defined in ENV for celery. In 2.10 all was clean, maybe some refactoring re-introduced this or the cleanup of AIP-44 leftovers. So no blame to this PR :-D just noticed... LGTM! ...ups was already :-D

"
2819473069,pull_request,closed,,Migrate Apache Drill Provider Package to new Structure,"Static tests and provider tests both passing :heavy_check_mark: 

Related: #46045

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",o-nikolas,2025-01-29 22:26:43+00:00,[],2025-01-30 21:56:57+00:00,2025-01-30 21:56:57+00:00,https://github.com/apache/airflow/pull/46264,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:apache-drill', '')]","[{'comment_id': 2623364198, 'issue_id': 2819473069, 'author': 'potiuk', 'body': 'Needs rebase for (finally!) green main', 'created_at': datetime.datetime(2025, 1, 30, 2, 12, 38, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-30 02:12:38 UTC): Needs rebase for (finally!) green main

"
2819453272,pull_request,closed,,Remove log asserts from HDFS tests,"I am not a fan of ... actually I dislike caplog to implement tests expecting logs. On one side it does not tell anything about the tested function, it needs to know internals of logging and... as today it often causes problems if log settigns side effects jjust break the test.

For the HDFS test, the check for caplog does not bring any benefit in my view, therefore removing caplog w/o replacement. This repairs parts of broken main in https://github.com/apache/airflow/actions/runs/13038931877/job/36376761299",jscheffl,2025-01-29 22:15:39+00:00,[],2025-02-07 13:00:44+00:00,2025-01-30 00:46:18+00:00,https://github.com/apache/airflow/pull/46263,"[('area:providers', ''), ('provider:apache-hdfs', '')]","[{'comment_id': 2623272357, 'issue_id': 2819453272, 'author': 'potiuk', 'body': 'VERY VERY VERY MUCH AGREE', 'created_at': datetime.datetime(2025, 1, 30, 0, 46, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623273655, 'issue_id': 2819453272, 'author': 'potiuk', 'body': 'Thanks @jscheffl for the bold approach !', 'created_at': datetime.datetime(2025, 1, 30, 0, 47, 13, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-30 00:46:05 UTC): VERY VERY VERY MUCH AGREE

potiuk on (2025-01-30 00:47:13 UTC): Thanks @jscheffl for the bold approach !

"
2819446895,pull_request,closed,,Get bundle execution working again,"Temporarily switch back to parsing the whole bundle during execution, just until we have a reliable way to determine the relative filename.

We also need to call `initialize()` on the bundle!",jedcunningham,2025-01-29 22:11:12+00:00,[],2025-01-30 05:39:36+00:00,2025-01-30 05:39:31+00:00,https://github.com/apache/airflow/pull/46262,"[('AIP-66: DAG Bundle/Manifest', ''), ('area:task-sdk', None)]","[{'comment_id': 2623562760, 'issue_id': 2819446895, 'author': 'jedcunningham', 'body': 'Closing in favor of #46029 - this is the ""better"" fix.', 'created_at': datetime.datetime(2025, 1, 30, 5, 39, 26, tzinfo=datetime.timezone.utc)}]","jedcunningham (Issue Creator) on (2025-01-30 05:39:26 UTC): Closing in favor of #46029 - this is the ""better"" fix.

"
2819328533,pull_request,closed,,Call `get_current_version` less often in bundle refresh loop,"In the bundle refresh loop, we can call `get_current_version` a lot less often, as 1) we can skip it for bundles that do not support versioning and 2) for those that do, we already know the version from the last time we refreshed!

Since this is a local call, this isn't a huge gain. But every little bit helps.

Trying this again, 3rd times the charm, as #45999 was reverted in #46037, and #46100 was reverted in #46221 ðŸ™ƒ ",jedcunningham,2025-01-29 21:09:21+00:00,[],2025-02-03 22:13:47+00:00,2025-02-03 22:13:44+00:00,https://github.com/apache/airflow/pull/46261,"[('full tests needed', 'We need to run full set of tests for this PR to merge'), ('area:DAG-processing', ''), ('AIP-66: DAG Bundle/Manifest', '')]",[],
2819185990,pull_request,closed,,Fix pre-commit to re-generate on dependency changes,"After I raised #46216 and I realized that @potiuk added #46220 to fix behind... realized that my local pre-commti did not re-generate files.
This is due to providers move and the fact that provider dependencies are now in pyproject.toml and not in the YAML anymore. 

This PR adjusts the pre-commit pattern to ensure files are re-generated if dependencies change.",jscheffl,2025-01-29 20:18:51+00:00,[],2025-01-30 01:19:51+00:00,2025-01-29 20:58:15+00:00,https://github.com/apache/airflow/pull/46259,"[('area:dev-tools', '')]","[{'comment_id': 2623249552, 'issue_id': 2819185990, 'author': 'potiuk', 'body': 'Ah NICE.... I missed that one @jscheffl ðŸ¤¦', 'created_at': datetime.datetime(2025, 1, 30, 0, 25, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623309239, 'issue_id': 2819185990, 'author': 'bugraoz93', 'body': 'Amazing idea! caplog has more cons than its pros. I think it is one of the most unstable test types.', 'created_at': datetime.datetime(2025, 1, 30, 1, 19, 50, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-30 00:25:52 UTC): Ah NICE.... I missed that one @jscheffl ðŸ¤¦

bugraoz93 on (2025-01-30 01:19:50 UTC): Amazing idea! caplog has more cons than its pros. I think it is one of the most unstable test types.

"
2818999838,pull_request,open,,Heartbeat timeout docs,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---

In Airflow 2.10, task logs on the Airflow UI do not use the terminology ""zombie task"" to describe when the heartbeat of a local task job times out. Instead, such events are recorded on the Event Log page as a ""heartbeat timeout"". In order to make troubleshooting such issues more intuitive to Airflow users, the terminology in the documentation should match that in the logs. 

I have added more emphasis to the heartbeat timeout terminology in the documentation so that Airflow users are able to easily find this documentation when they see ""heartbeat timeout"" events and relate the information in the documentation to what they see in the logs.

**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",karenbraganz,2025-01-29 18:58:51+00:00,[],2025-02-05 20:55:05+00:00,,https://github.com/apache/airflow/pull/46257,"[('kind:documentation', '')]",[],
2818954622,pull_request,closed,,Importing correct MySqlContext in test_generic_transfer,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->


Saw this failure in CI:
```
  __________________ TestMySql.test_mysql_to_mysql[mysqlclient] __________________
  
  self = <provider_tests.standard.operators.test_generic_transfer.TestMySql object at 0x7f4af01daa30>
  client = 'mysqlclient'
  
      @pytest.mark.parametrize(
          ""client"",
          [
              ""mysqlclient"",
              ""mysql-connector-python"",
          ],
      )
      def test_mysql_to_mysql(self, client):
  >       from providers.tests.mysql.hooks.test_mysql import MySqlContext
  E       ModuleNotFoundError: No module named 'providers.tests.mysql'
  
  providers/standard/tests/provider_tests/standard/operators/test_generic_transfer.py:68: ModuleNotFoundError
  --------------------------- Captured stdout teardown ---------------------------
  [2025-01-29T15:34:23.806+0000] {base.py:65} INFO - Retrieving connection 'mysql_default'
  ---------------------------- Captured log teardown -----------------------------
  INFO     airflow.hooks.base:base.py:65 Retrieving connection 'mysql_default'
  ____________ TestMySql.test_mysql_to_mysql[mysql-connector-python] _____________
  
  self = <provider_tests.standard.operators.test_generic_transfer.TestMySql object at 0x7f4af01daaf0>
  client = 'mysql-connector-python'
  
      @pytest.mark.parametrize(
          ""client"",
          [
              ""mysqlclient"",
              ""mysql-connector-python"",
          ],
      )
      def test_mysql_to_mysql(self, client):
  >       from providers.tests.mysql.hooks.test_mysql import MySqlContext
  E       ModuleNotFoundError: No module named 'providers.tests.mysql'
  
  providers/standard/tests/provider_tests/standard/operators/test_generic_transfer.py:68: ModuleNotFoundError
```




<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",amoghrajesh,2025-01-29 18:37:49+00:00,[],2025-01-30 06:28:53+00:00,2025-01-30 06:28:53+00:00,https://github.com/apache/airflow/pull/46256,"[('provider:standard', '')]","[{'comment_id': 2623623414, 'issue_id': 2818954622, 'author': 'amoghrajesh', 'body': 'Closing in favour of https://github.com/apache/airflow/pull/46274', 'created_at': datetime.datetime(2025, 1, 30, 6, 28, 53, tzinfo=datetime.timezone.utc)}]","amoghrajesh (Issue Creator) on (2025-01-30 06:28:53 UTC): Closing in favour of https://github.com/apache/airflow/pull/46274

"
2818882773,pull_request,closed,,Adding from_path.exists() check in a couple of conditions,"Seems like `dev/moving_providers/move_providers.py` ran into an edge case (stack trace below) when trying to move files from `docs/integration-logos` as this dir gets deleted in a previous step once it's empty. 

This fix is intended to handle that by checking if the source path i.e. `from_path` exists before trying to operate on it. Fixed the issue below when trying to move the `microsoft.azure` provider files. 

Error stack trace:
```
Moving /Users/a81045729/Documents/constant_variables/airflow/docs/integration-logos/azure/Data Lake Storage.svg -> 
/Users/a81045729/Documents/constant_variables/airflow/providers/microsoft/azure/docs/integration-logos/Data Lake Storage.svg


Removing also empty parent dir /Users/a81045729/Documents/constant_variables/airflow/docs/integration-logos/azure

Traceback (most recent call last):
  File ""/opt/homebrew/Cellar/python@3.13/3.13.1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/shutil.py"", line 856, in move
    os.rename(src, real_dst)
    ~~~~~~~~~^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: '/Users/a81045729/Documents/constant_variables/airflow/docs/integration-logos/azure/Data Lake Storage.svg' -> '/Users/a81045729/Documents/constant_variables/airflow/providers/microsoft/azure/docs/integration-logos/Data Lake Storage.svg'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File ""/Users/a81045729/Documents/constant_variables/airflow/dev/moving_providers/move_providers.py"", line 736, in <module>
    move_providers()
    ~~~~~~~~~~~~~~^^
  File ""/Users/a81045729/.cache/uv/archive-v0/-bNfI_UDWExwOMLuP_MGL/lib/python3.13/site-packages/click/core.py"", line 1161, in __call__
    return self.main(*args, **kwargs)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^
  File ""/Users/a81045729/.cache/uv/archive-v0/-bNfI_UDWExwOMLuP_MGL/lib/python3.13/site-packages/rich_click/rich_command.py"", line 152, in main
    rv = self.invoke(ctx)
  File ""/Users/a81045729/.cache/uv/archive-v0/-bNfI_UDWExwOMLuP_MGL/lib/python3.13/site-packages/click/core.py"", line 1443, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/Users/a81045729/.cache/uv/archive-v0/-bNfI_UDWExwOMLuP_MGL/lib/python3.13/site-packages/click/core.py"", line 788, in invoke
    return __callback(*args, **kwargs)
  File ""/Users/a81045729/Documents/constant_variables/airflow/dev/moving_providers/move_providers.py"", line 212, in move_providers
    move_provider(provider_id)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^
  File ""/Users/a81045729/Documents/constant_variables/airflow/dev/moving_providers/move_providers.py"", line 726, in move_provider
    dependencies, devel_dependencies, optional_dependencies = move_provider_yaml(provider_id)
                                                              ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File ""/Users/a81045729/Documents/constant_variables/airflow/dev/moving_providers/move_providers.py"", line 368, in move_provider_yaml
    _do_stuff(
    ~~~~~~~~~^
        syntax=""none"",
        ^^^^^^^^^^^^^^
    ...<3 lines>...
        remove_empty_parent_dir=True,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File ""/Users/a81045729/Documents/constant_variables/airflow/dev/moving_providers/move_providers.py"", line 130, in _do_stuff
    shutil.move(from_path, to_path)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File ""/opt/homebrew/Cellar/python@3.13/3.13.1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/shutil.py"", line 876, in move
    copy_function(src, real_dst)
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File ""/opt/homebrew/Cellar/python@3.13/3.13.1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/shutil.py"", line 468, in copy2
    copyfile(src, dst, follow_symlinks=follow_symlinks)
    ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/opt/homebrew/Cellar/python@3.13/3.13.1/Frameworks/Python.framework/Versions/3.13/lib/python3.13/shutil.py"", line 260, in copyfile
    with open(src, 'rb') as fsrc:
         ~~~~^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: '/Users/a81045729/Documents/constant_variables/airflow/docs/integration-logos/azure/Data Lake Storage.svg' 
```

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",kunaljubce,2025-01-29 17:59:59+00:00,[],2025-01-30 00:06:16+00:00,2025-01-30 00:06:16+00:00,https://github.com/apache/airflow/pull/46255,"[('area:dev-tools', '')]",[],
2818880571,pull_request,closed,,Provider moving/microsoft azure,"Relates to #46045, moving `microsoft.azure` provider to new folder structure.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",kunaljubce,2025-01-29 17:58:48+00:00,[],2025-02-08 21:11:26+00:00,2025-02-08 21:11:26+00:00,https://github.com/apache/airflow/pull/46254,"[('provider:microsoft-azure', 'Azure-related issues'), ('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', '')]","[{'comment_id': 2637857773, 'issue_id': 2818880571, 'author': 'potiuk', 'body': ""~This provider is already moved~\r\n\r\nAh no ... sorry - it's not"", 'created_at': datetime.datetime(2025, 2, 5, 19, 35, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637862053, 'issue_id': 2818880571, 'author': 'potiuk', 'body': 'tests need to be fixed/', 'created_at': datetime.datetime(2025, 2, 5, 19, 37, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639101190, 'issue_id': 2818880571, 'author': 'kunaljubce', 'body': '> tests need to be fixed/\r\n\r\nYeah, working on the tests right now. Should be done in the next couple of days!', 'created_at': datetime.datetime(2025, 2, 6, 8, 5, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643234156, 'issue_id': 2818880571, 'author': 'potiuk', 'body': '> > tests need to be fixed/\r\n> \r\n> Yeah, working on the tests right now. Should be done in the next couple of days!\r\n\r\nCool. If you need any help - let me know :)', 'created_at': datetime.datetime(2025, 2, 7, 15, 22, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2645817844, 'issue_id': 2818880571, 'author': 'kunaljubce', 'body': 'Compat tests finally passed ðŸ¤¯', 'created_at': datetime.datetime(2025, 2, 8, 16, 20, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2645867365, 'issue_id': 2818880571, 'author': 'potiuk', 'body': '> Compat tests finally passed ðŸ¤¯\r\n\r\nWoooooooo!', 'created_at': datetime.datetime(2025, 2, 8, 17, 37, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2645868635, 'issue_id': 2818880571, 'author': 'potiuk', 'body': ""I am looking at the strange:\r\n\r\n```\r\n  ERROR: usage: pytest [options] [file_or_dir] [file_or_dir] [...]\r\n  pytest: error: unrecognized arguments: --warning-output-path=/files/warnings-providers_microsoft_azure-postgres.txt --with-db-init\r\n```\r\n\r\nI think the problem is with some `conftest.py` missing. Those flags are coming from airflow's `tests_common` and `tests_common` should be included by the `pytest_plugin` in `conftes.py` -> so something is wrong in the `microsoft.azure' conftest.py I **think**"", 'created_at': datetime.datetime(2025, 2, 8, 17, 41, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2645869304, 'issue_id': 2818880571, 'author': 'potiuk', 'body': 'Ah yeah.`pytst_plugin` is missing. Let me push a fixup real quick :)', 'created_at': datetime.datetime(2025, 2, 8, 17, 43, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2645869328, 'issue_id': 2818880571, 'author': 'kunaljubce', 'body': 'Yeah I am also checking that one Jarek', 'created_at': datetime.datetime(2025, 2, 8, 17, 43, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2645883743, 'issue_id': 2818880571, 'author': 'kunaljubce', 'body': '> Ah yeah.`pytst_plugin` is missing. Let me push a fixup real quick :)\r\n\r\nThanks!', 'created_at': datetime.datetime(2025, 2, 8, 18, 2, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2645890410, 'issue_id': 2818880571, 'author': 'potiuk', 'body': ""Let's see ðŸ¤ž :)"", 'created_at': datetime.datetime(2025, 2, 8, 18, 20, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2645899516, 'issue_id': 2818880571, 'author': 'potiuk', 'body': 'Ah.. I forgot we need to set `pytest_plugins` before importing `airflow` :)', 'created_at': datetime.datetime(2025, 2, 8, 18, 45, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2645927535, 'issue_id': 2818880571, 'author': 'potiuk', 'body': 'Seems even more things - with imports...', 'created_at': datetime.datetime(2025, 2, 8, 20, 18, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2645942813, 'issue_id': 2818880571, 'author': 'potiuk', 'body': 'Green! Merging :)', 'created_at': datetime.datetime(2025, 2, 8, 21, 11, 22, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-02-05 19:35:14 UTC): ~This provider is already moved~

Ah no ... sorry - it's not

potiuk on (2025-02-05 19:37:31 UTC): tests need to be fixed/

kunaljubce (Issue Creator) on (2025-02-06 08:05:17 UTC): Yeah, working on the tests right now. Should be done in the next couple of days!

potiuk on (2025-02-07 15:22:08 UTC): Cool. If you need any help - let me know :)

kunaljubce (Issue Creator) on (2025-02-08 16:20:43 UTC): Compat tests finally passed ðŸ¤¯

potiuk on (2025-02-08 17:37:55 UTC): Woooooooo!

potiuk on (2025-02-08 17:41:26 UTC): I am looking at the strange:

```
  ERROR: usage: pytest [options] [file_or_dir] [file_or_dir] [...]
  pytest: error: unrecognized arguments: --warning-output-path=/files/warnings-providers_microsoft_azure-postgres.txt --with-db-init
```

I think the problem is with some `conftest.py` missing. Those flags are coming from airflow's `tests_common` and `tests_common` should be included by the `pytest_plugin` in `conftes.py` -> so something is wrong in the `microsoft.azure' conftest.py I **think**

potiuk on (2025-02-08 17:43:20 UTC): Ah yeah.`pytst_plugin` is missing. Let me push a fixup real quick :)

kunaljubce (Issue Creator) on (2025-02-08 17:43:23 UTC): Yeah I am also checking that one Jarek

kunaljubce (Issue Creator) on (2025-02-08 18:02:59 UTC): Thanks!

potiuk on (2025-02-08 18:20:40 UTC): Let's see ðŸ¤ž :)

potiuk on (2025-02-08 18:45:08 UTC): Ah.. I forgot we need to set `pytest_plugins` before importing `airflow` :)

potiuk on (2025-02-08 20:18:50 UTC): Seems even more things - with imports...

potiuk on (2025-02-08 21:11:22 UTC): Green! Merging :)

"
2818857693,pull_request,closed,,Handle some git exceptions when initializing GitDagBundle,"Permission error raises GitCommandError, and if the cloned path is manually removed, it will result in a path not found error when cloning from the bare repo path

",ephraimbuddy,2025-01-29 17:46:34+00:00,[],2025-02-03 12:25:23+00:00,2025-02-03 12:25:21+00:00,https://github.com/apache/airflow/pull/46253,"[('area:DAG-processing', '')]",[],
2818856126,pull_request,closed,,Update test fixture docstring,This docstring is more accurate to the current behavior.,jedcunningham,2025-01-29 17:45:43+00:00,[],2025-01-29 19:22:57+00:00,2025-01-29 19:22:55+00:00,https://github.com/apache/airflow/pull/46252,"[('AIP-66: DAG Bundle/Manifest', '')]",[],
2818821247,pull_request,closed,,update some icons and add dag import error to dagslist,"Based on a [slack conversation](https://apache-airflow.slack.com/archives/C0809U4S1Q9/p1738167430328999?thread_ts=1738165298.917869&cid=C0809U4S1Q9)

Change upstream_failed and none state icons:
<img width=""214"" alt=""Screenshot 2025-01-29 at 12 26 14â€¯PM"" src=""https://github.com/user-attachments/assets/2fd31566-07d2-4401-8a10-844cde99093b"" />

Change reparse dag icon:
<img width=""700"" alt=""Screenshot 2025-01-29 at 12 24 31â€¯PM"" src=""https://github.com/user-attachments/assets/e574531d-e3ca-45d9-a7bc-846f3dbfa169"" />

Add icon to Dag Import Error and add a simple button for it in the dags list:
<img width=""267"" alt=""Screenshot 2025-01-29 at 12 23 35â€¯PM"" src=""https://github.com/user-attachments/assets/285ea5ba-85ea-4ce4-bdb8-60c764bcce5a"" />
<img width=""584"" alt=""Screenshot 2025-01-29 at 12 24 12â€¯PM"" src=""https://github.com/user-attachments/assets/7557555d-2448-4f75-b702-44a1c34d4554"" />


---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",bbovenzi,2025-01-29 17:27:59+00:00,[],2025-01-29 21:11:11+00:00,2025-01-29 21:11:06+00:00,https://github.com/apache/airflow/pull/46251,"[('area:UI', 'Related to UI/UX. For Frontend Developers.')]",[],
2818776591,pull_request,closed,,Disable Flask-SQLAlchemy modification tracking in FAB provider,"We disable modification tracking since we don't use it and it's expensive, but this was accidentally not carried over into the FAB provider when the app was moved there. This just brings it back and silences a warning about it:

  FSADeprecationWarning: SQLALCHEMY_TRACK_MODIFICATIONS adds significant
  overhead and will be disabled by default in the future.  Set it to
  True or False to suppress this warning.",jedcunningham,2025-01-29 17:07:48+00:00,[],2025-01-29 17:46:30+00:00,2025-01-29 17:46:28+00:00,https://github.com/apache/airflow/pull/46249,"[('area:providers', ''), ('provider:fab', ''), ('AIP-79', '')]",[],
2818666759,pull_request,closed,,AIP-83 amendment -- update backfill,"Closes: [#46202](https://github.com/apache/airflow/issues/46202)
Depends on: [#46187](https://github.com/apache/airflow/issues/46187)

Once uniqueness on logical date is restored, the change in backfill logic handles the removal of locking of dagrun that was added to avoid the creation of multiple concurrent dag runs for a given logical date.",prabhusneha,2025-01-29 16:18:50+00:00,[],2025-02-07 10:35:21+00:00,2025-02-07 07:06:52+00:00,https://github.com/apache/airflow/pull/46248,"[('AIP-83', 'Remove Execution Date Unique Constraint from DAG Run')]",[],
2818625810,pull_request,closed,,Fix AWS auth manager compatibility test,"Test should be skipped if not Airflow 3 before the imports. That makes the compatibility tests failing.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vincbeck,2025-01-29 16:01:39+00:00,[],2025-01-29 17:58:01+00:00,2025-01-29 17:57:59+00:00,https://github.com/apache/airflow/pull/46246,"[('provider:amazon', 'AWS/Amazon - related issues'), ('area:providers', '')]",[],
2818569762,pull_request,closed,,Fix `api_connexion` test failures in main,"This PR should resolve test failures we see in main in `api_connexion`.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vincbeck,2025-01-29 15:39:15+00:00,[],2025-01-29 16:17:56+00:00,2025-01-29 16:17:54+00:00,https://github.com/apache/airflow/pull/46245,"[('area:API', ""Airflow's REST/HTTP API""), ('legacy api', 'Whether legacy API changes should be allowed in PR')]",[],
2818566065,pull_request,closed,,tests: Add OpenLineage to system tests in Google provider,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->
This PR adds checking OpenLineage events produced by selected Google Provider operators when running system checks. This is an addition to unit tests already checking OpenLineage for specific operators.

Thanks to VariableTransport introduced in #43643, we can easily check if OpenLineage events produced by any operator match the expected values. The logic is simple, for each system tests: adding the OpenLineageTestOperator to the DAG and providing it with json file with what we expect to be in the events. Whenever a system test is run, we will verify OpenLineage events emitted.


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",kacpermuda,2025-01-29 15:37:45+00:00,[],2025-02-03 07:07:47+00:00,2025-02-01 11:15:44+00:00,https://github.com/apache/airflow/pull/46244,"[('provider:google', 'Google (including GCP) related issues'), ('area:providers', '')]","[{'comment_id': 2627369952, 'issue_id': 2818566065, 'author': 'potiuk', 'body': 'cc: @VladaZakharova - is that ok with you ?', 'created_at': datetime.datetime(2025, 1, 31, 13, 39, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628910020, 'issue_id': 2818566065, 'author': 'potiuk', 'body': 'I merge it so that we can make provider move - but we can always remove / update if needed.', 'created_at': datetime.datetime(2025, 2, 1, 11, 16, 12, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-31 13:39:09 UTC): cc: @VladaZakharova - is that ok with you ?

potiuk on (2025-02-01 11:16:12 UTC): I merge it so that we can make provider move - but we can always remove / update if needed.

"
2818536473,pull_request,closed,,"[v2-10-test] Add Webserver parameters: max_form_parts, max_form_memory_size (#45749)","(cherry picked from commit bb2aaef342ddee8a8c8ad7120ac8484e6c7f10d4)

Co-authored-by: max <42827971+moiseenkov@users.noreply.github.com>",github-actions[bot],2025-01-29 15:26:30+00:00,[],2025-01-30 09:53:51+00:00,2025-01-30 09:52:18+00:00,https://github.com/apache/airflow/pull/46243,"[('area:webserver', 'Webserver related Issues'), ('type:bug-fix', 'Changelog: Bug Fixes')]",[],
2818504048,pull_request,closed,,Limit `google-cloud-aiplatform` to fix issues in CI,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->


From the last failure https://github.com/apache/airflow/actions/runs/13032455156/job/36355532907, looks like sklearn is not a dependency on google provider. Using the latest stable version: https://scikit-learn.org/stable/auto_examples/release_highlights/plot_release_highlights_1_6_0.html


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",amoghrajesh,2025-01-29 15:13:40+00:00,[],2025-01-29 21:22:44+00:00,2025-01-29 21:22:44+00:00,https://github.com/apache/airflow/pull/46242,"[('provider:google', 'Google (including GCP) related issues'), ('area:providers', '')]","[{'comment_id': 2622237913, 'issue_id': 2818504048, 'author': 'potiuk', 'body': 'Can you also create an issue for that so we do not forget to take care of that later ?', 'created_at': datetime.datetime(2025, 1, 29, 17, 10, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622718109, 'issue_id': 2818504048, 'author': 'jscheffl', 'body': 'Seems next canary is also failing as the PR is open: https://github.com/apache/airflow/actions/runs/13038931877/job/36376833483', 'created_at': datetime.datetime(2025, 1, 29, 20, 0, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622722432, 'issue_id': 2818504048, 'author': 'amoghrajesh', 'body': 'I think we can merge if failures are unrelated to unblock', 'created_at': datetime.datetime(2025, 1, 29, 20, 3, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622881391, 'issue_id': 2818504048, 'author': 'jscheffl', 'body': 'Merging. All errors in CI checks are residual leftovers of other problems, this PR still improves the broken main state.', 'created_at': datetime.datetime(2025, 1, 29, 21, 22, 29, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-29 17:10:16 UTC): Can you also create an issue for that so we do not forget to take care of that later ?

jscheffl on (2025-01-29 20:00:48 UTC): Seems next canary is also failing as the PR is open: https://github.com/apache/airflow/actions/runs/13038931877/job/36376833483

amoghrajesh (Issue Creator) on (2025-01-29 20:03:03 UTC): I think we can merge if failures are unrelated to unblock

jscheffl on (2025-01-29 21:22:29 UTC): Merging. All errors in CI checks are residual leftovers of other problems, this PR still improves the broken main state.

"
2818411289,pull_request,closed,,Add StrictHostKeyChecking option to GitDagBundle,"This adds an option to enable or disable StrictHostKeyChecking in GitDagBundle. Host key is not checked by default. You have to enable host key checking in the connection extra.

",ephraimbuddy,2025-01-29 14:39:20+00:00,[],2025-01-30 12:34:54+00:00,2025-01-30 12:34:52+00:00,https://github.com/apache/airflow/pull/46241,"[('area:DAG-processing', ''), ('AIP-66: DAG Bundle/Manifest', '')]",[],
2818333076,pull_request,closed,,Add new Dataplex Catalog Aspect Type operators,"This PR adds new operators for Dataplex Catalog to perform Create, Update, List, Delete and Get operations on Aspect Type resource.
<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",VladaZakharova,2025-01-29 14:10:07+00:00,[],2025-02-01 12:12:50+00:00,2025-02-01 12:12:50+00:00,https://github.com/apache/airflow/pull/46240,"[('provider:google', 'Google (including GCP) related issues'), ('area:providers', ''), ('kind:documentation', '')]","[{'comment_id': 2623935147, 'issue_id': 2818333076, 'author': 'VladaZakharova', 'body': 'hi @potiuk !\r\nCan you please check this PR?', 'created_at': datetime.datetime(2025, 1, 30, 9, 17, 52, tzinfo=datetime.timezone.utc)}]","VladaZakharova (Issue Creator) on (2025-01-30 09:17:52 UTC): hi @potiuk !
Can you please check this PR?

"
2818265521,pull_request,closed,,AIP-38 Invalidate DryRun query cache on submit,"When we submit a `clear` or a `marks as` action, we should invalidate the associated DryRun query. Otherwise the modal displaying the affected task instance table will keep showing old responses after a successful submit.

To reproduce the issue, you can clear a task instance and then ",pierrejeambrun,2025-01-29 13:44:33+00:00,['pierrejeambrun'],2025-01-29 20:30:43+00:00,2025-01-29 20:30:42+00:00,https://github.com/apache/airflow/pull/46238,"[('area:UI', 'Related to UI/UX. For Frontend Developers.'), ('AIP-38', 'Modern Web Application')]","[{'comment_id': 2621987487, 'issue_id': 2818265521, 'author': 'bbovenzi', 'body': 'lgtm but looks like some db tests are unhappy', 'created_at': datetime.datetime(2025, 1, 29, 15, 35, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622079112, 'issue_id': 2818265521, 'author': 'pierrejeambrun', 'body': ""> lgtm but looks like some db tests are unhappy\r\n\r\nYes main is broken for some other reason. I'll wait for https://github.com/apache/airflow/pull/46245 that should fix them."", 'created_at': datetime.datetime(2025, 1, 29, 16, 11, tzinfo=datetime.timezone.utc)}]","bbovenzi on (2025-01-29 15:35:11 UTC): lgtm but looks like some db tests are unhappy

pierrejeambrun (Issue Creator) on (2025-01-29 16:11:00 UTC): Yes main is broken for some other reason. I'll wait for https://github.com/apache/airflow/pull/46245 that should fix them.

"
2818234480,pull_request,open,,feature: Add environment variable controlling the log grooming frequency,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->

We've recently run into an issue where log grooming sidecar containers in our Airflow Kubernetes pods are incurring an absurd amount of transaction costs. That is because the log grooming process runs on a fixed, and for some use cases way too frequent schedule. We've hacked around it for now by overwriting the cleanup shell script in our custom Docker image, but I figured I would add a feature upstream that makes this configurable.

Let me know if there's anything I missed!

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",stefankeidel,2025-01-29 13:31:31+00:00,[],2025-02-06 14:06:22+00:00,,https://github.com/apache/airflow/pull/46237,"[('area:dev-tools', ''), ('area:helm-chart', 'Airflow Helm Chart')]","[{'comment_id': 2621663171, 'issue_id': 2818234480, 'author': 'boring-cyborg[bot]', 'body': ""Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)\nHere are some useful points:\n- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.\n- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.\n- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.\n- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.\n- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.\n- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).\n- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.\nApache Airflow is a community-driven project and together we are making it better ðŸš€.\nIn case of doubts contact the developers at:\nMailing List: dev@airflow.apache.org\nSlack: https://s.apache.org/airflow-slack"", 'created_at': datetime.datetime(2025, 1, 29, 13, 31, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621686030, 'issue_id': 2818234480, 'author': 'stefankeidel', 'body': ""I am not entirely sure how the automation works that gets this change into [the Dockerfile](https://github.com/apache/airflow/blob/main/Dockerfile#L1266) but I hope it's some CI/CD action. If there's anything else I need to run, let me know please :)"", 'created_at': datetime.datetime(2025, 1, 29, 13, 42, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622472690, 'issue_id': 2818234480, 'author': 'nevcohen', 'body': 'Hi, looks good!\n\nI would love to understand why it makes a difference if it runs every 15 minutes or every hour (for example)? \n\nHow does this affect the worker performance?', 'created_at': datetime.datetime(2025, 1, 29, 18, 6, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623567271, 'issue_id': 2818234480, 'author': 'stefankeidel', 'body': ""> Hi, looks good!\r\n> \r\n> I would love to understand why it makes a difference if it runs every 15 minutes or every hour (for example)?\r\n> \r\n> How does this affect the worker performance?\r\n\r\nThanks for taking a look!\r\n\r\nI personally wouldn't think it'd affect worker performance at all, since all they do is write to that file system. If anything it could see it improving because the volumes are not busy listing files all the time. But then again, I'm not super familiar with all the different types of setups Airflow can be run in.\r\n\r\nIn our case, extensive pruning on that shared volume was a) a major performance hog - we're dealing with Azure Blob Storage as backend, which is fairly slow to do a recursive `find` looking for last modified times and b) a major cost factor (`ListBlob` transactions get pricey). And our Airflow setup is not that large, maybe ~100 DAGs or so. \r\n\r\nI broke one of the helm chart unit tests in the process here it seems. Will be attempting to deal with that this morning, but I need a working local setup first :)"", 'created_at': datetime.datetime(2025, 1, 30, 5, 43, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623665005, 'issue_id': 2818234480, 'author': 'nevcohen', 'body': ""> > Hi, looks good!\n> > \n> > I would love to understand why it makes a difference if it runs every 15 minutes or every hour (for example)?\n> > \n> > How does this affect the worker performance?\n> \n> Thanks for taking a look!\n> \n> I personally wouldn't think it'd affect worker performance at all, since all they do is write to that file system. If anything it could see it improving because the volumes are not busy listing files all the time. But then again, I'm not super familiar with all the different types of setups Airflow can be run in.\n> \n> In our case, extensive pruning on that shared volume was a) a major performance hog - we're dealing with Azure Blob Storage as backend, which is fairly slow to do a recursive `find` looking for last modified times and b) a major cost factor (`ListBlob` transactions get pricey). And our Airflow setup is not that large, maybe ~100 DAGs or so. \n> \n> I broke one of the helm chart unit tests in the process here it seems. Will be attempting to deal with that this morning, but I need a working local setup first :)\n\nGot it, thanks!  I would love to do CR for you :)"", 'created_at': datetime.datetime(2025, 1, 30, 6, 59, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631491166, 'issue_id': 2818234480, 'author': 'stefankeidel', 'body': ""> Just fix your tests\r\n\r\nThe lint test that was failing in my changes was fixed. I don't think the other one is related but maybe that has been fixed with a rebase ... let's see."", 'created_at': datetime.datetime(2025, 2, 3, 16, 30, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631619782, 'issue_id': 2818234480, 'author': 'stefankeidel', 'body': ""> > Just fix your tests\r\n> \r\n> The lint test that was failing in my changes was fixed. I don't think the other one is related but maybe that has been fixed with a rebase ... let's see.\r\n\r\nLatest obscure build failure may have been related to [this fix](https://github.com/apache/airflow/commit/8d8afdf20aa2d32ea30adddc503216931e29459e). It seems a docker image was build but couldn't be pushed."", 'created_at': datetime.datetime(2025, 2, 3, 17, 24, 16, tzinfo=datetime.timezone.utc)}]","boring-cyborg[bot] on (2025-01-29 13:31:35 UTC): Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)
Here are some useful points:
- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.
- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.
- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.
- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.
- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.
- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).
- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.
Apache Airflow is a community-driven project and together we are making it better ðŸš€.
In case of doubts contact the developers at:
Mailing List: dev@airflow.apache.org
Slack: https://s.apache.org/airflow-slack

stefankeidel (Issue Creator) on (2025-01-29 13:42:09 UTC): I am not entirely sure how the automation works that gets this change into [the Dockerfile](https://github.com/apache/airflow/blob/main/Dockerfile#L1266) but I hope it's some CI/CD action. If there's anything else I need to run, let me know please :)

nevcohen on (2025-01-29 18:06:31 UTC): Hi, looks good!

I would love to understand why it makes a difference if it runs every 15 minutes or every hour (for example)? 

How does this affect the worker performance?

stefankeidel (Issue Creator) on (2025-01-30 05:43:07 UTC): Thanks for taking a look!

I personally wouldn't think it'd affect worker performance at all, since all they do is write to that file system. If anything it could see it improving because the volumes are not busy listing files all the time. But then again, I'm not super familiar with all the different types of setups Airflow can be run in.

In our case, extensive pruning on that shared volume was a) a major performance hog - we're dealing with Azure Blob Storage as backend, which is fairly slow to do a recursive `find` looking for last modified times and b) a major cost factor (`ListBlob` transactions get pricey). And our Airflow setup is not that large, maybe ~100 DAGs or so. 

I broke one of the helm chart unit tests in the process here it seems. Will be attempting to deal with that this morning, but I need a working local setup first :)

nevcohen on (2025-01-30 06:59:20 UTC): Got it, thanks!  I would love to do CR for you :)

stefankeidel (Issue Creator) on (2025-02-03 16:30:17 UTC): The lint test that was failing in my changes was fixed. I don't think the other one is related but maybe that has been fixed with a rebase ... let's see.

stefankeidel (Issue Creator) on (2025-02-03 17:24:16 UTC): Latest obscure build failure may have been related to [this fix](https://github.com/apache/airflow/commit/8d8afdf20aa2d32ea30adddc503216931e29459e). It seems a docker image was build but couldn't be pushed.

"
2818139265,pull_request,closed,,Prevent `RedirectStdHandler` from being added to root logger by default,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->


The test expects no handlers on the root logger before `configure_trigger_log_handler()` runs. But the default logging (DEFAULT_LOGGING_CONFIG) seems to automatically attach it to root logger when `configure_logging` is called. 

This PR adds the root logging config specifically to the `fallback_task` hence not altering anything else. 


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",amoghrajesh,2025-01-29 12:55:13+00:00,[],2025-01-29 18:40:31+00:00,2025-01-29 18:40:31+00:00,https://github.com/apache/airflow/pull/46236,"[('area:Triggerer', '')]","[{'comment_id': 2621782824, 'issue_id': 2818139265, 'author': 'ashb', 'body': 'Do we know when this started breaking?', 'created_at': datetime.datetime(2025, 1, 29, 14, 18, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621902803, 'issue_id': 2818139265, 'author': 'amoghrajesh', 'body': 'Not very sure how to filter the PR checks to find that but I recall from today itself, atleast on my PR.\r\nIAC, the change is harmless and is setting root logger specifically.', 'created_at': datetime.datetime(2025, 1, 29, 15, 2, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622539167, 'issue_id': 2818139265, 'author': 'amoghrajesh', 'body': 'Merging this to unblock CI!', 'created_at': datetime.datetime(2025, 1, 29, 18, 40, 27, tzinfo=datetime.timezone.utc)}]","ashb on (2025-01-29 14:18:14 UTC): Do we know when this started breaking?

amoghrajesh (Issue Creator) on (2025-01-29 15:02:13 UTC): Not very sure how to filter the PR checks to find that but I recall from today itself, atleast on my PR.
IAC, the change is harmless and is setting root logger specifically.

amoghrajesh (Issue Creator) on (2025-01-29 18:40:27 UTC): Merging this to unblock CI!

"
2817970890,pull_request,closed,,Remove deprecated functionality from google provider,"Removed deprecated functionality from Google provider that reached end of life on January 31, 2025:

  * Operators

    * Removed ``AutoMLBatchPredictOperator``. Please use the operators from ``airflow.providers.google.cloud.operators.vertex_ai.batch_prediction_job`` instead
    * Removed ``DataflowStartSqlJobOperator``. Please ``DataflowStartYamlJobOperator`` instead
    * Removed ``PromptLanguageModelOperator``. Please ``TextGenerationModelPredictOperator`` instead
    * Removed ``GenerateTextEmbeddingsOperator``. Please ``TextEmbeddingModelGetEmbeddingsOperator`` instead
    * Removed ``PromptMultimodalModelOperator``. Please ``GenerativeModelGenerateContentOperator`` instead
    * Removed ``PromptMultimodalModelWithMediaOperator``. Please ``GenerativeModelGenerateContentOperator`` instead

  * Hooks

    * Removed ``GenerativeModelHook.prompt_multimodal_model_with_media()``. Please use ``GenerativeModelHook.generative_model_generate_content()`` instead
    * Removed ``GenerativeModelHook.prompt_multimodal_model()``. Please use ``GenerativeModelHook.generative_model_generate_content()`` instead
    * Removed ``GenerativeModelHook.get_generative_model_part()``. Please use ``GenerativeModelHook.generative_model_generate_content()`` instead
    * Removed ``GenerativeModelHook.prompt_language_model()``. Please use ``GenerativeModelHook.text_generation_model_predict()`` instead
    * Removed ``GenerativeModelHook.generate_text_embeddings()``. Please use ``GenerativeModelHook.text_generation_model_predict()`` instead",moiseenkov,2025-01-29 11:41:15+00:00,[],2025-01-31 06:01:00+00:00,2025-01-31 06:01:00+00:00,https://github.com/apache/airflow/pull/46235,"[('provider:google', 'Google (including GCP) related issues'), ('area:providers', ''), ('kind:documentation', ''), ('area:production-image', 'Production image improvements and fixes')]",[],
2817724219,pull_request,closed,,Add DELETE operation in SFTPOperator,"This PR adds DELETE operation in SFTPOperator, related to the issue(https://github.com/apache/airflow/issues/40365) I have raised before.

Currently, SFTPOperator only supports PUT and GET operations. With this update, you can now delete files or directories on a remote SFTP server by putting paths in the `remote_filepath` parameter.

NOTE: The `local_filepath` parameter does nothing in DELETE operation even if it's provided

closes: https://github.com/apache/airflow/issues/40365
",Dawnpool,2025-01-29 09:54:52+00:00,[],2025-02-06 06:57:00+00:00,2025-02-06 06:56:59+00:00,https://github.com/apache/airflow/pull/46233,"[('provider:sftp', '')]","[{'comment_id': 2623844387, 'issue_id': 2817724219, 'author': 'eladkal', 'body': ""> NOTE: The local_filepath parameter does nothing in DELETE operation even if it's provided\r\n\r\nThen you need to identify this case in the code and raise exception. It's best to tell users what is not right rather then ask them to read documentation.\r\n\r\nexample:\r\nhttps://github.com/apache/airflow/blob/5ff07fa84c5795e630a22b8bb3d5437795ae06b9/airflow/sensors/base.py#L159-L160\r\n\r\n(Don't forget to add test case to cover this case)\r\n\r\nAlternatively, if preferred, you can just log that `local_filepath` was ignored (with some informative message)."", 'created_at': datetime.datetime(2025, 1, 30, 8, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629789303, 'issue_id': 2817724219, 'author': 'Dawnpool', 'body': 'Thanks for your review @eladkal \r\nJust added an exception raise and test code for it.  Please let me know if you have any more concerns.', 'created_at': datetime.datetime(2025, 2, 3, 3, 1, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632779189, 'issue_id': 2817724219, 'author': 'Dawnpool', 'body': ""Thanks for your review @morooshka \r\nI've made changes based on your feedback in this [commit](https://github.com/apache/airflow/pull/46233/commits/7625bf2975347642b43e77f6fedfb6147b1430f9).\r\nFeel free to let me know if you have any more feedback :)"", 'created_at': datetime.datetime(2025, 2, 4, 4, 16, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638985952, 'issue_id': 2817724219, 'author': 'potiuk', 'body': 'Looks cool. Thanks @morooshka for all the valuable comments !', 'created_at': datetime.datetime(2025, 2, 6, 6, 56, 33, tzinfo=datetime.timezone.utc)}]","eladkal on (2025-01-30 08:34:00 UTC): Then you need to identify this case in the code and raise exception. It's best to tell users what is not right rather then ask them to read documentation.

example:
https://github.com/apache/airflow/blob/5ff07fa84c5795e630a22b8bb3d5437795ae06b9/airflow/sensors/base.py#L159-L160

(Don't forget to add test case to cover this case)

Alternatively, if preferred, you can just log that `local_filepath` was ignored (with some informative message).

Dawnpool (Issue Creator) on (2025-02-03 03:01:42 UTC): Thanks for your review @eladkal 
Just added an exception raise and test code for it.  Please let me know if you have any more concerns.

Dawnpool (Issue Creator) on (2025-02-04 04:16:22 UTC): Thanks for your review @morooshka 
I've made changes based on your feedback in this [commit](https://github.com/apache/airflow/pull/46233/commits/7625bf2975347642b43e77f6fedfb6147b1430f9).
Feel free to let me know if you have any more feedback :)

potiuk on (2025-02-06 06:56:33 UTC): Looks cool. Thanks @morooshka for all the valuable comments !

"
2817638999,pull_request,closed,,AIP-83 Restore uniqueness constraint on logical date and make logical date nullable,"Closes: https://github.com/apache/airflow/issues/46187
<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vatsrahul1001,2025-01-29 09:15:58+00:00,[],2025-02-04 06:52:41+00:00,2025-02-04 06:52:41+00:00,https://github.com/apache/airflow/pull/46232,"[('kind:documentation', ''), ('area:db-migrations', 'PRs with DB migration')]","[{'comment_id': 2621286488, 'issue_id': 2817638999, 'author': 'vatsrahul1001', 'body': 'Few tests are failing looking into it', 'created_at': datetime.datetime(2025, 1, 29, 10, 45, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625195883, 'issue_id': 2817638999, 'author': 'vatsrahul1001', 'body': 'Failing test cases will require change in backfill reprocess behaviour, I have create [PR](https://github.com/apache/airflow/pull/46295) which will fix these failing tests', 'created_at': datetime.datetime(2025, 1, 30, 17, 56, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630048584, 'issue_id': 2817638999, 'author': 'uranusjr', 'body': 'Whatâ€™s the order we should merge the two PRs? Tests are not passing on this one, but the other PR needs this to be merged first.\r\n\r\n--\r\n\r\nEdit: Talked to Rahul, this should be made greeen and go in first.', 'created_at': datetime.datetime(2025, 2, 3, 6, 2, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630802325, 'issue_id': 2817638999, 'author': 'vatsrahul1001', 'body': '> Whatâ€™s the order we should merge the two PRs? Tests are not passing on this one, but the other PR needs this to be merged first.\r\n> \r\n> --\r\n> \r\n> Edit: Talked to Rahul, this should be made greeen and go in first.\r\n\r\n@uranusjr Fixed failing tests now only failing tests are now related to backfill `test_reprocess_behavior` which are fixed in https://github.com/apache/airflow/pull/46295 .', 'created_at': datetime.datetime(2025, 2, 3, 12, 24, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632993661, 'issue_id': 2817638999, 'author': 'vatsrahul1001', 'body': '> @uranusjr Fixed failing tests now only failing tests are now related to backfill `test_reprocess_behavior` which are fixed in #46295 .\r\n\r\n\r\n\r\n> test is still failing ðŸ¤” Please re-request for review once fixed. Thanks!\r\n\r\n@Lee-W as mentioned [here](https://github.com/apache/airflow/pull/46232#issuecomment-2630802325), failing tests are now related to backfill test_reprocess_behavior which are fixed in https://github.com/apache/airflow/pull/46295 .', 'created_at': datetime.datetime(2025, 2, 4, 6, 28, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633027263, 'issue_id': 2817638999, 'author': 'vatsrahul1001', 'body': 'Discussed with @Lee-W as https://github.com/apache/airflow/pull/46295 is based on this PR and have changes with CI green. Its better to close this PR in favour of https://github.com/apache/airflow/pull/46295', 'created_at': datetime.datetime(2025, 2, 4, 6, 51, 53, tzinfo=datetime.timezone.utc)}]","vatsrahul1001 (Issue Creator) on (2025-01-29 10:45:46 UTC): Few tests are failing looking into it

vatsrahul1001 (Issue Creator) on (2025-01-30 17:56:30 UTC): Failing test cases will require change in backfill reprocess behaviour, I have create [PR](https://github.com/apache/airflow/pull/46295) which will fix these failing tests

uranusjr on (2025-02-03 06:02:55 UTC): Whatâ€™s the order we should merge the two PRs? Tests are not passing on this one, but the other PR needs this to be merged first.

--

Edit: Talked to Rahul, this should be made greeen and go in first.

vatsrahul1001 (Issue Creator) on (2025-02-03 12:24:17 UTC): @uranusjr Fixed failing tests now only failing tests are now related to backfill `test_reprocess_behavior` which are fixed in https://github.com/apache/airflow/pull/46295 .

vatsrahul1001 (Issue Creator) on (2025-02-04 06:28:09 UTC): @Lee-W as mentioned [here](https://github.com/apache/airflow/pull/46232#issuecomment-2630802325), failing tests are now related to backfill test_reprocess_behavior which are fixed in https://github.com/apache/airflow/pull/46295 .

vatsrahul1001 (Issue Creator) on (2025-02-04 06:51:53 UTC): Discussed with @Lee-W as https://github.com/apache/airflow/pull/46295 is based on this PR and have changes with CI green. Its better to close this PR in favour of https://github.com/apache/airflow/pull/46295

"
2817591957,pull_request,closed,,Moving EmptyOperator to standard provider,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->

Basic dag tested:
```
from airflow import DAG
from airflow.providers.standard.operators.empty import EmptyOperator
from datetime import datetime

with DAG(
    dag_id=""empty_operator_example"",
    schedule=None,
    tags=[""empty""],
    start_date=datetime(2024, 1, 1),
    catchup=False,
) as dag:

    start = EmptyOperator(task_id=""start"")
    end = EmptyOperator(task_id=""end"")

    start >> end

```

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",amoghrajesh,2025-01-29 08:53:00+00:00,['amoghrajesh'],2025-02-04 06:34:49+00:00,2025-02-04 06:34:48+00:00,https://github.com/apache/airflow/pull/46231,"[('kind:documentation', ''), ('area:production-image', 'Production image improvements and fixes'), ('area:lineage', ''), ('provider:common-sql', ''), ('provider:openlineage', 'AIP-53'), ('provider:common-io', ''), ('airflow3.0:breaking', 'Candidates for Airflow 3.0 that contain breaking changes'), ('provider:edge', 'Edge Executor / Worker (AIP-69)')]","[{'comment_id': 2621065787, 'issue_id': 2817591957, 'author': 'eladkal', 'body': 'It needs newsfragment as breaking change for Airflow 3', 'created_at': datetime.datetime(2025, 1, 29, 9, 9, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621734868, 'issue_id': 2817591957, 'author': 'amoghrajesh', 'body': ""@eladkal aren't the other ones for example: bash operator breaking in that case too? https://github.com/apache/airflow/pull/42252"", 'created_at': datetime.datetime(2025, 1, 29, 14, 0, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626484813, 'issue_id': 2817591957, 'author': 'amoghrajesh', 'body': ""@potiuk it'd be nice if you can take a look on this too, since you were involved in the past standard operator moves"", 'created_at': datetime.datetime(2025, 1, 31, 7, 33, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627326095, 'issue_id': 2817591957, 'author': 'amoghrajesh', 'body': '@eladkal @ashb got a green CI finally. Can you take a look at this when you have some time?', 'created_at': datetime.datetime(2025, 1, 31, 13, 20, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629671007, 'issue_id': 2817591957, 'author': 'Lee-W', 'body': ""> @eladkal aren't the other ones for example: bash operator breaking in that case too? #42252\r\n\r\nYep, we'll need to create a newsfragment for that."", 'created_at': datetime.datetime(2025, 2, 3, 0, 52, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630063419, 'issue_id': 2817591957, 'author': 'amoghrajesh', 'body': '@vincbeck we will be adding the migration rules for this as requested. @sunank200 / @Lee-W will be assisting with that.', 'created_at': datetime.datetime(2025, 2, 3, 6, 14, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630066297, 'issue_id': 2817591957, 'author': 'Lee-W', 'body': '> @vincbeck we will be adding the migration rules for this as requested. @sunank200 / @Lee-W will be assisting with that.\r\n\r\nIt would still be nice if you could list down the migration rules so that I can focus on the implementation. Thanks!', 'created_at': datetime.datetime(2025, 2, 3, 6, 17, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630069503, 'issue_id': 2817591957, 'author': 'amoghrajesh', 'body': 'Oops bad rebase. FIxing!', 'created_at': datetime.datetime(2025, 2, 3, 6, 19, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630111566, 'issue_id': 2817591957, 'author': 'eladkal', 'body': '> May I know what is [test_zip.zip](https://github.com/apache/airflow/pull/46231/files#diff-e7119e5543b7e06772411ff4addb8796acc9dfa5d671bc937fce641ca6c01924) and why do we need it?\r\n\r\nYou can deploy dag in zip files.\r\nI assume that the example dag in that zip contains EmptyOperator', 'created_at': datetime.datetime(2025, 2, 3, 6, 52, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630114344, 'issue_id': 2817591957, 'author': 'Lee-W', 'body': ""> > May I know what is [test_zip.zip](https://github.com/apache/airflow/pull/46231/files#diff-e7119e5543b7e06772411ff4addb8796acc9dfa5d671bc937fce641ca6c01924) and why do we need it?\r\n> \r\n> You can deploy dag in zip files. I assume that the example dag in that zip contains EmptyOperator\r\n\r\n@amoghrajesh Is it possible for us to zip it through script instead of just uploading a zip file? It's hard to know what's actually inside the zip"", 'created_at': datetime.datetime(2025, 2, 3, 6, 54, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630114530, 'issue_id': 2817591957, 'author': 'amoghrajesh', 'body': '> > May I know what is [test_zip.zip](https://github.com/apache/airflow/pull/46231/files#diff-e7119e5543b7e06772411ff4addb8796acc9dfa5d671bc937fce641ca6c01924) and why do we need it?\r\n> \r\n> You can deploy dag in zip files. I assume that the example dag in that zip contains EmptyOperator\r\n\r\nIt does yeah, it contains a reference to the older EmptyOperator path, i updated that', 'created_at': datetime.datetime(2025, 2, 3, 6, 54, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630118325, 'issue_id': 2817591957, 'author': 'amoghrajesh', 'body': ""> > > May I know what is [test_zip.zip](https://github.com/apache/airflow/pull/46231/files#diff-e7119e5543b7e06772411ff4addb8796acc9dfa5d671bc937fce641ca6c01924) and why do we need it?\r\n> > \r\n> > \r\n> > You can deploy dag in zip files. I assume that the example dag in that zip contains EmptyOperator\r\n> \r\n> @amoghrajesh Is it possible for us to zip it through script instead of just uploading a zip file? It's hard to know what's actually inside the zip\r\n\r\nHmm, its been done this way historically too, I guess we can but I can do it in a follow up if thats ok? I will list the zip changes here:\r\n```\r\n(airflow) âžœ  dags git:(AIP72-move-empty-operator) âœ— ls -lR test_zip    \r\ntotal 16\r\n-rw-r--r--  1 amoghdesai  staff   566 Jun 16  2018 file_no_airflow_dag.py\r\n-rw-r--r--  1 amoghdesai  staff  1171 Jan 30 12:50 test_zip.py\r\ndrwxr-xr-x  4 amoghdesai  staff   128 Apr 13  2016 test_zip_module\r\n\r\ntest_zip/test_zip_module:\r\ntotal 8\r\n-rw-r--r--  1 amoghdesai  staff    0 Apr 13  2016 __init__.py\r\n-rw-r--r--  1 amoghdesai  staff  642 Apr 13  2016 test.py\r\n\r\n```"", 'created_at': datetime.datetime(2025, 2, 3, 6, 56, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630128600, 'issue_id': 2817591957, 'author': 'Lee-W', 'body': ""> > > > May I know what is [test_zip.zip](https://github.com/apache/airflow/pull/46231/files#diff-e7119e5543b7e06772411ff4addb8796acc9dfa5d671bc937fce641ca6c01924) and why do we need it?\r\n> > > \r\n> > > \r\n> > > You can deploy dag in zip files. I assume that the example dag in that zip contains EmptyOperator\r\n> > \r\n> > \r\n> > @amoghrajesh Is it possible for us to zip it through script instead of just uploading a zip file? It's hard to know what's actually inside the zip\r\n> \r\n> Hmm, its been done this way historically too, I guess we can but I can do it in a follow up if thats ok? I will list the zip changes here:\r\n> \r\n> ```\r\n> (airflow) âžœ  dags git:(AIP72-move-empty-operator) âœ— ls -lR test_zip    \r\n> total 16\r\n> -rw-r--r--  1 amoghdesai  staff   566 Jun 16  2018 file_no_airflow_dag.py\r\n> -rw-r--r--  1 amoghdesai  staff  1171 Jan 30 12:50 test_zip.py\r\n> drwxr-xr-x  4 amoghdesai  staff   128 Apr 13  2016 test_zip_module\r\n> \r\n> test_zip/test_zip_module:\r\n> total 8\r\n> -rw-r--r--  1 amoghdesai  staff    0 Apr 13  2016 __init__.py\r\n> -rw-r--r--  1 amoghdesai  staff  642 Apr 13  2016 test.py\r\n> ```\r\n\r\nYep, I know it's done this way previously. If this is blocking something, we can create an issue for tracking this and do it in follow up PRs. Thanks!"", 'created_at': datetime.datetime(2025, 2, 3, 7, 3, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630131008, 'issue_id': 2817591957, 'author': 'amoghrajesh', 'body': ""Yeah, will pick it up @Lee-W.\r\nIt isn't related to this change, so better to follow up"", 'created_at': datetime.datetime(2025, 2, 3, 7, 4, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632698980, 'issue_id': 2817591957, 'author': 'Lee-W', 'body': '@amoghrajesh Sorry for the CI error. The fix is created https://github.com/apache/airflow/pull/46404', 'created_at': datetime.datetime(2025, 2, 4, 2, 49, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632786252, 'issue_id': 2817591957, 'author': 'amoghrajesh', 'body': '> @amoghrajesh Sorry for the CI error. The fix is created #46404\r\n\r\nNo problem, thanks! I was wondering what the issue was!', 'created_at': datetime.datetime(2025, 2, 4, 4, 24, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632962656, 'issue_id': 2817591957, 'author': 'Lee-W', 'body': ""Feel free to resolve my comments. I think we're close to merge ðŸ™‚"", 'created_at': datetime.datetime(2025, 2, 4, 6, 7, tzinfo=datetime.timezone.utc)}]","eladkal on (2025-01-29 09:09:44 UTC): It needs newsfragment as breaking change for Airflow 3

amoghrajesh (Issue Creator) on (2025-01-29 14:00:11 UTC): @eladkal aren't the other ones for example: bash operator breaking in that case too? https://github.com/apache/airflow/pull/42252

amoghrajesh (Issue Creator) on (2025-01-31 07:33:07 UTC): @potiuk it'd be nice if you can take a look on this too, since you were involved in the past standard operator moves

amoghrajesh (Issue Creator) on (2025-01-31 13:20:16 UTC): @eladkal @ashb got a green CI finally. Can you take a look at this when you have some time?

Lee-W on (2025-02-03 00:52:41 UTC): Yep, we'll need to create a newsfragment for that.

amoghrajesh (Issue Creator) on (2025-02-03 06:14:38 UTC): @vincbeck we will be adding the migration rules for this as requested. @sunank200 / @Lee-W will be assisting with that.

Lee-W on (2025-02-03 06:17:06 UTC): It would still be nice if you could list down the migration rules so that I can focus on the implementation. Thanks!

amoghrajesh (Issue Creator) on (2025-02-03 06:19:49 UTC): Oops bad rebase. FIxing!

eladkal on (2025-02-03 06:52:07 UTC): You can deploy dag in zip files.
I assume that the example dag in that zip contains EmptyOperator

Lee-W on (2025-02-03 06:54:05 UTC): @amoghrajesh Is it possible for us to zip it through script instead of just uploading a zip file? It's hard to know what's actually inside the zip

amoghrajesh (Issue Creator) on (2025-02-03 06:54:14 UTC): It does yeah, it contains a reference to the older EmptyOperator path, i updated that

amoghrajesh (Issue Creator) on (2025-02-03 06:56:58 UTC): Hmm, its been done this way historically too, I guess we can but I can do it in a follow up if thats ok? I will list the zip changes here:
```
(airflow) âžœ  dags git:(AIP72-move-empty-operator) âœ— ls -lR test_zip    
total 16
-rw-r--r--  1 amoghdesai  staff   566 Jun 16  2018 file_no_airflow_dag.py
-rw-r--r--  1 amoghdesai  staff  1171 Jan 30 12:50 test_zip.py
drwxr-xr-x  4 amoghdesai  staff   128 Apr 13  2016 test_zip_module

test_zip/test_zip_module:
total 8
-rw-r--r--  1 amoghdesai  staff    0 Apr 13  2016 __init__.py
-rw-r--r--  1 amoghdesai  staff  642 Apr 13  2016 test.py

```

Lee-W on (2025-02-03 07:03:12 UTC): Yep, I know it's done this way previously. If this is blocking something, we can create an issue for tracking this and do it in follow up PRs. Thanks!

amoghrajesh (Issue Creator) on (2025-02-03 07:04:53 UTC): Yeah, will pick it up @Lee-W.
It isn't related to this change, so better to follow up

Lee-W on (2025-02-04 02:49:51 UTC): @amoghrajesh Sorry for the CI error. The fix is created https://github.com/apache/airflow/pull/46404

amoghrajesh (Issue Creator) on (2025-02-04 04:24:27 UTC): No problem, thanks! I was wondering what the issue was!

Lee-W on (2025-02-04 06:07:00 UTC): Feel free to resolve my comments. I think we're close to merge ðŸ™‚

"
2817535428,pull_request,closed,,Add missing backslashes,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-01-29 08:22:03+00:00,[],2025-01-29 09:45:45+00:00,2025-01-29 08:58:02+00:00,https://github.com/apache/airflow/pull/46229,"[('area:dev-tools', '')]","[{'comment_id': 2620969340, 'issue_id': 2817535428, 'author': 'potiuk', 'body': 'I will wait with merging this time :)', 'created_at': datetime.datetime(2025, 1, 29, 8, 23, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621147840, 'issue_id': 2817535428, 'author': 'amoghrajesh', 'body': 'Thanks! Was looking to do this', 'created_at': datetime.datetime(2025, 1, 29, 9, 45, 43, tzinfo=datetime.timezone.utc)}]","potiuk (Issue Creator) on (2025-01-29 08:23:20 UTC): I will wait with merging this time :)

amoghrajesh on (2025-01-29 09:45:43 UTC): Thanks! Was looking to do this

"
2817507410,pull_request,closed,,Fix wrong yaml spec in generate constraints,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-01-29 08:07:41+00:00,[],2025-01-29 08:10:23+00:00,2025-01-29 08:10:22+00:00,https://github.com/apache/airflow/pull/46228,"[('area:dev-tools', '')]",[],
2817296517,pull_request,closed,,Fix GitDagBundle to support https (include 46073/46179),"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->

related: #45998
This addresses from previous PRs (#46073 , #46179).


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",jx2lee,2025-01-29 05:46:03+00:00,[],2025-01-30 04:16:23+00:00,2025-01-30 04:16:16+00:00,https://github.com/apache/airflow/pull/46226,"[('area:DAG-processing', ''), ('AIP-66: DAG Bundle/Manifest', '')]","[{'comment_id': 2621852682, 'issue_id': 2817296517, 'author': 'ephraimbuddy', 'body': ""The failing tests don't seem related...you can rebase the PR"", 'created_at': datetime.datetime(2025, 1, 29, 14, 44, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621875526, 'issue_id': 2817296517, 'author': 'jx2lee', 'body': '@ephraimbuddy Tests in api_connexion were broken.. related this PR were passed (in my local).', 'created_at': datetime.datetime(2025, 1, 29, 14, 52, 47, tzinfo=datetime.timezone.utc)}]","ephraimbuddy on (2025-01-29 14:44:29 UTC): The failing tests don't seem related...you can rebase the PR

jx2lee (Issue Creator) on (2025-01-29 14:52:47 UTC): @ephraimbuddy Tests in api_connexion were broken.. related this PR were passed (in my local).

"
2816996325,pull_request,closed,,Change Paralell constraints generation to sequential,"Parallel constraint generation runs several docker containers and it produces some build artifacts in paralllel (when compiling spar) that are huge - when run in parallell we are runnig out of disk space for them. Changing to sequential execution hopefully shoudl fix it.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-01-29 00:47:45+00:00,[],2025-01-29 01:51:53+00:00,2025-01-29 01:51:53+00:00,https://github.com/apache/airflow/pull/46223,"[('area:dev-tools', '')]",[],
2816969109,pull_request,closed,,"Revert ""Fix GitDagBundle to support https (#46073)""","This reverts commit a605f0412347743dc289c23e2616053f7360e728.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-01-29 00:22:45+00:00,[],2025-01-29 02:37:47+00:00,2025-01-29 02:37:47+00:00,https://github.com/apache/airflow/pull/46222,"[('area:DAG-processing', '')]",[],
2816964802,pull_request,closed,,"Revert ""Call `get_current_version` less often in bundle refresh loop â€¦","â€¦(#46100)""

This reverts commit 0834d64e0a0066a234c9d2b7e2e887a944415621.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-01-29 00:18:49+00:00,[],2025-01-29 02:37:22+00:00,2025-01-29 02:37:22+00:00,https://github.com/apache/airflow/pull/46221,"[('area:DAG-processing', '')]","[{'comment_id': 2620319962, 'issue_id': 2816964802, 'author': 'potiuk', 'body': 'Hey @jedcunningham -> I am sorry but we have to revert that one AGAIN.\r\n\r\nDue to the mishap with K8S retry change masking errors in test - the #46100 got green - but in fact it failed.', 'created_at': datetime.datetime(2025, 1, 29, 0, 20, 37, tzinfo=datetime.timezone.utc)}]","potiuk (Issue Creator) on (2025-01-29 00:20:37 UTC): Hey @jedcunningham -> I am sorry but we have to revert that one AGAIN.

Due to the mishap with K8S retry change masking errors in test - the #46100 got green - but in fact it failed.

"
2816867212,pull_request,closed,,Fix pymongo generated dependencies not updated in pymongo fix,"Related: #46216

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-01-28 22:49:53+00:00,[],2025-01-29 02:39:20+00:00,2025-01-29 02:39:20+00:00,https://github.com/apache/airflow/pull/46220,[],[],
2816859259,pull_request,closed,,BREAKING CHANGE: replace Airflow config by conx extras in SMTP provider,"This PR introduces some breaking changes to SMTP provider:

The argument ``from_email`` is now an optional kwarg in ``SmtpNotifier``, and the argument ``to`` became the first positional argument.

Configuring the ``SmtpNotifier`` and ``SmtpHook`` default values via Airflow SMTP configurations is not supported anymore. You can instead use the SMTP connection configuration to set the default values, where you can use:

* the connection extra field ``ssl_context`` instead of the configuration ``smtp_provider.ssl_context`` or ``email.ssl_context`` in the SMTP hook.
* the connection extra field ``from_email`` instead of the configuration ``smtp.smtp_mail_from`` in ``SmtpNotifier``.
* the connection extra field ``subject_template`` instead of the configuration ``smtp.templated_email_subject_path`` in ``SmtpNotifier``.
* the connection extra field ``html_content_template`` instead of the configuration ``smtp.templated_html_content_path`` in ``SmtpNotifier``.",hussein-awala,2025-01-28 22:43:06+00:00,[],2025-02-06 13:59:13+00:00,2025-02-06 13:59:13+00:00,https://github.com/apache/airflow/pull/46219,"[('area:providers', ''), ('area:dev-tools', ''), ('provider:smtp', '')]","[{'comment_id': 2637676959, 'issue_id': 2816859259, 'author': 'eladkal', 'body': ""@hussein-awala can you rebase and resolve conflicts?\r\nI'd like to include this in the next provider wave"", 'created_at': datetime.datetime(2025, 2, 5, 18, 13, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637834691, 'issue_id': 2816859259, 'author': 'hussein-awala', 'body': ""> @hussein-awala can you rebase and resolve conflicts? I'd like to include this in the next provider wave\r\n\r\nit's ready, I'll merge once the tests are green"", 'created_at': datetime.datetime(2025, 2, 5, 19, 23, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639905874, 'issue_id': 2816859259, 'author': 'eladkal', 'body': 'Merging. Failures ade about Amazon DMS not related to this PR', 'created_at': datetime.datetime(2025, 2, 6, 13, 58, 36, tzinfo=datetime.timezone.utc)}]","eladkal on (2025-02-05 18:13:30 UTC): @hussein-awala can you rebase and resolve conflicts?
I'd like to include this in the next provider wave

hussein-awala (Issue Creator) on (2025-02-05 19:23:10 UTC): it's ready, I'll merge once the tests are green

eladkal on (2025-02-06 13:58:36 UTC): Merging. Failures ade about Amazon DMS not related to this PR

"
2816822396,pull_request,closed,,Fix beam and openlineage example dag imports,"Attempt to fix main.

Just in case @jscheffl's fix https://github.com/apache/airflow/pull/46217 does not work.",dstandish,2025-01-28 22:14:25+00:00,[],2025-01-29 15:54:35+00:00,2025-01-29 15:54:35+00:00,https://github.com/apache/airflow/pull/46218,"[('provider:google', 'Google (including GCP) related issues'), ('area:providers', ''), ('provider:openlineage', 'AIP-53'), ('provider:apache-beam', '')]","[{'comment_id': 2622035796, 'issue_id': 2816822396, 'author': 'dstandish', 'body': 'no longer needed', 'created_at': datetime.datetime(2025, 1, 29, 15, 54, 35, tzinfo=datetime.timezone.utc)}]","dstandish (Issue Creator) on (2025-01-29 15:54:35 UTC): no longer needed

"
2816806316,pull_request,closed,,Fix example import tests after move of providers to new structure,Move of provider strcutures needed to import some tools for system test DAGs. This PR fixes the failed tests on main,jscheffl,2025-01-28 22:04:13+00:00,[],2025-01-28 22:28:01+00:00,2025-01-28 22:28:01+00:00,https://github.com/apache/airflow/pull/46217,"[('provider:google', 'Google (including GCP) related issues'), ('area:providers', ''), ('provider:openlineage', 'AIP-53'), ('provider:apache-beam', '')]","[{'comment_id': 2620183977, 'issue_id': 2816806316, 'author': 'jscheffl', 'body': 'Seems there is some residual in back-compat provider tests.... in  providers/tests/amazon/aws/auth_manager/test_aws_auth_manager.py:37  - seems unrelated and needs another fix...', 'created_at': datetime.datetime(2025, 1, 28, 22, 27, 50, tzinfo=datetime.timezone.utc)}]","jscheffl (Issue Creator) on (2025-01-28 22:27:50 UTC): Seems there is some residual in back-compat provider tests.... in  providers/tests/amazon/aws/auth_manager/test_aws_auth_manager.py:37  - seems unrelated and needs another fix...

"
2816761077,pull_request,closed,,Bugfix/prevent pymongo 4.11,Related: https://github.com/apache/airflow/issues/46215,jscheffl,2025-01-28 21:35:50+00:00,[],2025-01-28 22:18:57+00:00,2025-01-28 22:18:57+00:00,https://github.com/apache/airflow/pull/46216,"[('provider:mongo', '')]",[],
2816738034,pull_request,closed,,Fix Kafka provider tests after move,^^^,jscheffl,2025-01-28 21:20:24+00:00,[],2025-01-28 22:10:27+00:00,2025-01-28 22:10:27+00:00,https://github.com/apache/airflow/pull/46214,"[('provider:apache-kafka', '')]","[{'comment_id': 2620106209, 'issue_id': 2816738034, 'author': 'jscheffl', 'body': 'Note: Failures of core tests seems to be un-related to this fix, must be fixed in another PR', 'created_at': datetime.datetime(2025, 1, 28, 21, 36, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620154621, 'issue_id': 2816738034, 'author': 'jscheffl', 'body': 'Fixes of core in PR https://github.com/apache/airflow/pull/46217', 'created_at': datetime.datetime(2025, 1, 28, 22, 7, 31, tzinfo=datetime.timezone.utc)}]","jscheffl (Issue Creator) on (2025-01-28 21:36:55 UTC): Note: Failures of core tests seems to be un-related to this fix, must be fixed in another PR

jscheffl (Issue Creator) on (2025-01-28 22:07:31 UTC): Fixes of core in PR https://github.com/apache/airflow/pull/46217

"
2816727117,pull_request,closed,,Add autorefresh to Task Instance and Dag Run pages,"Add auto refresh to the new UI, starting with the task instance and dag run pages

What should refresh:
- Task Instance: Header, details, tries and logs
 - Dag Run: Header, details and the list of task instances

---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",bbovenzi,2025-01-28 21:13:05+00:00,[],2025-01-29 17:21:31+00:00,2025-01-29 16:45:35+00:00,https://github.com/apache/airflow/pull/46213,"[('area:UI', 'Related to UI/UX. For Frontend Developers.')]","[{'comment_id': 2620504094, 'issue_id': 2816727117, 'author': 'tirkarthi', 'body': '@bbovenzi Will there be a toggle to disable auto refresh that persists across views in 3.0 like legacy UI?', 'created_at': datetime.datetime(2025, 1, 29, 2, 39, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621899195, 'issue_id': 2816727117, 'author': 'pierrejeambrun', 'body': '> @bbovenzi Will there be a toggle to disable auto refresh that persists across views in 3.0 like legacy UI?\r\n\r\nIs there a particular use case ? Otherwise IMO that just feels old and outdated without auto-refresh, I would be for completely removing that toggle in airflow 3 UI.', 'created_at': datetime.datetime(2025, 1, 29, 15, 0, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621978580, 'issue_id': 2816727117, 'author': 'bbovenzi', 'body': ""Yes, I was leaning towards removing the toggle, being smarter with when its used, and if someone doesn't want any autorefresh then they don't need to specify it in their config."", 'created_at': datetime.datetime(2025, 1, 29, 15, 31, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622170261, 'issue_id': 2816727117, 'author': 'bbovenzi', 'body': 'Gonna merge but we can keep talking about a pause autorefresh button', 'created_at': datetime.datetime(2025, 1, 29, 16, 45, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622190141, 'issue_id': 2816727117, 'author': 'tirkarthi', 'body': ""The old UI used to have auto refresh only on when there is focus on running dagrun in the grid. I remember sometimes there was a trigger in another tab and I used to manually do the toggle. There could be just a manual refresh button in the header instead of a toggle too. I don't have any strong opinion on this. autorefresh toggle also means more code and maintenance to persist the state and if I remember correctly it used to be a provider to the app object. There will be user feedback during testing to see if there is more demand for the component.\r\n\r\nThanks @bbovenzi ."", 'created_at': datetime.datetime(2025, 1, 29, 16, 53, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622317394, 'issue_id': 2816727117, 'author': 'bbovenzi', 'body': 'I think both of those use cases can be covered with us being smarter on when we invalidate queries and which queries need a refetchInterval function', 'created_at': datetime.datetime(2025, 1, 29, 17, 21, 30, tzinfo=datetime.timezone.utc)}]","tirkarthi on (2025-01-29 02:39:05 UTC): @bbovenzi Will there be a toggle to disable auto refresh that persists across views in 3.0 like legacy UI?

pierrejeambrun on (2025-01-29 15:00:54 UTC): Is there a particular use case ? Otherwise IMO that just feels old and outdated without auto-refresh, I would be for completely removing that toggle in airflow 3 UI.

bbovenzi (Issue Creator) on (2025-01-29 15:31:36 UTC): Yes, I was leaning towards removing the toggle, being smarter with when its used, and if someone doesn't want any autorefresh then they don't need to specify it in their config.

bbovenzi (Issue Creator) on (2025-01-29 16:45:31 UTC): Gonna merge but we can keep talking about a pause autorefresh button

tirkarthi on (2025-01-29 16:53:59 UTC): The old UI used to have auto refresh only on when there is focus on running dagrun in the grid. I remember sometimes there was a trigger in another tab and I used to manually do the toggle. There could be just a manual refresh button in the header instead of a toggle too. I don't have any strong opinion on this. autorefresh toggle also means more code and maintenance to persist the state and if I remember correctly it used to be a provider to the app object. There will be user feedback during testing to see if there is more demand for the component.

Thanks @bbovenzi .

bbovenzi (Issue Creator) on (2025-01-29 17:21:30 UTC): I think both of those use cases can be covered with us being smarter on when we invalidate queries and which queries need a refetchInterval function

"
2816709398,pull_request,closed,,feat(smtp): support html_content and subject templates from SMTP connection,"This PR adds support for configuring `subject` and `html_content` template files in the SMTP connection to use them in `SmtpNotifier` and `EmailOperator`

part_of: #46041",hussein-awala,2025-01-28 21:01:48+00:00,[],2025-01-28 22:24:22+00:00,2025-01-28 22:24:22+00:00,https://github.com/apache/airflow/pull/46212,"[('area:providers', ''), ('kind:documentation', ''), ('provider:smtp', '')]",[],
2816666732,pull_request,closed,,Move github provider to new structure,"related: #46045
- [x] fix unit tests

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",josix,2025-01-28 20:36:22+00:00,[],2025-01-30 20:27:15+00:00,2025-01-30 20:27:14+00:00,https://github.com/apache/airflow/pull/46211,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:github', '')]","[{'comment_id': 2624125536, 'issue_id': 2816666732, 'author': 'potiuk', 'body': 'Ah... conflicts again :( ->', 'created_at': datetime.datetime(2025, 1, 30, 10, 40, 59, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-30 10:40:59 UTC): Ah... conflicts again :( ->

"
2816646518,pull_request,closed,,move opensearch provider to new structure,"related: #46045
- [x] fix unit tests 

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",josix,2025-01-28 20:24:01+00:00,[],2025-01-30 20:01:54+00:00,2025-01-30 20:01:54+00:00,https://github.com/apache/airflow/pull/46210,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:opensearch', '')]","[{'comment_id': 2623899303, 'issue_id': 2816646518, 'author': 'potiuk', 'body': ""This one will have to be solved differentlly: \r\n\r\n```\r\n  Using Python 3.9.21 environment at: /usr/local\r\n  Uninstalled 4 packages in 400ms\r\n   - aiobotocore==2.19.0\r\n   - opensearch-py==2.8.0\r\n   - s3fs==2024.12.0\r\n   - yandexcloud==0.328.0\r\n  + uv pip install --system --upgrade boto3 botocore 'oss2>=2.14.0' 'cryptography<43.0.0' 'requests!=2.32.*,<3.0.0,>=2.24.0'\r\n  Using Python 3.9.21 environment at: /usr/local\r\n  Resolved 19 packages in 469ms\r\n  Prepared 3 packages in 476ms\r\n  Uninstalled 3 packages in 928ms\r\n  Installed 3 packages in 143ms\r\n   - boto3==1.36.3\r\n   + boto3==1.36.9\r\n   - botocore==1.36.3\r\n   + botocore==1.36.9\r\n   - requests==2.32.3\r\n   + requests==2.31.0\r\n  + set +xe \r\n  apache-airflow-providers-opensearch 1.6.0 requires opensearch-py, which is not installed.\r\n```\r\n\r\nWhen installing latest botocore, opensearch-py gets uninstalled and opensearch provider needs it. Once we split it out, right now UV will (correctly) complain that  the apache-airflow-providers-opensearch cannot be installed. I will have to think how to solve it (don't know yet) :) .\r\n\r\nThat's an interesting find."", 'created_at': datetime.datetime(2025, 1, 30, 9, 2, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624557149, 'issue_id': 2816646518, 'author': 'potiuk', 'body': 'This one should be rebased after https://github.com/apache/airflow/pull/46289 -> the latest boto tests removed opensearch, but recent apache.beam releases already removed requests limitation that blocked it.', 'created_at': datetime.datetime(2025, 1, 30, 13, 44, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625299548, 'issue_id': 2816646518, 'author': 'josix', 'body': 'Thank you so much for helping to resolve it ðŸ™‡ðŸ»\u200dâ™‚ï¸', 'created_at': datetime.datetime(2025, 1, 30, 18, 44, 59, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-30 09:02:07 UTC): This one will have to be solved differentlly: 

```
  Using Python 3.9.21 environment at: /usr/local
  Uninstalled 4 packages in 400ms
   - aiobotocore==2.19.0
   - opensearch-py==2.8.0
   - s3fs==2024.12.0
   - yandexcloud==0.328.0
  + uv pip install --system --upgrade boto3 botocore 'oss2>=2.14.0' 'cryptography<43.0.0' 'requests!=2.32.*,<3.0.0,>=2.24.0'
  Using Python 3.9.21 environment at: /usr/local
  Resolved 19 packages in 469ms
  Prepared 3 packages in 476ms
  Uninstalled 3 packages in 928ms
  Installed 3 packages in 143ms
   - boto3==1.36.3
   + boto3==1.36.9
   - botocore==1.36.3
   + botocore==1.36.9
   - requests==2.32.3
   + requests==2.31.0
  + set +xe 
  apache-airflow-providers-opensearch 1.6.0 requires opensearch-py, which is not installed.
```

When installing latest botocore, opensearch-py gets uninstalled and opensearch provider needs it. Once we split it out, right now UV will (correctly) complain that  the apache-airflow-providers-opensearch cannot be installed. I will have to think how to solve it (don't know yet) :) .

That's an interesting find.

potiuk on (2025-01-30 13:44:08 UTC): This one should be rebased after https://github.com/apache/airflow/pull/46289 -> the latest boto tests removed opensearch, but recent apache.beam releases already removed requests limitation that blocked it.

josix (Issue Creator) on (2025-01-30 18:44:59 UTC): Thank you so much for helping to resolve it ðŸ™‡ðŸ»â€â™‚ï¸

"
2816627065,pull_request,closed,,Move slack provider to new structure,"related: #46045
- [x] fix unit tests (depends on https://github.com/apache/airflow/pull/46146#discussion_r1932528410)

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",josix,2025-01-28 20:13:33+00:00,[],2025-01-30 10:47:43+00:00,2025-01-30 10:46:53+00:00,https://github.com/apache/airflow/pull/46209,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:slack', '')]","[{'comment_id': 2624139045, 'issue_id': 2816627065, 'author': 'potiuk', 'body': 'Flaky tests addressed in main.', 'created_at': datetime.datetime(2025, 1, 30, 10, 46, 49, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-30 10:46:49 UTC): Flaky tests addressed in main.

"
2816573823,pull_request,closed,,Move dbt cloud provider to new structure,"related: #46045
- [x] fix unit tests 

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",josix,2025-01-28 19:44:40+00:00,[],2025-01-30 20:30:13+00:00,2025-01-30 20:30:13+00:00,https://github.com/apache/airflow/pull/46208,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:dbt-cloud', '')]","[{'comment_id': 2623852762, 'issue_id': 2816573823, 'author': 'potiuk', 'body': 'Conflict here too.', 'created_at': datetime.datetime(2025, 1, 30, 8, 38, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624111846, 'issue_id': 2816573823, 'author': 'potiuk', 'body': 'Rebae now - and all `flaky` tests shoudl finally be gone.', 'created_at': datetime.datetime(2025, 1, 30, 10, 35, 2, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-30 08:38:34 UTC): Conflict here too.

potiuk on (2025-01-30 10:35:02 UTC): Rebae now - and all `flaky` tests shoudl finally be gone.

"
2816546846,pull_request,closed,,Move databricks provider to new structure,"related: #46045
- [x] fix unit tests 

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",josix,2025-01-28 19:29:41+00:00,[],2025-02-07 16:24:43+00:00,2025-02-07 16:24:34+00:00,https://github.com/apache/airflow/pull/46207,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:databricks', '')]","[{'comment_id': 2623852396, 'issue_id': 2816546846, 'author': 'potiuk', 'body': 'conflicts again (but I hope this time things will be green).', 'created_at': datetime.datetime(2025, 1, 30, 8, 38, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623956371, 'issue_id': 2816546846, 'author': 'josix', 'body': 'Thanks! Let me fix this first, I guess the patch for `move_providers.py` might affect other providers.', 'created_at': datetime.datetime(2025, 1, 30, 9, 27, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624155178, 'issue_id': 2816546846, 'author': 'potiuk', 'body': '> Thanks! Let me fix this first, I guess the patch for `move_providers.py` might affect other providers.\r\n\r\nCool :)', 'created_at': datetime.datetime(2025, 1, 30, 10, 53, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625456879, 'issue_id': 2816546846, 'author': 'josix', 'body': 'Hmmm... I rebased after #46291 merged, and it indeed fixed the issues that caused the previous failed tests in `cncf.kubernetes` and `microsoft.azure` related to time.sleep. ~However, it looks like this is a different issue, and all the failed tests are using `caplog`~ (not related ðŸ¤”) .', 'created_at': datetime.datetime(2025, 1, 30, 20, 1, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629036369, 'issue_id': 2816546846, 'author': 'josix', 'body': ""I'll continue fixing the flaky caplog-related unit tests once [the lazy consensus](https://lists.apache.org/thread/f7t5zl6t3t0s89rt37orfcv4966crojt) is reached."", 'created_at': datetime.datetime(2025, 2, 1, 17, 24, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637778395, 'issue_id': 2816546846, 'author': 'potiuk', 'body': 'Rebased - and the consensus is reached so ..... you can fix it :)', 'created_at': datetime.datetime(2025, 2, 5, 19, 0, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639745912, 'issue_id': 2816546846, 'author': 'potiuk', 'body': 'Some errors to look at :( . Happy to help if needed.', 'created_at': datetime.datetime(2025, 2, 6, 12, 52, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639761320, 'issue_id': 2816546846, 'author': 'josix', 'body': 'Yeah, let me circle back to this. Sorry for being busy the past two days, but thankfully, I just finished it and can now focus on this issue.', 'created_at': datetime.datetime(2025, 2, 6, 12, 58, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639773059, 'issue_id': 2816546846, 'author': 'potiuk', 'body': ""> Yeah, let me circle back to this. Sorry for being busy the past two days, but thankfully, I just finished it and can now focus on this issue.\r\n\r\nNo worries at all :), It's open -source. We do stuff when we can !"", 'created_at': datetime.datetime(2025, 2, 6, 13, 3, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641153445, 'issue_id': 2816546846, 'author': 'potiuk', 'body': 'The wasb tests should be ""fine"" after this is merged https://github.com/apache/airflow/pull/46539  -> then you can rebase and ðŸ¤ž we should get this one green.', 'created_at': datetime.datetime(2025, 2, 6, 21, 59, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641208463, 'issue_id': 2816546846, 'author': 'potiuk', 'body': 'OK. you can rebase it now :)', 'created_at': datetime.datetime(2025, 2, 6, 22, 19, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641897654, 'issue_id': 2816546846, 'author': 'josix', 'body': 'Thanks, @potiuk! It turns out that the issue is caused from caplog, just as my initially assumed. However, I still can\'t figure out why it is related to building connection, given that the error shows `airflow.exceptions.AirflowNotFoundException: The conn_id `` isn\'t defined`. How does caplog affect the Hooks ðŸ¤” \r\n\r\n```\r\nDisposing DB connection pool (PID 75)\r\nUnable to retrieve connection from secrets backend (MetastoreBackend). Checking subsequent secrets backend.\r\nTraceback (most recent call last):\r\n  File ""/opt/airflow/airflow/models/connection.py"", line 463, in get_connection_from_secrets\r\n    conn = secrets_backend.get_connection(conn_id=conn_id)\r\n  File ""/opt/airflow/airflow/utils/session.py"", line 100, in wrapper\r\n    with create_session() as session:\r\n  File ""/usr/local/lib/python3.9/contextlib.py"", line 119, in __enter__\r\n    return next(self.gen)\r\n  File ""/opt/airflow/airflow/utils/session.py"", line 39, in create_session\r\n    raise RuntimeError(""Session must be set before!"")\r\nRuntimeError: Session must be set before!\r\nException when trying to check remote location: ""The conn_id `` isn\'t defined""\r\nUnable to retrieve connection from secrets backend (MetastoreBackend). Checking subsequent secrets backend.\r\nTraceback (most recent call last):\r\n  File ""/opt/airflow/airflow/models/connection.py"", line 463, in get_connection_from_secrets\r\n    conn = secrets_backend.get_connection(conn_id=conn_id)\r\n  File ""/opt/airflow/airflow/utils/session.py"", line 100, in wrapper\r\n    with create_session() as session:\r\n  File ""/usr/local/lib/python3.9/contextlib.py"", line 119, in __enter__\r\n    return next(self.gen)\r\n  File ""/opt/airflow/airflow/utils/session.py"", line 39, in create_session\r\n    raise RuntimeError(""Session must be set before!"")\r\nRuntimeError: Session must be set before!\r\nCould not write logs to wasb://container/remote/log/location/1.log\r\nTraceback (most recent call last):\r\n  File ""/opt/airflow/providers/src/airflow/providers/microsoft/azure/log/wasb_task_handler.py"", line 203, in wasb_write\r\n    self.hook.load_string(log, self.wasb_container, remote_log_location, overwrite=True)\r\n  File ""/opt/airflow/providers/src/airflow/providers/microsoft/azure/hooks/wasb.py"", line 361, in load_string\r\n    self.upload(\r\n  File ""/opt/airflow/providers/src/airflow/providers/microsoft/azure/hooks/wasb.py"", line 418, in upload\r\n    blob_client = self._get_blob_client(container_name, blob_name)\r\n  File ""/opt/airflow/providers/src/airflow/providers/microsoft/azure/hooks/wasb.py"", line 233, in _get_blob_client\r\n    return self.blob_service_client.get_blob_client(container=container_name, blob=blob_name)\r\n  File ""/usr/local/lib/python3.9/functools.py"", line 993, in __get__\r\n    val = self.func(instance)\r\n  File ""/opt/airflow/providers/src/airflow/providers/microsoft/azure/hooks/wasb.py"", line 157, in blob_service_client\r\n    return self.get_conn()\r\n  File ""/opt/airflow/providers/src/airflow/providers/microsoft/azure/hooks/wasb.py"", line 161, in get_conn\r\n    conn = self.get_connection(self.conn_id)\r\n  File ""/opt/airflow/airflow/hooks/base.py"", line 64, in get_connection\r\n    conn = Connection.get_connection_from_secrets(conn_id)\r\n  File ""/opt/airflow/airflow/models/connection.py"", line 474, in get_connection_from_secrets\r\n    raise AirflowNotFoundException(f""The conn_id `{conn_id}` isn\'t defined"")\r\nairflow.exceptions.AirflowNotFoundException: The conn_id `` isn\'t defined\r\n```', 'created_at': datetime.datetime(2025, 2, 7, 4, 5, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643228458, 'issue_id': 2816546846, 'author': 'potiuk', 'body': ""> The conn_id `` isn't defined. How does caplog affect the Hooks ðŸ¤”\r\n\r\nBeats me... No idea other than there are side effects from other tests.  I know removing it and replacing with direct mocking helped in pretty much all cases where it happened (many) - I am not going to lose any more time on diving deeper :) - we all lost already far too much time on looking at caplog issues IMHO."", 'created_at': datetime.datetime(2025, 2, 7, 15, 19, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643286142, 'issue_id': 2816546846, 'author': 'potiuk', 'body': 'Pushed a fixup with conflict resolution :)', 'created_at': datetime.datetime(2025, 2, 7, 15, 45, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643397954, 'issue_id': 2816546846, 'author': 'potiuk', 'body': 'wooohooo', 'created_at': datetime.datetime(2025, 2, 7, 16, 24, 43, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-30 08:38:22 UTC): conflicts again (but I hope this time things will be green).

josix (Issue Creator) on (2025-01-30 09:27:16 UTC): Thanks! Let me fix this first, I guess the patch for `move_providers.py` might affect other providers.

potiuk on (2025-01-30 10:53:48 UTC): Cool :)

josix (Issue Creator) on (2025-01-30 20:01:58 UTC): Hmmm... I rebased after #46291 merged, and it indeed fixed the issues that caused the previous failed tests in `cncf.kubernetes` and `microsoft.azure` related to time.sleep. ~However, it looks like this is a different issue, and all the failed tests are using `caplog`~ (not related ðŸ¤”) .

josix (Issue Creator) on (2025-02-01 17:24:30 UTC): I'll continue fixing the flaky caplog-related unit tests once [the lazy consensus](https://lists.apache.org/thread/f7t5zl6t3t0s89rt37orfcv4966crojt) is reached.

potiuk on (2025-02-05 19:00:57 UTC): Rebased - and the consensus is reached so ..... you can fix it :)

potiuk on (2025-02-06 12:52:05 UTC): Some errors to look at :( . Happy to help if needed.

josix (Issue Creator) on (2025-02-06 12:58:58 UTC): Yeah, let me circle back to this. Sorry for being busy the past two days, but thankfully, I just finished it and can now focus on this issue.

potiuk on (2025-02-06 13:03:53 UTC): No worries at all :), It's open -source. We do stuff when we can !

potiuk on (2025-02-06 21:59:03 UTC): The wasb tests should be ""fine"" after this is merged https://github.com/apache/airflow/pull/46539  -> then you can rebase and ðŸ¤ž we should get this one green.

potiuk on (2025-02-06 22:19:58 UTC): OK. you can rebase it now :)

josix (Issue Creator) on (2025-02-07 04:05:53 UTC): Thanks, @potiuk! It turns out that the issue is caused from caplog, just as my initially assumed. However, I still can't figure out why it is related to building connection, given that the error shows `airflow.exceptions.AirflowNotFoundException: The conn_id `` isn't defined`. How does caplog affect the Hooks ðŸ¤” 

```
Disposing DB connection pool (PID 75)
Unable to retrieve connection from secrets backend (MetastoreBackend). Checking subsequent secrets backend.
Traceback (most recent call last):
  File ""/opt/airflow/airflow/models/connection.py"", line 463, in get_connection_from_secrets
    conn = secrets_backend.get_connection(conn_id=conn_id)
  File ""/opt/airflow/airflow/utils/session.py"", line 100, in wrapper
    with create_session() as session:
  File ""/usr/local/lib/python3.9/contextlib.py"", line 119, in __enter__
    return next(self.gen)
  File ""/opt/airflow/airflow/utils/session.py"", line 39, in create_session
    raise RuntimeError(""Session must be set before!"")
RuntimeError: Session must be set before!
Exception when trying to check remote location: ""The conn_id `` isn't defined""
Unable to retrieve connection from secrets backend (MetastoreBackend). Checking subsequent secrets backend.
Traceback (most recent call last):
  File ""/opt/airflow/airflow/models/connection.py"", line 463, in get_connection_from_secrets
    conn = secrets_backend.get_connection(conn_id=conn_id)
  File ""/opt/airflow/airflow/utils/session.py"", line 100, in wrapper
    with create_session() as session:
  File ""/usr/local/lib/python3.9/contextlib.py"", line 119, in __enter__
    return next(self.gen)
  File ""/opt/airflow/airflow/utils/session.py"", line 39, in create_session
    raise RuntimeError(""Session must be set before!"")
RuntimeError: Session must be set before!
Could not write logs to wasb://container/remote/log/location/1.log
Traceback (most recent call last):
  File ""/opt/airflow/providers/src/airflow/providers/microsoft/azure/log/wasb_task_handler.py"", line 203, in wasb_write
    self.hook.load_string(log, self.wasb_container, remote_log_location, overwrite=True)
  File ""/opt/airflow/providers/src/airflow/providers/microsoft/azure/hooks/wasb.py"", line 361, in load_string
    self.upload(
  File ""/opt/airflow/providers/src/airflow/providers/microsoft/azure/hooks/wasb.py"", line 418, in upload
    blob_client = self._get_blob_client(container_name, blob_name)
  File ""/opt/airflow/providers/src/airflow/providers/microsoft/azure/hooks/wasb.py"", line 233, in _get_blob_client
    return self.blob_service_client.get_blob_client(container=container_name, blob=blob_name)
  File ""/usr/local/lib/python3.9/functools.py"", line 993, in __get__
    val = self.func(instance)
  File ""/opt/airflow/providers/src/airflow/providers/microsoft/azure/hooks/wasb.py"", line 157, in blob_service_client
    return self.get_conn()
  File ""/opt/airflow/providers/src/airflow/providers/microsoft/azure/hooks/wasb.py"", line 161, in get_conn
    conn = self.get_connection(self.conn_id)
  File ""/opt/airflow/airflow/hooks/base.py"", line 64, in get_connection
    conn = Connection.get_connection_from_secrets(conn_id)
  File ""/opt/airflow/airflow/models/connection.py"", line 474, in get_connection_from_secrets
    raise AirflowNotFoundException(f""The conn_id `{conn_id}` isn't defined"")
airflow.exceptions.AirflowNotFoundException: The conn_id `` isn't defined
```

potiuk on (2025-02-07 15:19:31 UTC): Beats me... No idea other than there are side effects from other tests.  I know removing it and replacing with direct mocking helped in pretty much all cases where it happened (many) - I am not going to lose any more time on diving deeper :) - we all lost already far too much time on looking at caplog issues IMHO.

potiuk on (2025-02-07 15:45:01 UTC): Pushed a fixup with conflict resolution :)

potiuk on (2025-02-07 16:24:43 UTC): wooohooo

"
2816447517,pull_request,closed,,Move FTP Provider to the New Structure,"Related: #46045

Provider Related PR: #41463
looks fairly stale, might not be relevant

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",aritra24,2025-01-28 18:34:11+00:00,[],2025-01-30 10:39:31+00:00,2025-01-30 10:39:31+00:00,https://github.com/apache/airflow/pull/46206,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:ftp', '')]","[{'comment_id': 2621528173, 'issue_id': 2816447517, 'author': 'aritra24', 'body': 'Looking into the failures... ðŸ¤”', 'created_at': datetime.datetime(2025, 1, 29, 12, 38, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621532452, 'issue_id': 2816447517, 'author': 'aritra24', 'body': ""I guess it's due to the branch being out of date, merging main in to retry"", 'created_at': datetime.datetime(2025, 1, 29, 12, 40, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621616961, 'issue_id': 2816447517, 'author': 'eladkal', 'body': 'tests are failing', 'created_at': datetime.datetime(2025, 1, 29, 13, 10, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621659470, 'issue_id': 2816447517, 'author': 'aritra24', 'body': 'The failures do not seem related, @eladkal is there any place I can find out if these are flaky tests or have been failing off late?\r\nI see errors like so, which don\'t seem related to this pr.\r\n```\r\n  airflow/api_connexion/endpoints/dag_run_endpoint.py:279: in get_dag_runs_batch\r\n      readable_dag_ids = get_auth_manager().get_permitted_dag_ids(methods=[""GET""], user=g.user)\r\n  airflow/utils/session.py:101: in wrapper\r\n      return func(*args, session=session, **kwargs)\r\n  airflow/auth/managers/base_auth_manager.py:398: in get_permitted_dag_ids\r\n      return self.filter_permitted_dag_ids(dag_ids=dag_ids, methods=methods, user=user)\r\n  airflow/auth/managers/base_auth_manager.py:417: in filter_permitted_dag_ids\r\n      if (""GET"" in methods and self.is_authorized_dag(method=""GET"", user=user)) or (\r\n  airflow/auth/managers/simple/simple_auth_manager.py:183: in is_authorized_dag\r\n      return self._is_authorized(\r\n  airflow/auth/managers/simple/simple_auth_manager.py:296: in _is_authorized\r\n      user_role = user.get_role()\r\n  E   AttributeError: \'NoneType\' object has no attribute \'get_role\'\r\n```', 'created_at': datetime.datetime(2025, 1, 29, 13, 29, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622430331, 'issue_id': 2816447517, 'author': 'aritra24', 'body': '~@vincbeck it looks like your change in #45986 might have broken the amazon provider test in 2.9.3 compat? I see the same error on your [pr](https://github.com/apache/airflow/actions/runs/12992179539/job/36231951612#step:11:1832) but somehow the ci passed? Could you take a look?~ fixed in #46245', 'created_at': datetime.datetime(2025, 1, 29, 17, 45, 56, tzinfo=datetime.timezone.utc)}]","aritra24 (Issue Creator) on (2025-01-29 12:38:02 UTC): Looking into the failures... ðŸ¤”

aritra24 (Issue Creator) on (2025-01-29 12:40:14 UTC): I guess it's due to the branch being out of date, merging main in to retry

eladkal on (2025-01-29 13:10:31 UTC): tests are failing

aritra24 (Issue Creator) on (2025-01-29 13:29:58 UTC): The failures do not seem related, @eladkal is there any place I can find out if these are flaky tests or have been failing off late?
I see errors like so, which don't seem related to this pr.
```
  airflow/api_connexion/endpoints/dag_run_endpoint.py:279: in get_dag_runs_batch
      readable_dag_ids = get_auth_manager().get_permitted_dag_ids(methods=[""GET""], user=g.user)
  airflow/utils/session.py:101: in wrapper
      return func(*args, session=session, **kwargs)
  airflow/auth/managers/base_auth_manager.py:398: in get_permitted_dag_ids
      return self.filter_permitted_dag_ids(dag_ids=dag_ids, methods=methods, user=user)
  airflow/auth/managers/base_auth_manager.py:417: in filter_permitted_dag_ids
      if (""GET"" in methods and self.is_authorized_dag(method=""GET"", user=user)) or (
  airflow/auth/managers/simple/simple_auth_manager.py:183: in is_authorized_dag
      return self._is_authorized(
  airflow/auth/managers/simple/simple_auth_manager.py:296: in _is_authorized
      user_role = user.get_role()
  E   AttributeError: 'NoneType' object has no attribute 'get_role'
```

aritra24 (Issue Creator) on (2025-01-29 17:45:56 UTC): ~@vincbeck it looks like your change in #45986 might have broken the amazon provider test in 2.9.3 compat? I see the same error on your [pr](https://github.com/apache/airflow/actions/runs/12992179539/job/36231951612#step:11:1832) but somehow the ci passed? Could you take a look?~ fixed in #46245

"
2816390381,pull_request,closed,,Updates docs to improve Readability,"Adds a note around hatch/uv and
updates the start airflow flow to
conform to current look.


<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",aritra24,2025-01-28 18:03:07+00:00,[],2025-01-29 15:03:15+00:00,2025-01-29 15:03:15+00:00,https://github.com/apache/airflow/pull/46205,"[('area:dev-tools', '')]","[{'comment_id': 2619714924, 'issue_id': 2816390381, 'author': 'aritra24', 'body': 'Came across some issues while re-setting up airflow with pre-commit not running on python3.13 on mac. Had to force downgrade to python3.9', 'created_at': datetime.datetime(2025, 1, 28, 18, 4, 5, tzinfo=datetime.timezone.utc)}]","aritra24 (Issue Creator) on (2025-01-28 18:04:05 UTC): Came across some issues while re-setting up airflow with pre-commit not running on python3.13 on mac. Had to force downgrade to python3.9

"
2816381490,pull_request,closed,,Fixing OPENLINEAGE system tests import failure after new structure changes,"Fixing OPENLINEAGE system tests after new structure changes.

Failure details: https://github.com/apache/airflow/actions/runs/13015608406/job/36304419072?pr=46186
<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vatsrahul1001,2025-01-28 17:58:45+00:00,[],2025-01-28 19:04:29+00:00,2025-01-28 19:04:29+00:00,https://github.com/apache/airflow/pull/46204,"[('provider:openlineage', 'AIP-53')]",[],
2816365902,pull_request,closed,,Expose security views in Flask application in FAB provider,"All the views under the `security` tab in Airflow 2 are provided by FAB auth manager. These views are: list roles, list users, ... We do not want to re-build these pages in the new UI since, in the future, we want to get rid of FAB auth. The idea is to use these Flask generated views and embed them in the Flask application created in FAB provider. It will probably be confusing for the user because these views use the legacy UI but given we do not want to re-build these pages, this is the only solution we have. 

Technically, these pages are already part of the Flask application, this PR just solves some bugs I found out when trying to access them.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vincbeck,2025-01-28 17:51:14+00:00,[],2025-01-28 19:39:24+00:00,2025-01-28 19:39:21+00:00,https://github.com/apache/airflow/pull/46203,"[('area:providers', ''), ('provider:fab', '')]","[{'comment_id': 2619879869, 'issue_id': 2816365902, 'author': 'jedcunningham', 'body': '> but given we do want to re-build these pages\r\n\r\nminor typo in description - we dop NOT want to rebuild them.', 'created_at': datetime.datetime(2025, 1, 28, 19, 26, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619900820, 'issue_id': 2816365902, 'author': 'vincbeck', 'body': '> > but given we do want to re-build these pages\r\n> \r\n> minor typo in description - we dop NOT want to rebuild them.\r\n\r\nOopsie ðŸ˜¨ Description updated :) Thanks for the review!', 'created_at': datetime.datetime(2025, 1, 28, 19, 38, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619902671, 'issue_id': 2816365902, 'author': 'vincbeck', 'body': 'Errors unrelated to the PR, merging', 'created_at': datetime.datetime(2025, 1, 28, 19, 39, 18, tzinfo=datetime.timezone.utc)}]","jedcunningham on (2025-01-28 19:26:49 UTC): minor typo in description - we dop NOT want to rebuild them.

vincbeck (Issue Creator) on (2025-01-28 19:38:14 UTC): Oopsie ðŸ˜¨ Description updated :) Thanks for the review!

vincbeck (Issue Creator) on (2025-01-28 19:39:18 UTC): Errors unrelated to the PR, merging

"
2816344174,pull_request,closed,,Fixing apache beam system tests import failure after new structure changes,"Fixing apache beam system tests after new structure changes.

failure details :https://github.com/apache/airflow/actions/runs/13015608406/job/36304419072?pr=46186

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vatsrahul1001,2025-01-28 17:40:45+00:00,[],2025-01-28 21:47:33+00:00,2025-01-28 19:03:22+00:00,https://github.com/apache/airflow/pull/46201,"[('provider:apache-beam', '')]","[{'comment_id': 2619835791, 'issue_id': 2816344174, 'author': 'potiuk', 'body': 'They are openlineage related :(', 'created_at': datetime.datetime(2025, 1, 28, 19, 3, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620123523, 'issue_id': 2816344174, 'author': 'dstandish', 'body': 'seems these failures are still in main', 'created_at': datetime.datetime(2025, 1, 28, 21, 47, 32, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-28 19:03:32 UTC): They are openlineage related :(

dstandish on (2025-01-28 21:47:32 UTC): seems these failures are still in main

"
2816256655,pull_request,closed,,Fix TestTriggerDagRun logging db assertion,"We are currently adding the `path.url `as it is in log table instead of replacing `\` with `.`  
<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vatsrahul1001,2025-01-28 17:01:33+00:00,[],2025-01-28 19:02:08+00:00,2025-01-28 19:02:07+00:00,https://github.com/apache/airflow/pull/46186,[],[],
2816186984,pull_request,closed,,New Optional dbt Cloud Job Operator Params - More Flexible Lookup,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
This is alternative version of #45634 with more flexible lookup options as per @jaklan suggestion (https://github.com/apache/airflow/pull/45634#pullrequestreview-2557110660).

Direct comparison of both PRs: https://github.com/ginone/airflow/pull/3/files 

---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",ginone,2025-01-28 16:31:55+00:00,[],2025-02-07 09:32:48+00:00,2025-02-07 09:32:48+00:00,https://github.com/apache/airflow/pull/46184,"[('area:providers', ''), ('kind:documentation', ''), ('provider:dbt-cloud', '')]","[{'comment_id': 2630239083, 'issue_id': 2816186984, 'author': 'Lee-W', 'body': 'convert it to draft as I think the original idea is better', 'created_at': datetime.datetime(2025, 2, 3, 8, 11, 49, tzinfo=datetime.timezone.utc)}]","Lee-W on (2025-02-03 08:11:49 UTC): convert it to draft as I think the original idea is better

"
2816078007,pull_request,closed,,"Revert ""Retry K8s tests on failures (#46064)""","This reverts commit cffb3c88d64c59f475ace95a329f1026aea9148d.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-01-28 15:50:46+00:00,[],2025-01-28 16:00:14+00:00,2025-01-28 16:00:11+00:00,https://github.com/apache/airflow/pull/46183,"[('area:dev-tools', '')]",[],
2816024194,pull_request,closed,,Fix grid sort bug,"Fix an [issue](https://github.com/apache/airflow/pull/45497#issuecomment-2614095717) where the grid view was resorting itself. This was due to the inline use of `.reverse()` which edited the runs in place. Now we reverse the list using a much safer css approach.


---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",bbovenzi,2025-01-28 15:29:12+00:00,[],2025-01-28 21:13:35+00:00,2025-01-28 20:25:16+00:00,https://github.com/apache/airflow/pull/46182,"[('area:UI', 'Related to UI/UX. For Frontend Developers.')]","[{'comment_id': 2619332172, 'issue_id': 2816024194, 'author': 'bbovenzi', 'body': '@jscheffl Let me know if this fixes it for you', 'created_at': datetime.datetime(2025, 1, 28, 15, 29, 28, tzinfo=datetime.timezone.utc)}]","bbovenzi (Issue Creator) on (2025-01-28 15:29:28 UTC): @jscheffl Let me know if this fixes it for you

"
2815927324,pull_request,closed,,Enable to add inline ssh key in GitHook,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->

closes: #45979

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",jx2lee,2025-01-28 14:56:00+00:00,[],2025-02-05 15:34:05+00:00,2025-02-05 15:34:05+00:00,https://github.com/apache/airflow/pull/46181,"[('area:DAG-processing', ''), ('AIP-66: DAG Bundle/Manifest', '')]",[],
2815879112,pull_request,closed,,Fix test failures in `api_connexion`,"See https://apache-airflow.slack.com/archives/C06K9Q5G2UA/p1738070525464679

#46136 introduced some bugs and made the tests fail but because of a bug in the CI, these tests were marked as green. Fix for the CI: #46183

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vincbeck,2025-01-28 14:40:56+00:00,[],2025-01-28 16:41:29+00:00,2025-01-28 16:41:26+00:00,https://github.com/apache/airflow/pull/46180,"[('legacy api', 'Whether legacy API changes should be allowed in PR')]",[],
2815785836,pull_request,closed,,Fix view_url replace properly url in GitHook,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->

related: #45998

I found [my PR](https://github.com/apache/airflow/pull/46073) is wrong to replace `.git` to blank. If url include `.git` the middle(git@myorg.github.com:apache/airflow.git), return `https://myorghub.com:apache/airflow`. Missed it..

All tests in `test_dag_bundles.py` passed
@jedcunningham 

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",jx2lee,2025-01-28 14:07:58+00:00,[],2025-01-29 05:31:30+00:00,2025-01-29 05:31:29+00:00,https://github.com/apache/airflow/pull/46179,"[('area:DAG-processing', '')]","[{'comment_id': 2620753126, 'issue_id': 2815785836, 'author': 'jx2lee', 'body': ""@jedcunningham #46073 is reverted, so this should be closed. (test in CI workflow didn't work properly)\r\nI'll make new PR contained #46073 and this(#46179)"", 'created_at': datetime.datetime(2025, 1, 29, 5, 31, 29, tzinfo=datetime.timezone.utc)}]","jx2lee (Issue Creator) on (2025-01-29 05:31:29 UTC): @jedcunningham #46073 is reverted, so this should be closed. (test in CI workflow didn't work properly)
I'll make new PR contained #46073 and this(#46179)

"
2815678546,pull_request,closed,,Sync v2-10-stable with v2-10-test(sync_v2-10-5-test) to release 2.10.5,Time for 2.10.5rc1!,utkarsharma2,2025-01-28 13:29:26+00:00,[],2025-02-03 16:49:03+00:00,2025-02-03 16:49:03+00:00,https://github.com/apache/airflow/pull/46178,"[('area:dev-tools', ''), ('legacy ui', 'Whether legacy UI change should be allowed in PR'), ('legacy api', 'Whether legacy API changes should be allowed in PR')]","[{'comment_id': 2621909564, 'issue_id': 2815678546, 'author': 'ephraimbuddy', 'body': 'Can we get this in: https://github.com/apache/airflow/pull/45749#discussion_r1925030404', 'created_at': datetime.datetime(2025, 1, 29, 15, 4, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621928686, 'issue_id': 2815678546, 'author': 'utkarsharma2', 'body': ""> Can we get this in: [#45749 (comment)](https://github.com/apache/airflow/pull/45749#discussion_r1925030404)\r\n\r\nSure, I'll it."", 'created_at': datetime.datetime(2025, 1, 29, 15, 11, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621969551, 'issue_id': 2815678546, 'author': 'pierrejeambrun', 'body': 'I just merged it. Backport PR is here https://github.com/apache/airflow/pull/46243', 'created_at': datetime.datetime(2025, 1, 29, 15, 28, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624033274, 'issue_id': 2815678546, 'author': 'utkarsharma2', 'body': '> I just merged it. Backport PR is here #46243\r\n\r\nI have included this PR.', 'created_at': datetime.datetime(2025, 1, 30, 10, 1, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630687324, 'issue_id': 2815678546, 'author': 'eladkal', 'body': 'I think https://github.com/apache/airflow/pull/46337 is missing', 'created_at': datetime.datetime(2025, 2, 3, 11, 31, 13, tzinfo=datetime.timezone.utc)}]","ephraimbuddy on (2025-01-29 15:04:51 UTC): Can we get this in: https://github.com/apache/airflow/pull/45749#discussion_r1925030404

utkarsharma2 (Issue Creator) on (2025-01-29 15:11:36 UTC): Sure, I'll it.

pierrejeambrun on (2025-01-29 15:28:01 UTC): I just merged it. Backport PR is here https://github.com/apache/airflow/pull/46243

utkarsharma2 (Issue Creator) on (2025-01-30 10:01:29 UTC): I have included this PR.

eladkal on (2025-02-03 11:31:13 UTC): I think https://github.com/apache/airflow/pull/46337 is missing

"
2815496534,pull_request,closed,,AIP84- Log user actions for DAGRUN endpoints,"Related: https://github.com/apache/airflow/issues/44057

In [PR](https://github.com/apache/airflow/pull/45609) we have implemented logging decorator and verified couple of endpoints with it. This follow up PR add logging for all DAGRUN endpoints.

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vatsrahul1001,2025-01-28 12:19:54+00:00,[],2025-02-07 17:21:55+00:00,2025-02-07 17:21:53+00:00,https://github.com/apache/airflow/pull/46177,[],[],
2815349644,pull_request,closed,,AIP-72: Move DAG Params to Task SDK,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->
closes: #44361

### Why?
DAG Params are needed to provide runtime information to tasks: https://airflow.apache.org/docs/apache-airflow/stable/core-concepts/params.html. They are generally useful when you want to provide a per DAG Run level configuration for a dag run, lets say some dynamic information.

These work with legacy Airflow 2 and should be ported over to task sdk.
- The dag params classes from models have been ported over to the task sdk under `definitions` along with changing tests, references, documentation (atleast most of it), and general refs.
- The existing tests continue to run


### Testing

#### Basic Testing
DAG used for testing:
```
from airflow import DAG
from airflow.decorators import task
from airflow.sdk import Param

with DAG(
    ""param_dag"",
    params={
        ""x"": Param(5, type=""integer"", minimum=3),
        ""my_int_param"": 6
    },
) as dag:

    @task
    def example_task():
        # This will print the default value, 6:
        print(dag.params['my_int_param'])


    example_task()
```

![image](https://github.com/user-attachments/assets/55d96bf7-10c7-4c89-a422-1e435b69a6ee)


#### Params Trigger UI from example dags
```
from __future__ import annotations

import datetime
from pathlib import Path

from airflow.decorators import task
from airflow.models.dag import DAG
from airflow.sdk.definitions.param import Param, ParamsDict
from airflow.utils.trigger_rule import TriggerRule

# [START params_trigger]
with DAG(
    dag_id=Path(__file__).stem,
    dag_display_name=""Params Trigger UI"",
    description=__doc__.partition(""."")[0],
    doc_md=__doc__,
    schedule=None,
    start_date=datetime.datetime(2022, 3, 4),
    catchup=False,
    tags=[""example"", ""params""],
    params={
        ""names"": Param(
            [""Linda"", ""Martha"", ""Thomas""],
            type=""array"",
            description=""Define the list of names for which greetings should be generated in the logs.""
            "" Please have one name per line."",
            title=""Names to greet"",
        ),
        ""english"": Param(True, type=""boolean"", title=""English""),
        ""german"": Param(True, type=""boolean"", title=""German (Formal)""),
        ""french"": Param(True, type=""boolean"", title=""French""),
    },
) as dag:

    @task(task_id=""get_names"", task_display_name=""Get names"")
    def get_names(**kwargs) -> list[str]:
        params: ParamsDict = kwargs[""params""]
        if ""names"" not in params:
            print(""Uuups, no names given, was no UI used to trigger?"")
            return []
        return params[""names""]

    @task.branch(task_id=""select_languages"", task_display_name=""Select languages"")
    def select_languages(**kwargs) -> list[str]:
        params: ParamsDict = kwargs[""params""]
        selected_languages = []
        for lang in [""english"", ""german"", ""french""]:
            if params[lang]:
                selected_languages.append(f""generate_{lang}_greeting"")
        return selected_languages

    @task(task_id=""generate_english_greeting"", task_display_name=""Generate English greeting"")
    def generate_english_greeting(name: str) -> str:
        return f""Hello {name}!""

    @task(task_id=""generate_german_greeting"", task_display_name=""Erzeuge Deutsche BegrÃ¼ÃŸung"")
    def generate_german_greeting(name: str) -> str:
        return f""Sehr geehrter Herr/Frau {name}.""

    @task(task_id=""generate_french_greeting"", task_display_name=""Produire un message d'accueil en franÃ§ais"")
    def generate_french_greeting(name: str) -> str:
        return f""Bonjour {name}!""

    @task(task_id=""print_greetings"", task_display_name=""Print greetings"", trigger_rule=TriggerRule.ALL_DONE)
    def print_greetings(greetings1, greetings2, greetings3) -> None:
        for g in greetings1 or []:
            print(g)
        for g in greetings2 or []:
            print(g)
        for g in greetings3 or []:
            print(g)
        if not (greetings1 or greetings2 or greetings3):
            print(""sad, nobody to greet :-("")

    lang_select = select_languages()
    names = get_names()
    english_greetings = generate_english_greeting.expand(name=names)
    german_greetings = generate_german_greeting.expand(name=names)
    french_greetings = generate_french_greeting.expand(name=names)
    lang_select >> [english_greetings, german_greetings, french_greetings]
    results_print = print_greetings(english_greetings, german_greetings, french_greetings)
# [END params_trigger]
```

<img width=""1723"" alt=""image"" src=""https://github.com/user-attachments/assets/2ce09a68-b21c-47eb-89e9-9b077b2c26ca"" />

<img width=""1723"" alt=""image"" src=""https://github.com/user-attachments/assets/9236f4e3-7738-497b-85ad-a0be6490d2c5"" />

<img width=""1723"" alt=""image"" src=""https://github.com/user-attachments/assets/1a1aba71-1036-4db5-a7db-3ff031cb1ae9"" />

The failures above are because mappedtasks dont work yet

#### Params UI tutorial DAG demonstrating various options for a trigger form generated by DAG params

Run config:
```
{
    ""a_simple_list"": [
        ""one"",
        ""two"",
        ""three"",
        ""actually one value is made per line""
    ],
    ""array_of_numbers"": [
        1,
        2,
        3
    ],
    ""array_of_objects"": [
        {
            ""country"": ""country_name"",
            ""name"": ""account_name""
        }
    ],
    ""bool"": true,
    ""checked_number"": 100,
    ""checked_text"": ""length-checked-field"",
    ""date"": ""2025-01-27"",
    ""date_time"": ""2025-01-27T12:17:00+00:00"",
    ""flag"": false,
    ""hidden_secret_field"": ""constant value"",
    ""most_loved_number"": 42,
    ""multi_select"": [
        ""two"",
        ""three""
    ],
    ""multi_select_with_label"": [
        ""2"",
        ""3""
    ],
    ""multiline_text"": ""A multiline text Param\nthat will keep the newline\ncharacters in its value."",
    ""object"": {
        ""key"": ""value""
    },
    ""optional_field"": ""optional text, you can trigger also w/o text"",
    ""pick_one"": ""value 42"",
    ""pick_with_label"": 3,
    ""proposals"": ""Alpha"",
    ""required_field"": ""dummy dummy"",
    ""text"": ""Hello World!"",
    ""time"": ""12:13:14"",
    ""x"": 3
}
```

<img width=""1723"" alt=""image"" src=""https://github.com/user-attachments/assets/2b8bdc58-b95d-4e02-a88a-86c6f8458201"" />

Logs:
```
beef66d4770b
 â–¶ Log message source details
{""logger"":""airflow.dag_processing.bundles.manager.DagBundlesManager"",""timestamp"":""2025-01-27T15:26:19.910440"",""event"":""DAG bundles loaded: dags-folder, example_dags"",""level"":""info""}
{""logger"":""airflow.models.dagbag.DagBag"",""timestamp"":""2025-01-27T15:26:19.910732"",""event"":""Filling up the DagBag from /opt/airflow/airflow/example_dags/example_params_ui_tutorial.py"",""level"":""info""}
{""logger"":""airflow.models.dagbag.DagBag"",""timestamp"":""2025-01-27T15:26:19.911277"",""event"":""Importing /opt/airflow/airflow/example_dags/example_params_ui_tutorial.py"",""level"":""debug""}
{""logger"":""airflow.models.dagbag.DagBag"",""timestamp"":""2025-01-27T15:26:19.946419"",""event"":""Loaded DAG <DAG: example_params_ui_tutorial>"",""level"":""debug""}
{""file"":""/opt/airflow/airflow/example_dags/example_params_ui_tutorial.py"",""timestamp"":""2025-01-27T15:26:19.946663"",""logger"":""task"",""event"":""DAG file parsed"",""level"":""debug""}
{""json"":""{\""rendered_fields\"":{\""templates_dict\"":null,\""op_args\"":\""()\"",\""op_kwargs\"":{}},\""type\"":\""SetRenderedFields\""}\n"",""timestamp"":""2025-01-27T15:26:19.946922"",""logger"":""task"",""event"":""Sending request"",""level"":""debug""}
{""logger"":""airflow.sdk.definitions.param"",""timestamp"":""2025-01-27T15:26:19.956861"",""event"":""Updating task params ({'x': 3, 'text': 'Hello World!', 'flag': False, 'a_simple_list': ['one', 'two', 'three', 'actually one value is made per line'], 'most_loved_number': 42, 'pick_one': 'value 42', 'pick_with_label': 3, 'proposals': 'Alpha', 'multi_select': ['two', 'three'], 'multi_select_with_label': ['2', '3'], 'array_of_numbers': [1, 2, 3], 'bool': True, 'date_time': '2025-01-27T12:17:00+00:00', 'date': '2025-01-27', 'time': '12:13:14', 'multiline_text': 'A multiline text Param\\nthat will keep the newline\\ncharacters in its value.', 'required_field': None, 'optional_field': 'optional text, you can trigger also w/o text', 'checked_text': 'length-checked-field', 'checked_number': 100, 'object': {'key': 'value'}, 'array_of_objects': [{'name': 'account_name', 'country': 'country_name'}], 'hidden_secret_field': 'constant value'}) with DagRun.conf ({'x': 3, 'bool': True, 'date': '2025-01-27', 'flag': False, 'text': 'Hello World!', 'time': '12:13:14', 'object': {'key': 'value'}, 'pick_one': 'value 42', 'date_time': '2025-01-27T12:17:00+00:00', 'proposals': 'Alpha', 'checked_text': 'length-checked-field', 'multi_select': ['two', 'three'], 'a_simple_list': ['one', 'two', 'three', 'actually one value is made per line'], 'checked_number': 100, 'multiline_text': 'A multiline text Param\\nthat will keep the newline\\ncharacters in its value.', 'optional_field': 'optional text, you can trigger also w/o text', 'required_field': 'dummy dummy', 'pick_with_label': 3, 'array_of_numbers': [1, 2, 3], 'array_of_objects': [{'name': 'account_name', 'country': 'country_name'}], 'most_loved_number': 42, 'hidden_secret_field': 'constant value', 'multi_select_with_label': ['2', '3']})"",""level"":""debug""}
{""chan"":""stdout"",""event"":""Validates params aere {'x': 3, 'text': 'Hello World!', 'flag': False, 'a_simple_list': ['one', 'two', 'three', 'actually one value is made per line'], 'most_loved_number': 42, 'pick_one': 'value 42', 'pick_with_label': 3, 'proposals': 'Alpha', 'multi_select': ['two', 'three'], 'multi_select_with_label': ['2', '3'], 'array_of_numbers': [1, 2, 3], 'bool': True, 'date_time': '2025-01-27T12:17:00+00:00', 'date': '2025-01-27', 'time': '12:13:14', 'multiline_text': 'A multiline text Param\\nthat will keep the newline\\ncharacters in its value.', 'required_field': 'dummy dummy', 'optional_field': 'optional text, you can trigger also w/o text', 'checked_text': 'length-checked-field', 'checked_number': 100, 'object': {'key': 'value'}, 'array_of_objects': [{'name': 'account_name', 'country': 'country_name'}], 'hidden_secret_field': 'constant value'}"",""timestamp"":""2025-01-27T15:26:19.967251Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""This DAG was triggered with the following parameters:"",""timestamp"":""2025-01-27T15:26:19.971408Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":"""",""timestamp"":""2025-01-27T15:26:19.971505Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""{"",""timestamp"":""2025-01-27T15:26:19.971657Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""x\"": 3,"",""timestamp"":""2025-01-27T15:26:19.971733Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""text\"": \""Hello World!\"","",""timestamp"":""2025-01-27T15:26:19.971813Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""flag\"": false,"",""timestamp"":""2025-01-27T15:26:19.971885Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""a_simple_list\"": ["",""timestamp"":""2025-01-27T15:26:19.971956Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""        \""one\"","",""timestamp"":""2025-01-27T15:26:19.972028Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""        \""two\"","",""timestamp"":""2025-01-27T15:26:19.972097Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""        \""three\"","",""timestamp"":""2025-01-27T15:26:19.972166Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""        \""actually one value is made per line\"""",""timestamp"":""2025-01-27T15:26:19.972238Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    ],"",""timestamp"":""2025-01-27T15:26:19.972313Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""most_loved_number\"": 42,"",""timestamp"":""2025-01-27T15:26:19.972383Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""pick_one\"": \""value 42\"","",""timestamp"":""2025-01-27T15:26:19.972453Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""pick_with_label\"": 3,"",""timestamp"":""2025-01-27T15:26:19.972524Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""proposals\"": \""Alpha\"","",""timestamp"":""2025-01-27T15:26:19.972593Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""multi_select\"": ["",""timestamp"":""2025-01-27T15:26:19.972663Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""        \""two\"","",""timestamp"":""2025-01-27T15:26:19.972734Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""        \""three\"""",""timestamp"":""2025-01-27T15:26:19.972806Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    ],"",""timestamp"":""2025-01-27T15:26:19.972875Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""multi_select_with_label\"": ["",""timestamp"":""2025-01-27T15:26:19.972948Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""        \""2\"","",""timestamp"":""2025-01-27T15:26:19.973017Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""        \""3\"""",""timestamp"":""2025-01-27T15:26:19.973086Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    ],"",""timestamp"":""2025-01-27T15:26:19.973165Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""array_of_numbers\"": ["",""timestamp"":""2025-01-27T15:26:19.973251Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""        1,"",""timestamp"":""2025-01-27T15:26:19.973324Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""        2,"",""timestamp"":""2025-01-27T15:26:19.973396Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""        3"",""timestamp"":""2025-01-27T15:26:19.973464Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    ],"",""timestamp"":""2025-01-27T15:26:19.973534Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""bool\"": true,"",""timestamp"":""2025-01-27T15:26:19.973603Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""date_time\"": \""2025-01-27T12:17:00+00:00\"","",""timestamp"":""2025-01-27T15:26:19.973671Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""date\"": \""2025-01-27\"","",""timestamp"":""2025-01-27T15:26:19.973740Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""time\"": \""12:13:14\"","",""timestamp"":""2025-01-27T15:26:19.973807Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""multiline_text\"": \""A multiline text Param\\nthat will keep the newline\\ncharacters in its value.\"","",""timestamp"":""2025-01-27T15:26:19.973876Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""required_field\"": \""dummy dummy\"","",""timestamp"":""2025-01-27T15:26:19.973946Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""optional_field\"": \""optional text, you can trigger also w/o text\"","",""timestamp"":""2025-01-27T15:26:19.974077Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""checked_text\"": \""length-checked-field\"","",""timestamp"":""2025-01-27T15:26:19.974145Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""checked_number\"": 100,"",""timestamp"":""2025-01-27T15:26:19.974212Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""object\"": {"",""timestamp"":""2025-01-27T15:26:19.974278Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""        \""key\"": \""value\"""",""timestamp"":""2025-01-27T15:26:19.974350Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    },"",""timestamp"":""2025-01-27T15:26:19.974411Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""array_of_objects\"": ["",""timestamp"":""2025-01-27T15:26:19.974478Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""        {"",""timestamp"":""2025-01-27T15:26:19.974559Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""            \""name\"": \""account_name\"","",""timestamp"":""2025-01-27T15:26:19.974625Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""            \""country\"": \""country_name\"""",""timestamp"":""2025-01-27T15:26:19.974692Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""        }"",""timestamp"":""2025-01-27T15:26:19.974777Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    ],"",""timestamp"":""2025-01-27T15:26:19.974844Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""hidden_secret_field\"": \""constant value\"""",""timestamp"":""2025-01-27T15:26:19.974911Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""}"",""timestamp"":""2025-01-27T15:26:19.974980Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":"""",""timestamp"":""2025-01-27T15:26:19.975050Z"",""level"":""info"",""logger"":""task""}
{""logger"":""airflow.task.operators.airflow.decorators.python._PythonDecoratedOperator"",""timestamp"":""2025-01-27T15:26:19.971434"",""event"":""Done. Returned value was: None"",""level"":""info""}
{""json"":""{\""state\"":\""success\"",\""end_date\"":\""2025-01-27T15:26:19.971547Z\"",\""task_outlets\"":[],\""outlet_events\"":[],\""type\"":\""SucceedTask\""}\n"",""timestamp"":""2025-01-27T15:26:19.971629"",""logger"":""task"",""event"":""Sending request"",""level"":""debug""}
```



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",amoghrajesh,2025-01-28 11:23:09+00:00,[],2025-01-31 06:32:43+00:00,2025-01-31 06:32:41+00:00,https://github.com/apache/airflow/pull/46176,"[('area:CLI', ''), ('area:providers', ''), ('area:serialization', ''), ('area:API', ""Airflow's REST/HTTP API""), ('kind:documentation', ''), ('provider:fab', ''), ('area:task-sdk', None), ('provider:edge', 'Edge Executor / Worker (AIP-69)')]","[{'comment_id': 2620850858, 'issue_id': 2815349644, 'author': 'amoghrajesh', 'body': '> Looks like you missed an import in the tests:\r\n> \r\n> ```\r\n> task_sdk/tests/definitions/test_mappedoperator.py:25: in <module>\r\n>     from airflow.models.param import ParamsDict\r\n> E   ModuleNotFoundError: No module named \'airflow.models.param\'\r\n> ```\r\n> \r\n> Which also probably means that we should keep the old module around, but just have it import+""reexport"" it from the Task SDK\r\n\r\nYeah, doesn\'t sound like a bad idea. Let me try that', 'created_at': datetime.datetime(2025, 1, 29, 6, 57, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620899009, 'issue_id': 2815349644, 'author': 'amoghrajesh', 'body': '@ashb moved some more missing references and did some work on moving tests too. Can you take a look when you have some time?', 'created_at': datetime.datetime(2025, 1, 29, 7, 36, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626242784, 'issue_id': 2815349644, 'author': 'amoghrajesh', 'body': 'Phew, just managed to add the tests, instead of relying on XCOMs, wrote the CustomOperator in such a way that we assert `expected` vs `actual` params per test case!', 'created_at': datetime.datetime(2025, 1, 31, 3, 54, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626244060, 'issue_id': 2815349644, 'author': 'amoghrajesh', 'body': 'Very interesting pattern really: \r\n```\r\n    def test_dag_param_resolves_from_task(self, create_runtime_ti, mock_supervisor_comms, time_machine):\r\n        """"""Test dagparam resolves on operator execution""""""\r\n        instant = timezone.datetime(2024, 12, 3, 10, 0)\r\n        time_machine.move_to(instant, tick=False)\r\n\r\n        dag = DAG(dag_id=""dag_with_dag_params"", start_date=timezone.datetime(2024, 12, 3))\r\n        dag.param(""value"", default=""NOTSET"")\r\n\r\n        class CustomOperator(BaseOperator):\r\n            def execute(self, context):\r\n                # important to use self.dag here\r\n                assert self.dag.params[""value""] == ""NOTSET""\r\n\r\n        task = CustomOperator(task_id=""task_with_dag_params"")\r\n        runtime_ti = create_runtime_ti(task=task, dag_id=""dag_with_dag_params"")\r\n\r\n        run(runtime_ti, log=mock.MagicMock())\r\n\r\n        mock_supervisor_comms.send_request.assert_called_once_with(\r\n            msg=SucceedTask(\r\n                state=TerminalTIState.SUCCESS, end_date=instant, task_outlets=[], outlet_events=[]\r\n            ),\r\n            log=mock.ANY,\r\n        )\r\n```\r\n\r\nAt runtime, we parse the `ti` which will trigger reparsing our dag as per the fixtures and will add `params` to it if needed. At runtime, `self.dag.params` should have the required info for a task :)', 'created_at': datetime.datetime(2025, 1, 31, 3, 55, 50, tzinfo=datetime.timezone.utc)}]","amoghrajesh (Issue Creator) on (2025-01-29 06:57:55 UTC): Yeah, doesn't sound like a bad idea. Let me try that

amoghrajesh (Issue Creator) on (2025-01-29 07:36:46 UTC): @ashb moved some more missing references and did some work on moving tests too. Can you take a look when you have some time?

amoghrajesh (Issue Creator) on (2025-01-31 03:54:14 UTC): Phew, just managed to add the tests, instead of relying on XCOMs, wrote the CustomOperator in such a way that we assert `expected` vs `actual` params per test case!

amoghrajesh (Issue Creator) on (2025-01-31 03:55:50 UTC): Very interesting pattern really: 
```
    def test_dag_param_resolves_from_task(self, create_runtime_ti, mock_supervisor_comms, time_machine):
        """"""Test dagparam resolves on operator execution""""""
        instant = timezone.datetime(2024, 12, 3, 10, 0)
        time_machine.move_to(instant, tick=False)

        dag = DAG(dag_id=""dag_with_dag_params"", start_date=timezone.datetime(2024, 12, 3))
        dag.param(""value"", default=""NOTSET"")

        class CustomOperator(BaseOperator):
            def execute(self, context):
                # important to use self.dag here
                assert self.dag.params[""value""] == ""NOTSET""

        task = CustomOperator(task_id=""task_with_dag_params"")
        runtime_ti = create_runtime_ti(task=task, dag_id=""dag_with_dag_params"")

        run(runtime_ti, log=mock.MagicMock())

        mock_supervisor_comms.send_request.assert_called_once_with(
            msg=SucceedTask(
                state=TerminalTIState.SUCCESS, end_date=instant, task_outlets=[], outlet_events=[]
            ),
            log=mock.ANY,
        )
```

At runtime, we parse the `ti` which will trigger reparsing our dag as per the fixtures and will add `params` to it if needed. At runtime, `self.dag.params` should have the required info for a task :)

"
2815099830,pull_request,open,, Refactoring : adding extension to INSTALL file,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",shahbazaamir,2025-01-28 09:37:09+00:00,[],2025-01-29 04:01:24+00:00,,https://github.com/apache/airflow/pull/46174,[],"[{'comment_id': 2618433115, 'issue_id': 2815099830, 'author': 'boring-cyborg[bot]', 'body': ""Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)\nHere are some useful points:\n- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.\n- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.\n- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.\n- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.\n- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.\n- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).\n- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.\nApache Airflow is a community-driven project and together we are making it better ðŸš€.\nIn case of doubts contact the developers at:\nMailing List: dev@airflow.apache.org\nSlack: https://s.apache.org/airflow-slack"", 'created_at': datetime.datetime(2025, 1, 28, 9, 37, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618440978, 'issue_id': 2815099830, 'author': 'shahbazaamir', 'body': 'added extension to INSTALL file to make it more readable \r\n![image](https://github.com/user-attachments/assets/ef8f5dd3-69c6-4efd-b0c8-bb30b65f4531)\r\n![image](https://github.com/user-attachments/assets/d5da020f-e60f-4b71-b26f-a66f867553b5)', 'created_at': datetime.datetime(2025, 1, 28, 9, 40, 55, tzinfo=datetime.timezone.utc)}]","boring-cyborg[bot] on (2025-01-28 09:37:13 UTC): Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)
Here are some useful points:
- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.
- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.
- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.
- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.
- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.
- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).
- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.
Apache Airflow is a community-driven project and together we are making it better ðŸš€.
In case of doubts contact the developers at:
Mailing List: dev@airflow.apache.org
Slack: https://s.apache.org/airflow-slack

shahbazaamir (Issue Creator) on (2025-01-28 09:40:55 UTC): added extension to INSTALL file to make it more readable 
![image](https://github.com/user-attachments/assets/ef8f5dd3-69c6-4efd-b0c8-bb30b65f4531)
![image](https://github.com/user-attachments/assets/d5da020f-e60f-4b71-b26f-a66f867553b5)

"
2814723591,pull_request,closed,,Moved Apache/Cassandra provider to new structure,"Related: #46045 
Moved apache/cassandra and fixed check-for-inclusive-language

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",Prab-27,2025-01-28 06:11:29+00:00,[],2025-01-30 09:42:45+00:00,2025-01-30 09:42:45+00:00,https://github.com/apache/airflow/pull/46171,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:apache-cassandra', '')]","[{'comment_id': 2619637762, 'issue_id': 2814723591, 'author': 'vincbeck', 'body': 'Could you please rebase? There were some bugs in the CI recently', 'created_at': datetime.datetime(2025, 1, 28, 17, 28, 22, tzinfo=datetime.timezone.utc)}]","vincbeck on (2025-01-28 17:28:22 UTC): Could you please rebase? There were some bugs in the CI recently

"
2814635712,pull_request,closed,,use populate_by_name=True in BaseModel,"related to #https://github.com/apache/airflow/pull/44306

When working on https://github.com/apache/airflow/pull/44306, noticed that we are dumping the model data and recreating ConnectionBody. But, issue here is that we dump the model data, output data will have ""schema_"". when this is passed to the ConnectionBody, its considered as a new filed and is ignored. Resulting, `schema_` to be None.  this PR fixes it by updating data using model_validator",rawwar,2025-01-28 05:03:56+00:00,[],2025-01-29 17:02:39+00:00,2025-01-29 17:02:10+00:00,https://github.com/apache/airflow/pull/46168,[],"[{'comment_id': 2618320246, 'issue_id': 2814635712, 'author': 'rawwar', 'body': ""We can either fix this using model_validator or only update `ConnectionBody(**patch_body.model_dump())` to below:\r\n\r\n```\r\ndata = patch_body.model_dump()\r\ndata['schema'] = data.pop('schema_')\r\nConnectionBody(**data)\r\n```\r\n\r\nwhich one looks better, @pierrejeambrun , @bugraoz93"", 'created_at': datetime.datetime(2025, 1, 28, 8, 49, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619549952, 'issue_id': 2814635712, 'author': 'bugraoz93', 'body': ""> We can either fix this using model_validator or only update `ConnectionBody(**patch_body.model_dump())` to below:\n> \n> ```\n> data = patch_body.model_dump()\n> data['schema'] = data.pop('schema_')\n> ConnectionBody(**data)\n> ```\n> \n> which one looks better, @pierrejeambrun , @bugraoz93 \n\nThanks for bringing this up! Model Validator approach seems better in this context. I think the implementation of the endpoints shouldn't intervene datamodels in the ideal scenario. \nFor the problem in general, do you think if we tweak the validation/serialization alias for datamodels, for example, for connection_id, will the problem still persist?"", 'created_at': datetime.datetime(2025, 1, 28, 16, 51, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620506155, 'issue_id': 2814635712, 'author': 'rawwar', 'body': '> For the problem in general, do you think if we tweak the validation/serialization alias for datamodels, for example, for connection_id, will the problem still persist?\r\n\r\nAt least in the ConnectionBody case, yeah. we can def just use `conn_id`(which is the column in db) instead of `connection_id`. we can just update tests to make it work. Should I make this change? Unless we need ""connection_id"" to be in the model', 'created_at': datetime.datetime(2025, 1, 29, 2, 41, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621919803, 'issue_id': 2814635712, 'author': 'rawwar', 'body': ""> Can't we just dump using `by_alias=True` ?\r\n\r\nThat won't work because of connection_id having serialization alias as `conn_id` . We can rename it as i mentioned in previous comment"", 'created_at': datetime.datetime(2025, 1, 29, 15, 8, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621930588, 'issue_id': 2814635712, 'author': 'pierrejeambrun', 'body': ""Do you mind highlighting the code snipped that is causing problem ?\r\n\r\nCan't we `populate_by_name` ? To allow population by both alias and field name ? so `shema_` and `schema` both are valid."", 'created_at': datetime.datetime(2025, 1, 29, 15, 12, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621934948, 'issue_id': 2814635712, 'author': 'rawwar', 'body': ""> Can't we `populate_by_name` ? To allow population by both alias and field name ? so `shema_` and `schema` both are valid.\r\n\r\nDidn't notice `populate_by_name` . This will work. Shall I add it to the BaseModel's ConfigDict?\r\n\r\n\r\n> Do you mind highlighting the code snipped that is causing problem ?\r\n\r\n\r\nhttps://github.com/apache/airflow/blob/823ffde75de0f1b75ee12d82059099f504240f53/airflow/api_fastapi/core_api/datamodels/connections.py#L86\r\n\r\nHere we have connection_id with serialization_alias set to `conn_id`. Hence, we can't use by_alias=True."", 'created_at': datetime.datetime(2025, 1, 29, 15, 14, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621952099, 'issue_id': 2814635712, 'author': 'pierrejeambrun', 'body': ""> Didn't notice populate_by_name . This will work. Shall I add it to the BaseModel's ConfigDict?\r\n\r\nI don't know. I don't think we need that in the base model yet. (edited: if the CI is happy with it lets do that)\r\n\r\n> Do you mind highlighting the code snipped that is causing problem ?\r\n\r\nI was talking about the usage of the model that is causing an issue (in the routes I guess), like where is that a problem ?\r\n\r\n> Here we have connection_id with serialization_alias set to conn_id. Hence, we can't use by_alias=True.\r\n\r\nI didn't get that. Do you see an error ?"", 'created_at': datetime.datetime(2025, 1, 29, 15, 21, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621963466, 'issue_id': 2814635712, 'author': 'rawwar', 'body': '> I was talking about the usage of the model that is causing an issue (in the routes I guess), like where is that a problem ?\r\n>\r\n\r\nhttps://github.com/apache/airflow/blob/2f5cfbff3b5bd408d345dee5531b772b3b801bf1/airflow/api_fastapi/core_api/routes/public/connections.py#L188\r\n\r\n\r\nwhen we use by_alias=True, it throws the following error. Because, `connection_id` is a required field and because of serilization_alias, model_dump returns it as `conn_id`:\r\n\r\n```\r\n\'{""detail"":[{""type"":""missing"",""loc"":[""connection_id""],""msg"":""Field required"",""input"":{""conn_id"":""test_connection_id"",""conn_type"":""test_type"",""description"":null,""host"":null,""login"":null,""schema"":null,""port"":null,""password"":null,""extra"":""{\\\\""key\\\\"": \\\\""var\\\\""}""},""url"":""https://errors.pydantic.dev/2.10/v/missing""},{""type"":""extra_forbidden"",""loc"":[""conn_id""],""msg"":""Extra inputs are not permitted"",""input"":""test_connection_id"",""url"":""https://errors.pydantic.dev/2.10/v/extra_forbidden""}]}\'\r\n```', 'created_at': datetime.datetime(2025, 1, 29, 15, 25, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621979808, 'issue_id': 2814635712, 'author': 'rawwar', 'body': ""> I don't know. I don't think we need that in the base model yet. (edited: if the CI is happy with it lets do that)\r\n> \r\n> >\r\n\r\n~~I think its going to pass. Since, we don't have extra=forbid yet~~\r\n\r\nAfter thinking about above,  I think its irrelevant"", 'created_at': datetime.datetime(2025, 1, 29, 15, 32, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622081147, 'issue_id': 2814635712, 'author': 'pierrejeambrun', 'body': 'https://github.com/apache/airflow/pull/46245 should fix unrelated test failures', 'created_at': datetime.datetime(2025, 1, 29, 16, 11, 49, tzinfo=datetime.timezone.utc)}]","rawwar (Issue Creator) on (2025-01-28 08:49:12 UTC): We can either fix this using model_validator or only update `ConnectionBody(**patch_body.model_dump())` to below:

```
data = patch_body.model_dump()
data['schema'] = data.pop('schema_')
ConnectionBody(**data)
```

which one looks better, @pierrejeambrun , @bugraoz93

bugraoz93 on (2025-01-28 16:51:32 UTC): Thanks for bringing this up! Model Validator approach seems better in this context. I think the implementation of the endpoints shouldn't intervene datamodels in the ideal scenario. 
For the problem in general, do you think if we tweak the validation/serialization alias for datamodels, for example, for connection_id, will the problem still persist?

rawwar (Issue Creator) on (2025-01-29 02:41:52 UTC): At least in the ConnectionBody case, yeah. we can def just use `conn_id`(which is the column in db) instead of `connection_id`. we can just update tests to make it work. Should I make this change? Unless we need ""connection_id"" to be in the model

rawwar (Issue Creator) on (2025-01-29 15:08:07 UTC): That won't work because of connection_id having serialization alias as `conn_id` . We can rename it as i mentioned in previous comment

pierrejeambrun on (2025-01-29 15:12:22 UTC): Do you mind highlighting the code snipped that is causing problem ?

Can't we `populate_by_name` ? To allow population by both alias and field name ? so `shema_` and `schema` both are valid.

rawwar (Issue Creator) on (2025-01-29 15:14:13 UTC): Didn't notice `populate_by_name` . This will work. Shall I add it to the BaseModel's ConfigDict?




https://github.com/apache/airflow/blob/823ffde75de0f1b75ee12d82059099f504240f53/airflow/api_fastapi/core_api/datamodels/connections.py#L86

Here we have connection_id with serialization_alias set to `conn_id`. Hence, we can't use by_alias=True.

pierrejeambrun on (2025-01-29 15:21:04 UTC): I don't know. I don't think we need that in the base model yet. (edited: if the CI is happy with it lets do that)


I was talking about the usage of the model that is causing an issue (in the routes I guess), like where is that a problem ?


I didn't get that. Do you see an error ?

rawwar (Issue Creator) on (2025-01-29 15:25:42 UTC): https://github.com/apache/airflow/blob/2f5cfbff3b5bd408d345dee5531b772b3b801bf1/airflow/api_fastapi/core_api/routes/public/connections.py#L188


when we use by_alias=True, it throws the following error. Because, `connection_id` is a required field and because of serilization_alias, model_dump returns it as `conn_id`:

```
'{""detail"":[{""type"":""missing"",""loc"":[""connection_id""],""msg"":""Field required"",""input"":{""conn_id"":""test_connection_id"",""conn_type"":""test_type"",""description"":null,""host"":null,""login"":null,""schema"":null,""port"":null,""password"":null,""extra"":""{\\""key\\"": \\""var\\""}""},""url"":""https://errors.pydantic.dev/2.10/v/missing""},{""type"":""extra_forbidden"",""loc"":[""conn_id""],""msg"":""Extra inputs are not permitted"",""input"":""test_connection_id"",""url"":""https://errors.pydantic.dev/2.10/v/extra_forbidden""}]}'
```

rawwar (Issue Creator) on (2025-01-29 15:32:07 UTC): ~~I think its going to pass. Since, we don't have extra=forbid yet~~

After thinking about above,  I think its irrelevant

pierrejeambrun on (2025-01-29 16:11:49 UTC): https://github.com/apache/airflow/pull/46245 should fix unrelated test failures

"
2814628949,pull_request,closed,,Fix scheduler/dag-processor docs typo,"This lead to a block of inline code due to the missing space.

Before:
<img width=""1039"" alt=""Screenshot 2025-01-27 at 9 34 00â€¯PM"" src=""https://github.com/user-attachments/assets/84d4b334-ba91-4db8-a981-755a7bebca2e"" />

After:
<img width=""1013"" alt=""Screenshot 2025-01-27 at 9 53 02â€¯PM"" src=""https://github.com/user-attachments/assets/42fc0c8a-2f53-490c-a710-4eeea322bce1"" />
",jedcunningham,2025-01-28 04:57:29+00:00,[],2025-01-28 07:10:40+00:00,2025-01-28 07:10:40+00:00,https://github.com/apache/airflow/pull/46167,"[('area:Scheduler', 'including HA (high availability) scheduler'), ('kind:documentation', ''), ('type:doc-only', 'Changelog: Doc Only'), ('area:DAG-processing', '')]",[],
2814626074,pull_request,closed,,Move GRPC provider to new provider structure,"related : #46045 
Moved GRPC provider and fixed spell-check
<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",Prab-27,2025-01-28 04:55:53+00:00,[],2025-02-01 12:07:54+00:00,2025-02-01 09:42:29+00:00,https://github.com/apache/airflow/pull/46166,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:grpc', '')]","[{'comment_id': 2624130733, 'issue_id': 2814626074, 'author': 'potiuk', 'body': 'And rebase again :(', 'created_at': datetime.datetime(2025, 1, 30, 10, 43, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628926850, 'issue_id': 2814626074, 'author': 'potiuk', 'body': 'â¤ï¸', 'created_at': datetime.datetime(2025, 2, 1, 12, 7, 53, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-30 10:43:18 UTC): And rebase again :(

potiuk on (2025-02-01 12:07:53 UTC): â¤ï¸

"
2814623976,pull_request,open,,add readiness and liveliness support for git sync relay sidecars,"**PR Description**

This PR adds support for liveliness and readiness probe configuration to airflow sidecar container when gitsync dags enabled with probes defined.

**Motivation**
This is quite useful in places where companies has strict requirement of defining probes in all containers

",pgvishnuram,2025-01-28 04:54:17+00:00,[],2025-02-07 03:24:34+00:00,,https://github.com/apache/airflow/pull/46165,"[('area:helm-chart', 'Airflow Helm Chart')]","[{'comment_id': 2618410435, 'issue_id': 2814623976, 'author': 'pgvishnuram', 'body': ""@jed seems this is also added as a init container which don't support probes - let me rework this PR"", 'created_at': datetime.datetime(2025, 1, 28, 9, 27, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621152305, 'issue_id': 2814623976, 'author': 'pgvishnuram', 'body': '@jedcunningham  @dstandish @hussein-awala', 'created_at': datetime.datetime(2025, 1, 29, 9, 47, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621460621, 'issue_id': 2814623976, 'author': 'jed', 'body': 'please stop @-ing me.', 'created_at': datetime.datetime(2025, 1, 29, 12, 5, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632620610, 'issue_id': 2814623976, 'author': 'himabindu07', 'body': '> **PR Description**\r\n> \r\n> This PR adds support for liveliness and readiness probe configuration to airflow sidecar container when gitsync dags enabled with probes defined.\r\n> \r\n> **Motivation** This is quite useful in places where companies has strict requirement of defining probes in all containers\r\n\r\n##Related issue: \r\nhttps://github.com/astronomer/issues/issues/6933', 'created_at': datetime.datetime(2025, 2, 4, 2, 29, 37, tzinfo=datetime.timezone.utc)}]","pgvishnuram (Issue Creator) on (2025-01-28 09:27:04 UTC): @jed seems this is also added as a init container which don't support probes - let me rework this PR

pgvishnuram (Issue Creator) on (2025-01-29 09:47:49 UTC): @jedcunningham  @dstandish @hussein-awala

jed on (2025-01-29 12:05:49 UTC): please stop @-ing me.

himabindu07 on (2025-02-04 02:29:37 UTC): ##Related issue: 
https://github.com/astronomer/issues/issues/6933

"
2814602724,pull_request,closed,,Minor cleanup and better docstrings/comments for DAG parsing,"There is no real functional changes in this PR - just comments, doc strings, moving an import, and some logging cleanup.",jedcunningham,2025-01-28 04:33:11+00:00,[],2025-02-03 19:44:43+00:00,2025-02-03 19:44:41+00:00,https://github.com/apache/airflow/pull/46164,"[('full tests needed', 'We need to run full set of tests for this PR to merge'), ('area:DAG-processing', ''), ('AIP-66: DAG Bundle/Manifest', '')]",[],
2814602541,pull_request,closed,,Adding type ignore to sql hook,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->

As reported by someone on slack, looks like due to #45640, static check issue was introduced.

Usages of these properties are defined as Optional in __init__, so this fix would work.

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",amoghrajesh,2025-01-28 04:33:00+00:00,[],2025-01-28 06:14:01+00:00,2025-01-28 06:14:01+00:00,https://github.com/apache/airflow/pull/46163,"[('provider:common-sql', '')]","[{'comment_id': 2617841906, 'issue_id': 2814602541, 'author': 'amoghrajesh', 'body': '@jedcunningham yea that works. Can you take a look again?', 'created_at': datetime.datetime(2025, 1, 28, 4, 53, 23, tzinfo=datetime.timezone.utc)}]","amoghrajesh (Issue Creator) on (2025-01-28 04:53:23 UTC): @jedcunningham yea that works. Can you take a look again?

"
2814582130,pull_request,closed,,Move Trino provider to new provider structure,"Related : #46045 
<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",Prab-27,2025-01-28 04:16:16+00:00,[],2025-01-30 10:45:37+00:00,2025-01-30 10:45:36+00:00,https://github.com/apache/airflow/pull/46162,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:trino', '')]","[{'comment_id': 2617838824, 'issue_id': 2814582130, 'author': 'amoghrajesh', 'body': 'Lets wait for the checks to complete and we caan merge it', 'created_at': datetime.datetime(2025, 1, 28, 4, 49, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619634213, 'issue_id': 2814582130, 'author': 'vincbeck', 'body': 'Could you please rebase? There were some bugs in the CI recently', 'created_at': datetime.datetime(2025, 1, 28, 17, 26, 46, tzinfo=datetime.timezone.utc)}]","amoghrajesh on (2025-01-28 04:49:29 UTC): Lets wait for the checks to complete and we caan merge it

vincbeck on (2025-01-28 17:26:46 UTC): Could you please rebase? There were some bugs in the CI recently

"
2814536418,pull_request,closed,,Move Apprise provider to new structure,"Related : #46045 

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",Prab-27,2025-01-28 03:22:33+00:00,[],2025-01-30 10:25:27+00:00,2025-01-30 10:25:27+00:00,https://github.com/apache/airflow/pull/46161,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:apprise', '')]","[{'comment_id': 2617831948, 'issue_id': 2814536418, 'author': 'amoghrajesh', 'body': 'Just approved few workflows, can merge when green', 'created_at': datetime.datetime(2025, 1, 28, 4, 41, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619637042, 'issue_id': 2814536418, 'author': 'vincbeck', 'body': 'Could you please rebase? There were some bugs in the CI recently', 'created_at': datetime.datetime(2025, 1, 28, 17, 28, 4, tzinfo=datetime.timezone.utc)}]","amoghrajesh on (2025-01-28 04:41:15 UTC): Just approved few workflows, can merge when green

vincbeck on (2025-01-28 17:28:04 UTC): Could you please rebase? There were some bugs in the CI recently

"
2814374537,pull_request,closed,,Satisfy Mypy for Livy Hook,"The Livy Hook shows ... strange MyPy errors and hard to say why.

First of all it incorrectly used multiple inheritance (BaseHook already inherist from LoggingMixin) but then it seems that mypy has been lost when it comes to fields available in the hook. Setting them directly (like it happens in other hooks deriving from HttpHook solves the MyPy issues.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-01-28 00:54:00+00:00,[],2025-01-28 01:23:10+00:00,2025-01-28 01:22:56+00:00,https://github.com/apache/airflow/pull/46157,"[('area:providers', ''), ('provider:apache-livy', '')]","[{'comment_id': 2617413373, 'issue_id': 2814374537, 'author': 'potiuk', 'body': 'passed tests :)', 'created_at': datetime.datetime(2025, 1, 28, 1, 23, 9, tzinfo=datetime.timezone.utc)}]","potiuk (Issue Creator) on (2025-01-28 01:23:09 UTC): passed tests :)

"
2814353187,pull_request,closed,,Fix my-py error in Apache Livy Provider,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->
Fix my-py error in Apache Livy Provider in main


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",bugraoz93,2025-01-28 00:33:33+00:00,[],2025-01-28 09:09:28+00:00,2025-01-28 09:09:28+00:00,https://github.com/apache/airflow/pull/46156,"[('area:providers', ''), ('provider:apache-livy', '')]","[{'comment_id': 2617356395, 'issue_id': 2814353187, 'author': 'potiuk', 'body': 'I think I have a better fix : https://github.com/apache/airflow/pull/46157', 'created_at': datetime.datetime(2025, 1, 28, 0, 57, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618372702, 'issue_id': 2814353187, 'author': 'bugraoz93', 'body': ""> I think I have a better fix : https://github.com/apache/airflow/pull/46157\n\nThat's indeed better, thanks! :) Closing this in favor of yours."", 'created_at': datetime.datetime(2025, 1, 28, 9, 9, 24, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-28 00:57:32 UTC): I think I have a better fix : https://github.com/apache/airflow/pull/46157

bugraoz93 (Issue Creator) on (2025-01-28 09:09:24 UTC): That's indeed better, thanks! :) Closing this in favor of yours.

"
2814310089,pull_request,closed,,Move SFTP Provider to the New Structure,"related: #46045

Provider Related PR: #41463
There is a PR for this provider, only four lines (2 in provider, 2 in test) of change. Rebasing should fix the problems if this creates conflicts.

Move SFTP Provider to the New Structure and fix `codespell` checks

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",bugraoz93,2025-01-27 23:54:32+00:00,[],2025-01-28 00:55:51+00:00,2025-01-28 00:55:51+00:00,https://github.com/apache/airflow/pull/46155,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:sftp', '')]",[],
2814199323,pull_request,closed,,Allow to pass container_name parameter to EcsRunTaskOperator,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Add container_name parameter to EcsRunTaskOperator as some task definitions might have more than 1 container defined.

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #43130

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->

Add `container_name` parameter to `EcsRunTaskOperator` as some task definitions might have more than 1 container defined.

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #43130


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",eliskovets,2025-01-27 22:34:44+00:00,[],2025-02-04 17:03:24+00:00,2025-02-04 17:03:18+00:00,https://github.com/apache/airflow/pull/46152,"[('provider:amazon', 'AWS/Amazon - related issues'), ('area:providers', '')]","[{'comment_id': 2617040447, 'issue_id': 2814199323, 'author': 'boring-cyborg[bot]', 'body': ""Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)\nHere are some useful points:\n- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.\n- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.\n- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.\n- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.\n- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.\n- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).\n- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.\nApache Airflow is a community-driven project and together we are making it better ðŸš€.\nIn case of doubts contact the developers at:\nMailing List: dev@airflow.apache.org\nSlack: https://s.apache.org/airflow-slack"", 'created_at': datetime.datetime(2025, 1, 27, 22, 34, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623051813, 'issue_id': 2814199323, 'author': 'eliskovets', 'body': ""I've fixed the test and formatting, may I get the checks approved? \nThank you"", 'created_at': datetime.datetime(2025, 1, 29, 22, 48, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634430360, 'issue_id': 2814199323, 'author': 'eliskovets', 'body': ""@o-nikolas Thank you for reviewing it. It's all green now. Could you please merge it? \r\nThank you!"", 'created_at': datetime.datetime(2025, 2, 4, 16, 9, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634563444, 'issue_id': 2814199323, 'author': 'boring-cyborg[bot]', 'body': 'Awesome work, congrats on your first merged pull request! You are invited to check our [Issue Tracker](https://github.com/apache/airflow/issues) for additional contributions.', 'created_at': datetime.datetime(2025, 2, 4, 17, 3, 21, tzinfo=datetime.timezone.utc)}]","boring-cyborg[bot] on (2025-01-27 22:34:48 UTC): Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)
Here are some useful points:
- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.
- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.
- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.
- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.
- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.
- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).
- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.
Apache Airflow is a community-driven project and together we are making it better ðŸš€.
In case of doubts contact the developers at:
Mailing List: dev@airflow.apache.org
Slack: https://s.apache.org/airflow-slack

eliskovets (Issue Creator) on (2025-01-29 22:48:41 UTC): I've fixed the test and formatting, may I get the checks approved? 
Thank you

eliskovets (Issue Creator) on (2025-02-04 16:09:42 UTC): @o-nikolas Thank you for reviewing it. It's all green now. Could you please merge it? 
Thank you!

boring-cyborg[bot] on (2025-02-04 17:03:21 UTC): Awesome work, congrats on your first merged pull request! You are invited to check our [Issue Tracker](https://github.com/apache/airflow/issues) for additional contributions.

"
2814050001,pull_request,closed,,Added test case for `wait_for_completion = True`,"Adding on top of #28052 

Added test case for `wait_for_completion = True`. Previous test was only testing for false.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",deban9017,2025-01-27 21:00:57+00:00,[],2025-01-28 04:36:52+00:00,2025-01-28 04:36:39+00:00,https://github.com/apache/airflow/pull/46150,[],"[{'comment_id': 2616883490, 'issue_id': 2814050001, 'author': 'boring-cyborg[bot]', 'body': ""Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)\nHere are some useful points:\n- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.\n- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.\n- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.\n- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.\n- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.\n- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).\n- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.\nApache Airflow is a community-driven project and together we are making it better ðŸš€.\nIn case of doubts contact the developers at:\nMailing List: dev@airflow.apache.org\nSlack: https://s.apache.org/airflow-slack"", 'created_at': datetime.datetime(2025, 1, 27, 21, 1, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617141176, 'issue_id': 2814050001, 'author': 'potiuk', 'body': 'Can you please change the title of your PR and commit meaningful ?', 'created_at': datetime.datetime(2025, 1, 27, 23, 40, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617141503, 'issue_id': 2814050001, 'author': 'potiuk', 'body': 'Also you have conflicts.', 'created_at': datetime.datetime(2025, 1, 27, 23, 40, 49, tzinfo=datetime.timezone.utc)}]","boring-cyborg[bot] on (2025-01-27 21:01:01 UTC): Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)
Here are some useful points:
- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.
- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.
- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.
- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.
- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.
- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).
- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.
Apache Airflow is a community-driven project and together we are making it better ðŸš€.
In case of doubts contact the developers at:
Mailing List: dev@airflow.apache.org
Slack: https://s.apache.org/airflow-slack

potiuk on (2025-01-27 23:40:34 UTC): Can you please change the title of your PR and commit meaningful ?

potiuk on (2025-01-27 23:40:49 UTC): Also you have conflicts.

"
2813851492,pull_request,closed,,Resync main with Airflow one,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",dabla,2025-01-27 19:14:18+00:00,[],2025-01-27 19:14:37+00:00,2025-01-27 19:14:37+00:00,https://github.com/apache/airflow/pull/46147,"[('area:webserver', 'Webserver related Issues'), ('area:providers', ''), ('kind:documentation', ''), ('area:UI', 'Related to UI/UX. For Frontend Developers.'), ('provider:apache-druid', ''), ('provider:apache-livy', '')]",[],
2813848340,pull_request,closed,,Move elasticsearch provider to new structure,"related: #46045
- [x] fix unit tests
<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",josix,2025-01-27 19:12:44+00:00,[],2025-01-30 20:06:30+00:00,2025-01-30 20:06:30+00:00,https://github.com/apache/airflow/pull/46146,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:elasticsearch', '')]","[{'comment_id': 2617103580, 'issue_id': 2813848340, 'author': 'potiuk', 'body': 'Yeah. Test needs fixing.', 'created_at': datetime.datetime(2025, 1, 27, 23, 16, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623845556, 'issue_id': 2813848340, 'author': 'potiuk', 'body': 'Conflicts to solve :)', 'created_at': datetime.datetime(2025, 1, 30, 8, 34, 41, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-27 23:16:43 UTC): Yeah. Test needs fixing.

potiuk on (2025-01-30 08:34:41 UTC): Conflicts to solve :)

"
2813817247,pull_request,closed,,"fix: `KiotaRequestAdapterHook` make sure proxy config parameter is parsed correctly, even if it's a string or json","<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->

Now that MSGraph has a dedicated connection type with form ui, the proxy parameter get's wrongly returned as a string (or json) while it should be a Python dict, this PR fixes this.

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",dabla,2025-01-27 18:57:30+00:00,[],2025-02-03 10:08:36+00:00,2025-02-03 04:33:59+00:00,https://github.com/apache/airflow/pull/46145,"[('provider:microsoft-azure', 'Azure-related issues'), ('area:providers', '')]","[{'comment_id': 2630498086, 'issue_id': 2813817247, 'author': 'dabla', 'body': 'Thx @eladkal', 'created_at': datetime.datetime(2025, 2, 3, 10, 8, 34, tzinfo=datetime.timezone.utc)}]","dabla (Issue Creator) on (2025-02-03 10:08:34 UTC): Thx @eladkal

"
2813803807,pull_request,closed,,Move fab provider to new structure,"related: #46045, #42523
- [x] move failing tests to FAB
- [x] fix unit tests 
- [x] move 3rd-party-license
<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",josix,2025-01-27 18:51:40+00:00,[],2025-02-01 08:01:00+00:00,2025-01-31 20:19:00+00:00,https://github.com/apache/airflow/pull/46144,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:fab', '')]","[{'comment_id': 2616667895, 'issue_id': 2813803807, 'author': 'potiuk', 'body': 'This one will be a bit tricky and I think it will be best to move those failing tests to FAB @vincbeck ->  I think that was also your thought ?', 'created_at': datetime.datetime(2025, 1, 27, 19, 7, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616759066, 'issue_id': 2813803807, 'author': 'vincbeck', 'body': '> This one will be a bit tricky and I think it will be best to move those failing tests to FAB @vincbeck -> I think that was also your thought ?\r\n\r\nSome of these tests yes but some of them will be deleted when the legacy UI is deleted. For example, `test_views_variable` should not be moved to FAB provider. Actually just `test_views_acl` and `test_views_custom_user_views` should be moved. Adding that to my todo list :). (Or happy to review it someone wants to do it :))', 'created_at': datetime.datetime(2025, 1, 27, 19, 53, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621056802, 'issue_id': 2813803807, 'author': 'eladkal', 'body': 'We need also to move the 3rd party licenses of fab\r\nhttps://github.com/apache/airflow/blob/main/providers/src/airflow/providers/3rd-party-licenses/LICENSES-ui.txt', 'created_at': datetime.datetime(2025, 1, 29, 9, 7, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621406475, 'issue_id': 2813803807, 'author': 'utkarsharma2', 'body': '@josix Is there an ETA for us to close this PR?', 'created_at': datetime.datetime(2025, 1, 29, 11, 39, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621763198, 'issue_id': 2813803807, 'author': 'potiuk', 'body': '> @josix Is there an ETA for us to close this PR?\r\n\r\nFYI: @utkarsharma2 -> if you are asking about release of Airflow - this one has nothing to do. We need to have fab provider released from the `providers-fab/v1_5` branch - but this one is not needed for that.', 'created_at': datetime.datetime(2025, 1, 29, 14, 11, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622702536, 'issue_id': 2813803807, 'author': 'josix', 'body': ""Thanks, everyone, for pointing me in the right direction. I'll continue migrating these tests. A conservative ETA is 2/7. I hope this won't block others' work, but if it does, I can try to finish it earlier."", 'created_at': datetime.datetime(2025, 1, 29, 19, 53, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623862615, 'issue_id': 2813803807, 'author': 'utkarsharma2', 'body': ""> FYI: @utkarsharma2 -> if you are asking about release of Airflow - this one has nothing to do. We need to have fab provider released from the `providers-fab/v1_5` branch - but this one is not needed for that.\r\n\r\n@potiuk It's not related to the release. But another issue I'm facing is that I'm unable to install the providers from the source and without this PR merged to the main branch, I can't install fab provider explicitly as well."", 'created_at': datetime.datetime(2025, 1, 30, 8, 43, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624099914, 'issue_id': 2813803807, 'author': 'potiuk', 'body': ""> @potiuk It's not related to the release. But another issue I'm facing is that I'm unable to install the providers from the source and without this PR merged to the main branch, I can't install fab providers explicitly as well.\r\n\r\nAs discussed - I think `uv pip install` (for speed) and getting rid of `--editable` install should solve  at least the installation problem."", 'created_at': datetime.datetime(2025, 1, 30, 10, 29, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628102217, 'issue_id': 2813803807, 'author': 'josix', 'body': ""Hi @vincbeck, I've fixed and moved the related tests, could you help review if the change aligns with your thoughts? thanks!"", 'created_at': datetime.datetime(2025, 1, 31, 19, 6, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628840823, 'issue_id': 2813803807, 'author': 'potiuk', 'body': '> Awesome job! Thank you for doing it!\r\n\r\nfantastic!', 'created_at': datetime.datetime(2025, 2, 1, 8, 0, 59, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-27 19:07:51 UTC): This one will be a bit tricky and I think it will be best to move those failing tests to FAB @vincbeck ->  I think that was also your thought ?

vincbeck on (2025-01-27 19:53:52 UTC): Some of these tests yes but some of them will be deleted when the legacy UI is deleted. For example, `test_views_variable` should not be moved to FAB provider. Actually just `test_views_acl` and `test_views_custom_user_views` should be moved. Adding that to my todo list :). (Or happy to review it someone wants to do it :))

eladkal on (2025-01-29 09:07:13 UTC): We need also to move the 3rd party licenses of fab
https://github.com/apache/airflow/blob/main/providers/src/airflow/providers/3rd-party-licenses/LICENSES-ui.txt

utkarsharma2 on (2025-01-29 11:39:03 UTC): @josix Is there an ETA for us to close this PR?

potiuk on (2025-01-29 14:11:28 UTC): FYI: @utkarsharma2 -> if you are asking about release of Airflow - this one has nothing to do. We need to have fab provider released from the `providers-fab/v1_5` branch - but this one is not needed for that.

josix (Issue Creator) on (2025-01-29 19:53:06 UTC): Thanks, everyone, for pointing me in the right direction. I'll continue migrating these tests. A conservative ETA is 2/7. I hope this won't block others' work, but if it does, I can try to finish it earlier.

utkarsharma2 on (2025-01-30 08:43:56 UTC): @potiuk It's not related to the release. But another issue I'm facing is that I'm unable to install the providers from the source and without this PR merged to the main branch, I can't install fab provider explicitly as well.

potiuk on (2025-01-30 10:29:52 UTC): As discussed - I think `uv pip install` (for speed) and getting rid of `--editable` install should solve  at least the installation problem.

josix (Issue Creator) on (2025-01-31 19:06:19 UTC): Hi @vincbeck, I've fixed and moved the related tests, could you help review if the change aligns with your thoughts? thanks!

potiuk on (2025-02-01 08:00:59 UTC): fantastic!

"
2813786706,pull_request,closed,,Run simple auth manager UI tests as part of `tests-ui`,"Update `tests-ui` to run simple auth manager UI tests as well.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vincbeck,2025-01-27 18:42:40+00:00,[],2025-01-31 13:42:22+00:00,2025-01-30 15:38:04+00:00,https://github.com/apache/airflow/pull/46142,"[('area:dev-tools', '')]",[],
2813601141,pull_request,closed,,Move Apache HDFS to new provider structure,"
related: #46045




<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",jason810496,2025-01-27 17:19:17+00:00,[],2025-02-07 15:15:23+00:00,2025-02-07 15:15:23+00:00,https://github.com/apache/airflow/pull/46140,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:apache-hdfs', '')]","[{'comment_id': 2616665233, 'issue_id': 2813601141, 'author': 'potiuk', 'body': 'Rebased to account for HTTP fix in main', 'created_at': datetime.datetime(2025, 1, 27, 19, 6, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617020778, 'issue_id': 2813601141, 'author': 'potiuk', 'body': 'conflicts.', 'created_at': datetime.datetime(2025, 1, 27, 22, 21, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623359677, 'issue_id': 2813601141, 'author': 'potiuk', 'body': 'Conflicts - the tests should be green now', 'created_at': datetime.datetime(2025, 1, 30, 2, 7, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623998789, 'issue_id': 2813601141, 'author': 'potiuk', 'body': 'Conflicts.', 'created_at': datetime.datetime(2025, 1, 30, 9, 46, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629000184, 'issue_id': 2813601141, 'author': 'jason810496', 'body': 'The `Build documentation` failure is caused by a doc issue in the Google Provider, and the `Kubernetes tests` failure is due to `kerberos` dependency error.', 'created_at': datetime.datetime(2025, 2, 1, 15, 41, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2639714147, 'issue_id': 2813601141, 'author': 'potiuk', 'body': 'There was a k8S problem fixed in `main`. Rebased to check if that solves the problems in this PR.', 'created_at': datetime.datetime(2025, 2, 6, 12, 38, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640289586, 'issue_id': 2813601141, 'author': 'potiuk', 'body': 'One more rebase', 'created_at': datetime.datetime(2025, 2, 6, 16, 15, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640797107, 'issue_id': 2813601141, 'author': 'potiuk', 'body': 'THis is REALLY strange those tests are failing - I tried to reproduce it and could not - so can you please rebaseit one more taime :) ?', 'created_at': datetime.datetime(2025, 2, 6, 19, 25, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642997134, 'issue_id': 2813601141, 'author': 'potiuk', 'body': 'That is a very interesting one. Let me take a look - the error is pretty strange.', 'created_at': datetime.datetime(2025, 2, 7, 13, 48, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643067728, 'issue_id': 2813601141, 'author': 'potiuk', 'body': 'Ok. I think I know what the problem was. I pushed a fixup. The problem was that `uv run` to run the pytest command creates automatically a complete local venv - which is not needed (and a bit harmful if some libraries cannot be installed). But we already have an environemtn there with all the libraries needed, so we should use that one, rather than create a new one', 'created_at': datetime.datetime(2025, 2, 7, 14, 20, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643174248, 'issue_id': 2813601141, 'author': 'jason810496', 'body': '> Ok. I think I know what the problem was. I pushed a fixup. The problem was that `uv run` to run the pytest command creates automatically a complete local venv - which is not needed (and a bit harmful if some libraries cannot be installed). But we already have an environemtn there with all the libraries needed, so we should use that one, rather than create a new one\r\n\r\nThatâ€™s really impressive to find out!\r\nIâ€™ve been encountering the same traceback since my first push and couldnâ€™t figure it out.  \r\n\r\nShould we replace `""uv"", ""run""` in other scripts, even though the only occurrence right now is `""uv"", ""run"", ""airflow"", ""db"", ""reset"", ""--yes""` in `initialize_virtualenv.py`?  \r\nOr is it a good idea to add a `pre-commit` check to prevent passing `""uv"", ""run""` to `subprocess.run`?', 'created_at': datetime.datetime(2025, 2, 7, 14, 57, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643216498, 'issue_id': 2813601141, 'author': 'potiuk', 'body': '> > Ok. I think I know what the problem was. I pushed a fixup. The problem was that `uv run` to run the pytest command creates automatically a complete local venv - which is not needed (and a bit harmful if some libraries cannot be installed). But we already have an environemtn there with all the libraries needed, so we should use that one, rather than create a new one\r\n> \r\n> Thatâ€™s really impressive to find out! Iâ€™ve been encountering the same traceback since my first push and couldnâ€™t figure it out.\r\n> \r\n> Should we replace `""uv"", ""run""` in other scripts, even though the only occurrence right now is `""uv"", ""run"", ""airflow"", ""db"", ""reset"", ""--yes""` in `initialize_virtualenv.py`? Or is it a good idea to add a `pre-commit` check to prevent passing `""uv"", ""run""` to `subprocess.run`?\r\n\r\nNo. It\'s really ok and ""intended"" everywhere. In here we create a k8s env specifically to run the tests, but with `uv run` we were not using it effectively. In other places `uv run` makes sense actually - there we **expect** airflow venv to be actually created - maybe we will have to tweak it a bit so problematic dependencies that we might have difficulty to build should be excluded by default - but we will see.', 'created_at': datetime.datetime(2025, 2, 7, 15, 14, 28, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-27 19:06:38 UTC): Rebased to account for HTTP fix in main

potiuk on (2025-01-27 22:21:35 UTC): conflicts.

potiuk on (2025-01-30 02:07:35 UTC): Conflicts - the tests should be green now

potiuk on (2025-01-30 09:46:26 UTC): Conflicts.

jason810496 (Issue Creator) on (2025-02-01 15:41:24 UTC): The `Build documentation` failure is caused by a doc issue in the Google Provider, and the `Kubernetes tests` failure is due to `kerberos` dependency error.

potiuk on (2025-02-06 12:38:02 UTC): There was a k8S problem fixed in `main`. Rebased to check if that solves the problems in this PR.

potiuk on (2025-02-06 16:15:32 UTC): One more rebase

potiuk on (2025-02-06 19:25:31 UTC): THis is REALLY strange those tests are failing - I tried to reproduce it and could not - so can you please rebaseit one more taime :) ?

potiuk on (2025-02-07 13:48:26 UTC): That is a very interesting one. Let me take a look - the error is pretty strange.

potiuk on (2025-02-07 14:20:50 UTC): Ok. I think I know what the problem was. I pushed a fixup. The problem was that `uv run` to run the pytest command creates automatically a complete local venv - which is not needed (and a bit harmful if some libraries cannot be installed). But we already have an environemtn there with all the libraries needed, so we should use that one, rather than create a new one

jason810496 (Issue Creator) on (2025-02-07 14:57:09 UTC): Thatâ€™s really impressive to find out!
Iâ€™ve been encountering the same traceback since my first push and couldnâ€™t figure it out.  

Should we replace `""uv"", ""run""` in other scripts, even though the only occurrence right now is `""uv"", ""run"", ""airflow"", ""db"", ""reset"", ""--yes""` in `initialize_virtualenv.py`?  
Or is it a good idea to add a `pre-commit` check to prevent passing `""uv"", ""run""` to `subprocess.run`?

potiuk on (2025-02-07 15:14:28 UTC): No. It's really ok and ""intended"" everywhere. In here we create a k8s env specifically to run the tests, but with `uv run` we were not using it effectively. In other places `uv run` makes sense actually - there we **expect** airflow venv to be actually created - maybe we will have to tweak it a bit so problematic dependencies that we might have difficulty to build should be excluded by default - but we will see.

"
2813506988,pull_request,closed,,Fix few issues with constraints generation broken by moving providers,"As part of #46045 we are moving all providers to the new structure, each with it's own pyproject.toml. However we noticed that constraint generation is somewhat broken during the move:

* providers moved to the new structure disappeared from pypi constraints
* http provider in SOME PRs started to appear in ""source constraints""

Both should not happen:

* pypi constraints should contain all providers (latest versions in PyPI)
* source providers should contain no providers - only their dependencies

There are two reasons for those two issues, and this PR fixes both:

1) The PyPI providers were removed because `uv pip install .` without
   editable flag is currently - pretty unexpectedly - installing
   local workspaced providers rather than install them from PyPI and
   there are no controls to disable it.

   Workaround for that is that during constraint generation we
   remove temporarily all providers from workspace definition in the
   pyproject.toml - this way providers are installed from PyPI.
   Feature request to handle it has been raised in the
   https://github.com/astral-sh/uv/issues/10991

2) The http provider was added to the constraint in PRs where
   the http provider is a required dependency (for example in
   discord provider). Since the http provider is not yet
   migrated, discord installation in workspace will pull it
   from PyPI rather than from the local workspace.

   This has been fixed by simply migrating the http provider
   to the new structure,

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-01-27 16:40:44+00:00,[],2025-01-28 00:22:26+00:00,2025-01-27 19:00:47+00:00,https://github.com/apache/airflow/pull/46139,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:http', '')]","[{'comment_id': 2616534699, 'issue_id': 2813506988, 'author': 'potiuk', 'body': 'Actually ... I got a feedback from `uv` guys and I can simplify it quite a bit. There is a magic `--no-sources` command which does pretty much what I am doing now when modifying the `pyproject.toml` and I totallly missed it !', 'created_at': datetime.datetime(2025, 1, 27, 18, 4, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616652418, 'issue_id': 2813506988, 'author': 'potiuk', 'body': 'Merging as-is for now - the mypy-proiders issues are unrelated and should be fixed separately, and the `--no-sources` has a bug that prevents us from using it for now - detail in https://github.com/astral-sh/uv/issues/10999\r\n\r\nHopefully this will be fixed soon by the astral team and we will be able to switch to `--no-sources`', 'created_at': datetime.datetime(2025, 1, 27, 19, 0, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617249214, 'issue_id': 2813506988, 'author': 'potiuk', 'body': 'Aaaand Astral guys fixed it already :) . So we will be able to simplify the constraints generation soon.', 'created_at': datetime.datetime(2025, 1, 28, 0, 22, 25, tzinfo=datetime.timezone.utc)}]","potiuk (Issue Creator) on (2025-01-27 18:04:39 UTC): Actually ... I got a feedback from `uv` guys and I can simplify it quite a bit. There is a magic `--no-sources` command which does pretty much what I am doing now when modifying the `pyproject.toml` and I totallly missed it !

potiuk (Issue Creator) on (2025-01-27 19:00:41 UTC): Merging as-is for now - the mypy-proiders issues are unrelated and should be fixed separately, and the `--no-sources` has a bug that prevents us from using it for now - detail in https://github.com/astral-sh/uv/issues/10999

Hopefully this will be fixed soon by the astral team and we will be able to switch to `--no-sources`

potiuk (Issue Creator) on (2025-01-28 00:22:25 UTC): Aaaand Astral guys fixed it already :) . So we will be able to simplify the constraints generation soon.

"
2813501980,pull_request,closed,,AIP-38 Mark TI as success/failed,"Depends on https://github.com/apache/airflow/pull/46018, only last commit is relevant:

Closes: https://github.com/apache/airflow/issues/46137
![Screenshot 2025-01-27 at 17 48 44](https://github.com/user-attachments/assets/5a5d2c31-7323-4942-b444-d4082190dee3)
![Screenshot 2025-01-27 at 17 48 32](https://github.com/user-attachments/assets/29bc9820-9af0-4dbb-be14-b699d8b73fb6)
![Screenshot 2025-01-27 at 17 48 52](https://github.com/user-attachments/assets/af63dc75-38b4-4d4d-ae50-0e4685f4dcde)
![Screenshot 2025-01-27 at 17 49 12](https://github.com/user-attachments/assets/9ca5f269-319f-4902-9c5b-4daf75bdbc9f)
![Screenshot 2025-01-27 at 17 49 35](https://github.com/user-attachments/assets/b3b2c0a1-59f0-4649-a059-3f9573bbe6e2)
![Screenshot 2025-01-27 at 17 50 10](https://github.com/user-attachments/assets/65f91d65-cdc2-4adf-b299-85c832e22e5f)
",pierrejeambrun,2025-01-27 16:38:43+00:00,['pierrejeambrun'],2025-01-28 16:44:34+00:00,2025-01-28 16:44:21+00:00,https://github.com/apache/airflow/pull/46138,"[('area:UI', 'Related to UI/UX. For Frontend Developers.'), ('AIP-38', 'Modern Web Application')]","[{'comment_id': 2616316801, 'issue_id': 2813501980, 'author': 'pierrejeambrun', 'body': 'Draft. Some refactoring + cleaning is required before being ready for review.', 'created_at': datetime.datetime(2025, 1, 27, 16, 39, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619492794, 'issue_id': 2813501980, 'author': 'pierrejeambrun', 'body': ""> Looking good, but we may want to change how we use the statusbadge for the dropdown\r\n\r\nYes that's not great. I just added a small marging for now. So it looks a bit better but not ideal. We can always rework in follow up PR.\r\n\r\n![Screenshot 2025-01-28 at 17 28 33](https://github.com/user-attachments/assets/4d1eea4d-46fe-4bb4-9b43-700ebabc7572)"", 'created_at': datetime.datetime(2025, 1, 28, 16, 28, 55, tzinfo=datetime.timezone.utc)}]","pierrejeambrun (Issue Creator) on (2025-01-27 16:39:06 UTC): Draft. Some refactoring + cleaning is required before being ready for review.

pierrejeambrun (Issue Creator) on (2025-01-28 16:28:55 UTC): Yes that's not great. I just added a small marging for now. So it looks a bit better but not ideal. We can always rework in follow up PR.

![Screenshot 2025-01-28 at 17 28 33](https://github.com/user-attachments/assets/4d1eea4d-46fe-4bb4-9b43-700ebabc7572)

"
2813443395,pull_request,closed,,Make simple auth manager compatible with AF3 only,"Remove support of legacy UI in simple auth manager.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vincbeck,2025-01-27 16:15:10+00:00,[],2025-01-28 14:22:13+00:00,2025-01-28 08:35:38+00:00,https://github.com/apache/airflow/pull/46136,[],[],
2813395204,pull_request,closed,,Add `get_user_from_token` method in auth manager interface,"`get_user_from_token` is a thin wrapper around `deserialize_user` which makes it easier to fetch a user from a JWT token. See discussion [here](https://github.com/apache/airflow/pull/45986#issuecomment-2616030299).

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vincbeck,2025-01-27 15:54:43+00:00,[],2025-01-27 18:00:18+00:00,2025-01-27 18:00:17+00:00,https://github.com/apache/airflow/pull/46135,[],[],
2813275644,pull_request,closed,,Update providers metadata 2025-01-27,,eladkal,2025-01-27 15:06:26+00:00,[],2025-01-27 22:28:02+00:00,2025-01-27 22:06:05+00:00,https://github.com/apache/airflow/pull/46133,[],[],
2813248281,pull_request,closed,,Move Apache Flink to new provider structure,"
related: #46106


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",jason810496,2025-01-27 14:55:36+00:00,[],2025-02-06 18:39:27+00:00,2025-02-06 18:39:27+00:00,https://github.com/apache/airflow/pull/46132,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:apache-flink', '')]","[{'comment_id': 2628999156, 'issue_id': 2813248281, 'author': 'jason810496', 'body': 'The `Build documentation` failure is caused by a doc issue in the Google Provider, and the `Build PROD images` failure is due to a dependency conflict.', 'created_at': datetime.datetime(2025, 2, 1, 15, 38, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629261044, 'issue_id': 2813248281, 'author': 'jason810496', 'body': 'After rebasing, only the `Build PROD images` failure is left.', 'created_at': datetime.datetime(2025, 2, 2, 6, 12, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629400787, 'issue_id': 2813248281, 'author': 'potiuk', 'body': 'I will have to take a closer look at that after FOSDEM :)', 'created_at': datetime.datetime(2025, 2, 2, 13, 38, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629431125, 'issue_id': 2813248281, 'author': 'jason810496', 'body': '> I will have to take a closer look at that after FOSDEM :)\r\n\r\nNo worries, thanks for taking a look! Enjoy FOSDEM!', 'created_at': datetime.datetime(2025, 2, 2, 15, 1, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630535823, 'issue_id': 2813248281, 'author': 'potiuk', 'body': 'OK. Easy. It will have to wait until `cncf.kubernetes` is migrated - when `cncf.kubernetes` is not yet migrated, flink has it as required dependency and it will not see `cncf.kubernetes` yet as a separate dependency - because `cncf.kubernetes` is still in `providers/src` as the ""umbrella"" provider package. Once cncf.kubernetes is migrated, rebasing this one should fix it.', 'created_at': datetime.datetime(2025, 2, 3, 10, 24, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630536612, 'issue_id': 2813248281, 'author': 'potiuk', 'body': 'cc: @o-nikolas ^^', 'created_at': datetime.datetime(2025, 2, 3, 10, 25, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631902000, 'issue_id': 2813248281, 'author': 'o-nikolas', 'body': '> OK. Easy. It will have to wait until cncf.kubernetes is migrated - when cncf.kubernetes is not yet migrated, flink has it as required dependency and it will not see cncf.kubernetes yet as a separate dependency - because cncf.kubernetes is still in providers/src as the ""umbrella"" provider package. Once cncf.kubernetes is migrated, rebasing this one should fix it.\r\n\r\n> cc: @o-nikolas ^^\r\n\r\nAck, looks like @hardeybisey has taken on the kubernetes provider! https://github.com/apache/airflow/issues/46045#issuecomment-2626683707', 'created_at': datetime.datetime(2025, 2, 3, 19, 36, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634545170, 'issue_id': 2813248281, 'author': 'potiuk', 'body': '> > OK. Easy. It will have to wait until cncf.kubernetes is migrated - when cncf.kubernetes is not yet migrated, flink has it as required dependency and it will not see cncf.kubernetes yet as a separate dependency - because cncf.kubernetes is still in providers/src as the ""umbrella"" provider package. Once cncf.kubernetes is migrated, rebasing this one should fix it.\r\n> \r\n> > cc: @o-nikolas ^^\r\n> \r\n> Ack, looks like @hardeybisey has taken on the kubernetes provider! [#46045 (comment)](https://github.com/apache/airflow/issues/46045#issuecomment-2626683707)\r\n\r\n@hardeybisey -> are you working on it? This one blocks us from HDFS move and we have just a few providers left, so that would need a bit quick turnaround ? Or you\'d prefer not to block us?', 'created_at': datetime.datetime(2025, 2, 4, 16, 55, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634548885, 'issue_id': 2813248281, 'author': 'jason810496', 'body': ""> @hardeybisey -> are you working on it? This one blocks us from HDFS move and we have just a few providers left, so that would need a bit quick turnaround ? Or you'd prefer not to block us?\r\n\r\nI could work with it right now."", 'created_at': datetime.datetime(2025, 2, 4, 16, 57, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634614891, 'issue_id': 2813248281, 'author': 'jason810496', 'body': ""> @hardeybisey -> are you working on it? This one blocks us from HDFS move and we have just a few providers left, so that would need a bit quick turnaround ? Or you'd prefer not to block us?\r\n\r\nHi @potiuk , the moving CNCF Kubernetes PR is ready ( https://github.com/apache/airflow/pull/46436 ) , run provider test and pass all pre-commit in local."", 'created_at': datetime.datetime(2025, 2, 4, 17, 25, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634622838, 'issue_id': 2813248281, 'author': 'hardeybisey', 'body': ""> \n> \n> > @hardeybisey -> are you working on it? This one blocks us from HDFS move and we have just a few providers left, so that would need a bit quick turnaround ? Or you'd prefer not to block us?\n> \n> \n> \n> I could work with it right now.\n> \n> \n\n@jason810496 I was running into some issues while moving it and plan to pick it up later tonight. You can pick it up if you are able to work on it immediately."", 'created_at': datetime.datetime(2025, 2, 4, 17, 29, 7, tzinfo=datetime.timezone.utc)}]","jason810496 (Issue Creator) on (2025-02-01 15:38:24 UTC): The `Build documentation` failure is caused by a doc issue in the Google Provider, and the `Build PROD images` failure is due to a dependency conflict.

jason810496 (Issue Creator) on (2025-02-02 06:12:44 UTC): After rebasing, only the `Build PROD images` failure is left.

potiuk on (2025-02-02 13:38:51 UTC): I will have to take a closer look at that after FOSDEM :)

jason810496 (Issue Creator) on (2025-02-02 15:01:20 UTC): No worries, thanks for taking a look! Enjoy FOSDEM!

potiuk on (2025-02-03 10:24:42 UTC): OK. Easy. It will have to wait until `cncf.kubernetes` is migrated - when `cncf.kubernetes` is not yet migrated, flink has it as required dependency and it will not see `cncf.kubernetes` yet as a separate dependency - because `cncf.kubernetes` is still in `providers/src` as the ""umbrella"" provider package. Once cncf.kubernetes is migrated, rebasing this one should fix it.

potiuk on (2025-02-03 10:25:03 UTC): cc: @o-nikolas ^^

o-nikolas on (2025-02-03 19:36:31 UTC): Ack, looks like @hardeybisey has taken on the kubernetes provider! https://github.com/apache/airflow/issues/46045#issuecomment-2626683707

potiuk on (2025-02-04 16:55:47 UTC): @hardeybisey -> are you working on it? This one blocks us from HDFS move and we have just a few providers left, so that would need a bit quick turnaround ? Or you'd prefer not to block us?

jason810496 (Issue Creator) on (2025-02-04 16:57:21 UTC): I could work with it right now.

jason810496 (Issue Creator) on (2025-02-04 17:25:25 UTC): Hi @potiuk , the moving CNCF Kubernetes PR is ready ( https://github.com/apache/airflow/pull/46436 ) , run provider test and pass all pre-commit in local.

hardeybisey on (2025-02-04 17:29:07 UTC): @jason810496 I was running into some issues while moving it and plan to pick it up later tonight. You can pick it up if you are able to work on it immediately.

"
2813153026,pull_request,closed,,Move Apache Livy to new provider structure,"
related: #46045



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",jason810496,2025-01-27 14:17:32+00:00,[],2025-01-30 10:50:09+00:00,2025-01-30 10:50:09+00:00,https://github.com/apache/airflow/pull/46131,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:apache-livy', '')]","[{'comment_id': 2616655708, 'issue_id': 2813153026, 'author': 'potiuk', 'body': 'Rebased it after moving `http` provider - that was causing the failure of PROD build', 'created_at': datetime.datetime(2025, 1, 27, 19, 2, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617421473, 'issue_id': 2813153026, 'author': 'potiuk', 'body': 'Needs to be rebased now with livy hook fix', 'created_at': datetime.datetime(2025, 1, 28, 1, 25, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623360360, 'issue_id': 2813153026, 'author': 'potiuk', 'body': 'Conflicts - should be green after resolving', 'created_at': datetime.datetime(2025, 1, 30, 2, 8, 12, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-27 19:02:19 UTC): Rebased it after moving `http` provider - that was causing the failure of PROD build

potiuk on (2025-01-28 01:25:44 UTC): Needs to be rebased now with livy hook fix

potiuk on (2025-01-30 02:08:12 UTC): Conflicts - should be green after resolving

"
2813038554,pull_request,closed,,"Consolidate tag, status, and badge to a single component","We were using a few different ways to show a task state. Instead let's try to reuse a single component for a more consistent UX. The only area I haven't figured out yet is the grid view and the run bar charts in the dag list.


<img width=""815"" alt=""Screenshot 2025-01-27 at 8 27 56â€¯AM"" src=""https://github.com/user-attachments/assets/8225f686-03e6-44ea-9cb4-f23b134cc402"" />
<img width=""766"" alt=""Screenshot 2025-01-27 at 8 27 39â€¯AM"" src=""https://github.com/user-attachments/assets/b79525a0-1cb4-411b-97ab-94c44ee3b19e"" />
<img width=""1152"" alt=""Screenshot 2025-01-27 at 8 28 09â€¯AM"" src=""https://github.com/user-attachments/assets/d6cdcde9-206a-4615-ab0d-8729f7435572"" />



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",bbovenzi,2025-01-27 13:30:36+00:00,[],2025-01-27 16:49:40+00:00,2025-01-27 16:49:37+00:00,https://github.com/apache/airflow/pull/46128,"[('area:UI', 'Related to UI/UX. For Frontend Developers.')]",[],
2812989311,pull_request,closed,,AIP-72: Move DAG Params to Task SDK,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->


Dependent on https://github.com/apache/airflow/pull/46032/files

closes: #44361


### Testing

#### Basic Testing
DAG used for testing:
```
from airflow import DAG
from airflow.decorators import task
from airflow.sdk import Param

with DAG(
    ""param_dag"",
    params={
        ""x"": Param(5, type=""integer"", minimum=3),
        ""my_int_param"": 6
    },
) as dag:

    @task
    def example_task():
        # This will print the default value, 6:
        print(dag.params['my_int_param'])


    example_task()
```

![image](https://github.com/user-attachments/assets/55d96bf7-10c7-4c89-a422-1e435b69a6ee)


#### Params Trigger UI from example dags
```
from __future__ import annotations

import datetime
from pathlib import Path

from airflow.decorators import task
from airflow.models.dag import DAG
from airflow.sdk.definitions.param import Param, ParamsDict
from airflow.utils.trigger_rule import TriggerRule

# [START params_trigger]
with DAG(
    dag_id=Path(__file__).stem,
    dag_display_name=""Params Trigger UI"",
    description=__doc__.partition(""."")[0],
    doc_md=__doc__,
    schedule=None,
    start_date=datetime.datetime(2022, 3, 4),
    catchup=False,
    tags=[""example"", ""params""],
    params={
        ""names"": Param(
            [""Linda"", ""Martha"", ""Thomas""],
            type=""array"",
            description=""Define the list of names for which greetings should be generated in the logs.""
            "" Please have one name per line."",
            title=""Names to greet"",
        ),
        ""english"": Param(True, type=""boolean"", title=""English""),
        ""german"": Param(True, type=""boolean"", title=""German (Formal)""),
        ""french"": Param(True, type=""boolean"", title=""French""),
    },
) as dag:

    @task(task_id=""get_names"", task_display_name=""Get names"")
    def get_names(**kwargs) -> list[str]:
        params: ParamsDict = kwargs[""params""]
        if ""names"" not in params:
            print(""Uuups, no names given, was no UI used to trigger?"")
            return []
        return params[""names""]

    @task.branch(task_id=""select_languages"", task_display_name=""Select languages"")
    def select_languages(**kwargs) -> list[str]:
        params: ParamsDict = kwargs[""params""]
        selected_languages = []
        for lang in [""english"", ""german"", ""french""]:
            if params[lang]:
                selected_languages.append(f""generate_{lang}_greeting"")
        return selected_languages

    @task(task_id=""generate_english_greeting"", task_display_name=""Generate English greeting"")
    def generate_english_greeting(name: str) -> str:
        return f""Hello {name}!""

    @task(task_id=""generate_german_greeting"", task_display_name=""Erzeuge Deutsche BegrÃ¼ÃŸung"")
    def generate_german_greeting(name: str) -> str:
        return f""Sehr geehrter Herr/Frau {name}.""

    @task(task_id=""generate_french_greeting"", task_display_name=""Produire un message d'accueil en franÃ§ais"")
    def generate_french_greeting(name: str) -> str:
        return f""Bonjour {name}!""

    @task(task_id=""print_greetings"", task_display_name=""Print greetings"", trigger_rule=TriggerRule.ALL_DONE)
    def print_greetings(greetings1, greetings2, greetings3) -> None:
        for g in greetings1 or []:
            print(g)
        for g in greetings2 or []:
            print(g)
        for g in greetings3 or []:
            print(g)
        if not (greetings1 or greetings2 or greetings3):
            print(""sad, nobody to greet :-("")

    lang_select = select_languages()
    names = get_names()
    english_greetings = generate_english_greeting.expand(name=names)
    german_greetings = generate_german_greeting.expand(name=names)
    french_greetings = generate_french_greeting.expand(name=names)
    lang_select >> [english_greetings, german_greetings, french_greetings]
    results_print = print_greetings(english_greetings, german_greetings, french_greetings)
# [END params_trigger]
```

<img width=""1723"" alt=""image"" src=""https://github.com/user-attachments/assets/2ce09a68-b21c-47eb-89e9-9b077b2c26ca"" />

<img width=""1723"" alt=""image"" src=""https://github.com/user-attachments/assets/9236f4e3-7738-497b-85ad-a0be6490d2c5"" />

<img width=""1723"" alt=""image"" src=""https://github.com/user-attachments/assets/1a1aba71-1036-4db5-a7db-3ff031cb1ae9"" />

The failures above are because mappedtasks dont work yet

#### Params UI tutorial DAG demonstrating various options for a trigger form generated by DAG params

Run config:
```
{
    ""a_simple_list"": [
        ""one"",
        ""two"",
        ""three"",
        ""actually one value is made per line""
    ],
    ""array_of_numbers"": [
        1,
        2,
        3
    ],
    ""array_of_objects"": [
        {
            ""country"": ""country_name"",
            ""name"": ""account_name""
        }
    ],
    ""bool"": true,
    ""checked_number"": 100,
    ""checked_text"": ""length-checked-field"",
    ""date"": ""2025-01-27"",
    ""date_time"": ""2025-01-27T12:17:00+00:00"",
    ""flag"": false,
    ""hidden_secret_field"": ""constant value"",
    ""most_loved_number"": 42,
    ""multi_select"": [
        ""two"",
        ""three""
    ],
    ""multi_select_with_label"": [
        ""2"",
        ""3""
    ],
    ""multiline_text"": ""A multiline text Param\nthat will keep the newline\ncharacters in its value."",
    ""object"": {
        ""key"": ""value""
    },
    ""optional_field"": ""optional text, you can trigger also w/o text"",
    ""pick_one"": ""value 42"",
    ""pick_with_label"": 3,
    ""proposals"": ""Alpha"",
    ""required_field"": ""dummy dummy"",
    ""text"": ""Hello World!"",
    ""time"": ""12:13:14"",
    ""x"": 3
}
```

<img width=""1723"" alt=""image"" src=""https://github.com/user-attachments/assets/2b8bdc58-b95d-4e02-a88a-86c6f8458201"" />

Logs:
```
beef66d4770b
 â–¶ Log message source details
{""logger"":""airflow.dag_processing.bundles.manager.DagBundlesManager"",""timestamp"":""2025-01-27T15:26:19.910440"",""event"":""DAG bundles loaded: dags-folder, example_dags"",""level"":""info""}
{""logger"":""airflow.models.dagbag.DagBag"",""timestamp"":""2025-01-27T15:26:19.910732"",""event"":""Filling up the DagBag from /opt/airflow/airflow/example_dags/example_params_ui_tutorial.py"",""level"":""info""}
{""logger"":""airflow.models.dagbag.DagBag"",""timestamp"":""2025-01-27T15:26:19.911277"",""event"":""Importing /opt/airflow/airflow/example_dags/example_params_ui_tutorial.py"",""level"":""debug""}
{""logger"":""airflow.models.dagbag.DagBag"",""timestamp"":""2025-01-27T15:26:19.946419"",""event"":""Loaded DAG <DAG: example_params_ui_tutorial>"",""level"":""debug""}
{""file"":""/opt/airflow/airflow/example_dags/example_params_ui_tutorial.py"",""timestamp"":""2025-01-27T15:26:19.946663"",""logger"":""task"",""event"":""DAG file parsed"",""level"":""debug""}
{""json"":""{\""rendered_fields\"":{\""templates_dict\"":null,\""op_args\"":\""()\"",\""op_kwargs\"":{}},\""type\"":\""SetRenderedFields\""}\n"",""timestamp"":""2025-01-27T15:26:19.946922"",""logger"":""task"",""event"":""Sending request"",""level"":""debug""}
{""logger"":""airflow.sdk.definitions.param"",""timestamp"":""2025-01-27T15:26:19.956861"",""event"":""Updating task params ({'x': 3, 'text': 'Hello World!', 'flag': False, 'a_simple_list': ['one', 'two', 'three', 'actually one value is made per line'], 'most_loved_number': 42, 'pick_one': 'value 42', 'pick_with_label': 3, 'proposals': 'Alpha', 'multi_select': ['two', 'three'], 'multi_select_with_label': ['2', '3'], 'array_of_numbers': [1, 2, 3], 'bool': True, 'date_time': '2025-01-27T12:17:00+00:00', 'date': '2025-01-27', 'time': '12:13:14', 'multiline_text': 'A multiline text Param\\nthat will keep the newline\\ncharacters in its value.', 'required_field': None, 'optional_field': 'optional text, you can trigger also w/o text', 'checked_text': 'length-checked-field', 'checked_number': 100, 'object': {'key': 'value'}, 'array_of_objects': [{'name': 'account_name', 'country': 'country_name'}], 'hidden_secret_field': 'constant value'}) with DagRun.conf ({'x': 3, 'bool': True, 'date': '2025-01-27', 'flag': False, 'text': 'Hello World!', 'time': '12:13:14', 'object': {'key': 'value'}, 'pick_one': 'value 42', 'date_time': '2025-01-27T12:17:00+00:00', 'proposals': 'Alpha', 'checked_text': 'length-checked-field', 'multi_select': ['two', 'three'], 'a_simple_list': ['one', 'two', 'three', 'actually one value is made per line'], 'checked_number': 100, 'multiline_text': 'A multiline text Param\\nthat will keep the newline\\ncharacters in its value.', 'optional_field': 'optional text, you can trigger also w/o text', 'required_field': 'dummy dummy', 'pick_with_label': 3, 'array_of_numbers': [1, 2, 3], 'array_of_objects': [{'name': 'account_name', 'country': 'country_name'}], 'most_loved_number': 42, 'hidden_secret_field': 'constant value', 'multi_select_with_label': ['2', '3']})"",""level"":""debug""}
{""chan"":""stdout"",""event"":""Validates params aere {'x': 3, 'text': 'Hello World!', 'flag': False, 'a_simple_list': ['one', 'two', 'three', 'actually one value is made per line'], 'most_loved_number': 42, 'pick_one': 'value 42', 'pick_with_label': 3, 'proposals': 'Alpha', 'multi_select': ['two', 'three'], 'multi_select_with_label': ['2', '3'], 'array_of_numbers': [1, 2, 3], 'bool': True, 'date_time': '2025-01-27T12:17:00+00:00', 'date': '2025-01-27', 'time': '12:13:14', 'multiline_text': 'A multiline text Param\\nthat will keep the newline\\ncharacters in its value.', 'required_field': 'dummy dummy', 'optional_field': 'optional text, you can trigger also w/o text', 'checked_text': 'length-checked-field', 'checked_number': 100, 'object': {'key': 'value'}, 'array_of_objects': [{'name': 'account_name', 'country': 'country_name'}], 'hidden_secret_field': 'constant value'}"",""timestamp"":""2025-01-27T15:26:19.967251Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""This DAG was triggered with the following parameters:"",""timestamp"":""2025-01-27T15:26:19.971408Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":"""",""timestamp"":""2025-01-27T15:26:19.971505Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""{"",""timestamp"":""2025-01-27T15:26:19.971657Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""x\"": 3,"",""timestamp"":""2025-01-27T15:26:19.971733Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""text\"": \""Hello World!\"","",""timestamp"":""2025-01-27T15:26:19.971813Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""flag\"": false,"",""timestamp"":""2025-01-27T15:26:19.971885Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""a_simple_list\"": ["",""timestamp"":""2025-01-27T15:26:19.971956Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""        \""one\"","",""timestamp"":""2025-01-27T15:26:19.972028Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""        \""two\"","",""timestamp"":""2025-01-27T15:26:19.972097Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""        \""three\"","",""timestamp"":""2025-01-27T15:26:19.972166Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""        \""actually one value is made per line\"""",""timestamp"":""2025-01-27T15:26:19.972238Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    ],"",""timestamp"":""2025-01-27T15:26:19.972313Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""most_loved_number\"": 42,"",""timestamp"":""2025-01-27T15:26:19.972383Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""pick_one\"": \""value 42\"","",""timestamp"":""2025-01-27T15:26:19.972453Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""pick_with_label\"": 3,"",""timestamp"":""2025-01-27T15:26:19.972524Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""proposals\"": \""Alpha\"","",""timestamp"":""2025-01-27T15:26:19.972593Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""multi_select\"": ["",""timestamp"":""2025-01-27T15:26:19.972663Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""        \""two\"","",""timestamp"":""2025-01-27T15:26:19.972734Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""        \""three\"""",""timestamp"":""2025-01-27T15:26:19.972806Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    ],"",""timestamp"":""2025-01-27T15:26:19.972875Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""multi_select_with_label\"": ["",""timestamp"":""2025-01-27T15:26:19.972948Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""        \""2\"","",""timestamp"":""2025-01-27T15:26:19.973017Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""        \""3\"""",""timestamp"":""2025-01-27T15:26:19.973086Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    ],"",""timestamp"":""2025-01-27T15:26:19.973165Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""array_of_numbers\"": ["",""timestamp"":""2025-01-27T15:26:19.973251Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""        1,"",""timestamp"":""2025-01-27T15:26:19.973324Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""        2,"",""timestamp"":""2025-01-27T15:26:19.973396Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""        3"",""timestamp"":""2025-01-27T15:26:19.973464Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    ],"",""timestamp"":""2025-01-27T15:26:19.973534Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""bool\"": true,"",""timestamp"":""2025-01-27T15:26:19.973603Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""date_time\"": \""2025-01-27T12:17:00+00:00\"","",""timestamp"":""2025-01-27T15:26:19.973671Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""date\"": \""2025-01-27\"","",""timestamp"":""2025-01-27T15:26:19.973740Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""time\"": \""12:13:14\"","",""timestamp"":""2025-01-27T15:26:19.973807Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""multiline_text\"": \""A multiline text Param\\nthat will keep the newline\\ncharacters in its value.\"","",""timestamp"":""2025-01-27T15:26:19.973876Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""required_field\"": \""dummy dummy\"","",""timestamp"":""2025-01-27T15:26:19.973946Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""optional_field\"": \""optional text, you can trigger also w/o text\"","",""timestamp"":""2025-01-27T15:26:19.974077Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""checked_text\"": \""length-checked-field\"","",""timestamp"":""2025-01-27T15:26:19.974145Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""checked_number\"": 100,"",""timestamp"":""2025-01-27T15:26:19.974212Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""object\"": {"",""timestamp"":""2025-01-27T15:26:19.974278Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""        \""key\"": \""value\"""",""timestamp"":""2025-01-27T15:26:19.974350Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    },"",""timestamp"":""2025-01-27T15:26:19.974411Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""array_of_objects\"": ["",""timestamp"":""2025-01-27T15:26:19.974478Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""        {"",""timestamp"":""2025-01-27T15:26:19.974559Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""            \""name\"": \""account_name\"","",""timestamp"":""2025-01-27T15:26:19.974625Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""            \""country\"": \""country_name\"""",""timestamp"":""2025-01-27T15:26:19.974692Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""        }"",""timestamp"":""2025-01-27T15:26:19.974777Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    ],"",""timestamp"":""2025-01-27T15:26:19.974844Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""    \""hidden_secret_field\"": \""constant value\"""",""timestamp"":""2025-01-27T15:26:19.974911Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":""}"",""timestamp"":""2025-01-27T15:26:19.974980Z"",""level"":""info"",""logger"":""task""}
{""chan"":""stdout"",""event"":"""",""timestamp"":""2025-01-27T15:26:19.975050Z"",""level"":""info"",""logger"":""task""}
{""logger"":""airflow.task.operators.airflow.decorators.python._PythonDecoratedOperator"",""timestamp"":""2025-01-27T15:26:19.971434"",""event"":""Done. Returned value was: None"",""level"":""info""}
{""json"":""{\""state\"":\""success\"",\""end_date\"":\""2025-01-27T15:26:19.971547Z\"",\""task_outlets\"":[],\""outlet_events\"":[],\""type\"":\""SucceedTask\""}\n"",""timestamp"":""2025-01-27T15:26:19.971629"",""logger"":""task"",""event"":""Sending request"",""level"":""debug""}
```


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",amoghrajesh,2025-01-27 13:09:33+00:00,['amoghrajesh'],2025-01-28 11:23:42+00:00,2025-01-28 11:23:42+00:00,https://github.com/apache/airflow/pull/46127,"[('area:CLI', ''), ('area:providers', ''), ('area:serialization', ''), ('kind:documentation', ''), ('provider:fab', ''), ('area:task-sdk', None), ('provider:edge', 'Edge Executor / Worker (AIP-69)')]","[{'comment_id': 2615736987, 'issue_id': 2812989311, 'author': 'amoghrajesh', 'body': 'Trying out the example dags. Some failures, debugging it', 'created_at': datetime.datetime(2025, 1, 27, 13, 16, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616457722, 'issue_id': 2812989311, 'author': 'amoghrajesh', 'body': 'The example dags are working now.', 'created_at': datetime.datetime(2025, 1, 27, 17, 31, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618720515, 'issue_id': 2812989311, 'author': 'amoghrajesh', 'body': ""Closing in favour of https://github.com/apache/airflow/pull/46176. Doesn't have to depend on mapped tasks PR  https://github.com/apache/airflow/pull/46032/"", 'created_at': datetime.datetime(2025, 1, 28, 11, 23, 42, tzinfo=datetime.timezone.utc)}]","amoghrajesh (Issue Creator) on (2025-01-27 13:16:03 UTC): Trying out the example dags. Some failures, debugging it

amoghrajesh (Issue Creator) on (2025-01-27 17:31:40 UTC): The example dags are working now.

amoghrajesh (Issue Creator) on (2025-01-28 11:23:42 UTC): Closing in favour of https://github.com/apache/airflow/pull/46176. Doesn't have to depend on mapped tasks PR  https://github.com/apache/airflow/pull/46032/

"
2812897638,pull_request,open,,Kubernetes Callbacks - Include pod instance as paramter for `progress_callback`,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->


This PR modifies the Kubernetes callback class in order to include the pod instance in the `progress_callback` method. `PodManager` has been modified to always include the observed pod for this method call.

This enables getting access to the pod's details (name, annotations, labels, â€¦) during runtime, helping with use cases such as enriching/modifying received log lines and conditional script/application execution.",tiberio-baptista,2025-01-27 12:30:09+00:00,[],2025-01-27 13:25:08+00:00,,https://github.com/apache/airflow/pull/46126,"[('area:providers', ''), ('provider:cncf-kubernetes', 'Kubernetes provider related issues')]","[{'comment_id': 2615633820, 'issue_id': 2812897638, 'author': 'boring-cyborg[bot]', 'body': ""Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)\nHere are some useful points:\n- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.\n- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.\n- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.\n- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.\n- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.\n- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).\n- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.\nApache Airflow is a community-driven project and together we are making it better ðŸš€.\nIn case of doubts contact the developers at:\nMailing List: dev@airflow.apache.org\nSlack: https://s.apache.org/airflow-slack"", 'created_at': datetime.datetime(2025, 1, 27, 12, 30, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615757791, 'issue_id': 2812897638, 'author': 'tiberio-baptista', 'body': ""> How are you going to maintain compatibility with existing callbacks written by people ?\r\n\r\nThat's a good question that I hadn't considered.\r\n\r\nFor compatibility's sake, we could remove `pod` from the callback method parameters, and `PodManager` will instead provide `pod` as part of `kwargs`, becoming an optional parameter.\r\n\r\nI'll modify PR once I get back to my PC."", 'created_at': datetime.datetime(2025, 1, 27, 13, 25, 7, tzinfo=datetime.timezone.utc)}]","boring-cyborg[bot] on (2025-01-27 12:30:14 UTC): Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)
Here are some useful points:
- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.
- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.
- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.
- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.
- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.
- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).
- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.
Apache Airflow is a community-driven project and together we are making it better ðŸš€.
In case of doubts contact the developers at:
Mailing List: dev@airflow.apache.org
Slack: https://s.apache.org/airflow-slack

tiberio-baptista (Issue Creator) on (2025-01-27 13:25:07 UTC): That's a good question that I hadn't considered.

For compatibility's sake, we could remove `pod` from the callback method parameters, and `PodManager` will instead provide `pod` as part of `kwargs`, becoming an optional parameter.

I'll modify PR once I get back to my PC.

"
2812688660,pull_request,closed,,AIP-84 Fix dag reports tests outside of breeze,"There was a breeze specific path assertion in the tests. Fixing that so they can also run successfully outside of breeze.

> Also a small naming update.",pierrejeambrun,2025-01-27 10:56:01+00:00,['pierrejeambrun'],2025-01-27 12:39:41+00:00,2025-01-27 12:39:38+00:00,https://github.com/apache/airflow/pull/46125,"[('area:UI', 'Related to UI/UX. For Frontend Developers.'), ('AIP-84', 'Modern Rest API')]",[],
2812683795,pull_request,closed,,Move Arangodb to new provider structure,"Related: #46045 

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",Prab-27,2025-01-27 10:53:49+00:00,[],2025-01-31 19:15:11+00:00,2025-01-31 18:59:32+00:00,https://github.com/apache/airflow/pull/46124,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:arangodb', '')]","[{'comment_id': 2616657863, 'issue_id': 2812683795, 'author': 'potiuk', 'body': 'Rebased it after fixing the http provider issue', 'created_at': datetime.datetime(2025, 1, 27, 19, 3, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623996612, 'issue_id': 2812683795, 'author': 'potiuk', 'body': 'One link to moved example needs to be fixed @Prab-27', 'created_at': datetime.datetime(2025, 1, 30, 9, 45, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624092103, 'issue_id': 2812683795, 'author': 'potiuk', 'body': 'And conflicts to resolve now :(', 'created_at': datetime.datetime(2025, 1, 30, 10, 26, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625264785, 'issue_id': 2812683795, 'author': 'Prab-27', 'body': '> And conflicts to resolve now :(\r\n\r\nSorry, I used GitHub workflow to resolve the conflict. I should have manually done a rebase\r\nShould I revert this changes ?', 'created_at': datetime.datetime(2025, 1, 30, 18, 28, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625932696, 'issue_id': 2812683795, 'author': 'potiuk', 'body': 'No - you neeed to localy rebase and resolve conflicts (and run pre-coomit etc.).. But might be easier to do it again', 'created_at': datetime.datetime(2025, 1, 30, 23, 33, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628079113, 'issue_id': 2812683795, 'author': 'Prab-27', 'body': 'Fine ?  \r\nShould I need close this PR and raise another PR ?', 'created_at': datetime.datetime(2025, 1, 31, 18, 53, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628091514, 'issue_id': 2812683795, 'author': 'Prab-27', 'body': 'Sorry I accidently made mistake \r\nwill raise another PR', 'created_at': datetime.datetime(2025, 1, 31, 18, 59, 32, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-27 19:03:07 UTC): Rebased it after fixing the http provider issue

potiuk on (2025-01-30 09:45:32 UTC): One link to moved example needs to be fixed @Prab-27

potiuk on (2025-01-30 10:26:34 UTC): And conflicts to resolve now :(

Prab-27 (Issue Creator) on (2025-01-30 18:28:41 UTC): Sorry, I used GitHub workflow to resolve the conflict. I should have manually done a rebase
Should I revert this changes ?

potiuk on (2025-01-30 23:33:17 UTC): No - you neeed to localy rebase and resolve conflicts (and run pre-coomit etc.).. But might be easier to do it again

Prab-27 (Issue Creator) on (2025-01-31 18:53:14 UTC): Fine ?  
Should I need close this PR and raise another PR ?

Prab-27 (Issue Creator) on (2025-01-31 18:59:32 UTC): Sorry I accidently made mistake 
will raise another PR

"
2812657587,pull_request,closed,,Ignore a semi-random error generated by Mypy,"I guess Mypy is confused sometimes and thinks that File is the File from pathlib or smth.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-01-27 10:41:39+00:00,[],2025-01-27 11:01:12+00:00,2025-01-27 11:01:09+00:00,https://github.com/apache/airflow/pull/46123,"[('provider:papermill', '')]","[{'comment_id': 2615442911, 'issue_id': 2812657587, 'author': 'amoghrajesh', 'body': 'This fixes the issue in my recent merge. Thanks!', 'created_at': datetime.datetime(2025, 1, 27, 11, 0, 33, tzinfo=datetime.timezone.utc)}]","amoghrajesh on (2025-01-27 11:00:33 UTC): This fixes the issue in my recent merge. Thanks!

"
2812599132,pull_request,closed,,Move Exasol provider to new structure,"Related: #46045 

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",Prab-27,2025-01-27 10:15:07+00:00,[],2025-01-27 10:59:28+00:00,2025-01-27 10:59:27+00:00,https://github.com/apache/airflow/pull/46122,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:exasol', '')]",[],
2812592177,pull_request,closed,,Adding check for presence of cache file while building image CI,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->


One past failure https://github.com/apache/airflow/actions/runs/12920683190, was due to timeout while pulling cache, leading to error while using it. IF we instead configure it in the way that it exits early if cache is invalid, such failures can be avoided.


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",amoghrajesh,2025-01-27 10:12:09+00:00,[],2025-01-27 10:21:14+00:00,2025-01-27 10:21:13+00:00,https://github.com/apache/airflow/pull/46121,"[('area:dev-tools', '')]","[{'comment_id': 2615355587, 'issue_id': 2812592177, 'author': 'potiuk', 'body': 'Better error message in this case indeed :)', 'created_at': datetime.datetime(2025, 1, 27, 10, 20, 54, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-27 10:20:54 UTC): Better error message in this case indeed :)

"
2812571686,pull_request,closed,,Ignore Qdrant static checks issue with sequence of imports,"This is needed - because we need to raise SkipError if qdrant_client is not installed.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-01-27 10:03:22+00:00,[],2025-01-27 11:29:53+00:00,2025-01-27 10:07:26+00:00,https://github.com/apache/airflow/pull/46119,"[('changelog:skip', 'Changes that should be skipped from the changelog (CI, tests, etc..)')]",[],
2812552698,pull_request,closed,,AIP-84 Update patch endpoint for using fields to update,"Only the last commit is relevant. Build on top of https://github.com/apache/airflow/pull/46018

Following https://github.com/apache/airflow/pull/46018#discussion_r1928975110, updating all patch endpoint to follow this same logic. Giving a partial update to a patch endpoint without specifying the `update_mask` should not silently update other attributes to serializer default values (most of the time None values).",pierrejeambrun,2025-01-27 09:55:12+00:00,['pierrejeambrun'],2025-01-28 16:33:38+00:00,2025-01-28 16:33:36+00:00,https://github.com/apache/airflow/pull/46118,"[('area:UI', 'Related to UI/UX. For Frontend Developers.'), ('AIP-84', 'Modern Rest API')]",[],
2812530003,pull_request,closed,,fix E402 on main,fixes E402 issues on main,rawwar,2025-01-27 09:45:05+00:00,[],2025-01-27 10:12:11+00:00,2025-01-27 09:53:19+00:00,https://github.com/apache/airflow/pull/46117,"[('provider:qdrant', '')]","[{'comment_id': 2615276389, 'issue_id': 2812530003, 'author': 'rawwar', 'body': 'Noticed that PR https://github.com/apache/airflow/pull/46093 was merged and it has failed static checks - https://github.com/apache/airflow/actions/runs/12983875648/job/36206050555', 'created_at': datetime.datetime(2025, 1, 27, 9, 45, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615292756, 'issue_id': 2812530003, 'author': 'rawwar', 'body': 'Closing in favour of https://github.com/apache/airflow/pull/46088', 'created_at': datetime.datetime(2025, 1, 27, 9, 53, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615336006, 'issue_id': 2812530003, 'author': 'shubhamraj-git', 'body': 'Actual fix: https://github.com/apache/airflow/pull/46119', 'created_at': datetime.datetime(2025, 1, 27, 10, 12, 10, tzinfo=datetime.timezone.utc)}]","rawwar (Issue Creator) on (2025-01-27 09:45:50 UTC): Noticed that PR https://github.com/apache/airflow/pull/46093 was merged and it has failed static checks - https://github.com/apache/airflow/actions/runs/12983875648/job/36206050555

rawwar (Issue Creator) on (2025-01-27 09:53:14 UTC): Closing in favour of https://github.com/apache/airflow/pull/46088

shubhamraj-git on (2025-01-27 10:12:10 UTC): Actual fix: https://github.com/apache/airflow/pull/46119

"
2812524613,pull_request,closed,,Move Vertica provider to new structure,"related to https://github.com/apache/airflow/issues/46045

- [x]  No pending PR's for Verica
- [x]  Ran `breeze testing providers-tests --test-type 'Providers[vertica]'`
- [x]  Ran Static checks



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",shubhamraj-git,2025-01-27 09:42:36+00:00,[],2025-01-27 11:56:18+00:00,2025-01-27 11:56:18+00:00,https://github.com/apache/airflow/pull/46116,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:vertica', '')]","[{'comment_id': 2615387380, 'issue_id': 2812524613, 'author': 'potiuk', 'body': 'Conflicts :(', 'created_at': datetime.datetime(2025, 1, 27, 10, 35, 25, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-27 10:35:25 UTC): Conflicts :(

"
2812509047,pull_request,closed,,Move Presto provider to new structure,"related to https://github.com/apache/airflow/issues/46045

- [x]  No pending PR's for Presto
- [x]  Ran `breeze testing providers-tests --test-type 'Providers[presto]'`
- [x]  Ran Static checks




<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",shubhamraj-git,2025-01-27 09:35:26+00:00,[],2025-01-27 11:55:54+00:00,2025-01-27 11:55:54+00:00,https://github.com/apache/airflow/pull/46115,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:presto', '')]",[],
2812482579,pull_request,closed,,Move Facebook provider to new structure,"related to https://github.com/apache/airflow/issues/46045

- [x]  No pending PR's for Facebook
- [x]  Ran `breeze testing providers-tests --test-type 'Providers[facebook]'`
- [x]  Ran Static checks




<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",shubhamraj-git,2025-01-27 09:23:23+00:00,[],2025-01-27 11:55:21+00:00,2025-01-27 11:55:21+00:00,https://github.com/apache/airflow/pull/46114,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:facebook', '')]","[{'comment_id': 2615442703, 'issue_id': 2812482579, 'author': 'potiuk', 'body': 'Ech.... conflicts too :(', 'created_at': datetime.datetime(2025, 1, 27, 11, 0, 27, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-27 11:00:27 UTC): Ech.... conflicts too :(

"
2812431396,pull_request,closed,,Move Apache Kylin to new provider structure,"related: #46045



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",jason810496,2025-01-27 08:59:14+00:00,[],2025-01-27 11:30:12+00:00,2025-01-27 09:47:00+00:00,https://github.com/apache/airflow/pull/46112,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('changelog:skip', 'Changes that should be skipped from the changelog (CI, tests, etc..)'), ('provider:apache-kylin', '')]","[{'comment_id': 2615278562, 'issue_id': 2812431396, 'author': 'potiuk', 'body': 'Known Qdrant check that will be fixed in another PR.', 'created_at': datetime.datetime(2025, 1, 27, 9, 46, 48, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-27 09:46:48 UTC): Known Qdrant check that will be fixed in another PR.

"
2812378582,pull_request,closed,,Move Common.io provider to new structure,"Related to #46045
<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",josix,2025-01-27 08:32:20+00:00,[],2025-01-27 14:10:02+00:00,2025-01-27 14:10:02+00:00,https://github.com/apache/airflow/pull/46111,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:common-io', '')]","[{'comment_id': 2615272095, 'issue_id': 2812378582, 'author': 'potiuk', 'body': 'This one also needs breeze unit test fix :(', 'created_at': datetime.datetime(2025, 1, 27, 9, 43, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615750045, 'issue_id': 2812378582, 'author': 'josix', 'body': 'Fixed it, @potiuk please feel free to take a look, thanks!', 'created_at': datetime.datetime(2025, 1, 27, 13, 21, 39, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-27 09:43:50 UTC): This one also needs breeze unit test fix :(

josix (Issue Creator) on (2025-01-27 13:21:39 UTC): Fixed it, @potiuk please feel free to take a look, thanks!

"
2812352380,pull_request,closed,,Move Apache Kafka to new provider structure,"
related: #46045



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",jason810496,2025-01-27 08:18:11+00:00,[],2025-01-27 19:09:15+00:00,2025-01-27 19:09:15+00:00,https://github.com/apache/airflow/pull/46110,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:apache-kafka', '')]","[{'comment_id': 2615225499, 'issue_id': 2812352380, 'author': 'potiuk', 'body': 'Conflicts :(', 'created_at': datetime.datetime(2025, 1, 27, 9, 22, 14, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-27 09:22:14 UTC): Conflicts :(

"
2812344891,pull_request,closed,,Move Common.compat provider to new provider structure,"related: https://github.com/apache/airflow/issues/46045

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",josix,2025-01-27 08:13:56+00:00,[],2025-01-27 08:59:25+00:00,2025-01-27 08:59:25+00:00,https://github.com/apache/airflow/pull/46109,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:common-compat', '')]","[{'comment_id': 2615171481, 'issue_id': 2812344891, 'author': 'vatsrahul1001', 'body': '@josix PR for common [compat](https://github.com/apache/airflow/pull/46063) is already raised', 'created_at': datetime.datetime(2025, 1, 27, 8, 57, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615176390, 'issue_id': 2812344891, 'author': 'josix', 'body': 'Oh, thanks for the reminder. Let me close this one.', 'created_at': datetime.datetime(2025, 1, 27, 8, 59, 19, tzinfo=datetime.timezone.utc)}]","vatsrahul1001 on (2025-01-27 08:57:02 UTC): @josix PR for common [compat](https://github.com/apache/airflow/pull/46063) is already raised

josix (Issue Creator) on (2025-01-27 08:59:19 UTC): Oh, thanks for the reminder. Let me close this one.

"
2812276405,pull_request,closed,,Move Apache Spark to new provider structure,"
related: #46045



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",jason810496,2025-01-27 07:32:06+00:00,[],2025-01-27 11:40:06+00:00,2025-01-27 09:20:24+00:00,https://github.com/apache/airflow/pull/46108,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('changelog:skip', 'Changes that should be skipped from the changelog (CI, tests, etc..)'), ('provider:apache-spark', '')]","[{'comment_id': 2615081701, 'issue_id': 2812276405, 'author': 'potiuk', 'body': 'conflicts :(', 'created_at': datetime.datetime(2025, 1, 27, 8, 11, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615221102, 'issue_id': 2812276405, 'author': 'potiuk', 'body': 'Merging. Qdrant. Will be fixed in another PR.', 'created_at': datetime.datetime(2025, 1, 27, 9, 20, 9, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-27 08:11:35 UTC): conflicts :(

potiuk on (2025-01-27 09:20:09 UTC): Merging. Qdrant. Will be fixed in another PR.

"
2812276068,pull_request,closed,,Add map_index parameter to extra links API,"related: #45614 (This PR is for 3.0)

<img width=""1481"" alt=""image"" src=""https://github.com/user-attachments/assets/e48726db-9178-453e-9bcc-ee03210fa3fe"" />

Try here after building: http://localhost:29091/docs#/Extra%20Links/get_extra_links



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",shubhamraj-git,2025-01-27 07:31:53+00:00,[],2025-02-03 17:19:22+00:00,2025-02-03 17:19:22+00:00,https://github.com/apache/airflow/pull/46107,"[('area:UI', 'Related to UI/UX. For Frontend Developers.')]","[{'comment_id': 2615036123, 'issue_id': 2812276068, 'author': 'eladkal', 'body': 'Thanks for this!\r\nI have to say that from my point of view this is a bug fix not a feature. Given https://github.com/apache/airflow/issues/43757\r\nI think we should backport it to 2.10 - this is really something that causes pain for users on 2.10 (including myself)', 'created_at': datetime.datetime(2025, 1, 27, 7, 43, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615038661, 'issue_id': 2812276068, 'author': 'shubhamraj-git', 'body': ""Sure, also we have to add tests regarding this. This PR don't do that."", 'created_at': datetime.datetime(2025, 1, 27, 7, 45, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619031661, 'issue_id': 2812276068, 'author': 'shubhamraj-git', 'body': ""@jscheffl @pierrejeambrun Yes, I will be adding tests soon.\r\nWill take care of backport PR, It's a separate fix altogether."", 'created_at': datetime.datetime(2025, 1, 28, 13, 37, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620500562, 'issue_id': 2812276068, 'author': 'tirkarthi', 'body': '@shubhamraj-git Any reason to close this PR without merge?', 'created_at': datetime.datetime(2025, 1, 29, 2, 34, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620607047, 'issue_id': 2812276068, 'author': 'shubhamraj-git', 'body': 'This is just to prevent accidental merge till the tests are added, I will reopen in a while.', 'created_at': datetime.datetime(2025, 1, 29, 3, 21, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624600331, 'issue_id': 2812276068, 'author': 'pierrejeambrun', 'body': 'cc: @ashb', 'created_at': datetime.datetime(2025, 1, 30, 14, 1, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625400208, 'issue_id': 2812276068, 'author': 'shubhamraj-git', 'body': '> Task SDK does not support `extra links` yet.\r\n> \r\n> You can mark the test as `xfail` and add a comment:\r\n> \r\n> ```\r\n> # TODO: TaskSDK need to fix this\r\n> # Extra links should work for mapped operator\r\n> ```\r\n\r\nDo we still backport this fix? Or wait for Task SDK to support `extra links`\r\ncc: @eladkal @jscheffl @pierrejeambrun', 'created_at': datetime.datetime(2025, 1, 30, 19, 33, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625411175, 'issue_id': 2812276068, 'author': 'eladkal', 'body': '> > Task SDK does not support `extra links` yet.\r\n> > You can mark the test as `xfail` and add a comment:\r\n> > ```\r\n> > # TODO: TaskSDK need to fix this\r\n> > # Extra links should work for mapped operator\r\n> > ```\r\n> \r\n> Do we still backport this fix? Or wait for Task SDK to support `extra links` cc: @eladkal @jscheffl @pierrejeambrun\r\n\r\n\r\n\r\nhttps://github.com/apache/airflow/issues/43757 is a bug on 2.10 so we can raise PR to fix the issue directly on 2.10 test branch. This is not related to task SDK (in terms of we can fix it today on 2.10 and have a seperated fix for airflow 3 on main branch later on)', 'created_at': datetime.datetime(2025, 1, 30, 19, 38, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629070474, 'issue_id': 2812276068, 'author': 'shubhamraj-git', 'body': '@eladkal raised PR for 2.10 https://github.com/apache/airflow/pull/46337', 'created_at': datetime.datetime(2025, 2, 1, 18, 57, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630064716, 'issue_id': 2812276068, 'author': 'eladkal', 'body': ""If no further comments I'm happy to merge"", 'created_at': datetime.datetime(2025, 2, 3, 6, 15, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630110073, 'issue_id': 2812276068, 'author': 'shubhamraj-git', 'body': 'I think we can merge this, the fix needed on the task SDK can be taken later on. \r\nRaised a issue in case someone can pickup early https://github.com/apache/airflow/issues/46363\r\nTests are marked as xfail till then. we need to fix that post the fix for above issue gets merge.', 'created_at': datetime.datetime(2025, 2, 3, 6, 51, tzinfo=datetime.timezone.utc)}]","eladkal on (2025-01-27 07:43:45 UTC): Thanks for this!
I have to say that from my point of view this is a bug fix not a feature. Given https://github.com/apache/airflow/issues/43757
I think we should backport it to 2.10 - this is really something that causes pain for users on 2.10 (including myself)

shubhamraj-git (Issue Creator) on (2025-01-27 07:45:28 UTC): Sure, also we have to add tests regarding this. This PR don't do that.

shubhamraj-git (Issue Creator) on (2025-01-28 13:37:51 UTC): @jscheffl @pierrejeambrun Yes, I will be adding tests soon.
Will take care of backport PR, It's a separate fix altogether.

tirkarthi on (2025-01-29 02:34:40 UTC): @shubhamraj-git Any reason to close this PR without merge?

shubhamraj-git (Issue Creator) on (2025-01-29 03:21:30 UTC): This is just to prevent accidental merge till the tests are added, I will reopen in a while.

pierrejeambrun on (2025-01-30 14:01:49 UTC): cc: @ashb

shubhamraj-git (Issue Creator) on (2025-01-30 19:33:16 UTC): Do we still backport this fix? Or wait for Task SDK to support `extra links`
cc: @eladkal @jscheffl @pierrejeambrun

eladkal on (2025-01-30 19:38:46 UTC): https://github.com/apache/airflow/issues/43757 is a bug on 2.10 so we can raise PR to fix the issue directly on 2.10 test branch. This is not related to task SDK (in terms of we can fix it today on 2.10 and have a seperated fix for airflow 3 on main branch later on)

shubhamraj-git (Issue Creator) on (2025-02-01 18:57:50 UTC): @eladkal raised PR for 2.10 https://github.com/apache/airflow/pull/46337

eladkal on (2025-02-03 06:15:46 UTC): If no further comments I'm happy to merge

shubhamraj-git (Issue Creator) on (2025-02-03 06:51:00 UTC): I think we can merge this, the fix needed on the task SDK can be taken later on. 
Raised a issue in case someone can pickup early https://github.com/apache/airflow/issues/46363
Tests are marked as xfail till then. we need to fix that post the fix for above issue gets merge.

"
2812238530,pull_request,closed,,Move Apache Pinot to new provider structure,"
related: #46045



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",jason810496,2025-01-27 07:06:54+00:00,[],2025-01-27 22:01:18+00:00,2025-01-27 22:01:17+00:00,https://github.com/apache/airflow/pull/46106,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:apache-pinot', '')]","[{'comment_id': 2615076407, 'issue_id': 2812238530, 'author': 'potiuk', 'body': 'conflicts :(', 'created_at': datetime.datetime(2025, 1, 27, 8, 8, 37, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-27 08:08:37 UTC): conflicts :(

"
2812212578,pull_request,closed,,Move Apache Pig to new provider structure,"
related: #46045 


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",jason810496,2025-01-27 06:48:48+00:00,[],2025-01-27 11:41:19+00:00,2025-01-27 07:48:45+00:00,https://github.com/apache/airflow/pull/46105,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('changelog:skip', 'Changes that should be skipped from the changelog (CI, tests, etc..)'), ('provider:apache-pig', '')]",[],
2812200532,pull_request,closed,,"Move Trino, Apprise providers to new structure","Related : #46045 

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",Prab-27,2025-01-27 06:39:48+00:00,[],2025-01-27 09:29:39+00:00,2025-01-27 09:29:38+00:00,https://github.com/apache/airflow/pull/46104,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:trino', ''), ('provider:apprise', '')]","[{'comment_id': 2615241449, 'issue_id': 2812200532, 'author': 'Prab-27', 'body': 'close by #46045 [comment](https://github.com/apache/airflow/issues/46045#issuecomment-2614845077)', 'created_at': datetime.datetime(2025, 1, 27, 9, 29, 39, tzinfo=datetime.timezone.utc)}]","Prab-27 (Issue Creator) on (2025-01-27 09:29:39 UTC): close by #46045 [comment](https://github.com/apache/airflow/issues/46045#issuecomment-2614845077)

"
2812076626,pull_request,closed,,"[WIP] Move Apache Pig, Pinot, Spark to new provider structure","

related: #46045 



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",jason810496,2025-01-27 04:51:17+00:00,[],2025-01-27 06:49:58+00:00,2025-01-27 06:49:58+00:00,https://github.com/apache/airflow/pull/46103,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:apache-spark', ''), ('provider:apache-pig', ''), ('provider:apache-pinot', '')]","[{'comment_id': 2614964309, 'issue_id': 2812076626, 'author': 'jason810496', 'body': 'Close by https://github.com/apache/airflow/issues/46045#issuecomment-2614845077', 'created_at': datetime.datetime(2025, 1, 27, 6, 49, 58, tzinfo=datetime.timezone.utc)}]","jason810496 (Issue Creator) on (2025-01-27 06:49:58 UTC): Close by https://github.com/apache/airflow/issues/46045#issuecomment-2614845077

"
2812050388,pull_request,closed,," Move mysql, odbc, jenkins, pagerduty to new provider structure. ","related to https://github.com/apache/airflow/issues/46045


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vatsrahul1001,2025-01-27 04:21:53+00:00,[],2025-01-27 11:39:55+00:00,2025-01-27 09:20:53+00:00,https://github.com/apache/airflow/pull/46102,"[('area:Scheduler', 'including HA (high availability) scheduler'), ('area:dev-tools', ''), ('area:helm-chart', 'Airflow Helm Chart'), ('changelog:skip', 'Changes that should be skipped from the changelog (CI, tests, etc..)'), ('area:UI', 'Related to UI/UX. For Frontend Developers.'), ('area:DAG-processing', '')]","[{'comment_id': 2614895052, 'issue_id': 2812050388, 'author': 'eladkal', 'body': ""I'm on my phone so hard to review but the UI label means there probably a file that shouldnt be changed"", 'created_at': datetime.datetime(2025, 1, 27, 5, 47, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614934458, 'issue_id': 2812050388, 'author': 'vatsrahul1001', 'body': ""> I'm on my phone so hard to review but the UI label means there probably a file that shouldnt be changed\r\n\r\nI have checked that the files are related to providers' moves only.  I rebased my individual PR in this batch PR, could it be due to rebasing these tags got added?"", 'created_at': datetime.datetime(2025, 1, 27, 6, 24, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615039862, 'issue_id': 2812050388, 'author': 'potiuk', 'body': ""> > I'm on my phone so hard to review but the UI label means there probably a file that shouldnt be changed\r\n> \r\n> I have checked that the files are related to providers' moves only. I rebased my individual PR in this batch PR, could it be due to rebasing these tags got added?\r\n\r\nNo UI files :)"", 'created_at': datetime.datetime(2025, 1, 27, 7, 46, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615040250, 'issue_id': 2812050388, 'author': 'potiuk', 'body': 'But conflicts to be resolved :(', 'created_at': datetime.datetime(2025, 1, 27, 7, 46, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615052759, 'issue_id': 2812050388, 'author': 'vatsrahul1001', 'body': '> But conflicts to be resolved :(\r\n\r\n@jarek resolved', 'created_at': datetime.datetime(2025, 1, 27, 7, 55, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615217895, 'issue_id': 2812050388, 'author': 'potiuk', 'body': 'Some qdrant immport needs fixing :(', 'created_at': datetime.datetime(2025, 1, 27, 9, 18, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615222468, 'issue_id': 2812050388, 'author': 'potiuk', 'body': 'Qdrant wil be fixed in another PR. Merging.', 'created_at': datetime.datetime(2025, 1, 27, 9, 20, 46, tzinfo=datetime.timezone.utc)}]","eladkal on (2025-01-27 05:47:28 UTC): I'm on my phone so hard to review but the UI label means there probably a file that shouldnt be changed

vatsrahul1001 (Issue Creator) on (2025-01-27 06:24:05 UTC): I have checked that the files are related to providers' moves only.  I rebased my individual PR in this batch PR, could it be due to rebasing these tags got added?

potiuk on (2025-01-27 07:46:13 UTC): No UI files :)

potiuk on (2025-01-27 07:46:29 UTC): But conflicts to be resolved :(

vatsrahul1001 (Issue Creator) on (2025-01-27 07:55:07 UTC): @jarek resolved

potiuk on (2025-01-27 09:18:34 UTC): Some qdrant immport needs fixing :(

potiuk on (2025-01-27 09:20:46 UTC): Qdrant wil be fixed in another PR. Merging.

"
2811952325,pull_request,closed,,"Move redis, sqlite to new provider structure","related to #46045 

- [X] No pending PR's on redis, ~~vertica~~, sqlite providers

Vertica was merged in https://github.com/apache/airflow/pull/46116",rawwar,2025-01-27 02:17:20+00:00,[],2025-02-01 09:43:43+00:00,2025-01-31 20:16:58+00:00,https://github.com/apache/airflow/pull/46101,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:redis', ''), ('provider:sqlite', '')]","[{'comment_id': 2615215942, 'issue_id': 2811952325, 'author': 'potiuk', 'body': 'conflicts :(', 'created_at': datetime.datetime(2025, 1, 27, 9, 17, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615406880, 'issue_id': 2811952325, 'author': 'potiuk', 'body': 'still conflicts :(', 'created_at': datetime.datetime(2025, 1, 27, 10, 44, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618724589, 'issue_id': 2811952325, 'author': 'rawwar', 'body': '> still conflicts :(\r\n\r\nfixed', 'created_at': datetime.datetime(2025, 1, 28, 11, 25, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628879318, 'issue_id': 2811952325, 'author': 'potiuk', 'body': 'Cool', 'created_at': datetime.datetime(2025, 2, 1, 9, 43, 42, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-27 09:17:40 UTC): conflicts :(

potiuk on (2025-01-27 10:44:18 UTC): still conflicts :(

rawwar (Issue Creator) on (2025-01-28 11:25:35 UTC): fixed

potiuk on (2025-02-01 09:43:42 UTC): Cool

"
2811926066,pull_request,closed,,Call `get_current_version` less often in bundle refresh loop,"In the bundle refresh loop, we can call `get_current_version` a lot less often, as 1) we can skip it for bundles that do not support versioning and 2) for those that do, we already know the version from the last time we refreshed!

Since this is a local call, this isn't a huge gain. But every little bit helps.

Trying this again, as #45999 was reverted in #46037.",jedcunningham,2025-01-27 01:42:01+00:00,[],2025-01-27 11:42:39+00:00,2025-01-27 07:38:01+00:00,https://github.com/apache/airflow/pull/46100,"[('type:improvement', 'Changelog: Improvements'), ('full tests needed', 'We need to run full set of tests for this PR to merge'), ('area:DAG-processing', ''), ('AIP-66: DAG Bundle/Manifest', '')]","[{'comment_id': 2615028156, 'issue_id': 2811926066, 'author': 'potiuk', 'body': ""Hmm.. Strange... It works now... Let's merge to see :)"", 'created_at': datetime.datetime(2025, 1, 27, 7, 37, 58, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-27 07:37:58 UTC): Hmm.. Strange... It works now... Let's merge to see :)

"
2811774405,pull_request,closed,,Move OpenAI provider to new structure,"related: #46045
<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",josix,2025-01-26 20:34:14+00:00,[],2025-01-27 12:35:16+00:00,2025-01-26 22:02:37+00:00,https://github.com/apache/airflow/pull/46099,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('changelog:skip', 'Changes that should be skipped from the changelog (CI, tests, etc..)'), ('provider:openai', '')]",[],
2811771224,pull_request,closed,,Move MYSQL provider to new structure,"related to https://github.com/apache/airflow/issues/46045

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vatsrahul1001,2025-01-26 20:26:48+00:00,[],2025-01-27 09:28:52+00:00,2025-01-27 06:18:13+00:00,https://github.com/apache/airflow/pull/46098,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:mysql', '')]","[{'comment_id': 2615239770, 'issue_id': 2811771224, 'author': 'vatsrahul1001', 'body': 'closing in favour of https://github.com/apache/airflow/pull/46102', 'created_at': datetime.datetime(2025, 1, 27, 9, 28, 50, tzinfo=datetime.timezone.utc)}]","vatsrahul1001 (Issue Creator) on (2025-01-27 09:28:50 UTC): closing in favour of https://github.com/apache/airflow/pull/46102

"
2811770535,pull_request,closed,,Move Docker Provider to the New Structure,"related: #46045

Provider Related PR: #45745
There is a PR for this provider. I believe rebasing should fix the problems if this creates conflicts.


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",bugraoz93,2025-01-26 20:25:11+00:00,[],2025-01-30 08:32:30+00:00,2025-01-30 08:32:30+00:00,https://github.com/apache/airflow/pull/46097,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:docker', '')]","[{'comment_id': 2616664065, 'issue_id': 2811770535, 'author': 'potiuk', 'body': 'Conflicts to resolve :(', 'created_at': datetime.datetime(2025, 1, 27, 19, 6, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617142482, 'issue_id': 2811770535, 'author': 'bugraoz93', 'body': '> Conflicts to resolve :(\r\n\r\nFixed it. Thanks for the review! :)', 'created_at': datetime.datetime(2025, 1, 27, 23, 41, 36, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-27 19:06:03 UTC): Conflicts to resolve :(

bugraoz93 (Issue Creator) on (2025-01-27 23:41:36 UTC): Fixed it. Thanks for the review! :)

"
2811768316,pull_request,open,,(feat) HttpToS3Operator: do not load file in-memory,"If stream=True is set in extra_options, use stream API instead of loading file in-memory.

Closes: #46066
",rogalski,2025-01-26 20:20:19+00:00,[],2025-02-06 07:48:58+00:00,,https://github.com/apache/airflow/pull/46096,"[('provider:amazon', 'AWS/Amazon - related issues'), ('area:providers', '')]","[{'comment_id': 2614577012, 'issue_id': 2811768316, 'author': 'boring-cyborg[bot]', 'body': ""Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)\nHere are some useful points:\n- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.\n- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.\n- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.\n- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.\n- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.\n- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).\n- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.\nApache Airflow is a community-driven project and together we are making it better ðŸš€.\nIn case of doubts contact the developers at:\nMailing List: dev@airflow.apache.org\nSlack: https://s.apache.org/airflow-slack"", 'created_at': datetime.datetime(2025, 1, 26, 20, 20, 23, tzinfo=datetime.timezone.utc)}]","boring-cyborg[bot] on (2025-01-26 20:20:23 UTC): Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)
Here are some useful points:
- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.
- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.
- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.
- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.
- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.
- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).
- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.
Apache Airflow is a community-driven project and together we are making it better ðŸš€.
In case of doubts contact the developers at:
Mailing List: dev@airflow.apache.org
Slack: https://s.apache.org/airflow-slack

"
2811763814,pull_request,closed,,Move ODBC provider to new structure,"related to https://github.com/apache/airflow/issues/46045

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vatsrahul1001,2025-01-26 20:09:28+00:00,[],2025-01-27 09:27:54+00:00,2025-01-27 09:27:53+00:00,https://github.com/apache/airflow/pull/46095,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:odbc', '')]","[{'comment_id': 2614977495, 'issue_id': 2811763814, 'author': 'eladkal', 'body': 'Conflicts needs to be resolved', 'created_at': datetime.datetime(2025, 1, 27, 7, 0, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615237699, 'issue_id': 2811763814, 'author': 'vatsrahul1001', 'body': 'closing in favour of https://github.com/apache/airflow/pull/46102', 'created_at': datetime.datetime(2025, 1, 27, 9, 27, 53, tzinfo=datetime.timezone.utc)}]","eladkal on (2025-01-27 07:00:58 UTC): Conflicts needs to be resolved

vatsrahul1001 (Issue Creator) on (2025-01-27 09:27:53 UTC): closing in favour of https://github.com/apache/airflow/pull/46102

"
2811763542,pull_request,closed,,Move Mongo provider to new structure,"related: #46045

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",josix,2025-01-26 20:08:43+00:00,[],2025-01-27 23:18:33+00:00,2025-01-27 23:18:33+00:00,https://github.com/apache/airflow/pull/46094,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:mongo', '')]","[{'comment_id': 2615084899, 'issue_id': 2811763542, 'author': 'potiuk', 'body': 'conflicts', 'created_at': datetime.datetime(2025, 1, 27, 8, 13, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615272848, 'issue_id': 2811763542, 'author': 'potiuk', 'body': 'Still :(', 'created_at': datetime.datetime(2025, 1, 27, 9, 44, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615862133, 'issue_id': 2811763542, 'author': 'potiuk', 'body': 'conflicts :(', 'created_at': datetime.datetime(2025, 1, 27, 14, 8, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616663274, 'issue_id': 2811763542, 'author': 'potiuk', 'body': 'OK. conflicts to resolve after fixing some http issue.', 'created_at': datetime.datetime(2025, 1, 27, 19, 5, 39, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-27 08:13:24 UTC): conflicts

potiuk on (2025-01-27 09:44:12 UTC): Still :(

potiuk on (2025-01-27 14:08:46 UTC): conflicts :(

potiuk on (2025-01-27 19:05:39 UTC): OK. conflicts to resolve after fixing some http issue.

"
2811763272,pull_request,closed,,Move Qdrant provider to new structure,"related to https://github.com/apache/airflow/issues/46045

- [x]  No pending PR's for Qdrant
- [x]  Ran `breeze testing providers-tests --test-type 'Providers[qdrant]'`
- [x]  Ran Static checks



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",shubhamraj-git,2025-01-26 20:08:05+00:00,[],2025-01-27 11:40:27+00:00,2025-01-27 08:10:48+00:00,https://github.com/apache/airflow/pull/46093,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('changelog:skip', 'Changes that should be skipped from the changelog (CI, tests, etc..)'), ('provider:qdrant', '')]",[],
2811759718,pull_request,closed,,Move Papermill provider to new structure,"related to https://github.com/apache/airflow/issues/46045

- [x]  No pending PR's for Papermill
- [x]  Ran `breeze testing providers-tests --test-type 'Providers[papermill]'`
- [x]  Ran Static checks


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",shubhamraj-git,2025-01-26 20:00:19+00:00,[],2025-01-27 11:44:02+00:00,2025-01-27 07:12:00+00:00,https://github.com/apache/airflow/pull/46092,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('changelog:skip', 'Changes that should be skipped from the changelog (CI, tests, etc..)'), ('provider:papermill', '')]",[],
2811748391,pull_request,closed,,Move DATADOG provider to new structure,"related to https://github.com/apache/airflow/issues/46045

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vatsrahul1001,2025-01-26 19:32:52+00:00,[],2025-01-27 12:35:32+00:00,2025-01-26 21:59:04+00:00,https://github.com/apache/airflow/pull/46091,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('changelog:skip', 'Changes that should be skipped from the changelog (CI, tests, etc..)'), ('provider:datadog', '')]",[],
2811746927,pull_request,closed,,Move Openfaas provider to new structure,"related to https://github.com/apache/airflow/issues/46045

- [x]  No pending PR's for Openfaas
- [x]  Ran `breeze testing providers-tests --test-type 'Providers[openfaas]'`
- [x]  Ran Static checks


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",shubhamraj-git,2025-01-26 19:29:28+00:00,[],2025-01-27 12:17:31+00:00,2025-01-27 07:07:09+00:00,https://github.com/apache/airflow/pull/46090,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('changelog:skip', 'Changes that should be skipped from the changelog (CI, tests, etc..)'), ('provider:openfaas', '')]",[],
2811741569,pull_request,closed,,Move JENKINS provider to new structure ,"related to https://github.com/apache/airflow/issues/46045
<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vatsrahul1001,2025-01-26 19:21:11+00:00,[],2025-01-27 09:28:12+00:00,2025-01-27 09:28:11+00:00,https://github.com/apache/airflow/pull/46089,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:jenkins', '')]","[{'comment_id': 2615238333, 'issue_id': 2811741569, 'author': 'vatsrahul1001', 'body': 'closing in favour of https://github.com/apache/airflow/pull/46102', 'created_at': datetime.datetime(2025, 1, 27, 9, 28, 11, tzinfo=datetime.timezone.utc)}]","vatsrahul1001 (Issue Creator) on (2025-01-27 09:28:11 UTC): closing in favour of https://github.com/apache/airflow/pull/46102

"
2811740990,pull_request,closed,,Move Discord provider to new structure,"related to https://github.com/apache/airflow/issues/46045

- [x]  No pending PR's for Discord
- [x]  Ran `breeze testing providers-tests --test-type 'Providers[discord]'`
- [x]  Ran Static checks



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",shubhamraj-git,2025-01-26 19:19:57+00:00,[],2025-01-27 20:46:03+00:00,2025-01-27 20:46:03+00:00,https://github.com/apache/airflow/pull/46088,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:discord', '')]","[{'comment_id': 2615434536, 'issue_id': 2811740990, 'author': 'amoghrajesh', 'body': 'Something strange going on with the CI. The dependency for http provider is open ended. Not very sure what the issue is', 'created_at': datetime.datetime(2025, 1, 27, 10, 56, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615456988, 'issue_id': 2811740990, 'author': 'potiuk', 'body': 'I will take a look at those shortly - let it run to error again', 'created_at': datetime.datetime(2025, 1, 27, 11, 6, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615479822, 'issue_id': 2811740990, 'author': 'shubhamraj-git', 'body': 'Yes, I tried thrice.\r\n\r\nThe checks keeps on failing with Tests / Build PROD images / Build PROD Regular image 3.9 (pull_request)  failure.\r\n\r\n```\r\n  4.092 The conflict is caused by:\r\n  4.092     The user requested apache-airflow-providers-http 5.0.0.dev0 (from /docker-context-files/apache_airflow_providers_http-5.0.0.dev0-py3-none-any.whl)\r\n  4.092     The user requested (constraint) apache-airflow-providers-http==5.0.0\r\n  4.092 \r\n  4.092 To fix this you could try to:\r\n  4.092 1. loosen the range of package versions you\'ve specified\r\n  4.092 2. remove package versions to allow pip to attempt to solve the dependency conflict\r\n  4.092 \r\n  4.093 ERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/topics/dependency-resolution/#dealing-with-dependency-conflicts\r\n  ------\r\n  ERROR: failed to solve: process ""/bin/bash -o pipefail -o errexit -o nounset -o nolog -c if [[ ${INSTALL_PACKAGES_FROM_CONTEXT} == \\""true\\"" ]]; then         bash /scripts/docker/install_from_docker_context_files.sh;     fi;     if ! airflow version 2>/dev/null >/dev/null; then         bash /scripts/docker/install_airflow.sh;     fi;     if [[ -n \\""${ADDITIONAL_PYTHON_DEPS}\\"" ]]; then         bash /scripts/docker/install_additional_dependencies.sh;     fi;     find \\""${AIRFLOW_USER_HOME_DIR}/.local/\\"" -name \'*.pyc\' -print0 | xargs -0 rm -f || true ;     find \\""${AIRFLOW_USER_HOME_DIR}/.local/\\"" -type d -name \'__pycache__\' -print0 | xargs -0 rm -rf || true ;     find \\""${AIRFLOW_USER_HOME_DIR}/.local\\"" -executable ! -type l -print0 | xargs --null chmod g+x;     find \\""${AIRFLOW_USER_HOME_DIR}/.local\\"" ! -type l -print0 | xargs --null chmod g+rw"" did not complete successfully: exit code: 1\r\nError when building image! Image build: 3.9linux/amd64\r\n```', 'created_at': datetime.datetime(2025, 1, 27, 11, 17, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615564286, 'issue_id': 2811740990, 'author': 'potiuk', 'body': 'Yeah. That requires a bit of deeper look :). On it', 'created_at': datetime.datetime(2025, 1, 27, 11, 57, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615606591, 'issue_id': 2811740990, 'author': 'potiuk', 'body': 'This has something to do with bad constraints generation (so an issue that I am already aware of):\r\n\r\nCyrrently the source constraints have this:\r\n\r\n```\r\n...\r\naliyun-python-sdk-kms==2.16.5\r\namqp==5.3.1\r\nanalytics-python==1.4.post1\r\nannotated-types==0.7.0\r\nansicolors==1.1.8\r\nanyio==4.8.0\r\napache-airflow-providers-http==5.0.0\r\napache-beam==2.62.0\r\napispec==6.8.1\r\napprise==1.9.2\r\n...\r\n```\r\n\r\nSo - for some reasons constraints generated in this build contain `apache-airflow-providers-http` where it should not. On it.', 'created_at': datetime.datetime(2025, 1, 27, 12, 17, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615729620, 'issue_id': 2811740990, 'author': 'amoghrajesh', 'body': '> This has something to do with bad constraints generation (so an issue that I am already aware of):\r\n> \r\n> Cyrrently the source constraints have this:\r\n> \r\n> ```\r\n> ...\r\n> aliyun-python-sdk-kms==2.16.5\r\n> amqp==5.3.1\r\n> analytics-python==1.4.post1\r\n> annotated-types==0.7.0\r\n> ansicolors==1.1.8\r\n> anyio==4.8.0\r\n> apache-airflow-providers-http==5.0.0\r\n> apache-beam==2.62.0\r\n> apispec==6.8.1\r\n> apprise==1.9.2\r\n> ...\r\n> ```\r\n> \r\n> So - for some reasons constraints generated in this build contain `apache-airflow-providers-http` where it should not. On it.\r\n\r\nI thought breeze generated that (could be wrong), maybe some bug there?', 'created_at': datetime.datetime(2025, 1, 27, 13, 12, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615749141, 'issue_id': 2811740990, 'author': 'potiuk', 'body': '> I thought breeze generated that (could be wrong), maybe some bug there?\r\n\r\nNew structure of providers made a change how those are resolved an calculated (workspace feature is interfering with it) - I have a half-done fix already - PR will be there later today.', 'created_at': datetime.datetime(2025, 1, 27, 13, 21, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615750849, 'issue_id': 2811740990, 'author': 'potiuk', 'body': 'We will have to overcome some `uv` limitations - so I have to implement some hacks and open a feature request for `uv` to handle some cases - so that we can remove the hack eventually. Stay tuned.', 'created_at': datetime.datetime(2025, 1, 27, 13, 21, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616327050, 'issue_id': 2811740990, 'author': 'potiuk', 'body': 'https://github.com/apache/airflow/pull/46139 should fix it - together with constraint generation', 'created_at': datetime.datetime(2025, 1, 27, 16, 42, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616653423, 'issue_id': 2811740990, 'author': 'potiuk', 'body': 'Ok. you can rebase it @shubhamraj-git', 'created_at': datetime.datetime(2025, 1, 27, 19, 1, 12, tzinfo=datetime.timezone.utc)}]","amoghrajesh on (2025-01-27 10:56:41 UTC): Something strange going on with the CI. The dependency for http provider is open ended. Not very sure what the issue is

potiuk on (2025-01-27 11:06:58 UTC): I will take a look at those shortly - let it run to error again

shubhamraj-git (Issue Creator) on (2025-01-27 11:17:22 UTC): Yes, I tried thrice.

The checks keeps on failing with Tests / Build PROD images / Build PROD Regular image 3.9 (pull_request)  failure.

```
  4.092 The conflict is caused by:
  4.092     The user requested apache-airflow-providers-http 5.0.0.dev0 (from /docker-context-files/apache_airflow_providers_http-5.0.0.dev0-py3-none-any.whl)
  4.092     The user requested (constraint) apache-airflow-providers-http==5.0.0
  4.092 
  4.092 To fix this you could try to:
  4.092 1. loosen the range of package versions you've specified
  4.092 2. remove package versions to allow pip to attempt to solve the dependency conflict
  4.092 
  4.093 ERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/topics/dependency-resolution/#dealing-with-dependency-conflicts
  ------
  ERROR: failed to solve: process ""/bin/bash -o pipefail -o errexit -o nounset -o nolog -c if [[ ${INSTALL_PACKAGES_FROM_CONTEXT} == \""true\"" ]]; then         bash /scripts/docker/install_from_docker_context_files.sh;     fi;     if ! airflow version 2>/dev/null >/dev/null; then         bash /scripts/docker/install_airflow.sh;     fi;     if [[ -n \""${ADDITIONAL_PYTHON_DEPS}\"" ]]; then         bash /scripts/docker/install_additional_dependencies.sh;     fi;     find \""${AIRFLOW_USER_HOME_DIR}/.local/\"" -name '*.pyc' -print0 | xargs -0 rm -f || true ;     find \""${AIRFLOW_USER_HOME_DIR}/.local/\"" -type d -name '__pycache__' -print0 | xargs -0 rm -rf || true ;     find \""${AIRFLOW_USER_HOME_DIR}/.local\"" -executable ! -type l -print0 | xargs --null chmod g+x;     find \""${AIRFLOW_USER_HOME_DIR}/.local\"" ! -type l -print0 | xargs --null chmod g+rw"" did not complete successfully: exit code: 1
Error when building image! Image build: 3.9linux/amd64
```

potiuk on (2025-01-27 11:57:42 UTC): Yeah. That requires a bit of deeper look :). On it

potiuk on (2025-01-27 12:17:43 UTC): This has something to do with bad constraints generation (so an issue that I am already aware of):

Cyrrently the source constraints have this:

```
...
aliyun-python-sdk-kms==2.16.5
amqp==5.3.1
analytics-python==1.4.post1
annotated-types==0.7.0
ansicolors==1.1.8
anyio==4.8.0
apache-airflow-providers-http==5.0.0
apache-beam==2.62.0
apispec==6.8.1
apprise==1.9.2
...
```

So - for some reasons constraints generated in this build contain `apache-airflow-providers-http` where it should not. On it.

amoghrajesh on (2025-01-27 13:12:47 UTC): I thought breeze generated that (could be wrong), maybe some bug there?

potiuk on (2025-01-27 13:21:14 UTC): New structure of providers made a change how those are resolved an calculated (workspace feature is interfering with it) - I have a half-done fix already - PR will be there later today.

potiuk on (2025-01-27 13:21:58 UTC): We will have to overcome some `uv` limitations - so I have to implement some hacks and open a feature request for `uv` to handle some cases - so that we can remove the hack eventually. Stay tuned.

potiuk on (2025-01-27 16:42:54 UTC): https://github.com/apache/airflow/pull/46139 should fix it - together with constraint generation

potiuk on (2025-01-27 19:01:12 UTC): Ok. you can rebase it @shubhamraj-git

"
2811733994,pull_request,closed,,Move Hashicorp provider to new structure,"related to https://github.com/apache/airflow/issues/46045

- [x]  No pending PR's for Hashicorp
- [x]  Ran `breeze testing providers-tests --test-type 'Providers[hashicorp]'`
- [x]  Ran Static checks



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",shubhamraj-git,2025-01-26 19:04:18+00:00,[],2025-01-27 12:19:44+00:00,2025-01-27 07:06:06+00:00,https://github.com/apache/airflow/pull/46087,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('changelog:skip', 'Changes that should be skipped from the changelog (CI, tests, etc..)'), ('provider:hashicorp', 'Hashicorp provider related issues')]",[],
2811730309,pull_request,closed,,Move imap provider to new structure,"related to https://github.com/apache/airflow/issues/46045

- [x]  No pending PR's for imap
- [x]  Ran `breeze testing providers-tests --test-type 'Providers[imap]'`
- [x]  Ran Static checks


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",shubhamraj-git,2025-01-26 18:56:14+00:00,[],2025-01-27 11:40:46+00:00,2025-01-27 08:09:25+00:00,https://github.com/apache/airflow/pull/46086,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('changelog:skip', 'Changes that should be skipped from the changelog (CI, tests, etc..)'), ('provider:imap', '')]",[],
2811728337,pull_request,closed,,Move PAGERDUTY provider to new structure,"related to https://github.com/apache/airflow/issues/46045
<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vatsrahul1001,2025-01-26 18:51:46+00:00,[],2025-01-27 09:28:34+00:00,2025-01-27 09:28:34+00:00,https://github.com/apache/airflow/pull/46085,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:pagerduty', '')]","[{'comment_id': 2615239175, 'issue_id': 2811728337, 'author': 'vatsrahul1001', 'body': 'closing in favour of https://github.com/apache/airflow/pull/46102', 'created_at': datetime.datetime(2025, 1, 27, 9, 28, 34, tzinfo=datetime.timezone.utc)}]","vatsrahul1001 (Issue Creator) on (2025-01-27 09:28:34 UTC): closing in favour of https://github.com/apache/airflow/pull/46102

"
2811726981,pull_request,closed,,Move Neo4j to new structure,"related to https://github.com/apache/airflow/issues/46045

- [x]  No pending PR's for Neo4j
- [x]  Ran `breeze testing providers-tests --test-type 'Providers[neo4j]'`
- [x]  Ran Static checks


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",shubhamraj-git,2025-01-26 18:48:37+00:00,[],2025-01-27 12:19:53+00:00,2025-01-27 05:02:26+00:00,https://github.com/apache/airflow/pull/46084,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('changelog:skip', 'Changes that should be skipped from the changelog (CI, tests, etc..)'), ('provider:neo4j', '')]",[],
2811721708,pull_request,closed,,Move Opsgenie to new structure,"related to https://github.com/apache/airflow/issues/46045

- [x]  No pending PR's for Opsgenie
- [x]  Ran `breeze testing providers-tests --test-type 'Providers[opsgenie]'`
- [x]  Ran Static checks

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",shubhamraj-git,2025-01-26 18:36:47+00:00,[],2025-01-27 05:16:51+00:00,2025-01-27 05:16:51+00:00,https://github.com/apache/airflow/pull/46083,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:opsgenie', '')]",[],
2811718323,pull_request,closed,,Move Singularity provider to new structure,"related to https://github.com/apache/airflow/issues/46045

- [x]  No pending PR's for Singularity
- [x]  Ran `breeze testing providers-tests --test-type 'Providers[singularity]'`
- [x]  Ran Static checks



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",shubhamraj-git,2025-01-26 18:29:26+00:00,[],2025-01-27 11:44:43+00:00,2025-01-27 07:08:05+00:00,https://github.com/apache/airflow/pull/46082,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('changelog:skip', 'Changes that should be skipped from the changelog (CI, tests, etc..)'), ('provider:singularity', '')]",[],
2811716733,pull_request,closed,,Move ASANA provider to new structure,"related to https://github.com/apache/airflow/issues/46045

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vatsrahul1001,2025-01-26 18:25:50+00:00,[],2025-01-27 12:35:42+00:00,2025-01-26 21:56:26+00:00,https://github.com/apache/airflow/pull/46081,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('changelog:skip', 'Changes that should be skipped from the changelog (CI, tests, etc..)'), ('provider:asana', '')]",[],
2811715406,pull_request,closed,,Move samba provider to new structure,"related to https://github.com/apache/airflow/issues/46045

- [x]  No pending PR's for Samba
- [x]  Ran `breeze testing providers-tests --test-type 'Providers[samba]'`
- [x]  Ran Static checks


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",shubhamraj-git,2025-01-26 18:22:51+00:00,[],2025-01-27 12:20:03+00:00,2025-01-27 04:52:59+00:00,https://github.com/apache/airflow/pull/46080,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('changelog:skip', 'Changes that should be skipped from the changelog (CI, tests, etc..)'), ('provider:samba', '')]",[],
2811691946,pull_request,closed,,Move Telegram provider to new structure,"related to https://github.com/apache/airflow/issues/46045

- [x]  No pending PR's for Telegram
- [x]  Ran `breeze testing providers-tests --test-type 'Providers[telegram]'`
- [x]  Ran Static checks


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",shubhamraj-git,2025-01-26 17:39:47+00:00,[],2025-01-27 12:37:59+00:00,2025-01-26 20:02:15+00:00,https://github.com/apache/airflow/pull/46079,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('changelog:skip', 'Changes that should be skipped from the changelog (CI, tests, etc..)'), ('provider:telegram', '')]",[],
2811687964,pull_request,closed,,[v2-10-test] Upgrade uv and pip,"(cherry picked from commit 7cc42023eb6b755ccfb9092ef06bd775bed148a6)

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-01-26 17:32:40+00:00,[],2025-01-26 18:07:29+00:00,2025-01-26 18:07:28+00:00,https://github.com/apache/airflow/pull/46078,"[('area:dev-tools', ''), ('area:production-image', 'Production image improvements and fixes')]",[],
2811683638,pull_request,closed,,Move TABLEAU provider to new structure,"related to https://github.com/apache/airflow/issues/46045

- [x]  No pending PR's for TABLEAU
- [x]  Ran `breeze testing providers-tests --test-type 'Providers[tableau]'`
- [x]  Ran Static checks


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",shubhamraj-git,2025-01-26 17:23:53+00:00,[],2025-01-27 11:44:25+00:00,2025-01-27 07:08:49+00:00,https://github.com/apache/airflow/pull/46077,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('changelog:skip', 'Changes that should be skipped from the changelog (CI, tests, etc..)'), ('provider:tableau', '')]",[],
2811676392,pull_request,closed,,Fix typo in 01_roles_in_airflow_project.rst,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->

Fix typo in docs.
Apologies for opening it from a branch on Airflow's original repository, I demonstrated graduate students how to open a PR :)

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",shahar1,2025-01-26 17:09:09+00:00,[],2025-01-26 18:15:27+00:00,2025-01-26 18:15:17+00:00,https://github.com/apache/airflow/pull/46076,"[('area:dev-tools', ''), ('changelog:skip', 'Changes that should be skipped from the changelog (CI, tests, etc..)')]",[],
2811659324,pull_request,closed,,Upgrade `pip` and `uv`,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-01-26 16:42:30+00:00,[],2025-01-26 17:27:24+00:00,2025-01-26 17:26:39+00:00,https://github.com/apache/airflow/pull/46075,"[('area:dev-tools', ''), ('area:production-image', 'Production image improvements and fixes'), ('backport-to-v2-10-test', 'Mark PR with this label to backport to v2-10-test branch')]","[{'comment_id': 2614516297, 'issue_id': 2811659324, 'author': 'github-actions[bot]', 'body': '### Backport failed to create: v2-10-test. View the failure log <a href=\'https://github.com/apache/airflow/actions/runs/12976825203\'> Run details </a>\n\n<table>\n    <tr>\n        <th>Status</th>\n        <th>Branch</th>\n        <th>Result</th>\n    </tr>\n    <tr>\n        <td>âŒ</td>\n        <td>v2-10-test</td>\n        <td><a href=""https://github.com/apache/airflow/commit/7cc42023eb6b755ccfb9092ef06bd775bed148a6""><img src=\'https://img.shields.io/badge/Commit-7cc4202-red\' alt=\'Commit Link\'></a></td>\n    </tr>\n</table>\n\nYou can attempt to backport this manually by running:\n\n```bash\ncherry_picker 7cc4202 v2-10-test\n```\n\nThis should apply the commit to the v2-10-test branch and leave the commit in conflict state marking\nthe files that need manual conflict resolution.\n\nAfter you have resolved the conflicts, you can continue the backport process by running:\n\n```bash\ncherry_picker --continue\n```', 'created_at': datetime.datetime(2025, 1, 26, 17, 27, 23, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-26 17:27:23 UTC): ### Backport failed to create: v2-10-test. View the failure log <a href='https://github.com/apache/airflow/actions/runs/12976825203'> Run details </a>

<table>
    <tr>
        <th>Status</th>
        <th>Branch</th>
        <th>Result</th>
    </tr>
    <tr>
        <td>âŒ</td>
        <td>v2-10-test</td>
        <td><a href=""https://github.com/apache/airflow/commit/7cc42023eb6b755ccfb9092ef06bd775bed148a6""><img src='https://img.shields.io/badge/Commit-7cc4202-red' alt='Commit Link'></a></td>
    </tr>
</table>

You can attempt to backport this manually by running:

```bash
cherry_picker 7cc4202 v2-10-test
```

This should apply the commit to the v2-10-test branch and leave the commit in conflict state marking
the files that need manual conflict resolution.

After you have resolved the conflicts, you can continue the backport process by running:

```bash
cherry_picker --continue
```

"
2811640249,pull_request,closed,,Add triggerer info and extra links section to task instance details tab.,"Add triggerer info on deferred state and extra links section to task instance details like legacy UI .

Closes #45614

![image](https://github.com/user-attachments/assets/c1681a17-aa89-46c9-9ed5-822b7c15b193)
",tirkarthi,2025-01-26 16:06:07+00:00,[],2025-02-07 14:50:05+00:00,2025-02-05 13:29:58+00:00,https://github.com/apache/airflow/pull/46074,"[('area:UI', 'Related to UI/UX. For Frontend Developers.')]","[{'comment_id': 2614487030, 'issue_id': 2811640249, 'author': 'eladkal', 'body': 'Can you verify extra link works also for mapped tasks? We have https://github.com/apache/airflow/issues/43757 open for the old ui', 'created_at': datetime.datetime(2025, 1, 26, 16, 7, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614488321, 'issue_id': 2811640249, 'author': 'tirkarthi', 'body': ""The API endpoint to fetch extra links doesn't accept `map_index` so I guess it's not yet supported and should probably be hidden for mapped tasks until implemented like legacy UI."", 'created_at': datetime.datetime(2025, 1, 26, 16, 11, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615022567, 'issue_id': 2811640249, 'author': 'shubhamraj-git', 'body': '@tirkarthi Can you build using https://github.com/apache/airflow/pull/46107 and check your changes for mapped tasks ones? This should fix it.', 'created_at': datetime.datetime(2025, 1, 27, 7, 34, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620501302, 'issue_id': 2811640249, 'author': 'tirkarthi', 'body': 'Thanks @shubhamraj-git , I had a similar patch locally and I think the PR should work. I will wait for the changes to be merged to rebase here or take the frontend changes in a new PR after the PR.', 'created_at': datetime.datetime(2025, 1, 29, 2, 35, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624605638, 'issue_id': 2811640249, 'author': 'pierrejeambrun', 'body': 'Is that working locally in breeze ? Are you using another executor because Task SDK does not support extra links so I expect errors there.', 'created_at': datetime.datetime(2025, 1, 30, 14, 4, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624629610, 'issue_id': 2811640249, 'author': 'shubhamraj-git', 'body': '> Is that working locally in breeze ? Are you using another executor because Task SDK does not support extra links so I expect errors there.\r\n\r\n@pierrejeambrun  Yaa possible, I think `--executor CeleryExecutor` will work.', 'created_at': datetime.datetime(2025, 1, 30, 14, 13, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628929944, 'issue_id': 2811640249, 'author': 'tirkarthi', 'body': '@pierrejeambrun I am using a virtual environment to pull from git and do `uv pip install .` with `airflow scheduler` and `airflow dag-processor` in different shells. I am using extra links as per the docs and using it on `BashOperator` from `from airflow.providers.standard.operators.bash import BashOperator` . So I guess I am not using the task sdk here.\r\n\r\nhttps://airflow.apache.org/docs/apache-airflow/stable/howto/define-extra-link.html', 'created_at': datetime.datetime(2025, 2, 1, 12, 16, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628933106, 'issue_id': 2811640249, 'author': 'potiuk', 'body': '> @pierrejeambrun I am using a virtual environment to pull from git and do `uv pip install .` with `airflow scheduler` and `airflow dag-processor` in different shells. I am using extra links as per the docs and using it on `BashOperator` from `from airflow.providers.standard.operators.bash import BashOperator` . So I guess I am not using the task sdk here.\r\n> \r\n> https://airflow.apache.org/docs/apache-airflow/stable/howto/define-extra-link.html\r\n\r\nSee https://github.com/apache/airflow/blob/main/contributing-docs/07_local_virtualenv.rst - when we explain how to work with the new virtualenv model where we have mutliple packages: `uv sync --all-extras` and `uv sync --extra celery` are your friends as they are using the `uv workspace` feature which installs all internal airflow packages as needed and all necessary dependencies for the provider extras you specify.', 'created_at': datetime.datetime(2025, 2, 1, 12, 26, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633658124, 'issue_id': 2811640249, 'author': 'eladkal', 'body': 'Are we happy with having it in the details tab?\r\nI have to say, I click on the details tab rarely (for the info that we are having there).\r\nOn the other hand, I really need the extra link when I view failure logs.\r\n\r\nI am not UX expert but I think we need better place for the extra links than the details tab.', 'created_at': datetime.datetime(2025, 2, 4, 11, 41, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633690345, 'issue_id': 2811640249, 'author': 'tirkarthi', 'body': 'In Airflow 2 usually clicking on the task instance in grid leads to the task instance details tab. In Airflow 3 logs are made as the default tab. I am fine with moving extra links there if okay.', 'created_at': datetime.datetime(2025, 2, 4, 11, 57, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633703651, 'issue_id': 2811640249, 'author': 'eladkal', 'body': '> In Airflow 2 usually clicking on the task instance in grid leads to the task instance details tab. In Airflow 3 logs are made as the default tab. I am fine with moving extra links there if okay.\r\n\r\nGetting to the extra links in 2.10 is very inconvenient to my taste.\r\nI would rather the links to be folded/expanded above the logs/events/xcom tabs, but I leave this choice to the UX experts :)', 'created_at': datetime.datetime(2025, 2, 4, 12, 3, 50, tzinfo=datetime.timezone.utc)}]","eladkal on (2025-01-26 16:07:23 UTC): Can you verify extra link works also for mapped tasks? We have https://github.com/apache/airflow/issues/43757 open for the old ui

tirkarthi (Issue Creator) on (2025-01-26 16:11:43 UTC): The API endpoint to fetch extra links doesn't accept `map_index` so I guess it's not yet supported and should probably be hidden for mapped tasks until implemented like legacy UI.

shubhamraj-git on (2025-01-27 07:34:03 UTC): @tirkarthi Can you build using https://github.com/apache/airflow/pull/46107 and check your changes for mapped tasks ones? This should fix it.

tirkarthi (Issue Creator) on (2025-01-29 02:35:37 UTC): Thanks @shubhamraj-git , I had a similar patch locally and I think the PR should work. I will wait for the changes to be merged to rebase here or take the frontend changes in a new PR after the PR.

pierrejeambrun on (2025-01-30 14:04:01 UTC): Is that working locally in breeze ? Are you using another executor because Task SDK does not support extra links so I expect errors there.

shubhamraj-git on (2025-01-30 14:13:42 UTC): @pierrejeambrun  Yaa possible, I think `--executor CeleryExecutor` will work.

tirkarthi (Issue Creator) on (2025-02-01 12:16:33 UTC): @pierrejeambrun I am using a virtual environment to pull from git and do `uv pip install .` with `airflow scheduler` and `airflow dag-processor` in different shells. I am using extra links as per the docs and using it on `BashOperator` from `from airflow.providers.standard.operators.bash import BashOperator` . So I guess I am not using the task sdk here.

https://airflow.apache.org/docs/apache-airflow/stable/howto/define-extra-link.html

potiuk on (2025-02-01 12:26:40 UTC): See https://github.com/apache/airflow/blob/main/contributing-docs/07_local_virtualenv.rst - when we explain how to work with the new virtualenv model where we have mutliple packages: `uv sync --all-extras` and `uv sync --extra celery` are your friends as they are using the `uv workspace` feature which installs all internal airflow packages as needed and all necessary dependencies for the provider extras you specify.

eladkal on (2025-02-04 11:41:30 UTC): Are we happy with having it in the details tab?
I have to say, I click on the details tab rarely (for the info that we are having there).
On the other hand, I really need the extra link when I view failure logs.

I am not UX expert but I think we need better place for the extra links than the details tab.

tirkarthi (Issue Creator) on (2025-02-04 11:57:28 UTC): In Airflow 2 usually clicking on the task instance in grid leads to the task instance details tab. In Airflow 3 logs are made as the default tab. I am fine with moving extra links there if okay.

eladkal on (2025-02-04 12:03:50 UTC): Getting to the extra links in 2.10 is very inconvenient to my taste.
I would rather the links to be folded/expanded above the logs/events/xcom tabs, but I leave this choice to the UX experts :)

"
2811625626,pull_request,closed,,Fix GitDagBundle to support https,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->

closes: #45998 

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",jx2lee,2025-01-26 15:37:18+00:00,[],2025-01-29 23:30:00+00:00,2025-01-27 01:33:23+00:00,https://github.com/apache/airflow/pull/46073,"[('type:new-feature', 'Changelog: New Features'), ('area:DAG-processing', ''), ('AIP-66: DAG Bundle/Manifest', '')]","[{'comment_id': 2614701792, 'issue_id': 2811625626, 'author': 'jedcunningham', 'body': 'Thanks @jx2lee!', 'created_at': datetime.datetime(2025, 1, 27, 1, 33, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620325176, 'issue_id': 2811625626, 'author': 'potiuk', 'body': 'Unfortunately @jx2lee -> you will have to recreate that PR. For the last 2 days we had a change merged that masked failures of tests - and this one actually failed, but got green - it causes failures on our main, so we have to revert it. \r\n\r\nApologies for that!', 'created_at': datetime.datetime(2025, 1, 29, 0, 24, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620750897, 'issue_id': 2811625626, 'author': 'jx2lee', 'body': ""@potiuk Oh, it's okay! I didn't check the test code properly. I'll create a new PR. Thanks!"", 'created_at': datetime.datetime(2025, 1, 29, 5, 29, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623164148, 'issue_id': 2811625626, 'author': 'potiuk', 'body': ""> @potiuk Oh, it's okay! I didn't check the test code properly. I'll create a new PR. Thanks!\r\n\r\nNot your fault. CI should check it and fail"", 'created_at': datetime.datetime(2025, 1, 29, 23, 29, 59, tzinfo=datetime.timezone.utc)}]","jedcunningham on (2025-01-27 01:33:40 UTC): Thanks @jx2lee!

potiuk on (2025-01-29 00:24:58 UTC): Unfortunately @jx2lee -> you will have to recreate that PR. For the last 2 days we had a change merged that masked failures of tests - and this one actually failed, but got green - it causes failures on our main, so we have to revert it. 

Apologies for that!

jx2lee (Issue Creator) on (2025-01-29 05:29:15 UTC): @potiuk Oh, it's okay! I didn't check the test code properly. I'll create a new PR. Thanks!

potiuk on (2025-01-29 23:29:59 UTC): Not your fault. CI should check it and fail

"
2811593465,pull_request,closed,,Moved apache beam provider to new folder structure,"Relates to #46045, moves Apache Beam provider to new folder structure.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",kunaljubce,2025-01-26 14:32:08+00:00,[],2025-01-27 11:39:39+00:00,2025-01-27 09:34:38+00:00,https://github.com/apache/airflow/pull/46071,"[('area:dev-tools', ''), ('kind:documentation', ''), ('changelog:skip', 'Changes that should be skipped from the changelog (CI, tests, etc..)')]",[],
2811572847,pull_request,closed,,Move SEGMENT Provider to new structure,"related to https://github.com/apache/airflow/issues/46045

- [x]  No pending PR's for SEGMENT
- [x]  Ran `breeze testing providers-tests --test-type 'Providers[segment]'`
- [x]  Ran Static checks


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",shubhamraj-git,2025-01-26 13:50:57+00:00,[],2025-01-27 12:30:19+00:00,2025-01-26 22:32:41+00:00,https://github.com/apache/airflow/pull/46070,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('changelog:skip', 'Changes that should be skipped from the changelog (CI, tests, etc..)'), ('provider:segment', ''), ('provider:sendgrid', '')]",[],
2811561603,pull_request,closed,,Move OPENLINEAGE provider to new structure provider,"related to https://github.com/apache/airflow/issues/46045
depends on:https://github.com/apache/airflow/pull/46063

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vatsrahul1001,2025-01-26 13:30:42+00:00,[],2025-01-28 08:34:45+00:00,2025-01-27 14:13:48+00:00,https://github.com/apache/airflow/pull/46068,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:openlineage', 'AIP-53'), ('provider:common-compat', '')]","[{'comment_id': 2615441338, 'issue_id': 2811561603, 'author': 'potiuk', 'body': 'Conflicts :)', 'created_at': datetime.datetime(2025, 1, 27, 10, 59, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615672841, 'issue_id': 2811561603, 'author': 'vatsrahul1001', 'body': '> Conflicts :)\r\n\r\nResolved', 'created_at': datetime.datetime(2025, 1, 27, 12, 47, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618265329, 'issue_id': 2811561603, 'author': 'mobuchowski', 'body': 'Thanks @vatsrahul1001 for this PR :)', 'created_at': datetime.datetime(2025, 1, 28, 8, 34, 44, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-27 10:59:51 UTC): Conflicts :)

vatsrahul1001 (Issue Creator) on (2025-01-27 12:47:55 UTC): Resolved

mobuchowski on (2025-01-28 08:34:44 UTC): Thanks @vatsrahul1001 for this PR :)

"
2811558580,pull_request,closed,,Move SMTP Provider to new structure,"related to https://github.com/apache/airflow/issues/46045

- [ ]  No pending PR's for SMTP

We have a DRAFT [PR](https://github.com/apache/airflow/pull/46041) opened yesterday which affects SMTP Provider by @hussein-awala 

- [x]  Ran `breeze testing providers-tests --test-type 'Providers[ssh]'`
- [x]  Ran Static checks


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",shubhamraj-git,2025-01-26 13:25:01+00:00,[],2025-02-07 14:35:47+00:00,2025-02-07 14:11:48+00:00,https://github.com/apache/airflow/pull/46067,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:smtp', '')]","[{'comment_id': 2614419894, 'issue_id': 2811558580, 'author': 'shubhamraj-git', 'body': '@hussein-awala I see we have DRAFT [PR](https://github.com/apache/airflow/pull/46041) which relates to SMTP Provider, this migration can create conflicts. Are you okay with it or should we postpone this migration till you merge your PR? \r\nThis PR is ready to be merge state.', 'created_at': datetime.datetime(2025, 1, 26, 13, 28, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614435566, 'issue_id': 2811558580, 'author': 'shubhamraj-git', 'body': ""Yes, It's an automated process. I can do it post your PR gets merged."", 'created_at': datetime.datetime(2025, 1, 26, 13, 56, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614603064, 'issue_id': 2811558580, 'author': 'potiuk', 'body': 'Yeah. It looks like we could start to batch those changes - since they are generating conflicts.', 'created_at': datetime.datetime(2025, 1, 26, 21, 44, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616661625, 'issue_id': 2811558580, 'author': 'potiuk', 'body': ""> As the process of moving a provider is almost automated (according to some comments from Jarek in other PRs if I'm not mistaken), I prefer to wait until the other PR is merged.\r\n\r\nMaybe we can merge it anyway. It will be **rather easy** to rebase your PR @hussein-awala and we still need to agree on the change from your PR :)"", 'created_at': datetime.datetime(2025, 1, 27, 19, 4, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625298989, 'issue_id': 2811558580, 'author': 'o-nikolas', 'body': ""> > As the process of moving a provider is almost automated (according to some comments from Jarek in other PRs if I'm not mistaken), I prefer to wait until the other PR is merged.\r\n> \r\n> Maybe we can merge it anyway. It will be **rather easy** to rebase your PR @hussein-awala and we still need to agree on the change from your PR :)\r\n\r\nGiven that the email discussions are still ongoing and the PR remains in draft. Shall we merge this one?"", 'created_at': datetime.datetime(2025, 1, 30, 18, 44, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625482279, 'issue_id': 2811558580, 'author': 'hussein-awala', 'body': ""I split my PR into many smaller ones, I need to merge https://github.com/apache/airflow/pull/46219 before rebasing and merging this one. I'll try to fix the failing tests tomorrow or Saturday."", 'created_at': datetime.datetime(2025, 1, 30, 20, 13, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643047724, 'issue_id': 2811558580, 'author': 'potiuk', 'body': 'Instead of rebasing it I created https://github.com/apache/airflow/pull/46556 anew - it seems that  it should work out of the box - easier than solve conflicts with this one.', 'created_at': datetime.datetime(2025, 2, 7, 14, 11, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643115425, 'issue_id': 2811558580, 'author': 'shubhamraj-git', 'body': '@potiuk Yaa, thanks!', 'created_at': datetime.datetime(2025, 2, 7, 14, 35, 46, tzinfo=datetime.timezone.utc)}]","shubhamraj-git (Issue Creator) on (2025-01-26 13:28:58 UTC): @hussein-awala I see we have DRAFT [PR](https://github.com/apache/airflow/pull/46041) which relates to SMTP Provider, this migration can create conflicts. Are you okay with it or should we postpone this migration till you merge your PR? 
This PR is ready to be merge state.

shubhamraj-git (Issue Creator) on (2025-01-26 13:56:43 UTC): Yes, It's an automated process. I can do it post your PR gets merged.

potiuk on (2025-01-26 21:44:38 UTC): Yeah. It looks like we could start to batch those changes - since they are generating conflicts.

potiuk on (2025-01-27 19:04:52 UTC): Maybe we can merge it anyway. It will be **rather easy** to rebase your PR @hussein-awala and we still need to agree on the change from your PR :)

o-nikolas on (2025-01-30 18:44:45 UTC): Given that the email discussions are still ongoing and the PR remains in draft. Shall we merge this one?

hussein-awala on (2025-01-30 20:13:37 UTC): I split my PR into many smaller ones, I need to merge https://github.com/apache/airflow/pull/46219 before rebasing and merging this one. I'll try to fix the failing tests tomorrow or Saturday.

potiuk on (2025-02-07 14:11:24 UTC): Instead of rebasing it I created https://github.com/apache/airflow/pull/46556 anew - it seems that  it should work out of the box - easier than solve conflicts with this one.

shubhamraj-git (Issue Creator) on (2025-02-07 14:35:46 UTC): @potiuk Yaa, thanks!

"
2811547904,pull_request,closed,,Move SSH Provider to new structure,"related to https://github.com/apache/airflow/issues/46045

- [x]  No pending PR's for SSH
- [x]  Ran `breeze testing providers-tests --test-type 'Providers[ssh]'`
- [x]  Ran Static checks

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",shubhamraj-git,2025-01-26 13:02:59+00:00,[],2025-01-27 12:36:14+00:00,2025-01-26 21:31:53+00:00,https://github.com/apache/airflow/pull/46065,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('changelog:skip', 'Changes that should be skipped from the changelog (CI, tests, etc..)'), ('provider:ssh', '')]","[{'comment_id': 2614584542, 'issue_id': 2811547904, 'author': 'potiuk', 'body': 'Resolved conflicts via GitHub UI', 'created_at': datetime.datetime(2025, 1, 26, 20, 45, 3, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-26 20:45:03 UTC): Resolved conflicts via GitHub UI

"
2811482688,pull_request,closed,,Retry K8s tests on failures,"We face a lot of K8s failures on CI, Which usually gets pass after re-run.
This PR allows it to re-run for specific number of times, default being 2 without manual intervention.


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",shubhamraj-git,2025-01-26 11:49:56+00:00,[],2025-01-28 15:58:58+00:00,2025-01-26 14:09:12+00:00,https://github.com/apache/airflow/pull/46064,"[('area:dev-tools', '')]","[{'comment_id': 2614417895, 'issue_id': 2811482688, 'author': 'potiuk', 'body': 'Looks good.', 'created_at': datetime.datetime(2025, 1, 26, 13, 23, 4, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-26 13:23:04 UTC): Looks good.

"
2811481435,pull_request,closed,,Move common-compat provider to new structure provider,"related to https://github.com/apache/airflow/issues/46045

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vatsrahul1001,2025-01-26 11:46:53+00:00,[],2025-01-27 11:39:08+00:00,2025-01-27 09:45:57+00:00,https://github.com/apache/airflow/pull/46063,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('changelog:skip', 'Changes that should be skipped from the changelog (CI, tests, etc..)'), ('provider:common-compat', '')]","[{'comment_id': 2614600763, 'issue_id': 2811481435, 'author': 'potiuk', 'body': 'Some mypy fixes unfortunately :(', 'created_at': datetime.datetime(2025, 1, 26, 21, 36, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615275015, 'issue_id': 2811481435, 'author': 'potiuk', 'body': 'Static check is known and the Notebook one is something that MyPy is randomly unhappy about . Merging.', 'created_at': datetime.datetime(2025, 1, 27, 9, 45, 11, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-26 21:36:20 UTC): Some mypy fixes unfortunately :(

potiuk on (2025-01-27 09:45:11 UTC): Static check is known and the Notebook one is something that MyPy is randomly unhappy about . Merging.

"
2811464946,pull_request,closed,,[DO NOT MERGE] Test pip 25.0 candidate,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-01-26 11:06:19+00:00,[],2025-01-26 21:44:51+00:00,2025-01-26 21:44:51+00:00,https://github.com/apache/airflow/pull/46062,"[('area:dev-tools', ''), ('area:production-image', 'Production image improvements and fixes'), ('full tests needed', 'We need to run full set of tests for this PR to merge'), ('all versions', 'If set, the CI build will be forced to use all versions of Python/K8S/DBs'), ('force pip', 'Force pip when running CI build')]",[],
2811453692,pull_request,closed,,Move POSTGRES provider to new structure,"related to https://github.com/apache/airflow/issues/46045
<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vatsrahul1001,2025-01-26 10:38:22+00:00,[],2025-01-27 09:48:39+00:00,2025-01-27 09:48:38+00:00,https://github.com/apache/airflow/pull/46061,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:postgres', '')]","[{'comment_id': 2614606556, 'issue_id': 2811453692, 'author': 'jscheffl', 'body': 'Some conflicts have been produced by other PRs, I assume this can be merged once conflicts removed', 'created_at': datetime.datetime(2025, 1, 26, 21, 56, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615282515, 'issue_id': 2811453692, 'author': 'vatsrahul1001', 'body': 'closing in favour of: https://github.com/apache/airflow/pull/46051', 'created_at': datetime.datetime(2025, 1, 27, 9, 48, 38, tzinfo=datetime.timezone.utc)}]","jscheffl on (2025-01-26 21:56:54 UTC): Some conflicts have been produced by other PRs, I assume this can be merged once conflicts removed

vatsrahul1001 (Issue Creator) on (2025-01-27 09:48:38 UTC): closing in favour of: https://github.com/apache/airflow/pull/46051

"
2811450669,pull_request,closed,,Move TERADATA provider to new structure,"related to https://github.com/apache/airflow/issues/46045


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vatsrahul1001,2025-01-26 10:30:57+00:00,[],2025-01-27 11:29:32+00:00,2025-01-27 10:19:34+00:00,https://github.com/apache/airflow/pull/46060,"[('area:dev-tools', ''), ('kind:documentation', ''), ('changelog:skip', 'Changes that should be skipped from the changelog (CI, tests, etc..)')]","[{'comment_id': 2614572107, 'issue_id': 2811450669, 'author': 'potiuk', 'body': 'conflicts :(', 'created_at': datetime.datetime(2025, 1, 26, 20, 5, 18, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-26 20:05:18 UTC): conflicts :(

"
2811443693,pull_request,closed,,Move SNOWFLAKE provider to new structure,"related to https://github.com/apache/airflow/issues/46045
depends: https://github.com/apache/airflow/pull/46063
<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vatsrahul1001,2025-01-26 10:15:04+00:00,[],2025-01-27 11:08:18+00:00,2025-01-27 11:08:17+00:00,https://github.com/apache/airflow/pull/46059,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:snowflake', 'Issues related to Snowflake provider')]","[{'comment_id': 2614572169, 'issue_id': 2811443693, 'author': 'potiuk', 'body': 'LLikely rebase/conflicts :(', 'created_at': datetime.datetime(2025, 1, 26, 20, 5, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615323273, 'issue_id': 2811443693, 'author': 'vatsrahul1001', 'body': '> LLikely rebase/conflicts :(\r\n\r\nResolved', 'created_at': datetime.datetime(2025, 1, 27, 10, 6, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615442122, 'issue_id': 2811443693, 'author': 'potiuk', 'body': 'again conflicts I am afraid :(', 'created_at': datetime.datetime(2025, 1, 27, 11, 0, 13, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-26 20:05:29 UTC): LLikely rebase/conflicts :(

vatsrahul1001 (Issue Creator) on (2025-01-27 10:06:32 UTC): Resolved

potiuk on (2025-01-27 11:00:13 UTC): again conflicts I am afraid :(

"
2811425622,pull_request,closed,,Move ydb provider to new structure,"related to #46045 

- [X] No pending PR's on ydb
- [X] local breeze tests passed",rawwar,2025-01-26 09:35:43+00:00,[],2025-01-27 12:29:56+00:00,2025-01-26 22:35:08+00:00,https://github.com/apache/airflow/pull/46058,"[('area:dev-tools', ''), ('kind:documentation', ''), ('changelog:skip', 'Changes that should be skipped from the changelog (CI, tests, etc..)')]",[],
2811409101,pull_request,open,,Update task lifecycle diagram for missing states,"## Purpose
Updates task state the Adds 2 missing states (""skipped"", ""deferred"") to the diagram, with more details on state transition conditions.

 - [Task Instance State Documentation (v2.10.4)](https://airflow.apache.org/docs/apache-airflow/2.10.4/core-concepts/tasks.html#task-instances)

## Details
 - Adds missing states to the diagram (""skipped"" and ""deferred"")
 - Adds missing condition nodes to state transition
 - Adds ""trigger"" component (which handles deferred tasks) to the diagram
 - Coverts multiple conditional branch in the graph into sequence (multi-staged) of binary conditional branches
 - Split states into three categories: ""shared states"", ""states only for sensors"", and ""states only for deferrable tasks""
 - Uses different icons to differentiate task states and Airflow components
 - Uses `diagrams` library for automated plotting and pre-commit integration; rename ""task_lifecycle_diagram"" to ""diagram_task_lifecycle"" to comply with pre-commit condition

## Related Issues
 - #40185 

---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",pykenny,2025-01-26 09:00:31+00:00,[],2025-02-05 06:53:48+00:00,,https://github.com/apache/airflow/pull/46056,"[('kind:documentation', '')]","[{'comment_id': 2614283465, 'issue_id': 2811409101, 'author': 'boring-cyborg[bot]', 'body': ""Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)\nHere are some useful points:\n- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.\n- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.\n- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.\n- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.\n- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.\n- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).\n- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.\nApache Airflow is a community-driven project and together we are making it better ðŸš€.\nIn case of doubts contact the developers at:\nMailing List: dev@airflow.apache.org\nSlack: https://s.apache.org/airflow-slack"", 'created_at': datetime.datetime(2025, 1, 26, 9, 0, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614288185, 'issue_id': 2811409101, 'author': 'eladkal', 'body': ""Nice.\r\nnote that task can start execution directly from triggerer without going to the worker first\r\nhttps://github.com/apache/airflow/pull/38674\r\n\r\nI do have some problem with just updating the image like that. It doesn't offer the ability to make changes easily.\r\nIdeally we should have a script that generate the image (diagram as code) similar to [how we generate the ERD diagram](https://github.com/apache/airflow/blob/3f6f04868d09a8766e4652417b7c0e8082ca2fd7/scripts/in_container/run_prepare_er_diagram.py) for the database.\r\nwe can use https://github.com/mingrammer/diagrams"", 'created_at': datetime.datetime(2025, 1, 26, 9, 12, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615044343, 'issue_id': 2811409101, 'author': 'pykenny', 'body': 'The original diagram:\r\n![image](https://github.com/user-attachments/assets/e36b3b30-7278-4a01-9860-dd1ff5b979ae)\r\n\r\nDiagram after adding triggerer tasks:\r\n![image](https://github.com/user-attachments/assets/b683cdd4-a695-4c9a-adc2-993a6cc6b1aa)\r\n\r\n**Question: Does a triggerer task enter ""queued"" state during its lifecycle, or it\'s directly passed to the triggerer once it gets into ""scheduled"" state?**', 'created_at': datetime.datetime(2025, 1, 27, 7, 49, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615241700, 'issue_id': 2811409101, 'author': 'potiuk', 'body': 'Is there a way we can easily get to update that picture when it changes in the future ? \r\n\r\nI am a big fan of generating such images from text / code rather than drawing them by hand. We even already have a number of such images generated from the code via pre-commit - using the cool `diagrams` library:\r\n\r\nPython file: https://github.com/apache/airflow/blob/main/docs/apache-airflow/img/diagram_basic_airflow_architecture.py\r\nResulting diagram: https://github.com/apache/airflow/blob/main/docs/apache-airflow/img/diagram_basic_airflow_architecture.png\r\n\r\nAnd it\'s enough to re-run the python file to get the new diagram generated based on it.\r\n\r\nI somehow don\'t see a viable path how we can - in the future - easily modify such state diagram if all we have is the .png file or if we need some external tool (what?) to modify the diagram.\r\n\r\nYes it might maybe look nicer when generated by hand, but for me long-term maintainabilty is far more important. Otherwise we will have exactly the same situation that we already experienced - where outdated pictures were basically ""lying"" to our users about someething - where they were supposed to reflect the reality. This is pretty much inevitable, if we have no easy way to regenerate the images with updated changes - and where drawing those by-hand is not really an option.\r\n\r\nWDYT @pykenny ? Maybe you should try to replicate the diagram using similar approach as our architecture diagrams?', 'created_at': datetime.datetime(2025, 1, 27, 9, 29, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616067149, 'issue_id': 2811409101, 'author': 'pykenny', 'body': ""Got your point, I see how the project change its way to manage graphs since last year. That will just take longer to complete in my out-of-date dev environment, however (just realized PyCharm Community haven't had uv integration yet, [at least not in their stable versions](https://youtrack.jetbrains.com/issue/PY-70533/Support-package-management-via-uv)).\r\n\r\n**(Update)** PyCharm starts supporting uv environment from [2024.3.2](https://www.jetbrains.com/pycharm/whatsnew/2024-3-2/) release."", 'created_at': datetime.datetime(2025, 1, 27, 15, 27, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617008606, 'issue_id': 2811409101, 'author': 'potiuk', 'body': ""> Got your point, I see how the project change its way to manage graphs since last year. That will just take longer to complete in my out-of-date dev environment, however (just realized PyCharm Community haven't had uv integration yet, [at least not in their stable versions](https://youtrack.jetbrains.com/issue/PY-70533/Support-package-management-via-uv)).\r\n\r\n`uv sync` -> creates .venv that you can add as existing virtual environment. That's all you need."", 'created_at': datetime.datetime(2025, 1, 27, 22, 13, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617770991, 'issue_id': 2811409101, 'author': 'pykenny', 'body': 'I know it better goes into discussion... but `diagrams` is not included in the installed dependencies (if `uv sync --all-extras --all-groups` installs all dependencies possible, and of course I can\'t do `uv pip install diagrams` to get a makeshift patch now), and `pre-commit` install extra dependencies in their cache, instead of virtual environment uv\'s using. Is that designed so on purpose?\r\n\r\n**(Update)** ~~Oh. So is that the cause?~~\r\n\r\n> (pyproject.toml)\r\n> ~~The ``doc`` extras are not available in the released packages. They are only available when you install Airflow from sources in ``editable`` installation - i.e. one that you are usually using to contribute to Airflow.~~\r\n\r\n**(Update)** From uv lockfile, seems that it blocks installing `diagrams` on MacOS, perhaps because of requirement on Graphviz installation:\r\n```\r\n    { name = ""diagrams"", marker = ""sys_platform != \'darwin\'"" },\r\n```\r\n\r\n**(Update)** As the result, turned to using [pip install approach](https://github.com/apache/airflow/blob/699171a6d455cfd66ecc81fd5638129d06317826/contributing-docs/07_local_virtualenv.rst#creating-and-installing-airflow-with-other-build-frontends) as fallback, then `pip install diagrams` to add the package into environment (and of course, Graphviz is already installed on the machine).', 'created_at': datetime.datetime(2025, 1, 28, 3, 31, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623172014, 'issue_id': 2811409101, 'author': 'potiuk', 'body': ""> **(Update)** From uv lockfile, seems that it blocks installing `diagrams` on MacOS, perhaps because of requirement on Graphviz installation:\r\n\r\nYep. that's likely."", 'created_at': datetime.datetime(2025, 1, 29, 23, 36, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623944014, 'issue_id': 2811409101, 'author': 'pykenny', 'body': ""Okay, here's the new one with `diagrams` library:\r\n\r\n![image](https://github.com/user-attachments/assets/f8c35982-8fe6-4d47-857b-bcab03952d1c)\r\n\r\n\r\nAlso let me know if there's any wrong with the workflow described in the graph. For instance:\r\n - Is a triggerer-only task passed to the trigger from scheduler or executor? (assumed to be executor in current version)\r\n - https://github.com/apache/airflow/discussions/46038 (assumed to be terminal state in current version)"", 'created_at': datetime.datetime(2025, 1, 30, 9, 21, 50, tzinfo=datetime.timezone.utc)}]","boring-cyborg[bot] on (2025-01-26 09:00:35 UTC): Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)
Here are some useful points:
- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.
- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.
- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.
- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.
- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.
- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).
- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.
Apache Airflow is a community-driven project and together we are making it better ðŸš€.
In case of doubts contact the developers at:
Mailing List: dev@airflow.apache.org
Slack: https://s.apache.org/airflow-slack

eladkal on (2025-01-26 09:12:59 UTC): Nice.
note that task can start execution directly from triggerer without going to the worker first
https://github.com/apache/airflow/pull/38674

I do have some problem with just updating the image like that. It doesn't offer the ability to make changes easily.
Ideally we should have a script that generate the image (diagram as code) similar to [how we generate the ERD diagram](https://github.com/apache/airflow/blob/3f6f04868d09a8766e4652417b7c0e8082ca2fd7/scripts/in_container/run_prepare_er_diagram.py) for the database.
we can use https://github.com/mingrammer/diagrams

pykenny (Issue Creator) on (2025-01-27 07:49:25 UTC): The original diagram:
![image](https://github.com/user-attachments/assets/e36b3b30-7278-4a01-9860-dd1ff5b979ae)

Diagram after adding triggerer tasks:
![image](https://github.com/user-attachments/assets/b683cdd4-a695-4c9a-adc2-993a6cc6b1aa)

**Question: Does a triggerer task enter ""queued"" state during its lifecycle, or it's directly passed to the triggerer once it gets into ""scheduled"" state?**

potiuk on (2025-01-27 09:29:44 UTC): Is there a way we can easily get to update that picture when it changes in the future ? 

I am a big fan of generating such images from text / code rather than drawing them by hand. We even already have a number of such images generated from the code via pre-commit - using the cool `diagrams` library:

Python file: https://github.com/apache/airflow/blob/main/docs/apache-airflow/img/diagram_basic_airflow_architecture.py
Resulting diagram: https://github.com/apache/airflow/blob/main/docs/apache-airflow/img/diagram_basic_airflow_architecture.png

And it's enough to re-run the python file to get the new diagram generated based on it.

I somehow don't see a viable path how we can - in the future - easily modify such state diagram if all we have is the .png file or if we need some external tool (what?) to modify the diagram.

Yes it might maybe look nicer when generated by hand, but for me long-term maintainabilty is far more important. Otherwise we will have exactly the same situation that we already experienced - where outdated pictures were basically ""lying"" to our users about someething - where they were supposed to reflect the reality. This is pretty much inevitable, if we have no easy way to regenerate the images with updated changes - and where drawing those by-hand is not really an option.

WDYT @pykenny ? Maybe you should try to replicate the diagram using similar approach as our architecture diagrams?

pykenny (Issue Creator) on (2025-01-27 15:27:16 UTC): Got your point, I see how the project change its way to manage graphs since last year. That will just take longer to complete in my out-of-date dev environment, however (just realized PyCharm Community haven't had uv integration yet, [at least not in their stable versions](https://youtrack.jetbrains.com/issue/PY-70533/Support-package-management-via-uv)).

**(Update)** PyCharm starts supporting uv environment from [2024.3.2](https://www.jetbrains.com/pycharm/whatsnew/2024-3-2/) release.

potiuk on (2025-01-27 22:13:44 UTC): `uv sync` -> creates .venv that you can add as existing virtual environment. That's all you need.

pykenny (Issue Creator) on (2025-01-28 03:31:36 UTC): I know it better goes into discussion... but `diagrams` is not included in the installed dependencies (if `uv sync --all-extras --all-groups` installs all dependencies possible, and of course I can't do `uv pip install diagrams` to get a makeshift patch now), and `pre-commit` install extra dependencies in their cache, instead of virtual environment uv's using. Is that designed so on purpose?

**(Update)** ~~Oh. So is that the cause?~~


**(Update)** From uv lockfile, seems that it blocks installing `diagrams` on MacOS, perhaps because of requirement on Graphviz installation:
```
    { name = ""diagrams"", marker = ""sys_platform != 'darwin'"" },
```

**(Update)** As the result, turned to using [pip install approach](https://github.com/apache/airflow/blob/699171a6d455cfd66ecc81fd5638129d06317826/contributing-docs/07_local_virtualenv.rst#creating-and-installing-airflow-with-other-build-frontends) as fallback, then `pip install diagrams` to add the package into environment (and of course, Graphviz is already installed on the machine).

potiuk on (2025-01-29 23:36:20 UTC): Yep. that's likely.

pykenny (Issue Creator) on (2025-01-30 09:21:50 UTC): Okay, here's the new one with `diagrams` library:

![image](https://github.com/user-attachments/assets/f8c35982-8fe6-4d47-857b-bcab03952d1c)


Also let me know if there's any wrong with the workflow described in the graph. For instance:
 - Is a triggerer-only task passed to the trigger from scheduler or executor? (assumed to be executor in current version)
 - https://github.com/apache/airflow/discussions/46038 (assumed to be terminal state in current version)

"
2811369165,pull_request,closed,,Prepare docs for ad hoc release celery provider Jan 2025 (rc2),,eladkal,2025-01-26 07:20:09+00:00,[],2025-01-27 12:44:47+00:00,2025-01-26 14:21:55+00:00,https://github.com/apache/airflow/pull/46055,"[('changelog:skip', 'Changes that should be skipped from the changelog (CI, tests, etc..)'), ('provider:celery', '')]",[],
2811361039,pull_request,closed,,Remove 42439 from newsfragments,The change in https://github.com/apache/airflow/pull/42474 is not core change. No need for newsfragment on it.,eladkal,2025-01-26 06:57:56+00:00,[],2025-01-26 14:44:43+00:00,2025-01-26 14:44:40+00:00,https://github.com/apache/airflow/pull/46054,"[('changelog:skip', 'Changes that should be skipped from the changelog (CI, tests, etc..)')]",[],
2811360757,pull_request,closed,,fix(XCom): /xcom/list got exception when applying filter on the value column,"closes: #42720


- [x] Implementation
- [x] E2E Test
- [x] Unit Test

## What does this PR do?
- Fix the error on the XCom filter page in the UI, which is preventing users from using values as filter conditions to select the XCom records they want.

## Change details
- `airflow/www/utils.py`:
    - Add `XComFilterStartsWith`, `XComFilterEndsWith`, `XComFilterEqual`, `XComFilterContains`, `XComFilterNotStartsWith`, `XComFilterNotEndsWith`, `XComFilterNotContains`, and `XComFilterNotEqual` classes to handle different types of filtering for XCom values.
        - Since the `value` is stored in the `xcom` table in PostgreSQL's `bytea` format, we first need to convert it into a UTF-8 string. Additionally, because the value content is enclosed in double quotes before being encoded as `bytea` and stored in the database, we also need to remove the leading and trailing double quotes from the UTF-8 formatted value in order to compare it with the user's input filter condition.
            - describe `xcom` table:
                - ![æˆªåœ– 2025-01-26 ä¸‹åˆ8 46 14](https://github.com/user-attachments/assets/2d1bf261-eb7a-4026-b8cc-422133c08482)
                - ![æˆªåœ– 2025-01-26 ä¸‹åˆ8 43 39](https://github.com/user-attachments/assets/8c5e5b7f-b62b-4687-ab1f-263af58e9452)
                - <img width=""753"" alt=""æˆªåœ– 2025-01-27 ä¸‹åˆ1 03 18"" src=""https://github.com/user-attachments/assets/347274a1-03c2-42c3-af28-493cc5725c54"" />

    - Updated the `AirflowFilterConverter` class to include the new XCom filters in its conversion table.
    - Add the `is_xcom_value` method to check if a column name corresponds to an XCom value.
- `tests/www/test_utils.py`:
    - Add a unit test case `TestXComFilter` to test whether the SQLAlchemy call sequence behaves as expected.

## How did you test?
- Unit Test in `tests/www/test_utils.py`
- E2E Test
    - I used the [example code provided by Airflow](https://www.astronomer.io/docs/learn/airflow-passing-data-between-tasks/#example-dag-using-xcoms) to push the XCom content to the database during DAG execution, and then I operated the XCom filter on the Web UI. 
        - <img width=""1465"" alt=""æˆªåœ– 2025-01-27 ä¸‹åˆ12 39 49"" src=""https://github.com/user-attachments/assets/6efecd1c-4277-4995-959d-1d3252619e92"" />


    - Below are the demo screenshots for each of the functionalities.
        - <details>
            <summary>Demo screenshots:</summary>

            - Starts With:
            - <img width=""1470"" alt=""æˆªåœ– 2025-01-27 ä¸‹åˆ12 40 17"" src=""https://github.com/user-attachments/assets/c098e377-0887-41ce-b457-1f51fd24079e"" />

            - Ends With:
            - <img width=""1470"" alt=""æˆªåœ– 2025-01-27 ä¸‹åˆ12 40 46"" src=""https://github.com/user-attachments/assets/71c73be2-0987-4ac5-9ac1-ea1f0f0e6a46"" />

            - Equal:
            - <img width=""1470"" alt=""æˆªåœ– 2025-01-27 ä¸‹åˆ12 41 07"" src=""https://github.com/user-attachments/assets/d9e957ea-ddea-4780-85c8-7ca81184599e"" />
            - Contains:
            - <img width=""1470"" alt=""æˆªåœ– 2025-01-27 ä¸‹åˆ12 41 24"" src=""https://github.com/user-attachments/assets/7a9fd579-561a-4a08-8592-621191dd31b5"" />

            - Not Starts With:
            - <img width=""1470"" alt=""æˆªåœ– 2025-01-27 ä¸‹åˆ12 41 37"" src=""https://github.com/user-attachments/assets/d079b9d5-e3bb-421a-a816-54e04a81b71c"" />

            - Not Ends With:
            - <img width=""1470"" alt=""æˆªåœ– 2025-01-27 ä¸‹åˆ12 42 16"" src=""https://github.com/user-attachments/assets/0ba47b0c-37c5-41f7-a1cc-23eb15813528"" />

            - Not Contains With:
            - <img width=""1470"" alt=""æˆªåœ– 2025-01-27 ä¸‹åˆ12 42 34"" src=""https://github.com/user-attachments/assets/67fc016e-4ebf-4cf7-85d9-78dd0b79a409"" />

            - Not Equal:
            - <img width=""1470"" alt=""æˆªåœ– 2025-01-27 ä¸‹åˆ12 43 07"" src=""https://github.com/user-attachments/assets/c50ceb5c-0797-4a9b-9cd1-b50db00c6c7e"" />

        </details>

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).",wei-juncheng,2025-01-26 06:56:55+00:00,[],2025-02-07 02:28:32+00:00,2025-02-07 02:28:29+00:00,https://github.com/apache/airflow/pull/46053,"[('area:webserver', 'Webserver related Issues'), ('type:bug-fix', 'Changelog: Bug Fixes')]","[{'comment_id': 2614244984, 'issue_id': 2811360757, 'author': 'boring-cyborg[bot]', 'body': ""Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)\nHere are some useful points:\n- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.\n- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.\n- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.\n- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.\n- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.\n- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).\n- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.\nApache Airflow is a community-driven project and together we are making it better ðŸš€.\nIn case of doubts contact the developers at:\nMailing List: dev@airflow.apache.org\nSlack: https://s.apache.org/airflow-slack"", 'created_at': datetime.datetime(2025, 1, 26, 6, 56, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614245686, 'issue_id': 2811360757, 'author': 'eladkal', 'body': 'AI spam', 'created_at': datetime.datetime(2025, 1, 26, 6, 59, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614252696, 'issue_id': 2811360757, 'author': 'wei-juncheng', 'body': 'Hi @eladkal \r\nI apologize. I am the new contributor to this project. Over the past few days, I had an offline handover with @josix  regarding this issue, and I will be responsible moving forward. However, while preparing the PR, I accidentally clicked on ""create PR."" Iâ€™m sorry for the disruption. Once the PR is ready, I will re-open it for your review. ðŸ™ðŸ½', 'created_at': datetime.datetime(2025, 1, 26, 7, 24, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614253476, 'issue_id': 2811360757, 'author': 'josix', 'body': ""Hi @eladkal, sorry to bother you. Iâ€™m trying to have @wei-juncheng take over the testing part for #45679 as his first contribution to Airflow. Since heâ€™s new to OSS contributions, his profile doesnâ€™t have many contribution records yet.\n\n@wei-juncheng could you help add more information about what the PR has made and also correct the status to Draft if it is not ready, I'll also close my original PR to avoid confusion, thanks!"", 'created_at': datetime.datetime(2025, 1, 26, 7, 27, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614260228, 'issue_id': 2811360757, 'author': 'Lee-W', 'body': ""Hi @eladkal, \r\n\r\nThank you for working on filtering potential AI spam. ðŸ˜Š \r\n\r\nI wanted to give you a quick heads-up. I know @josix personally, and he has already created a few pull requests (PRs) and even presented them at the Airflow Town Hall. Additionally, @wei-juncheng is a local community member from Taiwan who is interested in contributing to Airflow and has just started his journey in OSS contributions. I've asked @wei-juncheng to create another PR with more details so he can continue working on this issue and avoid making his PR look like spam. Sorry for the disruption. ðŸ™"", 'created_at': datetime.datetime(2025, 1, 26, 7, 52, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614260759, 'issue_id': 2811360757, 'author': 'eladkal', 'body': 'Ah cool :)', 'created_at': datetime.datetime(2025, 1, 26, 7, 53, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614260906, 'issue_id': 2811360757, 'author': 'Lee-W', 'body': '> Ah cool :)\r\n\r\nah... yes, we can just reopen it haha. Thanks so much for helping out!', 'created_at': datetime.datetime(2025, 1, 26, 7, 54, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2641779365, 'issue_id': 2811360757, 'author': 'boring-cyborg[bot]', 'body': 'Awesome work, congrats on your first merged pull request! You are invited to check our [Issue Tracker](https://github.com/apache/airflow/issues) for additional contributions.', 'created_at': datetime.datetime(2025, 2, 7, 2, 28, 31, tzinfo=datetime.timezone.utc)}]","boring-cyborg[bot] on (2025-01-26 06:56:58 UTC): Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)
Here are some useful points:
- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.
- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.
- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.
- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.
- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.
- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).
- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.
Apache Airflow is a community-driven project and together we are making it better ðŸš€.
In case of doubts contact the developers at:
Mailing List: dev@airflow.apache.org
Slack: https://s.apache.org/airflow-slack

eladkal on (2025-01-26 06:59:31 UTC): AI spam

wei-juncheng (Issue Creator) on (2025-01-26 07:24:06 UTC): Hi @eladkal 
I apologize. I am the new contributor to this project. Over the past few days, I had an offline handover with @josix  regarding this issue, and I will be responsible moving forward. However, while preparing the PR, I accidentally clicked on ""create PR."" Iâ€™m sorry for the disruption. Once the PR is ready, I will re-open it for your review. ðŸ™ðŸ½

josix on (2025-01-26 07:27:01 UTC): Hi @eladkal, sorry to bother you. Iâ€™m trying to have @wei-juncheng take over the testing part for #45679 as his first contribution to Airflow. Since heâ€™s new to OSS contributions, his profile doesnâ€™t have many contribution records yet.

@wei-juncheng could you help add more information about what the PR has made and also correct the status to Draft if it is not ready, I'll also close my original PR to avoid confusion, thanks!

Lee-W on (2025-01-26 07:52:13 UTC): Hi @eladkal, 

Thank you for working on filtering potential AI spam. ðŸ˜Š 

I wanted to give you a quick heads-up. I know @josix personally, and he has already created a few pull requests (PRs) and even presented them at the Airflow Town Hall. Additionally, @wei-juncheng is a local community member from Taiwan who is interested in contributing to Airflow and has just started his journey in OSS contributions. I've asked @wei-juncheng to create another PR with more details so he can continue working on this issue and avoid making his PR look like spam. Sorry for the disruption. ðŸ™

eladkal on (2025-01-26 07:53:59 UTC): Ah cool :)

Lee-W on (2025-01-26 07:54:35 UTC): ah... yes, we can just reopen it haha. Thanks so much for helping out!

boring-cyborg[bot] on (2025-02-07 02:28:31 UTC): Awesome work, congrats on your first merged pull request! You are invited to check our [Issue Tracker](https://github.com/apache/airflow/issues) for additional contributions.

"
2811347052,pull_request,closed,,Move PINECONE provider to new structure,"related to https://github.com/apache/airflow/issues/46045

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vatsrahul1001,2025-01-26 06:21:31+00:00,[],2025-01-26 08:51:49+00:00,2025-01-26 08:51:48+00:00,https://github.com/apache/airflow/pull/46052,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:pinecone', '')]",[],
2811344424,pull_request,closed,,Move PGVECTOR provider to new structure,"related to https://github.com/apache/airflow/issues/46045
depends:https://github.com/apache/airflow/pull/46061

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vatsrahul1001,2025-01-26 06:13:31+00:00,[],2025-01-27 12:37:46+00:00,2025-01-26 20:03:57+00:00,https://github.com/apache/airflow/pull/46051,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('changelog:skip', 'Changes that should be skipped from the changelog (CI, tests, etc..)'), ('provider:pgvector', '')]",[],
2811336251,pull_request,closed,,Move Cohere provider to new structure,"related to https://github.com/apache/airflow/issues/46045
<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vatsrahul1001,2025-01-26 05:50:24+00:00,[],2025-01-26 08:50:52+00:00,2025-01-26 08:50:52+00:00,https://github.com/apache/airflow/pull/46050,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('provider:cohere', '')]",[],
2811332215,pull_request,closed,,Move Weaviate provider to new structure,"related to https://github.com/apache/airflow/issues/46045

<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",vatsrahul1001,2025-01-26 05:36:14+00:00,[],2025-01-26 09:56:49+00:00,2025-01-26 09:56:49+00:00,https://github.com/apache/airflow/pull/46049,"[('area:providers', ''), ('area:dev-tools', ''), ('kind:documentation', ''), ('area:UI', 'Related to UI/UX. For Frontend Developers.'), ('provider:weaviate', '')]",[],
2811288821,pull_request,closed,,Move Zendesk provider to new structure,"related to #46045

- [X] No pending PR's for Zendesk",rawwar,2025-01-26 03:01:52+00:00,[],2025-01-27 12:44:55+00:00,2025-01-26 14:11:37+00:00,https://github.com/apache/airflow/pull/46047,"[('area:dev-tools', ''), ('kind:documentation', ''), ('changelog:skip', 'Changes that should be skipped from the changelog (CI, tests, etc..)'), ('provider:zendesk', '')]","[{'comment_id': 2614279770, 'issue_id': 2811288821, 'author': 'potiuk', 'body': 'NICE! - Now the only thing missing is to fix the doc building.. From what I see - somewhere in docs (where the automation did not found it and fix automatically) you have\r\n\r\n`tests.system.providers.zendesk.example_zendesk_custom_get.fetch_organization` which is now a different module\r\n`tests.system.zendesk.example_zendesk_custom_get.fetch_organization`  I think - and it should be updated in the place it is used.', 'created_at': datetime.datetime(2025, 1, 26, 8, 49, 27, tzinfo=datetime.timezone.utc)}]","potiuk on (2025-01-26 08:49:27 UTC): NICE! - Now the only thing missing is to fix the doc building.. From what I see - somewhere in docs (where the automation did not found it and fix automatically) you have

`tests.system.providers.zendesk.example_zendesk_custom_get.fetch_organization` which is now a different module
`tests.system.zendesk.example_zendesk_custom_get.fetch_organization`  I think - and it should be updated in the place it is used.

"
2811285166,pull_request,closed,,fix perform-update flag in docs,I see that the option is `--perform-update` and not `--no-dry-run`,rawwar,2025-01-26 02:48:46+00:00,[],2025-01-26 20:36:32+00:00,2025-01-26 20:36:32+00:00,https://github.com/apache/airflow/pull/46046,"[('area:dev-tools', '')]",[],
2811116818,pull_request,closed,,Add create XCom endpoint in RestAPI,"related: #45966 


Update: Modifying the description only for create API and simplifying use case.

The XCom creation API fills a critical gap by enabling dynamic updates to workflows.
Current XComs are tied to task execution, limiting flexibility for long-running workflows.
The API allows dynamic creation of XCom values during execution, This is needed mostly for the use case of fixing manually recover from problems with workflows.
Avoid placeholder tasks just to generate XComs.

We will also have the edit XCom API as part of #45966 coming soon. This PR is only for creation.

-------------------------------------------------------------------------------------------------------------------

### Steps to play around the feature.

1. Add the following Dag.

_This Airflow DAG demonstrates how to use XComs for passing data between tasks. The first task (wait_and_not_push) waits for 1 minute but does not push any XCom. The second task (pull_and_print) attempts to pull an XCom value with the key outbound_key1 from the first task, logs it if found, or warns if absent._

```
from airflow import DAG
from airflow.providers.standard.operators.python import PythonOperator
import time
import logging
import pendulum

# Default arguments for the DAG
default_args = {
    'owner': 'airflow',
    'retries': 1
}

# Initialize the DAG
with DAG(
    dag_id=""xcom_pull_example_dag"",
    default_args=default_args,
    description=""A DAG demonstrating XCom pull with key 'outbound_key1'"",
    start_date=pendulum.datetime(2025, 1, 1, tz=""UTC""),
    catchup=False,
    tags=[""xcom"", ""example""],
) as dag:

    def wait_and_not_push_xcom(**kwargs):
        """"""
        Task to wait for 1 minute.
        """"""
        logging.info(""Waiting for 1 minute..."")
        time.sleep(60)  # Wait for 1 minute

    def pull_and_print_xcom(**kwargs):
        """"""
        Task to pull an XCom entry with key 'outbound_key1' and print its value.
        """"""
        ti = kwargs[""ti""]
        xcom_value = ti.xcom_pull(task_ids=""wait_and_not_push"", key=""outbound_key1"")

        if xcom_value:
            logging.info(f""Retrieved XCom value for key 'outbound_key1': {xcom_value}"")
        else:
            logging.warning(""No XCom value found for key 'outbound_key1'!"")

    # First task: Wait for 1 minute
    wait_and_not_push = PythonOperator(
        task_id=""wait_and_not_push"",
        python_callable=wait_and_not_push_xcom
    )

    # Second task: Pull the XCom entry and print its value
    pull_and_print = PythonOperator(
        task_id=""pull_and_print"",
        python_callable=pull_and_print_xcom
    )

    # Define the task dependencies
    wait_and_not_push >> pull_and_print

```

3. Trigger the run.
4. As soon as the run starts, trigger an XCom creation through API (Can do it from swagger: http://localhost:29091/docs#/XCom/create_xcom_entry)

<img width=""746"" alt=""image"" src=""https://github.com/user-attachments/assets/b7f38435-c0d8-4586-ba71-d3c61b6ad584"" />

Now, check the logs, You can see the **XCom pull was successful**. 


<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",shubhamraj-git,2025-01-25 18:28:20+00:00,[],2025-02-04 15:31:37+00:00,2025-02-04 15:31:37+00:00,https://github.com/apache/airflow/pull/46042,"[('type:new-feature', 'Changelog: New Features'), ('area:UI', 'Related to UI/UX. For Frontend Developers.')]","[{'comment_id': 2614555785, 'issue_id': 2811116818, 'author': 'jscheffl', 'body': 'Just adding comments as copy of the 1:1 conversation:\r\nI doubt that pushing an XCom from an external system is a good way to signal data to an existing workflow. Technically it would be working but this opens the door to ""hacky integrations"" in my view. XCom (as far as I have seen it) was made for inter-task communication and not as an interface to external applications.\r\nI don\'t know if there is a specific design pattern that need to be considered. Just my thought.\r\n\r\nI would understand if the API can be used to ""patch"" wrong/incorrect XCom values administratively for specific szenarios where upstream tasks can not be re-executed but values are incorrect. But the PR of this API is only adding XCom, will raise an error  if the value is existing.\r\n\r\nSo before merging I\'d propose to have a bit of discussion between the other maintainers if we want to open XCom up to external applications to signal a processing status.\r\n\r\nIf so then this integration pattern would require a bit of documentation as well.', 'created_at': datetime.datetime(2025, 1, 26, 19, 20, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614810784, 'issue_id': 2811116818, 'author': 'eladkal', 'body': '> Just adding comments as copy of the 1:1 conversation:\r\nI doubt that pushing an XCom from an external system is a good way to signal data to an existing workflow.\r\n\r\nThis is not the use case. The use case is incident recovery. When on call fixes problems with data pipeline manual interventions sometimes required.', 'created_at': datetime.datetime(2025, 1, 27, 4, 6, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616957603, 'issue_id': 2811116818, 'author': 'jscheffl', 'body': '> > Just adding comments as copy of the 1:1 conversation:\r\n> > I doubt that pushing an XCom from an external system is a good way to signal data to an existing workflow.\r\n> \r\n> This is not the use case. The use case is incident recovery. When on call fixes problems with data pipeline manual interventions sometimes required.\r\n\r\nIf I read the PR description incident recovery is not the use case.\r\n\r\nFor incident recovery also patching of XCom would be needed. It is called as:\r\n\r\n> enabling dynamic, external updates to workflows', 'created_at': datetime.datetime(2025, 1, 27, 21, 42, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616987815, 'issue_id': 2811116818, 'author': 'eladkal', 'body': ""@jscheffl The PR is to solve the pain I raised in https://github.com/apache/airflow/issues/45966\r\nI don't think this endpoint adds more risk than creating variables endpoint. Do you agree?\r\n\r\n@shubhamraj-git I suggest to strike trough the extra use cases mentioned in the description."", 'created_at': datetime.datetime(2025, 1, 27, 22, 0, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617022241, 'issue_id': 2811116818, 'author': 'jscheffl', 'body': ""> @jscheffl The PR is to solve the pain I raised in #45966 I don't think this endpoint adds more risk than creating variables endpoint. Do you agree?\r\n\r\nI just fear a undesired integration pattern coming in. But if you say this is a pain the need to be fixed, I am not blocking."", 'created_at': datetime.datetime(2025, 1, 27, 22, 22, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617923531, 'issue_id': 2811116818, 'author': 'shubhamraj-git', 'body': '> Tests are missing\r\n\r\nYes, I was waiting for discussions to be done. I will include the tests before merging. @jscheffl', 'created_at': datetime.datetime(2025, 1, 28, 5, 27, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626962329, 'issue_id': 2811116818, 'author': 'eladkal', 'body': 'ready to merge?', 'created_at': datetime.datetime(2025, 1, 31, 11, 16, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626965247, 'issue_id': 2811116818, 'author': 'shubhamraj-git', 'body': 'Yes, added the tests and good to merge.', 'created_at': datetime.datetime(2025, 1, 31, 11, 17, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627549759, 'issue_id': 2811116818, 'author': 'eladkal', 'body': '@pierrejeambrun @jscheffl any further comments?', 'created_at': datetime.datetime(2025, 1, 31, 14, 57, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628320216, 'issue_id': 2811116818, 'author': 'jscheffl', 'body': '> @pierrejeambrun @jscheffl any further comments?\r\n\r\nNo. No objections.', 'created_at': datetime.datetime(2025, 1, 31, 20, 9, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631696076, 'issue_id': 2811116818, 'author': 'pierrejeambrun', 'body': 'I think we need one last rebase.', 'created_at': datetime.datetime(2025, 2, 3, 18, 0, 10, tzinfo=datetime.timezone.utc)}]","jscheffl on (2025-01-26 19:20:27 UTC): Just adding comments as copy of the 1:1 conversation:
I doubt that pushing an XCom from an external system is a good way to signal data to an existing workflow. Technically it would be working but this opens the door to ""hacky integrations"" in my view. XCom (as far as I have seen it) was made for inter-task communication and not as an interface to external applications.
I don't know if there is a specific design pattern that need to be considered. Just my thought.

I would understand if the API can be used to ""patch"" wrong/incorrect XCom values administratively for specific szenarios where upstream tasks can not be re-executed but values are incorrect. But the PR of this API is only adding XCom, will raise an error  if the value is existing.

So before merging I'd propose to have a bit of discussion between the other maintainers if we want to open XCom up to external applications to signal a processing status.

If so then this integration pattern would require a bit of documentation as well.

eladkal on (2025-01-27 04:06:51 UTC): I doubt that pushing an XCom from an external system is a good way to signal data to an existing workflow.

This is not the use case. The use case is incident recovery. When on call fixes problems with data pipeline manual interventions sometimes required.

jscheffl on (2025-01-27 21:42:25 UTC): If I read the PR description incident recovery is not the use case.

For incident recovery also patching of XCom would be needed. It is called as:

eladkal on (2025-01-27 22:00:46 UTC): @jscheffl The PR is to solve the pain I raised in https://github.com/apache/airflow/issues/45966
I don't think this endpoint adds more risk than creating variables endpoint. Do you agree?

@shubhamraj-git I suggest to strike trough the extra use cases mentioned in the description.

jscheffl on (2025-01-27 22:22:34 UTC): I just fear a undesired integration pattern coming in. But if you say this is a pain the need to be fixed, I am not blocking.

shubhamraj-git (Issue Creator) on (2025-01-28 05:27:52 UTC): Yes, I was waiting for discussions to be done. I will include the tests before merging. @jscheffl

eladkal on (2025-01-31 11:16:16 UTC): ready to merge?

shubhamraj-git (Issue Creator) on (2025-01-31 11:17:49 UTC): Yes, added the tests and good to merge.

eladkal on (2025-01-31 14:57:49 UTC): @pierrejeambrun @jscheffl any further comments?

jscheffl on (2025-01-31 20:09:49 UTC): No. No objections.

pierrejeambrun on (2025-02-03 18:00:10 UTC): I think we need one last rebase.

"
2811083432,pull_request,open,,"Remove email configs, operator and callbacks","This PR:
- removes the ability to use `email_on_retry` and `email_on_failure` to notify the users by email in favor of the [SMTP notifier](https://airflow.apache.org/docs/apache-airflow-providers-smtp/stable/notifications/smtp_notifier_howto_guide.html)
- removes `EmailOperator` from `airflow.operators.email` in favor of `airflow.providers.smtp.operators.smtp.EmailOperator`
- cleans their usage and remove SMTP section from Airflow configuration

closes: https://github.com/apache/airflow/issues/30530",hussein-awala,2025-01-25 17:10:20+00:00,[],2025-02-08 20:31:05+00:00,,https://github.com/apache/airflow/pull/46041,"[('area:CLI', ''), ('area:dev-tools', ''), ('area:serialization', ''), ('area:API', ""Airflow's REST/HTTP API""), ('kind:documentation', ''), ('area:core-operators', 'Operators, Sensors and hooks within Core Airflow'), ('area:Triggerer', ''), ('area:task-sdk', None)]","[{'comment_id': 2614038097, 'issue_id': 2811083432, 'author': 'eladkal', 'body': 'We need also to remove the email and smtp part of airflow.cfg\r\nhttps://airflow.apache.org/docs/apache-airflow/stable/configurations-ref.html#email\r\n\r\nhttps://airflow.apache.org/docs/apache-airflow/stable/configurations-ref.html#smtp', 'created_at': datetime.datetime(2025, 1, 25, 17, 25, 24, tzinfo=datetime.timezone.utc)}]","eladkal on (2025-01-25 17:25:24 UTC): We need also to remove the email and smtp part of airflow.cfg
https://airflow.apache.org/docs/apache-airflow/stable/configurations-ref.html#email

https://airflow.apache.org/docs/apache-airflow/stable/configurations-ref.html#smtp

"
2811038264,pull_request,closed,,Fixes issue #45966,"This pull request introduces the following updates to the `XCom` and `XComEntry `components, improving the functionality and user experience when viewing XCom entries within a DAG run:

### Changes Made:
1.` XComEntry.tsx:`

- Error Handling: Added error handling to display error messages when the XCom value fetch fails.
- Clipboard Copy Feedback: Implemented a toast notification that alerts the user when an XCom value has been successfully copied to the clipboard.
- Loading Skeleton: Added a loading skeleton that appears while the XCom value is being fetched.
- Fallback for Missing Data: Displayed a fallback message (""No XCom data available"") when no value is present for a given XCom entry.

2. `XCom.tsx:`

- Pagination Handling: Integrated pagination functionality to fetch and display paginated XCom entries for the selected DAG run and task.
- Error Alert: Added an `ErrorAlert `component to handle and display any errors that occur during the XCom entries fetch.
- Table State Management: Enhanced the state management of the table (pagination, sorting) via `useTableURLState`, ensuring consistency when navigating between pages.
- `DataTable` Integration: Updated the `DataTable` component to display XCom entries with appropriate loading and pagination states.

### Why this is needed:

- **Error Handling**: To ensure users are informed when data fetching fails.
- **Clipboard Copying**: To provide an easy way for users to copy XCom values to their clipboard for further use.
- **UI/UX Improvement**: To improve the user experience with skeleton loaders and toast notifications, providing visual cues for ongoing actions.",InFiNiTy0639,2025-01-25 15:28:19+00:00,[],2025-01-26 04:16:51+00:00,2025-01-25 20:44:23+00:00,https://github.com/apache/airflow/pull/46040,"[('area:UI', 'Related to UI/UX. For Frontend Developers.'), ('AI Spam', '')]","[{'comment_id': 2614002458, 'issue_id': 2811038264, 'author': 'boring-cyborg[bot]', 'body': ""Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)\nHere are some useful points:\n- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.\n- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.\n- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.\n- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.\n- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.\n- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).\n- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.\nApache Airflow is a community-driven project and together we are making it better ðŸš€.\nIn case of doubts contact the developers at:\nMailing List: dev@airflow.apache.org\nSlack: https://s.apache.org/airflow-slack"", 'created_at': datetime.datetime(2025, 1, 25, 15, 28, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614094069, 'issue_id': 2811038264, 'author': 'eladkal', 'body': 'Ai Spam', 'created_at': datetime.datetime(2025, 1, 25, 20, 44, 23, tzinfo=datetime.timezone.utc)}]","boring-cyborg[bot] on (2025-01-25 15:28:23 UTC): Congratulations on your first Pull Request and welcome to the Apache Airflow community! If you have any issues or are unsure about any anything please check our Contributors' Guide (https://github.com/apache/airflow/blob/main/contributing-docs/README.rst)
Here are some useful points:
- Pay attention to the quality of your code (ruff, mypy and type annotations). Our [pre-commits]( https://github.com/apache/airflow/blob/main/contributing-docs/08_static_code_checks.rst#prerequisites-for-pre-commit-hooks) will help you with that.
- In case of a new feature add useful documentation (in docstrings or in `docs/` directory). Adding a new operator? Check this short [guide](https://github.com/apache/airflow/blob/main/docs/apache-airflow/howto/custom-operator.rst) Consider adding an example DAG that shows how users should use it.
- Consider using [Breeze environment](https://github.com/apache/airflow/blob/main/dev/breeze/doc/README.rst) for testing locally, it's a heavy docker but it ships with a working Airflow and a lot of integrations.
- Be patient and persistent. It might take some time to get a review or get the final approval from Committers.
- Please follow [ASF Code of Conduct](https://www.apache.org/foundation/policies/conduct) for all communication including (but not limited to) comments on Pull Requests, Mailing list and Slack.
- Be sure to read the [Airflow Coding style]( https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#coding-style-and-best-practices).
- Always keep your Pull Requests rebased, otherwise your build might fail due to changes not related to your commits.
Apache Airflow is a community-driven project and together we are making it better ðŸš€.
In case of doubts contact the developers at:
Mailing List: dev@airflow.apache.org
Slack: https://s.apache.org/airflow-slack

eladkal on (2025-01-25 20:44:23 UTC): Ai Spam

"
2811030011,pull_request,closed,,Update scheduler-deployment to cope with multiple executors,"<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",krisgeus,2025-01-25 15:08:47+00:00,[],2025-01-28 11:38:06+00:00,2025-01-27 11:26:03+00:00,https://github.com/apache/airflow/pull/46039,"[('area:helm-chart', 'Airflow Helm Chart')]","[{'comment_id': 2614000173, 'issue_id': 2811030011, 'author': 'krisgeus', 'body': '@jx2lee @jedcunningham This Pr is needed to finalize #43224 The metadata label in the scheduler deployment cannot contain a comma without being quoted and I found 1 occurrence that the previous PR #43606  did not cover.\r\n\r\nHope this can be merged just in time for the helm chart 1.16 release', 'created_at': datetime.datetime(2025, 1, 25, 15, 20, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614471828, 'issue_id': 2811030011, 'author': 'krisgeus', 'body': ""@romsharon98 Added two tests. The first one doesn't really do what is expected since we mimic the rendering of the chart in a dict and strings are always quoted there. In the real world in yaml it could be unquoted but that is not testable in these tests. The other test fails if I remove my changes so that is a good addition."", 'created_at': datetime.datetime(2025, 1, 26, 15, 35, 4, tzinfo=datetime.timezone.utc)}]","krisgeus (Issue Creator) on (2025-01-25 15:20:36 UTC): @jx2lee @jedcunningham This Pr is needed to finalize #43224 The metadata label in the scheduler deployment cannot contain a comma without being quoted and I found 1 occurrence that the previous PR #43606  did not cover.

Hope this can be merged just in time for the helm chart 1.16 release

krisgeus (Issue Creator) on (2025-01-26 15:35:04 UTC): @romsharon98 Added two tests. The first one doesn't really do what is expected since we mimic the rendering of the chart in a dict and strings are always quoted there. In the real world in yaml it could be unquoted but that is not testable in these tests. The other test fails if I remove my changes so that is a good addition.

"
2810858959,pull_request,closed,,"Revert ""Call `get_current_version` less often in bundle refresh loop â€¦","â€¦(#45999)""

This reverts commit c600a95aaf2df80ca59889b22f741bc8289138e1.

<!--
 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 ""License""); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
 -->

<!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of an existing issue, reference it using one of the following:

closes: #ISSUE
related: #ISSUE

How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
-->



<!-- Please keep an empty line above the dashes. -->
---
**^ Add meaningful description above**
Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/main/contributing-docs/05_pull_requests.rst#pull-request-guidelines)** for more information.
In case of fundamental code changes, an Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvement+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in a newsfragment file, named `{pr_number}.significant.rst` or `{issue_number}.significant.rst`, in [newsfragments](https://github.com/apache/airflow/tree/main/newsfragments).
",potiuk,2025-01-25 08:46:37+00:00,[],2025-01-27 12:50:59+00:00,2025-01-25 09:46:33+00:00,https://github.com/apache/airflow/pull/46037,"[('changelog:skip', 'Changes that should be skipped from the changelog (CI, tests, etc..)'), ('full tests needed', 'We need to run full set of tests for this PR to merge'), ('area:DAG-processing', '')]",[],
