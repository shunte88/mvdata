id,type,state,state_reason,title,body,author,created_at,assignees,updated_at,closed_at,url,labels,comments_list,comment_thread
2528393909,pull_request,closed,,fix: dont hardcode workspace in app route,"for case where user does not have access to home page/workspace 

context: support ticket id: 21533",sumitbhanushali,2024-09-16 12:53:58+00:00,[],2024-10-03 00:11:39+00:00,2024-09-17 04:31:42+00:00,https://github.com/frappe/erpnext/pull/43236,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2528059258,pull_request,closed,,"fix: set group_by condition to ""Group by Voucher (Consolidated)"" if `None` and voucher_no is set","Issue: 

![image](https://github.com/user-attachments/assets/ab9fa3a9-7a3f-4eb3-b681-6316539f4446)

- Fix: To avoid thse double rows for opening and closing entries, setting the `group_by` filter as **Group by Voucher (Consolidated)** if `group_by` is not set and `voucher_no` is set,",vishakhdesai,2024-09-16 10:21:51+00:00,['ruthra-kumar'],2024-10-13 00:13:38+00:00,2024-09-24 09:23:12+00:00,https://github.com/frappe/erpnext/pull/43235,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2527679009,pull_request,closed,,fix: do not validate purchase document for composite asset,"This PR modifies the `validate_make_gl_entry` method to skip the purchase document validation for capitalized assets, as they do not have associated purchase receipts or invoices.

`no-docs`",khushi8112,2024-09-16 07:11:51+00:00,[],2024-10-03 00:11:41+00:00,2024-09-16 18:47:15+00:00,https://github.com/frappe/erpnext/pull/43233,"[('backport version-15-hotfix', '')]",[],
2527590882,pull_request,closed,,fix(ux): set amount on foreign currency when foreign currency account… (backport #43224),"Issue:
While creating the journal entry on foreign currency, a new row sets the amount in company currency
https://support.frappe.io/helpdesk/tickets/21605

Before:
https://github.com/user-attachments/assets/5fb009ce-678f-475f-8ad3-0952e6064031

After:
https://github.com/user-attachments/assets/986ccba7-e8ed-4e65-96c6-8ba3953de582

backport needed for v15

<hr>This is an automatic backport of pull request #43224 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-16 06:16:16+00:00,[],2024-10-03 00:11:48+00:00,2024-09-16 08:19:33+00:00,https://github.com/frappe/erpnext/pull/43232,[],[],
2527537277,pull_request,closed,,fix: warehouse not mapping correctly during Delivery Note creation. (backport #42809),"
https://github.com/user-attachments/assets/e9a78147-03f8-450b-aabf-c39eb2b8899e

<hr>This is an automatic backport of pull request #42809 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-16 05:33:12+00:00,['ruthra-kumar'],2024-11-24 00:12:41+00:00,2024-11-09 17:50:57+00:00,https://github.com/frappe/erpnext/pull/43231,"[('inactive', '')]","[{'comment_id': 2456122041, 'issue_id': 2527537277, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 11, 5, 2, 55, 24, tzinfo=datetime.timezone.utc)}]","stale[bot] on (2024-11-05 02:55:24 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

"
2527441457,pull_request,closed,,fix: prevent KeyError by checking `report_filter` existence (backport #43212),"Traceback
Frappe Support Issue:
- https://support.frappe.io/app/hd-ticket/22017
- https://support.frappe.io/app/hd-ticket/22028

Backport: version-15
```
Migrating aptener.frappe.cloud
Updating DocTypes for frappe        : [========================================] 100%
Updating DocTypes for erpnext       : [========================================] 100%
Updating DocTypes for ecommerce_integrations: [========================================] 100%
Updating DocTypes for email_delivery_service: [========================================] 100%
Updating DocTypes for erpnext_shipping: [========================================] 100%
Updating DocTypes for hrms          : [========================================] 100%
Updating DocTypes for insights      : [========================================] 100%
Updating DocTypes for posawesome    : [========================================] 100%
Updating DocTypes for hr_addon      : [========================================] 100%
Updating DocTypes for print_designer: [========================================] 100%
Updating DocTypes for builder       : [========================================] 100%
Updating DocTypes for sheets        : [========================================] 100%
Updating DocTypes for chat          : [========================================] 100%
Updating DocTypes for crm           : [========================================] 100%
Updating DocTypes for frappe_whatsapp: [========================================] 100%
Executing erpnext.patches.v15_0.update_invoice_remarks in aptener.frappe.cloud (_be52c281ffc78bb5)
Success: Done in 0.817s
Executing erpnext.patches.v14_0.update_reports_with_range in aptener.frappe.cloud (_be52c281ffc78bb5)

Traceback with variables (most recent call last):
  File ""<frozen runpy>"", line 198, in _run_module_as_main
      mod_name = 'frappe.utils.bench_helper'
      alter_argv = True
      mod_spec = ModuleSpec(name='frappe.utils.bench_helper', loader=<_frozen_importlib_external.SourceFileLoader object at 0x7f64e5453490>, origin='/home/frappe/frappe-bench/apps/frappe/frappe/utils/bench_helper.py')
      code = <code object <module> at 0xd85440, file ""/home/frappe/frappe-bench/apps/frappe/frappe/utils/bench_helper.py"", line 1>
      main_globals = {'__name__': '__main__', '__doc__': None, '__package__': 'frappe.utils', '__loader__': <_frozen_importlib_external.SourceFileLoader object at 0x7f64e5453490>, '__spec__': ModuleSpec(name='frappe.utils.bench_helper', loader=<_frozen_importlib_external.SourceFileLoader object at 0x7f64e5453490>, origin='/home/frappe/frappe-bench/apps/frappe/frappe/utils/bench_helper.py'), '__annotations__': {}, '__builtins__': <module 'builtins' (built-in)>, '__file__': '/home/frappe/frappe-bench/apps/frappe/frappe/utils/bench_helper.py', '__cached__': '/home/frappe/frappe-bench/apps/frappe/frappe/utils/__pycache__/bench_helper.cpython-311.pyc', 'importlib': <module 'importlib' from '/usr/lib/python3.11/importlib/__init__.py'>, 'json': <module 'json' from '/usr/lib/python3.11/json/__init__.py'>, 'os': <module 'os' (frozen)>, 'traceback': <module 'traceback' from '/usr/lib/python3.11/traceback.py'>, 'warnings': <module 'warnings' from '/usr/lib/python3.11/warnings.py'>, 'Path': <class 'pathlib.Path'>, 'de...
  File ""<frozen runpy>"", line 88, in _run_code
      code = <code object <module> at 0xd85440, file ""/home/frappe/frappe-bench/apps/frappe/frappe/utils/bench_helper.py"", line 1>
      run_globals = {'__name__': '__main__', '__doc__': None, '__package__': 'frappe.utils', '__loader__': <_frozen_importlib_external.SourceFileLoader object at 0x7f64e5453490>, '__spec__': ModuleSpec(name='frappe.utils.bench_helper', loader=<_frozen_importlib_external.SourceFileLoader object at 0x7f64e5453490>, origin='/home/frappe/frappe-bench/apps/frappe/frappe/utils/bench_helper.py'), '__annotations__': {}, '__builtins__': <module 'builtins' (built-in)>, '__file__': '/home/frappe/frappe-bench/apps/frappe/frappe/utils/bench_helper.py', '__cached__': '/home/frappe/frappe-bench/apps/frappe/frappe/utils/__pycache__/bench_helper.cpython-311.pyc', 'importlib': <module 'importlib' from '/usr/lib/python3.11/importlib/__init__.py'>, 'json': <module 'json' from '/usr/lib/python3.11/json/__init__.py'>, 'os': <module 'os' (frozen)>, 'traceback': <module 'traceback' from '/usr/lib/python3.11/traceback.py'>, 'warnings': <module 'warnings' from '/usr/lib/python3.11/warnings.py'>, 'Path': <class 'pathlib.Path'>, 'de...
      init_globals = None
      mod_name = '__main__'
      mod_spec = ModuleSpec(name='frappe.utils.bench_helper', loader=<_frozen_importlib_external.SourceFileLoader object at 0x7f64e5453490>, origin='/home/frappe/frappe-bench/apps/frappe/frappe/utils/bench_helper.py')
      pkg_name = 'frappe.utils'
      script_name = None
      loader = <_frozen_importlib_external.SourceFileLoader object at 0x7f64e5453490>
      fname = '/home/frappe/frappe-bench/apps/frappe/frappe/utils/bench_helper.py'
      cached = '/home/frappe/frappe-bench/apps/frappe/frappe/utils/__pycache__/bench_helper.cpython-311.pyc'
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/utils/bench_helper.py"", line 114, in <module>
    main()
      ...skipped... 27 vars
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/utils/bench_helper.py"", line 20, in main
    click.Group(commands=commands)(prog_name=""bench"")
      commands = {'frappe': <Group frappe>, 'get-frappe-commands': <Command get-frappe-commands>, 'get-frappe-help': <Command get-frappe-help>}
  File ""/home/frappe/frappe-bench/env/lib/python3.11/site-packages/click/core.py"", line 1157, in __call__
    return self.main(*args, **kwargs)
      self = <Group None>
      args = ()
      kwargs = {'prog_name': 'bench'}
  File ""/home/frappe/frappe-bench/env/lib/python3.11/site-packages/click/core.py"", line 1078, in main
    rv = self.invoke(ctx)
      self = <Group None>
      args = ['frappe', '--site', 'aptener.frappe.cloud', 'migrate', '--skip-search-index']
      prog_name = 'bench'
      complete_var = None
      standalone_mode = True
      windows_expand_args = True
      extra = {}
      ctx = <click.core.Context object at 0x7f64e3ff9a10>
  File ""/home/frappe/frappe-bench/env/lib/python3.11/site-packages/click/core.py"", line 1688, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
      self = <Group None>
      ctx = <click.core.Context object at 0x7f64e3ff9a10>
      _process_result = <function MultiCommand.invoke.<locals>._process_result at 0x7f64e4006980>
      args = ['migrate', '--skip-search-index']
      cmd_name = 'frappe'
      cmd = <Group frappe>
      sub_ctx = <click.core.Context object at 0x7f64e1373790>
      __class__ = <class 'click.core.MultiCommand'>
  File ""/home/frappe/frappe-bench/env/lib/python3.11/site-packages/click/core.py"", line 1688, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
      self = <Group frappe>
      ctx = <click.core.Context object at 0x7f64e1373790>
      _process_result = <function MultiCommand.invoke.<locals>._process_result at 0x7f64e1366840>
      args = []
      cmd_name = 'migrate'
      cmd = <Command migrate>
      sub_ctx = <click.core.Context object at 0x7f64e13760d0>
      __class__ = <class 'click.core.MultiCommand'>
  File ""/home/frappe/frappe-bench/env/lib/python3.11/site-packages/click/core.py"", line 1434, in invoke
    return ctx.invoke(self.callback, **ctx.params)
      self = <Command migrate>
      ctx = <click.core.Context object at 0x7f64e13760d0>
  File ""/home/frappe/frappe-bench/env/lib/python3.11/site-packages/click/core.py"", line 783, in invoke
    return __callback(*args, **kwargs)
      _Context__self = <click.core.Context object at 0x7f64e13760d0>
      _Context__callback = <function migrate at 0x7f64e4068cc0>
      args = ()
      kwargs = {'skip_search_index': True, 'skip_failing': False}
      ctx = <click.core.Context object at 0x7f64e13760d0>
  File ""/home/frappe/frappe-bench/env/lib/python3.11/site-packages/click/decorators.py"", line 33, in new_func
    return f(get_current_context(), *args, **kwargs)
      args = ()
      kwargs = {'skip_search_index': True, 'skip_failing': False}
      f = <function migrate at 0x7f64e4068c20>
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/commands/__init__.py"", line 29, in _func
    ret = f(frappe._dict(ctx.obj), *args, **kwargs)
      ctx = <click.core.Context object at 0x7f64e13760d0>
      args = ()
      kwargs = {'skip_search_index': True, 'skip_failing': False}
      profile = False
      f = <function migrate at 0x7f64e40689a0>
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/commands/site.py"", line 619, in migrate
    ).run(site=site)
      context = {'sites': ['aptener.frappe.cloud'], 'force': False, 'verbose': False, 'profile': False}
      skip_failing = False
      skip_search_index = True
      activate_by_import = <module 'traceback_with_variables.activate_by_import' from '/home/frappe/frappe-bench/env/lib/python3.11/site-packages/traceback_with_variables/activate_by_import.py'>
      SiteMigration = <class 'frappe.migrate.SiteMigration'>
      site = 'aptener.frappe.cloud'
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/migrate.py"", line 186, in run
    self.run_schema_updates()
      self = <frappe.migrate.SiteMigration object at 0x7f64de8e38d0>
      site = 'aptener.frappe.cloud'
      filelock = <function filelock at 0x7f64de1b0ae0>
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/migrate.py"", line 52, in wrapper
    raise e
      args = (<frappe.migrate.SiteMigration object at 0x7f64de8e38d0>,)
      kwargs = {}
      method = <function SiteMigration.run_schema_updates at 0x7f64de1b05e0>
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/migrate.py"", line 44, in wrapper
    ret = method(*args, **kwargs)
      args = (<frappe.migrate.SiteMigration object at 0x7f64de8e38d0>,)
      kwargs = {}
      method = <function SiteMigration.run_schema_updates at 0x7f64de1b05e0>
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/migrate.py"", line 121, in run_schema_updates
    frappe.modules.patch_handler.run_all(
      self = <frappe.migrate.SiteMigration object at 0x7f64de8e38d0>
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/modules/patch_handler.py"", line 76, in run_all
    run_patch(patch)
      skip_failing = False
      patch_type = <PatchType.post_model_sync: 'post_model_sync'>
      executed = {'erpnext.patches.v13_0.create_custom_field_for_finance_book', 'execute:frappe.delete_doc(""DocType"", ""Backup Manager"")', 'insights.patches.rename_target_column_field', 'erpnext.patches.v15_0.rename_daily_depreciation_to_depreciation_amount_based_on_num_days_in_month', 'erpnext.patches.v15_0.drop_index_posting_datetime_from_sle', 'erpnext.patches.v12_0.add_permission_in_lower_deduction', 'frappe.patches.v14_0.update_is_system_generated_flag', 'erpnext.patches.v13_0.update_dates_in_tax_withholding_category', 'erpnext.patches.v13_0.fetch_thumbnail_in_website_items', 'erpnext.patches.v12_0.set_permission_einvoicing', 'erpnext.patches.v14_0.update_total_asset_cost_field', 'execute:frappe.reload_doc(""HR"", ""doctype"", ""HR Settings"") #2020-01-16 #2020-07-24', 'execute:frappe.delete_doc(""Report"", ""Tax Detail"", force=True)', 'erpnext.patches.v12_0.update_is_cancelled_field', 'builder.builder.doctype.builder_page.patches.enable_auto_convert_to_webp_by_default', ""execute:frappe.delete_doc_if_exists...
      run_patch = <function run_all.<locals>.run_patch at 0x7f64de000180>
      patches = [""execute:frappe.get_doc('Role', 'Guest').save() # remove desk access"", 'frappe.core.doctype.role.patches.v13_set_default_desk_properties', 'frappe.patches.v14_0.update_workspace2 # 06.06.2023', 'frappe.patches.v14_0.drop_data_import_legacy', 'frappe.patches.v14_0.copy_mail_data #08.03.21', 'frappe.patches.v14_0.update_github_endpoints #08-11-2021', 'frappe.patches.v14_0.remove_db_aggregation', 'frappe.patches.v14_0.update_color_names_in_kanban_board_column', 'frappe.patches.v14_0.update_is_system_generated_flag', 'frappe.patches.v14_0.update_auto_account_deletion_duration', 'frappe.patches.v14_0.update_integration_request', 'frappe.patches.v14_0.set_document_expiry_default', 'frappe.patches.v14_0.delete_data_migration_tool', 'frappe.patches.v14_0.set_suspend_email_queue_default', 'frappe.patches.v14_0.different_encryption_key', 'frappe.patches.v14_0.update_multistep_webforms', ""execute:frappe.delete_doc('Page', 'background_jobs', ignore_missing=True, force=True)"", 'frappe.patches.v14_...
      patch = 'erpnext.patches.v14_0.update_reports_with_range'
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/modules/patch_handler.py"", line 62, in run_patch
    if not run_single(patchmodule=patch):
      patch = 'erpnext.patches.v14_0.update_reports_with_range'
      skip_failing = False
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/modules/patch_handler.py"", line 152, in run_single
    return execute_patch(patchmodule, method, methodargs)
      patchmodule = 'erpnext.patches.v14_0.update_reports_with_range'
      method = None
      methodargs = None
      force = False
      conf = <LocalProxy unbound>
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/modules/patch_handler.py"", line 188, in execute_patch
    _patch()
      patchmodule = 'erpnext.patches.v14_0.update_reports_with_range'
      method = None
      methodargs = None
      has_patch_file = True
      patch = 'erpnext.patches.v14_0.update_reports_with_range.execute'
      docstring = ''
      _patch = <function execute at 0x7f64dd6a3c40>
      start_time = 21338048.127994344
  File ""/home/frappe/frappe-bench/apps/erpnext/erpnext/patches/v14_0/update_reports_with_range.py"", line 16, in execute
    update_reference_reports(report)
      report = 'Accounts Receivable'
  File ""/home/frappe/frappe-bench/apps/erpnext/erpnext/patches/v14_0/update_reports_with_range.py"", line 25, in update_reference_reports
    update_report_json(report)
      reference_report = 'Accounts Receivable'
      reports = [{'json': '{""columns"":[{""label"":""Posting Date"",""fieldname"":""posting_date"",""fieldtype"":""Date"",""options"":null,""width"":90,""id"":""posting_date"",""name"":""Posting Date"",""editable"":false},{""label"":""Customer"",""fieldname"":""party"",""fieldtype"":""Link"",""options"":""Customer"",""width"":180,""id"":""party"",""name"":""Customer"",""editable"":false,""compareValue"":null},{""fieldname"":""customer_group_customer"",""field"":""customer_group"",""fieldtype"":""Link"",""label"":""Customer Group"",""insert_after_index"":1,""link_field"":""party"",""doctype"":""Customer"",""options"":""Customer Group"",""width"":100,""id"":""customer_group_customer"",""name"":""Customer Group"",""editable"":false,""compareValue"":null},{""label"":""Receivable Account"",""fieldname"":""party_account"",""fieldtype"":""Link"",""options"":""Account"",""width"":180,""id"":""party_account"",""name"":""Receivable Account"",""editable"":false,""compareValue"":null},{""label"":""Customer Contact"",""fieldname"":""customer_primary_contact"",""fieldtype"":""Link"",""options"":""Contact"",""width"":120,""id"":""customer_primary_contact"",""name"":""C...
      report = {'json': '{""columns"":[{""label"":""Posting Date"",""fieldname"":""posting_date"",""fieldtype"":""Date"",""options"":null,""width"":90,""id"":""posting_date"",""name"":""Posting Date"",""editable"":false},{""label"":""Customer"",""fieldname"":""party"",""fieldtype"":""Link"",""options"":""Customer"",""width"":180,""id"":""party"",""name"":""Customer"",""editable"":false,""compareValue"":null},{""fieldname"":""customer_group_customer"",""field"":""customer_group"",""fieldtype"":""Link"",""label"":""Customer Group"",""insert_after_index"":1,""link_field"":""party"",""doctype"":""Customer"",""options"":""Customer Group"",""width"":100,""id"":""customer_group_customer"",""name"":""Customer Group"",""editable"":false,""compareValue"":null},{""label"":""Receivable Account"",""fieldname"":""party_account"",""fieldtype"":""Link"",""options"":""Account"",""width"":180,""id"":""party_account"",""name"":""Receivable Account"",""editable"":false,""compareValue"":null},{""label"":""Customer Contact"",""fieldname"":""customer_primary_contact"",""fieldtype"":""Link"",""options"":""Contact"",""width"":120,""id"":""customer_primary_contact"",""name"":""Cu...
  File ""/home/frappe/frappe-bench/apps/erpnext/erpnext/patches/v14_0/update_reports_with_range.py"", line 33, in update_report_json
    keys_to_pop = [key for key in report_filter if key.startswith(""range"")]
      report = {'json': '{""columns"":[{""label"":""Posting Date"",""fieldname"":""posting_date"",""fieldtype"":""Date"",""options"":null,""width"":90,""id"":""posting_date"",""name"":""Posting Date"",""editable"":false},{""label"":""Customer"",""fieldname"":""party"",""fieldtype"":""Link"",""options"":""Customer"",""width"":180,""id"":""party"",""name"":""Customer"",""editable"":false,""compareValue"":null},{""fieldname"":""customer_group_customer"",""field"":""customer_group"",""fieldtype"":""Link"",""label"":""Customer Group"",""insert_after_index"":1,""link_field"":""party"",""doctype"":""Customer"",""options"":""Customer Group"",""width"":100,""id"":""customer_group_customer"",""name"":""Customer Group"",""editable"":false,""compareValue"":null},{""label"":""Receivable Account"",""fieldname"":""party_account"",""fieldtype"":""Link"",""options"":""Account"",""width"":180,""id"":""party_account"",""name"":""Receivable Account"",""editable"":false,""compareValue"":null},{""label"":""Customer Contact"",""fieldname"":""customer_primary_contact"",""fieldtype"":""Link"",""options"":""Contact"",""width"":120,""id"":""customer_primary_contact"",""name"":""Cu...
      report_json = {'columns': [{'label': 'Posting Date', 'fieldname': 'posting_date', 'fieldtype': 'Date', 'options': None, 'width': 90, 'id': 'posting_date', 'name': 'Posting Date', 'editable': False}, {'label': 'Customer', 'fieldname': 'party', 'fieldtype': 'Link', 'options': 'Customer', 'width': 180, 'id': 'party', 'name': 'Customer', 'editable': False, 'compareValue': None}, {'fieldname': 'customer_group_customer', 'field': 'customer_group', 'fieldtype': 'Link', 'label': 'Customer Group', 'insert_after_index': 1, 'link_field': 'party', 'doctype': 'Customer', 'options': 'Customer Group', 'width': 100, 'id': 'customer_group_customer', 'name': 'Customer Group', 'editable': False, 'compareValue': None}, {'label': 'Receivable Account', 'fieldname': 'party_account', 'fieldtype': 'Link', 'options': 'Account', 'width': 180, 'id': 'party_account', 'name': 'Receivable Account', 'editable': False, 'compareValue': None}, {'label': 'Customer Contact', 'fieldname': 'customer_primary_contact', 'fieldtype': 'Link',...
      report_filter = None
builtins.TypeError: 'NoneType' object is not iterable
```<hr>This is an automatic backport of pull request #43212 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-16 03:48:42+00:00,[],2024-10-03 00:11:36+00:00,2024-09-17 04:53:58+00:00,https://github.com/frappe/erpnext/pull/43230,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2526828522,pull_request,closed,,chore: update POT file,,frappe-pr-bot,2024-09-15 09:35:21+00:00,[],2024-10-03 00:11:52+00:00,2024-09-15 10:45:46+00:00,https://github.com/frappe/erpnext/pull/43227,[],[],
2526403167,pull_request,closed,,"fix: map rows on journal entry by validating account, party, debit and credit value","Issue: Unable to reconcile payment journal entry from closed fiscal year
https://support.frappe.io/helpdesk/tickets/21665

Before:
![Payment Reconciliation Issue](https://github.com/user-attachments/assets/3932bb37-0651-44e5-9834-a56ceaea4703)

After:
![Payment Reconciliation Fix](https://github.com/user-attachments/assets/818a7fda-a49e-4c74-8218-bdd4b4a01557)

backport needed for v15
",Navin-S-R,2024-09-14 13:19:50+00:00,['ruthra-kumar'],2024-10-03 00:11:24+00:00,2024-09-17 14:33:51+00:00,https://github.com/frappe/erpnext/pull/43226,"[('accounts', ''), ('backport version-15-hotfix', '')]",[],
2526394881,pull_request,closed,,fix(ux): set amount based on account currency while adding new row,"Issue: While creating journal entry on foreign currency with party, adding a new row fetch amount in company currency. 

Before:
[jv.party.account.currecny.issue.webm](https://github.com/user-attachments/assets/8e7059d8-f69d-4285-8046-a3fb4411231e)

After:
[jv.party.account.currecny.fix.webm](https://github.com/user-attachments/assets/b0348d94-8915-4a3b-a4dc-c15b839d92a5)

backport needed for v15
",Navin-S-R,2024-09-14 13:12:01+00:00,['ruthra-kumar'],2024-10-03 00:11:38+00:00,2024-09-17 04:47:49+00:00,https://github.com/frappe/erpnext/pull/43225,"[('backport version-15-hotfix', '')]",[],
2526390361,pull_request,closed,,fix(ux): set amount on foreign currency when foreign currency account…,"Issue:
While creating the journal entry on foreign currency, a new row sets the amount in company currency
https://support.frappe.io/helpdesk/tickets/21605

Before:
https://github.com/user-attachments/assets/5fb009ce-678f-475f-8ad3-0952e6064031

After:
https://github.com/user-attachments/assets/986ccba7-e8ed-4e65-96c6-8ba3953de582

backport needed for v15

",venkat102,2024-09-14 13:07:48+00:00,['ruthra-kumar'],2024-10-03 00:11:49+00:00,2024-09-16 06:14:54+00:00,https://github.com/frappe/erpnext/pull/43224,"[('backport version-15-hotfix', '')]",[],
2526120049,pull_request,closed,,feat: API for crm integration (backport #43198),"- Create custom fields for Deal
- Create customer and contacts
- Create Prospect

Depends on https://github.com/frappe/crm/pull/346
#no-docs<hr>This is an automatic backport of pull request #43198 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-14 08:59:53+00:00,['nabinhait'],2024-10-05 00:11:11+00:00,2024-09-14 09:16:15+00:00,https://github.com/frappe/erpnext/pull/43223,"[('CRM', None), ('needs-tests', 'This PR needs automated unit-tests.')]",[],
2526049602,pull_request,closed,,fix(holiday-list): use same date format for same holiday error message (backport #42606),"
Fix frappe/hrms#1847

> Please provide enough information so that others can review your pull request:

Fixes the issue where the date format in the error message doesn't adhere to the system settings for the date format.




> Explain the **details** for making this change. What existing problem does the pull request solve?

The new patch uses the default system format for the error message too.



> Screenshots/GIFs




Before:
![Screenshot 2024-08-02 at 9 58 58 PM](https://github.com/user-attachments/assets/6ad95f39-a6d4-4e8d-a0f0-c9ffffbac437)

After:
![Screenshot 2024-08-02 at 9 59 25 PM](https://github.com/user-attachments/assets/009a00be-8ece-44c8-84a0-06245744799a)
<hr>This is an automatic backport of pull request #42606 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-14 07:26:59+00:00,[],2024-10-05 00:11:12+00:00,2024-09-14 08:06:26+00:00,https://github.com/frappe/erpnext/pull/43222,[],[],
2526049581,pull_request,closed,,fix(holiday-list): use same date format for same holiday error message (backport #42606),"
Fix frappe/hrms#1847

> Please provide enough information so that others can review your pull request:

Fixes the issue where the date format in the error message doesn't adhere to the system settings for the date format.




> Explain the **details** for making this change. What existing problem does the pull request solve?

The new patch uses the default system format for the error message too.



> Screenshots/GIFs




Before:
![Screenshot 2024-08-02 at 9 58 58 PM](https://github.com/user-attachments/assets/6ad95f39-a6d4-4e8d-a0f0-c9ffffbac437)

After:
![Screenshot 2024-08-02 at 9 59 25 PM](https://github.com/user-attachments/assets/009a00be-8ece-44c8-84a0-06245744799a)
<hr>This is an automatic backport of pull request #42606 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-14 07:26:57+00:00,[],2024-10-05 00:11:13+00:00,2024-09-14 07:28:07+00:00,https://github.com/frappe/erpnext/pull/43221,"[('needs-tests', 'This PR needs automated unit-tests.'), ('conflicts', None)]","[{'comment_id': 2350891254, 'issue_id': 2526049581, 'author': 'mergify[bot]', 'body': 'Cherry-pick of a43544153667f8b15d915fd774b46d737de912d2 has failed:\n```\nOn branch mergify/bp/version-14-hotfix/pr-42606\nYour branch is up to date with \'origin/version-14-hotfix\'.\n\nYou are currently cherry-picking commit a435441536.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/setup/doctype/holiday_list/holiday_list.py\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 9, 14, 7, 26, 58, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-09-14 07:26:58 UTC): Cherry-pick of a43544153667f8b15d915fd774b46d737de912d2 has failed:
```
On branch mergify/bp/version-14-hotfix/pr-42606
Your branch is up to date with 'origin/version-14-hotfix'.

You are currently cherry-picking commit a435441536.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/setup/doctype/holiday_list/holiday_list.py

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

"
2525587068,pull_request,closed,,fix: sync translations from crowdin,,frappe-pr-bot,2024-09-13 19:56:00+00:00,[],2024-10-03 00:11:40+00:00,2024-09-16 20:27:22+00:00,https://github.com/frappe/erpnext/pull/43219,"[('translation', None)]",[],
2524854321,pull_request,closed,,refactor: Clear unallocated mode of payments on submitting POS Invoice,"Currently when we create a Sales Invoice with POS Payments, when it be submitted, all unallocated modes of payments are deleted [in this function](https://github.com/frappe/erpnext/blob/develop/erpnext/accounts/doctype/sales_invoice/sales_invoice.py#L888).

It doesn't happens in POS Invoice. This commit copies the codes that makes it happens, from Sales Invoice to POS Invoice. 

*Edit: Changed the code from frappe.db to frappe.qb, because of the checks",devdiogenes,2024-09-13 13:26:48+00:00,['ruthra-kumar'],2024-12-10 00:12:28+00:00,2024-11-25 10:14:27+00:00,https://github.com/frappe/erpnext/pull/43218,"[('needs-tests', 'This PR needs automated unit-tests.'), ('squash', 'Meant to tell reviewers that this PR should be squashed into a single commit while merging.')]","[{'comment_id': 2443798044, 'issue_id': 2524854321, 'author': 'ruthra-kumar', 'body': '@devdiogenes \r\n\r\nCan you rebase on latest develop and reduce it one or two commits without any merge commits. It makes it easier to backport.', 'created_at': datetime.datetime(2024, 10, 29, 10, 14, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2444841320, 'issue_id': 2524854321, 'author': 'devdiogenes', 'body': ""@ruthra-kumar \r\nThe changes you requested have been made and pushed. Please take a look and let me know if there's anything else you need."", 'created_at': datetime.datetime(2024, 10, 29, 16, 54, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2480392853, 'issue_id': 2524854321, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 11, 16, 4, 26, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2482761776, 'issue_id': 2524854321, 'author': 'devdiogenes', 'body': 'Waiting for review', 'created_at': datetime.datetime(2024, 11, 18, 11, 23, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2497595052, 'issue_id': 2524854321, 'author': 'ruthra-kumar', 'body': ""@devdiogenes \r\n\r\nPR got closed due to force-pushing a divergent history - my fault.\r\n\r\nI've captured your changes on https://github.com/frappe/erpnext/pull/44321"", 'created_at': datetime.datetime(2024, 11, 25, 10, 31, 8, tzinfo=datetime.timezone.utc)}]","ruthra-kumar (Assginee) on (2024-10-29 10:14:33 UTC): @devdiogenes 

Can you rebase on latest develop and reduce it one or two commits without any merge commits. It makes it easier to backport.

devdiogenes (Issue Creator) on (2024-10-29 16:54:49 UTC): @ruthra-kumar 
The changes you requested have been made and pushed. Please take a look and let me know if there's anything else you need.

stale[bot] on (2024-11-16 04:26:15 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

devdiogenes (Issue Creator) on (2024-11-18 11:23:50 UTC): Waiting for review

ruthra-kumar (Assginee) on (2024-11-25 10:31:08 UTC): @devdiogenes 

PR got closed due to force-pushing a divergent history - my fault.

I've captured your changes on https://github.com/frappe/erpnext/pull/44321

"
2524844938,pull_request,closed,,fix: get cost center allocation percentage only from the applicable allocation,"Issue:
sub cost center and percentage not fetching properly from Cost Center Allocation, when there are multiple allocation entries with different sets of sub cost centers
https://support.frappe.io/helpdesk/tickets/21870

Before:
https://github.com/user-attachments/assets/16f3a55b-4f4f-4e79-884c-a2e14ccca093

After:
https://github.com/user-attachments/assets/d275aca0-608b-4162-954c-6703ea2cf2e0

backport needed for v14 and v15",venkat102,2024-09-13 13:22:21+00:00,['ruthra-kumar'],2024-10-03 00:11:19+00:00,2024-09-18 05:48:23+00:00,https://github.com/frappe/erpnext/pull/43216,"[('accounts', ''), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2524735188,pull_request,closed,,fix: Payment Ledger Report currency fieldtype fix,"In the Payment Ledger Report ""currency"" field has the wrong fieldtype. As per the incoming data, it should be a Link field.

![image](https://github.com/user-attachments/assets/51c9375b-1577-49a1-b799-a9fbb5a8140c)

",sameer55chauhan,2024-09-13 12:33:37+00:00,['ruthra-kumar'],2024-10-05 00:11:03+00:00,2024-09-19 01:35:43+00:00,https://github.com/frappe/erpnext/pull/43213,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-14-hotfix', 'backport to version 14')]","[{'comment_id': 2352077297, 'issue_id': 2524735188, 'author': 'ruthra-kumar', 'body': '@sameer55chauhan \r\nCould you let us know the issue and how this change can fix it?', 'created_at': datetime.datetime(2024, 9, 16, 6, 6, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2355581223, 'issue_id': 2524735188, 'author': 'sameer55chauhan', 'body': ""> @sameer55chauhan Could you let us know the issue and how this change can fix it?\r\n\r\nOkay! Let's suppose that it is visible on the UI in ERP, this is how it would look like: (showing 0 in all cases which is somewhat wrong display of information)\r\n![Screenshot 2024-09-17 173404](https://github.com/user-attachments/assets/4b34feed-5cd8-4f99-9ff1-e0b34651fa94)\r\nWith the fix it would look like this: (showing all the currencies)\r\n![Screenshot 2024-09-17 173455](https://github.com/user-attachments/assets/db77e53c-e657-4b53-9467-2d2ff799f666)\r\n\r\nSecond, What is the need for this fix as the currency is hidden from the user?\r\nThe answer is we are working on a custom frontend-based solution, where we are getting the report from ERP as well as the metadata and rendering it. But with the current currency field, it shows NaN, although we can handle it and show 0 that would be incorrect information.\r\n![image](https://github.com/user-attachments/assets/2c7e1372-36c6-4dc4-bd1b-8cd3f69bdef5)"", 'created_at': datetime.datetime(2024, 9, 17, 12, 22, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2359896535, 'issue_id': 2524735188, 'author': 'ruthra-kumar', 'body': '@mergify copy develop', 'created_at': datetime.datetime(2024, 9, 19, 3, 20, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2359896679, 'issue_id': 2524735188, 'author': 'mergify[bot]', 'body': '> copy develop\n\n#### ✅ Pull request copies have been created\n\n<details>\n\n* [#43291 fix: Payment Ledger Report currency fieldtype fix (copy #43213)](https://github.com/frappe/erpnext/pull/43291) has been created for branch `develop`\n\n</details>\n\n\n<!---\nDO NOT EDIT\n-*- Mergify Payload -*-\n{""command"": ""copy develop"", ""conclusion"": ""success"", ""action_is_running"": true}\n-*- Mergify Payload End -*-\n-->', 'created_at': datetime.datetime(2024, 9, 19, 3, 20, 53, tzinfo=datetime.timezone.utc)}]","ruthra-kumar (Assginee) on (2024-09-16 06:06:04 UTC): @sameer55chauhan 
Could you let us know the issue and how this change can fix it?

sameer55chauhan (Issue Creator) on (2024-09-17 12:22:29 UTC): Okay! Let's suppose that it is visible on the UI in ERP, this is how it would look like: (showing 0 in all cases which is somewhat wrong display of information)
![Screenshot 2024-09-17 173404](https://github.com/user-attachments/assets/4b34feed-5cd8-4f99-9ff1-e0b34651fa94)
With the fix it would look like this: (showing all the currencies)
![Screenshot 2024-09-17 173455](https://github.com/user-attachments/assets/db77e53c-e657-4b53-9467-2d2ff799f666)

Second, What is the need for this fix as the currency is hidden from the user?
The answer is we are working on a custom frontend-based solution, where we are getting the report from ERP as well as the metadata and rendering it. But with the current currency field, it shows NaN, although we can handle it and show 0 that would be incorrect information.
![image](https://github.com/user-attachments/assets/2c7e1372-36c6-4dc4-bd1b-8cd3f69bdef5)

ruthra-kumar (Assginee) on (2024-09-19 03:20:42 UTC): @mergify copy develop

mergify[bot] on (2024-09-19 03:20:53 UTC): #### ✅ Pull request copies have been created

<details>

* [#43291 fix: Payment Ledger Report currency fieldtype fix (copy #43213)](https://github.com/frappe/erpnext/pull/43291) has been created for branch `develop`

</details>


<!---
DO NOT EDIT
-*- Mergify Payload -*-
{""command"": ""copy develop"", ""conclusion"": ""success"", ""action_is_running"": true}
-*- Mergify Payload End -*-
-->

"
2524672337,pull_request,closed,,fix: prevent KeyError by checking `report_filter` existence,"Traceback
Frappe Support Issue:
- https://support.frappe.io/app/hd-ticket/22017
- https://support.frappe.io/app/hd-ticket/22028

Backport: version-15
```
Migrating aptener.frappe.cloud
Updating DocTypes for frappe        : [========================================] 100%
Updating DocTypes for erpnext       : [========================================] 100%
Updating DocTypes for ecommerce_integrations: [========================================] 100%
Updating DocTypes for email_delivery_service: [========================================] 100%
Updating DocTypes for erpnext_shipping: [========================================] 100%
Updating DocTypes for hrms          : [========================================] 100%
Updating DocTypes for insights      : [========================================] 100%
Updating DocTypes for posawesome    : [========================================] 100%
Updating DocTypes for hr_addon      : [========================================] 100%
Updating DocTypes for print_designer: [========================================] 100%
Updating DocTypes for builder       : [========================================] 100%
Updating DocTypes for sheets        : [========================================] 100%
Updating DocTypes for chat          : [========================================] 100%
Updating DocTypes for crm           : [========================================] 100%
Updating DocTypes for frappe_whatsapp: [========================================] 100%
Executing erpnext.patches.v15_0.update_invoice_remarks in aptener.frappe.cloud (_be52c281ffc78bb5)
Success: Done in 0.817s
Executing erpnext.patches.v14_0.update_reports_with_range in aptener.frappe.cloud (_be52c281ffc78bb5)

Traceback with variables (most recent call last):
  File ""<frozen runpy>"", line 198, in _run_module_as_main
      mod_name = 'frappe.utils.bench_helper'
      alter_argv = True
      mod_spec = ModuleSpec(name='frappe.utils.bench_helper', loader=<_frozen_importlib_external.SourceFileLoader object at 0x7f64e5453490>, origin='/home/frappe/frappe-bench/apps/frappe/frappe/utils/bench_helper.py')
      code = <code object <module> at 0xd85440, file ""/home/frappe/frappe-bench/apps/frappe/frappe/utils/bench_helper.py"", line 1>
      main_globals = {'__name__': '__main__', '__doc__': None, '__package__': 'frappe.utils', '__loader__': <_frozen_importlib_external.SourceFileLoader object at 0x7f64e5453490>, '__spec__': ModuleSpec(name='frappe.utils.bench_helper', loader=<_frozen_importlib_external.SourceFileLoader object at 0x7f64e5453490>, origin='/home/frappe/frappe-bench/apps/frappe/frappe/utils/bench_helper.py'), '__annotations__': {}, '__builtins__': <module 'builtins' (built-in)>, '__file__': '/home/frappe/frappe-bench/apps/frappe/frappe/utils/bench_helper.py', '__cached__': '/home/frappe/frappe-bench/apps/frappe/frappe/utils/__pycache__/bench_helper.cpython-311.pyc', 'importlib': <module 'importlib' from '/usr/lib/python3.11/importlib/__init__.py'>, 'json': <module 'json' from '/usr/lib/python3.11/json/__init__.py'>, 'os': <module 'os' (frozen)>, 'traceback': <module 'traceback' from '/usr/lib/python3.11/traceback.py'>, 'warnings': <module 'warnings' from '/usr/lib/python3.11/warnings.py'>, 'Path': <class 'pathlib.Path'>, 'de...
  File ""<frozen runpy>"", line 88, in _run_code
      code = <code object <module> at 0xd85440, file ""/home/frappe/frappe-bench/apps/frappe/frappe/utils/bench_helper.py"", line 1>
      run_globals = {'__name__': '__main__', '__doc__': None, '__package__': 'frappe.utils', '__loader__': <_frozen_importlib_external.SourceFileLoader object at 0x7f64e5453490>, '__spec__': ModuleSpec(name='frappe.utils.bench_helper', loader=<_frozen_importlib_external.SourceFileLoader object at 0x7f64e5453490>, origin='/home/frappe/frappe-bench/apps/frappe/frappe/utils/bench_helper.py'), '__annotations__': {}, '__builtins__': <module 'builtins' (built-in)>, '__file__': '/home/frappe/frappe-bench/apps/frappe/frappe/utils/bench_helper.py', '__cached__': '/home/frappe/frappe-bench/apps/frappe/frappe/utils/__pycache__/bench_helper.cpython-311.pyc', 'importlib': <module 'importlib' from '/usr/lib/python3.11/importlib/__init__.py'>, 'json': <module 'json' from '/usr/lib/python3.11/json/__init__.py'>, 'os': <module 'os' (frozen)>, 'traceback': <module 'traceback' from '/usr/lib/python3.11/traceback.py'>, 'warnings': <module 'warnings' from '/usr/lib/python3.11/warnings.py'>, 'Path': <class 'pathlib.Path'>, 'de...
      init_globals = None
      mod_name = '__main__'
      mod_spec = ModuleSpec(name='frappe.utils.bench_helper', loader=<_frozen_importlib_external.SourceFileLoader object at 0x7f64e5453490>, origin='/home/frappe/frappe-bench/apps/frappe/frappe/utils/bench_helper.py')
      pkg_name = 'frappe.utils'
      script_name = None
      loader = <_frozen_importlib_external.SourceFileLoader object at 0x7f64e5453490>
      fname = '/home/frappe/frappe-bench/apps/frappe/frappe/utils/bench_helper.py'
      cached = '/home/frappe/frappe-bench/apps/frappe/frappe/utils/__pycache__/bench_helper.cpython-311.pyc'
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/utils/bench_helper.py"", line 114, in <module>
    main()
      ...skipped... 27 vars
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/utils/bench_helper.py"", line 20, in main
    click.Group(commands=commands)(prog_name=""bench"")
      commands = {'frappe': <Group frappe>, 'get-frappe-commands': <Command get-frappe-commands>, 'get-frappe-help': <Command get-frappe-help>}
  File ""/home/frappe/frappe-bench/env/lib/python3.11/site-packages/click/core.py"", line 1157, in __call__
    return self.main(*args, **kwargs)
      self = <Group None>
      args = ()
      kwargs = {'prog_name': 'bench'}
  File ""/home/frappe/frappe-bench/env/lib/python3.11/site-packages/click/core.py"", line 1078, in main
    rv = self.invoke(ctx)
      self = <Group None>
      args = ['frappe', '--site', 'aptener.frappe.cloud', 'migrate', '--skip-search-index']
      prog_name = 'bench'
      complete_var = None
      standalone_mode = True
      windows_expand_args = True
      extra = {}
      ctx = <click.core.Context object at 0x7f64e3ff9a10>
  File ""/home/frappe/frappe-bench/env/lib/python3.11/site-packages/click/core.py"", line 1688, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
      self = <Group None>
      ctx = <click.core.Context object at 0x7f64e3ff9a10>
      _process_result = <function MultiCommand.invoke.<locals>._process_result at 0x7f64e4006980>
      args = ['migrate', '--skip-search-index']
      cmd_name = 'frappe'
      cmd = <Group frappe>
      sub_ctx = <click.core.Context object at 0x7f64e1373790>
      __class__ = <class 'click.core.MultiCommand'>
  File ""/home/frappe/frappe-bench/env/lib/python3.11/site-packages/click/core.py"", line 1688, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
      self = <Group frappe>
      ctx = <click.core.Context object at 0x7f64e1373790>
      _process_result = <function MultiCommand.invoke.<locals>._process_result at 0x7f64e1366840>
      args = []
      cmd_name = 'migrate'
      cmd = <Command migrate>
      sub_ctx = <click.core.Context object at 0x7f64e13760d0>
      __class__ = <class 'click.core.MultiCommand'>
  File ""/home/frappe/frappe-bench/env/lib/python3.11/site-packages/click/core.py"", line 1434, in invoke
    return ctx.invoke(self.callback, **ctx.params)
      self = <Command migrate>
      ctx = <click.core.Context object at 0x7f64e13760d0>
  File ""/home/frappe/frappe-bench/env/lib/python3.11/site-packages/click/core.py"", line 783, in invoke
    return __callback(*args, **kwargs)
      _Context__self = <click.core.Context object at 0x7f64e13760d0>
      _Context__callback = <function migrate at 0x7f64e4068cc0>
      args = ()
      kwargs = {'skip_search_index': True, 'skip_failing': False}
      ctx = <click.core.Context object at 0x7f64e13760d0>
  File ""/home/frappe/frappe-bench/env/lib/python3.11/site-packages/click/decorators.py"", line 33, in new_func
    return f(get_current_context(), *args, **kwargs)
      args = ()
      kwargs = {'skip_search_index': True, 'skip_failing': False}
      f = <function migrate at 0x7f64e4068c20>
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/commands/__init__.py"", line 29, in _func
    ret = f(frappe._dict(ctx.obj), *args, **kwargs)
      ctx = <click.core.Context object at 0x7f64e13760d0>
      args = ()
      kwargs = {'skip_search_index': True, 'skip_failing': False}
      profile = False
      f = <function migrate at 0x7f64e40689a0>
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/commands/site.py"", line 619, in migrate
    ).run(site=site)
      context = {'sites': ['aptener.frappe.cloud'], 'force': False, 'verbose': False, 'profile': False}
      skip_failing = False
      skip_search_index = True
      activate_by_import = <module 'traceback_with_variables.activate_by_import' from '/home/frappe/frappe-bench/env/lib/python3.11/site-packages/traceback_with_variables/activate_by_import.py'>
      SiteMigration = <class 'frappe.migrate.SiteMigration'>
      site = 'aptener.frappe.cloud'
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/migrate.py"", line 186, in run
    self.run_schema_updates()
      self = <frappe.migrate.SiteMigration object at 0x7f64de8e38d0>
      site = 'aptener.frappe.cloud'
      filelock = <function filelock at 0x7f64de1b0ae0>
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/migrate.py"", line 52, in wrapper
    raise e
      args = (<frappe.migrate.SiteMigration object at 0x7f64de8e38d0>,)
      kwargs = {}
      method = <function SiteMigration.run_schema_updates at 0x7f64de1b05e0>
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/migrate.py"", line 44, in wrapper
    ret = method(*args, **kwargs)
      args = (<frappe.migrate.SiteMigration object at 0x7f64de8e38d0>,)
      kwargs = {}
      method = <function SiteMigration.run_schema_updates at 0x7f64de1b05e0>
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/migrate.py"", line 121, in run_schema_updates
    frappe.modules.patch_handler.run_all(
      self = <frappe.migrate.SiteMigration object at 0x7f64de8e38d0>
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/modules/patch_handler.py"", line 76, in run_all
    run_patch(patch)
      skip_failing = False
      patch_type = <PatchType.post_model_sync: 'post_model_sync'>
      executed = {'erpnext.patches.v13_0.create_custom_field_for_finance_book', 'execute:frappe.delete_doc(""DocType"", ""Backup Manager"")', 'insights.patches.rename_target_column_field', 'erpnext.patches.v15_0.rename_daily_depreciation_to_depreciation_amount_based_on_num_days_in_month', 'erpnext.patches.v15_0.drop_index_posting_datetime_from_sle', 'erpnext.patches.v12_0.add_permission_in_lower_deduction', 'frappe.patches.v14_0.update_is_system_generated_flag', 'erpnext.patches.v13_0.update_dates_in_tax_withholding_category', 'erpnext.patches.v13_0.fetch_thumbnail_in_website_items', 'erpnext.patches.v12_0.set_permission_einvoicing', 'erpnext.patches.v14_0.update_total_asset_cost_field', 'execute:frappe.reload_doc(""HR"", ""doctype"", ""HR Settings"") #2020-01-16 #2020-07-24', 'execute:frappe.delete_doc(""Report"", ""Tax Detail"", force=True)', 'erpnext.patches.v12_0.update_is_cancelled_field', 'builder.builder.doctype.builder_page.patches.enable_auto_convert_to_webp_by_default', ""execute:frappe.delete_doc_if_exists...
      run_patch = <function run_all.<locals>.run_patch at 0x7f64de000180>
      patches = [""execute:frappe.get_doc('Role', 'Guest').save() # remove desk access"", 'frappe.core.doctype.role.patches.v13_set_default_desk_properties', 'frappe.patches.v14_0.update_workspace2 # 06.06.2023', 'frappe.patches.v14_0.drop_data_import_legacy', 'frappe.patches.v14_0.copy_mail_data #08.03.21', 'frappe.patches.v14_0.update_github_endpoints #08-11-2021', 'frappe.patches.v14_0.remove_db_aggregation', 'frappe.patches.v14_0.update_color_names_in_kanban_board_column', 'frappe.patches.v14_0.update_is_system_generated_flag', 'frappe.patches.v14_0.update_auto_account_deletion_duration', 'frappe.patches.v14_0.update_integration_request', 'frappe.patches.v14_0.set_document_expiry_default', 'frappe.patches.v14_0.delete_data_migration_tool', 'frappe.patches.v14_0.set_suspend_email_queue_default', 'frappe.patches.v14_0.different_encryption_key', 'frappe.patches.v14_0.update_multistep_webforms', ""execute:frappe.delete_doc('Page', 'background_jobs', ignore_missing=True, force=True)"", 'frappe.patches.v14_...
      patch = 'erpnext.patches.v14_0.update_reports_with_range'
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/modules/patch_handler.py"", line 62, in run_patch
    if not run_single(patchmodule=patch):
      patch = 'erpnext.patches.v14_0.update_reports_with_range'
      skip_failing = False
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/modules/patch_handler.py"", line 152, in run_single
    return execute_patch(patchmodule, method, methodargs)
      patchmodule = 'erpnext.patches.v14_0.update_reports_with_range'
      method = None
      methodargs = None
      force = False
      conf = <LocalProxy unbound>
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/modules/patch_handler.py"", line 188, in execute_patch
    _patch()
      patchmodule = 'erpnext.patches.v14_0.update_reports_with_range'
      method = None
      methodargs = None
      has_patch_file = True
      patch = 'erpnext.patches.v14_0.update_reports_with_range.execute'
      docstring = ''
      _patch = <function execute at 0x7f64dd6a3c40>
      start_time = 21338048.127994344
  File ""/home/frappe/frappe-bench/apps/erpnext/erpnext/patches/v14_0/update_reports_with_range.py"", line 16, in execute
    update_reference_reports(report)
      report = 'Accounts Receivable'
  File ""/home/frappe/frappe-bench/apps/erpnext/erpnext/patches/v14_0/update_reports_with_range.py"", line 25, in update_reference_reports
    update_report_json(report)
      reference_report = 'Accounts Receivable'
      reports = [{'json': '{""columns"":[{""label"":""Posting Date"",""fieldname"":""posting_date"",""fieldtype"":""Date"",""options"":null,""width"":90,""id"":""posting_date"",""name"":""Posting Date"",""editable"":false},{""label"":""Customer"",""fieldname"":""party"",""fieldtype"":""Link"",""options"":""Customer"",""width"":180,""id"":""party"",""name"":""Customer"",""editable"":false,""compareValue"":null},{""fieldname"":""customer_group_customer"",""field"":""customer_group"",""fieldtype"":""Link"",""label"":""Customer Group"",""insert_after_index"":1,""link_field"":""party"",""doctype"":""Customer"",""options"":""Customer Group"",""width"":100,""id"":""customer_group_customer"",""name"":""Customer Group"",""editable"":false,""compareValue"":null},{""label"":""Receivable Account"",""fieldname"":""party_account"",""fieldtype"":""Link"",""options"":""Account"",""width"":180,""id"":""party_account"",""name"":""Receivable Account"",""editable"":false,""compareValue"":null},{""label"":""Customer Contact"",""fieldname"":""customer_primary_contact"",""fieldtype"":""Link"",""options"":""Contact"",""width"":120,""id"":""customer_primary_contact"",""name"":""C...
      report = {'json': '{""columns"":[{""label"":""Posting Date"",""fieldname"":""posting_date"",""fieldtype"":""Date"",""options"":null,""width"":90,""id"":""posting_date"",""name"":""Posting Date"",""editable"":false},{""label"":""Customer"",""fieldname"":""party"",""fieldtype"":""Link"",""options"":""Customer"",""width"":180,""id"":""party"",""name"":""Customer"",""editable"":false,""compareValue"":null},{""fieldname"":""customer_group_customer"",""field"":""customer_group"",""fieldtype"":""Link"",""label"":""Customer Group"",""insert_after_index"":1,""link_field"":""party"",""doctype"":""Customer"",""options"":""Customer Group"",""width"":100,""id"":""customer_group_customer"",""name"":""Customer Group"",""editable"":false,""compareValue"":null},{""label"":""Receivable Account"",""fieldname"":""party_account"",""fieldtype"":""Link"",""options"":""Account"",""width"":180,""id"":""party_account"",""name"":""Receivable Account"",""editable"":false,""compareValue"":null},{""label"":""Customer Contact"",""fieldname"":""customer_primary_contact"",""fieldtype"":""Link"",""options"":""Contact"",""width"":120,""id"":""customer_primary_contact"",""name"":""Cu...
  File ""/home/frappe/frappe-bench/apps/erpnext/erpnext/patches/v14_0/update_reports_with_range.py"", line 33, in update_report_json
    keys_to_pop = [key for key in report_filter if key.startswith(""range"")]
      report = {'json': '{""columns"":[{""label"":""Posting Date"",""fieldname"":""posting_date"",""fieldtype"":""Date"",""options"":null,""width"":90,""id"":""posting_date"",""name"":""Posting Date"",""editable"":false},{""label"":""Customer"",""fieldname"":""party"",""fieldtype"":""Link"",""options"":""Customer"",""width"":180,""id"":""party"",""name"":""Customer"",""editable"":false,""compareValue"":null},{""fieldname"":""customer_group_customer"",""field"":""customer_group"",""fieldtype"":""Link"",""label"":""Customer Group"",""insert_after_index"":1,""link_field"":""party"",""doctype"":""Customer"",""options"":""Customer Group"",""width"":100,""id"":""customer_group_customer"",""name"":""Customer Group"",""editable"":false,""compareValue"":null},{""label"":""Receivable Account"",""fieldname"":""party_account"",""fieldtype"":""Link"",""options"":""Account"",""width"":180,""id"":""party_account"",""name"":""Receivable Account"",""editable"":false,""compareValue"":null},{""label"":""Customer Contact"",""fieldname"":""customer_primary_contact"",""fieldtype"":""Link"",""options"":""Contact"",""width"":120,""id"":""customer_primary_contact"",""name"":""Cu...
      report_json = {'columns': [{'label': 'Posting Date', 'fieldname': 'posting_date', 'fieldtype': 'Date', 'options': None, 'width': 90, 'id': 'posting_date', 'name': 'Posting Date', 'editable': False}, {'label': 'Customer', 'fieldname': 'party', 'fieldtype': 'Link', 'options': 'Customer', 'width': 180, 'id': 'party', 'name': 'Customer', 'editable': False, 'compareValue': None}, {'fieldname': 'customer_group_customer', 'field': 'customer_group', 'fieldtype': 'Link', 'label': 'Customer Group', 'insert_after_index': 1, 'link_field': 'party', 'doctype': 'Customer', 'options': 'Customer Group', 'width': 100, 'id': 'customer_group_customer', 'name': 'Customer Group', 'editable': False, 'compareValue': None}, {'label': 'Receivable Account', 'fieldname': 'party_account', 'fieldtype': 'Link', 'options': 'Account', 'width': 180, 'id': 'party_account', 'name': 'Receivable Account', 'editable': False, 'compareValue': None}, {'label': 'Customer Contact', 'fieldname': 'customer_primary_contact', 'fieldtype': 'Link',...
      report_filter = None
builtins.TypeError: 'NoneType' object is not iterable
```",ljain112,2024-09-13 12:04:28+00:00,['ruthra-kumar'],2024-10-03 00:11:51+00:00,2024-09-16 03:47:14+00:00,https://github.com/frappe/erpnext/pull/43212,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2524636570,pull_request,closed,, fix: get cost center allocation percentage only from the applicable allocation,"Issue:
sub cost center and percentage not fetching properly from Cost Center Allocation, when there are multiple allocation entries with different sets of sub cost centers
https://support.frappe.io/helpdesk/tickets/21870

Before:
https://github.com/user-attachments/assets/16f3a55b-4f4f-4e79-884c-a2e14ccca093

After:
https://github.com/user-attachments/assets/d275aca0-608b-4162-954c-6703ea2cf2e0

",venkat102,2024-09-13 11:46:10+00:00,[],2024-09-28 00:10:57+00:00,2024-09-13 12:05:45+00:00,https://github.com/frappe/erpnext/pull/43211,"[('accounts', '')]",[],
2524178459,pull_request,closed,,fix: updated filtering in depreciation and balances report,"This PR fixes the issue where depreciation was being calculated as a sum across all finance books, regardless of the applied finance book filter.",khushi8112,2024-09-13 08:12:36+00:00,[],2024-10-03 00:11:21+00:00,2024-09-17 20:25:50+00:00,https://github.com/frappe/erpnext/pull/43210,"[('backport version-15-hotfix', '')]",[],
2524154306,pull_request,closed,,fix: currency changing while making PO from Supplier Quotation (backport #43187) (backport #43205),"**Issue**

![po-currency-issue](https://github.com/user-attachments/assets/c75afd3a-64f9-40a8-a05d-0eca5fee05e8)



**After Fix**
![po-currency-after-fix](https://github.com/user-attachments/assets/47a11a1d-3eac-46f3-8ad4-f8af75fb9dc6)
<hr>This is an automatic backport of pull request #43187 done by [Mergify](https://mergify.com).<hr>This is an automatic backport of pull request #43205 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-13 08:01:46+00:00,[],2024-10-03 00:11:34+00:00,2024-09-17 04:58:43+00:00,https://github.com/frappe/erpnext/pull/43209,[],[],
2524138385,pull_request,closed,,fix: batch /serial no not copying from SO to DN for Packed Items,"**Issue**

1. Make Sales Order with product bundle having packing items as batched items
2. Select the batch for packing items and submit
3. Make delivery Note and save
4. The batch no field showing as blank
![delivery-note-batch-issue](https://github.com/user-attachments/assets/c47941cd-f298-4995-8627-e484d867ddbb)

**After Fix**



![delivery-note-batch-after-fix](https://github.com/user-attachments/assets/43f745fd-c633-4e4f-b196-0c6c143272f9)

",rohitwaghchaure,2024-09-13 07:55:09+00:00,[],2024-11-24 00:12:37+00:00,2024-11-09 17:51:02+00:00,https://github.com/frappe/erpnext/pull/43208,"[('inactive', ''), ('backport version-15-hotfix', '')]","[{'comment_id': 2394970212, 'issue_id': 2524138385, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 10, 5, 7, 52, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2442882555, 'issue_id': 2524138385, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 10, 28, 23, 47, 57, tzinfo=datetime.timezone.utc)}]","stale[bot] on (2024-10-05 07:52:15 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

stale[bot] on (2024-10-28 23:47:57 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

"
2523990809,pull_request,closed,,fix: item list view in website (backport #43165),"**Before**

<img width=""659"" alt=""Screenshot 2024-09-11 at 11 26 15 AM"" src=""https://github.com/user-attachments/assets/a5bac815-04da-48e0-a251-a5bc2d27543a"">


**After**

<img width=""462"" alt=""Screenshot 2024-09-11 at 11 46 16 AM"" src=""https://github.com/user-attachments/assets/0e370554-dd5d-4f3a-a227-d28b6cc88ec6"">
<hr>This is an automatic backport of pull request #43165 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-13 06:36:31+00:00,['rohitwaghchaure'],2024-09-28 00:11:00+00:00,2024-09-13 07:59:58+00:00,https://github.com/frappe/erpnext/pull/43207,[],[],
2523988388,pull_request,closed,,fix: batch based item price not working (backport #43172),<hr>This is an automatic backport of pull request #43172 done by [Mergify](https://mergify.com).,mergify[bot],2024-09-13 06:34:53+00:00,['rohitwaghchaure'],2024-09-28 00:10:59+00:00,2024-09-13 08:00:12+00:00,https://github.com/frappe/erpnext/pull/43206,"[('stock', None)]","[{'comment_id': 2348141563, 'issue_id': 2523988388, 'author': 'mergify[bot]', 'body': 'Cherry-pick of d9e4ed13cbbae7d318038554e486b67cf0b9ff7c has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-43172\nYour branch is up to date with \'origin/version-15-hotfix\'.\n\nYou are currently cherry-picking commit d9e4ed13cb.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nChanges to be committed:\n\tmodified:   erpnext/public/js/controllers/transaction.js\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/stock/get_item_details.py\n\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 9, 13, 6, 34, 55, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-09-13 06:34:55 UTC): Cherry-pick of d9e4ed13cbbae7d318038554e486b67cf0b9ff7c has failed:
```
On branch mergify/bp/version-15-hotfix/pr-43172
Your branch is up to date with 'origin/version-15-hotfix'.

You are currently cherry-picking commit d9e4ed13cb.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Changes to be committed:
	modified:   erpnext/public/js/controllers/transaction.js

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/stock/get_item_details.py

```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

"
2523988351,pull_request,closed,,fix: currency changing while making PO from Supplier Quotation (backport #43187),"**Issue**

![po-currency-issue](https://github.com/user-attachments/assets/c75afd3a-64f9-40a8-a05d-0eca5fee05e8)



**After Fix**
![po-currency-after-fix](https://github.com/user-attachments/assets/47a11a1d-3eac-46f3-8ad4-f8af75fb9dc6)
<hr>This is an automatic backport of pull request #43187 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-13 06:34:51+00:00,['rohitwaghchaure'],2024-09-28 00:10:58+00:00,2024-09-13 08:00:36+00:00,https://github.com/frappe/erpnext/pull/43205,[],"[{'comment_id': 2348290147, 'issue_id': 2523988351, 'author': 'rohitwaghchaure', 'body': '@mergify backport version-15', 'created_at': datetime.datetime(2024, 9, 13, 8, 0, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2348290373, 'issue_id': 2523988351, 'author': 'mergify[bot]', 'body': '> backport version-15\n\n#### ✅ Backports have been created\n\n<details>\n\n* [#43209 fix: currency changing while making PO from Supplier Quotation (backport #43187) (backport #43205)](https://github.com/frappe/erpnext/pull/43209) has been created for branch `version-15`\n\n</details>\n\n\n<!---\nDO NOT EDIT\n-*- Mergify Payload -*-\n{""command"": ""backport version-15"", ""conclusion"": ""success"", ""action_is_running"": true}\n-*- Mergify Payload End -*-\n-->', 'created_at': datetime.datetime(2024, 9, 13, 8, 0, 40, tzinfo=datetime.timezone.utc)}]","rohitwaghchaure (Assginee) on (2024-09-13 08:00:33 UTC): @mergify backport version-15

mergify[bot] (Issue Creator) on (2024-09-13 08:00:40 UTC): #### ✅ Backports have been created

<details>

* [#43209 fix: currency changing while making PO from Supplier Quotation (backport #43187) (backport #43205)](https://github.com/frappe/erpnext/pull/43209) has been created for branch `version-15`

</details>


<!---
DO NOT EDIT
-*- Mergify Payload -*-
{""command"": ""backport version-15"", ""conclusion"": ""success"", ""action_is_running"": true}
-*- Mergify Payload End -*-
-->

"
2523897713,pull_request,closed,,refactor(test): use test fixture on pricing rule test suite (backport #43192),<hr>This is an automatic backport of pull request #43192 done by [Mergify](https://mergify.com).,mergify[bot],2024-09-13 05:20:27+00:00,['ruthra-kumar'],2024-09-28 00:11:05+00:00,2024-09-13 05:52:13+00:00,https://github.com/frappe/erpnext/pull/43204,[],[],
2523897680,pull_request,closed,,refactor(test): use test fixture on pricing rule test suite (backport #43192),<hr>This is an automatic backport of pull request #43192 done by [Mergify](https://mergify.com).,mergify[bot],2024-09-13 05:20:25+00:00,['ruthra-kumar'],2024-10-03 00:11:08+00:00,2024-09-13 05:52:29+00:00,https://github.com/frappe/erpnext/pull/43203,"[('released', None)]","[{'comment_id': 2357718214, 'issue_id': 2523897680, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.74.1 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.74.1)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 9, 18, 7, 33, 4, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-09-18 07:33:04 UTC): :tada: This PR is included in version 14.74.1 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.74.1)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2523896480,pull_request,closed,,fix: delete exchange gain loss journal entry while deleting payment entry (backport #43191),"Issue: while deleting the payment entry in foreign currency if it has exchange gain loss journal entry against it. Its not getting deleted.
https://support.frappe.io/helpdesk/tickets/20300


Before:
https://github.com/user-attachments/assets/92a6e320-2764-4ed5-a714-4b9083cdf25e

After:
https://github.com/user-attachments/assets/ae065d99-c42c-4c7b-861c-6785015f4558

backport needed for v15<hr>This is an automatic backport of pull request #43191 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-13 05:19:13+00:00,[],2024-09-28 00:11:04+00:00,2024-09-13 05:52:46+00:00,https://github.com/frappe/erpnext/pull/43202,"[('accounts', '')]",[],
2523896460,pull_request,closed,,fix: delete exchange gain loss journal entry while deleting payment entry (backport #43191),"Issue: while deleting the payment entry in foreign currency if it has exchange gain loss journal entry against it. Its not getting deleted.
https://support.frappe.io/helpdesk/tickets/20300


Before:
https://github.com/user-attachments/assets/92a6e320-2764-4ed5-a714-4b9083cdf25e

After:
https://github.com/user-attachments/assets/ae065d99-c42c-4c7b-861c-6785015f4558

backport needed for v15<hr>This is an automatic backport of pull request #43191 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-13 05:19:11+00:00,[],2024-10-03 00:11:09+00:00,2024-09-13 05:52:56+00:00,https://github.com/frappe/erpnext/pull/43201,"[('accounts', ''), ('released', None)]","[{'comment_id': 2357718116, 'issue_id': 2523896460, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.74.1 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.74.1)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 9, 18, 7, 33, 1, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-09-18 07:33:01 UTC): :tada: This PR is included in version 14.74.1 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.74.1)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2523072539,pull_request,closed,,fix: generalize link formatter,"Some link fields have a special format: if an _Item Name_ (e.g. ""Apple"") field is found next to an _Item Code_ link field (e.g. ""123""), the link is formatted as ""123: Apple"".

However, this logic depended on hardcoded link fieldnames and was implemented three times with slight differences.

Now they all work the same way and the name of the link field is fetched dynamically from the df definition.

Depends on https://github.com/frappe/frappe/pull/27756",barredterra,2024-09-12 18:27:25+00:00,[],2024-10-17 00:10:56+00:00,2024-10-02 14:01:13+00:00,https://github.com/frappe/erpnext/pull/43199,"[('defer backport', '')]","[{'comment_id': 2381397293, 'issue_id': 2523072539, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 9, 29, 15, 23, 8, tzinfo=datetime.timezone.utc)}]","stale[bot] on (2024-09-29 15:23:08 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

"
2522519284,pull_request,closed,,feat: API for crm integration,"- Create custom fields for Deal
- Create customer and contacts
- Create Prospect

Depends on https://github.com/frappe/crm/pull/346

Docs: https://docs.frappe.io/crm/erpnext
>no-docs",nabinhait,2024-09-12 14:11:02+00:00,[],2024-10-05 00:11:01+00:00,2024-09-14 08:58:56+00:00,https://github.com/frappe/erpnext/pull/43198,"[('CRM', None), ('backport version-15-hotfix', '')]",[],
2522257928,pull_request,closed,,feat: multiple purchase invoice in asset repair doctype,"## Background/Context

1. In the “Asset Repair” doc type we can add only one single purchase invoice in a single record.
2. However, in real case repairs expenses incurred can be booked via multiple invoices.
3. Also, repairs services for an asset can be availed from more than one supplier. We are not able to select multiple invoices while making a repair entry.

## Solution Summary

1. Use child table to select multiple purchase invoices in the one asset repair (as shown in the below screenshot).
2. Auto calculate the repair cost on the basis of all the purchase invoice amount.
3. Remove the single purchase invoice standard field from the doctype.



![image](https://github.com/user-attachments/assets/8c9a6a69-8427-42a7-a3dd-af8ab3159021)
",rahulgupta8848,2024-09-12 12:26:44+00:00,[],2024-10-17 00:11:14+00:00,2024-10-01 08:29:22+00:00,https://github.com/frappe/erpnext/pull/43195,[],[],
2522196527,pull_request,closed,,fix: refine GLE deletion with against voucher check,"**Issue:**

- A user was unable to delete an asset record, even after enabling the 'Delete Accounting and Stock Ledger Entries on Deletion of Transaction' option.
- The error occurred because the asset was linked to the GL entry through the 'against voucher' field, with the voucher type being 'Journal Entry'.
- The deletion logic was only validating the 'voucher type' but did not account for the 'against voucher' field, leading to the error.

**Resolution:**

- Updated the deletion logic to also check the 'against voucher' field in addition to the 'voucher type'.

internal issue: [21449](https://support.frappe.io/helpdesk/tickets/21449)
",khushi8112,2024-09-12 11:58:54+00:00,[],2024-10-26 00:11:04+00:00,2024-10-10 19:52:21+00:00,https://github.com/frappe/erpnext/pull/43194,"[('accounts', ''), ('needs-tests', 'This PR needs automated unit-tests.'), ('inactive', ''), ('backport version-15-hotfix', '')]","[{'comment_id': 2394970231, 'issue_id': 2522196527, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 10, 5, 7, 52, 19, tzinfo=datetime.timezone.utc)}]","stale[bot] on (2024-10-05 07:52:19 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

"
2522111293,pull_request,closed,,refactor(test): use test fixture on pricing rule test suite,,ruthra-kumar,2024-09-12 11:19:18+00:00,[],2024-09-28 00:11:06+00:00,2024-09-13 05:18:10+00:00,https://github.com/frappe/erpnext/pull/43192,"[('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2521953168,pull_request,closed,,fix: delete exchange gain loss journal entry while deleting payment entry,"Issue: while deleting the payment entry in foreign currency if it has exchange gain loss journal entry against it. Its not getting deleted.
https://support.frappe.io/helpdesk/tickets/20300


Before:
https://github.com/user-attachments/assets/92a6e320-2764-4ed5-a714-4b9083cdf25e

After:
https://github.com/user-attachments/assets/ae065d99-c42c-4c7b-861c-6785015f4558

backport needed for v15",Navin-S-R,2024-09-12 10:10:23+00:00,['ruthra-kumar'],2024-09-28 00:11:07+00:00,2024-09-13 05:17:46+00:00,https://github.com/frappe/erpnext/pull/43191,"[('accounts', ''), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2521922462,pull_request,closed,,fix: broken apply on other item,"Fix below scenario from https://github.com/frappe/erpnext/issues/42195

|-|Apply On|Value|Apply Rule on Other | Value|
|-|-|-|-|-|
|1| Item Code| _Item 1_ | Item Code| _Item 2_|",ruthra-kumar,2024-09-12 09:56:57+00:00,[],2024-11-30 00:11:48+00:00,2024-11-14 07:53:19+00:00,https://github.com/frappe/erpnext/pull/43189,"[('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]","[{'comment_id': 2395001562, 'issue_id': 2521922462, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 10, 5, 9, 53, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2475597430, 'issue_id': 2521922462, 'author': 'ruthra-kumar', 'body': 'stashing\r\n``` python\r\n\tdef test_pricing_rule_discount_on_other_items_without_conditions(self):\r\n\t\titem = make_item(""Water Flask New"")\r\n\t\tother_item = make_item(""Other Water Flask New"")\r\n\t\tmake_item_price(item.name, ""_Test Price List"", 100)\r\n\t\tmake_item_price(other_item.name, ""_Test Price List"", 100)\r\n\r\n\t\tpricing_rule_record = {\r\n\t\t\t""doctype"": ""Pricing Rule"",\r\n\t\t\t""title"": ""_Test Water Flask Rule"",\r\n\t\t\t""apply_on"": ""Item Code"",\r\n\t\t\t""apply_rule_on_other"": ""Item Code"",\r\n\t\t\t""price_or_product_discount"": ""Price"",\r\n\t\t\t""rate_or_discount"": ""Discount Percentage"",\r\n\t\t\t""other_item_code"": other_item.name,\r\n\t\t\t""items"": [\r\n\t\t\t\t{\r\n\t\t\t\t\t""item_code"": item.name,\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t""selling"": 1,\r\n\t\t\t""currency"": ""INR"",\r\n\t\t\t""discount_percentage"": 10,\r\n\t\t\t""company"": ""_Test Company"",\r\n\t\t}\r\n\t\trule = frappe.get_doc(pricing_rule_record)\r\n\t\trule.insert()\r\n\r\n\t\tsi = create_sales_invoice(do_not_save=True, item_code=item.name)\r\n\t\tsi.append(\r\n\t\t\t""items"",\r\n\t\t\t{\r\n\t\t\t\t""item_code"": other_item.name,\r\n\t\t\t\t""item_name"": other_item.item_name,\r\n\t\t\t\t""description"": other_item.description,\r\n\t\t\t\t""stock_uom"": other_item.stock_uom,\r\n\t\t\t\t""uom"": other_item.stock_uom,\r\n\t\t\t\t""cost_center"": si.items[0].cost_center,\r\n\t\t\t\t""expense_account"": si.items[0].expense_account,\r\n\t\t\t\t""warehouse"": si.items[0].warehouse,\r\n\t\t\t\t""conversion_factor"": 1,\r\n\t\t\t\t""qty"": 1,\r\n\t\t\t},\r\n\t\t)\r\n\t\tsi.selling_price_list = ""_Test Price List""\r\n\t\tsi.save()\r\n\r\n\t\tself.assertEqual(si.items[0].discount_percentage, 0)\r\n\t\tself.assertEqual(si.items[0].discount_amount, 0)\r\n\t\tself.assertEqual(si.items[1].discount_percentage, 10)\r\n\t\tself.assertEqual(si.items[1].discount_amount, 10)\r\n```', 'created_at': datetime.datetime(2024, 11, 14, 7, 22, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2475600672, 'issue_id': 2521922462, 'author': 'ruthra-kumar', 'body': 'Server-side tests cannot be made for this', 'created_at': datetime.datetime(2024, 11, 14, 7, 24, 10, tzinfo=datetime.timezone.utc)}]","stale[bot] on (2024-10-05 09:53:35 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

ruthra-kumar (Issue Creator) on (2024-11-14 07:22:35 UTC): stashing
``` python
	def test_pricing_rule_discount_on_other_items_without_conditions(self):
		item = make_item(""Water Flask New"")
		other_item = make_item(""Other Water Flask New"")
		make_item_price(item.name, ""_Test Price List"", 100)
		make_item_price(other_item.name, ""_Test Price List"", 100)

		pricing_rule_record = {
			""doctype"": ""Pricing Rule"",
			""title"": ""_Test Water Flask Rule"",
			""apply_on"": ""Item Code"",
			""apply_rule_on_other"": ""Item Code"",
			""price_or_product_discount"": ""Price"",
			""rate_or_discount"": ""Discount Percentage"",
			""other_item_code"": other_item.name,
			""items"": [
				{
					""item_code"": item.name,
				}
			],
			""selling"": 1,
			""currency"": ""INR"",
			""discount_percentage"": 10,
			""company"": ""_Test Company"",
		}
		rule = frappe.get_doc(pricing_rule_record)
		rule.insert()

		si = create_sales_invoice(do_not_save=True, item_code=item.name)
		si.append(
			""items"",
			{
				""item_code"": other_item.name,
				""item_name"": other_item.item_name,
				""description"": other_item.description,
				""stock_uom"": other_item.stock_uom,
				""uom"": other_item.stock_uom,
				""cost_center"": si.items[0].cost_center,
				""expense_account"": si.items[0].expense_account,
				""warehouse"": si.items[0].warehouse,
				""conversion_factor"": 1,
				""qty"": 1,
			},
		)
		si.selling_price_list = ""_Test Price List""
		si.save()

		self.assertEqual(si.items[0].discount_percentage, 0)
		self.assertEqual(si.items[0].discount_amount, 0)
		self.assertEqual(si.items[1].discount_percentage, 10)
		self.assertEqual(si.items[1].discount_amount, 10)
```

ruthra-kumar (Issue Creator) on (2024-11-14 07:24:10 UTC): Server-side tests cannot be made for this

"
2521835782,pull_request,closed,,fix: invalid gp calculation,"Initially, `base_rate` was used for calculation but this is wrong if a different UOM other that `stock_uom` is used for the transaction.",rtdany10,2024-09-12 09:19:48+00:00,['ruthra-kumar'],2024-10-03 00:11:30+00:00,2024-09-17 06:32:13+00:00,https://github.com/frappe/erpnext/pull/43188,"[('selling', None), ('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]","[{'comment_id': 2346056117, 'issue_id': 2521835782, 'author': 'ljain112', 'body': 'Frappe Support Issue: https://support.frappe.io/app/hd-ticket/21974', 'created_at': datetime.datetime(2024, 9, 12, 11, 39, 22, tzinfo=datetime.timezone.utc)}]","ljain112 on (2024-09-12 11:39:22 UTC): Frappe Support Issue: https://support.frappe.io/app/hd-ticket/21974

"
2521540343,pull_request,closed,,fix: currency changing while making PO from Supplier Quotation,"**Issue**

![po-currency-issue](https://github.com/user-attachments/assets/c75afd3a-64f9-40a8-a05d-0eca5fee05e8)



**After Fix**
![po-currency-after-fix](https://github.com/user-attachments/assets/47a11a1d-3eac-46f3-8ad4-f8af75fb9dc6)
",rohitwaghchaure,2024-09-12 07:09:08+00:00,[],2024-09-28 00:11:03+00:00,2024-09-13 06:33:13+00:00,https://github.com/frappe/erpnext/pull/43187,"[('backport version-15-hotfix', '')]",[],
2521475113,pull_request,closed,,fix: set `party_type` null when `payment_type` is changed to `Internal Transfer` (backport #43171),"Issue while creating Payment Entry for Internal Transfer:

![image](https://github.com/user-attachments/assets/214752ff-75ae-435b-a694-e8f460460da3)

When the **Payment Type** is changed from **Pay** to **Internal Transfer**, the previously set **Party Type** is not set to null.

Video showing steps to replicate the issue:

https://github.com/user-attachments/assets/d865a29d-048c-4378-b4bf-6a93859079e8



<hr>This is an automatic backport of pull request #43171 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-12 06:32:51+00:00,[],2024-09-27 00:11:17+00:00,2024-09-12 06:33:28+00:00,https://github.com/frappe/erpnext/pull/43186,[],[],
2521438636,pull_request,closed,,feat: validating asset scrap date (backport #43093),"## Background/Context

1. When we select Asset Scrapping, the system by default takes the current date and scraps the asset as on the date
2. In case the company wants to scrap their asset with backdated effect, then that cannot be achieved in the present system as there is no option to select the scrap date anywhere.
3. Also, there is no restriction on scrapping the asset even if depreciation entries are posted

## Solution Summary

1. If a user wants to scrap an asset, then the system will ask for a scrapping date (as shown in the below screenshot).
2. According to the date entered by the user, the asset will be scrapped on that date with back dated effect.
4. The scrapping date cannot be before the purchase date or it cannot be after the current date. Also, If the depreciation entries are passed, asset can only be scrap after the last depreciation date and not before it. In such cases depreciation entry needs to be manually cancelled first and then scrapping can be possible.


![image](https://github.com/user-attachments/assets/dbcbf069-1eba-4082-86f8-b40ed0a5bcfd)

#no-docs<hr>This is an automatic backport of pull request #43093 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-12 06:09:34+00:00,[],2024-12-03 00:13:28+00:00,2024-11-17 08:14:06+00:00,https://github.com/frappe/erpnext/pull/43185,"[('inactive', ''), ('conflicts', None)]","[{'comment_id': 2345351839, 'issue_id': 2521438636, 'author': 'mergify[bot]', 'body': 'Cherry-pick of e07bc5af413ca951df78fa3583e0fbe3935b2e42 has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-43093\nYour branch is up to date with \'origin/version-15-hotfix\'.\n\nYou are currently cherry-picking commit e07bc5af41.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nChanges to be committed:\n\tmodified:   erpnext/assets/doctype/asset/depreciation.py\n\tmodified:   erpnext/assets/doctype/asset/test_asset.py\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/assets/doctype/asset/asset.js\n\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 9, 12, 6, 9, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2381397303, 'issue_id': 2521438636, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 9, 29, 15, 23, 9, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-09-12 06:09:36 UTC): Cherry-pick of e07bc5af413ca951df78fa3583e0fbe3935b2e42 has failed:
```
On branch mergify/bp/version-15-hotfix/pr-43093
Your branch is up to date with 'origin/version-15-hotfix'.

You are currently cherry-picking commit e07bc5af41.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Changes to be committed:
	modified:   erpnext/assets/doctype/asset/depreciation.py
	modified:   erpnext/assets/doctype/asset/test_asset.py

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/assets/doctype/asset/asset.js

```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

stale[bot] on (2024-09-29 15:23:09 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

"
2521407585,pull_request,closed,,fix: typo with po_date when creating remarks (backport #43182),regression from: https://github.com/frappe/erpnext/pull/42753<hr>This is an automatic backport of pull request #43182 done by [Mergify](https://mergify.com).,mergify[bot],2024-09-12 05:47:43+00:00,[],2024-09-27 00:11:19+00:00,2024-09-12 06:09:39+00:00,https://github.com/frappe/erpnext/pull/43184,[],[],
2521404146,pull_request,closed,,fix: typo with po_date when creating remarks (backport #43182),regression from: https://github.com/frappe/erpnext/pull/42753<hr>This is an automatic backport of pull request #43182 done by [Mergify](https://mergify.com).,mergify[bot],2024-09-12 05:45:05+00:00,['vorasmit'],2024-09-27 00:11:21+00:00,2024-09-12 06:00:53+00:00,https://github.com/frappe/erpnext/pull/43183,[],[],
2521359405,pull_request,closed,,fix: typo with po_date when creating remarks,regression from: https://github.com/frappe/erpnext/pull/42753,vorasmit,2024-09-12 05:09:06+00:00,[],2024-09-27 00:11:22+00:00,2024-09-12 05:43:31+00:00,https://github.com/frappe/erpnext/pull/43182,"[('backport version-15-hotfix', '')]","[{'comment_id': 2345324252, 'issue_id': 2521359405, 'author': 'ruthra-kumar', 'body': '@mergify backport version-15', 'created_at': datetime.datetime(2024, 9, 12, 5, 46, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2345324394, 'issue_id': 2521359405, 'author': 'mergify[bot]', 'body': '> backport version-15\n\n#### ✅ Backports have been created\n\n<details>\n\n* [#43184 fix: typo with po_date when creating remarks (backport #43182)](https://github.com/frappe/erpnext/pull/43184) has been created for branch `version-15`\n\n</details>\n\n\n<!---\nDO NOT EDIT\n-*- Mergify Payload -*-\n{""command"": ""backport version-15"", ""conclusion"": ""success"", ""action_is_running"": true}\n-*- Mergify Payload End -*-\n-->', 'created_at': datetime.datetime(2024, 9, 12, 5, 46, 55, tzinfo=datetime.timezone.utc)}]","ruthra-kumar on (2024-09-12 05:46:48 UTC): @mergify backport version-15

mergify[bot] on (2024-09-12 05:46:55 UTC): #### ✅ Backports have been created

<details>

* [#43184 fix: typo with po_date when creating remarks (backport #43182)](https://github.com/frappe/erpnext/pull/43184) has been created for branch `version-15`

</details>


<!---
DO NOT EDIT
-*- Mergify Payload -*-
{""command"": ""backport version-15"", ""conclusion"": ""success"", ""action_is_running"": true}
-*- Mergify Payload End -*-
-->

"
2520865877,pull_request,closed,,chore: exempt draft prs from stale bot,"Hope this is fine with the general policy!

Closing draft PRs is really nasty and it's not a rare thing that a draft PR may simmer for months, for example to conduct extensive testing, etc.

Closing draft PR deters proper open source workflows.
",blaggacao,2024-09-11 22:01:23+00:00,[],2024-09-28 00:10:55+00:00,2024-09-13 15:48:21+00:00,https://github.com/frappe/erpnext/pull/43181,[],"[{'comment_id': 2349230882, 'issue_id': 2520865877, 'author': 'blaggacao', 'body': 'merging as it is now also part of frappe:\r\n- https://github.com/frappe/frappe/pull/27742', 'created_at': datetime.datetime(2024, 9, 13, 15, 31, 12, tzinfo=datetime.timezone.utc)}]","blaggacao (Issue Creator) on (2024-09-13 15:31:12 UTC): merging as it is now also part of frappe:
- https://github.com/frappe/frappe/pull/27742

"
2520730355,pull_request,closed,,fix: Call super onload_post_render inside pos_invoice.js,"super.onload_post_render() was not being called from pos_invoice.js.

It causes mistakes, for example, add multiples button was not showing.

![pr-screenshot1](https://github.com/user-attachments/assets/47dcd13c-87e5-44a8-a0e6-701eada5810d)
",devdiogenes,2024-09-11 20:44:11+00:00,['ruthra-kumar'],2024-11-05 00:11:26+00:00,2024-10-18 05:11:07+00:00,https://github.com/frappe/erpnext/pull/43180,"[('backport version-15-hotfix', '')]","[{'comment_id': 2381397318, 'issue_id': 2520730355, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 9, 29, 15, 23, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2388534834, 'issue_id': 2520730355, 'author': 'devdiogenes', 'body': ""@ruthra-kumar Could you please check this? It's a very simple fixing"", 'created_at': datetime.datetime(2024, 10, 2, 12, 36, 10, tzinfo=datetime.timezone.utc)}]","stale[bot] on (2024-09-29 15:23:11 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

devdiogenes (Issue Creator) on (2024-10-02 12:36:10 UTC): @ruthra-kumar Could you please check this? It's a very simple fixing

"
2520124989,pull_request,closed,,fix(SI): Fix typo in remarks date,,cogk,2024-09-11 15:52:39+00:00,[],2024-10-03 00:11:25+00:00,2024-09-17 04:59:37+00:00,https://github.com/frappe/erpnext/pull/43178,"[('needs-tests', 'This PR needs automated unit-tests.')]","[{'comment_id': 2354519990, 'issue_id': 2520124989, 'author': 'ruthra-kumar', 'body': 'This had been fixed in https://github.com/frappe/erpnext/pull/43182', 'created_at': datetime.datetime(2024, 9, 17, 4, 59, 37, tzinfo=datetime.timezone.utc)}]","ruthra-kumar on (2024-09-17 04:59:37 UTC): This had been fixed in https://github.com/frappe/erpnext/pull/43182

"
2520016196,pull_request,closed,,chore: add no-stale label,"<!--

Some key notes before you open a PR:

 1. Select which branch should this PR be merged in?
 2. PR name follows [convention](http://karma-runner.github.io/4.0/dev/git-commit-msg.html)
 3. All tests pass locally, UI and Unit tests
 4. All business logic and validations must be on the server-side
 5. Update necessary Documentation
 6. Put `closes #XXXX` in your comment to auto-close the issue that your PR fixes


Also, if you're new here

- Documentation Guidelines => https://github.com/frappe/erpnext/wiki/Updating-Documentation

- Contribution Guide => https://github.com/frappe/erpnext/blob/develop/.github/CONTRIBUTING.md

- Pull Request Checklist => https://github.com/frappe/erpnext/wiki/Pull-Request-Checklist

-->

> Please provide enough information so that others can review your pull request:

<!-- You can skip this if you're fixing a typo or updating existing documentation -->

> Explain the **details** for making this change. What existing problem does the pull request solve?

<!-- Example: When ""Adding a function to do X"", explain why it is necessary to have a way to do X. -->

> Screenshots/GIFs

<!-- Add images/recordings to better visualize the change: expected/current behviour -->
",blaggacao,2024-09-11 15:06:40+00:00,[],2024-09-26 00:10:49+00:00,2024-09-11 15:24:34+00:00,https://github.com/frappe/erpnext/pull/43177,[],[],
2519757271,pull_request,closed,,fix: hide and reset discount control on new POS order,"Issue: In POS the additional discount label is not getting removed in the new order.

Steps to Replicate:
- Create an order with a discount.
-  Complete the order and make a new order.
- When we make a new order, the system shows that an additional discount is applied. It should not display the message that the discount is not getting applied. The new order discount % must be reset.

![image](https://github.com/user-attachments/assets/f9bbcdcf-18e8-445d-ab9b-8a5935f16405)
![image](https://github.com/user-attachments/assets/2344ee93-4653-44a9-a539-fea45a0834c3)

",ljain112,2024-09-11 13:28:36+00:00,[],2024-10-03 00:11:45+00:00,2024-09-16 14:23:04+00:00,https://github.com/frappe/erpnext/pull/43176,"[('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2519638796,pull_request,closed,, fix: delete exchange gain loss journal entry while deleting payment entry,"Issue: while deleting the payment entry in foreign currency if it has exchange gain loss journal entry against it. Its not getting deleted.
https://support.frappe.io/helpdesk/tickets/20300

Before:
[exchange_gain_loss_jv_issue.webm](https://github.com/user-attachments/assets/d73b61e1-2324-4247-92fd-c37a144ba51b)

After:
[exchange_gain_loss_jv_fix.webm](https://github.com/user-attachments/assets/141df8de-2882-4c27-94bf-3fa351a01832)

backport needed for v15



",Navin-S-R,2024-09-11 12:39:51+00:00,['ruthra-kumar'],2024-09-27 00:11:16+00:00,2024-09-12 10:09:56+00:00,https://github.com/frappe/erpnext/pull/43175,"[('accounts', '')]","[{'comment_id': 2345630668, 'issue_id': 2519638796, 'author': 'ruthra-kumar', 'body': '@Navin-S-R \r\n\r\nLinter is failing https://github.com/frappe/erpnext/actions/runs/10811828118/job/30031562996?pr=43175 \r\nLooks like pre-commit hooks, especially ruff, is not running. Follow [this guide](https://github.com/frappe/erpnext/wiki/Pull-Request-Checklist#linting) to setup pre-commit hooks on your local setup.', 'created_at': datetime.datetime(2024, 9, 12, 8, 34, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2345834008, 'issue_id': 2519638796, 'author': 'Navin-S-R', 'body': 'Closing this PR to update formatting changes. Opened another PR #43191', 'created_at': datetime.datetime(2024, 9, 12, 10, 9, 56, tzinfo=datetime.timezone.utc)}]","ruthra-kumar (Assginee) on (2024-09-12 08:34:55 UTC): @Navin-S-R 

Linter is failing https://github.com/frappe/erpnext/actions/runs/10811828118/job/30031562996?pr=43175 
Looks like pre-commit hooks, especially ruff, is not running. Follow [this guide](https://github.com/frappe/erpnext/wiki/Pull-Request-Checklist#linting) to setup pre-commit hooks on your local setup.

Navin-S-R (Issue Creator) on (2024-09-12 10:09:56 UTC): Closing this PR to update formatting changes. Opened another PR #43191

"
2519626363,pull_request,closed,,fix: incorrect cost_center in ar/ap,"If there is a journal entry with the same accounts but a different cost centre Accounts Receivable shows an incorrect cost center.

Support Issue: https://support.frappe.io/app/hd-ticket/21671
 ",ljain112,2024-09-11 12:34:12+00:00,['ruthra-kumar'],2024-12-03 00:13:30+00:00,2024-11-17 08:14:04+00:00,https://github.com/frappe/erpnext/pull/43174,"[('needs-tests', 'This PR needs automated unit-tests.'), ('inactive', '')]","[{'comment_id': 2354537835, 'issue_id': 2519626363, 'author': 'ruthra-kumar', 'body': ""@ljain112 \r\nLet's not add cost_center to the `key` variable. Accounting Dimension is not a mandatory field to link Invoices with Payments."", 'created_at': datetime.datetime(2024, 9, 17, 5, 12, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2394970234, 'issue_id': 2519626363, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 10, 5, 7, 52, 20, tzinfo=datetime.timezone.utc)}]","ruthra-kumar (Assginee) on (2024-09-17 05:12:53 UTC): @ljain112 
Let's not add cost_center to the `key` variable. Accounting Dimension is not a mandatory field to link Invoices with Payments.

stale[bot] on (2024-10-05 07:52:20 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

"
2519098954,pull_request,closed,,fix: batch based item price not working,,rohitwaghchaure,2024-09-11 09:06:27+00:00,[],2024-09-28 00:11:02+00:00,2024-09-13 06:33:36+00:00,https://github.com/frappe/erpnext/pull/43172,"[('stock', None), ('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2519013224,pull_request,closed,,fix: set `party_type` null when `payment_type` is changed to `Internal Transfer`,"Issue while creating Payment Entry for Internal Transfer:

![image](https://github.com/user-attachments/assets/214752ff-75ae-435b-a694-e8f460460da3)

When the **Payment Type** is changed from **Pay** to **Internal Transfer**, the previously set **Party Type** is not set to null.

Video showing steps to replicate the issue:

https://github.com/user-attachments/assets/d865a29d-048c-4378-b4bf-6a93859079e8



",vishakhdesai,2024-09-11 08:37:35+00:00,[],2024-09-27 00:11:18+00:00,2024-09-12 06:31:32+00:00,https://github.com/frappe/erpnext/pull/43171,"[('accounts', ''), ('backport version-15-hotfix', '')]",[],
2518895466,pull_request,closed,,refactor: enable no-copy on Purchase Invoice status (copy #43169),<hr>This is an automatic copy of pull request #43169 done by [Mergify](https://mergify.com).,mergify[bot],2024-09-11 07:57:01+00:00,[],2024-10-03 00:11:07+00:00,2024-09-11 08:50:39+00:00,https://github.com/frappe/erpnext/pull/43170,"[('released', None)]","[{'comment_id': 2357718292, 'issue_id': 2518895466, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.74.1 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.74.1)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 9, 18, 7, 33, 7, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-09-18 07:33:07 UTC): :tada: This PR is included in version 14.74.1 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.74.1)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2518830712,pull_request,closed,,refactor: enable no-copy on Purchase Invoice status,,ruthra-kumar,2024-09-11 07:34:39+00:00,[],2024-09-26 00:10:50+00:00,2024-09-11 07:55:33+00:00,https://github.com/frappe/erpnext/pull/43169,[],"[{'comment_id': 2342882150, 'issue_id': 2518830712, 'author': 'ruthra-kumar', 'body': '@mergify copy version-14-hotfix', 'created_at': datetime.datetime(2024, 9, 11, 7, 34, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2342882770, 'issue_id': 2518830712, 'author': 'mergify[bot]', 'body': '> copy version-14-hotfix\n\n#### ✅ Pull request copies have been created\n\n<details>\n\n* [#43170 refactor: enable no-copy on Purchase Invoice status (copy #43169)](https://github.com/frappe/erpnext/pull/43170) has been created for branch `version-14-hotfix`\n\n</details>\n\n\n<!---\nDO NOT EDIT\n-*- Mergify Payload -*-\n{""command"": ""copy version-14-hotfix"", ""conclusion"": ""success"", ""action_is_running"": true}\n-*- Mergify Payload End -*-\n-->', 'created_at': datetime.datetime(2024, 9, 11, 7, 35, 16, tzinfo=datetime.timezone.utc)}]","ruthra-kumar (Issue Creator) on (2024-09-11 07:34:55 UTC): @mergify copy version-14-hotfix

mergify[bot] on (2024-09-11 07:35:16 UTC): #### ✅ Pull request copies have been created

<details>

* [#43170 refactor: enable no-copy on Purchase Invoice status (copy #43169)](https://github.com/frappe/erpnext/pull/43170) has been created for branch `version-14-hotfix`

</details>


<!---
DO NOT EDIT
-*- Mergify Payload -*-
{""command"": ""copy version-14-hotfix"", ""conclusion"": ""success"", ""action_is_running"": true}
-*- Mergify Payload End -*-
-->

"
2518630463,pull_request,closed,,fix: item list view in website,"**Before**

<img width=""659"" alt=""Screenshot 2024-09-11 at 11 26 15 AM"" src=""https://github.com/user-attachments/assets/a5bac815-04da-48e0-a251-a5bc2d27543a"">


**After**

<img width=""462"" alt=""Screenshot 2024-09-11 at 11 46 16 AM"" src=""https://github.com/user-attachments/assets/0e370554-dd5d-4f3a-a227-d28b6cc88ec6"">
",rohitwaghchaure,2024-09-11 06:19:33+00:00,[],2024-09-28 00:11:01+00:00,2024-09-13 06:33:57+00:00,https://github.com/frappe/erpnext/pull/43165,"[('backport version-15-hotfix', '')]",[],
2517600878,pull_request,closed,,fix(Dunning): logic for fetching text,"### Before

(a). If the `language` parameter is provided, return the text for this language. If this doesn't exist, return `None`.
(b.) If the `language` parameter is not provided, return the text marked as _Is Default Language_. If this doesn't exist, return `None`.

### After

1. If the `language` parameter is provided, return the text for this language.
2. If `doc.language` exists, return the text for this language.
3. If a text marked as _Is Default Language_ exists, return this one.
4. Return an empty dict (-> uniform return type)

### How to test

1. Create a **Dunning Type**
    - add texts for different languages, enable _Is Default Language_ for one of them
3. Create overdue **Sales Invoices** for customers with different languages
5. Click on ""Create"" -> ""Dunning"" in each **Sales Invoice**",barredterra,2024-09-10 19:53:21+00:00,[],2024-10-17 00:10:55+00:00,2024-10-02 14:02:08+00:00,https://github.com/frappe/erpnext/pull/43160,"[('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2516442690,pull_request,closed,,perf: timeout error (backport #43154),"**Before Fix**

<img width=""895"" alt=""Screenshot 2024-09-10 at 3 39 37 PM"" src=""https://github.com/user-attachments/assets/66883fa3-7a38-4d7c-8f0e-d1075583d931"">


**After Fix**

<img width=""907"" alt=""Screenshot 2024-09-10 at 5 03 28 PM"" src=""https://github.com/user-attachments/assets/d292bdf6-db35-49b0-96ed-eba021f2b6fe"">
<hr>This is an automatic backport of pull request #43154 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-10 13:13:18+00:00,['rohitwaghchaure'],2024-09-25 00:11:00+00:00,2024-09-10 17:36:38+00:00,https://github.com/frappe/erpnext/pull/43158,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2516440282,pull_request,closed,,fix: bom cost update is not working (backport #43155),"Sometimes status remain ""In Progress"" for the BOM Update Log to update the cost in all BOMs and due to which users are not able to make new BOM Update Log record to update latest cost in all BOMs.

**Solution**

The system will wait for one day to complete the job, and if it is not completed within that time, the system will allow a new log to be made to update the latest cost in all BOMs.<hr>This is an automatic backport of pull request #43155 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-10 13:12:20+00:00,['rohitwaghchaure'],2024-09-25 00:10:59+00:00,2024-09-10 17:37:07+00:00,https://github.com/frappe/erpnext/pull/43157,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2516439215,pull_request,closed,,fix: bom cost update is not working (backport #43155),"Sometimes status remain ""In Progress"" for the BOM Update Log to update the cost in all BOMs and due to which users are not able to make new BOM Update Log record to update latest cost in all BOMs.

**Solution**

The system will wait for one day to complete the job, and if it is not completed within that time, the system will allow a new log to be made to update the latest cost in all BOMs.<hr>This is an automatic backport of pull request #43155 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-10 13:12:08+00:00,['rohitwaghchaure'],2024-09-26 00:11:03+00:00,2024-09-10 17:37:52+00:00,https://github.com/frappe/erpnext/pull/43156,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2342637754, 'issue_id': 2516439215, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.74.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.74.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 9, 11, 5, 11, 31, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-09-11 05:11:31 UTC): :tada: This PR is included in version 14.74.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.74.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2516285553,pull_request,closed,,fix: bom cost update is not working,"Sometimes status remain ""In Progress"" for the BOM Update Log to update the cost in all BOMs and due to which users are not able to make new BOM Update Log record to update latest cost in all BOMs.

**Solution**

The system will wait for one day to complete the job, and if it is not completed within that time, the system will allow a new log to be made to update the latest cost in all BOMs.",rohitwaghchaure,2024-09-10 12:17:52+00:00,[],2024-09-25 00:11:02+00:00,2024-09-10 13:11:10+00:00,https://github.com/frappe/erpnext/pull/43155,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2516205747,pull_request,closed,,perf: timeout error,"**Before Fix**

<img width=""895"" alt=""Screenshot 2024-09-10 at 3 39 37 PM"" src=""https://github.com/user-attachments/assets/66883fa3-7a38-4d7c-8f0e-d1075583d931"">


**After Fix**

<img width=""907"" alt=""Screenshot 2024-09-10 at 5 03 28 PM"" src=""https://github.com/user-attachments/assets/d292bdf6-db35-49b0-96ed-eba021f2b6fe"">
",rohitwaghchaure,2024-09-10 11:42:58+00:00,[],2024-09-25 00:11:01+00:00,2024-09-10 13:11:46+00:00,https://github.com/frappe/erpnext/pull/43154,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2515941667,pull_request,closed,,fix: concurrency issue while picking materials (backport #43087),<hr>This is an automatic backport of pull request #43087 done by [Mergify](https://mergify.com).,mergify[bot],2024-09-10 09:42:11+00:00,['rohitwaghchaure'],2024-09-25 00:11:03+00:00,2024-09-10 11:31:53+00:00,https://github.com/frappe/erpnext/pull/43152,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2515923734,pull_request,closed,,chore: release v15,Automated weekly release.,frappe-pr-bot,2024-09-10 09:34:50+00:00,[],2024-09-26 00:11:05+00:00,2024-09-11 05:10:36+00:00,https://github.com/frappe/erpnext/pull/43151,"[('accounts', ''), ('stock', None)]",[],
2515923569,pull_request,closed,,chore: release v14,Automated weekly release.,frappe-pr-bot,2024-09-10 09:34:46+00:00,[],2024-09-26 00:11:04+00:00,2024-09-11 05:09:50+00:00,https://github.com/frappe/erpnext/pull/43150,"[('accounts', ''), ('stock', None), ('released', None)]","[{'comment_id': 2342637704, 'issue_id': 2515923569, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.74.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.74.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 9, 11, 5, 11, 28, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot (Issue Creator) on (2024-09-11 05:11:28 UTC): :tada: This PR is included in version 14.74.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.74.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2515885193,pull_request,closed,,fix: permission error on Payment Request creation by Guest (backport #43146),fixes: https://github.com/frappe/erpnext/issues/42934<hr>This is an automatic backport of pull request #43146 done by [Mergify](https://mergify.com).,mergify[bot],2024-09-10 09:18:26+00:00,['ruthra-kumar'],2024-09-25 00:11:05+00:00,2024-09-10 10:30:00+00:00,https://github.com/frappe/erpnext/pull/43149,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2515859546,pull_request,closed,,feat: utility report for identifying invalid ledger entries (backport #43144),"On rare cases, where a cancelled document like Sales Invoice, Journal or Payment Entry has failed to cancel is associated ledger entries, your normal Trial Balance report and AR / AP report will start to differ. On such, cases, it is very hard to identify the cause. This report is to serve the purpose of quickly identifying such invalid entries.

This is very simple report with filters for Company, Date range and account.
Report will fetch all active ledger entries based on the filter and check if the vouchers associated with those entries are cancelled. If so, it will be reported.

`no-docs`<hr>This is an automatic backport of pull request #43144 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-10 09:07:23+00:00,['ruthra-kumar'],2024-09-25 00:11:08+00:00,2024-09-10 09:25:03+00:00,https://github.com/frappe/erpnext/pull/43148,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2515856941,pull_request,closed,,feat: utility report for identifying invalid ledger entries (backport #43144),"On rare cases, where a cancelled document like Sales Invoice, Journal or Payment Entry has failed to cancel is associated ledger entries, your normal Trial Balance report and AR / AP report will start to differ. On such, cases, it is very hard to identify the cause. This report is to serve the purpose of quickly identifying such invalid entries.

This is very simple report with filters for Company, Date range and account.
Report will fetch all active ledger entries based on the filter and check if the vouchers associated with those entries are cancelled. If so, it will be reported.

`no-docs`<hr>This is an automatic backport of pull request #43144 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-10 09:06:17+00:00,['ruthra-kumar'],2024-09-26 00:11:02+00:00,2024-09-10 10:30:10+00:00,https://github.com/frappe/erpnext/pull/43147,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2342637802, 'issue_id': 2515856941, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.74.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.74.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 9, 11, 5, 11, 34, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-09-11 05:11:34 UTC): :tada: This PR is included in version 14.74.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.74.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2515843246,pull_request,closed,,fix: permission error on Payment Request creation by Guest,fixes: https://github.com/frappe/erpnext/issues/42934,ruthra-kumar,2024-09-10 09:00:32+00:00,[],2024-09-25 00:11:09+00:00,2024-09-10 09:17:25+00:00,https://github.com/frappe/erpnext/pull/43146,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2515651612,pull_request,closed,,feat: utility report for identifying invalid ledger entries,"On rare cases, where a cancelled document like Sales Invoice, Journal or Payment Entry has failed to cancel it's associated ledger entries, your normal Trial Balance report and AR / AP report will start to differ. On such cases, it is very hard to identify the cause. This report is to serve the purpose of quickly identifying such invalid entries.

This is very simple report with filters for Company, Date range and account.
Report will fetch all active ledger entries based on the filter and check if the vouchers associated with those entries are cancelled. If so, it will be reported.

`no-docs`",ruthra-kumar,2024-09-10 07:37:15+00:00,[],2024-10-03 00:11:23+00:00,2024-09-10 09:05:12+00:00,https://github.com/frappe/erpnext/pull/43144,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2515144784,pull_request,closed,,feat: Payment reconciliation on accounts module workspace (backport #25925),"Makes payment reconciliation more accessible by default. 
closes #25788 

![image](https://user-images.githubusercontent.com/29856401/120583376-18316f80-c3fc-11eb-831a-d97646e85ab7.png)

`no-docs`<hr>This is an automatic backport of pull request #25925 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-10 00:13:14+00:00,['dj12djdjs'],2024-09-25 00:11:04+00:00,2024-09-10 10:31:07+00:00,https://github.com/frappe/erpnext/pull/43142,"[('conflicts', None)]","[{'comment_id': 2339367953, 'issue_id': 2515144784, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 072151e16d6c0003d71c9a889ac8f00c10a7869c has failed:\n```\nOn branch mergify/bp/version-13-hotfix/pr-25925\nYour branch is up to date with \'origin/version-13-hotfix\'.\n\nYou are currently cherry-picking commit 072151e16d.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/accounts/workspace/accounting/accounting.json\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 9, 10, 0, 13, 15, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-09-10 00:13:15 UTC): Cherry-pick of 072151e16d6c0003d71c9a889ac8f00c10a7869c has failed:
```
On branch mergify/bp/version-13-hotfix/pr-25925
Your branch is up to date with 'origin/version-13-hotfix'.

You are currently cherry-picking commit 072151e16d.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/accounts/workspace/accounting/accounting.json

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

"
2514674812,pull_request,closed,,fix: sync translations from crowdin,,frappe-pr-bot,2024-09-09 18:49:33+00:00,[],2024-09-27 00:11:15+00:00,2024-09-12 19:36:32+00:00,https://github.com/frappe/erpnext/pull/43141,"[('translation', None)]",[],
2514460165,pull_request,closed,,fix: primary action button not showing (backport #43114),"**Primary Action Button Hidden After Redirect:**
- Problem: When creating an asset capitalization from , the primary action (submit) button remained hidden after redirecting to the new capitalization form.

**Company Not Passed From Asset to Asset Capitalization**

<hr>This is an automatic backport of pull request #43114 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-09 17:00:03+00:00,['khushi8112'],2024-09-25 00:11:06+00:00,2024-09-10 10:15:09+00:00,https://github.com/frappe/erpnext/pull/43140,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2513557576,pull_request,closed,,fix: incorrect actual cost in Procurement Tracker report (backport #43109),"**Issue**
<img width=""1272"" alt=""Screenshot 2024-09-08 at 8 32 57 AM"" src=""https://github.com/user-attachments/assets/1ed7d057-e67b-41cc-92b5-292c3a36c91a"">


**After Fix**
<img width=""1239"" alt=""Screenshot 2024-09-08 at 8 32 41 AM"" src=""https://github.com/user-attachments/assets/88eb1ad7-c5a5-4c6d-bd55-ea825a8abd25"">
<hr>This is an automatic backport of pull request #43109 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-09 10:25:08+00:00,['rohitwaghchaure'],2024-09-24 00:11:07+00:00,2024-09-09 15:04:56+00:00,https://github.com/frappe/erpnext/pull/43138,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2513557512,pull_request,closed,,fix: incorrect actual cost in Procurement Tracker report (backport #43109),"**Issue**
<img width=""1272"" alt=""Screenshot 2024-09-08 at 8 32 57 AM"" src=""https://github.com/user-attachments/assets/1ed7d057-e67b-41cc-92b5-292c3a36c91a"">


**After Fix**
<img width=""1239"" alt=""Screenshot 2024-09-08 at 8 32 41 AM"" src=""https://github.com/user-attachments/assets/88eb1ad7-c5a5-4c6d-bd55-ea825a8abd25"">
<hr>This is an automatic backport of pull request #43109 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-09 10:25:06+00:00,['rohitwaghchaure'],2024-09-26 00:11:00+00:00,2024-09-09 15:05:14+00:00,https://github.com/frappe/erpnext/pull/43137,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2342637901, 'issue_id': 2513557512, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.74.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.74.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 9, 11, 5, 11, 40, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-09-11 05:11:40 UTC): :tada: This PR is included in version 14.74.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.74.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2513505379,pull_request,closed,,fix: return type of `get_party_details` (backport #43131),"`get_party_details` should always return a `frappe._dict`, otherwise it's prone to errors.<hr>This is an automatic backport of pull request #43131 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-09 10:01:45+00:00,['barredterra'],2024-09-26 00:11:01+00:00,2024-09-09 17:26:21+00:00,https://github.com/frappe/erpnext/pull/43135,"[('accounts', ''), ('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2342637846, 'issue_id': 2513505379, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.74.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.74.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 9, 11, 5, 11, 37, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-09-11 05:11:37 UTC): :tada: This PR is included in version 14.74.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.74.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2513505302,pull_request,closed,,fix: return type of `get_party_details` (backport #43131),"`get_party_details` should always return a `frappe._dict`, otherwise it's prone to errors.<hr>This is an automatic backport of pull request #43131 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-09 10:01:43+00:00,['barredterra'],2024-09-24 00:11:04+00:00,2024-09-09 17:26:38+00:00,https://github.com/frappe/erpnext/pull/43134,"[('accounts', ''), ('needs-tests', 'This PR needs automated unit-tests.')]",[],
2513490733,pull_request,closed,,Version 14,"<!--

Some key notes before you open a PR:

 1. Select which branch should this PR be merged in?
 2. PR name follows [convention](http://karma-runner.github.io/4.0/dev/git-commit-msg.html)
 3. All tests pass locally, UI and Unit tests
 4. All business logic and validations must be on the server-side
 5. Update necessary Documentation
 6. Put `closes #XXXX` in your comment to auto-close the issue that your PR fixes


Also, if you're new here

- Documentation Guidelines => https://github.com/frappe/erpnext/wiki/Updating-Documentation

- Contribution Guide => https://github.com/frappe/erpnext/blob/develop/.github/CONTRIBUTING.md

- Pull Request Checklist => https://github.com/frappe/erpnext/wiki/Pull-Request-Checklist

-->

> Please provide enough information so that others can review your pull request:

<!-- You can skip this if you're fixing a typo or updating existing documentation -->

> Explain the **details** for making this change. What existing problem does the pull request solve?

<!-- Example: When ""Adding a function to do X"", explain why it is necessary to have a way to do X. -->

> Screenshots/GIFs

<!-- Add images/recordings to better visualize the change: expected/current behviour -->
",yelsoft16,2024-09-09 09:55:19+00:00,[],2024-09-24 00:11:10+00:00,2024-09-09 09:55:54+00:00,https://github.com/frappe/erpnext/pull/43133,"[('needs-tests', 'This PR needs automated unit-tests.')]","[{'comment_id': 2337666071, 'issue_id': 2513490733, 'author': 'mergify[bot]', 'body': 'This pull request has been automatically closed by Mergify.', 'created_at': datetime.datetime(2024, 9, 9, 9, 55, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2337666109, 'issue_id': 2513490733, 'author': 'mergify[bot]', 'body': '@yelsoft16, thanks for the contribution, but we do not accept pull requests on a stable branch. Please raise PR on an appropriate hotfix branch.\nhttps://github.com/frappe/erpnext/wiki/Pull-Request-Checklist#which-branch', 'created_at': datetime.datetime(2024, 9, 9, 9, 55, 55, tzinfo=datetime.timezone.utc)}]","mergify[bot] on (2024-09-09 09:55:55 UTC): This pull request has been automatically closed by Mergify.

mergify[bot] on (2024-09-09 09:55:55 UTC): @yelsoft16, thanks for the contribution, but we do not accept pull requests on a stable branch. Please raise PR on an appropriate hotfix branch.
https://github.com/frappe/erpnext/wiki/Pull-Request-Checklist#which-branch

"
2513475790,pull_request,closed,,fix(Opening Invoice Creation Tool): translatability of messages (backport #43056),<hr>This is an automatic backport of pull request #43056 done by [Mergify](https://mergify.com).,mergify[bot],2024-09-09 09:48:36+00:00,['barredterra'],2024-09-24 00:11:08+00:00,2024-09-09 11:24:08+00:00,https://github.com/frappe/erpnext/pull/43132,[],[],
2513464400,pull_request,closed,,fix: return type of `get_party_details`,"`get_party_details` should always return a `frappe._dict`, otherwise it's prone to errors.",barredterra,2024-09-09 09:43:41+00:00,[],2024-09-24 00:11:05+00:00,2024-09-09 10:00:49+00:00,https://github.com/frappe/erpnext/pull/43131,"[('accounts', ''), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2513398728,pull_request,closed,,fix(Delivery Note): translatability of validation errors (backport #42801),"The fields were previously mentioned as untranslated field names. Now we show translated field titles.

The structure of def `validate_sales_order_references` and `validate_sales_invoice_references` was very similar, just a different title for the modal and different field names. So I put the common structure into a separate method.<hr>This is an automatic backport of pull request #42801 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-09 09:14:27+00:00,['barredterra'],2024-09-24 00:11:12+00:00,2024-09-09 09:45:45+00:00,https://github.com/frappe/erpnext/pull/43129,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2513397834,pull_request,closed,,fix(Delivery Note): translatability of validation errors (backport #42801),"The fields were previously mentioned as untranslated field names. Now we show translated field titles.

The structure of def `validate_sales_order_references` and `validate_sales_invoice_references` was very similar, just a different title for the modal and different field names. So I put the common structure into a separate method.<hr>This is an automatic backport of pull request #42801 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-09 09:14:03+00:00,['barredterra'],2024-09-26 00:10:59+00:00,2024-09-09 09:45:36+00:00,https://github.com/frappe/erpnext/pull/43128,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2342637968, 'issue_id': 2513397834, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.74.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.74.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 9, 11, 5, 11, 43, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-09-11 05:11:43 UTC): :tada: This PR is included in version 14.74.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.74.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2513366969,pull_request,closed,,fix: unreconcile allocation child table redirect url voucher no issue (backport #43051),"**Summery**
Once reconciled payment entry against invoice then redirection fails to redirect respective voucher type.

**Reference video**
**Before**
[Screencast from 04-09-24 05:11:47 PM IST.webm](https://github.com/user-attachments/assets/e813d52e-9447-47d4-81dd-d16cb935878b)
**After**
[Screencast from 04-09-24 05:13:47 PM IST.webm](https://github.com/user-attachments/assets/1352a66c-72f5-4638-b7e1-50e616fc4ff7)
<hr>This is an automatic backport of pull request #43051 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-09 09:00:45+00:00,[],2024-09-24 00:11:15+00:00,2024-09-09 09:08:17+00:00,https://github.com/frappe/erpnext/pull/43127,[],[],
2513366299,pull_request,closed,,fix: unreconcile allocation child table redirect url voucher no issue (backport #43051),"**Summery**
Once reconciled payment entry against invoice then redirection fails to redirect respective voucher type.

**Reference video**
**Before**
[Screencast from 04-09-24 05:11:47 PM IST.webm](https://github.com/user-attachments/assets/e813d52e-9447-47d4-81dd-d16cb935878b)
**After**
[Screencast from 04-09-24 05:13:47 PM IST.webm](https://github.com/user-attachments/assets/1352a66c-72f5-4638-b7e1-50e616fc4ff7)
<hr>This is an automatic backport of pull request #43051 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-09 09:00:28+00:00,[],2024-09-26 00:10:58+00:00,2024-09-09 09:04:12+00:00,https://github.com/frappe/erpnext/pull/43126,"[('released', None)]","[{'comment_id': 2342638036, 'issue_id': 2513366299, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.74.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.74.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 9, 11, 5, 11, 46, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-09-11 05:11:46 UTC): :tada: This PR is included in version 14.74.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.74.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2513318331,pull_request,closed,,fix: validate the item code when updating the other item's price rule (backport #43064),"Issue: 
When creating a sales invoice for many items with the same pricing rule, adding another item with the same pricing rule changes the rate of the remaining items.
https://support.frappe.io/helpdesk/tickets/20888

Fix: added filter condition to update only the same item code.

Video reference:

[Issue](https://github.com/user-attachments/assets/8ad663d2-35aa-4fcc-ab55-0c967b596ac5)

[After Fix](https://github.com/user-attachments/assets/d4c1c4b1-fb04-44ee-a252-003a22b72918)
<hr>This is an automatic backport of pull request #43064 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-09 08:44:06+00:00,[],2024-09-24 00:11:18+00:00,2024-09-09 08:46:50+00:00,https://github.com/frappe/erpnext/pull/43125,[],[],
2513274958,pull_request,closed,,fix: set today in 'On This Date' in Available Batch Report (backport #43121),"version 15

fixes: #43113

- The default date of available batch reports is one month before Today(). Fixed it to show default as today.<hr>This is an automatic backport of pull request #43121 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-09 08:27:25+00:00,['Nihantra-Patel'],2024-09-26 00:10:57+00:00,2024-09-09 08:44:26+00:00,https://github.com/frappe/erpnext/pull/43124,"[('released', None)]","[{'comment_id': 2342638091, 'issue_id': 2513274958, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.74.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.74.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 9, 11, 5, 11, 49, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-09-11 05:11:49 UTC): :tada: This PR is included in version 14.74.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.74.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2513273706,pull_request,closed,,fix: set today in 'On This Date' in Available Batch Report (backport #43121),"version 15

fixes: #43113

- The default date of available batch reports is one month before Today(). Fixed it to show default as today.<hr>This is an automatic backport of pull request #43121 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-09 08:26:48+00:00,['Nihantra-Patel'],2024-09-24 00:11:20+00:00,2024-09-09 08:44:19+00:00,https://github.com/frappe/erpnext/pull/43123,[],[],
2513053407,pull_request,closed,,feat: added revaluation surplus and impairment acc in standard charts… (backport #43022),"Added Revaluation Surplus and Impairment acccount in standard charts of accounts

#no-docs<hr>This is an automatic backport of pull request #43022 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-09 06:43:03+00:00,[],2024-09-24 00:11:17+00:00,2024-09-09 08:49:34+00:00,https://github.com/frappe/erpnext/pull/43122,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2512986036,pull_request,closed,,fix: set today in 'On This Date' in Available Batch Report,"version 15

fixes: #43113

- The default date of available batch reports is one month before Today(). Fixed it to show default as today.",Nihantra-Patel,2024-09-09 06:00:42+00:00,[],2024-09-24 00:11:22+00:00,2024-09-09 08:25:37+00:00,https://github.com/frappe/erpnext/pull/43121,"[('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2512915871,pull_request,closed,,fix: check multi-currency on jv for common party accounting with foreign currency (backport #43095),"Issue:
When creating an invoice for the common party in foreign currency, it throws a multicurrency error while creating advance jv.
https://support.frappe.io/helpdesk/tickets/20825

Solution:
Enabling multi-currency check box based on account currency, while creating advance jv


![Screenshot from 2024-09-05 17-15-31](https://github.com/user-attachments/assets/c91fcc78-6e4f-44ba-91d7-24e7888686f6)

![image](https://github.com/user-attachments/assets/86cabd2d-d993-43f8-b12b-14a0bd33003a)
<hr>This is an automatic backport of pull request #43095 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-09 05:06:42+00:00,[],2024-09-24 00:11:24+00:00,2024-09-09 05:47:43+00:00,https://github.com/frappe/erpnext/pull/43120,"[('accounts', '')]","[{'comment_id': 2337130485, 'issue_id': 2512915871, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 740a04a70437422dac2b824d058b264026228b79 has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-43095\nYour branch is ahead of \'origin/version-15-hotfix\' by 1 commit.\n  (use ""git push"" to publish your local commits)\n\nYou are currently cherry-picking commit 740a04a704.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/accounts/doctype/sales_invoice/test_sales_invoice.py\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nCherry-pick of ee94fb37c81a28e89aa2175b933d231a5a6601f7 has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-43095\nYour branch is ahead of \'origin/version-15-hotfix\' by 3 commits.\n  (use ""git push"" to publish your local commits)\n\nYou are currently cherry-picking commit ee94fb37c8.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/accounts/doctype/sales_invoice/test_sales_invoice.py\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 9, 9, 5, 6, 43, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-09-09 05:06:43 UTC): Cherry-pick of 740a04a70437422dac2b824d058b264026228b79 has failed:
```
On branch mergify/bp/version-15-hotfix/pr-43095
Your branch is ahead of 'origin/version-15-hotfix' by 1 commit.
  (use ""git push"" to publish your local commits)

You are currently cherry-picking commit 740a04a704.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/accounts/doctype/sales_invoice/test_sales_invoice.py

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


Cherry-pick of ee94fb37c81a28e89aa2175b933d231a5a6601f7 has failed:
```
On branch mergify/bp/version-15-hotfix/pr-43095
Your branch is ahead of 'origin/version-15-hotfix' by 3 commits.
  (use ""git push"" to publish your local commits)

You are currently cherry-picking commit ee94fb37c8.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/accounts/doctype/sales_invoice/test_sales_invoice.py

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

"
2512915525,pull_request,closed,,fix: check multi-currency on jv for common party accounting with foreign currency (backport #43095),"Issue:
When creating an invoice for the common party in foreign currency, it throws a multicurrency error while creating advance jv.
https://support.frappe.io/helpdesk/tickets/20825

Solution:
Enabling multi-currency check box based on account currency, while creating advance jv


![Screenshot from 2024-09-05 17-15-31](https://github.com/user-attachments/assets/c91fcc78-6e4f-44ba-91d7-24e7888686f6)

![image](https://github.com/user-attachments/assets/86cabd2d-d993-43f8-b12b-14a0bd33003a)
<hr>This is an automatic backport of pull request #43095 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-09 05:06:24+00:00,[],2024-09-26 00:10:56+00:00,2024-09-09 05:54:00+00:00,https://github.com/frappe/erpnext/pull/43119,"[('accounts', ''), ('released', None)]","[{'comment_id': 2337130172, 'issue_id': 2512915525, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 740a04a70437422dac2b824d058b264026228b79 has failed:\n```\nOn branch mergify/bp/version-14-hotfix/pr-43095\nYour branch is ahead of \'origin/version-14-hotfix\' by 1 commit.\n  (use ""git push"" to publish your local commits)\n\nYou are currently cherry-picking commit 740a04a704.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/accounts/doctype/sales_invoice/test_sales_invoice.py\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 9, 9, 5, 6, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2342638139, 'issue_id': 2512915525, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.74.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.74.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 9, 11, 5, 11, 52, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-09-09 05:06:25 UTC): Cherry-pick of 740a04a70437422dac2b824d058b264026228b79 has failed:
```
On branch mergify/bp/version-14-hotfix/pr-43095
Your branch is ahead of 'origin/version-14-hotfix' by 1 commit.
  (use ""git push"" to publish your local commits)

You are currently cherry-picking commit 740a04a704.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/accounts/doctype/sales_invoice/test_sales_invoice.py

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

frappe-pr-bot on (2024-09-11 05:11:52 UTC): :tada: This PR is included in version 14.74.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.74.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2512818041,pull_request,closed,,fix: Cannot read properties of null (reading 'doc') (backport #43071),<hr>This is an automatic backport of pull request #43071 done by [Mergify](https://mergify.com).,mergify[bot],2024-09-09 03:31:07+00:00,['rohitwaghchaure'],2024-09-24 00:11:26+00:00,2024-09-09 04:26:29+00:00,https://github.com/frappe/erpnext/pull/43118,[],[],
2512730126,pull_request,closed,,fix: multiple fixes related to remarks for GL Report (backport #42753),"## Multiple fixes related to Remarks in General Ledger

- Remarks is optional column disabled by default

### Before

![image](https://github.com/user-attachments/assets/373a345d-8573-42d2-8072-d8ceae68d5be)


### After

![image](https://github.com/user-attachments/assets/db64beeb-f4a4-47c9-a31b-a03d5fceb6b9)
---

- Show one of Remarks or Supplier Invoice Number to reduce redundancy
- Create remarks even without date (patchable).
- Update remarks on Submit. This will ensure that all available information before submit is used to add remarks.<hr>This is an automatic backport of pull request #42753 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-09 01:54:44+00:00,['vorasmit'],2024-09-24 00:11:28+00:00,2024-09-09 02:30:45+00:00,https://github.com/frappe/erpnext/pull/43117,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2512720898,pull_request,closed,,fix: ensure `SellingController.onload` gets called for SO & DN (backport #42816),"New `onload` logic was introduced for SO & DN, which _overrided_ the logic in `SellingController` instead of extending it.<hr>This is an automatic backport of pull request #42816 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-09 01:44:22+00:00,['sagarvora'],2024-09-24 00:11:29+00:00,2024-09-09 02:30:34+00:00,https://github.com/frappe/erpnext/pull/43116,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2512696221,pull_request,closed,,refactor: age range in one field (backport #42736),"Refactored age range input from four fields to a single comma-separated field

**Before : Four Age range Fields**
![image](https://github.com/user-attachments/assets/610e69ac-43aa-4ed2-b591-63401597e965)


**After : One Age range field**
![image](https://github.com/user-attachments/assets/5f234d7e-e32b-45d1-a2c3-0deb656e3ba5)

<hr>This is an automatic backport of pull request #42736 done by [Mergify](https://mergify.com).",mergify[bot],2024-09-09 01:20:15+00:00,['vorasmit'],2024-09-24 00:11:31+00:00,2024-09-09 01:44:18+00:00,https://github.com/frappe/erpnext/pull/43115,[],[],
2512502964,pull_request,closed,,fix: primary action button not showing,"**Primary Action Button Hidden After Redirect:**
- Problem: When creating an asset capitalization from , the primary action (submit) button remained hidden after redirecting to the new capitalization form.

**Company Not Passed From Asset to Asset Capitalization**

",khushi8112,2024-09-08 17:59:05+00:00,[],2024-09-24 00:11:06+00:00,2024-09-09 16:58:40+00:00,https://github.com/frappe/erpnext/pull/43114,"[('backport version-15-hotfix', '')]",[],
2512290310,pull_request,closed,,chore: update POT file,,frappe-pr-bot,2024-09-08 09:35:08+00:00,[],2024-10-20 00:12:10+00:00,2024-10-05 12:40:26+00:00,https://github.com/frappe/erpnext/pull/43110,"[('inactive', '')]","[{'comment_id': 2395001633, 'issue_id': 2512290310, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 10, 5, 9, 53, 50, tzinfo=datetime.timezone.utc)}]","stale[bot] on (2024-10-05 09:53:50 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

"
2512171036,pull_request,closed,,fix: incorrect actual cost in Procurement Tracker report,"**Issue**
<img width=""1272"" alt=""Screenshot 2024-09-08 at 8 32 57 AM"" src=""https://github.com/user-attachments/assets/1ed7d057-e67b-41cc-92b5-292c3a36c91a"">


**After Fix**
<img width=""1239"" alt=""Screenshot 2024-09-08 at 8 32 41 AM"" src=""https://github.com/user-attachments/assets/88eb1ad7-c5a5-4c6d-bd55-ea825a8abd25"">
",rohitwaghchaure,2024-09-08 03:05:19+00:00,[],2024-09-24 00:11:09+00:00,2024-09-09 10:23:42+00:00,https://github.com/frappe/erpnext/pull/43109,"[('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2511617559,pull_request,closed,,fix: incorrect qty after transaction in SLE (backport #43103) (backport #43104),<hr>This is an automatic backport of pull request #43103 done by [Mergify](https://mergify.com).<hr>This is an automatic backport of pull request #43104 done by [Mergify](https://mergify.com).,mergify[bot],2024-09-07 12:05:31+00:00,[],2024-09-24 00:11:38+00:00,2024-09-07 12:38:46+00:00,https://github.com/frappe/erpnext/pull/43108,"[('stock', None), ('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2335175246, 'issue_id': 2511617559, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.73.2 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.73.2)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 9, 7, 12, 40, 16, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-09-07 12:40:16 UTC): :tada: This PR is included in version 14.73.2 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.73.2)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2511617128,pull_request,closed,,fix: incorrect qty after transaction in SLE (backport #43103) (backport #43105),<hr>This is an automatic backport of pull request #43103 done by [Mergify](https://mergify.com).<hr>This is an automatic backport of pull request #43105 done by [Mergify](https://mergify.com).,mergify[bot],2024-09-07 12:04:23+00:00,[],2024-09-24 00:11:39+00:00,2024-09-07 12:39:17+00:00,https://github.com/frappe/erpnext/pull/43107,"[('stock', None), ('needs-tests', 'This PR needs automated unit-tests.')]",[],
2511599098,pull_request,closed,,fix: incorrect qty after transaction in SLE (backport #43103),<hr>This is an automatic backport of pull request #43103 done by [Mergify](https://mergify.com).,mergify[bot],2024-09-07 11:10:21+00:00,['rohitwaghchaure'],2024-09-24 00:11:40+00:00,2024-09-07 12:02:43+00:00,https://github.com/frappe/erpnext/pull/43105,"[('stock', None), ('needs-tests', 'This PR needs automated unit-tests.')]","[{'comment_id': 2335165751, 'issue_id': 2511599098, 'author': 'rohitwaghchaure', 'body': '@Mergify backport version-15', 'created_at': datetime.datetime(2024, 9, 7, 12, 3, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2335165794, 'issue_id': 2511599098, 'author': 'mergify[bot]', 'body': '> backport version-15\n\n#### ✅ Backports have been created\n\n<details>\n\n* [#43107 fix: incorrect qty after transaction in SLE (backport #43103) (backport #43105)](https://github.com/frappe/erpnext/pull/43107) has been created for branch `version-15`\n\n</details>\n\n\n<!---\nDO NOT EDIT\n-*- Mergify Payload -*-\n{""command"": ""backport version-15"", ""conclusion"": ""success"", ""action_is_running"": true}\n-*- Mergify Payload End -*-\n-->', 'created_at': datetime.datetime(2024, 9, 7, 12, 3, 18, tzinfo=datetime.timezone.utc)}]","rohitwaghchaure (Assginee) on (2024-09-07 12:03:05 UTC): @Mergify backport version-15

mergify[bot] (Issue Creator) on (2024-09-07 12:03:18 UTC): #### ✅ Backports have been created

<details>

* [#43107 fix: incorrect qty after transaction in SLE (backport #43103) (backport #43105)](https://github.com/frappe/erpnext/pull/43107) has been created for branch `version-15`

</details>


<!---
DO NOT EDIT
-*- Mergify Payload -*-
{""command"": ""backport version-15"", ""conclusion"": ""success"", ""action_is_running"": true}
-*- Mergify Payload End -*-
-->

"
