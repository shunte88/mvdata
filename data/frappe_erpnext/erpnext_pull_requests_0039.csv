id,type,state,state_reason,title,body,author,created_at,assignees,updated_at,closed_at,url,labels,comments_list,comment_thread
2213108241,pull_request,closed,,fix: sales / purchase return validation issue (backport #40741),"While making the sales return entry against the delivery note, if the item has batches then system throws the below error on changing of the qty.

<img width=""785"" alt=""Screenshot 2024-03-28 at 1 03 54 PM"" src=""https://github.com/frappe/erpnext/assets/8780500/3ad08262-7890-42d5-a5b4-e79dadfc311d"">
<hr>This is an automatic backport of pull request #40741 done by [Mergify](https://mergify.com).",mergify[bot],2024-03-28 12:24:49+00:00,['rohitwaghchaure'],2024-04-22 00:11:04+00:00,2024-03-28 12:40:42+00:00,https://github.com/frappe/erpnext/pull/40746,"[('released', None)]","[{'comment_id': 2026678532, 'issue_id': 2213108241, 'author': 'rohitwaghchaure', 'body': '@Mergifyio backport version-15', 'created_at': datetime.datetime(2024, 3, 29, 5, 27, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2026678639, 'issue_id': 2213108241, 'author': 'mergify[bot]', 'body': '> backport version-15\n\n#### ✅ Backports have been created\n\n<details>\n\n* [#40759 fix: sales / purchase return validation issue (backport #40741) (backport #40746)](https://github.com/frappe/erpnext/pull/40759) has been created for branch `version-15`\n\n</details>\n\n\n<!---\nDO NOT EDIT\n-*- Mergify Payload -*-\n{""command"": ""backport version-15"", ""conclusion"": ""success"", ""action_is_running"": true}\n-*- Mergify Payload End -*-\n-->', 'created_at': datetime.datetime(2024, 3, 29, 5, 28, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2034200280, 'issue_id': 2213108241, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.19.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.19.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 4, 3, 10, 34, 5, tzinfo=datetime.timezone.utc)}]","rohitwaghchaure (Assginee) on (2024-03-29 05:27:54 UTC): @Mergifyio backport version-15

mergify[bot] (Issue Creator) on (2024-03-29 05:28:01 UTC): #### ✅ Backports have been created

<details>

* [#40759 fix: sales / purchase return validation issue (backport #40741) (backport #40746)](https://github.com/frappe/erpnext/pull/40759) has been created for branch `version-15`

</details>


<!---
DO NOT EDIT
-*- Mergify Payload -*-
{""command"": ""backport version-15"", ""conclusion"": ""success"", ""action_is_running"": true}
-*- Mergify Payload End -*-
-->

frappe-pr-bot on (2024-04-03 10:34:05 UTC): :tada: This PR is included in version 15.19.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.19.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2213076424,pull_request,closed,,refactor: use sql to clear comments (backport #40739),Use sql to clear Comments related to Deleted Transactions<hr>This is an automatic backport of pull request #40739 done by [Mergify](https://mergify.com).,mergify[bot],2024-03-28 12:12:21+00:00,['ruthra-kumar'],2024-04-22 00:11:02+00:00,2024-03-28 12:27:14+00:00,https://github.com/frappe/erpnext/pull/40745,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2034200560, 'issue_id': 2213076424, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.19.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.19.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 4, 3, 10, 34, 11, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-04-03 10:34:11 UTC): :tada: This PR is included in version 15.19.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.19.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2213076254,pull_request,closed,,refactor: use sql to clear comments (backport #40739),Use sql to clear Comments related to Deleted Transactions<hr>This is an automatic backport of pull request #40739 done by [Mergify](https://mergify.com).,mergify[bot],2024-03-28 12:12:17+00:00,['ruthra-kumar'],2024-04-22 00:11:22+00:00,2024-03-28 14:12:03+00:00,https://github.com/frappe/erpnext/pull/40744,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2034198802, 'issue_id': 2213076254, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.66.3 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.66.3)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 4, 3, 10, 33, 21, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-04-03 10:33:21 UTC): :tada: This PR is included in version 14.66.3 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.66.3)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2212960846,pull_request,closed,,perf: Moved  `Authorization Control` Controller Logic To Utilities,"**Moved `Authorization Control` controller logic to utilities**

**Problem:**
- `Authorization Control` was a DocType with no fields.
- It was inheriting from `TransactionBase`, but there was no use of it.

**Solution:**
- Removed the DocType `Authorization Control`.
- Removed inheritance and class.
- Imported the function in usage files:
  ```py
  from erpnext.utilities.authorization_control import validate_approving_authority
  ```
- Used the function instead of `get_doc(""Authorization Control"")`:
  ```diff
  - frappe.get_doc(""Authorization Control"").validate_approving_authority()
  + validate_approving_authority()
  ```
- Patch:
  ```py
  execute: frappe.delete_doc_if_exists(""DocType"", ""Authorization Control"")
  ```

**Performance Improvements:**

#### Quotation Submission
(Local cache disabled to replicate server scenario)

##### Before

```py
In [5]: %timeit d.on_submit()
953 µs ± 146 µs per loop (mean ± std. dev. of 7 runs, 1,000 loops each)
```

##### After (73% better)

```py
In [4]: %timeit d.on_submit()
252 µs ± 5.89 µs per loop (mean ± std. dev. of 7 runs, 1,000 loops each)
```


- No extra DB call to get doc values during transaction submission
- No overhead of DocType meta
- No need to initialize",Abdeali099,2024-03-28 11:16:44+00:00,['deepeshgarg007'],2024-06-11 00:09:44+00:00,2024-05-26 07:39:39+00:00,https://github.com/frappe/erpnext/pull/40743,"[('accounts', ''), ('inactive', ''), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]","[{'comment_id': 2025037120, 'issue_id': 2212960846, 'author': 'ankush', 'body': '@Abdeali099 can you add some numbers in description', 'created_at': datetime.datetime(2024, 3, 28, 12, 12, 6, tzinfo=datetime.timezone.utc)}]","ankush on (2024-03-28 12:12:06 UTC): @Abdeali099 can you add some numbers in description

"
2212930207,pull_request,closed,,refactor: configurable exchange gain or loss posting date (backport #37630),"In Payment Reconciliation, the pop-up for settings difference amount will have posting date field as well.

<img width=""1440"" alt=""Screenshot 2023-10-22 at 8 58 25 PM"" src=""https://github.com/frappe/erpnext/assets/3272205/8d3e0d71-6b42-47f0-8103-26e8bf9a4bf9"">
<hr>This is an automatic backport of pull request #37630 done by [Mergify](https://mergify.com).",mergify[bot],2024-03-28 10:59:47+00:00,['ruthra-kumar'],2024-04-22 00:11:03+00:00,2024-03-28 12:16:30+00:00,https://github.com/frappe/erpnext/pull/40742,"[('accounts', ''), ('released', None)]","[{'comment_id': 2024916004, 'issue_id': 2212930207, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 55dbcee36a2acf4aa41c66147c263a85ef606f81 has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-37630\nYour branch is up to date with \'origin/version-15-hotfix\'.\n\nYou are currently cherry-picking commit 55dbcee36a.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/accounts/doctype/payment_reconciliation_allocation/payment_reconciliation_allocation.json\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nCherry-pick of 5323bb7beeb6526d16bcb19fc2f3acd3a95927e6 has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-37630\nYour branch is ahead of \'origin/version-15-hotfix\' by 1 commit.\n  (use ""git push"" to publish your local commits)\n\nYou are currently cherry-picking commit 5323bb7bee.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/accounts/doctype/payment_reconciliation/payment_reconciliation.js\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nCherry-pick of 7e600a6494d7f07c6fd2b8f1cc71857801a2573c has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-37630\nYour branch is ahead of \'origin/version-15-hotfix\' by 2 commits.\n  (use ""git push"" to publish your local commits)\n\nYou are currently cherry-picking commit 7e600a6494.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nChanges to be committed:\n\tmodified:   erpnext/accounts/doctype/payment_reconciliation/payment_reconciliation.js\n\tmodified:   erpnext/accounts/doctype/payment_reconciliation/payment_reconciliation.py\n\tmodified:   erpnext/accounts/doctype/payment_reconciliation_allocation/payment_reconciliation_allocation.json\n\tmodified:   erpnext/controllers/accounts_controller.py\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/accounts/utils.py\n\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 3, 28, 10, 59, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2025496014, 'issue_id': 2212930207, 'author': 'deepeshgarg007', 'body': '@Mergifyio backport version-15', 'created_at': datetime.datetime(2024, 3, 28, 15, 26, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2025496350, 'issue_id': 2212930207, 'author': 'mergify[bot]', 'body': '> backport version-15\n\n#### ✅ Backports have been created\n\n<details>\n\n* [#40750 refactor: configurable exchange gain or loss posting date (backport #37630) (backport #40742)](https://github.com/frappe/erpnext/pull/40750) has been created for branch `version-15`\n\n</details>\n\n\n<!---\nDO NOT EDIT\n-*- Mergify Payload -*-\n{""command"": ""backport version-15"", ""conclusion"": ""success"", ""action_is_running"": true}\n-*- Mergify Payload End -*-\n-->', 'created_at': datetime.datetime(2024, 3, 28, 15, 26, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2034200441, 'issue_id': 2212930207, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.19.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.19.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 4, 3, 10, 34, 8, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-03-28 10:59:49 UTC): Cherry-pick of 55dbcee36a2acf4aa41c66147c263a85ef606f81 has failed:
```
On branch mergify/bp/version-15-hotfix/pr-37630
Your branch is up to date with 'origin/version-15-hotfix'.

You are currently cherry-picking commit 55dbcee36a.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/accounts/doctype/payment_reconciliation_allocation/payment_reconciliation_allocation.json

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


Cherry-pick of 5323bb7beeb6526d16bcb19fc2f3acd3a95927e6 has failed:
```
On branch mergify/bp/version-15-hotfix/pr-37630
Your branch is ahead of 'origin/version-15-hotfix' by 1 commit.
  (use ""git push"" to publish your local commits)

You are currently cherry-picking commit 5323bb7bee.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/accounts/doctype/payment_reconciliation/payment_reconciliation.js

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


Cherry-pick of 7e600a6494d7f07c6fd2b8f1cc71857801a2573c has failed:
```
On branch mergify/bp/version-15-hotfix/pr-37630
Your branch is ahead of 'origin/version-15-hotfix' by 2 commits.
  (use ""git push"" to publish your local commits)

You are currently cherry-picking commit 7e600a6494.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Changes to be committed:
	modified:   erpnext/accounts/doctype/payment_reconciliation/payment_reconciliation.js
	modified:   erpnext/accounts/doctype/payment_reconciliation/payment_reconciliation.py
	modified:   erpnext/accounts/doctype/payment_reconciliation_allocation/payment_reconciliation_allocation.json
	modified:   erpnext/controllers/accounts_controller.py

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/accounts/utils.py

```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

deepeshgarg007 on (2024-03-28 15:26:08 UTC): @Mergifyio backport version-15

mergify[bot] (Issue Creator) on (2024-03-28 15:26:20 UTC): #### ✅ Backports have been created

<details>

* [#40750 refactor: configurable exchange gain or loss posting date (backport #37630) (backport #40742)](https://github.com/frappe/erpnext/pull/40750) has been created for branch `version-15`

</details>


<!---
DO NOT EDIT
-*- Mergify Payload -*-
{""command"": ""backport version-15"", ""conclusion"": ""success"", ""action_is_running"": true}
-*- Mergify Payload End -*-
-->

frappe-pr-bot on (2024-04-03 10:34:08 UTC): :tada: This PR is included in version 15.19.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.19.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2212742052,pull_request,closed,,fix: sales / purchase return validation issue,"While making the sales return entry against the delivery note, if the item has batches then system throws the below error on changing of the qty.

<img width=""785"" alt=""Screenshot 2024-03-28 at 1 03 54 PM"" src=""https://github.com/frappe/erpnext/assets/8780500/3ad08262-7890-42d5-a5b4-e79dadfc311d"">
",rohitwaghchaure,2024-03-28 09:27:05+00:00,[],2024-04-12 00:09:03+00:00,2024-03-28 12:22:55+00:00,https://github.com/frappe/erpnext/pull/40741,"[('backport version-15-hotfix', '')]",[],
2212593593,pull_request,closed,,refactor: use sql to clear comments,Use sql to clear Comments related to Deleted Transactions,ruthra-kumar,2024-03-28 08:00:27+00:00,[],2024-04-12 00:09:02+00:00,2024-03-28 12:10:55+00:00,https://github.com/frappe/erpnext/pull/40739,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]","[{'comment_id': 2025069440, 'issue_id': 2212593593, 'author': 'ruthra-kumar', 'body': '@mergify backport version-14', 'created_at': datetime.datetime(2024, 3, 28, 12, 27, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2025069523, 'issue_id': 2212593593, 'author': 'ruthra-kumar', 'body': '@mergify backport version-15', 'created_at': datetime.datetime(2024, 3, 28, 12, 27, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2025069704, 'issue_id': 2212593593, 'author': 'mergify[bot]', 'body': '> backport version-14\n\n#### ✅ Backports have been created\n\n<details>\n\n* [#40747 refactor: use sql to clear comments (backport #40739)](https://github.com/frappe/erpnext/pull/40747) has been created for branch `version-14`\n\n</details>\n\n\n<!---\nDO NOT EDIT\n-*- Mergify Payload -*-\n{""command"": ""backport version-14"", ""conclusion"": ""success"", ""action_is_running"": true}\n-*- Mergify Payload End -*-\n-->', 'created_at': datetime.datetime(2024, 3, 28, 12, 27, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2025069730, 'issue_id': 2212593593, 'author': 'mergify[bot]', 'body': '> backport version-15\n\n#### ✅ Backports have been created\n\n<details>\n\n* [#40748 refactor: use sql to clear comments (backport #40739)](https://github.com/frappe/erpnext/pull/40748) has been created for branch `version-15`\n\n</details>\n\n\n<!---\nDO NOT EDIT\n-*- Mergify Payload -*-\n{""command"": ""backport version-15"", ""conclusion"": ""success"", ""action_is_running"": true}\n-*- Mergify Payload End -*-\n-->', 'created_at': datetime.datetime(2024, 3, 28, 12, 27, 52, tzinfo=datetime.timezone.utc)}]","ruthra-kumar (Issue Creator) on (2024-03-28 12:27:41 UTC): @mergify backport version-14

ruthra-kumar (Issue Creator) on (2024-03-28 12:27:44 UTC): @mergify backport version-15

mergify[bot] on (2024-03-28 12:27:51 UTC): #### ✅ Backports have been created

<details>

* [#40747 refactor: use sql to clear comments (backport #40739)](https://github.com/frappe/erpnext/pull/40747) has been created for branch `version-14`

</details>


<!---
DO NOT EDIT
-*- Mergify Payload -*-
{""command"": ""backport version-14"", ""conclusion"": ""success"", ""action_is_running"": true}
-*- Mergify Payload End -*-
-->

mergify[bot] on (2024-03-28 12:27:52 UTC): #### ✅ Backports have been created

<details>

* [#40748 refactor: use sql to clear comments (backport #40739)](https://github.com/frappe/erpnext/pull/40748) has been created for branch `version-15`

</details>


<!---
DO NOT EDIT
-*- Mergify Payload -*-
{""command"": ""backport version-15"", ""conclusion"": ""success"", ""action_is_running"": true}
-*- Mergify Payload End -*-
-->

"
2212524737,pull_request,closed,,fix: markdown to text editor set for supplier quotation (backport #40731),"**Version**

ERPNext: v15.18.1 (version-15)
Frappe Framework: v15.19.0 (version-15)

Reference PR: #40563

![image](https://github.com/frappe/erpnext/assets/141945075/8ef9c037-a0df-4eba-b727-bba79ee0aa7f)

fixes: #40694 

**Before**
- The field was still a Markdown Editor instead of a Text Editor.

![image](https://github.com/frappe/erpnext/assets/141945075/74b1e795-9e6d-45e7-b154-dc14d1d8e05b)

<br>

**After:**

![image](https://github.com/frappe/erpnext/assets/141945075/0ae937f5-d0c2-4c36-8f2e-010fc0cc660f)

<br>

Thank You!<hr>This is an automatic backport of pull request #40731 done by [Mergify](https://mergify.com).",mergify[bot],2024-03-28 07:16:20+00:00,['Nihantra-Patel'],2024-04-22 00:11:10+00:00,2024-03-31 15:44:16+00:00,https://github.com/frappe/erpnext/pull/40738,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2024555714, 'issue_id': 2212524737, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 9828d34b19e575697b4d5bbc624689535160aa69 has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-40731\nYour branch is up to date with \'origin/version-15-hotfix\'.\n\nYou are currently cherry-picking commit 9828d34b19.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nChanges to be committed:\n\tmodified:   erpnext/buying/doctype/supplier_quotation/supplier_quotation.py\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/buying/doctype/supplier_quotation/supplier_quotation.json\n\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 3, 28, 7, 16, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2034199558, 'issue_id': 2212524737, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.19.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.19.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 4, 3, 10, 33, 47, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-03-28 07:16:22 UTC): Cherry-pick of 9828d34b19e575697b4d5bbc624689535160aa69 has failed:
```
On branch mergify/bp/version-15-hotfix/pr-40731
Your branch is up to date with 'origin/version-15-hotfix'.

You are currently cherry-picking commit 9828d34b19.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Changes to be committed:
	modified:   erpnext/buying/doctype/supplier_quotation/supplier_quotation.py

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/buying/doctype/supplier_quotation/supplier_quotation.json

```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

frappe-pr-bot on (2024-04-03 10:33:47 UTC): :tada: This PR is included in version 15.19.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.19.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2212524606,pull_request,closed,,fix: markdown to text editor set for supplier quotation (backport #40731),"**Version**

ERPNext: v15.18.1 (version-15)
Frappe Framework: v15.19.0 (version-15)

Reference PR: #40563

![image](https://github.com/frappe/erpnext/assets/141945075/8ef9c037-a0df-4eba-b727-bba79ee0aa7f)

fixes: #40694 

**Before**
- The field was still a Markdown Editor instead of a Text Editor.

![image](https://github.com/frappe/erpnext/assets/141945075/74b1e795-9e6d-45e7-b154-dc14d1d8e05b)

<br>

**After:**

![image](https://github.com/frappe/erpnext/assets/141945075/0ae937f5-d0c2-4c36-8f2e-010fc0cc660f)

<br>

Thank You!<hr>This is an automatic backport of pull request #40731 done by [Mergify](https://mergify.com).",mergify[bot],2024-03-28 07:16:17+00:00,['Nihantra-Patel'],2024-04-22 00:11:26+00:00,2024-03-31 15:44:38+00:00,https://github.com/frappe/erpnext/pull/40737,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2024555647, 'issue_id': 2212524606, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 9828d34b19e575697b4d5bbc624689535160aa69 has failed:\n```\nOn branch mergify/bp/version-14-hotfix/pr-40731\nYour branch is up to date with \'origin/version-14-hotfix\'.\n\nYou are currently cherry-picking commit 9828d34b19.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/buying/doctype/supplier_quotation/supplier_quotation.json\n\tboth modified:   erpnext/buying/doctype/supplier_quotation/supplier_quotation.py\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 3, 28, 7, 16, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2034198484, 'issue_id': 2212524606, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.66.3 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.66.3)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 4, 3, 10, 33, 9, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-03-28 07:16:19 UTC): Cherry-pick of 9828d34b19e575697b4d5bbc624689535160aa69 has failed:
```
On branch mergify/bp/version-14-hotfix/pr-40731
Your branch is up to date with 'origin/version-14-hotfix'.

You are currently cherry-picking commit 9828d34b19.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/buying/doctype/supplier_quotation/supplier_quotation.json
	both modified:   erpnext/buying/doctype/supplier_quotation/supplier_quotation.py

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

frappe-pr-bot on (2024-04-03 10:33:09 UTC): :tada: This PR is included in version 14.66.3 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.66.3)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2212514271,pull_request,closed,,fix: update sales commission value on update Items,"**Version:**

ERPNext: v15.18.1 (version-15)
Frappe Framework: v15.19.0 (version-15)

fixes: #40308

**Before:**

- When an item is updated after a sales order is submitted, the Amount Eligible for Commission, Total Commission, and Sales Team table values do not update.


https://github.com/frappe/erpnext/assets/141945075/8a1123ce-1047-4c95-a9dd-38bd044b46e5

<br>

**After:**

- remove the condition `self.docstatus.is_submitted` because if the document is submitted then it will calculate the value.


https://github.com/frappe/erpnext/assets/141945075/401e7cae-b963-4075-9f1c-2f289f451103

<br>

Thank You!",Nihantra-Patel,2024-03-28 07:08:42+00:00,[],2024-06-14 00:10:04+00:00,2024-05-29 03:49:36+00:00,https://github.com/frappe/erpnext/pull/40736,"[('selling', None), ('needs-tests', 'This PR needs automated unit-tests.')]","[{'comment_id': 2053517472, 'issue_id': 2212514271, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 4, 13, 6, 1, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2081433915, 'issue_id': 2212514271, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 4, 28, 10, 55, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2136462304, 'issue_id': 2212514271, 'author': 'deepeshgarg007', 'body': '@Nihantra-Patel This was already done in https://github.com/frappe/erpnext/pull/40770\r\nClosing this PR', 'created_at': datetime.datetime(2024, 5, 29, 3, 49, 36, tzinfo=datetime.timezone.utc)}]","stale[bot] on (2024-04-13 06:01:32 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

stale[bot] on (2024-04-28 10:55:49 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

deepeshgarg007 on (2024-05-29 03:49:36 UTC): @Nihantra-Patel This was already done in https://github.com/frappe/erpnext/pull/40770
Closing this PR

"
2212493287,pull_request,closed,,fix: Show Stock Ageing Data filter not working in stock balance report,"**Issue**

<img width=""980"" alt=""Screenshot 2024-03-28 at 11 37 25 AM"" src=""https://github.com/frappe/erpnext/assets/8780500/c11e57a7-2c20-4f40-997c-b1936d1c83b4"">
",rohitwaghchaure,2024-03-28 06:54:46+00:00,[],2024-04-26 00:09:45+00:00,2024-04-01 11:24:13+00:00,https://github.com/frappe/erpnext/pull/40735,"[('backport version-15-hotfix', '')]",[],
2212473478,pull_request,closed,,fix: Filters in trend reports,Fixes: https://github.com/frappe/erpnext/issues/39865,deepeshgarg007,2024-03-28 06:40:09+00:00,[],2024-05-20 05:07:33+00:00,2024-03-28 12:46:14+00:00,https://github.com/frappe/erpnext/pull/40734,"[('v15', '')]","[{'comment_id': 2065801984, 'issue_id': 2212473478, 'author': 'Nihantra-Patel', 'body': 'Hello @deepeshgarg007,\r\n\r\nPlease backport to version 15.', 'created_at': datetime.datetime(2024, 4, 19, 5, 43, 9, tzinfo=datetime.timezone.utc)}]","Nihantra-Patel on (2024-04-19 05:43:09 UTC): Hello @deepeshgarg007,

Please backport to version 15.

"
2212396302,pull_request,closed,,fix: enable list view for the issues on the portal (backport #40713),"<img width=""808"" alt=""Screenshot 2024-03-27 at 4 16 29 PM"" src=""https://github.com/frappe/erpnext/assets/8780500/9f02499e-1ced-4017-b5f5-355cdaddaf4f"">
<hr>This is an automatic backport of pull request #40713 done by [Mergify](https://mergify.com).",mergify[bot],2024-03-28 05:38:16+00:00,['rohitwaghchaure'],2024-04-22 00:11:01+00:00,2024-03-28 06:41:21+00:00,https://github.com/frappe/erpnext/pull/40733,"[('released', None)]","[{'comment_id': 2034200663, 'issue_id': 2212396302, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.19.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.19.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 4, 3, 10, 34, 14, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-04-03 10:34:14 UTC): :tada: This PR is included in version 15.19.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.19.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2212359420,pull_request,closed,,fix: markdown to text editor set for supplier quotation,"**Version**

ERPNext: v15.18.1 (version-15)
Frappe Framework: v15.19.0 (version-15)

Reference PR: #40563

![image](https://github.com/frappe/erpnext/assets/141945075/8ef9c037-a0df-4eba-b727-bba79ee0aa7f)

fixes: #40694 

**Before**
- The field was still a Markdown Editor instead of a Text Editor.

![image](https://github.com/frappe/erpnext/assets/141945075/74b1e795-9e6d-45e7-b154-dc14d1d8e05b)

<br>

**After:**

![image](https://github.com/frappe/erpnext/assets/141945075/0ae937f5-d0c2-4c36-8f2e-010fc0cc660f)

<br>

Thank You!",Nihantra-Patel,2024-03-28 05:04:57+00:00,[],2024-04-12 00:09:04+00:00,2024-03-28 07:14:45+00:00,https://github.com/frappe/erpnext/pull/40731,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2212053511,pull_request,closed,,Update share_balance.json ,"fix #39891 

rate and amount should be Currency and not Int.

",tinodj,2024-03-27 23:18:49+00:00,[],2024-04-25 00:11:44+00:00,2024-04-10 16:04:46+00:00,https://github.com/frappe/erpnext/pull/40727,[],"[{'comment_id': 2047938026, 'issue_id': 2212053511, 'author': 'deepeshgarg007', 'body': '@tinodj Please resolve conflicts and then reopen', 'created_at': datetime.datetime(2024, 4, 10, 16, 4, 46, tzinfo=datetime.timezone.utc)}]","deepeshgarg007 on (2024-04-10 16:04:46 UTC): @tinodj Please resolve conflicts and then reopen

"
2211583032,pull_request,closed,,chore: add crowin identifiers for in-context translation,"Allows translation of ERPNext strings directly in the UI:

![Bildschirmfoto 2024-03-27 um 19 27 48](https://github.com/frappe/erpnext/assets/14891507/c47b3574-180f-47e1-ac5a-309097f37530)

See https://github.com/frappe/frappe/pull/25677",barredterra,2024-03-27 18:31:36+00:00,[],2024-04-12 00:09:00+00:00,2024-03-28 13:11:55+00:00,https://github.com/frappe/erpnext/pull/40725,[],[],
2211406092,pull_request,closed,,fix: pypika error when executing patch to update flag for return invoices,"### Issue

```py

Traceback with variables (most recent call last):
  File ""<frozen runpy>"", line 198, in _run_module_as_main
      mod_name = 'frappe.utils.bench_helper'
      alter_argv = True
      mod_spec = ModuleSpec(name='frappe.utils.bench_helper', loader=<_frozen_importlib_external.SourceFileLoader object at 0x7fc50c395850>, origin='/home/snv/Park/dev/apps/frappe/frappe/utils/bench_helper.py')
      code = <code object <module> at 0x1a679b0, file ""/home/snv/Park/dev/apps/frappe/frappe/utils/bench_helper.py"", line 1>
      main_globals = {'__name__': '__main__', '__doc__': None, '__package__': 'frappe.utils', '__loader__': <_frozen_importlib_external.SourceFileLoader object at 0x7fc50c395850>, '__spec__': ModuleSpec(name='frappe.utils.bench_helper', loader=<_frozen_importlib_external.SourceFileLoader object at 0x7fc50c395850>, origin='/home/snv/Park/dev/apps/frappe/frappe/utils/bench_helper.py'), '__annotations__': {}, '__builtins__': <module 'builtins' (built-in)>, '__file__': '/home/snv/Park/dev/apps/frappe/frappe/utils/bench_helper.py', '__cached__': '/home/snv/Park/dev/apps/frappe/frappe/utils/__pycache__/bench_helper.cpython-311.pyc', 'importlib': <module 'importlib' from '/usr/lib/python3.11/importlib/__init__.py'>, 'json': <module 'json' from '/usr/lib/python3.11/json/__init__.py'>, 'os': <module 'os' (frozen)>, 'traceback': <module 'traceback' from '/usr/lib/python3.11/traceback.py'>, 'warnings': <module 'warnings' from '/usr/lib/python3.11/warnings.py'>, 'dedent': <function dedent at 0x7fc50c259300>, 'click': ...
  File ""<frozen runpy>"", line 88, in _run_code
      code = <code object <module> at 0x1a679b0, file ""/home/snv/Park/dev/apps/frappe/frappe/utils/bench_helper.py"", line 1>
      run_globals = {'__name__': '__main__', '__doc__': None, '__package__': 'frappe.utils', '__loader__': <_frozen_importlib_external.SourceFileLoader object at 0x7fc50c395850>, '__spec__': ModuleSpec(name='frappe.utils.bench_helper', loader=<_frozen_importlib_external.SourceFileLoader object at 0x7fc50c395850>, origin='/home/snv/Park/dev/apps/frappe/frappe/utils/bench_helper.py'), '__annotations__': {}, '__builtins__': <module 'builtins' (built-in)>, '__file__': '/home/snv/Park/dev/apps/frappe/frappe/utils/bench_helper.py', '__cached__': '/home/snv/Park/dev/apps/frappe/frappe/utils/__pycache__/bench_helper.cpython-311.pyc', 'importlib': <module 'importlib' from '/usr/lib/python3.11/importlib/__init__.py'>, 'json': <module 'json' from '/usr/lib/python3.11/json/__init__.py'>, 'os': <module 'os' (frozen)>, 'traceback': <module 'traceback' from '/usr/lib/python3.11/traceback.py'>, 'warnings': <module 'warnings' from '/usr/lib/python3.11/warnings.py'>, 'dedent': <function dedent at 0x7fc50c259300>, 'click': ...
      init_globals = None
      mod_name = '__main__'
      mod_spec = ModuleSpec(name='frappe.utils.bench_helper', loader=<_frozen_importlib_external.SourceFileLoader object at 0x7fc50c395850>, origin='/home/snv/Park/dev/apps/frappe/frappe/utils/bench_helper.py')
      pkg_name = 'frappe.utils'
      script_name = None
      loader = <_frozen_importlib_external.SourceFileLoader object at 0x7fc50c395850>
      fname = '/home/snv/Park/dev/apps/frappe/frappe/utils/bench_helper.py'
      cached = '/home/snv/Park/dev/apps/frappe/frappe/utils/__pycache__/bench_helper.cpython-311.pyc'
  File ""/home/snv/Park/dev/apps/frappe/frappe/utils/bench_helper.py"", line 128, in <module>
    main()
      ...skipped... 27 vars
  File ""/home/snv/Park/dev/apps/frappe/frappe/utils/bench_helper.py"", line 34, in main
    FrappeCommandGroup(commands=commands)(prog_name=""bench"")
      commands = {'frappe': <FrappeCommandGroup frappe>, 'get-frappe-commands': <Command get-frappe-commands>, 'get-frappe-help': <Command get-frappe-help>}
  File ""/home/snv/Park/dev/env/lib/python3.11/site-packages/click/core.py"", line 1157, in __call__
    return self.main(*args, **kwargs)
      self = <FrappeCommandGroup None>
      args = ()
      kwargs = {'prog_name': 'bench'}
  File ""/home/snv/Park/dev/env/lib/python3.11/site-packages/click/core.py"", line 1078, in main
    rv = self.invoke(ctx)
      self = <FrappeCommandGroup None>
      args = ['frappe', 'migrate']
      prog_name = 'bench'
      complete_var = None
      standalone_mode = True
      windows_expand_args = True
      extra = {}
      ctx = <click.core.Context object at 0x7fc50ae0d510>
  File ""/home/snv/Park/dev/env/lib/python3.11/site-packages/click/core.py"", line 1688, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
      self = <FrappeCommandGroup None>
      ctx = <click.core.Context object at 0x7fc50ae0d510>
      _process_result = <function MultiCommand.invoke.<locals>._process_result at 0x7fc50af55d00>
      args = ['migrate']
      cmd_name = 'frappe'
      cmd = <FrappeCommandGroup frappe>
      sub_ctx = <click.core.Context object at 0x7fc50af4d5d0>
      __class__ = <class 'click.core.MultiCommand'>
  File ""/home/snv/Park/dev/env/lib/python3.11/site-packages/click/core.py"", line 1688, in invoke
    return _process_result(sub_ctx.command.invoke(sub_ctx))
      self = <FrappeCommandGroup frappe>
      ctx = <click.core.Context object at 0x7fc50af4d5d0>
      _process_result = <function MultiCommand.invoke.<locals>._process_result at 0x7fc50af1e200>
      args = []
      cmd_name = 'migrate'
      cmd = <Command migrate>
      sub_ctx = <click.core.Context object at 0x7fc50b692c90>
      __class__ = <class 'click.core.MultiCommand'>
  File ""/home/snv/Park/dev/env/lib/python3.11/site-packages/click/core.py"", line 1434, in invoke
    return ctx.invoke(self.callback, **ctx.params)
      self = <Command migrate>
      ctx = <click.core.Context object at 0x7fc50b692c90>
  File ""/home/snv/Park/dev/env/lib/python3.11/site-packages/click/core.py"", line 783, in invoke
    return __callback(*args, **kwargs)
      _Context__self = <click.core.Context object at 0x7fc50b692c90>
      _Context__callback = <function migrate at 0x7fc50adbc540>
      args = ()
      kwargs = {'skip_failing': False, 'skip_search_index': False}
      ctx = <click.core.Context object at 0x7fc50b692c90>
  File ""/home/snv/Park/dev/env/lib/python3.11/site-packages/click/decorators.py"", line 33, in new_func
    return f(get_current_context(), *args, **kwargs)
      args = ()
      kwargs = {'skip_failing': False, 'skip_search_index': False}
      f = <function migrate at 0x7fc50adbc2c0>
  File ""/home/snv/Park/dev/apps/frappe/frappe/commands/__init__.py"", line 29, in _func
    ret = f(frappe._dict(ctx.obj), *args, **kwargs)
      ctx = <click.core.Context object at 0x7fc50b692c90>
      args = ()
      kwargs = {'skip_failing': False, 'skip_search_index': False}
      profile = False
      f = <function migrate at 0x7fc50adbc220>
  File ""/home/snv/Park/dev/apps/frappe/frappe/commands/site.py"", line 724, in migrate
    ).run(site=site)
      context = {'sites': ['tests.localhost'], 'force': False, 'verbose': False, 'profile': False}
      skip_failing = False
      skip_search_index = False
      activate_by_import = <module 'traceback_with_variables.activate_by_import' from '/home/snv/Park/dev/env/lib/python3.11/site-packages/traceback_with_variables/activate_by_import.py'>
      SiteMigration = <class 'frappe.migrate.SiteMigration'>
      site = 'tests.localhost'
  File ""/home/snv/Park/dev/apps/frappe/frappe/migrate.py"", line 186, in run
    self.run_schema_updates()
      self = <frappe.migrate.SiteMigration object at 0x7fc4f36c1490>
      site = 'tests.localhost'
      filelock = <function filelock at 0x7fc4f2bbbc40>
  File ""/home/snv/Park/dev/apps/frappe/frappe/migrate.py"", line 52, in wrapper
    raise e
      args = (<frappe.migrate.SiteMigration object at 0x7fc4f36c1490>,)
      kwargs = {}
      method = <function SiteMigration.run_schema_updates at 0x7fc4f2bbb6a0>
  File ""/home/snv/Park/dev/apps/frappe/frappe/migrate.py"", line 44, in wrapper
    ret = method(*args, **kwargs)
      args = (<frappe.migrate.SiteMigration object at 0x7fc4f36c1490>,)
      kwargs = {}
      method = <function SiteMigration.run_schema_updates at 0x7fc4f2bbb6a0>
  File ""/home/snv/Park/dev/apps/frappe/frappe/migrate.py"", line 121, in run_schema_updates
    frappe.modules.patch_handler.run_all(
      self = <frappe.migrate.SiteMigration object at 0x7fc4f36c1490>
  File ""/home/snv/Park/dev/apps/frappe/frappe/modules/patch_handler.py"", line 76, in run_all
    run_patch(patch)
      skip_failing = False
      patch_type = <PatchType.post_model_sync: 'post_model_sync'>
      executed = {'erpnext.patches.v12_0.add_einvoice_status_field #2021-03-17', 'execute:frappe.db.set_single_value(""Document Naming Settings"", ""default_amend_naming"", ""Amend Counter"")', 'frappe.patches.v14_0.add_manage_subscriptions_in_navbar_settings', 'india_compliance.patches.post_install.update_gst_treatment_for_taxable_nil_transaction_item', ""execute:frappe.reload_doc('custom', 'doctype', 'custom_field')"", 'execute:from india_compliance.gst_india.setup import create_custom_fields; create_custom_fields()', 'erpnext.patches.v13_0.update_deferred_settings', 'frappe.patches.v13_0.replace_field_target_with_open_in_new_tab', 'erpnext.patches.v12_0.set_produced_qty_field_in_sales_order_for_work_order', 'erpnext.patches.v12_0.update_end_date_and_status_in_email_campaign', 'erpnext.patches.v15_0.rename_depreciation_amount_based_on_num_days_in_month_to_daily_prorata_based', 'erpnext.patches.v14_0.show_loan_management_deprecation_warning', 'erpnext.patches.v12_0.update_price_or_product_discount', ""execute:...
      run_patch = <function run_all.<locals>.run_patch at 0x7fc4f2758ea0>
      patches = [""execute:frappe.get_doc('Role', 'Guest').save() # remove desk access"", 'frappe.core.doctype.role.patches.v13_set_default_desk_properties', 'frappe.patches.v14_0.update_workspace2 # 06.06.2023', 'frappe.patches.v14_0.drop_data_import_legacy', 'frappe.patches.v14_0.copy_mail_data #08.03.21', 'frappe.patches.v14_0.update_github_endpoints #08-11-2021', 'frappe.patches.v14_0.remove_db_aggregation', 'frappe.patches.v14_0.update_color_names_in_kanban_board_column', 'frappe.patches.v14_0.update_is_system_generated_flag', 'frappe.patches.v14_0.update_auto_account_deletion_duration', 'frappe.patches.v14_0.update_integration_request', 'frappe.patches.v14_0.set_document_expiry_default', 'frappe.patches.v14_0.delete_data_migration_tool', 'frappe.patches.v14_0.set_suspend_email_queue_default', 'frappe.patches.v14_0.different_encryption_key', 'frappe.patches.v14_0.update_multistep_webforms', ""execute:frappe.delete_doc('Page', 'background_jobs', ignore_missing=True, force=True)"", 'frappe.patches.v14_...
      patch = 'erpnext.patches.v14_0.update_flag_for_return_invoices #2024-03-23'
  File ""/home/snv/Park/dev/apps/frappe/frappe/modules/patch_handler.py"", line 62, in run_patch
    if not run_single(patchmodule=patch):
      patch = 'erpnext.patches.v14_0.update_flag_for_return_invoices #2024-03-23'
      skip_failing = False
  File ""/home/snv/Park/dev/apps/frappe/frappe/modules/patch_handler.py"", line 152, in run_single
    return execute_patch(patchmodule, method, methodargs)
      patchmodule = 'erpnext.patches.v14_0.update_flag_for_return_invoices #2024-03-23'
      method = None
      methodargs = None
      force = False
      conf = <LocalProxy unbound>
  File ""/home/snv/Park/dev/apps/frappe/frappe/modules/patch_handler.py"", line 188, in execute_patch
    _patch()
      patchmodule = 'erpnext.patches.v14_0.update_flag_for_return_invoices #2024-03-23'
      method = None
      methodargs = None
      has_patch_file = True
      patch = 'erpnext.patches.v14_0.update_flag_for_return_invoices.execute'
      docstring = ''
      _patch = <function execute at 0x7fc4f24745e0>
      start_time = 4825.233238494
  File ""/home/snv/Park/dev/apps/erpnext/erpnext/patches/v14_0/update_flag_for_return_invoices.py"", line 51, in execute
    .where(
      gle = Table('tabGL Entry')
      creation_date = '2024-01-25'
      si = Table('tabSales Invoice')
      cr_notes = ()
      pi = Table('tabPurchase Invoice')
  File ""/home/snv/Park/dev/env/lib/python3.11/site-packages/pypika/utils.py"", line 50, in _copy
    result = func(self_copy, *args, **kwargs)
      self = SELECT `name` FROM `tabPurchase Invoice`
      args = (<pypika.terms.ComplexCriterion object at 0x7fc4f23b6bd0>,)
      kwargs = {}
      self_copy = SELECT `name` FROM `tabPurchase Invoice`
      copy = <module 'copy' from '/usr/lib/python3.11/copy.py'>
      func = <function QueryBuilder.where at 0x7fc50b84c7c0>
  File ""/home/snv/Park/dev/env/lib/python3.11/site-packages/pypika/queries.py"", line 930, in where
    if not self._validate_table(criterion):
      self = SELECT `name` FROM `tabPurchase Invoice`
      criterion = <pypika.terms.ComplexCriterion object at 0x7fc4f23b6bd0>
  File ""/home/snv/Park/dev/env/lib/python3.11/site-packages/pypika/queries.py"", line 1155, in _validate_table
    for field in term.fields_():
      self = SELECT `name` FROM `tabPurchase Invoice`
      term = <pypika.terms.ComplexCriterion object at 0x7fc4f23b6bd0>
      base_tables = [Table('tabPurchase Invoice'), None]
  File ""/home/snv/Park/dev/env/lib/python3.11/site-packages/pypika/terms.py"", line 57, in fields_
    return set(self.find_(Field))
      self = <pypika.terms.ComplexCriterion object at 0x7fc4f23b6bd0>
  File ""/home/snv/Park/dev/env/lib/python3.11/site-packages/pypika/terms.py"", line 37, in find_
    return [node for node in self.nodes_() if isinstance(node, type)]
      self = <pypika.terms.ComplexCriterion object at 0x7fc4f23b6bd0>
      type = <class 'pypika.terms.Field'>
  File ""/home/snv/Park/dev/env/lib/python3.11/site-packages/pypika/terms.py"", line 37, in <listcomp>
    return [node for node in self.nodes_() if isinstance(node, type)]
      .0 = <generator object BasicCriterion.nodes_ at 0x7fc4f25e22c0>
      node = <pypika.terms.ComplexCriterion object at 0x7fc4f23b6790>
      type = <class 'pypika.terms.Field'>
  File ""/home/snv/Park/dev/env/lib/python3.11/site-packages/pypika/terms.py"", line 743, in nodes_
    yield from self.left.nodes_()
      self = <pypika.terms.ComplexCriterion object at 0x7fc4f23b6bd0>
  File ""/home/snv/Park/dev/env/lib/python3.11/site-packages/pypika/terms.py"", line 742, in nodes_
    yield from self.right.nodes_()
      self = <pypika.terms.ComplexCriterion object at 0x7fc4f23b6790>
builtins.AttributeError: 'bool' object has no attribute 'nodes_'
```",sagarvora,2024-03-27 17:42:07+00:00,[],2024-04-12 00:09:06+00:00,2024-03-28 04:18:59+00:00,https://github.com/frappe/erpnext/pull/40724,"[('needs-tests', 'This PR needs automated unit-tests.')]","[{'comment_id': 2024366695, 'issue_id': 2211406092, 'author': 'ruthra-kumar', 'body': '@sagarvora Fixed in https://github.com/frappe/erpnext/pull/40719', 'created_at': datetime.datetime(2024, 3, 28, 4, 18, 59, tzinfo=datetime.timezone.utc)}]","ruthra-kumar on (2024-03-28 04:18:59 UTC): @sagarvora Fixed in https://github.com/frappe/erpnext/pull/40719

"
2211376008,pull_request,closed,,feat: allow to pick manually qty / batches / serial nos,"In the pick list, if a user manually selects batches, the system overrides the changes upon saving the pick list. To solve this issue added a new checkbox 'Pick Manually' in the pick list. If this checkbox is enabled, the system will not override the user's changes in the pick list.

![pick_manually](https://github.com/frappe/erpnext/assets/8780500/bad2e0a9-5690-490a-b3ce-faffe9afe869)

Fixed https://github.com/frappe/erpnext/issues/40686

Docs https://docs.erpnext.com/docs/user/manual/en/pick-list#4-pick-manually",rohitwaghchaure,2024-03-27 17:29:24+00:00,[],2024-05-13 11:22:51+00:00,2024-04-02 16:43:50+00:00,https://github.com/frappe/erpnext/pull/40723,"[('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2211340684,pull_request,closed,,fix: do not fetch received items in purchase receipt (backport #40718),"In case of Inter Transfer Purchase Receipt, do not fetch items which are already received <hr>This is an automatic backport of pull request #40718 done by [Mergify](https://mergify.com).",mergify[bot],2024-03-27 17:11:30+00:00,['rohitwaghchaure'],2024-04-22 00:11:00+00:00,2024-03-27 17:29:38+00:00,https://github.com/frappe/erpnext/pull/40722,"[('stock', None), ('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2034200745, 'issue_id': 2211340684, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.19.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.19.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 4, 3, 10, 34, 17, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-04-03 10:34:17 UTC): :tada: This PR is included in version 15.19.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.19.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2211340631,pull_request,closed,,fix: do not fetch received items in purchase receipt (backport #40718),"In case of Inter Transfer Purchase Receipt, do not fetch items which are already received <hr>This is an automatic backport of pull request #40718 done by [Mergify](https://mergify.com).",mergify[bot],2024-03-27 17:11:28+00:00,['rohitwaghchaure'],2024-04-22 00:11:19+00:00,2024-03-27 17:31:12+00:00,https://github.com/frappe/erpnext/pull/40721,"[('stock', None), ('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2034199064, 'issue_id': 2211340631, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.66.3 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.66.3)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 4, 3, 10, 33, 30, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-04-03 10:33:30 UTC): :tada: This PR is included in version 14.66.3 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.66.3)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2211284143,pull_request,closed,,Set default warehouse for pos invoice,"In some cases the Warehouse of POS Profile does't load in POS Invoice, when item is selected on point of sale page.
The error is:
**Item Code: item_code is not available under warehouse .**

This occur because the default warehouse in posprofile, is no loaded correctly on invoice, then is empty.",mmdanny89,2024-03-27 16:43:05+00:00,[],2024-04-26 00:09:42+00:00,2024-04-01 17:07:27+00:00,https://github.com/frappe/erpnext/pull/40720,"[('backport version-15-hotfix', '')]",[],
2211236101,pull_request,closed,,fix: exclude some query builder lines from ruff rules,"`== None` and `== True` are intentional here

Broke in #40681
",akhilnarang,2024-03-27 16:21:54+00:00,[],2024-04-12 00:09:07+00:00,2024-03-28 04:18:05+00:00,https://github.com/frappe/erpnext/pull/40719,"[('needs-tests', 'This PR needs automated unit-tests.')]","[{'comment_id': 2024340450, 'issue_id': 2211236101, 'author': 'ruthra-kumar', 'body': ""@akhilnarang \r\nRather than ignoring, may be better to use `eq` operator. Query Builder already has it, so don't see any harm in using it.\r\n\r\n```\r\n& (si.is_return.eq(True)\r\n```"", 'created_at': datetime.datetime(2024, 3, 28, 3, 40, 51, tzinfo=datetime.timezone.utc)}]","ruthra-kumar on (2024-03-28 03:40:51 UTC): @akhilnarang 
Rather than ignoring, may be better to use `eq` operator. Query Builder already has it, so don't see any harm in using it.

```
& (si.is_return.eq(True)
```

"
2210979870,pull_request,closed,,fix: do not fetch received items in purchase receipt,"In case of Inter Transfer Purchase Receipt, do not fetch items which are already received ",rohitwaghchaure,2024-03-27 14:36:24+00:00,[],2024-04-12 00:09:08+00:00,2024-03-27 17:10:18+00:00,https://github.com/frappe/erpnext/pull/40718,"[('stock', None), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2210755928,pull_request,closed,,fix: sync translations from crowdin,,frappe-pr-bot,2024-03-27 13:04:37+00:00,[],2024-04-12 00:08:58+00:00,2024-03-28 16:16:11+00:00,https://github.com/frappe/erpnext/pull/40717,"[('translation', None), ('squash', 'Meant to tell reviewers that this PR should be squashed into a single commit while merging.')]",[],
2210547315,pull_request,closed,,Incorrect cash flow report,"
**In consolidated financial statements, when selecting the cash flow filter, only the parent company's data and fields are displayed for all subsidiary companies.**

_Before_
<img width=""1119"" alt=""Screenshot 2024-03-27 at 4 43 33 PM"" src=""https://github.com/frappe/erpnext/assets/142375893/8e255576-ae6c-48e8-b553-fce9e9e667b0"">

_After_
<img width=""973"" alt=""Screenshot 2024-03-27 at 4 44 01 PM"" src=""https://github.com/frappe/erpnext/assets/142375893/98a117e7-2932-4e3a-9e7f-7dd7eceb2476"">
closes https://github.com/frappe/erpnext/issues/40435#issue-2183583854
no-docs",khushi8112,2024-03-27 11:25:41+00:00,[],2024-05-11 00:09:23+00:00,2024-04-26 07:22:57+00:00,https://github.com/frappe/erpnext/pull/40716,"[('needs-tests', 'This PR needs automated unit-tests.')]","[{'comment_id': 2053517455, 'issue_id': 2210547315, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 4, 13, 6, 1, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2054099498, 'issue_id': 2210547315, 'author': 'khushi8112', 'body': '@deepeshgarg007 please review this.', 'created_at': datetime.datetime(2024, 4, 14, 15, 33, 32, tzinfo=datetime.timezone.utc)}]","stale[bot] on (2024-04-13 06:01:30 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

khushi8112 (Issue Creator) on (2024-04-14 15:33:32 UTC): @deepeshgarg007 please review this.

"
2210515793,pull_request,closed,,use doctype File directly instead of save_file from file_manager.py,"`save_file` will change the filename and not clean up after itself after a rollback

This is a preparation for another (not yet done) PR to solve https://github.com/frappe/frappe/issues/25178 which will completey remove the `save_file` function from `file_manager.py`.

<!--

Some key notes before you open a PR:

 1. Select which branch should this PR be merged in?
 2. PR name follows [convention](http://karma-runner.github.io/4.0/dev/git-commit-msg.html)
 3. All tests pass locally, UI and Unit tests
 4. All business logic and validations must be on the server-side
 5. Update necessary Documentation
 6. Put `closes #XXXX` in your comment to auto-close the issue that your PR fixes


Also, if you're new here

- Documentation Guidelines => https://github.com/frappe/erpnext/wiki/Updating-Documentation

- Contribution Guide => https://github.com/frappe/erpnext/blob/develop/.github/CONTRIBUTING.md

- Pull Request Checklist => https://github.com/frappe/erpnext/wiki/Pull-Request-Checklist

-->",Mutantpenguin,2024-03-27 11:10:29+00:00,[],2024-05-04 00:10:09+00:00,2024-04-18 12:51:34+00:00,https://github.com/frappe/erpnext/pull/40715,"[('needs-tests', 'This PR needs automated unit-tests.')]","[{'comment_id': 2037261163, 'issue_id': 2210515793, 'author': 'Mutantpenguin', 'body': 'I updated the branch to hopefully fullfill the conventional commit rules.', 'created_at': datetime.datetime(2024, 4, 4, 13, 42, 16, tzinfo=datetime.timezone.utc)}]","Mutantpenguin (Issue Creator) on (2024-04-04 13:42:16 UTC): I updated the branch to hopefully fullfill the conventional commit rules.

"
2210493030,pull_request,closed,,fix: voucher no. is link field for non english user interface,"<!--

Some key notes before you open a PR:

 1. Select which branch should this PR be merged in?
 2. PR name follows [convention](http://karma-runner.github.io/4.0/dev/git-commit-msg.html)
 3. All tests pass locally, UI and Unit tests
 4. All business logic and validations must be on the server-side
 5. Update necessary Documentation
 6. Put `closes #XXXX` in your comment to auto-close the issue that your PR fixes


Also, if you're new here

- Documentation Guidelines => https://github.com/frappe/erpnext/wiki/Updating-Documentation

- Contribution Guide => https://github.com/frappe/erpnext/blob/develop/.github/CONTRIBUTING.md

- Pull Request Checklist => https://github.com/frappe/erpnext/wiki/Pull-Request-Checklist

-->

> Please provide enough information so that others can review your pull request:

<!-- You can skip this if you're fixing a typo or updating existing documentation -->

> Explain the **details** for making this change. What existing problem does the pull request solve?

<!-- Example: When ""Adding a function to do X"", explain why it is necessary to have a way to do X. -->

> Screenshots/GIFs

<!-- Add images/recordings to better visualize the change: expected/current behviour -->
Now voucher no. is link field for non english user interface in general ledger report.
closes https://github.com/frappe/erpnext/issues/40483#issue-2188808878
no-docs",khushi8112,2024-03-27 11:00:03+00:00,[],2024-04-24 15:16:24+00:00,2024-03-31 13:53:01+00:00,https://github.com/frappe/erpnext/pull/40714,"[('needs-tests', 'This PR needs automated unit-tests.')]","[{'comment_id': 2022790159, 'issue_id': 2210493030, 'author': 'szufisher', 'body': 'fixed this issue https://github.com/frappe/erpnext/issues/40483', 'created_at': datetime.datetime(2024, 3, 27, 13, 36, 15, tzinfo=datetime.timezone.utc)}]","szufisher on (2024-03-27 13:36:15 UTC): fixed this issue https://github.com/frappe/erpnext/issues/40483

"
2210467093,pull_request,closed,,fix: enable list view for the issues on the portal,"<img width=""808"" alt=""Screenshot 2024-03-27 at 4 16 29 PM"" src=""https://github.com/frappe/erpnext/assets/8780500/9f02499e-1ced-4017-b5f5-355cdaddaf4f"">
",rohitwaghchaure,2024-03-27 10:49:30+00:00,[],2024-04-12 00:09:05+00:00,2024-03-28 05:37:07+00:00,https://github.com/frappe/erpnext/pull/40713,"[('backport version-15-hotfix', '')]",[],
2210466577,pull_request,closed,,fix: Priority not copied from project template (backport #40708) (backport #40710),"**Issue**
![priority_not_copied](https://github.com/frappe/erpnext/assets/8780500/8290477d-176d-4737-a927-1b27fb169e31)



**After Fix**
![priority_copied](https://github.com/frappe/erpnext/assets/8780500/9d706ad9-ea55-485b-82c8-b264e46bf0b2)
<hr>This is an automatic backport of pull request #40708 done by [Mergify](https://mergify.com).<hr>This is an automatic backport of pull request #40710 done by [Mergify](https://mergify.com).",mergify[bot],2024-03-27 10:49:13+00:00,[],2024-04-12 00:09:11+00:00,2024-03-27 11:20:07+00:00,https://github.com/frappe/erpnext/pull/40712,"[('released', None)]","[{'comment_id': 2022526282, 'issue_id': 2210466577, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.66.1 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.66.1)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 3, 27, 11, 21, 22, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-03-27 11:21:22 UTC): :tada: This PR is included in version 14.66.1 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.66.1)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2210398847,pull_request,closed,,fix: Priority not copied from project template (backport #40708),"**Issue**
![priority_not_copied](https://github.com/frappe/erpnext/assets/8780500/8290477d-176d-4737-a927-1b27fb169e31)



**After Fix**
![priority_copied](https://github.com/frappe/erpnext/assets/8780500/9d706ad9-ea55-485b-82c8-b264e46bf0b2)
<hr>This is an automatic backport of pull request #40708 done by [Mergify](https://mergify.com).",mergify[bot],2024-03-27 10:18:36+00:00,['rohitwaghchaure'],2024-04-22 00:10:59+00:00,2024-03-27 10:48:26+00:00,https://github.com/frappe/erpnext/pull/40711,"[('released', None)]","[{'comment_id': 2034200840, 'issue_id': 2210398847, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.19.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.19.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 4, 3, 10, 34, 20, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-04-03 10:34:20 UTC): :tada: This PR is included in version 15.19.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.19.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2210398725,pull_request,closed,,fix: Priority not copied from project template (backport #40708),"**Issue**
![priority_not_copied](https://github.com/frappe/erpnext/assets/8780500/8290477d-176d-4737-a927-1b27fb169e31)



**After Fix**
![priority_copied](https://github.com/frappe/erpnext/assets/8780500/9d706ad9-ea55-485b-82c8-b264e46bf0b2)
<hr>This is an automatic backport of pull request #40708 done by [Mergify](https://mergify.com).",mergify[bot],2024-03-27 10:18:34+00:00,['rohitwaghchaure'],2024-04-22 00:11:20+00:00,2024-03-27 10:47:57+00:00,https://github.com/frappe/erpnext/pull/40710,"[('released', None)]","[{'comment_id': 2022456802, 'issue_id': 2210398725, 'author': 'rohitwaghchaure', 'body': '@Mergifyio backport version-14', 'created_at': datetime.datetime(2024, 3, 27, 10, 48, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2022457416, 'issue_id': 2210398725, 'author': 'mergify[bot]', 'body': '> backport version-14\n\n#### ✅ Backports have been created\n\n<details>\n\n* [#40712 fix: Priority not copied from project template (backport #40708) (backport #40710)](https://github.com/frappe/erpnext/pull/40712) has been created for branch `version-14`\n\n</details>\n\n\n<!---\nDO NOT EDIT\n-*- Mergify Payload -*-\n{""command"": ""backport version-14"", ""conclusion"": ""success"", ""action_is_running"": true}\n-*- Mergify Payload End -*-\n-->', 'created_at': datetime.datetime(2024, 3, 27, 10, 48, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2034198982, 'issue_id': 2210398725, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.66.3 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.66.3)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 4, 3, 10, 33, 27, tzinfo=datetime.timezone.utc)}]","rohitwaghchaure (Assginee) on (2024-03-27 10:48:11 UTC): @Mergifyio backport version-14

mergify[bot] (Issue Creator) on (2024-03-27 10:48:30 UTC): #### ✅ Backports have been created

<details>

* [#40712 fix: Priority not copied from project template (backport #40708) (backport #40710)](https://github.com/frappe/erpnext/pull/40712) has been created for branch `version-14`

</details>


<!---
DO NOT EDIT
-*- Mergify Payload -*-
{""command"": ""backport version-14"", ""conclusion"": ""success"", ""action_is_running"": true}
-*- Mergify Payload End -*-
-->

frappe-pr-bot on (2024-04-03 10:33:27 UTC): :tada: This PR is included in version 14.66.3 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.66.3)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2210309075,pull_request,closed,,fix: Priority not copied from project template,"**Issue**
![priority_not_copied](https://github.com/frappe/erpnext/assets/8780500/8290477d-176d-4737-a927-1b27fb169e31)



**After Fix**
![priority_copied](https://github.com/frappe/erpnext/assets/8780500/9d706ad9-ea55-485b-82c8-b264e46bf0b2)
",rohitwaghchaure,2024-03-27 09:38:29+00:00,[],2024-04-12 00:09:12+00:00,2024-03-27 10:13:30+00:00,https://github.com/frappe/erpnext/pull/40708,"[('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2210284813,pull_request,closed,,fix(ux): Sales Order Stock Reservation Dialog,"**Source/Ref:** 12241

revert: https://github.com/frappe/erpnext/pull/38261 (Delete button adds an extra step if you do not want to reserve/unreserve all the items).

**Stock Reservation:**

![image](https://github.com/frappe/erpnext/assets/63660334/ea309411-4c42-4541-8dbc-6483d3842a8b)
All rows are selected by default.

**Stock Unreservation:**

![image](https://github.com/frappe/erpnext/assets/63660334/446c0eaa-aef8-413a-ac39-bb76a1c8ee91)

",s-aga-r,2024-03-27 09:26:57+00:00,[],2024-04-27 00:09:24+00:00,2024-04-12 07:50:28+00:00,https://github.com/frappe/erpnext/pull/40707,"[('backport version-15-hotfix', '')]","[{'comment_id': 2050824439, 'issue_id': 2210284813, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 4, 12, 1, 49, 57, tzinfo=datetime.timezone.utc)}]","stale[bot] on (2024-04-12 01:49:57 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

"
2210235597,pull_request,closed,,fix: typeerror on Purchase Order form UI,"regression: https://github.com/frappe/erpnext/pull/40208
![Screenshot from 2024-03-27 14-32-19](https://github.com/frappe/erpnext/assets/3272205/8a027031-b52d-4412-a1dc-e79a4eb2d412)
",ruthra-kumar,2024-03-27 09:02:38+00:00,[],2024-04-12 00:09:13+00:00,2024-03-27 09:08:49+00:00,https://github.com/frappe/erpnext/pull/40706,"[('defer backport', '')]",[],
2210173793,pull_request,closed,,refactor: usage of modified ordering,"Audited some important code:
- general_ledger.py
- stock_ledger.py
",ankush,2024-03-27 08:33:06+00:00,[],2024-04-12 00:09:14+00:00,2024-03-27 08:48:01+00:00,https://github.com/frappe/erpnext/pull/40705,[],[],
2210158063,pull_request,closed,,fix: rate changed on changing of the qty (backport #40700) (backport #40703),"Note: This is not a proper fix, but since we don't have another solution, we've decided to go with this approach.

**Steps to replicate the issue**

1. Disable ""Update Existing Price List Rate"" in the stock settings
2. Make a purchase order for item A with qty 2 and rate as 100 and submit the PO
3. System will create a Item Price with 100 rate
4. Change the Item Price value from 100 to 200
5. Make a purchase receipt against the PO which was created in the step 2
6. Change the qty from 2 to 3, system will change the rate from 100 to 200
7. The rate should be same as Purchase Order rate 

**After Fix**

1. The rate won't be change if the document is not saved
2. If use is changing the qty after saving the document then the rate will be change <hr>This is an automatic backport of pull request #40700 done by [Mergify](https://mergify.com).<hr>This is an automatic backport of pull request #40703 done by [Mergify](https://mergify.com).",mergify[bot],2024-03-27 08:24:06+00:00,[],2024-04-12 00:09:15+00:00,2024-03-27 08:36:20+00:00,https://github.com/frappe/erpnext/pull/40704,"[('released', None)]","[{'comment_id': 2022211876, 'issue_id': 2210158063, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.18.1 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.18.1)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 3, 27, 8, 37, 38, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-03-27 08:37:38 UTC): :tada: This PR is included in version 15.18.1 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.18.1)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2210129710,pull_request,closed,,fix: rate changed on changing of the qty (backport #40700),"Note: This is not a proper fix, but since we don't have another solution, we've decided to go with this approach.

**Steps to replicate the issue**

1. Disable ""Update Existing Price List Rate"" in the stock settings
2. Make a purchase order for item A with qty 2 and rate as 100 and submit the PO
3. System will create a Item Price with 100 rate
4. Change the Item Price value from 100 to 200
5. Make a purchase receipt against the PO which was created in the step 2
6. Change the qty from 2 to 3, system will change the rate from 100 to 200
7. The rate should be same as Purchase Order rate 

**After Fix**

1. The rate won't be change if the document is not saved
2. If use is changing the qty after saving the document then the rate will be change <hr>This is an automatic backport of pull request #40700 done by [Mergify](https://mergify.com).",mergify[bot],2024-03-27 08:07:25+00:00,['rohitwaghchaure'],2024-04-22 00:10:58+00:00,2024-03-27 08:22:54+00:00,https://github.com/frappe/erpnext/pull/40703,"[('released', None)]","[{'comment_id': 2022189524, 'issue_id': 2210129710, 'author': 'rohitwaghchaure', 'body': '@Mergifyio backport version-15', 'created_at': datetime.datetime(2024, 3, 27, 8, 23, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2022189579, 'issue_id': 2210129710, 'author': 'mergify[bot]', 'body': '> backport version-15\n\n#### ✅ Backports have been created\n\n<details>\n\n* [#40704 fix: rate changed on changing of the qty (backport #40700) (backport #40703)](https://github.com/frappe/erpnext/pull/40704) has been created for branch `version-15`\n\n</details>\n\n\n<!---\nDO NOT EDIT\n-*- Mergify Payload -*-\n{""command"": ""backport version-15"", ""conclusion"": ""success"", ""action_is_running"": true}\n-*- Mergify Payload End -*-\n-->', 'created_at': datetime.datetime(2024, 3, 27, 8, 23, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2034200938, 'issue_id': 2210129710, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.19.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.19.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 4, 3, 10, 34, 23, tzinfo=datetime.timezone.utc)}]","rohitwaghchaure (Assginee) on (2024-03-27 08:23:09 UTC): @Mergifyio backport version-15

mergify[bot] (Issue Creator) on (2024-03-27 08:23:11 UTC): #### ✅ Backports have been created

<details>

* [#40704 fix: rate changed on changing of the qty (backport #40700) (backport #40703)](https://github.com/frappe/erpnext/pull/40704) has been created for branch `version-15`

</details>


<!---
DO NOT EDIT
-*- Mergify Payload -*-
{""command"": ""backport version-15"", ""conclusion"": ""success"", ""action_is_running"": true}
-*- Mergify Payload End -*-
-->

frappe-pr-bot on (2024-04-03 10:34:23 UTC): :tada: This PR is included in version 15.19.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.19.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2210129614,pull_request,closed,,fix: rate changed on changing of the qty (backport #40700),"Note: This is not a proper fix, but since we don't have another solution, we've decided to go with this approach.

**Steps to replicate the issue**

1. Disable ""Update Existing Price List Rate"" in the stock settings
2. Make a purchase order for item A with qty 2 and rate as 100 and submit the PO
3. System will create a Item Price with 100 rate
4. Change the Item Price value from 100 to 200
5. Make a purchase receipt against the PO which was created in the step 2
6. Change the qty from 2 to 3, system will change the rate from 100 to 200
7. The rate should be same as Purchase Order rate 

**After Fix**

1. The rate won't be change if the document is not saved
2. If use is changing the qty after saving the document then the rate will be change <hr>This is an automatic backport of pull request #40700 done by [Mergify](https://mergify.com).",mergify[bot],2024-03-27 08:07:21+00:00,['rohitwaghchaure'],2024-04-12 00:09:17+00:00,2024-03-27 08:07:54+00:00,https://github.com/frappe/erpnext/pull/40702,"[('conflicts', None)]","[{'comment_id': 2022167558, 'issue_id': 2210129614, 'author': 'mergify[bot]', 'body': 'Cherry-pick of cd36a1051f43a35ab4d45ac75db2d3dadd814008 has failed:\n```\nOn branch mergify/bp/version-14-hotfix/pr-40700\nYour branch is up to date with \'origin/version-14-hotfix\'.\n\nYou are currently cherry-picking commit cd36a1051f.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/public/js/controllers/transaction.js\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 3, 27, 8, 7, 23, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-03-27 08:07:23 UTC): Cherry-pick of cd36a1051f43a35ab4d45ac75db2d3dadd814008 has failed:
```
On branch mergify/bp/version-14-hotfix/pr-40700
Your branch is up to date with 'origin/version-14-hotfix'.

You are currently cherry-picking commit cd36a1051f.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/public/js/controllers/transaction.js

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

"
2210124327,pull_request,closed,,fix: rate changed on changing of the qty,"Note: This is not a proper fix, but since we don't have another solution, we've decided to go with this approach.

**Steps to replicate the issue**

1. Disable ""Update Existing Price List Rate"" in the stock settings
2. Make a purchase order for item A with qty 2 and rate as 100 and submit the PO
3. System will create a Item Price with 100 rate
4. Change the Item Price value from 100 to 200
5. Make a purchase receipt against the PO which was created in the step 2
6. Change the qty from 2 to 3, system will change the rate from 100 to 200
7. The rate should be same as Purchase Order rate 

**After Fix**

1. The rate won't be change if the document is not saved
2. If use is changing the qty after saving the document then the rate will be change ",rohitwaghchaure,2024-03-27 08:04:00+00:00,[],2024-04-12 00:09:18+00:00,2024-03-27 08:06:22+00:00,https://github.com/frappe/erpnext/pull/40700,"[('backport version-15-hotfix', '')]",[],
2210092411,pull_request,closed,,refactor!: switch to creation sort,https://github.com/frappe/frappe/pull/25624 ,ankush,2024-03-27 07:43:18+00:00,[],2024-04-12 00:09:16+00:00,2024-03-27 08:15:35+00:00,https://github.com/frappe/erpnext/pull/40699,[],[],
2210015121,pull_request,closed,,fix: Get pro-rata amount based on correct days,,nabinhait,2024-03-27 06:54:38+00:00,[],2024-04-22 00:10:46+00:00,2024-04-07 06:31:25+00:00,https://github.com/frappe/erpnext/pull/40698,"[('needs-tests', 'This PR needs automated unit-tests.')]","[{'comment_id': 2037565035, 'issue_id': 2210015121, 'author': 'nabinhait', 'body': '@Mergifyio backport version-15-hotfix', 'created_at': datetime.datetime(2024, 4, 4, 15, 46, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2037566641, 'issue_id': 2210015121, 'author': 'nabinhait', 'body': '@Mergifyio backport version-14-hotfix', 'created_at': datetime.datetime(2024, 4, 4, 15, 46, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2037568220, 'issue_id': 2210015121, 'author': 'mergify[bot]', 'body': '> backport version-15-hotfix\n\n#### ✅ Backports have been created\n\n<details>\n\n* [#40891 fix: Get pro-rata amount based on correct days (backport #40698)](https://github.com/frappe/erpnext/pull/40891) has been created for branch `version-15-hotfix` but encountered conflicts\n\n</details>\n\n\n<!---\nDO NOT EDIT\n-*- Mergify Payload -*-\n{""command"": ""backport version-15-hotfix"", ""conclusion"": ""success"", ""action_is_running"": true}\n-*- Mergify Payload End -*-\n-->', 'created_at': datetime.datetime(2024, 4, 4, 15, 47, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2037568378, 'issue_id': 2210015121, 'author': 'mergify[bot]', 'body': '> backport version-14-hotfix\n\n#### ✅ Backports have been created\n\n<details>\n\n* [#40892 fix: Get pro-rata amount based on correct days (backport #40698)](https://github.com/frappe/erpnext/pull/40892) has been created for branch `version-14-hotfix` but encountered conflicts\n\n</details>\n\n\n<!---\nDO NOT EDIT\n-*- Mergify Payload -*-\n{""command"": ""backport version-14-hotfix"", ""conclusion"": ""success"", ""action_is_running"": true}\n-*- Mergify Payload End -*-\n-->', 'created_at': datetime.datetime(2024, 4, 4, 15, 47, 34, tzinfo=datetime.timezone.utc)}]","nabinhait (Issue Creator) on (2024-04-04 15:46:06 UTC): @Mergifyio backport version-15-hotfix

nabinhait (Issue Creator) on (2024-04-04 15:46:46 UTC): @Mergifyio backport version-14-hotfix

mergify[bot] on (2024-04-04 15:47:30 UTC): #### ✅ Backports have been created

<details>

* [#40891 fix: Get pro-rata amount based on correct days (backport #40698)](https://github.com/frappe/erpnext/pull/40891) has been created for branch `version-15-hotfix` but encountered conflicts

</details>


<!---
DO NOT EDIT
-*- Mergify Payload -*-
{""command"": ""backport version-15-hotfix"", ""conclusion"": ""success"", ""action_is_running"": true}
-*- Mergify Payload End -*-
-->

mergify[bot] on (2024-04-04 15:47:34 UTC): #### ✅ Backports have been created

<details>

* [#40892 fix: Get pro-rata amount based on correct days (backport #40698)](https://github.com/frappe/erpnext/pull/40892) has been created for branch `version-14-hotfix` but encountered conflicts

</details>


<!---
DO NOT EDIT
-*- Mergify Payload -*-
{""command"": ""backport version-14-hotfix"", ""conclusion"": ""success"", ""action_is_running"": true}
-*- Mergify Payload End -*-
-->

"
2209965301,pull_request,closed,,chore: Reduce usage of cur_frm (backport #40641),<hr>This is an automatic backport of pull request #40641 done by [Mergify](https://mergify.com).,mergify[bot],2024-03-27 06:16:34+00:00,['deepeshgarg007'],2024-04-26 00:09:23+00:00,2024-04-10 16:05:08+00:00,https://github.com/frappe/erpnext/pull/40697,"[('released', None)]","[{'comment_id': 2049112772, 'issue_id': 2209965301, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.20.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.20.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 4, 11, 7, 39, 48, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-04-11 07:39:48 UTC): :tada: This PR is included in version 15.20.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.20.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2209877200,pull_request,closed,,feat: Periodically monitor ledger health,"A scheduled job, that runs daily, checks for inconsistencies in General and Payment Ledger. This serves as an early warning system to identify any balance issues in Ledger.

It makes use of existing reports: `Voucher-wise Balance` and `General and Payment Ledger Comparison` to monitor ledger health.

![Screenshot from 2024-03-27 10-41-19](https://github.com/frappe/erpnext/assets/3272205/a3a4758d-a244-424a-ab98-75a827d21adb)
![Screenshot from 2024-03-27 10-42-47](https://github.com/frappe/erpnext/assets/3272205/2a74f007-b789-4e3c-a8d1-1d2d427d9e6c)

docs will be added once the PR is ready to merge.  additing `no-docs` to suppress the documentation check failure
",ruthra-kumar,2024-03-27 05:13:40+00:00,[],2024-04-25 00:12:08+00:00,2024-04-09 12:22:55+00:00,https://github.com/frappe/erpnext/pull/40695,"[('accounts', ''), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2209059635,pull_request,closed,,fix: default accounting dimension in journal entry child table,"<!--

Some key notes before you open a PR:

 1. Select which branch should this PR be merged in?
 2. PR name follows [convention](http://karma-runner.github.io/4.0/dev/git-commit-msg.html)
 3. All tests pass locally, UI and Unit tests
 4. All business logic and validations must be on the server-side
 5. Update necessary Documentation
 6. Put `closes #XXXX` in your comment to auto-close the issue that your PR fixes


Also, if you're new here

- Documentation Guidelines => https://github.com/frappe/erpnext/wiki/Updating-Documentation

- Contribution Guide => https://github.com/frappe/erpnext/blob/develop/.github/CONTRIBUTING.md

- Pull Request Checklist => https://github.com/frappe/erpnext/wiki/Pull-Request-Checklist

-->

> Please provide enough information so that others can review your pull request:

<!-- You can skip this if you're fixing a typo or updating existing documentation -->

> Explain the **details** for making this change. What existing problem does the pull request solve?

<!-- Example: When ""Adding a function to do X"", explain why it is necessary to have a way to do X. -->

> Screenshots/GIFs

<!-- Add images/recordings to better visualize the change: expected/current behviour -->
Accounting dimensions were not applying by default while creating journal entry.
_Before-_ 
<img width=""1103"" alt=""Screenshot 2024-03-26 at 4 40 40 PM"" src=""https://github.com/frappe/erpnext/assets/142375893/e6f2e9f0-b9f1-42a2-83a3-ca5bb4c444a5"">

_After-_ 
<img width=""1103"" alt=""Screenshot 2024-03-26 at 4 46 53 PM"" src=""https://github.com/frappe/erpnext/assets/142375893/65508460-f532-439b-916a-97c33d576ab7"">

no-docs
closes https://github.com/frappe/erpnext/issues/40536#issue-2194448051",khushi8112,2024-03-26 18:49:52+00:00,[],2024-04-25 00:11:40+00:00,2024-04-10 16:52:31+00:00,https://github.com/frappe/erpnext/pull/40691,[],[],
2208418343,pull_request,closed,,fix: validation error for the subcontracting receipt (backport #40685),"If the FG item qty has changed in the subcontracting receipt then system throwing the negative stock error even though stock is exists.

The negative value rounding off was causing the issue
<img width=""313"" alt=""Screenshot 2024-03-26 at 6 11 06 PM"" src=""https://github.com/frappe/erpnext/assets/8780500/09152ba2-c4c6-4a79-98a9-8016e80e2d64"">


<hr>This is an automatic backport of pull request #40685 done by [Mergify](https://mergify.com).",mergify[bot],2024-03-26 14:28:01+00:00,['rohitwaghchaure'],2024-04-15 02:26:34+00:00,2024-03-27 02:34:58+00:00,https://github.com/frappe/erpnext/pull/40689,"[('stock', None), ('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2021857335, 'issue_id': 2208418343, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.18.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.18.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 3, 27, 3, 28, 53, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-03-27 03:28:53 UTC): :tada: This PR is included in version 15.18.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.18.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2208354546,pull_request,closed,,fix: incorrect total qty in job card (backport #40684),"1. Assign two employees to a job card
2. Start and complete the job card with qty as 1
3. The total qty will show as 2<hr>This is an automatic backport of pull request #40684 done by [Mergify](https://mergify.com).",mergify[bot],2024-03-26 14:04:12+00:00,['rohitwaghchaure'],2024-04-12 00:09:46+00:00,2024-03-26 14:24:47+00:00,https://github.com/frappe/erpnext/pull/40688,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2021857370, 'issue_id': 2208354546, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.18.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.18.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 3, 27, 3, 28, 56, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-03-27 03:28:56 UTC): :tada: This PR is included in version 15.18.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.18.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2208353508,pull_request,closed,,fix: incorrect total qty in job card (backport #40684),"1. Assign two employees to a job card
2. Start and complete the job card with qty as 1
3. The total qty will show as 2<hr>This is an automatic backport of pull request #40684 done by [Mergify](https://mergify.com).",mergify[bot],2024-03-26 14:03:50+00:00,['rohitwaghchaure'],2024-04-15 02:26:48+00:00,2024-03-26 14:24:15+00:00,https://github.com/frappe/erpnext/pull/40687,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2021857149, 'issue_id': 2208353508, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.66.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.66.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 3, 27, 3, 28, 38, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-03-27 03:28:38 UTC): :tada: This PR is included in version 14.66.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.66.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2208161727,pull_request,closed,,fix: validation error for the subcontracting receipt,"If the FG item qty has changed in the subcontracting receipt then system throwing the negative stock error even though stock is exists.

The negative value rounding off was causing the issue
<img width=""313"" alt=""Screenshot 2024-03-26 at 6 11 06 PM"" src=""https://github.com/frappe/erpnext/assets/8780500/09152ba2-c4c6-4a79-98a9-8016e80e2d64"">


",rohitwaghchaure,2024-03-26 12:51:54+00:00,[],2024-04-15 02:26:52+00:00,2024-03-26 14:24:55+00:00,https://github.com/frappe/erpnext/pull/40685,"[('stock', None), ('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2208154327,pull_request,closed,,fix: incorrect total qty in job card,"1. Assign two employees to a job card
2. Start and complete the job card with qty as 1
3. The total qty will show as 2",rohitwaghchaure,2024-03-26 12:48:11+00:00,[],2024-04-15 02:26:53+00:00,2024-03-26 14:02:04+00:00,https://github.com/frappe/erpnext/pull/40684,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2208152626,pull_request,closed,,fix: sync translations from crowdin,,frappe-pr-bot,2024-03-26 12:47:18+00:00,[],2024-04-15 02:26:51+00:00,2024-03-26 23:25:04+00:00,https://github.com/frappe/erpnext/pull/40683,[],[],
2207970176,pull_request,closed,,chore: switch to ruff for python formatting/linting,"Switch to ruff, in order to stay consistent with the framework. It's a replacement for black, isort and flake8.

Todo (after approval): bulk-format all files (`ruff format .`) and add commit to `.git-ignore-revs`.",barredterra,2024-03-26 11:22:39+00:00,['akhilnarang'],2024-04-12 00:09:10+00:00,2024-03-27 10:53:00+00:00,https://github.com/frappe/erpnext/pull/40681,[],"[{'comment_id': 2020862822, 'issue_id': 2207970176, 'author': 'ankush', 'body': '@akhilnarang can you look into this too. Lets move ERPNext and later HRMS too to same config. There are some improvements over flake8 (like that variable checking rule!)', 'created_at': datetime.datetime(2024, 3, 26, 16, 14, 30, tzinfo=datetime.timezone.utc)}]","ankush on (2024-03-26 16:14:30 UTC): @akhilnarang can you look into this too. Lets move ERPNext and later HRMS too to same config. There are some improvements over flake8 (like that variable checking rule!)

"
2207868467,pull_request,closed,,fix: existing batch from different warehouse not showing in the dropdown (backport #40674),"**Steps to replicate issue**

1. Create purchase receipt for the warehouse Stores with the batch ABC 
2. Create purchase receipt for the warehouse FG with the same batch ABC
3. The batch ABC wouldn't show in the popup while making the second purchase receipt
<hr>This is an automatic backport of pull request #40674 done by [Mergify](https://mergify.com).",mergify[bot],2024-03-26 10:36:09+00:00,['rohitwaghchaure'],2024-04-12 00:09:42+00:00,2024-03-26 11:03:14+00:00,https://github.com/frappe/erpnext/pull/40680,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2021857473, 'issue_id': 2207868467, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.18.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.18.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 3, 27, 3, 29, 5, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-03-27 03:29:05 UTC): :tada: This PR is included in version 15.18.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.18.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2207814759,pull_request,closed,,feat: added horizontal report view in p&l statement,"<!--

Some key notes before you open a PR:

 1. Select which branch should this PR be merged in?
 2. PR name follows [convention](http://karma-runner.github.io/4.0/dev/git-commit-msg.html)
 3. All tests pass locally, UI and Unit tests
 4. All business logic and validations must be on the server-side
 5. Update necessary Documentation
 6. Put `closes #XXXX` in your comment to auto-close the issue that your PR fixes


Also, if you're new here

- Documentation Guidelines => https://github.com/frappe/erpnext/wiki/Updating-Documentation

- Contribution Guide => https://github.com/frappe/erpnext/blob/develop/.github/CONTRIBUTING.md

- Pull Request Checklist => https://github.com/frappe/erpnext/wiki/Pull-Request-Checklist

-->

> Please provide enough information so that others can review your pull request:

<!-- You can skip this if you're fixing a typo or updating existing documentation -->

> Explain the **details** for making this change. What existing problem does the pull request solve?

<!-- Example: When ""Adding a function to do X"", explain why it is necessary to have a way to do X. -->

> Screenshots/GIFs

<!-- Add im
ages/recordings to better visualize the change: expected/current behviour -->
Added filter in Profit & Loss Statement to select report view to vertical or horizontal.
_Before-_
<img width=""389"" alt=""Screenshot 2024-03-26 at 2 51 52 PM"" src=""https://github.com/frappe/erpnext/assets/142375893/e9c7f23d-177f-4f3c-ab30-845f75430696"">
_After-_ 
<img width=""389"" alt=""Screenshot 2024-03-26 at 2 52 27 PM"" src=""https://github.com/frappe/erpnext/assets/142375893/95a13148-420f-43ce-856f-8daf22e42b19"">

So based on the selection P&L will be shown to the user.

**Horizontal View-**

<img width=""1059"" alt=""Screenshot 2024-03-28 at 2 37 03 PM"" src=""https://github.com/frappe/erpnext/assets/142375893/c8dade43-7d21-475b-8203-306ab7e8e0a8"">

closes https://github.com/frappe/erpnext/issues/37445#issue-1935961680
no-docs
",khushi8112,2024-03-26 10:11:48+00:00,[],2024-05-09 00:09:59+00:00,2024-04-24 02:05:38+00:00,https://github.com/frappe/erpnext/pull/40679,"[('needs-tests', 'This PR needs automated unit-tests.'), ('inactive', '')]","[{'comment_id': 2053517446, 'issue_id': 2207814759, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 4, 13, 6, 1, 29, tzinfo=datetime.timezone.utc)}]","stale[bot] on (2024-04-13 06:01:29 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

"
2207723715,pull_request,closed,,chore: release v15,Automated weekly release.,frappe-pr-bot,2024-03-26 09:34:03+00:00,[],2024-04-15 02:26:35+00:00,2024-03-27 03:26:26+00:00,https://github.com/frappe/erpnext/pull/40678,"[('accounts', ''), ('stock', None), ('released', None)]","[{'comment_id': 2021857305, 'issue_id': 2207723715, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.18.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.18.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 3, 27, 3, 28, 50, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot (Issue Creator) on (2024-03-27 03:28:50 UTC): :tada: This PR is included in version 15.18.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.18.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2207723697,pull_request,closed,,chore: release v14,Automated weekly release.,frappe-pr-bot,2024-03-26 09:34:03+00:00,[],2024-04-15 02:26:49+00:00,2024-03-27 03:26:10+00:00,https://github.com/frappe/erpnext/pull/40677,"[('accounts', ''), ('stock', None), ('released', None)]","[{'comment_id': 2021857113, 'issue_id': 2207723697, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.66.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.66.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 3, 27, 3, 28, 34, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot (Issue Creator) on (2024-03-27 03:28:34 UTC): :tada: This PR is included in version 14.66.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.66.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2207638617,pull_request,closed,,fix: existing batch from different warehouse not showing in the dropdown,"**Steps to replicate issue**

1. Create purchase receipt for the warehouse Stores with the batch ABC 
2. Create purchase receipt for the warehouse FG with the same batch ABC
3. The batch ABC wouldn't show in the popup while making the second purchase receipt
",rohitwaghchaure,2024-03-26 09:03:25+00:00,[],2024-04-15 02:26:55+00:00,2024-03-26 10:34:15+00:00,https://github.com/frappe/erpnext/pull/40674,"[('backport version-15-hotfix', '')]",[],
2207350076,pull_request,closed,,fix: item not coming in quick entry (backport #40672),"While creating a new Batch from the stock entry, the item code has not mapped in the quick entry.


**After Fix**
![stock_entry_batch](https://github.com/frappe/erpnext/assets/8780500/535d0eea-a449-4737-bc19-1fcb512b8290)

<hr>This is an automatic backport of pull request #40672 done by [Mergify](https://mergify.com).",mergify[bot],2024-03-26 06:13:47+00:00,['rohitwaghchaure'],2024-04-12 00:09:43+00:00,2024-03-26 09:03:46+00:00,https://github.com/frappe/erpnext/pull/40673,"[('released', None)]","[{'comment_id': 2021857438, 'issue_id': 2207350076, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.18.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.18.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 3, 27, 3, 29, 2, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-03-27 03:29:02 UTC): :tada: This PR is included in version 15.18.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.18.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2207342992,pull_request,closed,,fix: item not coming in quick entry,"While creating a new Batch from the stock entry, the item code has not mapped in the quick entry.


**After Fix**
![stock_entry_batch](https://github.com/frappe/erpnext/assets/8780500/535d0eea-a449-4737-bc19-1fcb512b8290)

",rohitwaghchaure,2024-03-26 06:09:15+00:00,[],2024-04-15 02:26:58+00:00,2024-03-26 06:12:33+00:00,https://github.com/frappe/erpnext/pull/40672,"[('backport version-15-hotfix', '')]",[],
2207209271,pull_request,closed,,refactor: better pop up message for Internal Customer validation (backport #40634),"-added more meaningful description to message when using ""internal Customer"" scenario



> Please provide enough information so that others can review your pull request:



> Explain the **details** for making this change. What existing problem does the pull request solve?



> Screenshots/GIFs


<hr>This is an automatic backport of pull request #40634 done by [Mergify](https://mergify.com).",mergify[bot],2024-03-26 04:18:40+00:00,[],2024-05-09 00:09:54+00:00,2024-04-24 02:05:40+00:00,https://github.com/frappe/erpnext/pull/40669,"[('needs-tests', 'This PR needs automated unit-tests.'), ('inactive', '')]","[{'comment_id': 2050824466, 'issue_id': 2207209271, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 4, 12, 1, 49, 58, tzinfo=datetime.timezone.utc)}]","stale[bot] on (2024-04-12 01:49:58 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

"
2207209177,pull_request,closed,,refactor: better pop up message for Internal Customer validation (backport #40634),"-added more meaningful description to message when using ""internal Customer"" scenario



> Please provide enough information so that others can review your pull request:



> Explain the **details** for making this change. What existing problem does the pull request solve?



> Screenshots/GIFs


<hr>This is an automatic backport of pull request #40634 done by [Mergify](https://mergify.com).",mergify[bot],2024-03-26 04:18:37+00:00,[],2024-04-22 00:11:24+00:00,2024-03-29 08:20:36+00:00,https://github.com/frappe/erpnext/pull/40668,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2019354564, 'issue_id': 2207209177, 'author': 'mergify[bot]', 'body': 'Cherry-pick of b132892b257dcad80cb85092b3b19cfc5532ece6 has failed:\n```\nOn branch mergify/bp/version-14-hotfix/pr-40634\nYour branch is up to date with \'origin/version-14-hotfix\'.\n\nYou are currently cherry-picking commit b132892b25.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/accounts/doctype/sales_invoice/sales_invoice.py\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 3, 26, 4, 18, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2034198652, 'issue_id': 2207209177, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.66.3 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.66.3)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 4, 3, 10, 33, 15, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-03-26 04:18:39 UTC): Cherry-pick of b132892b257dcad80cb85092b3b19cfc5532ece6 has failed:
```
On branch mergify/bp/version-14-hotfix/pr-40634
Your branch is up to date with 'origin/version-14-hotfix'.

You are currently cherry-picking commit b132892b25.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/accounts/doctype/sales_invoice/sales_invoice.py

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

frappe-pr-bot on (2024-04-03 10:33:15 UTC): :tada: This PR is included in version 14.66.3 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.66.3)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2206865098,pull_request,closed,,fix: remove faulty translation,,barredterra,2024-03-25 22:42:20+00:00,[],2024-04-12 00:09:45+00:00,2024-03-26 23:21:16+00:00,https://github.com/frappe/erpnext/pull/40667,"[('released', None)]","[{'comment_id': 2021857404, 'issue_id': 2206865098, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.18.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.18.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 3, 27, 3, 28, 59, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-03-27 03:28:59 UTC): :tada: This PR is included in version 15.18.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.18.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2206860669,pull_request,closed,,fix: remove faulty translation,,barredterra,2024-03-25 22:40:12+00:00,[],2024-04-15 02:27:04+00:00,2024-03-25 22:42:24+00:00,https://github.com/frappe/erpnext/pull/40666,[],[],
2206859993,pull_request,closed,,version 15 hotfix,,barredterra,2024-03-25 22:39:47+00:00,[],2024-04-15 02:27:03+00:00,2024-03-25 22:39:59+00:00,https://github.com/frappe/erpnext/pull/40665,[],[],
2206838717,pull_request,closed,,fix: Turkish translations (backport #40650),"ERPNext Turkey
SelenSoft Logedo



> Please provide enough information so that others can review your pull request:



> Explain the **details** for making this change. What existing problem does the pull request solve?



> Screenshots/GIFs


<hr>This is an automatic backport of pull request #40650 done by [Mergify](https://mergify.com).",mergify[bot],2024-03-25 22:28:57+00:00,[],2024-04-15 02:27:05+00:00,2024-03-25 22:38:26+00:00,https://github.com/frappe/erpnext/pull/40664,"[('conflicts', None)]","[{'comment_id': 2019031423, 'issue_id': 2206838717, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 17a087663bfcefbc491963d031ec78b72905a144 has failed:\n```\nOn branch mergify/bp/version-14-hotfix/pr-40650\nYour branch is up to date with \'origin/version-14-hotfix\'.\n\nYou are currently cherry-picking commit 17a087663b.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/translations/tr.csv\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 3, 25, 22, 28, 59, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-03-25 22:28:59 UTC): Cherry-pick of 17a087663bfcefbc491963d031ec78b72905a144 has failed:
```
On branch mergify/bp/version-14-hotfix/pr-40650
Your branch is up to date with 'origin/version-14-hotfix'.

You are currently cherry-picking commit 17a087663b.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/translations/tr.csv

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

"
2206818639,pull_request,closed,,feat: improve default UOM data,"In continuation of #40593:

- Enhance UOM data to include the standardized _Common Code_ and _Symbol_ for some of the most common UOMs
- Simplify UOM creation during setup
- Create UOMs with english names; add translatable string extractor for default UOMs; show translated UOM name in link fields

> no-docs",barredterra,2024-03-25 22:17:28+00:00,[],2025-02-06 00:10:16+00:00,2024-03-26 23:28:21+00:00,https://github.com/frappe/erpnext/pull/40663,[],[],
2206127220,pull_request,closed,,refactor!: rename Email Campaign to Campaign Run,"# Context

- There are 3 (sic!) different ""Campaigns"" in the awesome bar (Campaign, Email Campaign & Marketing Campaign); it couldn't be worse
- The name of Email Campaign is clearly a misnomer, because:
  - The nature of Its function is not at all scoped to Email
  - It's _not_ a campaign at all

- It's a Campaign Run

# Proposal

- Rename _Email Campaign_ to _Campaign Run_

# Outlook

Based on this, I'm implementing a mixed email / whatsapp campaign run.
",blaggacao,2024-03-25 16:11:10+00:00,[],2024-06-07 00:10:02+00:00,2024-05-20 00:22:02+00:00,https://github.com/frappe/erpnext/pull/40659,"[('inactive', '')]","[{'comment_id': 2024871160, 'issue_id': 2206127220, 'author': 'blaggacao', 'body': 'The [third commit](https://github.com/frappe/erpnext/pull/40659/commits/f3dbe12d7c7fad0409da08e745fe342a14459954) is entirely optional, and I probably should keep it private on my fork for now. Please let me know what to do. :pray:', 'created_at': datetime.datetime(2024, 3, 28, 10, 31, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2027785170, 'issue_id': 2206127220, 'author': 'blaggacao', 'body': ""Since this now also includes more CRM capabilities, which we're currently trying out in production, I'll mark as draft to wait for the first iteration or so with our users to vet the entity relation design a little more."", 'created_at': datetime.datetime(2024, 3, 29, 22, 15, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2054065039, 'issue_id': 2206127220, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 4, 14, 13, 39, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2054097616, 'issue_id': 2206127220, 'author': 'blaggacao', 'body': ""I'd like to keep proposing this change."", 'created_at': datetime.datetime(2024, 4, 14, 15, 26, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2082228203, 'issue_id': 2206127220, 'author': 'barredterra', 'body': '> The [third commit](https://github.com/frappe/erpnext/pull/40659/commits/f3dbe12d7c7fad0409da08e745fe342a14459954) is entirely optional, and I probably should keep it private on my fork for now. Please let me know what to do. 🙏\r\n\r\nProbably remove for now to keep the diff small? Maybe open a separate PR with this feature only.', 'created_at': datetime.datetime(2024, 4, 29, 9, 12, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2111500900, 'issue_id': 2206127220, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 5, 15, 3, 13, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2125049569, 'issue_id': 2206127220, 'author': 'blaggacao', 'body': '@deepeshgarg007 could you please reopen and remove the stale artist?', 'created_at': datetime.datetime(2024, 5, 22, 15, 11, 7, tzinfo=datetime.timezone.utc)}]","blaggacao (Issue Creator) on (2024-03-28 10:31:58 UTC): The [third commit](https://github.com/frappe/erpnext/pull/40659/commits/f3dbe12d7c7fad0409da08e745fe342a14459954) is entirely optional, and I probably should keep it private on my fork for now. Please let me know what to do. :pray:

blaggacao (Issue Creator) on (2024-03-29 22:15:02 UTC): Since this now also includes more CRM capabilities, which we're currently trying out in production, I'll mark as draft to wait for the first iteration or so with our users to vet the entity relation design a little more.

stale[bot] on (2024-04-14 13:39:07 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

blaggacao (Issue Creator) on (2024-04-14 15:26:35 UTC): I'd like to keep proposing this change.

barredterra on (2024-04-29 09:12:31 UTC): Probably remove for now to keep the diff small? Maybe open a separate PR with this feature only.

stale[bot] on (2024-05-15 03:13:28 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

blaggacao (Issue Creator) on (2024-05-22 15:11:07 UTC): @deepeshgarg007 could you please reopen and remove the stale artist?

"
2206004566,pull_request,closed,,fix(return): set default return warehouse,"This captures the case of manual modifications to the return and ensures
that by default, the correct return warehouse will be set

# Context

- Create a dn return of a packaged good of milk and marmalade
- Return only the milk

To do this:
- remove the package from the return
- manually add the milk; set negative count

---

With this patch, the milk will be returned to the correct default sales return warehouse.
",blaggacao,2024-03-25 15:14:50+00:00,[],2024-06-19 00:09:30+00:00,2024-05-20 00:22:00+00:00,https://github.com/frappe/erpnext/pull/40657,"[('needs-tests', 'This PR needs automated unit-tests.'), ('inactive', '')]","[{'comment_id': 2046331031, 'issue_id': 2206004566, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 4, 10, 2, 7, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2046601629, 'issue_id': 2206004566, 'author': 'blaggacao', 'body': 'No this should not be closed or go stale, but merged as a fix or even hotfix!!', 'created_at': datetime.datetime(2024, 4, 10, 6, 7, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2046604210, 'issue_id': 2206004566, 'author': 'blaggacao', 'body': '@deepeshgarg007 @rohitwaghchaure Can you help to review?\n\nIn my opinion, this should be a hotfix due to the impact of not having that field set during (partial) return operations in bundled product scenarios.', 'created_at': datetime.datetime(2024, 4, 10, 6, 9, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2081433930, 'issue_id': 2206004566, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 4, 28, 10, 55, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2081453245, 'issue_id': 2206004566, 'author': 'blaggacao', 'body': 'ping', 'created_at': datetime.datetime(2024, 4, 28, 12, 0, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2111500945, 'issue_id': 2206004566, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 5, 15, 3, 13, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2125051689, 'issue_id': 2206004566, 'author': 'blaggacao', 'body': '@rohitwaghchaure This was closed by mistake, it is not fixed yet. Please remove the stale artist. Thanks! :handshake:', 'created_at': datetime.datetime(2024, 5, 22, 15, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2147155523, 'issue_id': 2206004566, 'author': 'blaggacao', 'body': '@ruthra-kumar can you please reopen this? This is a an importan fix for Return Merchandise Management when working with product bundles.', 'created_at': datetime.datetime(2024, 6, 4, 10, 14, 51, tzinfo=datetime.timezone.utc)}]","stale[bot] on (2024-04-10 02:07:55 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

blaggacao (Issue Creator) on (2024-04-10 06:07:20 UTC): No this should not be closed or go stale, but merged as a fix or even hotfix!!

blaggacao (Issue Creator) on (2024-04-10 06:09:56 UTC): @deepeshgarg007 @rohitwaghchaure Can you help to review?

In my opinion, this should be a hotfix due to the impact of not having that field set during (partial) return operations in bundled product scenarios.

stale[bot] on (2024-04-28 10:55:53 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

blaggacao (Issue Creator) on (2024-04-28 12:00:46 UTC): ping

stale[bot] on (2024-05-15 03:13:31 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

blaggacao (Issue Creator) on (2024-05-22 15:12:00 UTC): @rohitwaghchaure This was closed by mistake, it is not fixed yet. Please remove the stale artist. Thanks! :handshake:

blaggacao (Issue Creator) on (2024-06-04 10:14:51 UTC): @ruthra-kumar can you please reopen this? This is a an importan fix for Return Merchandise Management when working with product bundles.

"
2205674266,pull_request,closed,,FIX: remove default translation in opportunity type,"The default opportunity type is Sales, but as the initial doctype values of the opportunity type have been translated, an error occurs when creating the opportunity.
```
Opportunity Type ""Sales"" does not exist
```
Because the translated value was stored.

My fix is the following: Do not translate values at creation but display translation in link fields.

In my case I have:
![image](https://github.com/frappe/erpnext/assets/58433943/96860ad0-c803-4f39-b932-a2dd96a3ac77)
![image](https://github.com/frappe/erpnext/assets/58433943/4b8fbad4-6100-4b47-b851-ee7df873159a)
![image](https://github.com/frappe/erpnext/assets/58433943/c7e25cb8-672c-45e1-a62b-79b8617168cd)

 Please Backport this fix in V14 ",noec764,2024-03-25 12:47:49+00:00,[],2024-04-28 00:10:15+00:00,2024-04-13 11:48:28+00:00,https://github.com/frappe/erpnext/pull/40655,"[('needs-tests', 'This PR needs automated unit-tests.'), ('inactive', '')]","[{'comment_id': 2046331041, 'issue_id': 2205674266, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 4, 10, 2, 7, 56, tzinfo=datetime.timezone.utc)}]","stale[bot] on (2024-04-10 02:07:56 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

"
2205252816,pull_request,closed,,fix: Add default finance book check in P&L statement (backport #40640),Fixes: https://github.com/frappe/erpnext/issues/40462<hr>This is an automatic backport of pull request #40640 done by [Mergify](https://mergify.com).,mergify[bot],2024-03-25 09:14:50+00:00,['deepeshgarg007'],2024-04-12 00:09:41+00:00,2024-03-25 11:38:40+00:00,https://github.com/frappe/erpnext/pull/40653,"[('released', None)]","[{'comment_id': 2021857515, 'issue_id': 2205252816, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.18.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.18.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 3, 27, 3, 29, 8, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-03-27 03:29:08 UTC): :tada: This PR is included in version 15.18.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.18.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2205252644,pull_request,closed,,fix: Add default finance book check in P&L statement (backport #40640),Fixes: https://github.com/frappe/erpnext/issues/40462<hr>This is an automatic backport of pull request #40640 done by [Mergify](https://mergify.com).,mergify[bot],2024-03-25 09:14:44+00:00,['deepeshgarg007'],2024-04-15 02:26:47+00:00,2024-03-25 11:38:57+00:00,https://github.com/frappe/erpnext/pull/40652,"[('released', None)]","[{'comment_id': 2021857178, 'issue_id': 2205252644, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.66.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.66.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 3, 27, 3, 28, 40, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-03-27 03:28:40 UTC): :tada: This PR is included in version 14.66.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.66.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2205200094,pull_request,closed,,remove the group account option from the expense account filter.,`no-docs`,niyazrazak,2024-03-25 08:44:14+00:00,[],2024-04-15 02:26:56+00:00,2024-03-25 11:43:18+00:00,https://github.com/frappe/erpnext/pull/40651,[],"[{'comment_id': 2017816435, 'issue_id': 2205200094, 'author': 'deepeshgarg007', 'body': '@niyazrazak User should not post any entry directly in the group account. This is incorrect, closing this PR.', 'created_at': datetime.datetime(2024, 3, 25, 11, 43, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2019792610, 'issue_id': 2205200094, 'author': 'niyazrazak', 'body': ""@deepeshgarg007, I understand that users should not post entries to a group account. I'm suggesting adding a filter to hide group accounts from users, similar to the journal and other account selections."", 'created_at': datetime.datetime(2024, 3, 26, 8, 19, 26, tzinfo=datetime.timezone.utc)}]","deepeshgarg007 on (2024-03-25 11:43:18 UTC): @niyazrazak User should not post any entry directly in the group account. This is incorrect, closing this PR.

niyazrazak (Issue Creator) on (2024-03-26 08:19:26 UTC): @deepeshgarg007, I understand that users should not post entries to a group account. I'm suggesting adding a filter to hide group accounts from users, similar to the journal and other account selections.

"
2205154522,pull_request,closed,,fix: Turkish translations,"ERPNext Turkey
SelenSoft Logedo

<!--

Some key notes before you open a PR:

 1. Select which branch should this PR be merged in?
 2. PR name follows [convention](http://karma-runner.github.io/4.0/dev/git-commit-msg.html)
 3. All tests pass locally, UI and Unit tests
 4. All business logic and validations must be on the server-side
 5. Update necessary Documentation
 6. Put `closes #XXXX` in your comment to auto-close the issue that your PR fixes


Also, if you're new here

- Documentation Guidelines => https://github.com/frappe/erpnext/wiki/Updating-Documentation

- Contribution Guide => https://github.com/frappe/erpnext/blob/develop/.github/CONTRIBUTING.md

- Pull Request Checklist => https://github.com/frappe/erpnext/wiki/Pull-Request-Checklist

-->

> Please provide enough information so that others can review your pull request:

<!-- You can skip this if you're fixing a typo or updating existing documentation -->

> Explain the **details** for making this change. What existing problem does the pull request solve?

<!-- Example: When ""Adding a function to do X"", explain why it is necessary to have a way to do X. -->

> Screenshots/GIFs

<!-- Add images/recordings to better visualize the change: expected/current behviour -->
",selensoftr,2024-03-25 08:17:00+00:00,[],2024-04-12 00:09:37+00:00,2024-03-25 22:27:51+00:00,https://github.com/frappe/erpnext/pull/40650,"[('squash', 'Meant to tell reviewers that this PR should be squashed into a single commit while merging.'), ('released', None)]","[{'comment_id': 2021857634, 'issue_id': 2205154522, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.18.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.18.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 3, 27, 3, 29, 17, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-03-27 03:29:17 UTC): :tada: This PR is included in version 15.18.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.18.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2205127048,pull_request,closed,,Please Update tr.csv,"ERPNext Turkey
SelenSoft

<!--

Some key notes before you open a PR:

 1. Select which branch should this PR be merged in?
 2. PR name follows [convention](http://karma-runner.github.io/4.0/dev/git-commit-msg.html)
 3. All tests pass locally, UI and Unit tests
 4. All business logic and validations must be on the server-side
 5. Update necessary Documentation
 6. Put `closes #XXXX` in your comment to auto-close the issue that your PR fixes


Also, if you're new here

- Documentation Guidelines => https://github.com/frappe/erpnext/wiki/Updating-Documentation

- Contribution Guide => https://github.com/frappe/erpnext/blob/develop/.github/CONTRIBUTING.md

- Pull Request Checklist => https://github.com/frappe/erpnext/wiki/Pull-Request-Checklist

-->

> Please provide enough information so that others can review your pull request:

<!-- You can skip this if you're fixing a typo or updating existing documentation -->

> Explain the **details** for making this change. What existing problem does the pull request solve?

<!-- Example: When ""Adding a function to do X"", explain why it is necessary to have a way to do X. -->

> Screenshots/GIFs

<!-- Add images/recordings to better visualize the change: expected/current behviour -->
",selensoftr,2024-03-25 08:00:05+00:00,[],2024-04-27 00:09:36+00:00,2024-03-25 08:00:51+00:00,https://github.com/frappe/erpnext/pull/40649,[],"[{'comment_id': 2017418864, 'issue_id': 2205127048, 'author': 'mergify[bot]', 'body': 'This pull request has been automatically closed by Mergify.', 'created_at': datetime.datetime(2024, 3, 25, 8, 0, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2017418892, 'issue_id': 2205127048, 'author': 'mergify[bot]', 'body': '@selensoftr, thanks for the contribution, but we do not accept pull requests on a stable branch. Please raise PR on an appropriate hotfix branch.\nhttps://github.com/frappe/erpnext/wiki/Pull-Request-Checklist#which-branch', 'created_at': datetime.datetime(2024, 3, 25, 8, 0, 53, tzinfo=datetime.timezone.utc)}]","mergify[bot] on (2024-03-25 08:00:52 UTC): This pull request has been automatically closed by Mergify.

mergify[bot] on (2024-03-25 08:00:53 UTC): @selensoftr, thanks for the contribution, but we do not accept pull requests on a stable branch. Please raise PR on an appropriate hotfix branch.
https://github.com/frappe/erpnext/wiki/Pull-Request-Checklist#which-branch

"
2204955813,pull_request,closed,,"fix: address_display, text -> text editor (backport #40621)","same as  https://github.com/frappe/erpnext/pull/40563 and https://github.com/resilient-tech/india-compliance/pull/1893

Closes https://github.com/frappe/erpnext/issues/40603<hr>This is an automatic backport of pull request #40621 done by [Mergify](https://mergify.com).",mergify[bot],2024-03-25 05:47:29+00:00,['ankush'],2024-04-28 00:10:11+00:00,2024-04-13 11:48:26+00:00,https://github.com/frappe/erpnext/pull/40648,"[('needs-tests', 'This PR needs automated unit-tests.'), ('inactive', ''), ('conflicts', None)]","[{'comment_id': 2017274962, 'issue_id': 2204955813, 'author': 'mergify[bot]', 'body': 'Cherry-pick of e055147849d76ba6bff84033a472880e84aa73d0 has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-40621\nYour branch is up to date with \'origin/version-15-hotfix\'.\n\nYou are currently cherry-picking commit e055147849.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nChanges to be committed:\n\tmodified:   erpnext/accounts/doctype/dunning/dunning.json\n\tmodified:   erpnext/accounts/doctype/dunning/dunning.py\n\tmodified:   erpnext/accounts/doctype/pos_invoice/pos_invoice.json\n\tmodified:   erpnext/accounts/doctype/pos_invoice/pos_invoice.py\n\tmodified:   erpnext/accounts/doctype/purchase_invoice/purchase_invoice.json\n\tmodified:   erpnext/accounts/doctype/purchase_invoice/purchase_invoice.py\n\tmodified:   erpnext/accounts/doctype/sales_invoice/sales_invoice.json\n\tmodified:   erpnext/accounts/doctype/sales_invoice/sales_invoice.py\n\tmodified:   erpnext/buying/doctype/purchase_order/purchase_order.json\n\tmodified:   erpnext/buying/doctype/purchase_order/purchase_order.py\n\tmodified:   erpnext/buying/doctype/request_for_quotation/request_for_quotation.json\n\tmodified:   erpnext/buying/doctype/request_for_quotation/request_for_quotation.py\n\tmodified:   erpnext/buying/doctype/supplier_quotation/supplier_quotation.json\n\tmodified:   erpnext/buying/doctype/supplier_quotation/supplier_quotation.py\n\tmodified:   erpnext/crm/doctype/opportunity/opportunity.json\n\tmodified:   erpnext/crm/doctype/opportunity/opportunity.py\n\tmodified:   erpnext/maintenance/doctype/maintenance_schedule/maintenance_schedule.json\n\tmodified:   erpnext/maintenance/doctype/maintenance_schedule/maintenance_schedule.py\n\tmodified:   erpnext/maintenance/doctype/maintenance_visit/maintenance_visit.json\n\tmodified:   erpnext/maintenance/doctype/maintenance_visit/maintenance_visit.py\n\tmodified:   erpnext/public/scss/erpnext.scss\n\tmodified:   erpnext/selling/doctype/installation_note/installation_note.py\n\tmodified:   erpnext/selling/doctype/quotation/quotation.json\n\tmodified:   erpnext/selling/doctype/quotation/quotation.py\n\tmodified:   erpnext/selling/doctype/sales_order/sales_order.json\n\tmodified:   erpnext/selling/doctype/sales_order/sales_order.py\n\tmodified:   erpnext/stock/doctype/delivery_note/delivery_note.json\n\tmodified:   erpnext/stock/doctype/delivery_note/delivery_note.py\n\tmodified:   erpnext/stock/doctype/purchase_receipt/purchase_receipt.json\n\tmodified:   erpnext/stock/doctype/purchase_receipt/purchase_receipt.py\n\tmodified:   erpnext/stock/doctype/stock_entry/stock_entry.json\n\tmodified:   erpnext/stock/doctype/stock_entry/stock_entry.py\n\tmodified:   erpnext/subcontracting/doctype/subcontracting_order/subcontracting_order.json\n\tmodified:   erpnext/subcontracting/doctype/subcontracting_order/subcontracting_order.py\n\tmodified:   erpnext/subcontracting/doctype/subcontracting_receipt/subcontracting_receipt.json\n\tmodified:   erpnext/subcontracting/doctype/subcontracting_receipt/subcontracting_receipt.py\n\tmodified:   erpnext/support/doctype/warranty_claim/warranty_claim.json\n\tmodified:   erpnext/support/doctype/warranty_claim/warranty_claim.py\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/selling/doctype/installation_note/installation_note.json\n\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 3, 25, 5, 47, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2046331097, 'issue_id': 2204955813, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 4, 10, 2, 8, 2, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-03-25 05:47:31 UTC): Cherry-pick of e055147849d76ba6bff84033a472880e84aa73d0 has failed:
```
On branch mergify/bp/version-15-hotfix/pr-40621
Your branch is up to date with 'origin/version-15-hotfix'.

You are currently cherry-picking commit e055147849.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Changes to be committed:
	modified:   erpnext/accounts/doctype/dunning/dunning.json
	modified:   erpnext/accounts/doctype/dunning/dunning.py
	modified:   erpnext/accounts/doctype/pos_invoice/pos_invoice.json
	modified:   erpnext/accounts/doctype/pos_invoice/pos_invoice.py
	modified:   erpnext/accounts/doctype/purchase_invoice/purchase_invoice.json
	modified:   erpnext/accounts/doctype/purchase_invoice/purchase_invoice.py
	modified:   erpnext/accounts/doctype/sales_invoice/sales_invoice.json
	modified:   erpnext/accounts/doctype/sales_invoice/sales_invoice.py
	modified:   erpnext/buying/doctype/purchase_order/purchase_order.json
	modified:   erpnext/buying/doctype/purchase_order/purchase_order.py
	modified:   erpnext/buying/doctype/request_for_quotation/request_for_quotation.json
	modified:   erpnext/buying/doctype/request_for_quotation/request_for_quotation.py
	modified:   erpnext/buying/doctype/supplier_quotation/supplier_quotation.json
	modified:   erpnext/buying/doctype/supplier_quotation/supplier_quotation.py
	modified:   erpnext/crm/doctype/opportunity/opportunity.json
	modified:   erpnext/crm/doctype/opportunity/opportunity.py
	modified:   erpnext/maintenance/doctype/maintenance_schedule/maintenance_schedule.json
	modified:   erpnext/maintenance/doctype/maintenance_schedule/maintenance_schedule.py
	modified:   erpnext/maintenance/doctype/maintenance_visit/maintenance_visit.json
	modified:   erpnext/maintenance/doctype/maintenance_visit/maintenance_visit.py
	modified:   erpnext/public/scss/erpnext.scss
	modified:   erpnext/selling/doctype/installation_note/installation_note.py
	modified:   erpnext/selling/doctype/quotation/quotation.json
	modified:   erpnext/selling/doctype/quotation/quotation.py
	modified:   erpnext/selling/doctype/sales_order/sales_order.json
	modified:   erpnext/selling/doctype/sales_order/sales_order.py
	modified:   erpnext/stock/doctype/delivery_note/delivery_note.json
	modified:   erpnext/stock/doctype/delivery_note/delivery_note.py
	modified:   erpnext/stock/doctype/purchase_receipt/purchase_receipt.json
	modified:   erpnext/stock/doctype/purchase_receipt/purchase_receipt.py
	modified:   erpnext/stock/doctype/stock_entry/stock_entry.json
	modified:   erpnext/stock/doctype/stock_entry/stock_entry.py
	modified:   erpnext/subcontracting/doctype/subcontracting_order/subcontracting_order.json
	modified:   erpnext/subcontracting/doctype/subcontracting_order/subcontracting_order.py
	modified:   erpnext/subcontracting/doctype/subcontracting_receipt/subcontracting_receipt.json
	modified:   erpnext/subcontracting/doctype/subcontracting_receipt/subcontracting_receipt.py
	modified:   erpnext/support/doctype/warranty_claim/warranty_claim.json
	modified:   erpnext/support/doctype/warranty_claim/warranty_claim.py

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/selling/doctype/installation_note/installation_note.json

```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

stale[bot] on (2024-04-10 02:08:02 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

"
2204955758,pull_request,closed,,"fix: address_display, text -> text editor (backport #40621)","same as  https://github.com/frappe/erpnext/pull/40563 and https://github.com/resilient-tech/india-compliance/pull/1893

Closes https://github.com/frappe/erpnext/issues/40603<hr>This is an automatic backport of pull request #40621 done by [Mergify](https://mergify.com).",mergify[bot],2024-03-25 05:47:26+00:00,['ankush'],2024-04-28 00:10:10+00:00,2024-04-13 11:48:27+00:00,https://github.com/frappe/erpnext/pull/40647,"[('needs-tests', 'This PR needs automated unit-tests.'), ('inactive', ''), ('conflicts', None)]","[{'comment_id': 2017274920, 'issue_id': 2204955758, 'author': 'mergify[bot]', 'body': 'Cherry-pick of e055147849d76ba6bff84033a472880e84aa73d0 has failed:\n```\nOn branch mergify/bp/version-14-hotfix/pr-40621\nYour branch is up to date with \'origin/version-14-hotfix\'.\n\nYou are currently cherry-picking commit e055147849.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nChanges to be committed:\n\tmodified:   erpnext/accounts/doctype/pos_invoice/pos_invoice.json\n\tmodified:   erpnext/accounts/doctype/purchase_invoice/purchase_invoice.json\n\tmodified:   erpnext/accounts/doctype/sales_invoice/sales_invoice.json\n\tmodified:   erpnext/buying/doctype/purchase_order/purchase_order.json\n\tmodified:   erpnext/buying/doctype/request_for_quotation/request_for_quotation.json\n\tmodified:   erpnext/buying/doctype/supplier_quotation/supplier_quotation.json\n\tmodified:   erpnext/crm/doctype/opportunity/opportunity.json\n\tmodified:   erpnext/selling/doctype/quotation/quotation.json\n\tmodified:   erpnext/selling/doctype/sales_order/sales_order.json\n\tmodified:   erpnext/stock/doctype/delivery_note/delivery_note.json\n\tmodified:   erpnext/stock/doctype/purchase_receipt/purchase_receipt.json\n\tmodified:   erpnext/stock/doctype/stock_entry/stock_entry.json\n\tmodified:   erpnext/subcontracting/doctype/subcontracting_receipt/subcontracting_receipt.json\n\tmodified:   erpnext/support/doctype/warranty_claim/warranty_claim.json\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/accounts/doctype/dunning/dunning.json\n\tboth modified:   erpnext/accounts/doctype/dunning/dunning.py\n\tboth modified:   erpnext/accounts/doctype/pos_invoice/pos_invoice.py\n\tboth modified:   erpnext/accounts/doctype/purchase_invoice/purchase_invoice.py\n\tboth modified:   erpnext/accounts/doctype/sales_invoice/sales_invoice.py\n\tboth modified:   erpnext/buying/doctype/purchase_order/purchase_order.py\n\tboth modified:   erpnext/buying/doctype/request_for_quotation/request_for_quotation.py\n\tboth modified:   erpnext/buying/doctype/supplier_quotation/supplier_quotation.py\n\tboth modified:   erpnext/crm/doctype/opportunity/opportunity.py\n\tboth modified:   erpnext/maintenance/doctype/maintenance_schedule/maintenance_schedule.json\n\tboth modified:   erpnext/maintenance/doctype/maintenance_schedule/maintenance_schedule.py\n\tboth modified:   erpnext/maintenance/doctype/maintenance_visit/maintenance_visit.json\n\tboth modified:   erpnext/maintenance/doctype/maintenance_visit/maintenance_visit.py\n\tboth modified:   erpnext/public/scss/erpnext.scss\n\tboth modified:   erpnext/selling/doctype/installation_note/installation_note.json\n\tboth modified:   erpnext/selling/doctype/installation_note/installation_note.py\n\tboth modified:   erpnext/selling/doctype/quotation/quotation.py\n\tboth modified:   erpnext/selling/doctype/sales_order/sales_order.py\n\tboth modified:   erpnext/stock/doctype/delivery_note/delivery_note.py\n\tboth modified:   erpnext/stock/doctype/purchase_receipt/purchase_receipt.py\n\tboth modified:   erpnext/stock/doctype/stock_entry/stock_entry.py\n\tboth modified:   erpnext/subcontracting/doctype/subcontracting_order/subcontracting_order.json\n\tboth modified:   erpnext/subcontracting/doctype/subcontracting_order/subcontracting_order.py\n\tboth modified:   erpnext/subcontracting/doctype/subcontracting_receipt/subcontracting_receipt.py\n\tboth modified:   erpnext/support/doctype/warranty_claim/warranty_claim.py\n\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 3, 25, 5, 47, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2046331092, 'issue_id': 2204955758, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 4, 10, 2, 8, 1, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-03-25 05:47:28 UTC): Cherry-pick of e055147849d76ba6bff84033a472880e84aa73d0 has failed:
```
On branch mergify/bp/version-14-hotfix/pr-40621
Your branch is up to date with 'origin/version-14-hotfix'.

You are currently cherry-picking commit e055147849.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Changes to be committed:
	modified:   erpnext/accounts/doctype/pos_invoice/pos_invoice.json
	modified:   erpnext/accounts/doctype/purchase_invoice/purchase_invoice.json
	modified:   erpnext/accounts/doctype/sales_invoice/sales_invoice.json
	modified:   erpnext/buying/doctype/purchase_order/purchase_order.json
	modified:   erpnext/buying/doctype/request_for_quotation/request_for_quotation.json
	modified:   erpnext/buying/doctype/supplier_quotation/supplier_quotation.json
	modified:   erpnext/crm/doctype/opportunity/opportunity.json
	modified:   erpnext/selling/doctype/quotation/quotation.json
	modified:   erpnext/selling/doctype/sales_order/sales_order.json
	modified:   erpnext/stock/doctype/delivery_note/delivery_note.json
	modified:   erpnext/stock/doctype/purchase_receipt/purchase_receipt.json
	modified:   erpnext/stock/doctype/stock_entry/stock_entry.json
	modified:   erpnext/subcontracting/doctype/subcontracting_receipt/subcontracting_receipt.json
	modified:   erpnext/support/doctype/warranty_claim/warranty_claim.json

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/accounts/doctype/dunning/dunning.json
	both modified:   erpnext/accounts/doctype/dunning/dunning.py
	both modified:   erpnext/accounts/doctype/pos_invoice/pos_invoice.py
	both modified:   erpnext/accounts/doctype/purchase_invoice/purchase_invoice.py
	both modified:   erpnext/accounts/doctype/sales_invoice/sales_invoice.py
	both modified:   erpnext/buying/doctype/purchase_order/purchase_order.py
	both modified:   erpnext/buying/doctype/request_for_quotation/request_for_quotation.py
	both modified:   erpnext/buying/doctype/supplier_quotation/supplier_quotation.py
	both modified:   erpnext/crm/doctype/opportunity/opportunity.py
	both modified:   erpnext/maintenance/doctype/maintenance_schedule/maintenance_schedule.json
	both modified:   erpnext/maintenance/doctype/maintenance_schedule/maintenance_schedule.py
	both modified:   erpnext/maintenance/doctype/maintenance_visit/maintenance_visit.json
	both modified:   erpnext/maintenance/doctype/maintenance_visit/maintenance_visit.py
	both modified:   erpnext/public/scss/erpnext.scss
	both modified:   erpnext/selling/doctype/installation_note/installation_note.json
	both modified:   erpnext/selling/doctype/installation_note/installation_note.py
	both modified:   erpnext/selling/doctype/quotation/quotation.py
	both modified:   erpnext/selling/doctype/sales_order/sales_order.py
	both modified:   erpnext/stock/doctype/delivery_note/delivery_note.py
	both modified:   erpnext/stock/doctype/purchase_receipt/purchase_receipt.py
	both modified:   erpnext/stock/doctype/stock_entry/stock_entry.py
	both modified:   erpnext/subcontracting/doctype/subcontracting_order/subcontracting_order.json
	both modified:   erpnext/subcontracting/doctype/subcontracting_order/subcontracting_order.py
	both modified:   erpnext/subcontracting/doctype/subcontracting_receipt/subcontracting_receipt.py
	both modified:   erpnext/support/doctype/warranty_claim/warranty_claim.py

```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

stale[bot] on (2024-04-10 02:08:01 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

"
2204731463,pull_request,closed,,fix: reset update_outstanding_for_self flag for old records (backport #40622),"Old Cr/Dr Notes will have `update_outstanding_for_self` flag incorrectly set as True, as the field was introduced with default True. Patch has been modified to unset before updating the ones created post backport.
introduced: https://github.com/frappe/erpnext/pull/40372<hr>This is an automatic backport of pull request #40622 done by [Mergify](https://mergify.com).",mergify[bot],2024-03-25 02:04:02+00:00,[],2024-04-27 00:09:39+00:00,2024-03-25 02:54:04+00:00,https://github.com/frappe/erpnext/pull/40645,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2017080849, 'issue_id': 2204731463, 'author': 'mergify[bot]', 'body': 'Cherry-pick of a88bf8419e7c9987d81b7d0c1d05f45be26d65cc has failed:\n```\nOn branch mergify/bp/version-15/pr-40622\nYour branch is up to date with \'origin/version-15\'.\n\nYou are currently cherry-picking commit a88bf8419e.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nChanges to be committed:\n\tmodified:   erpnext/patches/v14_0/update_flag_for_return_invoices.py\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/patches.txt\n\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 3, 25, 2, 4, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2017121329, 'issue_id': 2204731463, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.17.6 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.17.6)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 3, 25, 2, 55, 17, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-03-25 02:04:03 UTC): Cherry-pick of a88bf8419e7c9987d81b7d0c1d05f45be26d65cc has failed:
```
On branch mergify/bp/version-15/pr-40622
Your branch is up to date with 'origin/version-15'.

You are currently cherry-picking commit a88bf8419e.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Changes to be committed:
	modified:   erpnext/patches/v14_0/update_flag_for_return_invoices.py

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/patches.txt

```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

frappe-pr-bot on (2024-03-25 02:55:17 UTC): :tada: This PR is included in version 15.17.6 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.17.6)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2204731440,pull_request,closed,,fix: reset update_outstanding_for_self flag for old records (backport #40622),"Old Cr/Dr Notes will have `update_outstanding_for_self` flag incorrectly set as True, as the field was introduced with default True. Patch has been modified to unset before updating the ones created post backport.
introduced: https://github.com/frappe/erpnext/pull/40372<hr>This is an automatic backport of pull request #40622 done by [Mergify](https://mergify.com).",mergify[bot],2024-03-25 02:04:01+00:00,[],2024-04-27 00:09:38+00:00,2024-03-25 02:56:21+00:00,https://github.com/frappe/erpnext/pull/40644,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2017122992, 'issue_id': 2204731440, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.65.8 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.65.8)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 3, 25, 2, 57, 40, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-03-25 02:57:40 UTC): :tada: This PR is included in version 14.65.8 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.65.8)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2204539255,pull_request,closed,,fix(pr): set advace Payment status based on Payment Request status,"fix: https://github.com/frappe/erpnext/issues/40642

fixup for: https://github.com/frappe/erpnext/pull/38560

@ruthra-kumar 


---

EDIT

How to validate the sequence:

- Checkout the commit of the first test failure and run
  ```
  bench run-tests --doctype ""Purchase Order"" --test test_purchase_order_advance_payment_status
  ```
- Checkout its fix and run the command again
- Checkout the second test failure and run:
  ```
  bench run-tests --doctype ""Sales Order"" --test test_sales_order_advance_payment_status
  ```
- Checkout its fix and run  the command again

Keep the first commit as without it, individual tests can't be run manually with the above commands.",blaggacao,2024-03-24 20:22:58+00:00,['ruthra-kumar'],2024-04-25 00:12:23+00:00,2024-04-03 09:35:25+00:00,https://github.com/frappe/erpnext/pull/40643,"[('accounts', '')]","[{'comment_id': 2027418220, 'issue_id': 2204539255, 'author': 'blaggacao', 'body': '@ruthra-kumar This needed a little bit more refactoring, but it should be considered a hotfix to the prior PR.\r\n\r\nThere where several scenarios not captured by `on_submit` that are now captured by `on_change`.', 'created_at': datetime.datetime(2024, 3, 29, 15, 57, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2032230397, 'issue_id': 2204539255, 'author': 'ruthra-kumar', 'body': '@blaggacao \r\n\r\nCan you provide a simple scenario with the expected and current outcome to better understand the edge case? Details in https://github.com/frappe/erpnext/issues/40642 is insufficient.', 'created_at': datetime.datetime(2024, 4, 2, 14, 42, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2032339628, 'issue_id': 2204539255, 'author': 'blaggacao', 'body': '@ruthra-kumar a `pr.set_as_paid()` should never end up triggering the following changes:\r\n\r\n1.  `so.advance_payment_status = ""To Pay""` ->  `so.advance_payment_status = ""Paid""`\r\n2.  `so.advance_payment_status = ""Paid""` ->  `so.advance_payment_status = ""To Pay""`\r\n\r\nIt *must* not do the second transition.\r\n\r\nHowever, the second transition is triggered on the condition:\r\n- An invoice ""steals"" the _Payment Entry_ from the SO\r\n- This leaves the SO without advance payment entries\r\n- Consequentially the `advance_payment_status` gets reset in the second step above (only) in the presence of https://github.com/frappe/erpnext/pull/37069/files#diff-ec41388db21239d04370bada0b1e4df5b7b620771895a14adc9ac8f214e4099dR656-R660\r\n\r\n\r\nNow, this PR implements a more reliable status inference for the `advance_payment_status` solely on the stati of associated _Payment Request_ which are immune against _Payment Entry_ ""stealing"" by the Sales Invoice.\r\n\r\nIs this complicated? Yes. :smile:', 'created_at': datetime.datetime(2024, 4, 2, 15, 16, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2032363171, 'issue_id': 2204539255, 'author': 'blaggacao', 'body': ""I've prepared https://github.com/frappe/erpnext/pull/40837 - I can't test locally, atm, (no reproducible test environment at hand), but with a bit of luck, it should trigger the observed issue on the original code."", 'created_at': datetime.datetime(2024, 4, 2, 15, 27, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2032400112, 'issue_id': 2204539255, 'author': 'blaggacao', 'body': 'qed: https://github.com/frappe/erpnext/actions/runs/8525409230/job/23352265277?pr=40837#step:13:274 (this is actually a second issue)\r\n\r\n@ruthra-kumar', 'created_at': datetime.datetime(2024, 4, 2, 15, 36, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2032415327, 'issue_id': 2204539255, 'author': 'ruthra-kumar', 'body': '> However, the second transition is triggered on the condition:\r\n> \r\n> * An invoice ""steals"" the _Payment Entry_ from the SO\r\n> * This leaves the SO without advance payment entries\r\n> * Consequentially the `advance_payment_status` gets reset in the second step above (only) in the presence of https://github.com/frappe/erpnext/pull/37069/files#diff-ec41388db21239d04370bada0b1e4df5b7b620771895a14adc9ac8f214e4099dR656-R660\r\n\r\nDo this happens on advance Payment Entries that book advance is a separate party account (Book Advance Payments in Separate Party Account enabled in Company master)?', 'created_at': datetime.datetime(2024, 4, 2, 15, 43, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2032422068, 'issue_id': 2204539255, 'author': 'blaggacao', 'body': '> Do this happens on advance Payment Entries that book advance is a separate party account (Book Advance Payments in Separate Party Account enabled in Company master)?\r\n\r\nNope, this was disabled:\r\n\r\n![image](https://github.com/frappe/erpnext/assets/7548295/cfc7f736-935a-484d-a4e3-4a1aa2509c1e)\r\n\r\n\r\nAfaic, the ""stealing"" is a normal procedure to reassign payment entries from a SO to a SI.\r\n\r\nSee for example this remark on a PE:\r\n```\r\nMonto COP 134000.0 recibido de CUST-2024-00471\r\nReferencia de la transacción nro ACC-PRQ-2024-02813 fechada 2024-03-21\r\nMonto COP 134000.0 Sales Order contra SAL-ORD-2024-03067\r\n```\r\n\r\nBut which is now only liked against the SI:\r\n\r\n![image](https://github.com/frappe/erpnext/assets/7548295/97b59df8-2eb8-41dd-acac-f334c915eb23)', 'created_at': datetime.datetime(2024, 4, 2, 15, 46, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2032425728, 'issue_id': 2204539255, 'author': 'blaggacao', 'body': 'Here is some ""in-flagranti"" evidence of the ""steal"":\r\n\r\n![image](https://github.com/frappe/erpnext/assets/7548295/7fc671c8-0ce8-42a2-bf4d-dd57f162eafe)', 'created_at': datetime.datetime(2024, 4, 2, 15, 48, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2032428651, 'issue_id': 2204539255, 'author': 'ruthra-kumar', 'body': 'It is not stealing per say 😄 . More like allocation is moved **from** SO/PO **to** SI/PI. Yes, this is normal.', 'created_at': datetime.datetime(2024, 4, 2, 15, 49, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2032469674, 'issue_id': 2204539255, 'author': 'blaggacao', 'body': 'I\'m not sure why my prepared test doesn\'t trigger the problem. Maybe the move (""steal"") is done asynchronously? \r\n\r\nThis is already a week old and I have forgotten the exact details, assuming that the provided test cases and trace-back would be support enough. I can just assert that in our production instance we had the issue that ""Paid"" SOs re-appeared as ""To Pay"" upon payment creation.', 'created_at': datetime.datetime(2024, 4, 2, 16, 9, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2032493483, 'issue_id': 2204539255, 'author': 'ruthra-kumar', 'body': ""Now, the status appears to become unidirectional. Once the status reaches 'Fully Paid', if you cancel the associated Payment Entry, it is still in 'Fully Paid' status. Similar to https://github.com/frappe/erpnext/pull/38560#issuecomment-1904160206\r\n\r\nThis might require some more testing, will check on this more tomorrow."", 'created_at': datetime.datetime(2024, 4, 2, 16, 17, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2032536496, 'issue_id': 2204539255, 'author': 'blaggacao', 'body': 'At least in my test branch, now the move (""steal"") isn\'t reproduced: https://github.com/frappe/erpnext/actions/runs/8526022102/job/23354354567?pr=40837#step:13:559\r\n\r\nI don\'t know why, but if it where, we\'d trigger the issue.\r\n\r\n@ruthra-kumar maybe you just happen to know the necessary diff to the tests? I can then merge them here to proof that this PR at least fixes the reported issue(s).', 'created_at': datetime.datetime(2024, 4, 2, 16, 35, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2032557574, 'issue_id': 2204539255, 'author': 'blaggacao', 'body': ""@ruthra-kumar \r\n\r\nAh, I know why: because `pr.set_as_paid()` is only invoked by `webshop`, here: https://github.com/frappe/webshop/blob/eb2f34c8f211d35a047fad5792671e58a1af4dfb/webshop/webshop/doctype/override_doctype/payment_request.py#L43\r\n\r\n~~So without the presense of `webshop` we can't sensibly test this scenario.~~ Actually, [we can](https://github.com/frappe/erpnext/compare/d0364528742bc0440cff92cb7d1b58ea12c4759d..04ee681ee213be2f96ff1c449c242f2dfd20cd06)\r\n\r\nAs I've mentioned to you on other PR comments, I'm in the process of refactoring some of these interfaces with the goal of reaching a more robust payment infrastructure, because this is a significant source of issues in production for us. So we might need to advance here as one little step towards the bigger picture, because I can't yet present the final result in a waterfall-style, it also would be likely impossible to review."", 'created_at': datetime.datetime(2024, 4, 2, 16, 45, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2032625297, 'issue_id': 2204539255, 'author': 'blaggacao', 'body': 'ok, now we have a reproducer: https://github.com/frappe/erpnext/actions/runs/8526461301/job/23355760424?pr=40837#step:13:559', 'created_at': datetime.datetime(2024, 4, 2, 17, 23, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2032665910, 'issue_id': 2204539255, 'author': 'blaggacao', 'body': 'How to validate the sequence:\r\n\r\n- Checkout the commit of the first test failure and run\r\n  ```\r\n  bench run-tests --doctype ""Purchase Order"" --test test_purchase_order_advance_payment_status\r\n  ```\r\n- Checkout its fix and run the command again\r\n- Checkout the second test failure and run:\r\n  ```\r\n  bench run-tests --doctype ""Sales Order"" --test test_sales_order_advance_payment_status\r\n  ```\r\n- Checkout its fix and run  the command again\r\n\r\nKeep the first commit as without it, individual tests can\'t be run manually with the above commands.', 'created_at': datetime.datetime(2024, 4, 2, 17, 38, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2032814893, 'issue_id': 2204539255, 'author': 'blaggacao', 'body': '@ruthra-kumar \r\n\r\n> Now, the status appears to become unidirectional. Once the status reaches \'Fully Paid\', if you cancel the associated Payment Entry, it is still in \'Fully Paid\' status. \r\n\r\nOnce an invoice has been created, and the payment has moved, the advance payment management has been forgone from Sales Team (tracking on SO) to Accounts Team (tracking on Invoice).\r\n\r\nConsequentially, the references in the payment entry have moved from the SO to SI.\r\n\r\nTherefore, when the PE is canceled, and since the PR references have **not** also moved to the SI (might be a bug), the PR is not updated.\r\n\r\nBut even if the PR was updated because the bug might have been fixed, then still the SO (and correctly so for the matter of the Sales domain) would remain ""Fully Paid"" since payment management has already passed down to Accounting (SI). The SO keeps the record of the historical state at the time of hand over.\r\n\r\nThis is correct. :green_circle: \r\n\r\nThe PR not correctly updating might be an independent bug. I\'ve marked the tests with a `# TODO` comment. This is ancient behavior, though.\r\n\r\nShould we fix it, regarless at this occasion? - Absolutely! :exclamation:', 'created_at': datetime.datetime(2024, 4, 2, 18, 50, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2033988850, 'issue_id': 2204539255, 'author': 'blaggacao', 'body': ""@ruthra-kumar Please, let's find a proper hotfix for this soon. :pray: Please also let me know what you think on the legacy behaviour. In the interest of an expedite hotfix, we might also choose to delay that refactoring a bit?"", 'created_at': datetime.datetime(2024, 4, 3, 9, 6, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2034049620, 'issue_id': 2204539255, 'author': 'ruthra-kumar', 'body': ""> Therefore, when the PE is canceled, and since the PR references have not also moved to the SI (might be a bug), the PR is not updated.\r\n\r\nI disagree here. For most cases, Statuses are meant to be derived from other documents within the system. If a document is cancelled, it is should have effect on the status that relies on it. \r\n\r\n> Now, the status appears to become unidirectional. Once the status reaches 'Fully Paid', if you cancel the associated Payment Entry, it is still in 'Fully Paid' status. Similar to [#38560 (comment)](https://github.com/frappe/erpnext/pull/38560#issuecomment-1904160206)\r\n\r\nHowever, this is not happening after your latest commit.\r\n\r\nRest of the change looks ok."", 'created_at': datetime.datetime(2024, 4, 3, 9, 34, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2034059364, 'issue_id': 2204539255, 'author': 'blaggacao', 'body': '> I disagree here.\n\nI think, I can disagree with myself, too.\n\nHowever, if my analysis is correct, then this requires some involved refactoring. Meaning that the move (""steal"") would need to become a ""copy"" and the original references would need to be preserved.\n\nUnder that auspice, I disagree with myself and agree with you. :-)\n\nThanks for the merge! :handshake:', 'created_at': datetime.datetime(2024, 4, 3, 9, 37, 56, tzinfo=datetime.timezone.utc)}]","blaggacao (Issue Creator) on (2024-03-29 15:57:44 UTC): @ruthra-kumar This needed a little bit more refactoring, but it should be considered a hotfix to the prior PR.

There where several scenarios not captured by `on_submit` that are now captured by `on_change`.

ruthra-kumar (Assginee) on (2024-04-02 14:42:07 UTC): @blaggacao 

Can you provide a simple scenario with the expected and current outcome to better understand the edge case? Details in https://github.com/frappe/erpnext/issues/40642 is insufficient.

blaggacao (Issue Creator) on (2024-04-02 15:16:10 UTC): @ruthra-kumar a `pr.set_as_paid()` should never end up triggering the following changes:

1.  `so.advance_payment_status = ""To Pay""` ->  `so.advance_payment_status = ""Paid""`
2.  `so.advance_payment_status = ""Paid""` ->  `so.advance_payment_status = ""To Pay""`

It *must* not do the second transition.

However, the second transition is triggered on the condition:
- An invoice ""steals"" the _Payment Entry_ from the SO
- This leaves the SO without advance payment entries
- Consequentially the `advance_payment_status` gets reset in the second step above (only) in the presence of https://github.com/frappe/erpnext/pull/37069/files#diff-ec41388db21239d04370bada0b1e4df5b7b620771895a14adc9ac8f214e4099dR656-R660


Now, this PR implements a more reliable status inference for the `advance_payment_status` solely on the stati of associated _Payment Request_ which are immune against _Payment Entry_ ""stealing"" by the Sales Invoice.

Is this complicated? Yes. :smile:

blaggacao (Issue Creator) on (2024-04-02 15:27:13 UTC): I've prepared https://github.com/frappe/erpnext/pull/40837 - I can't test locally, atm, (no reproducible test environment at hand), but with a bit of luck, it should trigger the observed issue on the original code.

blaggacao (Issue Creator) on (2024-04-02 15:36:06 UTC): qed: https://github.com/frappe/erpnext/actions/runs/8525409230/job/23352265277?pr=40837#step:13:274 (this is actually a second issue)

@ruthra-kumar

ruthra-kumar (Assginee) on (2024-04-02 15:43:21 UTC): Do this happens on advance Payment Entries that book advance is a separate party account (Book Advance Payments in Separate Party Account enabled in Company master)?

blaggacao (Issue Creator) on (2024-04-02 15:46:32 UTC): Nope, this was disabled:

![image](https://github.com/frappe/erpnext/assets/7548295/cfc7f736-935a-484d-a4e3-4a1aa2509c1e)


Afaic, the ""stealing"" is a normal procedure to reassign payment entries from a SO to a SI.

See for example this remark on a PE:
```
Monto COP 134000.0 recibido de CUST-2024-00471
Referencia de la transacción nro ACC-PRQ-2024-02813 fechada 2024-03-21
Monto COP 134000.0 Sales Order contra SAL-ORD-2024-03067
```

But which is now only liked against the SI:

![image](https://github.com/frappe/erpnext/assets/7548295/97b59df8-2eb8-41dd-acac-f334c915eb23)

blaggacao (Issue Creator) on (2024-04-02 15:48:16 UTC): Here is some ""in-flagranti"" evidence of the ""steal"":

![image](https://github.com/frappe/erpnext/assets/7548295/7fc671c8-0ce8-42a2-bf4d-dd57f162eafe)

ruthra-kumar (Assginee) on (2024-04-02 15:49:41 UTC): It is not stealing per say 😄 . More like allocation is moved **from** SO/PO **to** SI/PI. Yes, this is normal.

blaggacao (Issue Creator) on (2024-04-02 16:09:33 UTC): I'm not sure why my prepared test doesn't trigger the problem. Maybe the move (""steal"") is done asynchronously? 

This is already a week old and I have forgotten the exact details, assuming that the provided test cases and trace-back would be support enough. I can just assert that in our production instance we had the issue that ""Paid"" SOs re-appeared as ""To Pay"" upon payment creation.

ruthra-kumar (Assginee) on (2024-04-02 16:17:12 UTC): Now, the status appears to become unidirectional. Once the status reaches 'Fully Paid', if you cancel the associated Payment Entry, it is still in 'Fully Paid' status. Similar to https://github.com/frappe/erpnext/pull/38560#issuecomment-1904160206

This might require some more testing, will check on this more tomorrow.

blaggacao (Issue Creator) on (2024-04-02 16:35:23 UTC): At least in my test branch, now the move (""steal"") isn't reproduced: https://github.com/frappe/erpnext/actions/runs/8526022102/job/23354354567?pr=40837#step:13:559

I don't know why, but if it where, we'd trigger the issue.

@ruthra-kumar maybe you just happen to know the necessary diff to the tests? I can then merge them here to proof that this PR at least fixes the reported issue(s).

blaggacao (Issue Creator) on (2024-04-02 16:45:51 UTC): @ruthra-kumar 

Ah, I know why: because `pr.set_as_paid()` is only invoked by `webshop`, here: https://github.com/frappe/webshop/blob/eb2f34c8f211d35a047fad5792671e58a1af4dfb/webshop/webshop/doctype/override_doctype/payment_request.py#L43

~~So without the presense of `webshop` we can't sensibly test this scenario.~~ Actually, [we can](https://github.com/frappe/erpnext/compare/d0364528742bc0440cff92cb7d1b58ea12c4759d..04ee681ee213be2f96ff1c449c242f2dfd20cd06)

As I've mentioned to you on other PR comments, I'm in the process of refactoring some of these interfaces with the goal of reaching a more robust payment infrastructure, because this is a significant source of issues in production for us. So we might need to advance here as one little step towards the bigger picture, because I can't yet present the final result in a waterfall-style, it also would be likely impossible to review.

blaggacao (Issue Creator) on (2024-04-02 17:23:24 UTC): ok, now we have a reproducer: https://github.com/frappe/erpnext/actions/runs/8526461301/job/23355760424?pr=40837#step:13:559

blaggacao (Issue Creator) on (2024-04-02 17:38:26 UTC): How to validate the sequence:

- Checkout the commit of the first test failure and run
  ```
  bench run-tests --doctype ""Purchase Order"" --test test_purchase_order_advance_payment_status
  ```
- Checkout its fix and run the command again
- Checkout the second test failure and run:
  ```
  bench run-tests --doctype ""Sales Order"" --test test_sales_order_advance_payment_status
  ```
- Checkout its fix and run  the command again

Keep the first commit as without it, individual tests can't be run manually with the above commands.

blaggacao (Issue Creator) on (2024-04-02 18:50:29 UTC): @ruthra-kumar 


Once an invoice has been created, and the payment has moved, the advance payment management has been forgone from Sales Team (tracking on SO) to Accounts Team (tracking on Invoice).

Consequentially, the references in the payment entry have moved from the SO to SI.

Therefore, when the PE is canceled, and since the PR references have **not** also moved to the SI (might be a bug), the PR is not updated.

But even if the PR was updated because the bug might have been fixed, then still the SO (and correctly so for the matter of the Sales domain) would remain ""Fully Paid"" since payment management has already passed down to Accounting (SI). The SO keeps the record of the historical state at the time of hand over.

This is correct. :green_circle: 

The PR not correctly updating might be an independent bug. I've marked the tests with a `# TODO` comment. This is ancient behavior, though.

Should we fix it, regarless at this occasion? - Absolutely! :exclamation:

blaggacao (Issue Creator) on (2024-04-03 09:06:10 UTC): @ruthra-kumar Please, let's find a proper hotfix for this soon. :pray: Please also let me know what you think on the legacy behaviour. In the interest of an expedite hotfix, we might also choose to delay that refactoring a bit?

ruthra-kumar (Assginee) on (2024-04-03 09:34:57 UTC): I disagree here. For most cases, Statuses are meant to be derived from other documents within the system. If a document is cancelled, it is should have effect on the status that relies on it. 


However, this is not happening after your latest commit.

Rest of the change looks ok.

blaggacao (Issue Creator) on (2024-04-03 09:37:56 UTC): I think, I can disagree with myself, too.

However, if my analysis is correct, then this requires some involved refactoring. Meaning that the move (""steal"") would need to become a ""copy"" and the original references would need to be preserved.

Under that auspice, I disagree with myself and agree with you. :-)

Thanks for the merge! :handshake:

"
2204365649,pull_request,closed,,chore: Reduce usage of cur_frm,,deepeshgarg007,2024-03-24 13:57:38+00:00,[],2024-04-12 00:09:19+00:00,2024-03-27 06:15:26+00:00,https://github.com/frappe/erpnext/pull/40641,"[('backport version-15-hotfix', '')]",[],
2204356545,pull_request,closed,,fix: Add default finance book check in P&L statement,Fixes: https://github.com/frappe/erpnext/issues/40462,deepeshgarg007,2024-03-24 13:38:54+00:00,[],2024-04-27 00:09:35+00:00,2024-03-25 09:13:30+00:00,https://github.com/frappe/erpnext/pull/40640,"[('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2204340518,pull_request,closed,,fix: Batch No is mandatory while making manufacture entry (backport #40638),Fixed https://github.com/frappe/erpnext/issues/40578<hr>This is an automatic backport of pull request #40638 done by [Mergify](https://mergify.com).,mergify[bot],2024-03-24 13:02:12+00:00,['rohitwaghchaure'],2024-04-12 00:09:40+00:00,2024-03-24 15:49:51+00:00,https://github.com/frappe/erpnext/pull/40639,"[('released', None)]","[{'comment_id': 2021857555, 'issue_id': 2204340518, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.18.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.18.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 3, 27, 3, 29, 11, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-03-27 03:29:11 UTC): :tada: This PR is included in version 15.18.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.18.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2204322768,pull_request,closed,,fix: Batch No is mandatory while making manufacture entry,Fixed https://github.com/frappe/erpnext/issues/40578,rohitwaghchaure,2024-03-24 12:15:29+00:00,[],2024-04-27 00:09:41+00:00,2024-03-24 13:01:20+00:00,https://github.com/frappe/erpnext/pull/40638,"[('backport version-15-hotfix', '')]",[],
2204285758,pull_request,closed,,fix: use serial/batch fields for subcontracting receipt and in transit in stock entry (backport #40594),<hr>This is an automatic backport of pull request #40594 done by [Mergify](https://mergify.com).,mergify[bot],2024-03-24 10:34:55+00:00,['rohitwaghchaure'],2024-04-12 00:09:36+00:00,2024-03-24 12:15:50+00:00,https://github.com/frappe/erpnext/pull/40637,"[('accounts', ''), ('stock', None), ('released', None)]","[{'comment_id': 2021857682, 'issue_id': 2204285758, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.18.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.18.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 3, 27, 3, 29, 20, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-03-27 03:29:20 UTC): :tada: This PR is included in version 15.18.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.18.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2204265268,pull_request,closed,,chore: update POT file,,frappe-pr-bot,2024-03-24 09:35:28+00:00,[],2024-04-15 02:27:07+00:00,2024-03-25 20:41:07+00:00,https://github.com/frappe/erpnext/pull/40635,[],[],
2204206816,pull_request,closed,,refactor: better pop up message for Internal Customer validation,"-added more meaningful description to message when using ""internal Customer"" scenario

<!--

Some key notes before you open a PR:

 1. Select which branch should this PR be merged in?
 2. PR name follows [convention](http://karma-runner.github.io/4.0/dev/git-commit-msg.html)
 3. All tests pass locally, UI and Unit tests
 4. All business logic and validations must be on the server-side
 5. Update necessary Documentation
 6. Put `closes #XXXX` in your comment to auto-close the issue that your PR fixes


Also, if you're new here

- Documentation Guidelines => https://github.com/frappe/erpnext/wiki/Updating-Documentation

- Contribution Guide => https://github.com/frappe/erpnext/blob/develop/.github/CONTRIBUTING.md

- Pull Request Checklist => https://github.com/frappe/erpnext/wiki/Pull-Request-Checklist

-->

> Please provide enough information so that others can review your pull request:

<!-- You can skip this if you're fixing a typo or updating existing documentation -->

> Explain the **details** for making this change. What existing problem does the pull request solve?

<!-- Example: When ""Adding a function to do X"", explain why it is necessary to have a way to do X. -->

> Screenshots/GIFs

<!-- Add images/recordings to better visualize the change: expected/current behviour -->
",wojosc,2024-03-24 06:44:07+00:00,[],2024-04-15 02:26:59+00:00,2024-03-26 04:17:45+00:00,https://github.com/frappe/erpnext/pull/40634,"[('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2203785426,pull_request,closed,,fix: pass empty string email content of pos invoice (backport #40514),"When complete order in point of sale (Order Summary). When we send invoice email frappe send this error:

TypeError: unsupported operand type(s) for +: 'NoneType' and 'str'

Traceback (most recent call last):
  File ""apps/frappe/frappe/app.py"", line 95, in application
    response = frappe.api.handle()
  File ""apps/frappe/frappe/api.py"", line 54, in handle
    return frappe.handler.handle()
  File ""apps/frappe/frappe/handler.py"", line 47, in handle
    data = execute_cmd(cmd)
  File ""apps/frappe/frappe/handler.py"", line 85, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
  File ""apps/frappe/frappe/__init__.py"", line 1622, in call
    return fn(*args, **newargs)
  File ""apps/frappe/frappe/core/doctype/communication/email.py"", line 79, in make
    return _make(
  File ""apps/frappe/frappe/core/doctype/communication/email.py"", line 173, in _make
    comm.send_email(
  File ""apps/frappe/frappe/core/doctype/communication/mixins.py"", line 305, in send_email
    if input_dict := self.sendmail_input_dict(
  File ""apps/frappe/frappe/core/doctype/communication/mixins.py"", line 284, in sendmail_input_dict
    ""content"": self.get_content(print_format=print_format),
  File ""apps/frappe/frappe/core/doctype/communication/mixins.py"", line 142, in get_content
    return self.content + self.get_attach_link(print_format)
TypeError: unsupported operand type(s) for +: 'NoneType' and 'str'

### Request Data
{
	""type"": ""POST"",
	""args"": {
		""recipients"": ""mmdanny89@gmail.com"",
		""subject"": ""POS Invoice: ACC-PSINV-2024-00035"",
		""doctype"": ""POS Invoice"",
		""name"": ""ACC-PSINV-2024-00035"",
		""send_email"": 1,
		""print_format"": ""Invoice Print POS"",
		""sender_full_name"": ""Danny Molina"",
		""_lang"": ""es""
	},
	""headers"": {},
	""error_handlers"": {},
	""url"": ""/api/method/frappe.core.doctype.communication.email.make""
}

**In view  i added empty content for this email.make call** this slove the error<hr>This is an automatic backport of pull request #40514 done by [Mergify](https://mergify.com).",mergify[bot],2024-03-23 09:11:26+00:00,[],2024-04-26 00:09:22+00:00,2024-04-10 16:06:57+00:00,https://github.com/frappe/erpnext/pull/40630,"[('inactive', ''), ('released', None)]","[{'comment_id': 2046331121, 'issue_id': 2203785426, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 4, 10, 2, 8, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2049112852, 'issue_id': 2203785426, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.20.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.20.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 4, 11, 7, 39, 51, tzinfo=datetime.timezone.utc)}]","stale[bot] on (2024-04-10 02:08:04 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

frappe-pr-bot on (2024-04-11 07:39:51 UTC): :tada: This PR is included in version 15.20.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.20.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2203662556,pull_request,closed,,fix: remove microsecond from posting datetime (backport #40017),"Since we are not adding the microsecond for the posting datetime, the microsecond part should not be included for the existing SLEs when updating the posting datetime based on the posting date and posting time through patch.<hr>This is an automatic backport of pull request #40017 done by [Mergify](https://mergify.com).",mergify[bot],2024-03-23 03:07:40+00:00,['rohitwaghchaure'],2024-04-15 02:26:44+00:00,2024-03-23 13:09:05+00:00,https://github.com/frappe/erpnext/pull/40628,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2021857294, 'issue_id': 2203662556, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.66.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.66.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 3, 27, 3, 28, 49, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-03-27 03:28:49 UTC): :tada: This PR is included in version 14.66.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.66.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2203112416,pull_request,closed,,chore: Discount accounting code cleanup,,deepeshgarg007,2024-03-22 18:50:51+00:00,[],2024-04-15 02:27:09+00:00,2024-03-25 13:36:27+00:00,https://github.com/frappe/erpnext/pull/40627,"[('accounts', ''), ('needs-tests', 'This PR needs automated unit-tests.')]",[],
2202691070,pull_request,closed,,refactor: reset update_outstanding_for_self flag for old records (backport #40622),"Old Cr/Dr Notes will have `update_outstanding_for_self` flag incorrectly set as True, as the field was introduced with default True. Patch has been modified to unset before updating the ones created post backport.
introduced: https://github.com/frappe/erpnext/pull/40372<hr>This is an automatic backport of pull request #40622 done by [Mergify](https://mergify.com).",mergify[bot],2024-03-22 14:54:08+00:00,['ruthra-kumar'],2024-04-15 02:26:43+00:00,2024-03-24 10:54:37+00:00,https://github.com/frappe/erpnext/pull/40625,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2021857331, 'issue_id': 2202691070, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.66.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.66.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 3, 27, 3, 28, 53, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-03-27 03:28:53 UTC): :tada: This PR is included in version 14.66.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.66.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2202690927,pull_request,closed,,refactor: reset update_outstanding_for_self flag for old records (backport #40622),"Old Cr/Dr Notes will have `update_outstanding_for_self` flag incorrectly set as True, as the field was introduced with default True. Patch has been modified to unset before updating the ones created post backport.
introduced: https://github.com/frappe/erpnext/pull/40372<hr>This is an automatic backport of pull request #40622 done by [Mergify](https://mergify.com).",mergify[bot],2024-03-22 14:54:05+00:00,['ruthra-kumar'],2024-04-12 00:09:34+00:00,2024-03-24 11:09:03+00:00,https://github.com/frappe/erpnext/pull/40624,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2015277108, 'issue_id': 2202690927, 'author': 'mergify[bot]', 'body': 'Cherry-pick of a88bf8419e7c9987d81b7d0c1d05f45be26d65cc has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-40622\nYour branch is up to date with \'origin/version-15-hotfix\'.\n\nYou are currently cherry-picking commit a88bf8419e.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nChanges to be committed:\n\tmodified:   erpnext/patches/v14_0/update_flag_for_return_invoices.py\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/patches.txt\n\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 3, 22, 14, 54, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2021857717, 'issue_id': 2202690927, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.18.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.18.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 3, 27, 3, 29, 23, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-03-22 14:54:07 UTC): Cherry-pick of a88bf8419e7c9987d81b7d0c1d05f45be26d65cc has failed:
```
On branch mergify/bp/version-15-hotfix/pr-40622
Your branch is up to date with 'origin/version-15-hotfix'.

You are currently cherry-picking commit a88bf8419e.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Changes to be committed:
	modified:   erpnext/patches/v14_0/update_flag_for_return_invoices.py

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/patches.txt

```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

frappe-pr-bot on (2024-03-27 03:29:23 UTC): :tada: This PR is included in version 15.18.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.18.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2202231242,pull_request,closed,,refactor: reset update_outstanding_for_self flag for old records,"Old Cr/Dr Notes will have `update_outstanding_for_self` flag incorrectly set as True, as the field was introduced with default True. Patch has been modified to unset before updating the ones created post backport.
introduced: https://github.com/frappe/erpnext/pull/40372",ruthra-kumar,2024-03-22 10:56:20+00:00,[],2024-04-27 00:09:40+00:00,2024-03-22 14:52:15+00:00,https://github.com/frappe/erpnext/pull/40622,"[('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]","[{'comment_id': 2014859514, 'issue_id': 2202231242, 'author': 'muchai', 'body': 'Also, please have these fields ""update_outstanding"".. print hid by default.\r\nThey appear on print outs.', 'created_at': datetime.datetime(2024, 3, 22, 11, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2017079599, 'issue_id': 2202231242, 'author': 'ruthra-kumar', 'body': '@Mergify backport version-14', 'created_at': datetime.datetime(2024, 3, 25, 2, 2, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2017079645, 'issue_id': 2202231242, 'author': 'ruthra-kumar', 'body': '@Mergify backport version-15', 'created_at': datetime.datetime(2024, 3, 25, 2, 2, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2017079704, 'issue_id': 2202231242, 'author': 'mergify[bot]', 'body': '> backport version-14\n\n#### ✅ Backports have been created\n\n<details>\n\n* [#40644 refactor: reset update_outstanding_for_self flag for old records (backport #40622)](https://github.com/frappe/erpnext/pull/40644) has been created for branch `version-14`\n\n</details>\n\n\n<!---\nDO NOT EDIT\n-*- Mergify Payload -*-\n{""command"": ""backport version-14"", ""conclusion"": ""success"", ""action_is_running"": true}\n-*- Mergify Payload End -*-\n-->', 'created_at': datetime.datetime(2024, 3, 25, 2, 2, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2017079724, 'issue_id': 2202231242, 'author': 'mergify[bot]', 'body': '> backport version-15\n\n#### ✅ Backports have been created\n\n<details>\n\n* [#40645 refactor: reset update_outstanding_for_self flag for old records (backport #40622)](https://github.com/frappe/erpnext/pull/40645) has been created for branch `version-15` but encountered conflicts\n\n</details>\n\n\n<!---\nDO NOT EDIT\n-*- Mergify Payload -*-\n{""command"": ""backport version-15"", ""conclusion"": ""success"", ""action_is_running"": true}\n-*- Mergify Payload End -*-\n-->', 'created_at': datetime.datetime(2024, 3, 25, 2, 2, 48, tzinfo=datetime.timezone.utc)}]","muchai on (2024-03-22 11:11:00 UTC): Also, please have these fields ""update_outstanding"".. print hid by default.
They appear on print outs.

ruthra-kumar (Issue Creator) on (2024-03-25 02:02:39 UTC): @Mergify backport version-14

ruthra-kumar (Issue Creator) on (2024-03-25 02:02:42 UTC): @Mergify backport version-15

mergify[bot] on (2024-03-25 02:02:47 UTC): #### ✅ Backports have been created

<details>

* [#40644 refactor: reset update_outstanding_for_self flag for old records (backport #40622)](https://github.com/frappe/erpnext/pull/40644) has been created for branch `version-14`

</details>


<!---
DO NOT EDIT
-*- Mergify Payload -*-
{""command"": ""backport version-14"", ""conclusion"": ""success"", ""action_is_running"": true}
-*- Mergify Payload End -*-
-->

mergify[bot] on (2024-03-25 02:02:48 UTC): #### ✅ Backports have been created

<details>

* [#40645 refactor: reset update_outstanding_for_self flag for old records (backport #40622)](https://github.com/frappe/erpnext/pull/40645) has been created for branch `version-15` but encountered conflicts

</details>


<!---
DO NOT EDIT
-*- Mergify Payload -*-
{""command"": ""backport version-15"", ""conclusion"": ""success"", ""action_is_running"": true}
-*- Mergify Payload End -*-
-->

"
2202196718,pull_request,closed,,"fix: address_display, text -> text editor","same as  https://github.com/frappe/erpnext/pull/40563 and https://github.com/resilient-tech/india-compliance/pull/1893

Closes https://github.com/frappe/erpnext/issues/40603",ankush,2024-03-22 10:35:56+00:00,[],2024-04-27 00:09:37+00:00,2024-03-25 05:46:16+00:00,https://github.com/frappe/erpnext/pull/40621,"[('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2202152393,pull_request,closed,,fix: rate reset to zero (backport #40616) (backport #40618),"**Issue**

Created a delivery note against the sales order and changed the qty. On changing of the qty the rate has become zero

![rate_changing_to_zero](https://github.com/frappe/erpnext/assets/8780500/94dbc3be-0ba8-4f5d-bc35-2a7a4ef52ee6)
<hr>This is an automatic backport of pull request #40616 done by [Mergify](https://mergify.com).<hr>This is an automatic backport of pull request #40618 done by [Mergify](https://mergify.com).",mergify[bot],2024-03-22 10:12:11+00:00,[],2024-04-06 00:10:34+00:00,2024-03-22 10:31:27+00:00,https://github.com/frappe/erpnext/pull/40620,"[('stock', None), ('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2014798667, 'issue_id': 2202152393, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.65.7 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.65.7)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 3, 22, 10, 32, 49, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-03-22 10:32:49 UTC): :tada: This PR is included in version 14.65.7 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.65.7)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2202144883,pull_request,closed,,fix: rate reset to zero (backport #40616) (backport #40617),"**Issue**

Created a delivery note against the sales order and changed the qty. On changing of the qty the rate has become zero

![rate_changing_to_zero](https://github.com/frappe/erpnext/assets/8780500/94dbc3be-0ba8-4f5d-bc35-2a7a4ef52ee6)
<hr>This is an automatic backport of pull request #40616 done by [Mergify](https://mergify.com).<hr>This is an automatic backport of pull request #40617 done by [Mergify](https://mergify.com).",mergify[bot],2024-03-22 10:08:09+00:00,[],2024-04-06 00:10:34+00:00,2024-03-22 10:29:36+00:00,https://github.com/frappe/erpnext/pull/40619,"[('stock', None), ('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2014795405, 'issue_id': 2202144883, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.17.5 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.17.5)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 3, 22, 10, 30, 50, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-03-22 10:30:50 UTC): :tada: This PR is included in version 15.17.5 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.17.5)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2202111094,pull_request,closed,,fix: rate reset to zero (backport #40616),"**Issue**

Created a delivery note against the sales order and changed the qty. On changing of the qty the rate has become zero

![rate_changing_to_zero](https://github.com/frappe/erpnext/assets/8780500/94dbc3be-0ba8-4f5d-bc35-2a7a4ef52ee6)
<hr>This is an automatic backport of pull request #40616 done by [Mergify](https://mergify.com).",mergify[bot],2024-03-22 09:50:55+00:00,['rohitwaghchaure'],2024-04-15 02:26:40+00:00,2024-03-22 10:11:07+00:00,https://github.com/frappe/erpnext/pull/40618,"[('stock', None), ('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2014760982, 'issue_id': 2202111094, 'author': 'rohitwaghchaure', 'body': '@Mergifyio backport version-14', 'created_at': datetime.datetime(2024, 3, 22, 10, 10, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2014761473, 'issue_id': 2202111094, 'author': 'mergify[bot]', 'body': '> backport version-14\n\n#### ✅ Backports have been created\n\n<details>\n\n* [#40620 fix: rate reset to zero (backport #40616) (backport #40618)](https://github.com/frappe/erpnext/pull/40620) has been created for branch `version-14`\n\n</details>\n\n\n<!---\nDO NOT EDIT\n-*- Mergify Payload -*-\n{""command"": ""backport version-14"", ""conclusion"": ""success"", ""action_is_running"": true}\n-*- Mergify Payload End -*-\n-->', 'created_at': datetime.datetime(2024, 3, 22, 10, 11, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2021857433, 'issue_id': 2202111094, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.66.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.66.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 3, 27, 3, 29, 2, tzinfo=datetime.timezone.utc)}]","rohitwaghchaure (Assginee) on (2024-03-22 10:10:56 UTC): @Mergifyio backport version-14

mergify[bot] (Issue Creator) on (2024-03-22 10:11:17 UTC): #### ✅ Backports have been created

<details>

* [#40620 fix: rate reset to zero (backport #40616) (backport #40618)](https://github.com/frappe/erpnext/pull/40620) has been created for branch `version-14`

</details>


<!---
DO NOT EDIT
-*- Mergify Payload -*-
{""command"": ""backport version-14"", ""conclusion"": ""success"", ""action_is_running"": true}
-*- Mergify Payload End -*-
-->

frappe-pr-bot on (2024-03-27 03:29:02 UTC): :tada: This PR is included in version 14.66.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.66.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2202111018,pull_request,closed,,fix: rate reset to zero (backport #40616),"**Issue**

Created a delivery note against the sales order and changed the qty. On changing of the qty the rate has become zero

![rate_changing_to_zero](https://github.com/frappe/erpnext/assets/8780500/94dbc3be-0ba8-4f5d-bc35-2a7a4ef52ee6)
<hr>This is an automatic backport of pull request #40616 done by [Mergify](https://mergify.com).",mergify[bot],2024-03-22 09:50:53+00:00,['rohitwaghchaure'],2024-04-12 00:09:33+00:00,2024-03-22 10:06:51+00:00,https://github.com/frappe/erpnext/pull/40617,"[('stock', None), ('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2014753991, 'issue_id': 2202111018, 'author': 'rohitwaghchaure', 'body': '@Mergifyio backport version-15', 'created_at': datetime.datetime(2024, 3, 22, 10, 6, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2014754150, 'issue_id': 2202111018, 'author': 'mergify[bot]', 'body': '> backport version-15\n\n#### ✅ Backports have been created\n\n<details>\n\n* [#40619 fix: rate reset to zero (backport #40616) (backport #40617)](https://github.com/frappe/erpnext/pull/40619) has been created for branch `version-15`\n\n</details>\n\n\n<!---\nDO NOT EDIT\n-*- Mergify Payload -*-\n{""command"": ""backport version-15"", ""conclusion"": ""success"", ""action_is_running"": true}\n-*- Mergify Payload End -*-\n-->', 'created_at': datetime.datetime(2024, 3, 22, 10, 6, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2021857756, 'issue_id': 2202111018, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.18.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.18.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 3, 27, 3, 29, 26, tzinfo=datetime.timezone.utc)}]","rohitwaghchaure (Assginee) on (2024-03-22 10:06:42 UTC): @Mergifyio backport version-15

mergify[bot] (Issue Creator) on (2024-03-22 10:06:48 UTC): #### ✅ Backports have been created

<details>

* [#40619 fix: rate reset to zero (backport #40616) (backport #40617)](https://github.com/frappe/erpnext/pull/40619) has been created for branch `version-15`

</details>


<!---
DO NOT EDIT
-*- Mergify Payload -*-
{""command"": ""backport version-15"", ""conclusion"": ""success"", ""action_is_running"": true}
-*- Mergify Payload End -*-
-->

frappe-pr-bot on (2024-03-27 03:29:26 UTC): :tada: This PR is included in version 15.18.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.18.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2202077991,pull_request,closed,,fix: rate reset to zero,"**Issue**

Created a delivery note against the sales order and changed the qty. On changing of the qty the rate has become zero

![rate_changing_to_zero](https://github.com/frappe/erpnext/assets/8780500/94dbc3be-0ba8-4f5d-bc35-2a7a4ef52ee6)
",rohitwaghchaure,2024-03-22 09:34:40+00:00,[],2024-04-06 00:10:36+00:00,2024-03-22 09:49:54+00:00,https://github.com/frappe/erpnext/pull/40616,"[('stock', None), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2202000356,pull_request,closed,,feat: utility to debug financial reports - Bisect Accounting Statements (backport #38496),"A tool to debug any difference in 'Balance Sheet' and 'Profit and Loss' Statements. The tool first builds a binary search tree for the give time frame and then allows user to interactively navigate the tree left, right or up, runs the `Balance Sheet` and `Profit & Loss` reports for that section and shows the difference between them. The heatmap is just for better visualization.


https://github.com/frappe/erpnext/assets/3272205/711daaea-e439-4971-a2b1-fd2b465dda18




`no-docs`<hr>This is an automatic backport of pull request #38496 done by [Mergify](https://mergify.com).",mergify[bot],2024-03-22 08:51:36+00:00,['ruthra-kumar'],2024-04-15 02:26:41+00:00,2024-03-22 10:53:22+00:00,https://github.com/frappe/erpnext/pull/40615,"[('released', None)]","[{'comment_id': 2021857396, 'issue_id': 2202000356, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.66.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.66.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 3, 27, 3, 28, 59, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-03-27 03:28:59 UTC): :tada: This PR is included in version 14.66.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.66.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2201903482,pull_request,closed,,feat: utility to debug financial reports - Bisect Accounting Statements (backport #38496),"A tool to debug any difference in 'Balance Sheet' and 'Profit and Loss' Statements. The tool first builds a binary search tree for the give time frame and then allows user to interactively navigate the tree left, right or up, runs the `Balance Sheet` and `Profit & Loss` reports for that section and shows the difference between them. The heatmap is just for better visualization.


https://github.com/frappe/erpnext/assets/3272205/711daaea-e439-4971-a2b1-fd2b465dda18




`no-docs`<hr>This is an automatic backport of pull request #38496 done by [Mergify](https://mergify.com).",mergify[bot],2024-03-22 07:53:48+00:00,['ruthra-kumar'],2024-04-12 00:09:31+00:00,2024-03-22 08:49:42+00:00,https://github.com/frappe/erpnext/pull/40613,"[('released', None)]","[{'comment_id': 2021857827, 'issue_id': 2201903482, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.18.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.18.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 3, 27, 3, 29, 32, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-03-27 03:29:32 UTC): :tada: This PR is included in version 15.18.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.18.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2201867192,pull_request,closed,,fix: Wrong company name when get Stock balance report from warehouse directly.,"![wh](https://github.com/frappe/erpnext/assets/56191568/73bd0edd-0a49-43a6-afa5-e2d76d65a180)

clicking on 'Stock Balance' gives report with selected warehouse and default company. 

But, When company linked to warehouse is other then default company. it should fetch company name from warehouse form. ",jeshani,2024-03-22 07:27:24+00:00,[],2024-04-15 02:26:24+00:00,2024-03-30 02:53:36+00:00,https://github.com/frappe/erpnext/pull/40612,[],[],
