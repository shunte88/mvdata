id,type,state,state_reason,title,body,author,created_at,assignees,updated_at,closed_at,url,labels,comments_list,comment_thread
2330737678,pull_request,closed,,fix: Select both account number and company in the account form (backport #41731),"fixes: #41695

**Before:**

![image](https://github.com/frappe/erpnext/assets/141945075/90152ed8-74ad-4c8d-9081-9b4bd303f7ed)

**After:**

- Both account number and company should be selected in the account form. This is important because if the user wants to change the company, the account form needs to have a way to set the company. Additionally, each user selects by going to the account doctype instead of adding the account in the chart of accounts tree, so in this case, users have the right to select the company.

![image](https://github.com/frappe/erpnext/assets/141945075/afd847ee-450c-4659-94d6-40582a751cb3)
<hr>This is an automatic backport of pull request #41731 done by [Mergify](https://mergify.com).",mergify[bot],2024-06-03 10:11:40+00:00,['Nihantra-Patel'],2024-06-22 00:09:54+00:00,2024-06-03 13:06:58+00:00,https://github.com/frappe/erpnext/pull/41737,"[('released', None)]","[{'comment_id': 2148687617, 'issue_id': 2330737678, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.27.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.27.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 6, 5, 1, 21, 42, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-06-05 01:21:42 UTC): :tada: This PR is included in version 15.27.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.27.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2330648840,pull_request,closed,,fix(stock settings): Allowed any number in stock frozen upto days field,closes #41680 ,nabinhait,2024-06-03 09:33:18+00:00,[],2024-06-19 00:09:43+00:00,2024-06-03 13:04:57+00:00,https://github.com/frappe/erpnext/pull/41736,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2330528143,pull_request,closed,,fix: get assets received but not billed account only if any asset item is received (backport #41734),"Get assets received but not billed account only if any asset item is received

no-docs<hr>This is an automatic backport of pull request #41734 done by [Mergify](https://mergify.com).",mergify[bot],2024-06-03 08:36:52+00:00,['nabinhait'],2024-06-22 00:09:48+00:00,2024-06-03 10:48:29+00:00,https://github.com/frappe/erpnext/pull/41735,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2148687827, 'issue_id': 2330528143, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.27.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.27.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 6, 5, 1, 22, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-06-05 01:22:00 UTC): :tada: This PR is included in version 15.27.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.27.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2330450421,pull_request,closed,,fix: get assets received but not billed account only if any asset item is received,"Get assets received but not billed account only if any asset item is received

no-docs",nabinhait,2024-06-03 08:03:25+00:00,[],2024-06-22 00:10:11+00:00,2024-06-03 08:35:57+00:00,https://github.com/frappe/erpnext/pull/41734,"[('backport develop', 'instructs mergify to frontport PR to develop branch'), ('released', None), ('backport version-15-hotfix', '')]","[{'comment_id': 2145165249, 'issue_id': 2330450421, 'author': 'nabinhait', 'body': '@Mergifyio backport develop', 'created_at': datetime.datetime(2024, 6, 3, 13, 9, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2145165512, 'issue_id': 2330450421, 'author': 'mergify[bot]', 'body': '> backport develop\n\n#### ✅ Backports have been created\n\n<details>\n\n* [#41750 fix: get assets received but not billed account only if any asset item is received (backport #41734)](https://github.com/frappe/erpnext/pull/41750) has been created for branch `develop`\n\n</details>\n\n\n<!---\nDO NOT EDIT\n-*- Mergify Payload -*-\n{""command"": ""backport develop"", ""conclusion"": ""success"", ""action_is_running"": true}\n-*- Mergify Payload End -*-\n-->', 'created_at': datetime.datetime(2024, 6, 3, 13, 9, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2148684495, 'issue_id': 2330450421, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.70.4 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.70.4)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 6, 5, 1, 18, 13, tzinfo=datetime.timezone.utc)}]","nabinhait (Issue Creator) on (2024-06-03 13:09:31 UTC): @Mergifyio backport develop

mergify[bot] on (2024-06-03 13:09:39 UTC): #### ✅ Backports have been created

<details>

* [#41750 fix: get assets received but not billed account only if any asset item is received (backport #41734)](https://github.com/frappe/erpnext/pull/41750) has been created for branch `develop`

</details>


<!---
DO NOT EDIT
-*- Mergify Payload -*-
{""command"": ""backport develop"", ""conclusion"": ""success"", ""action_is_running"": true}
-*- Mergify Payload End -*-
-->

frappe-pr-bot on (2024-06-05 01:18:13 UTC): :tada: This PR is included in version 14.70.4 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.70.4)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2330424573,pull_request,closed,,fix: set expense account as Assets RBNB only if it is booked in linked PR (backport #41368),"Set expense account as Assets RBNB only if it is booked in linked PR because earlier GLEs are not posted via Purchase Receipt for non-cwip assets.

<hr>This is an automatic backport of pull request #41368 done by [Mergify](https://mergify.com).",mergify[bot],2024-06-03 07:50:11+00:00,[],2024-06-19 00:09:42+00:00,2024-06-03 13:06:37+00:00,https://github.com/frappe/erpnext/pull/41733,"[('needs-tests', 'This PR needs automated unit-tests.')]","[{'comment_id': 2144884471, 'issue_id': 2330424573, 'author': 'nabinhait', 'body': '@Mergifyio rebase', 'created_at': datetime.datetime(2024, 6, 3, 10, 49, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2144885091, 'issue_id': 2330424573, 'author': 'mergify[bot]', 'body': '> rebase\n\n#### ❌ Unable to rebase: user `nabinhait` is unknown. \n\n<details>\n\nPlease make sure `nabinhait` has logged in Mergify dashboard.\n\n</details>\n\n\n<!---\nDO NOT EDIT\n-*- Mergify Payload -*-\n{""command"": ""rebase"", ""conclusion"": ""failure"", ""action_is_running"": true}\n-*- Mergify Payload End -*-\n-->', 'created_at': datetime.datetime(2024, 6, 3, 10, 50, 5, tzinfo=datetime.timezone.utc)}]","nabinhait on (2024-06-03 10:49:44 UTC): @Mergifyio rebase

mergify[bot] (Issue Creator) on (2024-06-03 10:50:05 UTC): #### ❌ Unable to rebase: user `nabinhait` is unknown. 

<details>

Please make sure `nabinhait` has logged in Mergify dashboard.

</details>


<!---
DO NOT EDIT
-*- Mergify Payload -*-
{""command"": ""rebase"", ""conclusion"": ""failure"", ""action_is_running"": true}
-*- Mergify Payload End -*-
-->

"
2330250329,pull_request,closed,,fix: Select both account number and company in the account form,"fixes: #41695

**Before:**

![image](https://github.com/frappe/erpnext/assets/141945075/90152ed8-74ad-4c8d-9081-9b4bd303f7ed)

**After:**

- Both account number and company should be selected in the account form. This is important because if the user wants to change the company, the account form needs to have a way to set the company. Additionally, each user selects by going to the account doctype instead of adding the account in the chart of accounts tree, so in this case, users have the right to select the company.

![image](https://github.com/frappe/erpnext/assets/141945075/afd847ee-450c-4659-94d6-40582a751cb3)
",Nihantra-Patel,2024-06-03 06:06:08+00:00,[],2024-06-19 00:09:49+00:00,2024-06-03 10:10:07+00:00,https://github.com/frappe/erpnext/pull/41731,"[('backport version-15-hotfix', '')]",[],
2330224411,pull_request,closed,,fix(Vehicle): allow doc renaming and add test,"<!--

Some key notes before you open a PR:

 1. Select which branch should this PR be merged in?
 2. PR name follows [convention](http://karma-runner.github.io/4.0/dev/git-commit-msg.html)
 3. All tests pass locally, UI and Unit tests
 4. All business logic and validations must be on the server-side
 5. Update necessary Documentation
 6. Put `closes #XXXX` in your comment to auto-close the issue that your PR fixes


Also, if you're new here

- Documentation Guidelines => https://github.com/frappe/erpnext/wiki/Updating-Documentation

- Contribution Guide => https://github.com/frappe/erpnext/blob/develop/.github/CONTRIBUTING.md

- Pull Request Checklist => https://github.com/frappe/erpnext/wiki/Pull-Request-Checklist

-->

> Please provide enough information so that others can review your pull request:

<!-- You can skip this if you're fixing a typo or updating existing documentation -->

> Explain the **details** for making this change. What existing problem does the pull request solve?

<!-- Example: When ""Adding a function to do X"", explain why it is necessary to have a way to do X. -->

> Screenshots/GIFs

<!-- Add images/recordings to better visualize the change: expected/current behviour -->
",vinyselopal,2024-06-03 05:45:27+00:00,[],2024-06-19 00:09:26+00:00,2024-06-04 16:25:27+00:00,https://github.com/frappe/erpnext/pull/41729,"[('backport version-15-hotfix', '')]",[],
2330156313,pull_request,closed,,fix: Do no apply pricing rule on qty change for mapped docs,,deepeshgarg007,2024-06-03 04:41:58+00:00,[],2024-06-22 00:09:41+00:00,2024-06-06 03:43:24+00:00,https://github.com/frappe/erpnext/pull/41727,"[('backport version-15-hotfix', '')]",[],
2329578683,pull_request,closed,,chore: patch to enable old serial/batch fields,"From converting v13 to v15 or v14 to v15 added a patch to enable ""Use Serial / Batch Fields"" in Stock Settings ",rohitwaghchaure,2024-06-02 10:26:18+00:00,[],2024-06-26 00:09:55+00:00,2024-06-10 13:38:59+00:00,https://github.com/frappe/erpnext/pull/41723,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2329559143,pull_request,closed,,chore: update POT file,,frappe-pr-bot,2024-06-02 09:35:13+00:00,[],2024-07-10 00:11:05+00:00,2024-06-25 11:59:50+00:00,https://github.com/frappe/erpnext/pull/41722,"[('inactive', '')]","[{'comment_id': 2175070496, 'issue_id': 2329559143, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 6, 18, 5, 53, 45, tzinfo=datetime.timezone.utc)}]","stale[bot] on (2024-06-18 05:53:45 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

"
2329539081,pull_request,closed,,fix: distributed discounts on si,"# Context

- Tax Included in Price
- Additional Discount on Grand Total

Did not work.

Now it does, needs tests to stabilize.

~~Test failures in the POS seem like trivial, unintended side effects.~~ All green after fixup

It took us more than 8 months to figure out this was actually a bug in ERPNext.",blaggacao,2024-06-02 08:41:21+00:00,['ruthra-kumar'],2024-09-25 00:11:12+00:00,2024-09-05 10:07:18+00:00,https://github.com/frappe/erpnext/pull/41721,"[('accounts', ''), ('backport version-15-hotfix', '')]","[{'comment_id': 2314308895, 'issue_id': 2329539081, 'author': 'ruthra-kumar', 'body': '@blaggacao \r\nBefore me checking this, can you resolve the conflicts and let the test suite run.', 'created_at': datetime.datetime(2024, 8, 28, 4, 50, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2314862097, 'issue_id': 2329539081, 'author': 'ruthra-kumar', 'body': 'unrelated changes in https://github.com/frappe/erpnext/pull/41721/commits/6bfefd222e092f76ad483ba6cdac968a1d7361b5', 'created_at': datetime.datetime(2024, 8, 28, 9, 53, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2314898895, 'issue_id': 2329539081, 'author': 'blaggacao', 'body': ""> unrelated changes in 6bfefd2\n\nWell, without them, I can't properly work on json files without forced reformatting and introducing unnecessary diff. \n\n`.editorconfig` is misconfigured and others would be affected as well, as long as they use a prettier-based language server with auto-format on save switched on which reads out `.editorconfig` for auto-formatting. However, the framework saves json files with a space-indent of 1 space, not 2 spaces as the editorconfig configures.\n\nStill, I can extract that devx fix into a separate PR, though, so that this PR comtext remains as narrowly scoped as possible, without that opportunistic fix. I'll do that in a bit ..."", 'created_at': datetime.datetime(2024, 8, 28, 10, 10, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2315029300, 'issue_id': 2329539081, 'author': 'ruthra-kumar', 'body': ""> Well, without them, I can't properly work on json files without forced reformatting and introducing unnecessary diff.\r\n\r\n> .editorconfig is misconfigured and others would be affected as well, as long as they use a prettier-based language server with auto-format on save switched on which reads out .editorconfig for auto-formatting. However, the framework saves json files with a space-indent of 1 space, not 2 spaces as the editorconfig configures.\r\n\r\nThe pre-commit hooks should make sure there are no incorrect formatting before committing. So, I don't how you'll get unnecessary diff.\r\n\r\n> Still, I can extract that devx fix into a separate PR, though, so that this PR comtext remains as narrowly scoped as possible, without that opportunistic fix. I'll do that in a bit ...\r\n\r\nPlease do"", 'created_at': datetime.datetime(2024, 8, 28, 11, 14, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2320694650, 'issue_id': 2329539081, 'author': 'blaggacao', 'body': '@ruthra-kumar Could you help me understand how to fix the test so that I can run it individually?\r\n\r\n(it seems to be missing some generic test data)\r\n\r\n```console\r\n❯ bench run-tests --module ""erpnext.controllers.tests.test_distributed_discount""\r\n/nix/store/3bkksgdvxkqmbzhakhq1g8a1jv7rpkd1-python3-3.11.9-env/lib/python3.11/site-packages/passlib/utils/__init__.py:854: DeprecationWarning: \'crypt\' is deprecated and slated for removal in Python 3.13\r\n  from crypt import crypt as _crypt\r\nEE\r\n======================================================================\r\nERROR: test_distributed_discount_amount (erpnext.controllers.tests.test_distributed_discount.TestTaxesAndTotals.test_distributed_discount_amount)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File ""/home/blaggacao/src/gitlab.com/pristina/infraestructura/apps/erpnext/erpnext/controllers/tests/test_distributed_discount.py"", line 18, in test_distributed_discount_amount\r\n    so.save()\r\n  File ""/home/blaggacao/src/gitlab.com/pristina/infraestructura/apps/frappe/frappe/model/document.py"", line 503, in save\r\n    return self._save(*args, **kwargs)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File ""/home/blaggacao/src/gitlab.com/pristina/infraestructura/apps/frappe/frappe/model/document.py"", line 525, in _save\r\n    return self.insert()\r\n           ^^^^^^^^^^^^^\r\n  File ""/home/blaggacao/src/gitlab.com/pristina/infraestructura/apps/frappe/frappe/model/document.py"", line 449, in insert\r\n    self._validate_links()\r\n  File ""/home/blaggacao/src/gitlab.com/pristina/infraestructura/apps/frappe/frappe/model/document.py"", line 1096, in _validate_links\r\n    frappe.throw(_(""Could not find {0}"").format(msg), frappe.LinkValidationError)\r\n  File ""/home/blaggacao/src/gitlab.com/pristina/infraestructura/apps/frappe/frappe/__init__.py"", line 675, in throw\r\n    msgprint(\r\n  File ""/home/blaggacao/src/gitlab.com/pristina/infraestructura/apps/frappe/frappe/__init__.py"", line 640, in msgprint\r\n    _raise_exception()\r\n  File ""/home/blaggacao/src/gitlab.com/pristina/infraestructura/apps/frappe/frappe/__init__.py"", line 591, in _raise_exception\r\n    raise exc\r\nfrappe.exceptions.LinkValidationError: Could not find Company: _Test Company, Row #1: Delivery Warehouse: _Test Warehouse - _TC\r\n\r\n======================================================================\r\nERROR: test_distributed_discount_amount_with_taxes (erpnext.controllers.tests.test_distributed_discount.TestTaxesAndTotals.test_distributed_discount_amount_with_taxes)\r\n----------------------------------------------------------------------\r\nTraceback (most recent call last):\r\n  File ""/home/blaggacao/src/gitlab.com/pristina/infraestructura/apps/erpnext/erpnext/controllers/tests/test_distributed_discount.py"", line 49, in test_distributed_discount_amount_with_taxes\r\n    so.save()\r\n  File ""/home/blaggacao/src/gitlab.com/pristina/infraestructura/apps/frappe/frappe/model/document.py"", line 503, in save\r\n    return self._save(*args, **kwargs)\r\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n  File ""/home/blaggacao/src/gitlab.com/pristina/infraestructura/apps/frappe/frappe/model/document.py"", line 525, in _save\r\n    return self.insert()\r\n           ^^^^^^^^^^^^^\r\n  File ""/home/blaggacao/src/gitlab.com/pristina/infraestructura/apps/frappe/frappe/model/document.py"", line 449, in insert\r\n    self._validate_links()\r\n  File ""/home/blaggacao/src/gitlab.com/pristina/infraestructura/apps/frappe/frappe/model/document.py"", line 1096, in _validate_links\r\n    frappe.throw(_(""Could not find {0}"").format(msg), frappe.LinkValidationError)\r\n  File ""/home/blaggacao/src/gitlab.com/pristina/infraestructura/apps/frappe/frappe/__init__.py"", line 675, in throw\r\n    msgprint(\r\n  File ""/home/blaggacao/src/gitlab.com/pristina/infraestructura/apps/frappe/frappe/__init__.py"", line 640, in msgprint\r\n    _raise_exception()\r\n  File ""/home/blaggacao/src/gitlab.com/pristina/infraestructura/apps/frappe/frappe/__init__.py"", line 591, in _raise_exception\r\n    raise exc\r\nfrappe.exceptions.LinkValidationError: Could not find Company: _Test Company, Row #1: Delivery Warehouse: _Test Warehouse - _TC, Row #1: Cost Center: _Test Cost Center - _TC\r\n\r\n----------------------------------------------------------------------\r\nRan 2 tests in 0.366s\r\n\r\nFAILED (errors=2)\r\n```', 'created_at': datetime.datetime(2024, 8, 30, 9, 50, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2320844555, 'issue_id': 2329539081, 'author': 'ruthra-kumar', 'body': ""@blaggacao \r\nMost of the test cases are not indempotent. They'll need some test data setup by test suite of another doctype.\r\n\r\nTry running test suite of 'Company' doctype. Then, try running yours."", 'created_at': datetime.datetime(2024, 8, 30, 10, 57, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2327315750, 'issue_id': 2329539081, 'author': 'blaggacao', 'body': ""@ruthra-kumar I finally found the time to perfect the test. This is ready to ship. I'll stand by for any in-adverted consequences, should there be any."", 'created_at': datetime.datetime(2024, 9, 3, 19, 53, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2330768561, 'issue_id': 2329539081, 'author': 'ruthra-kumar', 'body': '`test_distributed_discount_amount_with_taxes` is still failing', 'created_at': datetime.datetime(2024, 9, 5, 7, 8, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2331092780, 'issue_id': 2329539081, 'author': 'blaggacao', 'body': 'Thanks Ruthra, that was just a fat finger of mine. :smile:', 'created_at': datetime.datetime(2024, 9, 5, 9, 51, 1, tzinfo=datetime.timezone.utc)}]","ruthra-kumar (Assginee) on (2024-08-28 04:50:13 UTC): @blaggacao 
Before me checking this, can you resolve the conflicts and let the test suite run.

ruthra-kumar (Assginee) on (2024-08-28 09:53:26 UTC): unrelated changes in https://github.com/frappe/erpnext/pull/41721/commits/6bfefd222e092f76ad483ba6cdac968a1d7361b5

blaggacao (Issue Creator) on (2024-08-28 10:10:36 UTC): Well, without them, I can't properly work on json files without forced reformatting and introducing unnecessary diff. 

`.editorconfig` is misconfigured and others would be affected as well, as long as they use a prettier-based language server with auto-format on save switched on which reads out `.editorconfig` for auto-formatting. However, the framework saves json files with a space-indent of 1 space, not 2 spaces as the editorconfig configures.

Still, I can extract that devx fix into a separate PR, though, so that this PR comtext remains as narrowly scoped as possible, without that opportunistic fix. I'll do that in a bit ...

ruthra-kumar (Assginee) on (2024-08-28 11:14:44 UTC): The pre-commit hooks should make sure there are no incorrect formatting before committing. So, I don't how you'll get unnecessary diff.


Please do

blaggacao (Issue Creator) on (2024-08-30 09:50:34 UTC): @ruthra-kumar Could you help me understand how to fix the test so that I can run it individually?

(it seems to be missing some generic test data)

```console
❯ bench run-tests --module ""erpnext.controllers.tests.test_distributed_discount""
/nix/store/3bkksgdvxkqmbzhakhq1g8a1jv7rpkd1-python3-3.11.9-env/lib/python3.11/site-packages/passlib/utils/__init__.py:854: DeprecationWarning: 'crypt' is deprecated and slated for removal in Python 3.13
  from crypt import crypt as _crypt
EE
======================================================================
ERROR: test_distributed_discount_amount (erpnext.controllers.tests.test_distributed_discount.TestTaxesAndTotals.test_distributed_discount_amount)
----------------------------------------------------------------------
Traceback (most recent call last):
  File ""/home/blaggacao/src/gitlab.com/pristina/infraestructura/apps/erpnext/erpnext/controllers/tests/test_distributed_discount.py"", line 18, in test_distributed_discount_amount
    so.save()
  File ""/home/blaggacao/src/gitlab.com/pristina/infraestructura/apps/frappe/frappe/model/document.py"", line 503, in save
    return self._save(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/blaggacao/src/gitlab.com/pristina/infraestructura/apps/frappe/frappe/model/document.py"", line 525, in _save
    return self.insert()
           ^^^^^^^^^^^^^
  File ""/home/blaggacao/src/gitlab.com/pristina/infraestructura/apps/frappe/frappe/model/document.py"", line 449, in insert
    self._validate_links()
  File ""/home/blaggacao/src/gitlab.com/pristina/infraestructura/apps/frappe/frappe/model/document.py"", line 1096, in _validate_links
    frappe.throw(_(""Could not find {0}"").format(msg), frappe.LinkValidationError)
  File ""/home/blaggacao/src/gitlab.com/pristina/infraestructura/apps/frappe/frappe/__init__.py"", line 675, in throw
    msgprint(
  File ""/home/blaggacao/src/gitlab.com/pristina/infraestructura/apps/frappe/frappe/__init__.py"", line 640, in msgprint
    _raise_exception()
  File ""/home/blaggacao/src/gitlab.com/pristina/infraestructura/apps/frappe/frappe/__init__.py"", line 591, in _raise_exception
    raise exc
frappe.exceptions.LinkValidationError: Could not find Company: _Test Company, Row #1: Delivery Warehouse: _Test Warehouse - _TC

======================================================================
ERROR: test_distributed_discount_amount_with_taxes (erpnext.controllers.tests.test_distributed_discount.TestTaxesAndTotals.test_distributed_discount_amount_with_taxes)
----------------------------------------------------------------------
Traceback (most recent call last):
  File ""/home/blaggacao/src/gitlab.com/pristina/infraestructura/apps/erpnext/erpnext/controllers/tests/test_distributed_discount.py"", line 49, in test_distributed_discount_amount_with_taxes
    so.save()
  File ""/home/blaggacao/src/gitlab.com/pristina/infraestructura/apps/frappe/frappe/model/document.py"", line 503, in save
    return self._save(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/blaggacao/src/gitlab.com/pristina/infraestructura/apps/frappe/frappe/model/document.py"", line 525, in _save
    return self.insert()
           ^^^^^^^^^^^^^
  File ""/home/blaggacao/src/gitlab.com/pristina/infraestructura/apps/frappe/frappe/model/document.py"", line 449, in insert
    self._validate_links()
  File ""/home/blaggacao/src/gitlab.com/pristina/infraestructura/apps/frappe/frappe/model/document.py"", line 1096, in _validate_links
    frappe.throw(_(""Could not find {0}"").format(msg), frappe.LinkValidationError)
  File ""/home/blaggacao/src/gitlab.com/pristina/infraestructura/apps/frappe/frappe/__init__.py"", line 675, in throw
    msgprint(
  File ""/home/blaggacao/src/gitlab.com/pristina/infraestructura/apps/frappe/frappe/__init__.py"", line 640, in msgprint
    _raise_exception()
  File ""/home/blaggacao/src/gitlab.com/pristina/infraestructura/apps/frappe/frappe/__init__.py"", line 591, in _raise_exception
    raise exc
frappe.exceptions.LinkValidationError: Could not find Company: _Test Company, Row #1: Delivery Warehouse: _Test Warehouse - _TC, Row #1: Cost Center: _Test Cost Center - _TC

----------------------------------------------------------------------
Ran 2 tests in 0.366s

FAILED (errors=2)
```

ruthra-kumar (Assginee) on (2024-08-30 10:57:26 UTC): @blaggacao 
Most of the test cases are not indempotent. They'll need some test data setup by test suite of another doctype.

Try running test suite of 'Company' doctype. Then, try running yours.

blaggacao (Issue Creator) on (2024-09-03 19:53:09 UTC): @ruthra-kumar I finally found the time to perfect the test. This is ready to ship. I'll stand by for any in-adverted consequences, should there be any.

ruthra-kumar (Assginee) on (2024-09-05 07:08:16 UTC): `test_distributed_discount_amount_with_taxes` is still failing

blaggacao (Issue Creator) on (2024-09-05 09:51:01 UTC): Thanks Ruthra, that was just a fat finger of mine. :smile:

"
2329195817,pull_request,closed,,fix: Transaction currency value in Journal Entry (backport #41717),<hr>This is an automatic backport of pull request #41717 done by [Mergify](https://mergify.com).,mergify[bot],2024-06-01 15:18:50+00:00,['deepeshgarg007'],2024-06-22 00:09:58+00:00,2024-06-04 06:48:28+00:00,https://github.com/frappe/erpnext/pull/41720,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2148687451, 'issue_id': 2329195817, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.27.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.27.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 6, 5, 1, 21, 30, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-06-05 01:21:30 UTC): :tada: This PR is included in version 15.27.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.27.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2329186323,pull_request,closed,,fix: lp during ref_doc save event,"**Prior**:

1. ref_doc is passed
2. values are written in db
3. ref_doc may be saved afterwards (from the memory object without updated values)
4. values are reset into db
5. transactions finishes; no new values land in db

**Now**:
1. ref_doc is passed
2. values are written on ref_doc
3. values are also written to db
4. in case ref_doc goes through the normal document lifecycle, values are preserved (because they are correctly set on the memory object)
5. correct values remain in db",blaggacao,2024-06-01 14:57:31+00:00,[],2024-09-24 00:11:43+00:00,2024-09-05 14:50:46+00:00,https://github.com/frappe/erpnext/pull/41719,"[('backport version-15-hotfix', '')]","[{'comment_id': 2172528852, 'issue_id': 2329186323, 'author': 'blaggacao', 'body': ""@deepeshgarg007 @ruthra-kumar are you sure you're not interested in this fix and want to let it go stale?"", 'created_at': datetime.datetime(2024, 6, 17, 7, 41, 31, tzinfo=datetime.timezone.utc)}]","blaggacao (Issue Creator) on (2024-06-17 07:41:31 UTC): @deepeshgarg007 @ruthra-kumar are you sure you're not interested in this fix and want to let it go stale?

"
2329181400,pull_request,closed,,fix: loyalty points application on si,"**Prior**:

- loyalty points from a Shopping Cart order where not applied correctly when creating an invoice
  - `redeem_loyalty_points` *alone* was set by the `make_sales_invoice` mapper function
  - This would not be sufficient on a SI to trigger the correct booking of loyalty points, including gl entries
  
**Now**:
  
  - `redeem_loyalty_points` alongside with the actual `loyalty_points` (to redeem) is set in `make_sales_invoice`
  - On this condition, the SI lifecycle via `validate_loyalty_points` completes all further required fields
  - And on this condition, GL entries are created
  - A local re-implementation of `validate_loyalty_points` is no more needed and removed",blaggacao,2024-06-01 14:46:02+00:00,[],2024-09-28 00:10:56+00:00,2024-09-05 22:10:32+00:00,https://github.com/frappe/erpnext/pull/41718,"[('backport version-15-hotfix', '')]","[{'comment_id': 2331960337, 'issue_id': 2329181400, 'author': 'blaggacao', 'body': ""I removed my comments above: I didn't understand them anymore myself."", 'created_at': datetime.datetime(2024, 9, 5, 15, 5, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2332566811, 'issue_id': 2329181400, 'author': 'blaggacao', 'body': ""@ruthra-kumar can you help me understand what (on earth) is (re-)setting `si.loyalty_program` to `None` on `si.insert()`?\r\n\r\nIn production, we get it from the customer, but here I didn't bother to set up the customer for the (attempted) unit test."", 'created_at': datetime.datetime(2024, 9, 5, 20, 23, tzinfo=datetime.timezone.utc)}]","blaggacao (Issue Creator) on (2024-09-05 15:05:34 UTC): I removed my comments above: I didn't understand them anymore myself.

blaggacao (Issue Creator) on (2024-09-05 20:23:00 UTC): @ruthra-kumar can you help me understand what (on earth) is (re-)setting `si.loyalty_program` to `None` on `si.insert()`?

In production, we get it from the customer, but here I didn't bother to set up the customer for the (attempted) unit test.

"
2329163187,pull_request,closed,,fix: Transaction currency value in Journal Entry,,deepeshgarg007,2024-06-01 14:05:22+00:00,[],2024-06-16 00:12:13+00:00,2024-06-01 15:16:43+00:00,https://github.com/frappe/erpnext/pull/41717,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2329123548,pull_request,closed,,fix: condition-wise filter for transaction based pricing rule (backport #41658),Pricing rules were not filtered for conditions if the `apply_on` was set for Transaction.<hr>This is an automatic backport of pull request #41658 done by [Mergify](https://mergify.com).,mergify[bot],2024-06-01 12:45:22+00:00,[],2024-06-22 00:09:50+00:00,2024-06-01 13:01:11+00:00,https://github.com/frappe/erpnext/pull/41714,"[('released', None)]","[{'comment_id': 2148687765, 'issue_id': 2329123548, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.27.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.27.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 6, 5, 1, 21, 54, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-06-05 01:21:54 UTC): :tada: This PR is included in version 15.27.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.27.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2329048077,pull_request,closed,,feat: optional to reconcile all serial nos / batches in stock reconciliation (backport #41696),"If user wants to reconcile few batches using serial and batch bundle then disable ""Reconcile All Serial Nos / Batches"" checkbox in the line item.

<img width=""753"" alt=""Screenshot 2024-05-30 at 11 20 30 PM"" src=""https://github.com/frappe/erpnext/assets/8780500/f0648810-55ec-4d05-afc6-ee6a35f361e0"">

Docs https://docs.erpnext.com/docs/user/manual/en/stock-reconciliation#5-serial-and-batch-bundle<hr>This is an automatic backport of pull request #41696 done by [Mergify](https://mergify.com).",mergify[bot],2024-06-01 09:56:56+00:00,['rohitwaghchaure'],2024-06-22 00:09:49+00:00,2024-06-01 13:00:33+00:00,https://github.com/frappe/erpnext/pull/41713,"[('stock', None), ('released', None)]","[{'comment_id': 2143386899, 'issue_id': 2329048077, 'author': 'mergify[bot]', 'body': 'Cherry-pick of ee846f59504a7f1751c284971847e9e564231d4d has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-41696\nYour branch is up to date with \'origin/version-15-hotfix\'.\n\nYou are currently cherry-picking commit ee846f5950.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nChanges to be committed:\n\tmodified:   erpnext/stock/doctype/pick_list/test_pick_list.py\n\tmodified:   erpnext/stock/doctype/stock_reconciliation/stock_reconciliation.js\n\tmodified:   erpnext/stock/doctype/stock_reconciliation/stock_reconciliation.py\n\tmodified:   erpnext/stock/doctype/stock_reconciliation/test_stock_reconciliation.py\n\tmodified:   erpnext/stock/doctype/stock_reconciliation_item/stock_reconciliation_item.py\n\tmodified:   erpnext/stock/serial_batch_bundle.py\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/stock/doctype/stock_reconciliation_item/stock_reconciliation_item.json\n\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 6, 1, 9, 56, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2148687797, 'issue_id': 2329048077, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.27.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.27.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 6, 5, 1, 21, 57, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-06-01 09:56:58 UTC): Cherry-pick of ee846f59504a7f1751c284971847e9e564231d4d has failed:
```
On branch mergify/bp/version-15-hotfix/pr-41696
Your branch is up to date with 'origin/version-15-hotfix'.

You are currently cherry-picking commit ee846f5950.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Changes to be committed:
	modified:   erpnext/stock/doctype/pick_list/test_pick_list.py
	modified:   erpnext/stock/doctype/stock_reconciliation/stock_reconciliation.js
	modified:   erpnext/stock/doctype/stock_reconciliation/stock_reconciliation.py
	modified:   erpnext/stock/doctype/stock_reconciliation/test_stock_reconciliation.py
	modified:   erpnext/stock/doctype/stock_reconciliation_item/stock_reconciliation_item.py
	modified:   erpnext/stock/serial_batch_bundle.py

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/stock/doctype/stock_reconciliation_item/stock_reconciliation_item.json

```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

frappe-pr-bot on (2024-06-05 01:21:57 UTC): :tada: This PR is included in version 15.27.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.27.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2327753849,pull_request,closed,,refactor: use doctype File directly instead of save_file from file_manager.py,"`save_file` will change the filename and not clean up after itself after a rollback

This is a preparation for another (not yet done) PR to solve https://github.com/frappe/frappe/issues/25178 which will completey remove the `save_file` function from `file_manager.py`.

<!--

Some key notes before you open a PR:

 1. Select which branch should this PR be merged in?
 2. PR name follows [convention](http://karma-runner.github.io/4.0/dev/git-commit-msg.html)
 3. All tests pass locally, UI and Unit tests
 4. All business logic and validations must be on the server-side
 5. Update necessary Documentation
 6. Put `closes #XXXX` in your comment to auto-close the issue that your PR fixes


Also, if you're new here

- Documentation Guidelines => https://github.com/frappe/erpnext/wiki/Updating-Documentation

- Contribution Guide => https://github.com/frappe/erpnext/blob/develop/.github/CONTRIBUTING.md

- Pull Request Checklist => https://github.com/frappe/erpnext/wiki/Pull-Request-Checklist

-->",Mutantpenguin,2024-05-31 12:40:28+00:00,['ruthra-kumar'],2024-08-25 00:11:12+00:00,2024-08-06 09:04:07+00:00,https://github.com/frappe/erpnext/pull/41708,"[('needs-tests', 'This PR needs automated unit-tests.')]","[{'comment_id': 2171831716, 'issue_id': 2327753849, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 6, 16, 19, 59, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2175234996, 'issue_id': 2327753849, 'author': 'Mutantpenguin', 'body': 'I would still like this to get merged.', 'created_at': datetime.datetime(2024, 6, 18, 6, 40, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2191200403, 'issue_id': 2327753849, 'author': 'Mutantpenguin', 'body': ""@deepeshgarg007 @ruthra-kumar \r\n\r\nAny chance to reopen it? If not, please tell my why you won't accept this PR."", 'created_at': datetime.datetime(2024, 6, 26, 9, 9, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2237771638, 'issue_id': 2327753849, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 7, 18, 23, 27, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2267166066, 'issue_id': 2327753849, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 8, 3, 21, 31, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2270672681, 'issue_id': 2327753849, 'author': 'Mutantpenguin', 'body': 'I would still like this to get merged.', 'created_at': datetime.datetime(2024, 8, 6, 8, 20, 49, tzinfo=datetime.timezone.utc)}]","stale[bot] on (2024-06-16 19:59:14 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

Mutantpenguin (Issue Creator) on (2024-06-18 06:40:26 UTC): I would still like this to get merged.

Mutantpenguin (Issue Creator) on (2024-06-26 09:09:40 UTC): @deepeshgarg007 @ruthra-kumar 

Any chance to reopen it? If not, please tell my why you won't accept this PR.

stale[bot] on (2024-07-18 23:27:24 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

stale[bot] on (2024-08-03 21:31:53 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

Mutantpenguin (Issue Creator) on (2024-08-06 08:20:49 UTC): I would still like this to get merged.

"
2327660600,pull_request,closed,,refactor: add `Is opening` flag for payment entry,"Similar to Sales/Purchase Invoice and Journal, Payment Entry will have 'Is Opening' flag. It will be restricted to `Advance in Separate Party Account` type Payment Entries.",ruthra-kumar,2024-05-31 11:46:58+00:00,[],2024-06-26 00:09:53+00:00,2024-06-11 04:56:01+00:00,https://github.com/frappe/erpnext/pull/41707,"[('backport version-15-hotfix', '')]",[],
2327432624,pull_request,closed,,fix: French chart of account the 4191 code must be of type Income Account (backport #41232),"Default french chart of account have an error, Account ""4191 - Clients - Avances et acomptes reçus sur commandes"" must be of type Income Account because should be set on Item Default.income_account<hr>This is an automatic backport of pull request #41232 done by [Mergify](https://mergify.com).",mergify[bot],2024-05-31 09:56:18+00:00,[],2024-06-22 00:09:47+00:00,2024-06-01 10:37:00+00:00,https://github.com/frappe/erpnext/pull/41706,"[('released', None)]","[{'comment_id': 2148687861, 'issue_id': 2327432624, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.27.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.27.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 6, 5, 1, 22, 3, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-06-05 01:22:03 UTC): :tada: This PR is included in version 15.27.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.27.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2327150798,pull_request,closed,,chore: clarify codepath around mute email and make invoice,"Part of https://github.com/frappe/erpnext/pull/40845


cc @ruthra-kumar
",blaggacao,2024-05-31 07:31:10+00:00,['ruthra-kumar'],2024-07-08 00:11:16+00:00,2024-06-23 00:09:00+00:00,https://github.com/frappe/erpnext/pull/41704,[],"[{'comment_id': 2141658587, 'issue_id': 2327150798, 'author': 'blaggacao', 'body': ""@ruthra-kumar now it's green :-)"", 'created_at': datetime.datetime(2024, 5, 31, 9, 55, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2143758459, 'issue_id': 2327150798, 'author': 'blaggacao', 'body': '@ruthra-kumar Does this look good?\r\n\r\n- All previous tests remain green; including the specifically added ones to stabilize this refactoring\r\n- The test semantic improves, correctly asserting the `pr.mute_email` state, now', 'created_at': datetime.datetime(2024, 6, 2, 8, 47, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2153735128, 'issue_id': 2327150798, 'author': 'ruthra-kumar', 'body': '@blaggacao \r\n\r\nBit held up with other stuff. Will look into this PR next week.', 'created_at': datetime.datetime(2024, 6, 7, 2, 21, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2172536841, 'issue_id': 2327150798, 'author': 'blaggacao', 'body': '@ruthra-kumar Hey, I hope we can get through this next step. Kindly remember, there are still 6 or so ahead, at a minimum. :-)', 'created_at': datetime.datetime(2024, 6, 17, 7, 45, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2185009080, 'issue_id': 2327150798, 'author': 'blaggacao', 'body': 'Thanks a lot! The next one should be a lot smaller and easier! :handshake:', 'created_at': datetime.datetime(2024, 6, 23, 14, 19, 47, tzinfo=datetime.timezone.utc)}]","blaggacao (Issue Creator) on (2024-05-31 09:55:16 UTC): @ruthra-kumar now it's green :-)

blaggacao (Issue Creator) on (2024-06-02 08:47:21 UTC): @ruthra-kumar Does this look good?

- All previous tests remain green; including the specifically added ones to stabilize this refactoring
- The test semantic improves, correctly asserting the `pr.mute_email` state, now

ruthra-kumar (Assginee) on (2024-06-07 02:21:22 UTC): @blaggacao 

Bit held up with other stuff. Will look into this PR next week.

blaggacao (Issue Creator) on (2024-06-17 07:45:59 UTC): @ruthra-kumar Hey, I hope we can get through this next step. Kindly remember, there are still 6 or so ahead, at a minimum. :-)

blaggacao (Issue Creator) on (2024-06-23 14:19:47 UTC): Thanks a lot! The next one should be a lot smaller and easier! :handshake:

"
2327057961,pull_request,closed,,fix: key error for stock ledger report (backport #41700),"**Issue**

```
  File ""apps/frappe/frappe/core/doctype/report/report.py"", line 162, in execute_script_report
    res = self.execute_module(filters)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/core/doctype/report/report.py"", line 179, in execute_module
    return frappe.get_attr(method_name)(frappe._dict(filters))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/erpnext/erpnext/stock/report/stock_ledger/stock_ledger.py"", line 70, in execute
    batch_balance_dict[sle.batch_no] += sle.actual_qty
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
KeyError: None
```<hr>This is an automatic backport of pull request #41700 done by [Mergify](https://mergify.com).",mergify[bot],2024-05-31 06:27:41+00:00,['rohitwaghchaure'],2024-06-22 00:09:46+00:00,2024-05-31 06:52:07+00:00,https://github.com/frappe/erpnext/pull/41703,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2148687899, 'issue_id': 2327057961, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.27.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.27.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 6, 5, 1, 22, 6, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-06-05 01:22:06 UTC): :tada: This PR is included in version 15.27.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.27.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2327050433,pull_request,closed,,fix: Calculate shipping charges before discount is added,"closes https://github.com/frappe/erpnext/issues/41358
",Ninad1306,2024-05-31 06:21:41+00:00,[],2024-11-08 08:19:29+00:00,2024-08-12 23:48:29+00:00,https://github.com/frappe/erpnext/pull/41702,"[('accounts', ''), ('inactive', '')]","[{'comment_id': 2145022506, 'issue_id': 2327050433, 'author': 'Nihantra-Patel', 'body': 'Hi @Ninad1306,\r\n\r\nI think you should raise the PR for the develop branch instead of version-15-hotfix because the issue is not resolved in the develop branch. Did you check if it works on the develop branch?', 'created_at': datetime.datetime(2024, 6, 3, 12, 4, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2145114052, 'issue_id': 2327050433, 'author': 'Ninad1306', 'body': 'Yes i have tried to replicate this issue in develop, but it is fixed there.', 'created_at': datetime.datetime(2024, 6, 3, 12, 45, 27, tzinfo=datetime.timezone.utc)}]","Nihantra-Patel on (2024-06-03 12:04:43 UTC): Hi @Ninad1306,

I think you should raise the PR for the develop branch instead of version-15-hotfix because the issue is not resolved in the develop branch. Did you check if it works on the develop branch?

Ninad1306 (Issue Creator) on (2024-06-03 12:45:27 UTC): Yes i have tried to replicate this issue in develop, but it is fixed there.

"
2327019456,pull_request,closed,,fix: key error for stock ledger report,"**Issue**

```
  File ""apps/frappe/frappe/core/doctype/report/report.py"", line 162, in execute_script_report
    res = self.execute_module(filters)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/core/doctype/report/report.py"", line 179, in execute_module
    return frappe.get_attr(method_name)(frappe._dict(filters))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/erpnext/erpnext/stock/report/stock_ledger/stock_ledger.py"", line 70, in execute
    batch_balance_dict[sle.batch_no] += sle.actual_qty
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
KeyError: None
```",rohitwaghchaure,2024-05-31 05:55:24+00:00,[],2024-06-15 00:09:21+00:00,2024-05-31 06:25:51+00:00,https://github.com/frappe/erpnext/pull/41700,"[('backport version-15-hotfix', '')]",[],
2326973242,pull_request,closed,,fix: Ignore disabling default currency field while creating new company,"Ignore disabling the default currency field while creating a new company, because it is not required and also gives permission error based on existing user permissions.",nabinhait,2024-05-31 05:08:12+00:00,[],2024-06-19 00:09:37+00:00,2024-06-04 06:12:20+00:00,https://github.com/frappe/erpnext/pull/41699,"[('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2326242623,pull_request,closed,,feat: Option to reconcile all serial nos / batches in stock reconciliation,"If user wants to reconcile few batches using serial and batch bundle then disable ""Reconcile All Serial Nos / Batches"" checkbox in the line item.

<img width=""753"" alt=""Screenshot 2024-05-30 at 11 20 30 PM"" src=""https://github.com/frappe/erpnext/assets/8780500/f0648810-55ec-4d05-afc6-ee6a35f361e0"">

Docs https://docs.erpnext.com/docs/user/manual/en/stock-reconciliation#5-serial-and-batch-bundle",rohitwaghchaure,2024-05-30 17:51:44+00:00,[],2024-09-11 06:31:28+00:00,2024-06-01 09:55:51+00:00,https://github.com/frappe/erpnext/pull/41696,"[('stock', None), ('backport version-15-hotfix', '')]",[],
2325676841,pull_request,closed,,fix: batch selection issue (backport #41692) (backport #41693),"**Issue**

Batch No dropdown showing blank values
<img width=""1143"" alt=""Screenshot 2024-05-30 at 5 19 39 PM"" src=""https://github.com/frappe/erpnext/assets/8780500/ac9bdb6c-9b4c-4668-8cb3-14864b6a457e"">


But it shows batch no, if user manually type the batch id
<img width=""1320"" alt=""Screenshot 2024-05-30 at 5 19 49 PM"" src=""https://github.com/frappe/erpnext/assets/8780500/d34f1245-df01-40b8-bc36-e9d6062aef9b"">


**After Fix**
<img width=""1319"" alt=""Screenshot 2024-05-30 at 5 21 38 PM"" src=""https://github.com/frappe/erpnext/assets/8780500/bb801250-438c-4a21-a5c3-97ebc07a1dd9"">
<hr>This is an automatic backport of pull request #41692 done by [Mergify](https://mergify.com).<hr>This is an automatic backport of pull request #41693 done by [Mergify](https://mergify.com).",mergify[bot],2024-05-30 13:20:20+00:00,[],2024-06-14 00:09:28+00:00,2024-05-30 13:56:02+00:00,https://github.com/frappe/erpnext/pull/41694,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2139617734, 'issue_id': 2325676841, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.26.1 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.26.1)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 5, 30, 13, 57, 27, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-05-30 13:57:27 UTC): :tada: This PR is included in version 15.26.1 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.26.1)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2325578648,pull_request,closed,,fix: batch selection issue (backport #41692),"**Issue**

Batch No dropdown showing blank values
<img width=""1143"" alt=""Screenshot 2024-05-30 at 5 19 39 PM"" src=""https://github.com/frappe/erpnext/assets/8780500/ac9bdb6c-9b4c-4668-8cb3-14864b6a457e"">


But it shows batch no, if user manually type the batch id
<img width=""1320"" alt=""Screenshot 2024-05-30 at 5 19 49 PM"" src=""https://github.com/frappe/erpnext/assets/8780500/d34f1245-df01-40b8-bc36-e9d6062aef9b"">


**After Fix**
<img width=""1319"" alt=""Screenshot 2024-05-30 at 5 21 38 PM"" src=""https://github.com/frappe/erpnext/assets/8780500/bb801250-438c-4a21-a5c3-97ebc07a1dd9"">
<hr>This is an automatic backport of pull request #41692 done by [Mergify](https://mergify.com).",mergify[bot],2024-05-30 12:37:43+00:00,['rohitwaghchaure'],2024-06-22 00:09:43+00:00,2024-05-30 13:19:12+00:00,https://github.com/frappe/erpnext/pull/41693,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2139541756, 'issue_id': 2325578648, 'author': 'rohitwaghchaure', 'body': '@Mergifyio backport version-15', 'created_at': datetime.datetime(2024, 5, 30, 13, 19, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2139542556, 'issue_id': 2325578648, 'author': 'mergify[bot]', 'body': '> backport version-15\n\n#### ✅ Backports have been created\n\n<details>\n\n* [#41694 fix: batch selection issue (backport #41692) (backport #41693)](https://github.com/frappe/erpnext/pull/41694) has been created for branch `version-15`\n\n</details>\n\n\n<!---\nDO NOT EDIT\n-*- Mergify Payload -*-\n{""command"": ""backport version-15"", ""conclusion"": ""success"", ""action_is_running"": true}\n-*- Mergify Payload End -*-\n-->', 'created_at': datetime.datetime(2024, 5, 30, 13, 19, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2148688000, 'issue_id': 2325578648, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.27.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.27.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 6, 5, 1, 22, 15, tzinfo=datetime.timezone.utc)}]","rohitwaghchaure (Assginee) on (2024-05-30 13:19:26 UTC): @Mergifyio backport version-15

mergify[bot] (Issue Creator) on (2024-05-30 13:19:50 UTC): #### ✅ Backports have been created

<details>

* [#41694 fix: batch selection issue (backport #41692) (backport #41693)](https://github.com/frappe/erpnext/pull/41694) has been created for branch `version-15`

</details>


<!---
DO NOT EDIT
-*- Mergify Payload -*-
{""command"": ""backport version-15"", ""conclusion"": ""success"", ""action_is_running"": true}
-*- Mergify Payload End -*-
-->

frappe-pr-bot on (2024-06-05 01:22:15 UTC): :tada: This PR is included in version 15.27.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.27.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2325494438,pull_request,closed,,fix: batch selection issue,"**Issue**

Batch No dropdown showing blank values
<img width=""1143"" alt=""Screenshot 2024-05-30 at 5 19 39 PM"" src=""https://github.com/frappe/erpnext/assets/8780500/ac9bdb6c-9b4c-4668-8cb3-14864b6a457e"">


But it shows batch no, if user manually type the batch id
<img width=""1320"" alt=""Screenshot 2024-05-30 at 5 19 49 PM"" src=""https://github.com/frappe/erpnext/assets/8780500/d34f1245-df01-40b8-bc36-e9d6062aef9b"">


**After Fix**
<img width=""1319"" alt=""Screenshot 2024-05-30 at 5 21 38 PM"" src=""https://github.com/frappe/erpnext/assets/8780500/bb801250-438c-4a21-a5c3-97ebc07a1dd9"">
",rohitwaghchaure,2024-05-30 11:55:01+00:00,[],2024-06-14 00:09:29+00:00,2024-05-30 12:36:29+00:00,https://github.com/frappe/erpnext/pull/41692,"[('backport version-15-hotfix', '')]",[],
2325303715,pull_request,closed,,chore(google): remove google client library alias,"Related to https://github.com/frappe/frappe/pull/26614.

`no-docs`",Alchez,2024-05-30 10:24:39+00:00,[],2024-08-06 00:09:55+00:00,2024-07-22 08:40:04+00:00,https://github.com/frappe/erpnext/pull/41690,"[('needs-tests', 'This PR needs automated unit-tests.'), ('inactive', '')]","[{'comment_id': 2196381227, 'issue_id': 2325303715, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 6, 28, 8, 15, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2235252305, 'issue_id': 2325303715, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 7, 18, 3, 38, 11, tzinfo=datetime.timezone.utc)}]","stale[bot] on (2024-06-28 08:15:06 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

stale[bot] on (2024-07-18 03:38:11 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

"
2325292890,pull_request,closed,,fix: Batch number not populating based on the flag in Stock Settings,"In Pick list batch should get populated based on the flag (**pick_serial_and_batch_based_on**) in Stock settings, but is populating based on FIFO.",sandeep-kakde,2024-05-30 10:18:40+00:00,[],2024-07-16 00:11:23+00:00,2024-06-30 05:29:38+00:00,https://github.com/frappe/erpnext/pull/41689,"[('needs-tests', 'This PR needs automated unit-tests.'), ('inactive', ''), ('backport develop', 'instructs mergify to frontport PR to develop branch')]","[{'comment_id': 2139544589, 'issue_id': 2325292890, 'author': 'rohitwaghchaure', 'body': '@sandeep-kakde Can you add test cases', 'created_at': datetime.datetime(2024, 5, 30, 13, 20, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2185504301, 'issue_id': 2325292890, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 6, 24, 3, 11, 25, tzinfo=datetime.timezone.utc)}]","rohitwaghchaure on (2024-05-30 13:20:57 UTC): @sandeep-kakde Can you add test cases

stale[bot] on (2024-06-24 03:11:25 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

"
2325081590,pull_request,closed,,fix: show material to supplier button (backport #41686),"**Issue**


Set over transfer allowance still Transfer -> material to supplier button not showing on the SCO

**Buying Settings**
<img width=""1339"" alt=""Screenshot 2024-05-30 at 12 07 12 PM"" src=""https://github.com/frappe/erpnext/assets/8780500/6757ac45-8b99-4f36-ac34-481ce2514bfc"">

**Subcontracting Order**
<img width=""1317"" alt=""Screenshot 2024-05-30 at 11 03 21 AM"" src=""https://github.com/frappe/erpnext/assets/8780500/8ce98c94-f79b-4a23-b0d1-2e1ca9f5a100"">



**After Fix**
<img width=""1286"" alt=""Screenshot 2024-05-30 at 12 07 03 PM"" src=""https://github.com/frappe/erpnext/assets/8780500/9691bd9b-fa54-4db3-8a42-ac75917184df"">




<hr>This is an automatic backport of pull request #41686 done by [Mergify](https://mergify.com).",mergify[bot],2024-05-30 08:36:21+00:00,['rohitwaghchaure'],2024-06-22 00:09:44+00:00,2024-05-30 10:43:54+00:00,https://github.com/frappe/erpnext/pull/41688,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2148687967, 'issue_id': 2325081590, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.27.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.27.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 6, 5, 1, 22, 12, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-06-05 01:22:12 UTC): :tada: This PR is included in version 15.27.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.27.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2324925479,pull_request,closed,,fix: show material to supplier button,"**Issue**


Set over transfer allowance still Transfer -> material to supplier button not showing on the SCO

**Buying Settings**
<img width=""1339"" alt=""Screenshot 2024-05-30 at 12 07 12 PM"" src=""https://github.com/frappe/erpnext/assets/8780500/6757ac45-8b99-4f36-ac34-481ce2514bfc"">

**Subcontracting Order**
<img width=""1317"" alt=""Screenshot 2024-05-30 at 11 03 21 AM"" src=""https://github.com/frappe/erpnext/assets/8780500/8ce98c94-f79b-4a23-b0d1-2e1ca9f5a100"">



**After Fix**
<img width=""1286"" alt=""Screenshot 2024-05-30 at 12 07 03 PM"" src=""https://github.com/frappe/erpnext/assets/8780500/9691bd9b-fa54-4db3-8a42-ac75917184df"">




",rohitwaghchaure,2024-05-30 07:32:48+00:00,[],2024-06-14 00:09:30+00:00,2024-05-30 08:35:20+00:00,https://github.com/frappe/erpnext/pull/41686,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2324808636,pull_request,closed,,refactor: enabling partial TDS application on partial invoice,"Consider a scenario where a Purchase Order has TDS applied, even though Supplier master doesn't have TDS set. On such cases, making a Partial Purchase Invoice against that PO fetched the full TDS amount from PO. This is incorrect.

By making `Apply Tax Withholding Amount` checkbox editable on such scenarios, users can make partial purchase invoice with TDS applied only for that partial amount.

Internal Ref: https://support.frappe.io/helpdesk/tickets/14976",ruthra-kumar,2024-05-30 06:24:19+00:00,[],2024-07-31 06:02:15+00:00,2024-06-11 04:40:43+00:00,https://github.com/frappe/erpnext/pull/41685,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2323932726,pull_request,closed,,fix: work order created message pops up if no items are selected (backport #41677),"**Work order created message pops up if no items are selected**

![work_order](https://github.com/frappe/erpnext/assets/83776819/6f718968-ef4b-431f-978a-aaa3b1cd6fd1)

**To address this issue, If no items selected i have implemented a throw message.**<hr>This is an automatic backport of pull request #41677 done by [Mergify](https://mergify.com).",mergify[bot],2024-05-29 18:04:28+00:00,[],2024-06-22 00:09:42+00:00,2024-05-30 13:21:26+00:00,https://github.com/frappe/erpnext/pull/41682,"[('released', None)]","[{'comment_id': 2148688039, 'issue_id': 2323932726, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.27.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.27.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 6, 5, 1, 22, 18, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-06-05 01:22:18 UTC): :tada: This PR is included in version 15.27.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.27.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2322563453,pull_request,closed,,fix: Filters in account balance report (backport #41676),<hr>This is an automatic backport of pull request #41676 done by [Mergify](https://mergify.com).,mergify[bot],2024-05-29 07:20:53+00:00,['deepeshgarg007'],2024-06-22 00:10:12+00:00,2024-05-31 14:32:35+00:00,https://github.com/frappe/erpnext/pull/41679,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2148684415, 'issue_id': 2322563453, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.70.4 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.70.4)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 6, 5, 1, 18, 10, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-06-05 01:18:10 UTC): :tada: This PR is included in version 14.70.4 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.70.4)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2322563376,pull_request,closed,,fix: Filters in account balance report (backport #41676),<hr>This is an automatic backport of pull request #41676 done by [Mergify](https://mergify.com).,mergify[bot],2024-05-29 07:20:51+00:00,['deepeshgarg007'],2024-06-22 00:09:45+00:00,2024-05-31 14:32:20+00:00,https://github.com/frappe/erpnext/pull/41678,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2148687928, 'issue_id': 2322563376, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.27.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.27.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 6, 5, 1, 22, 9, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-06-05 01:22:09 UTC): :tada: This PR is included in version 15.27.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.27.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2322537759,pull_request,closed,,fix: work order created message pops up if no items are selected,"**Work order created message pops up if no items are selected**

![work_order](https://github.com/frappe/erpnext/assets/83776819/6f718968-ef4b-431f-978a-aaa3b1cd6fd1)

**To address this issue, If no items selected i have implemented a throw message.**",nijithanil,2024-05-29 07:06:21+00:00,[],2024-06-14 00:09:31+00:00,2024-05-29 18:02:07+00:00,https://github.com/frappe/erpnext/pull/41677,"[('backport version-15-hotfix', '')]","[{'comment_id': 2136696244, 'issue_id': 2322537759, 'author': 'nijithanil', 'body': 'Please check\r\n@ruthra-kumar \r\n@rohitwaghchaure', 'created_at': datetime.datetime(2024, 5, 29, 7, 12, 5, tzinfo=datetime.timezone.utc)}]","nijithanil (Issue Creator) on (2024-05-29 07:12:05 UTC): Please check
@ruthra-kumar 
@rohitwaghchaure

"
2322530573,pull_request,closed,,fix: Filters in account balance report,,deepeshgarg007,2024-05-29 07:02:08+00:00,[],2024-06-14 00:09:59+00:00,2024-05-29 07:18:02+00:00,https://github.com/frappe/erpnext/pull/41676,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2322375335,pull_request,closed,,fix: set expense account as Assets RBNB only if it is booked in linked PR (backport #41368),"Set expense account as Assets RBNB only if it is booked in linked PR because earlier GLEs are not posted via Purchase Receipt for non-cwip assets.

<hr>This is an automatic backport of pull request #41368 done by [Mergify](https://mergify.com).",mergify[bot],2024-05-29 05:16:59+00:00,['nabinhait'],2024-06-14 00:09:43+00:00,2024-05-29 05:37:07+00:00,https://github.com/frappe/erpnext/pull/41673,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2136776066, 'issue_id': 2322375335, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.26.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.26.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 5, 29, 7, 54, 46, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-05-29 07:54:46 UTC): :tada: This PR is included in version 15.26.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.26.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2321798848,pull_request,closed,,fix(Deferred Expenses): Pro rata calculation for first day and last day,"Hello,

This PR aims at correcting the pro-rata calculation for deferred income/expenses calculated on a monthly basis.
The current behavior doesn't calculate a pro-rata if an expense service start date is on the last day of month, whereas we could consider that 1 day should be counted.

Example with a service start date on 2024-01-31 and a service end date on 2025-01-30.
Currently the calculation for the first month is 0€ and it blocks the calculation for the following months as displayed below (calculation rule is 'Months'):

![2024-05-28_21-30](https://github.com/frappe/erpnext/assets/4903591/ddd4dcc5-d0a7-43d9-a1ac-359580c3664d)

If a service start date is done on the last day of the month, we should assume that one day should be prorated like:
![2024-05-28_21-21](https://github.com/frappe/erpnext/assets/4903591/b30669ae-1651-4ce5-b5c2-f74a41f8b3e6)


Therefore I propose 2 changes:

1. Always add one day to the date differences for the pro-rata calculation:
Between the 1st and the 31st we should count 31 days, and on the 31st we should count 1 day.

2. The pro-rata percentage was arbitrarily rounded with 1 decimal, I propose to round it based on the system settings.
The problem with 1 decimal is the following: 1/31 = 0.03225...
With 1 decimal, the percentage will be 0.0, which cancels the effects of the above fix.
Don't hesitate to let me know if you see a better solution for setting the precision.

Have a nice day.

",chdecultot,2024-05-28 19:45:58+00:00,[],2024-07-26 00:09:52+00:00,2024-07-06 21:37:28+00:00,https://github.com/frappe/erpnext/pull/41672,"[('accounts', ''), ('needs-tests', 'This PR needs automated unit-tests.'), ('inactive', '')]","[{'comment_id': 2175070577, 'issue_id': 2321798848, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 6, 18, 5, 53, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2175071605, 'issue_id': 2321798848, 'author': 'chdecultot', 'body': 'Keep alive', 'created_at': datetime.datetime(2024, 6, 18, 5, 54, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2206936174, 'issue_id': 2321798848, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 7, 3, 18, 16, 55, tzinfo=datetime.timezone.utc)}]","stale[bot] on (2024-06-18 05:53:48 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

chdecultot (Issue Creator) on (2024-06-18 05:54:44 UTC): Keep alive

stale[bot] on (2024-07-03 18:16:55 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

"
2321469579,pull_request,closed,,perf: batchwise balance history report,,rohitwaghchaure,2024-05-28 16:19:36+00:00,[],2024-06-14 00:10:05+00:00,2024-05-28 16:47:23+00:00,https://github.com/frappe/erpnext/pull/41671,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2321335180,pull_request,closed,,refactor: renamed number of depreciations booked to opening booked de… (backport #41515),"**Refactor**

In asset doctype when asset is existing asset, ""Number of Depreciations Booked"" field shows the opening number of depreciations booked. Which is confusing as user can misunderstand it as total number of booked depreciations. 
So renamed ""Number of Depreciations Booked"" to ""Opening Number of Booked Depreciations"".

**Feature**

Added new field ""Total Number of Booked Depreciations"". As the name suggest it will show the total number of booked depreciations.

no-docs<hr>This is an automatic backport of pull request #41515 done by [Mergify](https://mergify.com).",mergify[bot],2024-05-28 15:12:34+00:00,['khushi8112'],2024-07-08 00:11:21+00:00,2024-06-21 14:02:37+00:00,https://github.com/frappe/erpnext/pull/41669,"[('conflicts', None)]","[{'comment_id': 2135481323, 'issue_id': 2321335180, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 6b0ce33030b4944f994a6d62dbfa23e11aceff8d has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-41515\nYour branch is up to date with \'origin/version-15-hotfix\'.\n\nYou are currently cherry-picking commit 6b0ce33030.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nChanges to be committed:\n\tmodified:   erpnext/accounts/doctype/journal_entry/journal_entry.py\n\tmodified:   erpnext/assets/doctype/asset/asset.json\n\tmodified:   erpnext/assets/doctype/asset/asset.py\n\tmodified:   erpnext/assets/doctype/asset/depreciation.py\n\tmodified:   erpnext/assets/doctype/asset/test_asset.py\n\tmodified:   erpnext/assets/doctype/asset_depreciation_schedule/asset_depreciation_schedule.json\n\tmodified:   erpnext/assets/doctype/asset_depreciation_schedule/asset_depreciation_schedule.py\n\tmodified:   erpnext/assets/doctype/asset_depreciation_schedule/test_asset_depreciation_schedule.py\n\tmodified:   erpnext/assets/doctype/asset_finance_book/asset_finance_book.py\n\tmodified:   erpnext/assets/doctype/asset_repair/asset_repair.py\n\tmodified:   erpnext/patches.txt\n\tmodified:   erpnext/patches/v15_0/create_asset_depreciation_schedules_from_assets.py\n\tnew file:   erpnext/patches/v15_0/rename_number_of_depreciations_booked_to_opening_booked_depreciations.py\n\tmodified:   erpnext/patches/v15_0/update_gpa_and_ndb_for_assdeprsch.py\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/assets/doctype/asset_finance_book/asset_finance_book.json\n\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 5, 28, 15, 12, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2171831731, 'issue_id': 2321335180, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 6, 16, 19, 59, 19, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-05-28 15:12:36 UTC): Cherry-pick of 6b0ce33030b4944f994a6d62dbfa23e11aceff8d has failed:
```
On branch mergify/bp/version-15-hotfix/pr-41515
Your branch is up to date with 'origin/version-15-hotfix'.

You are currently cherry-picking commit 6b0ce33030.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Changes to be committed:
	modified:   erpnext/accounts/doctype/journal_entry/journal_entry.py
	modified:   erpnext/assets/doctype/asset/asset.json
	modified:   erpnext/assets/doctype/asset/asset.py
	modified:   erpnext/assets/doctype/asset/depreciation.py
	modified:   erpnext/assets/doctype/asset/test_asset.py
	modified:   erpnext/assets/doctype/asset_depreciation_schedule/asset_depreciation_schedule.json
	modified:   erpnext/assets/doctype/asset_depreciation_schedule/asset_depreciation_schedule.py
	modified:   erpnext/assets/doctype/asset_depreciation_schedule/test_asset_depreciation_schedule.py
	modified:   erpnext/assets/doctype/asset_finance_book/asset_finance_book.py
	modified:   erpnext/assets/doctype/asset_repair/asset_repair.py
	modified:   erpnext/patches.txt
	modified:   erpnext/patches/v15_0/create_asset_depreciation_schedules_from_assets.py
	new file:   erpnext/patches/v15_0/rename_number_of_depreciations_booked_to_opening_booked_depreciations.py
	modified:   erpnext/patches/v15_0/update_gpa_and_ndb_for_assdeprsch.py

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/assets/doctype/asset_finance_book/asset_finance_book.json

```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

stale[bot] on (2024-06-16 19:59:19 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

"
2321056086,pull_request,closed,,fix: multiple issues related to serial and batch bundle (backport #41662),"**Issue 1**

Newly created batches are not coming in the stock entry with type as Material Receipt

- Create a batch manually TEST-0001
- Open the stock entry with type as Material Receipt
- Add item and in the batch dropdown try to select the batch TEST-0001 which doesn't populate

**Issue 2**
Purchase Return Issue

- Create a Purchase Receipt for 100 qty with the batch as MNGHJHK00025 and disable ""Use Serial / Batch fields""
- Make a delivery note for the 50 qty with the batch as MNGHJHK00025
- Now try to make Purchase Return entry, you will get the below error 
<img width=""762"" alt=""Screenshot 2024-05-27 at 8 00 09 PM"" src=""https://github.com/frappe/erpnext/assets/8780500/8bf756d8-bb4c-4357-9749-e1f3b058942e"">


**Issue 3**
Do not auto create the serial and batch bundle for the Draft Stock Entry

**Issue 4 (performance)**
Pick valuation rate from the serial number to skip below code for legacy serial numbers

<img width=""1033"" alt=""Screenshot 2024-05-28 at 1 44 57 PM"" src=""https://github.com/frappe/erpnext/assets/8780500/e9696afa-5778-4752-acfe-d9c8665c99b5"">
<hr>This is an automatic backport of pull request #41662 done by [Mergify](https://mergify.com).",mergify[bot],2024-05-28 13:21:19+00:00,['rohitwaghchaure'],2024-06-14 00:09:45+00:00,2024-05-28 16:27:13+00:00,https://github.com/frappe/erpnext/pull/41668,"[('stock', None), ('released', None)]","[{'comment_id': 2135205207, 'issue_id': 2321056086, 'author': 'mergify[bot]', 'body': 'Cherry-pick of ce834f5dba1066b59705eb171e1bca331405b704 has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-41662\nYour branch is up to date with \'origin/version-15-hotfix\'.\n\nYou are currently cherry-picking commit ce834f5dba.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nChanges to be committed:\n\tmodified:   erpnext/accounts/doctype/pos_invoice/pos_invoice.py\n\tmodified:   erpnext/accounts/doctype/pos_invoice/test_pos_invoice.py\n\tmodified:   erpnext/accounts/doctype/purchase_invoice/purchase_invoice.py\n\tmodified:   erpnext/accounts/doctype/sales_invoice/sales_invoice.py\n\tmodified:   erpnext/controllers/sales_and_purchase_return.py\n\tmodified:   erpnext/controllers/stock_controller.py\n\tmodified:   erpnext/stock/deprecated_serial_batch.py\n\tmodified:   erpnext/stock/doctype/batch/batch.py\n\tmodified:   erpnext/stock/doctype/delivery_note/delivery_note.py\n\tmodified:   erpnext/stock/doctype/delivery_note/test_delivery_note.py\n\tmodified:   erpnext/stock/doctype/purchase_receipt/purchase_receipt.py\n\tmodified:   erpnext/stock/doctype/purchase_receipt/test_purchase_receipt.py\n\tmodified:   erpnext/stock/doctype/purchase_receipt_item/purchase_receipt_item.py\n\tmodified:   erpnext/stock/doctype/putaway_rule/test_putaway_rule.py\n\tmodified:   erpnext/stock/doctype/serial_and_batch_bundle/serial_and_batch_bundle.py\n\tmodified:   erpnext/stock/doctype/stock_entry/stock_entry.js\n\tmodified:   erpnext/stock/doctype/stock_entry/stock_entry.py\n\tmodified:   erpnext/stock/report/batch_wise_balance_history/batch_wise_balance_history.py\n\tmodified:   erpnext/stock/serial_batch_bundle.py\n\tmodified:   erpnext/stock/stock_ledger.py\n\tmodified:   erpnext/subcontracting/doctype/subcontracting_receipt/subcontracting_receipt.js\n\tmodified:   erpnext/subcontracting/doctype/subcontracting_receipt/subcontracting_receipt.py\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/stock/doctype/purchase_receipt_item/purchase_receipt_item.json\n\tboth modified:   erpnext/subcontracting/doctype/subcontracting_receipt/subcontracting_receipt.json\n\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 5, 28, 13, 21, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2136775863, 'issue_id': 2321056086, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.26.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.26.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 5, 29, 7, 54, 40, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-05-28 13:21:21 UTC): Cherry-pick of ce834f5dba1066b59705eb171e1bca331405b704 has failed:
```
On branch mergify/bp/version-15-hotfix/pr-41662
Your branch is up to date with 'origin/version-15-hotfix'.

You are currently cherry-picking commit ce834f5dba.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Changes to be committed:
	modified:   erpnext/accounts/doctype/pos_invoice/pos_invoice.py
	modified:   erpnext/accounts/doctype/pos_invoice/test_pos_invoice.py
	modified:   erpnext/accounts/doctype/purchase_invoice/purchase_invoice.py
	modified:   erpnext/accounts/doctype/sales_invoice/sales_invoice.py
	modified:   erpnext/controllers/sales_and_purchase_return.py
	modified:   erpnext/controllers/stock_controller.py
	modified:   erpnext/stock/deprecated_serial_batch.py
	modified:   erpnext/stock/doctype/batch/batch.py
	modified:   erpnext/stock/doctype/delivery_note/delivery_note.py
	modified:   erpnext/stock/doctype/delivery_note/test_delivery_note.py
	modified:   erpnext/stock/doctype/purchase_receipt/purchase_receipt.py
	modified:   erpnext/stock/doctype/purchase_receipt/test_purchase_receipt.py
	modified:   erpnext/stock/doctype/purchase_receipt_item/purchase_receipt_item.py
	modified:   erpnext/stock/doctype/putaway_rule/test_putaway_rule.py
	modified:   erpnext/stock/doctype/serial_and_batch_bundle/serial_and_batch_bundle.py
	modified:   erpnext/stock/doctype/stock_entry/stock_entry.js
	modified:   erpnext/stock/doctype/stock_entry/stock_entry.py
	modified:   erpnext/stock/report/batch_wise_balance_history/batch_wise_balance_history.py
	modified:   erpnext/stock/serial_batch_bundle.py
	modified:   erpnext/stock/stock_ledger.py
	modified:   erpnext/subcontracting/doctype/subcontracting_receipt/subcontracting_receipt.js
	modified:   erpnext/subcontracting/doctype/subcontracting_receipt/subcontracting_receipt.py

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/stock/doctype/purchase_receipt_item/purchase_receipt_item.json
	both modified:   erpnext/subcontracting/doctype/subcontracting_receipt/subcontracting_receipt.json

```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

frappe-pr-bot on (2024-05-29 07:54:40 UTC): :tada: This PR is included in version 15.26.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.26.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2320639914,pull_request,closed,,feat: Add Party details to Serial No Ledger Report (backport #41656),"`no-docs`

- Since no party details are present in Serial No anymore, it is hard to get a view of which SN was sold to/purchased from which party
- Add Voucher Party fields to report
	<img width=""1293"" alt=""Screenshot 2024-05-27 at 1 25 09 PM"" src=""https://github.com/frappe/erpnext/assets/25857446/a0b61649-8f3e-4689-81ab-f27539a48fd0"">

<hr>This is an automatic backport of pull request #41656 done by [Mergify](https://mergify.com).",mergify[bot],2024-05-28 09:59:37+00:00,['marination'],2024-06-14 00:09:46+00:00,2024-05-28 11:06:44+00:00,https://github.com/frappe/erpnext/pull/41667,"[('released', None)]","[{'comment_id': 2136775791, 'issue_id': 2320639914, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.26.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.26.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 5, 29, 7, 54, 37, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-05-29 07:54:37 UTC): :tada: This PR is included in version 15.26.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.26.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2320585649,pull_request,closed,,chore: release v15,Automated weekly release.,frappe-pr-bot,2024-05-28 09:34:01+00:00,[],2024-06-14 00:09:47+00:00,2024-05-29 07:52:52+00:00,https://github.com/frappe/erpnext/pull/41666,"[('accounts', ''), ('stock', None), ('released', None)]","[{'comment_id': 2136775682, 'issue_id': 2320585649, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.26.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.26.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 5, 29, 7, 54, 34, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot (Issue Creator) on (2024-05-29 07:54:34 UTC): :tada: This PR is included in version 15.26.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.26.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2320585608,pull_request,closed,,chore: release v14,Automated weekly release.,frappe-pr-bot,2024-05-28 09:34:00+00:00,[],2024-06-14 00:09:58+00:00,2024-05-29 07:51:19+00:00,https://github.com/frappe/erpnext/pull/41665,"[('accounts', ''), ('stock', None), ('released', None)]","[{'comment_id': 2136772635, 'issue_id': 2320585608, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.70.3 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.70.3)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 5, 29, 7, 52, 52, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot (Issue Creator) on (2024-05-29 07:52:52 UTC): :tada: This PR is included in version 14.70.3 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.70.3)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2319704058,pull_request,closed,,fix: multiple issues related to serial and batch bundle,"**Issue 1**

Newly created batches are not coming in the stock entry with type as Material Receipt

- Create a batch manually TEST-0001
- Open the stock entry with type as Material Receipt
- Add item and in the batch dropdown try to select the batch TEST-0001 which doesn't populate

**Issue 2**
Purchase Return Issue

- Create a Purchase Receipt for 100 qty with the batch as MNGHJHK00025 and disable ""Use Serial / Batch fields""
- Make a delivery note for the 50 qty with the batch as MNGHJHK00025
- Now try to make Purchase Return entry, you will get the below error 
<img width=""762"" alt=""Screenshot 2024-05-27 at 8 00 09 PM"" src=""https://github.com/frappe/erpnext/assets/8780500/8bf756d8-bb4c-4357-9749-e1f3b058942e"">


**Issue 3**
Do not auto create the serial and batch bundle for the Draft Stock Entry

**Issue 4 (performance)**
Pick valuation rate from the serial number to skip below code for legacy serial numbers

<img width=""1033"" alt=""Screenshot 2024-05-28 at 1 44 57 PM"" src=""https://github.com/frappe/erpnext/assets/8780500/e9696afa-5778-4752-acfe-d9c8665c99b5"">
",rohitwaghchaure,2024-05-27 19:49:40+00:00,[],2024-06-14 00:10:08+00:00,2024-05-28 13:18:09+00:00,https://github.com/frappe/erpnext/pull/41662,"[('stock', None), ('backport version-15-hotfix', '')]",[],
2319517771,pull_request,closed,,fix: Auditor permissions (backport #41659),"- fix: allow Auditor to select a company
- fix: allow Auditor to read a Fiscal Year
<hr>This is an automatic backport of pull request #41659 done by [Mergify](https://mergify.com).",mergify[bot],2024-05-27 16:50:47+00:00,[],2024-06-22 00:09:56+00:00,2024-06-04 06:49:36+00:00,https://github.com/frappe/erpnext/pull/41661,"[('released', None)]","[{'comment_id': 2148687541, 'issue_id': 2319517771, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.27.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.27.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 6, 5, 1, 21, 36, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-06-05 01:21:36 UTC): :tada: This PR is included in version 15.27.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.27.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2319517719,pull_request,closed,,fix: Auditor permissions (backport #41659),"- fix: allow Auditor to select a company
- fix: allow Auditor to read a Fiscal Year
<hr>This is an automatic backport of pull request #41659 done by [Mergify](https://mergify.com).",mergify[bot],2024-05-27 16:50:44+00:00,[],2024-07-08 00:11:57+00:00,2024-06-12 15:47:30+00:00,https://github.com/frappe/erpnext/pull/41660,"[('inactive', ''), ('released', None)]","[{'comment_id': 2133826370, 'issue_id': 2319517719, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 06401cc84fd0ffe8ab7e1cf7dec68544af72a3aa has failed:\n```\nOn branch mergify/bp/version-14-hotfix/pr-41659\nYour branch is up to date with \'origin/version-14-hotfix\'.\n\nYou are currently cherry-picking commit 06401cc84f.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/setup/doctype/company/company.json\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nCherry-pick of eaa4efbc457678155efe710b1fc6bd12516dcb62 has failed:\n```\nOn branch mergify/bp/version-14-hotfix/pr-41659\nYour branch is ahead of \'origin/version-14-hotfix\' by 1 commit.\n  (use ""git push"" to publish your local commits)\n\nYou are currently cherry-picking commit eaa4efbc45.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/accounts/doctype/fiscal_year/fiscal_year.json\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 5, 27, 16, 50, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2162182945, 'issue_id': 2319517719, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 6, 12, 6, 12, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2162856181, 'issue_id': 2319517719, 'author': 'barredterra', 'body': '@mergifyio update', 'created_at': datetime.datetime(2024, 6, 12, 12, 13, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2162856320, 'issue_id': 2319517719, 'author': 'mergify[bot]', 'body': '> update\n\n#### ✅ Branch has been successfully updated\n\n\n\n<!---\nDO NOT EDIT\n-*- Mergify Payload -*-\n{""command"": ""update"", ""conclusion"": ""success"", ""action_is_running"": true}\n-*- Mergify Payload End -*-\n-->', 'created_at': datetime.datetime(2024, 6, 12, 12, 13, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2177846623, 'issue_id': 2319517719, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.70.7 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.70.7)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 6, 19, 6, 26, 21, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-05-27 16:50:46 UTC): Cherry-pick of 06401cc84fd0ffe8ab7e1cf7dec68544af72a3aa has failed:
```
On branch mergify/bp/version-14-hotfix/pr-41659
Your branch is up to date with 'origin/version-14-hotfix'.

You are currently cherry-picking commit 06401cc84f.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/setup/doctype/company/company.json

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


Cherry-pick of eaa4efbc457678155efe710b1fc6bd12516dcb62 has failed:
```
On branch mergify/bp/version-14-hotfix/pr-41659
Your branch is ahead of 'origin/version-14-hotfix' by 1 commit.
  (use ""git push"" to publish your local commits)

You are currently cherry-picking commit eaa4efbc45.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/accounts/doctype/fiscal_year/fiscal_year.json

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

stale[bot] on (2024-06-12 06:12:19 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

barredterra on (2024-06-12 12:13:07 UTC): @mergifyio update

mergify[bot] (Issue Creator) on (2024-06-12 12:13:12 UTC): #### ✅ Branch has been successfully updated



<!---
DO NOT EDIT
-*- Mergify Payload -*-
{""command"": ""update"", ""conclusion"": ""success"", ""action_is_running"": true}
-*- Mergify Payload End -*-
-->

frappe-pr-bot on (2024-06-19 06:26:21 UTC): :tada: This PR is included in version 14.70.7 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.70.7)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2319420766,pull_request,closed,,fix: Auditor permissions,"- fix: allow Auditor to select a company
- fix: allow Auditor to read a Fiscal Year
",barredterra,2024-05-27 15:40:50+00:00,[],2024-06-11 00:09:22+00:00,2024-05-27 16:48:50+00:00,https://github.com/frappe/erpnext/pull/41659,"[('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2319342652,pull_request,closed,,fix: condition-wise filter for transaction based pricing rule,Pricing rules were not filtered for conditions if the `apply_on` was set for Transaction.,rtdany10,2024-05-27 14:55:02+00:00,['ruthra-kumar'],2024-06-16 00:12:14+00:00,2024-06-01 10:48:50+00:00,https://github.com/frappe/erpnext/pull/41658,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]","[{'comment_id': 2135158900, 'issue_id': 2319342652, 'author': 'rtdany10', 'body': '@deepeshgarg007 @ruthra-kumar', 'created_at': datetime.datetime(2024, 5, 28, 12, 59, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2138604683, 'issue_id': 2319342652, 'author': 'rtdany10', 'body': 'Unrelated test failure. Please review @deepeshgarg007 @ruthra-kumar', 'created_at': datetime.datetime(2024, 5, 30, 3, 24, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2141166483, 'issue_id': 2319342652, 'author': 'rtdany10', 'body': '@deepeshgarg007 @ruthra-kumar', 'created_at': datetime.datetime(2024, 5, 31, 3, 24, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2143407487, 'issue_id': 2319342652, 'author': 'rtdany10', 'body': '@ruthra-kumar backport also please', 'created_at': datetime.datetime(2024, 6, 1, 11, 4, 48, tzinfo=datetime.timezone.utc)}]","rtdany10 (Issue Creator) on (2024-05-28 12:59:47 UTC): @deepeshgarg007 @ruthra-kumar

rtdany10 (Issue Creator) on (2024-05-30 03:24:40 UTC): Unrelated test failure. Please review @deepeshgarg007 @ruthra-kumar

rtdany10 (Issue Creator) on (2024-05-31 03:24:25 UTC): @deepeshgarg007 @ruthra-kumar

rtdany10 (Issue Creator) on (2024-06-01 11:04:48 UTC): @ruthra-kumar backport also please

"
2318930882,pull_request,closed,,feat: Add Party details to Serial No Ledger Report,"`no-docs`

- Since no party details are present in Serial No anymore, it is hard to get a view of which SN was sold to/purchased from which party
- Add Voucher Party fields to report
	<img width=""1293"" alt=""Screenshot 2024-05-27 at 1 25 09 PM"" src=""https://github.com/frappe/erpnext/assets/25857446/a0b61649-8f3e-4689-81ab-f27539a48fd0"">

",marination,2024-05-27 11:29:11+00:00,['rohitwaghchaure'],2024-06-14 00:10:09+00:00,2024-05-28 09:58:02+00:00,https://github.com/frappe/erpnext/pull/41656,"[('backport version-15-hotfix', '')]",[],
2318776950,pull_request,closed,,fix: completed DC will not appear in a delivery trip,"fixes: #41427

Set the condition for the delivery trip so that a completed Delivery Challan (DC) will not appear. Also, add the customer filter in the ""Get stops from"".

The `docstatus` 1 was removed from the delivery trip due to https://github.com/frappe/erpnext/pull/38559, but `docstatus` 1 is still set in `delivery_note.js`, which is confusing because it is set in one place but not in another.

Currently, I haven't made any changes related to `docstatus`, but if you request, I will also update it in `delivery_note.js`.

**Output:**


https://github.com/frappe/erpnext/assets/141945075/e082f7a1-2813-4479-a6e1-789200bccdeb

",Nihantra-Patel,2024-05-27 10:06:35+00:00,[],2024-06-19 00:09:47+00:00,2024-06-03 11:56:15+00:00,https://github.com/frappe/erpnext/pull/41655,"[('backport version-15-hotfix', '')]",[],
2318690769,pull_request,closed,,fix: incorrect accumulated depr amount in asset depr ledger,"The Value of Accumulated Depreciation is incorrect in Asset Depriciation Ledger Report.
Check following screenshot for reference.

<img width=""1294"" alt=""Screenshot 2024-05-31 at 1 16 00 AM"" src=""https://github.com/frappe/erpnext/assets/142375893/5de71723-2e04-446a-9375-7e12a9c00921"">

Correct values in the depreciation Schedule
<img width=""959"" alt=""Screenshot 2024-05-31 at 12 54 35 AM"" src=""https://github.com/frappe/erpnext/assets/142375893/557a43db-18e5-4c7d-bdd1-05466b08685b"">

After Fix:
<img width=""1294"" alt=""Screenshot 2024-05-31 at 1 12 24 AM"" src=""https://github.com/frappe/erpnext/assets/142375893/ac900ccd-d960-443a-be78-05a09df1a6b8"">

no-docs",khushi8112,2024-05-27 09:27:24+00:00,[],2024-06-19 00:09:35+00:00,2024-06-04 06:14:39+00:00,https://github.com/frappe/erpnext/pull/41654,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2318503219,pull_request,closed,,refactor: remove use of `can_create` for Payment Request (backport #41647),"regression: https://github.com/frappe/erpnext/pull/41384

`Payment Request` is configured to be 'User Cannot Create'. So, it won't be available in `can_create` list, which means the Payment Request option under the `Create` button won't be available for anyone.

## Before
![Screenshot from 2024-05-27 09-48-04](https://github.com/frappe/erpnext/assets/3272205/d4669a32-7821-496e-be20-681d9a360958)

## After
![Screenshot from 2024-05-27 09-47-35](https://github.com/frappe/erpnext/assets/3272205/5a3a6e32-735f-4e66-824b-6a3a5da1eecb)
<hr>This is an automatic backport of pull request #41647 done by [Mergify](https://mergify.com).",mergify[bot],2024-05-27 07:58:12+00:00,['ruthra-kumar'],2024-07-08 00:11:31+00:00,2024-06-20 12:28:45+00:00,https://github.com/frappe/erpnext/pull/41653,"[('inactive', ''), ('conflicts', None)]","[{'comment_id': 2132876640, 'issue_id': 2318503219, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 47bc5691a1579b88e0a430f6fbe5ff6309486ccf has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-41647\nYour branch is up to date with \'origin/version-15-hotfix\'.\n\nYou are currently cherry-picking commit 47bc5691a1.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/selling/doctype/sales_order/sales_order.js\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 5, 27, 7, 58, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2132903266, 'issue_id': 2318503219, 'author': 'ruthra-kumar', 'body': 'Depends on [backport](https://github.com/frappe/erpnext/pull/41441)', 'created_at': datetime.datetime(2024, 5, 27, 8, 11, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2162183037, 'issue_id': 2318503219, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 6, 12, 6, 12, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2180550291, 'issue_id': 2318503219, 'author': 'barredterra', 'body': 'Merged into #41441', 'created_at': datetime.datetime(2024, 6, 20, 12, 28, 45, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-05-27 07:58:14 UTC): Cherry-pick of 47bc5691a1579b88e0a430f6fbe5ff6309486ccf has failed:
```
On branch mergify/bp/version-15-hotfix/pr-41647
Your branch is up to date with 'origin/version-15-hotfix'.

You are currently cherry-picking commit 47bc5691a1.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/selling/doctype/sales_order/sales_order.js

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

ruthra-kumar (Assginee) on (2024-05-27 08:11:46 UTC): Depends on [backport](https://github.com/frappe/erpnext/pull/41441)

stale[bot] on (2024-06-12 06:12:24 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

barredterra on (2024-06-20 12:28:45 UTC): Merged into #41441

"
2318503109,pull_request,closed,,refactor: remove use of `can_create` for Payment Request (backport #41647),"regression: https://github.com/frappe/erpnext/pull/41384

`Payment Request` is configured to be 'User Cannot Create'. So, it won't be available in `can_create` list, which means the Payment Request option under the `Create` button won't be available for anyone.

## Before
![Screenshot from 2024-05-27 09-48-04](https://github.com/frappe/erpnext/assets/3272205/d4669a32-7821-496e-be20-681d9a360958)

## After
![Screenshot from 2024-05-27 09-47-35](https://github.com/frappe/erpnext/assets/3272205/5a3a6e32-735f-4e66-824b-6a3a5da1eecb)
<hr>This is an automatic backport of pull request #41647 done by [Mergify](https://mergify.com).",mergify[bot],2024-05-27 07:58:09+00:00,['ruthra-kumar'],2024-07-08 00:11:32+00:00,2024-06-20 12:21:52+00:00,https://github.com/frappe/erpnext/pull/41652,"[('inactive', ''), ('conflicts', None)]","[{'comment_id': 2132876553, 'issue_id': 2318503109, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 47bc5691a1579b88e0a430f6fbe5ff6309486ccf has failed:\n```\nOn branch mergify/bp/version-14-hotfix/pr-41647\nYour branch is up to date with \'origin/version-14-hotfix\'.\n\nYou are currently cherry-picking commit 47bc5691a1.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/selling/doctype/sales_order/sales_order.js\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 5, 27, 7, 58, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2132902303, 'issue_id': 2318503109, 'author': 'ruthra-kumar', 'body': ""Don't merge until the [backport](https://github.com/frappe/erpnext/pull/41440) is merged"", 'created_at': datetime.datetime(2024, 5, 27, 8, 11, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2162183046, 'issue_id': 2318503109, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 6, 12, 6, 12, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2180537618, 'issue_id': 2318503109, 'author': 'barredterra', 'body': 'Merged into #41440', 'created_at': datetime.datetime(2024, 6, 20, 12, 21, 52, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-05-27 07:58:11 UTC): Cherry-pick of 47bc5691a1579b88e0a430f6fbe5ff6309486ccf has failed:
```
On branch mergify/bp/version-14-hotfix/pr-41647
Your branch is up to date with 'origin/version-14-hotfix'.

You are currently cherry-picking commit 47bc5691a1.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/selling/doctype/sales_order/sales_order.js

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

ruthra-kumar (Assginee) on (2024-05-27 08:11:14 UTC): Don't merge until the [backport](https://github.com/frappe/erpnext/pull/41440) is merged

stale[bot] on (2024-06-12 06:12:24 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

barredterra on (2024-06-20 12:21:52 UTC): Merged into #41440

"
2318400127,pull_request,closed,,fix: Add validation for warehouse in material transfer,"version 15 and 14

fixes: #41643

**Before:**


https://github.com/frappe/erpnext/assets/141945075/6a9a4746-4bcc-452f-992b-5518b0f5fb0c

**After:**


https://github.com/frappe/erpnext/assets/141945075/5084ad96-90cd-464d-91dc-468126f4d4b4

",Nihantra-Patel,2024-05-27 07:04:25+00:00,[],2024-06-19 00:09:40+00:00,2024-05-29 05:08:46+00:00,https://github.com/frappe/erpnext/pull/41651,"[('needs-tests', 'This PR needs automated unit-tests.')]","[{'comment_id': 2136522796, 'issue_id': 2318400127, 'author': 'deepeshgarg007', 'body': '@Nihantra-Patel These validations are already present. Please check the entire code before adding any changes\r\n\r\nhttps://github.com/frappe/erpnext/blob/develop/erpnext/stock/doctype/stock_entry/stock_entry.py#L613', 'created_at': datetime.datetime(2024, 5, 29, 5, 8, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2136527975, 'issue_id': 2318400127, 'author': 'Nihantra-Patel', 'body': 'Hi @deepeshgarg007,\r\n\r\nRight, validation is set, but it does not set for the Material Transfer.\r\n\r\nPlease again check the condition. self.purpose not in \r\n\r\nhttps://github.com/frappe/erpnext/blob/c41b2398816564fee5219f8fabd983211d308e4c/erpnext/stock/doctype/stock_entry/stock_entry.py#L609-L613\r\n\r\nso, can we remove the Material Transfer from the condition? and update PR?', 'created_at': datetime.datetime(2024, 5, 29, 5, 14, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2143521704, 'issue_id': 2318400127, 'author': 'dj12djdjs', 'body': '@Nihantra-Patel It looks like this condition was added for the ""Inventory Dimensions"" feature.\r\n\r\nIn this case, the condition makes sense.\r\n\r\nConsider you have 1 warehouse ""Stores"" and several inventory dimension records. If you want to transfer stock in the same warehouse but different dimension records, then the source and target warehouse must be the same.', 'created_at': datetime.datetime(2024, 6, 1, 17, 24, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2146617806, 'issue_id': 2318400127, 'author': 'thida-bcn', 'body': '> @Nihantra-Patel It looks like this condition was added for the ""Inventory Dimensions"" feature.\r\n> \r\n> In this case, the condition makes sense.\r\n> \r\n> Consider you have 1 warehouse ""Stores"" and several inventory dimension records. If you want to transfer stock in the same warehouse but different dimension records, then the source and target warehouse must be the same.\r\n\r\nThere might be different use case\r\n1) using dimension\r\n\r\n2) without dimension\r\nshould not accept same location', 'created_at': datetime.datetime(2024, 6, 4, 5, 4, 13, tzinfo=datetime.timezone.utc)}]","deepeshgarg007 on (2024-05-29 05:08:46 UTC): @Nihantra-Patel These validations are already present. Please check the entire code before adding any changes

https://github.com/frappe/erpnext/blob/develop/erpnext/stock/doctype/stock_entry/stock_entry.py#L613

Nihantra-Patel (Issue Creator) on (2024-05-29 05:14:48 UTC): Hi @deepeshgarg007,

Right, validation is set, but it does not set for the Material Transfer.

Please again check the condition. self.purpose not in 

https://github.com/frappe/erpnext/blob/c41b2398816564fee5219f8fabd983211d308e4c/erpnext/stock/doctype/stock_entry/stock_entry.py#L609-L613

so, can we remove the Material Transfer from the condition? and update PR?

dj12djdjs on (2024-06-01 17:24:53 UTC): @Nihantra-Patel It looks like this condition was added for the ""Inventory Dimensions"" feature.

In this case, the condition makes sense.

Consider you have 1 warehouse ""Stores"" and several inventory dimension records. If you want to transfer stock in the same warehouse but different dimension records, then the source and target warehouse must be the same.

thida-bcn on (2024-06-04 05:04:13 UTC): There might be different use case
1) using dimension

2) without dimension
should not accept same location

"
2318342226,pull_request,closed,,chore: typo in bom_operation.json,,HUMENTH,2024-05-27 06:28:33+00:00,[],2024-06-27 00:09:45+00:00,2024-06-12 07:31:28+00:00,https://github.com/frappe/erpnext/pull/41650,"[('backport version-15-hotfix', '')]","[{'comment_id': 2162183078, 'issue_id': 2318342226, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 6, 12, 6, 12, 25, tzinfo=datetime.timezone.utc)}]","stale[bot] on (2024-06-12 06:12:25 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

"
2318215644,pull_request,closed,,fix: cost center filter according to the company in project (backport #41401),"Version 15 and 14

fixes: #36723

**Before:**

<img width=""1440"" alt=""image"" src=""https://github.com/frappe/erpnext/assets/141945075/1e037e63-b02a-44cf-a57f-ec38a2412ccd"">


**After:**

<img width=""1440"" alt=""image"" src=""https://github.com/frappe/erpnext/assets/141945075/e2c0094b-5cf9-4e89-b8c0-0915c199724a"">
<hr>This is an automatic backport of pull request #41401 done by [Mergify](https://mergify.com).",mergify[bot],2024-05-27 04:41:23+00:00,['Nihantra-Patel'],2024-06-14 00:09:42+00:00,2024-05-27 05:12:09+00:00,https://github.com/frappe/erpnext/pull/41649,"[('released', None)]","[{'comment_id': 2136776156, 'issue_id': 2318215644, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.26.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.26.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 5, 29, 7, 54, 49, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-05-29 07:54:49 UTC): :tada: This PR is included in version 15.26.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.26.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2318215612,pull_request,closed,,fix: cost center filter according to the company in project (backport #41401),"Version 15 and 14

fixes: #36723

**Before:**

<img width=""1440"" alt=""image"" src=""https://github.com/frappe/erpnext/assets/141945075/1e037e63-b02a-44cf-a57f-ec38a2412ccd"">


**After:**

<img width=""1440"" alt=""image"" src=""https://github.com/frappe/erpnext/assets/141945075/e2c0094b-5cf9-4e89-b8c0-0915c199724a"">
<hr>This is an automatic backport of pull request #41401 done by [Mergify](https://mergify.com).",mergify[bot],2024-05-27 04:41:21+00:00,['Nihantra-Patel'],2024-06-14 00:09:53+00:00,2024-05-27 05:12:00+00:00,https://github.com/frappe/erpnext/pull/41648,"[('released', None)]","[{'comment_id': 2136773180, 'issue_id': 2318215612, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.70.3 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.70.3)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 5, 29, 7, 53, 10, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-05-29 07:53:10 UTC): :tada: This PR is included in version 14.70.3 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.70.3)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2318193981,pull_request,closed,,refactor: remove use of `can_create` for Payment Request,"regression: https://github.com/frappe/erpnext/pull/41384

`Payment Request` is configured to be 'User Cannot Create'. So, it won't be available in `can_create` list, which means the Payment Request option under the `Create` button won't be available for anyone.

## Before
![Screenshot from 2024-05-27 09-48-04](https://github.com/frappe/erpnext/assets/3272205/d4669a32-7821-496e-be20-681d9a360958)

## After
![Screenshot from 2024-05-27 09-47-35](https://github.com/frappe/erpnext/assets/3272205/5a3a6e32-735f-4e66-824b-6a3a5da1eecb)
",ruthra-kumar,2024-05-27 04:18:50+00:00,[],2024-06-11 00:09:23+00:00,2024-05-27 07:57:11+00:00,https://github.com/frappe/erpnext/pull/41647,"[('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]","[{'comment_id': 2132613028, 'issue_id': 2318193981, 'author': 'ruthra-kumar', 'body': '@barredterra', 'created_at': datetime.datetime(2024, 5, 27, 4, 19, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2132874269, 'issue_id': 2318193981, 'author': 'barredterra', 'body': 'Thanks for the hotfix!\n\nThe combination of ""User cannot create"" with a literal ""Create"" button seems weird. 🤔 Would it make sense to disable this setting?', 'created_at': datetime.datetime(2024, 5, 27, 7, 56, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2132923171, 'issue_id': 2318193981, 'author': 'ruthra-kumar', 'body': '> Thanks for the hotfix!\r\n> \r\n> The combination of ""User cannot create"" with a literal ""Create"" button seems weird. 🤔 Would it make sense to disable this setting?\r\n\r\nSetting is fine, as it is better for Payment Request to be created only programmatically.\r\n\r\n\r\n`can_create` doesn\'t hold any doctype where \'User Cannot Create\' is enabled.\r\nhttps://github.com/frappe/frappe/blob/4893beee51940c5d96f1f4237465e3a9e2d98418/frappe/utils/user.py#L132-L135\r\n\r\nI think Framework needs some classification/mechanism to represent cases where the user is not allowed to create, but the Document can still be created programmatically.', 'created_at': datetime.datetime(2024, 5, 27, 8, 22, 23, tzinfo=datetime.timezone.utc)}]","ruthra-kumar (Issue Creator) on (2024-05-27 04:19:26 UTC): @barredterra

barredterra on (2024-05-27 07:56:55 UTC): Thanks for the hotfix!

The combination of ""User cannot create"" with a literal ""Create"" button seems weird. 🤔 Would it make sense to disable this setting?

ruthra-kumar (Issue Creator) on (2024-05-27 08:22:23 UTC): Setting is fine, as it is better for Payment Request to be created only programmatically.


`can_create` doesn't hold any doctype where 'User Cannot Create' is enabled.
https://github.com/frappe/frappe/blob/4893beee51940c5d96f1f4237465e3a9e2d98418/frappe/utils/user.py#L132-L135

I think Framework needs some classification/mechanism to represent cases where the user is not allowed to create, but the Document can still be created programmatically.

"
2317686586,pull_request,closed,,ERP,"<!--

Some key notes before you open a PR:

 1. Select which branch should this PR be merged in?
 2. PR name follows [convention](http://karma-runner.github.io/4.0/dev/git-commit-msg.html)
 3. All tests pass locally, UI and Unit tests
 4. All business logic and validations must be on the server-side
 5. Update necessary Documentation
 6. Put `closes #XXXX` in your comment to auto-close the issue that your PR fixes


Also, if you're new here

- Documentation Guidelines => https://github.com/frappe/erpnext/wiki/Updating-Documentation

- Contribution Guide => https://github.com/frappe/erpnext/blob/develop/.github/CONTRIBUTING.md

- Pull Request Checklist => https://github.com/frappe/erpnext/wiki/Pull-Request-Checklist

-->

> Please provide enough information so that others can review your pull request:

<!-- You can skip this if you're fixing a typo or updating existing documentation -->

> Explain the **details** for making this change. What existing problem does the pull request solve?

<!-- Example: When ""Adding a function to do X"", explain why it is necessary to have a way to do X. -->

> Screenshots/GIFs

<!-- Add images/recordings to better visualize the change: expected/current behviour -->
",pros178178,2024-05-26 12:37:42+00:00,[],2024-06-11 00:09:34+00:00,2024-05-26 12:45:41+00:00,https://github.com/frappe/erpnext/pull/41645,[],[],
2317607051,pull_request,closed,,chore: update POT file,,frappe-pr-bot,2024-05-26 09:35:22+00:00,[],2024-07-10 00:11:01+00:00,2024-06-25 11:59:54+00:00,https://github.com/frappe/erpnext/pull/41644,"[('inactive', '')]","[{'comment_id': 2162183126, 'issue_id': 2317607051, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 6, 12, 6, 12, 27, tzinfo=datetime.timezone.utc)}]","stale[bot] on (2024-06-12 06:12:27 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

"
2316929912,pull_request,closed,,feat: selectable multiple pricing rules in transactions,"Accounts Settings:
![image](https://github.com/frappe/erpnext/assets/52111700/11f2762b-90d6-4311-a55c-f0e3b8ec7425)

Working of select-able pricing rule:

https://github.com/frappe/erpnext/assets/52111700/aae17d26-1089-490b-811f-e9f9fcd72c49

Upon selection of item, all applicable pricing rules are applied. User can then select whether or not to apply a specific one.
Closes https://github.com/frappe/erpnext/issues/41636

~~ToDo: fix failing pricing rule conflict test as there won't be conflicts.~~ completed 

`no-docs` temp",rtdany10,2024-05-25 10:59:42+00:00,[],2024-07-12 00:11:59+00:00,2024-06-26 15:44:12+00:00,https://github.com/frappe/erpnext/pull/41640,"[('accounts', ''), ('needs-tests', 'This PR needs automated unit-tests.'), ('inactive', '')]","[{'comment_id': 2133584990, 'issue_id': 2316929912, 'author': 'rtdany10', 'body': '@deepeshgarg007 @ruthra-kumar', 'created_at': datetime.datetime(2024, 5, 27, 14, 20, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2162183003, 'issue_id': 2316929912, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 6, 12, 6, 12, 22, tzinfo=datetime.timezone.utc)}]","rtdany10 (Issue Creator) on (2024-05-27 14:20:41 UTC): @deepeshgarg007 @ruthra-kumar

stale[bot] on (2024-06-12 06:12:22 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

"
2316929574,pull_request,closed,,fix: Monthly distribution validation,,deepeshgarg007,2024-05-25 10:58:40+00:00,[],2024-07-10 00:11:02+00:00,2024-06-25 11:59:53+00:00,https://github.com/frappe/erpnext/pull/41639,"[('needs-tests', 'This PR needs automated unit-tests.'), ('inactive', '')]","[{'comment_id': 2162183141, 'issue_id': 2316929574, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 6, 12, 6, 12, 28, tzinfo=datetime.timezone.utc)}]","stale[bot] on (2024-06-12 06:12:28 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

"
2316902401,pull_request,closed,,fix: Mismatch in PR status," Purchase Receipt shows the status as **Completed** but the actual status is To bill when the Grand Total is zero.
Before:
![image](https://github.com/frappe/erpnext/assets/27720465/3bc4a991-3c3f-4fc3-8552-8fd1e5b9e7b4)

After:
Now the status has been mapped.
![image](https://github.com/frappe/erpnext/assets/27720465/59f7a2f6-e965-4f70-9f37-aefcf5d7554f)


",Poorvi-R-Bhat,2024-05-25 10:17:34+00:00,[],2024-07-16 00:10:54+00:00,2024-07-01 14:05:40+00:00,https://github.com/frappe/erpnext/pull/41638,"[('backport version-14-hotfix', 'backport to version 14')]","[{'comment_id': 2131243789, 'issue_id': 2316902401, 'author': 's-aga-r', 'body': '@Poorvi-R-Bhat [Contribution Guidelines](https://github.com/frappe/erpnext/wiki/Contribution-Guidelines)', 'created_at': datetime.datetime(2024, 5, 25, 12, 47, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2144285049, 'issue_id': 2316902401, 'author': 'rohitwaghchaure', 'body': '@Poorvi-R-Bhat add test cases', 'created_at': datetime.datetime(2024, 6, 3, 5, 1, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2185504244, 'issue_id': 2316902401, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 6, 24, 3, 11, 21, tzinfo=datetime.timezone.utc)}]","s-aga-r on (2024-05-25 12:47:20 UTC): @Poorvi-R-Bhat [Contribution Guidelines](https://github.com/frappe/erpnext/wiki/Contribution-Guidelines)

rohitwaghchaure on (2024-06-03 05:01:45 UTC): @Poorvi-R-Bhat add test cases

stale[bot] on (2024-06-24 03:11:21 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

"
2315286879,pull_request,closed,,fix: sync translations from crowdin,,frappe-pr-bot,2024-05-24 12:26:11+00:00,['barredterra'],2024-07-20 00:10:03+00:00,2024-07-02 22:00:10+00:00,https://github.com/frappe/erpnext/pull/41635,"[('translation', None)]","[{'comment_id': 2194335289, 'issue_id': 2315286879, 'author': 'barredterra', 'body': ""Let's wait until recent changes are pushed back into this PR, which should remove a lot of lines, then squash it."", 'created_at': datetime.datetime(2024, 6, 27, 10, 28, 9, tzinfo=datetime.timezone.utc)}]","barredterra (Assginee) on (2024-06-27 10:28:09 UTC): Let's wait until recent changes are pushed back into this PR, which should remove a lot of lines, then squash it.

"
2315143082,pull_request,closed,,fix:Tasks with duration less than a day not displayed correctly#15554,"There were 2 parts related to the same issue:
1. The tasks cannot be opened directly from the gantt chart when the Expected End Date is not set.
Before:
![image](https://github.com/frappe/erpnext/assets/27720465/9e21b52e-18b7-4f37-90b7-3d4c2b508734)




After:
Able to open the task from the gantt view
![image](https://github.com/frappe/erpnext/assets/27720465/b463f62d-79ad-4c4e-9649-efc972c8d430)




2. Task in the Gantt view was displaying 3 days though the Expected Time set is 2 hours.
Before:
![image](https://github.com/frappe/erpnext/assets/27720465/f9fa5ef0-c8f5-48c9-8900-4f130e7a2ae7)
![image](https://github.com/frappe/erpnext/assets/27720465/eb613f6b-fd01-4092-a322-cc3e022f5f1f)

After: 
Expected Start Date and Expected End Date are now Datetime fields  and showing the task expected time properly in the gantt view on selecting the Quarter day and all the other tabs.
![image](https://github.com/frappe/erpnext/assets/27720465/d7d832c1-02f9-400e-bedc-38ff20a86f33)
![image](https://github.com/frappe/erpnext/assets/27720465/951ae3ab-8bd9-4996-b655-d40696b5ebff)



",Poorvi-R-Bhat,2024-05-24 11:16:09+00:00,[],2024-06-26 00:09:56+00:00,2024-06-10 12:00:35+00:00,https://github.com/frappe/erpnext/pull/41633,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2315093754,pull_request,closed,,feat: salary extension point column,"Useful for localizations.
",blaggacao,2024-05-24 10:52:01+00:00,[],2024-08-02 00:09:44+00:00,2024-07-18 12:58:05+00:00,https://github.com/frappe/erpnext/pull/41632,"[('needs-tests', 'This PR needs automated unit-tests.')]","[{'comment_id': 2175070608, 'issue_id': 2315093754, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 6, 18, 5, 53, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2175390629, 'issue_id': 2315093754, 'author': 'blaggacao', 'body': 'This is useful and a small and relatively risk-free addition and should not be closed.', 'created_at': datetime.datetime(2024, 6, 18, 7, 29, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2185006740, 'issue_id': 2315093754, 'author': 'blaggacao', 'body': 'ping', 'created_at': datetime.datetime(2024, 6, 23, 14, 13, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2196448396, 'issue_id': 2315093754, 'author': 'blaggacao', 'body': '> Go for it now. The future is promised to no one.   - Wayne Dyer\n\n---\n\n<sub>Kindly help move this PR forward. Many thanks from Yours Sincerely!</sub>', 'created_at': datetime.datetime(2024, 6, 28, 8, 58, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2208474160, 'issue_id': 2315093754, 'author': 'blaggacao', 'body': '> Fears are nothing more than a state of mind.   - Napoleon Hill \n\n---\n\n<sub>Kindly help move this PR forward. Many thanks from Yours Sincerely!</sub>', 'created_at': datetime.datetime(2024, 7, 4, 9, 4, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2222795193, 'issue_id': 2315093754, 'author': 'blaggacao', 'body': '> What the caterpillar calls the end of the world, the master calls a butterfly.  - Richard Bach\n\n---\n\n<sub>Kindly help move this PR forward. Many thanks from Yours Sincerely!</sub>', 'created_at': datetime.datetime(2024, 7, 11, 12, 22, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2236043569, 'issue_id': 2315093754, 'author': 'blaggacao', 'body': '> Watch your thoughts, they become your words Watch your words, they become your actions Watch your actions, they become your habits Watch your habits, they become your character Watch your character, it becomes your destiny.  - \n\n---\n\n<sub>Kindly help move this PR forward. Many thanks from Yours Sincerely!</sub>', 'created_at': datetime.datetime(2024, 7, 18, 9, 25, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2236338535, 'issue_id': 2315093754, 'author': 'ruthra-kumar', 'body': 'What sort of localization do you infer here?', 'created_at': datetime.datetime(2024, 7, 18, 12, 9, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2236431727, 'issue_id': 2315093754, 'author': 'blaggacao', 'body': ""## PR Status Update\r\n\r\nUpon reflection, I've come to the following conclusion:\r\n\r\n1. **Original Intent Unclear**: I'm unable to accurately recall or reconstruct the reasoning behind this PR's creation.\r\n\r\n2. **Diminished Importance**: The initial urgency or significance of this change appears to have decreased over time.\r\n\r\n3. **Lack of Context**: Without a clear understanding of the original goal, it's challenging to proceed effectively.\r\n\r\n## Next Steps\r\n\r\nGiven these circumstances, I propose the following course of action:\r\n\r\n1. **Closing Current PR**: I will close this pull request for now.\r\n\r\n2. **Future Reconsideration**: If the need for this change becomes apparent again, I'll open a new PR.\r\n\r\n3. **Improved Documentation**: In the event of reopening, I'll ensure to provide comprehensive context and clearly state the objectives to avoid similar uncertainty in the future.\r\n\r\nThank you for your understanding and review of this pull request."", 'created_at': datetime.datetime(2024, 7, 18, 12, 58, 5, tzinfo=datetime.timezone.utc)}]","stale[bot] on (2024-06-18 05:53:49 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

blaggacao (Issue Creator) on (2024-06-18 07:29:20 UTC): This is useful and a small and relatively risk-free addition and should not be closed.

blaggacao (Issue Creator) on (2024-06-23 14:13:21 UTC): ping

blaggacao (Issue Creator) on (2024-06-28 08:58:04 UTC): ---

<sub>Kindly help move this PR forward. Many thanks from Yours Sincerely!</sub>

blaggacao (Issue Creator) on (2024-07-04 09:04:02 UTC): ---

<sub>Kindly help move this PR forward. Many thanks from Yours Sincerely!</sub>

blaggacao (Issue Creator) on (2024-07-11 12:22:52 UTC): ---

<sub>Kindly help move this PR forward. Many thanks from Yours Sincerely!</sub>

blaggacao (Issue Creator) on (2024-07-18 09:25:46 UTC): ---

<sub>Kindly help move this PR forward. Many thanks from Yours Sincerely!</sub>

ruthra-kumar on (2024-07-18 12:09:51 UTC): What sort of localization do you infer here?

blaggacao (Issue Creator) on (2024-07-18 12:58:05 UTC): ## PR Status Update

Upon reflection, I've come to the following conclusion:

1. **Original Intent Unclear**: I'm unable to accurately recall or reconstruct the reasoning behind this PR's creation.

2. **Diminished Importance**: The initial urgency or significance of this change appears to have decreased over time.

3. **Lack of Context**: Without a clear understanding of the original goal, it's challenging to proceed effectively.

## Next Steps

Given these circumstances, I propose the following course of action:

1. **Closing Current PR**: I will close this pull request for now.

2. **Future Reconsideration**: If the need for this change becomes apparent again, I'll open a new PR.

3. **Improved Documentation**: In the event of reopening, I'll ensure to provide comprehensive context and clearly state the objectives to avoid similar uncertainty in the future.

Thank you for your understanding and review of this pull request.

"
2314940540,pull_request,closed,,Update asset_maintenance_log_list.js,"The Asset Maintenance Log Filter name was wrong.so it raise the server on listview - ""Invalid filter: status"" and report view - ""Field not permitted in query: tabAsset Maintenance Log.status""
![Screenshot from 2024-05-24 15-15-49](https://github.com/frappe/erpnext/assets/48587404/0205ffb4-d0a4-4959-bfd9-f7f00439e252)

",barathprathosh,2024-05-24 09:41:46+00:00,[],2024-07-10 00:11:00+00:00,2024-06-25 11:59:55+00:00,https://github.com/frappe/erpnext/pull/41630,"[('inactive', '')]","[{'comment_id': 2132589935, 'issue_id': 2314940540, 'author': 'barathprathosh', 'body': '@deepeshgarg007 can you review this Fix pls.', 'created_at': datetime.datetime(2024, 5, 27, 3, 48, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2162183099, 'issue_id': 2314940540, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 6, 12, 6, 12, 26, tzinfo=datetime.timezone.utc)}]","barathprathosh (Issue Creator) on (2024-05-27 03:48:23 UTC): @deepeshgarg007 can you review this Fix pls.

stale[bot] on (2024-06-12 06:12:26 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

"
2314872112,pull_request,closed,,test: add payment channel tests,"@ruthra-kumar First part of #40845
",blaggacao,2024-05-24 09:09:12+00:00,['ruthra-kumar'],2024-06-14 00:09:27+00:00,2024-05-30 15:13:09+00:00,https://github.com/frappe/erpnext/pull/41629,[],"[{'comment_id': 2129068606, 'issue_id': 2314872112, 'author': 'blaggacao', 'body': ""And it's as green as it should be :-) Nice!"", 'created_at': datetime.datetime(2024, 5, 24, 9, 30, 15, tzinfo=datetime.timezone.utc)}]","blaggacao (Issue Creator) on (2024-05-24 09:30:15 UTC): And it's as green as it should be :-) Nice!

"
2314647549,pull_request,closed,,fix: Unable to 'Get Suppliers' using tags in Request for Quotation (backport #41626),"**Issue**
![tags_not_working](https://github.com/frappe/erpnext/assets/8780500/88669340-ce95-4e18-b09a-3110f8cc4ec6)


**After Fix**
![tags_working](https://github.com/frappe/erpnext/assets/8780500/781d536c-6f60-4d5e-9b8d-5561d232b85a)
<hr>This is an automatic backport of pull request #41626 done by [Mergify](https://mergify.com).",mergify[bot],2024-05-24 07:35:18+00:00,['rohitwaghchaure'],2024-06-14 00:09:39+00:00,2024-05-24 07:39:15+00:00,https://github.com/frappe/erpnext/pull/41627,"[('released', None)]","[{'comment_id': 2136776424, 'issue_id': 2314647549, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.26.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.26.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 5, 29, 7, 54, 58, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-05-29 07:54:58 UTC): :tada: This PR is included in version 15.26.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.26.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2314636683,pull_request,closed,,fix: Unable to 'Get Suppliers' using tags in Request for Quotation,"**Issue**
![tags_not_working](https://github.com/frappe/erpnext/assets/8780500/88669340-ce95-4e18-b09a-3110f8cc4ec6)


**After Fix**
![tags_working](https://github.com/frappe/erpnext/assets/8780500/781d536c-6f60-4d5e-9b8d-5561d232b85a)
",rohitwaghchaure,2024-05-24 07:30:53+00:00,[],2024-06-09 00:10:51+00:00,2024-05-24 07:33:57+00:00,https://github.com/frappe/erpnext/pull/41626,"[('backport version-15-hotfix', '')]",[],
2314408246,pull_request,closed,,fix: add in some indices to speed up Purchase Order deletion (backport #41601),"Reference: https://support.frappe.io/helpdesk/tickets/11452

`tabSales Order`.`inter_company_order_reference` 81 seconds, 1089800 rows examined 
`tabSales Invoice Item`.`purchase_order` 472 seconds, 7521793 rows examined
<hr>This is an automatic backport of pull request #41601 done by [Mergify](https://mergify.com).",mergify[bot],2024-05-24 05:28:26+00:00,['akhilnarang'],2024-06-14 00:09:41+00:00,2024-05-24 06:57:30+00:00,https://github.com/frappe/erpnext/pull/41625,"[('conflicts', None), ('released', None)]","[{'comment_id': 2128557021, 'issue_id': 2314408246, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 0303d7dbdc7a84679034e5ba793a13823a7c8f24 has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-41601\nYour branch is up to date with \'origin/version-15-hotfix\'.\n\nYou are currently cherry-picking commit 0303d7dbdc.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nChanges to be committed:\n\tmodified:   erpnext/selling/doctype/sales_order/sales_order.json\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/accounts/doctype/sales_invoice_item/sales_invoice_item.json\n\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 5, 24, 5, 28, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2136776253, 'issue_id': 2314408246, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.26.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.26.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 5, 29, 7, 54, 52, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-05-24 05:28:28 UTC): Cherry-pick of 0303d7dbdc7a84679034e5ba793a13823a7c8f24 has failed:
```
On branch mergify/bp/version-15-hotfix/pr-41601
Your branch is up to date with 'origin/version-15-hotfix'.

You are currently cherry-picking commit 0303d7dbdc.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Changes to be committed:
	modified:   erpnext/selling/doctype/sales_order/sales_order.json

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/accounts/doctype/sales_invoice_item/sales_invoice_item.json

```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

frappe-pr-bot on (2024-05-29 07:54:52 UTC): :tada: This PR is included in version 15.26.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.26.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2314408093,pull_request,closed,,fix: add in some indices to speed up Purchase Order deletion (backport #41601),"Reference: https://support.frappe.io/helpdesk/tickets/11452

`tabSales Order`.`inter_company_order_reference` 81 seconds, 1089800 rows examined 
`tabSales Invoice Item`.`purchase_order` 472 seconds, 7521793 rows examined
<hr>This is an automatic backport of pull request #41601 done by [Mergify](https://mergify.com).",mergify[bot],2024-05-24 05:28:21+00:00,['akhilnarang'],2024-06-14 00:09:56+00:00,2024-05-27 08:01:51+00:00,https://github.com/frappe/erpnext/pull/41624,"[('conflicts', None), ('released', None)]","[{'comment_id': 2128556947, 'issue_id': 2314408093, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 0303d7dbdc7a84679034e5ba793a13823a7c8f24 has failed:\n```\nOn branch mergify/bp/version-14-hotfix/pr-41601\nYour branch is up to date with \'origin/version-14-hotfix\'.\n\nYou are currently cherry-picking commit 0303d7dbdc.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/accounts/doctype/sales_invoice_item/sales_invoice_item.json\n\tboth modified:   erpnext/selling/doctype/sales_order/sales_order.json\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 5, 24, 5, 28, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2132817450, 'issue_id': 2314408093, 'author': 'akhilnarang', 'body': '@mergifyio rebase', 'created_at': datetime.datetime(2024, 5, 27, 7, 25, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2132817949, 'issue_id': 2314408093, 'author': 'mergify[bot]', 'body': '> rebase\n\n#### ✅ Branch has been successfully rebased\n\n\n\n<!---\nDO NOT EDIT\n-*- Mergify Payload -*-\n{""command"": ""rebase"", ""conclusion"": ""success"", ""action_is_running"": true}\n-*- Mergify Payload End -*-\n-->', 'created_at': datetime.datetime(2024, 5, 27, 7, 25, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2136772826, 'issue_id': 2314408093, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.70.3 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.70.3)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 5, 29, 7, 52, 58, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-05-24 05:28:23 UTC): Cherry-pick of 0303d7dbdc7a84679034e5ba793a13823a7c8f24 has failed:
```
On branch mergify/bp/version-14-hotfix/pr-41601
Your branch is up to date with 'origin/version-14-hotfix'.

You are currently cherry-picking commit 0303d7dbdc.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/accounts/doctype/sales_invoice_item/sales_invoice_item.json
	both modified:   erpnext/selling/doctype/sales_order/sales_order.json

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

akhilnarang (Assginee) on (2024-05-27 07:25:13 UTC): @mergifyio rebase

mergify[bot] (Issue Creator) on (2024-05-27 07:25:30 UTC): #### ✅ Branch has been successfully rebased



<!---
DO NOT EDIT
-*- Mergify Payload -*-
{""command"": ""rebase"", ""conclusion"": ""success"", ""action_is_running"": true}
-*- Mergify Payload End -*-
-->

frappe-pr-bot on (2024-05-29 07:52:58 UTC): :tada: This PR is included in version 14.70.3 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.70.3)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2314375904,pull_request,closed,,fix(AccountsController): Use get_all to get payment requests when updating advance payment status (backport #41443),"I believe there was a mistake done in https://github.com/frappe/erpnext/pull/40643, [see diff](https://github.com/frappe/erpnext/pull/40643/files#diff-70fca67b7fdc9bc43a6957ae13b3a4817eccd4e62b1cd4a1335407dfb4bc945dR1932).

`frappe.db.count` was replaced by `frappe.get_list`, which does not have the same permission model (unchecked vs checked)

https://github.com/frappe/erpnext/blob/c9c62110097b75d727b814959733402cb7ceafeb/erpnext/controllers/accounts_controller.py#L1936-L1937


/cc @blaggacao<hr>This is an automatic backport of pull request #41443 done by [Mergify](https://mergify.com).",mergify[bot],2024-05-24 05:11:16+00:00,[],2024-06-09 00:10:54+00:00,2024-05-24 05:14:59+00:00,https://github.com/frappe/erpnext/pull/41623,"[('accounts', ''), ('needs-tests', 'This PR needs automated unit-tests.'), ('conflicts', None)]","[{'comment_id': 2128536031, 'issue_id': 2314375904, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 13a3a6a82e52faad98abf6e66d5f3c349df89ac9 has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-41443\nYour branch is up to date with \'origin/version-15-hotfix\'.\n\nYou are currently cherry-picking commit 13a3a6a82e.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/controllers/accounts_controller.py\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 5, 24, 5, 11, 17, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-05-24 05:11:17 UTC): Cherry-pick of 13a3a6a82e52faad98abf6e66d5f3c349df89ac9 has failed:
```
On branch mergify/bp/version-15-hotfix/pr-41443
Your branch is up to date with 'origin/version-15-hotfix'.

You are currently cherry-picking commit 13a3a6a82e.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/controllers/accounts_controller.py

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

"
2314200664,pull_request,closed,,fix: BOM Creator Recursion Error on duplicate save,"Fixes: https://github.com/frappe/erpnext/issues/41613

version-15-hotfix
",casesolved-co-uk,2024-05-24 02:26:25+00:00,[],2024-07-19 00:09:39+00:00,2024-07-04 09:05:56+00:00,https://github.com/frappe/erpnext/pull/41622,"[('backport version-15-hotfix', '')]","[{'comment_id': 2128381672, 'issue_id': 2314200664, 'author': 'casesolved-co-uk', 'body': 'Available here: https://github.com/CaseSolvedUK/erpnext', 'created_at': datetime.datetime(2024, 5, 24, 2, 27, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2175070638, 'issue_id': 2314200664, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 6, 18, 5, 53, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2175107333, 'issue_id': 2314200664, 'author': 'casesolved-co-uk', 'body': '@rohitwaghchaure', 'created_at': datetime.datetime(2024, 6, 18, 6, 9, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2206936132, 'issue_id': 2314200664, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 7, 3, 18, 16, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2208608876, 'issue_id': 2314200664, 'author': 'casesolved-co-uk', 'body': 'What about the other BOM Creator issues, like #41618 ?', 'created_at': datetime.datetime(2024, 7, 4, 10, 10, tzinfo=datetime.timezone.utc)}]","casesolved-co-uk (Issue Creator) on (2024-05-24 02:27:34 UTC): Available here: https://github.com/CaseSolvedUK/erpnext

stale[bot] on (2024-06-18 05:53:50 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

casesolved-co-uk (Issue Creator) on (2024-06-18 06:09:40 UTC): @rohitwaghchaure

stale[bot] on (2024-07-03 18:16:54 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

casesolved-co-uk (Issue Creator) on (2024-07-04 10:10:00 UTC): What about the other BOM Creator issues, like #41618 ?

"
2314031233,pull_request,closed,,Update tr.csv,"SelenSoft ERPNext Türkiye

<!--
Some key notes before you open a PR:

 1. Select which branch should this PR be merged in?
 2. PR name follows [convention](http://karma-runner.github.io/4.0/dev/git-commit-msg.html)
 3. All tests pass locally, UI and Unit tests
 4. All business logic and validations must be on the server-side
 5. Update necessary Documentation
 6. Put `closes #XXXX` in your comment to auto-close the issue that your PR fixes


Also, if you're new here

- Documentation Guidelines => https://github.com/frappe/erpnext/wiki/Updating-Documentation

- Contribution Guide => https://github.com/frappe/erpnext/blob/develop/.github/CONTRIBUTING.md

- Pull Request Checklist => https://github.com/frappe/erpnext/wiki/Pull-Request-Checklist

-->

> Please provide enough information so that others can review your pull request:

<!-- You can skip this if you're fixing a typo or updating existing documentation -->

> Explain the **details** for making this change. What existing problem does the pull request solve?

<!-- Example: When ""Adding a function to do X"", explain why it is necessary to have a way to do X. -->

> Screenshots/GIFs

<!-- Add images/recordings to better visualize the change: expected/current behviour -->
",selensoftr,2024-05-23 23:49:57+00:00,[],2024-07-16 00:11:24+00:00,2024-06-30 05:29:35+00:00,https://github.com/frappe/erpnext/pull/41620,"[('inactive', '')]","[{'comment_id': 2185504358, 'issue_id': 2314031233, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 6, 24, 3, 11, 28, tzinfo=datetime.timezone.utc)}]","stale[bot] on (2024-06-24 03:11:28 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

"
2314028989,pull_request,closed,,Please Update tr.csv,"Please Update tr.csv

SelenSoft
ERPNext Türkiye

<!--

Some key notes before you open a PR:

 1. Select which branch should this PR be merged in?
 2. PR name follows [convention](http://karma-runner.github.io/4.0/dev/git-commit-msg.html)
 3. All tests pass locally, UI and Unit tests
 4. All business logic and validations must be on the server-side
 5. Update necessary Documentation
 6. Put `closes #XXXX` in your comment to auto-close the issue that your PR fixes


Also, if you're new here

- Documentation Guidelines => https://github.com/frappe/erpnext/wiki/Updating-Documentation

- Contribution Guide => https://github.com/frappe/erpnext/blob/develop/.github/CONTRIBUTING.md

- Pull Request Checklist => https://github.com/frappe/erpnext/wiki/Pull-Request-Checklist

-->

> Please provide enough information so that others can review your pull request:

<!-- You can skip this if you're fixing a typo or updating existing documentation -->

> Explain the **details** for making this change. What existing problem does the pull request solve?

<!-- Example: When ""Adding a function to do X"", explain why it is necessary to have a way to do X. -->

> Screenshots/GIFs

<!-- Add images/recordings to better visualize the change: expected/current behviour -->
",selensoftr,2024-05-23 23:46:26+00:00,[],2024-07-14 00:10:54+00:00,2024-06-29 19:58:02+00:00,https://github.com/frappe/erpnext/pull/41619,"[('inactive', '')]","[{'comment_id': 2185566693, 'issue_id': 2314028989, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 6, 24, 4, 11, 16, tzinfo=datetime.timezone.utc)}]","stale[bot] on (2024-06-24 04:11:16 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

"
2314007384,pull_request,closed,,fix: bom creator costs,"Test also updated to reflect the bug

Fixes: https://github.com/frappe/erpnext/issues/41617

version-15-hotfix",casesolved-co-uk,2024-05-23 23:17:45+00:00,[],2024-08-02 00:09:38+00:00,2024-07-18 23:27:34+00:00,https://github.com/frappe/erpnext/pull/41618,"[('needs-tests', 'This PR needs automated unit-tests.'), ('inactive', '')]","[{'comment_id': 2128183396, 'issue_id': 2314007384, 'author': 'casesolved-co-uk', 'body': 'Available here: https://github.com/CaseSolvedUK/erpnext\r\n\r\nI always find the `needs-tests` label ironic fixing bugs on new features', 'created_at': datetime.datetime(2024, 5, 23, 23, 20, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2175070646, 'issue_id': 2314007384, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 6, 18, 5, 53, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2175109207, 'issue_id': 2314007384, 'author': 'casesolved-co-uk', 'body': '@rohitwaghchaure', 'created_at': datetime.datetime(2024, 6, 18, 6, 10, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2227619995, 'issue_id': 2314007384, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 7, 15, 2, 47, 48, tzinfo=datetime.timezone.utc)}]","casesolved-co-uk (Issue Creator) on (2024-05-23 23:20:01 UTC): Available here: https://github.com/CaseSolvedUK/erpnext

I always find the `needs-tests` label ironic fixing bugs on new features

stale[bot] on (2024-06-18 05:53:51 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

casesolved-co-uk (Issue Creator) on (2024-06-18 06:10:19 UTC): @rohitwaghchaure

stale[bot] on (2024-07-15 02:47:48 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

"
2313714070,pull_request,closed,,feat: add unit rate column to bom creator tree,"Before:
![Screen Shot 2024-05-23 at 20 52 23](https://github.com/frappe/erpnext/assets/110036763/6ce5ad7b-f11a-478d-8ebc-e6c792d81a63)

After:
![Screen Shot 2024-05-23 at 20 52 31](https://github.com/frappe/erpnext/assets/110036763/01a855e0-7d7f-4b72-b33b-284ee3f81673)

no-docs
version-15-hotfix
",casesolved-co-uk,2024-05-23 19:53:14+00:00,[],2024-07-14 00:10:50+00:00,2024-06-29 19:58:00+00:00,https://github.com/frappe/erpnext/pull/41616,"[('inactive', '')]","[{'comment_id': 2127916966, 'issue_id': 2313714070, 'author': 'casesolved-co-uk', 'body': 'Available here: https://github.com/CaseSolvedUK/erpnext', 'created_at': datetime.datetime(2024, 5, 23, 19, 54, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2185566764, 'issue_id': 2313714070, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 6, 24, 4, 11, 20, tzinfo=datetime.timezone.utc)}]","casesolved-co-uk (Issue Creator) on (2024-05-23 19:54:57 UTC): Available here: https://github.com/CaseSolvedUK/erpnext

stale[bot] on (2024-06-24 04:11:20 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

"
2313651829,pull_request,closed,,fix: add item name to BOM Creator tree,"Fixes https://github.com/frappe/erpnext/issues/40573

Before:
![Screen Shot 2024-05-23 at 20 10 47](https://github.com/frappe/erpnext/assets/110036763/e2b0e2c2-1d34-4dee-a72d-087901ac05d0)


After:
![Screen Shot 2024-05-23 at 20 11 07](https://github.com/frappe/erpnext/assets/110036763/2005b8e0-2f88-4a9a-9e7c-7beceb56db42)


version-15-hotfix
",casesolved-co-uk,2024-05-23 19:12:03+00:00,[],2024-07-14 00:10:49+00:00,2024-06-29 19:57:59+00:00,https://github.com/frappe/erpnext/pull/41615,"[('needs-tests', 'This PR needs automated unit-tests.'), ('inactive', '')]","[{'comment_id': 2127860095, 'issue_id': 2313651829, 'author': 'casesolved-co-uk', 'body': 'Available here: https://github.com/CaseSolvedUK/erpnext', 'created_at': datetime.datetime(2024, 5, 23, 19, 14, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2185566768, 'issue_id': 2313651829, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 6, 24, 4, 11, 21, tzinfo=datetime.timezone.utc)}]","casesolved-co-uk (Issue Creator) on (2024-05-23 19:14:24 UTC): Available here: https://github.com/CaseSolvedUK/erpnext

stale[bot] on (2024-06-24 04:11:21 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

"
2313126819,pull_request,closed,,fix: removed filter for root_type from `get_or_create_account`,"If an account already exists with a different root type, taxes setup is failing

```
App erpnext already installed

Installing india_compliance...
Updating DocTypes for india_compliance: [========================================] 100%
Setting up Income Tax...
Setting up GST...
Patching Existing Data...
Installation for India Compliance failed due to an error. Please try re-installing the app or report the issue on https://github.com/resilient-tech/india-compliance/issues/new if not resolved.
An error occurred while installing india_compliance: ('Account', 'Input Tax CGST - PBSPL', IntegrityError(1062, ""Duplicate entry 'Input Tax CGST - PBSPL' for key 'PRIMARY'""))
Traceback with variables (most recent call last):
  File ""apps/frappe/frappe/commands/site.py"", line 445, in install_app
    _install_app(app, verbose=context.verbose, force=force)
      context = {'sites': ['uatparamountsteel.frappe.cloud'], 'force': False, 'verbose': False, 'profile': False}
      apps = ('india_compliance',)
      force = True
      _install_app = <function install_app at 0x7f5ad3dc1120>
      filelock = <function filelock at 0x7f5ad3fb2340>
      exit_code = 0
      site = 'uatparamountsteel.frappe.cloud'
      app = 'india_compliance'
      err = DuplicateEntryError('Account', 'Input Tax CGST - PBSPL', IntegrityError(1062, ""Duplicate entry 'Input Tax CGST - PBSPL' for key 'PRIMARY'""))
  File ""apps/frappe/frappe/installer.py"", line 311, in install_app
    frappe.get_attr(after_install)()
      name = 'india_compliance'
      verbose = False
      set_as_patched = True
      force = True
      sync_jobs = <function sync_jobs at 0x7f5ad2d9e840>
      sync_for = <function sync_for at 0x7f5ad2d9f6a0>
      sync_customizations = <function sync_customizations at 0x7f5ad3f4ab60>
      sync_fixtures = <function sync_fixtures at 0x7f5ad2d9f9c0>
      app_hooks = {'accounting_dimension_doctypes': ['Bill of Entry', 'Bill of Entry Item'], 'after_app_install': ['india_compliance.install.after_app_install'], 'after_install': ['india_compliance.install.after_install'], 'after_migrate': ['india_compliance.audit_trail.setup.after_migrate'], 'app_color': ['grey'], 'app_description': ['ERPNext app to simplify compliance with Indian Rules and Regulations'], 'app_email': ['hello@indiacompliance.app'], 'app_icon': ['octicon octicon-file-directory'], 'app_include_js': ['india_compliance.bundle.js'], 'app_license': ['GNU General Public License (v3)'], 'app_name': ['india_compliance'], 'app_publisher': ['Resilient Tech'], 'app_title': ['India Compliance'], 'audit_trail_doctypes': ['Accounts Settings', 'Dunning', 'Invoice Discounting', 'Journal Entry', 'Payment Entry', 'Period Closing Voucher', 'Process Deferred Accounting', 'Purchase Invoice', 'Sales Invoice', 'Asset', 'Asset Capitalization', 'Asset Repair', 'Delivery Note', 'Landed Cost Voucher', 'Purchase R...
      installed_apps = ['frappe', 'erpnext', 'hrms', 'paramount', 'india_compliance']
      app = 'frappe/erpnext'
      required_app = 'erpnext'
      before_install = 'india_compliance.patches.check_version_compatibility.execute'
      out = None
      after_install = 'india_compliance.install.after_install'
  File ""apps/india_compliance/india_compliance/install.py"", line 73, in after_install
    raise e
  File ""apps/india_compliance/india_compliance/install.py"", line 62, in after_install
    run_post_install_patches()
  File ""apps/india_compliance/india_compliance/install.py"", line 86, in run_post_install_patches
    frappe.get_attr(f""india_compliance.patches.post_install.{patch}.execute"")()
      patch = 'update_company_fixtures'
  File ""apps/india_compliance/india_compliance/patches/post_install/update_company_fixtures.py"", line 30, in execute
    make_default_tax_templates(company)
      company_list = ['Paramount Building Solutions Private Limited']
      company = 'Paramount Building Solutions Private Limited'
  File ""apps/frappe/frappe/utils/typing_validations.py"", line 31, in wrapper
    return func(*args, **kwargs)
      args = ('Paramount Building Solutions Private Limited',)
      kwargs = {}
      apply_condition = <function whitelist.<locals>.innerfn.<locals>.<lambda> at 0x7f5acf44aa20>
      func = <function make_default_tax_templates at 0x7f5acf44a980>
  File ""apps/india_compliance/india_compliance/gst_india/overrides/company.py"", line 68, in make_default_tax_templates
    from_detailed_data(company, default_taxes)
      company = 'Paramount Building Solutions Private Limited'
      gst_rate = None
      default_taxes = {'tax_categories': [{'title': 'In-State', 'is_inter_state': 0, 'gst_state': '', 'doctype': 'Tax Category'}, {'title': 'Out-State', 'is_inter_state': 1, 'gst_state': '', 'doctype': 'Tax Category'}, {'title': 'Reverse Charge In-State', 'is_inter_state': 0, 'is_reverse_charge': 1, 'gst_state': '', 'doctype': 'Tax Category'}, {'title': 'Reverse Charge Out-State', 'is_inter_state': 1, 'is_reverse_charge': 1, 'gst_state': '', 'doctype': 'Tax Category'}, {'title': 'Registered Composition', 'is_inter_state': 0, 'gst_state': '', 'doctype': 'Tax Category'}], 'chart_of_accounts': {'*': {'item_tax_templates': [{'title': 'GST 18%', 'gst_rate': 18, 'gst_treatment': 'Taxable', 'taxes': [{'tax_type': {'account_name': 'Output Tax SGST', 'tax_rate': 9.0}}, {'tax_type': {'account_name': 'Output Tax CGST', 'tax_rate': 9.0}}, {'tax_type': {'account_name': 'Output Tax IGST', 'tax_rate': 18.0}}, {'tax_type': {'account_name': 'Input Tax SGST', 'tax_rate': 9.0, 'root_type': 'Asset'}}, {'tax_type': {'account_na...
  File ""apps/erpnext/erpnext/setup/setup_wizard/operations/taxes_setup.py"", line 107, in from_detailed_data
    make_taxes_and_charges_template(company_name, ""Purchase Taxes and Charges Template"", template)
      company_name = 'Paramount Building Solutions Private Limited'
      data = {'tax_categories': [{'title': 'In-State', 'is_inter_state': 0, 'gst_state': '', 'doctype': 'Tax Category'}, {'title': 'Out-State', 'is_inter_state': 1, 'gst_state': '', 'doctype': 'Tax Category'}, {'title': 'Reverse Charge In-State', 'is_inter_state': 0, 'is_reverse_charge': 1, 'gst_state': '', 'doctype': 'Tax Category'}, {'title': 'Reverse Charge Out-State', 'is_inter_state': 1, 'is_reverse_charge': 1, 'gst_state': '', 'doctype': 'Tax Category'}, {'title': 'Registered Composition', 'is_inter_state': 0, 'gst_state': '', 'doctype': 'Tax Category'}], 'chart_of_accounts': {'*': {'item_tax_templates': [{'title': 'GST 18%', 'gst_rate': 18, 'gst_treatment': 'Taxable', 'taxes': [{'tax_type': {'account_name': 'Output Tax SGST', 'tax_rate': 9.0}}, {'tax_type': {'account_name': 'Output Tax CGST', 'tax_rate': 9.0}}, {'tax_type': {'account_name': 'Output Tax IGST', 'tax_rate': 18.0}}, {'tax_type': {'account_name': 'Input Tax SGST', 'tax_rate': 9.0, 'root_type': 'Asset'}}, {'tax_type': {'account_na...
      coa_name = 'India - Chart of Accounts'
      coa_data = {'*': {'item_tax_templates': [{'title': 'GST 18%', 'gst_rate': 18, 'gst_treatment': 'Taxable', 'taxes': [{'tax_type': {'account_name': 'Output Tax SGST', 'tax_rate': 9.0}}, {'tax_type': {'account_name': 'Output Tax CGST', 'tax_rate': 9.0}}, {'tax_type': {'account_name': 'Output Tax IGST', 'tax_rate': 18.0}}, {'tax_type': {'account_name': 'Input Tax SGST', 'tax_rate': 9.0, 'root_type': 'Asset'}}, {'tax_type': {'account_name': 'Input Tax CGST', 'tax_rate': 9.0, 'root_type': 'Asset'}}, {'tax_type': {'account_name': 'Input Tax IGST', 'tax_rate': 18.0, 'root_type': 'Asset'}}, {'tax_type': {'account_name': 'Input Tax SGST RCM', 'tax_rate': 9.0}}, {'tax_type': {'account_name': 'Input Tax CGST RCM', 'tax_rate': 9.0}}, {'tax_type': {'account_name': 'Input Tax IGST RCM', 'tax_rate': 18.0}}]}, {'title': 'GST 5%', 'gst_rate': 5, 'gst_treatment': 'Taxable', 'taxes': [{'tax_type': {'account_name': 'Output Tax SGST', 'tax_rate': 2.5}}, {'tax_type': {'account_name': 'Output Tax CGST', 'tax_rate': 2.5}...
      tax_templates = {'item_tax_templates': [{'title': 'GST 18%', 'gst_rate': 18, 'gst_treatment': 'Taxable', 'taxes': [{'tax_type': {'account_name': 'Output Tax SGST', 'tax_rate': 9.0}}, {'tax_type': {'account_name': 'Output Tax CGST', 'tax_rate': 9.0}}, {'tax_type': {'account_name': 'Output Tax IGST', 'tax_rate': 18.0}}, {'tax_type': {'account_name': 'Input Tax SGST', 'tax_rate': 9.0, 'root_type': 'Asset'}}, {'tax_type': {'account_name': 'Input Tax CGST', 'tax_rate': 9.0, 'root_type': 'Asset'}}, {'tax_type': {'account_name': 'Input Tax IGST', 'tax_rate': 18.0, 'root_type': 'Asset'}}, {'tax_type': {'account_name': 'Input Tax SGST RCM', 'tax_rate': 9.0}}, {'tax_type': {'account_name': 'Input Tax CGST RCM', 'tax_rate': 9.0}}, {'tax_type': {'account_name': 'Input Tax IGST RCM', 'tax_rate': 18.0}}]}, {'title': 'GST 5%', 'gst_rate': 5, 'gst_treatment': 'Taxable', 'taxes': [{'tax_type': {'account_name': 'Output Tax SGST', 'tax_rate': 2.5}}, {'tax_type': {'account_name': 'Output Tax CGST', 'tax_rate': 2.5}}, {'t...
      tax_categories = [{'title': 'In-State', 'is_inter_state': 0, 'gst_state': '', 'doctype': 'Tax Category'}, {'title': 'Out-State', 'is_inter_state': 1, 'gst_state': '', 'doctype': 'Tax Category'}, {'title': 'Reverse Charge In-State', 'is_inter_state': 0, 'is_reverse_charge': 1, 'gst_state': '', 'doctype': 'Tax Category'}, {'title': 'Reverse Charge Out-State', 'is_inter_state': 1, 'is_reverse_charge': 1, 'gst_state': '', 'doctype': 'Tax Category'}, {'title': 'Registered Composition', 'is_inter_state': 0, 'gst_state': '', 'doctype': 'Tax Category'}]
      sales_tax_templates = [{'title': 'Output GST In-state', 'taxes': [{'account_head': 'Output Tax SGST - PBSPL', 'description': 'SGST', 'category': 'Total', 'charge_type': 'On Net Total', 'cost_center': 'Main - PBSPL', 'rate': 9.0, 'doctype': 'Sales Taxes and Charges'}, {'account_head': 'Output Tax CGST - PBSPL', 'description': 'CGST', 'category': 'Total', 'charge_type': 'On Net Total', 'cost_center': 'Main - PBSPL', 'rate': 9.0, 'doctype': 'Sales Taxes and Charges'}], 'tax_category': 'In-State', 'company': 'Paramount Building Solutions Private Limited', 'doctype': 'Sales Taxes and Charges Template'}, {'title': 'Output GST Out-state', 'taxes': [{'account_head': 'Output Tax IGST - PBSPL', 'description': 'IGST', 'category': 'Total', 'charge_type': 'On Net Total', 'cost_center': 'Main - PBSPL', 'rate': 18.0, 'doctype': 'Sales Taxes and Charges'}], 'tax_category': 'Out-State', 'company': 'Paramount Building Solutions Private Limited', 'doctype': 'Sales Taxes and Charges Template'}]
      purchase_tax_templates = [{'title': 'Input GST In-state', 'taxes': [{'account_head': {'account_name': 'Input Tax CGST', 'tax_rate': 9.0, 'root_type': 'Asset', 'account_type': 'Tax', 'doctype': 'Account', 'company': 'Paramount Building Solutions Private Limited', 'parent_account': 'Tax Assets - PBSPL', 'report_type': 'Balance Sheet', 'is_group': 0}, 'description': 'CGST'}, {'account_head': {'account_name': 'Input Tax SGST', 'tax_rate': 9.0, 'root_type': 'Asset', 'account_type': 'Tax'}, 'description': 'SGST'}], 'tax_category': 'In-State', 'company': 'Paramount Building Solutions Private Limited', 'doctype': 'Purchase Taxes and Charges Template'}, {'title': 'Input GST Out-state', 'taxes': [{'account_head': {'account_name': 'Input Tax IGST', 'tax_rate': 18.0, 'root_type': 'Asset', 'account_type': 'Tax'}, 'description': 'IGST'}], 'tax_category': 'Out-State'}, {'title': 'Input GST RCM In-state', 'taxes': [{'account_head': {'account_name': 'Input Tax CGST', 'tax_rate': 9.0, 'root_type': 'Asset', 'account_type': 'Tax'...
      item_tax_templates = [{'title': 'GST 18%', 'gst_rate': 18, 'gst_treatment': 'Taxable', 'taxes': [{'tax_type': {'account_name': 'Output Tax SGST', 'tax_rate': 9.0}}, {'tax_type': {'account_name': 'Output Tax CGST', 'tax_rate': 9.0}}, {'tax_type': {'account_name': 'Output Tax IGST', 'tax_rate': 18.0}}, {'tax_type': {'account_name': 'Input Tax SGST', 'tax_rate': 9.0, 'root_type': 'Asset'}}, {'tax_type': {'account_name': 'Input Tax CGST', 'tax_rate': 9.0, 'root_type': 'Asset'}}, {'tax_type': {'account_name': 'Input Tax IGST', 'tax_rate': 18.0, 'root_type': 'Asset'}}, {'tax_type': {'account_name': 'Input Tax SGST RCM', 'tax_rate': 9.0}}, {'tax_type': {'account_name': 'Input Tax CGST RCM', 'tax_rate': 9.0}}, {'tax_type': {'account_name': 'Input Tax IGST RCM', 'tax_rate': 18.0}}]}, {'title': 'GST 5%', 'gst_rate': 5, 'gst_treatment': 'Taxable', 'taxes': [{'tax_type': {'account_name': 'Output Tax SGST', 'tax_rate': 2.5}}, {'tax_type': {'account_name': 'Output Tax CGST', 'tax_rate': 2.5}}, {'tax_type': {'account_nam...
      tax_category = {'title': 'Registered Composition', 'is_inter_state': 0, 'gst_state': '', 'doctype': 'Tax Category'}
      template = {'title': 'Input GST In-state', 'taxes': [{'account_head': {'account_name': 'Input Tax CGST', 'tax_rate': 9.0, 'root_type': 'Asset', 'account_type': 'Tax', 'doctype': 'Account', 'company': 'Paramount Building Solutions Private Limited', 'parent_account': 'Tax Assets - PBSPL', 'report_type': 'Balance Sheet', 'is_group': 0}, 'description': 'CGST'}, {'account_head': {'account_name': 'Input Tax SGST', 'tax_rate': 9.0, 'root_type': 'Asset', 'account_type': 'Tax'}, 'description': 'SGST'}], 'tax_category': 'In-State', 'company': 'Paramount Building Solutions Private Limited', 'doctype': 'Purchase Taxes and Charges Template'}
  File ""apps/erpnext/erpnext/setup/setup_wizard/operations/taxes_setup.py"", line 151, in make_taxes_and_charges_template
    account = get_or_create_account(company_name, account_data)
      company_name = 'Paramount Building Solutions Private Limited'
      doctype = 'Purchase Taxes and Charges Template'
      template = {'title': 'Input GST In-state', 'taxes': [{'account_head': {'account_name': 'Input Tax CGST', 'tax_rate': 9.0, 'root_type': 'Asset', 'account_type': 'Tax', 'doctype': 'Account', 'company': 'Paramount Building Solutions Private Limited', 'parent_account': 'Tax Assets - PBSPL', 'report_type': 'Balance Sheet', 'is_group': 0}, 'description': 'CGST'}, {'account_head': {'account_name': 'Input Tax SGST', 'tax_rate': 9.0, 'root_type': 'Asset', 'account_type': 'Tax'}, 'description': 'SGST'}], 'tax_category': 'In-State', 'company': 'Paramount Building Solutions Private Limited', 'doctype': 'Purchase Taxes and Charges Template'}
      tax_row = {'account_head': {'account_name': 'Input Tax CGST', 'tax_rate': 9.0, 'root_type': 'Asset', 'account_type': 'Tax', 'doctype': 'Account', 'company': 'Paramount Building Solutions Private Limited', 'parent_account': 'Tax Assets - PBSPL', 'report_type': 'Balance Sheet', 'is_group': 0}, 'description': 'CGST'}
      account_data = {'account_name': 'Input Tax CGST', 'tax_rate': 9.0, 'root_type': 'Asset', 'account_type': 'Tax', 'doctype': 'Account', 'company': 'Paramount Building Solutions Private Limited', 'parent_account': 'Tax Assets - PBSPL', 'report_type': 'Balance Sheet', 'is_group': 0}
      tax_row_defaults = {'category': 'Total', 'charge_type': 'On Net Total', 'cost_center': 'Main - PBSPL', 'add_deduct_tax': 'Add', 'description': 'Input Tax CGST @ 9.0', 'rate': 9.0}
  File ""apps/erpnext/erpnext/setup/setup_wizard/operations/taxes_setup.py"", line 236, in get_or_create_account
    doc.insert(ignore_permissions=True, ignore_mandatory=True)
      company_name = 'Paramount Building Solutions Private Limited'
      account = {'account_name': 'Input Tax CGST', 'tax_rate': 9.0, 'root_type': 'Asset', 'account_type': 'Tax', 'doctype': 'Account', 'company': 'Paramount Building Solutions Private Limited', 'parent_account': 'Tax Assets - PBSPL', 'report_type': 'Balance Sheet', 'is_group': 0}
      default_root_type = 'Liability'
      root_type = 'Asset'
      existing_accounts = []
      tax_group = 'Tax Assets - PBSPL'
      doc = <Account: Input Tax CGST - PBSPL>
  File ""apps/frappe/frappe/model/document.py"", line 302, in insert
    self.db_insert(ignore_if_duplicate=ignore_if_duplicate)
      self = <Account: Input Tax CGST - PBSPL>
      ignore_permissions = True
      ignore_links = None
      ignore_if_duplicate = False
      ignore_mandatory = True
      set_name = None
      set_child_names = True
  File ""apps/frappe/frappe/model/base_document.py"", line 577, in db_insert
    raise frappe.DuplicateEntryError(self.doctype, self.name, e)
      self = <Account: Input Tax CGST - PBSPL>
      ignore_if_duplicate = False
      conflict_handler = ''
      d = {'name': 'Input Tax CGST - PBSPL', 'owner': 'Administrator', 'creation': '2024-05-16 13:09:16.219299', 'modified': '2024-05-16 13:09:16.219299', 'modified_by': 'Administrator', 'docstatus': 0, 'idx': 0, 'disabled': 0, 'account_name': 'Input Tax CGST', 'account_number': None, 'is_group': 0, 'company': 'Paramount Building Solutions Private Limited', 'root_type': 'Asset', 'report_type': 'Balance Sheet', 'account_currency': None, 'parent_account': 'Tax Assets - PBSPL', 'account_type': 'Tax', 'tax_rate': 9.0, 'freeze_account': 'No', 'balance_must_be': '', 'lft': 0, 'rgt': 0, 'old_parent': None, 'include_in_gross': 0}
      columns = ['name', 'owner', 'creation', 'modified', 'modified_by', 'docstatus', 'idx', 'disabled', 'account_name', 'account_number', 'is_group', 'company', 'root_type', 'report_type', 'account_currency', 'parent_account', 'account_type', 'tax_rate', 'freeze_account', 'balance_must_be', 'lft', 'rgt', 'old_parent', 'include_in_gross']
frappe.exceptions.DuplicateEntryError: ('Account', 'Input Tax CGST - PBSPL', IntegrityError(1062, ""Duplicate entry 'Input Tax CGST - PBSPL' for key 'PRIMARY'"")

```

Internal Reference: https://support.frappe.io/app/hd-ticket/15283
Closes: resilient-tech/india-compliance#2138",ljain112,2024-05-23 14:48:59+00:00,[],2024-07-10 00:11:03+00:00,2024-06-25 11:59:52+00:00,https://github.com/frappe/erpnext/pull/41612,"[('needs-tests', 'This PR needs automated unit-tests.'), ('inactive', '')]","[{'comment_id': 2175070377, 'issue_id': 2313126819, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2024, 6, 18, 5, 53, 42, tzinfo=datetime.timezone.utc)}]","stale[bot] on (2024-06-18 05:53:42 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

"
2313015039,pull_request,closed,,refactor: use `json` directly instead of using `frappe.json` (backport #41609),"No reason to not use it directly
<hr>This is an automatic backport of pull request #41609 done by [Mergify](https://mergify.com).",mergify[bot],2024-05-23 14:02:26+00:00,['akhilnarang'],2024-06-14 00:09:40+00:00,2024-05-24 05:37:13+00:00,https://github.com/frappe/erpnext/pull/41611,"[('accounts', ''), ('conflicts', None), ('released', None)]","[{'comment_id': 2127205435, 'issue_id': 2313015039, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 3f06f1905f6c86eaa5eb4d33765a46470892f576 has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-41609\nYour branch is up to date with \'origin/version-15-hotfix\'.\n\nYou are currently cherry-picking commit 3f06f1905f.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nChanges to be committed:\n\tmodified:   erpnext/accounts/doctype/pos_invoice_merge_log/pos_invoice_merge_log.py\n\tmodified:   erpnext/accounts/doctype/process_payment_reconciliation/process_payment_reconciliation.py\n\tmodified:   erpnext/accounts/doctype/sales_invoice/test_sales_invoice.py\n\tmodified:   erpnext/accounts/doctype/unreconcile_payment/unreconcile_payment.py\n\tmodified:   erpnext/selling/doctype/customer/test_customer.py\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/accounts/utils.py\n\tboth modified:   erpnext/setup/doctype/department/department.py\n\tboth modified:   erpnext/stock/doctype/warehouse/warehouse.py\n\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 5, 23, 14, 2, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2136776327, 'issue_id': 2313015039, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.26.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.26.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 5, 29, 7, 54, 55, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-05-23 14:02:28 UTC): Cherry-pick of 3f06f1905f6c86eaa5eb4d33765a46470892f576 has failed:
```
On branch mergify/bp/version-15-hotfix/pr-41609
Your branch is up to date with 'origin/version-15-hotfix'.

You are currently cherry-picking commit 3f06f1905f.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Changes to be committed:
	modified:   erpnext/accounts/doctype/pos_invoice_merge_log/pos_invoice_merge_log.py
	modified:   erpnext/accounts/doctype/process_payment_reconciliation/process_payment_reconciliation.py
	modified:   erpnext/accounts/doctype/sales_invoice/test_sales_invoice.py
	modified:   erpnext/accounts/doctype/unreconcile_payment/unreconcile_payment.py
	modified:   erpnext/selling/doctype/customer/test_customer.py

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/accounts/utils.py
	both modified:   erpnext/setup/doctype/department/department.py
	both modified:   erpnext/stock/doctype/warehouse/warehouse.py

```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

frappe-pr-bot on (2024-05-29 07:54:55 UTC): :tada: This PR is included in version 15.26.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.26.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2313013637,pull_request,closed,,refactor: use `json` directly instead of using `frappe.json` (backport #41609),"No reason to not use it directly
<hr>This is an automatic backport of pull request #41609 done by [Mergify](https://mergify.com).",mergify[bot],2024-05-23 14:01:50+00:00,['akhilnarang'],2024-06-14 00:09:57+00:00,2024-05-27 08:01:29+00:00,https://github.com/frappe/erpnext/pull/41610,"[('accounts', ''), ('conflicts', None), ('released', None)]","[{'comment_id': 2127203676, 'issue_id': 2313013637, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 3f06f1905f6c86eaa5eb4d33765a46470892f576 has failed:\n```\nOn branch mergify/bp/version-14-hotfix/pr-41609\nYour branch is up to date with \'origin/version-14-hotfix\'.\n\nYou are currently cherry-picking commit 3f06f1905f.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nChanges to be committed:\n\tmodified:   erpnext/accounts/doctype/pos_invoice_merge_log/pos_invoice_merge_log.py\n\tmodified:   erpnext/accounts/doctype/process_payment_reconciliation/process_payment_reconciliation.py\n\tmodified:   erpnext/accounts/doctype/sales_invoice/test_sales_invoice.py\n\tmodified:   erpnext/accounts/doctype/unreconcile_payment/unreconcile_payment.py\n\tmodified:   erpnext/selling/doctype/customer/test_customer.py\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/accounts/utils.py\n\tboth modified:   erpnext/setup/doctype/department/department.py\n\tboth modified:   erpnext/stock/doctype/warehouse/warehouse.py\n\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 5, 23, 14, 1, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2132818320, 'issue_id': 2313013637, 'author': 'akhilnarang', 'body': '@mergifyio rebase', 'created_at': datetime.datetime(2024, 5, 27, 7, 25, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2132819403, 'issue_id': 2313013637, 'author': 'mergify[bot]', 'body': '> rebase\n\n#### ✅ Branch has been successfully rebased\n\n\n\n<!---\nDO NOT EDIT\n-*- Mergify Payload -*-\n{""command"": ""rebase"", ""conclusion"": ""success"", ""action_is_running"": true}\n-*- Mergify Payload End -*-\n-->', 'created_at': datetime.datetime(2024, 5, 27, 7, 26, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2136772734, 'issue_id': 2313013637, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.70.3 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.70.3)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 5, 29, 7, 52, 55, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-05-23 14:01:52 UTC): Cherry-pick of 3f06f1905f6c86eaa5eb4d33765a46470892f576 has failed:
```
On branch mergify/bp/version-14-hotfix/pr-41609
Your branch is up to date with 'origin/version-14-hotfix'.

You are currently cherry-picking commit 3f06f1905f.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Changes to be committed:
	modified:   erpnext/accounts/doctype/pos_invoice_merge_log/pos_invoice_merge_log.py
	modified:   erpnext/accounts/doctype/process_payment_reconciliation/process_payment_reconciliation.py
	modified:   erpnext/accounts/doctype/sales_invoice/test_sales_invoice.py
	modified:   erpnext/accounts/doctype/unreconcile_payment/unreconcile_payment.py
	modified:   erpnext/selling/doctype/customer/test_customer.py

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/accounts/utils.py
	both modified:   erpnext/setup/doctype/department/department.py
	both modified:   erpnext/stock/doctype/warehouse/warehouse.py

```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

akhilnarang (Assginee) on (2024-05-27 07:25:44 UTC): @mergifyio rebase

mergify[bot] (Issue Creator) on (2024-05-27 07:26:26 UTC): #### ✅ Branch has been successfully rebased



<!---
DO NOT EDIT
-*- Mergify Payload -*-
{""command"": ""rebase"", ""conclusion"": ""success"", ""action_is_running"": true}
-*- Mergify Payload End -*-
-->

frappe-pr-bot on (2024-05-29 07:52:55 UTC): :tada: This PR is included in version 14.70.3 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.70.3)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2312854271,pull_request,closed,,refactor: use `json` directly instead of using `frappe.json`,"No reason to not use it directly
",akhilnarang,2024-05-23 12:55:44+00:00,[],2024-06-07 00:09:54+00:00,2024-05-23 14:00:42+00:00,https://github.com/frappe/erpnext/pull/41609,"[('accounts', ''), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2312770829,pull_request,closed,,refactor: 'Payment Period Based On Invoice Date' report (backport #41594),"1. Use `Payment Ledger`  as primary source.
2. Replace 'frappe.db.sql` with `qb`
3. Replace `debit` and `credit` columns with `amount`<hr>This is an automatic backport of pull request #41594 done by [Mergify](https://mergify.com).",mergify[bot],2024-05-23 12:16:53+00:00,['ruthra-kumar'],2024-06-14 00:09:38+00:00,2024-05-24 05:23:51+00:00,https://github.com/frappe/erpnext/pull/41607,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2136776518, 'issue_id': 2312770829, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.26.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.26.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 5, 29, 7, 55, 1, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-05-29 07:55:01 UTC): :tada: This PR is included in version 15.26.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.26.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2312770441,pull_request,closed,,refactor: 'Payment Period Based On Invoice Date' report (backport #41594),"1. Use `Payment Ledger`  as primary source.
2. Replace 'frappe.db.sql` with `qb`
3. Replace `debit` and `credit` columns with `amount`<hr>This is an automatic backport of pull request #41594 done by [Mergify](https://mergify.com).",mergify[bot],2024-05-23 12:16:44+00:00,['ruthra-kumar'],2024-06-14 00:09:51+00:00,2024-05-24 05:24:07+00:00,https://github.com/frappe/erpnext/pull/41606,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2136773336, 'issue_id': 2312770441, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.70.3 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.70.3)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 5, 29, 7, 53, 16, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-05-29 07:53:16 UTC): :tada: This PR is included in version 14.70.3 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.70.3)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2312768323,pull_request,closed,,refactor: remove 'format:' based naming in internal doctypes (backport #41603),`format:` based naming is prone to error. <hr>This is an automatic backport of pull request #41603 done by [Mergify](https://mergify.com).,mergify[bot],2024-05-23 12:15:42+00:00,['ruthra-kumar'],2024-06-14 00:09:37+00:00,2024-05-24 05:24:56+00:00,https://github.com/frappe/erpnext/pull/41605,"[('released', None)]","[{'comment_id': 2126962014, 'issue_id': 2312768323, 'author': 'mergify[bot]', 'body': 'Cherry-pick of e2ec3e453a4995cacabb676165b135cf43e07315 has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-41603\nYour branch is up to date with \'origin/version-15-hotfix\'.\n\nYou are currently cherry-picking commit e2ec3e453a.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/accounts/doctype/repost_accounting_ledger/repost_accounting_ledger.json\n\tboth modified:   erpnext/accounts/doctype/repost_payment_ledger/repost_payment_ledger.json\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 5, 23, 12, 15, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2136776609, 'issue_id': 2312768323, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.26.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.26.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 5, 29, 7, 55, 4, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-05-23 12:15:44 UTC): Cherry-pick of e2ec3e453a4995cacabb676165b135cf43e07315 has failed:
```
On branch mergify/bp/version-15-hotfix/pr-41603
Your branch is up to date with 'origin/version-15-hotfix'.

You are currently cherry-picking commit e2ec3e453a.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/accounts/doctype/repost_accounting_ledger/repost_accounting_ledger.json
	both modified:   erpnext/accounts/doctype/repost_payment_ledger/repost_payment_ledger.json

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

frappe-pr-bot on (2024-05-29 07:55:04 UTC): :tada: This PR is included in version 15.26.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.26.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2312767732,pull_request,closed,,refactor: remove 'format:' based naming in internal doctypes (backport #41603),`format:` based naming is prone to error. <hr>This is an automatic backport of pull request #41603 done by [Mergify](https://mergify.com).,mergify[bot],2024-05-23 12:15:23+00:00,['ruthra-kumar'],2024-06-14 00:09:52+00:00,2024-05-24 05:24:45+00:00,https://github.com/frappe/erpnext/pull/41604,"[('released', None)]","[{'comment_id': 2126961442, 'issue_id': 2312767732, 'author': 'mergify[bot]', 'body': 'Cherry-pick of e2ec3e453a4995cacabb676165b135cf43e07315 has failed:\n```\nOn branch mergify/bp/version-14-hotfix/pr-41603\nYour branch is up to date with \'origin/version-14-hotfix\'.\n\nYou are currently cherry-picking commit e2ec3e453a.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/accounts/doctype/repost_accounting_ledger/repost_accounting_ledger.json\n\tboth modified:   erpnext/accounts/doctype/repost_payment_ledger/repost_payment_ledger.json\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 5, 23, 12, 15, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2136773261, 'issue_id': 2312767732, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.70.3 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.70.3)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 5, 29, 7, 53, 13, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-05-23 12:15:25 UTC): Cherry-pick of e2ec3e453a4995cacabb676165b135cf43e07315 has failed:
```
On branch mergify/bp/version-14-hotfix/pr-41603
Your branch is up to date with 'origin/version-14-hotfix'.

You are currently cherry-picking commit e2ec3e453a.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/accounts/doctype/repost_accounting_ledger/repost_accounting_ledger.json
	both modified:   erpnext/accounts/doctype/repost_payment_ledger/repost_payment_ledger.json

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

frappe-pr-bot on (2024-05-29 07:53:13 UTC): :tada: This PR is included in version 14.70.3 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.70.3)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2312678676,pull_request,closed,,refactor: remove 'format:' based naming in internal doctypes,`format:` based naming is prone to error. ,ruthra-kumar,2024-05-23 11:34:17+00:00,[],2024-06-07 00:09:57+00:00,2024-05-23 12:14:14+00:00,https://github.com/frappe/erpnext/pull/41603,"[('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2312627504,pull_request,closed,,fix: add in some indices to speed up Purchase Order deletion,"Reference: https://support.frappe.io/helpdesk/tickets/11452

`tabSales Order`.`inter_company_order_reference` 81 seconds, 1089800 rows examined 
`tabSales Invoice Item`.`purchase_order` 472 seconds, 7521793 rows examined
",akhilnarang,2024-05-23 11:09:15+00:00,[],2024-06-09 00:10:53+00:00,2024-05-24 05:27:05+00:00,https://github.com/frappe/erpnext/pull/41601,"[('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2312568954,pull_request,closed,,fix: Fetch correct outstanding and total amount for reference journal entry (backport #40920) (backport #40957),Fixes #40890 <hr>This is an automatic backport of pull request #40920 done by [Mergify](https://mergify.com).<hr>This is an automatic backport of pull request #40957 done by [Mergify](https://mergify.com).,mergify[bot],2024-05-23 10:39:37+00:00,[],2024-06-07 00:09:58+00:00,2024-05-23 11:00:31+00:00,https://github.com/frappe/erpnext/pull/41600,"[('released', None)]","[{'comment_id': 2126826903, 'issue_id': 2312568954, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.70.2 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.70.2)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 5, 23, 11, 2, 1, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-05-23 11:02:01 UTC): :tada: This PR is included in version 14.70.2 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.70.2)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2312408737,pull_request,closed,,fix: SCR batch qty issue (backport #41595),"**Steps to Replicate Issue**

- Disable User Serial and Batch fields in the Stock Settings
- Create a Subcontracted PO and SCR for FG Item with 10 Qty
- Make material transfer and enable User Serial and Batch fields manually
- Make SCR for 2 qty
- Make another SCR for 2 qty
- Make Final SCR for 6 qty and you will get the below error

<img width=""776"" alt=""Screenshot 2024-05-23 at 1 06 40 PM"" src=""https://github.com/frappe/erpnext/assets/8780500/5fb82fe7-e30d-4db5-96bc-bebc3d65fa16"">
<hr>This is an automatic backport of pull request #41595 done by [Mergify](https://mergify.com).",mergify[bot],2024-05-23 09:23:11+00:00,['rohitwaghchaure'],2024-06-14 00:09:35+00:00,2024-05-23 11:00:30+00:00,https://github.com/frappe/erpnext/pull/41599,"[('stock', None), ('released', None)]","[{'comment_id': 2136776797, 'issue_id': 2312408737, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.26.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.26.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 5, 29, 7, 55, 10, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-05-29 07:55:10 UTC): :tada: This PR is included in version 15.26.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.26.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2312380559,pull_request,closed,,fix: dict can not be used as parameter,"```
  File ""/home/runner/frappe-bench/apps/erpnext/erpnext/stock/stock_ledger.py"", line 385, in initialize_previous_data
    previous_sle = get_previous_sle_of_current_voucher(args)
    args = {'item_code': '368b3b4b529f55f5', 'warehouse': '_Test Warehouse - _TC', 'posting_date': datetime.date(2022, 3, 1), 'posting_time': datetime.timedelta(seconds=13259, microseconds=567591), 'creation': None, 'distinct_item_warehouses': {('368b3b4b529f55f5', '_Test Warehouse - _TC'): {'reposting_status': False, 'sle': {'item_code': '368b3b4b529f55f5', 'warehouse': '_Test Warehouse - _TC', 'posting_date': datetime.date(2022, 3, 1), 'posting_time': datetime.timedelta(seconds=13259, microseconds=567591)}, 'args_idx': 0}}, 'posting_datetime': datetime.datetime(2022, 3, 1, 3, 40, 59)}
    self = <erpnext.stock.stock_ledger.update_entries_after object at 0x7f160340cd00>
    warehouse_dict = {}
  File ""/home/runner/frappe-bench/apps/erpnext/erpnext/stock/stock_ledger.py"", line 1185, in get_previous_sle_of_current_voucher
    sle = frappe.db.sql(
    args = {'item_code': '368b3b4b529f55f5', 'warehouse': '_Test Warehouse - _TC', 'posting_date': datetime.date(2022, 3, 1), 'posting_time': datetime.timedelta(seconds=13259, microseconds=567591), 'creation': None, 'distinct_item_warehouses': {('368b3b4b529f55f5', '_Test Warehouse - _TC'): {'reposting_status': False, 'sle': {'item_code': '368b3b4b529f55f5', 'warehouse': '_Test Warehouse - _TC', 'posting_date': datetime.date(2022, 3, 1), 'posting_time': datetime.timedelta(seconds=13259, microseconds=567591)}, 'args_idx': 0}}, 'posting_datetime': datetime.datetime(2022, 3, 1, 3, 40, 59)}
  
TypeError: dict can not be used as parameter
```

{key: {key: value}} (distinct_item_warehouses) causing the issue",rohitwaghchaure,2024-05-23 09:09:35+00:00,[],2024-06-14 00:09:48+00:00,2024-05-23 10:07:00+00:00,https://github.com/frappe/erpnext/pull/41598,"[('stock', None), ('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2136773606, 'issue_id': 2312380559, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.70.3 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.70.3)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 5, 29, 7, 53, 25, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-05-29 07:53:25 UTC): :tada: This PR is included in version 14.70.3 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.70.3)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2312153901,pull_request,closed,,chore: sync ruff config with framework (backport #41576),"- ci: dont auto apply fixes
- ci: ruff only fix imports
<hr>This is an automatic backport of pull request #41576 done by [Mergify](https://mergify.com).",mergify[bot],2024-05-23 07:22:27+00:00,['akhilnarang'],2024-06-14 00:09:54+00:00,2024-05-27 08:01:22+00:00,https://github.com/frappe/erpnext/pull/41597,"[('released', None)]","[{'comment_id': 2128736687, 'issue_id': 2312153901, 'author': 'akhilnarang', 'body': '@mergifyio rebase', 'created_at': datetime.datetime(2024, 5, 24, 7, 7, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2128742208, 'issue_id': 2312153901, 'author': 'mergify[bot]', 'body': '> rebase\n\n#### ✅ Branch has been successfully rebased\n\n\n\n<!---\nDO NOT EDIT\n-*- Mergify Payload -*-\n{""command"": ""rebase"", ""conclusion"": ""success"", ""action_is_running"": true}\n-*- Mergify Payload End -*-\n-->', 'created_at': datetime.datetime(2024, 5, 24, 7, 8, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2132818043, 'issue_id': 2312153901, 'author': 'akhilnarang', 'body': '@mergifyio rebase', 'created_at': datetime.datetime(2024, 5, 27, 7, 25, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2132819102, 'issue_id': 2312153901, 'author': 'mergify[bot]', 'body': '> rebase\n\n#### ✅ Branch has been successfully rebased\n\n\n\n<!---\nDO NOT EDIT\n-*- Mergify Payload -*-\n{""command"": ""rebase"", ""conclusion"": ""success"", ""action_is_running"": true}\n-*- Mergify Payload End -*-\n-->', 'created_at': datetime.datetime(2024, 5, 27, 7, 26, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2136773091, 'issue_id': 2312153901, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.70.3 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.70.3)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 5, 29, 7, 53, 7, tzinfo=datetime.timezone.utc)}]","akhilnarang (Assginee) on (2024-05-24 07:07:42 UTC): @mergifyio rebase

mergify[bot] (Issue Creator) on (2024-05-24 07:08:52 UTC): #### ✅ Branch has been successfully rebased



<!---
DO NOT EDIT
-*- Mergify Payload -*-
{""command"": ""rebase"", ""conclusion"": ""success"", ""action_is_running"": true}
-*- Mergify Payload End -*-
-->

akhilnarang (Assginee) on (2024-05-27 07:25:34 UTC): @mergifyio rebase

mergify[bot] (Issue Creator) on (2024-05-27 07:26:15 UTC): #### ✅ Branch has been successfully rebased



<!---
DO NOT EDIT
-*- Mergify Payload -*-
{""command"": ""rebase"", ""conclusion"": ""success"", ""action_is_running"": true}
-*- Mergify Payload End -*-
-->

frappe-pr-bot on (2024-05-29 07:53:07 UTC): :tada: This PR is included in version 14.70.3 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.70.3)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2312153808,pull_request,closed,,chore: sync ruff config with framework (backport #41576),"- ci: dont auto apply fixes
- ci: ruff only fix imports
<hr>This is an automatic backport of pull request #41576 done by [Mergify](https://mergify.com).",mergify[bot],2024-05-23 07:22:25+00:00,['akhilnarang'],2024-06-14 00:09:36+00:00,2024-05-23 08:45:08+00:00,https://github.com/frappe/erpnext/pull/41596,"[('released', None)]","[{'comment_id': 2136776710, 'issue_id': 2312153808, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 15.26.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.26.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 5, 29, 7, 55, 7, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-05-29 07:55:07 UTC): :tada: This PR is included in version 15.26.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v15.26.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2312121408,pull_request,closed,,fix: SCR batch qty issue,"**Steps to Replicate Issue**

- Disable User Serial and Batch fields in the Stock Settings
- Create a Subcontracted PO and SCR for FG Item with 10 Qty
- Make material transfer and enable User Serial and Batch fields manually
- Make SCR for 2 qty
- Make another SCR for 2 qty
- Make Final SCR for 6 qty and you will get the below error

<img width=""776"" alt=""Screenshot 2024-05-23 at 1 06 40 PM"" src=""https://github.com/frappe/erpnext/assets/8780500/5fb82fe7-e30d-4db5-96bc-bebc3d65fa16"">
",rohitwaghchaure,2024-05-23 07:04:52+00:00,[],2024-06-07 00:09:59+00:00,2024-05-23 09:21:54+00:00,https://github.com/frappe/erpnext/pull/41595,"[('backport version-15-hotfix', '')]",[],
2312092796,pull_request,closed,,refactor: 'Payment Period Based On Invoice Date' report,"1. Use `Payment Ledger`  as primary source.
2. Replace `frappe.db.sql` with `qb`
3. Replace `debit` and `credit` columns with `amount`",ruthra-kumar,2024-05-23 06:47:17+00:00,[],2024-06-15 00:09:20+00:00,2024-05-23 12:15:28+00:00,https://github.com/frappe/erpnext/pull/41594,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
