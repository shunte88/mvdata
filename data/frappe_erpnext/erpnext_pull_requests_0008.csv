id,type,state,state_reason,title,body,author,created_at,assignees,updated_at,closed_at,url,labels,comments_list,comment_thread
2755759862,pull_request,closed,,fix: incoming rate should be zero for rejected items,"Steps to replicate the issue

- Enable ""Set Landed Cost Based on Purchase Invoice Rate""
- Make a purchase receipt with 1 accepted and 1 rejected qty and rate as 100
- Check stock ledger, you will see the valuation for the rejected items as zero
- Make a purchase invoice for 1 accepted qty with rate as 120
- Complete the reposting
- You will notice that the system has changed the valuation rate of rejected items from zero to 120
- Due to this there is a difference between stock and account value ",rohitwaghchaure,2024-12-23 10:51:33+00:00,[],2025-01-07 00:17:46+00:00,2024-12-23 11:28:07+00:00,https://github.com/frappe/erpnext/pull/44857,"[('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2755747901,pull_request,closed,,fix: fetch advance payment entries on pos invoice,"Resolved the server error when clicking the 'Get Advances Received' button in the POS Invoice's 'Advance Payment' section.

Before:

![image](https://github.com/user-attachments/assets/e63c919c-504e-437b-a2a9-fda4ec4f7253)

After:

![image](https://github.com/user-attachments/assets/71c10bcd-090a-490a-9d28-1f310a02dcd7)

fixes: #43715 #44518 ",diptanilsaha,2024-12-23 10:44:39+00:00,[],2025-01-11 00:10:46+00:00,2024-12-23 15:29:00+00:00,https://github.com/frappe/erpnext/pull/44856,"[('accounts', ''), ('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2755722669,pull_request,closed,,fix: in_context_translation_fixes,Backport to version-15,mahsem,2024-12-23 10:31:17+00:00,['ruthra-kumar'],2025-01-24 08:22:23+00:00,2024-12-30 10:26:01+00:00,https://github.com/frappe/erpnext/pull/44855,"[('accounts', ''), ('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2755695399,pull_request,closed,,fix: asset fields precision check,"Error on asset submission

<img width=""1164"" alt=""Screenshot 2024-12-23 at 3 45 55 PM"" src=""https://github.com/user-attachments/assets/548f76d3-db32-483b-aa1d-6064433b2f73"" />
",khushi8112,2024-12-23 10:16:29+00:00,[],2025-01-07 00:16:23+00:00,2024-12-23 18:30:35+00:00,https://github.com/frappe/erpnext/pull/44854,"[('backport version-15-hotfix', '')]",[],
2755685431,pull_request,closed,,fix: do not validate qc for scrap item (backport #44844),"Getting QC is mandatory for scrap item during making of manufacture entry
<hr>This is an automatic backport of pull request #44844 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-23 10:10:38+00:00,['rohitwaghchaure'],2025-01-07 00:16:37+00:00,2024-12-23 13:45:46+00:00,https://github.com/frappe/erpnext/pull/44853,"[('stock', None)]",[],
2755621977,pull_request,closed,,fix: avg. buying amount for product bundle item with serial and batch no in gross profit report (backport #44716),"Issue: Buying Amount for Product Bundle Items is incorrect.

For Product bundle Items, serial_and_batch_bundle was not set and the item code was also incorrect because it was for the parent item.

Steps to Replicate:
- Create an Item with Serial and batch and one more item.
- Create a Product bundle with the same Items.
- Create a sales invoice without update_stock.
- Create a Delivery Note for sales invoice
- Check buying amount in gross profit report.

Frappe Support Issue: https://support.frappe.io/app/hd-ticket/24113

backport version-15-hotfix
backport version-14-hotfix

<hr>This is an automatic backport of pull request #44716 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-23 09:34:17+00:00,[],2025-01-07 00:18:32+00:00,2024-12-23 10:05:43+00:00,https://github.com/frappe/erpnext/pull/44852,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2755616807,pull_request,closed,,fix: avg. buying amount for product bundle with serial and batch,Manual backport of https://github.com/frappe/erpnext/pull/44716,ruthra-kumar,2024-12-23 09:31:15+00:00,[],2025-01-07 00:18:29+00:00,2024-12-23 10:06:02+00:00,https://github.com/frappe/erpnext/pull/44851,"[('needs-tests', 'This PR needs automated unit-tests.')]","[{'comment_id': 2559352825, 'issue_id': 2755616807, 'author': 'ruthra-kumar', 'body': 'closing this infavor of https://github.com/frappe/erpnext/pull/44852', 'created_at': datetime.datetime(2024, 12, 23, 10, 6, 2, tzinfo=datetime.timezone.utc)}]","ruthra-kumar (Issue Creator) on (2024-12-23 10:06:02 UTC): closing this infavor of https://github.com/frappe/erpnext/pull/44852

"
2755605225,pull_request,closed,,refacto(test): remove hardcoded names,,ruthra-kumar,2024-12-23 09:24:39+00:00,[],2025-01-07 00:18:35+00:00,2024-12-23 09:55:27+00:00,https://github.com/frappe/erpnext/pull/44850,[],[],
2755597503,pull_request,closed,,fix(ux): purchase invoice link in error message (backport #44797),"**Before**

![Screenshot 2024-12-19 053114](https://github.com/user-attachments/assets/03b2e0b9-4243-4c80-b4d9-2330d0ffcc88)

**After**

![Screenshot 2024-12-19 053154](https://github.com/user-attachments/assets/3db2c9df-12c1-4d10-b94c-34305407c9d7)
<hr>This is an automatic backport of pull request #44797 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-23 09:20:20+00:00,[],2025-01-07 00:18:58+00:00,2024-12-23 09:47:48+00:00,https://github.com/frappe/erpnext/pull/44849,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2755596114,pull_request,closed,,fix(ux): purchase invoice link in error message (backport #44797),"**Before**

![Screenshot 2024-12-19 053114](https://github.com/user-attachments/assets/03b2e0b9-4243-4c80-b4d9-2330d0ffcc88)

**After**

![Screenshot 2024-12-19 053154](https://github.com/user-attachments/assets/3db2c9df-12c1-4d10-b94c-34305407c9d7)
<hr>This is an automatic backport of pull request #44797 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-23 09:19:28+00:00,[],2025-01-09 00:11:37+00:00,2024-12-23 09:47:58+00:00,https://github.com/frappe/erpnext/pull/44848,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2561582373, 'issue_id': 2755596114, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.78.5 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.5)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 12, 25, 3, 34, 49, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-12-25 03:34:49 UTC): :tada: This PR is included in version 14.78.5 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.5)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2755575444,pull_request,closed,,fix: fetch tax withholding category from the voucher (backport #44738),"**Issue:**
In TDS Computation Summary tax withholding category not fetching from the journal entry, it is fetching from the party.
**ref:** [27210](https://support.frappe.io/helpdesk/tickets/27210)

**Journal Entry:**
![image](https://github.com/user-attachments/assets/afbe6716-e259-4df6-98fb-672ab8e39d46)

**Before:**
![image](https://github.com/user-attachments/assets/583142ff-401e-4c73-ae60-f89f09776a5e)


**After:**
![image](https://github.com/user-attachments/assets/12641bed-358d-44a0-b291-476c3752f0d7)


**Backport needed for v15 & v14**<hr>This is an automatic backport of pull request #44738 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-23 09:07:16+00:00,[],2025-01-07 00:18:59+00:00,2024-12-23 09:33:03+00:00,https://github.com/frappe/erpnext/pull/44847,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2755573621,pull_request,closed,,fix: fetch tax withholding category from the voucher (backport #44738),"**Issue:**
In TDS Computation Summary tax withholding category not fetching from the journal entry, it is fetching from the party.
**ref:** [27210](https://support.frappe.io/helpdesk/tickets/27210)

**Journal Entry:**
![image](https://github.com/user-attachments/assets/afbe6716-e259-4df6-98fb-672ab8e39d46)

**Before:**
![image](https://github.com/user-attachments/assets/583142ff-401e-4c73-ae60-f89f09776a5e)


**After:**
![image](https://github.com/user-attachments/assets/12641bed-358d-44a0-b291-476c3752f0d7)


**Backport needed for v15 & v14**<hr>This is an automatic backport of pull request #44738 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-23 09:06:11+00:00,[],2025-01-09 00:11:36+00:00,2024-12-23 09:33:13+00:00,https://github.com/frappe/erpnext/pull/44846,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2561582392, 'issue_id': 2755573621, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.78.5 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.5)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 12, 25, 3, 34, 52, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-12-25 03:34:52 UTC): :tada: This PR is included in version 14.78.5 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.5)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2755573546,pull_request,closed,,fix: avg. buying amount for product bundle item with serial and batch no in gross profit report (backport #44716),"Issue: Buying Amount for Product Bundle Items is incorrect.

For Product bundle Items, serial_and_batch_bundle was not set and the item code was also incorrect because it was for the parent item.

Steps to Replicate:
- Create an Item with Serial and batch and one more item.
- Create a Product bundle with the same Items.
- Create a sales invoice without update_stock.
- Create a Delivery Note for sales invoice
- Check buying amount in gross profit report.

Frappe Support Issue: https://support.frappe.io/app/hd-ticket/24113

backport version-15-hotfix
backport version-14-hotfix

<hr>This is an automatic backport of pull request #44716 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-23 09:06:08+00:00,[],2025-01-07 00:18:27+00:00,2024-12-23 10:06:12+00:00,https://github.com/frappe/erpnext/pull/44845,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2755568837,pull_request,closed,,fix: do not validate qc for scrap item,"Getting QC is mandatory for scrap item during making of manufacture entry
",rohitwaghchaure,2024-12-23 09:03:30+00:00,[],2025-01-07 00:18:25+00:00,2024-12-23 10:09:04+00:00,https://github.com/frappe/erpnext/pull/44844,"[('stock', None), ('backport version-15-hotfix', '')]",[],
2755549174,pull_request,closed,,fix: update correct cost center in Accounts Receivable Report (backport #44813),"If there is a journal entry with the same accounts but a different cost centre Accounts Receivable shows an incorrect cost center.

Support Issue: https://support.frappe.io/app/hd-ticket/21671<hr>This is an automatic backport of pull request #44813 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-23 08:51:41+00:00,[],2025-01-07 00:19:01+00:00,2024-12-23 09:25:45+00:00,https://github.com/frappe/erpnext/pull/44843,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2755549123,pull_request,closed,,fix: update correct cost center in Accounts Receivable Report (backport #44813),"If there is a journal entry with the same accounts but a different cost centre Accounts Receivable shows an incorrect cost center.

Support Issue: https://support.frappe.io/app/hd-ticket/21671<hr>This is an automatic backport of pull request #44813 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-23 08:51:39+00:00,[],2025-01-09 00:11:35+00:00,2024-12-23 09:25:56+00:00,https://github.com/frappe/erpnext/pull/44842,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2561582409, 'issue_id': 2755549123, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.78.5 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.5)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 12, 25, 3, 34, 55, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-12-25 03:34:55 UTC): :tada: This PR is included in version 14.78.5 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.5)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2755528551,pull_request,closed,,feat: Added difference_posting_date field in Sales Invoice Advance and Purchase Invoice Advance (backport #44808),"**Issue:**
unable to select posting date of the exchange gain/loss journal while linking advance  payment in invoice

**Solution:**
Added difference_posting_date field in Sales Invoice Advance and Purchase Invoice Advance

**Before:**

[before.webm](https://github.com/user-attachments/assets/9c1b5f64-7626-426f-b36c-4be14913593a)

**After:**

[after.webm](https://github.com/user-attachments/assets/6cbc6791-1a7a-4896-b5ab-7ed2f3099b83)

**Backport needed for v15**<hr>This is an automatic backport of pull request #44808 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-23 08:39:57+00:00,[],2025-01-07 00:18:57+00:00,2024-12-23 09:48:16+00:00,https://github.com/frappe/erpnext/pull/44841,"[('accounts', '')]","[{'comment_id': 2559210710, 'issue_id': 2755528551, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 225e56cbcae5c30172b52aa2e6cbc04a5ec01d43 has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-44808\nYour branch is up to date with \'origin/version-15-hotfix\'.\n\nYou are currently cherry-picking commit 225e56cbca.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nChanges to be committed:\n\tmodified:   erpnext/accounts/doctype/purchase_invoice_advance/purchase_invoice_advance.py\n\tmodified:   erpnext/accounts/doctype/sales_invoice_advance/sales_invoice_advance.py\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/accounts/doctype/purchase_invoice_advance/purchase_invoice_advance.json\n\tboth modified:   erpnext/accounts/doctype/sales_invoice_advance/sales_invoice_advance.json\n\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 12, 23, 8, 39, 59, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-12-23 08:39:59 UTC): Cherry-pick of 225e56cbcae5c30172b52aa2e6cbc04a5ec01d43 has failed:
```
On branch mergify/bp/version-15-hotfix/pr-44808
Your branch is up to date with 'origin/version-15-hotfix'.

You are currently cherry-picking commit 225e56cbca.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Changes to be committed:
	modified:   erpnext/accounts/doctype/purchase_invoice_advance/purchase_invoice_advance.py
	modified:   erpnext/accounts/doctype/sales_invoice_advance/sales_invoice_advance.py

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/accounts/doctype/purchase_invoice_advance/purchase_invoice_advance.json
	both modified:   erpnext/accounts/doctype/sales_invoice_advance/sales_invoice_advance.json

```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

"
2755410370,pull_request,closed,,fix: correct args for get_advance_payment_entries_for_regional (backport #44786),"Related PR:https://github.com/frappe/erpnext/pull/44545

Args sequence got incorrect due to the mentioned PR.

![image](https://github.com/user-attachments/assets/9138f288-def9-4212-9cff-50cebd764cb5)



Steps to Replicate:
- Enable ""Book Advance Payments in Separate Party Account"".
- Create a Sales Order.
- Make Payment Against Sales Order
- Create a Sales Invoice against the Sales Order
- Message with incorrect Sales Order will be shown.

backport version-15-hotfix


<hr>This is an automatic backport of pull request #44786 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-23 07:28:37+00:00,[],2025-01-07 00:19:07+00:00,2024-12-23 07:53:27+00:00,https://github.com/frappe/erpnext/pull/44840,"[('accounts', ''), ('needs-tests', 'This PR needs automated unit-tests.')]",[],
2755388184,pull_request,closed,,fix: Validate party on non receivable / payable account,"Issue: Allows specifying a party type and party for non-receivable and non-payable accounts.

Fix: Validate the party type against the account type in the GL entry and display an error message if there's a mismatch.

Ref: [27331](https://support.frappe.io/helpdesk/tickets/27331)

Before:

[before party type validation.webm](https://github.com/user-attachments/assets/91523698-c8aa-4dd1-b4fd-f09ac10b690c)

After:

[after party type validation.webm](https://github.com/user-attachments/assets/37b56528-e8a8-40c3-92fa-2d0a0d9e9fe8)

Backport needed for v14 & v15",Karuppasamy923,2024-12-23 07:13:26+00:00,['ruthra-kumar'],2025-01-11 00:10:44+00:00,2024-12-27 06:40:36+00:00,https://github.com/frappe/erpnext/pull/44839,"[('accounts', '')]","[{'comment_id': 2563378248, 'issue_id': 2755388184, 'author': 'ruthra-kumar', 'body': 'Closing this in-favor of https://github.com/frappe/erpnext/pull/44883', 'created_at': datetime.datetime(2024, 12, 27, 6, 40, 36, tzinfo=datetime.timezone.utc)}]","ruthra-kumar (Assginee) on (2024-12-27 06:40:36 UTC): Closing this in-favor of https://github.com/frappe/erpnext/pull/44883

"
2755311008,pull_request,closed,,fix: buying rate for service item in gross profit report (backport #44751),"- Rate was in 1 index of tuple last_purchase_rate.
- Added filter to exclude return invoices




Frappe Support Issue: https://support.frappe.io/app/hd-ticket/27462

backport version-14-hotfix
backport version-15-hotfix<hr>This is an automatic backport of pull request #44751 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-23 06:16:26+00:00,[],2025-01-07 00:19:11+00:00,2024-12-23 06:36:23+00:00,https://github.com/frappe/erpnext/pull/44838,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2755310974,pull_request,closed,,fix: buying rate for service item in gross profit report (backport #44751),"- Rate was in 1 index of tuple last_purchase_rate.
- Added filter to exclude return invoices




Frappe Support Issue: https://support.frappe.io/app/hd-ticket/27462

backport version-14-hotfix
backport version-15-hotfix<hr>This is an automatic backport of pull request #44751 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-23 06:16:24+00:00,[],2025-01-09 00:11:34+00:00,2024-12-23 06:38:12+00:00,https://github.com/frappe/erpnext/pull/44837,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2561582428, 'issue_id': 2755310974, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.78.5 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.5)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 12, 25, 3, 34, 58, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-12-25 03:34:58 UTC): :tada: This PR is included in version 14.78.5 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.5)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2755288380,pull_request,closed,,fix: Stock Entry uses incorrect company when generated from Pick List (backport #44679) (backport #44681),"Corrects the problem where the Stock Record associated with the Separation List uses the incorrect company.
The change ensures that the Stock Record uses the company of the original Material Requisition.
Steps to Reproduce
1 Create a Material Requisition of type ""Material Transfer"" for a specific company code (e.g. ""Company2"").
2 Create a Picking List from the Requisition.
3 Generate a Stock Entry from the Picking List.
4 Verify that the company code associated with the Stock Entry does not match the company code of the original Requisition (""Company2"").
Issue Location
The issue is likely located in the pick_list.py file (lines 865-878) of the ""erpnext.stock.doctype.pick_list"". module.
Proposed Solution
To fix this issue, it is suggested to change the line stock_entry.company = pick_list.get(""company"") to get the correct company code from the original Material Requisition.

https://github.com/frappe/erpnext/issues/44678
<hr>This is an automatic backport of pull request #44679 done by [Mergify](https://mergify.com).<hr>This is an automatic backport of pull request #44681 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-23 05:59:12+00:00,[],2025-01-07 00:19:18+00:00,2024-12-23 06:26:32+00:00,https://github.com/frappe/erpnext/pull/44836,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2755287270,pull_request,closed,,fix: Ledger repost support for extending app doctypes (backport #44825),"This assumes you know what you are doing when you add any new doctype to Repost Accounts Settings.
Currently, the reposting tool only supports ledger reposting only for a handful of doctypes.

Most of the accounting doctypes within and outside of the ERPNext app follow a similar pattern to post accounting entries and can be handled by a fallback logic.<hr>This is an automatic backport of pull request #44825 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-23 05:58:27+00:00,[],2025-01-07 00:19:37+00:00,2024-12-23 06:15:49+00:00,https://github.com/frappe/erpnext/pull/44835,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2755268414,pull_request,closed,,fix: permissions for marking Quotation as lost (backport #44644),"When marking a **Quotation** as lost, the user should be able to select a **Lost Reason** and a **Competitor**. I think everybody with write perms on **Quotation** should also be able to mark it as lost. Hence, they need read perms on **Lost Reason** and **Competitor**.<hr>This is an automatic backport of pull request #44644 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-23 05:42:08+00:00,['barredterra'],2025-01-07 00:20:43+00:00,2024-12-23 06:01:47+00:00,https://github.com/frappe/erpnext/pull/44834,[],"[{'comment_id': 2558949274, 'issue_id': 2755268414, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 4d5241486ffa426fe7b17be3354a93ae0896d730 has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-44644\nYour branch is up to date with \'origin/version-15-hotfix\'.\n\nYou are currently cherry-picking commit 4d5241486f.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/crm/doctype/competitor/competitor.json\n\tboth modified:   erpnext/setup/doctype/quotation_lost_reason/quotation_lost_reason.json\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 12, 23, 5, 42, 10, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-12-23 05:42:10 UTC): Cherry-pick of 4d5241486ffa426fe7b17be3354a93ae0896d730 has failed:
```
On branch mergify/bp/version-15-hotfix/pr-44644
Your branch is up to date with 'origin/version-15-hotfix'.

You are currently cherry-picking commit 4d5241486f.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/crm/doctype/competitor/competitor.json
	both modified:   erpnext/setup/doctype/quotation_lost_reason/quotation_lost_reason.json

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

"
2755268347,pull_request,closed,,fix: permissions for marking Quotation as lost (backport #44644),"When marking a **Quotation** as lost, the user should be able to select a **Lost Reason** and a **Competitor**. I think everybody with write perms on **Quotation** should also be able to mark it as lost. Hence, they need read perms on **Lost Reason** and **Competitor**.<hr>This is an automatic backport of pull request #44644 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-23 05:42:04+00:00,['barredterra'],2025-01-09 00:11:33+00:00,2024-12-23 06:11:56+00:00,https://github.com/frappe/erpnext/pull/44833,"[('released', None)]","[{'comment_id': 2558949235, 'issue_id': 2755268347, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 4d5241486ffa426fe7b17be3354a93ae0896d730 has failed:\n```\nOn branch mergify/bp/version-14-hotfix/pr-44644\nYour branch is up to date with \'origin/version-14-hotfix\'.\n\nYou are currently cherry-picking commit 4d5241486f.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/crm/doctype/competitor/competitor.json\n\tboth modified:   erpnext/setup/doctype/quotation_lost_reason/quotation_lost_reason.json\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 12, 23, 5, 42, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2561582444, 'issue_id': 2755268347, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.78.5 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.5)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 12, 25, 3, 35, 1, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-12-23 05:42:07 UTC): Cherry-pick of 4d5241486ffa426fe7b17be3354a93ae0896d730 has failed:
```
On branch mergify/bp/version-14-hotfix/pr-44644
Your branch is up to date with 'origin/version-14-hotfix'.

You are currently cherry-picking commit 4d5241486f.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/crm/doctype/competitor/competitor.json
	both modified:   erpnext/setup/doctype/quotation_lost_reason/quotation_lost_reason.json

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

frappe-pr-bot on (2024-12-25 03:35:01 UTC): :tada: This PR is included in version 14.78.5 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.5)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2755253445,pull_request,closed,,fix: incorrect Material Transferred for Manufacturing qty (backport #44823),"Steps to replicate issue

- Make work order with BOM having single operation and qty 2
- Keep the ""Transfer Material Against"" as ""Job Card""
- Against the job card make a stock entry for 2 quantity
- While finishing the job card keep the completed qty as 1 and process loss qty as 1
- Now try to make finish good entry, system will not add the finished good. <hr>This is an automatic backport of pull request #44823 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-23 05:28:42+00:00,['rohitwaghchaure'],2025-01-07 00:19:06+00:00,2024-12-23 08:08:22+00:00,https://github.com/frappe/erpnext/pull/44832,[],"[{'comment_id': 2558936537, 'issue_id': 2755253445, 'author': 'mergify[bot]', 'body': 'Cherry-pick of fe0036e707252f5842444a5cb728410cb81fe6ca has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-44823\nYour branch is up to date with \'origin/version-15-hotfix\'.\n\nYou are currently cherry-picking commit fe0036e707.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nChanges to be committed:\n\tmodified:   erpnext/manufacturing/doctype/work_order/test_work_order.py\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/manufacturing/doctype/job_card/job_card.py\n\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 12, 23, 5, 28, 44, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-12-23 05:28:44 UTC): Cherry-pick of fe0036e707252f5842444a5cb728410cb81fe6ca has failed:
```
On branch mergify/bp/version-15-hotfix/pr-44823
Your branch is up to date with 'origin/version-15-hotfix'.

You are currently cherry-picking commit fe0036e707.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Changes to be committed:
	modified:   erpnext/manufacturing/doctype/work_order/test_work_order.py

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/manufacturing/doctype/job_card/job_card.py

```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

"
2755215253,pull_request,closed,,fix: Remove typo from `Bank Account` on trash (backport #44826),Backport to : V-15 and V-14<hr>This is an automatic backport of pull request #44826 done by [Mergify](https://mergify.com).,mergify[bot],2024-12-23 04:52:28+00:00,[],2025-01-07 00:20:56+00:00,2024-12-23 05:56:20+00:00,https://github.com/frappe/erpnext/pull/44830,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2755214927,pull_request,closed,,fix: Remove typo from `Bank Account` on trash (backport #44826),Backport to : V-15 and V-14<hr>This is an automatic backport of pull request #44826 done by [Mergify](https://mergify.com).,mergify[bot],2024-12-23 04:52:07+00:00,[],2025-01-09 00:11:32+00:00,2024-12-23 05:56:30+00:00,https://github.com/frappe/erpnext/pull/44829,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2561582464, 'issue_id': 2755214927, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.78.5 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.5)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 12, 25, 3, 35, 4, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-12-25 03:35:04 UTC): :tada: This PR is included in version 14.78.5 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.5)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2755176374,pull_request,closed,,fix: Ledger repost support for extending app doctypes (backport #44825),"This assumes you know what you are doing when you add any new doctype to Repost Accounts Settings.
Currently, the reposting tool only supports ledger reposting only for a handful of doctypes.

Most of the accounting doctypes within and outside of the ERPNext app follow a similar pattern to post accounting entries and can be handled by a fallback logic.<hr>This is an automatic backport of pull request #44825 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-23 04:19:51+00:00,['deepeshgarg007'],2025-01-07 00:21:04+00:00,2024-12-23 04:49:08+00:00,https://github.com/frappe/erpnext/pull/44828,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2755154386,pull_request,open,,refactor: Budget validation ,"Fixing poor performance on Budget Validation
closes: [43939](https://github.com/frappe/erpnext/issues/43939)",ruthra-kumar,2024-12-23 03:57:03+00:00,[],2025-02-06 06:03:41+00:00,,https://github.com/frappe/erpnext/pull/44827,"[('buying', None), ('needs-tests', 'This PR needs automated unit-tests.'), ('inactive', ''), ('WIP', '')]","[{'comment_id': 2599597075, 'issue_id': 2755154386, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2025, 1, 18, 7, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2638918406, 'issue_id': 2755154386, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2025, 2, 6, 6, 3, 37, tzinfo=datetime.timezone.utc)}]","stale[bot] on (2025-01-18 07:45:00 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

stale[bot] on (2025-02-06 06:03:37 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

"
2755121649,pull_request,closed,,fix: Remove typo from `Bank Account` on trash,Backport to : V-15 and V-14,Abdeali099,2024-12-23 03:20:51+00:00,['ruthra-kumar'],2025-01-07 00:20:28+00:00,2024-12-23 04:51:25+00:00,https://github.com/frappe/erpnext/pull/44826,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2754702821,pull_request,closed,,fix: Ledger repost support for extending app doctypes,"This assumes you know what you are doing when you add any new doctype to Repost Accounts Settings.
Currently, the reposting tool only supports ledger reposting only for a handful of doctypes.

Most of the accounting doctypes within and outside of the ERPNext app follow a similar pattern to post accounting entries and can be handled by a fallback logic.",deepeshgarg007,2024-12-22 15:09:59+00:00,['ruthra-kumar'],2025-01-07 00:20:45+00:00,2024-12-23 04:14:43+00:00,https://github.com/frappe/erpnext/pull/44825,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]","[{'comment_id': 2558963597, 'issue_id': 2754702821, 'author': 'ruthra-kumar', 'body': '@mergify backport version-15', 'created_at': datetime.datetime(2024, 12, 23, 5, 57, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2558963643, 'issue_id': 2754702821, 'author': 'mergify[bot]', 'body': '> backport version-15\n\n#### ✅ Backports have been created\n\n<details>\n\n* [#44835 fix: Ledger repost support for extending app doctypes (backport #44825)](https://github.com/frappe/erpnext/pull/44835) has been created for branch `version-15`\n\n</details>\n\n\n<!---\nDO NOT EDIT\n-*- Mergify Payload -*-\n{""command"": ""backport version-15"", ""conclusion"": ""success"", ""action_is_running"": true}\n-*- Mergify Payload End -*-\n-->', 'created_at': datetime.datetime(2024, 12, 23, 5, 57, 18, tzinfo=datetime.timezone.utc)}]","ruthra-kumar (Assginee) on (2024-12-23 05:57:14 UTC): @mergify backport version-15

mergify[bot] on (2024-12-23 05:57:18 UTC): #### ✅ Backports have been created

<details>

* [#44835 fix: Ledger repost support for extending app doctypes (backport #44825)](https://github.com/frappe/erpnext/pull/44835) has been created for branch `version-15`

</details>


<!---
DO NOT EDIT
-*- Mergify Payload -*-
{""command"": ""backport version-15"", ""conclusion"": ""success"", ""action_is_running"": true}
-*- Mergify Payload End -*-
-->

"
2754672033,pull_request,closed,,Initial commit of custom ERPNext module,"<!--

Some key notes before you open a PR:

 1. Select which branch should this PR be merged in?
 2. PR name follows [convention](http://karma-runner.github.io/4.0/dev/git-commit-msg.html)
 3. All tests pass locally, UI and Unit tests
 4. All business logic and validations must be on the server-side
 5. Update necessary Documentation
 6. Put `closes #XXXX` in your comment to auto-close the issue that your PR fixes


Also, if you're new here

- Documentation Guidelines => https://github.com/frappe/erpnext/wiki/Updating-Documentation

- Contribution Guide => https://github.com/frappe/erpnext/blob/develop/.github/CONTRIBUTING.md

- Pull Request Checklist => https://github.com/frappe/erpnext/wiki/Pull-Request-Checklist

-->

> Please provide enough information so that others can review your pull request:

<!-- You can skip this if you're fixing a typo or updating existing documentation -->

> Explain the **details** for making this change. What existing problem does the pull request solve?

<!-- Example: When ""Adding a function to do X"", explain why it is necessary to have a way to do X. -->

> Screenshots/GIFs

<!-- Add images/recordings to better visualize the change: expected/current behviour -->
",Nothabeebi,2024-12-22 13:57:47+00:00,[],2025-01-06 00:12:05+00:00,2024-12-22 13:58:22+00:00,https://github.com/frappe/erpnext/pull/44824,"[('needs-tests', 'This PR needs automated unit-tests.')]","[{'comment_id': 2558465699, 'issue_id': 2754672033, 'author': 'mergify[bot]', 'body': 'This pull request has been automatically closed by Mergify.', 'created_at': datetime.datetime(2024, 12, 22, 13, 58, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2558465701, 'issue_id': 2754672033, 'author': 'mergify[bot]', 'body': '@Nothabeebi, thanks for the contribution, but we do not accept pull requests on a stable branch. Please raise PR on an appropriate hotfix branch.\nhttps://github.com/frappe/erpnext/wiki/Pull-Request-Checklist#which-branch', 'created_at': datetime.datetime(2024, 12, 22, 13, 58, 23, tzinfo=datetime.timezone.utc)}]","mergify[bot] on (2024-12-22 13:58:22 UTC): This pull request has been automatically closed by Mergify.

mergify[bot] on (2024-12-22 13:58:23 UTC): @Nothabeebi, thanks for the contribution, but we do not accept pull requests on a stable branch. Please raise PR on an appropriate hotfix branch.
https://github.com/frappe/erpnext/wiki/Pull-Request-Checklist#which-branch

"
2754605873,pull_request,closed,,fix: incorrect Material Transferred for Manufacturing qty,"Steps to replicate issue

- Make work order with BOM having single operation and qty 2
- Keep the ""Transfer Material Against"" as ""Job Card""
- Against the job card make a stock entry for 2 quantity
- While finishing the job card keep the completed qty as 1 and process loss qty as 1
- Now try to make finish good entry, system will not add the finished good. ",rohitwaghchaure,2024-12-22 11:12:12+00:00,[],2025-01-07 00:21:02+00:00,2024-12-23 05:27:47+00:00,https://github.com/frappe/erpnext/pull/44823,"[('backport version-15-hotfix', '')]",[],
2754571586,pull_request,closed,,chore: update POT file,,frappe-pr-bot,2024-12-22 09:35:04+00:00,[],2025-01-06 00:12:04+00:00,2024-12-22 14:09:01+00:00,https://github.com/frappe/erpnext/pull/44822,[],[],
2754174297,pull_request,closed,,fix: change string from Left to Ended and possibility to translate,"""Left"" is used in both Frappe and Erpnext for different meanings
Change it in Erpnext to ""Ended"" for more exact representation 

Backport to version-15 ",mahsem,2024-12-21 15:52:18+00:00,[],2025-01-11 00:10:34+00:00,2024-12-23 16:44:38+00:00,https://github.com/frappe/erpnext/pull/44817,"[('dont-merge', None), ('needs-tests', 'This PR needs automated unit-tests.')]","[{'comment_id': 2558175234, 'issue_id': 2754174297, 'author': 'mahsem', 'body': '> ""Left"" is used in both Frappe and Erpnext for different meanings Change it in Erpnext to ""Ended"" for more exact representation\r\n> \r\n> Backport to version-15\r\n\r\n@barredterra would this change be accepted', 'created_at': datetime.datetime(2024, 12, 21, 17, 3, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2558180502, 'issue_id': 2754174297, 'author': 'barredterra', 'body': ""Backport won't be possible, since this will break customisations"", 'created_at': datetime.datetime(2024, 12, 21, 17, 25, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2558241979, 'issue_id': 2754174297, 'author': 'mahsem', 'body': '> Backport won\'t be possible, since this will break customization\r\n\r\n@barredterra Maybe  change  ""Left"" in Frappe to ""Left Align"" .Is it possible to add context to  ""options"" ?', 'created_at': datetime.datetime(2024, 12, 21, 21, 12, 53, tzinfo=datetime.timezone.utc)}]","mahsem (Issue Creator) on (2024-12-21 17:03:47 UTC): @barredterra would this change be accepted

barredterra on (2024-12-21 17:25:35 UTC): Backport won't be possible, since this will break customisations

mahsem (Issue Creator) on (2024-12-21 21:12:53 UTC): @barredterra Maybe  change  ""Left"" in Frappe to ""Left Align"" .Is it possible to add context to  ""options"" ?

"
2754069638,pull_request,closed,,fix: strings for translation,Backport to version-15,mahsem,2024-12-21 14:09:46+00:00,['ruthra-kumar'],2025-01-11 00:10:37+00:00,2024-12-27 05:26:57+00:00,https://github.com/frappe/erpnext/pull/44816,"[('accounts', ''), ('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2753997051,pull_request,closed,,fix: relabel rate to tax rate,"Rate in those cases is Tax Rate

Backport to version 15",mahsem,2024-12-21 12:52:06+00:00,['ruthra-kumar'],2025-01-11 00:10:38+00:00,2024-12-27 05:24:30+00:00,https://github.com/frappe/erpnext/pull/44815,"[('backport version-15-hotfix', '')]",[],
2753751914,pull_request,closed,,fix: Duplicate entry ' EF1DE8B2E1B6' for key 'PRIMARY' (backport #44809),Whitespace in the serial number is causing a duplicate entry error when importing serial numbers and batches using a CSV file.<hr>This is an automatic backport of pull request #44809 done by [Mergify](https://mergify.com).,mergify[bot],2024-12-21 04:32:13+00:00,['rohitwaghchaure'],2025-01-05 00:12:13+00:00,2024-12-21 04:56:26+00:00,https://github.com/frappe/erpnext/pull/44814,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2752655881,pull_request,closed,,fix: update correct cost center in Accounts Receivable Report,"If there is a journal entry with the same accounts but a different cost centre Accounts Receivable shows an incorrect cost center.

Support Issue: https://support.frappe.io/app/hd-ticket/21671",vishakhdesai,2024-12-20 12:35:41+00:00,['ruthra-kumar'],2025-01-07 00:19:04+00:00,2024-12-23 08:50:28+00:00,https://github.com/frappe/erpnext/pull/44813,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]","[{'comment_id': 2556937479, 'issue_id': 2752655881, 'author': 'vishakhdesai', 'body': 'Related PR: https://github.com/frappe/erpnext/pull/43174', 'created_at': datetime.datetime(2024, 12, 20, 12, 45, 16, tzinfo=datetime.timezone.utc)}]","vishakhdesai (Issue Creator) on (2024-12-20 12:45:16 UTC): Related PR: https://github.com/frappe/erpnext/pull/43174

"
2752548015,pull_request,closed,,fix: sync translations from crowdin,,frappe-pr-bot,2024-12-20 11:32:45+00:00,[],2025-01-07 00:21:03+00:00,2024-12-23 04:51:55+00:00,https://github.com/frappe/erpnext/pull/44812,"[('translation', None)]",[],
2752267726,pull_request,closed,,fix!: ensure multiple PCVs in same fiscal year are considered in patch,Tested Locally ✅ ,sagarvora,2024-12-20 09:02:52+00:00,['ruthra-kumar'],2025-02-01 00:11:31+00:00,2025-01-17 11:30:41+00:00,https://github.com/frappe/erpnext/pull/44811,"[('backport version-15-hotfix', '')]","[{'comment_id': 2556713806, 'issue_id': 2752267726, 'author': 'ljain112', 'body': 'Frappe Support Issue: https://support.frappe.io/app/hd-ticket/24925', 'created_at': datetime.datetime(2024, 12, 20, 10, 27, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2565079427, 'issue_id': 2752267726, 'author': 'ruthra-kumar', 'body': '@ljain112 \r\n\r\nCould you post replication steps or the scenario where Account Closing Balance creation is missed? This might need some rigorous testing.', 'created_at': datetime.datetime(2024, 12, 30, 6, 33, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2565340066, 'issue_id': 2752267726, 'author': 'ljain112', 'body': ""> @ljain112\r\n> \r\n> Could you post replication steps or the scenario where Account Closing Balance creation is missed? This might need some rigorous testing.\r\n\r\nSteps to replicate:\r\n\r\n- Switch to v15.39.6 \r\n- Create an Expense Account.\r\n- Create a Journal Entry for the Expense.\r\n- Create PCV for the fiscal year.\r\n- Again Create a Journal Entry for expense with the same account.\r\n- Again Create PCV.\r\n- Switch to version 15 latest.\r\n\r\nIn version 15, the Account closing balance for the expense account will be incorrect because the closing balance will be as per only the first PCV.\r\n\r\nNew Logic:\r\n\r\n- change GL references of all PCVs in the period to be that of the first created (or last created) PCV for the period.\r\n- mark all PCVs except the first created as cancelled.\r\n- Recalculate account closing balance.\r\n\r\nNote: There is still the (rare) chance that the closing account head can be different. but it won't lead to big repercussions because (only the GLs won't match with what's written in doc, one can cancel and re-submit if they really want that consistency)\r\n\r\n\r\nRelated PR: https://github.com/frappe/erpnext/pull/43913, https://github.com/frappe/erpnext/pull/43913,"", 'created_at': datetime.datetime(2024, 12, 30, 11, 10, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2572652440, 'issue_id': 2752267726, 'author': 'ruthra-kumar', 'body': ""This is replicable on develop.\r\n\r\nSimpler replication:\r\n1. Make a Journal Entry on expense account on Q1 of a Fiscal Year.\r\n2. Close Q1 using PCV\r\n3. Make another Journal on Q1\r\n4. Close Q2\r\n\r\n\r\nedit: Was testing with bad data. On a clean setup, isn't replicable on develop"", 'created_at': datetime.datetime(2025, 1, 6, 9, 19, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2598121852, 'issue_id': 2752267726, 'author': 'ruthra-kumar', 'body': '@ljain112 \r\n\r\nDo we need a v14 backport?', 'created_at': datetime.datetime(2025, 1, 17, 11, 15, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2598150719, 'issue_id': 2752267726, 'author': 'ljain112', 'body': '> @ljain112\r\n> \r\n> Do we need a v14 backport?\r\n\r\nNo', 'created_at': datetime.datetime(2025, 1, 17, 11, 25, 5, tzinfo=datetime.timezone.utc)}]","ljain112 on (2024-12-20 10:27:34 UTC): Frappe Support Issue: https://support.frappe.io/app/hd-ticket/24925

ruthra-kumar (Assginee) on (2024-12-30 06:33:43 UTC): @ljain112 

Could you post replication steps or the scenario where Account Closing Balance creation is missed? This might need some rigorous testing.

ljain112 on (2024-12-30 11:10:17 UTC): Steps to replicate:

- Switch to v15.39.6 
- Create an Expense Account.
- Create a Journal Entry for the Expense.
- Create PCV for the fiscal year.
- Again Create a Journal Entry for expense with the same account.
- Again Create PCV.
- Switch to version 15 latest.

In version 15, the Account closing balance for the expense account will be incorrect because the closing balance will be as per only the first PCV.

New Logic:

- change GL references of all PCVs in the period to be that of the first created (or last created) PCV for the period.
- mark all PCVs except the first created as cancelled.
- Recalculate account closing balance.

Note: There is still the (rare) chance that the closing account head can be different. but it won't lead to big repercussions because (only the GLs won't match with what's written in doc, one can cancel and re-submit if they really want that consistency)


Related PR: https://github.com/frappe/erpnext/pull/43913, https://github.com/frappe/erpnext/pull/43913,

ruthra-kumar (Assginee) on (2025-01-06 09:19:45 UTC): This is replicable on develop.

Simpler replication:
1. Make a Journal Entry on expense account on Q1 of a Fiscal Year.
2. Close Q1 using PCV
3. Make another Journal on Q1
4. Close Q2


edit: Was testing with bad data. On a clean setup, isn't replicable on develop

ruthra-kumar (Assginee) on (2025-01-17 11:15:46 UTC): @ljain112 

Do we need a v14 backport?

ljain112 on (2025-01-17 11:25:05 UTC): No

"
2752234108,pull_request,closed,,fix: Swedish tax templates (backport #44703),Backport to version 15<hr>This is an automatic backport of pull request #44703 done by [Mergify](https://mergify.com).,mergify[bot],2024-12-20 08:42:41+00:00,[],2025-01-04 00:11:04+00:00,2024-12-20 09:02:41+00:00,https://github.com/frappe/erpnext/pull/44810,[],[],
2752177889,pull_request,closed,,fix: Duplicate entry ' EF1DE8B2E1B6' for key 'PRIMARY',Whitespace in the serial number is causing a duplicate entry error when importing serial numbers and batches using a CSV file.,rohitwaghchaure,2024-12-20 08:06:33+00:00,[],2025-01-05 00:12:14+00:00,2024-12-21 04:31:13+00:00,https://github.com/frappe/erpnext/pull/44809,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2752172441,pull_request,closed,,feat: Added difference_posting_date field in Sales Invoice Advance and Purchase Invoice Advance,"**Issue:**
unable to select posting date of the exchange gain/loss journal while linking advance  payment in invoice

**Solution:**
Added difference_posting_date field in Sales Invoice Advance and Purchase Invoice Advance

**Before:**

[before.webm](https://github.com/user-attachments/assets/9c1b5f64-7626-426f-b36c-4be14913593a)

**After:**

[after.webm](https://github.com/user-attachments/assets/6cbc6791-1a7a-4896-b5ab-7ed2f3099b83)

**Backport needed for v15**",rs-rethik,2024-12-20 08:02:48+00:00,['ruthra-kumar'],2025-01-21 06:52:43+00:00,2024-12-23 08:39:07+00:00,https://github.com/frappe/erpnext/pull/44808,"[('accounts', ''), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]","[{'comment_id': 2558968938, 'issue_id': 2752172441, 'author': 'ruthra-kumar', 'body': '@rs-rethik \r\n\r\nIs this ready for review?', 'created_at': datetime.datetime(2024, 12, 23, 6, 2, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2559021427, 'issue_id': 2752172441, 'author': 'rs-rethik', 'body': '> @rs-rethik\r\n> \r\n> Is this ready for review?\r\n\r\nYes', 'created_at': datetime.datetime(2024, 12, 23, 6, 49, 47, tzinfo=datetime.timezone.utc)}]","ruthra-kumar (Assginee) on (2024-12-23 06:02:23 UTC): @rs-rethik 

Is this ready for review?

rs-rethik (Issue Creator) on (2024-12-23 06:49:47 UTC): Yes

"
2752039067,pull_request,closed,,fix: add Swedish_2024_COA (backport #44665),"Swedish COA

https://www.bas.se/english/

Backport to version 15 <hr>This is an automatic backport of pull request #44665 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-20 06:27:16+00:00,[],2025-01-04 00:11:05+00:00,2024-12-20 06:54:44+00:00,https://github.com/frappe/erpnext/pull/44807,[],[],
2751925584,pull_request,closed,,fix: slow posting datetime update (backport #44799),"<img width=""663"" alt=""image"" src=""https://github.com/user-attachments/assets/25d2ae5e-5f0a-4982-a0aa-1da629a9d423"" />
<hr>This is an automatic backport of pull request #44799 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-20 04:43:48+00:00,['rohitwaghchaure'],2025-01-04 00:11:02+00:00,2024-12-20 14:08:52+00:00,https://github.com/frappe/erpnext/pull/44805,"[('stock', None)]",[],
2751925303,pull_request,closed,,fix: slow posting datetime update (backport #44799),"<img width=""663"" alt=""image"" src=""https://github.com/user-attachments/assets/25d2ae5e-5f0a-4982-a0aa-1da629a9d423"" />
<hr>This is an automatic backport of pull request #44799 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-20 04:43:30+00:00,['rohitwaghchaure'],2025-01-09 00:11:30+00:00,2024-12-20 08:07:00+00:00,https://github.com/frappe/erpnext/pull/44804,"[('released', None)]","[{'comment_id': 2556275054, 'issue_id': 2751925303, 'author': 'mergify[bot]', 'body': 'Cherry-pick of a7b5e2565bf93b5d08d754b3e6765fef97ab70b6 has failed:\n```\nOn branch mergify/bp/version-14-hotfix/pr-44799\nYour branch is up to date with \'origin/version-14-hotfix\'.\n\nYou are currently cherry-picking commit a7b5e2565b.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add/rm <file>..."" as appropriate to mark resolution)\n\tdeleted by us:   erpnext/stock/doctype/serial_and_batch_bundle/test_serial_and_batch_bundle.py\n\tboth modified:   erpnext/stock/doctype/stock_ledger_entry/stock_ledger_entry.py\n\tboth modified:   erpnext/stock/doctype/stock_reconciliation/test_stock_reconciliation.py\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 12, 20, 4, 43, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2561582500, 'issue_id': 2751925303, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.78.5 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.5)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 12, 25, 3, 35, 10, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-12-20 04:43:32 UTC): Cherry-pick of a7b5e2565bf93b5d08d754b3e6765fef97ab70b6 has failed:
```
On branch mergify/bp/version-14-hotfix/pr-44799
Your branch is up to date with 'origin/version-14-hotfix'.

You are currently cherry-picking commit a7b5e2565b.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add/rm <file>..."" as appropriate to mark resolution)
	deleted by us:   erpnext/stock/doctype/serial_and_batch_bundle/test_serial_and_batch_bundle.py
	both modified:   erpnext/stock/doctype/stock_ledger_entry/stock_ledger_entry.py
	both modified:   erpnext/stock/doctype/stock_reconciliation/test_stock_reconciliation.py

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

frappe-pr-bot on (2024-12-25 03:35:10 UTC): :tada: This PR is included in version 14.78.5 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.5)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2750719169,pull_request,closed,,Stock Entry not getting correct operating cost if less qty is produced,"<!--

Some key notes before you open a PR:

 1. Select which branch should this PR be merged in?
 2. PR name follows [convention](http://karma-runner.github.io/4.0/dev/git-commit-msg.html)
 3. All tests pass locally, UI and Unit tests
 4. All business logic and validations must be on the server-side
 5. Update necessary Documentation
 6. Put `closes #XXXX` in your comment to auto-close the issue that your PR fixes


Also, if you're new here

- Documentation Guidelines => https://github.com/frappe/erpnext/wiki/Updating-Documentation

- Contribution Guide => https://github.com/frappe/erpnext/blob/develop/.github/CONTRIBUTING.md

- Pull Request Checklist => https://github.com/frappe/erpnext/wiki/Pull-Request-Checklist

-->

> Please provide enough information so that others can review your pull request:

<!-- You can skip this if you're fixing a typo or updating existing documentation -->

> Explain the **details** for making this change. What existing problem does the pull request solve?

<!-- Example: When ""Adding a function to do X"", explain why it is necessary to have a way to do X. -->

> Screenshots/GIFs

<!-- Add images/recordings to better visualize the change: expected/current behviour -->
",ramonus,2024-12-19 15:37:34+00:00,[],2025-01-06 00:12:06+00:00,2024-12-22 10:54:07+00:00,https://github.com/frappe/erpnext/pull/44801,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2750688504,pull_request,closed,,fix: attribute order in create multiple variants dialog,"In Item , **Create >  Multiple Variants** dialog displays Attributes in Different Order each time

https://github.com/user-attachments/assets/4af99638-bee8-4cb9-885a-aab3e3a6cd3e

Replaced [this](https://github.com/frappe/erpnext/blob/3662a6a41d2e1e4631c964dffa4d215542a38af1/erpnext/stock/doctype/item/item.js#L548) with `
frm.doc.attributes.map(idx => idx.attribute)
`

https://github.com/user-attachments/assets/01ae5b13-f645-4260-b636-380408c6946d


This pull request includes a change to the `erpnext/stock/doctype/item/item.js` file. The modification improves the way attribute keys are handled when creating fields from attribute values.

* [`erpnext/stock/doctype/item/item.js`](diffhunk://#diff-58fff835aa996507507ac95e98c025f7eb4b152fdd547045755a374c13641679L548-R549): Changed the method of iterating over attribute keys by using `frm.doc.attributes.map(idx => idx.attribute)` instead of `Object.keys(attr_dict)`.
",ShreyasTheNewbie,2024-12-19 15:27:02+00:00,['ruthra-kumar'],2025-01-11 00:10:53+00:00,2024-12-27 05:23:17+00:00,https://github.com/frappe/erpnext/pull/44800,[],[],
2750671658,pull_request,closed,,fix: slow posting datetime update,"<img width=""663"" alt=""image"" src=""https://github.com/user-attachments/assets/25d2ae5e-5f0a-4982-a0aa-1da629a9d423"" />
",rohitwaghchaure,2024-12-19 15:21:08+00:00,[],2025-01-04 00:11:08+00:00,2024-12-20 04:42:12+00:00,https://github.com/frappe/erpnext/pull/44799,"[('stock', None), ('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2750139198,pull_request,closed,,fix: update  discounting on mixed conditions,"Issue:
The rate is not updating properly on other items when the mixed condition is enabled

ref: [20888](https://support.frappe.io/helpdesk/tickets/20888)
reverting this  #43064  due to regression

**Solution:** updating fields based on rate_or_discount in Pricing Rule
**Before:**

[Screencast from 24-12-24 01:51:39 PM IST.webm](https://github.com/user-attachments/assets/8df38f55-c319-4b66-9797-503df6908f39)

**After:**

[Screencast from 24-12-24 01:53:56 PM IST.webm](https://github.com/user-attachments/assets/9823926f-1d5e-4afd-a376-60db467617a1)


Backport needed for v15

",DHINESH00,2024-12-19 12:17:13+00:00,['ruthra-kumar'],2025-01-29 00:10:30+00:00,2025-01-14 04:28:04+00:00,https://github.com/frappe/erpnext/pull/44798,"[('backport version-15-hotfix', '')]",[],
2750100048,pull_request,closed,,fix(ux): purchase invoice link in error message,"**Before**

![Screenshot 2024-12-19 053114](https://github.com/user-attachments/assets/03b2e0b9-4243-4c80-b4d9-2330d0ffcc88)

**After**

![Screenshot 2024-12-19 053154](https://github.com/user-attachments/assets/3db2c9df-12c1-4d10-b94c-34305407c9d7)
",nijithanil,2024-12-19 12:03:40+00:00,['ruthra-kumar'],2025-01-07 00:19:01+00:00,2024-12-23 09:18:33+00:00,https://github.com/frappe/erpnext/pull/44797,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2750068700,pull_request,closed,,fix: Ledger repost support for extending app doctypes,"This assumes you know what you are doing when you add any new doctype to Repost Accounts Settings.
Currently, the reposting tool only supports ledger reposting only for a handful of doctypes.

Most of the accounting doctypes within and outside of the ERPNext app follow a similar pattern to post accounting entries and can be handled by a fallback logic.


",deepeshgarg007,2024-12-19 11:52:04+00:00,[],2025-01-06 00:12:03+00:00,2024-12-22 15:10:15+00:00,https://github.com/frappe/erpnext/pull/44796,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2750031405,pull_request,closed,,fix: sync translations from crowdin,,frappe-pr-bot,2024-12-19 11:35:24+00:00,['ruthra-kumar'],2025-01-04 00:11:07+00:00,2024-12-20 06:44:33+00:00,https://github.com/frappe/erpnext/pull/44795,"[('translation', None)]",[],
2749931492,pull_request,closed,,fix: correct tds rate with lower deduction certificate,"Issue:
The tax withholding rate is incorrect if tax withholding from_date doesn't match with lower deduction certificate period.
Steps to replicate:
- Create a tax withholding category with period 1-10-2024 to 31-3-2025.
- Create a Supplier with a tax withholding category.
- Create a Lower Deduction Certification for the supplier,valid from 1-4-2024  and valid up to 31-3-2025.
- Even though LDC is valid and within the period, it will not be applied due to incorrect date filters.

Solution:
Validating LDC based on inv date. 

Frappe Support Issue: https://support.frappe.io/app/hd-ticket/27014

backport version-15-hotfix
backport version-14-hotfix
",ljain112,2024-12-19 10:51:06+00:00,['ruthra-kumar'],2025-01-08 00:11:32+00:00,2024-12-24 08:14:30+00:00,https://github.com/frappe/erpnext/pull/44794,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2749737741,pull_request,closed,,fix: closing stock balance permissions (backport #44791),Submit button not showing for the closing stock balance<hr>This is an automatic backport of pull request #44791 done by [Mergify](https://mergify.com).,mergify[bot],2024-12-19 09:31:51+00:00,['rohitwaghchaure'],2025-01-04 00:11:09+00:00,2024-12-20 04:05:51+00:00,https://github.com/frappe/erpnext/pull/44793,[],"[{'comment_id': 2553190534, 'issue_id': 2749737741, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 3662a6a41d2e1e4631c964dffa4d215542a38af1 has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-44791\nYour branch is up to date with \'origin/version-15-hotfix\'.\n\nYou are currently cherry-picking commit 3662a6a41d.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/stock/doctype/closing_stock_balance/closing_stock_balance.json\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 12, 19, 9, 31, 53, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-12-19 09:31:53 UTC): Cherry-pick of 3662a6a41d2e1e4631c964dffa4d215542a38af1 has failed:
```
On branch mergify/bp/version-15-hotfix/pr-44791
Your branch is up to date with 'origin/version-15-hotfix'.

You are currently cherry-picking commit 3662a6a41d.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/stock/doctype/closing_stock_balance/closing_stock_balance.json

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

"
2749737614,pull_request,closed,,fix: closing stock balance permissions (backport #44791),Submit button not showing for the closing stock balance<hr>This is an automatic backport of pull request #44791 done by [Mergify](https://mergify.com).,mergify[bot],2024-12-19 09:31:47+00:00,['rohitwaghchaure'],2025-01-09 00:11:31+00:00,2024-12-23 05:24:34+00:00,https://github.com/frappe/erpnext/pull/44792,"[('conflicts', None), ('released', None)]","[{'comment_id': 2553190397, 'issue_id': 2749737614, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 3662a6a41d2e1e4631c964dffa4d215542a38af1 has failed:\n```\nOn branch mergify/bp/version-14-hotfix/pr-44791\nYour branch is up to date with \'origin/version-14-hotfix\'.\n\nYou are currently cherry-picking commit 3662a6a41d.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/stock/doctype/closing_stock_balance/closing_stock_balance.json\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 12, 19, 9, 31, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2561582483, 'issue_id': 2749737614, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.78.5 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.5)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 12, 25, 3, 35, 7, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-12-19 09:31:49 UTC): Cherry-pick of 3662a6a41d2e1e4631c964dffa4d215542a38af1 has failed:
```
On branch mergify/bp/version-14-hotfix/pr-44791
Your branch is up to date with 'origin/version-14-hotfix'.

You are currently cherry-picking commit 3662a6a41d.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/stock/doctype/closing_stock_balance/closing_stock_balance.json

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

frappe-pr-bot on (2024-12-25 03:35:07 UTC): :tada: This PR is included in version 14.78.5 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.5)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2749578003,pull_request,closed,,fix: closing stock balance permissions,Submit button not showing for the closing stock balance,rohitwaghchaure,2024-12-19 08:20:14+00:00,[],2025-01-03 00:11:15+00:00,2024-12-19 09:29:33+00:00,https://github.com/frappe/erpnext/pull/44791,"[('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2749556379,pull_request,closed,,refactor: configurable posting date for Exc Gain / Loss journal,"# Issue
Consider a situation were the payment and invoice are both in locked period. If it is a forex transaction and if they incur any exchange gain / loss, system tries to create a Journal in the payment date to capture that gain / loss. This will fail due to the period being locked.
```
| Oct (Locked) | Nov (Locked) | Dec            |
|--------------+--------------+----------------|
| Payment      | Invoice      | Reconciliation |
```

# Configurable Exchange Gain / Loss posting date (Only applies for Normal Payments)
![Screenshot from 2025-01-23 16-23-00](https://github.com/user-attachments/assets/71da8266-8215-4d5e-90a0-5fd0a56f8782)

todo:
- [x] patch to set default config value
- [x] Test cases
- [x] Support Gain / Loss JE posting date configuration in Semi-Auto Reconciliation tool


ref: https://support.frappe.io/helpdesk/tickets/28039",ruthra-kumar,2024-12-19 08:10:49+00:00,['ruthra-kumar'],2025-02-03 07:27:48+00:00,2025-01-23 10:58:22+00:00,https://github.com/frappe/erpnext/pull/44790,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]","[{'comment_id': 2571516977, 'issue_id': 2749556379, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2025, 1, 5, 6, 16, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604286010, 'issue_id': 2749556379, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2025, 1, 21, 10, 17, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2611581123, 'issue_id': 2749556379, 'author': 'ruthra-kumar', 'body': '@mergify backport version-15', 'created_at': datetime.datetime(2025, 1, 24, 4, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2611581495, 'issue_id': 2749556379, 'author': 'mergify[bot]', 'body': '> backport version-15\n\n#### ✅ Backports have been created\n\n<details>\n\n* [#45413 refactor: configurable posting date for Exc Gain / Loss journal (backport #44790)](https://github.com/frappe/erpnext/pull/45413) has been created for branch `version-15` but encountered conflicts\n\n</details>\n\n\n<!---\nDO NOT EDIT\n-*- Mergify Payload -*-\n{""command"": ""backport version-15"", ""conclusion"": ""success"", ""action_is_running"": true}\n-*- Mergify Payload End -*-\n-->', 'created_at': datetime.datetime(2025, 1, 24, 4, 50, 6, tzinfo=datetime.timezone.utc)}]","stale[bot] on (2025-01-05 06:16:34 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

stale[bot] on (2025-01-21 10:17:57 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

ruthra-kumar (Issue Creator) on (2025-01-24 04:50:00 UTC): @mergify backport version-15

mergify[bot] on (2025-01-24 04:50:06 UTC): #### ✅ Backports have been created

<details>

* [#45413 refactor: configurable posting date for Exc Gain / Loss journal (backport #44790)](https://github.com/frappe/erpnext/pull/45413) has been created for branch `version-15` but encountered conflicts

</details>


<!---
DO NOT EDIT
-*- Mergify Payload -*-
{""command"": ""backport version-15"", ""conclusion"": ""success"", ""action_is_running"": true}
-*- Mergify Payload End -*-
-->

"
2749486752,pull_request,closed,,perf: SABB (backport #44764),"### **Issue**
<img width=""857"" alt=""Screenshot 2024-12-18 at 1 01 47 PM"" src=""https://github.com/user-attachments/assets/801f145f-4757-4728-9263-158a9f354dd3"" />


### **After Fix**

#### 131 Sec -> 63 Sec

<img width=""888"" alt=""Screenshot 2024-12-19 at 8 52 41 AM"" src=""https://github.com/user-attachments/assets/796d0bee-0a65-41c3-aead-32f63e44fb7c"" />

<hr>This is an automatic backport of pull request #44764 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-19 07:31:45+00:00,['rohitwaghchaure'],2025-01-03 00:11:17+00:00,2024-12-19 08:01:29+00:00,https://github.com/frappe/erpnext/pull/44789,"[('stock', None), ('needs-tests', 'This PR needs automated unit-tests.')]",[],
2749418708,pull_request,closed,,fix: refactor query in`get_total_allocated_amount` in bank_transaction,"Issue: https://support.frappe.io/app/hd-ticket/26093

Before:
<img width=""727"" alt=""image"" src=""https://github.com/user-attachments/assets/35f17bba-f2b2-4e90-a229-83f893f48d72"" />

After:
<img width=""728"" alt=""image"" src=""https://github.com/user-attachments/assets/5a4cc203-cd55-4a7d-9841-6e0821cdc95d"" />


",vishakhdesai,2024-12-19 06:52:08+00:00,['ruthra-kumar'],2025-01-14 00:10:04+00:00,2024-12-24 12:22:30+00:00,https://github.com/frappe/erpnext/pull/44787,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]","[{'comment_id': 2565313412, 'issue_id': 2749418708, 'author': 'ruthra-kumar', 'body': 'manual v14 backport https://github.com/frappe/erpnext/pull/44962', 'created_at': datetime.datetime(2024, 12, 30, 10, 46, 27, tzinfo=datetime.timezone.utc)}]","ruthra-kumar (Assginee) on (2024-12-30 10:46:27 UTC): manual v14 backport https://github.com/frappe/erpnext/pull/44962

"
2749412498,pull_request,closed,,fix: correct args for get_advance_payment_entries_for_regional,"Related PR:https://github.com/frappe/erpnext/pull/44545

Args sequence got incorrect due to the mentioned PR.

![image](https://github.com/user-attachments/assets/9138f288-def9-4212-9cff-50cebd764cb5)



Steps to Replicate:
- Enable ""Book Advance Payments in Separate Party Account"".
- Create a Sales Order.
- Make Payment Against Sales Order
- Create a Sales Invoice against the Sales Order
- Message with incorrect Sales Order will be shown.

backport version-15-hotfix


",ljain112,2024-12-19 06:47:59+00:00,['ruthra-kumar'],2025-01-07 00:19:10+00:00,2024-12-23 07:27:43+00:00,https://github.com/frappe/erpnext/pull/44786,"[('accounts', ''), ('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2749288276,pull_request,closed,,chore: expand screenshot section by default,,ruthra-kumar,2024-12-19 05:20:40+00:00,[],2025-01-03 00:11:20+00:00,2024-12-19 05:25:45+00:00,https://github.com/frappe/erpnext/pull/44785,[],[],
2748255129,pull_request,closed,,better description of pay button in order.html,,mahsem,2024-12-18 16:25:19+00:00,['ruthra-kumar'],2025-01-10 00:11:22+00:00,2024-12-23 07:25:43+00:00,https://github.com/frappe/erpnext/pull/44784,[],"[{'comment_id': 2559063608, 'issue_id': 2748255129, 'author': 'ruthra-kumar', 'body': ""Button label don't have to be descriptive."", 'created_at': datetime.datetime(2024, 12, 23, 7, 25, 43, tzinfo=datetime.timezone.utc)}]","ruthra-kumar (Assginee) on (2024-12-23 07:25:43 UTC): Button label don't have to be descriptive.

"
2748112931,pull_request,closed,,fix: do not reset picked items,"If the picked qty has set then don't override the picked batches or qty


https://github.com/user-attachments/assets/f739dedb-1e6a-4d7e-8801-fb674d2fd82a

",rohitwaghchaure,2024-12-18 15:24:56+00:00,[],2025-02-02 00:11:12+00:00,2025-01-18 08:52:54+00:00,https://github.com/frappe/erpnext/pull/44783,"[('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]","[{'comment_id': 2571516974, 'issue_id': 2748112931, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2025, 1, 5, 6, 16, 33, tzinfo=datetime.timezone.utc)}]","stale[bot] on (2025-01-05 06:16:33 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

"
2748076919,pull_request,closed,,feat(subcontracting): Added provision to create multiple Subcontracting Orders against a single Purchase Order (backport #44711),"Made changes to fulfil issue #43986 

Current flow: Only a single Subcontracting Order could be made against a Subcontracted Purchase Order

New flow: User can now create multiple Subcontracting Orders against a single Purchase Order

1. Checks for existing Subcontracting Order has been removed
2. Upon creating a new Subcontracting Order, a new check has been added which will throw and error if user is trying to create a new SO against a PO which has been fully subcontracted

How to use: When creating a Subcontracting Order, user now has the ability to change the quantity of finished good item, hence enabling them to create a SO which partly fulfils the corresponding PO

Notes:

1. An error will be thrown if quantity entered is higher than available subcontracting quantity (fetched from the PO)
2. Upon creating a new Subcontracted Order, the line items will by default have the quantity as the remaining/available quantity to subcontract

https://docs.frappe.io/erpnext/user/manual/en/subcontracting<hr>This is an automatic backport of pull request #44711 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-18 15:10:06+00:00,['mihir-kandoi'],2025-01-04 00:11:06+00:00,2024-12-20 06:48:01+00:00,https://github.com/frappe/erpnext/pull/44782,[],"[{'comment_id': 2551574763, 'issue_id': 2748076919, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 3eba6bf3ddcf911638681a83522e4e47196183ae has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-44711\nYour branch is up to date with \'origin/version-15-hotfix\'.\n\nYou are currently cherry-picking commit 3eba6bf3dd.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nChanges to be committed:\n\tmodified:   erpnext/buying/doctype/purchase_order/purchase_order.py\n\tmodified:   erpnext/buying/doctype/purchase_order_item/purchase_order_item.py\n\tmodified:   erpnext/controllers/subcontracting_controller.py\n\tmodified:   erpnext/controllers/tests/test_subcontracting_controller.py\n\tmodified:   erpnext/subcontracting/doctype/subcontracting_order/subcontracting_order.js\n\tmodified:   erpnext/subcontracting/doctype/subcontracting_order/subcontracting_order.py\n\tmodified:   erpnext/subcontracting/doctype/subcontracting_order/test_subcontracting_order.py\n\tmodified:   erpnext/subcontracting/doctype/subcontracting_order_item/subcontracting_order_item.py\n\tmodified:   erpnext/subcontracting/doctype/subcontracting_order_service_item/subcontracting_order_service_item.py\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/buying/doctype/purchase_order/purchase_order.js\n\tboth modified:   erpnext/buying/doctype/purchase_order/test_purchase_order.py\n\tboth modified:   erpnext/buying/doctype/purchase_order_item/purchase_order_item.json\n\tboth modified:   erpnext/subcontracting/doctype/subcontracting_order_item/subcontracting_order_item.json\n\tboth modified:   erpnext/subcontracting/doctype/subcontracting_order_service_item/subcontracting_order_service_item.json\n\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 12, 18, 15, 10, 10, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-12-18 15:10:10 UTC): Cherry-pick of 3eba6bf3ddcf911638681a83522e4e47196183ae has failed:
```
On branch mergify/bp/version-15-hotfix/pr-44711
Your branch is up to date with 'origin/version-15-hotfix'.

You are currently cherry-picking commit 3eba6bf3dd.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Changes to be committed:
	modified:   erpnext/buying/doctype/purchase_order/purchase_order.py
	modified:   erpnext/buying/doctype/purchase_order_item/purchase_order_item.py
	modified:   erpnext/controllers/subcontracting_controller.py
	modified:   erpnext/controllers/tests/test_subcontracting_controller.py
	modified:   erpnext/subcontracting/doctype/subcontracting_order/subcontracting_order.js
	modified:   erpnext/subcontracting/doctype/subcontracting_order/subcontracting_order.py
	modified:   erpnext/subcontracting/doctype/subcontracting_order/test_subcontracting_order.py
	modified:   erpnext/subcontracting/doctype/subcontracting_order_item/subcontracting_order_item.py
	modified:   erpnext/subcontracting/doctype/subcontracting_order_service_item/subcontracting_order_service_item.py

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/buying/doctype/purchase_order/purchase_order.js
	both modified:   erpnext/buying/doctype/purchase_order/test_purchase_order.py
	both modified:   erpnext/buying/doctype/purchase_order_item/purchase_order_item.json
	both modified:   erpnext/subcontracting/doctype/subcontracting_order_item/subcontracting_order_item.json
	both modified:   erpnext/subcontracting/doctype/subcontracting_order_service_item/subcontracting_order_service_item.json

```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

"
2748029966,pull_request,closed,,fix: POS Closing entry issue (backport #44772),"**Issue**

<img width=""800"" alt=""image"" src=""https://github.com/user-attachments/assets/c134ac50-f6a5-4109-b615-72c2c4663467"" />
<hr>This is an automatic backport of pull request #44772 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-18 14:51:52+00:00,['rohitwaghchaure'],2025-01-03 00:11:21+00:00,2024-12-18 15:08:56+00:00,https://github.com/frappe/erpnext/pull/44781,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2747868309,pull_request,closed,,fix: add `Stock UOM` when adding new item in POS list,"## Issue: [Frappe Support - 27653](https://support.frappe.io/helpdesk/tickets/27653)

<details>

<summary> <strong>Error Log </strong> </summary>

```
TypeError: e.stock_uom is undefined
    check_stock_availability point-of-sale line 294 > injectedScript:308
    on_cart_update point-of-sale line 294 > injectedScript:308
    item_selected point-of-sale line 294 > injectedScript:306
    bind_events point-of-sale line 294 > injectedScript:38
    jQuery 8
    bind_events point-of-sale line 294 > injectedScript:38
    inti_component point-of-sale line 294 > injectedScript:1
    <anonymous> point-of-sale line 294 > injectedScript:1
    init_item_selector point-of-sale line 294 > injectedScript:306
    prepare_components point-of-sale line 294 > injectedScript:306
    make_app point-of-sale line 294 > injectedScript:306
    callback point-of-sale line 294 > injectedScript:302
    e request.js:85
    200 request.js:133
    call request.js:305
    jQuery 6
    call request.js:279
    call request.js:109
    prepare_app_defaults point-of-sale line 294 > injectedScript:302
    check_opening_entry point-of-sale line 294 > injectedScript:302
    jQuery 12
    call request.js:279
    call request.js:109
    fetch_opening_entry point-of-sale line 294 > injectedScript:302
    check_opening_entry point-of-sale line 294 > injectedScript:302
    <anonymous> point-of-sale line 294 > injectedScript:302
    on_page_load point_of_sale.js:11
    require assets.js:17
    execute assets.js:114
    promise callback*execute assets.js:108
    require assets.js:15
    require assets.js:14
    on_page_load point_of_sale.js:10
point-of-sale line 294 > injectedScript:308:464

```

</details>

--- 

### Failure Line

https://github.com/frappe/erpnext/blob/6f99e9959d06c60cf2c59f7aee46d675cd8d3b50/erpnext/selling/page/point_of_sale/pos_controller.js#L698

### Root cause of Issue

In PR #44320, if enough stock is not available, the error message shows `Stock UOM` instead of `UOM` to get accurate stock details.

Arguments for creating a new item row when selecting:

https://github.com/frappe/erpnext/blob/6f99e9959d06c60cf2c59f7aee46d675cd8d3b50/erpnext/selling/page/point_of_sale/pos_controller.js#L577 

https://github.com/frappe/erpnext/blob/6f99e9959d06c60cf2c59f7aee46d675cd8d3b50/erpnext/selling/page/point_of_sale/pos_controller.js#L589

These args does not have `stock_uom`.

> [!IMPORTANT]
> Backport to Version-15

",Abdeali099,2024-12-18 13:47:38+00:00,['ruthra-kumar'],2025-01-08 00:11:38+00:00,2024-12-24 04:52:32+00:00,https://github.com/frappe/erpnext/pull/44780,"[('backport version-15-hotfix', '')]","[{'comment_id': 2558972878, 'issue_id': 2747868309, 'author': 'Abdeali099', 'body': '@ruthra-kumar can you review this?', 'created_at': datetime.datetime(2024, 12, 23, 6, 6, tzinfo=datetime.timezone.utc)}]","Abdeali099 (Issue Creator) on (2024-12-23 06:06:00 UTC): @ruthra-kumar can you review this?

"
2747622759,pull_request,closed,,fix: added docs.frappe.io in documentation_url (backport #44776),Added docs.frappe.io in documentation_url<hr>This is an automatic backport of pull request #44776 done by [Mergify](https://mergify.com).,mergify[bot],2024-12-18 11:59:53+00:00,['nabinhait'],2025-01-03 00:11:25+00:00,2024-12-18 12:23:31+00:00,https://github.com/frappe/erpnext/pull/44778,[],[],
2747622232,pull_request,closed,,fix: added docs.frappe.io in documentation_url (backport #44776),Added docs.frappe.io in documentation_url<hr>This is an automatic backport of pull request #44776 done by [Mergify](https://mergify.com).,mergify[bot],2024-12-18 11:59:36+00:00,['nabinhait'],2025-01-09 00:11:29+00:00,2024-12-18 12:23:23+00:00,https://github.com/frappe/erpnext/pull/44777,"[('released', None)]","[{'comment_id': 2561582525, 'issue_id': 2747622232, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.78.5 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.5)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 12, 25, 3, 35, 13, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-12-25 03:35:13 UTC): :tada: This PR is included in version 14.78.5 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.5)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2747571744,pull_request,closed,,fix: added docs.frappe.io in documentation_url,Added docs.frappe.io in documentation_url,nabinhait,2024-12-18 11:36:24+00:00,[],2025-01-03 00:11:26+00:00,2024-12-18 11:58:23+00:00,https://github.com/frappe/erpnext/pull/44776,"[('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2747540071,pull_request,closed,,feat: apply tax withholding on net total,"**Issue:**
apply tax withholding on net total
ref: [25576](https://support.frappe.io/helpdesk/tickets/25576)

**Before:**

[Screencast from 18-12-24 04:27:00 PM IST.webm](https://github.com/user-attachments/assets/68ed288f-14c7-44db-88b0-be47cb9b6efe)

**After:**

[Screencast from 18-12-24 04:29:30 PM IST.webm](https://github.com/user-attachments/assets/c28b6063-84af-4802-a44e-651f165353b7)



**Backport needed for v15** 
",DHINESH00,2024-12-18 11:21:25+00:00,['ruthra-kumar'],2025-01-08 00:11:34+00:00,2024-12-24 07:26:20+00:00,https://github.com/frappe/erpnext/pull/44775,[],"[{'comment_id': 2560766126, 'issue_id': 2747540071, 'author': 'Vigneshsekar', 'body': '@DHINESH00 , Let us please close this PR and include this feature as a part of our plan in the minor refactoring of Tax Withholding Category.', 'created_at': datetime.datetime(2024, 12, 24, 7, 22, 34, tzinfo=datetime.timezone.utc)}]","Vigneshsekar on (2024-12-24 07:22:34 UTC): @DHINESH00 , Let us please close this PR and include this feature as a part of our plan in the minor refactoring of Tax Withholding Category.

"
2747503546,pull_request,closed,,feat: add company validation for all accounting dimension doctypes,"Issue:
Accounting Dimension Validations are not happening as per Company

ref: [22387](https://support.frappe.io/helpdesk/tickets/22387)

Before:

[accounting_dimension_bf.webm](https://github.com/user-attachments/assets/22f80d9d-f235-420d-a687-dca9958b1a77)

After:

[accounting_dimension_af.webm](https://github.com/user-attachments/assets/5ae4ca0d-2769-487b-bddb-0c5bff67bdd8)
",Sugesh393,2024-12-18 11:04:25+00:00,[],2025-01-11 00:10:52+00:00,2024-12-27 05:25:43+00:00,https://github.com/frappe/erpnext/pull/44774,"[('accounts', ''), ('needs-tests', 'This PR needs automated unit-tests.')]",[],
2747499775,pull_request,closed,,feat: apply tax_withholding on net total,"**Issue:**
apply tax_withholding on net total
ref: [25576](https://support.frappe.io/helpdesk/tickets/25576)

**Before:**

[Screencast from 18-12-24 04:27:00 PM IST.webm](https://github.com/user-attachments/assets/68ed288f-14c7-44db-88b0-be47cb9b6efe)

**After:**

[Screencast from 18-12-24 04:29:30 PM IST.webm](https://github.com/user-attachments/assets/c28b6063-84af-4802-a44e-651f165353b7)



**Backport needed for v15** 
",DHINESH00,2024-12-18 11:02:35+00:00,[],2025-01-03 00:11:28+00:00,2024-12-18 11:04:22+00:00,https://github.com/frappe/erpnext/pull/44773,[],[],
2747490285,pull_request,closed,,fix: POS Closing entry issue,"**Issue**

<img width=""800"" alt=""image"" src=""https://github.com/user-attachments/assets/c134ac50-f6a5-4109-b615-72c2c4663467"" />
",rohitwaghchaure,2024-12-18 10:58:04+00:00,[],2025-01-03 00:11:23+00:00,2024-12-18 14:49:36+00:00,https://github.com/frappe/erpnext/pull/44772,"[('backport version-15-hotfix', '')]",[],
2747382397,pull_request,closed,,fix: sync translations from crowdin,,frappe-pr-bot,2024-12-18 10:12:29+00:00,['ruthra-kumar'],2025-01-03 00:11:24+00:00,2024-12-18 12:24:03+00:00,https://github.com/frappe/erpnext/pull/44771,"[('translation', None)]",[],
2747173815,pull_request,closed,,fix: 'str' object has no attribute 'get_sql' (backport #44765),"Related: https://github.com/frappe/erpnext/pull/44695
Traceback
```
Traceback (most recent call last):
  File ""apps/frappe/frappe/app.py"", line 114, in application
    response = frappe.api.handle(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/api/__init__.py"", line 49, in handle
    data = endpoint(**arguments)
           ^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/api/v1.py"", line 36, in handle_rpc_call
    return frappe.handler.handle()
           ^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/handler.py"", line 50, in handle
    data = execute_cmd(cmd)
           ^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/handler.py"", line 86, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/__init__.py"", line 1726, in call
    return fn(*args, **newargs)
           ^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/utils/typing_validations.py"", line 31, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/__init__.py"", line 879, in wrapper_fn
    retval = fn(*args, **get_newargs(fn, kwargs))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/desk/query_report.py"", line 224, in run
    result = generate_report_result(report, filters, user, custom_columns, is_tree, parent_field)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/__init__.py"", line 879, in wrapper_fn
    retval = fn(*args, **get_newargs(fn, kwargs))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/desk/query_report.py"", line 84, in generate_report_result
    res = get_report_result(report, filters) or []
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/desk/query_report.py"", line 65, in get_report_result
    res = report.execute_script_report(filters)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/core/doctype/report/report.py"", line 163, in execute_script_report
    res = self.execute_module(filters)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/core/doctype/report/report.py"", line 180, in execute_module
    return frappe.get_attr(method_name)(frappe._dict(filters))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/erpnext/erpnext/accounts/report/profit_and_loss_statement/profit_and_loss_statement.py"", line 30, in execute
    income = get_data(
             ^^^^^^^^^
  File ""apps/erpnext/erpnext/accounts/report/financial_statements.py"", line 182, in get_data
    set_gl_entries_by_account(
  File ""apps/erpnext/erpnext/accounts/report/financial_statements.py"", line 466, in set_gl_entries_by_account
    gl_entries += get_accounting_entries(
                  ^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/erpnext/erpnext/accounts/report/financial_statements.py"", line 537, in get_accounting_entries
    query, params = query.walk()
                    ^^^^^^^^^^^^
  File ""apps/frappe/frappe/query_builder/utils.py"", line 111, in prepare_query
    query = query.get_sql(param_wrapper=param_collector)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""env/lib/python3.11/site-packages/pypika/queries.py"", line 607, in get_sql
    set_operation_querystring = set_operation_query.get_sql(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get_sql'
```

closes: https://github.com/frappe/erpnext/issues/44766

backport version-15-hotfix
backport version-14-hotfix<hr>This is an automatic backport of pull request #44765 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-18 08:44:31+00:00,[],2025-01-03 00:11:30+00:00,2024-12-18 09:04:09+00:00,https://github.com/frappe/erpnext/pull/44770,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2747171283,pull_request,closed,,fix: 'str' object has no attribute 'get_sql' (backport #44765),"Related: https://github.com/frappe/erpnext/pull/44695
Traceback
```
Traceback (most recent call last):
  File ""apps/frappe/frappe/app.py"", line 114, in application
    response = frappe.api.handle(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/api/__init__.py"", line 49, in handle
    data = endpoint(**arguments)
           ^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/api/v1.py"", line 36, in handle_rpc_call
    return frappe.handler.handle()
           ^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/handler.py"", line 50, in handle
    data = execute_cmd(cmd)
           ^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/handler.py"", line 86, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/__init__.py"", line 1726, in call
    return fn(*args, **newargs)
           ^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/utils/typing_validations.py"", line 31, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/__init__.py"", line 879, in wrapper_fn
    retval = fn(*args, **get_newargs(fn, kwargs))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/desk/query_report.py"", line 224, in run
    result = generate_report_result(report, filters, user, custom_columns, is_tree, parent_field)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/__init__.py"", line 879, in wrapper_fn
    retval = fn(*args, **get_newargs(fn, kwargs))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/desk/query_report.py"", line 84, in generate_report_result
    res = get_report_result(report, filters) or []
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/desk/query_report.py"", line 65, in get_report_result
    res = report.execute_script_report(filters)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/core/doctype/report/report.py"", line 163, in execute_script_report
    res = self.execute_module(filters)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/core/doctype/report/report.py"", line 180, in execute_module
    return frappe.get_attr(method_name)(frappe._dict(filters))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/erpnext/erpnext/accounts/report/profit_and_loss_statement/profit_and_loss_statement.py"", line 30, in execute
    income = get_data(
             ^^^^^^^^^
  File ""apps/erpnext/erpnext/accounts/report/financial_statements.py"", line 182, in get_data
    set_gl_entries_by_account(
  File ""apps/erpnext/erpnext/accounts/report/financial_statements.py"", line 466, in set_gl_entries_by_account
    gl_entries += get_accounting_entries(
                  ^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/erpnext/erpnext/accounts/report/financial_statements.py"", line 537, in get_accounting_entries
    query, params = query.walk()
                    ^^^^^^^^^^^^
  File ""apps/frappe/frappe/query_builder/utils.py"", line 111, in prepare_query
    query = query.get_sql(param_wrapper=param_collector)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""env/lib/python3.11/site-packages/pypika/queries.py"", line 607, in get_sql
    set_operation_querystring = set_operation_query.get_sql(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get_sql'
```

closes: https://github.com/frappe/erpnext/issues/44766

backport version-15-hotfix
backport version-14-hotfix<hr>This is an automatic backport of pull request #44765 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-18 08:43:23+00:00,[],2025-01-09 00:11:27+00:00,2024-12-18 09:04:21+00:00,https://github.com/frappe/erpnext/pull/44769,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2561582542, 'issue_id': 2747171283, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.78.5 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.5)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 12, 25, 3, 35, 16, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-12-25 03:35:16 UTC): :tada: This PR is included in version 14.78.5 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.5)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2747171179,pull_request,closed,,fix: 'str' object has no attribute 'get_sql' (backport #44765),"Related: https://github.com/frappe/erpnext/pull/44695
Traceback
```
Traceback (most recent call last):
  File ""apps/frappe/frappe/app.py"", line 114, in application
    response = frappe.api.handle(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/api/__init__.py"", line 49, in handle
    data = endpoint(**arguments)
           ^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/api/v1.py"", line 36, in handle_rpc_call
    return frappe.handler.handle()
           ^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/handler.py"", line 50, in handle
    data = execute_cmd(cmd)
           ^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/handler.py"", line 86, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/__init__.py"", line 1726, in call
    return fn(*args, **newargs)
           ^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/utils/typing_validations.py"", line 31, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/__init__.py"", line 879, in wrapper_fn
    retval = fn(*args, **get_newargs(fn, kwargs))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/desk/query_report.py"", line 224, in run
    result = generate_report_result(report, filters, user, custom_columns, is_tree, parent_field)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/__init__.py"", line 879, in wrapper_fn
    retval = fn(*args, **get_newargs(fn, kwargs))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/desk/query_report.py"", line 84, in generate_report_result
    res = get_report_result(report, filters) or []
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/desk/query_report.py"", line 65, in get_report_result
    res = report.execute_script_report(filters)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/core/doctype/report/report.py"", line 163, in execute_script_report
    res = self.execute_module(filters)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/core/doctype/report/report.py"", line 180, in execute_module
    return frappe.get_attr(method_name)(frappe._dict(filters))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/erpnext/erpnext/accounts/report/profit_and_loss_statement/profit_and_loss_statement.py"", line 30, in execute
    income = get_data(
             ^^^^^^^^^
  File ""apps/erpnext/erpnext/accounts/report/financial_statements.py"", line 182, in get_data
    set_gl_entries_by_account(
  File ""apps/erpnext/erpnext/accounts/report/financial_statements.py"", line 466, in set_gl_entries_by_account
    gl_entries += get_accounting_entries(
                  ^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/erpnext/erpnext/accounts/report/financial_statements.py"", line 537, in get_accounting_entries
    query, params = query.walk()
                    ^^^^^^^^^^^^
  File ""apps/frappe/frappe/query_builder/utils.py"", line 111, in prepare_query
    query = query.get_sql(param_wrapper=param_collector)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""env/lib/python3.11/site-packages/pypika/queries.py"", line 607, in get_sql
    set_operation_querystring = set_operation_query.get_sql(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get_sql'
```

closes: https://github.com/frappe/erpnext/issues/44766

backport version-15-hotfix
backport version-14-hotfix<hr>This is an automatic backport of pull request #44765 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-18 08:43:20+00:00,[],2025-01-03 00:11:29+00:00,2024-12-18 09:06:18+00:00,https://github.com/frappe/erpnext/pull/44768,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2550758475, 'issue_id': 2747171179, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.78.4 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.4)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 12, 18, 9, 7, 44, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-12-18 09:07:44 UTC): :tada: This PR is included in version 14.78.4 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.4)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2747171108,pull_request,closed,,fix: 'str' object has no attribute 'get_sql' (backport #44765),"Related: https://github.com/frappe/erpnext/pull/44695
Traceback
```
Traceback (most recent call last):
  File ""apps/frappe/frappe/app.py"", line 114, in application
    response = frappe.api.handle(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/api/__init__.py"", line 49, in handle
    data = endpoint(**arguments)
           ^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/api/v1.py"", line 36, in handle_rpc_call
    return frappe.handler.handle()
           ^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/handler.py"", line 50, in handle
    data = execute_cmd(cmd)
           ^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/handler.py"", line 86, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/__init__.py"", line 1726, in call
    return fn(*args, **newargs)
           ^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/utils/typing_validations.py"", line 31, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/__init__.py"", line 879, in wrapper_fn
    retval = fn(*args, **get_newargs(fn, kwargs))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/desk/query_report.py"", line 224, in run
    result = generate_report_result(report, filters, user, custom_columns, is_tree, parent_field)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/__init__.py"", line 879, in wrapper_fn
    retval = fn(*args, **get_newargs(fn, kwargs))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/desk/query_report.py"", line 84, in generate_report_result
    res = get_report_result(report, filters) or []
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/desk/query_report.py"", line 65, in get_report_result
    res = report.execute_script_report(filters)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/core/doctype/report/report.py"", line 163, in execute_script_report
    res = self.execute_module(filters)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/core/doctype/report/report.py"", line 180, in execute_module
    return frappe.get_attr(method_name)(frappe._dict(filters))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/erpnext/erpnext/accounts/report/profit_and_loss_statement/profit_and_loss_statement.py"", line 30, in execute
    income = get_data(
             ^^^^^^^^^
  File ""apps/erpnext/erpnext/accounts/report/financial_statements.py"", line 182, in get_data
    set_gl_entries_by_account(
  File ""apps/erpnext/erpnext/accounts/report/financial_statements.py"", line 466, in set_gl_entries_by_account
    gl_entries += get_accounting_entries(
                  ^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/erpnext/erpnext/accounts/report/financial_statements.py"", line 537, in get_accounting_entries
    query, params = query.walk()
                    ^^^^^^^^^^^^
  File ""apps/frappe/frappe/query_builder/utils.py"", line 111, in prepare_query
    query = query.get_sql(param_wrapper=param_collector)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""env/lib/python3.11/site-packages/pypika/queries.py"", line 607, in get_sql
    set_operation_querystring = set_operation_query.get_sql(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get_sql'
```

closes: https://github.com/frappe/erpnext/issues/44766

backport version-15-hotfix
backport version-14-hotfix<hr>This is an automatic backport of pull request #44765 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-18 08:43:18+00:00,[],2025-01-06 00:12:08+00:00,2024-12-18 09:09:17+00:00,https://github.com/frappe/erpnext/pull/44767,"[('needs-tests', 'This PR needs automated unit-tests.')]","[{'comment_id': 2558330772, 'issue_id': 2747171108, 'author': 'mensahbenjamin88', 'body': 'how do i get this error correction done', 'created_at': datetime.datetime(2024, 12, 22, 4, 51, 7, tzinfo=datetime.timezone.utc)}]","mensahbenjamin88 on (2024-12-22 04:51:07 UTC): how do i get this error correction done

"
2747122015,pull_request,closed,,fix: 'str' object has no attribute 'get_sql',"Related: https://github.com/frappe/erpnext/pull/44695
Traceback
```
Traceback (most recent call last):
  File ""apps/frappe/frappe/app.py"", line 114, in application
    response = frappe.api.handle(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/api/__init__.py"", line 49, in handle
    data = endpoint(**arguments)
           ^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/api/v1.py"", line 36, in handle_rpc_call
    return frappe.handler.handle()
           ^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/handler.py"", line 50, in handle
    data = execute_cmd(cmd)
           ^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/handler.py"", line 86, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/__init__.py"", line 1726, in call
    return fn(*args, **newargs)
           ^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/utils/typing_validations.py"", line 31, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/__init__.py"", line 879, in wrapper_fn
    retval = fn(*args, **get_newargs(fn, kwargs))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/desk/query_report.py"", line 224, in run
    result = generate_report_result(report, filters, user, custom_columns, is_tree, parent_field)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/__init__.py"", line 879, in wrapper_fn
    retval = fn(*args, **get_newargs(fn, kwargs))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/desk/query_report.py"", line 84, in generate_report_result
    res = get_report_result(report, filters) or []
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/desk/query_report.py"", line 65, in get_report_result
    res = report.execute_script_report(filters)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/core/doctype/report/report.py"", line 163, in execute_script_report
    res = self.execute_module(filters)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/core/doctype/report/report.py"", line 180, in execute_module
    return frappe.get_attr(method_name)(frappe._dict(filters))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/erpnext/erpnext/accounts/report/profit_and_loss_statement/profit_and_loss_statement.py"", line 30, in execute
    income = get_data(
             ^^^^^^^^^
  File ""apps/erpnext/erpnext/accounts/report/financial_statements.py"", line 182, in get_data
    set_gl_entries_by_account(
  File ""apps/erpnext/erpnext/accounts/report/financial_statements.py"", line 466, in set_gl_entries_by_account
    gl_entries += get_accounting_entries(
                  ^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/erpnext/erpnext/accounts/report/financial_statements.py"", line 537, in get_accounting_entries
    query, params = query.walk()
                    ^^^^^^^^^^^^
  File ""apps/frappe/frappe/query_builder/utils.py"", line 111, in prepare_query
    query = query.get_sql(param_wrapper=param_collector)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""env/lib/python3.11/site-packages/pypika/queries.py"", line 607, in get_sql
    set_operation_querystring = set_operation_query.get_sql(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'get_sql'
```

closes: https://github.com/frappe/erpnext/issues/44766

backport version-15-hotfix
backport version-14-hotfix",ljain112,2024-12-18 08:19:59+00:00,['ruthra-kumar'],2025-01-03 00:11:31+00:00,2024-12-18 08:42:29+00:00,https://github.com/frappe/erpnext/pull/44765,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]","[{'comment_id': 2550692583, 'issue_id': 2747122015, 'author': 'ruthra-kumar', 'body': 'Replicating only if user permission is set.', 'created_at': datetime.datetime(2024, 12, 18, 8, 38, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2550702508, 'issue_id': 2747122015, 'author': 'ruthra-kumar', 'body': '@mergify backport version-15', 'created_at': datetime.datetime(2024, 12, 18, 8, 42, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2550702642, 'issue_id': 2747122015, 'author': 'ruthra-kumar', 'body': '@mergify backport version-14', 'created_at': datetime.datetime(2024, 12, 18, 8, 42, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2550702885, 'issue_id': 2747122015, 'author': 'mergify[bot]', 'body': '> backport version-15\n\n#### ✅ Backports have been created\n\n<details>\n\n* [#44767 fix: \'str\' object has no attribute \'get_sql\' (backport #44765)](https://github.com/frappe/erpnext/pull/44767) has been created for branch `version-15`\n\n</details>\n\n\n<!---\nDO NOT EDIT\n-*- Mergify Payload -*-\n{""command"": ""backport version-15"", ""conclusion"": ""success"", ""action_is_running"": true}\n-*- Mergify Payload End -*-\n-->', 'created_at': datetime.datetime(2024, 12, 18, 8, 42, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2550702927, 'issue_id': 2747122015, 'author': 'mergify[bot]', 'body': '> backport version-14\n\n#### ✅ Backports have been created\n\n<details>\n\n* [#44768 fix: \'str\' object has no attribute \'get_sql\' (backport #44765)](https://github.com/frappe/erpnext/pull/44768) has been created for branch `version-14`\n\n</details>\n\n\n<!---\nDO NOT EDIT\n-*- Mergify Payload -*-\n{""command"": ""backport version-14"", ""conclusion"": ""success"", ""action_is_running"": true}\n-*- Mergify Payload End -*-\n-->', 'created_at': datetime.datetime(2024, 12, 18, 8, 42, 57, tzinfo=datetime.timezone.utc)}]","ruthra-kumar (Assginee) on (2024-12-18 08:38:02 UTC): Replicating only if user permission is set.

ruthra-kumar (Assginee) on (2024-12-18 08:42:45 UTC): @mergify backport version-15

ruthra-kumar (Assginee) on (2024-12-18 08:42:49 UTC): @mergify backport version-14

mergify[bot] on (2024-12-18 08:42:56 UTC): #### ✅ Backports have been created

<details>

* [#44767 fix: 'str' object has no attribute 'get_sql' (backport #44765)](https://github.com/frappe/erpnext/pull/44767) has been created for branch `version-15`

</details>


<!---
DO NOT EDIT
-*- Mergify Payload -*-
{""command"": ""backport version-15"", ""conclusion"": ""success"", ""action_is_running"": true}
-*- Mergify Payload End -*-
-->

mergify[bot] on (2024-12-18 08:42:57 UTC): #### ✅ Backports have been created

<details>

* [#44768 fix: 'str' object has no attribute 'get_sql' (backport #44765)](https://github.com/frappe/erpnext/pull/44768) has been created for branch `version-14`

</details>


<!---
DO NOT EDIT
-*- Mergify Payload -*-
{""command"": ""backport version-14"", ""conclusion"": ""success"", ""action_is_running"": true}
-*- Mergify Payload End -*-
-->

"
2746919173,pull_request,closed,,perf: SABB,"### **Issue**
<img width=""857"" alt=""Screenshot 2024-12-18 at 1 01 47 PM"" src=""https://github.com/user-attachments/assets/801f145f-4757-4728-9263-158a9f354dd3"" />


### **After Fix**

#### 131 Sec -> 63 Sec

<img width=""888"" alt=""Screenshot 2024-12-19 at 8 52 41 AM"" src=""https://github.com/user-attachments/assets/796d0bee-0a65-41c3-aead-32f63e44fb7c"" />

",rohitwaghchaure,2024-12-18 06:35:18+00:00,[],2025-01-03 00:11:18+00:00,2024-12-19 07:30:31+00:00,https://github.com/frappe/erpnext/pull/44764,"[('stock', None), ('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2746896357,pull_request,closed,,fix: Paid + Write Off Amount issue in Sales Invoice,"Issue: https://support.frappe.io/helpdesk/tickets/26091
![image](https://github.com/user-attachments/assets/f649cdf6-433e-4044-973c-9c774ba828fc)

In the case of Return the validation `validate_pos` is comparing the amounts as negative amounts and when trying to make a partial return it throws the above error.

Fix: Perform the comparision after taking their absolute value
",vishakhdesai,2024-12-18 06:20:50+00:00,['ruthra-kumar'],2025-01-08 00:11:39+00:00,2024-12-24 04:47:16+00:00,https://github.com/frappe/erpnext/pull/44763,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2746878356,pull_request,closed,,feat: add permission check to sales analytics report,"Issue: The sales analytics report function doesn't check user permissions.

Ref: 24503

Before:

[before_fix.webm](https://github.com/user-attachments/assets/7bd7c544-b976-40cd-909d-a12bb2dac9a6)

After:

[after_fix.webm](https://github.com/user-attachments/assets/42b04474-6663-45bf-a182-121a2dd9791d)

Backport Needed: v15

",Bhavan23,2024-12-18 06:09:20+00:00,[],2025-01-08 00:11:33+00:00,2024-12-24 07:33:36+00:00,https://github.com/frappe/erpnext/pull/44762,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2746823965,pull_request,closed,,fix: apply discount on qty change,"**Issue:**
On changing the qty the discount is not applying
ref: [25449](https://support.frappe.io/helpdesk/tickets/25449)

**Before:**


[Screencast from 18-12-24 11:00:20 AM IST.webm](https://github.com/user-attachments/assets/a6b5270a-14e7-4773-a860-8b54f70af944)

**After:**

[Screencast from 18-12-24 11:01:16 AM IST.webm](https://github.com/user-attachments/assets/71fa8bbc-d7ef-4482-9b8d-5d0e6d7268d2)

**Backport needed for v15** 
",DHINESH00,2024-12-18 05:36:26+00:00,['ruthra-kumar'],2025-01-14 00:10:11+00:00,2024-12-30 09:26:02+00:00,https://github.com/frappe/erpnext/pull/44761,"[('backport version-15-hotfix', '')]","[{'comment_id': 2560983608, 'issue_id': 2746823965, 'author': 'ruthra-kumar', 'body': ""@DHINESH00 \r\nFix doesn't work locally."", 'created_at': datetime.datetime(2024, 12, 24, 10, 52, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2562389600, 'issue_id': 2746823965, 'author': 'DHINESH00', 'body': '[Screencast from 26-12-24 03:21:48 PM IST.webm](https://github.com/user-attachments/assets/4c4aacbe-9b31-404d-963e-62ac9428e33c)\r\n\r\n\r\n\r\nThe condition **field_control.get_value() !== value** only checks if the UI field value differs from the new value being passed. However, it doesn’t confirm if the new value (value) is correct or matches the data in the row **(item_row[fieldname]).**  \r\n\r\nBy adding **value == item_row[fieldname]**, the code ensures the passed value aligns with the actual row data. This prevents issues where the UI or external code might pass a value that doesn’t match the stored data, ensuring everything stays consistent.', 'created_at': datetime.datetime(2024, 12, 26, 10, 1, 42, tzinfo=datetime.timezone.utc)}]","ruthra-kumar (Assginee) on (2024-12-24 10:52:47 UTC): @DHINESH00 
Fix doesn't work locally.

DHINESH00 (Issue Creator) on (2024-12-26 10:01:42 UTC): [Screencast from 26-12-24 03:21:48 PM IST.webm](https://github.com/user-attachments/assets/4c4aacbe-9b31-404d-963e-62ac9428e33c)



The condition **field_control.get_value() !== value** only checks if the UI field value differs from the new value being passed. However, it doesn’t confirm if the new value (value) is correct or matches the data in the row **(item_row[fieldname]).**  

By adding **value == item_row[fieldname]**, the code ensures the passed value aligns with the actual row data. This prevents issues where the UI or external code might pass a value that doesn’t match the stored data, ensuring everything stays consistent.

"
2746821022,pull_request,closed,,fix: use utility method to generate url (backport #44758),"![Screenshot from 2024-12-18 10-55-41](https://github.com/user-attachments/assets/3a614727-f900-4af7-a85f-7cc91a2c33d6)
<hr>This is an automatic backport of pull request #44758 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-18 05:34:03+00:00,['ruthra-kumar'],2025-01-03 00:11:33+00:00,2024-12-18 05:47:09+00:00,https://github.com/frappe/erpnext/pull/44760,[],[],
2746820308,pull_request,closed,,fix: use utility method to generate url (backport #44758),"![Screenshot from 2024-12-18 10-55-41](https://github.com/user-attachments/assets/3a614727-f900-4af7-a85f-7cc91a2c33d6)
<hr>This is an automatic backport of pull request #44758 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-18 05:33:26+00:00,['ruthra-kumar'],2025-01-09 00:11:26+00:00,2024-12-18 05:47:19+00:00,https://github.com/frappe/erpnext/pull/44759,"[('released', None)]","[{'comment_id': 2561582561, 'issue_id': 2746820308, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.78.5 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.5)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 12, 25, 3, 35, 19, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-12-25 03:35:19 UTC): :tada: This PR is included in version 14.78.5 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.5)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2746809095,pull_request,closed,,fix: use utility method to generate url,"![Screenshot from 2024-12-18 10-55-41](https://github.com/user-attachments/assets/3a614727-f900-4af7-a85f-7cc91a2c33d6)
",ruthra-kumar,2024-12-18 05:26:04+00:00,[],2025-01-03 00:11:34+00:00,2024-12-18 05:32:02+00:00,https://github.com/frappe/erpnext/pull/44758,"[('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2746777594,pull_request,closed,,fix: duplicate Use Multi-Level BOM checkbox,"<img width=""560"" alt=""image"" src=""https://github.com/user-attachments/assets/ca9572bf-4ad0-492a-96f2-05f5d843d85c"" />
",rohitwaghchaure,2024-12-18 05:01:38+00:00,[],2025-01-03 00:11:36+00:00,2024-12-18 05:11:25+00:00,https://github.com/frappe/erpnext/pull/44757,[],[],
2745195365,pull_request,closed,,fix: update discount when pricing rule is changed (backport #44708),"**Issue:**
Discount not updating when the pricing rule is changed
**ref:** [27103](https://support.frappe.io/helpdesk/tickets/27103)

**Before:**

https://github.com/user-attachments/assets/8733a547-7895-471f-a14f-b65ace1495d9

**After:**

https://github.com/user-attachments/assets/4e7cbada-3f6d-424c-aa78-2a960d25f37d



**Backport needed for v14 and v15**

<hr>This is an automatic backport of pull request #44708 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-17 15:13:28+00:00,[],2025-01-01 00:12:24+00:00,2024-12-17 15:40:31+00:00,https://github.com/frappe/erpnext/pull/44755,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2745194625,pull_request,closed,,fix: update discount when pricing rule is changed (backport #44708),"**Issue:**
Discount not updating when the pricing rule is changed
**ref:** [27103](https://support.frappe.io/helpdesk/tickets/27103)

**Before:**

https://github.com/user-attachments/assets/8733a547-7895-471f-a14f-b65ace1495d9

**After:**

https://github.com/user-attachments/assets/4e7cbada-3f6d-424c-aa78-2a960d25f37d



**Backport needed for v14 and v15**

<hr>This is an automatic backport of pull request #44708 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-17 15:13:08+00:00,[],2025-01-03 00:11:45+00:00,2024-12-17 15:40:46+00:00,https://github.com/frappe/erpnext/pull/44754,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2550343791, 'issue_id': 2745194625, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.78.3 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.3)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 12, 18, 5, 1, 53, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-12-18 05:01:53 UTC): :tada: This PR is included in version 14.78.3 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.3)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2745186414,pull_request,closed,,fix: User permissions in financial statements (backport #44695),"User Permissions are not checked in Financial Statements (Profit And Loss Report, Balance Sheet Report).

Steps to replicate:
- Set user permission for cost center for any user.
- Generate a Report with that user.
- The report will be based on all the cost centres.

![image](https://github.com/user-attachments/assets/10ed8166-ccb7-4506-b902-d65e39990572)




Before:
![image](https://github.com/user-attachments/assets/c4481dc2-d07d-4669-9fce-0263b3751608)

After:
![image](https://github.com/user-attachments/assets/e088eecb-c480-448e-9e78-91e6eb85ff2c)





Frappe.Support Issue: https://support.frappe.io/app/hd-ticket/21597


backport version-15
backport version-14
<hr>This is an automatic backport of pull request #44695 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-17 15:09:47+00:00,[],2025-01-01 00:12:23+00:00,2024-12-17 15:49:12+00:00,https://github.com/frappe/erpnext/pull/44753,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2745186281,pull_request,closed,,fix: User permissions in financial statements (backport #44695),"User Permissions are not checked in Financial Statements (Profit And Loss Report, Balance Sheet Report).

Steps to replicate:
- Set user permission for cost center for any user.
- Generate a Report with that user.
- The report will be based on all the cost centres.

![image](https://github.com/user-attachments/assets/10ed8166-ccb7-4506-b902-d65e39990572)




Before:
![image](https://github.com/user-attachments/assets/c4481dc2-d07d-4669-9fce-0263b3751608)

After:
![image](https://github.com/user-attachments/assets/e088eecb-c480-448e-9e78-91e6eb85ff2c)





Frappe.Support Issue: https://support.frappe.io/app/hd-ticket/21597


backport version-15
backport version-14
<hr>This is an automatic backport of pull request #44695 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-17 15:09:45+00:00,[],2025-01-03 00:11:46+00:00,2024-12-17 15:48:54+00:00,https://github.com/frappe/erpnext/pull/44752,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2550343745, 'issue_id': 2745186281, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.78.3 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.3)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 12, 18, 5, 1, 50, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-12-18 05:01:50 UTC): :tada: This PR is included in version 14.78.3 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.3)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2744811716,pull_request,closed,,fix: buying rate for service item in gross profit report,"- Rate was in 1 index of tuple last_purchase_rate.
- Added filter to exclude return invoices




Frappe Support Issue: https://support.frappe.io/app/hd-ticket/27462

backport version-14-hotfix
backport version-15-hotfix",ljain112,2024-12-17 12:29:40+00:00,['ruthra-kumar'],2025-01-07 00:20:12+00:00,2024-12-23 06:15:18+00:00,https://github.com/frappe/erpnext/pull/44751,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2744776096,pull_request,closed,,fix: allow all dispatch address for drop ship invoice (backport #44581),Manual backport of https://github.com/frappe/erpnext/pull/44581,ruthra-kumar,2024-12-17 12:14:19+00:00,[],2025-01-01 00:12:28+00:00,2024-12-17 12:22:14+00:00,https://github.com/frappe/erpnext/pull/44750,[],[],
2744770396,pull_request,closed,,fix: allow all dispatch address for drop ship invoice (backport #44581),Manual backport of https://github.com/frappe/erpnext/pull/44581,ruthra-kumar,2024-12-17 12:11:39+00:00,[],2025-01-03 00:11:44+00:00,2024-12-17 15:09:05+00:00,https://github.com/frappe/erpnext/pull/44749,"[('accounts', ''), ('released', None)]","[{'comment_id': 2550343859, 'issue_id': 2744770396, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.78.3 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.3)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 12, 18, 5, 1, 56, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-12-18 05:01:56 UTC): :tada: This PR is included in version 14.78.3 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.3)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2744724575,pull_request,closed,,fix: set company bank account if default account not set in mode of p… (backport #44685),"**Issue:**
Company bank account is not set in Account Paid From/To if the mode of payment is selected, but the mode of payment doesn't have a default bank account set.
**ref:** [26506](https://support.frappe.io/helpdesk/tickets/26506)

**Before:**

https://github.com/user-attachments/assets/43b8aec0-a6ce-4543-a3f0-3b993f997cb5


**After:**

https://github.com/user-attachments/assets/e4862d39-c089-4c79-a1ad-6b91593f5e3a


**Backport needed for v14 & v15**
<hr>This is an automatic backport of pull request #44685 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-17 11:50:32+00:00,[],2025-01-01 00:12:32+00:00,2024-12-17 11:59:37+00:00,https://github.com/frappe/erpnext/pull/44748,[],[],
2744724490,pull_request,closed,,fix: set company bank account if default account not set in mode of p… (backport #44685),"**Issue:**
Company bank account is not set in Account Paid From/To if the mode of payment is selected, but the mode of payment doesn't have a default bank account set.
**ref:** [26506](https://support.frappe.io/helpdesk/tickets/26506)

**Before:**

https://github.com/user-attachments/assets/43b8aec0-a6ce-4543-a3f0-3b993f997cb5


**After:**

https://github.com/user-attachments/assets/e4862d39-c089-4c79-a1ad-6b91593f5e3a


**Backport needed for v14 & v15**
<hr>This is an automatic backport of pull request #44685 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-17 11:50:30+00:00,[],2025-01-03 00:11:42+00:00,2024-12-17 11:59:19+00:00,https://github.com/frappe/erpnext/pull/44747,"[('released', None)]","[{'comment_id': 2550343941, 'issue_id': 2744724490, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.78.3 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.3)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 12, 18, 5, 2, 2, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-12-18 05:02:02 UTC): :tada: This PR is included in version 14.78.3 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.3)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2744712936,pull_request,closed,,fix: correct args for get_item_tax_map,item_tax_rate not getting set because the Item Tax Template is not passed.,ljain112,2024-12-17 11:45:05+00:00,['ruthra-kumar'],2025-01-03 00:11:16+00:00,2024-12-19 08:22:34+00:00,https://github.com/frappe/erpnext/pull/44746,[],[],
