id,type,state,state_reason,title,body,author,created_at,assignees,updated_at,closed_at,url,labels,comments_list,comment_thread
2763261638,pull_request,closed,,fix: incorrect quality inspection linked in purchase receipt,"- Create two purchase orders for the same item A
- Create the single purchase receipt against the above two purchase orders
- System will add two line items in the purchase receipt
- Create the two quality inspections and submit them
- In the purchase receipt both rows show the same quality inspection

Solution

Added a child row reference in the quality inspection to correctly update the QC back to the stock transaction.",rohitwaghchaure,2024-12-30 14:08:06+00:00,[],2025-01-16 00:10:44+00:00,2025-01-01 03:00:00+00:00,https://github.com/frappe/erpnext/pull/44985,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2763136890,pull_request,closed,,fix: add monthly distributation and write query in qb,"Issue: [Support Ticket  - 20143](https://support.frappe.io/helpdesk/tickets/20143)

Before:
In the `get_accumulated_monthly_budget` query, the monthly_distribution was not used, leading to incorrect budget distribution.

After:
The monthly_distribution is now utilized, and the query has been rewritten using frappe.qb for improved readability.",Sanket322,2024-12-30 12:25:26+00:00,['ruthra-kumar'],2025-01-18 00:09:58+00:00,2025-01-03 23:47:10+00:00,https://github.com/frappe/erpnext/pull/44983,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2762990298,pull_request,closed,,fix: in_context_translation_fixes (backport #44855),Backport to version-15<hr>This is an automatic backport of pull request #44855 done by [Mergify](https://mergify.com).,mergify[bot],2024-12-30 10:27:19+00:00,[],2025-01-15 00:10:02+00:00,2024-12-31 11:29:05+00:00,https://github.com/frappe/erpnext/pull/44979,"[('accounts', ''), ('needs-tests', 'This PR needs automated unit-tests.')]","[{'comment_id': 2565292706, 'issue_id': 2762990298, 'author': 'mergify[bot]', 'body': 'Cherry-pick of a87e7fde031393607b384138b0927d0b4c36322b has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-44855\nYour branch is up to date with \'origin/version-15-hotfix\'.\n\nYou are currently cherry-picking commit a87e7fde03.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nChanges to be committed:\n\tmodified:   erpnext/accounts/doctype/pos_closing_entry/closing_voucher_details.html\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/accounts/utils.py\n\tboth modified:   erpnext/templates/pages/order.html\n\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 12, 30, 10, 27, 21, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-12-30 10:27:21 UTC): Cherry-pick of a87e7fde031393607b384138b0927d0b4c36322b has failed:
```
On branch mergify/bp/version-15-hotfix/pr-44855
Your branch is up to date with 'origin/version-15-hotfix'.

You are currently cherry-picking commit a87e7fde03.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Changes to be committed:
	modified:   erpnext/accounts/doctype/pos_closing_entry/closing_voucher_details.html

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/accounts/utils.py
	both modified:   erpnext/templates/pages/order.html

```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

"
2762955952,pull_request,closed,,fix: add company filter to project (backport #44975),"**Issue:**
Project not filtering based on the company
**ref:** [28282](https://support.frappe.io/helpdesk/tickets/28282)

**Before:**
![image](https://github.com/user-attachments/assets/c90fa146-6862-4684-995d-5393ad189176)

**After:**
![image](https://github.com/user-attachments/assets/bb175b0e-0e13-45b5-ab00-68c2181c8125)

**Backport needed for v15**<hr>This is an automatic backport of pull request #44975 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-30 09:59:11+00:00,[],2025-01-14 00:10:07+00:00,2024-12-30 10:25:00+00:00,https://github.com/frappe/erpnext/pull/44978,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2762917944,pull_request,closed,,fix: apply discount on qty change (backport #44761),"**Issue:**
On changing the qty the discount is not applying
ref: [25449](https://support.frappe.io/helpdesk/tickets/25449)

**Before:**


[Screencast from 18-12-24 11:00:20 AM IST.webm](https://github.com/user-attachments/assets/a6b5270a-14e7-4773-a860-8b54f70af944)

**After:**

[Screencast from 18-12-24 11:01:16 AM IST.webm](https://github.com/user-attachments/assets/71fa8bbc-d7ef-4482-9b8d-5d0e6d7268d2)

**Backport needed for v15** 
<hr>This is an automatic backport of pull request #44761 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-30 09:27:33+00:00,[],2025-01-14 00:10:10+00:00,2024-12-30 09:34:22+00:00,https://github.com/frappe/erpnext/pull/44977,[],[],
2762865632,pull_request,closed,,fix: add company filter to project,"**Issue:**
Project not filtering based on the company
**ref:** [28282](https://support.frappe.io/helpdesk/tickets/28282)

**Before:**
![image](https://github.com/user-attachments/assets/c90fa146-6862-4684-995d-5393ad189176)

**After:**
![image](https://github.com/user-attachments/assets/bb175b0e-0e13-45b5-ab00-68c2181c8125)

**Backport needed for v15**",venkat102,2024-12-30 08:50:18+00:00,['ruthra-kumar'],2025-01-14 00:10:09+00:00,2024-12-30 09:57:37+00:00,https://github.com/frappe/erpnext/pull/44975,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2762844965,pull_request,closed,,Fix: Added Order Number and Order Date fields to the Blanket Order form. (backport #44552),<hr>This is an automatic backport of pull request #44552 done by [Mergify](https://mergify.com).,mergify[bot],2024-12-30 08:32:53+00:00,[],2025-01-14 00:10:08+00:00,2024-12-30 09:57:51+00:00,https://github.com/frappe/erpnext/pull/44974,"[('needs-tests', 'This PR needs automated unit-tests.'), ('conflicts', None)]","[{'comment_id': 2565170496, 'issue_id': 2762844965, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 5a284df51dd171e7c6e62a7257dc456ee754c573 has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-44552\nYour branch is up to date with \'origin/version-15-hotfix\'.\n\nYou are currently cherry-picking commit 5a284df51d.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nChanges to be committed:\n\tmodified:   erpnext/manufacturing/doctype/blanket_order/blanket_order.py\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/manufacturing/doctype/blanket_order/blanket_order.json\n\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 12, 30, 8, 32, 55, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-12-30 08:32:55 UTC): Cherry-pick of 5a284df51dd171e7c6e62a7257dc456ee754c573 has failed:
```
On branch mergify/bp/version-15-hotfix/pr-44552
Your branch is up to date with 'origin/version-15-hotfix'.

You are currently cherry-picking commit 5a284df51d.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Changes to be committed:
	modified:   erpnext/manufacturing/doctype/blanket_order/blanket_order.py

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/manufacturing/doctype/blanket_order/blanket_order.json

```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

"
2762815250,pull_request,closed,,fix: Validate party on non receivable / payable account (backport #44883),"Issue: Allows specifying a party type and party for non-receivable and non-payable accounts.

Fix: Validate the party type against the account type in the GL entry and display an error message if there's a mismatch.

Ref: [27331](https://support.frappe.io/helpdesk/tickets/27331)

Before:

[before party type validation.webm](https://github.com/user-attachments/assets/bcd5f79f-b894-48bf-8ecd-bdf4dc5fe1d4)


After:

[after party type validation.webm](https://github.com/user-attachments/assets/400ebdaa-2284-422c-b7ea-a5480875bc11)

Backport needed for v14 & v15
<hr>This is an automatic backport of pull request #44883 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-30 08:04:15+00:00,[],2025-01-15 00:10:17+00:00,2024-12-31 06:39:33+00:00,https://github.com/frappe/erpnext/pull/44973,"[('accounts', '')]",[],
2762815184,pull_request,closed,,fix: Validate party on non receivable / payable account (backport #44883),"Issue: Allows specifying a party type and party for non-receivable and non-payable accounts.

Fix: Validate the party type against the account type in the GL entry and display an error message if there's a mismatch.

Ref: [27331](https://support.frappe.io/helpdesk/tickets/27331)

Before:

[before party type validation.webm](https://github.com/user-attachments/assets/bcd5f79f-b894-48bf-8ecd-bdf4dc5fe1d4)


After:

[after party type validation.webm](https://github.com/user-attachments/assets/400ebdaa-2284-422c-b7ea-a5480875bc11)

Backport needed for v14 & v15
<hr>This is an automatic backport of pull request #44883 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-30 08:04:12+00:00,['ruthra-kumar'],2025-01-25 07:04:49+00:00,2025-01-25 07:04:49+00:00,https://github.com/frappe/erpnext/pull/44972,"[('accounts', ''), ('inactive', '')]","[{'comment_id': 2565145074, 'issue_id': 2762815184, 'author': 'mergify[bot]', 'body': 'Cherry-pick of c6a2d86ba6068e9e259f51a510a9c5a2e81bd18f has failed:\n```\nOn branch mergify/bp/version-14-hotfix/pr-44883\nYour branch is up to date with \'origin/version-14-hotfix\'.\n\nYou are currently cherry-picking commit c6a2d86ba6.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nChanges to be committed:\n\tmodified:   erpnext/accounts/doctype/gl_entry/gl_entry.py\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/accounts/party.py\n\n```\n\n\nCherry-pick of 8abbece7c4556399ddc101d8cd903ce7dd74c8db has failed:\n```\nOn branch mergify/bp/version-14-hotfix/pr-44883\nYour branch is ahead of \'origin/version-14-hotfix\' by 2 commits.\n  (use ""git push"" to publish your local commits)\n\nYou are currently cherry-picking commit 8abbece7c4.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/accounts/doctype/payment_entry/test_payment_entry.py\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 12, 30, 8, 4, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604286076, 'issue_id': 2762815184, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2025, 1, 21, 10, 17, 58, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-12-30 08:04:14 UTC): Cherry-pick of c6a2d86ba6068e9e259f51a510a9c5a2e81bd18f has failed:
```
On branch mergify/bp/version-14-hotfix/pr-44883
Your branch is up to date with 'origin/version-14-hotfix'.

You are currently cherry-picking commit c6a2d86ba6.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Changes to be committed:
	modified:   erpnext/accounts/doctype/gl_entry/gl_entry.py

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/accounts/party.py

```


Cherry-pick of 8abbece7c4556399ddc101d8cd903ce7dd74c8db has failed:
```
On branch mergify/bp/version-14-hotfix/pr-44883
Your branch is ahead of 'origin/version-14-hotfix' by 2 commits.
  (use ""git push"" to publish your local commits)

You are currently cherry-picking commit 8abbece7c4.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/accounts/doctype/payment_entry/test_payment_entry.py

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

stale[bot] on (2025-01-21 10:17:58 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

"
2762810902,pull_request,closed,,fix: pos payment using non-default mode of payment (backport #44920),"![image](https://github.com/user-attachments/assets/1815fc6f-0677-463b-a58b-3b161d839546)

fixes: #41108 <hr>This is an automatic backport of pull request #44920 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-30 08:00:05+00:00,['diptanilsaha'],2025-01-14 00:10:16+00:00,2024-12-30 08:26:55+00:00,https://github.com/frappe/erpnext/pull/44971,[],[],
2762810768,pull_request,closed,,fix: pos payment using non-default mode of payment (backport #44920),"![image](https://github.com/user-attachments/assets/1815fc6f-0677-463b-a58b-3b161d839546)

fixes: #41108 <hr>This is an automatic backport of pull request #44920 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-30 07:59:57+00:00,['diptanilsaha'],2025-01-16 00:10:31+00:00,2024-12-30 08:27:08+00:00,https://github.com/frappe/erpnext/pull/44970,"[('released', None)]","[{'comment_id': 2566915974, 'issue_id': 2762810768, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.78.6 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.6)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2025, 1, 1, 8, 57, 17, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2025-01-01 08:57:17 UTC): :tada: This PR is included in version 14.78.6 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.6)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2762801171,pull_request,closed,,fix: add company filter to project,"**Issue:**
Project not filtering based on the company
**ref:** [28282](https://support.frappe.io/helpdesk/tickets/28282)

**Before:**
![image](https://github.com/user-attachments/assets/c90fa146-6862-4684-995d-5393ad189176)

**After:**
![image](https://github.com/user-attachments/assets/bb175b0e-0e13-45b5-ab00-68c2181c8125)

**backport needed for v15**",venkat102,2024-12-30 07:50:01+00:00,[],2025-01-14 00:10:17+00:00,2024-12-30 08:25:32+00:00,https://github.com/frappe/erpnext/pull/44969,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2762753409,pull_request,closed,,fix: get item tax template based on posting date (backport #44921),"Item tax template is not validated based on the Posting Date in the Sales Invoice.

backport-version-15-hotfix
backport-version-14-hotfix<hr>This is an automatic backport of pull request #44921 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-30 06:59:53+00:00,[],2025-01-14 00:10:20+00:00,2024-12-30 07:39:15+00:00,https://github.com/frappe/erpnext/pull/44966,"[('stock', None), ('needs-tests', 'This PR needs automated unit-tests.')]","[{'comment_id': 2565098077, 'issue_id': 2762753409, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 976e35d5472c1c8cae2b3f3a28dd4487e8ac577e has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-44921\nYour branch is up to date with \'origin/version-15-hotfix\'.\n\nYou are currently cherry-picking commit 976e35d547.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/stock/get_item_details.py\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 12, 30, 6, 59, 57, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-12-30 06:59:57 UTC): Cherry-pick of 976e35d5472c1c8cae2b3f3a28dd4487e8ac577e has failed:
```
On branch mergify/bp/version-15-hotfix/pr-44921
Your branch is up to date with 'origin/version-15-hotfix'.

You are currently cherry-picking commit 976e35d547.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/stock/get_item_details.py

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

"
2762753307,pull_request,closed,,fix: get item tax template based on posting date (backport #44921),"Item tax template is not validated based on the Posting Date in the Sales Invoice.

backport-version-15-hotfix
backport-version-14-hotfix<hr>This is an automatic backport of pull request #44921 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-30 06:59:46+00:00,[],2025-01-16 00:10:30+00:00,2024-12-30 07:39:06+00:00,https://github.com/frappe/erpnext/pull/44965,"[('stock', None), ('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2565097963, 'issue_id': 2762753307, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 976e35d5472c1c8cae2b3f3a28dd4487e8ac577e has failed:\n```\nOn branch mergify/bp/version-14-hotfix/pr-44921\nYour branch is up to date with \'origin/version-14-hotfix\'.\n\nYou are currently cherry-picking commit 976e35d547.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/stock/get_item_details.py\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 12, 30, 6, 59, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2566915993, 'issue_id': 2762753307, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.78.6 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.6)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2025, 1, 1, 8, 57, 20, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-12-30 06:59:48 UTC): Cherry-pick of 976e35d5472c1c8cae2b3f3a28dd4487e8ac577e has failed:
```
On branch mergify/bp/version-14-hotfix/pr-44921
Your branch is up to date with 'origin/version-14-hotfix'.

You are currently cherry-picking commit 976e35d547.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/stock/get_item_details.py

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

frappe-pr-bot on (2025-01-01 08:57:20 UTC): :tada: This PR is included in version 14.78.6 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.6)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2762746105,pull_request,closed,,fix: copy accounting dimensions to asset and sales invoice,This fix ensures accounting dimensions are copied from the Purchase Invoice/Purchase Receipt  to the Asset and from Asset to Sales Invoice when it's created.,khushi8112,2024-12-30 06:53:06+00:00,[],2025-01-15 00:10:13+00:00,2024-12-31 07:05:52+00:00,https://github.com/frappe/erpnext/pull/44964,"[('buying', None), ('backport version-15-hotfix', '')]",[],
2762745984,pull_request,closed,,fix: set/update billing address on change of company (backport #44906),"In the Purchase Invoice, the billing address is not being set correctly during onload. Additionally, when the company is updated, the billing address does not change accordingly.

Issue: [Support Ticket  - 20620](https://support.frappe.io/app/hd-ticket/20620)<hr>This is an automatic backport of pull request #44906 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-30 06:52:59+00:00,[],2025-01-14 00:10:24+00:00,2024-12-30 06:57:59+00:00,https://github.com/frappe/erpnext/pull/44963,[],[],
2762719924,pull_request,closed,,fix: refactor query in get_total_allocated_amount in bank_transaction (backport #44787),Resolved conflicts in backport PR: #44896 ,vishakhdesai,2024-12-30 06:25:46+00:00,['ruthra-kumar'],2025-01-17 00:10:31+00:00,2024-12-30 07:38:38+00:00,https://github.com/frappe/erpnext/pull/44962,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2565089821, 'issue_id': 2762719924, 'author': 'ruthra-kumar', 'body': '@vishakhdesai \r\n\r\nRegression in Bank Transaction test cases https://github.com/frappe/erpnext/actions/runs/12542850455/job/34973172535?pr=44962', 'created_at': datetime.datetime(2024, 12, 30, 6, 49, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2566916011, 'issue_id': 2762719924, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.78.6 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.6)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2025, 1, 1, 8, 57, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2567587985, 'issue_id': 2762719924, 'author': 'barredterra', 'body': '@vishakhdesai please avoid changing function signatures in backports, since this breaks our downstream app https://github.com/alyf-de/banking', 'created_at': datetime.datetime(2025, 1, 2, 10, 53, 55, tzinfo=datetime.timezone.utc)}]","ruthra-kumar (Assginee) on (2024-12-30 06:49:59 UTC): @vishakhdesai 

Regression in Bank Transaction test cases https://github.com/frappe/erpnext/actions/runs/12542850455/job/34973172535?pr=44962

frappe-pr-bot on (2025-01-01 08:57:23 UTC): :tada: This PR is included in version 14.78.6 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.6)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

barredterra on (2025-01-02 10:53:55 UTC): @vishakhdesai please avoid changing function signatures in backports, since this breaks our downstream app https://github.com/alyf-de/banking

"
2762711570,pull_request,closed,,fix: update payment amount for partial pos return (backport #44065),"Issue:
When creating a POS partial return invoice, the payment table is not updating based on the qty and amount to pay.

Ref: [24091](https://support.frappe.io/helpdesk/tickets/24091)

Before:
[pos partial return issue.webm](https://github.com/user-attachments/assets/d0fd6061-1467-4f80-b6c6-ae80e40a4046)

After:
[pos partial return fixed.webm](https://github.com/user-attachments/assets/c30e8661-4dca-4845-97ff-2d66d05e2feb)

Backport Needed: v15
<hr>This is an automatic backport of pull request #44065 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-30 06:19:34+00:00,[],2025-01-16 00:10:28+00:00,2024-12-30 06:24:14+00:00,https://github.com/frappe/erpnext/pull/44961,"[('released', None)]","[{'comment_id': 2566916054, 'issue_id': 2762711570, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.78.6 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.6)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2025, 1, 1, 8, 57, 29, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2025-01-01 08:57:29 UTC): :tada: This PR is included in version 14.78.6 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.6)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2762691455,pull_request,closed,,refactor(test): make manufacturing test idempotent (backport #44958),"Tests on Manufactoring reports failed on a fresh site. Variable initialization should not rely on ambiguous data from DB.

https://github.com/frappe/erpnext/blob/e216547084950c529d5190c7d91c67017b232d72/erpnext/manufacturing/report/test_reports.py#L17<hr>This is an automatic backport of pull request #44958 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-30 06:01:26+00:00,['ruthra-kumar'],2025-01-14 00:10:22+00:00,2024-12-30 07:07:37+00:00,https://github.com/frappe/erpnext/pull/44960,[],"[{'comment_id': 2565057003, 'issue_id': 2762691455, 'author': 'mergify[bot]', 'body': 'Cherry-pick of f3be246df36e3e5295db3e3794c87c8dafe8c0fc has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-44958\nYour branch is up to date with \'origin/version-15-hotfix\'.\n\nYou are currently cherry-picking commit f3be246df3.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/manufacturing/report/test_reports.py\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 12, 30, 6, 1, 28, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-12-30 06:01:28 UTC): Cherry-pick of f3be246df36e3e5295db3e3794c87c8dafe8c0fc has failed:
```
On branch mergify/bp/version-15-hotfix/pr-44958
Your branch is up to date with 'origin/version-15-hotfix'.

You are currently cherry-picking commit f3be246df3.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/manufacturing/report/test_reports.py

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

"
2762691417,pull_request,closed,,refactor(test): make manufacturing test idempotent (backport #44958),"Tests on Manufactoring reports failed on a fresh site. Variable initialization should not rely on ambiguous data from DB.

https://github.com/frappe/erpnext/blob/e216547084950c529d5190c7d91c67017b232d72/erpnext/manufacturing/report/test_reports.py#L17<hr>This is an automatic backport of pull request #44958 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-30 06:01:23+00:00,['ruthra-kumar'],2025-01-16 00:10:29+00:00,2024-12-30 06:58:08+00:00,https://github.com/frappe/erpnext/pull/44959,"[('released', None)]","[{'comment_id': 2565056963, 'issue_id': 2762691417, 'author': 'mergify[bot]', 'body': 'Cherry-pick of f3be246df36e3e5295db3e3794c87c8dafe8c0fc has failed:\n```\nOn branch mergify/bp/version-14-hotfix/pr-44958\nYour branch is up to date with \'origin/version-14-hotfix\'.\n\nYou are currently cherry-picking commit f3be246df3.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/manufacturing/report/test_reports.py\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 12, 30, 6, 1, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2566916034, 'issue_id': 2762691417, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.78.6 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.6)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2025, 1, 1, 8, 57, 26, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-12-30 06:01:25 UTC): Cherry-pick of f3be246df36e3e5295db3e3794c87c8dafe8c0fc has failed:
```
On branch mergify/bp/version-14-hotfix/pr-44958
Your branch is up to date with 'origin/version-14-hotfix'.

You are currently cherry-picking commit f3be246df3.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/manufacturing/report/test_reports.py

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

frappe-pr-bot on (2025-01-01 08:57:26 UTC): :tada: This PR is included in version 14.78.6 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.6)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2762674002,pull_request,closed,,refactor(test): make manufacturing test idempotent,"Tests on Manufactoring reports failed on a fresh site. Variable initialization should not rely on ambiguous data from DB.

https://github.com/frappe/erpnext/blob/e216547084950c529d5190c7d91c67017b232d72/erpnext/manufacturing/report/test_reports.py#L17",ruthra-kumar,2024-12-30 05:36:46+00:00,[],2025-01-14 00:10:28+00:00,2024-12-30 05:59:58+00:00,https://github.com/frappe/erpnext/pull/44958,"[('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2762636054,pull_request,closed,,fix(report): Purchase Order Analysis pymysql.err,"![WhatsApp Image 2024-12-30 at 9 48 02 AM](https://github.com/user-attachments/assets/67e49d41-65ff-459d-8ba9-702b74ccac37)

",Vishnu7025,2024-12-30 04:36:26+00:00,[],2025-01-15 00:10:15+00:00,2024-12-31 06:51:57+00:00,https://github.com/frappe/erpnext/pull/44957,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]","[{'comment_id': 2565309247, 'issue_id': 2762636054, 'author': 'ruthra-kumar', 'body': '@Vishnu7025 \r\n\r\nThis issue is not replicating locally. Could you share replication steps?', 'created_at': datetime.datetime(2024, 12, 30, 10, 42, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2566096997, 'issue_id': 2762636054, 'author': 'Vishnu7025', 'body': '@ruthra-kumar Check for any scenario where the **get_data(filters)** function returns an empty list', 'created_at': datetime.datetime(2024, 12, 31, 3, 14, 34, tzinfo=datetime.timezone.utc)}]","ruthra-kumar on (2024-12-30 10:42:27 UTC): @Vishnu7025 

This issue is not replicating locally. Could you share replication steps?

Vishnu7025 (Issue Creator) on (2024-12-31 03:14:34 UTC): @ruthra-kumar Check for any scenario where the **get_data(filters)** function returns an empty list

"
2762624964,pull_request,closed,,fix: incorrect filter for BOM (backport #44954),"
https://github.com/user-attachments/assets/1a119a79-bcb2-4650-9798-7c74c047d79f

<hr>This is an automatic backport of pull request #44954 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-30 04:18:07+00:00,['rohitwaghchaure'],2025-01-14 00:09:51+00:00,2024-12-30 18:08:50+00:00,https://github.com/frappe/erpnext/pull/44956,[],[],
2762621074,pull_request,closed,,fix: SQL syntax error in Purchase Receipt query for empty filters (backport #44636),"Added early return for empty data

BEFORE:

error:

<img width=""1720"" alt=""Screenshot 2024-12-10 at 1 54 05 PM"" src=""https://github.com/user-attachments/assets/90f4bc3c-e723-4788-8cd7-cca0ca627c45"">

<img width=""1804"" alt=""Screenshot 2024-12-10 at 1 58 10 PM"" src=""https://github.com/user-attachments/assets/d917a614-e341-4033-8cea-afb193f5c56e"">

AFTER:

<img width=""1836"" alt=""Screenshot 2024-12-10 at 1 58 38 PM"" src=""https://github.com/user-attachments/assets/7d8fa4a8-3f1d-4cc2-9cde-c72e16aec3a1"">



<hr>This is an automatic backport of pull request #44636 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-30 04:11:10+00:00,[],2025-01-14 00:10:21+00:00,2024-12-30 07:08:03+00:00,https://github.com/frappe/erpnext/pull/44955,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2762616076,pull_request,closed,,fix: incorrect filter for BOM,"
https://github.com/user-attachments/assets/1a119a79-bcb2-4650-9798-7c74c047d79f

",rohitwaghchaure,2024-12-30 04:02:27+00:00,[],2025-01-14 00:10:29+00:00,2024-12-30 04:17:17+00:00,https://github.com/frappe/erpnext/pull/44954,"[('backport version-15-hotfix', '')]",[],
2762248108,pull_request,closed,,fix: Hold_to_On_Hold,Backport to version-15,mahsem,2024-12-29 13:16:17+00:00,['ruthra-kumar'],2025-01-21 00:10:15+00:00,2025-01-06 03:14:34+00:00,https://github.com/frappe/erpnext/pull/44952,"[('backport version-15-hotfix', '')]",[],
2762176131,pull_request,closed,,chore: update POT file,,frappe-pr-bot,2024-12-29 09:35:08+00:00,[],2025-01-13 00:11:21+00:00,2024-12-29 10:33:25+00:00,https://github.com/frappe/erpnext/pull/44951,[],[],
2761628776,pull_request,closed,,fix: postal_code_move_and_fixes,"Move Postal Code field before City field
 
Backport to version-15",mahsem,2024-12-28 08:26:47+00:00,['ruthra-kumar'],2025-02-07 00:10:19+00:00,2025-01-23 10:47:15+00:00,https://github.com/frappe/erpnext/pull/44950,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]","[{'comment_id': 2609514977, 'issue_id': 2761628776, 'author': 'mahsem', 'body': '@ruthra-kumar there is corresponding PR in frappe that should be applied to', 'created_at': datetime.datetime(2025, 1, 23, 11, 4, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609684255, 'issue_id': 2761628776, 'author': 'ruthra-kumar', 'body': '> @ruthra-kumar there is corresponding PR in frappe that should be applied to\n\nCan you share PR link?', 'created_at': datetime.datetime(2025, 1, 23, 12, 27, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610662691, 'issue_id': 2761628776, 'author': 'mahsem', 'body': '> > @ruthra-kumar there is corresponding PR in frappe that should be applied to\r\n> \r\n> Can you share PR link?\r\n\r\n@ruthra-kumar https://github.com/frappe/frappe/pull/28942', 'created_at': datetime.datetime(2025, 1, 23, 18, 36, 21, tzinfo=datetime.timezone.utc)}]","mahsem (Issue Creator) on (2025-01-23 11:04:05 UTC): @ruthra-kumar there is corresponding PR in frappe that should be applied to

ruthra-kumar (Assginee) on (2025-01-23 12:27:35 UTC): Can you share PR link?

mahsem (Issue Creator) on (2025-01-23 18:36:21 UTC): @ruthra-kumar https://github.com/frappe/frappe/pull/28942

"
2761172572,pull_request,closed,,Add phone number field when channel is phone on Payment Request doctype,"
This PR introduces enhancements to the Payment Request functionality in ERPNext, specifically targeted at phone-based payment channels like **Mpesa STK Push**. The feature allows the system to capture and process a phone number during payment requests, ensuring seamless integration with payment gateways. Fixing Issue #44945 
![image](https://github.com/user-attachments/assets/cf372b58-cba9-4ee6-a972-20d055b334e6)

----------

#### Changes Implemented:

1.  **Added Phone Number Field**:
    
    -   Introduced a new **Phone Number** field in the **Payment Request** doctype.
    -   The field is conditionally visible and required when the selected payment channel is **Phone**.
2.  **External Argument Handling**:
    
    -   Enhanced the system to accept a **Phone Number** via external arguments (e.g., from Webshop or POS).

3.  **Integration with `request_for_payment`**:
    -   Included the Phone Number in the arguments passed to the `request_for_payment` method.
    -   Ensured compatibility with the **Mpesa Settings** doctype, where the STK push process is initiated.

----------

#### Key Benefits:

1.  **Streamlined Payment Workflow**:
    -   Automatically captures and utilizes the payer’s phone number, removing manual intervention.
2.  **Improved Integration**:
    -   Seamlessly supports Webshop and POS scenarios where phone numbers are essential for payment processing.
3.  **Enhanced User Experience**:
    -   Enables real-time STK push payments, particularly useful for Mpesa and similar phone-based payment systems.
    
 Should be merged to both versions 15+ going forward

",maniamartial,2024-12-27 18:38:21+00:00,['ruthra-kumar'],2025-01-18 00:09:57+00:00,2025-01-03 23:53:41+00:00,https://github.com/frappe/erpnext/pull/44949,"[('needs-tests', 'This PR needs automated unit-tests.')]","[{'comment_id': 2569944046, 'issue_id': 2761172572, 'author': 'ruthra-kumar', 'body': '@mergify copy develop', 'created_at': datetime.datetime(2025, 1, 3, 23, 53, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569944211, 'issue_id': 2761172572, 'author': 'mergify[bot]', 'body': '> copy develop\n\n#### ✅ Pull request copies have been created\n\n<details>\n\n* [#45081 Add phone number field when channel is phone on Payment Request doctype (copy #44949)](https://github.com/frappe/erpnext/pull/45081) has been created for branch `develop` but encountered conflicts\n\n</details>\n\n\n<!---\nDO NOT EDIT\n-*- Mergify Payload -*-\n{""command"": ""copy develop"", ""conclusion"": ""success"", ""action_is_running"": true}\n-*- Mergify Payload End -*-\n-->', 'created_at': datetime.datetime(2025, 1, 3, 23, 54, 17, tzinfo=datetime.timezone.utc)}]","ruthra-kumar (Assginee) on (2025-01-03 23:53:57 UTC): @mergify copy develop

mergify[bot] on (2025-01-03 23:54:17 UTC): #### ✅ Pull request copies have been created

<details>

* [#45081 Add phone number field when channel is phone on Payment Request doctype (copy #44949)](https://github.com/frappe/erpnext/pull/45081) has been created for branch `develop` but encountered conflicts

</details>


<!---
DO NOT EDIT
-*- Mergify Payload -*-
{""command"": ""copy develop"", ""conclusion"": ""success"", ""action_is_running"": true}
-*- Mergify Payload End -*-
-->

"
2761153985,pull_request,closed,,Add Phone Number Field to Payment Request,"This PR introduces enhancements to the Payment Request functionality in ERPNext, specifically targeted at phone-based payment channels like **Mpesa STK Push**. The feature allows the system to capture and process a phone number during payment requests, ensuring seamless integration with payment gateways.

----------

#### Changes Implemented:

1.  **Added Phone Number Field**:
    
    -   Introduced a new **Phone Number** field in the **Payment Request** doctype.
    -   The field is conditionally visible and required when the selected payment channel is **Phone**.
2.  **External Argument Handling**:
    
    -   Enhanced the system to accept a **Phone Number** via external arguments (e.g., from Webshop or POS).

3.  **Integration with `request_for_payment`**:
    -   Included the Phone Number in the arguments passed to the `request_for_payment` method.
    -   Ensured compatibility with the **Mpesa Settings** doctype, where the STK push process is initiated.

----------

#### Key Benefits:

1.  **Streamlined Payment Workflow**:
    -   Automatically captures and utilizes the payer’s phone number, removing manual intervention.
2.  **Improved Integration**:
    -   Seamlessly supports Webshop and POS scenarios where phone numbers are essential for payment processing.
3.  **Enhanced User Experience**:
    -   Enables real-time STK push payments, particularly useful for Mpesa and similar phone-based payment systems.",maniamartial,2024-12-27 18:12:35+00:00,[],2025-01-11 00:10:35+00:00,2024-12-27 18:13:46+00:00,https://github.com/frappe/erpnext/pull/44948,"[('stock', None), ('needs-tests', 'This PR needs automated unit-tests.')]",[],
2761148640,pull_request,closed,,Add Phone Number Field to Payment Request,"#### Summary:
Fixing issue #44945 

This PR introduces enhancements to the Payment Request functionality in ERPNext, specifically targeted at phone-based payment channels like **Mpesa STK Push**. The feature allows the system to capture and process a phone number during payment requests, ensuring seamless integration with payment gateways.

----------
![Uploading image.png…]()


#### Changes Implemented:

1.  **Added Phone Number Field**:
    
    -   Introduced a new **Phone Number** field in the **Payment Request** doctype.
    -   The field is conditionally visible and required when the selected payment channel is **Phone**.
2.  **External Argument Handling**:
    
    -   Enhanced the system to accept a **Phone Number** via external arguments (e.g., from Webshop or POS).

3.  **Integration with `request_for_payment`**:
    -   Included the Phone Number in the arguments passed to the `request_for_payment` method.
    -   Ensured compatibility with the **Mpesa Settings** doctype, where the STK push process is initiated.
",maniamartial,2024-12-27 18:05:41+00:00,[],2025-01-11 00:10:36+00:00,2024-12-27 18:06:16+00:00,https://github.com/frappe/erpnext/pull/44946,"[('needs-tests', 'This PR needs automated unit-tests.')]","[{'comment_id': 2563922061, 'issue_id': 2761148640, 'author': 'mergify[bot]', 'body': 'This pull request has been automatically closed by Mergify.', 'created_at': datetime.datetime(2024, 12, 27, 18, 6, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2563922073, 'issue_id': 2761148640, 'author': 'mergify[bot]', 'body': '@maniamartial, thanks for the contribution, but we do not accept pull requests on a stable branch. Please raise PR on an appropriate hotfix branch.\nhttps://github.com/frappe/erpnext/wiki/Pull-Request-Checklist#which-branch', 'created_at': datetime.datetime(2024, 12, 27, 18, 6, 17, tzinfo=datetime.timezone.utc)}]","mergify[bot] on (2024-12-27 18:06:16 UTC): This pull request has been automatically closed by Mergify.

mergify[bot] on (2024-12-27 18:06:17 UTC): @maniamartial, thanks for the contribution, but we do not accept pull requests on a stable branch. Please raise PR on an appropriate hotfix branch.
https://github.com/frappe/erpnext/wiki/Pull-Request-Checklist#which-branch

"
2760860308,pull_request,closed,,fix: sync translations from crowdin,,frappe-pr-bot,2024-12-27 13:02:14+00:00,[],2025-01-13 00:11:20+00:00,2024-12-29 17:31:47+00:00,https://github.com/frappe/erpnext/pull/44944,"[('translation', None)]",[],
2760833898,pull_request,closed,,fix: Bank Reconciliation Statement Report Company Filter,"Added a Company Filter to the Bank Reconciliation Statement Report for filtering data more effectively based on company.
Issue: #44806
",creative-paramu,2024-12-27 12:36:56+00:00,['ruthra-kumar'],2025-01-21 00:10:26+00:00,2025-01-06 03:05:44+00:00,https://github.com/frappe/erpnext/pull/44943,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2760754151,pull_request,closed,,fix: ignore validate while making WO from MR (backport #44939),<hr>This is an automatic backport of pull request #44939 done by [Mergify](https://mergify.com).,mergify[bot],2024-12-27 11:15:06+00:00,['rohitwaghchaure'],2025-01-14 00:09:52+00:00,2024-12-30 18:08:14+00:00,https://github.com/frappe/erpnext/pull/44942,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2760752691,pull_request,closed,,fix: ignore inventory dimension for SABB and Pick List (backport #44933),<hr>This is an automatic backport of pull request #44933 done by [Mergify](https://mergify.com).,mergify[bot],2024-12-27 11:13:39+00:00,['rohitwaghchaure'],2025-01-14 00:09:53+00:00,2024-12-30 18:07:52+00:00,https://github.com/frappe/erpnext/pull/44941,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2760744155,pull_request,closed,,fix(Bank Reconciliation Tool): fetch amount in company  currency,"**Issue:**
The Bank Reconciliation Tool fetches the USD amount but displays it as the company currency INR.
**ref: [27881](https://support.frappe.io/helpdesk/tickets/27881)**

**Before:**

[Screencast from 27-12-24 04:28:53 PM IST.webm](https://github.com/user-attachments/assets/65dfa72c-1d11-4389-8770-c2767ffe215d)

**After:**

[Screencast from 27-12-24 04:29:49 PM IST.webm](https://github.com/user-attachments/assets/b554c0d1-7e25-4637-990f-934288729667)

**Backport needed for v15**",DHINESH00,2024-12-27 11:05:03+00:00,['ruthra-kumar'],2025-01-15 00:10:06+00:00,2024-12-31 10:27:27+00:00,https://github.com/frappe/erpnext/pull/44940,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2760668677,pull_request,closed,,fix: ignore validate while making WO from MR,,rohitwaghchaure,2024-12-27 09:58:24+00:00,[],2025-01-11 00:10:39+00:00,2024-12-27 11:13:11+00:00,https://github.com/frappe/erpnext/pull/44939,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2760626188,pull_request,closed,,fix: ignore duplicate while creating default templates (backport #44904),Issue: [Support Ticket  - 21404](https://support.frappe.io/app/hd-ticket/21404)<hr>This is an automatic backport of pull request #44904 done by [Mergify](https://mergify.com).,mergify[bot],2024-12-27 09:17:46+00:00,[],2025-01-15 00:10:01+00:00,2024-12-31 11:31:03+00:00,https://github.com/frappe/erpnext/pull/44936,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2760544601,pull_request,closed,,fix: clear payment schedule in purchase invoice for is_paid (backport #44892)," Issue: [Support Ticket  - 25598](https://support.frappe.io/app/hd-ticket/25598)

When `is_paid` is marked for a purchase invoice, the `payment_terms_template` was not cleared, which resulted in an error during the validation process.
<img width=""705"" alt=""Screenshot 2024-12-24 at 4 46 41 PM"" src=""https://github.com/user-attachments/assets/f975b790-8429-41b4-b406-52a75c514255"" />
<hr>This is an automatic backport of pull request #44892 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-27 07:54:47+00:00,[],2025-01-11 00:10:42+00:00,2024-12-27 08:22:26+00:00,https://github.com/frappe/erpnext/pull/44935,"[('accounts', ''), ('needs-tests', 'This PR needs automated unit-tests.')]",[],
2760544493,pull_request,closed,,fix: clear payment schedule in purchase invoice for is_paid (backport #44892)," Issue: [Support Ticket  - 25598](https://support.frappe.io/app/hd-ticket/25598)

When `is_paid` is marked for a purchase invoice, the `payment_terms_template` was not cleared, which resulted in an error during the validation process.
<img width=""705"" alt=""Screenshot 2024-12-24 at 4 46 41 PM"" src=""https://github.com/user-attachments/assets/f975b790-8429-41b4-b406-52a75c514255"" />
<hr>This is an automatic backport of pull request #44892 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-27 07:54:41+00:00,[],2025-01-16 00:10:27+00:00,2024-12-27 09:14:51+00:00,https://github.com/frappe/erpnext/pull/44934,"[('accounts', ''), ('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2563428803, 'issue_id': 2760544493, 'author': 'mergify[bot]', 'body': 'Cherry-pick of e1fc239f3d6e737d1acf022db274fedf4a396af0 has failed:\n```\nOn branch mergify/bp/version-14-hotfix/pr-44892\nYour branch is up to date with \'origin/version-14-hotfix\'.\n\nYou are currently cherry-picking commit e1fc239f3d.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/accounts/doctype/purchase_invoice/purchase_invoice.js\n\tboth modified:   erpnext/controllers/accounts_controller.py\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nCherry-pick of 0589fa7f3efcc826d856be71c20c7ad684f1c822 has failed:\n```\nOn branch mergify/bp/version-14-hotfix/pr-44892\nYour branch is ahead of \'origin/version-14-hotfix\' by 1 commit.\n  (use ""git push"" to publish your local commits)\n\nYou are currently cherry-picking commit 0589fa7f3e.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/controllers/accounts_controller.py\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 12, 27, 7, 54, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2566916075, 'issue_id': 2760544493, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.78.6 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.6)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2025, 1, 1, 8, 57, 32, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-12-27 07:54:43 UTC): Cherry-pick of e1fc239f3d6e737d1acf022db274fedf4a396af0 has failed:
```
On branch mergify/bp/version-14-hotfix/pr-44892
Your branch is up to date with 'origin/version-14-hotfix'.

You are currently cherry-picking commit e1fc239f3d.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/accounts/doctype/purchase_invoice/purchase_invoice.js
	both modified:   erpnext/controllers/accounts_controller.py

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


Cherry-pick of 0589fa7f3efcc826d856be71c20c7ad684f1c822 has failed:
```
On branch mergify/bp/version-14-hotfix/pr-44892
Your branch is ahead of 'origin/version-14-hotfix' by 1 commit.
  (use ""git push"" to publish your local commits)

You are currently cherry-picking commit 0589fa7f3e.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/controllers/accounts_controller.py

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

frappe-pr-bot on (2025-01-01 08:57:32 UTC): :tada: This PR is included in version 14.78.6 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.6)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2760454431,pull_request,closed,,fix: ignore inventory dimension for SABB and Pick List,,rohitwaghchaure,2024-12-27 06:17:34+00:00,[],2025-01-11 00:10:40+00:00,2024-12-27 07:27:52+00:00,https://github.com/frappe/erpnext/pull/44933,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2760445866,pull_request,closed,,fix: limit discount value to 100 in pos cart (backport #44916),"In POS Cart, the discount field could accept a value of more than 100, resulting in a negative grand total. 

![image](https://github.com/user-attachments/assets/742c345d-c3e4-482a-983f-8398a2d3b111)

However, when clicking the ""Checkout"" button, an error message 'Incorrect value:Grand Total (Company Currency) must be >= 0.0' was displayed.

![image](https://github.com/user-attachments/assets/b0f278d9-7bba-46fa-92d4-dd033b16892f)

This fix aims to inform users that the maximum discount can be 100% when filling out the discount field and resets the discount to 0% in case the user enters a value of more than 100.

![image](https://github.com/user-attachments/assets/124b801a-54db-4b5c-bda7-f3046d6a52c4)

<hr>This is an automatic backport of pull request #44916 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-27 06:07:20+00:00,['diptanilsaha'],2025-01-14 00:10:13+00:00,2024-12-30 08:30:08+00:00,https://github.com/frappe/erpnext/pull/44932,[],[],
2760445327,pull_request,closed,,fix: fetch advance payment entries on pos invoice (backport #44856),"Resolved the server error when clicking the 'Get Advances Received' button in the POS Invoice's 'Advance Payment' section.

Before:

![image](https://github.com/user-attachments/assets/e63c919c-504e-437b-a2a9-fda4ec4f7253)

After:

![image](https://github.com/user-attachments/assets/71c10bcd-090a-490a-9d28-1f310a02dcd7)

fixes: #43715 #44518 <hr>This is an automatic backport of pull request #44856 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-27 06:06:35+00:00,['diptanilsaha'],2025-01-14 00:10:14+00:00,2024-12-30 08:29:43+00:00,https://github.com/frappe/erpnext/pull/44931,"[('accounts', ''), ('needs-tests', 'This PR needs automated unit-tests.')]",[],
2760444995,pull_request,closed,,fix (pos closing entry): validation for 100 pc discount on pos invoice (backport #44899),"The following error occurs when a POS closing entry is submitted with a POS invoice with a 100% discount.

![image](https://github.com/user-attachments/assets/2c622fb4-fba0-4fa4-aabb-2f8125971466)

The above message is generated every time a POS Closing Entry is created. It validates that each Linked Sales Invoice generated through the POS has at least one associated `SalesInvoicePayment`. However, for invoices that have a 100% discount, no payment is required and thus, no `SalesInvoicePayment` document is appended to the Invoice.

@nabinhait suggested that validation should only take place for invoices having a positive Grand Total to fix this issue.<hr>This is an automatic backport of pull request #44899 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-27 06:06:08+00:00,['diptanilsaha'],2025-01-14 00:10:15+00:00,2024-12-30 08:28:58+00:00,https://github.com/frappe/erpnext/pull/44930,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2760417005,pull_request,closed,,feat: add company level validation for accounting dimensions,"Issue:
Accounting Dimension Validations are not happening as per Company

ref: [22387](https://support.frappe.io/helpdesk/tickets/22387)

Before:

[company_validation_bfr.webm](https://github.com/user-attachments/assets/4d7885c2-216a-4dcc-b56d-3dd1efd23b67)

After:

[company_validation_af.webm](https://github.com/user-attachments/assets/848ca79c-0fe0-4c5d-b82c-c3fb9ecae026)

Documentation: no docs",Sugesh393,2024-12-27 05:30:41+00:00,[],2025-01-24 00:10:16+00:00,2025-01-09 08:23:32+00:00,https://github.com/frappe/erpnext/pull/44928,[],[],
2760415066,pull_request,closed,,fix: strings for translation (backport #44816),Backport to version-15<hr>This is an automatic backport of pull request #44816 done by [Mergify](https://mergify.com).,mergify[bot],2024-12-27 05:28:03+00:00,[],2025-01-11 00:10:49+00:00,2024-12-27 06:03:09+00:00,https://github.com/frappe/erpnext/pull/44927,"[('accounts', '')]","[{'comment_id': 2563333502, 'issue_id': 2760415066, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 3be633f6f1446af09631b3ce2253696b146866c2 has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-44816\nYour branch is up to date with \'origin/version-15-hotfix\'.\n\nYou are currently cherry-picking commit 3be633f6f1.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nChanges to be committed:\n\tmodified:   erpnext/accounts/report/item_wise_sales_register/item_wise_sales_register.py\n\tmodified:   erpnext/manufacturing/report/exponential_smoothing_forecasting/exponential_smoothing_forecasting.py\n\tmodified:   erpnext/manufacturing/report/production_analytics/production_analytics.py\n\tmodified:   erpnext/public/js/bom_configurator/bom_configurator.bundle.js\n\tmodified:   erpnext/stock/doctype/material_request/material_request.js\n\tmodified:   erpnext/templates/includes/footer/footer_extension.html\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/accounts/utils.py\n\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 12, 27, 5, 28, 5, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-12-27 05:28:05 UTC): Cherry-pick of 3be633f6f1446af09631b3ce2253696b146866c2 has failed:
```
On branch mergify/bp/version-15-hotfix/pr-44816
Your branch is up to date with 'origin/version-15-hotfix'.

You are currently cherry-picking commit 3be633f6f1.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Changes to be committed:
	modified:   erpnext/accounts/report/item_wise_sales_register/item_wise_sales_register.py
	modified:   erpnext/manufacturing/report/exponential_smoothing_forecasting/exponential_smoothing_forecasting.py
	modified:   erpnext/manufacturing/report/production_analytics/production_analytics.py
	modified:   erpnext/public/js/bom_configurator/bom_configurator.bundle.js
	modified:   erpnext/stock/doctype/material_request/material_request.js
	modified:   erpnext/templates/includes/footer/footer_extension.html

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/accounts/utils.py

```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

"
2760413126,pull_request,closed,,fix: relabel rate to tax rate (backport #44815),"Rate in those cases is Tax Rate

Backport to version 15<hr>This is an automatic backport of pull request #44815 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-27 05:25:18+00:00,[],2025-01-11 00:10:51+00:00,2024-12-27 05:25:54+00:00,https://github.com/frappe/erpnext/pull/44926,[],[],
2759791510,pull_request,closed,,fix: not able to make purchase receipt from SCR (backport #44919),"For older subcontracting orders users are not able to make purchase receipt from the subcontracting receipt. Because the older entries has no reference of purchase_order_item which is required to map PO items with purchase receipt.


<hr>This is an automatic backport of pull request #44919 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-26 13:41:41+00:00,['rohitwaghchaure'],2025-01-10 00:11:17+00:00,2024-12-26 17:28:11+00:00,https://github.com/frappe/erpnext/pull/44925,[],[],
2759735006,pull_request,closed,,fix: Show order tax amount in customer currency on the portal (backport #44915),"Previously, the system was showing the tax amount on the customer portal in the company's base currency instead of customer currency. Now it shows in the customer currency.<hr>This is an automatic backport of pull request #44915 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-26 12:49:57+00:00,['nabinhait'],2025-01-11 00:10:50+00:00,2024-12-27 05:54:57+00:00,https://github.com/frappe/erpnext/pull/44923,[],[],
2759734349,pull_request,closed,,fix: Show order tax amount in customer currency on the portal (backport #44915),"Previously, the system was showing the tax amount on the customer portal in the company's base currency instead of customer currency. Now it shows in the customer currency.<hr>This is an automatic backport of pull request #44915 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-26 12:49:32+00:00,['nabinhait'],2025-01-16 00:10:26+00:00,2024-12-27 05:55:59+00:00,https://github.com/frappe/erpnext/pull/44922,"[('conflicts', None), ('released', None)]","[{'comment_id': 2562658295, 'issue_id': 2759734349, 'author': 'mergify[bot]', 'body': 'Cherry-pick of b998933ef032f1fb2be78c0e9e4a3ba374db6b57 has failed:\n```\nOn branch mergify/bp/version-14-hotfix/pr-44915\nYour branch is up to date with \'origin/version-14-hotfix\'.\n\nYou are currently cherry-picking commit b998933ef0.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/templates/includes/order/order_taxes.html\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 12, 26, 12, 49, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2566916089, 'issue_id': 2759734349, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.78.6 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.6)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2025, 1, 1, 8, 57, 35, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-12-26 12:49:34 UTC): Cherry-pick of b998933ef032f1fb2be78c0e9e4a3ba374db6b57 has failed:
```
On branch mergify/bp/version-14-hotfix/pr-44915
Your branch is up to date with 'origin/version-14-hotfix'.

You are currently cherry-picking commit b998933ef0.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/templates/includes/order/order_taxes.html

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

frappe-pr-bot on (2025-01-01 08:57:35 UTC): :tada: This PR is included in version 14.78.6 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.6)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2759674464,pull_request,closed,,fix: get item tax template based on posting date,"Item tax template is not validated based on the Posting Date in the Sales Invoice.

backport-version-15-hotfix
backport-version-14-hotfix",ljain112,2024-12-26 11:49:16+00:00,['ruthra-kumar'],2025-01-14 00:10:23+00:00,2024-12-30 06:58:58+00:00,https://github.com/frappe/erpnext/pull/44921,"[('stock', None), ('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2759631997,pull_request,closed,,fix: pos payment using non-default mode of payment,"![image](https://github.com/user-attachments/assets/1815fc6f-0677-463b-a58b-3b161d839546)

fixes: #41108 ",diptanilsaha,2024-12-26 11:03:18+00:00,[],2025-01-14 00:10:19+00:00,2024-12-30 07:57:50+00:00,https://github.com/frappe/erpnext/pull/44920,"[('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2759620918,pull_request,closed,,fix: not able to make purchase receipt from SCR,"For older subcontracting orders users are not able to make purchase receipt from the subcontracting receipt. Because the older entries has no reference of purchase_order_item which is required to map PO items with purchase receipt.


",rohitwaghchaure,2024-12-26 10:52:12+00:00,[],2025-01-10 00:11:19+00:00,2024-12-26 13:39:46+00:00,https://github.com/frappe/erpnext/pull/44919,"[('backport version-15-hotfix', '')]",[],
2759598113,pull_request,closed,,fix: material request status (backport #44917),Material request status should be Partially Received and not Partially Ordered for the material transfer type <hr>This is an automatic backport of pull request #44917 done by [Mergify](https://mergify.com).,mergify[bot],2024-12-26 10:29:45+00:00,['rohitwaghchaure'],2025-01-10 00:11:16+00:00,2024-12-26 17:28:29+00:00,https://github.com/frappe/erpnext/pull/44918,[],[],
2759569845,pull_request,closed,,fix: material request status,Material request status should be Partially Received and not Partially Ordered for the material transfer type ,rohitwaghchaure,2024-12-26 10:05:40+00:00,[],2025-01-10 00:11:21+00:00,2024-12-26 10:28:40+00:00,https://github.com/frappe/erpnext/pull/44917,"[('backport version-15-hotfix', '')]",[],
2759508219,pull_request,closed,,fix: limit discount value to 100 in pos cart,"In POS Cart, the discount field could accept a value of more than 100, resulting in a negative grand total. 

![image](https://github.com/user-attachments/assets/742c345d-c3e4-482a-983f-8398a2d3b111)

However, when clicking the ""Checkout"" button, an error message 'Incorrect value:Grand Total (Company Currency) must be >= 0.0' was displayed.

![image](https://github.com/user-attachments/assets/b0f278d9-7bba-46fa-92d4-dd033b16892f)

This fix aims to inform users that the maximum discount can be 100% when filling out the discount field and resets the discount to 0% in case the user enters a value of more than 100.

![image](https://github.com/user-attachments/assets/124b801a-54db-4b5c-bda7-f3046d6a52c4)

",diptanilsaha,2024-12-26 09:11:44+00:00,[],2025-01-11 00:10:45+00:00,2024-12-26 12:45:54+00:00,https://github.com/frappe/erpnext/pull/44916,"[('backport version-15-hotfix', '')]",[],
2759389377,pull_request,closed,,fix: Show order tax amount in customer currency on the portal,"Previously, the system was showing the tax amount on the customer portal in the company's base currency instead of customer currency. Now it shows in the customer currency.",nabinhait,2024-12-26 07:16:38+00:00,[],2025-01-10 00:11:20+00:00,2024-12-26 12:48:35+00:00,https://github.com/frappe/erpnext/pull/44915,"[('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2759300769,pull_request,closed,,fix: allow zero valuation rate (backport #44902) (backport #44910),If the valuation rate is zero for serial no then do not call get_fallback_rate<hr>This is an automatic backport of pull request #44902 done by [Mergify](https://mergify.com).<hr>This is an automatic backport of pull request #44910 done by [Mergify](https://mergify.com).,mergify[bot],2024-12-26 05:34:12+00:00,[],2025-01-10 00:11:25+00:00,2024-12-26 06:00:55+00:00,https://github.com/frappe/erpnext/pull/44913,"[('stock', None), ('needs-tests', 'This PR needs automated unit-tests.')]",[],
2759265039,pull_request,closed,,feat: add permission check to sales analytics report,"issue: The sales analytics report doesn't check permissions.
fix: add permission check to the sales analytic report

Ref: 24503

Before:

[before_fix.webm](https://github.com/user-attachments/assets/7bd7c544-b976-40cd-909d-a12bb2dac9a6)

After:

[after_fix.webm](https://github.com/user-attachments/assets/42b04474-6663-45bf-a182-121a2dd9791d)

Backport Needed: v15

",Bhavan23,2024-12-26 04:38:59+00:00,[],2025-01-30 00:10:25+00:00,2025-01-15 06:39:00+00:00,https://github.com/frappe/erpnext/pull/44911,"[('needs-tests', 'This PR needs automated unit-tests.'), ('inactive', '')]","[{'comment_id': 2585044636, 'issue_id': 2759265039, 'author': 'stale[bot]', 'body': ""This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing."", 'created_at': datetime.datetime(2025, 1, 11, 3, 27, 34, tzinfo=datetime.timezone.utc)}]","stale[bot] on (2025-01-11 03:27:34 UTC): This pull request has been automatically marked as inactive because it has not had recent activity. It will be closed within 3 days if no further activity occurs, but it only takes a comment to keep a contribution alive :) Also, even if it is closed, you can always reopen the PR when you're ready. Thank you for contributing.

"
2758895183,pull_request,closed,,fix: allow zero valuation rate (backport #44902),If the valuation rate is zero for serial no then do not call get_fallback_rate<hr>This is an automatic backport of pull request #44902 done by [Mergify](https://mergify.com).,mergify[bot],2024-12-25 16:51:48+00:00,['rohitwaghchaure'],2025-01-10 00:11:26+00:00,2024-12-26 05:33:14+00:00,https://github.com/frappe/erpnext/pull/44910,"[('stock', None), ('needs-tests', 'This PR needs automated unit-tests.')]","[{'comment_id': 2562174819, 'issue_id': 2758895183, 'author': 'rohitwaghchaure', 'body': '@Mergifyio backport version-15', 'created_at': datetime.datetime(2024, 12, 26, 5, 33, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2562174922, 'issue_id': 2758895183, 'author': 'mergify[bot]', 'body': '> backport version-15\n\n#### ✅ Backports have been created\n\n<details>\n\n* [#44913 fix: allow zero valuation rate (backport #44902) (backport #44910)](https://github.com/frappe/erpnext/pull/44913) has been created for branch `version-15`\n\n</details>\n\n\n<!---\nDO NOT EDIT\n-*- Mergify Payload -*-\n{""command"": ""backport version-15"", ""conclusion"": ""success"", ""action_is_running"": true}\n-*- Mergify Payload End -*-\n-->', 'created_at': datetime.datetime(2024, 12, 26, 5, 33, 49, tzinfo=datetime.timezone.utc)}]","rohitwaghchaure (Assginee) on (2024-12-26 05:33:37 UTC): @Mergifyio backport version-15

mergify[bot] (Issue Creator) on (2024-12-26 05:33:49 UTC): #### ✅ Backports have been created

<details>

* [#44913 fix: allow zero valuation rate (backport #44902) (backport #44910)](https://github.com/frappe/erpnext/pull/44913) has been created for branch `version-15`

</details>


<!---
DO NOT EDIT
-*- Mergify Payload -*-
{""command"": ""backport version-15"", ""conclusion"": ""success"", ""action_is_running"": true}
-*- Mergify Payload End -*-
-->

"
2758876120,pull_request,closed,,Update delivery_note.js,"<!--

Some key notes before you open a PR:

 1. Select which branch should this PR be merged in?
 2. PR name follows [convention](http://karma-runner.github.io/4.0/dev/git-commit-msg.html)
 3. All tests pass locally, UI and Unit tests
 4. All business logic and validations must be on the server-side
 5. Update necessary Documentation
 6. Put `closes #XXXX` in your comment to auto-close the issue that your PR fixes


Also, if you're new here

- Documentation Guidelines => https://github.com/frappe/erpnext/wiki/Updating-Documentation

- Contribution Guide => https://github.com/frappe/erpnext/blob/develop/.github/CONTRIBUTING.md

- Pull Request Checklist => https://github.com/frappe/erpnext/wiki/Pull-Request-Checklist

-->

> Please provide enough information so that others can review your pull request:

<!-- You can skip this if you're fixing a typo or updating existing documentation -->

> Explain the **details** for making this change. What existing problem does the pull request solve?

<!-- Example: When ""Adding a function to do X"", explain why it is necessary to have a way to do X. -->

> Screenshots/GIFs

<!-- Add images/recordings to better visualize the change: expected/current behviour -->
",Rajnithakur7,2024-12-25 16:02:00+00:00,[],2025-01-09 00:11:25+00:00,2024-12-25 16:02:39+00:00,https://github.com/frappe/erpnext/pull/44908,[],"[{'comment_id': 2561938218, 'issue_id': 2758876120, 'author': 'mergify[bot]', 'body': 'This pull request has been automatically closed by Mergify.', 'created_at': datetime.datetime(2024, 12, 25, 16, 2, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2561938224, 'issue_id': 2758876120, 'author': 'mergify[bot]', 'body': '@Rajnithakur7, thanks for the contribution, but we do not accept pull requests on a stable branch. Please raise PR on an appropriate hotfix branch.\nhttps://github.com/frappe/erpnext/wiki/Pull-Request-Checklist#which-branch', 'created_at': datetime.datetime(2024, 12, 25, 16, 2, 41, tzinfo=datetime.timezone.utc)}]","mergify[bot] on (2024-12-25 16:02:40 UTC): This pull request has been automatically closed by Mergify.

mergify[bot] on (2024-12-25 16:02:41 UTC): @Rajnithakur7, thanks for the contribution, but we do not accept pull requests on a stable branch. Please raise PR on an appropriate hotfix branch.
https://github.com/frappe/erpnext/wiki/Pull-Request-Checklist#which-branch

"
2758795339,pull_request,closed,,fix: sync translations from crowdin,,frappe-pr-bot,2024-12-25 13:00:09+00:00,['ruthra-kumar'],2025-01-11 00:10:48+00:00,2024-12-27 06:04:32+00:00,https://github.com/frappe/erpnext/pull/44907,"[('translation', None)]",[],
2758765942,pull_request,closed,,fix: set/update billing address on change of company,"In the Purchase Invoice, the billing address is not being set correctly during onload. Additionally, when the company is updated, the billing address does not change accordingly.

Issue: [Support Ticket  - 20620](https://support.frappe.io/app/hd-ticket/20620)",Sanket322,2024-12-25 12:06:05+00:00,['ruthra-kumar'],2025-01-14 00:10:25+00:00,2024-12-30 06:52:08+00:00,https://github.com/frappe/erpnext/pull/44906,"[('backport version-15-hotfix', '')]",[],
2758687556,pull_request,closed,,fix: ignore duplicate while creating default templates,Issue: [Support Ticket  - 21404](https://support.frappe.io/app/hd-ticket/21404),Sanket322,2024-12-25 09:56:13+00:00,['ruthra-kumar'],2025-01-11 00:10:41+00:00,2024-12-27 09:16:59+00:00,https://github.com/frappe/erpnext/pull/44904,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2758656347,pull_request,closed,,fix: set paid amount in party currency in bank reco payment entry,"Issue:
When bank account currency and party account currency are different payment entry created from bank reco is incorrect because it doesn't take into consideration party account currency.

Steps to replicate:

- Create a Bank Account in USD.
- Create a Customer in INR currency.
- Create a Bank Transaction with the Bank Account.
- Now from Bank Reco create payment entry.

Payment Entry will not consider party account currency.

Before: 
![image](https://github.com/user-attachments/assets/500d79ce-e893-42c9-aa48-211387590aa9)

After:
![image](https://github.com/user-attachments/assets/d0d7d3b1-ea3a-4fdc-8702-9a5a05bcab97)


Frappe Support Issue: https://support.frappe.io/app/hd-ticket/27983
backport-version-15
backport-version-14

",ljain112,2024-12-25 09:09:46+00:00,['ruthra-kumar'],2025-01-15 00:10:09+00:00,2024-12-31 10:22:35+00:00,https://github.com/frappe/erpnext/pull/44903,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2758643451,pull_request,closed,,fix: allow zero valuation rate,If the valuation rate is zero for serial no then do not call get_fallback_rate,rohitwaghchaure,2024-12-25 08:52:13+00:00,[],2025-01-09 00:11:24+00:00,2024-12-25 16:50:23+00:00,https://github.com/frappe/erpnext/pull/44902,"[('stock', None), ('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2758101624,pull_request,closed,,fix (pos closing entry): validation for 100 pc discount on pos invoice,"The following error occurs when a POS closing entry is submitted with a POS invoice with a 100% discount.

![image](https://github.com/user-attachments/assets/2c622fb4-fba0-4fa4-aabb-2f8125971466)

The above message is generated every time a POS Closing Entry is created. It validates that each Linked Sales Invoice generated through the POS has at least one associated `SalesInvoicePayment`. However, for invoices that have a 100% discount, no payment is required and thus, no `SalesInvoicePayment` document is appended to the Invoice.

@nabinhait suggested that validation should only take place for invoices having a positive Grand Total to fix this issue.",diptanilsaha,2024-12-24 16:18:52+00:00,[],2025-01-11 00:10:47+00:00,2024-12-27 06:04:42+00:00,https://github.com/frappe/erpnext/pull/44899,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2757711297,pull_request,closed,,fix: sync translations from crowdin,,frappe-pr-bot,2024-12-24 12:26:20+00:00,[],2025-01-08 00:11:22+00:00,2024-12-24 12:47:13+00:00,https://github.com/frappe/erpnext/pull/44898,"[('translation', None)]",[],
2757708566,pull_request,closed,,fix: refactor query in`get_total_allocated_amount` in bank_transaction (backport #44787),"Issue: https://support.frappe.io/app/hd-ticket/26093

Before:
<img width=""727"" alt=""image"" src=""https://github.com/user-attachments/assets/35f17bba-f2b2-4e90-a229-83f893f48d72"" />

After:
<img width=""728"" alt=""image"" src=""https://github.com/user-attachments/assets/5a4cc203-cd55-4a7d-9841-6e0821cdc95d"" />


<hr>This is an automatic backport of pull request #44787 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-24 12:24:18+00:00,[],2025-01-14 00:10:05+00:00,2024-12-30 10:46:15+00:00,https://github.com/frappe/erpnext/pull/44897,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2757708520,pull_request,closed,,fix: refactor query in`get_total_allocated_amount` in bank_transaction (backport #44787),"Issue: https://support.frappe.io/app/hd-ticket/26093

Before:
<img width=""727"" alt=""image"" src=""https://github.com/user-attachments/assets/35f17bba-f2b2-4e90-a229-83f893f48d72"" />

After:
<img width=""728"" alt=""image"" src=""https://github.com/user-attachments/assets/5a4cc203-cd55-4a7d-9841-6e0821cdc95d"" />


<hr>This is an automatic backport of pull request #44787 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-24 12:24:15+00:00,[],2025-01-14 00:10:26+00:00,2024-12-30 06:37:42+00:00,https://github.com/frappe/erpnext/pull/44896,"[('needs-tests', 'This PR needs automated unit-tests.'), ('conflicts', None)]","[{'comment_id': 2561068770, 'issue_id': 2757708520, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 6b847cdb623322a64096337dcbe86cdbdc60bb6b has failed:\n```\nOn branch mergify/bp/version-14-hotfix/pr-44787\nYour branch is up to date with \'origin/version-14-hotfix\'.\n\nYou are currently cherry-picking commit 6b847cdb62.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/accounts/doctype/bank_reconciliation_tool/bank_reconciliation_tool.py\n\tboth modified:   erpnext/accounts/doctype/bank_transaction/bank_transaction.py\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nCherry-pick of 2ce07865d36d74ef058d613dfe4714ddfd6b58e6 has failed:\n```\nOn branch mergify/bp/version-14-hotfix/pr-44787\nYour branch is ahead of \'origin/version-14-hotfix\' by 1 commit.\n  (use ""git push"" to publish your local commits)\n\nYou are currently cherry-picking commit 2ce07865d3.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/accounts/doctype/bank_reconciliation_tool/bank_reconciliation_tool.py\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 12, 24, 12, 24, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2563382801, 'issue_id': 2757708520, 'author': 'ruthra-kumar', 'body': '@vishakhdesai \r\n\r\nCould you resolve conflicts? Let me know if you lack access to this PR', 'created_at': datetime.datetime(2024, 12, 27, 6, 47, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2563443217, 'issue_id': 2757708520, 'author': 'vishakhdesai', 'body': ""@ruthra-kumar \r\nI don't have the permission to push to this PR"", 'created_at': datetime.datetime(2024, 12, 27, 8, 14, 17, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-12-24 12:24:17 UTC): Cherry-pick of 6b847cdb623322a64096337dcbe86cdbdc60bb6b has failed:
```
On branch mergify/bp/version-14-hotfix/pr-44787
Your branch is up to date with 'origin/version-14-hotfix'.

You are currently cherry-picking commit 6b847cdb62.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/accounts/doctype/bank_reconciliation_tool/bank_reconciliation_tool.py
	both modified:   erpnext/accounts/doctype/bank_transaction/bank_transaction.py

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


Cherry-pick of 2ce07865d36d74ef058d613dfe4714ddfd6b58e6 has failed:
```
On branch mergify/bp/version-14-hotfix/pr-44787
Your branch is ahead of 'origin/version-14-hotfix' by 1 commit.
  (use ""git push"" to publish your local commits)

You are currently cherry-picking commit 2ce07865d3.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/accounts/doctype/bank_reconciliation_tool/bank_reconciliation_tool.py

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

ruthra-kumar on (2024-12-27 06:47:19 UTC): @vishakhdesai 

Could you resolve conflicts? Let me know if you lack access to this PR

vishakhdesai on (2024-12-27 08:14:17 UTC): @ruthra-kumar 
I don't have the permission to push to this PR

"
2757647818,pull_request,closed,,fix: show profit and loss after period closing (backport #44878),"**Issue:**
Consolidated Financial Statement not showing profit and loss after period closing voucher is posted
**ref:** [27328](https://support.frappe.io/helpdesk/tickets/27328)

**Period Closing Voucher:**
![image](https://github.com/user-attachments/assets/011fb7d4-0010-4559-b176-f185466c6026)

Before:
![image](https://github.com/user-attachments/assets/8e066217-939c-4bb2-bbef-dfbc3cc4fb75)

After:
![image](https://github.com/user-attachments/assets/29eef466-3e26-4661-86fc-8647be69f19e)


**Backport needed for v14 & v15**<hr>This is an automatic backport of pull request #44878 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-24 11:33:43+00:00,[],2025-01-08 00:11:23+00:00,2024-12-24 12:22:53+00:00,https://github.com/frappe/erpnext/pull/44894,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2757647783,pull_request,closed,,fix: show profit and loss after period closing (backport #44878),"**Issue:**
Consolidated Financial Statement not showing profit and loss after period closing voucher is posted
**ref:** [27328](https://support.frappe.io/helpdesk/tickets/27328)

**Period Closing Voucher:**
![image](https://github.com/user-attachments/assets/011fb7d4-0010-4559-b176-f185466c6026)

Before:
![image](https://github.com/user-attachments/assets/8e066217-939c-4bb2-bbef-dfbc3cc4fb75)

After:
![image](https://github.com/user-attachments/assets/29eef466-3e26-4661-86fc-8647be69f19e)


**Backport needed for v14 & v15**<hr>This is an automatic backport of pull request #44878 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-24 11:33:41+00:00,[],2025-01-09 00:11:40+00:00,2024-12-24 12:22:45+00:00,https://github.com/frappe/erpnext/pull/44893,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2561582323, 'issue_id': 2757647783, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.78.5 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.5)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 12, 25, 3, 34, 40, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-12-25 03:34:40 UTC): :tada: This PR is included in version 14.78.5 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.5)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2757633046,pull_request,closed,,fix: clear payment schedule in purchase invoice for is_paid," Issue: [Support Ticket  - 25598](https://support.frappe.io/app/hd-ticket/25598)

When `is_paid` is marked for a purchase invoice, the `payment_terms_template` was not cleared, which resulted in an error during the validation process.
<img width=""705"" alt=""Screenshot 2024-12-24 at 4 46 41 PM"" src=""https://github.com/user-attachments/assets/f975b790-8429-41b4-b406-52a75c514255"" />
",Sanket322,2024-12-24 11:20:57+00:00,['ruthra-kumar'],2025-01-11 00:10:43+00:00,2024-12-27 07:53:07+00:00,https://github.com/frappe/erpnext/pull/44892,"[('accounts', ''), ('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]","[{'comment_id': 2563404934, 'issue_id': 2757633046, 'author': 'ruthra-kumar', 'body': '@Sanket322 \r\n\r\nvalidate_advance_entries() has a heavy IO bound operation. So, early return on unwanted cases is always better.', 'created_at': datetime.datetime(2024, 12, 27, 7, 20, 43, tzinfo=datetime.timezone.utc)}]","ruthra-kumar (Assginee) on (2024-12-27 07:20:43 UTC): @Sanket322 

validate_advance_entries() has a heavy IO bound operation. So, early return on unwanted cases is always better.

"
2757623489,pull_request,closed,,refactor: use db_set instead of set_value to trigger notification (backport #44889),"**Issue:**
Notification is not triggering while updating the clearance date.
**ref:** [27780](https://support.frappe.io/helpdesk/tickets/27780)

**Notification:**
![image](https://github.com/user-attachments/assets/6bb583d8-f99b-4801-9d7d-00c7ac5d0b6f)

**Before:**

https://github.com/user-attachments/assets/f34a2fc1-54e9-46bb-a476-badcc2d956f6


**After:**

https://github.com/user-attachments/assets/be2feceb-b446-4648-bd79-170d3f50b61d


Backport needed for v15<hr>This is an automatic backport of pull request #44889 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-24 11:12:46+00:00,[],2025-01-08 00:11:25+00:00,2024-12-24 11:32:58+00:00,https://github.com/frappe/erpnext/pull/44891,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2757538296,pull_request,closed,,refactor: use db_set instead of set_value to trigger notification,"**Issue:**
Notification is not triggering while updating the clearance date.
**ref:** [27780](https://support.frappe.io/helpdesk/tickets/27780)

**Notification:**
![image](https://github.com/user-attachments/assets/6bb583d8-f99b-4801-9d7d-00c7ac5d0b6f)

**Before:**

https://github.com/user-attachments/assets/f34a2fc1-54e9-46bb-a476-badcc2d956f6


**After:**

https://github.com/user-attachments/assets/be2feceb-b446-4648-bd79-170d3f50b61d


Backport needed for v15",venkat102,2024-12-24 10:07:13+00:00,['ruthra-kumar'],2025-01-08 00:11:27+00:00,2024-12-24 11:12:03+00:00,https://github.com/frappe/erpnext/pull/44889,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]","[{'comment_id': 2561003243, 'issue_id': 2757538296, 'author': 'ruthra-kumar', 'body': 'Using `get_doc` for every Payment Entry will cause performance issue. But there is no other way to trigger events I guess.', 'created_at': datetime.datetime(2024, 12, 24, 11, 12, 47, tzinfo=datetime.timezone.utc)}]","ruthra-kumar (Assginee) on (2024-12-24 11:12:47 UTC): Using `get_doc` for every Payment Entry will cause performance issue. But there is no other way to trigger events I guess.

"
2757495253,pull_request,closed,,chore: release v15,Automated weekly release.,frappe-pr-bot,2024-12-24 09:35:25+00:00,[],2025-01-09 00:11:28+00:00,2024-12-25 03:35:15+00:00,https://github.com/frappe/erpnext/pull/44887,"[('accounts', ''), ('stock', None)]",[],
2757495137,pull_request,closed,,chore: release v14,Automated weekly release.,frappe-pr-bot,2024-12-24 09:35:20+00:00,[],2025-01-09 00:11:41+00:00,2024-12-25 03:33:10+00:00,https://github.com/frappe/erpnext/pull/44886,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2561582309, 'issue_id': 2757495137, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.78.5 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.5)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 12, 25, 3, 34, 37, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot (Issue Creator) on (2024-12-25 03:34:37 UTC): :tada: This PR is included in version 14.78.5 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.5)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2757475742,pull_request,closed,,fix: set project in GL from the SLE (backport #44879),"Made this change to post GL Entries for the material transfer entry in which both source and target warehouse is using the same stock asset account

<img width=""1036"" alt=""image"" src=""https://github.com/user-attachments/assets/d60fe0f7-b294-4c95-9f6f-05bf30df96b2"" />

<hr>This is an automatic backport of pull request #44879 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-24 09:20:48+00:00,['rohitwaghchaure'],2025-01-08 00:11:28+00:00,2024-12-24 09:42:32+00:00,https://github.com/frappe/erpnext/pull/44885,"[('stock', None), ('needs-tests', 'This PR needs automated unit-tests.')]",[],
2757475290,pull_request,closed,,fix: update item_tax_rate in backend,"Issue: item_tax_rate is only set from the front end.
If the Item tax template is updated from the backend incorrect taxes are calculated.

Steps on how to replicate this issue
- Create one item with only one item tax template
- Create a transaction for this item. This should auto-fetch item tax template.
-  Unset item tax template from the item. Save

With unset, it doesn't unset item tax rate, causing incorrect final taxes.

Closes: https://github.com/frappe/erpnext/issues/41081
Frappe Support Issue: https://support.frappe.io/app/hd-ticket/27836


backport-version-15-hotfix
backport-varsion-14-hotfix
",ljain112,2024-12-24 09:20:28+00:00,['ruthra-kumar'],2025-01-15 00:10:07+00:00,2024-12-31 10:20:39+00:00,https://github.com/frappe/erpnext/pull/44884,"[('accounts', ''), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]","[{'comment_id': 2560998334, 'issue_id': 2757475290, 'author': 'ruthra-kumar', 'body': '@ljain112 \r\n\r\nhttps://github.com/frappe/erpnext/pull/44293 already moved the tax applying logic to server-side on develop branch. Better to make this change directly on v15', 'created_at': datetime.datetime(2024, 12, 24, 11, 7, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2561005297, 'issue_id': 2757475290, 'author': 'ljain112', 'body': '> @ljain112\r\n> \r\n> #44293 already moved the tax applying logic to server-side on develop branch. Better to make this change directly on v15\r\n\r\n@ruthra-kumar \r\nThe issue is still replicable in develop branch after enabling serve_side_reactivity because item_tax_template is updated in calculate_taxes_and_charges.', 'created_at': datetime.datetime(2024, 12, 24, 11, 14, 55, tzinfo=datetime.timezone.utc)}]","ruthra-kumar (Assginee) on (2024-12-24 11:07:39 UTC): @ljain112 

https://github.com/frappe/erpnext/pull/44293 already moved the tax applying logic to server-side on develop branch. Better to make this change directly on v15

ljain112 (Issue Creator) on (2024-12-24 11:14:55 UTC): @ruthra-kumar 
The issue is still replicable in develop branch after enabling serve_side_reactivity because item_tax_template is updated in calculate_taxes_and_charges.

"
2757425605,pull_request,closed,,fix: Validate party on non receivable / payable account,"Issue: Allows specifying a party type and party for non-receivable and non-payable accounts.

Fix: Validate the party type against the account type in the GL entry and display an error message if there's a mismatch.

Ref: [27331](https://support.frappe.io/helpdesk/tickets/27331)

Before:

[before party type validation.webm](https://github.com/user-attachments/assets/bcd5f79f-b894-48bf-8ecd-bdf4dc5fe1d4)


After:

[after party type validation.webm](https://github.com/user-attachments/assets/400ebdaa-2284-422c-b7ea-a5480875bc11)

Backport needed for v14 & v15
",Karuppasamy923,2024-12-24 08:42:06+00:00,['ruthra-kumar'],2025-01-14 00:10:18+00:00,2024-12-30 08:02:54+00:00,https://github.com/frappe/erpnext/pull/44883,"[('accounts', ''), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]","[{'comment_id': 2563335302, 'issue_id': 2757425605, 'author': 'ruthra-kumar', 'body': ""@Karuppasamy923 \r\n\r\nThere is a [duplicate PR](https://github.com/frappe/erpnext/pull/44839) with more changes. Please close it. And if this PR is ready, mark it as 'Ready for Review'."", 'created_at': datetime.datetime(2024, 12, 27, 5, 30, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2563589539, 'issue_id': 2757425605, 'author': 'Karuppasamy923', 'body': '@ruthra-kumar \r\nThanks for closing the previous PR #44839', 'created_at': datetime.datetime(2024, 12, 27, 11, 9, 1, tzinfo=datetime.timezone.utc)}]","ruthra-kumar (Assginee) on (2024-12-27 05:30:22 UTC): @Karuppasamy923 

There is a [duplicate PR](https://github.com/frappe/erpnext/pull/44839) with more changes. Please close it. And if this PR is ready, mark it as 'Ready for Review'.

Karuppasamy923 (Issue Creator) on (2024-12-27 11:09:01 UTC): @ruthra-kumar 
Thanks for closing the previous PR #44839

"
2757392436,pull_request,closed,,fix: correct tds rate with lower deduction certificate (backport #44794),"Issue:
The tax withholding rate is incorrect if tax withholding from_date doesn't match with lower deduction certificate period.
Steps to replicate:
- Create a tax withholding category with period 1-10-2024 to 31-3-2025.
- Create a Supplier with a tax withholding category.
- Create a Lower Deduction Certification for the supplier,valid from 1-4-2024  and valid up to 31-3-2025.
- Even though LDC is valid and within the period, it will not be applied due to incorrect date filters.

Solution:
Validating LDC based on inv date. 

Frappe Support Issue: https://support.frappe.io/app/hd-ticket/27014

backport version-15-hotfix
backport version-14-hotfix
<hr>This is an automatic backport of pull request #44794 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-24 08:16:05+00:00,[],2025-01-08 00:11:30+00:00,2024-12-24 09:07:35+00:00,https://github.com/frappe/erpnext/pull/44882,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2757392164,pull_request,closed,,fix: correct tds rate with lower deduction certificate (backport #44794),"Issue:
The tax withholding rate is incorrect if tax withholding from_date doesn't match with lower deduction certificate period.
Steps to replicate:
- Create a tax withholding category with period 1-10-2024 to 31-3-2025.
- Create a Supplier with a tax withholding category.
- Create a Lower Deduction Certification for the supplier,valid from 1-4-2024  and valid up to 31-3-2025.
- Even though LDC is valid and within the period, it will not be applied due to incorrect date filters.

Solution:
Validating LDC based on inv date. 

Frappe Support Issue: https://support.frappe.io/app/hd-ticket/27014

backport version-15-hotfix
backport version-14-hotfix
<hr>This is an automatic backport of pull request #44794 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-24 08:15:52+00:00,[],2025-01-09 00:11:39+00:00,2024-12-24 09:07:27+00:00,https://github.com/frappe/erpnext/pull/44881,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2561582341, 'issue_id': 2757392164, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.78.5 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.5)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 12, 25, 3, 34, 43, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-12-25 03:34:43 UTC): :tada: This PR is included in version 14.78.5 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.5)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2757346730,pull_request,closed,,fix: set project in GL from the SLE,"Made this change to post GL Entries for the material transfer entry in which both source and target warehouse is using the same stock asset account

<img width=""1036"" alt=""image"" src=""https://github.com/user-attachments/assets/d60fe0f7-b294-4c95-9f6f-05bf30df96b2"" />

",rohitwaghchaure,2024-12-24 07:39:40+00:00,[],2025-01-08 00:11:29+00:00,2024-12-24 09:19:41+00:00,https://github.com/frappe/erpnext/pull/44879,"[('backport version-15-hotfix', '')]",[],
2757313781,pull_request,closed,,fix: show profit and loss after period closing,"**Issue:**
Consolidated Financial Statement not showing profit and loss after period closing voucher is posted
**ref:** [27328](https://support.frappe.io/helpdesk/tickets/27328)

**Period Closing Voucher:**
![image](https://github.com/user-attachments/assets/011fb7d4-0010-4559-b176-f185466c6026)

Before:
![image](https://github.com/user-attachments/assets/8e066217-939c-4bb2-bbef-dfbc3cc4fb75)

After:
![image](https://github.com/user-attachments/assets/29eef466-3e26-4661-86fc-8647be69f19e)


**Backport needed for v14 & v15**",venkat102,2024-12-24 07:11:58+00:00,['ruthra-kumar'],2025-01-08 00:11:26+00:00,2024-12-24 11:32:43+00:00,https://github.com/frappe/erpnext/pull/44878,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2757215479,pull_request,closed,,fix: add `Stock UOM` when adding new item in POS list (#44780),"Manual Backport

Conflict: https://github.com/frappe/erpnext/pull/44875

@ruthra-kumar ",Abdeali099,2024-12-24 05:41:41+00:00,['ruthra-kumar'],2025-01-08 00:11:35+00:00,2024-12-24 05:48:47+00:00,https://github.com/frappe/erpnext/pull/44877,[],"[{'comment_id': 2560687159, 'issue_id': 2757215479, 'author': 'ruthra-kumar', 'body': 'https://github.com/frappe/erpnext/pull/44780', 'created_at': datetime.datetime(2024, 12, 24, 5, 48, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2560687595, 'issue_id': 2757215479, 'author': 'ruthra-kumar', 'body': '@Abdeali099 \r\n\r\nYou can always fix the conflicts in the backport PR. No need to create a new one.', 'created_at': datetime.datetime(2024, 12, 24, 5, 48, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2560690135, 'issue_id': 2757215479, 'author': 'Abdeali099', 'body': ""> @Abdeali099\r\n> \r\n> You can always fix the conflicts in the backport PR. No need to create a new one.\r\n\r\nBut, I don't have access to make changes in backport prs"", 'created_at': datetime.datetime(2024, 12, 24, 5, 52, 20, tzinfo=datetime.timezone.utc)}]","ruthra-kumar (Assginee) on (2024-12-24 05:48:06 UTC): https://github.com/frappe/erpnext/pull/44780

ruthra-kumar (Assginee) on (2024-12-24 05:48:41 UTC): @Abdeali099 

You can always fix the conflicts in the backport PR. No need to create a new one.

Abdeali099 (Issue Creator) on (2024-12-24 05:52:20 UTC): But, I don't have access to make changes in backport prs

"
2757173805,pull_request,closed,,fix: add `Stock UOM` when adding new item in POS list (backport #44780),"## Issue: [Frappe Support - 27653](https://support.frappe.io/helpdesk/tickets/27653)

<details>

<summary> <strong>Error Log </strong> </summary>

```
TypeError: e.stock_uom is undefined
    check_stock_availability point-of-sale line 294 > injectedScript:308
    on_cart_update point-of-sale line 294 > injectedScript:308
    item_selected point-of-sale line 294 > injectedScript:306
    bind_events point-of-sale line 294 > injectedScript:38
    jQuery 8
    bind_events point-of-sale line 294 > injectedScript:38
    inti_component point-of-sale line 294 > injectedScript:1
    <anonymous> point-of-sale line 294 > injectedScript:1
    init_item_selector point-of-sale line 294 > injectedScript:306
    prepare_components point-of-sale line 294 > injectedScript:306
    make_app point-of-sale line 294 > injectedScript:306
    callback point-of-sale line 294 > injectedScript:302
    e request.js:85
    200 request.js:133
    call request.js:305
    jQuery 6
    call request.js:279
    call request.js:109
    prepare_app_defaults point-of-sale line 294 > injectedScript:302
    check_opening_entry point-of-sale line 294 > injectedScript:302
    jQuery 12
    call request.js:279
    call request.js:109
    fetch_opening_entry point-of-sale line 294 > injectedScript:302
    check_opening_entry point-of-sale line 294 > injectedScript:302
    <anonymous> point-of-sale line 294 > injectedScript:302
    on_page_load point_of_sale.js:11
    require assets.js:17
    execute assets.js:114
    promise callback*execute assets.js:108
    require assets.js:15
    require assets.js:14
    on_page_load point_of_sale.js:10
point-of-sale line 294 > injectedScript:308:464

```

</details>

--- 

### Failure Line

https://github.com/frappe/erpnext/blob/6f99e9959d06c60cf2c59f7aee46d675cd8d3b50/erpnext/selling/page/point_of_sale/pos_controller.js#L698

### Root cause of Issue

In PR #44320, if enough stock is not available, the error message shows `Stock UOM` instead of `UOM` to get accurate stock details.

Arguments for creating a new item row when selecting:

https://github.com/frappe/erpnext/blob/6f99e9959d06c60cf2c59f7aee46d675cd8d3b50/erpnext/selling/page/point_of_sale/pos_controller.js#L577 

https://github.com/frappe/erpnext/blob/6f99e9959d06c60cf2c59f7aee46d675cd8d3b50/erpnext/selling/page/point_of_sale/pos_controller.js#L589

These args does not have `stock_uom`.

> [!IMPORTANT]
> Backport to Version-15

<hr>This is an automatic backport of pull request #44780 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-24 04:53:22+00:00,[],2025-01-08 00:11:36+00:00,2024-12-24 05:47:43+00:00,https://github.com/frappe/erpnext/pull/44875,"[('conflicts', None)]","[{'comment_id': 2560646608, 'issue_id': 2757173805, 'author': 'mergify[bot]', 'body': 'Cherry-pick of d4b21f532a69b3088f19975071da1c89cd7e02f8 has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-44780\nYour branch is up to date with \'origin/version-15-hotfix\'.\n\nYou are currently cherry-picking commit d4b21f532a.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nChanges to be committed:\n\tmodified:   erpnext/selling/page/point_of_sale/pos_item_selector.js\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/selling/page/point_of_sale/pos_controller.js\n\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 12, 24, 4, 53, 24, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-12-24 04:53:24 UTC): Cherry-pick of d4b21f532a69b3088f19975071da1c89cd7e02f8 has failed:
```
On branch mergify/bp/version-15-hotfix/pr-44780
Your branch is up to date with 'origin/version-15-hotfix'.

You are currently cherry-picking commit d4b21f532a.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Changes to be committed:
	modified:   erpnext/selling/page/point_of_sale/pos_item_selector.js

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/selling/page/point_of_sale/pos_controller.js

```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

"
2757169040,pull_request,closed,,fix: Paid + Write Off Amount issue in Sales Invoice (backport #44763),"Issue: https://support.frappe.io/helpdesk/tickets/26091
![image](https://github.com/user-attachments/assets/f649cdf6-433e-4044-973c-9c774ba828fc)

In the case of Return the validation `validate_pos` is comparing the amounts as negative amounts and when trying to make a partial return it throws the above error.

Fix: Perform the comparision after taking their absolute value
<hr>This is an automatic backport of pull request #44763 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-24 04:48:18+00:00,[],2025-01-08 00:11:37+00:00,2024-12-24 05:18:15+00:00,https://github.com/frappe/erpnext/pull/44874,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2757109160,pull_request,closed,,fix: posting_time issue (backport #44870),<hr>This is an automatic backport of pull request #44870 done by [Mergify](https://mergify.com).,mergify[bot],2024-12-24 03:37:27+00:00,['rohitwaghchaure'],2025-01-08 00:11:31+00:00,2024-12-24 08:26:11+00:00,https://github.com/frappe/erpnext/pull/44872,"[('stock', None)]","[{'comment_id': 2560597188, 'issue_id': 2757109160, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 079b86044efce7bf04c94900cdde6b1119c53fb2 has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-44870\nYour branch is up to date with \'origin/version-15-hotfix\'.\n\nYou are currently cherry-picking commit 079b86044e.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nChanges to be committed:\n\tmodified:   erpnext/stock/serial_batch_bundle.py\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/stock/deprecated_serial_batch.py\n\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 12, 24, 3, 37, 29, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-12-24 03:37:29 UTC): Cherry-pick of 079b86044efce7bf04c94900cdde6b1119c53fb2 has failed:
```
On branch mergify/bp/version-15-hotfix/pr-44870
Your branch is up to date with 'origin/version-15-hotfix'.

You are currently cherry-picking commit 079b86044e.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Changes to be committed:
	modified:   erpnext/stock/serial_batch_bundle.py

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/stock/deprecated_serial_batch.py

```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

"
2756543099,pull_request,closed,,fix: asset fields precision check (backport #44854),"Error on asset submission

<img width=""1164"" alt=""Screenshot 2024-12-23 at 3 45 55 PM"" src=""https://github.com/user-attachments/assets/548f76d3-db32-483b-aa1d-6064433b2f73"" />
<hr>This is an automatic backport of pull request #44854 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-23 18:31:31+00:00,['khushi8112'],2025-01-07 00:16:17+00:00,2024-12-23 18:51:26+00:00,https://github.com/frappe/erpnext/pull/44871,[],[],
2756469545,pull_request,closed,,fix: posting_time issue,,rohitwaghchaure,2024-12-23 17:30:38+00:00,[],2025-01-08 00:11:40+00:00,2024-12-24 03:36:37+00:00,https://github.com/frappe/erpnext/pull/44870,"[('stock', None), ('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2756233560,pull_request,closed,,fix: stock entry not fetching expired batches (backport #44863),"**Issue**


https://github.com/user-attachments/assets/825300ba-2778-49da-87a1-7ecc8b216d90


**After Fix**

https://github.com/user-attachments/assets/849211b9-61fc-43b3-8362-4fe6faa255bc


<hr>This is an automatic backport of pull request #44863 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-23 14:59:24+00:00,['rohitwaghchaure'],2025-01-07 00:16:26+00:00,2024-12-23 17:01:16+00:00,https://github.com/frappe/erpnext/pull/44868,"[('stock', None), ('needs-tests', 'This PR needs automated unit-tests.')]",[],
2756231800,pull_request,closed,,fix: Warehouse wise Stock Value chart roles (backport #44865),<hr>This is an automatic backport of pull request #44865 done by [Mergify](https://mergify.com).,mergify[bot],2024-12-23 14:58:23+00:00,['rohitwaghchaure'],2025-01-07 00:16:29+00:00,2024-12-23 17:00:58+00:00,https://github.com/frappe/erpnext/pull/44867,[],[],
2756231745,pull_request,closed,,fix: Warehouse wise Stock Value chart roles (backport #44865),<hr>This is an automatic backport of pull request #44865 done by [Mergify](https://mergify.com).,mergify[bot],2024-12-23 14:58:21+00:00,['rohitwaghchaure'],2025-01-09 00:11:38+00:00,2024-12-23 17:00:45+00:00,https://github.com/frappe/erpnext/pull/44866,"[('released', None)]","[{'comment_id': 2561582358, 'issue_id': 2756231745, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.78.5 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.5)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2024, 12, 25, 3, 34, 46, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2024-12-25 03:34:46 UTC): :tada: This PR is included in version 14.78.5 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.78.5)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2756139581,pull_request,closed,,fix: Warehouse wise Stock Value chart roles,,rohitwaghchaure,2024-12-23 14:04:50+00:00,[],2025-01-07 00:16:36+00:00,2024-12-23 14:57:20+00:00,https://github.com/frappe/erpnext/pull/44865,"[('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]","[{'comment_id': 2559782966, 'issue_id': 2756139581, 'author': 'ashish-greycube', 'body': '@rohitwaghchaure Wil owner be not an issue ?\r\nhttps://github.com/frappe/erpnext/blob/efe066f5e581164bf711f61b56d95fb0293c25db/erpnext/stock/dashboard_chart/warehouse_wise_stock_value/warehouse_wise_stock_value.json#L17', 'created_at': datetime.datetime(2024, 12, 23, 14, 12, 50, tzinfo=datetime.timezone.utc)}]","ashish-greycube on (2024-12-23 14:12:50 UTC): @rohitwaghchaure Wil owner be not an issue ?
https://github.com/frappe/erpnext/blob/efe066f5e581164bf711f61b56d95fb0293c25db/erpnext/stock/dashboard_chart/warehouse_wise_stock_value/warehouse_wise_stock_value.json#L17

"
2756096695,pull_request,closed,,fix: stock entry not fetching expired batches,"**Issue**


https://github.com/user-attachments/assets/825300ba-2778-49da-87a1-7ecc8b216d90


**After Fix**

https://github.com/user-attachments/assets/849211b9-61fc-43b3-8362-4fe6faa255bc


",rohitwaghchaure,2024-12-23 13:40:30+00:00,[],2025-01-07 00:16:31+00:00,2024-12-23 14:58:07+00:00,https://github.com/frappe/erpnext/pull/44863,"[('stock', None), ('backport version-15-hotfix', '')]",[],
2756041837,pull_request,closed,,perf: slow query related to stock ledger entry (backport #44861),"<img width=""580"" alt=""Screenshot 2024-12-23 at 6 04 57 PM"" src=""https://github.com/user-attachments/assets/d8475360-cd60-4243-8c1a-b33f1e73c2fe"" />
<hr>This is an automatic backport of pull request #44861 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-23 13:07:35+00:00,['rohitwaghchaure'],2025-01-07 00:16:49+00:00,2024-12-23 13:45:32+00:00,https://github.com/frappe/erpnext/pull/44862,[],[],
2755997720,pull_request,closed,,perf: slow query related to stock ledger entry,"<img width=""580"" alt=""Screenshot 2024-12-23 at 6 04 57 PM"" src=""https://github.com/user-attachments/assets/d8475360-cd60-4243-8c1a-b33f1e73c2fe"" />
",rohitwaghchaure,2024-12-23 12:41:27+00:00,[],2025-01-07 00:17:14+00:00,2024-12-23 13:06:43+00:00,https://github.com/frappe/erpnext/pull/44861,"[('backport version-15-hotfix', '')]",[],
2755928144,pull_request,closed,,fix: sync translations from crowdin,,frappe-pr-bot,2024-12-23 12:02:52+00:00,['ruthra-kumar'],2025-01-08 00:11:24+00:00,2024-12-24 11:33:44+00:00,https://github.com/frappe/erpnext/pull/44860,"[('translation', None)]",[],
2755848508,pull_request,closed,,fix: incoming rate should be zero for rejected items (backport #44857),"Steps to replicate the issue

- Enable ""Set Landed Cost Based on Purchase Invoice Rate""
- Make a purchase receipt with 1 accepted and 1 rejected qty and rate as 100
- Check stock ledger, you will see the valuation for the rejected items as zero
- Make a purchase invoice for 1 accepted qty with rate as 120
- Complete the reposting
- You will notice that the system has changed the valuation rate of rejected items from zero to 120
- Due to this there is a difference between stock and account value <hr>This is an automatic backport of pull request #44857 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-23 11:29:42+00:00,['rohitwaghchaure'],2025-01-07 00:17:30+00:00,2024-12-23 12:41:53+00:00,https://github.com/frappe/erpnext/pull/44859,[],[],
2755848426,pull_request,closed,,fix: incoming rate should be zero for rejected items (backport #44857),"Steps to replicate the issue

- Enable ""Set Landed Cost Based on Purchase Invoice Rate""
- Make a purchase receipt with 1 accepted and 1 rejected qty and rate as 100
- Check stock ledger, you will see the valuation for the rejected items as zero
- Make a purchase invoice for 1 accepted qty with rate as 120
- Complete the reposting
- You will notice that the system has changed the valuation rate of rejected items from zero to 120
- Due to this there is a difference between stock and account value <hr>This is an automatic backport of pull request #44857 done by [Mergify](https://mergify.com).",mergify[bot],2024-12-23 11:29:38+00:00,['rohitwaghchaure'],2025-01-07 00:17:28+00:00,2024-12-23 12:47:34+00:00,https://github.com/frappe/erpnext/pull/44858,"[('conflicts', None)]","[{'comment_id': 2559510742, 'issue_id': 2755848426, 'author': 'mergify[bot]', 'body': 'Cherry-pick of a515a399cf7778b8a5fa430b11188fe9b677024d has failed:\n```\nOn branch mergify/bp/version-14-hotfix/pr-44857\nYour branch is up to date with \'origin/version-14-hotfix\'.\n\nYou are currently cherry-picking commit a515a399cf.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nChanges to be committed:\n\tmodified:   erpnext/accounts/doctype/purchase_invoice/test_purchase_invoice.py\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/stock/doctype/purchase_receipt/purchase_receipt.py\n\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2024, 12, 23, 11, 29, 41, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2024-12-23 11:29:41 UTC): Cherry-pick of a515a399cf7778b8a5fa430b11188fe9b677024d has failed:
```
On branch mergify/bp/version-14-hotfix/pr-44857
Your branch is up to date with 'origin/version-14-hotfix'.

You are currently cherry-picking commit a515a399cf.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Changes to be committed:
	modified:   erpnext/accounts/doctype/purchase_invoice/test_purchase_invoice.py

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/stock/doctype/purchase_receipt/purchase_receipt.py

```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

"
