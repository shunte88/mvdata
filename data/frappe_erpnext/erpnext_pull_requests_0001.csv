id,type,state,state_reason,title,body,author,created_at,assignees,updated_at,closed_at,url,labels,comments_list,comment_thread
2838287566,pull_request,closed,,Fix: Update `ctx` to `args` for compatibility. (copy #45770) (backport #45796),"- closes : https://github.com/frappe/erpnext/issues/45758

backport : version-14-hotfix<hr>This is an automatic copy of pull request #45770 done by [Mergify](https://mergify.com).<hr>This is an automatic backport of pull request #45796 done by [Mergify](https://mergify.com).",mergify[bot],2025-02-07 14:21:54+00:00,[],2025-02-07 14:27:48+00:00,2025-02-07 14:26:10+00:00,https://github.com/frappe/erpnext/pull/45797,"[('released', None)]","[{'comment_id': 2643087983, 'issue_id': 2838287566, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.82.1 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.82.1)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2025, 2, 7, 14, 27, 47, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2025-02-07 14:27:47 UTC): :tada: This PR is included in version 14.82.1 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.82.1)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2838273699,pull_request,closed,,Fix: Update `ctx` to `args` for compatibility. (copy #45770),"- closes : https://github.com/frappe/erpnext/issues/45758

backport : version-14-hotfix<hr>This is an automatic copy of pull request #45770 done by [Mergify](https://mergify.com).",mergify[bot],2025-02-07 14:15:37+00:00,[],2025-02-07 14:21:55+00:00,2025-02-07 14:20:16+00:00,https://github.com/frappe/erpnext/pull/45796,[],"[{'comment_id': 2643067104, 'issue_id': 2838273699, 'author': 'ruthra-kumar', 'body': '@mergify backport version-14', 'created_at': datetime.datetime(2025, 2, 7, 14, 20, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643067768, 'issue_id': 2838273699, 'author': 'mergify[bot]', 'body': '> backport version-14\n\n#### ✅ Backports have been created\n\n<details>\n\n* [#45797 Fix: Update `ctx` to `args` for compatibility. (copy #45770) (backport #45796)](https://github.com/frappe/erpnext/pull/45797) has been created for branch `version-14`\n\n</details>\n\n\n<!---\nDO NOT EDIT\n-*- Mergify Payload -*-\n{""command"": ""backport version-14"", ""conclusion"": ""success"", ""action_is_running"": true}\n-*- Mergify Payload End -*-\n-->', 'created_at': datetime.datetime(2025, 2, 7, 14, 20, 51, tzinfo=datetime.timezone.utc)}]","ruthra-kumar on (2025-02-07 14:20:32 UTC): @mergify backport version-14

mergify[bot] (Issue Creator) on (2025-02-07 14:20:51 UTC): #### ✅ Backports have been created

<details>

* [#45797 Fix: Update `ctx` to `args` for compatibility. (copy #45770) (backport #45796)](https://github.com/frappe/erpnext/pull/45797) has been created for branch `version-14`

</details>


<!---
DO NOT EDIT
-*- Mergify Payload -*-
{""command"": ""backport version-14"", ""conclusion"": ""success"", ""action_is_running"": true}
-*- Mergify Payload End -*-
-->

"
2838271662,pull_request,closed,,Fix: Update `ctx` to `args` for compatibility. (backport #45770),"- closes : https://github.com/frappe/erpnext/issues/45758

backport : version-14-hotfix<hr>This is an automatic backport of pull request #45770 done by [Mergify](https://mergify.com).",mergify[bot],2025-02-07 14:14:43+00:00,[],2025-02-07 14:20:49+00:00,2025-02-07 14:20:46+00:00,https://github.com/frappe/erpnext/pull/45795,[],[],
2838140954,pull_request,open,,fix: correct amount in transaction currency for reverse gl entries,"Steps to replicate:  Cancel a Purchase Invoice and check reverse gl entries
Before: 
![image](https://github.com/user-attachments/assets/eaf06543-8fa2-4f00-91fd-9686818c7bd9)



After:
![image](https://github.com/user-attachments/assets/4bd8bd8c-8181-4b04-9fad-be0f78cdee71)
",ljain112,2025-02-07 13:16:52+00:00,[],2025-02-07 13:44:01+00:00,,https://github.com/frappe/erpnext/pull/45794,"[('accounts', ''), ('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2838125173,pull_request,open,,fix: unable to remove image from employee,"#### Current Premise

1. Employee image is ""fetched from"" user doctype, with ""Fetch on save if empty"" checked
2. On client side, as soon as you set a value in a linked field, for example user_id, all fields of employee that depend on user, in this case image, are updated regardless of if they are empty or not, which is exactly opposite of what ""Fetch on save if empty"" implies.
3. On server side however, the feature works exactly how it's described. For example create an employee attach an image to it, don't link `user_id` just yet. Create a user, don't attach any image to it. Now from system console, link the user to the employee. The image won't be overwritten.
4. According to @sagarvora, the original author of this feature, this is [how it should work](https://github.com/frappe/frappe/pull/14516#issuecomment-948481415) and [gave this reason](https://github.com/frappe/frappe/pull/14516#issuecomment-1156553327)

#### The Problem
This, because the user is created after employee

https://github.com/user-attachments/assets/3f1c35e4-96b9-469c-88db-f58774707717

#### Attempted Solutions
- @ruchamahabal tried to solve this by making the client side obey the same rule ""Fetch on save if empty"" with [#19586](https://github.com/frappe/frappe/pull/19586)
- Which was removed in favour of better fix [#21643](https://github.com/frappe/frappe/pull/21643)
- All of which was finally reverted with [#22916](https://github.com/frappe/frappe/pull/22916)

@iamejaaz has opened another PR [#31162](https://github.com/frappe/frappe/pull/31162) to re-revert and make the client side behave the same as server side. But I think unless we understand why was this originally intended the way it was, someone will eventually revert this too and on and on we go.
[I made my case to the author](https://github.com/frappe/frappe/pull/14516#issuecomment-2641182778), but until then, lets fix the image problem.

#### After

https://github.com/user-attachments/assets/34e3b39d-357f-4a2b-a643-c9d785f57b1c

Removing fetch from also solves the problem of not being able to remove image from employee, because it would be refetched as soon as it was removed.",asmitahase,2025-02-07 13:09:37+00:00,[],2025-02-07 13:31:18+00:00,,https://github.com/frappe/erpnext/pull/45793,"[('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2838121873,pull_request,open,,fix: do not validate party against Receivable and Payable account for cancelled gl entries,"Issue: Not able to update expense account in Purchase Invoice Item from Payable to expense Account.


![image](https://github.com/user-attachments/assets/ccb64a31-6e03-4f02-b869-539ae06388c8)



Frappe Support Issue:  https://support.frappe.io/app/hd-ticket/22249",ljain112,2025-02-07 13:07:54+00:00,[],2025-02-07 13:17:00+00:00,,https://github.com/frappe/erpnext/pull/45792,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2837832096,pull_request,closed,,"fix: add allow_on_submit for party_balance, paid_from_account_balance and paid_to_account_balance (backport #45644)","Issue:
While updating accounting dimension after submission of Payment Entry, error was thrown that party balance can't be updated after submission.

Before:

[balance_allow_on_submit_bfr.webm](https://github.com/user-attachments/assets/96bc1088-7d4f-484d-bc50-493f7320a205)

After:

[balance_allow_on_submit_afr.webm](https://github.com/user-attachments/assets/aebf50c7-bb0d-4c80-a992-980ce4f7a355)

Back port needed for v15<hr>This is an automatic backport of pull request #45644 done by [Mergify](https://mergify.com).",mergify[bot],2025-02-07 10:41:58+00:00,['ruthra-kumar'],2025-02-07 11:45:24+00:00,2025-02-07 11:45:22+00:00,https://github.com/frappe/erpnext/pull/45789,[],[],
2837832019,pull_request,closed,,feat: add repost accounting ledger entry for payment entry (backport #45640),"Issue: In Repost Accounting Ledger Settings Payment Entry was added through add_default_for_repost_settings this patch
though the code for reposting the entries is not present in payment entry.

Before:

[Repost Accounting Ledger for Payment Entry Before.webm](https://github.com/user-attachments/assets/8b82862a-bea4-4278-9150-48ce33094046)


After:

[Repost Accounting Ledger for Payment Entry After.webm](https://github.com/user-attachments/assets/2e234864-b5d8-4dcb-80fc-11c5c1838769)


Backport needed: Version15<hr>This is an automatic backport of pull request #45640 done by [Mergify](https://mergify.com).",mergify[bot],2025-02-07 10:41:56+00:00,['ruthra-kumar'],2025-02-07 11:45:38+00:00,2025-02-07 11:45:33+00:00,https://github.com/frappe/erpnext/pull/45788,"[('accounts', ''), ('needs-tests', 'This PR needs automated unit-tests.')]",[],
2837806613,pull_request,open,,fix: skip warning for free items,"Our use case: we have a free item on the **Delivery Note** and also want that same free item on the mapped **Sales Invoice**.

For 0-amount line items we used to get the following warning: ""System will not check over billing since amount for Item {item_code} in Delivery Note is zero.""

Some users just get confused by this warning and stop working on the document, while there's nothing wrong with it.

Hence, I propose to silently skip overbilling checks for free items (0-amount on ref-doc and 0-amount on current doc).

Internal ref: LAN-868
",barredterra,2025-02-07 10:30:06+00:00,[],2025-02-07 10:44:29+00:00,,https://github.com/frappe/erpnext/pull/45786,"[('accounts', ''), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2837752870,pull_request,closed,,perf: Ignore is_opening column in GL Queries (backport #45327),"`Is Opening` column allows users to add opening entries irrespective of posting date and fiscal year.
This should not ideally be allowed after the balance sheet is frozen for the first fiscal year in the system.

This column is used in all queries for getting opening balance, one more side effect this column has is since the posting date can be any date, the tables cannot be logically partitioned based on the posting date to make queries efficient. Once the user reaches large volume of data in GL Entry, these queries take a lot of time to execute and sometimes more than the report timeout limit.

Added a check to ignore this column in queries, once the user has imported all opening entries with posting date before the date system actually came to use with live entries, this column becomes irrelevant.

![image](https://github.com/user-attachments/assets/ee8fa42c-b4e4-4ba3-a013-aaef2888ca34)
<hr>This is an automatic backport of pull request #45327 done by [Mergify](https://mergify.com).",mergify[bot],2025-02-07 10:06:11+00:00,['ruthra-kumar'],2025-02-07 11:46:01+00:00,2025-02-07 11:45:58+00:00,https://github.com/frappe/erpnext/pull/45785,"[('needs-tests', 'This PR needs automated unit-tests.')]","[{'comment_id': 2642485313, 'issue_id': 2837752870, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 993f40fa431a6a9644c53d57109c4780919778cb has failed:\n```\nOn branch mergify/bp/version-14-hotfix/pr-45327\nYour branch is up to date with \'origin/version-14-hotfix\'.\n\nYou are currently cherry-picking commit 993f40fa43.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nChanges to be committed:\n\tmodified:   erpnext/accounts/report/financial_statements.py\n\tmodified:   erpnext/accounts/report/general_ledger/general_ledger.py\n\tmodified:   erpnext/accounts/report/trial_balance/trial_balance.json\n\tmodified:   erpnext/accounts/report/trial_balance/trial_balance.py\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/accounts/doctype/accounts_settings/accounts_settings.json\n\tboth modified:   erpnext/accounts/doctype/accounts_settings/accounts_settings.py\n\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2025, 2, 7, 10, 6, 14, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2025-02-07 10:06:14 UTC): Cherry-pick of 993f40fa431a6a9644c53d57109c4780919778cb has failed:
```
On branch mergify/bp/version-14-hotfix/pr-45327
Your branch is up to date with 'origin/version-14-hotfix'.

You are currently cherry-picking commit 993f40fa43.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Changes to be committed:
	modified:   erpnext/accounts/report/financial_statements.py
	modified:   erpnext/accounts/report/general_ledger/general_ledger.py
	modified:   erpnext/accounts/report/trial_balance/trial_balance.json
	modified:   erpnext/accounts/report/trial_balance/trial_balance.py

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/accounts/doctype/accounts_settings/accounts_settings.json
	both modified:   erpnext/accounts/doctype/accounts_settings/accounts_settings.py

```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

"
2837465043,pull_request,closed,,fix: '0' rate LDC's Invoice net totals should be ignored (backport #45639),"```
| Dec 2024 | Jan 2025 |
|          |          |
| LDC @ 0% |          |
|----------+----------|
| pinv1    | pinv3    |
| pinv2    |          |

```

Consider above scenario, LDC of '0' rate active for December 2024 and thera are purchase invoices booked in that period. Now, when a purchase invoice is created outside LDC, system incorrectly considers net total of pinv1 and pinv2 on TDS calculation as there are no taxes on the previous entries.

todo:
- [x] test case
<hr>This is an automatic backport of pull request #45639 done by [Mergify](https://mergify.com).",mergify[bot],2025-02-07 07:44:14+00:00,['ruthra-kumar'],2025-02-07 08:14:00+00:00,2025-02-07 08:13:58+00:00,https://github.com/frappe/erpnext/pull/45784,[],"[{'comment_id': 2642156815, 'issue_id': 2837465043, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 0cdd346f8fd2000cba7591d3b03bf0db7b69f158 has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-45639\nYour branch is ahead of \'origin/version-15-hotfix\' by 1 commit.\n  (use ""git push"" to publish your local commits)\n\nYou are currently cherry-picking commit 0cdd346f8f.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/accounts/doctype/tax_withholding_category/test_tax_withholding_category.py\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2025, 2, 7, 7, 44, 16, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2025-02-07 07:44:16 UTC): Cherry-pick of 0cdd346f8fd2000cba7591d3b03bf0db7b69f158 has failed:
```
On branch mergify/bp/version-15-hotfix/pr-45639
Your branch is ahead of 'origin/version-15-hotfix' by 1 commit.
  (use ""git push"" to publish your local commits)

You are currently cherry-picking commit 0cdd346f8f.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/accounts/doctype/tax_withholding_category/test_tax_withholding_category.py

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

"
2837464410,pull_request,open,,fix: '0' rate LDC's Invoice net totals should be ignored (backport #45639),"```
| Dec 2024 | Jan 2025 |
|          |          |
| LDC @ 0% |          |
|----------+----------|
| pinv1    | pinv3    |
| pinv2    |          |

```

Consider above scenario, LDC of '0' rate active for December 2024 and thera are purchase invoices booked in that period. Now, when a purchase invoice is created outside LDC, system incorrectly considers net total of pinv1 and pinv2 on TDS calculation as there are no taxes on the previous entries.

todo:
- [x] test case
<hr>This is an automatic backport of pull request #45639 done by [Mergify](https://mergify.com).",mergify[bot],2025-02-07 07:43:50+00:00,['ruthra-kumar'],2025-02-07 10:37:25+00:00,,https://github.com/frappe/erpnext/pull/45783,[],"[{'comment_id': 2642154866, 'issue_id': 2837464410, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 325c4e3536aaf84be0d7fb9ff9850360b2eeb2bd has failed:\n```\nOn branch mergify/bp/version-14-hotfix/pr-45639\nYour branch is up to date with \'origin/version-14-hotfix\'.\n\nYou are currently cherry-picking commit 325c4e3536.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/accounts/doctype/tax_withholding_category/tax_withholding_category.py\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nCherry-pick of 0cdd346f8fd2000cba7591d3b03bf0db7b69f158 has failed:\n```\nOn branch mergify/bp/version-14-hotfix/pr-45639\nYour branch is ahead of \'origin/version-14-hotfix\' by 1 commit.\n  (use ""git push"" to publish your local commits)\n\nYou are currently cherry-picking commit 0cdd346f8f.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/accounts/doctype/tax_withholding_category/test_tax_withholding_category.py\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2025, 2, 7, 7, 43, 52, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2025-02-07 07:43:52 UTC): Cherry-pick of 325c4e3536aaf84be0d7fb9ff9850360b2eeb2bd has failed:
```
On branch mergify/bp/version-14-hotfix/pr-45639
Your branch is up to date with 'origin/version-14-hotfix'.

You are currently cherry-picking commit 325c4e3536.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/accounts/doctype/tax_withholding_category/tax_withholding_category.py

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


Cherry-pick of 0cdd346f8fd2000cba7591d3b03bf0db7b69f158 has failed:
```
On branch mergify/bp/version-14-hotfix/pr-45639
Your branch is ahead of 'origin/version-14-hotfix' by 1 commit.
  (use ""git push"" to publish your local commits)

You are currently cherry-picking commit 0cdd346f8f.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/accounts/doctype/tax_withholding_category/test_tax_withholding_category.py

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

"
2837438019,pull_request,open,,fix: added validation to restrict each POSField can be added only once in POS Settings,"Before:

https://github.com/user-attachments/assets/a670ad4c-98ac-4e56-b236-d6abe692558b

After:

https://github.com/user-attachments/assets/ac7de846-83dd-4089-a685-36451fee8cfa

",diptanilsaha,2025-02-07 07:28:11+00:00,[],2025-02-07 07:28:22+00:00,,https://github.com/frappe/erpnext/pull/45782,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2837423719,pull_request,open,,fix: Added Total Row for `Gross Profit` Report in Non-Grouped Invoices,"Reference : https://github.com/frappe/erpnext/pull/45548

**Issue**: In the referenced PR, the `Add Total Row` option was unchecked, causing the total row to be removed when grouping by other fields. Additionally, the `Gross Profit Percentage` field was calculated incorrectly.

**Fix**: This PR ensures that the `Total Row` is added when data is not grouped by invoices. It also corrects the calculation of `Gross Profit Percentage` and `Gross Profit` based on the correct formula.",Sanket322,2025-02-07 07:18:49+00:00,[],2025-02-07 07:21:51+00:00,,https://github.com/frappe/erpnext/pull/45781,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2837420995,pull_request,open,,fix: added validation for required invoice_fields in POS,"Added validation for required invoice_fields in POS.

Before:

https://github.com/user-attachments/assets/08e46d0a-b9da-46c7-af41-a6a6d099167f

After:

https://github.com/user-attachments/assets/182ada9d-2f8e-4e63-9348-038c1a98c2c4
",diptanilsaha,2025-02-07 07:16:59+00:00,[],2025-02-07 07:16:59+00:00,,https://github.com/frappe/erpnext/pull/45780,[],[],
2836698742,pull_request,closed,,fix: sync translations from crowdin,,frappe-pr-bot,2025-02-06 21:52:27+00:00,[],2025-02-06 23:17:20+00:00,2025-02-06 23:17:18+00:00,https://github.com/frappe/erpnext/pull/45776,"[('translation', None)]",[],
2836040470,pull_request,open,,fix: the project document timed out while opening (backport #45767),"Project performance issue causes

- Update the cost of the project while opening the record
- Project field was not indexed in multiple documents <hr>This is an automatic backport of pull request #45767 done by [Mergify](https://mergify.com).",mergify[bot],2025-02-06 16:38:49+00:00,['rohitwaghchaure'],2025-02-06 16:39:58+00:00,,https://github.com/frappe/erpnext/pull/45775,[],"[{'comment_id': 2640366197, 'issue_id': 2836040470, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 33d03b1542207c595c5e4abd5a874c96041462a2 has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-45767\nYour branch is up to date with \'origin/version-15-hotfix\'.\n\nYou are currently cherry-picking commit 33d03b1542.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nChanges to be committed:\n\tmodified:   erpnext/accounts/doctype/sales_invoice/sales_invoice.json\n\tmodified:   erpnext/projects/doctype/project/project.py\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/selling/doctype/sales_order/sales_order.json\n\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2025, 2, 6, 16, 38, 51, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2025-02-06 16:38:51 UTC): Cherry-pick of 33d03b1542207c595c5e4abd5a874c96041462a2 has failed:
```
On branch mergify/bp/version-15-hotfix/pr-45767
Your branch is up to date with 'origin/version-15-hotfix'.

You are currently cherry-picking commit 33d03b1542.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Changes to be committed:
	modified:   erpnext/accounts/doctype/sales_invoice/sales_invoice.json
	modified:   erpnext/projects/doctype/project/project.py

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/selling/doctype/sales_order/sales_order.json

```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

"
2836021572,pull_request,open,,fix: AttributeError in `get_item_details` when selecting/scanning batch in Delivery Note,"**Issue**

While selecting or scanning a batch in the Delivery Note, an AttributeError was raised:

```
Traceback (most recent call last):
  File ""apps/frappe/frappe/app.py"", line 114, in application
    response = frappe.api.handle(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/api/_init_.py"", line 49, in handle
    data = endpoint(**arguments)
           ^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/api/v1.py"", line 36, in handle_rpc_call
    return frappe.handler.handle()
           ^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/handler.py"", line 50, in handle
    data = execute_cmd(cmd)
           ^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/handler.py"", line 86, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/_init_.py"", line 1726, in call
    return fn(*args, **newargs)
           ^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/utils/typing_validations.py"", line 31, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File ""apps/erpnext/erpnext/stock/get_item_details.py"", line 123, in get_item_details
    update_stock(args, out, doc)
  File ""apps/erpnext/erpnext/stock/get_item_details.py"", line 210, in update_stock
    {""price_list"": doc.selling_price_list, ""uom"": out.uom, ""batch_no"": batch_no},
                   ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'dict' object has no attribute 'selling_price_list'
```

This occurred because doc was being treated as an object but was actually a dictionary.

**Fix**
Updated the relevant code in `update_stock` to correctly access `selling_price_list` from doc.


Closes: #45768",DaizyModi,2025-02-06 16:30:35+00:00,[],2025-02-07 08:29:05+00:00,,https://github.com/frappe/erpnext/pull/45774,"[('stock', None), ('needs-tests', 'This PR needs automated unit-tests.')]","[{'comment_id': 2640525555, 'issue_id': 2836021572, 'author': 'mohsinalimat', 'body': 'https://github.com/frappe/erpnext/issues/45768', 'created_at': datetime.datetime(2025, 2, 6, 17, 22, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642243215, 'issue_id': 2836021572, 'author': 'mohsinalimat', 'body': '@rohitwaghchaure please review', 'created_at': datetime.datetime(2025, 2, 7, 8, 29, 4, tzinfo=datetime.timezone.utc)}]","mohsinalimat on (2025-02-06 17:22:09 UTC): https://github.com/frappe/erpnext/issues/45768

mohsinalimat on (2025-02-07 08:29:04 UTC): @rohitwaghchaure please review

"
2835541500,pull_request,open,,fix: correct pay amount in portal pages,"Before:
![image](https://github.com/user-attachments/assets/50815c37-b3cb-4148-8754-89af5026465d)



After:
![image](https://github.com/user-attachments/assets/ed4e4f32-f687-4cc5-a5ef-8d5532bbaefb)


Closes: https://github.com/frappe/erpnext/issues/45726
Related PR: https://github.com/frappe/erpnext/pull/44979
",ljain112,2025-02-06 13:29:36+00:00,[],2025-02-07 12:23:55+00:00,,https://github.com/frappe/erpnext/pull/45773,[],"[{'comment_id': 2642350929, 'issue_id': 2835541500, 'author': 'dhrumilpatel30', 'body': 'Few things that i wanted to mention:\r\n\r\n1. The pay amount should be outstanding amount not the grand total, there is a variable named outstanding_amount which represents the same. This will be an issue if we have Partially paid invoices.\r\n\r\n3. It would be good if we add currency icon along with the amount like the image attached below, which is from a custom webpage created in our erpnext instance. We can get that fron invoice.currency.symbol.\r\n \r\n<img width=""830"" alt=""image"" src=""https://github.com/user-attachments/assets/ed1aa59d-91de-4c41-8cb2-12d7a428a0ef"" />\r\n\r\n\r\nThanks for this quick PR.', 'created_at': datetime.datetime(2025, 2, 7, 9, 8, 9, tzinfo=datetime.timezone.utc)}]","dhrumilpatel30 on (2025-02-07 09:08:09 UTC): Few things that i wanted to mention:

1. The pay amount should be outstanding amount not the grand total, there is a variable named outstanding_amount which represents the same. This will be an issue if we have Partially paid invoices.

3. It would be good if we add currency icon along with the amount like the image attached below, which is from a custom webpage created in our erpnext instance. We can get that fron invoice.currency.symbol.
 
<img width=""830"" alt=""image"" src=""https://github.com/user-attachments/assets/ed1aa59d-91de-4c41-8cb2-12d7a428a0ef"" />


Thanks for this quick PR.

"
2835487942,pull_request,open,,fix: Party name in Supplier Portal for Purchase Order,"Closes: https://github.com/frappe/erpnext/issues/45749

Before:
![image](https://github.com/user-attachments/assets/c4489c33-69ca-4390-b65c-a10a72fa605a)


After:
![image](https://github.com/user-attachments/assets/9aa2f9a5-ed94-4030-b320-37ac2e2e7f48)
",ljain112,2025-02-06 13:07:40+00:00,[],2025-02-06 13:09:24+00:00,,https://github.com/frappe/erpnext/pull/45772,[],[],
2835437404,pull_request,closed,,fix: update_report_json function to handle empty report.json,"```
Executing erpnext.patches.v14_0.update_reports_with_range in nprime-erp.frappe.cloud (_c6f9eda088ee7a7b)

Traceback (most recent call last):
  File ""<frozen runpy>"", line 198, in runmodule_as_main
  File ""<frozen runpy>"", line 88, in runcode
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/utils/bench_helper.py"", line 114, in <module>
    main()
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/utils/bench_helper.py"", line 20, in main
    click.Group(commands=commands)(prog_name=""bench"")
  File ""/home/frappe/frappe-bench/env/lib/python3.11/site-packages/click/core.py"", line 1161, in call
    return self.main(*args, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/frappe/frappe-bench/env/lib/python3.11/site-packages/click/core.py"", line 1082, in main
    rv = self.invoke(ctx)
         ^^^^^^^^^^^^^^^^
  File ""/home/frappe/frappe-bench/env/lib/python3.11/site-packages/click/core.py"", line 1697, in invoke
    return processresult(sub_ctx.command.invoke(sub_ctx))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/frappe/frappe-bench/env/lib/python3.11/site-packages/click/core.py"", line 1697, in invoke
    return processresult(sub_ctx.command.invoke(sub_ctx))
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/frappe/frappe-bench/env/lib/python3.11/site-packages/click/core.py"", line 1443, in invoke
    return ctx.invoke(self.callback, ctx.params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/frappe/frappe-bench/env/lib/python3.11/site-packages/click/core.py"", line 788, in invoke
    return __callback(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/frappe/frappe-bench/env/lib/python3.11/site-packages/click/decorators.py"", line 33, in new_func
    return f(get_current_context(), args, *kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/commands/__init__.py"", line 29, in func
    ret = f(frappe.dict(ctx.obj), args, *kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/commands/site.py"", line 695, in migrate
    ).run(site=site)
      ^^^^^^^^^^^^^^
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/migrate.py"", line 186, in run
    self.run_schema_updates()
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/migrate.py"", line 52, in wrapper
    raise e
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/migrate.py"", line 44, in wrapper
    ret = method(*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/migrate.py"", line 121, in run_schema_updates
    frappe.modules.patch_handler.run_all(
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/modules/patch_handler.py"", line 76, in run_all
    run_patch(patch)
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/modules/patch_handler.py"", line 62, in run_patch
    if not run_single(patchmodule=patch):
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/modules/patch_handler.py"", line 152, in run_single
    return execute_patch(patchmodule, method, methodargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""/home/frappe/frappe-bench/apps/frappe/frappe/modules/patch_handler.py"", line 188, in execute_patch
    patch()
  File ""/home/frappe/frappe-bench/apps/erpnext/erpnext/patches/v140/update_reports_with_range.py"", line 16, in execute
    update_reference_reports(report)
  File ""/home/frappe/frappe-bench/apps/erpnext/erpnext/patches/v14_0/update_reports_with_range.py"", line 25, in update_reference_reports
    update_report_json(report)
  File ""/home/frappe/frappe-bench/apps/erpnext/erpnext/patches/v14_0/update_reports_with_range.py"", line 30, in update_report_json
    report_json = json.loads(report.json)
                  ^^^^^^^^^^^^^^^^^^^^^^^
  File ""/usr/lib/python3.11/json/__init__.py"", line 339, in loads
    raise TypeError(f'the JSON object must be str, bytes or bytearray, '
TypeError: the JSON object must be str, bytes or bytearray, not NoneType
```
Frappe Support: https://support.frappe.io/app/hd-ticket/30983",ljain112,2025-02-06 12:45:43+00:00,[],2025-02-06 13:01:04+00:00,2025-02-06 13:01:04+00:00,https://github.com/frappe/erpnext/pull/45771,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]","[{'comment_id': 2639766446, 'issue_id': 2835437404, 'author': 'ljain112', 'body': 'Duplicate: https://github.com/frappe/erpnext/pull/45747', 'created_at': datetime.datetime(2025, 2, 6, 13, 1, 4, tzinfo=datetime.timezone.utc)}]","ljain112 (Issue Creator) on (2025-02-06 13:01:04 UTC): Duplicate: https://github.com/frappe/erpnext/pull/45747

"
2835404549,pull_request,closed,,Fix: Update `ctx` to `args` for compatibility.,"- closes : https://github.com/frappe/erpnext/issues/45758

backport : version-14-hotfix",Sanket322,2025-02-06 12:30:34+00:00,[],2025-02-07 14:15:39+00:00,2025-02-07 14:13:54+00:00,https://github.com/frappe/erpnext/pull/45770,[],"[{'comment_id': 2642565674, 'issue_id': 2835404549, 'author': 'toofun666', 'body': 'Please merge this ASAP. Production systems are waiting.', 'created_at': datetime.datetime(2025, 2, 7, 10, 44, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643053759, 'issue_id': 2835404549, 'author': 'ruthra-kumar', 'body': '@mergify backport version-15', 'created_at': datetime.datetime(2025, 2, 7, 14, 14, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643054178, 'issue_id': 2835404549, 'author': 'mergify[bot]', 'body': '> backport version-15\n\n#### ✅ Backports have been created\n\n<details>\n\n* [#45795 Fix: Update `ctx` to `args` for compatibility. (backport #45770)](https://github.com/frappe/erpnext/pull/45795) has been created for branch `version-15`\n\n</details>\n\n\n<!---\nDO NOT EDIT\n-*- Mergify Payload -*-\n{""command"": ""backport version-15"", ""conclusion"": ""success"", ""action_is_running"": true}\n-*- Mergify Payload End -*-\n-->', 'created_at': datetime.datetime(2025, 2, 7, 14, 14, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643054834, 'issue_id': 2835404549, 'author': 'ruthra-kumar', 'body': '@mergify copy version-14-hotfix', 'created_at': datetime.datetime(2025, 2, 7, 14, 14, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643055150, 'issue_id': 2835404549, 'author': 'mergify[bot]', 'body': '> copy version-14-hotfix\n\n#### ✅ Pull request copies have been created\n\n<details>\n\n* [#45796 Fix: Update `ctx` to `args` for compatibility. (copy #45770)](https://github.com/frappe/erpnext/pull/45796) has been created for branch `version-14-hotfix`\n\n</details>\n\n\n<!---\nDO NOT EDIT\n-*- Mergify Payload -*-\n{""command"": ""copy version-14-hotfix"", ""conclusion"": ""success"", ""action_is_running"": true}\n-*- Mergify Payload End -*-\n-->', 'created_at': datetime.datetime(2025, 2, 7, 14, 14, 54, tzinfo=datetime.timezone.utc)}]","toofun666 on (2025-02-07 10:44:56 UTC): Please merge this ASAP. Production systems are waiting.

ruthra-kumar on (2025-02-07 14:14:20 UTC): @mergify backport version-15

mergify[bot] on (2025-02-07 14:14:29 UTC): #### ✅ Backports have been created

<details>

* [#45795 Fix: Update `ctx` to `args` for compatibility. (backport #45770)](https://github.com/frappe/erpnext/pull/45795) has been created for branch `version-15`

</details>


<!---
DO NOT EDIT
-*- Mergify Payload -*-
{""command"": ""backport version-15"", ""conclusion"": ""success"", ""action_is_running"": true}
-*- Mergify Payload End -*-
-->

ruthra-kumar on (2025-02-07 14:14:46 UTC): @mergify copy version-14-hotfix

mergify[bot] on (2025-02-07 14:14:54 UTC): #### ✅ Pull request copies have been created

<details>

* [#45796 Fix: Update `ctx` to `args` for compatibility. (copy #45770)](https://github.com/frappe/erpnext/pull/45796) has been created for branch `version-14-hotfix`

</details>


<!---
DO NOT EDIT
-*- Mergify Payload -*-
{""command"": ""copy version-14-hotfix"", ""conclusion"": ""success"", ""action_is_running"": true}
-*- Mergify Payload End -*-
-->

"
2835150535,pull_request,closed,,fix: the project document timed out while opening,"Project performance issue causes

- Update the cost of the project while opening the record
- Project field was not indexed in multiple documents ",rohitwaghchaure,2025-02-06 10:36:45+00:00,[],2025-02-06 16:37:34+00:00,2025-02-06 16:37:22+00:00,https://github.com/frappe/erpnext/pull/45767,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2835142023,pull_request,open,,Update outstanding for self,"**ref: [26385](https://support.frappe.io/helpdesk/tickets/26385)**

**Issues:**

1) While making a return for a fully paid invoice with `update outstanding for self` disabled, the outstanding of the return against invoice goes to negative. As it isn't a return invoice, we are unable to reconcile it in Payment Reconciliation

**Before:**

[issue_party.webm](https://github.com/user-attachments/assets/a6c1e816-6eb6-4a55-a6dd-08ef7fe5a82c)

**After:**

[fix_party.webm](https://github.com/user-attachments/assets/507eba06-2458-4bae-a890-197fc8e341af)


____
2) While making return invoice for a common party with `update outstanding for self` disabled, the outstanding of the return against the invoice goes to negative and didn't post the reversal JV

**Before:**

[issue_c_party.webm](https://github.com/user-attachments/assets/07f987c0-c823-47e0-9593-75a9ef7c6436)

**After:**

[fix_c_party.webm](https://github.com/user-attachments/assets/2b7ad5b2-49fb-4ac2-890c-95d513ca385d)


**Backport Needed: v15 & v14**",Bhavan23,2025-02-06 10:32:35+00:00,[],2025-02-06 11:07:28+00:00,,https://github.com/frappe/erpnext/pull/45766,[],[],
2835064504,pull_request,open,,fix: add accounting dimensions section in sales order item,"**Issue:**
Unable to create a Sales Invoice with multiple Sales Orders with different Accounting Dimensions.

**ref:** [29679](https://support.frappe.io/helpdesk/tickets/29679)

**Before:**

[dimension_order_item_bfr.webm](https://github.com/user-attachments/assets/d184e567-54d7-48e9-bc14-1d8c8ebd9eb3)

**After:**


https://github.com/user-attachments/assets/2537fbcb-1bf2-4ef2-86d7-eb6c8fb36025

**Back port needed for v15**
",Sugesh393,2025-02-06 09:58:53+00:00,[],2025-02-06 10:32:43+00:00,,https://github.com/frappe/erpnext/pull/45765,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2835013399,pull_request,open,,fix: stock reservation not working for sales invoice with update stock (backport #45763),"- Enable Stock Reservation for sales order
- Create the sales order 
- System will auto reserve the stock
- Create the sales invoice against above sales order with update stock 
- While submitting sales invoice, system will throw error that the stock has not reserved for the respective item 
<hr>This is an automatic backport of pull request #45763 done by [Mergify](https://mergify.com).",mergify[bot],2025-02-06 09:36:15+00:00,['rohitwaghchaure'],2025-02-06 16:43:27+00:00,,https://github.com/frappe/erpnext/pull/45764,"[('selling', None)]","[{'comment_id': 2639287119, 'issue_id': 2835013399, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 0c9d0ea1f4a7731706fb97d17e8c76f49f2e6477 has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-45763\nYour branch is up to date with \'origin/version-15-hotfix\'.\n\nYou are currently cherry-picking commit 0c9d0ea1f4.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nChanges to be committed:\n\tmodified:   erpnext/accounts/doctype/sales_invoice/sales_invoice.py\n\tmodified:   erpnext/controllers/selling_controller.py\n\tmodified:   erpnext/stock/doctype/delivery_note/delivery_note.py\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/selling/doctype/sales_order/test_sales_order.py\n\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2025, 2, 6, 9, 36, 17, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2025-02-06 09:36:17 UTC): Cherry-pick of 0c9d0ea1f4a7731706fb97d17e8c76f49f2e6477 has failed:
```
On branch mergify/bp/version-15-hotfix/pr-45763
Your branch is up to date with 'origin/version-15-hotfix'.

You are currently cherry-picking commit 0c9d0ea1f4.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Changes to be committed:
	modified:   erpnext/accounts/doctype/sales_invoice/sales_invoice.py
	modified:   erpnext/controllers/selling_controller.py
	modified:   erpnext/stock/doctype/delivery_note/delivery_note.py

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/selling/doctype/sales_order/test_sales_order.py

```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

"
2834971892,pull_request,closed,,fix: stock reservation not working for sales invoice with update stock,"- Enable Stock Reservation for sales order
- Create the sales order 
- System will auto reserve the stock
- Create the sales invoice against above sales order with update stock 
- While submitting sales invoice, system will throw error that the stock has not reserved for the respective item 
",rohitwaghchaure,2025-02-06 09:17:48+00:00,[],2025-02-06 09:35:08+00:00,2025-02-06 09:35:07+00:00,https://github.com/frappe/erpnext/pull/45763,"[('backport version-15-hotfix', '')]",[],
2834911448,pull_request,open,,"refactor: set received and paid amount based on each other, if unset",https://github.com/frappe/erpnext/pull/45620#issuecomment-2633739979,ruthra-kumar,2025-02-06 08:49:30+00:00,[],2025-02-06 08:49:30+00:00,,https://github.com/frappe/erpnext/pull/45762,[],[],
2834870429,pull_request,open,,fix: incorrect batch picked in the pick list,,rohitwaghchaure,2025-02-06 08:28:51+00:00,[],2025-02-06 13:49:18+00:00,,https://github.com/frappe/erpnext/pull/45761,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2834019547,pull_request,closed,,fix: sync translations from crowdin,,frappe-pr-bot,2025-02-05 21:43:26+00:00,[],2025-02-05 22:32:09+00:00,2025-02-05 22:32:07+00:00,https://github.com/frappe/erpnext/pull/45756,"[('translation', None)]",[],
2833569418,pull_request,open,,fix: disable partial payment in pos,Disable partial payment in POS Invoice.,diptanilsaha,2025-02-05 17:39:31+00:00,[],2025-02-06 04:57:09+00:00,,https://github.com/frappe/erpnext/pull/45752,[],[],
2832938823,pull_request,open,,fix: change voucher_type and voucher_name field type to data,"**Issue:**
While updating the cost center after the document was submitted, getting an error as one of the invoices from the tax_withheld_vouchers was cancelled.

**ref:** [30104](https://support.frappe.io/helpdesk/tickets/30104)

**Steps to reproduce:**
- Create a Purchase Invoice with TDS.
- Cancel one of the invoices from the Tax Withheld Vouchers table.
- Change any accounting dimension and update it.

![image](https://github.com/user-attachments/assets/3b0dfab8-ccf6-482c-9957-097dadb1335a)

![image](https://github.com/user-attachments/assets/c5707c6b-6655-4b60-b0b0-32a01e143b25)

![image](https://github.com/user-attachments/assets/293f34ef-37ce-4a8f-b3cc-c53ce1d49ce8)

**Back port needed for v14 and v15**",Sugesh393,2025-02-05 13:21:29+00:00,[],2025-02-05 16:01:20+00:00,,https://github.com/frappe/erpnext/pull/45751,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2832934727,pull_request,open,,feat: added option to enforce free item qty in pricing rule,"Reference support ticket [20447](https://support.frappe.io/helpdesk/tickets/20447)

Currently ERPNext forces user to mandatorily supply free items from pricing rule. This is done by fetching free items and adding it into child table whenever a document with pricing rule is saved. Normally, free items are at discretion of seller.

This PR adds a new option in Pricing Rule called `Enforce Free Item Qty` which will keep the behaviour same as before. However, upon disabling this checkbox, free items won't be fetched when document is saved.

Free items will now only be fetched when user adds an item with a free items pricing rule in the child table, not when document is saved, allowing the user to delete the free item as they wish.

This PR is incomplete. DO NOT MERGE.",mihir-kandoi,2025-02-05 13:19:41+00:00,[],2025-02-05 19:03:09+00:00,,https://github.com/frappe/erpnext/pull/45750,"[('needs-tests', 'This PR needs automated unit-tests.')]","[{'comment_id': 2637371395, 'issue_id': 2832934727, 'author': 'mihir-kandoi', 'body': '@rohitwaghchaure please note some things:\r\n\r\n1. I am setting enforcement default value as 1 so as to not mess with user sites that are actively using the old flow for a long time\r\n2. There is a slight problem with this approach, using the REST API with enforcement off, user will not be able to fetch free items. Not sure what can be the fix here.\r\n3. Once you approve the work, I will add in documentation link so the Documentation test failing is expected for now', 'created_at': datetime.datetime(2025, 2, 5, 16, 9, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637788453, 'issue_id': 2832934727, 'author': 'mihir-kandoi', 'body': '@rohitwaghchaure Can we create a whitelisted functions that will fetch free items? User can call that function through REST API right?', 'created_at': datetime.datetime(2025, 2, 5, 19, 3, 7, tzinfo=datetime.timezone.utc)}]","mihir-kandoi (Issue Creator) on (2025-02-05 16:09:30 UTC): @rohitwaghchaure please note some things:

1. I am setting enforcement default value as 1 so as to not mess with user sites that are actively using the old flow for a long time
2. There is a slight problem with this approach, using the REST API with enforcement off, user will not be able to fetch free items. Not sure what can be the fix here.
3. Once you approve the work, I will add in documentation link so the Documentation test failing is expected for now

mihir-kandoi (Issue Creator) on (2025-02-05 19:03:07 UTC): @rohitwaghchaure Can we create a whitelisted functions that will fetch free items? User can call that function through REST API right?

"
2832788215,pull_request,open,,fix: create job card with wip warehouse set to source warehouse if material transfer to wip warehouse is skipped in work order (backport #45739),"Reference support ticket [30984](https://support.frappe.io/helpdesk/tickets/30984)

Previous behaviour: If skip_transfer is enabled in work order, job card created won't have wip_warehouse set to source_warehouse by default, it remains empty for the user to fill

New behaviour: If skip_transfer is enabled, wip_warehouse in job card will be set to source_warehouse from work order by default<hr>This is an automatic backport of pull request #45739 done by [Mergify](https://mergify.com).",mergify[bot],2025-02-05 12:19:51+00:00,['mihir-kandoi'],2025-02-05 12:29:35+00:00,,https://github.com/frappe/erpnext/pull/45748,"[('needs-tests', 'This PR needs automated unit-tests.'), ('conflicts', None)]","[{'comment_id': 2636578524, 'issue_id': 2832788215, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 723e902470c772469f1fd3ecc04d2923acf96d0b has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-45739\nYour branch is up to date with \'origin/version-15-hotfix\'.\n\nYou are currently cherry-picking commit 723e902470.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/manufacturing/doctype/work_order/work_order.py\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2025, 2, 5, 12, 19, 53, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2025-02-05 12:19:53 UTC): Cherry-pick of 723e902470c772469f1fd3ecc04d2923acf96d0b has failed:
```
On branch mergify/bp/version-15-hotfix/pr-45739
Your branch is up to date with 'origin/version-15-hotfix'.

You are currently cherry-picking commit 723e902470.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/manufacturing/doctype/work_order/work_order.py

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

"
2832782059,pull_request,open,,fix: Handle Empty JSON in Report Parsing,"Support ticket: [Support Ticket  - 30983](https://support.frappe.io/helpdesk/tickets/30983)

Handle cases where the json is None in the report.

backport version-15",Sanket322,2025-02-05 12:17:07+00:00,[],2025-02-06 07:19:41+00:00,,https://github.com/frappe/erpnext/pull/45747,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2832763444,pull_request,open,,feat: added ability to use custom html format for process statement of accounts,"Added code to process_statement_of_accounts.py.
The added code accepts the path to a custom html format of General Ledger and Accounts Receivable through a hook.
This path to custom html format is then used to build pdf to either download or send email.",stevewilson9009,2025-02-05 12:09:28+00:00,[],2025-02-07 05:14:58+00:00,,https://github.com/frappe/erpnext/pull/45746,"[('needs-tests', 'This PR needs automated unit-tests.')]","[{'comment_id': 2641965807, 'issue_id': 2832763444, 'author': 'Vishnu7025', 'body': '@deepeshgarg007 @ruthra-kumar', 'created_at': datetime.datetime(2025, 2, 7, 5, 14, 57, tzinfo=datetime.timezone.utc)}]","Vishnu7025 on (2025-02-07 05:14:57 UTC): @deepeshgarg007 @ruthra-kumar

"
2832635414,pull_request,open,,fix: map project from rfq to supplier quotation,"In request for quotation item, the project is linked via ""project_name"", so mapping does not happen automatically. ",HenningWendtland,2025-02-05 11:13:02+00:00,[],2025-02-05 13:58:15+00:00,,https://github.com/frappe/erpnext/pull/45745,"[('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2832627161,pull_request,closed,,fix: removed unused field (backport #45741),<hr>This is an automatic backport of pull request #45741 done by [Mergify](https://mergify.com).,mergify[bot],2025-02-05 11:09:42+00:00,['rohitwaghchaure'],2025-02-05 11:37:47+00:00,2025-02-05 11:37:46+00:00,https://github.com/frappe/erpnext/pull/45744,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2832607849,pull_request,closed,,fix: filter the item tax template using the input text (backport #45604),"Issue: The barcode search function is not properly validating the item group.

Ref: [30215](https://support.frappe.io/helpdesk/tickets/30215)

Before:

[issue.webm](https://github.com/user-attachments/assets/93c1dca7-e800-4460-90ae-8742e996e23f)

After:

[fix.webm](https://github.com/user-attachments/assets/e69798dd-1460-4b10-a258-d04c2ee4df3b)


Backport Needed: v15<hr>This is an automatic backport of pull request #45604 done by [Mergify](https://mergify.com).",mergify[bot],2025-02-05 11:01:30+00:00,['ruthra-kumar'],2025-02-05 11:43:10+00:00,2025-02-05 11:43:07+00:00,https://github.com/frappe/erpnext/pull/45743,"[('needs-tests', 'This PR needs automated unit-tests.')]","[{'comment_id': 2636412633, 'issue_id': 2832607849, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 4dd37ba033b6d7e0e831a701ea7053df3f0b13bf has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-45604\nYour branch is up to date with \'origin/version-15-hotfix\'.\n\nYou are currently cherry-picking commit 4dd37ba033.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/controllers/queries.py\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2025, 2, 5, 11, 1, 31, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2025-02-05 11:01:31 UTC): Cherry-pick of 4dd37ba033b6d7e0e831a701ea7053df3f0b13bf has failed:
```
On branch mergify/bp/version-15-hotfix/pr-45604
Your branch is up to date with 'origin/version-15-hotfix'.

You are currently cherry-picking commit 4dd37ba033.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/controllers/queries.py

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

"
2832577592,pull_request,closed,,fix: added correct options for incoming_rate field of delivery note item (backport #45734),"For some reason, incoming_rate field of Delivery Note Item DocType did not have the correct options set for the Currency type of the field. This sometimes caused issues like [this](https://support.frappe.io/helpdesk/tickets/31003).

This PR sets the options field to ""Company:company:default_currency""<hr>This is an automatic backport of pull request #45734 done by [Mergify](https://mergify.com).",mergify[bot],2025-02-05 10:48:07+00:00,['mihir-kandoi'],2025-02-05 11:38:19+00:00,2025-02-05 11:38:16+00:00,https://github.com/frappe/erpnext/pull/45742,[],"[{'comment_id': 2636382194, 'issue_id': 2832577592, 'author': 'mergify[bot]', 'body': 'Cherry-pick of 417bf49a8deac78baf098d9b059567b9b1c44bca has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-45734\nYour branch is up to date with \'origin/version-15-hotfix\'.\n\nYou are currently cherry-picking commit 417bf49a8d.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/stock/doctype/delivery_note_item/delivery_note_item.json\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2025, 2, 5, 10, 48, 10, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2025-02-05 10:48:10 UTC): Cherry-pick of 417bf49a8deac78baf098d9b059567b9b1c44bca has failed:
```
On branch mergify/bp/version-15-hotfix/pr-45734
Your branch is up to date with 'origin/version-15-hotfix'.

You are currently cherry-picking commit 417bf49a8d.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/stock/doctype/delivery_note_item/delivery_note_item.json

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

"
2832571801,pull_request,closed,,fix: removed unused field,,rohitwaghchaure,2025-02-05 10:45:34+00:00,[],2025-02-05 11:08:45+00:00,2025-02-05 11:08:45+00:00,https://github.com/frappe/erpnext/pull/45741,"[('backport version-15-hotfix', '')]",[],
2832521822,pull_request,closed,,fix: fetch rate from item price list when document is saved (backport #45692),"Reference support ticket [30672](https://support.frappe.io/helpdesk/tickets/30672)

Previous behaviour: Upon saving delivery note, batch for the line items is fetched but price for that item and batch combination is not fetched from item price list

New behaviour: Now price from item price list will be fetched once batch for line item is fetched on document save

`no-docs`<hr>This is an automatic backport of pull request #45692 done by [Mergify](https://mergify.com).",mergify[bot],2025-02-05 10:23:28+00:00,['mihir-kandoi'],2025-02-05 11:12:02+00:00,2025-02-05 11:12:00+00:00,https://github.com/frappe/erpnext/pull/45740,"[('accounts', ''), ('stock', None)]",[],
2832515361,pull_request,closed,,fix: create job card with wip warehouse set to source warehouse if material transfer to wip warehouse is skipped in work order,"Reference support ticket [30984](https://support.frappe.io/helpdesk/tickets/30984)

Previous behaviour: If skip_transfer is enabled in work order, job card created won't have wip_warehouse set to source_warehouse by default, it remains empty for the user to fill

New behaviour: If skip_transfer is enabled, wip_warehouse in job card will be set to source_warehouse from work order by default",mihir-kandoi,2025-02-05 10:20:54+00:00,[],2025-02-05 12:19:00+00:00,2025-02-05 11:09:12+00:00,https://github.com/frappe/erpnext/pull/45739,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2832455312,pull_request,closed,,fix: set asset value correctly after cancelling value adjustment (backport #45735),"When cancelling the asset value adjustment for any asset, `value_after_depreciation` was not setting correctly.
Internal support issue: https://support.frappe.io/helpdesk/tickets/30904<hr>This is an automatic backport of pull request #45735 done by [Mergify](https://mergify.com).",mergify[bot],2025-02-05 09:56:16+00:00,['khushi8112'],2025-02-05 10:21:13+00:00,2025-02-05 10:21:11+00:00,https://github.com/frappe/erpnext/pull/45738,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2832436205,pull_request,closed,,fix(Purchase Invoice): default payment terms template selected while duplicating (backport #45717),"Support Ticket: https://support.frappe.io/helpdesk/tickets/30567

> Screenshots/GIFs

Before

https://github.com/user-attachments/assets/fa2c7981-5480-43ad-a647-42a5e9f7e8f4


After

https://github.com/user-attachments/assets/7079567b-8e55-43eb-a665-05e88490dd45
<hr>This is an automatic backport of pull request #45717 done by [Mergify](https://mergify.com).",mergify[bot],2025-02-05 09:48:05+00:00,['iamejaaz'],2025-02-05 10:00:50+00:00,2025-02-05 10:00:48+00:00,https://github.com/frappe/erpnext/pull/45737,[],[],
2832436052,pull_request,closed,,fix(Purchase Invoice): default payment terms template selected while duplicating (backport #45717),"Support Ticket: https://support.frappe.io/helpdesk/tickets/30567

> Screenshots/GIFs

Before

https://github.com/user-attachments/assets/fa2c7981-5480-43ad-a647-42a5e9f7e8f4


After

https://github.com/user-attachments/assets/7079567b-8e55-43eb-a665-05e88490dd45
<hr>This is an automatic backport of pull request #45717 done by [Mergify](https://mergify.com).",mergify[bot],2025-02-05 09:48:01+00:00,['iamejaaz'],2025-02-05 11:45:58+00:00,2025-02-05 10:00:43+00:00,https://github.com/frappe/erpnext/pull/45736,"[('released', None)]","[{'comment_id': 2636237823, 'issue_id': 2832436052, 'author': 'mergify[bot]', 'body': 'Cherry-pick of fb3f08a44139d12b0d205e3f019cedcca923397a has failed:\n```\nOn branch mergify/bp/version-14-hotfix/pr-45717\nYour branch is ahead of \'origin/version-14-hotfix\' by 1 commit.\n  (use ""git push"" to publish your local commits)\n\nYou are currently cherry-picking commit fb3f08a441.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nChanges to be committed:\n\tmodified:   erpnext/public/js/controllers/transaction.js\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/accounts/doctype/purchase_invoice/purchase_invoice.js\n\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2025, 2, 5, 9, 48, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636504588, 'issue_id': 2832436052, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.82.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.82.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2025, 2, 5, 11, 45, 43, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2025-02-05 09:48:03 UTC): Cherry-pick of fb3f08a44139d12b0d205e3f019cedcca923397a has failed:
```
On branch mergify/bp/version-14-hotfix/pr-45717
Your branch is ahead of 'origin/version-14-hotfix' by 1 commit.
  (use ""git push"" to publish your local commits)

You are currently cherry-picking commit fb3f08a441.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Changes to be committed:
	modified:   erpnext/public/js/controllers/transaction.js

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/accounts/doctype/purchase_invoice/purchase_invoice.js

```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

frappe-pr-bot on (2025-02-05 11:45:43 UTC): :tada: This PR is included in version 14.82.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.82.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2832415189,pull_request,closed,,fix: set asset value correctly after cancelling value adjustment,"When cancelling the asset value adjustment for any asset, `value_after_depreciation` was not setting correctly.
Internal support issue: https://support.frappe.io/helpdesk/tickets/30904",khushi8112,2025-02-05 09:39:26+00:00,[],2025-02-05 09:55:48+00:00,2025-02-05 09:55:47+00:00,https://github.com/frappe/erpnext/pull/45735,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2832389369,pull_request,closed,,fix: added correct options for incoming_rate field of delivery note item,"For some reason, incoming_rate field of Delivery Note Item DocType did not have the correct options set for the Currency type of the field. This sometimes caused issues like [this](https://support.frappe.io/helpdesk/tickets/31003).

This PR sets the options field to ""Company:company:default_currency""",mihir-kandoi,2025-02-05 09:28:37+00:00,[],2025-02-05 10:46:50+00:00,2025-02-05 10:46:42+00:00,https://github.com/frappe/erpnext/pull/45734,"[('backport version-15-hotfix', '')]",[],
2832346367,pull_request,closed,,feat: account heads changed along with journal entry type and descrip… (backport #42845),"## Background/Context

- On the submission of asset value adjustment, automatically journal entry is passed in which depreciation and accumulated depreciation accounts are used to adjust the value

- Also, the negative amount is passed in the journal entry in case of increase in asset value.
- Journal entry type is of depreciation instead of journal entry.
- Remark of journal entry is of depreciation entry instead of revaluaton entry.
- Accounting Dimension values not getting updated

## Solution Summary
- Provide a field named “Difference account” and one can choose the revaluation or impairment account as may be the case differ
- No negative entry is allowed in the journal entry passed.
- Journal entry type is to be set to journal entry.
- Remark of journal entry is to be set as revaluation entry.
- Accounting Dimension values getting fetched from asset and updated in Journal Entry

**1. In the Asset Value Adjustment Doctype, we have added a new ‘Difference Account’ box.**
![image (12) (1)](https://github.com/user-attachments/assets/b971ce94-abb2-4867-bc13-7596f02fa926)

**2. When the value of asset is increasing, the fixed asset account from the asset category is debited and the difference account mentioned at the asset value adjustment doctype is credited. The opposite will happen when  the asset value is decreasing. Also, the entry type is changed from Depriciation Entry to Journal Entry**
![image (13) (1)](https://github.com/user-attachments/assets/343a25f8-b8d0-4a36-ac95-3f5c85a5a23c)

**3. Remark is changed from Depriciation Entry to Revaluation Entry**
![image (14) (1)](https://github.com/user-attachments/assets/92875aa0-d2c2-40fd-adaa-02388734227d)<hr>This is an automatic backport of pull request #42845 done by [Mergify](https://mergify.com).",mergify[bot],2025-02-05 09:09:52+00:00,[],2025-02-05 09:33:34+00:00,2025-02-05 09:33:30+00:00,https://github.com/frappe/erpnext/pull/45733,"[('conflicts', None)]","[{'comment_id': 2636146408, 'issue_id': 2832346367, 'author': 'mergify[bot]', 'body': 'Cherry-pick of d4fdada83cf0fc2580b4267b137296e30133bdef has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-42845\nYour branch is up to date with \'origin/version-15-hotfix\'.\n\nYou are currently cherry-picking commit d4fdada83c.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nChanges to be committed:\n\tmodified:   erpnext/assets/doctype/asset_value_adjustment/asset_value_adjustment.js\n\tmodified:   erpnext/assets/doctype/asset_value_adjustment/asset_value_adjustment.py\n\tmodified:   erpnext/assets/doctype/asset_value_adjustment/test_asset_value_adjustment.py\n\tmodified:   erpnext/hooks.py\n\tnew file:   erpnext/patches/v15_0/set_difference_amount_in_asset_value_adjustment.py\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/assets/doctype/asset_value_adjustment/asset_value_adjustment.json\n\tboth modified:   erpnext/patches.txt\n\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2025, 2, 5, 9, 9, 54, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2025-02-05 09:09:54 UTC): Cherry-pick of d4fdada83cf0fc2580b4267b137296e30133bdef has failed:
```
On branch mergify/bp/version-15-hotfix/pr-42845
Your branch is up to date with 'origin/version-15-hotfix'.

You are currently cherry-picking commit d4fdada83c.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Changes to be committed:
	modified:   erpnext/assets/doctype/asset_value_adjustment/asset_value_adjustment.js
	modified:   erpnext/assets/doctype/asset_value_adjustment/asset_value_adjustment.py
	modified:   erpnext/assets/doctype/asset_value_adjustment/test_asset_value_adjustment.py
	modified:   erpnext/hooks.py
	new file:   erpnext/patches/v15_0/set_difference_amount_in_asset_value_adjustment.py

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/assets/doctype/asset_value_adjustment/asset_value_adjustment.json
	both modified:   erpnext/patches.txt

```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

"
2832278186,pull_request,closed,,fix: remove tds account in taxes table on change of Tax Withholding C… (backport #45590),"Issue: On changing the Tax Withholding Category, the account in the taxes table is not being removed and continues to accumulate.

Solution: Added a JS validation on the change of Tax Withholding Category

Before:

[tax_withholding_category_removal_before.webm](https://github.com/user-attachments/assets/99a980f6-709d-4240-a3c4-a9e06b29b134)


After:

[tax_withholding_category_removal_after.webm](https://github.com/user-attachments/assets/589f31ff-a617-43bd-be6b-936cfcb824f7)

Backport needed: Version15
<hr>This is an automatic backport of pull request #45590 done by [Mergify](https://mergify.com).",mergify[bot],2025-02-05 08:39:28+00:00,[],2025-02-05 08:58:09+00:00,2025-02-05 08:58:08+00:00,https://github.com/frappe/erpnext/pull/45732,[],[],
2832257956,pull_request,closed,,fix(pos): add item in the existing item row when discount is applied (backport #45447),"**Issue:**
The item is added to the new row when the discount is applied.
**ref:** [25597](https://support.frappe.io/helpdesk/tickets/25597)

**Before:**

https://github.com/user-attachments/assets/50508145-48b7-459e-bb36-7439b872c402


**After:**

https://github.com/user-attachments/assets/37772b0a-0874-43a6-a62a-707bf1a8fc64



**Backport needed for v14 & v15**<hr>This is an automatic backport of pull request #45447 done by [Mergify](https://mergify.com).",mergify[bot],2025-02-05 08:30:34+00:00,['ruthra-kumar'],2025-02-05 08:34:38+00:00,2025-02-05 08:34:09+00:00,https://github.com/frappe/erpnext/pull/45731,[],[],
2832257852,pull_request,closed,,fix(pos): add item in the existing item row when discount is applied (backport #45447),"**Issue:**
The item is added to the new row when the discount is applied.
**ref:** [25597](https://support.frappe.io/helpdesk/tickets/25597)

**Before:**

https://github.com/user-attachments/assets/50508145-48b7-459e-bb36-7439b872c402


**After:**

https://github.com/user-attachments/assets/37772b0a-0874-43a6-a62a-707bf1a8fc64



**Backport needed for v14 & v15**<hr>This is an automatic backport of pull request #45447 done by [Mergify](https://mergify.com).",mergify[bot],2025-02-05 08:30:30+00:00,['ruthra-kumar'],2025-02-05 11:46:00+00:00,2025-02-05 08:40:25+00:00,https://github.com/frappe/erpnext/pull/45730,"[('released', None)]","[{'comment_id': 2636060216, 'issue_id': 2832257852, 'author': 'mergify[bot]', 'body': 'Cherry-pick of bee2c04d0bd882f32f417a3664e5a7586383a239 has failed:\n```\nOn branch mergify/bp/version-14-hotfix/pr-45447\nYour branch is up to date with \'origin/version-14-hotfix\'.\n\nYou are currently cherry-picking commit bee2c04d0b.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/selling/page/point_of_sale/pos_controller.js\n\nno changes added to commit (use ""git add"" and/or ""git commit -a"")\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2025, 2, 5, 8, 30, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636504803, 'issue_id': 2832257852, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.82.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.82.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2025, 2, 5, 11, 45, 49, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2025-02-05 08:30:32 UTC): Cherry-pick of bee2c04d0bd882f32f417a3664e5a7586383a239 has failed:
```
On branch mergify/bp/version-14-hotfix/pr-45447
Your branch is up to date with 'origin/version-14-hotfix'.

You are currently cherry-picking commit bee2c04d0b.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/selling/page/point_of_sale/pos_controller.js

no changes added to commit (use ""git add"" and/or ""git commit -a"")
```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

frappe-pr-bot on (2025-02-05 11:45:49 UTC): :tada: This PR is included in version 14.82.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.82.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2832234042,pull_request,closed,,fix: allow multiple email ids (backport #45686),"**Issue:** Unable to send email in the Process Statement of Accounts, when there are multiple Email IDs.

**Ref:** [30532](https://support.frappe.io/helpdesk/tickets/30532)

**Contact Details:**

![contact](https://github.com/user-attachments/assets/767e4f68-436c-492a-9bf4-092d56a5eb62)

**Before:**

https://github.com/user-attachments/assets/d138b639-42d7-41eb-b150-d7b7a6e1c644

**After:**

https://github.com/user-attachments/assets/c295c024-3ce2-48d1-a33d-c99bfc72cc5d

**Backport needed for v14 & v15**
<hr>This is an automatic backport of pull request #45686 done by [Mergify](https://mergify.com).",mergify[bot],2025-02-05 08:20:04+00:00,[],2025-02-05 11:45:59+00:00,2025-02-05 08:57:57+00:00,https://github.com/frappe/erpnext/pull/45729,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2636504698, 'issue_id': 2832234042, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.82.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.82.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2025, 2, 5, 11, 45, 46, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2025-02-05 11:45:46 UTC): :tada: This PR is included in version 14.82.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.82.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2832233965,pull_request,closed,,fix: allow multiple email ids (backport #45686),"**Issue:** Unable to send email in the Process Statement of Accounts, when there are multiple Email IDs.

**Ref:** [30532](https://support.frappe.io/helpdesk/tickets/30532)

**Contact Details:**

![contact](https://github.com/user-attachments/assets/767e4f68-436c-492a-9bf4-092d56a5eb62)

**Before:**

https://github.com/user-attachments/assets/d138b639-42d7-41eb-b150-d7b7a6e1c644

**After:**

https://github.com/user-attachments/assets/c295c024-3ce2-48d1-a33d-c99bfc72cc5d

**Backport needed for v14 & v15**
<hr>This is an automatic backport of pull request #45686 done by [Mergify](https://mergify.com).",mergify[bot],2025-02-05 08:20:02+00:00,[],2025-02-05 08:38:55+00:00,2025-02-05 08:38:52+00:00,https://github.com/frappe/erpnext/pull/45728,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2832049973,pull_request,closed,,fix: respect user set account if not advance account for getting outsanding invoices in payment entry (backport #45610),"Issue: Outstanding Invoices for the incorrect account are being fetched in Payment Entry.

Steps to replicate:
- Enable ""Book Advance in Separate Party Account in company settings"".
- Create a receivable account B.
- Create two invoices for a customer one in default receivable and the other in B Account.
- Create a New Payment Entry for the customer.
- Set ""Account Paid From"" as B.
- Fetch Outstanding Invoices

Even though Account B is set, invoices for the default account will be fetched because the system reset the party account.

Solution: Reset party account only if an advance account is set.

Frappe Support Issue: https://support.frappe.io/app/hd-ticket/30383<hr>This is an automatic backport of pull request #45610 done by [Mergify](https://mergify.com).",mergify[bot],2025-02-05 06:40:24+00:00,['ljain112'],2025-02-05 08:10:07+00:00,2025-02-05 08:10:05+00:00,https://github.com/frappe/erpnext/pull/45727,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2832013153,pull_request,closed,,fix: set max_date range for date of birth to today in employee,"It doesn't allow user to select the date of birth after Today.
backport to 15 and 14
![image](https://github.com/user-attachments/assets/95a19814-31fa-4f10-bac8-413649fdfab2)
",karm1000,2025-02-05 06:16:35+00:00,['ruthra-kumar'],2025-02-07 10:45:11+00:00,2025-02-07 10:45:10+00:00,https://github.com/frappe/erpnext/pull/45725,[],[],
2832010776,pull_request,closed,,fix: pos partial payment disabled,Disabled partial payment in POS.,diptanilsaha,2025-02-05 06:14:56+00:00,[],2025-02-05 09:49:33+00:00,2025-02-05 09:49:32+00:00,https://github.com/frappe/erpnext/pull/45724,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2831993493,pull_request,open,,fix: validate payment request total of partly paid invoice,"Issue:
When creating payment request for partly paid invoices with more than one payment entry, Amount value cannot be negative error occurred or amount value got doubled.

Before:

https://github.com/user-attachments/assets/b54b9e6f-369b-4451-b691-3fc47fce01e1


After:

https://github.com/user-attachments/assets/ed8ee2f0-b675-4353-8eb4-1869ee2364ef

Back port needed for v15",Sugesh393,2025-02-05 06:03:27+00:00,[],2025-02-06 06:48:38+00:00,,https://github.com/frappe/erpnext/pull/45723,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2831759535,pull_request,closed,,fix: closing stock balance report not generating (backport #45721),<hr>This is an automatic backport of pull request #45721 done by [Mergify](https://mergify.com).,mergify[bot],2025-02-05 03:16:11+00:00,['rohitwaghchaure'],2025-02-05 11:46:01+00:00,2025-02-05 05:08:35+00:00,https://github.com/frappe/erpnext/pull/45722,"[('needs-tests', 'This PR needs automated unit-tests.'), ('released', None)]","[{'comment_id': 2636504921, 'issue_id': 2831759535, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.82.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.82.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2025, 2, 5, 11, 45, 52, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2025-02-05 11:45:52 UTC): :tada: This PR is included in version 14.82.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.82.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2831538451,pull_request,closed,,fix: closing stock balance report not generating,,rohitwaghchaure,2025-02-04 23:59:55+00:00,[],2025-02-05 03:15:00+00:00,2025-02-05 03:15:00+00:00,https://github.com/frappe/erpnext/pull/45721,"[('backport version-14-hotfix', 'backport to version 14')]",[],
2831365404,pull_request,closed,,fix: sync translations from crowdin,,frappe-pr-bot,2025-02-04 21:46:43+00:00,[],2025-02-04 23:22:15+00:00,2025-02-04 23:22:13+00:00,https://github.com/frappe/erpnext/pull/45720,"[('translation', None)]",[],
2831071241,pull_request,closed,,fix: copy correct uom from delivery note when creating packing list (backport #45678),"Reference issue #45572 

Old behaviour: System was ignoring UOM from Delivery Note line item causing incorrect data
New behaviour: System will now fetch the correct UOM from Delivery Note line item<hr>This is an automatic backport of pull request #45678 done by [Mergify](https://mergify.com).",mergify[bot],2025-02-04 19:06:28+00:00,['mihir-kandoi'],2025-02-05 05:08:14+00:00,2025-02-05 05:08:13+00:00,https://github.com/frappe/erpnext/pull/45719,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2831068667,pull_request,closed,,fix: show only items with inspection enabled on create QI dialog (backport #45710),"Reference support ticket [30355](https://support.frappe.io/helpdesk/tickets/30355)

Dialog box when creating Quality Inspection will now show only those items which have Quality Inspection enabled in their masters

`no-docs`<hr>This is an automatic backport of pull request #45710 done by [Mergify](https://mergify.com).",mergify[bot],2025-02-04 19:05:05+00:00,['mihir-kandoi'],2025-02-05 07:35:19+00:00,2025-02-05 07:35:17+00:00,https://github.com/frappe/erpnext/pull/45718,"[('stock', None), ('needs-tests', 'This PR needs automated unit-tests.'), ('conflicts', None)]","[{'comment_id': 2634825564, 'issue_id': 2831068667, 'author': 'mergify[bot]', 'body': 'Cherry-pick of c92ec312b926f44ccf3d4343a3cfdc39e0b4bcf0 has failed:\n```\nOn branch mergify/bp/version-15-hotfix/pr-45710\nYour branch is up to date with \'origin/version-15-hotfix\'.\n\nYou are currently cherry-picking commit c92ec312b9.\n  (fix conflicts and run ""git cherry-pick --continue"")\n  (use ""git cherry-pick --skip"" to skip this patch)\n  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)\n\nChanges to be committed:\n\tmodified:   erpnext/public/js/controllers/transaction.js\n\nUnmerged paths:\n  (use ""git add <file>..."" to mark resolution)\n\tboth modified:   erpnext/controllers/stock_controller.py\n\n```\n\n\nTo fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally', 'created_at': datetime.datetime(2025, 2, 4, 19, 5, 7, tzinfo=datetime.timezone.utc)}]","mergify[bot] (Issue Creator) on (2025-02-04 19:05:07 UTC): Cherry-pick of c92ec312b926f44ccf3d4343a3cfdc39e0b4bcf0 has failed:
```
On branch mergify/bp/version-15-hotfix/pr-45710
Your branch is up to date with 'origin/version-15-hotfix'.

You are currently cherry-picking commit c92ec312b9.
  (fix conflicts and run ""git cherry-pick --continue"")
  (use ""git cherry-pick --skip"" to skip this patch)
  (use ""git cherry-pick --abort"" to cancel the cherry-pick operation)

Changes to be committed:
	modified:   erpnext/public/js/controllers/transaction.js

Unmerged paths:
  (use ""git add <file>..."" to mark resolution)
	both modified:   erpnext/controllers/stock_controller.py

```


To fix up this pull request, you can check it out locally. See documentation: https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/checking-out-pull-requests-locally

"
2831018765,pull_request,closed,,fix(Purchase Invoice): default payment terms template selected while duplicating,"Support Ticket: https://support.frappe.io/helpdesk/tickets/30567

> Screenshots/GIFs

Before

https://github.com/user-attachments/assets/fa2c7981-5480-43ad-a647-42a5e9f7e8f4


After

https://github.com/user-attachments/assets/7079567b-8e55-43eb-a665-05e88490dd45
",iamejaaz,2025-02-04 18:38:15+00:00,['ruthra-kumar'],2025-02-05 09:46:58+00:00,2025-02-05 09:46:57+00:00,https://github.com/frappe/erpnext/pull/45717,"[('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2830460287,pull_request,open,,fix: check payment overdue,"**Issue :**
Dunning should not be created for unpaid sales invoices when the payment due date is today.

**Before :**

![Sales Invoice Dashboard](https://github.com/user-attachments/assets/40cf2e92-16bc-42a2-b039-c4ba0692136f)

![Sales Invoice  Dunning ](https://github.com/user-attachments/assets/d12f38c8-5a4c-4d57-bfea-d8cbe7fecc1f)

**After :** 

![After fix](https://github.com/user-attachments/assets/327e4e0b-7b30-48e7-98c4-aa4a466aff71)

**Backport needed for v15**

",PugazhendhiVelu,2025-02-04 14:38:04+00:00,[],2025-02-04 16:17:24+00:00,,https://github.com/frappe/erpnext/pull/45716,[],[],
2830354371,pull_request,open,,fix-de-transaltion,"<!--

Some key notes before you open a PR:

 1. Select which branch should this PR be merged in?
 2. PR name follows [convention](http://karma-runner.github.io/4.0/dev/git-commit-msg.html)
 3. All tests pass locally, UI and Unit tests
 4. All business logic and validations must be on the server-side
 5. Update necessary Documentation
 6. Put `closes #XXXX` in your comment to auto-close the issue that your PR fixes


Also, if you're new here

- Documentation Guidelines => https://github.com/frappe/erpnext/wiki/Updating-Documentation

- Contribution Guide => https://github.com/frappe/erpnext/blob/develop/.github/CONTRIBUTING.md

- Pull Request Checklist => https://github.com/frappe/erpnext/wiki/Pull-Request-Checklist

-->

> Please provide enough information so that others can review your pull request:

<!-- You can skip this if you're fixing a typo or updating existing documentation -->

> Explain the **details** for making this change. What existing problem does the pull request solve?

<!-- Example: When ""Adding a function to do X"", explain why it is necessary to have a way to do X. -->

Currently, the translation of “Required by” (e.g. in the material request) into German was misleading. Therefore, the update has been made so that the German translation is “Benötigt bis”.


> Screenshots/GIFs

<!-- Add images/recordings to better visualize the change: expected/current behviour -->
",mhh008,2025-02-04 13:58:44+00:00,[],2025-02-04 13:59:26+00:00,,https://github.com/frappe/erpnext/pull/45715,[],"[{'comment_id': 2634051100, 'issue_id': 2830354371, 'author': 'mhh008', 'body': 'closes #45654', 'created_at': datetime.datetime(2025, 2, 4, 13, 59, tzinfo=datetime.timezone.utc)}]","mhh008 (Issue Creator) on (2025-02-04 13:59:00 UTC): closes #45654

"
2830291925,pull_request,open,,fix: Reset `party_name` and `party_bank_account` on change of party,Backport to 15 and 14,Abdeali099,2025-02-04 13:36:20+00:00,[],2025-02-04 13:36:49+00:00,,https://github.com/frappe/erpnext/pull/45713,[],[],
2829963160,pull_request,closed,,fix: handling company in bank reconciliation tool (backport #45582),"**Issue:**
In **Bank Reconciliation Tool**, `company`  field is not loaded with the default company value. 
So, API call made on selecting the `Bank Account` throws error for missing value of `company`.


![Screenshot from 2025-01-29 13-44-34](https://github.com/user-attachments/assets/8df17355-8624-468c-873e-1633207c2332)
*Default Company is not loaded when opening Bank Reconciliation Tool*

![Screenshot from 2025-01-29 13-46-20](https://github.com/user-attachments/assets/a6302c19-b08f-46df-aed2-6c1db0b7df9c)
*An error is thrown when selecting Bank Account*

**Reference:**
https://github.com/frappe/erpnext/blob/d748b491ee2bbb2967175f58e1b04f5c2eda4722/erpnext/accounts/doctype/payment_reconciliation/payment_reconciliation.js#L9


backport version-14
backport version-15<hr>This is an automatic backport of pull request #45582 done by [Mergify](https://mergify.com).",mergify[bot],2025-02-04 11:45:07+00:00,['ruthra-kumar'],2025-02-05 11:46:02+00:00,2025-02-04 12:02:27+00:00,https://github.com/frappe/erpnext/pull/45712,"[('released', None)]","[{'comment_id': 2636505028, 'issue_id': 2829963160, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.82.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.82.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2025, 2, 5, 11, 45, 55, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2025-02-05 11:45:55 UTC): :tada: This PR is included in version 14.82.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.82.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2829963089,pull_request,closed,,fix: handling company in bank reconciliation tool (backport #45582),"**Issue:**
In **Bank Reconciliation Tool**, `company`  field is not loaded with the default company value. 
So, API call made on selecting the `Bank Account` throws error for missing value of `company`.


![Screenshot from 2025-01-29 13-44-34](https://github.com/user-attachments/assets/8df17355-8624-468c-873e-1633207c2332)
*Default Company is not loaded when opening Bank Reconciliation Tool*

![Screenshot from 2025-01-29 13-46-20](https://github.com/user-attachments/assets/a6302c19-b08f-46df-aed2-6c1db0b7df9c)
*An error is thrown when selecting Bank Account*

**Reference:**
https://github.com/frappe/erpnext/blob/d748b491ee2bbb2967175f58e1b04f5c2eda4722/erpnext/accounts/doctype/payment_reconciliation/payment_reconciliation.js#L9


backport version-14
backport version-15<hr>This is an automatic backport of pull request #45582 done by [Mergify](https://mergify.com).",mergify[bot],2025-02-04 11:45:05+00:00,['ruthra-kumar'],2025-02-04 12:02:44+00:00,2025-02-04 12:02:42+00:00,https://github.com/frappe/erpnext/pull/45711,[],[],
2829816805,pull_request,closed,,fix: show only items with inspection enabled on create QI dialog,"Reference support ticket [30355](https://support.frappe.io/helpdesk/tickets/30355)

Dialog box when creating Quality Inspection will now show only those items which have Quality Inspection enabled in their masters

`no-docs`",mihir-kandoi,2025-02-04 10:59:54+00:00,[],2025-02-04 19:03:46+00:00,2025-02-04 19:03:39+00:00,https://github.com/frappe/erpnext/pull/45710,"[('stock', None), ('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2829654683,pull_request,closed,,fix: subcontracting validation precision issue (backport #45701),"Reference support issue [30429](https://support.frappe.io/helpdesk/tickets/30429)

Added precision for validation logic in subcontracting controller. This was preventing submission of Subcontracting Order even when data in the document was valid.<hr>This is an automatic backport of pull request #45701 done by [Mergify](https://mergify.com).",mergify[bot],2025-02-04 09:54:11+00:00,['mihir-kandoi'],2025-02-04 10:26:46+00:00,2025-02-04 10:26:44+00:00,https://github.com/frappe/erpnext/pull/45708,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2829650131,pull_request,closed,,fix: not able to make manufacturing entry for alternate items (backport #45646) (backport #45647),"Getting below error while creating the manufacturing entry for alternate items

<img width=""889"" alt=""image"" src=""https://github.com/user-attachments/assets/cb22f914-ae21-41bc-a3a9-c4e8d0a4f9f3"" />
<hr>This is an automatic backport of pull request #45646 done by [Mergify](https://mergify.com).<hr>This is an automatic backport of pull request #45647 done by [Mergify](https://mergify.com).",mergify[bot],2025-02-04 09:52:13+00:00,[],2025-02-04 10:22:16+00:00,2025-02-04 10:22:14+00:00,https://github.com/frappe/erpnext/pull/45707,[],[],
2829639226,pull_request,closed,,feat: report to find incorrect SABB (backport #45698),"The following SABB is in the submitted state but not linked to any Stock Ledger Entry causing the incorrect available quantity issue. To identify such entries added the ""Incorrect Serial and Batch Bundle"" report

<img width=""1383"" alt=""Screenshot 2025-02-04 at 1 05 17 PM"" src=""https://github.com/user-attachments/assets/e7392839-5cda-4a07-a0e4-effdacda7feb"" />

#no-docs
<hr>This is an automatic backport of pull request #45698 done by [Mergify](https://mergify.com).",mergify[bot],2025-02-04 09:47:27+00:00,['rohitwaghchaure'],2025-02-04 10:15:43+00:00,2025-02-04 10:15:40+00:00,https://github.com/frappe/erpnext/pull/45706,"[('stock', None), ('needs-tests', 'This PR needs automated unit-tests.')]",[],
2829622264,pull_request,closed,,fix: pos payment cash shortcut decimal (backport #45702),"Before:

![image](https://github.com/user-attachments/assets/8ed1ea9e-3036-4991-a5c0-c2795ea5e5e2)

After:

![image](https://github.com/user-attachments/assets/73e1b614-5863-4ca6-9501-19bb85dc700d)<hr>This is an automatic backport of pull request #45702 done by [Mergify](https://mergify.com).",mergify[bot],2025-02-04 09:40:03+00:00,['diptanilsaha'],2025-02-04 09:44:14+00:00,2025-02-04 09:44:09+00:00,https://github.com/frappe/erpnext/pull/45705,[],[],
2829609844,pull_request,closed,,chore: release v14,Automated weekly release.,frappe-pr-bot,2025-02-04 09:35:10+00:00,[],2025-02-05 11:45:57+00:00,2025-02-05 11:44:10+00:00,https://github.com/frappe/erpnext/pull/45704,"[('released', None)]","[{'comment_id': 2636504484, 'issue_id': 2829609844, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.82.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.82.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2025, 2, 5, 11, 45, 40, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot (Issue Creator) on (2025-02-05 11:45:40 UTC): :tada: This PR is included in version 14.82.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.82.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2829609721,pull_request,closed,,chore: release v15,Automated weekly release.,frappe-pr-bot,2025-02-04 09:35:07+00:00,[],2025-02-05 12:06:41+00:00,2025-02-05 12:06:41+00:00,https://github.com/frappe/erpnext/pull/45703,"[('stock', None), ('CRM', None), ('selling', None)]",[],
2829609213,pull_request,closed,,fix: pos payment cash shortcut decimal,"Before:

![image](https://github.com/user-attachments/assets/8ed1ea9e-3036-4991-a5c0-c2795ea5e5e2)

After:

![image](https://github.com/user-attachments/assets/73e1b614-5863-4ca6-9501-19bb85dc700d)",diptanilsaha,2025-02-04 09:34:53+00:00,[],2025-02-04 09:38:38+00:00,2025-02-04 09:38:38+00:00,https://github.com/frappe/erpnext/pull/45702,"[('backport version-15-hotfix', '')]",[],
2829394199,pull_request,closed,,fix: subcontracting validation precision issue,"Reference support issue [30429](https://support.frappe.io/helpdesk/tickets/30429)

Added precision for validation logic in subcontracting controller. This was preventing submission of Subcontracting Order even when data in the document was valid.",mihir-kandoi,2025-02-04 07:50:37+00:00,[],2025-02-04 09:53:09+00:00,2025-02-04 09:53:03+00:00,https://github.com/frappe/erpnext/pull/45701,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2829374259,pull_request,closed,,fix: point of sale padding (backport #45697),"Before:

![image](https://github.com/user-attachments/assets/67020061-1c5b-4fb3-a1b1-ebcfba126afe)

After:

![image](https://github.com/user-attachments/assets/2b59f2b0-0fba-4e2f-bbb8-4a9f58f57f7a)
<hr>This is an automatic backport of pull request #45697 done by [Mergify](https://mergify.com).",mergify[bot],2025-02-04 07:40:22+00:00,['diptanilsaha'],2025-02-04 08:32:40+00:00,2025-02-04 08:32:38+00:00,https://github.com/frappe/erpnext/pull/45699,[],[],
2829364613,pull_request,closed,,feat: report to find incorrect SABB,"The following SABB is in the submitted state but not linked to any Stock Ledger Entry causing the incorrect available quantity issue. To identify such entries added the ""Incorrect Serial and Batch Bundle"" report

<img width=""1383"" alt=""Screenshot 2025-02-04 at 1 05 17 PM"" src=""https://github.com/user-attachments/assets/e7392839-5cda-4a07-a0e4-effdacda7feb"" />

#no-docs
",rohitwaghchaure,2025-02-04 07:35:55+00:00,[],2025-02-04 09:45:42+00:00,2025-02-04 09:45:42+00:00,https://github.com/frappe/erpnext/pull/45698,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2829341994,pull_request,closed,,fix: point of sale padding,"Before:

![image](https://github.com/user-attachments/assets/67020061-1c5b-4fb3-a1b1-ebcfba126afe)

After:

![image](https://github.com/user-attachments/assets/2b59f2b0-0fba-4e2f-bbb8-4a9f58f57f7a)
",diptanilsaha,2025-02-04 07:22:59+00:00,[],2025-02-04 07:39:27+00:00,2025-02-04 07:39:27+00:00,https://github.com/frappe/erpnext/pull/45697,"[('backport version-15-hotfix', '')]",[],
2829302885,pull_request,open,,"fix: do not allow ""Finance Book"" in Accounting Dimensions","Issue: The user created the Finance book as Accounting Dimensions which is already a default dimension causing errors in the report because the accounting dimension is multi-select and the finance book field is a Link field.

### App Versions
```
{
	""erpnext"": ""15.35.1"",
	""frappe"": ""15.40.6"",
	""hrms"": ""15.28.3"",
	""lending"": ""0.0.1"",
	""ls_treso"": ""0.0.1"",
	""paie"": ""0.0.1"",
	""print_designer"": ""1.4.2""
}
```
### Route
```
query-report/Trial Balance
```
### Traceback
```
Traceback (most recent call last):
  File ""apps/frappe/frappe/app.py"", line 114, in application
    response = frappe.api.handle(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/api/__init__.py"", line 49, in handle
    data = endpoint(**arguments)
           ^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/api/v1.py"", line 36, in handle_rpc_call
    return frappe.handler.handle()
           ^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/handler.py"", line 49, in handle
    data = execute_cmd(cmd)
           ^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/handler.py"", line 85, in execute_cmd
    return frappe.call(method, **frappe.form_dict)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/__init__.py"", line 1775, in call
    return fn(*args, **newargs)
           ^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/utils/typing_validations.py"", line 31, in wrapper
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/__init__.py"", line 928, in wrapper_fn
    retval = fn(*args, **get_newargs(fn, kwargs))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/desk/query_report.py"", line 223, in run
    result = generate_report_result(report, filters, user, custom_columns, is_tree, parent_field)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/__init__.py"", line 928, in wrapper_fn
    retval = fn(*args, **get_newargs(fn, kwargs))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/desk/query_report.py"", line 84, in generate_report_result
    res = get_report_result(report, filters) or []
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/desk/query_report.py"", line 65, in get_report_result
    res = report.execute_script_report(filters)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/core/doctype/report/report.py"", line 163, in execute_script_report
    res = self.execute_module(filters)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/frappe/frappe/core/doctype/report/report.py"", line 180, in execute_module
    return frappe.get_attr(method_name)(frappe._dict(filters))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/erpnext/erpnext/accounts/report/trial_balance/trial_balance.py"", line 34, in execute
    data = get_data(filters)
           ^^^^^^^^^^^^^^^^^
  File ""apps/erpnext/erpnext/accounts/report/trial_balance/trial_balance.py"", line 105, in get_data
    opening_balances = get_opening_balances(filters)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/erpnext/erpnext/accounts/report/trial_balance/trial_balance.py"", line 135, in get_opening_balances
    balance_sheet_opening = get_rootwise_opening_balances(filters, ""Balance Sheet"")
                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/erpnext/erpnext/accounts/report/trial_balance/trial_balance.py"", line 177, in get_rootwise_opening_balances
    gle = get_opening_balance(""GL Entry"", filters, report_type, accounting_dimensions)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""apps/erpnext/erpnext/accounts/report/trial_balance/trial_balance.py"", line 295, in get_opening_balance
    opening_balance = opening_balance.where(
                      ^^^^^^^^^^^^^^^^^^^^^^
  File ""env/lib/python3.11/site-packages/pypika/utils.py"", line 50, in _copy
    result = func(self_copy, *args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""env/lib/python3.11/site-packages/pypika/queries.py"", line 930, in where
    if not self._validate_table(criterion):
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""env/lib/python3.11/site-packages/pypika/queries.py"", line 1155, in _validate_table
    for field in term.fields_():
                 ^^^^^^^^^^^^^^
  File ""env/lib/python3.11/site-packages/pypika/terms.py"", line 57, in fields_
    return set(self.find_(Field))
               ^^^^^^^^^^^^^^^^^
  File ""env/lib/python3.11/site-packages/pypika/terms.py"", line 37, in find_
    return [node for node in self.nodes_() if isinstance(node, type)]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""env/lib/python3.11/site-packages/pypika/terms.py"", line 37, in <listcomp>
    return [node for node in self.nodes_() if isinstance(node, type)]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File ""env/lib/python3.11/site-packages/pypika/terms.py"", line 795, in nodes_
    yield from self.container.nodes_()
               ^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'str' object has no attribute 'nodes_'

```
### Request Data
```
{
	""type"": ""GET"",
	""args"": {
		""report_name"": ""Trial Balance"",
		""filters"": ""{\""company\"":\""Institut Congolais pour la Conservation de la Nature (ICCN)\"",\""fiscal_year\"":\""2024\"",\""from_date\"":\""2024-01-01\"",\""to_date\"":\""2024-12-31\"",\""programme\"":[],\""imputation_analytique_2\"":[],\""branch\"":[],\""finance_book\"":\""311OD1\"",\""with_period_closing_entry_for_opening\"":1,\""with_period_closing_entry_for_current_period\"":1,\""include_default_book_entries\"":1,\""show_net_values\"":1}"",
		""ignore_prepared_report"": false,
		""is_tree"": true,
		""parent_field"": ""parent_account"",
		""are_default_filters"": false
	},
	""headers"": {},
	""error_handlers"": {},
	""url"": ""/api/method/frappe.desk.query_report.run"",
	""request_id"": ""fcd87219-a9a7-4054-be8a-d13140a4826f""
}
```
### Response Data
```
{
	""exception"": ""AttributeError: 'str' object has no attribute 'nodes_'"",
	""exc_type"": ""AttributeError"",
	""_exc_source"": ""erpnext (app)""
}
```


Frappe Support Issue: https://support.frappe.io/app/hd-ticket/27798

",ljain112,2025-02-04 06:59:14+00:00,[],2025-02-04 06:59:29+00:00,,https://github.com/frappe/erpnext/pull/45696,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2829274258,pull_request,closed,,fix: only system manager was able to create customer & prospect (backport #45694),<hr>This is an automatic backport of pull request #45694 done by [Mergify](https://mergify.com).,mergify[bot],2025-02-04 06:41:11+00:00,['shariquerik'],2025-02-04 07:18:52+00:00,2025-02-04 07:18:50+00:00,https://github.com/frappe/erpnext/pull/45695,"[('CRM', None), ('needs-tests', 'This PR needs automated unit-tests.')]",[],
2829250618,pull_request,closed,,fix: only system manager was able to create customer & prospect,,shariquerik,2025-02-04 06:24:41+00:00,[],2025-02-04 06:40:19+00:00,2025-02-04 06:40:19+00:00,https://github.com/frappe/erpnext/pull/45694,"[('CRM', None), ('backport version-15-hotfix', '')]",[],
2829199452,pull_request,open,,fix: uom reverts to default upon selecting do not explode,"fix #45688 

Fixed an issue where UOM reverts to default/stock UOM when do not explode is checked

`no-docs`",mihir-kandoi,2025-02-04 05:48:58+00:00,[],2025-02-04 07:53:24+00:00,,https://github.com/frappe/erpnext/pull/45693,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2829172294,pull_request,closed,,fix: fetch rate from item price list when document is saved,"Reference support ticket [30672](https://support.frappe.io/helpdesk/tickets/30672)

Previous behaviour: Upon saving delivery note, batch for the line items is fetched but price for that item and batch combination is not fetched from item price list

New behaviour: Now price from item price list will be fetched once batch for line item is fetched on document save

`no-docs`",mihir-kandoi,2025-02-04 05:27:18+00:00,[],2025-02-05 10:22:44+00:00,2025-02-05 10:22:37+00:00,https://github.com/frappe/erpnext/pull/45692,"[('accounts', ''), ('stock', None), ('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]","[{'comment_id': 2634825176, 'issue_id': 2829172294, 'author': 'rohitwaghchaure', 'body': 'Add test case for this', 'created_at': datetime.datetime(2025, 2, 4, 19, 4, 56, tzinfo=datetime.timezone.utc)}]","rohitwaghchaure on (2025-02-04 19:04:56 UTC): Add test case for this

"
2828595397,pull_request,closed,,fix: sync translations from crowdin,,frappe-pr-bot,2025-02-03 21:47:40+00:00,[],2025-02-04 00:35:54+00:00,2025-02-04 00:35:52+00:00,https://github.com/frappe/erpnext/pull/45691,"[('translation', None)]",[],
2828059548,pull_request,closed,,fix: slow SABB query (backport #45680),<hr>This is an automatic backport of pull request #45680 done by [Mergify](https://mergify.com).,mergify[bot],2025-02-03 17:02:06+00:00,['rohitwaghchaure'],2025-02-03 17:40:51+00:00,2025-02-03 17:40:48+00:00,https://github.com/frappe/erpnext/pull/45690,"[('stock', None), ('needs-tests', 'This PR needs automated unit-tests.')]",[],
2827631480,pull_request,open,,fix: add validation to allow equity account,"**Issue:**
need to accept the account type equity
**ref:** [30463](https://support.frappe.io/helpdesk/tickets/30463)

**Solution:**
added the validation to accept the equity account

**Before:**

[before.webm](https://github.com/user-attachments/assets/f8e7ffbb-3358-49d5-8bd5-53ea795a7d61)


**After:**

[After.webm](https://github.com/user-attachments/assets/97a76843-ec7d-48cd-8a1d-c1a77910d27a)

**Backport needed for v15**",rs-rethik,2025-02-03 14:11:32+00:00,[],2025-02-04 05:58:02+00:00,,https://github.com/frappe/erpnext/pull/45687,"[('accounts', '')]",[],
2827524561,pull_request,closed,,fix: allow multiple email ids,"**Issue:** Unable to send email in the Process Statement of Accounts, when there are multiple Email IDs.

**Ref:** [30532](https://support.frappe.io/helpdesk/tickets/30532)

**Contact Details:**

![contact](https://github.com/user-attachments/assets/767e4f68-436c-492a-9bf4-092d56a5eb62)

**Before:**

https://github.com/user-attachments/assets/d138b639-42d7-41eb-b150-d7b7a6e1c644

**After:**

https://github.com/user-attachments/assets/c295c024-3ce2-48d1-a33d-c99bfc72cc5d

**Backport needed for v14 & v15**
",Sudharsanan11,2025-02-03 13:29:58+00:00,['ruthra-kumar'],2025-02-05 08:18:58+00:00,2025-02-05 08:18:57+00:00,https://github.com/frappe/erpnext/pull/45686,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
2827477965,pull_request,closed,,fix: check payment overdue,"**Issue :** 
Dunning should not be created for unpaid sales invoices when the payment due date is today.

**Before :**

![Sales Invoice Dashboard](https://github.com/user-attachments/assets/c0db5dea-d224-4943-8f8c-ab9b0ef4d6a1)

![Sales Invoice  Dunning ](https://github.com/user-attachments/assets/1813a20b-4498-4b53-9546-550af0916d90)

**After :** 

![After fix](https://github.com/user-attachments/assets/99d4ed0f-dd6a-49f7-a1eb-063b9c0144b6)

**Backport needed for v15**
",PugazhendhiVelu,2025-02-03 13:10:19+00:00,[],2025-02-04 13:18:27+00:00,2025-02-04 13:18:27+00:00,https://github.com/frappe/erpnext/pull/45685,[],[],
2827139725,pull_request,open,,fix: get accounting dimension by document_type,"**Issue:**
unable to save pos-profile, when the accounting dimension is created in a different name than the doctype name and made it mandatory
**ref:** [30597](https://support.frappe.io/helpdesk/tickets/30597)

**Accounting Dimension:**
![image](https://github.com/user-attachments/assets/2008f5e6-dc8d-46cf-9c47-ae61d43503e8)

**POS-Profile:**
![image](https://github.com/user-attachments/assets/f19290f0-512b-4f1c-b5aa-4455685704a9)

**Issue:**
![image](https://github.com/user-attachments/assets/986b7784-f93c-44e6-9370-aef65da53c19)

backport needed for v15
",venkat102,2025-02-03 10:43:33+00:00,[],2025-02-03 10:43:45+00:00,,https://github.com/frappe/erpnext/pull/45683,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2827114452,pull_request,open,,fix(stock): Cast filters.to_date before string concatenation,"fix #45681 

/cc @rohitwaghchaure ",cogk,2025-02-03 10:32:36+00:00,[],2025-02-03 10:32:48+00:00,,https://github.com/frappe/erpnext/pull/45682,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2827050501,pull_request,closed,,fix: slow SABB query,,rohitwaghchaure,2025-02-03 10:04:56+00:00,[],2025-02-03 17:00:44+00:00,2025-02-03 15:26:38+00:00,https://github.com/frappe/erpnext/pull/45680,"[('stock', None), ('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2826989999,pull_request,closed,,Bug fix in email_campaign's update_status function.,"During the scheduler event of set_email_campaign_status, the function calling update_status isn't saving the modified status field.",harshpwctech,2025-02-03 09:46:50+00:00,['ruthra-kumar'],2025-02-07 07:43:20+00:00,2025-02-07 07:43:19+00:00,https://github.com/frappe/erpnext/pull/45679,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2826909361,pull_request,closed,,fix: copy correct uom from delivery note when creating packing list,"Reference issue #45572 

Old behaviour: System was ignoring UOM from Delivery Note line item causing incorrect data
New behaviour: System will now fetch the correct UOM from Delivery Note line item",mihir-kandoi,2025-02-03 09:22:00+00:00,[],2025-02-04 19:05:30+00:00,2025-02-04 19:05:23+00:00,https://github.com/frappe/erpnext/pull/45678,"[('needs-tests', 'This PR needs automated unit-tests.'), ('backport version-15-hotfix', '')]",[],
2826815816,pull_request,closed,,fix: track employee changes (backport #45674),"closes https://github.com/frappe/erpnext/issues/45571
<hr>This is an automatic backport of pull request #45674 done by [Mergify](https://mergify.com).",mergify[bot],2025-02-03 08:52:47+00:00,['ankush'],2025-02-03 09:57:06+00:00,2025-02-03 09:57:04+00:00,https://github.com/frappe/erpnext/pull/45677,[],[],
2826815559,pull_request,closed,,fix: track employee changes (backport #45674),"closes https://github.com/frappe/erpnext/issues/45571
<hr>This is an automatic backport of pull request #45674 done by [Mergify](https://mergify.com).",mergify[bot],2025-02-03 08:52:39+00:00,['ankush'],2025-02-05 11:46:03+00:00,2025-02-03 09:57:16+00:00,https://github.com/frappe/erpnext/pull/45676,"[('released', None)]","[{'comment_id': 2636505117, 'issue_id': 2826815559, 'author': 'frappe-pr-bot', 'body': ':tada: This PR is included in version 14.82.0 :tada:\n\nThe release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.82.0)\n\nYour **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:', 'created_at': datetime.datetime(2025, 2, 5, 11, 45, 58, tzinfo=datetime.timezone.utc)}]","frappe-pr-bot on (2025-02-05 11:45:58 UTC): :tada: This PR is included in version 14.82.0 :tada:

The release is available on [GitHub release](https://github.com/frappe/erpnext/releases/tag/v14.82.0)

Your **[semantic-release](https://github.com/semantic-release/semantic-release)** bot :package::rocket:

"
2826785417,pull_request,closed,,fix: Do not check for cancelled invoices (backport #45631),<hr>This is an automatic backport of pull request #45631 done by [Mergify](https://mergify.com).,mergify[bot],2025-02-03 08:42:29+00:00,"['ruthra-kumar', 'deepeshgarg007']",2025-02-03 09:02:04+00:00,2025-02-03 09:02:00+00:00,https://github.com/frappe/erpnext/pull/45675,"[('needs-tests', 'This PR needs automated unit-tests.')]",[],
2826769887,pull_request,closed,,fix: track employee changes,"closes https://github.com/frappe/erpnext/issues/45571
",ankush,2025-02-03 08:37:15+00:00,[],2025-02-03 08:51:52+00:00,2025-02-03 08:51:51+00:00,https://github.com/frappe/erpnext/pull/45674,"[('backport version-14-hotfix', 'backport to version 14'), ('backport version-15-hotfix', '')]",[],
