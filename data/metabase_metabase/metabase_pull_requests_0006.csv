id,type,state,state_reason,title,body,author,created_at,assignees,updated_at,closed_at,url,labels,comments_list,comment_thread
2716173657,pull_request,closed,,Add email multiselect field for notifications,"Part of https://github.com/metabase/metabase/issues/50766

### Description

This adds a new MultipleEmailsInput component needed for new notifications UX.

### How to verify

1. Run storybook - `yarn storybook`
2. Open Notifications / MultipleEmailsInput story (http://localhost:6006/?path=/story/notifications-multipleemailsinput--default)

### Demo

https://github.com/user-attachments/assets/a58b27ba-49cd-4f47-b1df-2b65c8218586

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",deniskaber,2024-12-03 23:25:53+00:00,['deniskaber'],2025-01-15 14:54:29+00:00,2025-01-15 14:54:29+00:00,https://github.com/metabase/metabase/pull/50820,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2515893007, 'issue_id': 2716173657, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13097_tests-0a862554-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50820?repo=metabase/metabase&commitHash=0a862554f3f00748917fffe55c84b81775111f41&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50820?repo=metabase/metabase&commitHash=0a862554f3f00748917fffe55c84b81775111f41&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50820?repo=metabase/metabase&commitHash=0a862554f3f00748917fffe55c84b81775111f41&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50820?repo=metabase/metabase&commitHash=0a862554f3f00748917fffe55c84b81775111f41&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50820?repo=metabase/metabase&commitHash=0a862554f3f00748917fffe55c84b81775111f41&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 4, 0, 49, 18, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-04 00:49:18 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13097_tests-0a862554-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50820?repo=metabase/metabase&commitHash=0a862554f3f00748917fffe55c84b81775111f41&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50820?repo=metabase/metabase&commitHash=0a862554f3f00748917fffe55c84b81775111f41&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50820?repo=metabase/metabase&commitHash=0a862554f3f00748917fffe55c84b81775111f41&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50820?repo=metabase/metabase&commitHash=0a862554f3f00748917fffe55c84b81775111f41&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50820?repo=metabase/metabase&commitHash=0a862554f3f00748917fffe55c84b81775111f41&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2716167230,pull_request,closed,,"🤖 backported ""Ensure user count is fetched within token status memoization""",#50813,github-automation-metabase,2024-12-03 23:19:48+00:00,"['noahmoss', 'github-automation-metabase']",2024-12-05 15:11:48+00:00,2024-12-05 15:11:47+00:00,https://github.com/metabase/metabase/pull/50819,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2716087526,pull_request,closed,,"🤖 backported ""feat(sdk): rename prop names to be clear and explicit""",#50656,github-automation-metabase,2024-12-03 22:20:37+00:00,"['heypoom', 'github-automation-metabase']",2024-12-03 23:18:17+00:00,2024-12-03 23:18:16+00:00,https://github.com/metabase/metabase/pull/50817,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2716081139,pull_request,closed,,Preemptive caching backend,"This is the core backend PR for [preemptive caching](https://www.notion.so/metabase/Preemptive-Caching-14269354c90180e3ba74ffe2166d30ee).

This PR:
* Adds a `refresh_automatically` boolean column to the `cache_config` table
* Adds a `parameterized` column to the `query_execution` table, so that we can easily differentiate between parameterized and unparameterized queries
* Adds cache refresh logic to the existing cache invalidation Quartz task in `metabase-enterprise.task.cache`. At a high level:
  * For `:schedule` cache strategies, whenever we are invalidating the cache, we also fetch the base query and up to 10 parameterized variants from the `query` table, and we try to rerun them. If the cache policy is defined on a dashboard, we do this for every dashcard on the dashboard.
  * For `:duration` cache strategies, we don't know ahead of time which cache entries should be refreshed. So we fetch all `:duration` cache configs with `:refresh_automatically true`, and for each one, we look for queries with cache entries that are older than the cache's duration. 
  
The queries which fetch the queries to be re-run are fairly intricate — I'd appreciate careful review, and please let me know if the comments in the code are not sufficient for it to be self-explanatory.
  
I've also removed the code & tests for the `:query` cache strategy which was never shipped and is fully dead code.

Tests cover: 
* Feature flag enforcement
* The logic around selecting the queries & parameterized variants which should be re-run
* Integration tests that invalidate a cache and run the refresh logic, and check that the cache entry was updated

This does _not_ include the toggle to enable preemptive caching or support for setting it on the backend, but that'll come in a second PR since this is getting large.",noahmoss,2024-12-03 22:15:46+00:00,['noahmoss'],2025-01-27 22:13:02+00:00,2024-12-19 01:04:55+00:00,https://github.com/metabase/metabase/pull/50816,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2515661973, 'issue_id': 2716081139, 'author': 'noahmoss', 'body': '* **#50816** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50816?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50816?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 12, 3, 22, 16, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2532235750, 'issue_id': 2716081139, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/136818_tests-5a3035bb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50816?repo=metabase/metabase&commitHash=5a3035bb3a96525585eb59a33a00cbd4a02fbf46&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50816?repo=metabase/metabase&commitHash=5a3035bb3a96525585eb59a33a00cbd4a02fbf46&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50816?repo=metabase/metabase&commitHash=5a3035bb3a96525585eb59a33a00cbd4a02fbf46&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50816?repo=metabase/metabase&commitHash=5a3035bb3a96525585eb59a33a00cbd4a02fbf46&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 34330 should call the autocompleter eventually, even when only 1 character was typed (metabase\\#34330)</code> | The \\`cy.wait()\\` command timed out waiting for the first request to the route \'autocomplete\', but no request was made. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50816?repo=metabase/metabase&commitHash=5a3035bb3a96525585eb59a33a00cbd4a02fbf46&utm_source=gh-comment&runConclusion=FAILURE&runId=602e5ebf-e8ce-5e41-8ffa-5f6157f3467d) |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they were missing. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50816?repo=metabase/metabase&commitHash=5a3035bb3a96525585eb59a33a00cbd4a02fbf46&utm_source=gh-comment&runConclusion=FAILURE&runId=d8fd837e-8681-594a-a5ed-d7ffb2d223c6) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50816?repo=metabase/metabase&commitHash=5a3035bb3a96525585eb59a33a00cbd4a02fbf46&utm_source=gh-comment&runConclusion=FAILURE&runId=af8e1d8f-48fe-5ce3-b7da-7c94a8fac95f) |\n| <code>issue 34330 should call the autocompleter eventually, even when only 1 character was typed (metabase\\#34330)</code> | The \\`cy.wait()\\` command timed out waiting for the first request to the route \'autocomplete\', but no request was made. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50816?repo=metabase/metabase&commitHash=5a3035bb3a96525585eb59a33a00cbd4a02fbf46&utm_source=gh-comment&runConclusion=FAILURE&runId=e3785430-e955-5189-9d83-f2ada40d0fe3) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native should handle template tags</code> | The test timed out waiting for the expected content \'Showing 168 rows\' to appear. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50816?repo=metabase/metabase&commitHash=5a3035bb3a96525585eb59a33a00cbd4a02fbf46&utm_source=gh-comment&runConclusion=FAILURE&runId=8a9a5010-eddc-5835-a000-cda643db50c5) |\n| <code>scenarios > question > native should be able to add new columns after hiding some (metabase\\#15393)</code> | The test timed out waiting for the element with the class \'emotion-hvo6ii\' to contain the text \'/hidden/i\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50816?repo=metabase/metabase&commitHash=5a3035bb3a96525585eb59a33a00cbd4a02fbf46&utm_source=gh-comment&runConclusion=FAILURE&runId=243640f6-d25d-5ef5-aefe-4d2c5e8c0339) |\n| <code>scenarios > question > native should handle template tags</code> | The test timed out waiting for the expected content \'Showing 168 rows\' to appear. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50816?repo=metabase/metabase&commitHash=5a3035bb3a96525585eb59a33a00cbd4a02fbf46&utm_source=gh-comment&runConclusion=FAILURE&runId=feab9267-fb88-5d73-97b4-52493aecda8e) |\n| <code>scenarios > question > native displays an error when running selected text</code> | The test timed out waiting for the expected content \'Table ""ORD"" not found\' in the response. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50816?repo=metabase/metabase&commitHash=5a3035bb3a96525585eb59a33a00cbd4a02fbf46&utm_source=gh-comment&runConclusion=FAILURE&runId=6c85ec5a-165a-5338-b96b-7edbd962c051) |\n\n[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/50816?repo=metabase/metabase&commitHash=5a3035bb3a96525585eb59a33a00cbd4a02fbf46&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50816?repo=metabase/metabase&commitHash=5a3035bb3a96525585eb59a33a00cbd4a02fbf46&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 10, 16, 35, 38, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2024-12-03 22:16:11 UTC): * **#50816** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50816?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50816?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2024-12-10 16:35:38 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/136818_tests-5a3035bb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50816?repo=metabase/metabase&commitHash=5a3035bb3a96525585eb59a33a00cbd4a02fbf46&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50816?repo=metabase/metabase&commitHash=5a3035bb3a96525585eb59a33a00cbd4a02fbf46&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50816?repo=metabase/metabase&commitHash=5a3035bb3a96525585eb59a33a00cbd4a02fbf46&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50816?repo=metabase/metabase&commitHash=5a3035bb3a96525585eb59a33a00cbd4a02fbf46&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 34330 should call the autocompleter eventually, even when only 1 character was typed (metabase\#34330)</code> | The \`cy.wait()\` command timed out waiting for the first request to the route 'autocomplete', but no request was made. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50816?repo=metabase/metabase&commitHash=5a3035bb3a96525585eb59a33a00cbd4a02fbf46&utm_source=gh-comment&runConclusion=FAILURE&runId=602e5ebf-e8ce-5e41-8ffa-5f6157f3467d) |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they were missing. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50816?repo=metabase/metabase&commitHash=5a3035bb3a96525585eb59a33a00cbd4a02fbf46&utm_source=gh-comment&runConclusion=FAILURE&runId=d8fd837e-8681-594a-a5ed-d7ffb2d223c6) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50816?repo=metabase/metabase&commitHash=5a3035bb3a96525585eb59a33a00cbd4a02fbf46&utm_source=gh-comment&runConclusion=FAILURE&runId=af8e1d8f-48fe-5ce3-b7da-7c94a8fac95f) |
| <code>issue 34330 should call the autocompleter eventually, even when only 1 character was typed (metabase\#34330)</code> | The \`cy.wait()\` command timed out waiting for the first request to the route 'autocomplete', but no request was made. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50816?repo=metabase/metabase&commitHash=5a3035bb3a96525585eb59a33a00cbd4a02fbf46&utm_source=gh-comment&runConclusion=FAILURE&runId=e3785430-e955-5189-9d83-f2ada40d0fe3) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native should handle template tags</code> | The test timed out waiting for the expected content 'Showing 168 rows' to appear. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50816?repo=metabase/metabase&commitHash=5a3035bb3a96525585eb59a33a00cbd4a02fbf46&utm_source=gh-comment&runConclusion=FAILURE&runId=8a9a5010-eddc-5835-a000-cda643db50c5) |
| <code>scenarios > question > native should be able to add new columns after hiding some (metabase\#15393)</code> | The test timed out waiting for the element with the class 'emotion-hvo6ii' to contain the text '/hidden/i'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50816?repo=metabase/metabase&commitHash=5a3035bb3a96525585eb59a33a00cbd4a02fbf46&utm_source=gh-comment&runConclusion=FAILURE&runId=243640f6-d25d-5ef5-aefe-4d2c5e8c0339) |
| <code>scenarios > question > native should handle template tags</code> | The test timed out waiting for the expected content 'Showing 168 rows' to appear. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50816?repo=metabase/metabase&commitHash=5a3035bb3a96525585eb59a33a00cbd4a02fbf46&utm_source=gh-comment&runConclusion=FAILURE&runId=feab9267-fb88-5d73-97b4-52493aecda8e) |
| <code>scenarios > question > native displays an error when running selected text</code> | The test timed out waiting for the expected content 'Table ""ORD"" not found' in the response. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50816?repo=metabase/metabase&commitHash=5a3035bb3a96525585eb59a33a00cbd4a02fbf46&utm_source=gh-comment&runConclusion=FAILURE&runId=6c85ec5a-165a-5338-b96b-7edbd962c051) |

[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/50816?repo=metabase/metabase&commitHash=5a3035bb3a96525585eb59a33a00cbd4a02fbf46&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50816?repo=metabase/metabase&commitHash=5a3035bb3a96525585eb59a33a00cbd4a02fbf46&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2716067811,pull_request,closed,,Manual backport of 50813,Manual backport of https://github.com/metabase/metabase/pull/50813 to 51 (opening preemptively to allow CI to run),noahmoss,2024-12-03 22:06:06+00:00,['noahmoss'],2024-12-03 22:49:37+00:00,2024-12-03 22:49:11+00:00,https://github.com/metabase/metabase/pull/50815,"[('.Team/AdminWebapp', 'Admin and Webapp team')]",[],
2716065901,pull_request,closed,,"🤖 backported ""docs - commands""",#50784,github-automation-metabase,2024-12-03 22:04:49+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2024-12-03 22:09:36+00:00,2024-12-03 22:09:35+00:00,https://github.com/metabase/metabase/pull/50814,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2716058568,pull_request,closed,,Ensure user count is fetched within token status memoization,"Follow-up to https://github.com/metabase/metabase/pull/50779 to fix an oversight: user count wasn't previously being fetched *within* the memoized function used for token checks, leading to many more DB calls than needed. Added a test to ensure that 0 DB calls are made when fetching a cached token status.",noahmoss,2024-12-03 22:00:11+00:00,['noahmoss'],2024-12-05 15:12:17+00:00,2024-12-03 23:18:59+00:00,https://github.com/metabase/metabase/pull/50813,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2515637911, 'issue_id': 2716058568, 'author': 'noahmoss', 'body': '* **#50813** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50813?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50813?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 12, 3, 22, 0, 31, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2024-12-03 22:00:31 UTC): * **#50813** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50813?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50813?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`

<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

"
2716052882,pull_request,closed,,"🤖 backported ""Onboarding checklist - misc. follow ups""",#50579,github-automation-metabase,2024-12-03 21:56:17+00:00,"['nemanjaglumac', 'github-automation-metabase']",2024-12-03 22:37:55+00:00,2024-12-03 22:37:54+00:00,https://github.com/metabase/metabase/pull/50812,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2716049605,pull_request,closed,,"🤖 backported ""[Clean up] Hide clean up UI in sample collections""",#50760,metabase-bot[bot],2024-12-03 21:53:59+00:00,['sloansparger'],2024-12-03 23:28:46+00:00,2024-12-03 23:28:45+00:00,https://github.com/metabase/metabase/pull/50811,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2716046742,pull_request,closed,,"🤖 backported ""[Clean up] Hide clean up UI in sample collections""",#50760,github-automation-metabase,2024-12-03 21:52:02+00:00,"['sloansparger', 'github-automation-metabase']",2024-12-03 23:04:47+00:00,2024-12-03 23:04:46+00:00,https://github.com/metabase/metabase/pull/50810,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2716028251,pull_request,closed,,"🤖 backported ""Deserialize metrics as cards""",#50807,metabase-bot[bot],2024-12-03 21:39:32+00:00,['metamben'],2024-12-03 22:22:55+00:00,2024-12-03 22:22:54+00:00,https://github.com/metabase/metabase/pull/50808,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2716018632,pull_request,closed,,Deserialize metrics as cards,"### Description

V2 metrics are serialized as cards, but deserialized as (legacy) metrics. This PR changes that to deserialize metrics as cards.

### How to verify

Export a card using a new metric and try to import it. (This is what the new test does, and it fails on master.)

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",metamben,2024-12-03 21:33:02+00:00,['metamben'],2024-12-04 20:53:23+00:00,2024-12-04 19:38:34+00:00,https://github.com/metabase/metabase/pull/50807,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2515603390, 'issue_id': 2716018632, 'author': 'metamben', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 12, 3, 21, 38, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2518072121, 'issue_id': 2716018632, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/1_test-eaa47f9b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50807?repo=metabase/metabase&commitHash=eaa47f9b43530947f28ce6d6641b27eb783d35f1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50807?repo=metabase/metabase&commitHash=eaa47f9b43530947f28ce6d6641b27eb783d35f1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50807?repo=metabase/metabase&commitHash=eaa47f9b43530947f28ce6d6641b27eb783d35f1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50807?repo=metabase/metabase&commitHash=eaa47f9b43530947f28ce6d6641b27eb783d35f1&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>multiple-native-query-parameters-test</code> | Error executing query due to a ConcurrentModificationException in the H2 database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50807?repo=metabase/metabase&commitHash=eaa47f9b43530947f28ce6d6641b27eb783d35f1&utm_source=gh-comment&runConclusion=FAILURE&runId=67db4423-a6ea-5245-90ae-245d80be8465) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50807?repo=metabase/metabase&commitHash=eaa47f9b43530947f28ce6d6641b27eb783d35f1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 4, 17, 17, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2518538370, 'issue_id': 2716018632, 'author': 'github-actions[bot]', 'body': '🚀 This should also be released by [v0.52](https://github.com/metabase/metabase/milestone/283)', 'created_at': datetime.datetime(2024, 12, 4, 20, 53, 22, tzinfo=datetime.timezone.utc)}]","metamben (Issue Creator) on (2024-12-03 21:38:40 UTC): @metabase-bot backport release-x.51.x

trunk-io[bot] on (2024-12-04 17:17:49 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/1_test-eaa47f9b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50807?repo=metabase/metabase&commitHash=eaa47f9b43530947f28ce6d6641b27eb783d35f1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50807?repo=metabase/metabase&commitHash=eaa47f9b43530947f28ce6d6641b27eb783d35f1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50807?repo=metabase/metabase&commitHash=eaa47f9b43530947f28ce6d6641b27eb783d35f1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50807?repo=metabase/metabase&commitHash=eaa47f9b43530947f28ce6d6641b27eb783d35f1&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>multiple-native-query-parameters-test</code> | Error executing query due to a ConcurrentModificationException in the H2 database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50807?repo=metabase/metabase&commitHash=eaa47f9b43530947f28ce6d6641b27eb783d35f1&utm_source=gh-comment&runConclusion=FAILURE&runId=67db4423-a6ea-5245-90ae-245d80be8465) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50807?repo=metabase/metabase&commitHash=eaa47f9b43530947f28ce6d6641b27eb783d35f1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2024-12-04 20:53:22 UTC): 🚀 This should also be released by [v0.52](https://github.com/metabase/metabase/milestone/283)

"
2716010898,pull_request,closed,,Loki flake: make delays configurable independently,"### Description

Fixes flakes in Loki tests introduced by #49739

This removes the `waitTimeContext` completely because it was inflexible (ie. expected all wait times to be the same) and cumbersome (ie. needed a whole React context to be set up to work), in favor a a simple global.

### How to verify

- Loki tests should no longer flake.
- Storybook stories using `ExplicitSize` should still work
",romeovs,2024-12-03 21:28:00+00:00,['romeovs'],2024-12-05 01:39:27+00:00,2024-12-05 00:58:46+00:00,https://github.com/metabase/metabase/pull/50806,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2516079429, 'issue_id': 2716010898, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13_tests-303644e0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50806?repo=metabase/metabase&commitHash=303644e06118736ab012787fba8129b9a08e0249&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50806?repo=metabase/metabase&commitHash=303644e06118736ab012787fba8129b9a08e0249&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50806?repo=metabase/metabase&commitHash=303644e06118736ab012787fba8129b9a08e0249&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50806?repo=metabase/metabase&commitHash=303644e06118736ab012787fba8129b9a08e0249&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50806?repo=metabase/metabase&commitHash=303644e06118736ab012787fba8129b9a08e0249&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 4, 3, 16, 14, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-04 03:16:14 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13_tests-303644e0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50806?repo=metabase/metabase&commitHash=303644e06118736ab012787fba8129b9a08e0249&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50806?repo=metabase/metabase&commitHash=303644e06118736ab012787fba8129b9a08e0249&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50806?repo=metabase/metabase&commitHash=303644e06118736ab012787fba8129b9a08e0249&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50806?repo=metabase/metabase&commitHash=303644e06118736ab012787fba8129b9a08e0249&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50806?repo=metabase/metabase&commitHash=303644e06118736ab012787fba8129b9a08e0249&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2715906488,pull_request,closed,,"🤖 backported ""removing the 'can_write' requirement for selecting things via the question picker""",#50783,github-automation-metabase,2024-12-03 20:22:25+00:00,"['npfitz', 'github-automation-metabase']",2024-12-03 21:24:11+00:00,2024-12-03 21:24:10+00:00,https://github.com/metabase/metabase/pull/50804,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2715850454,pull_request,closed,,Applying the underlying records filter to a query with a join display…,"…s fields from the join

> [!IMPORTANT]
> For those employed by Metabase: if you are merging into master, please add either a `backport` or a `no-backport` label to this PR. You will not be able to merge until you do this step. Refer to the section [Do I need to backport this PR?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#89f80d6f17714a0198aeb66c0efd1b71) in the Metabase Branching Strategy document for more details. If you're not employed by Metabase, this section does not apply to you, and the label will be taken care of by your reviewer.

> **Warning**
>
> If that is your first contribution to Metabase, please sign the [Contributor License Agreement](https://docs.google.com/a/metabase.com/forms/d/1oV38o7b9ONFSwuzwmERRMi9SYrhYeOrkbmNaq9pOJ_E/viewform) (unless it's a tiny documentation change). Also, if you're attempting to fix a translation issue, please submit your changes to our [POEditor project](https://poeditor.com/join/project/ynjQmwSsGh) instead of opening a PR.

Closes https://github.com/metabase/metabase/issues/48032

### Description

Describe the overall approach and the problem being solved.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> ...
2. ...

### Demo

_Upload a demo video or before/after screenshots if sensible or remove the section_

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",wzimrin,2024-12-03 19:56:29+00:00,['wzimrin'],2024-12-04 17:16:21+00:00,2024-12-04 17:11:28+00:00,https://github.com/metabase/metabase/pull/50802,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2517609140, 'issue_id': 2715850454, 'author': 'bshepherdson', 'body': ""We generally clean up the template PR description to remove the warnings, and any sections (eg. Demo) that aren't useful for a given PR."", 'created_at': datetime.datetime(2024, 12, 4, 14, 31, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2518000489, 'issue_id': 2715850454, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/1_test-cae93d21-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50802?repo=metabase/metabase&commitHash=cae93d2166583065729e19d99f0dde585130ef8a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50802?repo=metabase/metabase&commitHash=cae93d2166583065729e19d99f0dde585130ef8a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50802?repo=metabase/metabase&commitHash=cae93d2166583065729e19d99f0dde585130ef8a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50802?repo=metabase/metabase&commitHash=cae93d2166583065729e19d99f0dde585130ef8a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>delay-queue-test</code> | failure\\_text: queue\\_test.clj:95expected: (empty? (queue/take-delayed-batch! q 3))  actual: (not (empty? [1544417140518])) | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50802?repo=metabase/metabase&commitHash=cae93d2166583065729e19d99f0dde585130ef8a&utm_source=gh-comment&runConclusion=FAILURE&runId=c96a3fca-a4c5-5164-aa03-2461d551c20a) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50802?repo=metabase/metabase&commitHash=cae93d2166583065729e19d99f0dde585130ef8a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 4, 16, 46, 48, tzinfo=datetime.timezone.utc)}]","bshepherdson on (2024-12-04 14:31:51 UTC): We generally clean up the template PR description to remove the warnings, and any sections (eg. Demo) that aren't useful for a given PR.

trunk-io[bot] on (2024-12-04 16:46:48 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/1_test-cae93d21-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50802?repo=metabase/metabase&commitHash=cae93d2166583065729e19d99f0dde585130ef8a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50802?repo=metabase/metabase&commitHash=cae93d2166583065729e19d99f0dde585130ef8a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50802?repo=metabase/metabase&commitHash=cae93d2166583065729e19d99f0dde585130ef8a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50802?repo=metabase/metabase&commitHash=cae93d2166583065729e19d99f0dde585130ef8a&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>delay-queue-test</code> | failure\_text: queue\_test.clj:95expected: (empty? (queue/take-delayed-batch! q 3))  actual: (not (empty? [1544417140518])) | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50802?repo=metabase/metabase&commitHash=cae93d2166583065729e19d99f0dde585130ef8a&utm_source=gh-comment&runConclusion=FAILURE&runId=c96a3fca-a4c5-5164-aa03-2461d551c20a) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50802?repo=metabase/metabase&commitHash=cae93d2166583065729e19d99f0dde585130ef8a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2715835625,pull_request,closed,,"🤖 backported ""Fix a (native-ace-editor) flake 30039""",#50774,metabase-bot[bot],2024-12-03 19:30:08+00:00,['nemanjaglumac'],2024-12-04 08:12:14+00:00,2024-12-04 08:12:12+00:00,https://github.com/metabase/metabase/pull/50800,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2715820099,pull_request,closed,,"🤖 backported ""Update Translations for v52.1""",#50534,github-automation-metabase,2024-12-03 19:21:09+00:00,"['iethree', 'github-automation-metabase']",2024-12-05 19:54:17+00:00,2024-12-03 20:01:41+00:00,https://github.com/metabase/metabase/pull/50799,"[('.CI & Tests', ''), ('was-backported', 'apply this to PRs that are themselves backports')]",[],
2715724378,pull_request,closed,,Manual backport of: Make e2e tests of embedding and sql filters date-invariant (#50737),"#50737 

This only backports the sql filter test fix because I don't think the embedding one is needed. CI will confirm.",rafpaf,2024-12-03 18:25:43+00:00,['rafpaf'],2024-12-03 19:01:16+00:00,2024-12-03 19:01:13+00:00,https://github.com/metabase/metabase/pull/50795,"[('.Team/AdminWebapp', 'Admin and Webapp team')]",[],
2715722086,pull_request,closed,,"🤖 backported ""Introduce the non-admin Onboarding Checklist""",#50516,github-automation-metabase,2024-12-03 18:24:35+00:00,"['nemanjaglumac', 'github-automation-metabase']",2024-12-05 08:43:43+00:00,2024-12-05 08:10:53+00:00,https://github.com/metabase/metabase/pull/50794,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2519636618, 'issue_id': 2715722086, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/44_tests-1ab92fde-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50794?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50794?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50794?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50794?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50794?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 5, 8, 43, 42, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-05 08:43:42 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/44_tests-1ab92fde-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50794?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50794?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50794?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50794?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50794?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2715635573,pull_request,closed,,sankey static viz integration test,"### Description

Adds sankey static viz integration test that verifies when BE renders a sankey chart using JS bundle it produces a valid svg.
",alxnddr,2024-12-03 17:40:08+00:00,['alxnddr'],2024-12-05 19:23:07+00:00,2024-12-05 17:59:01+00:00,https://github.com/metabase/metabase/pull/50793,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2515974766, 'issue_id': 2715635573, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/2_tests-b6b5f7bb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50793?repo=metabase/metabase&commitHash=b6b5f7bb73ed3c89bcf3b6cd3b6c5878ac9fb7d2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50793?repo=metabase/metabase&commitHash=b6b5f7bb73ed3c89bcf3b6cd3b6c5878ac9fb7d2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50793?repo=metabase/metabase&commitHash=b6b5f7bb73ed3c89bcf3b6cd3b6c5878ac9fb7d2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50793?repo=metabase/metabase&commitHash=b6b5f7bb73ed3c89bcf3b6cd3b6c5878ac9fb7d2&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:329:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\\#'sync.fingerprint/max-refingerp... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50793?repo=metabase/metabase&commitHash=b6b5f7bb73ed3c89bcf3b6cd3b6c5878ac9fb7d2&utm_source=gh-comment&runConclusion=FAILURE&runId=585b4c44-fd55-57cb-b9cb-b59d485bcf00) |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, but expected some. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50793?repo=metabase/metabase&commitHash=b6b5f7bb73ed3c89bcf3b6cd3b6c5878ac9fb7d2&utm_source=gh-comment&runConclusion=FAILURE&runId=fa4bc1aa-6ff3-594c-a427-7ce1028ffd05) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50793?repo=metabase/metabase&commitHash=b6b5f7bb73ed3c89bcf3b6cd3b6c5878ac9fb7d2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 4, 1, 38, 32, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-04 01:38:32 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/2_tests-b6b5f7bb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50793?repo=metabase/metabase&commitHash=b6b5f7bb73ed3c89bcf3b6cd3b6c5878ac9fb7d2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50793?repo=metabase/metabase&commitHash=b6b5f7bb73ed3c89bcf3b6cd3b6c5878ac9fb7d2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50793?repo=metabase/metabase&commitHash=b6b5f7bb73ed3c89bcf3b6cd3b6c5878ac9fb7d2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50793?repo=metabase/metabase&commitHash=b6b5f7bb73ed3c89bcf3b6cd3b6c5878ac9fb7d2&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:329:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerp... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50793?repo=metabase/metabase&commitHash=b6b5f7bb73ed3c89bcf3b6cd3b6c5878ac9fb7d2&utm_source=gh-comment&runConclusion=FAILURE&runId=585b4c44-fd55-57cb-b9cb-b59d485bcf00) |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, but expected some. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50793?repo=metabase/metabase&commitHash=b6b5f7bb73ed3c89bcf3b6cd3b6c5878ac9fb7d2&utm_source=gh-comment&runConclusion=FAILURE&runId=fa4bc1aa-6ff3-594c-a427-7ce1028ffd05) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50793?repo=metabase/metabase&commitHash=b6b5f7bb73ed3c89bcf3b6cd3b6c5878ac9fb7d2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2715594836,pull_request,closed,,"🤖 backported ""fix(sdk): introduce `.mb-wrapper` to scope down our css""",#50466,metabase-bot[bot],2024-12-03 17:22:04+00:00,['npretto'],2024-12-06 15:36:12+00:00,2024-12-06 14:22:58+00:00,https://github.com/metabase/metabase/pull/50792,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2518038324, 'issue_id': 2715594836, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/52020_tests-fb5e5128-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50792?repo=metabase/metabase&commitHash=fb5e512898630f3f494c8b3d3e59a8947f718d15&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50792?repo=metabase/metabase&commitHash=fb5e512898630f3f494c8b3d3e59a8947f718d15&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50792?repo=metabase/metabase&commitHash=fb5e512898630f3f494c8b3d3e59a8947f718d15&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50792?repo=metabase/metabase&commitHash=fb5e512898630f3f494c8b3d3e59a8947f718d15&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50792?repo=metabase/metabase&commitHash=fb5e512898630f3f494c8b3d3e59a8947f718d15&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 4, 17, 3, 22, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-04 17:03:22 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/52020_tests-fb5e5128-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50792?repo=metabase/metabase&commitHash=fb5e512898630f3f494c8b3d3e59a8947f718d15&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50792?repo=metabase/metabase&commitHash=fb5e512898630f3f494c8b3d3e59a8947f718d15&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50792?repo=metabase/metabase&commitHash=fb5e512898630f3f494c8b3d3e59a8947f718d15&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50792?repo=metabase/metabase&commitHash=fb5e512898630f3f494c8b3d3e59a8947f718d15&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50792?repo=metabase/metabase&commitHash=fb5e512898630f3f494c8b3d3e59a8947f718d15&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2715591787,pull_request,closed,,"🤖 backported ""fix(sdk): introduce `.mb-wrapper` to scope down our css""",#50466,github-automation-metabase,2024-12-03 17:20:43+00:00,"['npretto', 'github-automation-metabase']",2024-12-03 18:31:03+00:00,2024-12-03 18:31:02+00:00,https://github.com/metabase/metabase/pull/50791,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2715581148,pull_request,closed,,Manual backport of #50779 to 51,Manual backport of https://github.com/metabase/metabase/pull/50779,noahmoss,2024-12-03 17:15:22+00:00,['noahmoss'],2024-12-03 20:04:26+00:00,2024-12-03 20:03:52+00:00,https://github.com/metabase/metabase/pull/50790,"[('.Team/AdminWebapp', 'Admin and Webapp team'), ('was-backported', 'apply this to PRs that are themselves backports')]",[],
2715554358,pull_request,closed,,"🤖 backported ""fix narrow ordinal line charts have no tooltip""",#50715,github-automation-metabase,2024-12-03 17:02:54+00:00,"['alxnddr', 'github-automation-metabase']",2024-12-03 18:02:22+00:00,2024-12-03 18:02:21+00:00,https://github.com/metabase/metabase/pull/50789,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2515118487, 'issue_id': 2715554358, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff bd4b9c63fa57f23427b19b5a8d662b06dfd48981...3bb52fbc48af794734ae845d9146b1601d78f008.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/echarts/cartesian/option/series.ts |', 'created_at': datetime.datetime(2024, 12, 3, 17, 4, 28, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-12-03 17:04:28 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff bd4b9c63fa57f23427b19b5a8d662b06dfd48981...3bb52fbc48af794734ae845d9146b1601d78f008.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/echarts/cartesian/option/series.ts |

"
2715476725,pull_request,closed,,"🤖 backported ""Remove memoization of active user counts setting""",#50779,github-automation-metabase,2024-12-03 16:28:45+00:00,"['noahmoss', 'github-automation-metabase']",2024-12-03 17:32:28+00:00,2024-12-03 17:32:27+00:00,https://github.com/metabase/metabase/pull/50788,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2715321204,pull_request,closed,,"🤖 backported ""Address feedback on Sankey""",#50611,github-automation-metabase,2024-12-03 15:21:18+00:00,"['alxnddr', 'github-automation-metabase']",2024-12-03 16:41:37+00:00,2024-12-03 16:41:36+00:00,https://github.com/metabase/metabase/pull/50787,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2514871400, 'issue_id': 2715321204, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 1d19852bab54f4df28a4995b7a73cf315a5dfc28...b7043e80e7d014cd458bd945fd742a5fa2403cf8.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/settings/ChartSettingFieldPicker.jsx<br>frontend/src/metabase/visualizations/echarts/graph/sankey/layout/index.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/model/dataset.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/model/dataset.unit.spec.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/model/formatters.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/model/index.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/model/types.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/option/index.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/option/tooltip.tsx<br>frontend/src/metabase/visualizations/echarts/types.ts<br>frontend/src/metabase/visualizations/lib/settings/utils.js<br>frontend/src/metabase/visualizations/types/visualization.ts<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/SankeyChart.tsx<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/chart-definition.ts<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/chart-definition.unit.spec.ts<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/events.ts<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/events.unit.spec.ts |', 'created_at': datetime.datetime(2024, 12, 3, 15, 23, 46, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-12-03 15:23:46 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 1d19852bab54f4df28a4995b7a73cf315a5dfc28...b7043e80e7d014cd458bd945fd742a5fa2403cf8.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/settings/ChartSettingFieldPicker.jsx<br>frontend/src/metabase/visualizations/echarts/graph/sankey/layout/index.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/model/dataset.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/model/dataset.unit.spec.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/model/formatters.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/model/index.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/model/types.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/option/index.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/option/tooltip.tsx<br>frontend/src/metabase/visualizations/echarts/types.ts<br>frontend/src/metabase/visualizations/lib/settings/utils.js<br>frontend/src/metabase/visualizations/types/visualization.ts<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/SankeyChart.tsx<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/chart-definition.ts<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/chart-definition.unit.spec.ts<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/events.ts<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/events.unit.spec.ts |

"
2715320800,pull_request,closed,,[serdes] do not require prefix when passing entity ids to export,Refs #45224 ,piranha,2024-12-03 15:21:08+00:00,['piranha'],2024-12-04 13:05:28+00:00,2024-12-04 12:04:54+00:00,https://github.com/metabase/metabase/pull/50786,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]",[],
2715299645,pull_request,closed,,docs - commands,Updates CLI commands based on `help`.,jeff-bruemmer,2024-12-03 15:12:44+00:00,['jeff-bruemmer'],2024-12-03 22:10:02+00:00,2024-12-03 22:03:59+00:00,https://github.com/metabase/metabase/pull/50784,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2514844330, 'issue_id': 2715299645, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@jeff-bruemmer You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2024, 12, 3, 15, 13, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2515383599, 'issue_id': 2715299645, 'author': 'alexyarosh', 'body': ""@jeff-bruemmer  i don't know about this one: it's removing the arguments from the command, and I can see why we wouldn't want them in the header, but then the arguments are not listed anywhere else? We either need to add an example block or keep the arguments I think"", 'created_at': datetime.datetime(2024, 12, 3, 19, 15, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2515589471, 'issue_id': 2715299645, 'author': 'jeff-bruemmer', 'body': 'Added the args and plan callouts. In another PR, we should update the docstrings for these commands, but I wanted to get this in first, as it has some additional information.', 'created_at': datetime.datetime(2024, 12, 3, 21, 30, 12, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-12-03 15:13:07 UTC): <!---conventional commit reminder comment ID-->
@jeff-bruemmer You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

alexyarosh on (2024-12-03 19:15:17 UTC): @jeff-bruemmer  i don't know about this one: it's removing the arguments from the command, and I can see why we wouldn't want them in the header, but then the arguments are not listed anywhere else? We either need to add an example block or keep the arguments I think

jeff-bruemmer (Issue Creator) on (2024-12-03 21:30:12 UTC): Added the args and plan callouts. In another PR, we should update the docstrings for these commands, but I wanted to get this in first, as it has some additional information.

"
2715260749,pull_request,closed,,removing the 'can_write' requirement for selecting things via the question picker,"Closes https://github.com/metabase/metabase/issues/50602

### Description
The question picker had a requirement in it that only made things selectable if you had write access to the item. This meant that when replacing a question in a dashboard (or using the add sections flow) you weren't able to add things from read only collections. This is likely a mistake, as selecting a question from the picker doesn't generally involve editing the item, but selecting it as the source for a dashcard / filter / sandbox data. This PR removes that condition and adds a test to ensure that we can select items we only have read access to.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. Create a new dashboard, and click add section
2. Click one of the ""Select a question"" buttons and navigate to a question or model you only have read access to
3. You should be able to select the item, and it should appear in the appropriate dash card

### Demo
![chrome_Xv1u56Zavb](https://github.com/user-attachments/assets/0c070c14-5a0a-4573-9343-2d6003367c28)

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",npfitz,2024-12-03 14:57:01+00:00,['npfitz'],2024-12-03 20:21:41+00:00,2024-12-03 20:21:31+00:00,https://github.com/metabase/metabase/pull/50783,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]",[],
2715227789,pull_request,closed,,Fix active user cache ttl value,Fixes erroneous double-conversion of the TTL value for active users memoization.,noahmoss,2024-12-03 14:44:22+00:00,['noahmoss'],2024-12-03 17:13:44+00:00,2024-12-03 17:13:44+00:00,https://github.com/metabase/metabase/pull/50782,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2514770053, 'issue_id': 2715227789, 'author': 'noahmoss', 'body': '* **#50782** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50782?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50782?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 12, 3, 14, 44, 36, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2024-12-03 14:44:36 UTC): * **#50782** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50782?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50782?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`

<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

"
2715226758,pull_request,closed,,"🤖 backported ""Pivot Exports Can Handle `nil` in Breakout Col, and Multiple Cols of the Same Aggregation Type""",#50672,metabase-bot[bot],2024-12-03 14:44:04+00:00,['adam-james-v'],2024-12-03 22:45:38+00:00,2024-12-03 22:45:37+00:00,https://github.com/metabase/metabase/pull/50781,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2715220562,pull_request,closed,,"🤖 backported ""Pivot Exports Can Handle `nil` in Breakout Col, and Multiple Cols of the Same Aggregation Type""",#50672,github-automation-metabase,2024-12-03 14:41:50+00:00,"['adam-james-v', 'github-automation-metabase']",2024-12-03 15:31:32+00:00,2024-12-03 15:31:31+00:00,https://github.com/metabase/metabase/pull/50780,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2715204314,pull_request,closed,,Remove memoization of active user counts setting,"Closes https://github.com/metabase/metabase/issues/50777

Removes memoization layer for the `active-users-count` setting. This resolves an issue introduced by https://github.com/metabase/metabase/pull/49916 in which the TTL for this cache was accidentally converted to milliseconds twice, inflating its value.",noahmoss,2024-12-03 14:35:27+00:00,['noahmoss'],2024-12-03 20:49:15+00:00,2024-12-03 16:27:54+00:00,https://github.com/metabase/metabase/pull/50779,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2514739240, 'issue_id': 2715204314, 'author': 'noahmoss', 'body': '* **#50779** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50779?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50779?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 12, 3, 14, 35, 45, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2024-12-03 14:35:45 UTC): * **#50779** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50779?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50779?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`

<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

"
2714921459,pull_request,closed,,"🤖 backported ""Fix a (native-ace-editor) flake 30039""",#50774,github-automation-metabase,2024-12-03 12:37:12+00:00,"['nemanjaglumac', 'github-automation-metabase']",2024-12-03 19:00:07+00:00,2024-12-03 19:00:04+00:00,https://github.com/metabase/metabase/pull/50775,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2714907288,pull_request,closed,,Fix a (native-ace-editor) flake 30039,"### What does this PR accomplish?
Fixes yet another flake related to the native (ace) editor.

The flakiness is exacerbated by using the UI flow to open the native editor. It is (1) slow, and (2) it triggers page rerenders. If we switch to using the `startNewNativeQuestion` that is generating a base64 hash and then navigating to the native editor directly, a lot of these nastiness can be avoided.

![image](https://github.com/user-attachments/assets/f31fbf50-1475-4ef9-95e6-08fd55048c87)

![image](https://github.com/user-attachments/assets/f769df49-6b8a-4582-8bf8-4b5b48e18c23)

### Stress-test
50/50 ✅ https://github.com/metabase/metabase/actions/runs/12139480495/job/33847197758#step:9:185",nemanjaglumac,2024-12-03 12:30:43+00:00,['nemanjaglumac'],2024-12-04 08:12:40+00:00,2024-12-03 12:36:21+00:00,https://github.com/metabase/metabase/pull/50774,"[('backport', 'Automatically create PR on current release branch on merge'), ('flaky-test-fix', '')]","[{'comment_id': 2515408698, 'issue_id': 2714907288, 'author': 'nemanjaglumac', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 12, 3, 19, 28, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2516498478, 'issue_id': 2714907288, 'author': 'github-actions[bot]', 'body': '🚀 This should also be released by [v0.52](https://github.com/metabase/metabase/milestone/283)', 'created_at': datetime.datetime(2024, 12, 4, 8, 12, 39, tzinfo=datetime.timezone.utc)}]","nemanjaglumac (Issue Creator) on (2024-12-03 19:28:52 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-12-04 08:12:39 UTC): 🚀 This should also be released by [v0.52](https://github.com/metabase/metabase/milestone/283)

"
2714824488,pull_request,closed,,fix(sdk): remove Error.captureStackTrace as it errors on firefox,"Firefox doesn't have Error.captureStackTrace so I removed it

It also seems like without it the stack track is actually better on chrome too, I forgot why I even put it, maybe something changed and we don't need it anymore?

The error this fixes:

![image](https://github.com/user-attachments/assets/b68d2f46-54b9-4983-9933-b1a6d96ac442)

Stack trace after, on chrome:
<img width=""656"" alt=""image"" src=""https://github.com/user-attachments/assets/0140dbd8-eaed-44e9-aead-f9caba044b0e"">

",npretto,2024-12-03 11:58:52+00:00,['npretto'],2024-12-06 12:45:49+00:00,2024-12-05 14:38:45+00:00,https://github.com/metabase/metabase/pull/50773,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2514354107, 'issue_id': 2714824488, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@npretto You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2024, 12, 3, 11, 59, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2520503790, 'issue_id': 2714824488, 'author': 'npretto', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 12, 5, 14, 38, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2523142274, 'issue_id': 2714824488, 'author': 'github-actions[bot]', 'body': '🚀 This should also be released by [v0.52.2](https://github.com/metabase/metabase/milestone/291)', 'created_at': datetime.datetime(2024, 12, 6, 12, 45, 48, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-12-03 11:59:13 UTC): <!---conventional commit reminder comment ID-->
@npretto You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

npretto (Issue Creator) on (2024-12-05 14:38:57 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-12-06 12:45:48 UTC): 🚀 This should also be released by [v0.52.2](https://github.com/metabase/metabase/milestone/291)

"
2714689030,pull_request,closed,,fix(sdk): fix Error.captureStackTrace not a function on firefox,"> [!IMPORTANT]
> For those employed by Metabase: if you are merging into master, please add either a `backport` or a `no-backport` label to this PR. You will not be able to merge until you do this step. Refer to the section [Do I need to backport this PR?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#89f80d6f17714a0198aeb66c0efd1b71) in the Metabase Branching Strategy document for more details. If you're not employed by Metabase, this section does not apply to you, and the label will be taken care of by your reviewer.

> **Warning**
>
> If that is your first contribution to Metabase, please sign the [Contributor License Agreement](https://docs.google.com/a/metabase.com/forms/d/1oV38o7b9ONFSwuzwmERRMi9SYrhYeOrkbmNaq9pOJ_E/viewform) (unless it's a tiny documentation change). Also, if you're attempting to fix a translation issue, please submit your changes to our [POEditor project](https://poeditor.com/join/project/ynjQmwSsGh) instead of opening a PR.

Closes https://github.com/metabase/metabase/issues/[issue_number]

### Description

Describe the overall approach and the problem being solved.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> ...
2. ...

### Demo

_Upload a demo video or before/after screenshots if sensible or remove the section_

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",npretto,2024-12-03 11:01:38+00:00,['npretto'],2025-02-04 14:54:42+00:00,2024-12-06 12:28:06+00:00,https://github.com/metabase/metabase/pull/50772,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]",[],
2714409176,pull_request,closed,,[Notification] First Notification API,"Epic: https://github.com/metabase/metabase/issues/50766

First PR to create the new notification APIs:
- create the table and model
<details><summary>Add one API: `GET /api/notification/:id` with response look like</summary>

```json
{
  ""payload_id"": 72,
  ""payload"": {
    ""id"": 72,
    ""card_id"": 185,
    ""run_once"": false,
    ""send_condition"": ""has_result"",
    ""created_at"": ""2024-12-03T10:44:15.685703Z"",
    ""updated_at"": ""2024-12-03T10:44:15.685703Z""
  },
  ""creator"": {
    ""email"": ""crowberto@metabase.com"",
    ""first_name"": ""Crowberto"",
    ""last_login"": null,
    ""is_qbnewb"": true,
    ""is_superuser"": true,
    ""id"": 4,
    ""last_name"": ""Corv"",
    ""date_joined"": ""2024-12-03T07:28:53.900031Z"",
    ""common_name"": ""Crowberto Corv""
  },
  ""payload_type"": ""notification/card"",
  ""handlers"": [
    {
      ""template_id"": null,
      ""channel_type"": ""channel/metabase-test"",
      ""channel"": {
        ""id"": 36,
        ""name"": ""Test channel"",
        ""description"": ""Test channel description"",
        ""type"": ""channel/metabase-test"",
        ""details"": {
          ""return-type"": ""return-value"",
          ""return-value"": true
        },
        ""active"": true,
        ""created_at"": ""2024-12-03T10:44:15.686056Z"",
        ""updated_at"": ""2024-12-03T10:44:15.686076Z""
      },
      ""template"": null,
      ""recipients"": [],
      ""channel_id"": 36,
      ""updated_at"": ""2024-12-03T10:44:15.685703Z"",
      ""notification_id"": 43,
      ""active"": false,
      ""id"": 31,
      ""created_at"": ""2024-12-03T10:44:15.685703Z""
    },
    {
      ""template_id"": 18,
      ""channel_type"": ""channel/email"",
      ""channel"": null,
      ""template"": {
        ""id"": 18,
        ""name"": ""ABNDLMTHSJQWHHTUPANM"",
        ""channel_type"": ""channel/email"",
        ""details"": {
          ""type"": ""email/handlebars-text"",
          ""subject"": ""Welcome {{payload.event_info.object.first_name}} to {{context.site_name}}"",
          ""body"": ""Hello {{payload.event_info.object.first_name}}! Welcome to {{context.site_name}}!""
        },
        ""created_at"": ""2024-12-03T10:44:15.698187Z"",
        ""updated_at"": ""2024-12-03T10:44:15.69819Z""
      },
      ""recipients"": [
        {
          ""type"": ""notification-recipient/user"",
          ""updated_at"": ""2024-12-03T10:44:15.685703Z"",
          ""permissions_group_id"": null,
          ""details"": null,
          ""id"": 26,
          ""user_id"": 4,
          ""notification_handler_id"": 32,
          ""user"": {
            ""email"": ""crowberto@metabase.com"",
            ""first_name"": ""Crowberto"",
            ""last_login"": null,
            ""is_qbnewb"": true,
            ""is_superuser"": true,
            ""id"": 4,
            ""last_name"": ""Corv"",
            ""date_joined"": ""2024-12-03T07:28:53.900031Z"",
            ""common_name"": ""Crowberto Corv""
          },
          ""created_at"": ""2024-12-03T10:44:15.685703Z""
        }
      ],
      ""channel_id"": null,
      ""updated_at"": ""2024-12-03T10:44:15.685703Z"",
      ""notification_id"": 43,
      ""active"": true,
      ""id"": 32,
      ""created_at"": ""2024-12-03T10:44:15.685703Z""
    }
  ],
  ""creator_id"": 4,
  ""subscriptions"": [
    {
      ""id"": 29,
      ""notification_id"": 43,
      ""type"": ""notification-subscription/cron"",
      ""event_name"": null,
      ""created_at"": ""2024-12-03T10:44:15.685703Z"",
      ""cron_schedule"": ""0 0 0 * * ?""
    },
    {
      ""id"": 30,
      ""notification_id"": 43,
      ""type"": ""notification-subscription/cron"",
      ""event_name"": null,
      ""created_at"": ""2024-12-03T10:44:15.685703Z"",
      ""cron_schedule"": ""1 1 1 * * ?""
    }
  ],
  ""updated_at"": ""2024-12-03T10:44:15.685703Z"",
  ""active"": true,
  ""id"": 43,
  ""created_at"": ""2024-12-03T10:44:15.685703Z""
}
```
</details>

Note: I haven't added permissions checks; I will do that at the end when we have all the notification apis as we'll need to revisit the story for permissions.



",qnkhuat,2024-12-03 09:07:23+00:00,['qnkhuat'],2024-12-10 11:45:04+00:00,2024-12-10 11:45:02+00:00,https://github.com/metabase/metabase/pull/50770,"[('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2519021235, 'issue_id': 2714409176, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/123599_tests-31fa0fac-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50770?repo=metabase/metabase&commitHash=31fa0facfba1aae4eb8deaa76c2b7e11e16d90f4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50770?repo=metabase/metabase&commitHash=31fa0facfba1aae4eb8deaa76c2b7e11e16d90f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50770?repo=metabase/metabase&commitHash=31fa0facfba1aae4eb8deaa76c2b7e11e16d90f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50770?repo=metabase/metabase&commitHash=31fa0facfba1aae4eb8deaa76c2b7e11e16d90f4&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, but expected stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50770?repo=metabase/metabase&commitHash=31fa0facfba1aae4eb8deaa76c2b7e11e16d90f4&utm_source=gh-comment&runConclusion=FAILURE&runId=fdd93963-71c2-5e9e-b3cb-2b9c8564887d) |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50770?repo=metabase/metabase&commitHash=31fa0facfba1aae4eb8deaa76c2b7e11e16d90f4&utm_source=gh-comment&runConclusion=FAILURE&runId=e3e8f2c6-3e0a-5613-a7e9-7ecd6edc7356) |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50770?repo=metabase/metabase&commitHash=31fa0facfba1aae4eb8deaa76c2b7e11e16d90f4&utm_source=gh-comment&runConclusion=FAILURE&runId=29b0aa2b-1467-5727-8a2a-72721f54e2ca) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50770?repo=metabase/metabase&commitHash=31fa0facfba1aae4eb8deaa76c2b7e11e16d90f4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 5, 3, 41, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2519752937, 'issue_id': 2714409176, 'author': 'crisptrutski', 'body': 'LGTM overall, just like to hear your thoughts on a few comments before approving.', 'created_at': datetime.datetime(2024, 12, 5, 9, 33, 48, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-05 03:41:18 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/123599_tests-31fa0fac-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50770?repo=metabase/metabase&commitHash=31fa0facfba1aae4eb8deaa76c2b7e11e16d90f4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50770?repo=metabase/metabase&commitHash=31fa0facfba1aae4eb8deaa76c2b7e11e16d90f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50770?repo=metabase/metabase&commitHash=31fa0facfba1aae4eb8deaa76c2b7e11e16d90f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50770?repo=metabase/metabase&commitHash=31fa0facfba1aae4eb8deaa76c2b7e11e16d90f4&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, but expected stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50770?repo=metabase/metabase&commitHash=31fa0facfba1aae4eb8deaa76c2b7e11e16d90f4&utm_source=gh-comment&runConclusion=FAILURE&runId=fdd93963-71c2-5e9e-b3cb-2b9c8564887d) |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50770?repo=metabase/metabase&commitHash=31fa0facfba1aae4eb8deaa76c2b7e11e16d90f4&utm_source=gh-comment&runConclusion=FAILURE&runId=e3e8f2c6-3e0a-5613-a7e9-7ecd6edc7356) |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50770?repo=metabase/metabase&commitHash=31fa0facfba1aae4eb8deaa76c2b7e11e16d90f4&utm_source=gh-comment&runConclusion=FAILURE&runId=29b0aa2b-1467-5727-8a2a-72721f54e2ca) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50770?repo=metabase/metabase&commitHash=31fa0facfba1aae4eb8deaa76c2b7e11e16d90f4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

crisptrutski on (2024-12-05 09:33:48 UTC): LGTM overall, just like to hear your thoughts on a few comments before approving.

"
2714187596,pull_request,closed,,[Notification] Rename notification types,"- notification/alert -> notification/card
- notification/dashboard-subscription -> notification/dashboard

renaming now is fine because none of these notifications are persisted",qnkhuat,2024-12-03 07:12:52+00:00,['qnkhuat'],2025-01-27 22:14:13+00:00,2024-12-03 10:24:24+00:00,https://github.com/metabase/metabase/pull/50768,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]",[],
2713946493,pull_request,closed,,"🤖 backported ""Make e2e tests of embedding and sql filters date-invariant""",#50737,github-automation-metabase,2024-12-03 04:20:54+00:00,"['rafpaf', 'github-automation-metabase']",2024-12-03 05:21:27+00:00,2024-12-03 05:21:26+00:00,https://github.com/metabase/metabase/pull/50767,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2713873004,pull_request,closed,,[FE] Move time filter parts to MBQL lib,"Epic https://github.com/metabase/metabase/issues/50238

Follow up for https://github.com/metabase/metabase/pull/50752. Moves `time-filter-clause` and `time-filter-parts` to MBQL lib.",ranquild,2024-12-03 03:05:55+00:00,['ranquild'],2025-01-27 22:14:06+00:00,2024-12-04 17:14:14+00:00,https://github.com/metabase/metabase/pull/50765,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2516214210, 'issue_id': 2713873004, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/133134_tests-eaf2a487-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50765?repo=metabase/metabase&commitHash=eaf2a4877d5f5cfe931d283f6755cf70ad9633ca&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50765?repo=metabase/metabase&commitHash=eaf2a4877d5f5cfe931d283f6755cf70ad9633ca&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50765?repo=metabase/metabase&commitHash=eaf2a4877d5f5cfe931d283f6755cf70ad9633ca&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50765?repo=metabase/metabase&commitHash=eaf2a4877d5f5cfe931d283f6755cf70ad9633ca&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 8490 static embeddings should respect \\`\\#locale\\` hash parameter (metabase\\#8490, metabase\\#50182)</code> | Unable to find an element with the text ""11월 2023"" after 4000ms, possibly due to broken text being split by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50765?repo=metabase/metabase&commitHash=eaf2a4877d5f5cfe931d283f6755cf70ad9633ca&utm_source=gh-comment&runConclusion=FAILURE&runId=e22f5da3-c1e9-5fd1-8fd3-74f03c7f5ab8) |\n| <code>scenarios > filters > sql filters > field filter > Date when set as the default value for a required filter</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50765?repo=metabase/metabase&commitHash=eaf2a4877d5f5cfe931d283f6755cf70ad9633ca&utm_source=gh-comment&runConclusion=FAILURE&runId=e1af8a5e-b35c-57bc-851e-7b7650378bbb) |\n| <code>scenarios > filters > sql filters > field filter > Date when set through the filter widget</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50765?repo=metabase/metabase&commitHash=eaf2a4877d5f5cfe931d283f6755cf70ad9633ca&utm_source=gh-comment&runConclusion=FAILURE&runId=4f5e70e8-3c41-538e-b6ab-67d8befcda22) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50765?repo=metabase/metabase&commitHash=eaf2a4877d5f5cfe931d283f6755cf70ad9633ca&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 4, 5, 14, 50, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-04 05:14:50 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/133134_tests-eaf2a487-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50765?repo=metabase/metabase&commitHash=eaf2a4877d5f5cfe931d283f6755cf70ad9633ca&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50765?repo=metabase/metabase&commitHash=eaf2a4877d5f5cfe931d283f6755cf70ad9633ca&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50765?repo=metabase/metabase&commitHash=eaf2a4877d5f5cfe931d283f6755cf70ad9633ca&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50765?repo=metabase/metabase&commitHash=eaf2a4877d5f5cfe931d283f6755cf70ad9633ca&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 8490 static embeddings should respect \`\#locale\` hash parameter (metabase\#8490, metabase\#50182)</code> | Unable to find an element with the text ""11월 2023"" after 4000ms, possibly due to broken text being split by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50765?repo=metabase/metabase&commitHash=eaf2a4877d5f5cfe931d283f6755cf70ad9633ca&utm_source=gh-comment&runConclusion=FAILURE&runId=e22f5da3-c1e9-5fd1-8fd3-74f03c7f5ab8) |
| <code>scenarios > filters > sql filters > field filter > Date when set as the default value for a required filter</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50765?repo=metabase/metabase&commitHash=eaf2a4877d5f5cfe931d283f6755cf70ad9633ca&utm_source=gh-comment&runConclusion=FAILURE&runId=e1af8a5e-b35c-57bc-851e-7b7650378bbb) |
| <code>scenarios > filters > sql filters > field filter > Date when set through the filter widget</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50765?repo=metabase/metabase&commitHash=eaf2a4877d5f5cfe931d283f6755cf70ad9633ca&utm_source=gh-comment&runConclusion=FAILURE&runId=4f5e70e8-3c41-538e-b6ab-67d8befcda22) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50765?repo=metabase/metabase&commitHash=eaf2a4877d5f5cfe931d283f6755cf70ad9633ca&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2713531780,pull_request,closed,,"🤖 backported ""docs: serialization clarification""",#50601,metabase-bot[bot],2024-12-02 22:28:14+00:00,['alexyarosh'],2024-12-02 22:29:56+00:00,2024-12-02 22:29:55+00:00,https://github.com/metabase/metabase/pull/50762,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2713512417,pull_request,closed,,Added nvoxland to team config files,"### Description

Adds nvoxland to the team config files",nvoxland,2024-12-02 22:16:43+00:00,['nvoxland'],2025-01-27 22:14:15+00:00,2024-12-02 23:03:39+00:00,https://github.com/metabase/metabase/pull/50761,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]",[],
2713465524,pull_request,closed,,[Clean up] Hide clean up UI in sample collections,"Closes https://github.com/metabase/metabase/issues/50655

### Description

The clean up UI was showing in the Example collection, but it makes more sense to delete the whole collection rather than clean up each question individually. This PR prevents the clean up UI from appearing on all sample collections.

This PR also reorganizes the code a bit:
- I realized I was having to update conditional show/hide logic in two places so I changed `PLUGIN_COLLECTIONS.canCleanUp` from a boolean to a function so that it can be reused.
- Cypress tests weren't correctly nested (sorry for the churn, I point out the changes via GH code comments)

### How to verify

1. Go to example collection w/ stale content (you can use the `POST /api/testing/mark-stale` endpoint to manually make an item stale)
2. Verify you don't see the banner
3. Go to a normal collection w/ stale content
4. Verify that you do still see the banner

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",sloansparger,2024-12-02 21:48:55+00:00,['sloansparger'],2024-12-03 21:52:15+00:00,2024-12-03 21:51:10+00:00,https://github.com/metabase/metabase/pull/50760,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2515625006, 'issue_id': 2713465524, 'author': 'sloansparger', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 12, 3, 21, 52, 13, tzinfo=datetime.timezone.utc)}]","sloansparger (Issue Creator) on (2024-12-03 21:52:13 UTC): @metabase-bot backport release-x.51.x

"
2713334361,pull_request,closed,,"🤖 backported ""Add wzimrin to teams and github-slack-map""",#50756,github-automation-metabase,2024-12-02 20:39:21+00:00,"['wzimrin', 'github-automation-metabase']",2024-12-02 20:40:55+00:00,2024-12-02 20:40:54+00:00,https://github.com/metabase/metabase/pull/50757,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2713273741,pull_request,closed,,Add wzimrin to teams and github-slack-map,"> [!IMPORTANT]
> For those employed by Metabase: if you are merging into master, please add either a `backport` or a `no-backport` label to this PR. You will not be able to merge until you do this step. Refer to the section [Do I need to backport this PR?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#89f80d6f17714a0198aeb66c0efd1b71) in the Metabase Branching Strategy document for more details. If you're not employed by Metabase, this section does not apply to you, and the label will be taken care of by your reviewer.

> **Warning**
>
> If that is your first contribution to Metabase, please sign the [Contributor License Agreement](https://docs.google.com/a/metabase.com/forms/d/1oV38o7b9ONFSwuzwmERRMi9SYrhYeOrkbmNaq9pOJ_E/viewform) (unless it's a tiny documentation change). Also, if you're attempting to fix a translation issue, please submit your changes to our [POEditor project](https://poeditor.com/join/project/ynjQmwSsGh) instead of opening a PR.

Closes https://github.com/metabase/metabase/issues/[issue_number]

### Description

Describe the overall approach and the problem being solved.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> ...
2. ...

### Demo

_Upload a demo video or before/after screenshots if sensible or remove the section_

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",wzimrin,2024-12-02 20:27:54+00:00,['wzimrin'],2024-12-02 20:41:22+00:00,2024-12-02 20:38:28+00:00,https://github.com/metabase/metabase/pull/50756,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]",[],
2713220728,pull_request,closed,,"🤖 backported ""docs - update chart list""",#50743,github-automation-metabase,2024-12-02 20:03:08+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2024-12-02 22:28:33+00:00,2024-12-02 22:28:32+00:00,https://github.com/metabase/metabase/pull/50755,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2713220318,pull_request,closed,,"🤖 backported ""docs: serialization clarification""",#50601,github-automation-metabase,2024-12-02 20:02:52+00:00,"['alexyarosh', 'github-automation-metabase']",2024-12-02 20:06:12+00:00,2024-12-02 20:06:11+00:00,https://github.com/metabase/metabase/pull/50754,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2713157462,pull_request,closed,,[FE] Move filter-parts to MBQL lib,"Epic https://github.com/metabase/metabase/issues/50238

Moves every `filter-parts` function except for specific date, exclude date, and time filters to MBQL lib. No behavior changes; only some renaming to keep things consistent. Other filter parts would be migrated in separate PRs:
- https://github.com/metabase/metabase/pull/50765

Reasons for moving to MBQL lib:
1. We have to match exactly the same expression shapes in MBQL lib for formatting - `display-name` and `filter-args-display-name` methods. It's better not to duplicate things between MBQL lib and the FE if we can keep them in MBQL lib only.
2. MBQL pattern matching is much less noisy in clojure rather than typescript.
3. We want to do more complex expressions without changing the UI in anyway. 
4. For date/time, serialization & deserialization logic in `[[xxx-filter-parts]]` and `[[xxx-filter-clause]]` should match MBQL lib **exactly** or bugs will occur.

How to verify:
- CI is green
- Try working with string, numeric, coordinate, boolean, relative date filters in the notebook.",ranquild,2024-12-02 19:31:13+00:00,['ranquild'],2025-01-27 22:14:08+00:00,2024-12-04 15:29:25+00:00,https://github.com/metabase/metabase/pull/50752,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]",[],
2712950549,pull_request,open,,WIP: Removing useSearchListQuery,"> [!IMPORTANT]
> For those employed by Metabase: if you are merging into master, please add either a `backport` or a `no-backport` label to this PR. You will not be able to merge until you do this step. Refer to the section [Do I need to backport this PR?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#89f80d6f17714a0198aeb66c0efd1b71) in the Metabase Branching Strategy document for more details. If you're not employed by Metabase, this section does not apply to you, and the label will be taken care of by your reviewer.

> **Warning**
>
> If that is your first contribution to Metabase, please sign the [Contributor License Agreement](https://docs.google.com/a/metabase.com/forms/d/1oV38o7b9ONFSwuzwmERRMi9SYrhYeOrkbmNaq9pOJ_E/viewform) (unless it's a tiny documentation change). Also, if you're attempting to fix a translation issue, please submit your changes to our [POEditor project](https://poeditor.com/join/project/ynjQmwSsGh) instead of opening a PR.

Closes https://github.com/metabase/metabase/issues/[issue_number]

### Description

Describe the overall approach and the problem being solved.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> ...
2. ...

### Demo

_Upload a demo video or before/after screenshots if sensible or remove the section_

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",npfitz,2024-12-02 18:41:28+00:00,['npfitz'],2024-12-02 18:41:56+00:00,,https://github.com/metabase/metabase/pull/50751,"[('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2512403053, 'issue_id': 2712950549, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@npfitz You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2024, 12, 2, 18, 41, 55, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-12-02 18:41:55 UTC): <!---conventional commit reminder comment ID-->
@npfitz You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

"
2712949745,pull_request,closed,,docs - 52 api and env var,Updates api and env var docs for 52.,jeff-bruemmer,2024-12-02 18:41:11+00:00,['jeff-bruemmer'],2024-12-03 21:59:12+00:00,2024-12-03 21:58:46+00:00,https://github.com/metabase/metabase/pull/50750,"[('Type:Documentation', ''), ('no-backport', 'Do not backport this PR to any branch')]",[],
2712884640,pull_request,closed,,Make e2e filter test not date-sensitive,Fix a date-sensitive e2e test that was failing on master.,rafpaf,2024-12-02 18:08:35+00:00,['rafpaf'],2025-02-04 17:32:28+00:00,2024-12-02 18:11:47+00:00,https://github.com/metabase/metabase/pull/50749,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2512321173, 'issue_id': 2712884640, 'author': 'rafpaf', 'body': '* **#50749** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50749?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50749?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 12, 2, 18, 8, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2512327321, 'issue_id': 2712884640, 'author': 'rafpaf', 'body': ""I've merged this into the other date-sensitive e2e-fixing PR, since both tests need to be fixed together or neither PR will pass Ci"", 'created_at': datetime.datetime(2024, 12, 2, 18, 12, 3, tzinfo=datetime.timezone.utc)}]","rafpaf (Issue Creator) on (2024-12-02 18:08:53 UTC): * **#50749** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50749?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50749?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`

<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

rafpaf (Issue Creator) on (2024-12-02 18:12:03 UTC): I've merged this into the other date-sensitive e2e-fixing PR, since both tests need to be fixed together or neither PR will pass Ci

"
2712732293,pull_request,closed,,"🤖 backported ""Partially fix flaky native e2e tests""",#50710,github-automation-metabase,2024-12-02 17:22:50+00:00,"['ranquild', 'github-automation-metabase']",2024-12-03 19:00:35+00:00,2024-12-03 19:00:32+00:00,https://github.com/metabase/metabase/pull/50747,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2712597152,pull_request,closed,,fix: do not show popup when click on View More,"Closes https://github.com/metabase/metabase/issues/50738

### Description

before this change if you click on ""view more"", drill down popup was shown, now it's fixed

",uladzimirdev,2024-12-02 16:48:22+00:00,['uladzimirdev'],2024-12-03 21:15:40+00:00,2024-12-03 21:15:38+00:00,https://github.com/metabase/metabase/pull/50745,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2512140779, 'issue_id': 2712597152, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 0f9bb8045bd58529a99faf041f6c17cfe815fc71...483415784a4f2aec8d756ca95dc15e19c2586ee1.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetailsTable.tsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetailsTable.unit.spec.tsx |', 'created_at': datetime.datetime(2024, 12, 2, 16, 49, 46, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-12-02 16:49:46 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 0f9bb8045bd58529a99faf041f6c17cfe815fc71...483415784a4f2aec8d756ca95dc15e19c2586ee1.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetailsTable.tsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetailsTable.unit.spec.tsx |

"
2712590242,pull_request,closed,,"🤖 backported ""Include in-page promo banner in embedding docs pages""",#50359,metabase-bot[bot],2024-12-02 16:46:29+00:00,['alexyarosh'],2024-12-02 16:48:16+00:00,2024-12-02 16:48:15+00:00,https://github.com/metabase/metabase/pull/50744,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2712488631,pull_request,closed,,docs - update chart list,Fix dupe word.,jeff-bruemmer,2024-12-02 16:14:44+00:00,['jeff-bruemmer'],2024-12-02 22:30:54+00:00,2024-12-02 20:02:03+00:00,https://github.com/metabase/metabase/pull/50743,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2513096289, 'issue_id': 2712488631, 'author': 'alexyarosh', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 12, 2, 22, 28, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2513101167, 'issue_id': 2712488631, 'author': 'github-actions[bot]', 'body': '@alexyarosh something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12129106403)', 'created_at': datetime.datetime(2024, 12, 2, 22, 30, 52, tzinfo=datetime.timezone.utc)}]","alexyarosh on (2024-12-02 22:28:50 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-12-02 22:30:52 UTC): @alexyarosh something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12129106403)

"
2712321954,pull_request,closed,,49664 add browser details in the json to display along with system info,"Closes https://github.com/metabase/metabase/issues/49664

### Description

We want to collect browser information in the diagnostic window. This PR adds that capability using [bowser package](https://www.npmjs.com/package/bowser). 

### How to verify

Type cmd + f1 and download diagnostic data. You should see browserInfo section included in the json file. 
",filiphric,2024-12-02 15:27:10+00:00,['filiphric'],2024-12-04 11:03:23+00:00,2024-12-04 11:03:23+00:00,https://github.com/metabase/metabase/pull/50740,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2511851485, 'issue_id': 2712321954, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff e2a8d43ed5b0473884686dfd0499a84bbb902643...d6eecdb51f93c4e62aa0fc3e9e22bc3cb9bab4e3.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/icons/Icon/icons/bug.svg<br>frontend/src/metabase/ui/components/icons/Icon/icons/index.ts |', 'created_at': datetime.datetime(2024, 12, 2, 15, 28, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2512017009, 'issue_id': 2712321954, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/131010_tests-747beeee-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50740?repo=metabase/metabase&commitHash=747beeee54011b5099019cd0eb8d2a087902a84a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50740?repo=metabase/metabase&commitHash=747beeee54011b5099019cd0eb8d2a087902a84a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50740?repo=metabase/metabase&commitHash=747beeee54011b5099019cd0eb8d2a087902a84a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50740?repo=metabase/metabase&commitHash=747beeee54011b5099019cd0eb8d2a087902a84a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 17060 ""before each"" hook for ""should not render duplicated columns (metabase\\#17060)""</code> | Unable to find an element with data-testid=""/draggable-item/"" within 4000ms, causing a timeout and skipping remaining tests. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50740?repo=metabase/metabase&commitHash=747beeee54011b5099019cd0eb8d2a087902a84a&utm_source=gh-comment&runConclusion=FAILURE&runId=2ef36e5b-ef7b-5361-b5c8-d97464169ea7) |\n| <code>error reporting modal should allow you to open the error reporting modal via the command palette</code> | Unable to find an accessible element with the role ""option"" and name ""/Open error diagnostic modal/"" after 4000ms of retrying. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50740?repo=metabase/metabase&commitHash=747beeee54011b5099019cd0eb8d2a087902a84a&utm_source=gh-comment&runConclusion=FAILURE&runId=d0808b5c-7bbc-56ec-861c-7d9e847ddace) |\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>delay-queue-test</code> | failure\\_text: queue\\_test.clj:92expected: (nil? (queue/take-delayed-batch! q 3 90 0))  actual: (not (nil? [1784344130678])) | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50740?repo=metabase/metabase&commitHash=747beeee54011b5099019cd0eb8d2a087902a84a&utm_source=gh-comment&runConclusion=FAILURE&runId=2f75c9a2-a0d3-5033-a188-9bbb2fca7052) |\n| <code>issue 8490 static embeddings should respect \\`\\#locale\\` hash parameter (metabase\\#8490, metabase\\#50182)</code> | Unable to find an element with the text ""11월 2023"" after 4000ms, possibly due to broken text being split by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50740?repo=metabase/metabase&commitHash=747beeee54011b5099019cd0eb8d2a087902a84a&utm_source=gh-comment&runConclusion=FAILURE&runId=097d6e67-210f-5785-bb7c-fb197cafb98c) |\n| <code>scenarios > filters > sql filters > field filter > Date when set as the default value for a required filter</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50740?repo=metabase/metabase&commitHash=747beeee54011b5099019cd0eb8d2a087902a84a&utm_source=gh-comment&runConclusion=FAILURE&runId=183b50a6-d1a4-5a9b-a419-383de3eebbac) |\n| <code>scenarios > filters > sql filters > field filter > Date when set through the filter widget</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50740?repo=metabase/metabase&commitHash=747beeee54011b5099019cd0eb8d2a087902a84a&utm_source=gh-comment&runConclusion=FAILURE&runId=986f2b7d-76f3-5010-b30b-b764b6843c1d) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50740?repo=metabase/metabase&commitHash=747beeee54011b5099019cd0eb8d2a087902a84a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 2, 16, 18, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2515602288, 'issue_id': 2712321954, 'author': 'iethree', 'body': ""Browser info addition looks good, but the base of this branch should probably be another open branch so that it doesn't include a bunch of other changes"", 'created_at': datetime.datetime(2024, 12, 3, 21, 37, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2516989298, 'issue_id': 2712321954, 'author': 'filiphric', 'body': 'closed in favor of https://github.com/metabase/metabase/pull/50856', 'created_at': datetime.datetime(2024, 12, 4, 11, 3, 23, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-12-02 15:28:44 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff e2a8d43ed5b0473884686dfd0499a84bbb902643...d6eecdb51f93c4e62aa0fc3e9e22bc3cb9bab4e3.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/icons/Icon/icons/bug.svg<br>frontend/src/metabase/ui/components/icons/Icon/icons/index.ts |

trunk-io[bot] on (2024-12-02 16:18:50 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/131010_tests-747beeee-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50740?repo=metabase/metabase&commitHash=747beeee54011b5099019cd0eb8d2a087902a84a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50740?repo=metabase/metabase&commitHash=747beeee54011b5099019cd0eb8d2a087902a84a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50740?repo=metabase/metabase&commitHash=747beeee54011b5099019cd0eb8d2a087902a84a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50740?repo=metabase/metabase&commitHash=747beeee54011b5099019cd0eb8d2a087902a84a&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 17060 ""before each"" hook for ""should not render duplicated columns (metabase\#17060)""</code> | Unable to find an element with data-testid=""/draggable-item/"" within 4000ms, causing a timeout and skipping remaining tests. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50740?repo=metabase/metabase&commitHash=747beeee54011b5099019cd0eb8d2a087902a84a&utm_source=gh-comment&runConclusion=FAILURE&runId=2ef36e5b-ef7b-5361-b5c8-d97464169ea7) |
| <code>error reporting modal should allow you to open the error reporting modal via the command palette</code> | Unable to find an accessible element with the role ""option"" and name ""/Open error diagnostic modal/"" after 4000ms of retrying. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50740?repo=metabase/metabase&commitHash=747beeee54011b5099019cd0eb8d2a087902a84a&utm_source=gh-comment&runConclusion=FAILURE&runId=d0808b5c-7bbc-56ec-861c-7d9e847ddace) |
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>delay-queue-test</code> | failure\_text: queue\_test.clj:92expected: (nil? (queue/take-delayed-batch! q 3 90 0))  actual: (not (nil? [1784344130678])) | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50740?repo=metabase/metabase&commitHash=747beeee54011b5099019cd0eb8d2a087902a84a&utm_source=gh-comment&runConclusion=FAILURE&runId=2f75c9a2-a0d3-5033-a188-9bbb2fca7052) |
| <code>issue 8490 static embeddings should respect \`\#locale\` hash parameter (metabase\#8490, metabase\#50182)</code> | Unable to find an element with the text ""11월 2023"" after 4000ms, possibly due to broken text being split by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50740?repo=metabase/metabase&commitHash=747beeee54011b5099019cd0eb8d2a087902a84a&utm_source=gh-comment&runConclusion=FAILURE&runId=097d6e67-210f-5785-bb7c-fb197cafb98c) |
| <code>scenarios > filters > sql filters > field filter > Date when set as the default value for a required filter</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50740?repo=metabase/metabase&commitHash=747beeee54011b5099019cd0eb8d2a087902a84a&utm_source=gh-comment&runConclusion=FAILURE&runId=183b50a6-d1a4-5a9b-a419-383de3eebbac) |
| <code>scenarios > filters > sql filters > field filter > Date when set through the filter widget</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50740?repo=metabase/metabase&commitHash=747beeee54011b5099019cd0eb8d2a087902a84a&utm_source=gh-comment&runConclusion=FAILURE&runId=986f2b7d-76f3-5010-b30b-b764b6843c1d) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50740?repo=metabase/metabase&commitHash=747beeee54011b5099019cd0eb8d2a087902a84a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

iethree on (2024-12-03 21:37:58 UTC): Browser info addition looks good, but the base of this branch should probably be another open branch so that it doesn't include a bunch of other changes

filiphric (Issue Creator) on (2024-12-04 11:03:23 UTC): closed in favor of https://github.com/metabase/metabase/pull/50856

"
2712303066,pull_request,closed,,Filter Modal update POC,"- [Product doc](https://www.notion.so/metabase/Filter-Modal-update-POC-14d69354c901804cb44cf0f313162dcb?d=14d69354c9018074982c001c29f9a3b4#14d69354c90180e6a94fd3a66732beb2)
- [Figma](https://www.figma.com/design/z1QByEASrdCkPGEKaA0Ld4/Filter-improvements?node-id=10192-19720&t=pehQaQqu7qMHtDIY-1)
- [Slack thread](https://metaboat.slack.com/archives/C0645JP1W81/p1732586286829119)

### Description

Quick & dirty proof of concept of updates to the Filter Modal, notably:
- left-hand-side tabs turned into a dropdown button (below search input)
- autofocus search input when modal is opened
- fields are visually grouped by type
- compact view of rows
- sticky modal header and footer (only modal ""body"" is scrollable)
- new toggle buttons look & feel (aka pills)
- toggle buttons (aka pills) instead of checkboxes
  - note: boolean filters used checkboxes with indeterminate state, but with toggle buttons (aka pills) we don't show that state anymore
- always show dropdown input for text fields (previously we showed checkboxes when there were few items)
- smaller inputs
  - lots of improvisation here
- colorful (blue) icons


### Demo

![image](https://github.com/user-attachments/assets/d07a7c95-75ce-4893-aa65-1a2d3fc4fa2c)
",kamilmielnik,2024-12-02 15:20:59+00:00,['kamilmielnik'],2024-12-12 13:06:03+00:00,2024-12-12 13:06:00+00:00,https://github.com/metabase/metabase/pull/50739,"[('do not merge', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', ''), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2511920072, 'issue_id': 2712303066, 'author': 'github-actions[bot]', 'body': '👋 Deploying a preview environment for commit bd36030459f970cb97b6a5525757006e822704b2.\n✅ Preview:\n    https://pr50739.coredev.metabase.com\n🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2024, 12, 2, 15, 57, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2512029174, 'issue_id': 2712303066, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13153_tests-bd360304-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50739?repo=metabase/metabase&commitHash=bd36030459f970cb97b6a5525757006e822704b2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/129-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50739?repo=metabase/metabase&commitHash=bd36030459f970cb97b6a5525757006e822704b2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50739?repo=metabase/metabase&commitHash=bd36030459f970cb97b6a5525757006e822704b2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50739?repo=metabase/metabase&commitHash=bd36030459f970cb97b6a5525757006e822704b2&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved view and filter saved question</code> | The test timed out while trying to find an element with the placeholder text \'Search the list\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50739?repo=metabase/metabase&commitHash=bd36030459f970cb97b6a5525757006e822704b2&utm_source=gh-comment&runConclusion=FAILURE&runId=d01929a2-22ee-57ef-97cd-9a7d312daa9a) |\n| <code>scenarios > dashboard > filters > query stages + temporal unit parameters applies filter to the the dashcard and allows to drill via dashcard heade...</code> | Unable to find a label with the text ""Gizmo"" within the expected time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50739?repo=metabase/metabase&commitHash=bd36030459f970cb97b6a5525757006e822704b2&utm_source=gh-comment&runConclusion=FAILURE&runId=11d63980-0edc-57ad-a0a7-d0ce2f49edf3) |\n| <code>scenarios > question > filter should filter based on remapped values (metabase\\#13235)</code> | The expected text \'Aerodynamic Linen Coat\' was not found within the element after 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50739?repo=metabase/metabase&commitHash=bd36030459f970cb97b6a5525757006e822704b2&utm_source=gh-comment&runConclusion=FAILURE&runId=fa8e72b4-4909-5863-8b71-d37e49c22966) |\n| <code>scenarios > question > filter should work on twice summarized questions and preserve both summaries (metabase\\#15620)</code> | The test timed out while trying to find an element with the text ""Gizmo"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50739?repo=metabase/metabase&commitHash=bd36030459f970cb97b6a5525757006e822704b2&utm_source=gh-comment&runConclusion=FAILURE&runId=101d65df-93ff-5cf6-ac3c-a09b731ee937) |\n\n[... and 125 more](https://app.trunk.io/metabase/flaky-tests/pr/50739?repo=metabase/metabase&commitHash=bd36030459f970cb97b6a5525757006e822704b2&utm_source=gh-comment&runConclusion=FAILURE)\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 8490 static embeddings should respect \\`\\#locale\\` hash parameter (metabase\\#8490, metabase\\#50182)</code> | Unable to find an element with the text ""11월 2023"" after 4000ms, possibly due to broken text being split by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50739?repo=metabase/metabase&commitHash=bd36030459f970cb97b6a5525757006e822704b2&utm_source=gh-comment&runConclusion=FAILURE&runId=ca97eee4-7050-5ac4-ad91-cd417c7b443d) |\n| <code>scenarios > filters > sql filters > field filter > Date when set as the default value for a required filter</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50739?repo=metabase/metabase&commitHash=bd36030459f970cb97b6a5525757006e822704b2&utm_source=gh-comment&runConclusion=FAILURE&runId=24b7af7f-d332-5cc0-aa52-bf49e7d9b16c) |\n| <code>scenarios > filters > sql filters > field filter > Date when set through the filter widget</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50739?repo=metabase/metabase&commitHash=bd36030459f970cb97b6a5525757006e822704b2&utm_source=gh-comment&runConclusion=FAILURE&runId=dbce5762-8c02-582e-ae28-65c38bb2490a) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50739?repo=metabase/metabase&commitHash=bd36030459f970cb97b6a5525757006e822704b2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 2, 16, 20, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2538855864, 'issue_id': 2712303066, 'author': 'kamilmielnik', 'body': 'The POC has served its purpose. Closing.\r\nFeel free to reopen or restore the branch if necessary.', 'created_at': datetime.datetime(2024, 12, 12, 13, 6, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-12-02 15:57:22 UTC): 👋 Deploying a preview environment for commit bd36030459f970cb97b6a5525757006e822704b2.
✅ Preview:
    https://pr50739.coredev.metabase.com
🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

trunk-io[bot] on (2024-12-02 16:20:25 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13153_tests-bd360304-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50739?repo=metabase/metabase&commitHash=bd36030459f970cb97b6a5525757006e822704b2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/129-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50739?repo=metabase/metabase&commitHash=bd36030459f970cb97b6a5525757006e822704b2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50739?repo=metabase/metabase&commitHash=bd36030459f970cb97b6a5525757006e822704b2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50739?repo=metabase/metabase&commitHash=bd36030459f970cb97b6a5525757006e822704b2&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved view and filter saved question</code> | The test timed out while trying to find an element with the placeholder text 'Search the list'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50739?repo=metabase/metabase&commitHash=bd36030459f970cb97b6a5525757006e822704b2&utm_source=gh-comment&runConclusion=FAILURE&runId=d01929a2-22ee-57ef-97cd-9a7d312daa9a) |
| <code>scenarios > dashboard > filters > query stages + temporal unit parameters applies filter to the the dashcard and allows to drill via dashcard heade...</code> | Unable to find a label with the text ""Gizmo"" within the expected time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50739?repo=metabase/metabase&commitHash=bd36030459f970cb97b6a5525757006e822704b2&utm_source=gh-comment&runConclusion=FAILURE&runId=11d63980-0edc-57ad-a0a7-d0ce2f49edf3) |
| <code>scenarios > question > filter should filter based on remapped values (metabase\#13235)</code> | The expected text 'Aerodynamic Linen Coat' was not found within the element after 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50739?repo=metabase/metabase&commitHash=bd36030459f970cb97b6a5525757006e822704b2&utm_source=gh-comment&runConclusion=FAILURE&runId=fa8e72b4-4909-5863-8b71-d37e49c22966) |
| <code>scenarios > question > filter should work on twice summarized questions and preserve both summaries (metabase\#15620)</code> | The test timed out while trying to find an element with the text ""Gizmo"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50739?repo=metabase/metabase&commitHash=bd36030459f970cb97b6a5525757006e822704b2&utm_source=gh-comment&runConclusion=FAILURE&runId=101d65df-93ff-5cf6-ac3c-a09b731ee937) |

[... and 125 more](https://app.trunk.io/metabase/flaky-tests/pr/50739?repo=metabase/metabase&commitHash=bd36030459f970cb97b6a5525757006e822704b2&utm_source=gh-comment&runConclusion=FAILURE)
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 8490 static embeddings should respect \`\#locale\` hash parameter (metabase\#8490, metabase\#50182)</code> | Unable to find an element with the text ""11월 2023"" after 4000ms, possibly due to broken text being split by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50739?repo=metabase/metabase&commitHash=bd36030459f970cb97b6a5525757006e822704b2&utm_source=gh-comment&runConclusion=FAILURE&runId=ca97eee4-7050-5ac4-ad91-cd417c7b443d) |
| <code>scenarios > filters > sql filters > field filter > Date when set as the default value for a required filter</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50739?repo=metabase/metabase&commitHash=bd36030459f970cb97b6a5525757006e822704b2&utm_source=gh-comment&runConclusion=FAILURE&runId=24b7af7f-d332-5cc0-aa52-bf49e7d9b16c) |
| <code>scenarios > filters > sql filters > field filter > Date when set through the filter widget</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50739?repo=metabase/metabase&commitHash=bd36030459f970cb97b6a5525757006e822704b2&utm_source=gh-comment&runConclusion=FAILURE&runId=dbce5762-8c02-582e-ae28-65c38bb2490a) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50739?repo=metabase/metabase&commitHash=bd36030459f970cb97b6a5525757006e822704b2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

kamilmielnik (Issue Creator) on (2024-12-12 13:06:00 UTC): The POC has served its purpose. Closing.
Feel free to reopen or restore the branch if necessary.

"
2712276907,pull_request,closed,,Make e2e tests of embedding and sql filters date-invariant,"This fixes an e2e test that was failing because November 2024 is now in the past. The test now does not assert which particular year appears in the x-axis. Note that this is a test of whether the year displays correctly when the locale is set to Korean, not a test that the user can control which specific year appears in the x-axis.

![image.png](https://graphite-user-uploaded-assets-prod.s3.amazonaws.com/utGnP2ljFMMNOgi82vVn/03b382b9-6cd8-4c21-abfa-d701efb98f53.png)

This PR also fixes an e2e test that was failing because May 24, 2022 is now more than 30 months ago.

",rafpaf,2024-12-02 15:10:35+00:00,['rafpaf'],2024-12-03 19:01:51+00:00,2024-12-03 04:20:04+00:00,https://github.com/metabase/metabase/pull/50737,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2511800420, 'issue_id': 2712276907, 'author': 'rafpaf', 'body': '* **#50737** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50737?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50737?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 12, 2, 15, 10, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2511910381, 'issue_id': 2712276907, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3364_tests-a603c0c6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50737?repo=metabase/metabase&commitHash=a603c0c634ddc88a34d12803e78013eaafae62e9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50737?repo=metabase/metabase&commitHash=a603c0c634ddc88a34d12803e78013eaafae62e9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50737?repo=metabase/metabase&commitHash=a603c0c634ddc88a34d12803e78013eaafae62e9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50737?repo=metabase/metabase&commitHash=a603c0c634ddc88a34d12803e78013eaafae62e9&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > filters > sql filters > field filter > Date when set as the default value for a required filter</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50737?repo=metabase/metabase&commitHash=a603c0c634ddc88a34d12803e78013eaafae62e9&utm_source=gh-comment&runConclusion=FAILURE&runId=b8e07d9e-a679-5a52-8618-806067862ed5) |\n| <code>scenarios > filters > sql filters > field filter > Date when set through the filter widget</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50737?repo=metabase/metabase&commitHash=a603c0c634ddc88a34d12803e78013eaafae62e9&utm_source=gh-comment&runConclusion=FAILURE&runId=c59e1d9d-c9f5-599b-9624-e5435e32769e) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50737?repo=metabase/metabase&commitHash=a603c0c634ddc88a34d12803e78013eaafae62e9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 2, 15, 53, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2513859821, 'issue_id': 2712276907, 'author': 'crisptrutski', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 12, 3, 8, 32, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2513861903, 'issue_id': 2712276907, 'author': 'github-actions[bot]', 'body': '@crisptrutski something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12135775524)', 'created_at': datetime.datetime(2024, 12, 3, 8, 33, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2515212733, 'issue_id': 2712276907, 'author': 'github-actions[bot]', 'body': '@crisptrutski something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12135775524)', 'created_at': datetime.datetime(2024, 12, 3, 17, 44, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2515358387, 'issue_id': 2712276907, 'author': 'github-actions[bot]', 'body': '🚀 This should also be released by [v0.52](https://github.com/metabase/metabase/milestone/283)', 'created_at': datetime.datetime(2024, 12, 3, 19, 1, 49, tzinfo=datetime.timezone.utc)}]","rafpaf (Issue Creator) on (2024-12-02 15:10:52 UTC): * **#50737** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50737?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50737?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`

<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2024-12-02 15:53:10 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3364_tests-a603c0c6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50737?repo=metabase/metabase&commitHash=a603c0c634ddc88a34d12803e78013eaafae62e9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50737?repo=metabase/metabase&commitHash=a603c0c634ddc88a34d12803e78013eaafae62e9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50737?repo=metabase/metabase&commitHash=a603c0c634ddc88a34d12803e78013eaafae62e9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50737?repo=metabase/metabase&commitHash=a603c0c634ddc88a34d12803e78013eaafae62e9&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > filters > sql filters > field filter > Date when set as the default value for a required filter</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50737?repo=metabase/metabase&commitHash=a603c0c634ddc88a34d12803e78013eaafae62e9&utm_source=gh-comment&runConclusion=FAILURE&runId=b8e07d9e-a679-5a52-8618-806067862ed5) |
| <code>scenarios > filters > sql filters > field filter > Date when set through the filter widget</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50737?repo=metabase/metabase&commitHash=a603c0c634ddc88a34d12803e78013eaafae62e9&utm_source=gh-comment&runConclusion=FAILURE&runId=c59e1d9d-c9f5-599b-9624-e5435e32769e) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50737?repo=metabase/metabase&commitHash=a603c0c634ddc88a34d12803e78013eaafae62e9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

crisptrutski on (2024-12-03 08:32:24 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-12-03 08:33:25 UTC): @crisptrutski something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12135775524)

github-actions[bot] on (2024-12-03 17:44:24 UTC): @crisptrutski something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12135775524)

github-actions[bot] on (2024-12-03 19:01:49 UTC): 🚀 This should also be released by [v0.52](https://github.com/metabase/metabase/milestone/283)

"
2711881750,pull_request,closed,,[Notification] insert and replace instead of truncate,"In https://github.com/metabase/metabase/pull/50127 we introduced truncate then insert mechanism for default notifications, as we're going to migrate pulse to notification this no longer viable.

So instead we're going to insert the first time, for subsequent startups: we'll check if the notification are changed and replace them if they are.

We do this by adding a `notification.internal_id` column for the default notifications, we'll use this key to ID them and hydrate all sub-resources to check for changes.",qnkhuat,2024-12-02 13:16:39+00:00,['qnkhuat'],2025-01-27 22:13:54+00:00,2024-12-10 12:14:35+00:00,https://github.com/metabase/metabase/pull/50735,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2511584743, 'issue_id': 2711881750, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/123916_tests-9403006a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50735?repo=metabase/metabase&commitHash=9403006a2ef53c64c07b88bf59d5fe8d9afb135c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50735?repo=metabase/metabase&commitHash=9403006a2ef53c64c07b88bf59d5fe8d9afb135c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50735?repo=metabase/metabase&commitHash=9403006a2ef53c64c07b88bf59d5fe8d9afb135c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50735?repo=metabase/metabase&commitHash=9403006a2ef53c64c07b88bf59d5fe8d9afb135c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50735?repo=metabase/metabase&commitHash=9403006a2ef53c64c07b88bf59d5fe8d9afb135c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 2, 13, 44, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2530941448, 'issue_id': 2711881750, 'author': 'qnkhuat', 'body': ""Thanks for the reviews! I forgot to mark this as WIP again :( but anw it's ready for reviews now if you want to take another look :D."", 'created_at': datetime.datetime(2024, 12, 10, 9, 19, 17, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-02 13:44:59 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/123916_tests-9403006a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50735?repo=metabase/metabase&commitHash=9403006a2ef53c64c07b88bf59d5fe8d9afb135c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50735?repo=metabase/metabase&commitHash=9403006a2ef53c64c07b88bf59d5fe8d9afb135c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50735?repo=metabase/metabase&commitHash=9403006a2ef53c64c07b88bf59d5fe8d9afb135c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50735?repo=metabase/metabase&commitHash=9403006a2ef53c64c07b88bf59d5fe8d9afb135c&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50735?repo=metabase/metabase&commitHash=9403006a2ef53c64c07b88bf59d5fe8d9afb135c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

qnkhuat (Issue Creator) on (2024-12-10 09:19:17 UTC): Thanks for the reviews! I forgot to mark this as WIP again :( but anw it's ready for reviews now if you want to take another look :D.

"
2711559033,pull_request,closed,,add file id to to the upload-file method,"Closes https://github.com/metabase/metabase/issues/50732

### Description

Debugger shows a button ""jump to debugger"". This stopped working after integrating bug reporting into metabase’s codebase, because debugger relies on a file id. This wasn’t being passed from the upload_file method. This PR fixes that while keeping the original functionality as it was.

### How to verify

You can press F1 to report a bug to slack and then click ""jump to debugger"" button.

- [x] Tests have been added/updated to cover changes in this PR
",filiphric,2024-12-02 11:20:38+00:00,['filiphric'],2024-12-04 11:03:02+00:00,2024-12-04 11:03:02+00:00,https://github.com/metabase/metabase/pull/50733,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2511309599, 'issue_id': 2711559033, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/121292_tests-73b9bb60-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50733?repo=metabase/metabase&commitHash=73b9bb607889e582a9b945a368c9dfe19cc2581a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50733?repo=metabase/metabase&commitHash=73b9bb607889e582a9b945a368c9dfe19cc2581a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50733?repo=metabase/metabase&commitHash=73b9bb607889e582a9b945a368c9dfe19cc2581a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50733?repo=metabase/metabase&commitHash=73b9bb607889e582a9b945a368c9dfe19cc2581a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 34330 should call the autocompleter when backspacing to a 1-character prefix(metabase\\#34330)</code> | The \\`cy.wait()\\` command timed out waiting for the first request to the route \'autocomplete\' and no request ever occurred. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50733?repo=metabase/metabase&commitHash=73b9bb607889e582a9b945a368c9dfe19cc2581a&utm_source=gh-comment&runConclusion=FAILURE&runId=ad2c823d-d4e3-5277-989d-ff689a377b57) |\n| <code>issue 34330 should only call the autocompleter with all text typed (metabase\\#34330)</code> | The expected value \'USER\\_\' did not match the actual value \'SER\\_\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50733?repo=metabase/metabase&commitHash=73b9bb607889e582a9b945a368c9dfe19cc2581a&utm_source=gh-comment&runConclusion=FAILURE&runId=43863162-215d-5db0-aed3-e9290f997da2) |\n| <code>issue 16914 should recover visualization settings after a failed query (metabase\\#16914)</code> | The expected content \'/hidden/i\' was not found within the element <aside.emotion-1mzrabc.emzg3k00> after 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50733?repo=metabase/metabase&commitHash=73b9bb607889e582a9b945a368c9dfe19cc2581a&utm_source=gh-comment&runConclusion=FAILURE&runId=5d7af780-89af-5c6b-ad8c-f60f9eebc1c9) |\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > waterfall scenarios > visualizations > waterfall settings should allow toggling of value labels</code> | The test timed out while trying to find an element with data-testid ""chart-container"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50733?repo=metabase/metabase&commitHash=73b9bb607889e582a9b945a368c9dfe19cc2581a&utm_source=gh-comment&runConclusion=FAILURE&runId=5294ad19-6591-53bc-b816-59ba6db6c036) |\n| <code>issue 8490 static embeddings should respect \\`\\#locale\\` hash parameter (metabase\\#8490, metabase\\#50182)</code> | Unable to find an element with the text ""11월 2023"" after 4000ms, possibly due to broken text being split by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50733?repo=metabase/metabase&commitHash=73b9bb607889e582a9b945a368c9dfe19cc2581a&utm_source=gh-comment&runConclusion=FAILURE&runId=0edc090e-4609-517c-8c2e-58b6920434ce) |\n| <code>scenarios > filters > sql filters > field filter > Date when set as the default value for a required filter</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50733?repo=metabase/metabase&commitHash=73b9bb607889e582a9b945a368c9dfe19cc2581a&utm_source=gh-comment&runConclusion=FAILURE&runId=90b02063-62bf-5c2d-9fe3-f966f4d7fb48) |\n| <code>scenarios > filters > sql filters > field filter > Date when set through the filter widget</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50733?repo=metabase/metabase&commitHash=73b9bb607889e582a9b945a368c9dfe19cc2581a&utm_source=gh-comment&runConclusion=FAILURE&runId=f1790420-b1c0-5ec1-9559-87eb1e73398e) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50733?repo=metabase/metabase&commitHash=73b9bb607889e582a9b945a368c9dfe19cc2581a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 2, 11, 43, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2516988563, 'issue_id': 2711559033, 'author': 'filiphric', 'body': 'closed in favor of https://github.com/metabase/metabase/pull/50856', 'created_at': datetime.datetime(2024, 12, 4, 11, 3, 2, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-02 11:43:19 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/121292_tests-73b9bb60-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50733?repo=metabase/metabase&commitHash=73b9bb607889e582a9b945a368c9dfe19cc2581a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50733?repo=metabase/metabase&commitHash=73b9bb607889e582a9b945a368c9dfe19cc2581a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50733?repo=metabase/metabase&commitHash=73b9bb607889e582a9b945a368c9dfe19cc2581a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50733?repo=metabase/metabase&commitHash=73b9bb607889e582a9b945a368c9dfe19cc2581a&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 34330 should call the autocompleter when backspacing to a 1-character prefix(metabase\#34330)</code> | The \`cy.wait()\` command timed out waiting for the first request to the route 'autocomplete' and no request ever occurred. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50733?repo=metabase/metabase&commitHash=73b9bb607889e582a9b945a368c9dfe19cc2581a&utm_source=gh-comment&runConclusion=FAILURE&runId=ad2c823d-d4e3-5277-989d-ff689a377b57) |
| <code>issue 34330 should only call the autocompleter with all text typed (metabase\#34330)</code> | The expected value 'USER\_' did not match the actual value 'SER\_'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50733?repo=metabase/metabase&commitHash=73b9bb607889e582a9b945a368c9dfe19cc2581a&utm_source=gh-comment&runConclusion=FAILURE&runId=43863162-215d-5db0-aed3-e9290f997da2) |
| <code>issue 16914 should recover visualization settings after a failed query (metabase\#16914)</code> | The expected content '/hidden/i' was not found within the element <aside.emotion-1mzrabc.emzg3k00> after 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50733?repo=metabase/metabase&commitHash=73b9bb607889e582a9b945a368c9dfe19cc2581a&utm_source=gh-comment&runConclusion=FAILURE&runId=5d7af780-89af-5c6b-ad8c-f60f9eebc1c9) |
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > waterfall scenarios > visualizations > waterfall settings should allow toggling of value labels</code> | The test timed out while trying to find an element with data-testid ""chart-container"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50733?repo=metabase/metabase&commitHash=73b9bb607889e582a9b945a368c9dfe19cc2581a&utm_source=gh-comment&runConclusion=FAILURE&runId=5294ad19-6591-53bc-b816-59ba6db6c036) |
| <code>issue 8490 static embeddings should respect \`\#locale\` hash parameter (metabase\#8490, metabase\#50182)</code> | Unable to find an element with the text ""11월 2023"" after 4000ms, possibly due to broken text being split by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50733?repo=metabase/metabase&commitHash=73b9bb607889e582a9b945a368c9dfe19cc2581a&utm_source=gh-comment&runConclusion=FAILURE&runId=0edc090e-4609-517c-8c2e-58b6920434ce) |
| <code>scenarios > filters > sql filters > field filter > Date when set as the default value for a required filter</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50733?repo=metabase/metabase&commitHash=73b9bb607889e582a9b945a368c9dfe19cc2581a&utm_source=gh-comment&runConclusion=FAILURE&runId=90b02063-62bf-5c2d-9fe3-f966f4d7fb48) |
| <code>scenarios > filters > sql filters > field filter > Date when set through the filter widget</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50733?repo=metabase/metabase&commitHash=73b9bb607889e582a9b945a368c9dfe19cc2581a&utm_source=gh-comment&runConclusion=FAILURE&runId=f1790420-b1c0-5ec1-9559-87eb1e73398e) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50733?repo=metabase/metabase&commitHash=73b9bb607889e582a9b945a368c9dfe19cc2581a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

filiphric (Issue Creator) on (2024-12-04 11:03:02 UTC): closed in favor of https://github.com/metabase/metabase/pull/50856

"
2711372021,pull_request,closed,,"backported ""Fix Quartz rescheduling with multiple triggers"" (#50707)",#50707 ,crisptrutski,2024-12-02 10:23:42+00:00,['crisptrutski'],2024-12-04 08:12:01+00:00,2024-12-04 08:12:00+00:00,https://github.com/metabase/metabase/pull/50730,"[('.Team/Workflows', 'aka BEC'), ('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2511175497, 'issue_id': 2711372021, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/22_tests-ca5f22eb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50730?repo=metabase/metabase&commitHash=ca5f22eba8bb477b557975c52e2236d100be257f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50730?repo=metabase/metabase&commitHash=ca5f22eba8bb477b557975c52e2236d100be257f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50730?repo=metabase/metabase&commitHash=ca5f22eba8bb477b557975c52e2236d100be257f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50730?repo=metabase/metabase&commitHash=ca5f22eba8bb477b557975c52e2236d100be257f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50730?repo=metabase/metabase&commitHash=ca5f22eba8bb477b557975c52e2236d100be257f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 2, 10, 41, 31, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-02 10:41:31 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/22_tests-ca5f22eb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50730?repo=metabase/metabase&commitHash=ca5f22eba8bb477b557975c52e2236d100be257f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50730?repo=metabase/metabase&commitHash=ca5f22eba8bb477b557975c52e2236d100be257f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50730?repo=metabase/metabase&commitHash=ca5f22eba8bb477b557975c52e2236d100be257f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50730?repo=metabase/metabase&commitHash=ca5f22eba8bb477b557975c52e2236d100be257f&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50730?repo=metabase/metabase&commitHash=ca5f22eba8bb477b557975c52e2236d100be257f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2711188127,pull_request,closed,,"🤖 backported ""Fix Quartz rescheduling with multiple triggers""",#50707,github-automation-metabase,2024-12-02 09:28:35+00:00,"['crisptrutski', 'github-automation-metabase']",2024-12-03 10:48:30+00:00,2024-12-03 10:48:29+00:00,https://github.com/metabase/metabase/pull/50729,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2511108525, 'issue_id': 2711188127, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/22_tests-1ab92fde-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50729?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50729?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50729?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50729?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50729?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 2, 10, 12, 56, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-02 10:12:56 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/22_tests-1ab92fde-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50729?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50729?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50729?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50729?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50729?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2711139941,pull_request,closed,,feat(sdk): support sql parameters in interactive questions,"Closes https://github.com/metabase/metabase/issues/50493

### Description

Adds the `initialSqlParameters` to interactive questions for feature parity with static questions.

### How to verify

- Render an interactive question with `initialSqlParameters`, using a SQL question for the question id
- The SQL parameters should be passed to the SQL question

### Demos

![CleanShot 2567-12-04 at 15 10 01@2x](https://github.com/user-attachments/assets/f12e51c4-6ea4-478d-aae9-ddf875a35821)

### Checklist

- [x] Tests have been added/updated to cover changes in this PR - E2E",heypoom,2024-12-02 09:07:14+00:00,['heypoom'],2024-12-09 17:36:34+00:00,2024-12-09 16:43:20+00:00,https://github.com/metabase/metabase/pull/50728,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2516504910, 'issue_id': 2711139941, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51059_tests-0a247401-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50728?repo=metabase/metabase&commitHash=0a2474019eddb171fb991ee1dd24e969bbeaa86e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50728?repo=metabase/metabase&commitHash=0a2474019eddb171fb991ee1dd24e969bbeaa86e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50728?repo=metabase/metabase&commitHash=0a2474019eddb171fb991ee1dd24e969bbeaa86e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50728?repo=metabase/metabase&commitHash=0a2474019eddb171fb991ee1dd24e969bbeaa86e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50728?repo=metabase/metabase&commitHash=0a2474019eddb171fb991ee1dd24e969bbeaa86e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 4, 8, 16, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2528660184, 'issue_id': 2711139941, 'author': 'heypoom', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 12, 9, 16, 43, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2528665597, 'issue_id': 2711139941, 'author': 'github-actions[bot]', 'body': '@heypoom something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12240209488)', 'created_at': datetime.datetime(2024, 12, 9, 16, 45, 1, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-04 08:16:13 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51059_tests-0a247401-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50728?repo=metabase/metabase&commitHash=0a2474019eddb171fb991ee1dd24e969bbeaa86e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50728?repo=metabase/metabase&commitHash=0a2474019eddb171fb991ee1dd24e969bbeaa86e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50728?repo=metabase/metabase&commitHash=0a2474019eddb171fb991ee1dd24e969bbeaa86e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50728?repo=metabase/metabase&commitHash=0a2474019eddb171fb991ee1dd24e969bbeaa86e&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50728?repo=metabase/metabase&commitHash=0a2474019eddb171fb991ee1dd24e969bbeaa86e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

heypoom (Issue Creator) on (2024-12-09 16:43:45 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-12-09 16:45:01 UTC): @heypoom something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12240209488)

"
2710548048,pull_request,closed,,"🤖 backported ""Deprecate alert and pulse apis""",#50453,github-automation-metabase,2024-12-02 05:33:34+00:00,"['qnkhuat', 'github-automation-metabase']",2024-12-05 04:28:46+00:00,2024-12-05 03:47:14+00:00,https://github.com/metabase/metabase/pull/50725,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2510663511, 'issue_id': 2710548048, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/123440_tests-e67ec0f9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50725?repo=metabase/metabase&commitHash=e67ec0f9da7e7b9b3401301d9b4c8e8ef9032c9a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50725?repo=metabase/metabase&commitHash=e67ec0f9da7e7b9b3401301d9b4c8e8ef9032c9a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50725?repo=metabase/metabase&commitHash=e67ec0f9da7e7b9b3401301d9b4c8e8ef9032c9a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50725?repo=metabase/metabase&commitHash=e67ec0f9da7e7b9b3401301d9b4c8e8ef9032c9a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50725?repo=metabase/metabase&commitHash=e67ec0f9da7e7b9b3401301d9b4c8e8ef9032c9a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 2, 6, 13, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2512723764, 'issue_id': 2710548048, 'author': 'heypoom', 'body': '(sorry, I clicked on ""update branch"" on the wrong backport PR 🙏🏻)', 'created_at': datetime.datetime(2024, 12, 2, 20, 22, 28, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-02 06:13:01 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/123440_tests-e67ec0f9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50725?repo=metabase/metabase&commitHash=e67ec0f9da7e7b9b3401301d9b4c8e8ef9032c9a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50725?repo=metabase/metabase&commitHash=e67ec0f9da7e7b9b3401301d9b4c8e8ef9032c9a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50725?repo=metabase/metabase&commitHash=e67ec0f9da7e7b9b3401301d9b4c8e8ef9032c9a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50725?repo=metabase/metabase&commitHash=e67ec0f9da7e7b9b3401301d9b4c8e8ef9032c9a&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50725?repo=metabase/metabase&commitHash=e67ec0f9da7e7b9b3401301d9b4c8e8ef9032c9a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

heypoom on (2024-12-02 20:22:28 UTC): (sorry, I clicked on ""update branch"" on the wrong backport PR 🙏🏻)

"
2710531429,pull_request,closed,,[Notification] Migrate alerts,"Tech doc: https://www.notion.so/metabase/Migrate-alert-to-notification-14b69354c901801789c6dc34eb12bdc5?pvs=4

Epic: https://github.com/metabase/metabase/issues/50766

Dry run script: https://gist.github.com/qnkhuat/7b0dd630839643d56d854195fc9202f3
I've tested against data from 20 instances that have the most pulse on stats and it's all working fine.",qnkhuat,2024-12-02 05:20:30+00:00,['qnkhuat'],2024-12-23 05:13:54+00:00,2024-12-23 03:43:49+00:00,https://github.com/metabase/metabase/pull/50724,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2510653004, 'issue_id': 2710531429, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/125555_tests-ee8383ae-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50724?repo=metabase/metabase&commitHash=ee8383ae06631e11ad449db83563ce52e75c0f13&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/570-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50724?repo=metabase/metabase&commitHash=ee8383ae06631e11ad449db83563ce52e75c0f13&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50724?repo=metabase/metabase&commitHash=ee8383ae06631e11ad449db83563ce52e75c0f13&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50724?repo=metabase/metabase&commitHash=ee8383ae06631e11ad449db83563ce52e75c0f13&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>create-simple-card-notification-test</code> | The schema is invalid. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50724?repo=metabase/metabase&commitHash=ee8383ae06631e11ad449db83563ce52e75c0f13&utm_source=gh-comment&runConclusion=FAILURE&runId=3809b5ec-4eca-51c9-a966-843e0132f76a) |\n| <code>slack-error-token-email-test</code> | Error publishing event: :malli.core/invalid-schema | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50724?repo=metabase/metabase&commitHash=ee8383ae06631e11ad449db83563ce52e75c0f13&utm_source=gh-comment&runConclusion=FAILURE&runId=e98260bc-9acc-51f6-8582-25de2283d244) |\n| <code>send-notification!\\*-test</code> | Expected notification payload for two recipients, but actual payload is empty. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50724?repo=metabase/metabase&commitHash=ee8383ae06631e11ad449db83563ce52e75c0f13&utm_source=gh-comment&runConclusion=FAILURE&runId=354dbf78-a24c-554e-b402-3f94d943ac6f) |\n| <code>alert-event-test</code> | Timed out while waiting for messages in the inbox | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50724?repo=metabase/metabase&commitHash=ee8383ae06631e11ad449db83563ce52e75c0f13&utm_source=gh-comment&runConclusion=FAILURE&runId=c8f9ae74-e57a-5529-ba56-4f0679b07fe3) |\n\n[... and 566 more](https://app.trunk.io/metabase/flaky-tests/pr/50724?repo=metabase/metabase&commitHash=ee8383ae06631e11ad449db83563ce52e75c0f13&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>add-join-alias-to-dashboard-card-visualization-settings-field-refs-test</code> | The expected result of the query did not match the actual result, with a difference in the structure of the returned data. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50724?repo=metabase/metabase&commitHash=ee8383ae06631e11ad449db83563ce52e75c0f13&utm_source=gh-comment&runConclusion=FAILURE&runId=7eef75e1-0724-5d5e-9392-6e57d9a080bc) |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50724?repo=metabase/metabase&commitHash=ee8383ae06631e11ad449db83563ce52e75c0f13&utm_source=gh-comment&runConclusion=FAILURE&runId=4e3efd14-0d71-5c1b-ba1c-1ed293578ee7) |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50724?repo=metabase/metabase&commitHash=ee8383ae06631e11ad449db83563ce52e75c0f13&utm_source=gh-comment&runConclusion=FAILURE&runId=674c368b-75af-5004-892c-d75d01260284) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50724?repo=metabase/metabase&commitHash=ee8383ae06631e11ad449db83563ce52e75c0f13&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 2, 6, 4, 32, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-02 06:04:32 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/125555_tests-ee8383ae-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50724?repo=metabase/metabase&commitHash=ee8383ae06631e11ad449db83563ce52e75c0f13&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/570-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50724?repo=metabase/metabase&commitHash=ee8383ae06631e11ad449db83563ce52e75c0f13&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50724?repo=metabase/metabase&commitHash=ee8383ae06631e11ad449db83563ce52e75c0f13&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50724?repo=metabase/metabase&commitHash=ee8383ae06631e11ad449db83563ce52e75c0f13&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>create-simple-card-notification-test</code> | The schema is invalid. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50724?repo=metabase/metabase&commitHash=ee8383ae06631e11ad449db83563ce52e75c0f13&utm_source=gh-comment&runConclusion=FAILURE&runId=3809b5ec-4eca-51c9-a966-843e0132f76a) |
| <code>slack-error-token-email-test</code> | Error publishing event: :malli.core/invalid-schema | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50724?repo=metabase/metabase&commitHash=ee8383ae06631e11ad449db83563ce52e75c0f13&utm_source=gh-comment&runConclusion=FAILURE&runId=e98260bc-9acc-51f6-8582-25de2283d244) |
| <code>send-notification!\*-test</code> | Expected notification payload for two recipients, but actual payload is empty. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50724?repo=metabase/metabase&commitHash=ee8383ae06631e11ad449db83563ce52e75c0f13&utm_source=gh-comment&runConclusion=FAILURE&runId=354dbf78-a24c-554e-b402-3f94d943ac6f) |
| <code>alert-event-test</code> | Timed out while waiting for messages in the inbox | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50724?repo=metabase/metabase&commitHash=ee8383ae06631e11ad449db83563ce52e75c0f13&utm_source=gh-comment&runConclusion=FAILURE&runId=c8f9ae74-e57a-5529-ba56-4f0679b07fe3) |

[... and 566 more](https://app.trunk.io/metabase/flaky-tests/pr/50724?repo=metabase/metabase&commitHash=ee8383ae06631e11ad449db83563ce52e75c0f13&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>add-join-alias-to-dashboard-card-visualization-settings-field-refs-test</code> | The expected result of the query did not match the actual result, with a difference in the structure of the returned data. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50724?repo=metabase/metabase&commitHash=ee8383ae06631e11ad449db83563ce52e75c0f13&utm_source=gh-comment&runConclusion=FAILURE&runId=7eef75e1-0724-5d5e-9392-6e57d9a080bc) |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50724?repo=metabase/metabase&commitHash=ee8383ae06631e11ad449db83563ce52e75c0f13&utm_source=gh-comment&runConclusion=FAILURE&runId=4e3efd14-0d71-5c1b-ba1c-1ed293578ee7) |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50724?repo=metabase/metabase&commitHash=ee8383ae06631e11ad449db83563ce52e75c0f13&utm_source=gh-comment&runConclusion=FAILURE&runId=674c368b-75af-5004-892c-d75d01260284) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50724?repo=metabase/metabase&commitHash=ee8383ae06631e11ad449db83563ce52e75c0f13&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2710389222,pull_request,closed,,Fix logging with conflict handlers,"Fixes https://github.com/metabase/metabase/issues/50721

Information:
https://github.com/seancorfield/depstar
https://github.com/seancorfield/build-uber-log4j2-handler

Gist is that log4j needs all of it's plugin files merged into one file. Lots of
`META-INF/org/apache/logging/log4j/core/config/plugins/Log4j2Plugins.dat` files become one.

In our jar currently it is 3247 bytes. In older good jars it is 28463 bytes.

Before:

```
❯ MB_JETTY_PORT=3006 java -jar before.jar
Warning: environ value /Users/dan/.sdkman/candidates/java/current for key :java-home has been overwritten with /Users/dan/.sdkman/candidates/java/21.0.2-tem
2024-12-02T03:58:45.591114Z main ERROR Unrecognized format specifier [d]
2024-12-02T03:58:45.592271Z main ERROR Unrecognized conversion specifier [d] starting at position 16 in conversion pattern.
2024-12-02T03:58:45.592893Z main ERROR Unrecognized format specifier [thread]
2024-12-02T03:58:45.592989Z main ERROR Unrecognized conversion specifier [thread] starting at position 25 in conversion pattern.
2024-12-02T03:58:45.593101Z main ERROR Unrecognized format specifier [level]
2024-12-02T03:58:45.593187Z main ERROR Unrecognized conversion specifier [level] starting at position 35 in conversion pattern.
2024-12-02T03:58:45.593291Z main ERROR Unrecognized format specifier [logger]
2024-12-02T03:58:45.593375Z main ERROR Unrecognized conversion specifier [logger] starting at position 47 in conversion pattern.
2024-12-02T03:58:45.593459Z main ERROR Unrecognized format specifier [msg]
2024-12-02T03:58:45.593541Z main ERROR Unrecognized conversion specifier [msg] starting at position 54 in conversion pattern.
2024-12-02T03:58:45.593628Z main ERROR Unrecognized format specifier [n]
2024-12-02T03:58:45.593710Z main ERROR Unrecognized conversion specifier [n] starting at position 56 in conversion pattern.
2024-12-02T03:58:45.603389Z main ERROR Reconfiguration failed: No configuration found for 'Default' at 'null' in 'null'
WARNING: infinite? already refers to: #'clojure.core/infinite? in namespace: kixi.stats.core, being replaced by: #'kixi.stats.math/infinite?

UPDATE SUMMARY
Run:                        436
Previously run:               0
Filtered out:                52
-------------------------------
Total change sets:          488

FILTERED CHANGE SETS SUMMARY
DBMS mismatch:               52
```

And now after:

```
❯ MB_JETTY_PORT=3007 java -jar after.jar
Warning: environ value /Users/dan/.sdkman/candidates/java/current for key :java-home has been overwritten with /Users/dan/.sdkman/candidates/java/21.0.2-tem
2024-12-01 21:58:49,892 INFO metabase.util :: Maximum memory available to JVM: 8.0 GB
2024-12-01 21:58:51,121 INFO util.encryption :: Saved credentials encryption is DISABLED for this Metabase instance. 🔓
 For more information, see https://metabase.com/docs/latest/operations-guide/encrypting-database-details-at-rest.html
2024-12-01 21:58:51,591 WARN db.env :: WARNING: Using Metabase with an H2 application database is not recommended for production deployments. For production deployments, we highly recommend using Postgres, MySQL, or MariaDB instead. If you decide to continue to use H2, please be sure to back up the database file regularly. For more information, see https://metabase.com/docs/latest/operations-guide/migrating-from-h2.html
WARNING: infinite? already refers to: #'clojure.core/infinite? in namespace: kixi.stats.core, being replaced by: #'kixi.stats.math/infinite?
2024-12-01 21:58:54,353 INFO driver.impl :: Registered abstract driver :sql  🚚
2024-12-01 21:58:54,375 INFO driver.impl :: Registered abstract driver :sql-jdbc (parents: [:sql]) 🚚
2024-12-01 21:58:54,379 INFO metabase.util :: Load driver :sql-jdbc took 7.3 ms
2024-12-01 21:58:54,379 INFO driver.impl :: Registered driver :h2 (parents: [:sql-jdbc]) 🚚
2024-12-01 21:58:54,525 INFO driver.impl :: Registered driver :mysql (parents: [:sql-jdbc]) 🚚
2024-12-01 21:58:54,543 INFO driver.impl :: Registered driver :postgres (parents: [:sql-jdbc]) 🚚
2024-12-01 21:58:54,642 INFO util.namespaces :: Loading namespace: metabase.notification.payload.impl.alert
2024-12-01 21:58:54,646 INFO util.namespaces :: Loading namespace: metabase.notification.payload.impl.dashboard-subscription
2024-12-01 21:58:54,648 INFO util.namespaces :: Loading namespace: metabase.notification.payload.impl.system-event
2024-12-01 21:58:54,655 INFO util.namespaces :: Loading namespace: metabase.channel.impl.email
2024-12-01 21:58:54,663 INFO util.namespaces :: Loading namespace: metabase.channel.impl.http
2024-12-01 21:58:54,667 INFO util.namespaces :: Loading namespace: metabase.channel.impl.slack
2024-12-01 21:58:55,520 INFO metabase.core ::
Metabase v0.52.1-SNAPSHOT (3e7a8a4)

Copyright © 2024 Metabase, Inc.

Metabase Enterprise Edition extensions are NOT PRESENT.
2024-12-01 21:58:55,522 INFO metabase.core :: Starting Metabase in STANDALONE mode
2024-12-01 21:58:55,550 INFO metabase.server :: Launching Embedded Jetty Webserver with config:
 {:port 3007}
```
",dpsutton,2024-12-02 04:02:38+00:00,['dpsutton'],2024-12-03 15:08:28+00:00,2024-12-03 15:08:26+00:00,https://github.com/metabase/metabase/pull/50723,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2510565743, 'issue_id': 2710389222, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/121666_tests-07ea4665-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50723?repo=metabase/metabase&commitHash=07ea46658aba1d294a1902fb31afa4e019ebde2d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50723?repo=metabase/metabase&commitHash=07ea46658aba1d294a1902fb31afa4e019ebde2d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/8-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50723?repo=metabase/metabase&commitHash=07ea46658aba1d294a1902fb31afa4e019ebde2d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50723?repo=metabase/metabase&commitHash=07ea46658aba1d294a1902fb31afa4e019ebde2d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 8490 static embeddings should respect \\`\\#locale\\` hash parameter (metabase\\#8490, metabase\\#50182)</code> | Unable to find an element with the text ""11월 2023"" after 4000ms, possibly due to broken text being split by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50723?repo=metabase/metabase&commitHash=07ea46658aba1d294a1902fb31afa4e019ebde2d&utm_source=gh-comment&runConclusion=FAILURE&runId=62711b6a-8842-5879-bb3d-5b7f73d2b60e) |\n| <code>scenarios > filters > sql filters > field filter > Date when set through the filter widget</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50723?repo=metabase/metabase&commitHash=07ea46658aba1d294a1902fb31afa4e019ebde2d&utm_source=gh-comment&runConclusion=FAILURE&runId=55a926bb-9e32-5e11-8599-df2c07f9ffc7) |\n| <code>scenarios > filters > sql filters > field filter > Date when set as the default value for a required filter</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50723?repo=metabase/metabase&commitHash=07ea46658aba1d294a1902fb31afa4e019ebde2d&utm_source=gh-comment&runConclusion=FAILURE&runId=4b11cb9b-9493-59d3-9277-e687c4793dbc) |\n| <code>scenarios > visualizations > waterfall scenarios > visualizations > waterfall settings should allow toggling of value labels</code> | The test timed out while trying to find an element with data-testid ""chart-container"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50723?repo=metabase/metabase&commitHash=07ea46658aba1d294a1902fb31afa4e019ebde2d&utm_source=gh-comment&runConclusion=FAILURE&runId=373f28b5-abd3-55bd-918d-6f08df649041) |\n\n[... and 4 more](https://app.trunk.io/metabase/flaky-tests/pr/50723?repo=metabase/metabase&commitHash=07ea46658aba1d294a1902fb31afa4e019ebde2d&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50723?repo=metabase/metabase&commitHash=07ea46658aba1d294a1902fb31afa4e019ebde2d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 2, 4, 41, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2510565748, 'issue_id': 2710389222, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/107841_tests-78c9711e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50723?repo=metabase/metabase&commitHash=78c9711ec05714cb4f6cf7380b45d6d805c1e0f2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50723?repo=metabase/metabase&commitHash=78c9711ec05714cb4f6cf7380b45d6d805c1e0f2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50723?repo=metabase/metabase&commitHash=78c9711ec05714cb4f6cf7380b45d6d805c1e0f2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50723?repo=metabase/metabase&commitHash=78c9711ec05714cb4f6cf7380b45d6d805c1e0f2&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 8490 static embeddings should respect \\`\\#locale\\` hash parameter (metabase\\#8490, metabase\\#50182)</code> | Unable to find an element with the text ""11월 2023"" after 4000ms, possibly due to broken text being split by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50723?repo=metabase/metabase&commitHash=78c9711ec05714cb4f6cf7380b45d6d805c1e0f2&utm_source=gh-comment&runConclusion=FAILURE&runId=5e814857-24cc-5969-b10c-19bdda7b5529) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50723?repo=metabase/metabase&commitHash=78c9711ec05714cb4f6cf7380b45d6d805c1e0f2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 2, 4, 41, 9, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-02 04:41:09 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/121666_tests-07ea4665-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50723?repo=metabase/metabase&commitHash=07ea46658aba1d294a1902fb31afa4e019ebde2d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50723?repo=metabase/metabase&commitHash=07ea46658aba1d294a1902fb31afa4e019ebde2d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/8-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50723?repo=metabase/metabase&commitHash=07ea46658aba1d294a1902fb31afa4e019ebde2d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50723?repo=metabase/metabase&commitHash=07ea46658aba1d294a1902fb31afa4e019ebde2d&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 8490 static embeddings should respect \`\#locale\` hash parameter (metabase\#8490, metabase\#50182)</code> | Unable to find an element with the text ""11월 2023"" after 4000ms, possibly due to broken text being split by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50723?repo=metabase/metabase&commitHash=07ea46658aba1d294a1902fb31afa4e019ebde2d&utm_source=gh-comment&runConclusion=FAILURE&runId=62711b6a-8842-5879-bb3d-5b7f73d2b60e) |
| <code>scenarios > filters > sql filters > field filter > Date when set through the filter widget</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50723?repo=metabase/metabase&commitHash=07ea46658aba1d294a1902fb31afa4e019ebde2d&utm_source=gh-comment&runConclusion=FAILURE&runId=55a926bb-9e32-5e11-8599-df2c07f9ffc7) |
| <code>scenarios > filters > sql filters > field filter > Date when set as the default value for a required filter</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50723?repo=metabase/metabase&commitHash=07ea46658aba1d294a1902fb31afa4e019ebde2d&utm_source=gh-comment&runConclusion=FAILURE&runId=4b11cb9b-9493-59d3-9277-e687c4793dbc) |
| <code>scenarios > visualizations > waterfall scenarios > visualizations > waterfall settings should allow toggling of value labels</code> | The test timed out while trying to find an element with data-testid ""chart-container"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50723?repo=metabase/metabase&commitHash=07ea46658aba1d294a1902fb31afa4e019ebde2d&utm_source=gh-comment&runConclusion=FAILURE&runId=373f28b5-abd3-55bd-918d-6f08df649041) |

[... and 4 more](https://app.trunk.io/metabase/flaky-tests/pr/50723?repo=metabase/metabase&commitHash=07ea46658aba1d294a1902fb31afa4e019ebde2d&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50723?repo=metabase/metabase&commitHash=07ea46658aba1d294a1902fb31afa4e019ebde2d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-12-02 04:41:09 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/107841_tests-78c9711e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50723?repo=metabase/metabase&commitHash=78c9711ec05714cb4f6cf7380b45d6d805c1e0f2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50723?repo=metabase/metabase&commitHash=78c9711ec05714cb4f6cf7380b45d6d805c1e0f2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50723?repo=metabase/metabase&commitHash=78c9711ec05714cb4f6cf7380b45d6d805c1e0f2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50723?repo=metabase/metabase&commitHash=78c9711ec05714cb4f6cf7380b45d6d805c1e0f2&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 8490 static embeddings should respect \`\#locale\` hash parameter (metabase\#8490, metabase\#50182)</code> | Unable to find an element with the text ""11월 2023"" after 4000ms, possibly due to broken text being split by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50723?repo=metabase/metabase&commitHash=78c9711ec05714cb4f6cf7380b45d6d805c1e0f2&utm_source=gh-comment&runConclusion=FAILURE&runId=5e814857-24cc-5969-b10c-19bdda7b5529) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50723?repo=metabase/metabase&commitHash=78c9711ec05714cb4f6cf7380b45d6d805c1e0f2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2707891033,pull_request,closed,,"🤖 backported ""Fix NPE on search model calculation, and improve testing story""",#50717,github-automation-metabase,2024-11-30 19:25:48+00:00,"['crisptrutski', 'github-automation-metabase']",2024-11-30 21:11:25+00:00,2024-11-30 20:31:52+00:00,https://github.com/metabase/metabase/pull/50719,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2509188725, 'issue_id': 2707891033, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/121588_tests-53fe46f4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > waterfall scenarios > visualizations > waterfall settings should allow toggling of the total bar</code> | The test timed out while trying to find an element with data-testid ""chart-container"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment&runConclusion=FAILURE&runId=faafb0e8-212d-5c57-bfcb-916cc720553d) |\n| <code>scenarios > public > question should be able to view public questions with card template tags</code> | The element with data-testid \'cell-data\' was not found within 4000ms, causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment&runConclusion=FAILURE&runId=a954f9df-dbc8-5f69-8ed8-8936298eccd4) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 30, 20, 11, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2509188726, 'issue_id': 2707891033, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120969_tests-53fe46f4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > waterfall scenarios > visualizations > waterfall settings should allow toggling of the total bar</code> | The test timed out while trying to find an element with data-testid ""chart-container"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment&runConclusion=FAILURE&runId=faafb0e8-212d-5c57-bfcb-916cc720553d) |\n| <code>scenarios > public > question should be able to view public questions with card template tags</code> | The element with data-testid \'cell-data\' was not found within 4000ms, causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment&runConclusion=FAILURE&runId=a954f9df-dbc8-5f69-8ed8-8936298eccd4) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 30, 20, 11, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2509188727, 'issue_id': 2707891033, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120969_tests-53fe46f4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > waterfall scenarios > visualizations > waterfall settings should allow toggling of the total bar</code> | The test timed out while trying to find an element with data-testid ""chart-container"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment&runConclusion=FAILURE&runId=faafb0e8-212d-5c57-bfcb-916cc720553d) |\n| <code>scenarios > public > question should be able to view public questions with card template tags</code> | The element with data-testid \'cell-data\' was not found within 4000ms, causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment&runConclusion=FAILURE&runId=a954f9df-dbc8-5f69-8ed8-8936298eccd4) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 30, 20, 11, 38, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-30 20:11:38 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/121588_tests-53fe46f4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > waterfall scenarios > visualizations > waterfall settings should allow toggling of the total bar</code> | The test timed out while trying to find an element with data-testid ""chart-container"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment&runConclusion=FAILURE&runId=faafb0e8-212d-5c57-bfcb-916cc720553d) |
| <code>scenarios > public > question should be able to view public questions with card template tags</code> | The element with data-testid 'cell-data' was not found within 4000ms, causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment&runConclusion=FAILURE&runId=a954f9df-dbc8-5f69-8ed8-8936298eccd4) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-30 20:11:38 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120969_tests-53fe46f4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > waterfall scenarios > visualizations > waterfall settings should allow toggling of the total bar</code> | The test timed out while trying to find an element with data-testid ""chart-container"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment&runConclusion=FAILURE&runId=faafb0e8-212d-5c57-bfcb-916cc720553d) |
| <code>scenarios > public > question should be able to view public questions with card template tags</code> | The element with data-testid 'cell-data' was not found within 4000ms, causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment&runConclusion=FAILURE&runId=a954f9df-dbc8-5f69-8ed8-8936298eccd4) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-30 20:11:38 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120969_tests-53fe46f4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > waterfall scenarios > visualizations > waterfall settings should allow toggling of the total bar</code> | The test timed out while trying to find an element with data-testid ""chart-container"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment&runConclusion=FAILURE&runId=faafb0e8-212d-5c57-bfcb-916cc720553d) |
| <code>scenarios > public > question should be able to view public questions with card template tags</code> | The element with data-testid 'cell-data' was not found within 4000ms, causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment&runConclusion=FAILURE&runId=a954f9df-dbc8-5f69-8ed8-8936298eccd4) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50719?repo=metabase/metabase&commitHash=53fe46f4f88f5be7c084a388deca4c4f6cf87118&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2707189722,pull_request,closed,,"Fix NPE on search model calculation, and improve testing story","Since we are going to ship with ""classic"" search in the final 52, our integration tests are still using that variant.

This allowed a NPE to slip through recently in the Friday build, breaking stats and the nightly beta.

As a stop-gap I've switched over some of the relevant API tests to loop over both engine flavors, but we still need more comprehensive solution.

Backlog item for migrating the test suite is here: https://github.com/metabase/metabase/issues/50261",crisptrutski,2024-11-30 10:48:03+00:00,['crisptrutski'],2024-11-30 20:32:17+00:00,2024-11-30 19:24:56+00:00,https://github.com/metabase/metabase/pull/50717,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2508925373, 'issue_id': 2707189722, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/121292_tests-dd149b74-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50717?repo=metabase/metabase&commitHash=dd149b74e714447536c9fc52862330050d635cd5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50717?repo=metabase/metabase&commitHash=dd149b74e714447536c9fc52862330050d635cd5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50717?repo=metabase/metabase&commitHash=dd149b74e714447536c9fc52862330050d635cd5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50717?repo=metabase/metabase&commitHash=dd149b74e714447536c9fc52862330050d635cd5&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50717?repo=metabase/metabase&commitHash=dd149b74e714447536c9fc52862330050d635cd5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 30, 11, 11, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2508925374, 'issue_id': 2707189722, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/35298_tests-55f4ea22-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50717?repo=metabase/metabase&commitHash=55f4ea22e114ccb4ffc94bd6479515373c6c7faa&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50717?repo=metabase/metabase&commitHash=55f4ea22e114ccb4ffc94bd6479515373c6c7faa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50717?repo=metabase/metabase&commitHash=55f4ea22e114ccb4ffc94bd6479515373c6c7faa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50717?repo=metabase/metabase&commitHash=55f4ea22e114ccb4ffc94bd6479515373c6c7faa&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50717?repo=metabase/metabase&commitHash=55f4ea22e114ccb4ffc94bd6479515373c6c7faa&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 30, 11, 11, 2, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-30 11:11:01 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/121292_tests-dd149b74-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50717?repo=metabase/metabase&commitHash=dd149b74e714447536c9fc52862330050d635cd5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50717?repo=metabase/metabase&commitHash=dd149b74e714447536c9fc52862330050d635cd5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50717?repo=metabase/metabase&commitHash=dd149b74e714447536c9fc52862330050d635cd5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50717?repo=metabase/metabase&commitHash=dd149b74e714447536c9fc52862330050d635cd5&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50717?repo=metabase/metabase&commitHash=dd149b74e714447536c9fc52862330050d635cd5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-30 11:11:02 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/35298_tests-55f4ea22-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50717?repo=metabase/metabase&commitHash=55f4ea22e114ccb4ffc94bd6479515373c6c7faa&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50717?repo=metabase/metabase&commitHash=55f4ea22e114ccb4ffc94bd6479515373c6c7faa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50717?repo=metabase/metabase&commitHash=55f4ea22e114ccb4ffc94bd6479515373c6c7faa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50717?repo=metabase/metabase&commitHash=55f4ea22e114ccb4ffc94bd6479515373c6c7faa&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50717?repo=metabase/metabase&commitHash=55f4ea22e114ccb4ffc94bd6479515373c6c7faa&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2706604445,pull_request,closed,,"🤖 backported ""fix loki-update label is not removed after the job""",#50607,github-automation-metabase,2024-11-30 04:11:44+00:00,"['alxnddr', 'github-automation-metabase']",2024-11-30 04:44:31+00:00,2024-11-30 04:27:47+00:00,https://github.com/metabase/metabase/pull/50716,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2508827848, 'issue_id': 2706604445, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/22_tests-1ab92fde-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50716?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50716?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50716?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50716?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50716?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 30, 4, 43, 14, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-30 04:43:14 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/22_tests-1ab92fde-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50716?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50716?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50716?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50716?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50716?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2706589042,pull_request,closed,,fix narrow ordinal line charts have no tooltip,"Closes https://github.com/metabase/metabase/issues/47847

### Description

Fixes line charts with ordinal x-axis when narrow do not have tooltips. This is because by default ECharts hide circles on narrow categorical line charts and tooltips are shown by hovering on a circle. This [setting](https://echarts.apache.org/en/option.html#series-line.showAllSymbol) enables always rendering all symbols.

### How to verify

- New Orders: Count by Created At (Day)
- Change x-axis type to Ordinal
- Make it narrow
- Ensure hovering on the line shows the tooltip

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",alxnddr,2024-11-30 03:38:59+00:00,['alxnddr'],2024-12-03 17:02:03+00:00,2024-12-03 17:02:01+00:00,https://github.com/metabase/metabase/pull/50715,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2508821021, 'issue_id': 2706589042, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/50639_tests-6fa46d6e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50715?repo=metabase/metabase&commitHash=6fa46d6efa97e6bf12f6e228a65e295298060e75&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50715?repo=metabase/metabase&commitHash=6fa46d6efa97e6bf12f6e228a65e295298060e75&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50715?repo=metabase/metabase&commitHash=6fa46d6efa97e6bf12f6e228a65e295298060e75&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50715?repo=metabase/metabase&commitHash=6fa46d6efa97e6bf12f6e228a65e295298060e75&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 8490 static embeddings should respect \\`\\#locale\\` hash parameter (metabase\\#8490, metabase\\#50182)</code> | Unable to find an element with the text ""11월 2023"" after 4000ms, possibly due to broken text being split by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50715?repo=metabase/metabase&commitHash=6fa46d6efa97e6bf12f6e228a65e295298060e75&utm_source=gh-comment&runConclusion=FAILURE&runId=885e9ed7-77ab-5237-8239-a545214d0667) |\n| <code>scenarios > question > native displays an error when running selected text</code> | The test timed out waiting for the expected content \'Table ""ORD"" not found\' in the response. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50715?repo=metabase/metabase&commitHash=6fa46d6efa97e6bf12f6e228a65e295298060e75&utm_source=gh-comment&runConclusion=FAILURE&runId=10b74c44-8350-5656-a826-2a9d448dfb03) |\n| <code>scenarios > filters > sql filters > field filter > Date when set as the default value for a required filter</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50715?repo=metabase/metabase&commitHash=6fa46d6efa97e6bf12f6e228a65e295298060e75&utm_source=gh-comment&runConclusion=FAILURE&runId=bd14ca46-9195-553e-ab0e-4e1139791e07) |\n| <code>scenarios > filters > sql filters > field filter > Date when set through the filter widget</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50715?repo=metabase/metabase&commitHash=6fa46d6efa97e6bf12f6e228a65e295298060e75&utm_source=gh-comment&runConclusion=FAILURE&runId=682b3419-d694-5c43-8085-1c5caac3e688) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50715?repo=metabase/metabase&commitHash=6fa46d6efa97e6bf12f6e228a65e295298060e75&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 30, 4, 12, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2508821022, 'issue_id': 2706589042, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/11085_tests-ef3afcdf-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50715?repo=metabase/metabase&commitHash=ef3afcdf410e8b7a070b0a048a12d53a3ff0727c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50715?repo=metabase/metabase&commitHash=ef3afcdf410e8b7a070b0a048a12d53a3ff0727c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50715?repo=metabase/metabase&commitHash=ef3afcdf410e8b7a070b0a048a12d53a3ff0727c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50715?repo=metabase/metabase&commitHash=ef3afcdf410e8b7a070b0a048a12d53a3ff0727c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50715?repo=metabase/metabase&commitHash=ef3afcdf410e8b7a070b0a048a12d53a3ff0727c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 30, 4, 12, 17, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-30 04:12:17 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/50639_tests-6fa46d6e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50715?repo=metabase/metabase&commitHash=6fa46d6efa97e6bf12f6e228a65e295298060e75&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50715?repo=metabase/metabase&commitHash=6fa46d6efa97e6bf12f6e228a65e295298060e75&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50715?repo=metabase/metabase&commitHash=6fa46d6efa97e6bf12f6e228a65e295298060e75&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50715?repo=metabase/metabase&commitHash=6fa46d6efa97e6bf12f6e228a65e295298060e75&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 8490 static embeddings should respect \`\#locale\` hash parameter (metabase\#8490, metabase\#50182)</code> | Unable to find an element with the text ""11월 2023"" after 4000ms, possibly due to broken text being split by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50715?repo=metabase/metabase&commitHash=6fa46d6efa97e6bf12f6e228a65e295298060e75&utm_source=gh-comment&runConclusion=FAILURE&runId=885e9ed7-77ab-5237-8239-a545214d0667) |
| <code>scenarios > question > native displays an error when running selected text</code> | The test timed out waiting for the expected content 'Table ""ORD"" not found' in the response. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50715?repo=metabase/metabase&commitHash=6fa46d6efa97e6bf12f6e228a65e295298060e75&utm_source=gh-comment&runConclusion=FAILURE&runId=10b74c44-8350-5656-a826-2a9d448dfb03) |
| <code>scenarios > filters > sql filters > field filter > Date when set as the default value for a required filter</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50715?repo=metabase/metabase&commitHash=6fa46d6efa97e6bf12f6e228a65e295298060e75&utm_source=gh-comment&runConclusion=FAILURE&runId=bd14ca46-9195-553e-ab0e-4e1139791e07) |
| <code>scenarios > filters > sql filters > field filter > Date when set through the filter widget</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50715?repo=metabase/metabase&commitHash=6fa46d6efa97e6bf12f6e228a65e295298060e75&utm_source=gh-comment&runConclusion=FAILURE&runId=682b3419-d694-5c43-8085-1c5caac3e688) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50715?repo=metabase/metabase&commitHash=6fa46d6efa97e6bf12f6e228a65e295298060e75&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-30 04:12:17 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/11085_tests-ef3afcdf-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50715?repo=metabase/metabase&commitHash=ef3afcdf410e8b7a070b0a048a12d53a3ff0727c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50715?repo=metabase/metabase&commitHash=ef3afcdf410e8b7a070b0a048a12d53a3ff0727c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50715?repo=metabase/metabase&commitHash=ef3afcdf410e8b7a070b0a048a12d53a3ff0727c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50715?repo=metabase/metabase&commitHash=ef3afcdf410e8b7a070b0a048a12d53a3ff0727c&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50715?repo=metabase/metabase&commitHash=ef3afcdf410e8b7a070b0a048a12d53a3ff0727c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2706480161,pull_request,closed,,"🤖 backported ""Include in-page promo banner in embedding docs pages""",#50359,github-automation-metabase,2024-11-30 01:41:00+00:00,"['alexyarosh', 'github-automation-metabase']",2024-11-30 02:13:40+00:00,2024-11-30 01:42:37+00:00,https://github.com/metabase/metabase/pull/50714,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2508789793, 'issue_id': 2706480161, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/22_tests-1ab92fde-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50714?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50714?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50714?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50714?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50714?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 30, 2, 13, 39, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-30 02:13:39 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/22_tests-1ab92fde-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50714?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50714?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50714?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50714?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50714?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2706425406,pull_request,closed,,Show /api/search errors in Browse models and Browse metrics,"### Description

On master, if /api/search returns an error, the Browse models and Browse metrics pages will both show ""No models/metrics found"" rather than an error message.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",rafpaf,2024-11-30 00:09:36+00:00,['rafpaf'],2024-12-06 16:40:32+00:00,2024-12-04 05:00:52+00:00,https://github.com/metabase/metabase/pull/50713,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2508746082, 'issue_id': 2706425406, 'author': 'rafpaf', 'body': '* **#50713** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50713?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50713?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 11, 30, 0, 9, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2508770344, 'issue_id': 2706425406, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13155_tests-7b7bd4b5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50713?repo=metabase/metabase&commitHash=7b7bd4b522a76dafd4c036b2efe2ad433b62e071&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50713?repo=metabase/metabase&commitHash=7b7bd4b522a76dafd4c036b2efe2ad433b62e071&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50713?repo=metabase/metabase&commitHash=7b7bd4b522a76dafd4c036b2efe2ad433b62e071&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50713?repo=metabase/metabase&commitHash=7b7bd4b522a76dafd4c036b2efe2ad433b62e071&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50713?repo=metabase/metabase&commitHash=7b7bd4b522a76dafd4c036b2efe2ad433b62e071&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 30, 1, 11, 47, tzinfo=datetime.timezone.utc)}]","rafpaf (Issue Creator) on (2024-11-30 00:09:52 UTC): * **#50713** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50713?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50713?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`

<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2024-11-30 01:11:47 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13155_tests-7b7bd4b5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50713?repo=metabase/metabase&commitHash=7b7bd4b522a76dafd4c036b2efe2ad433b62e071&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50713?repo=metabase/metabase&commitHash=7b7bd4b522a76dafd4c036b2efe2ad433b62e071&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50713?repo=metabase/metabase&commitHash=7b7bd4b522a76dafd4c036b2efe2ad433b62e071&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50713?repo=metabase/metabase&commitHash=7b7bd4b522a76dafd4c036b2efe2ad433b62e071&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50713?repo=metabase/metabase&commitHash=7b7bd4b522a76dafd4c036b2efe2ad433b62e071&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2706167255,pull_request,closed,,"🤖 backported ""Migrate Slack channel picker field to use mantine autocomplete""",#50661,github-automation-metabase,2024-11-29 21:21:00+00:00,"['deniskaber', 'github-automation-metabase']",2024-11-29 22:44:09+00:00,2024-11-29 22:03:27+00:00,https://github.com/metabase/metabase/pull/50711,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2508700992, 'issue_id': 2706167255, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13150_tests-b0146b69-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50711?repo=metabase/metabase&commitHash=b0146b697b42f5d3a8587fe385a6ef5979fa6447&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50711?repo=metabase/metabase&commitHash=b0146b697b42f5d3a8587fe385a6ef5979fa6447&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50711?repo=metabase/metabase&commitHash=b0146b697b42f5d3a8587fe385a6ef5979fa6447&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50711?repo=metabase/metabase&commitHash=b0146b697b42f5d3a8587fe385a6ef5979fa6447&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50711?repo=metabase/metabase&commitHash=b0146b697b42f5d3a8587fe385a6ef5979fa6447&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 29, 22, 13, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-29 22:13:00 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13150_tests-b0146b69-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50711?repo=metabase/metabase&commitHash=b0146b697b42f5d3a8587fe385a6ef5979fa6447&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50711?repo=metabase/metabase&commitHash=b0146b697b42f5d3a8587fe385a6ef5979fa6447&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50711?repo=metabase/metabase&commitHash=b0146b697b42f5d3a8587fe385a6ef5979fa6447&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50711?repo=metabase/metabase&commitHash=b0146b697b42f5d3a8587fe385a6ef5979fa6447&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50711?repo=metabase/metabase&commitHash=b0146b697b42f5d3a8587fe385a6ef5979fa6447&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2706164031,pull_request,closed,,Partially fix flaky native e2e tests,"Uses `realType` and `realPress` which are much less flaky. Still, it doesn't pass stress test; but the previous implementation fails 10-20x more often.

- native https://github.com/metabase/metabase/actions/runs/12092518185
- native reproductions https://github.com/metabase/metabase/actions/runs/12092522549

",ranquild,2024-11-29 21:17:43+00:00,['ranquild'],2024-12-03 19:01:10+00:00,2024-12-02 17:22:00+00:00,https://github.com/metabase/metabase/pull/50710,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2508687845, 'issue_id': 2706164031, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3644_tests-e8e83af6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50710?repo=metabase/metabase&commitHash=e8e83af6168b0531ea413275eabddf6f62133245&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50710?repo=metabase/metabase&commitHash=e8e83af6168b0531ea413275eabddf6f62133245&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50710?repo=metabase/metabase&commitHash=e8e83af6168b0531ea413275eabddf6f62133245&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50710?repo=metabase/metabase&commitHash=e8e83af6168b0531ea413275eabddf6f62133245&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 30039 should not trigger object detail navigation after the modal was closed (metabase\\#30039)</code> | The test timed out while trying to find an element with data-testid ""detail-shortcut"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50710?repo=metabase/metabase&commitHash=e8e83af6168b0531ea413275eabddf6f62133245&utm_source=gh-comment&runConclusion=FAILURE&runId=1d87ba50-0906-53e2-a85f-52737a6da5d2) |\n| <code>issue 30039 should not trigger object detail navigation after the modal was closed (metabase\\#30039)</code> | The test timed out while trying to find an element with data-testid ""detail-shortcut"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50710?repo=metabase/metabase&commitHash=e8e83af6168b0531ea413275eabddf6f62133245&utm_source=gh-comment&runConclusion=FAILURE&runId=41bbaa91-33e9-53d8-9355-597ef50a2522) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50710?repo=metabase/metabase&commitHash=e8e83af6168b0531ea413275eabddf6f62133245&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 29, 21, 47, 6, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-29 21:47:06 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3644_tests-e8e83af6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50710?repo=metabase/metabase&commitHash=e8e83af6168b0531ea413275eabddf6f62133245&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50710?repo=metabase/metabase&commitHash=e8e83af6168b0531ea413275eabddf6f62133245&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50710?repo=metabase/metabase&commitHash=e8e83af6168b0531ea413275eabddf6f62133245&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50710?repo=metabase/metabase&commitHash=e8e83af6168b0531ea413275eabddf6f62133245&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 30039 should not trigger object detail navigation after the modal was closed (metabase\#30039)</code> | The test timed out while trying to find an element with data-testid ""detail-shortcut"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50710?repo=metabase/metabase&commitHash=e8e83af6168b0531ea413275eabddf6f62133245&utm_source=gh-comment&runConclusion=FAILURE&runId=1d87ba50-0906-53e2-a85f-52737a6da5d2) |
| <code>issue 30039 should not trigger object detail navigation after the modal was closed (metabase\#30039)</code> | The test timed out while trying to find an element with data-testid ""detail-shortcut"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50710?repo=metabase/metabase&commitHash=e8e83af6168b0531ea413275eabddf6f62133245&utm_source=gh-comment&runConclusion=FAILURE&runId=41bbaa91-33e9-53d8-9355-597ef50a2522) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50710?repo=metabase/metabase&commitHash=e8e83af6168b0531ea413275eabddf6f62133245&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2706116959,pull_request,closed,,"🤖 backported ""Cache static assets without hash length restriction""",#50703,github-automation-metabase,2024-11-29 20:36:18+00:00,"['paoliniluis', 'github-automation-metabase']",2024-12-03 09:53:19+00:00,2024-12-03 09:53:18+00:00,https://github.com/metabase/metabase/pull/50709,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2508669441, 'issue_id': 2706116959, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/121783_tests-c088ca09-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50709?repo=metabase/metabase&commitHash=c088ca092b3491503cdba49f745f35f21ad5f174&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50709?repo=metabase/metabase&commitHash=c088ca092b3491503cdba49f745f35f21ad5f174&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/8-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50709?repo=metabase/metabase&commitHash=c088ca092b3491503cdba49f745f35f21ad5f174&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50709?repo=metabase/metabase&commitHash=c088ca092b3491503cdba49f745f35f21ad5f174&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 8490 static embeddings should respect \\`\\#locale\\` hash parameter (metabase\\#8490, metabase\\#50182)</code> | Unable to find an element with the text ""11월 2023"" after 4000ms, possibly due to broken text being split by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50709?repo=metabase/metabase&commitHash=c088ca092b3491503cdba49f745f35f21ad5f174&utm_source=gh-comment&runConclusion=FAILURE&runId=01bd7528-2616-5be3-8722-3ecce02f2e00) |\n| <code>issue 8490 static embeddings should respect \\`\\#locale\\` hash parameter (metabase\\#8490, metabase\\#50182)</code> | Unable to find an element with the text ""11월 2023"" after 4000ms, possibly due to broken text being split by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50709?repo=metabase/metabase&commitHash=c088ca092b3491503cdba49f745f35f21ad5f174&utm_source=gh-comment&runConclusion=FAILURE&runId=6ef659ad-5378-56ec-9b97-388c4746bd0d) |\n| <code>issue 8490 static embeddings should respect \\`\\#locale\\` hash parameter (metabase\\#8490, metabase\\#50182)</code> | Unable to find an element with the text ""11월 2023"" after 4000ms, possibly due to broken text being split by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50709?repo=metabase/metabase&commitHash=c088ca092b3491503cdba49f745f35f21ad5f174&utm_source=gh-comment&runConclusion=FAILURE&runId=2ca8b0ae-f627-5056-8ffa-bf4156e0182a) |\n| <code>scenarios > filters > sql filters > field filter > Date when set as the default value for a required filter</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50709?repo=metabase/metabase&commitHash=c088ca092b3491503cdba49f745f35f21ad5f174&utm_source=gh-comment&runConclusion=FAILURE&runId=b314c2ab-87e8-51e9-a17a-52537785653e) |\n\n[... and 4 more](https://app.trunk.io/metabase/flaky-tests/pr/50709?repo=metabase/metabase&commitHash=c088ca092b3491503cdba49f745f35f21ad5f174&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50709?repo=metabase/metabase&commitHash=c088ca092b3491503cdba49f745f35f21ad5f174&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 29, 21, 14, 22, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-29 21:14:22 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/121783_tests-c088ca09-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50709?repo=metabase/metabase&commitHash=c088ca092b3491503cdba49f745f35f21ad5f174&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50709?repo=metabase/metabase&commitHash=c088ca092b3491503cdba49f745f35f21ad5f174&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/8-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50709?repo=metabase/metabase&commitHash=c088ca092b3491503cdba49f745f35f21ad5f174&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50709?repo=metabase/metabase&commitHash=c088ca092b3491503cdba49f745f35f21ad5f174&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 8490 static embeddings should respect \`\#locale\` hash parameter (metabase\#8490, metabase\#50182)</code> | Unable to find an element with the text ""11월 2023"" after 4000ms, possibly due to broken text being split by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50709?repo=metabase/metabase&commitHash=c088ca092b3491503cdba49f745f35f21ad5f174&utm_source=gh-comment&runConclusion=FAILURE&runId=01bd7528-2616-5be3-8722-3ecce02f2e00) |
| <code>issue 8490 static embeddings should respect \`\#locale\` hash parameter (metabase\#8490, metabase\#50182)</code> | Unable to find an element with the text ""11월 2023"" after 4000ms, possibly due to broken text being split by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50709?repo=metabase/metabase&commitHash=c088ca092b3491503cdba49f745f35f21ad5f174&utm_source=gh-comment&runConclusion=FAILURE&runId=6ef659ad-5378-56ec-9b97-388c4746bd0d) |
| <code>issue 8490 static embeddings should respect \`\#locale\` hash parameter (metabase\#8490, metabase\#50182)</code> | Unable to find an element with the text ""11월 2023"" after 4000ms, possibly due to broken text being split by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50709?repo=metabase/metabase&commitHash=c088ca092b3491503cdba49f745f35f21ad5f174&utm_source=gh-comment&runConclusion=FAILURE&runId=2ca8b0ae-f627-5056-8ffa-bf4156e0182a) |
| <code>scenarios > filters > sql filters > field filter > Date when set as the default value for a required filter</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50709?repo=metabase/metabase&commitHash=c088ca092b3491503cdba49f745f35f21ad5f174&utm_source=gh-comment&runConclusion=FAILURE&runId=b314c2ab-87e8-51e9-a17a-52537785653e) |

[... and 4 more](https://app.trunk.io/metabase/flaky-tests/pr/50709?repo=metabase/metabase&commitHash=c088ca092b3491503cdba49f745f35f21ad5f174&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50709?repo=metabase/metabase&commitHash=c088ca092b3491503cdba49f745f35f21ad5f174&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2706072269,pull_request,closed,,"🤖 backported ""Fix custom expressions with multiple arguments - contains, does-not-contain, starts-with, ends-with""",#50480,github-automation-metabase,2024-11-29 20:31:47+00:00,"['ranquild', 'github-automation-metabase']",2024-11-29 21:58:08+00:00,2024-11-29 21:14:16+00:00,https://github.com/metabase/metabase/pull/50708,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2508668675, 'issue_id': 2706072269, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/16_tests-d076d291-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50708?repo=metabase/metabase&commitHash=d076d2917c75aadf0ef67dc3af8ef9c38e913b76&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50708?repo=metabase/metabase&commitHash=d076d2917c75aadf0ef67dc3af8ef9c38e913b76&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50708?repo=metabase/metabase&commitHash=d076d2917c75aadf0ef67dc3af8ef9c38e913b76&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50708?repo=metabase/metabase&commitHash=d076d2917c75aadf0ef67dc3af8ef9c38e913b76&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50708?repo=metabase/metabase&commitHash=d076d2917c75aadf0ef67dc3af8ef9c38e913b76&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 29, 21, 13, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-29 21:13:00 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/16_tests-d076d291-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50708?repo=metabase/metabase&commitHash=d076d2917c75aadf0ef67dc3af8ef9c38e913b76&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50708?repo=metabase/metabase&commitHash=d076d2917c75aadf0ef67dc3af8ef9c38e913b76&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50708?repo=metabase/metabase&commitHash=d076d2917c75aadf0ef67dc3af8ef9c38e913b76&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50708?repo=metabase/metabase&commitHash=d076d2917c75aadf0ef67dc3af8ef9c38e913b76&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50708?repo=metabase/metabase&commitHash=d076d2917c75aadf0ef67dc3af8ef9c38e913b76&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2706066272,pull_request,closed,,Fix Quartz rescheduling with multiple triggers,"Fixes https://github.com/metabase/metabase/issues/50063

Stats is having a sad where the first trigger we pull out from Quartz is *not* the one with the conflicting trigger, and then we get another conflict exception when trying to swap them out.

This updated behavior is strictly better than before, but it's still not perfect. Ideally we'd have one method that takes *all* the triggers in one go, atomically swaps out all the matching entries, and deletes the other obsolete records. I don't think we make enough use of multi-trigger jobs right now that this is important.

This also fixes how we handle misfires for the query analysis sweeper - I think it's safer to skip a firing than to run non-stop.

I also snuck in a little change to make Sanya happy about honesty in log messages.

See: [registration failure logs](https://grafana.monitoring.metabase.com/d/Zjw_nJX7k/metabase-logs?orgId=1&refresh=5m&var-cluster=staging-1&var-filter=Unable%20to%20store%20Trigger%20with%20name&var-namespace=All&var-dns_host=stats.metabase.com&var-pod=All&from=now-1h&to=now)",crisptrutski,2024-11-29 20:25:18+00:00,['crisptrutski'],2024-12-02 09:29:25+00:00,2024-12-02 09:27:39+00:00,https://github.com/metabase/metabase/pull/50707,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2511000297, 'issue_id': 2706066272, 'author': 'crisptrutski', 'body': ""> lgtm! it would be great if you add a test for `reschedule-task!` while you're at it :)\r\n\r\nI'll save testing it for when I improve it further 😄"", 'created_at': datetime.datetime(2024, 12, 2, 9, 27, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2511001536, 'issue_id': 2706066272, 'author': 'crisptrutski', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 12, 2, 9, 28, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2511004613, 'issue_id': 2706066272, 'author': 'github-actions[bot]', 'body': '@crisptrutski something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12116385705)', 'created_at': datetime.datetime(2024, 12, 2, 9, 29, 24, tzinfo=datetime.timezone.utc)}]","crisptrutski (Issue Creator) on (2024-12-02 09:27:35 UTC): I'll save testing it for when I improve it further 😄

crisptrutski (Issue Creator) on (2024-12-02 09:28:05 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-12-02 09:29:24 UTC): @crisptrutski something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12116385705)

"
2706065677,pull_request,closed,,"🤖 backported ""feat(sdk): add withChartTypeSelector prop to InteractiveQuestion""",#50664,metabase-bot[bot],2024-11-29 20:24:39+00:00,['heypoom'],2024-12-04 17:05:03+00:00,2024-12-04 16:14:57+00:00,https://github.com/metabase/metabase/pull/50706,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2508669804, 'issue_id': 2706065677, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/12082_tests-f776e73f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50706?repo=metabase/metabase&commitHash=f776e73f326b500930ba8d4e6f07dd95bd0085f8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50706?repo=metabase/metabase&commitHash=f776e73f326b500930ba8d4e6f07dd95bd0085f8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50706?repo=metabase/metabase&commitHash=f776e73f326b500930ba8d4e6f07dd95bd0085f8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50706?repo=metabase/metabase&commitHash=f776e73f326b500930ba8d4e6f07dd95bd0085f8&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50706?repo=metabase/metabase&commitHash=f776e73f326b500930ba8d4e6f07dd95bd0085f8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 29, 21, 14, 58, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-29 21:14:58 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/12082_tests-f776e73f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50706?repo=metabase/metabase&commitHash=f776e73f326b500930ba8d4e6f07dd95bd0085f8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50706?repo=metabase/metabase&commitHash=f776e73f326b500930ba8d4e6f07dd95bd0085f8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50706?repo=metabase/metabase&commitHash=f776e73f326b500930ba8d4e6f07dd95bd0085f8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50706?repo=metabase/metabase&commitHash=f776e73f326b500930ba8d4e6f07dd95bd0085f8&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50706?repo=metabase/metabase&commitHash=f776e73f326b500930ba8d4e6f07dd95bd0085f8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2706065043,pull_request,closed,,"🤖 backported ""feat(sdk): add withChartTypeSelector prop to InteractiveQuestion""",#50664,github-automation-metabase,2024-11-29 20:23:53+00:00,"['heypoom', 'github-automation-metabase']",2024-12-03 10:16:38+00:00,2024-12-03 10:16:37+00:00,https://github.com/metabase/metabase/pull/50705,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2508669589, 'issue_id': 2706065043, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/22_tests-1ab92fde-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50705?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50705?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50705?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50705?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50705?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 29, 21, 14, 37, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-29 21:14:37 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/22_tests-1ab92fde-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50705?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50705?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50705?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50705?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50705?repo=metabase/metabase&commitHash=1ab92fde40696afe43ce9543b9e4e12311fb8482&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2706031736,pull_request,closed,,"🤖 backported ""feat(sdk): use string types for specifying entity ids instead of internal nanoid type""",#50663,github-automation-metabase,2024-11-29 19:49:48+00:00,"['heypoom', 'github-automation-metabase']",2024-11-29 21:38:44+00:00,2024-11-29 20:51:48+00:00,https://github.com/metabase/metabase/pull/50704,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2508649886, 'issue_id': 2706031736, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/17_tests-5ee70b59-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50704?repo=metabase/metabase&commitHash=5ee70b597606faf0cf406f27b038e60eb9fbe1db&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50704?repo=metabase/metabase&commitHash=5ee70b597606faf0cf406f27b038e60eb9fbe1db&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50704?repo=metabase/metabase&commitHash=5ee70b597606faf0cf406f27b038e60eb9fbe1db&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50704?repo=metabase/metabase&commitHash=5ee70b597606faf0cf406f27b038e60eb9fbe1db&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 30039 should not trigger object detail navigation after the modal was closed (metabase\\#30039)</code> | The test timed out while trying to find an element with data-testid ""detail-shortcut"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50704?repo=metabase/metabase&commitHash=5ee70b597606faf0cf406f27b038e60eb9fbe1db&utm_source=gh-comment&runConclusion=FAILURE&runId=2372e45f-be04-51f6-85d3-165376d49cd1) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50704?repo=metabase/metabase&commitHash=5ee70b597606faf0cf406f27b038e60eb9fbe1db&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 29, 20, 43, 55, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-29 20:43:55 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/17_tests-5ee70b59-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50704?repo=metabase/metabase&commitHash=5ee70b597606faf0cf406f27b038e60eb9fbe1db&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50704?repo=metabase/metabase&commitHash=5ee70b597606faf0cf406f27b038e60eb9fbe1db&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50704?repo=metabase/metabase&commitHash=5ee70b597606faf0cf406f27b038e60eb9fbe1db&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50704?repo=metabase/metabase&commitHash=5ee70b597606faf0cf406f27b038e60eb9fbe1db&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 30039 should not trigger object detail navigation after the modal was closed (metabase\#30039)</code> | The test timed out while trying to find an element with data-testid ""detail-shortcut"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50704?repo=metabase/metabase&commitHash=5ee70b597606faf0cf406f27b038e60eb9fbe1db&utm_source=gh-comment&runConclusion=FAILURE&runId=2372e45f-be04-51f6-85d3-165376d49cd1) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50704?repo=metabase/metabase&commitHash=5ee70b597606faf0cf406f27b038e60eb9fbe1db&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2705954211,pull_request,closed,,Cache static assets without hash length restriction,"Closes https://github.com/metabase/metabase/issues/50373

### Description

We have changed the hash length from 20 to 16, and that breaks caching because of the regex we used to determine what to cache. This PR fixes the regex to be more lax to support caching more things.

### How to verify

- Go to an `/app/dist/*.js` request
- It should have a Cache-Control header with a high max-age

### Checklist

- [x] Tests have been added/updated to cover changes in this PR - E2E",heypoom,2024-11-29 19:16:42+00:00,['heypoom'],2024-12-03 17:17:22+00:00,2024-11-29 20:35:22+00:00,https://github.com/metabase/metabase/pull/50703,"[('Embedding/', 'Use this label when unsure which flavor of embedding is impacted'), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2508495816, 'issue_id': 2705954211, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/39083_tests-d4569e8c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50703?repo=metabase/metabase&commitHash=d4569e8c7823313a2c7c094a4ba885584695c774&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50703?repo=metabase/metabase&commitHash=d4569e8c7823313a2c7c094a4ba885584695c774&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50703?repo=metabase/metabase&commitHash=d4569e8c7823313a2c7c094a4ba885584695c774&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50703?repo=metabase/metabase&commitHash=d4569e8c7823313a2c7c094a4ba885584695c774&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50703?repo=metabase/metabase&commitHash=d4569e8c7823313a2c7c094a4ba885584695c774&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 29, 19, 44, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2515144714, 'issue_id': 2705954211, 'author': 'heypoom', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 12, 3, 17, 16, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2515147198, 'issue_id': 2705954211, 'author': 'github-actions[bot]', 'body': '@heypoom something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12144779670)', 'created_at': datetime.datetime(2024, 12, 3, 17, 17, 21, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-29 19:44:54 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/39083_tests-d4569e8c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50703?repo=metabase/metabase&commitHash=d4569e8c7823313a2c7c094a4ba885584695c774&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50703?repo=metabase/metabase&commitHash=d4569e8c7823313a2c7c094a4ba885584695c774&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50703?repo=metabase/metabase&commitHash=d4569e8c7823313a2c7c094a4ba885584695c774&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50703?repo=metabase/metabase&commitHash=d4569e8c7823313a2c7c094a4ba885584695c774&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50703?repo=metabase/metabase&commitHash=d4569e8c7823313a2c7c094a4ba885584695c774&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

heypoom (Issue Creator) on (2024-12-03 17:16:16 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-12-03 17:17:21 UTC): @heypoom something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12144779670)

"
2705950626,pull_request,closed,,Add `:if` as an alias to `:case` in the expression editor,"Epic https://github.com/metabase/metabase/issues/50698
Depends on https://github.com/metabase/metabase/pull/51069

How to verify:
- New -> Question -> Products
- Custom column -> `if([Price] > 50, ""Large"", ""Small"")`
- Filter -> Custom expression -> `if([Price] > 50, ""Large"", ""Small"") = ""Large""`
- Aggregation -> Custom expression -> `sum(if([Price] > 50, 1, 0))`
- Preview each step and make sure the results make sense

Note that there is a separate bug with expression matching in the filter widget atm https://github.com/metabase/metabase/pull/51089. E2E tests to be added separately.",ranquild,2024-11-29 19:13:05+00:00,['ranquild'],2025-01-27 22:13:50+00:00,2024-12-10 15:15:22+00:00,https://github.com/metabase/metabase/pull/50702,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2508568078, 'issue_id': 2705950626, 'author': 'ranquild', 'body': '@mngr updated description', 'created_at': datetime.datetime(2024, 11, 29, 20, 11, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2530355305, 'issue_id': 2705950626, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/613_tests-08b4bb1a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50702?repo=metabase/metabase&commitHash=08b4bb1a5e1e989afb05ad3bff746eb4e85910fa&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50702?repo=metabase/metabase&commitHash=08b4bb1a5e1e989afb05ad3bff746eb4e85910fa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50702?repo=metabase/metabase&commitHash=08b4bb1a5e1e989afb05ad3bff746eb4e85910fa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50702?repo=metabase/metabase&commitHash=08b4bb1a5e1e989afb05ad3bff746eb4e85910fa&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50702?repo=metabase/metabase&commitHash=08b4bb1a5e1e989afb05ad3bff746eb4e85910fa&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 10, 4, 41, 18, tzinfo=datetime.timezone.utc)}]","ranquild (Issue Creator) on (2024-11-29 20:11:06 UTC): @mngr updated description

trunk-io[bot] on (2024-12-10 04:41:18 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/613_tests-08b4bb1a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50702?repo=metabase/metabase&commitHash=08b4bb1a5e1e989afb05ad3bff746eb4e85910fa&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50702?repo=metabase/metabase&commitHash=08b4bb1a5e1e989afb05ad3bff746eb4e85910fa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50702?repo=metabase/metabase&commitHash=08b4bb1a5e1e989afb05ad3bff746eb4e85910fa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50702?repo=metabase/metabase&commitHash=08b4bb1a5e1e989afb05ad3bff746eb4e85910fa&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50702?repo=metabase/metabase&commitHash=08b4bb1a5e1e989afb05ad3bff746eb4e85910fa&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2705855913,pull_request,closed,,"🤖 backported ""Improve Search Index clean-up and re-enable some tests""","  #50687
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2024-11-29 18:26:38+00:00,"['crisptrutski', 'github-automation-metabase']",2024-11-29 20:33:52+00:00,2024-11-29 20:33:50+00:00,https://github.com/metabase/metabase/pull/50701,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2508571293, 'issue_id': 2705855913, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/2_tests-cfc018b3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50701?repo=metabase/metabase&commitHash=cfc018b31ca6de318bafbee6b4a5f9bd08c6bfad&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50701?repo=metabase/metabase&commitHash=cfc018b31ca6de318bafbee6b4a5f9bd08c6bfad&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50701?repo=metabase/metabase&commitHash=cfc018b31ca6de318bafbee6b4a5f9bd08c6bfad&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50701?repo=metabase/metabase&commitHash=cfc018b31ca6de318bafbee6b4a5f9bd08c6bfad&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native should be able to add new columns after hiding some (metabase\\#15393)</code> | The expected content '/hidden/i' was not found within the element <aside.emotion-1mzrabc.emzg3k00> after 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50701?repo=metabase/metabase&commitHash=cfc018b31ca6de318bafbee6b4a5f9bd08c6bfad&utm_source=gh-comment&runConclusion=FAILURE&runId=866c723c-7875-56f7-9984-16b42d68acf8) |\n| <code>issue 34330 should call the autocompleter when backspacing to a 1-character prefix(metabase\\#34330)</code> | The \\`cy.wait()\\` command timed out waiting for the first request to the route 'autocomplete' and no request ever occurred. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50701?repo=metabase/metabase&commitHash=cfc018b31ca6de318bafbee6b4a5f9bd08c6bfad&utm_source=gh-comment&runConclusion=FAILURE&runId=cc177d26-3ab5-512e-bcb0-a2df0a42ea6f) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50701?repo=metabase/metabase&commitHash=cfc018b31ca6de318bafbee6b4a5f9bd08c6bfad&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 29, 20, 12, 20, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-29 20:12:20 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/2_tests-cfc018b3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50701?repo=metabase/metabase&commitHash=cfc018b31ca6de318bafbee6b4a5f9bd08c6bfad&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50701?repo=metabase/metabase&commitHash=cfc018b31ca6de318bafbee6b4a5f9bd08c6bfad&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50701?repo=metabase/metabase&commitHash=cfc018b31ca6de318bafbee6b4a5f9bd08c6bfad&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50701?repo=metabase/metabase&commitHash=cfc018b31ca6de318bafbee6b4a5f9bd08c6bfad&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native should be able to add new columns after hiding some (metabase\#15393)</code> | The expected content '/hidden/i' was not found within the element <aside.emotion-1mzrabc.emzg3k00> after 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50701?repo=metabase/metabase&commitHash=cfc018b31ca6de318bafbee6b4a5f9bd08c6bfad&utm_source=gh-comment&runConclusion=FAILURE&runId=866c723c-7875-56f7-9984-16b42d68acf8) |
| <code>issue 34330 should call the autocompleter when backspacing to a 1-character prefix(metabase\#34330)</code> | The \`cy.wait()\` command timed out waiting for the first request to the route 'autocomplete' and no request ever occurred. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50701?repo=metabase/metabase&commitHash=cfc018b31ca6de318bafbee6b4a5f9bd08c6bfad&utm_source=gh-comment&runConclusion=FAILURE&runId=cc177d26-3ab5-512e-bcb0-a2df0a42ea6f) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50701?repo=metabase/metabase&commitHash=cfc018b31ca6de318bafbee6b4a5f9bd08c6bfad&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2705807060,pull_request,closed,,"🤖 backported ""Add v0.51.6 to the list of releases""",#50640,metabase-bot[bot],2024-11-29 17:51:29+00:00,['alexyarosh'],2024-11-29 17:53:04+00:00,2024-11-29 17:53:03+00:00,https://github.com/metabase/metabase/pull/50700,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2705805297,pull_request,closed,,"🤖 backported ""Add v0.51.6 to the list of releases""",#50640,github-automation-metabase,2024-11-29 17:50:29+00:00,"['alexyarosh', 'github-automation-metabase']",2024-11-29 17:52:10+00:00,2024-11-29 17:52:09+00:00,https://github.com/metabase/metabase/pull/50699,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2705524097,pull_request,closed,,"🤖 backported ""Old data picker in notebook for embedding """,#50535,github-automation-metabase,2024-11-29 15:50:36+00:00,"['ranquild', 'github-automation-metabase']",2024-11-29 17:04:07+00:00,2024-11-29 16:33:33+00:00,https://github.com/metabase/metabase/pull/50697,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2508163185, 'issue_id': 2705524097, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/12960_tests-03566e94-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50697?repo=metabase/metabase&commitHash=03566e94b80396462f8734a59bc2b62228a96187&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50697?repo=metabase/metabase&commitHash=03566e94b80396462f8734a59bc2b62228a96187&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50697?repo=metabase/metabase&commitHash=03566e94b80396462f8734a59bc2b62228a96187&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50697?repo=metabase/metabase&commitHash=03566e94b80396462f8734a59bc2b62228a96187&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50697?repo=metabase/metabase&commitHash=03566e94b80396462f8734a59bc2b62228a96187&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 29, 17, 3, 58, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-29 17:03:58 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/12960_tests-03566e94-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50697?repo=metabase/metabase&commitHash=03566e94b80396462f8734a59bc2b62228a96187&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50697?repo=metabase/metabase&commitHash=03566e94b80396462f8734a59bc2b62228a96187&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50697?repo=metabase/metabase&commitHash=03566e94b80396462f8734a59bc2b62228a96187&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50697?repo=metabase/metabase&commitHash=03566e94b80396462f8734a59bc2b62228a96187&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50697?repo=metabase/metabase&commitHash=03566e94b80396462f8734a59bc2b62228a96187&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2705486957,pull_request,closed,,Update SDK version to 0.52.3-nightly,Update Readme version references and published npm package version to 0.52.3-nightly,github-automation-metabase,2024-11-29 15:37:34+00:00,"['WiNloSt', 'github-automation-metabase']",2025-01-27 22:14:21+00:00,2024-11-29 15:42:12+00:00,https://github.com/metabase/metabase/pull/50696,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2508048968, 'issue_id': 2705486957, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@github-automation-metabase You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2024, 11, 29, 15, 37, 56, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-29 15:37:56 UTC): <!---conventional commit reminder comment ID-->
@github-automation-metabase You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

"
2705439654,pull_request,closed,,"🤖 backported ""Extra Search Rankers for exact matches and things you own""",#50684,github-automation-metabase,2024-11-29 15:28:40+00:00,"['crisptrutski', 'github-automation-metabase']",2024-11-29 17:03:45+00:00,2024-11-29 16:51:08+00:00,https://github.com/metabase/metabase/pull/50695,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2508102924, 'issue_id': 2705439654, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/444_tests-4d01e2de-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50695?repo=metabase/metabase&commitHash=4d01e2deb4d691e0e3f837c6ee9b07bd76daab67&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50695?repo=metabase/metabase&commitHash=4d01e2deb4d691e0e3f837c6ee9b07bd76daab67&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50695?repo=metabase/metabase&commitHash=4d01e2deb4d691e0e3f837c6ee9b07bd76daab67&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50695?repo=metabase/metabase&commitHash=4d01e2deb4d691e0e3f837c6ee9b07bd76daab67&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50695?repo=metabase/metabase&commitHash=4d01e2deb4d691e0e3f837c6ee9b07bd76daab67&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 29, 16, 17, 33, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-29 16:17:33 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/444_tests-4d01e2de-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50695?repo=metabase/metabase&commitHash=4d01e2deb4d691e0e3f837c6ee9b07bd76daab67&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50695?repo=metabase/metabase&commitHash=4d01e2deb4d691e0e3f837c6ee9b07bd76daab67&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50695?repo=metabase/metabase&commitHash=4d01e2deb4d691e0e3f837c6ee9b07bd76daab67&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50695?repo=metabase/metabase&commitHash=4d01e2deb4d691e0e3f837c6ee9b07bd76daab67&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50695?repo=metabase/metabase&commitHash=4d01e2deb4d691e0e3f837c6ee9b07bd76daab67&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2705386141,pull_request,closed,,Support extraction expressions in filter-args-display-name,"Fixes #50670

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",metamben,2024-11-29 15:01:47+00:00,['metamben'],2024-11-29 20:32:58+00:00,2024-11-29 20:04:59+00:00,https://github.com/metabase/metabase/pull/50694,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2508062880, 'issue_id': 2705386141, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/4_tests-71855e04-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50694?repo=metabase/metabase&commitHash=71855e0470f1b1040c815f2be5bd5828f81b69d7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50694?repo=metabase/metabase&commitHash=71855e0470f1b1040c815f2be5bd5828f81b69d7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50694?repo=metabase/metabase&commitHash=71855e0470f1b1040c815f2be5bd5828f81b69d7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50694?repo=metabase/metabase&commitHash=71855e0470f1b1040c815f2be5bd5828f81b69d7&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 16914 should recover visualization settings after a failed query (metabase\\#16914)</code> | The expected content \'/hidden/i\' was not found within the element <aside.emotion-1mzrabc.emzg3k00> after 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50694?repo=metabase/metabase&commitHash=71855e0470f1b1040c815f2be5bd5828f81b69d7&utm_source=gh-comment&runConclusion=FAILURE&runId=d8a00626-c664-5e67-9fc2-4de032d89a92) |\n| <code>scenarios > question > native should be able to add new columns after hiding some (metabase\\#15393)</code> | The expected content \'/hidden/i\' was not found within the element <aside.emotion-1mzrabc.emzg3k00> after 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50694?repo=metabase/metabase&commitHash=71855e0470f1b1040c815f2be5bd5828f81b69d7&utm_source=gh-comment&runConclusion=FAILURE&runId=d8cb59ad-22bd-52f9-a620-d1d29a89fce0) |\n| <code>issue 30039 should not trigger object detail navigation after the modal was closed (metabase\\#30039)</code> | The test timed out while trying to find an element with data-testid ""detail-shortcut"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50694?repo=metabase/metabase&commitHash=71855e0470f1b1040c815f2be5bd5828f81b69d7&utm_source=gh-comment&runConclusion=FAILURE&runId=dcd44927-4354-5b94-bdcd-600a84079ade) |\n| <code>scenarios > question > native displays an error when running selected text</code> | The test timed out waiting for the expected content \'Table ""ORD"" not found\' in the response. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50694?repo=metabase/metabase&commitHash=71855e0470f1b1040c815f2be5bd5828f81b69d7&utm_source=gh-comment&runConclusion=FAILURE&runId=59464c88-5292-55a0-a3fd-daafacf744b6) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50694?repo=metabase/metabase&commitHash=71855e0470f1b1040c815f2be5bd5828f81b69d7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 29, 15, 47, 56, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-29 15:47:56 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/4_tests-71855e04-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50694?repo=metabase/metabase&commitHash=71855e0470f1b1040c815f2be5bd5828f81b69d7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50694?repo=metabase/metabase&commitHash=71855e0470f1b1040c815f2be5bd5828f81b69d7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50694?repo=metabase/metabase&commitHash=71855e0470f1b1040c815f2be5bd5828f81b69d7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50694?repo=metabase/metabase&commitHash=71855e0470f1b1040c815f2be5bd5828f81b69d7&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 16914 should recover visualization settings after a failed query (metabase\#16914)</code> | The expected content '/hidden/i' was not found within the element <aside.emotion-1mzrabc.emzg3k00> after 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50694?repo=metabase/metabase&commitHash=71855e0470f1b1040c815f2be5bd5828f81b69d7&utm_source=gh-comment&runConclusion=FAILURE&runId=d8a00626-c664-5e67-9fc2-4de032d89a92) |
| <code>scenarios > question > native should be able to add new columns after hiding some (metabase\#15393)</code> | The expected content '/hidden/i' was not found within the element <aside.emotion-1mzrabc.emzg3k00> after 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50694?repo=metabase/metabase&commitHash=71855e0470f1b1040c815f2be5bd5828f81b69d7&utm_source=gh-comment&runConclusion=FAILURE&runId=d8cb59ad-22bd-52f9-a620-d1d29a89fce0) |
| <code>issue 30039 should not trigger object detail navigation after the modal was closed (metabase\#30039)</code> | The test timed out while trying to find an element with data-testid ""detail-shortcut"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50694?repo=metabase/metabase&commitHash=71855e0470f1b1040c815f2be5bd5828f81b69d7&utm_source=gh-comment&runConclusion=FAILURE&runId=dcd44927-4354-5b94-bdcd-600a84079ade) |
| <code>scenarios > question > native displays an error when running selected text</code> | The test timed out waiting for the expected content 'Table ""ORD"" not found' in the response. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50694?repo=metabase/metabase&commitHash=71855e0470f1b1040c815f2be5bd5828f81b69d7&utm_source=gh-comment&runConclusion=FAILURE&runId=59464c88-5292-55a0-a3fd-daafacf744b6) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50694?repo=metabase/metabase&commitHash=71855e0470f1b1040c815f2be5bd5828f81b69d7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2705380449,pull_request,closed,,Update Interactive Embedding Admin Settings page,"Closes https://github.com/metabase/metabase/issues/50616

### Description

This PR does 2 things:
1. [Add a quick start link to the Interactive Embedding admin settings page.](https://www.notion.so/metabase/Streamline-embed-flow-when-embedding-features-are-off-13869354c90180b4bc02ca29ebf61ad2?pvs=4#14269354c901807ebcf8ff557a875aba)
1. [Make the Interactive Embedding card on admin settings grey when on OSS (unavailable)](https://www.notion.so/metabase/Streamline-embed-flow-when-embedding-features-are-off-13869354c90180b4bc02ca29ebf61ad2?pvs=4#14c69354c90180f3adb8ddbd0886642e)

Note: The [links are confirmed here.](https://metaboat.slack.com/archives/C063Q3F1HPF/p1732892823162379)

### How to verify
For 1), check that the interactive embedding settings page has a quick start guide following the [confirmed new links](https://metaboat.slack.com/archives/C063Q3F1HPF/p1732892823162379) here.

For 2) check that on OSS, the interactive setting icon should look disabled, it used to always be enabled on OSS when the feature is not available.


### Demo
![Screenshot 2024-12-03 at 9 03 17 PM](https://github.com/user-attachments/assets/2cf83ac1-db1a-4fe4-bfcf-77a828b29d0d)


### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",WiNloSt,2024-11-29 14:59:39+00:00,['WiNloSt'],2024-12-04 06:07:11+00:00,2024-12-04 06:07:09+00:00,https://github.com/metabase/metabase/pull/50693,"[('.Team/Embedding', '')]","[{'comment_id': 2508062335, 'issue_id': 2705380449, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13113_tests-6b739d22-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50693?repo=metabase/metabase&commitHash=6b739d223409f812dce0eeea0a71e5efd2f2ea31&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50693?repo=metabase/metabase&commitHash=6b739d223409f812dce0eeea0a71e5efd2f2ea31&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50693?repo=metabase/metabase&commitHash=6b739d223409f812dce0eeea0a71e5efd2f2ea31&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50693?repo=metabase/metabase&commitHash=6b739d223409f812dce0eeea0a71e5efd2f2ea31&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>[EE, no token] embedding settings should link to quickstart for interactive embedding</code> | The expected value for the ""href"" property did not match the received value. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50693?repo=metabase/metabase&commitHash=6b739d223409f812dce0eeea0a71e5efd2f2ea31&utm_source=gh-comment&runConclusion=FAILURE&runId=9c92893f-1d5a-5ca3-a033-70093fc1c0cf) |\n| <code>[OSS] embedding settings should link to quickstart for interactive embedding</code> | The expected value for the ""href"" property did not match the received value. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50693?repo=metabase/metabase&commitHash=6b739d223409f812dce0eeea0a71e5efd2f2ea31&utm_source=gh-comment&runConclusion=FAILURE&runId=cd8e120c-25fb-56f4-9b1f-fcd074ef196f) |\n| <code>[EE, with token] embedding settings should link to quickstart for interactive embedding</code> | The expected value for the ""href"" property did not match the received value. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50693?repo=metabase/metabase&commitHash=6b739d223409f812dce0eeea0a71e5efd2f2ea31&utm_source=gh-comment&runConclusion=FAILURE&runId=e6efd335-a90a-5a48-b56c-68a7e7815ed3) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50693?repo=metabase/metabase&commitHash=6b739d223409f812dce0eeea0a71e5efd2f2ea31&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 29, 15, 47, 31, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-29 15:47:31 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13113_tests-6b739d22-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50693?repo=metabase/metabase&commitHash=6b739d223409f812dce0eeea0a71e5efd2f2ea31&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50693?repo=metabase/metabase&commitHash=6b739d223409f812dce0eeea0a71e5efd2f2ea31&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50693?repo=metabase/metabase&commitHash=6b739d223409f812dce0eeea0a71e5efd2f2ea31&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50693?repo=metabase/metabase&commitHash=6b739d223409f812dce0eeea0a71e5efd2f2ea31&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>[EE, no token] embedding settings should link to quickstart for interactive embedding</code> | The expected value for the ""href"" property did not match the received value. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50693?repo=metabase/metabase&commitHash=6b739d223409f812dce0eeea0a71e5efd2f2ea31&utm_source=gh-comment&runConclusion=FAILURE&runId=9c92893f-1d5a-5ca3-a033-70093fc1c0cf) |
| <code>[OSS] embedding settings should link to quickstart for interactive embedding</code> | The expected value for the ""href"" property did not match the received value. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50693?repo=metabase/metabase&commitHash=6b739d223409f812dce0eeea0a71e5efd2f2ea31&utm_source=gh-comment&runConclusion=FAILURE&runId=cd8e120c-25fb-56f4-9b1f-fcd074ef196f) |
| <code>[EE, with token] embedding settings should link to quickstart for interactive embedding</code> | The expected value for the ""href"" property did not match the received value. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50693?repo=metabase/metabase&commitHash=6b739d223409f812dce0eeea0a71e5efd2f2ea31&utm_source=gh-comment&runConclusion=FAILURE&runId=e6efd335-a90a-5a48-b56c-68a7e7815ed3) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50693?repo=metabase/metabase&commitHash=6b739d223409f812dce0eeea0a71e5efd2f2ea31&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2705275129,pull_request,closed,,top-level LICENSE conflicts with other files breaking uberjar build,,piranha,2024-11-29 14:32:18+00:00,['piranha'],2025-01-27 22:14:18+00:00,2024-11-29 18:17:14+00:00,https://github.com/metabase/metabase/pull/50691,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2508055705, 'issue_id': 2705275129, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/1_test-b6e52b64-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50691?repo=metabase/metabase&commitHash=b6e52b6497f564df3ef6de6ff72aa86e8b3124d7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50691?repo=metabase/metabase&commitHash=b6e52b6497f564df3ef6de6ff72aa86e8b3124d7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50691?repo=metabase/metabase&commitHash=b6e52b6497f564df3ef6de6ff72aa86e8b3124d7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50691?repo=metabase/metabase&commitHash=b6e52b6497f564df3ef6de6ff72aa86e8b3124d7&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>e2e-storage-ingestion-test</code> | The expected and actual sets do not match, indicating an issue with the ingestion process. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50691?repo=metabase/metabase&commitHash=b6e52b6497f564df3ef6de6ff72aa86e8b3124d7&utm_source=gh-comment&runConclusion=FAILURE&runId=7e8a666e-1bca-5dca-8d98-bf6fae848f85) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50691?repo=metabase/metabase&commitHash=b6e52b6497f564df3ef6de6ff72aa86e8b3124d7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 29, 15, 42, 41, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-29 15:42:41 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/1_test-b6e52b64-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50691?repo=metabase/metabase&commitHash=b6e52b6497f564df3ef6de6ff72aa86e8b3124d7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50691?repo=metabase/metabase&commitHash=b6e52b6497f564df3ef6de6ff72aa86e8b3124d7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50691?repo=metabase/metabase&commitHash=b6e52b6497f564df3ef6de6ff72aa86e8b3124d7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50691?repo=metabase/metabase&commitHash=b6e52b6497f564df3ef6de6ff72aa86e8b3124d7&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>e2e-storage-ingestion-test</code> | The expected and actual sets do not match, indicating an issue with the ingestion process. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50691?repo=metabase/metabase&commitHash=b6e52b6497f564df3ef6de6ff72aa86e8b3124d7&utm_source=gh-comment&runConclusion=FAILURE&runId=7e8a666e-1bca-5dca-8d98-bf6fae848f85) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50691?repo=metabase/metabase&commitHash=b6e52b6497f564df3ef6de6ff72aa86e8b3124d7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2705259867,pull_request,closed,,"🤖 backported ""Fix light theme embeddings has different text colors""",#50678,metabase-bot[bot],2024-11-29 14:24:02+00:00,['WiNloSt'],2024-11-29 15:57:16+00:00,2024-11-29 15:57:15+00:00,https://github.com/metabase/metabase/pull/50689,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2508021901, 'issue_id': 2705259867, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/19_tests-61211a40-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50689?repo=metabase/metabase&commitHash=61211a400b7199a0e4768b88d192e30715af9ac3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50689?repo=metabase/metabase&commitHash=61211a400b7199a0e4768b88d192e30715af9ac3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50689?repo=metabase/metabase&commitHash=61211a400b7199a0e4768b88d192e30715af9ac3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50689?repo=metabase/metabase&commitHash=61211a400b7199a0e4768b88d192e30715af9ac3&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50689?repo=metabase/metabase&commitHash=61211a400b7199a0e4768b88d192e30715af9ac3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 29, 15, 20, 7, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-29 15:20:07 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/19_tests-61211a40-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50689?repo=metabase/metabase&commitHash=61211a400b7199a0e4768b88d192e30715af9ac3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50689?repo=metabase/metabase&commitHash=61211a400b7199a0e4768b88d192e30715af9ac3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50689?repo=metabase/metabase&commitHash=61211a400b7199a0e4768b88d192e30715af9ac3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50689?repo=metabase/metabase&commitHash=61211a400b7199a0e4768b88d192e30715af9ac3&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50689?repo=metabase/metabase&commitHash=61211a400b7199a0e4768b88d192e30715af9ac3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2705258681,pull_request,closed,,"🤖 backported ""Fix light theme embeddings has different text colors""",#50678,github-automation-metabase,2024-11-29 14:23:27+00:00,"['WiNloSt', 'github-automation-metabase']",2024-11-29 15:58:07+00:00,2024-11-29 15:37:29+00:00,https://github.com/metabase/metabase/pull/50688,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2508015942, 'issue_id': 2705258681, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/17_tests-67a89dc8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50688?repo=metabase/metabase&commitHash=67a89dc80e7ca12df8c26b3e59af57db3ce17ab1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50688?repo=metabase/metabase&commitHash=67a89dc80e7ca12df8c26b3e59af57db3ce17ab1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50688?repo=metabase/metabase&commitHash=67a89dc80e7ca12df8c26b3e59af57db3ce17ab1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50688?repo=metabase/metabase&commitHash=67a89dc80e7ca12df8c26b3e59af57db3ce17ab1&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>delay-queue-test</code> | failure\\_text: queue\\_test.clj:92expected: (nil? (queue/take-delayed-batch! q 3 90 0))  actual: (not (nil? [1614967175885])) | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50688?repo=metabase/metabase&commitHash=67a89dc80e7ca12df8c26b3e59af57db3ce17ab1&utm_source=gh-comment&runConclusion=FAILURE&runId=ed90203d-2b3b-53fe-99a0-1c1455ba523c) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50688?repo=metabase/metabase&commitHash=67a89dc80e7ca12df8c26b3e59af57db3ce17ab1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 29, 15, 16, 20, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-29 15:16:20 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/17_tests-67a89dc8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50688?repo=metabase/metabase&commitHash=67a89dc80e7ca12df8c26b3e59af57db3ce17ab1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50688?repo=metabase/metabase&commitHash=67a89dc80e7ca12df8c26b3e59af57db3ce17ab1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50688?repo=metabase/metabase&commitHash=67a89dc80e7ca12df8c26b3e59af57db3ce17ab1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50688?repo=metabase/metabase&commitHash=67a89dc80e7ca12df8c26b3e59af57db3ce17ab1&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>delay-queue-test</code> | failure\_text: queue\_test.clj:92expected: (nil? (queue/take-delayed-batch! q 3 90 0))  actual: (not (nil? [1614967175885])) | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50688?repo=metabase/metabase&commitHash=67a89dc80e7ca12df8c26b3e59af57db3ce17ab1&utm_source=gh-comment&runConclusion=FAILURE&runId=ed90203d-2b3b-53fe-99a0-1c1455ba523c) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50688?repo=metabase/metabase&commitHash=67a89dc80e7ca12df8c26b3e59af57db3ce17ab1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2704982429,pull_request,closed,,Improve Search Index clean-up and re-enable some tests,"Maybe sure we clean up the old `:search_index` table. Learned something new about Postgres LIKE patterns today. 

Also, I think these old hook tests will work now, at least they do locally, so re-enabled them.",crisptrutski,2024-11-29 12:26:09+00:00,['crisptrutski'],2024-11-29 20:34:23+00:00,2024-11-29 18:25:49+00:00,https://github.com/metabase/metabase/pull/50687,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2508058461, 'issue_id': 2704982429, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/1_test-e0fb5269-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50687?repo=metabase/metabase&commitHash=e0fb5269abf49f5ff189181f5d0d105004bbe8e8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50687?repo=metabase/metabase&commitHash=e0fb5269abf49f5ff189181f5d0d105004bbe8e8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50687?repo=metabase/metabase&commitHash=e0fb5269abf49f5ff189181f5d0d105004bbe8e8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50687?repo=metabase/metabase&commitHash=e0fb5269abf49f5ff189181f5d0d105004bbe8e8&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > waterfall scenarios > visualizations > waterfall settings should allow toggling of value labels</code> | The test timed out while trying to find an element with data-testid ""chart-container"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50687?repo=metabase/metabase&commitHash=e0fb5269abf49f5ff189181f5d0d105004bbe8e8&utm_source=gh-comment&runConclusion=FAILURE&runId=226347d9-23d8-574d-857a-7cd5e925971c) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50687?repo=metabase/metabase&commitHash=e0fb5269abf49f5ff189181f5d0d105004bbe8e8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 29, 15, 44, 40, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-29 15:44:40 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/1_test-e0fb5269-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50687?repo=metabase/metabase&commitHash=e0fb5269abf49f5ff189181f5d0d105004bbe8e8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50687?repo=metabase/metabase&commitHash=e0fb5269abf49f5ff189181f5d0d105004bbe8e8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50687?repo=metabase/metabase&commitHash=e0fb5269abf49f5ff189181f5d0d105004bbe8e8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50687?repo=metabase/metabase&commitHash=e0fb5269abf49f5ff189181f5d0d105004bbe8e8&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > waterfall scenarios > visualizations > waterfall settings should allow toggling of value labels</code> | The test timed out while trying to find an element with data-testid ""chart-container"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50687?repo=metabase/metabase&commitHash=e0fb5269abf49f5ff189181f5d0d105004bbe8e8&utm_source=gh-comment&runConclusion=FAILURE&runId=226347d9-23d8-574d-857a-7cd5e925971c) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50687?repo=metabase/metabase&commitHash=e0fb5269abf49f5ff189181f5d0d105004bbe8e8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2704806869,pull_request,closed,,Extra Search Rankers for exact matches and things you own,Thread: https://metaboat.slack.com/archives/C01LQQ2UW03/p1732820844106729,crisptrutski,2024-11-29 11:15:50+00:00,['crisptrutski'],2024-11-29 16:51:37+00:00,2024-11-29 15:27:50+00:00,https://github.com/metabase/metabase/pull/50684,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2507694480, 'issue_id': 2704806869, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3_tests-c4a4d20e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50684?repo=metabase/metabase&commitHash=c4a4d20eace507c68334bba21f4b78f2e66da7e7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50684?repo=metabase/metabase&commitHash=c4a4d20eace507c68334bba21f4b78f2e66da7e7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50684?repo=metabase/metabase&commitHash=c4a4d20eace507c68334bba21f4b78f2e66da7e7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50684?repo=metabase/metabase&commitHash=c4a4d20eace507c68334bba21f4b78f2e66da7e7&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:329:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\\#'sync.fingerprint/max-refingerprint-field... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50684?repo=metabase/metabase&commitHash=c4a4d20eace507c68334bba21f4b78f2e66da7e7&utm_source=gh-comment&runConclusion=FAILURE&runId=6537c80e-7f50-551f-92fc-f57ec56fe3ad) |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they don't. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50684?repo=metabase/metabase&commitHash=c4a4d20eace507c68334bba21f4b78f2e66da7e7&utm_source=gh-comment&runConclusion=FAILURE&runId=d3a919ac-1239-5e19-8021-3391b921670e) |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, but expected stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50684?repo=metabase/metabase&commitHash=c4a4d20eace507c68334bba21f4b78f2e66da7e7&utm_source=gh-comment&runConclusion=FAILURE&runId=28454677-84ca-55e4-967f-51865fbeafad) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50684?repo=metabase/metabase&commitHash=c4a4d20eace507c68334bba21f4b78f2e66da7e7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 29, 12, 13, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2507694482, 'issue_id': 2704806869, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/41014_tests-53acbe9b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50684?repo=metabase/metabase&commitHash=53acbe9bdd607d56f1fd1aff149173b789edc309&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50684?repo=metabase/metabase&commitHash=53acbe9bdd607d56f1fd1aff149173b789edc309&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50684?repo=metabase/metabase&commitHash=53acbe9bdd607d56f1fd1aff149173b789edc309&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50684?repo=metabase/metabase&commitHash=53acbe9bdd607d56f1fd1aff149173b789edc309&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50684?repo=metabase/metabase&commitHash=53acbe9bdd607d56f1fd1aff149173b789edc309&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 29, 12, 13, 38, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-29 12:13:37 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3_tests-c4a4d20e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50684?repo=metabase/metabase&commitHash=c4a4d20eace507c68334bba21f4b78f2e66da7e7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50684?repo=metabase/metabase&commitHash=c4a4d20eace507c68334bba21f4b78f2e66da7e7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50684?repo=metabase/metabase&commitHash=c4a4d20eace507c68334bba21f4b78f2e66da7e7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50684?repo=metabase/metabase&commitHash=c4a4d20eace507c68334bba21f4b78f2e66da7e7&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:329:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerprint-field... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50684?repo=metabase/metabase&commitHash=c4a4d20eace507c68334bba21f4b78f2e66da7e7&utm_source=gh-comment&runConclusion=FAILURE&runId=6537c80e-7f50-551f-92fc-f57ec56fe3ad) |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they don't. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50684?repo=metabase/metabase&commitHash=c4a4d20eace507c68334bba21f4b78f2e66da7e7&utm_source=gh-comment&runConclusion=FAILURE&runId=d3a919ac-1239-5e19-8021-3391b921670e) |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, but expected stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50684?repo=metabase/metabase&commitHash=c4a4d20eace507c68334bba21f4b78f2e66da7e7&utm_source=gh-comment&runConclusion=FAILURE&runId=28454677-84ca-55e4-967f-51865fbeafad) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50684?repo=metabase/metabase&commitHash=c4a4d20eace507c68334bba21f4b78f2e66da7e7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-29 12:13:38 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/41014_tests-53acbe9b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50684?repo=metabase/metabase&commitHash=53acbe9bdd607d56f1fd1aff149173b789edc309&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50684?repo=metabase/metabase&commitHash=53acbe9bdd607d56f1fd1aff149173b789edc309&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50684?repo=metabase/metabase&commitHash=53acbe9bdd607d56f1fd1aff149173b789edc309&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50684?repo=metabase/metabase&commitHash=53acbe9bdd607d56f1fd1aff149173b789edc309&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50684?repo=metabase/metabase&commitHash=53acbe9bdd607d56f1fd1aff149173b789edc309&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2704789462,pull_request,closed,,"rename BEC to Workflows, acquire Denis :)",,piranha,2024-11-29 11:07:16+00:00,['piranha'],2024-12-09 09:12:56+00:00,2024-11-29 12:53:49+00:00,https://github.com/metabase/metabase/pull/50682,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2527339232, 'issue_id': 2704789462, 'author': 'crisptrutski', 'body': '@metabase-bot backport release-x.52.x', 'created_at': datetime.datetime(2024, 12, 9, 9, 9, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2527339352, 'issue_id': 2704789462, 'author': 'crisptrutski', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 12, 9, 9, 9, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2527346168, 'issue_id': 2704789462, 'author': 'github-actions[bot]', 'body': '🚀 This should also be released by [v0.52.2](https://github.com/metabase/metabase/milestone/291)', 'created_at': datetime.datetime(2024, 12, 9, 9, 12, 53, tzinfo=datetime.timezone.utc)}]","crisptrutski on (2024-12-09 09:09:46 UTC): @metabase-bot backport release-x.52.x

crisptrutski on (2024-12-09 09:09:50 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-12-09 09:12:53 UTC): 🚀 This should also be released by [v0.52.2](https://github.com/metabase/metabase/milestone/291)

"
2704615496,pull_request,closed,,"🤖 backported ""Use separate indexes for different versions""",#50620,github-automation-metabase,2024-11-29 10:05:51+00:00,"['crisptrutski', 'github-automation-metabase']",2024-11-29 11:44:25+00:00,2024-11-29 11:03:39+00:00,https://github.com/metabase/metabase/pull/50681,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2507592450, 'issue_id': 2704615496, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/1_test-a9f8e481-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50681?repo=metabase/metabase&commitHash=a9f8e481e5c5ced26bc95234a0585b40dca17481&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50681?repo=metabase/metabase&commitHash=a9f8e481e5c5ced26bc95234a0585b40dca17481&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50681?repo=metabase/metabase&commitHash=a9f8e481e5c5ced26bc95234a0585b40dca17481&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50681?repo=metabase/metabase&commitHash=a9f8e481e5c5ced26bc95234a0585b40dca17481&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:329:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\\#'sync.fingerprint/max-refingerp... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50681?repo=metabase/metabase&commitHash=a9f8e481e5c5ced26bc95234a0585b40dca17481&utm_source=gh-comment&runConclusion=FAILURE&runId=f20c3677-d457-5ab8-a4b7-3e5663779b39) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50681?repo=metabase/metabase&commitHash=a9f8e481e5c5ced26bc95234a0585b40dca17481&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 29, 11, 9, 38, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-29 11:09:38 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/1_test-a9f8e481-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50681?repo=metabase/metabase&commitHash=a9f8e481e5c5ced26bc95234a0585b40dca17481&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50681?repo=metabase/metabase&commitHash=a9f8e481e5c5ced26bc95234a0585b40dca17481&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50681?repo=metabase/metabase&commitHash=a9f8e481e5c5ced26bc95234a0585b40dca17481&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50681?repo=metabase/metabase&commitHash=a9f8e481e5c5ced26bc95234a0585b40dca17481&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:329:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerp... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50681?repo=metabase/metabase&commitHash=a9f8e481e5c5ced26bc95234a0585b40dca17481&utm_source=gh-comment&runConclusion=FAILURE&runId=f20c3677-d457-5ab8-a4b7-3e5663779b39) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50681?repo=metabase/metabase&commitHash=a9f8e481e5c5ced26bc95234a0585b40dca17481&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2704448596,pull_request,closed,,"🤖 backported ""Take default Search weights from Stats""",#50674,github-automation-metabase,2024-11-29 09:08:17+00:00,"['crisptrutski', 'github-automation-metabase']",2024-11-29 10:42:21+00:00,2024-11-29 09:57:32+00:00,https://github.com/metabase/metabase/pull/50680,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2507435337, 'issue_id': 2704448596, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/1_test-3b626eb0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50680?repo=metabase/metabase&commitHash=3b626eb0f829bc7d732e76df6055b3044a81916d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50680?repo=metabase/metabase&commitHash=3b626eb0f829bc7d732e76df6055b3044a81916d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50680?repo=metabase/metabase&commitHash=3b626eb0f829bc7d732e76df6055b3044a81916d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50680?repo=metabase/metabase&commitHash=3b626eb0f829bc7d732e76df6055b3044a81916d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:329:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\\#'sync.fingerprint/max-refingerprint-field... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50680?repo=metabase/metabase&commitHash=3b626eb0f829bc7d732e76df6055b3044a81916d&utm_source=gh-comment&runConclusion=FAILURE&runId=0f4a392e-900b-5969-b42b-7eb9a8dba065) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50680?repo=metabase/metabase&commitHash=3b626eb0f829bc7d732e76df6055b3044a81916d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 29, 9, 42, 2, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-29 09:42:02 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/1_test-3b626eb0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50680?repo=metabase/metabase&commitHash=3b626eb0f829bc7d732e76df6055b3044a81916d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50680?repo=metabase/metabase&commitHash=3b626eb0f829bc7d732e76df6055b3044a81916d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50680?repo=metabase/metabase&commitHash=3b626eb0f829bc7d732e76df6055b3044a81916d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50680?repo=metabase/metabase&commitHash=3b626eb0f829bc7d732e76df6055b3044a81916d&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:329:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerprint-field... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50680?repo=metabase/metabase&commitHash=3b626eb0f829bc7d732e76df6055b3044a81916d&utm_source=gh-comment&runConclusion=FAILURE&runId=0f4a392e-900b-5969-b42b-7eb9a8dba065) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50680?repo=metabase/metabase&commitHash=3b626eb0f829bc7d732e76df6055b3044a81916d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2704434044,pull_request,closed,,"🤖 backported ""Keep Search Index metadata sync'd via setting""",#50581,github-automation-metabase,2024-11-29 09:00:43+00:00,"['crisptrutski', 'github-automation-metabase']",2024-11-29 10:05:48+00:00,2024-11-29 09:44:31+00:00,https://github.com/metabase/metabase/pull/50679,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2507435678, 'issue_id': 2704434044, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/86108_tests-505ab4e3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50679?repo=metabase/metabase&commitHash=505ab4e3bb42c2c7ba2e4169d73963072d8573e2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50679?repo=metabase/metabase&commitHash=505ab4e3bb42c2c7ba2e4169d73963072d8573e2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50679?repo=metabase/metabase&commitHash=505ab4e3bb42c2c7ba2e4169d73963072d8573e2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50679?repo=metabase/metabase&commitHash=505ab4e3bb42c2c7ba2e4169d73963072d8573e2&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50679?repo=metabase/metabase&commitHash=505ab4e3bb42c2c7ba2e4169d73963072d8573e2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 29, 9, 42, 13, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-29 09:42:13 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/86108_tests-505ab4e3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50679?repo=metabase/metabase&commitHash=505ab4e3bb42c2c7ba2e4169d73963072d8573e2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50679?repo=metabase/metabase&commitHash=505ab4e3bb42c2c7ba2e4169d73963072d8573e2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50679?repo=metabase/metabase&commitHash=505ab4e3bb42c2c7ba2e4169d73963072d8573e2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50679?repo=metabase/metabase&commitHash=505ab4e3bb42c2c7ba2e4169d73963072d8573e2&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50679?repo=metabase/metabase&commitHash=505ab4e3bb42c2c7ba2e4169d73963072d8573e2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2704371619,pull_request,closed,,Fix light theme embeddings has different text colors,"Closes https://github.com/metabase/metabase/issues/50677

### Description

This happened because of https://github.com/metabase/metabase/pull/45633. I believe I incorrectly implemented one of the lines.
https://github.com/metabase/metabase/blob/dd00df1a06ae729d9641e147a0fc91bf54349923/frontend/src/metabase/public/components/EmbedFrame/EmbedFrame.module.css#L32-L35

This `fill` property was inside the dark theme selector, but currently, we apply this style everywhere.

https://github.com/metabase/metabase/blob/8f41692cb09c41ad3734943422b585acd56e3dee/frontend/src/metabase/public/components/EmbedFrame/EmbedFrame.module.css#L22-L26
### How to verify

1. Create a dashboard with a pie chart. (I tested with a pie with outer and inner rings, but one ring also exhibited the same bug)
    - Set the label to show inside the slices.
    - Ensure at least one of the chart labels inside a slice is white color.
1. Visit a public link.
1. The text color should stay the same.

### Demo

#### Before
![image](https://github.com/user-attachments/assets/69dc7708-47f0-4f8e-ba19-b1eb358faa76)

#### After
![image](https://github.com/user-attachments/assets/bfbe313d-df09-4a18-8f11-d1753b8773ed)



### Checklist

- [ ] ~Tests have been added/updated to cover changes in this PR~ All loki tests for #45633 still pass, so I didn't add any more tests.
",WiNloSt,2024-11-29 08:45:24+00:00,['WiNloSt'],2024-11-29 14:23:12+00:00,2024-11-29 14:22:38+00:00,https://github.com/metabase/metabase/pull/50678,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2507386539, 'issue_id': 2704371619, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/53569_tests-a82a4a72-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50678?repo=metabase/metabase&commitHash=a82a4a721f25679ef132b4fc7b19ec0c5e603bbb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50678?repo=metabase/metabase&commitHash=a82a4a721f25679ef132b4fc7b19ec0c5e603bbb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50678?repo=metabase/metabase&commitHash=a82a4a721f25679ef132b4fc7b19ec0c5e603bbb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50678?repo=metabase/metabase&commitHash=a82a4a721f25679ef132b4fc7b19ec0c5e603bbb&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50678?repo=metabase/metabase&commitHash=a82a4a721f25679ef132b4fc7b19ec0c5e603bbb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 29, 9, 14, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2507917866, 'issue_id': 2704371619, 'author': 'WiNloSt', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 11, 29, 14, 23, 11, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-29 09:14:07 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/53569_tests-a82a4a72-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50678?repo=metabase/metabase&commitHash=a82a4a721f25679ef132b4fc7b19ec0c5e603bbb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50678?repo=metabase/metabase&commitHash=a82a4a721f25679ef132b4fc7b19ec0c5e603bbb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50678?repo=metabase/metabase&commitHash=a82a4a721f25679ef132b4fc7b19ec0c5e603bbb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50678?repo=metabase/metabase&commitHash=a82a4a721f25679ef132b4fc7b19ec0c5e603bbb&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50678?repo=metabase/metabase&commitHash=a82a4a721f25679ef132b4fc7b19ec0c5e603bbb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

WiNloSt (Issue Creator) on (2024-11-29 14:23:11 UTC): @metabase-bot backport release-x.51.x

"
2704341624,pull_request,closed,,qb predictable sticky buttons feedback sidebar,"Addresses sidebar related [feedback](https://metaboat.slack.com/archives/C0645JP1W81/p1732820905559619?thread_ts=1732714608.839499&cid=C0645JP1W81)

also should fix https://github.com/metabase/metabase/issues/50340

https://github.com/user-attachments/assets/1f25307a-3fbe-4e26-a74e-107d6c400e19


",uladzimirdev,2024-11-29 08:37:48+00:00,['uladzimirdev'],2024-11-30 06:41:55+00:00,2024-11-30 06:41:53+00:00,https://github.com/metabase/metabase/pull/50676,"[('.Team/Querying', '')]","[{'comment_id': 2507328654, 'issue_id': 2704341624, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff d6e87b3c9aba15d8b909149b57d3045b6737f66e...d5db3a019ea78da4689c0e520e79002db10c4e82.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/BaseChartSettings.tsx<br>frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/hooks.ts |', 'created_at': datetime.datetime(2024, 11, 29, 8, 39, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2507385888, 'issue_id': 2704341624, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13079_tests-d5db3a01-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50676?repo=metabase/metabase&commitHash=d5db3a019ea78da4689c0e520e79002db10c4e82&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50676?repo=metabase/metabase&commitHash=d5db3a019ea78da4689c0e520e79002db10c4e82&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50676?repo=metabase/metabase&commitHash=d5db3a019ea78da4689c0e520e79002db10c4e82&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50676?repo=metabase/metabase&commitHash=d5db3a019ea78da4689c0e520e79002db10c4e82&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding-sdk > create-question can create a question via the CreateQuestion component</code> | The test timed out while trying to find a label with the text ""Switch to visualization"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50676?repo=metabase/metabase&commitHash=d5db3a019ea78da4689c0e520e79002db10c4e82&utm_source=gh-comment&runConclusion=FAILURE&runId=906d4544-67e0-5d1f-b898-299a252bbfd9) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50676?repo=metabase/metabase&commitHash=d5db3a019ea78da4689c0e520e79002db10c4e82&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 29, 9, 13, 45, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-29 08:39:20 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff d6e87b3c9aba15d8b909149b57d3045b6737f66e...d5db3a019ea78da4689c0e520e79002db10c4e82.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/BaseChartSettings.tsx<br>frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/hooks.ts |

trunk-io[bot] on (2024-11-29 09:13:45 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13079_tests-d5db3a01-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50676?repo=metabase/metabase&commitHash=d5db3a019ea78da4689c0e520e79002db10c4e82&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50676?repo=metabase/metabase&commitHash=d5db3a019ea78da4689c0e520e79002db10c4e82&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50676?repo=metabase/metabase&commitHash=d5db3a019ea78da4689c0e520e79002db10c4e82&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50676?repo=metabase/metabase&commitHash=d5db3a019ea78da4689c0e520e79002db10c4e82&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding-sdk > create-question can create a question via the CreateQuestion component</code> | The test timed out while trying to find a label with the text ""Switch to visualization"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50676?repo=metabase/metabase&commitHash=d5db3a019ea78da4689c0e520e79002db10c4e82&utm_source=gh-comment&runConclusion=FAILURE&runId=906d4544-67e0-5d1f-b898-299a252bbfd9) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50676?repo=metabase/metabase&commitHash=d5db3a019ea78da4689c0e520e79002db10c4e82&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2704256081,pull_request,closed,,"🤖 backported ""Avoid renaming Search Index tables""",#50573,github-automation-metabase,2024-11-29 07:46:32+00:00,"['crisptrutski', 'github-automation-metabase']",2024-11-29 09:11:46+00:00,2024-11-29 08:28:17+00:00,https://github.com/metabase/metabase/pull/50675,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2507296817, 'issue_id': 2704256081, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/121029_tests-3aabdb67-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50675?repo=metabase/metabase&commitHash=3aabdb67d58be9d866d096fa58120bb62d47c6f7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50675?repo=metabase/metabase&commitHash=3aabdb67d58be9d866d096fa58120bb62d47c6f7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50675?repo=metabase/metabase&commitHash=3aabdb67d58be9d866d096fa58120bb62d47c6f7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50675?repo=metabase/metabase&commitHash=3aabdb67d58be9d866d096fa58120bb62d47c6f7&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50675?repo=metabase/metabase&commitHash=3aabdb67d58be9d866d096fa58120bb62d47c6f7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 29, 8, 17, 16, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-29 08:17:16 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/121029_tests-3aabdb67-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50675?repo=metabase/metabase&commitHash=3aabdb67d58be9d866d096fa58120bb62d47c6f7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50675?repo=metabase/metabase&commitHash=3aabdb67d58be9d866d096fa58120bb62d47c6f7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50675?repo=metabase/metabase&commitHash=3aabdb67d58be9d866d096fa58120bb62d47c6f7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50675?repo=metabase/metabase&commitHash=3aabdb67d58be9d866d096fa58120bb62d47c6f7&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50675?repo=metabase/metabase&commitHash=3aabdb67d58be9d866d096fa58120bb62d47c6f7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2704179240,pull_request,closed,,Take default Search weights from Stats,"Updates our default weights to those chosen experimentally in Stats, to go out in the next beta.

See: https://stats.metabase.com/api/search/weights?context=all

```
{
  ""default"": {
    ""recency"": 1,
    ""pinned"": 0,
    ""bookmarked"": 1,
    ""official-collection"": 1,
    ""dashboard"": 0,
    ""view-count"": 2,
    ""user-recency"": 5,
    ""verified"": 1,
    ""text"": 5,
    ""model"": 2
  },
  ""pinned"": 0,
  ""recency"": 2,
  ""command-palette"": {
    ""model/indexed-entity"": 0.5,
    ""model/dashboard"": 1,
    ""model/dataset"": 0.8,
    ""model/database"": 0.5,
    ""model/question"": 0,
    ""model/table"": 0.8,
    ""model/collection"": 1,
    ""model/metric"": 1
  },
  ""entity-picker"": {
    ""model/question"": 0,
    ""model/table"": 1,
    ""model/dataset"": 1,
    ""model/metric"": 1
  }
}
```

",crisptrutski,2024-11-29 07:24:58+00:00,['crisptrutski'],2024-11-29 09:57:58+00:00,2024-11-29 09:06:56+00:00,https://github.com/metabase/metabase/pull/50674,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2507246575, 'issue_id': 2704179240, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/122672_tests-476b0c0c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50674?repo=metabase/metabase&commitHash=476b0c0c0c5901f02b7bfc3c3b6616263188a013&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50674?repo=metabase/metabase&commitHash=476b0c0c0c5901f02b7bfc3c3b6616263188a013&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50674?repo=metabase/metabase&commitHash=476b0c0c0c5901f02b7bfc3c3b6616263188a013&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50674?repo=metabase/metabase&commitHash=476b0c0c0c5901f02b7bfc3c3b6616263188a013&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, but expected stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50674?repo=metabase/metabase&commitHash=476b0c0c0c5901f02b7bfc3c3b6616263188a013&utm_source=gh-comment&runConclusion=FAILURE&runId=70c1663b-1641-590a-9e85-a077f49f8d1b) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50674?repo=metabase/metabase&commitHash=476b0c0c0c5901f02b7bfc3c3b6616263188a013&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 29, 7, 40, 4, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-29 07:40:04 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/122672_tests-476b0c0c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50674?repo=metabase/metabase&commitHash=476b0c0c0c5901f02b7bfc3c3b6616263188a013&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50674?repo=metabase/metabase&commitHash=476b0c0c0c5901f02b7bfc3c3b6616263188a013&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50674?repo=metabase/metabase&commitHash=476b0c0c0c5901f02b7bfc3c3b6616263188a013&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50674?repo=metabase/metabase&commitHash=476b0c0c0c5901f02b7bfc3c3b6616263188a013&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, but expected stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50674?repo=metabase/metabase&commitHash=476b0c0c0c5901f02b7bfc3c3b6616263188a013&utm_source=gh-comment&runConclusion=FAILURE&runId=70c1663b-1641-590a-9e85-a077f49f8d1b) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50674?repo=metabase/metabase&commitHash=476b0c0c0c5901f02b7bfc3c3b6616263188a013&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2703579786,pull_request,closed,,"Pivot Exports Can Handle `nil` in Breakout Col, and Multiple Cols of the Same Aggregation Type","Fixes #50551
Fixes #50685 

If a pivot table has several measures configured, they might both use the same kind of aggregation (eg. 'sum'). Previously, this would lead to columns with the same name preventing the pivot-measures from properly making it through the export post processing. Now, the correct aliased/deduped name is used and all columns can be properly included in the pivot export.

Also fixes the case where a breakout column (pivot-row) contains `nil` values, which caused the pivot export to fail. Now, all nil values are grouped and handled appropriately.
",adam-james-v,2024-11-29 01:13:25+00:00,['adam-james-v'],2024-12-03 14:43:07+00:00,2024-12-03 14:40:59+00:00,https://github.com/metabase/metabase/pull/50672,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2506928633, 'issue_id': 2703579786, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/2_tests-0a7888dc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=0a7888dc43f0544e2326cc2a9a6bffd058c9905a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=0a7888dc43f0544e2326cc2a9a6bffd058c9905a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=0a7888dc43f0544e2326cc2a9a6bffd058c9905a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=0a7888dc43f0544e2326cc2a9a6bffd058c9905a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>delay-queue-test</code> | failure\\_text: queue\\_test.clj:92expected: (nil? (queue/take-delayed-batch! q 3 90 0))  actual: (not (nil? [612708096998])) | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=0a7888dc43f0544e2326cc2a9a6bffd058c9905a&utm_source=gh-comment&runConclusion=FAILURE&runId=8e1ef99e-0e47-5fb1-bfff-63914bdb1ca2) |\n| <code>delay-queue-test</code> | failure\\_text: queue\\_test.clj:95expected: (empty? (queue/take-delayed-batch! q 3))  actual: (not (empty? [837678248967])) | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=0a7888dc43f0544e2326cc2a9a6bffd058c9905a&utm_source=gh-comment&runConclusion=FAILURE&runId=b23786fc-a42c-553f-9e29-4c07bab5b657) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=0a7888dc43f0544e2326cc2a9a6bffd058c9905a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 29, 1, 41, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2506928634, 'issue_id': 2703579786, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/44669_tests-78a073b8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/72-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/56-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>pivot-options-test</code> | The expected result of \\`pivot-options\\` function does not match the actual result. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE&runId=50717169-3979-5708-90bc-95b05f018729) |\n| <code>pivot-options-test</code> | The expected result of \\`pivot-options\\` function does not match the actual result. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE&runId=e9d6c6e8-5f6a-5a25-9e17-f7210ef3d820) |\n| <code>pivot-options-test</code> | The expected result of \\`pivot-options\\` function does not match the actual result. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE&runId=4c263161-4de3-5809-b15d-7785991bd55e) |\n| <code>pivot-options-test</code> | The expected result of \\`pivot-options\\` function does not match the actual result. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE&runId=e57784c3-0d74-55f4-9a67-ee3d319baf58) |\n\n[... and 68 more](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE)\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>pivot-public-card-test</code> | The count of rows in the result does not match the expected count. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE&runId=c0e3a117-6b6a-5d26-b94e-bccc42369375) |\n| <code>pivot-public-dashcard-test</code> | Expected 1144 rows, but got 1384. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE&runId=9806858e-6adc-5e03-aa4c-626224892dea) |\n| <code>pivot-query-test</code> | failure\\_text: preview\\_embed\\_test.clj:441:postgresusing test-data datasetGET /api/preview\\_embed/pivot/card/:token/querysuccessful previewexpecte... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE&runId=df1214b1-052c-5fd0-9d0f-988742e426d0) |\n| <code>pivot-card-id-test</code> | The expected count of rows was 1144, but the actual count was 1384. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE&runId=8f079726-15c9-5e55-9458-334ddb7a62d6) |\n\n[... and 52 more](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 29, 1, 41, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2506928635, 'issue_id': 2703579786, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/44669_tests-78a073b8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/72-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/56-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>pivot-options-test</code> | The expected result of \\`pivot-options\\` function does not match the actual result. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE&runId=50717169-3979-5708-90bc-95b05f018729) |\n| <code>pivot-options-test</code> | The expected result of \\`pivot-options\\` function does not match the actual result. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE&runId=e9d6c6e8-5f6a-5a25-9e17-f7210ef3d820) |\n| <code>pivot-options-test</code> | The expected result of \\`pivot-options\\` function does not match the actual result. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE&runId=4c263161-4de3-5809-b15d-7785991bd55e) |\n| <code>pivot-options-test</code> | The expected result of \\`pivot-options\\` function does not match the actual result. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE&runId=e57784c3-0d74-55f4-9a67-ee3d319baf58) |\n\n[... and 68 more](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE)\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>pivot-public-card-test</code> | The count of rows in the result does not match the expected count. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE&runId=c0e3a117-6b6a-5d26-b94e-bccc42369375) |\n| <code>pivot-public-dashcard-test</code> | Expected 1144 rows, but got 1384. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE&runId=9806858e-6adc-5e03-aa4c-626224892dea) |\n| <code>pivot-query-test</code> | failure\\_text: preview\\_embed\\_test.clj:441:postgresusing test-data datasetGET /api/preview\\_embed/pivot/card/:token/querysuccessful previewexpecte... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE&runId=df1214b1-052c-5fd0-9d0f-988742e426d0) |\n| <code>pivot-card-id-test</code> | The expected count of rows was 1144, but the actual count was 1384. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE&runId=8f079726-15c9-5e55-9458-334ddb7a62d6) |\n\n[... and 52 more](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 29, 1, 41, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2514766174, 'issue_id': 2703579786, 'author': 'adam-james-v', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 12, 3, 14, 43, 5, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-29 01:41:13 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/2_tests-0a7888dc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=0a7888dc43f0544e2326cc2a9a6bffd058c9905a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=0a7888dc43f0544e2326cc2a9a6bffd058c9905a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=0a7888dc43f0544e2326cc2a9a6bffd058c9905a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=0a7888dc43f0544e2326cc2a9a6bffd058c9905a&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>delay-queue-test</code> | failure\_text: queue\_test.clj:92expected: (nil? (queue/take-delayed-batch! q 3 90 0))  actual: (not (nil? [612708096998])) | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=0a7888dc43f0544e2326cc2a9a6bffd058c9905a&utm_source=gh-comment&runConclusion=FAILURE&runId=8e1ef99e-0e47-5fb1-bfff-63914bdb1ca2) |
| <code>delay-queue-test</code> | failure\_text: queue\_test.clj:95expected: (empty? (queue/take-delayed-batch! q 3))  actual: (not (empty? [837678248967])) | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=0a7888dc43f0544e2326cc2a9a6bffd058c9905a&utm_source=gh-comment&runConclusion=FAILURE&runId=b23786fc-a42c-553f-9e29-4c07bab5b657) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=0a7888dc43f0544e2326cc2a9a6bffd058c9905a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-29 01:41:13 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/44669_tests-78a073b8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/72-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/56-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>pivot-options-test</code> | The expected result of \`pivot-options\` function does not match the actual result. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE&runId=50717169-3979-5708-90bc-95b05f018729) |
| <code>pivot-options-test</code> | The expected result of \`pivot-options\` function does not match the actual result. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE&runId=e9d6c6e8-5f6a-5a25-9e17-f7210ef3d820) |
| <code>pivot-options-test</code> | The expected result of \`pivot-options\` function does not match the actual result. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE&runId=4c263161-4de3-5809-b15d-7785991bd55e) |
| <code>pivot-options-test</code> | The expected result of \`pivot-options\` function does not match the actual result. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE&runId=e57784c3-0d74-55f4-9a67-ee3d319baf58) |

[... and 68 more](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE)
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>pivot-public-card-test</code> | The count of rows in the result does not match the expected count. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE&runId=c0e3a117-6b6a-5d26-b94e-bccc42369375) |
| <code>pivot-public-dashcard-test</code> | Expected 1144 rows, but got 1384. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE&runId=9806858e-6adc-5e03-aa4c-626224892dea) |
| <code>pivot-query-test</code> | failure\_text: preview\_embed\_test.clj:441:postgresusing test-data datasetGET /api/preview\_embed/pivot/card/:token/querysuccessful previewexpecte... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE&runId=df1214b1-052c-5fd0-9d0f-988742e426d0) |
| <code>pivot-card-id-test</code> | The expected count of rows was 1144, but the actual count was 1384. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE&runId=8f079726-15c9-5e55-9458-334ddb7a62d6) |

[... and 52 more](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-29 01:41:13 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/44669_tests-78a073b8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/72-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/56-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>pivot-options-test</code> | The expected result of \`pivot-options\` function does not match the actual result. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE&runId=50717169-3979-5708-90bc-95b05f018729) |
| <code>pivot-options-test</code> | The expected result of \`pivot-options\` function does not match the actual result. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE&runId=e9d6c6e8-5f6a-5a25-9e17-f7210ef3d820) |
| <code>pivot-options-test</code> | The expected result of \`pivot-options\` function does not match the actual result. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE&runId=4c263161-4de3-5809-b15d-7785991bd55e) |
| <code>pivot-options-test</code> | The expected result of \`pivot-options\` function does not match the actual result. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE&runId=e57784c3-0d74-55f4-9a67-ee3d319baf58) |

[... and 68 more](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE)
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>pivot-public-card-test</code> | The count of rows in the result does not match the expected count. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE&runId=c0e3a117-6b6a-5d26-b94e-bccc42369375) |
| <code>pivot-public-dashcard-test</code> | Expected 1144 rows, but got 1384. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE&runId=9806858e-6adc-5e03-aa4c-626224892dea) |
| <code>pivot-query-test</code> | failure\_text: preview\_embed\_test.clj:441:postgresusing test-data datasetGET /api/preview\_embed/pivot/card/:token/querysuccessful previewexpecte... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE&runId=df1214b1-052c-5fd0-9d0f-988742e426d0) |
| <code>pivot-card-id-test</code> | The expected count of rows was 1144, but the actual count was 1384. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE&runId=8f079726-15c9-5e55-9458-334ddb7a62d6) |

[... and 52 more](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50672?repo=metabase/metabase&commitHash=78a073b8e771c87efa75928fdbb4a734944f5cee&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

adam-james-v (Issue Creator) on (2024-12-03 14:43:05 UTC): @metabase-bot backport release-x.51.x

"
2703363325,pull_request,closed,,"🤖 backported ""Fix slack post recurrence field label""",#50666,github-automation-metabase,2024-11-28 22:24:28+00:00,"['deniskaber', 'github-automation-metabase']",2024-11-28 23:44:46+00:00,2024-11-28 23:06:11+00:00,https://github.com/metabase/metabase/pull/50671,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2506843482, 'issue_id': 2703363325, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13105_tests-34570e2b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50671?repo=metabase/metabase&commitHash=34570e2b07ba61fc40231442209c6ebe41a821ce&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50671?repo=metabase/metabase&commitHash=34570e2b07ba61fc40231442209c6ebe41a821ce&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50671?repo=metabase/metabase&commitHash=34570e2b07ba61fc40231442209c6ebe41a821ce&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50671?repo=metabase/metabase&commitHash=34570e2b07ba61fc40231442209c6ebe41a821ce&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50671?repo=metabase/metabase&commitHash=34570e2b07ba61fc40231442209c6ebe41a821ce&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 28, 23, 14, 21, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-28 23:14:21 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13105_tests-34570e2b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50671?repo=metabase/metabase&commitHash=34570e2b07ba61fc40231442209c6ebe41a821ce&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50671?repo=metabase/metabase&commitHash=34570e2b07ba61fc40231442209c6ebe41a821ce&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50671?repo=metabase/metabase&commitHash=34570e2b07ba61fc40231442209c6ebe41a821ce&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50671?repo=metabase/metabase&commitHash=34570e2b07ba61fc40231442209c6ebe41a821ce&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50671?repo=metabase/metabase&commitHash=34570e2b07ba61fc40231442209c6ebe41a821ce&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2703339623,pull_request,closed,,update token status types,"Make `TokenStatus` type match the BE schema:
![IMG_7752](https://github.com/user-attachments/assets/88eb57fd-7d07-448c-ac36-38de1310f6ac)
",alxnddr,2024-11-28 21:56:08+00:00,['alxnddr'],2025-01-27 22:14:17+00:00,2024-11-29 20:11:57+00:00,https://github.com/metabase/metabase/pull/50669,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2508215851, 'issue_id': 2703339623, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/16_tests-ec47f275-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50669?repo=metabase/metabase&commitHash=ec47f27564affe818aed8f06fc63fb14ce601eee&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50669?repo=metabase/metabase&commitHash=ec47f27564affe818aed8f06fc63fb14ce601eee&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50669?repo=metabase/metabase&commitHash=ec47f27564affe818aed8f06fc63fb14ce601eee&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50669?repo=metabase/metabase&commitHash=ec47f27564affe818aed8f06fc63fb14ce601eee&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50669?repo=metabase/metabase&commitHash=ec47f27564affe818aed8f06fc63fb14ce601eee&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 29, 17, 59, 39, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-29 17:59:39 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/16_tests-ec47f275-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50669?repo=metabase/metabase&commitHash=ec47f27564affe818aed8f06fc63fb14ce601eee&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50669?repo=metabase/metabase&commitHash=ec47f27564affe818aed8f06fc63fb14ce601eee&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50669?repo=metabase/metabase&commitHash=ec47f27564affe818aed8f06fc63fb14ce601eee&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50669?repo=metabase/metabase&commitHash=ec47f27564affe818aed8f06fc63fb14ce601eee&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50669?repo=metabase/metabase&commitHash=ec47f27564affe818aed8f06fc63fb14ce601eee&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2703338715,pull_request,closed,,"🤖 backported ""Enable underlying-records drill in table viz for multi-stage queries""",#50556,metabase-bot[bot],2024-11-28 21:55:19+00:00,['appleby'],2024-11-29 09:00:39+00:00,2024-11-29 09:00:38+00:00,https://github.com/metabase/metabase/pull/50668,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2506796466, 'issue_id': 2703338715, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff b31878d83beabe2c162fd81768e0cd7c66affe4b...375c854121a5598cb829b6d581d5f47887085bbc.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/lib/table.js |', 'created_at': datetime.datetime(2024, 11, 28, 21, 56, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2507152246, 'issue_id': 2703338715, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/112828_tests-375c8541-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50668?repo=metabase/metabase&commitHash=375c854121a5598cb829b6d581d5f47887085bbc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50668?repo=metabase/metabase&commitHash=375c854121a5598cb829b6d581d5f47887085bbc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50668?repo=metabase/metabase&commitHash=375c854121a5598cb829b6d581d5f47887085bbc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50668?repo=metabase/metabase&commitHash=375c854121a5598cb829b6d581d5f47887085bbc&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:329:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\\#'sync.fingerprint/max-refingerprint-field... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50668?repo=metabase/metabase&commitHash=375c854121a5598cb829b6d581d5f47887085bbc&utm_source=gh-comment&runConclusion=FAILURE&runId=73daeb13-9838-5b74-b5a8-4036e45403b9) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50668?repo=metabase/metabase&commitHash=375c854121a5598cb829b6d581d5f47887085bbc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 29, 6, 11, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2507152255, 'issue_id': 2703338715, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/52790_tests-375c8541-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50668?repo=metabase/metabase&commitHash=375c854121a5598cb829b6d581d5f47887085bbc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50668?repo=metabase/metabase&commitHash=375c854121a5598cb829b6d581d5f47887085bbc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50668?repo=metabase/metabase&commitHash=375c854121a5598cb829b6d581d5f47887085bbc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50668?repo=metabase/metabase&commitHash=375c854121a5598cb829b6d581d5f47887085bbc&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50668?repo=metabase/metabase&commitHash=375c854121a5598cb829b6d581d5f47887085bbc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 29, 6, 11, 21, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-28 21:56:46 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff b31878d83beabe2c162fd81768e0cd7c66affe4b...375c854121a5598cb829b6d581d5f47887085bbc.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/lib/table.js |

trunk-io[bot] on (2024-11-29 06:11:20 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/112828_tests-375c8541-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50668?repo=metabase/metabase&commitHash=375c854121a5598cb829b6d581d5f47887085bbc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50668?repo=metabase/metabase&commitHash=375c854121a5598cb829b6d581d5f47887085bbc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50668?repo=metabase/metabase&commitHash=375c854121a5598cb829b6d581d5f47887085bbc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50668?repo=metabase/metabase&commitHash=375c854121a5598cb829b6d581d5f47887085bbc&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:329:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerprint-field... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50668?repo=metabase/metabase&commitHash=375c854121a5598cb829b6d581d5f47887085bbc&utm_source=gh-comment&runConclusion=FAILURE&runId=73daeb13-9838-5b74-b5a8-4036e45403b9) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50668?repo=metabase/metabase&commitHash=375c854121a5598cb829b6d581d5f47887085bbc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-29 06:11:21 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/52790_tests-375c8541-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50668?repo=metabase/metabase&commitHash=375c854121a5598cb829b6d581d5f47887085bbc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50668?repo=metabase/metabase&commitHash=375c854121a5598cb829b6d581d5f47887085bbc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50668?repo=metabase/metabase&commitHash=375c854121a5598cb829b6d581d5f47887085bbc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50668?repo=metabase/metabase&commitHash=375c854121a5598cb829b6d581d5f47887085bbc&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50668?repo=metabase/metabase&commitHash=375c854121a5598cb829b6d581d5f47887085bbc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2703337820,pull_request,closed,,"🤖 backported ""Enable underlying-records drill in table viz for multi-stage queries""",#50556,github-automation-metabase,2024-11-28 21:54:23+00:00,"['appleby', 'github-automation-metabase']",2024-11-28 23:10:06+00:00,2024-11-28 23:10:05+00:00,https://github.com/metabase/metabase/pull/50667,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2506795876, 'issue_id': 2703337820, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 331a887c87fc29ac01463d44cc9a6b57129cb4fb...3f44c1de421485869d03ba722a5c9f5dfacda1f4.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/lib/table.js |', 'created_at': datetime.datetime(2024, 11, 28, 21, 55, 48, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-28 21:55:48 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 331a887c87fc29ac01463d44cc9a6b57129cb4fb...3f44c1de421485869d03ba722a5c9f5dfacda1f4.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/lib/table.js |

"
2703123748,pull_request,closed,,Fix slack post recurrence field label,"Closes https://github.com/metabase/metabase/issues/24150

### Description

Fix label width for slack posts recurrence

### Demo

https://github.com/user-attachments/assets/cbb6b226-96c9-436e-aec2-8f5d86acc40d

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",deniskaber,2024-11-28 19:50:44+00:00,['deniskaber'],2024-11-28 22:23:38+00:00,2024-11-28 22:23:36+00:00,https://github.com/metabase/metabase/pull/50666,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', ''), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2506745544, 'issue_id': 2703123748, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13105_tests-ad43e80e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50666?repo=metabase/metabase&commitHash=ad43e80eec9cc1effbbee7d4a6c996165437677b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50666?repo=metabase/metabase&commitHash=ad43e80eec9cc1effbbee7d4a6c996165437677b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50666?repo=metabase/metabase&commitHash=ad43e80eec9cc1effbbee7d4a6c996165437677b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50666?repo=metabase/metabase&commitHash=ad43e80eec9cc1effbbee7d4a6c996165437677b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50666?repo=metabase/metabase&commitHash=ad43e80eec9cc1effbbee7d4a6c996165437677b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 28, 20, 50, 39, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-28 20:50:39 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13105_tests-ad43e80e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50666?repo=metabase/metabase&commitHash=ad43e80eec9cc1effbbee7d4a6c996165437677b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50666?repo=metabase/metabase&commitHash=ad43e80eec9cc1effbbee7d4a6c996165437677b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50666?repo=metabase/metabase&commitHash=ad43e80eec9cc1effbbee7d4a6c996165437677b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50666?repo=metabase/metabase&commitHash=ad43e80eec9cc1effbbee7d4a6c996165437677b&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50666?repo=metabase/metabase&commitHash=ad43e80eec9cc1effbbee7d4a6c996165437677b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2703056274,pull_request,closed,,🚧 migrate query builder components from styled to mantine and css modules,"
`find ./frontend/src/metabase/query_builder/components -type f -name ""*.styled.*""` should not provide results

`frontend/src/metabase/querying` will be done is a separate PR",uladzimirdev,2024-11-28 19:23:08+00:00,['uladzimirdev'],2024-12-18 21:21:22+00:00,2024-12-18 21:21:11+00:00,https://github.com/metabase/metabase/pull/50665,"[('.Team/Querying', '')]","[{'comment_id': 2506717938, 'issue_id': 2703056274, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/47963_tests-10449e0d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50665?repo=metabase/metabase&commitHash=10449e0d776d4fa9e36d259252255f7985405134&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50665?repo=metabase/metabase&commitHash=10449e0d776d4fa9e36d259252255f7985405134&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50665?repo=metabase/metabase&commitHash=10449e0d776d4fa9e36d259252255f7985405134&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50665?repo=metabase/metabase&commitHash=10449e0d776d4fa9e36d259252255f7985405134&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50665?repo=metabase/metabase&commitHash=10449e0d776d4fa9e36d259252255f7985405134&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 28, 20, 13, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2552290112, 'issue_id': 2703056274, 'author': 'uladzimirdev', 'body': 'implemented in different PRs', 'created_at': datetime.datetime(2024, 12, 18, 21, 21, 20, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-28 20:13:38 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/47963_tests-10449e0d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50665?repo=metabase/metabase&commitHash=10449e0d776d4fa9e36d259252255f7985405134&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50665?repo=metabase/metabase&commitHash=10449e0d776d4fa9e36d259252255f7985405134&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50665?repo=metabase/metabase&commitHash=10449e0d776d4fa9e36d259252255f7985405134&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50665?repo=metabase/metabase&commitHash=10449e0d776d4fa9e36d259252255f7985405134&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50665?repo=metabase/metabase&commitHash=10449e0d776d4fa9e36d259252255f7985405134&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

uladzimirdev (Issue Creator) on (2024-12-18 21:21:20 UTC): implemented in different PRs

"
2703033732,pull_request,closed,,feat(sdk): add withChartTypeSelector prop to InteractiveQuestion,"Closes https://github.com/metabase/metabase/issues/50495

### Description

Adds the `withChartTypeSelector` prop to `InteractiveQuestion`, to be consistent with the same prop in `StaticQuestion`. 

Note that we'll also rename the existing `showVisualizationSelector` prop for StaticQuestion to `withChartTypeSelector` as well in https://github.com/metabase/metabase/pull/50656

### Checklist

- [x] Tests have been added/updated to cover changes in this PR - unit test",heypoom,2024-11-28 19:08:59+00:00,['heypoom'],2024-11-29 21:09:49+00:00,2024-11-29 20:23:02+00:00,https://github.com/metabase/metabase/pull/50664,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2506725510, 'issue_id': 2703033732, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13137_tests-67693f32-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50664?repo=metabase/metabase&commitHash=67693f3281163165985369c01a45f93389f308c6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50664?repo=metabase/metabase&commitHash=67693f3281163165985369c01a45f93389f308c6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50664?repo=metabase/metabase&commitHash=67693f3281163165985369c01a45f93389f308c6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50664?repo=metabase/metabase&commitHash=67693f3281163165985369c01a45f93389f308c6&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50664?repo=metabase/metabase&commitHash=67693f3281163165985369c01a45f93389f308c6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 28, 20, 23, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2508601087, 'issue_id': 2703033732, 'author': 'heypoom', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 11, 29, 20, 23, 41, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-28 20:23:41 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13137_tests-67693f32-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50664?repo=metabase/metabase&commitHash=67693f3281163165985369c01a45f93389f308c6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50664?repo=metabase/metabase&commitHash=67693f3281163165985369c01a45f93389f308c6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50664?repo=metabase/metabase&commitHash=67693f3281163165985369c01a45f93389f308c6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50664?repo=metabase/metabase&commitHash=67693f3281163165985369c01a45f93389f308c6&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50664?repo=metabase/metabase&commitHash=67693f3281163165985369c01a45f93389f308c6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

heypoom (Issue Creator) on (2024-11-29 20:23:41 UTC): @metabase-bot backport release-x.51.x

"
2703021165,pull_request,closed,,feat(sdk): use string types for specifying entity ids instead of internal nanoid type,"Closes https://github.com/metabase/metabase/issues/50563

### Description

SDK users cannot use entity IDs in question components today because they cannot construct the NanoID-based type. This PR updates the types to use plain strings for specifying entity ids in question components.

Note that the dashboard components already uses the `DashboardId` type which is already defined as `number | string`, so SDK users can already pass in entity ids there.

Also, the docs are already correct that we can use ""number or string"", so no doc changes needed.",heypoom,2024-11-28 18:56:52+00:00,['heypoom'],2024-11-29 20:24:47+00:00,2024-11-29 19:48:59+00:00,https://github.com/metabase/metabase/pull/50663,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2506726656, 'issue_id': 2703021165, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/16_tests-058a6cfa-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50663?repo=metabase/metabase&commitHash=058a6cfaf5367a69eda6d7ea4e22bf9657ed069d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50663?repo=metabase/metabase&commitHash=058a6cfaf5367a69eda6d7ea4e22bf9657ed069d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50663?repo=metabase/metabase&commitHash=058a6cfaf5367a69eda6d7ea4e22bf9657ed069d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50663?repo=metabase/metabase&commitHash=058a6cfaf5367a69eda6d7ea4e22bf9657ed069d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50663?repo=metabase/metabase&commitHash=058a6cfaf5367a69eda6d7ea4e22bf9657ed069d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 28, 20, 25, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2508601277, 'issue_id': 2703021165, 'author': 'heypoom', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 11, 29, 20, 23, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2508603933, 'issue_id': 2703021165, 'author': 'github-actions[bot]', 'body': '@heypoom something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12090245605)', 'created_at': datetime.datetime(2024, 11, 29, 20, 24, 46, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-28 20:25:18 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/16_tests-058a6cfa-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50663?repo=metabase/metabase&commitHash=058a6cfaf5367a69eda6d7ea4e22bf9657ed069d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50663?repo=metabase/metabase&commitHash=058a6cfaf5367a69eda6d7ea4e22bf9657ed069d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50663?repo=metabase/metabase&commitHash=058a6cfaf5367a69eda6d7ea4e22bf9657ed069d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50663?repo=metabase/metabase&commitHash=058a6cfaf5367a69eda6d7ea4e22bf9657ed069d&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50663?repo=metabase/metabase&commitHash=058a6cfaf5367a69eda6d7ea4e22bf9657ed069d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

heypoom (Issue Creator) on (2024-11-29 20:23:46 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-11-29 20:24:46 UTC): @heypoom something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12090245605)

"
2702881758,pull_request,closed,,Migrate Slack channel picker field to use mantine autocomplete,"Closes https://github.com/metabase/metabase/issues/33383

### Description

Migrate SlackChannelField to use Autocomplete from the design system (mantine).
Note: this new version limits picker dropdown list down to 10 items. Previous one listed all possible options with a scrollbar.

### How to verify

Try to reproduce using https://github.com/metabase/metabase/issues/33383#issuecomment-1693377221

### Demo

https://github.com/user-attachments/assets/cfaada0f-158b-4a15-80c0-aa9f882fbdc3

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",deniskaber,2024-11-28 17:46:17+00:00,['deniskaber'],2024-11-29 21:53:40+00:00,2024-11-29 21:20:09+00:00,https://github.com/metabase/metabase/pull/50661,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2506642916, 'issue_id': 2702881758, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13152_tests-b45bda6f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50661?repo=metabase/metabase&commitHash=b45bda6fed14483bf433ffd645e9c16ff22de6a0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50661?repo=metabase/metabase&commitHash=b45bda6fed14483bf433ffd645e9c16ff22de6a0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50661?repo=metabase/metabase&commitHash=b45bda6fed14483bf433ffd645e9c16ff22de6a0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50661?repo=metabase/metabase&commitHash=b45bda6fed14483bf433ffd645e9c16ff22de6a0&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50661?repo=metabase/metabase&commitHash=b45bda6fed14483bf433ffd645e9c16ff22de6a0&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 28, 18, 44, 19, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-28 18:44:19 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13152_tests-b45bda6f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50661?repo=metabase/metabase&commitHash=b45bda6fed14483bf433ffd645e9c16ff22de6a0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50661?repo=metabase/metabase&commitHash=b45bda6fed14483bf433ffd645e9c16ff22de6a0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50661?repo=metabase/metabase&commitHash=b45bda6fed14483bf433ffd645e9c16ff22de6a0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50661?repo=metabase/metabase&commitHash=b45bda6fed14483bf433ffd645e9c16ff22de6a0&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50661?repo=metabase/metabase&commitHash=b45bda6fed14483bf433ffd645e9c16ff22de6a0&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2702796589,pull_request,closed,,feat(sdk): combine title props in interactive question,"Closes https://github.com/metabase/metabase/issues/50489

### Description

Removes the `withTitle` and `customTitle` props in interactive question component, and replaces it with a `title` property with.

- `undefined` or `true` shows the default title.
- `false` hides the title
- `() => ReactNode`: custom title
- `ReactNode`: custom title

Note that the title is **now shown by default** which is a breaking change, as we previously hide the question title by default. Also, note that dashboard components are out-of-scope for this PR.

The resulting type should now be `title: boolean | ReactNode | () => ReactNode`. In the future, we will support `(question: Question) => ReactNode` once https://github.com/metabase/metabase/issues/50487 is implemented.

### How to verify

- Use the following test cases `undefined` (unset), `true`, `false`, `string`, `JSX.Element` and `() => JSX.Element` for the `title` prop, and the behavior should match the above. Remember that `ReactNode` includes plain strings so `""My question title""` should work.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR - unit test
",heypoom,2024-11-28 17:15:13+00:00,['heypoom'],2024-12-09 18:46:52+00:00,2024-12-09 18:23:31+00:00,https://github.com/metabase/metabase/pull/50660,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2506669237, 'issue_id': 2702796589, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/12894_tests-89db8a69-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50660?repo=metabase/metabase&commitHash=89db8a697962b72596e0225ec5a95c79496a06aa&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50660?repo=metabase/metabase&commitHash=89db8a697962b72596e0225ec5a95c79496a06aa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50660?repo=metabase/metabase&commitHash=89db8a697962b72596e0225ec5a95c79496a06aa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50660?repo=metabase/metabase&commitHash=89db8a697962b72596e0225ec5a95c79496a06aa&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50660?repo=metabase/metabase&commitHash=89db8a697962b72596e0225ec5a95c79496a06aa&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 28, 19, 14, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2529013106, 'issue_id': 2702796589, 'author': 'heypoom', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 12, 9, 18, 23, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2529017626, 'issue_id': 2702796589, 'author': 'github-actions[bot]', 'body': '@heypoom something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12241863431)', 'created_at': datetime.datetime(2024, 12, 9, 18, 25, 2, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-28 19:14:46 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/12894_tests-89db8a69-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50660?repo=metabase/metabase&commitHash=89db8a697962b72596e0225ec5a95c79496a06aa&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50660?repo=metabase/metabase&commitHash=89db8a697962b72596e0225ec5a95c79496a06aa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50660?repo=metabase/metabase&commitHash=89db8a697962b72596e0225ec5a95c79496a06aa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50660?repo=metabase/metabase&commitHash=89db8a697962b72596e0225ec5a95c79496a06aa&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50660?repo=metabase/metabase&commitHash=89db8a697962b72596e0225ec5a95c79496a06aa&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

heypoom (Issue Creator) on (2024-12-09 18:23:37 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-12-09 18:25:02 UTC): @heypoom something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12241863431)

"
2702740306,pull_request,closed,,feat(sdk): rename prop names to be clear and explicit,"Closes https://github.com/metabase/metabase/issues/50492, https://github.com/metabase/metabase/issues/50005 and https://github.com/metabase/metabase/issues/50491

### Description

Renames a couple of prop names in the SDK to be more explicit about what they do:

- `parameterValues` and `initialParameterValues`: renamed to `initialSqlParameters` for question components, and `initialParameters` for dashboard components
- `onClose` to `onCancel` for `InteractiveQuestion.SaveQuestionForm`
- `questionHeight` to `drillThroughQuestionHeight`
- `showVisualizationSelector` to `withChartTypeSelector` (a prerequisite for https://github.com/metabase/metabase/issues/50495). This is also to be consistent with the `ChartTypeSelector` namespaced component.

We've given customers a heads-up in the Slack channel that there will be breaking changes to come, so this is a good time to start introducing breaking changes to clean up the API - to prepare ourselves for GA release.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR - E2E
",heypoom,2024-11-28 16:49:30+00:00,['heypoom'],2024-12-03 22:21:12+00:00,2024-12-03 22:19:40+00:00,https://github.com/metabase/metabase/pull/50656,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2506691876, 'issue_id': 2702740306, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13153_tests-e35dea8a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50656?repo=metabase/metabase&commitHash=e35dea8a0c12f9be8732386f5671e50acc8bef01&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50656?repo=metabase/metabase&commitHash=e35dea8a0c12f9be8732386f5671e50acc8bef01&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50656?repo=metabase/metabase&commitHash=e35dea8a0c12f9be8732386f5671e50acc8bef01&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50656?repo=metabase/metabase&commitHash=e35dea8a0c12f9be8732386f5671e50acc8bef01&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native should be able to add new columns after hiding some (metabase\\#15393)</code> | The element with class \'emotion-1mzrabc.emzg3k00\' did not contain the expected content \'/hidden/i\' within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50656?repo=metabase/metabase&commitHash=e35dea8a0c12f9be8732386f5671e50acc8bef01&utm_source=gh-comment&runConclusion=FAILURE&runId=1724d43e-fe19-5b25-b610-1716769268cd) |\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 8490 static embeddings should respect \\`\\#locale\\` hash parameter (metabase\\#8490, metabase\\#50182)</code> | Unable to find an element with the text ""11월 2023"" after 4000ms, possibly due to broken text being split by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50656?repo=metabase/metabase&commitHash=e35dea8a0c12f9be8732386f5671e50acc8bef01&utm_source=gh-comment&runConclusion=FAILURE&runId=6a1d898b-367b-57df-865e-4de910bb69d8) |\n| <code>scenarios > filters > sql filters > field filter > Date when set as the default value for a required filter</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50656?repo=metabase/metabase&commitHash=e35dea8a0c12f9be8732386f5671e50acc8bef01&utm_source=gh-comment&runConclusion=FAILURE&runId=053d47c3-3700-5ece-b44b-a05efa3a3317) |\n| <code>scenarios > filters > sql filters > field filter > Date when set through the filter widget</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50656?repo=metabase/metabase&commitHash=e35dea8a0c12f9be8732386f5671e50acc8bef01&utm_source=gh-comment&runConclusion=FAILURE&runId=4beec991-aa27-51b0-848f-8ebe444fafe4) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50656?repo=metabase/metabase&commitHash=e35dea8a0c12f9be8732386f5671e50acc8bef01&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 28, 19, 41, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2515667507, 'issue_id': 2702740306, 'author': 'heypoom', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 12, 3, 22, 19, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2515669379, 'issue_id': 2702740306, 'author': 'github-actions[bot]', 'body': '@heypoom something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12149133467)', 'created_at': datetime.datetime(2024, 12, 3, 22, 21, 11, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-28 19:41:51 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13153_tests-e35dea8a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50656?repo=metabase/metabase&commitHash=e35dea8a0c12f9be8732386f5671e50acc8bef01&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50656?repo=metabase/metabase&commitHash=e35dea8a0c12f9be8732386f5671e50acc8bef01&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50656?repo=metabase/metabase&commitHash=e35dea8a0c12f9be8732386f5671e50acc8bef01&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50656?repo=metabase/metabase&commitHash=e35dea8a0c12f9be8732386f5671e50acc8bef01&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native should be able to add new columns after hiding some (metabase\#15393)</code> | The element with class 'emotion-1mzrabc.emzg3k00' did not contain the expected content '/hidden/i' within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50656?repo=metabase/metabase&commitHash=e35dea8a0c12f9be8732386f5671e50acc8bef01&utm_source=gh-comment&runConclusion=FAILURE&runId=1724d43e-fe19-5b25-b610-1716769268cd) |
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 8490 static embeddings should respect \`\#locale\` hash parameter (metabase\#8490, metabase\#50182)</code> | Unable to find an element with the text ""11월 2023"" after 4000ms, possibly due to broken text being split by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50656?repo=metabase/metabase&commitHash=e35dea8a0c12f9be8732386f5671e50acc8bef01&utm_source=gh-comment&runConclusion=FAILURE&runId=6a1d898b-367b-57df-865e-4de910bb69d8) |
| <code>scenarios > filters > sql filters > field filter > Date when set as the default value for a required filter</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50656?repo=metabase/metabase&commitHash=e35dea8a0c12f9be8732386f5671e50acc8bef01&utm_source=gh-comment&runConclusion=FAILURE&runId=053d47c3-3700-5ece-b44b-a05efa3a3317) |
| <code>scenarios > filters > sql filters > field filter > Date when set through the filter widget</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50656?repo=metabase/metabase&commitHash=e35dea8a0c12f9be8732386f5671e50acc8bef01&utm_source=gh-comment&runConclusion=FAILURE&runId=4beec991-aa27-51b0-848f-8ebe444fafe4) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50656?repo=metabase/metabase&commitHash=e35dea8a0c12f9be8732386f5671e50acc8bef01&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

heypoom (Issue Creator) on (2024-12-03 22:19:55 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-12-03 22:21:11 UTC): @heypoom something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12149133467)

"
2702678660,pull_request,closed,,"🤖 backported ""ci(sdk): remove unreliable loading indicator e2e for create question""",#50555,github-automation-metabase,2024-11-28 16:31:25+00:00,"['heypoom', 'github-automation-metabase']",2024-11-29 13:11:18+00:00,2024-11-29 13:11:17+00:00,https://github.com/metabase/metabase/pull/50654,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2702630101,pull_request,closed,,qb predictable editor animation,"- **move view footer control state to redux**
- **fix typecheck**
- **fix logic**
- **move logic to redux**
- **fix new test**
- **WIP**
- **add animation for visualize button**
- **add more animation**
- **position absolute**
- **WIP**
",uladzimirdev,2024-11-28 16:03:21+00:00,['uladzimirdev'],2024-12-24 11:14:55+00:00,2024-12-24 11:14:39+00:00,https://github.com/metabase/metabase/pull/50648,"[('.Team/Querying', ''), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2506517842, 'issue_id': 2702630101, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13079_tests-eb386401-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50648?repo=metabase/metabase&commitHash=eb386401ba4929582a8ecc8a2108a8c49b473527&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50648?repo=metabase/metabase&commitHash=eb386401ba4929582a8ecc8a2108a8c49b473527&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50648?repo=metabase/metabase&commitHash=eb386401ba4929582a8ecc8a2108a8c49b473527&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50648?repo=metabase/metabase&commitHash=eb386401ba4929582a8ecc8a2108a8c49b473527&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 40435 should make new query columns visible by default (metabase\\#40435)</code> | The test timed out while trying to find a label with the text \'Switch to visualization\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50648?repo=metabase/metabase&commitHash=eb386401ba4929582a8ecc8a2108a8c49b473527&utm_source=gh-comment&runConclusion=FAILURE&runId=094e88d2-9e94-545a-bc9e-51d98d9e6112) |\n| <code>scenarios > embedding-sdk > create-question can create a question via the CreateQuestion component</code> | The test timed out while trying to find a label with the text ""Switch to visualization"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50648?repo=metabase/metabase&commitHash=eb386401ba4929582a8ecc8a2108a8c49b473527&utm_source=gh-comment&runConclusion=FAILURE&runId=c034f957-b395-59c5-b787-f3450db3a521) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50648?repo=metabase/metabase&commitHash=eb386401ba4929582a8ecc8a2108a8c49b473527&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 28, 16, 58, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2561005258, 'issue_id': 2702630101, 'author': 'uladzimirdev', 'body': 'not needed as the epic is being reworked', 'created_at': datetime.datetime(2024, 12, 24, 11, 14, 53, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-28 16:58:55 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13079_tests-eb386401-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50648?repo=metabase/metabase&commitHash=eb386401ba4929582a8ecc8a2108a8c49b473527&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50648?repo=metabase/metabase&commitHash=eb386401ba4929582a8ecc8a2108a8c49b473527&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50648?repo=metabase/metabase&commitHash=eb386401ba4929582a8ecc8a2108a8c49b473527&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50648?repo=metabase/metabase&commitHash=eb386401ba4929582a8ecc8a2108a8c49b473527&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 40435 should make new query columns visible by default (metabase\#40435)</code> | The test timed out while trying to find a label with the text 'Switch to visualization'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50648?repo=metabase/metabase&commitHash=eb386401ba4929582a8ecc8a2108a8c49b473527&utm_source=gh-comment&runConclusion=FAILURE&runId=094e88d2-9e94-545a-bc9e-51d98d9e6112) |
| <code>scenarios > embedding-sdk > create-question can create a question via the CreateQuestion component</code> | The test timed out while trying to find a label with the text ""Switch to visualization"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50648?repo=metabase/metabase&commitHash=eb386401ba4929582a8ecc8a2108a8c49b473527&utm_source=gh-comment&runConclusion=FAILURE&runId=c034f957-b395-59c5-b787-f3450db3a521) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50648?repo=metabase/metabase&commitHash=eb386401ba4929582a8ecc8a2108a8c49b473527&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

uladzimirdev (Issue Creator) on (2024-12-24 11:14:53 UTC): not needed as the epic is being reworked

"
2702478925,pull_request,closed,,Fix query dropdown inconsistencies,"Adds a few small fixes to the query dropdown.

1. Adds a nicer back button for breakout
<img width=""806"" alt=""image"" src=""https://github.com/user-attachments/assets/8b5641bf-8c54-4ee0-930b-bc986f299f22"">


2. Changes the behavior of the filter and summary dropdowns to ensure that we always go back to the list when a back button is clicked

",oisincoveney,2024-11-28 15:11:39+00:00,['oisincoveney'],2024-12-06 12:41:26+00:00,2024-12-06 12:41:24+00:00,https://github.com/metabase/metabase/pull/50644,"[('.Team/Embedding', '')]","[{'comment_id': 2506336926, 'issue_id': 2702478925, 'author': 'oisincoveney', 'body': 'This change is part of the following stack:\n\n- #50152\n    - #50644 ◀\n\n<sub>Change managed by [git-spice](https://abhinav.github.io/git-spice/).</sub>\n<!-- gs:navigation comment -->', 'created_at': datetime.datetime(2024, 11, 28, 15, 11, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2506435619, 'issue_id': 2702478925, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13096_tests-8e1213d6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50644?repo=metabase/metabase&commitHash=8e1213d6e588de70be1c8d83ee945654e0317082&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50644?repo=metabase/metabase&commitHash=8e1213d6e588de70be1c8d83ee945654e0317082&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50644?repo=metabase/metabase&commitHash=8e1213d6e588de70be1c8d83ee945654e0317082&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50644?repo=metabase/metabase&commitHash=8e1213d6e588de70be1c8d83ee945654e0317082&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50644?repo=metabase/metabase&commitHash=8e1213d6e588de70be1c8d83ee945654e0317082&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 28, 16, 5, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2522865154, 'issue_id': 2702478925, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 8ce7af126f5fcf1d518d8b224a737ed2a6852fbc...8e1213d6e588de70be1c8d83ee945654e0317082.\n\nNo notifications.', 'created_at': datetime.datetime(2024, 12, 6, 11, 0, 14, tzinfo=datetime.timezone.utc)}]","oisincoveney (Issue Creator) on (2024-11-28 15:11:40 UTC): This change is part of the following stack:

- #50152
    - #50644 ◀

<sub>Change managed by [git-spice](https://abhinav.github.io/git-spice/).</sub>
<!-- gs:navigation comment -->

trunk-io[bot] on (2024-11-28 16:05:03 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13096_tests-8e1213d6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50644?repo=metabase/metabase&commitHash=8e1213d6e588de70be1c8d83ee945654e0317082&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50644?repo=metabase/metabase&commitHash=8e1213d6e588de70be1c8d83ee945654e0317082&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50644?repo=metabase/metabase&commitHash=8e1213d6e588de70be1c8d83ee945654e0317082&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50644?repo=metabase/metabase&commitHash=8e1213d6e588de70be1c8d83ee945654e0317082&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50644?repo=metabase/metabase&commitHash=8e1213d6e588de70be1c8d83ee945654e0317082&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2024-12-06 11:00:14 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 8ce7af126f5fcf1d518d8b224a737ed2a6852fbc...8e1213d6e588de70be1c8d83ee945654e0317082.

No notifications.

"
2702459357,pull_request,closed,,refactor(sdk): use relative paths when fixing d.ts files,"### Description

This is mostly to make types work on https://github.com/metabase/metabase/pull/50230, which are currently broken.

In that branch, the types are resolving correctly to the first ""layer"" of the sdk, but then it wasn't resolving types from `@metabase/embedding-sdk-react` from inside the sdk itself. I tried to change the package.json to make that work, but I couldn't find anything that worked and even if it worked I'm afraid it would have made typescript autocomplete folders like `@metabase/embedding-sdk-react/dist` etc which we don't want.

The only solution I found was to make the d.ts not use the package name but instead use relative paths.

I think this makes sense on its own so I'm opening a PR with just this change, also to keep the prs smaller

###

Before:
<img width=""1156"" alt=""image"" src=""https://github.com/user-attachments/assets/70e356ed-9fc9-40b7-a939-154705fd659b"">

After:
<img width=""1341"" alt=""image"" src=""https://github.com/user-attachments/assets/6f9df9c6-d649-4aa5-9140-68e1864873c5"">

",npretto,2024-11-28 15:01:52+00:00,['npretto'],2025-02-04 14:54:43+00:00,2024-12-03 13:19:45+00:00,https://github.com/metabase/metabase/pull/50643,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2506403243, 'issue_id': 2702459357, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/2_tests-01278c5b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50643?repo=metabase/metabase&commitHash=01278c5b152349c5b08fe705ed1a36982ae4a2b1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50643?repo=metabase/metabase&commitHash=01278c5b152349c5b08fe705ed1a36982ae4a2b1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50643?repo=metabase/metabase&commitHash=01278c5b152349c5b08fe705ed1a36982ae4a2b1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50643?repo=metabase/metabase&commitHash=01278c5b152349c5b08fe705ed1a36982ae4a2b1&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>delay-queue-test</code> | failure\\_text: queue\\_test.clj:92expected: (nil? (queue/take-delayed-batch! q 3 90 0))  actual: (not (nil? [1844579177075])) | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50643?repo=metabase/metabase&commitHash=01278c5b152349c5b08fe705ed1a36982ae4a2b1&utm_source=gh-comment&runConclusion=FAILURE&runId=ee773ea4-77b8-5d2e-930e-8739a194f66e) |\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>e2e-storage-ingestion-test</code> | The expected and actual sets do not match. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50643?repo=metabase/metabase&commitHash=01278c5b152349c5b08fe705ed1a36982ae4a2b1&utm_source=gh-comment&runConclusion=FAILURE&runId=4a0122a9-0524-5b69-9682-14be511d6b95) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50643?repo=metabase/metabase&commitHash=01278c5b152349c5b08fe705ed1a36982ae4a2b1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 28, 15, 47, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2507820584, 'issue_id': 2702459357, 'author': 'WiNloSt', 'body': 'Can you provide situations where the type would fail to resolve when referencing the package name so I could tes itt?', 'created_at': datetime.datetime(2024, 11, 29, 13, 27, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2507853699, 'issue_id': 2702459357, 'author': 'npretto', 'body': '> Can you provide situations where the type would fail to resolve when referencing the package name so I could tes itt?\r\n\r\nYou can try it on 747fda80a688173e3c02695dd7b1995e06c65bd6, which is the commit on https://github.com/metabase/metabase/pull/50230 just before I cherry-picked this fix.\r\nAs I mentioned, I tried to solve this by just changing the package.json but I had no luck', 'created_at': datetime.datetime(2024, 11, 29, 13, 46, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2507938874, 'issue_id': 2702459357, 'author': 'npretto', 'body': '> I also tested #50230 and `/next` types are still broken for me.\r\n> \r\n> ![image](https://private-user-images.githubusercontent.com/1937582/391113462-cdedf081-c81b-42e3-8549-8d3be3822bd9.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzI4OTA4MjYsIm5iZiI6MTczMjg5MDUyNiwicGF0aCI6Ii8xOTM3NTgyLzM5MTExMzQ2Mi1jZGVkZjA4MS1jODFiLTQyZTMtODU0OS04ZDNiZTM4MjJiZDkucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MTEyOSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDExMjlUMTQyODQ2WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9ZWNmODAyZmNlZTQwMDdmYjE2ZmRlMjI1NTBhZmFmYTFlOGEzYWFmOTk5MTE1YzJlZWQ3MWM4NDFlNDkyZDc5MyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.a0R32yNO22FYQHduTR-W_SPSzPCr17UfXTPoHZO04FY)\r\n> \r\n> Did that work for you? I checked that the SDK package uses relative paths as expected.\r\n\r\nIn what project did you get that?\r\nI do have `moduleResolution` set to `bundler` on both my app router and pages router sample apps', 'created_at': datetime.datetime(2024, 11, 29, 14, 35, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2507968206, 'issue_id': 2702459357, 'author': 'WiNloSt', 'body': '> > I also tested #50230 and `/next` types are still broken for me.\r\n> > ![image](https://private-user-images.githubusercontent.com/1937582/391113462-cdedf081-c81b-42e3-8549-8d3be3822bd9.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzI4OTA4MjYsIm5iZiI6MTczMjg5MDUyNiwicGF0aCI6Ii8xOTM3NTgyLzM5MTExMzQ2Mi1jZGVkZjA4MS1jODFiLTQyZTMtODU0OS04ZDNiZTM4MjJiZDkucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MTEyOSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDExMjlUMTQyODQ2WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9ZWNmODAyZmNlZTQwMDdmYjE2ZmRlMjI1NTBhZmFmYTFlOGEzYWFmOTk5MTE1YzJlZWQ3MWM4NDFlNDkyZDc5MyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.a0R32yNO22FYQHduTR-W_SPSzPCr17UfXTPoHZO04FY)\r\n> > Did that work for you? I checked that the SDK package uses relative paths as expected.\r\n> \r\n> In what project did you get that? I do have `moduleResolution` set to `bundler` on both my app router and pages router sample apps\r\n\r\nOK, my template used `""moduleResolution"": ""node"",` for some reason. Does next come with `""moduleResolution"": ""bundler""` by default?', 'created_at': datetime.datetime(2024, 11, 29, 14, 54, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2508012562, 'issue_id': 2702459357, 'author': 'npretto', 'body': '> > > I also tested #50230 and `/next` types are still broken for me.\r\n> > > ![image](https://private-user-images.githubusercontent.com/1937582/391113462-cdedf081-c81b-42e3-8549-8d3be3822bd9.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzI4OTA4MjYsIm5iZiI6MTczMjg5MDUyNiwicGF0aCI6Ii8xOTM3NTgyLzM5MTExMzQ2Mi1jZGVkZjA4MS1jODFiLTQyZTMtODU0OS04ZDNiZTM4MjJiZDkucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MTEyOSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDExMjlUMTQyODQ2WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9ZWNmODAyZmNlZTQwMDdmYjE2ZmRlMjI1NTBhZmFmYTFlOGEzYWFmOTk5MTE1YzJlZWQ3MWM4NDFlNDkyZDc5MyZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.a0R32yNO22FYQHduTR-W_SPSzPCr17UfXTPoHZO04FY)\r\n> > > Did that work for you? I checked that the SDK package uses relative paths as expected.\r\n> > \r\n> > \r\n> > In what project did you get that? I do have `moduleResolution` set to `bundler` on both my app router and pages router sample apps\r\n> \r\n> OK, my template used `""moduleResolution"": ""node"",` for some reason. Does next come with `""moduleResolution"": ""bundler""` by default?\r\n\r\nSeems like so:\r\n```\r\nnpx create-next-app@14 test-next-app-next-14\r\ncat test-next-app-next-14/tsconfig.json | grep moduleResolution\r\n    ""moduleResolution"": ""bundler"",\r\n```\r\nInterestingly, vite also has bundler as default.\r\nI had to find my old cra test, that had `node` but it still seemed to work.\r\n\r\nChanging `moduleResolution` to `node` on next broke it, so it\'s a combination of settings I think', 'created_at': datetime.datetime(2024, 11, 29, 15, 14, 16, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-28 15:47:21 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/2_tests-01278c5b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50643?repo=metabase/metabase&commitHash=01278c5b152349c5b08fe705ed1a36982ae4a2b1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50643?repo=metabase/metabase&commitHash=01278c5b152349c5b08fe705ed1a36982ae4a2b1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50643?repo=metabase/metabase&commitHash=01278c5b152349c5b08fe705ed1a36982ae4a2b1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50643?repo=metabase/metabase&commitHash=01278c5b152349c5b08fe705ed1a36982ae4a2b1&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>delay-queue-test</code> | failure\_text: queue\_test.clj:92expected: (nil? (queue/take-delayed-batch! q 3 90 0))  actual: (not (nil? [1844579177075])) | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50643?repo=metabase/metabase&commitHash=01278c5b152349c5b08fe705ed1a36982ae4a2b1&utm_source=gh-comment&runConclusion=FAILURE&runId=ee773ea4-77b8-5d2e-930e-8739a194f66e) |
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>e2e-storage-ingestion-test</code> | The expected and actual sets do not match. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50643?repo=metabase/metabase&commitHash=01278c5b152349c5b08fe705ed1a36982ae4a2b1&utm_source=gh-comment&runConclusion=FAILURE&runId=4a0122a9-0524-5b69-9682-14be511d6b95) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50643?repo=metabase/metabase&commitHash=01278c5b152349c5b08fe705ed1a36982ae4a2b1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

WiNloSt on (2024-11-29 13:27:42 UTC): Can you provide situations where the type would fail to resolve when referencing the package name so I could tes itt?

npretto (Issue Creator) on (2024-11-29 13:46:10 UTC): You can try it on 747fda80a688173e3c02695dd7b1995e06c65bd6, which is the commit on https://github.com/metabase/metabase/pull/50230 just before I cherry-picked this fix.
As I mentioned, I tried to solve this by just changing the package.json but I had no luck

npretto (Issue Creator) on (2024-11-29 14:35:52 UTC): In what project did you get that?
I do have `moduleResolution` set to `bundler` on both my app router and pages router sample apps

WiNloSt on (2024-11-29 14:54:09 UTC): OK, my template used `""moduleResolution"": ""node"",` for some reason. Does next come with `""moduleResolution"": ""bundler""` by default?

npretto (Issue Creator) on (2024-11-29 15:14:16 UTC): Seems like so:
```
npx create-next-app@14 test-next-app-next-14
cat test-next-app-next-14/tsconfig.json | grep moduleResolution
    ""moduleResolution"": ""bundler"",
```
Interestingly, vite also has bundler as default.
I had to find my old cra test, that had `node` but it still seemed to work.

Changing `moduleResolution` to `node` on next broke it, so it's a combination of settings I think

"
2702426860,pull_request,closed,,update all that updates,subj,piranha,2024-11-28 14:47:34+00:00,['piranha'],2025-01-27 22:14:22+00:00,2024-11-29 12:48:24+00:00,https://github.com/metabase/metabase/pull/50642,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2506404227, 'issue_id': 2702426860, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/121029_tests-f4ebea90-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50642?repo=metabase/metabase&commitHash=f4ebea90de7df8bac53f54f9daf23baf28034cd8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50642?repo=metabase/metabase&commitHash=f4ebea90de7df8bac53f54f9daf23baf28034cd8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50642?repo=metabase/metabase&commitHash=f4ebea90de7df8bac53f54f9daf23baf28034cd8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50642?repo=metabase/metabase&commitHash=f4ebea90de7df8bac53f54f9daf23baf28034cd8&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50642?repo=metabase/metabase&commitHash=f4ebea90de7df8bac53f54f9daf23baf28034cd8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 28, 15, 47, 54, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-28 15:47:54 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/121029_tests-f4ebea90-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50642?repo=metabase/metabase&commitHash=f4ebea90de7df8bac53f54f9daf23baf28034cd8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50642?repo=metabase/metabase&commitHash=f4ebea90de7df8bac53f54f9daf23baf28034cd8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50642?repo=metabase/metabase&commitHash=f4ebea90de7df8bac53f54f9daf23baf28034cd8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50642?repo=metabase/metabase&commitHash=f4ebea90de7df8bac53f54f9daf23baf28034cd8&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50642?repo=metabase/metabase&commitHash=f4ebea90de7df8bac53f54f9daf23baf28034cd8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2702266473,pull_request,closed,,Add v0.51.6 to the list of releases,Like it says on the tin 😁,github-automation-metabase,2024-11-28 14:01:42+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2024-11-29 17:53:32+00:00,2024-11-29 17:49:36+00:00,https://github.com/metabase/metabase/pull/50640,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2508207855, 'issue_id': 2702266473, 'author': 'alexyarosh', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 11, 29, 17, 50, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2508210471, 'issue_id': 2702266473, 'author': 'github-actions[bot]', 'body': '🚀 This should also be released by [v0.52](https://github.com/metabase/metabase/milestone/283)', 'created_at': datetime.datetime(2024, 11, 29, 17, 53, 30, tzinfo=datetime.timezone.utc)}]","alexyarosh on (2024-11-29 17:50:31 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-11-29 17:53:30 UTC): 🚀 This should also be released by [v0.52](https://github.com/metabase/metabase/milestone/283)

"
2702221014,pull_request,closed,,Port Fields to use new EntityObjectLoaderRtkQuery,Temporary PR,kamilmielnik,2024-11-28 13:42:43+00:00,['kamilmielnik'],2024-11-29 11:42:50+00:00,2024-11-29 10:10:04+00:00,https://github.com/metabase/metabase/pull/50639,"[('do not merge', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2506162493, 'issue_id': 2702221014, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 2e40d9016d8472fb7023e537378673477ae2c959...ad714ab8d1be3c2b33874390e2148f5a50385192.\n\nNo notifications.', 'created_at': datetime.datetime(2024, 11, 28, 13, 44, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2506285952, 'issue_id': 2702221014, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/50452_tests-4c407de2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50639?repo=metabase/metabase&commitHash=4c407de2a697775a4cb4ce5a660ae65bdd0db800&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50639?repo=metabase/metabase&commitHash=4c407de2a697775a4cb4ce5a660ae65bdd0db800&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50639?repo=metabase/metabase&commitHash=4c407de2a697775a4cb4ce5a660ae65bdd0db800&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50639?repo=metabase/metabase&commitHash=4c407de2a697775a4cb4ce5a660ae65bdd0db800&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50639?repo=metabase/metabase&commitHash=4c407de2a697775a4cb4ce5a660ae65bdd0db800&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 28, 14, 45, 44, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-28 13:44:16 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 2e40d9016d8472fb7023e537378673477ae2c959...ad714ab8d1be3c2b33874390e2148f5a50385192.

No notifications.

trunk-io[bot] on (2024-11-28 14:45:44 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/50452_tests-4c407de2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50639?repo=metabase/metabase&commitHash=4c407de2a697775a4cb4ce5a660ae65bdd0db800&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50639?repo=metabase/metabase&commitHash=4c407de2a697775a4cb4ce5a660ae65bdd0db800&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50639?repo=metabase/metabase&commitHash=4c407de2a697775a4cb4ce5a660ae65bdd0db800&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50639?repo=metabase/metabase&commitHash=4c407de2a697775a4cb4ce5a660ae65bdd0db800&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50639?repo=metabase/metabase&commitHash=4c407de2a697775a4cb4ce5a660ae65bdd0db800&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2702171610,pull_request,closed,,skip META-INF/LICENSE since it conflicts with other licenses on MacOS,,piranha,2024-11-28 13:28:03+00:00,['piranha'],2025-01-27 22:14:24+00:00,2024-11-28 14:46:59+00:00,https://github.com/metabase/metabase/pull/50638,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2506231486, 'issue_id': 2702171610, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/1_test-91929935-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50638?repo=metabase/metabase&commitHash=91929935339068a92db5934ac506347ff4d6bafb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50638?repo=metabase/metabase&commitHash=91929935339068a92db5934ac506347ff4d6bafb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50638?repo=metabase/metabase&commitHash=91929935339068a92db5934ac506347ff4d6bafb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50638?repo=metabase/metabase&commitHash=91929935339068a92db5934ac506347ff4d6bafb&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:329:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\\#'sync.fingerprint/max-refingerp... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50638?repo=metabase/metabase&commitHash=91929935339068a92db5934ac506347ff4d6bafb&utm_source=gh-comment&runConclusion=FAILURE&runId=f9d2baf6-4c26-5c04-968c-4ca64d28c50d) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50638?repo=metabase/metabase&commitHash=91929935339068a92db5934ac506347ff4d6bafb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 28, 14, 18, 44, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-28 14:18:44 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/1_test-91929935-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50638?repo=metabase/metabase&commitHash=91929935339068a92db5934ac506347ff4d6bafb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50638?repo=metabase/metabase&commitHash=91929935339068a92db5934ac506347ff4d6bafb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50638?repo=metabase/metabase&commitHash=91929935339068a92db5934ac506347ff4d6bafb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50638?repo=metabase/metabase&commitHash=91929935339068a92db5934ac506347ff4d6bafb&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:329:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerp... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50638?repo=metabase/metabase&commitHash=91929935339068a92db5934ac506347ff4d6bafb&utm_source=gh-comment&runConclusion=FAILURE&runId=f9d2baf6-4c26-5c04-968c-4ca64d28c50d) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50638?repo=metabase/metabase&commitHash=91929935339068a92db5934ac506347ff4d6bafb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2702156032,pull_request,closed,,"🤖 backported ""Sankey polish""",#50550,github-automation-metabase,2024-11-28 13:22:31+00:00,"['alxnddr', 'github-automation-metabase']",2024-11-28 14:45:17+00:00,2024-11-28 14:05:36+00:00,https://github.com/metabase/metabase/pull/50637,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2506122768, 'issue_id': 2702156032, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff a4a2a0017cfa948b07ec0dfd228f05227a49b726...cbfad7ef86575305a5dd7849ce4de88966b53441.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/visualizations/SankeyChart/chart-definition.ts<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/chart-definition.unit.spec.ts |', 'created_at': datetime.datetime(2024, 11, 28, 13, 24, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2506228877, 'issue_id': 2702156032, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/16_tests-cbfad7ef-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50637?repo=metabase/metabase&commitHash=cbfad7ef86575305a5dd7849ce4de88966b53441&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50637?repo=metabase/metabase&commitHash=cbfad7ef86575305a5dd7849ce4de88966b53441&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50637?repo=metabase/metabase&commitHash=cbfad7ef86575305a5dd7849ce4de88966b53441&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50637?repo=metabase/metabase&commitHash=cbfad7ef86575305a5dd7849ce4de88966b53441&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50637?repo=metabase/metabase&commitHash=cbfad7ef86575305a5dd7849ce4de88966b53441&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 28, 14, 17, 28, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-28 13:24:05 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff a4a2a0017cfa948b07ec0dfd228f05227a49b726...cbfad7ef86575305a5dd7849ce4de88966b53441.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/visualizations/SankeyChart/chart-definition.ts<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/chart-definition.unit.spec.ts |

trunk-io[bot] on (2024-11-28 14:17:28 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/16_tests-cbfad7ef-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50637?repo=metabase/metabase&commitHash=cbfad7ef86575305a5dd7849ce4de88966b53441&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50637?repo=metabase/metabase&commitHash=cbfad7ef86575305a5dd7849ce4de88966b53441&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50637?repo=metabase/metabase&commitHash=cbfad7ef86575305a5dd7849ce4de88966b53441&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50637?repo=metabase/metabase&commitHash=cbfad7ef86575305a5dd7849ce4de88966b53441&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50637?repo=metabase/metabase&commitHash=cbfad7ef86575305a5dd7849ce4de88966b53441&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2702122570,pull_request,closed,,Port Snippet collections to use new EntityObjectLoaderRtkQuery,Temporary PR,kamilmielnik,2024-11-28 13:18:27+00:00,['kamilmielnik'],2024-11-28 16:13:21+00:00,2024-11-28 15:01:14+00:00,https://github.com/metabase/metabase/pull/50636,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2506114644, 'issue_id': 2702122570, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff db3941f1aa4c8954c4b4f3a8a319046ceb8e5801...24056255c7f622e48f7c62e5bed7296654d9460b.\n\nNo notifications.', 'created_at': datetime.datetime(2024, 11, 28, 13, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2506236519, 'issue_id': 2702122570, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/50452_tests-1f352cf1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50636?repo=metabase/metabase&commitHash=1f352cf10dfd7a25bd3c11b4cafb8b337a365c4d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50636?repo=metabase/metabase&commitHash=1f352cf10dfd7a25bd3c11b4cafb8b337a365c4d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50636?repo=metabase/metabase&commitHash=1f352cf10dfd7a25bd3c11b4cafb8b337a365c4d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50636?repo=metabase/metabase&commitHash=1f352cf10dfd7a25bd3c11b4cafb8b337a365c4d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50636?repo=metabase/metabase&commitHash=1f352cf10dfd7a25bd3c11b4cafb8b337a365c4d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 28, 14, 21, 18, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-28 13:20:00 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff db3941f1aa4c8954c4b4f3a8a319046ceb8e5801...24056255c7f622e48f7c62e5bed7296654d9460b.

No notifications.

trunk-io[bot] on (2024-11-28 14:21:18 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/50452_tests-1f352cf1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50636?repo=metabase/metabase&commitHash=1f352cf10dfd7a25bd3c11b4cafb8b337a365c4d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50636?repo=metabase/metabase&commitHash=1f352cf10dfd7a25bd3c11b4cafb8b337a365c4d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50636?repo=metabase/metabase&commitHash=1f352cf10dfd7a25bd3c11b4cafb8b337a365c4d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50636?repo=metabase/metabase&commitHash=1f352cf10dfd7a25bd3c11b4cafb8b337a365c4d&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50636?repo=metabase/metabase&commitHash=1f352cf10dfd7a25bd3c11b4cafb8b337a365c4d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2702086263,pull_request,closed,,Port Segments to use new EntityObjectLoaderRtkQuery,Temporary PR,kamilmielnik,2024-11-28 13:02:21+00:00,['kamilmielnik'],2024-11-28 14:33:00+00:00,2024-11-28 13:54:53+00:00,https://github.com/metabase/metabase/pull/50635,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2506077871, 'issue_id': 2702086263, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 6838a0793b5849f7705a7a212faa03d3fa5a7c22...ef65fe78f36b81c699ea92e96de66fd0af98b4fb.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/visualizations/CartesianChart/use-chart-events.ts |', 'created_at': datetime.datetime(2024, 11, 28, 13, 3, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2506171227, 'issue_id': 2702086263, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/16_tests-ef65fe78-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50635?repo=metabase/metabase&commitHash=ef65fe78f36b81c699ea92e96de66fd0af98b4fb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50635?repo=metabase/metabase&commitHash=ef65fe78f36b81c699ea92e96de66fd0af98b4fb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50635?repo=metabase/metabase&commitHash=ef65fe78f36b81c699ea92e96de66fd0af98b4fb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50635?repo=metabase/metabase&commitHash=ef65fe78f36b81c699ea92e96de66fd0af98b4fb&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50635?repo=metabase/metabase&commitHash=ef65fe78f36b81c699ea92e96de66fd0af98b4fb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 28, 13, 48, 45, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-28 13:03:57 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 6838a0793b5849f7705a7a212faa03d3fa5a7c22...ef65fe78f36b81c699ea92e96de66fd0af98b4fb.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/visualizations/CartesianChart/use-chart-events.ts |

trunk-io[bot] on (2024-11-28 13:48:45 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/16_tests-ef65fe78-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50635?repo=metabase/metabase&commitHash=ef65fe78f36b81c699ea92e96de66fd0af98b4fb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50635?repo=metabase/metabase&commitHash=ef65fe78f36b81c699ea92e96de66fd0af98b4fb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50635?repo=metabase/metabase&commitHash=ef65fe78f36b81c699ea92e96de66fd0af98b4fb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50635?repo=metabase/metabase&commitHash=ef65fe78f36b81c699ea92e96de66fd0af98b4fb&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50635?repo=metabase/metabase&commitHash=ef65fe78f36b81c699ea92e96de66fd0af98b4fb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2702082370,pull_request,closed,,Port Questions to use new EntityObjectLoaderRtkQuery,Temporary PR,kamilmielnik,2024-11-28 13:00:43+00:00,['kamilmielnik'],2024-12-04 10:45:35+00:00,2024-12-04 10:19:49+00:00,https://github.com/metabase/metabase/pull/50634,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2506074888, 'issue_id': 2702082370, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 0006a2a9f0681302079e3afb345b5f08a2d62846...7e52e1ab35d1cdba87b322981af77fd5b69eb9e3.\n\nNo notifications.', 'created_at': datetime.datetime(2024, 11, 28, 13, 2, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2506159763, 'issue_id': 2702082370, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/57338_tests-7e52e1ab-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50634?repo=metabase/metabase&commitHash=7e52e1ab35d1cdba87b322981af77fd5b69eb9e3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50634?repo=metabase/metabase&commitHash=7e52e1ab35d1cdba87b322981af77fd5b69eb9e3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50634?repo=metabase/metabase&commitHash=7e52e1ab35d1cdba87b322981af77fd5b69eb9e3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50634?repo=metabase/metabase&commitHash=7e52e1ab35d1cdba87b322981af77fd5b69eb9e3&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>delay-queue-test</code> | failure\\_text: queue\\_test.clj:92expected: (nil? (queue/take-delayed-batch! q 3 90 0))  actual: (not (nil? [1103330683143])) | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50634?repo=metabase/metabase&commitHash=7e52e1ab35d1cdba87b322981af77fd5b69eb9e3&utm_source=gh-comment&runConclusion=FAILURE&runId=c936e906-f051-5d3a-b8af-ed2097d87e3a) |\n| <code>scenarios > public > question should be able to view public questions with card template tags</code> | The element with data-testid 'cell-data' was not found within 4000ms, causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50634?repo=metabase/metabase&commitHash=7e52e1ab35d1cdba87b322981af77fd5b69eb9e3&utm_source=gh-comment&runConclusion=FAILURE&runId=4f0d0cdb-5090-5c7b-af6c-e6ae24ddd04a) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50634?repo=metabase/metabase&commitHash=7e52e1ab35d1cdba87b322981af77fd5b69eb9e3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 28, 13, 43, 1, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-28 13:02:19 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 0006a2a9f0681302079e3afb345b5f08a2d62846...7e52e1ab35d1cdba87b322981af77fd5b69eb9e3.

No notifications.

trunk-io[bot] on (2024-11-28 13:43:01 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/57338_tests-7e52e1ab-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50634?repo=metabase/metabase&commitHash=7e52e1ab35d1cdba87b322981af77fd5b69eb9e3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50634?repo=metabase/metabase&commitHash=7e52e1ab35d1cdba87b322981af77fd5b69eb9e3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50634?repo=metabase/metabase&commitHash=7e52e1ab35d1cdba87b322981af77fd5b69eb9e3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50634?repo=metabase/metabase&commitHash=7e52e1ab35d1cdba87b322981af77fd5b69eb9e3&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>delay-queue-test</code> | failure\_text: queue\_test.clj:92expected: (nil? (queue/take-delayed-batch! q 3 90 0))  actual: (not (nil? [1103330683143])) | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50634?repo=metabase/metabase&commitHash=7e52e1ab35d1cdba87b322981af77fd5b69eb9e3&utm_source=gh-comment&runConclusion=FAILURE&runId=c936e906-f051-5d3a-b8af-ed2097d87e3a) |
| <code>scenarios > public > question should be able to view public questions with card template tags</code> | The element with data-testid 'cell-data' was not found within 4000ms, causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50634?repo=metabase/metabase&commitHash=7e52e1ab35d1cdba87b322981af77fd5b69eb9e3&utm_source=gh-comment&runConclusion=FAILURE&runId=4f0d0cdb-5090-5c7b-af6c-e6ae24ddd04a) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50634?repo=metabase/metabase&commitHash=7e52e1ab35d1cdba87b322981af77fd5b69eb9e3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2702077544,pull_request,closed,,Port Pulses to use new EntityObjectLoaderRtkQuery,Temporary PR,kamilmielnik,2024-11-28 12:58:37+00:00,['kamilmielnik'],2024-11-28 17:10:09+00:00,2024-11-28 15:20:57+00:00,https://github.com/metabase/metabase/pull/50633,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2506070568, 'issue_id': 2702077544, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff b766280fcb7661fb1e757b07a784eb7e2d6a7c58...7093b75132290e5af665f26d863a0f0887ea823e.\n\nNo notifications.', 'created_at': datetime.datetime(2024, 11, 28, 13, 0, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2506159416, 'issue_id': 2702077544, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/16_tests-975253d5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50633?repo=metabase/metabase&commitHash=975253d5a6e1383476904a9bf400c3072679e37d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50633?repo=metabase/metabase&commitHash=975253d5a6e1383476904a9bf400c3072679e37d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50633?repo=metabase/metabase&commitHash=975253d5a6e1383476904a9bf400c3072679e37d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50633?repo=metabase/metabase&commitHash=975253d5a6e1383476904a9bf400c3072679e37d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50633?repo=metabase/metabase&commitHash=975253d5a6e1383476904a9bf400c3072679e37d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 28, 13, 42, 50, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-28 13:00:07 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff b766280fcb7661fb1e757b07a784eb7e2d6a7c58...7093b75132290e5af665f26d863a0f0887ea823e.

No notifications.

trunk-io[bot] on (2024-11-28 13:42:50 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/16_tests-975253d5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50633?repo=metabase/metabase&commitHash=975253d5a6e1383476904a9bf400c3072679e37d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50633?repo=metabase/metabase&commitHash=975253d5a6e1383476904a9bf400c3072679e37d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50633?repo=metabase/metabase&commitHash=975253d5a6e1383476904a9bf400c3072679e37d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50633?repo=metabase/metabase&commitHash=975253d5a6e1383476904a9bf400c3072679e37d&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50633?repo=metabase/metabase&commitHash=975253d5a6e1383476904a9bf400c3072679e37d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2702069075,pull_request,closed,,Port Groups to use new EntityObjectLoaderRtkQuery,Temporary PR,kamilmielnik,2024-11-28 12:55:15+00:00,['kamilmielnik'],2024-11-28 16:12:36+00:00,2024-11-28 14:32:34+00:00,https://github.com/metabase/metabase/pull/50631,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2506063368, 'issue_id': 2702069075, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff e6389dc5f40fa9ced45fdfd1e854144b5814a87b...c7574aba5ea80762de57c30def298bc4265d6adc.\n\nNo notifications.', 'created_at': datetime.datetime(2024, 11, 28, 12, 56, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2506159433, 'issue_id': 2702069075, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/50452_tests-4afe1e90-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50631?repo=metabase/metabase&commitHash=4afe1e90650197c5f30fd378d049816e3ed6e22b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50631?repo=metabase/metabase&commitHash=4afe1e90650197c5f30fd378d049816e3ed6e22b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50631?repo=metabase/metabase&commitHash=4afe1e90650197c5f30fd378d049816e3ed6e22b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50631?repo=metabase/metabase&commitHash=4afe1e90650197c5f30fd378d049816e3ed6e22b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50631?repo=metabase/metabase&commitHash=4afe1e90650197c5f30fd378d049816e3ed6e22b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 28, 13, 42, 50, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-28 12:56:45 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff e6389dc5f40fa9ced45fdfd1e854144b5814a87b...c7574aba5ea80762de57c30def298bc4265d6adc.

No notifications.

trunk-io[bot] on (2024-11-28 13:42:50 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/50452_tests-4afe1e90-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50631?repo=metabase/metabase&commitHash=4afe1e90650197c5f30fd378d049816e3ed6e22b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50631?repo=metabase/metabase&commitHash=4afe1e90650197c5f30fd378d049816e3ed6e22b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50631?repo=metabase/metabase&commitHash=4afe1e90650197c5f30fd378d049816e3ed6e22b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50631?repo=metabase/metabase&commitHash=4afe1e90650197c5f30fd378d049816e3ed6e22b&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50631?repo=metabase/metabase&commitHash=4afe1e90650197c5f30fd378d049816e3ed6e22b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2701889970,pull_request,closed,,return better errors when request contains malformed JSON,"before this change, Metabase would always return `Malformed JSON in request body.` as an error, which could be confusing if your request is big enough.",piranha,2024-11-28 11:34:45+00:00,['piranha'],2025-01-27 22:14:19+00:00,2024-11-29 17:42:19+00:00,https://github.com/metabase/metabase/pull/50629,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2506402759, 'issue_id': 2701889970, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/1696_tests-7b249f39-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50629?repo=metabase/metabase&commitHash=7b249f3919b2367bba824faa54ef0cd7213b732b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50629?repo=metabase/metabase&commitHash=7b249f3919b2367bba824faa54ef0cd7213b732b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50629?repo=metabase/metabase&commitHash=7b249f3919b2367bba824faa54ef0cd7213b732b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50629?repo=metabase/metabase&commitHash=7b249f3919b2367bba824faa54ef0cd7213b732b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50629?repo=metabase/metabase&commitHash=7b249f3919b2367bba824faa54ef0cd7213b732b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 28, 15, 47, 4, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-28 15:47:04 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/1696_tests-7b249f39-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50629?repo=metabase/metabase&commitHash=7b249f3919b2367bba824faa54ef0cd7213b732b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50629?repo=metabase/metabase&commitHash=7b249f3919b2367bba824faa54ef0cd7213b732b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50629?repo=metabase/metabase&commitHash=7b249f3919b2367bba824faa54ef0cd7213b732b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50629?repo=metabase/metabase&commitHash=7b249f3919b2367bba824faa54ef0cd7213b732b&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50629?repo=metabase/metabase&commitHash=7b249f3919b2367bba824faa54ef0cd7213b732b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2701579911,pull_request,closed,,Port all entities to use new `EntityObjectLoaderRtkQuery`,"Closes #50323

### Description

#44523 enabled the new `EntityObjectLoaderRtkQuery` only for Databases and Tables.
This PR enables it for the rest of entities (except Actions - will be done separately in #50873).

This PR may break data fetching (if e2e tests didn't cover a given case) and may increase probability of flakes.

### How to verify

CI is green.",kamilmielnik,2024-11-28 10:00:37+00:00,['kamilmielnik'],2024-12-11 10:44:16+00:00,2024-12-11 09:50:10+00:00,https://github.com/metabase/metabase/pull/50623,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2505715458, 'issue_id': 2701579911, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff ce493525897de71415ad3fc666c0da80eadd756d...86bd0e608f0c192caf063b62e1e5c041eb489b8e.\n\nNo notifications.', 'created_at': datetime.datetime(2024, 11, 28, 10, 2, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2505810891, 'issue_id': 2701579911, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/816_tests-cb2194d1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50623?repo=metabase/metabase&commitHash=cb2194d1654c784dfd00a9c3a8e6f27f2830c66d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50623?repo=metabase/metabase&commitHash=cb2194d1654c784dfd00a9c3a8e6f27f2830c66d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50623?repo=metabase/metabase&commitHash=cb2194d1654c784dfd00a9c3a8e6f27f2830c66d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50623?repo=metabase/metabase&commitHash=cb2194d1654c784dfd00a9c3a8e6f27f2830c66d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50623?repo=metabase/metabase&commitHash=cb2194d1654c784dfd00a9c3a8e6f27f2830c66d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 28, 10, 45, 23, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-28 10:02:12 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff ce493525897de71415ad3fc666c0da80eadd756d...86bd0e608f0c192caf063b62e1e5c041eb489b8e.

No notifications.

trunk-io[bot] on (2024-11-28 10:45:23 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/816_tests-cb2194d1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50623?repo=metabase/metabase&commitHash=cb2194d1654c784dfd00a9c3a8e6f27f2830c66d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50623?repo=metabase/metabase&commitHash=cb2194d1654c784dfd00a9c3a8e6f27f2830c66d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50623?repo=metabase/metabase&commitHash=cb2194d1654c784dfd00a9c3a8e6f27f2830c66d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50623?repo=metabase/metabase&commitHash=cb2194d1654c784dfd00a9c3a8e6f27f2830c66d&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50623?repo=metabase/metabase&commitHash=cb2194d1654c784dfd00a9c3a8e6f27f2830c66d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2701469208,pull_request,closed,,"🤖 backported ""feat(sdk): make tooltips themeable""",#50457,metabase-bot[bot],2024-11-28 09:33:52+00:00,['heypoom'],2024-11-28 11:12:05+00:00,2024-11-28 10:17:52+00:00,https://github.com/metabase/metabase/pull/50621,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2505659616, 'issue_id': 2701469208, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 24bc7f38ca0898e784a99adf89e8231105c3b471...1a129c01134d08701108fbcddc60da710677618e.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.module.css<br>frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.stories.tsx |\n| @kdoh | frontend/src/metabase/ui/components/overlays/Tooltip/Tooltip.styled.tsx |', 'created_at': datetime.datetime(2024, 11, 28, 9, 35, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2505742477, 'issue_id': 2701469208, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/19_tests-1a129c01-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50621?repo=metabase/metabase&commitHash=1a129c01134d08701108fbcddc60da710677618e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50621?repo=metabase/metabase&commitHash=1a129c01134d08701108fbcddc60da710677618e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50621?repo=metabase/metabase&commitHash=1a129c01134d08701108fbcddc60da710677618e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50621?repo=metabase/metabase&commitHash=1a129c01134d08701108fbcddc60da710677618e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50621?repo=metabase/metabase&commitHash=1a129c01134d08701108fbcddc60da710677618e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 28, 10, 14, 43, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-28 09:35:17 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 24bc7f38ca0898e784a99adf89e8231105c3b471...1a129c01134d08701108fbcddc60da710677618e.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.module.css<br>frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.stories.tsx |
| @kdoh | frontend/src/metabase/ui/components/overlays/Tooltip/Tooltip.styled.tsx |

trunk-io[bot] on (2024-11-28 10:14:43 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/19_tests-1a129c01-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50621?repo=metabase/metabase&commitHash=1a129c01134d08701108fbcddc60da710677618e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50621?repo=metabase/metabase&commitHash=1a129c01134d08701108fbcddc60da710677618e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50621?repo=metabase/metabase&commitHash=1a129c01134d08701108fbcddc60da710677618e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50621?repo=metabase/metabase&commitHash=1a129c01134d08701108fbcddc60da710677618e&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50621?repo=metabase/metabase&commitHash=1a129c01134d08701108fbcddc60da710677618e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2701392812,pull_request,closed,,Use separate indexes for different versions,"This protects against us trying to read or write from an incompatible search index. In particular it prevents existing instances from being switched over to an incompatible table during an HA upgrade or downgrade.

~~It doesn't yet get rid of the needless re-initialization, but that will be a fast follow.~~ It breaks up the jobs so that we won't reindex on startup unless necessary.",crisptrutski,2024-11-28 09:00:40+00:00,['crisptrutski'],2024-11-29 11:04:05+00:00,2024-11-29 10:04:57+00:00,https://github.com/metabase/metabase/pull/50620,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2505588557, 'issue_id': 2701392812, 'author': 'crisptrutski', 'body': '* **#50620** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50620?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50620?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* **#50581** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50581?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#50573** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50573?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* `master`\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 11, 28, 9, 0, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2505685981, 'issue_id': 2701392812, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3_tests-bd667638-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50620?repo=metabase/metabase&commitHash=bd667638b829d3373f1efed4883d82ed4c618157&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50620?repo=metabase/metabase&commitHash=bd667638b829d3373f1efed4883d82ed4c618157&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50620?repo=metabase/metabase&commitHash=bd667638b829d3373f1efed4883d82ed4c618157&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50620?repo=metabase/metabase&commitHash=bd667638b829d3373f1efed4883d82ed4c618157&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>identity-hash-test</code> | The expected hash of a NativeQuerySnippet did not match the actual hash. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50620?repo=metabase/metabase&commitHash=bd667638b829d3373f1efed4883d82ed4c618157&utm_source=gh-comment&runConclusion=FAILURE&runId=94d45ed2-23ff-51c3-a675-73d485ff6a47) |\n| <code>identity-hash-test</code> | The expected hash did not match the actual hash, possibly due to incorrect field hashes or current time. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50620?repo=metabase/metabase&commitHash=bd667638b829d3373f1efed4883d82ed4c618157&utm_source=gh-comment&runConclusion=FAILURE&runId=e154357f-941c-576c-8fe1-0def2ed15753) |\n| <code>identity-hash-test</code> | The hash of a top-level collection was not correctly composed, expecting 'ROOT' as the parent hash. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50620?repo=metabase/metabase&commitHash=bd667638b829d3373f1efed4883d82ed4c618157&utm_source=gh-comment&runConclusion=FAILURE&runId=6963e280-69a7-5d77-9164-fe8065dd1221) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50620?repo=metabase/metabase&commitHash=bd667638b829d3373f1efed4883d82ed4c618157&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 28, 9, 48, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2507476679, 'issue_id': 2701392812, 'author': 'crisptrutski', 'body': '### Merge activity\n\n* **Nov 29, 5:04 AM EST**: A user merged this pull request with [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/50620).', 'created_at': datetime.datetime(2024, 11, 29, 10, 4, 58, tzinfo=datetime.timezone.utc)}]","crisptrutski (Issue Creator) on (2024-11-28 09:00:59 UTC): * **#50620** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50620?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50620?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* **#50581** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50581?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#50573** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50573?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* `master`

<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2024-11-28 09:48:01 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3_tests-bd667638-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50620?repo=metabase/metabase&commitHash=bd667638b829d3373f1efed4883d82ed4c618157&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50620?repo=metabase/metabase&commitHash=bd667638b829d3373f1efed4883d82ed4c618157&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50620?repo=metabase/metabase&commitHash=bd667638b829d3373f1efed4883d82ed4c618157&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50620?repo=metabase/metabase&commitHash=bd667638b829d3373f1efed4883d82ed4c618157&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>identity-hash-test</code> | The expected hash of a NativeQuerySnippet did not match the actual hash. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50620?repo=metabase/metabase&commitHash=bd667638b829d3373f1efed4883d82ed4c618157&utm_source=gh-comment&runConclusion=FAILURE&runId=94d45ed2-23ff-51c3-a675-73d485ff6a47) |
| <code>identity-hash-test</code> | The expected hash did not match the actual hash, possibly due to incorrect field hashes or current time. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50620?repo=metabase/metabase&commitHash=bd667638b829d3373f1efed4883d82ed4c618157&utm_source=gh-comment&runConclusion=FAILURE&runId=e154357f-941c-576c-8fe1-0def2ed15753) |
| <code>identity-hash-test</code> | The hash of a top-level collection was not correctly composed, expecting 'ROOT' as the parent hash. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50620?repo=metabase/metabase&commitHash=bd667638b829d3373f1efed4883d82ed4c618157&utm_source=gh-comment&runConclusion=FAILURE&runId=6963e280-69a7-5d77-9164-fe8065dd1221) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50620?repo=metabase/metabase&commitHash=bd667638b829d3373f1efed4883d82ed4c618157&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

crisptrutski (Issue Creator) on (2024-11-29 10:04:58 UTC): ### Merge activity

* **Nov 29, 5:04 AM EST**: A user merged this pull request with [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/50620).

"
2701255400,pull_request,closed,,update bigquery and netty (#50588),backport of #50588,piranha,2024-11-28 08:18:30+00:00,['piranha'],2024-11-28 10:11:04+00:00,2024-11-28 09:10:06+00:00,https://github.com/metabase/metabase/pull/50619,"[('.Team/Workflows', 'aka BEC'), ('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2505552553, 'issue_id': 2701255400, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/94618_tests-b17e0512-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50619?repo=metabase/metabase&commitHash=b17e05122bf52be7b60748e2f78a635e0b944189&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50619?repo=metabase/metabase&commitHash=b17e05122bf52be7b60748e2f78a635e0b944189&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50619?repo=metabase/metabase&commitHash=b17e05122bf52be7b60748e2f78a635e0b944189&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50619?repo=metabase/metabase&commitHash=b17e05122bf52be7b60748e2f78a635e0b944189&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50619?repo=metabase/metabase&commitHash=b17e05122bf52be7b60748e2f78a635e0b944189&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 28, 8, 42, 50, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-28 08:42:50 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/94618_tests-b17e0512-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50619?repo=metabase/metabase&commitHash=b17e05122bf52be7b60748e2f78a635e0b944189&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50619?repo=metabase/metabase&commitHash=b17e05122bf52be7b60748e2f78a635e0b944189&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50619?repo=metabase/metabase&commitHash=b17e05122bf52be7b60748e2f78a635e0b944189&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50619?repo=metabase/metabase&commitHash=b17e05122bf52be7b60748e2f78a635e0b944189&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50619?repo=metabase/metabase&commitHash=b17e05122bf52be7b60748e2f78a635e0b944189&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2701108033,pull_request,closed,,"🤖 backported ""update bigquery and netty""",  #50588,github-automation-metabase,2024-11-28 07:24:11+00:00,"['piranha', 'github-automation-metabase']",2024-11-28 08:24:08+00:00,2024-11-28 08:06:23+00:00,https://github.com/metabase/metabase/pull/50617,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2505451014, 'issue_id': 2701108033, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120827_tests-e68720c6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50617?repo=metabase/metabase&commitHash=e68720c6965e2bee64183cdb0da3ac84cbc8f57f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50617?repo=metabase/metabase&commitHash=e68720c6965e2bee64183cdb0da3ac84cbc8f57f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50617?repo=metabase/metabase&commitHash=e68720c6965e2bee64183cdb0da3ac84cbc8f57f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50617?repo=metabase/metabase&commitHash=e68720c6965e2bee64183cdb0da3ac84cbc8f57f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50617?repo=metabase/metabase&commitHash=e68720c6965e2bee64183cdb0da3ac84cbc8f57f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 28, 7, 44, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2505490749, 'issue_id': 2701108033, 'author': 'piranha', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 11, 28, 8, 9, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2505492613, 'issue_id': 2701108033, 'author': 'github-actions[bot]', 'body': '@piranha something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12064876499)', 'created_at': datetime.datetime(2024, 11, 28, 8, 10, 13, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-28 07:44:56 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120827_tests-e68720c6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50617?repo=metabase/metabase&commitHash=e68720c6965e2bee64183cdb0da3ac84cbc8f57f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50617?repo=metabase/metabase&commitHash=e68720c6965e2bee64183cdb0da3ac84cbc8f57f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50617?repo=metabase/metabase&commitHash=e68720c6965e2bee64183cdb0da3ac84cbc8f57f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50617?repo=metabase/metabase&commitHash=e68720c6965e2bee64183cdb0da3ac84cbc8f57f&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50617?repo=metabase/metabase&commitHash=e68720c6965e2bee64183cdb0da3ac84cbc8f57f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

piranha (Assginee) on (2024-11-28 08:09:07 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-11-28 08:10:13 UTC): @piranha something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12064876499)

"
2700898720,pull_request,closed,,Update SDK version to 0.51.10,Update Readme version references and published npm package version to 0.51.10,github-automation-metabase,2024-11-28 05:52:42+00:00,"['WiNloSt', 'github-automation-metabase']",2024-11-28 05:57:39+00:00,2024-11-28 05:57:10+00:00,https://github.com/metabase/metabase/pull/50614,"[('no-backport', 'Do not backport this PR to any branch')]",[],
2700709414,pull_request,closed,,simplify use-license,"### Description

- Drops unnecessary response [mapping](https://github.com/metabase/metabase/compare/simplify-use-license?expand=1#diff-427e0894f2a7ee5be71cde0952bf078b25117fb83e980d704959ac2eaaffd55bL58) to another shape in the `use-license` hook. 
- Extends TokenStatus API type with list of features

### How to verify

No functional changes. When running Metabase EE [adding](http://localhost:3000/admin/settings/license) a license key and its verification should work as before.

### Checklist

- [n/a] Tests have been added/updated to cover changes in this PR
",alxnddr,2024-11-28 04:28:37+00:00,['alxnddr'],2025-01-27 22:14:23+00:00,2024-11-28 19:14:37+00:00,https://github.com/metabase/metabase/pull/50613,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2505278022, 'issue_id': 2700709414, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/16_tests-c513790a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50613?repo=metabase/metabase&commitHash=c513790ad96c3ef624317aa6d1b4f62edb9b4037&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50613?repo=metabase/metabase&commitHash=c513790ad96c3ef624317aa6d1b4f62edb9b4037&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50613?repo=metabase/metabase&commitHash=c513790ad96c3ef624317aa6d1b4f62edb9b4037&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50613?repo=metabase/metabase&commitHash=c513790ad96c3ef624317aa6d1b4f62edb9b4037&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50613?repo=metabase/metabase&commitHash=c513790ad96c3ef624317aa6d1b4f62edb9b4037&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 28, 5, 15, 5, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-28 05:15:05 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/16_tests-c513790a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50613?repo=metabase/metabase&commitHash=c513790ad96c3ef624317aa6d1b4f62edb9b4037&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50613?repo=metabase/metabase&commitHash=c513790ad96c3ef624317aa6d1b4f62edb9b4037&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50613?repo=metabase/metabase&commitHash=c513790ad96c3ef624317aa6d1b4f62edb9b4037&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50613?repo=metabase/metabase&commitHash=c513790ad96c3ef624317aa6d1b4f62edb9b4037&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50613?repo=metabase/metabase&commitHash=c513790ad96c3ef624317aa6d1b4f62edb9b4037&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2700612454,pull_request,closed,,"🤖 backported ""Table Column Ordering Should Not Prevent Pivot Exports""",#50599,metabase-bot[bot],2024-11-28 03:15:38+00:00,['adam-james-v'],2024-11-28 05:48:06+00:00,2024-11-28 05:16:37+00:00,https://github.com/metabase/metabase/pull/50612,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2505203030, 'issue_id': 2700612454, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3_tests-cda399ff-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50612?repo=metabase/metabase&commitHash=cda399ff8e7dba30a9a0890457f54f4ffd0138c2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50612?repo=metabase/metabase&commitHash=cda399ff8e7dba30a9a0890457f54f4ffd0138c2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50612?repo=metabase/metabase&commitHash=cda399ff8e7dba30a9a0890457f54f4ffd0138c2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50612?repo=metabase/metabase&commitHash=cda399ff8e7dba30a9a0890457f54f4ffd0138c2&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 21452 should not fire POST request after every character during display name change (metabase\\#21452)</code> | The test timed out while trying to find an element with data-testid ""echarts-tooltip"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50612?repo=metabase/metabase&commitHash=cda399ff8e7dba30a9a0890457f54f4ffd0138c2&utm_source=gh-comment&runConclusion=FAILURE&runId=8a971ad6-4ded-5b9e-9cd9-e23b7473d792) |\n| <code>scenarios > embedding-sdk > styles modals and tooltips legacy WindowModal modals should render with our styles</code> | The expected font family of an HTML element was not as expected, it was \'Times New Roman\' instead of \'Lato, sans-serif\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50612?repo=metabase/metabase&commitHash=cda399ff8e7dba30a9a0890457f54f4ffd0138c2&utm_source=gh-comment&runConclusion=FAILURE&runId=0c0454b0-c18f-590f-b3b5-228142451c79) |\n| <code>scenarios > embedding-sdk > styles modals and tooltips mantine modals should render with our styles</code> | Unable to find an element with the text ""Count of rows"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50612?repo=metabase/metabase&commitHash=cda399ff8e7dba30a9a0890457f54f4ffd0138c2&utm_source=gh-comment&runConclusion=FAILURE&runId=28480760-3dad-5b11-8b55-687551db60f0) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50612?repo=metabase/metabase&commitHash=cda399ff8e7dba30a9a0890457f54f4ffd0138c2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 28, 3, 40, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-28 03:40:00 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3_tests-cda399ff-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50612?repo=metabase/metabase&commitHash=cda399ff8e7dba30a9a0890457f54f4ffd0138c2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50612?repo=metabase/metabase&commitHash=cda399ff8e7dba30a9a0890457f54f4ffd0138c2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50612?repo=metabase/metabase&commitHash=cda399ff8e7dba30a9a0890457f54f4ffd0138c2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50612?repo=metabase/metabase&commitHash=cda399ff8e7dba30a9a0890457f54f4ffd0138c2&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 21452 should not fire POST request after every character during display name change (metabase\#21452)</code> | The test timed out while trying to find an element with data-testid ""echarts-tooltip"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50612?repo=metabase/metabase&commitHash=cda399ff8e7dba30a9a0890457f54f4ffd0138c2&utm_source=gh-comment&runConclusion=FAILURE&runId=8a971ad6-4ded-5b9e-9cd9-e23b7473d792) |
| <code>scenarios > embedding-sdk > styles modals and tooltips legacy WindowModal modals should render with our styles</code> | The expected font family of an HTML element was not as expected, it was 'Times New Roman' instead of 'Lato, sans-serif'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50612?repo=metabase/metabase&commitHash=cda399ff8e7dba30a9a0890457f54f4ffd0138c2&utm_source=gh-comment&runConclusion=FAILURE&runId=0c0454b0-c18f-590f-b3b5-228142451c79) |
| <code>scenarios > embedding-sdk > styles modals and tooltips mantine modals should render with our styles</code> | Unable to find an element with the text ""Count of rows"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50612?repo=metabase/metabase&commitHash=cda399ff8e7dba30a9a0890457f54f4ffd0138c2&utm_source=gh-comment&runConclusion=FAILURE&runId=28480760-3dad-5b11-8b55-687551db60f0) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50612?repo=metabase/metabase&commitHash=cda399ff8e7dba30a9a0890457f54f4ffd0138c2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2700517217,pull_request,closed,,Address feedback on Sankey,"Closes https://github.com/metabase/metabase/issues/50657
Addresses [[Slack thread]](https://metaboat.slack.com/archives/C064QMXEV9N/p1732676292039259)

### Description

1. Previously source and target values were formatted using source column formatting options because of an assumption that both columns represent the same type of values. However, it is possible to use two entirely different types of values, for example `Product.Category` for source and `Created At` which creates a two level Sankey diagram but values of these column different types should still be formatted correctly.

<img width=""637"" alt=""Screenshot 2024-11-29 at 5 15 40 PM"" src=""https://github.com/user-attachments/assets/376730e0-637b-4559-9878-c5217507acd4"">

2. Sets limit max number of Sankey nodes like we limit cartesian charts to 100 series max.
<img width=""534"" alt=""Screenshot 2024-11-29 at 5 16 40 PM"" src=""https://github.com/user-attachments/assets/ebd8b8e7-299d-450f-a93b-df6e898a66d6"">

3. Drill-throughs for nodes without any inputs work correctly now, same as all other nodes.

4. On structured queries now it is possible to drill-through ""See these records"" on Sankey edges

5. When settings logic does not find two suitable columns it shows ""Edit settings"" button  (repro on raw orders table). Clicking on this button opens viz settings data tab. Previously clicking on ""Edit settings"" initially opened all 3 select components for sankey columns.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",alxnddr,2024-11-28 02:45:09+00:00,['alxnddr'],2024-12-03 15:20:27+00:00,2024-12-03 15:20:25+00:00,https://github.com/metabase/metabase/pull/50611,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2508726480, 'issue_id': 2700517217, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/50621_tests-fabe4606-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50611?repo=metabase/metabase&commitHash=fabe4606839d2f87bc05c8e71d0513a51061132d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/6-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50611?repo=metabase/metabase&commitHash=fabe4606839d2f87bc05c8e71d0513a51061132d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50611?repo=metabase/metabase&commitHash=fabe4606839d2f87bc05c8e71d0513a51061132d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50611?repo=metabase/metabase&commitHash=fabe4606839d2f87bc05c8e71d0513a51061132d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 49529 should allow selecting breakout dimension before metrics</code> | The expected element with class \\`.popover[data-state~='visible'],[data-element-id=mantine-popover]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50611?repo=metabase/metabase&commitHash=fabe4606839d2f87bc05c8e71d0513a51061132d&utm_source=gh-comment&runConclusion=FAILURE&runId=4d25d08c-c556-5aab-b472-df46611650d6) |\n| <code>scenarios > visualizations > sankey should render sankey charts in query builder</code> | Unable to find an element with the text '0' within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50611?repo=metabase/metabase&commitHash=fabe4606839d2f87bc05c8e71d0513a51061132d&utm_source=gh-comment&runConclusion=FAILURE&runId=ed782145-33e6-5835-bd04-247466bc1faa) |\n| <code>issue 44668 should not drop graph.metrics after adding a new query stage (metabase\\#44668)</code> | The expected element with class \\`.popover[data-state~='visible'],[data-element-id=mantine-popover]\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50611?repo=metabase/metabase&commitHash=fabe4606839d2f87bc05c8e71d0513a51061132d&utm_source=gh-comment&runConclusion=FAILURE&runId=7509e7ac-f01a-5a05-ab59-725a46ed6be8) |\n| <code>scenarios > visualizations > pie chart should allow the user to edit rings</code> | The element with data-element-id 'list-section' was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50611?repo=metabase/metabase&commitHash=fabe4606839d2f87bc05c8e71d0513a51061132d&utm_source=gh-comment&runConclusion=FAILURE&runId=a0b92f22-9e72-5245-ab10-a9ae12936dba) |\n\n[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/50611?repo=metabase/metabase&commitHash=fabe4606839d2f87bc05c8e71d0513a51061132d&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50611?repo=metabase/metabase&commitHash=fabe4606839d2f87bc05c8e71d0513a51061132d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 29, 23, 12, 34, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-29 23:12:34 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/50621_tests-fabe4606-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50611?repo=metabase/metabase&commitHash=fabe4606839d2f87bc05c8e71d0513a51061132d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/6-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50611?repo=metabase/metabase&commitHash=fabe4606839d2f87bc05c8e71d0513a51061132d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50611?repo=metabase/metabase&commitHash=fabe4606839d2f87bc05c8e71d0513a51061132d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50611?repo=metabase/metabase&commitHash=fabe4606839d2f87bc05c8e71d0513a51061132d&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 49529 should allow selecting breakout dimension before metrics</code> | The expected element with class \`.popover[data-state~='visible'],[data-element-id=mantine-popover]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50611?repo=metabase/metabase&commitHash=fabe4606839d2f87bc05c8e71d0513a51061132d&utm_source=gh-comment&runConclusion=FAILURE&runId=4d25d08c-c556-5aab-b472-df46611650d6) |
| <code>scenarios > visualizations > sankey should render sankey charts in query builder</code> | Unable to find an element with the text '0' within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50611?repo=metabase/metabase&commitHash=fabe4606839d2f87bc05c8e71d0513a51061132d&utm_source=gh-comment&runConclusion=FAILURE&runId=ed782145-33e6-5835-bd04-247466bc1faa) |
| <code>issue 44668 should not drop graph.metrics after adding a new query stage (metabase\#44668)</code> | The expected element with class \`.popover[data-state~='visible'],[data-element-id=mantine-popover]\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50611?repo=metabase/metabase&commitHash=fabe4606839d2f87bc05c8e71d0513a51061132d&utm_source=gh-comment&runConclusion=FAILURE&runId=7509e7ac-f01a-5a05-ab59-725a46ed6be8) |
| <code>scenarios > visualizations > pie chart should allow the user to edit rings</code> | The element with data-element-id 'list-section' was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50611?repo=metabase/metabase&commitHash=fabe4606839d2f87bc05c8e71d0513a51061132d&utm_source=gh-comment&runConclusion=FAILURE&runId=a0b92f22-9e72-5245-ab10-a9ae12936dba) |

[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/50611?repo=metabase/metabase&commitHash=fabe4606839d2f87bc05c8e71d0513a51061132d&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50611?repo=metabase/metabase&commitHash=fabe4606839d2f87bc05c8e71d0513a51061132d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2700502634,pull_request,closed,,"🤖 backported ""Table Column Ordering Should Not Prevent Pivot Exports""",#50599,github-automation-metabase,2024-11-28 02:37:09+00:00,"['adam-james-v', 'github-automation-metabase']",2024-11-28 04:12:16+00:00,2024-11-28 03:32:37+00:00,https://github.com/metabase/metabase/pull/50610,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2505181510, 'issue_id': 2700502634, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/124541_tests-323c1482-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50610?repo=metabase/metabase&commitHash=323c1482774881e85e7834c7743acd06eb0b1c01&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50610?repo=metabase/metabase&commitHash=323c1482774881e85e7834c7743acd06eb0b1c01&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50610?repo=metabase/metabase&commitHash=323c1482774881e85e7834c7743acd06eb0b1c01&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50610?repo=metabase/metabase&commitHash=323c1482774881e85e7834c7743acd06eb0b1c01&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>list-table-test-2</code> | SAVEPOINT 52dc3a6d-1118-4ae3-a3ee-a4edd01b780f does not exist | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50610?repo=metabase/metabase&commitHash=323c1482774881e85e7834c7743acd06eb0b1c01&utm_source=gh-comment&runConclusion=FAILURE&runId=7be41f70-d4ec-5d85-b476-7cb3f19b8460) |\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:329:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\\#'sync.fingerprint/max-refingerprint-field... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50610?repo=metabase/metabase&commitHash=323c1482774881e85e7834c7743acd06eb0b1c01&utm_source=gh-comment&runConclusion=FAILURE&runId=76bbe2ac-3c0a-5200-99f7-3563d61abe39) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50610?repo=metabase/metabase&commitHash=323c1482774881e85e7834c7743acd06eb0b1c01&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 28, 3, 11, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2505181511, 'issue_id': 2700502634, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/77588_tests-323c1482-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50610?repo=metabase/metabase&commitHash=323c1482774881e85e7834c7743acd06eb0b1c01&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50610?repo=metabase/metabase&commitHash=323c1482774881e85e7834c7743acd06eb0b1c01&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50610?repo=metabase/metabase&commitHash=323c1482774881e85e7834c7743acd06eb0b1c01&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50610?repo=metabase/metabase&commitHash=323c1482774881e85e7834c7743acd06eb0b1c01&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>list-table-test-2</code> | SAVEPOINT 52dc3a6d-1118-4ae3-a3ee-a4edd01b780f does not exist | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50610?repo=metabase/metabase&commitHash=323c1482774881e85e7834c7743acd06eb0b1c01&utm_source=gh-comment&runConclusion=FAILURE&runId=7be41f70-d4ec-5d85-b476-7cb3f19b8460) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50610?repo=metabase/metabase&commitHash=323c1482774881e85e7834c7743acd06eb0b1c01&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 28, 3, 11, 48, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-28 03:11:48 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/124541_tests-323c1482-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50610?repo=metabase/metabase&commitHash=323c1482774881e85e7834c7743acd06eb0b1c01&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50610?repo=metabase/metabase&commitHash=323c1482774881e85e7834c7743acd06eb0b1c01&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50610?repo=metabase/metabase&commitHash=323c1482774881e85e7834c7743acd06eb0b1c01&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50610?repo=metabase/metabase&commitHash=323c1482774881e85e7834c7743acd06eb0b1c01&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>list-table-test-2</code> | SAVEPOINT 52dc3a6d-1118-4ae3-a3ee-a4edd01b780f does not exist | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50610?repo=metabase/metabase&commitHash=323c1482774881e85e7834c7743acd06eb0b1c01&utm_source=gh-comment&runConclusion=FAILURE&runId=7be41f70-d4ec-5d85-b476-7cb3f19b8460) |
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:329:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerprint-field... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50610?repo=metabase/metabase&commitHash=323c1482774881e85e7834c7743acd06eb0b1c01&utm_source=gh-comment&runConclusion=FAILURE&runId=76bbe2ac-3c0a-5200-99f7-3563d61abe39) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50610?repo=metabase/metabase&commitHash=323c1482774881e85e7834c7743acd06eb0b1c01&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-28 03:11:48 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/77588_tests-323c1482-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50610?repo=metabase/metabase&commitHash=323c1482774881e85e7834c7743acd06eb0b1c01&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50610?repo=metabase/metabase&commitHash=323c1482774881e85e7834c7743acd06eb0b1c01&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50610?repo=metabase/metabase&commitHash=323c1482774881e85e7834c7743acd06eb0b1c01&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50610?repo=metabase/metabase&commitHash=323c1482774881e85e7834c7743acd06eb0b1c01&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>list-table-test-2</code> | SAVEPOINT 52dc3a6d-1118-4ae3-a3ee-a4edd01b780f does not exist | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50610?repo=metabase/metabase&commitHash=323c1482774881e85e7834c7743acd06eb0b1c01&utm_source=gh-comment&runConclusion=FAILURE&runId=7be41f70-d4ec-5d85-b476-7cb3f19b8460) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50610?repo=metabase/metabase&commitHash=323c1482774881e85e7834c7743acd06eb0b1c01&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2700475983,pull_request,closed,,Make formatter integral? dependent on scale,"Closes #49439 

Changes include:
  - Adjust setting `integral?` to be dependent on whether `scale` is integral
    - Side effect of this will be fixing unexpected integer rounding when doing a csv or json export on an integer column that has a non integer custom multiplier

Tested CSV and JSON exports of aggregated integer column with a custom decimal scale. XLSX export was unaffected as that code path does not use the column formatters in the same way. 

<details>
<summary>Integer column config</summary>
<img width=""518"" alt=""Screenshot 2024-12-03 at 4 34 42 PM"" src=""https://github.com/user-attachments/assets/16913672-ff32-407d-a7b7-c0628fddee91"">
</details>

<details>
<summary>CSV export before</summary>
<img width=""497"" alt=""image"" src=""https://github.com/user-attachments/assets/d5335730-0ab6-4055-a1e0-c1f2812d2843"">
</details>
<details>
<summary>CSV export after</summary>
<img width=""508"" alt=""image"" src=""https://github.com/user-attachments/assets/ee401fbc-e230-439b-9e4a-17f552917614"">
</details>
<details>
<summary>JSON export before</summary>
<img width=""794"" alt=""image"" src=""https://github.com/user-attachments/assets/8eb8a5f0-72d7-4d5a-bbd8-41a526aaa403"">
</details>
<details>
<summary>JSON export after</summary>
<img width=""821"" alt=""image"" src=""https://github.com/user-attachments/assets/776de81c-4871-4cbe-b52b-ee427c539542"">
</details>",tsplude,2024-11-28 02:19:56+00:00,['tsplude'],2024-12-17 05:15:54+00:00,2024-12-17 05:09:19+00:00,https://github.com/metabase/metabase/pull/50609,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2505152553, 'issue_id': 2700475983, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/126960_tests-1588e1c6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50609?repo=metabase/metabase&commitHash=1588e1c635507f7e65e68ddd345e0347ef383fea&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50609?repo=metabase/metabase&commitHash=1588e1c635507f7e65e68ddd345e0347ef383fea&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50609?repo=metabase/metabase&commitHash=1588e1c635507f7e65e68ddd345e0347ef383fea&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50609?repo=metabase/metabase&commitHash=1588e1c635507f7e65e68ddd345e0347ef383fea&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, but expected stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50609?repo=metabase/metabase&commitHash=1588e1c635507f7e65e68ddd345e0347ef383fea&utm_source=gh-comment&runConclusion=FAILURE&runId=4e44be89-1ce8-52a7-908e-3b1e0dc28e89) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50609?repo=metabase/metabase&commitHash=1588e1c635507f7e65e68ddd345e0347ef383fea&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 28, 2, 41, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2505152555, 'issue_id': 2700475983, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/26933_tests-e3242320-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50609?repo=metabase/metabase&commitHash=e32423209dda529b12ce206b67903ca58c4e11de&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50609?repo=metabase/metabase&commitHash=e32423209dda529b12ce206b67903ca58c4e11de&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50609?repo=metabase/metabase&commitHash=e32423209dda529b12ce206b67903ca58c4e11de&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50609?repo=metabase/metabase&commitHash=e32423209dda529b12ce206b67903ca58c4e11de&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50609?repo=metabase/metabase&commitHash=e32423209dda529b12ce206b67903ca58c4e11de&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 28, 2, 41, 3, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-28 02:41:03 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/126960_tests-1588e1c6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50609?repo=metabase/metabase&commitHash=1588e1c635507f7e65e68ddd345e0347ef383fea&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50609?repo=metabase/metabase&commitHash=1588e1c635507f7e65e68ddd345e0347ef383fea&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50609?repo=metabase/metabase&commitHash=1588e1c635507f7e65e68ddd345e0347ef383fea&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50609?repo=metabase/metabase&commitHash=1588e1c635507f7e65e68ddd345e0347ef383fea&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, but expected stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50609?repo=metabase/metabase&commitHash=1588e1c635507f7e65e68ddd345e0347ef383fea&utm_source=gh-comment&runConclusion=FAILURE&runId=4e44be89-1ce8-52a7-908e-3b1e0dc28e89) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50609?repo=metabase/metabase&commitHash=1588e1c635507f7e65e68ddd345e0347ef383fea&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-28 02:41:03 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/26933_tests-e3242320-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50609?repo=metabase/metabase&commitHash=e32423209dda529b12ce206b67903ca58c4e11de&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50609?repo=metabase/metabase&commitHash=e32423209dda529b12ce206b67903ca58c4e11de&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50609?repo=metabase/metabase&commitHash=e32423209dda529b12ce206b67903ca58c4e11de&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50609?repo=metabase/metabase&commitHash=e32423209dda529b12ce206b67903ca58c4e11de&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50609?repo=metabase/metabase&commitHash=e32423209dda529b12ce206b67903ca58c4e11de&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2700138571,pull_request,closed,,fix loki-update label is not removed after the job,"Adding `loki-update` label triggers a job that updates Loki snapshots and it should remove the label after completion, however, the label removal was broken so this PR fixes it.

<img width=""866"" alt=""Screenshot 2024-11-27 at 7 05 45 PM"" src=""https://github.com/user-attachments/assets/1525246a-362f-4db1-bc03-fd129b27b6db"">
",alxnddr,2024-11-27 23:06:28+00:00,['alxnddr'],2024-11-30 04:28:15+00:00,2024-11-30 04:10:52+00:00,https://github.com/metabase/metabase/pull/50607,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]",[],
2700023353,pull_request,closed,,Support display-name for ISO get-day-of-week exclusion expressions,"Fixes #50574

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",metamben,2024-11-27 22:27:24+00:00,['metamben'],2024-11-29 13:26:40+00:00,2024-11-29 13:26:37+00:00,https://github.com/metabase/metabase/pull/50606,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2504965351, 'issue_id': 2700023353, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/2_tests-1f30a628-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50606?repo=metabase/metabase&commitHash=1f30a6284759c7ad595b037b365a2183b70fe3ba&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50606?repo=metabase/metabase&commitHash=1f30a6284759c7ad595b037b365a2183b70fe3ba&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50606?repo=metabase/metabase&commitHash=1f30a6284759c7ad595b037b365a2183b70fe3ba&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50606?repo=metabase/metabase&commitHash=1f30a6284759c7ad595b037b365a2183b70fe3ba&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50606?repo=metabase/metabase&commitHash=1f30a6284759c7ad595b037b365a2183b70fe3ba&utm_source=gh-comment&runConclusion=FAILURE&runId=3fa77d4c-a039-5cd6-9d85-d7865d07d1ee) |\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:329:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\\#\'sync.fingerprint/max-refingerp... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50606?repo=metabase/metabase&commitHash=1f30a6284759c7ad595b037b365a2183b70fe3ba&utm_source=gh-comment&runConclusion=FAILURE&runId=2bacc8d4-a72c-5673-b4c7-a82d46a8668f) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50606?repo=metabase/metabase&commitHash=1f30a6284759c7ad595b037b365a2183b70fe3ba&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 27, 23, 16, 37, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-27 23:16:37 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/2_tests-1f30a628-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50606?repo=metabase/metabase&commitHash=1f30a6284759c7ad595b037b365a2183b70fe3ba&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50606?repo=metabase/metabase&commitHash=1f30a6284759c7ad595b037b365a2183b70fe3ba&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50606?repo=metabase/metabase&commitHash=1f30a6284759c7ad595b037b365a2183b70fe3ba&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50606?repo=metabase/metabase&commitHash=1f30a6284759c7ad595b037b365a2183b70fe3ba&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50606?repo=metabase/metabase&commitHash=1f30a6284759c7ad595b037b365a2183b70fe3ba&utm_source=gh-comment&runConclusion=FAILURE&runId=3fa77d4c-a039-5cd6-9d85-d7865d07d1ee) |
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:329:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerp... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50606?repo=metabase/metabase&commitHash=1f30a6284759c7ad595b037b365a2183b70fe3ba&utm_source=gh-comment&runConclusion=FAILURE&runId=2bacc8d4-a72c-5673-b4c7-a82d46a8668f) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50606?repo=metabase/metabase&commitHash=1f30a6284759c7ad595b037b365a2183b70fe3ba&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2699915737,pull_request,closed,,Properly handle other users personal collections in collection picker,"Closes https://github.com/metabase/metabase/issues/50604

### Description
Properly detects collections in other users personal collections when generating an initial path

### How to verify

1. New -> Dashboard -> Open collection picker
2. Pick a collection in another users personal collection. Hit Select
3. Re-open the collection picker. It should render a correct path

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",npfitz,2024-11-27 21:32:38+00:00,['npfitz'],2024-12-04 02:43:25+00:00,2024-12-04 02:43:23+00:00,https://github.com/metabase/metabase/pull/50605,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2504887446, 'issue_id': 2699915737, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13106_tests-5d0592d9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50605?repo=metabase/metabase&commitHash=5d0592d9ab100c193b78895723a41d3e8eac77b2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50605?repo=metabase/metabase&commitHash=5d0592d9ab100c193b78895723a41d3e8eac77b2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50605?repo=metabase/metabase&commitHash=5d0592d9ab100c193b78895723a41d3e8eac77b2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50605?repo=metabase/metabase&commitHash=5d0592d9ab100c193b78895723a41d3e8eac77b2&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50605?repo=metabase/metabase&commitHash=5d0592d9ab100c193b78895723a41d3e8eac77b2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 27, 22, 15, 55, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-27 22:15:55 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13106_tests-5d0592d9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50605?repo=metabase/metabase&commitHash=5d0592d9ab100c193b78895723a41d3e8eac77b2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50605?repo=metabase/metabase&commitHash=5d0592d9ab100c193b78895723a41d3e8eac77b2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50605?repo=metabase/metabase&commitHash=5d0592d9ab100c193b78895723a41d3e8eac77b2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50605?repo=metabase/metabase&commitHash=5d0592d9ab100c193b78895723a41d3e8eac77b2&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50605?repo=metabase/metabase&commitHash=5d0592d9ab100c193b78895723a41d3e8eac77b2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2699822696,pull_request,closed,,docs: serialization clarification,"apparently we need to be more explicit here

",alexyarosh,2024-11-27 21:01:03+00:00,['alexyarosh'],2024-12-02 22:30:24+00:00,2024-12-02 20:01:46+00:00,https://github.com/metabase/metabase/pull/50601,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2513092416, 'issue_id': 2699822696, 'author': 'alexyarosh', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 12, 2, 22, 27, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2513099999, 'issue_id': 2699822696, 'author': 'github-actions[bot]', 'body': '🚀 This should also be released by [v0.52](https://github.com/metabase/metabase/milestone/283)', 'created_at': datetime.datetime(2024, 12, 2, 22, 30, 23, tzinfo=datetime.timezone.utc)}]","alexyarosh (Issue Creator) on (2024-12-02 22:27:18 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-12-02 22:30:23 UTC): 🚀 This should also be released by [v0.52](https://github.com/metabase/metabase/milestone/283)

"
2699806942,pull_request,closed,,Table Column Ordering Should Not Prevent Pivot Exports,"Prior, when viz-settings existed for table column ordering, or if some columns were hidden in a regular table viz, the pivot export could fail.

Now, if a pivot table is being exported, the table column sorting is properly ignored and the pivot export should work.
",adam-james-v,2024-11-27 20:53:30+00:00,['adam-james-v'],2024-11-28 05:17:06+00:00,2024-11-28 02:36:17+00:00,https://github.com/metabase/metabase/pull/50599,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2504783112, 'issue_id': 2699806942, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/1_test-29531964-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50599?repo=metabase/metabase&commitHash=29531964dac05ea6489ff5b8c5839c8298eee82f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50599?repo=metabase/metabase&commitHash=29531964dac05ea6489ff5b8c5839c8298eee82f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50599?repo=metabase/metabase&commitHash=29531964dac05ea6489ff5b8c5839c8298eee82f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50599?repo=metabase/metabase&commitHash=29531964dac05ea6489ff5b8c5839c8298eee82f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, but expected some. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50599?repo=metabase/metabase&commitHash=29531964dac05ea6489ff5b8c5839c8298eee82f&utm_source=gh-comment&runConclusion=FAILURE&runId=c762a3fe-cef7-5761-8565-b10987173f2c) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50599?repo=metabase/metabase&commitHash=29531964dac05ea6489ff5b8c5839c8298eee82f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 27, 21, 17, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2505183841, 'issue_id': 2699806942, 'author': 'adam-james-v', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 11, 28, 3, 14, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2505279836, 'issue_id': 2699806942, 'author': 'github-actions[bot]', 'body': '🚀 This should also be released by [v0.52](https://github.com/metabase/metabase/milestone/283)', 'created_at': datetime.datetime(2024, 11, 28, 5, 17, 5, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-27 21:17:43 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/1_test-29531964-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50599?repo=metabase/metabase&commitHash=29531964dac05ea6489ff5b8c5839c8298eee82f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50599?repo=metabase/metabase&commitHash=29531964dac05ea6489ff5b8c5839c8298eee82f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50599?repo=metabase/metabase&commitHash=29531964dac05ea6489ff5b8c5839c8298eee82f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50599?repo=metabase/metabase&commitHash=29531964dac05ea6489ff5b8c5839c8298eee82f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, but expected some. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50599?repo=metabase/metabase&commitHash=29531964dac05ea6489ff5b8c5839c8298eee82f&utm_source=gh-comment&runConclusion=FAILURE&runId=c762a3fe-cef7-5761-8565-b10987173f2c) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50599?repo=metabase/metabase&commitHash=29531964dac05ea6489ff5b8c5839c8298eee82f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

adam-james-v (Issue Creator) on (2024-11-28 03:14:46 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-11-28 05:17:05 UTC): 🚀 This should also be released by [v0.52](https://github.com/metabase/metabase/milestone/283)

"
2699635156,pull_request,closed,,"🤖 backported ""Fix issue with cypress config for e2e cross version tests""",#50592,github-automation-metabase,2024-11-27 19:36:17+00:00,"['deniskaber', 'github-automation-metabase']",2024-11-27 21:07:55+00:00,2024-11-27 20:18:42+00:00,https://github.com/metabase/metabase/pull/50597,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2504704687, 'issue_id': 2699635156, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3331_tests-c4db43d2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50597?repo=metabase/metabase&commitHash=c4db43d2ce60085057776bb7ff53fa57a37708ca&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50597?repo=metabase/metabase&commitHash=c4db43d2ce60085057776bb7ff53fa57a37708ca&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50597?repo=metabase/metabase&commitHash=c4db43d2ce60085057776bb7ff53fa57a37708ca&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50597?repo=metabase/metabase&commitHash=c4db43d2ce60085057776bb7ff53fa57a37708ca&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50597?repo=metabase/metabase&commitHash=c4db43d2ce60085057776bb7ff53fa57a37708ca&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 27, 20, 15, 20, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-27 20:15:20 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3331_tests-c4db43d2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50597?repo=metabase/metabase&commitHash=c4db43d2ce60085057776bb7ff53fa57a37708ca&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50597?repo=metabase/metabase&commitHash=c4db43d2ce60085057776bb7ff53fa57a37708ca&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50597?repo=metabase/metabase&commitHash=c4db43d2ce60085057776bb7ff53fa57a37708ca&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50597?repo=metabase/metabase&commitHash=c4db43d2ce60085057776bb7ff53fa57a37708ca&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50597?repo=metabase/metabase&commitHash=c4db43d2ce60085057776bb7ff53fa57a37708ca&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2699453186,pull_request,closed,,"🤖 backported ""feat(sdk): make tooltips themeable""",#50457,github-automation-metabase,2024-11-27 18:39:23+00:00,"['heypoom', 'github-automation-metabase']",2024-11-27 20:14:33+00:00,2024-11-27 19:20:59+00:00,https://github.com/metabase/metabase/pull/50596,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2504569587, 'issue_id': 2699453186, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 8ae59fc04b268256d690e11c9b82aab34ebf0fc5...0779192d305e22c1ff6112e236f22b2bd430be65.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.module.css<br>frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.stories.tsx |\n| @kdoh | frontend/src/metabase/ui/components/overlays/Tooltip/Tooltip.styled.tsx |', 'created_at': datetime.datetime(2024, 11, 27, 18, 40, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2504627517, 'issue_id': 2699453186, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/16_tests-0779192d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50596?repo=metabase/metabase&commitHash=0779192d305e22c1ff6112e236f22b2bd430be65&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50596?repo=metabase/metabase&commitHash=0779192d305e22c1ff6112e236f22b2bd430be65&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50596?repo=metabase/metabase&commitHash=0779192d305e22c1ff6112e236f22b2bd430be65&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50596?repo=metabase/metabase&commitHash=0779192d305e22c1ff6112e236f22b2bd430be65&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50596?repo=metabase/metabase&commitHash=0779192d305e22c1ff6112e236f22b2bd430be65&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 27, 19, 20, 25, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-27 18:40:53 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 8ae59fc04b268256d690e11c9b82aab34ebf0fc5...0779192d305e22c1ff6112e236f22b2bd430be65.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.module.css<br>frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.stories.tsx |
| @kdoh | frontend/src/metabase/ui/components/overlays/Tooltip/Tooltip.styled.tsx |

trunk-io[bot] on (2024-11-27 19:20:25 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/16_tests-0779192d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50596?repo=metabase/metabase&commitHash=0779192d305e22c1ff6112e236f22b2bd430be65&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50596?repo=metabase/metabase&commitHash=0779192d305e22c1ff6112e236f22b2bd430be65&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50596?repo=metabase/metabase&commitHash=0779192d305e22c1ff6112e236f22b2bd430be65&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50596?repo=metabase/metabase&commitHash=0779192d305e22c1ff6112e236f22b2bd430be65&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50596?repo=metabase/metabase&commitHash=0779192d305e22c1ff6112e236f22b2bd430be65&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2699415621,pull_request,closed,,"🍒  Manual backport ""feat(sdk): Add cross-version e2e tests using a published SDK package""",https://github.com/metabase/metabase/pull/50423,deniskaber,2024-11-27 18:17:02+00:00,['deniskaber'],2024-11-29 13:17:14+00:00,2024-11-29 13:16:43+00:00,https://github.com/metabase/metabase/pull/50594,"[('.Team/Embedding', ''), ('was-backported', 'apply this to PRs that are themselves backports'), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2504781614, 'issue_id': 2699415621, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/20_tests-a679201b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50594?repo=metabase/metabase&commitHash=a679201bdb5be3cd2593cd8f0361a5f1377b84a7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50594?repo=metabase/metabase&commitHash=a679201bdb5be3cd2593cd8f0361a5f1377b84a7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50594?repo=metabase/metabase&commitHash=a679201bdb5be3cd2593cd8f0361a5f1377b84a7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50594?repo=metabase/metabase&commitHash=a679201bdb5be3cd2593cd8f0361a5f1377b84a7&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50594?repo=metabase/metabase&commitHash=a679201bdb5be3cd2593cd8f0361a5f1377b84a7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 27, 21, 16, 22, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-27 21:16:22 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/20_tests-a679201b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50594?repo=metabase/metabase&commitHash=a679201bdb5be3cd2593cd8f0361a5f1377b84a7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50594?repo=metabase/metabase&commitHash=a679201bdb5be3cd2593cd8f0361a5f1377b84a7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50594?repo=metabase/metabase&commitHash=a679201bdb5be3cd2593cd8f0361a5f1377b84a7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50594?repo=metabase/metabase&commitHash=a679201bdb5be3cd2593cd8f0361a5f1377b84a7&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50594?repo=metabase/metabase&commitHash=a679201bdb5be3cd2593cd8f0361a5f1377b84a7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2699390428,pull_request,closed,,Fix issue with cypress config for e2e cross version tests,"### Description

This fixes issues with a failing pipeline - https://github.com/metabase/metabase/actions/runs/12047034721

Issue happens because combined Cypress config compiles some SDK-related files that have been recently added",deniskaber,2024-11-27 18:01:23+00:00,['deniskaber'],2024-11-27 20:19:08+00:00,2024-11-27 19:35:25+00:00,https://github.com/metabase/metabase/pull/50592,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2504596131, 'issue_id': 2699390428, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3331_tests-f87928c2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50592?repo=metabase/metabase&commitHash=f87928c26446aa765a1941142e4fb17192a97a70&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50592?repo=metabase/metabase&commitHash=f87928c26446aa765a1941142e4fb17192a97a70&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50592?repo=metabase/metabase&commitHash=f87928c26446aa765a1941142e4fb17192a97a70&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50592?repo=metabase/metabase&commitHash=f87928c26446aa765a1941142e4fb17192a97a70&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50592?repo=metabase/metabase&commitHash=f87928c26446aa765a1941142e4fb17192a97a70&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 27, 18, 59, 20, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-27 18:59:20 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3331_tests-f87928c2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50592?repo=metabase/metabase&commitHash=f87928c26446aa765a1941142e4fb17192a97a70&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50592?repo=metabase/metabase&commitHash=f87928c26446aa765a1941142e4fb17192a97a70&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50592?repo=metabase/metabase&commitHash=f87928c26446aa765a1941142e4fb17192a97a70&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50592?repo=metabase/metabase&commitHash=f87928c26446aa765a1941142e4fb17192a97a70&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50592?repo=metabase/metabase&commitHash=f87928c26446aa765a1941142e4fb17192a97a70&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2699299282,pull_request,closed,,"🤖 backported ""fix(sdk): entity picker theming fixes""",#50449,metabase-bot[bot],2024-11-27 17:35:04+00:00,['heypoom'],2024-11-27 19:10:45+00:00,2024-11-27 18:35:14+00:00,https://github.com/metabase/metabase/pull/50591,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2504438944, 'issue_id': 2699299282, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff d3a6533d18de6f0c61cefa16f45306283fc9d0e7...60c6c0f6b63206bd1dedbf9e97869879d7650340.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/feedback/Skeleton/Skeleton.styled.tsx<br>frontend/src/metabase/ui/components/inputs/SegmentedControl/SegmentedControl.styled.tsx<br>frontend/src/metabase/ui/components/navigation/NavLink/NavLink.styled.tsx |', 'created_at': datetime.datetime(2024, 11, 27, 17, 36, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2504551320, 'issue_id': 2699299282, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/21_tests-60c6c0f6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50591?repo=metabase/metabase&commitHash=60c6c0f6b63206bd1dedbf9e97869879d7650340&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50591?repo=metabase/metabase&commitHash=60c6c0f6b63206bd1dedbf9e97869879d7650340&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50591?repo=metabase/metabase&commitHash=60c6c0f6b63206bd1dedbf9e97869879d7650340&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50591?repo=metabase/metabase&commitHash=60c6c0f6b63206bd1dedbf9e97869879d7650340&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding-sdk > styles modals and tooltips mantine modals should render with our styles</code> | Unable to find an element with the text ""Count of rows"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50591?repo=metabase/metabase&commitHash=60c6c0f6b63206bd1dedbf9e97869879d7650340&utm_source=gh-comment&runConclusion=FAILURE&runId=bea534fc-b089-56ed-83bf-daca5f661725) |\n| <code>scenarios > embedding-sdk > styles modals and tooltips legacy WindowModal modals should render with our styles</code> | The expected font family of an HTML element was not as expected, it was \'Times New Roman\' instead of \'Lato, sans-serif\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50591?repo=metabase/metabase&commitHash=60c6c0f6b63206bd1dedbf9e97869879d7650340&utm_source=gh-comment&runConclusion=FAILURE&runId=6dde4c64-15ec-5022-bb60-228a3019baaa) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50591?repo=metabase/metabase&commitHash=60c6c0f6b63206bd1dedbf9e97869879d7650340&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 27, 18, 28, 30, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-27 17:36:41 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff d3a6533d18de6f0c61cefa16f45306283fc9d0e7...60c6c0f6b63206bd1dedbf9e97869879d7650340.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/feedback/Skeleton/Skeleton.styled.tsx<br>frontend/src/metabase/ui/components/inputs/SegmentedControl/SegmentedControl.styled.tsx<br>frontend/src/metabase/ui/components/navigation/NavLink/NavLink.styled.tsx |

trunk-io[bot] on (2024-11-27 18:28:30 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/21_tests-60c6c0f6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50591?repo=metabase/metabase&commitHash=60c6c0f6b63206bd1dedbf9e97869879d7650340&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50591?repo=metabase/metabase&commitHash=60c6c0f6b63206bd1dedbf9e97869879d7650340&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50591?repo=metabase/metabase&commitHash=60c6c0f6b63206bd1dedbf9e97869879d7650340&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50591?repo=metabase/metabase&commitHash=60c6c0f6b63206bd1dedbf9e97869879d7650340&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding-sdk > styles modals and tooltips mantine modals should render with our styles</code> | Unable to find an element with the text ""Count of rows"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50591?repo=metabase/metabase&commitHash=60c6c0f6b63206bd1dedbf9e97869879d7650340&utm_source=gh-comment&runConclusion=FAILURE&runId=bea534fc-b089-56ed-83bf-daca5f661725) |
| <code>scenarios > embedding-sdk > styles modals and tooltips legacy WindowModal modals should render with our styles</code> | The expected font family of an HTML element was not as expected, it was 'Times New Roman' instead of 'Lato, sans-serif'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50591?repo=metabase/metabase&commitHash=60c6c0f6b63206bd1dedbf9e97869879d7650340&utm_source=gh-comment&runConclusion=FAILURE&runId=6dde4c64-15ec-5022-bb60-228a3019baaa) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50591?repo=metabase/metabase&commitHash=60c6c0f6b63206bd1dedbf9e97869879d7650340&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2699278248,pull_request,closed,,"🤖 backported ""fix(sdk): entity picker theming fixes""",#50449,github-automation-metabase,2024-11-27 17:28:07+00:00,"['heypoom', 'github-automation-metabase']",2024-12-03 10:05:28+00:00,2024-12-03 10:05:27+00:00,https://github.com/metabase/metabase/pull/50590,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2504428848, 'issue_id': 2699278248, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 9759a153a05341dc040c7312834321383f34764b...0e411aa0f2175b1c4e95282838ce745b3b60a395.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/feedback/Skeleton/Skeleton.styled.tsx<br>frontend/src/metabase/ui/components/inputs/SegmentedControl/SegmentedControl.styled.tsx<br>frontend/src/metabase/ui/components/navigation/NavLink/NavLink.styled.tsx |', 'created_at': datetime.datetime(2024, 11, 27, 17, 30, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2504539233, 'issue_id': 2699278248, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/16_tests-e8b41c07-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50590?repo=metabase/metabase&commitHash=e8b41c07d14091e710624edeb6727b61168c824c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50590?repo=metabase/metabase&commitHash=e8b41c07d14091e710624edeb6727b61168c824c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50590?repo=metabase/metabase&commitHash=e8b41c07d14091e710624edeb6727b61168c824c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50590?repo=metabase/metabase&commitHash=e8b41c07d14091e710624edeb6727b61168c824c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50590?repo=metabase/metabase&commitHash=e8b41c07d14091e710624edeb6727b61168c824c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 27, 18, 20, 31, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-27 17:30:52 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 9759a153a05341dc040c7312834321383f34764b...0e411aa0f2175b1c4e95282838ce745b3b60a395.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/feedback/Skeleton/Skeleton.styled.tsx<br>frontend/src/metabase/ui/components/inputs/SegmentedControl/SegmentedControl.styled.tsx<br>frontend/src/metabase/ui/components/navigation/NavLink/NavLink.styled.tsx |

trunk-io[bot] on (2024-11-27 18:20:31 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/16_tests-e8b41c07-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50590?repo=metabase/metabase&commitHash=e8b41c07d14091e710624edeb6727b61168c824c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50590?repo=metabase/metabase&commitHash=e8b41c07d14091e710624edeb6727b61168c824c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50590?repo=metabase/metabase&commitHash=e8b41c07d14091e710624edeb6727b61168c824c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50590?repo=metabase/metabase&commitHash=e8b41c07d14091e710624edeb6727b61168c824c&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50590?repo=metabase/metabase&commitHash=e8b41c07d14091e710624edeb6727b61168c824c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2699277444,pull_request,closed,,"🤖 backported ""Fix CSV upload when materialized views are present""",#50557,metabase-bot[bot],2024-11-27 17:27:38+00:00,['crisptrutski'],2024-11-28 09:09:48+00:00,2024-11-28 07:51:21+00:00,https://github.com/metabase/metabase/pull/50589,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2504538315, 'issue_id': 2699277444, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/12770_tests-c6f87209-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50589?repo=metabase/metabase&commitHash=c6f87209f0e15a777f6f255e227d4253fd0c2d62&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50589?repo=metabase/metabase&commitHash=c6f87209f0e15a777f6f255e227d4253fd0c2d62&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50589?repo=metabase/metabase&commitHash=c6f87209f0e15a777f6f255e227d4253fd0c2d62&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50589?repo=metabase/metabase&commitHash=c6f87209f0e15a777f6f255e227d4253fd0c2d62&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50589?repo=metabase/metabase&commitHash=c6f87209f0e15a777f6f255e227d4253fd0c2d62&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 27, 18, 19, 56, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-27 18:19:56 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/12770_tests-c6f87209-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50589?repo=metabase/metabase&commitHash=c6f87209f0e15a777f6f255e227d4253fd0c2d62&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50589?repo=metabase/metabase&commitHash=c6f87209f0e15a777f6f255e227d4253fd0c2d62&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50589?repo=metabase/metabase&commitHash=c6f87209f0e15a777f6f255e227d4253fd0c2d62&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50589?repo=metabase/metabase&commitHash=c6f87209f0e15a777f6f255e227d4253fd0c2d62&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50589?repo=metabase/metabase&commitHash=c6f87209f0e15a777f6f255e227d4253fd0c2d62&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2699257288,pull_request,closed,,update bigquery and netty,,piranha,2024-11-27 17:16:32+00:00,['piranha'],2024-11-28 09:10:35+00:00,2024-11-28 07:23:16+00:00,https://github.com/metabase/metabase/pull/50588,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2505472189, 'issue_id': 2699257288, 'author': 'piranha', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 11, 28, 7, 58, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2505474001, 'issue_id': 2699257288, 'author': 'github-actions[bot]', 'body': '@piranha something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12064729906)', 'created_at': datetime.datetime(2024, 11, 28, 7, 59, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2505609042, 'issue_id': 2699257288, 'author': 'github-actions[bot]', 'body': '🚀 This should also be released by [v0.52](https://github.com/metabase/metabase/milestone/283)', 'created_at': datetime.datetime(2024, 11, 28, 9, 10, 33, tzinfo=datetime.timezone.utc)}]","piranha (Issue Creator) on (2024-11-28 07:58:26 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-11-28 07:59:33 UTC): @piranha something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12064729906)

github-actions[bot] on (2024-11-28 09:10:33 UTC): 🚀 This should also be released by [v0.52](https://github.com/metabase/metabase/milestone/283)

"
2699238183,pull_request,closed,,"🤖 backported ""Fix CSV upload when materialized views are present""",#50557,github-automation-metabase,2024-11-27 17:06:51+00:00,"['crisptrutski', 'github-automation-metabase']",2024-11-28 08:23:43+00:00,2024-11-28 07:50:03+00:00,https://github.com/metabase/metabase/pull/50587,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2505443928, 'issue_id': 2699238183, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/121002_tests-1cf3b7bc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50587?repo=metabase/metabase&commitHash=1cf3b7bc52e57d5ae20b02cb53e56d57ae74a208&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50587?repo=metabase/metabase&commitHash=1cf3b7bc52e57d5ae20b02cb53e56d57ae74a208&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50587?repo=metabase/metabase&commitHash=1cf3b7bc52e57d5ae20b02cb53e56d57ae74a208&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50587?repo=metabase/metabase&commitHash=1cf3b7bc52e57d5ae20b02cb53e56d57ae74a208&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50587?repo=metabase/metabase&commitHash=1cf3b7bc52e57d5ae20b02cb53e56d57ae74a208&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 28, 7, 40, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2505443933, 'issue_id': 2699238183, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/73374_tests-1cf3b7bc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50587?repo=metabase/metabase&commitHash=1cf3b7bc52e57d5ae20b02cb53e56d57ae74a208&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50587?repo=metabase/metabase&commitHash=1cf3b7bc52e57d5ae20b02cb53e56d57ae74a208&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50587?repo=metabase/metabase&commitHash=1cf3b7bc52e57d5ae20b02cb53e56d57ae74a208&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50587?repo=metabase/metabase&commitHash=1cf3b7bc52e57d5ae20b02cb53e56d57ae74a208&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50587?repo=metabase/metabase&commitHash=1cf3b7bc52e57d5ae20b02cb53e56d57ae74a208&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 28, 7, 40, 21, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-28 07:40:20 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/121002_tests-1cf3b7bc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50587?repo=metabase/metabase&commitHash=1cf3b7bc52e57d5ae20b02cb53e56d57ae74a208&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50587?repo=metabase/metabase&commitHash=1cf3b7bc52e57d5ae20b02cb53e56d57ae74a208&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50587?repo=metabase/metabase&commitHash=1cf3b7bc52e57d5ae20b02cb53e56d57ae74a208&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50587?repo=metabase/metabase&commitHash=1cf3b7bc52e57d5ae20b02cb53e56d57ae74a208&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50587?repo=metabase/metabase&commitHash=1cf3b7bc52e57d5ae20b02cb53e56d57ae74a208&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-28 07:40:21 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/73374_tests-1cf3b7bc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50587?repo=metabase/metabase&commitHash=1cf3b7bc52e57d5ae20b02cb53e56d57ae74a208&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50587?repo=metabase/metabase&commitHash=1cf3b7bc52e57d5ae20b02cb53e56d57ae74a208&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50587?repo=metabase/metabase&commitHash=1cf3b7bc52e57d5ae20b02cb53e56d57ae74a208&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50587?repo=metabase/metabase&commitHash=1cf3b7bc52e57d5ae20b02cb53e56d57ae74a208&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50587?repo=metabase/metabase&commitHash=1cf3b7bc52e57d5ae20b02cb53e56d57ae74a208&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2699122910,pull_request,closed,,feat(sdk): move non-auth config options to provider,"Closes https://github.com/metabase/metabase/issues/50486

- Renames `SDKConfig` to `MetabaseAuthConfig`
- Renames the `config` prop in MetabaseProvider to `authConfig`
- Moves the 3 fields not related to auth (i.e. `errorComponent`, `loaderComponent` and `allowConsoleLog`) out of the auth config, and into the MetabaseProvider's props.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",heypoom,2024-11-27 16:34:11+00:00,['heypoom'],2024-12-09 18:23:31+00:00,2024-12-09 17:44:44+00:00,https://github.com/metabase/metabase/pull/50585,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2504402853, 'issue_id': 2699122910, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/12957_tests-e5190cfd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50585?repo=metabase/metabase&commitHash=e5190cfdc97462e3f305edf46b80f1e011834563&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50585?repo=metabase/metabase&commitHash=e5190cfdc97462e3f305edf46b80f1e011834563&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50585?repo=metabase/metabase&commitHash=e5190cfdc97462e3f305edf46b80f1e011834563&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50585?repo=metabase/metabase&commitHash=e5190cfdc97462e3f305edf46b80f1e011834563&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50585?repo=metabase/metabase&commitHash=e5190cfdc97462e3f305edf46b80f1e011834563&utm_source=gh-comment&runConclusion=FAILURE&runId=a697527f-a19e-57bd-bb16-26ba618ef791) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50585?repo=metabase/metabase&commitHash=e5190cfdc97462e3f305edf46b80f1e011834563&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 27, 17, 16, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2514091478, 'issue_id': 2699122910, 'author': 'heypoom', 'body': ""@WiNloSt Thanks for the careful review comments, it's always great to have a second pair of eyes when renaming things! I've resolved the issues in the following commits 🙏🏻"", 'created_at': datetime.datetime(2024, 12, 3, 10, 3, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2514092470, 'issue_id': 2699122910, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff c0eab4452eb50fe9fce915b27d00f64e3b8ee710...e5190cfdc97462e3f305edf46b80f1e011834563.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.stories.tsx |', 'created_at': datetime.datetime(2024, 12, 3, 10, 4, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2528877938, 'issue_id': 2699122910, 'author': 'heypoom', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 12, 9, 17, 45, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2528882264, 'issue_id': 2699122910, 'author': 'github-actions[bot]', 'body': '@heypoom something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12241257479)', 'created_at': datetime.datetime(2024, 12, 9, 17, 46, 17, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-27 17:16:22 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/12957_tests-e5190cfd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50585?repo=metabase/metabase&commitHash=e5190cfdc97462e3f305edf46b80f1e011834563&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50585?repo=metabase/metabase&commitHash=e5190cfdc97462e3f305edf46b80f1e011834563&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50585?repo=metabase/metabase&commitHash=e5190cfdc97462e3f305edf46b80f1e011834563&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50585?repo=metabase/metabase&commitHash=e5190cfdc97462e3f305edf46b80f1e011834563&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50585?repo=metabase/metabase&commitHash=e5190cfdc97462e3f305edf46b80f1e011834563&utm_source=gh-comment&runConclusion=FAILURE&runId=a697527f-a19e-57bd-bb16-26ba618ef791) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50585?repo=metabase/metabase&commitHash=e5190cfdc97462e3f305edf46b80f1e011834563&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

heypoom (Issue Creator) on (2024-12-03 10:03:41 UTC): @WiNloSt Thanks for the careful review comments, it's always great to have a second pair of eyes when renaming things! I've resolved the issues in the following commits 🙏🏻

github-actions[bot] on (2024-12-03 10:04:03 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff c0eab4452eb50fe9fce915b27d00f64e3b8ee710...e5190cfdc97462e3f305edf46b80f1e011834563.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.stories.tsx |

heypoom (Issue Creator) on (2024-12-09 17:45:12 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-12-09 17:46:17 UTC): @heypoom something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12241257479)

"
2699026812,pull_request,closed,,Keep Search Index metadata sync'd via setting,"See https://www.notion.so/metabase/Search-Index-Maintenance-14b69354c9018047b670cbba1c3be50d

This ensures that when one instance starts or finishes reindexing, the other instances pick up and switch to the same tables.

Note: this does not stop blowing away the currently active table on deployment yet, we need to have a notion of version for that first.",crisptrutski,2024-11-27 15:51:06+00:00,['crisptrutski'],2024-11-29 09:44:57+00:00,2024-11-29 08:59:53+00:00,https://github.com/metabase/metabase/pull/50581,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2504223065, 'issue_id': 2699026812, 'author': 'crisptrutski', 'body': '* **#50620** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50620?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#50581** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50581?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50581?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* **#50573** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50573?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* `master`\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 11, 27, 15, 51, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2504322758, 'issue_id': 2699026812, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/158400_tests-1175bfcb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50581?repo=metabase/metabase&commitHash=1175bfcb7e3f7b39372fd7614761735d3f2215a5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50581?repo=metabase/metabase&commitHash=1175bfcb7e3f7b39372fd7614761735d3f2215a5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50581?repo=metabase/metabase&commitHash=1175bfcb7e3f7b39372fd7614761735d3f2215a5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50581?repo=metabase/metabase&commitHash=1175bfcb7e3f7b39372fd7614761735d3f2215a5&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50581?repo=metabase/metabase&commitHash=1175bfcb7e3f7b39372fd7614761735d3f2215a5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 27, 16, 37, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2507360661, 'issue_id': 2699026812, 'author': 'crisptrutski', 'body': '### Merge activity\n\n* **Nov 29, 3:59 AM EST**: A user merged this pull request with [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/50581).', 'created_at': datetime.datetime(2024, 11, 29, 8, 59, 55, tzinfo=datetime.timezone.utc)}]","crisptrutski (Issue Creator) on (2024-11-27 15:51:23 UTC): * **#50620** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50620?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#50581** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50581?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50581?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* **#50573** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50573?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* `master`

<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2024-11-27 16:37:05 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/158400_tests-1175bfcb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50581?repo=metabase/metabase&commitHash=1175bfcb7e3f7b39372fd7614761735d3f2215a5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50581?repo=metabase/metabase&commitHash=1175bfcb7e3f7b39372fd7614761735d3f2215a5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50581?repo=metabase/metabase&commitHash=1175bfcb7e3f7b39372fd7614761735d3f2215a5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50581?repo=metabase/metabase&commitHash=1175bfcb7e3f7b39372fd7614761735d3f2215a5&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50581?repo=metabase/metabase&commitHash=1175bfcb7e3f7b39372fd7614761735d3f2215a5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

crisptrutski (Issue Creator) on (2024-11-29 08:59:55 UTC): ### Merge activity

* **Nov 29, 3:59 AM EST**: A user merged this pull request with [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/50581).

"
2698911069,pull_request,closed,,New Embed modal,"Closes https://github.com/metabase/metabase/issues/50552

### Description

This PR implements the new embed modal following [these scenarios.](https://www.notion.so/metabase/Streamline-embed-flow-when-embedding-features-are-off-13869354c90180b4bc02ca29ebf61ad2?pvs=4#14c69354c90180b8bce5fca68e6d5ee6)

### How to verify

Follow [these scenarios](https://www.notion.so/metabase/Streamline-embed-flow-when-embedding-features-are-off-13869354c90180b4bc02ca29ebf61ad2?pvs=4#14c69354c90180b8bce5fca68e6d5ee6). Each scenario already explains what's the expectation is.

### Demo

![image](https://github.com/user-attachments/assets/cb3c3e8b-2184-4879-812e-5af8a135086d)

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",WiNloSt,2024-11-27 15:23:50+00:00,['WiNloSt'],2024-12-03 13:10:22+00:00,2024-12-03 13:10:19+00:00,https://github.com/metabase/metabase/pull/50580,"[('.Team/Embedding', '')]","[{'comment_id': 2504156251, 'issue_id': 2698911069, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 0f8d67952ca897e2eed1cb82a20acb89bc77904d...7284ae014ec55e8568eb6ced593bdef365da8649.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/typography/List/List.styled.tsx |', 'created_at': datetime.datetime(2024, 11, 27, 15, 25, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2504275819, 'issue_id': 2698911069, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/16_tests-bc03e1ec-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50580?repo=metabase/metabase&commitHash=bc03e1ecd8c45a90f8444b76aedabe7670668ba1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50580?repo=metabase/metabase&commitHash=bc03e1ecd8c45a90f8444b76aedabe7670668ba1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50580?repo=metabase/metabase&commitHash=bc03e1ecd8c45a90f8444b76aedabe7670668ba1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50580?repo=metabase/metabase&commitHash=bc03e1ecd8c45a90f8444b76aedabe7670668ba1&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50580?repo=metabase/metabase&commitHash=bc03e1ecd8c45a90f8444b76aedabe7670668ba1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 27, 16, 14, 55, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-27 15:25:22 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 0f8d67952ca897e2eed1cb82a20acb89bc77904d...7284ae014ec55e8568eb6ced593bdef365da8649.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/typography/List/List.styled.tsx |

trunk-io[bot] on (2024-11-27 16:14:55 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/16_tests-bc03e1ec-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50580?repo=metabase/metabase&commitHash=bc03e1ecd8c45a90f8444b76aedabe7670668ba1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50580?repo=metabase/metabase&commitHash=bc03e1ecd8c45a90f8444b76aedabe7670668ba1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50580?repo=metabase/metabase&commitHash=bc03e1ecd8c45a90f8444b76aedabe7670668ba1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50580?repo=metabase/metabase&commitHash=bc03e1ecd8c45a90f8444b76aedabe7670668ba1&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50580?repo=metabase/metabase&commitHash=bc03e1ecd8c45a90f8444b76aedabe7670668ba1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2698899937,pull_request,closed,,Onboarding checklist - misc. follow ups,"### What does this PR accomplish?
- It resolves miscellaneous smaller tasks and the cosmetic follow ups defined in [#49788](https://github.com/metabase/metabase/issues/49788)
- It also tackles the link appearance that @rafpaf noticed in [this comment](https://github.com/metabase/metabase/pull/50516#issuecomment-2514709591)

## Changes
1. Help link should use the existing helper in order to match the behavior we have elsewhere in the app
2. The _data stack_ accordion item image should be updated (it was provided by the designer)
3. Links should now appear correctly (brand color, no underline, pointer on hover)

![image](https://github.com/user-attachments/assets/ede5200a-e6d2-4b96-aa79-7136d706736e)
",nemanjaglumac,2024-11-27 15:18:57+00:00,['nemanjaglumac'],2024-12-03 22:38:25+00:00,2024-12-03 21:55:27+00:00,https://github.com/metabase/metabase/pull/50579,"[('backport', 'Automatically create PR on current release branch on merge')]",[],
2698850149,pull_request,closed,,"🤖 backported ""docs - notes on transparent embeds""",#50377,github-automation-metabase,2024-11-27 14:59:16+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2024-11-27 15:00:50+00:00,2024-11-27 15:00:49+00:00,https://github.com/metabase/metabase/pull/50578,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2698455708,pull_request,closed,,Avoid renaming Search Index tables,"This also avoids a brittle song and dance with non-authoritative atoms in the background. Now we juggle authoritative atoms all the time 😄 
",crisptrutski,2024-11-27 13:00:12+00:00,['crisptrutski'],2024-11-29 08:28:42+00:00,2024-11-29 07:45:42+00:00,https://github.com/metabase/metabase/pull/50573,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2503924101, 'issue_id': 2698455708, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/2_tests-77c8faee-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50573?repo=metabase/metabase&commitHash=77c8faeef52cd178ea51d9c15c7481c314981c7f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50573?repo=metabase/metabase&commitHash=77c8faeef52cd178ea51d9c15c7481c314981c7f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50573?repo=metabase/metabase&commitHash=77c8faeef52cd178ea51d9c15c7481c314981c7f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50573?repo=metabase/metabase&commitHash=77c8faeef52cd178ea51d9c15c7481c314981c7f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>custom-engine-test</code> | Search engine initialization failed due to a null object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50573?repo=metabase/metabase&commitHash=77c8faeef52cd178ea51d9c15c7481c314981c7f&utm_source=gh-comment&runConclusion=FAILURE&runId=08667d78-0014-5819-a97a-ca0e051c92af) |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they don't. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50573?repo=metabase/metabase&commitHash=77c8faeef52cd178ea51d9c15c7481c314981c7f&utm_source=gh-comment&runConclusion=FAILURE&runId=a45245c3-a0e8-56dd-b545-81ca537d8387) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50573?repo=metabase/metabase&commitHash=77c8faeef52cd178ea51d9c15c7481c314981c7f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 27, 13, 47, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2504222980, 'issue_id': 2698455708, 'author': 'crisptrutski', 'body': '* **#50620** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50620?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#50581** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50581?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#50573** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50573?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50573?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 11, 27, 15, 51, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2505895983, 'issue_id': 2698455708, 'author': 'crisptrutski', 'body': ""> One thing that's not obvious: you still need to go through dance of creating the table for the instance to know that search index is available?\r\n\r\nThe reindex job on start-up should still handle this, although it gets reworked in a later PR."", 'created_at': datetime.datetime(2024, 11, 28, 11, 28, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2507253332, 'issue_id': 2698455708, 'author': 'crisptrutski', 'body': '### Merge activity\n\n* **Nov 29, 2:45 AM EST**: A user merged this pull request with [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/50573).', 'created_at': datetime.datetime(2024, 11, 29, 7, 45, 43, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-27 13:47:56 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/2_tests-77c8faee-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50573?repo=metabase/metabase&commitHash=77c8faeef52cd178ea51d9c15c7481c314981c7f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50573?repo=metabase/metabase&commitHash=77c8faeef52cd178ea51d9c15c7481c314981c7f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50573?repo=metabase/metabase&commitHash=77c8faeef52cd178ea51d9c15c7481c314981c7f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50573?repo=metabase/metabase&commitHash=77c8faeef52cd178ea51d9c15c7481c314981c7f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>custom-engine-test</code> | Search engine initialization failed due to a null object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50573?repo=metabase/metabase&commitHash=77c8faeef52cd178ea51d9c15c7481c314981c7f&utm_source=gh-comment&runConclusion=FAILURE&runId=08667d78-0014-5819-a97a-ca0e051c92af) |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they don't. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50573?repo=metabase/metabase&commitHash=77c8faeef52cd178ea51d9c15c7481c314981c7f&utm_source=gh-comment&runConclusion=FAILURE&runId=a45245c3-a0e8-56dd-b545-81ca537d8387) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50573?repo=metabase/metabase&commitHash=77c8faeef52cd178ea51d9c15c7481c314981c7f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

crisptrutski (Issue Creator) on (2024-11-27 15:51:21 UTC): * **#50620** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50620?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#50581** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50581?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#50573** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50573?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50573?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`

<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

crisptrutski (Issue Creator) on (2024-11-28 11:28:34 UTC): The reindex job on start-up should still handle this, although it gets reworked in a later PR.

crisptrutski (Issue Creator) on (2024-11-29 07:45:43 UTC): ### Merge activity

* **Nov 29, 2:45 AM EST**: A user merged this pull request with [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/50573).

"
2698423920,pull_request,closed,,"🤖 backported ""Migrate cross-version e2e tests using a published SDK package from release branch""",#50423,github-automation-metabase,2024-11-27 12:46:20+00:00,"['deniskaber', 'github-automation-metabase']",2024-11-27 12:48:14+00:00,2024-11-27 12:48:13+00:00,https://github.com/metabase/metabase/pull/50572,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2698394175,pull_request,closed,,"🤖 backported ""fix(sdk): make modals use the correct portal""",#50565,metabase-bot[bot],2024-11-27 12:33:19+00:00,['npretto'],2024-11-27 13:45:34+00:00,2024-11-27 13:15:55+00:00,https://github.com/metabase/metabase/pull/50571,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2503848082, 'issue_id': 2698394175, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13176_tests-d0b1a39c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50571?repo=metabase/metabase&commitHash=d0b1a39c16e00e46f208a1aad07876b589220104&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50571?repo=metabase/metabase&commitHash=d0b1a39c16e00e46f208a1aad07876b589220104&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50571?repo=metabase/metabase&commitHash=d0b1a39c16e00e46f208a1aad07876b589220104&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50571?repo=metabase/metabase&commitHash=d0b1a39c16e00e46f208a1aad07876b589220104&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding-sdk > styles modals and tooltips legacy WindowModal modals should render with our styles</code> | The expected font family of an HTML element was not as expected, it was \'Times New Roman\' instead of \'Lato, sans-serif\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50571?repo=metabase/metabase&commitHash=d0b1a39c16e00e46f208a1aad07876b589220104&utm_source=gh-comment&runConclusion=FAILURE&runId=5e70663a-000e-5a9d-97d0-0af1d1efdecc) |\n| <code>scenarios > embedding-sdk > styles modals and tooltips mantine modals should render with our styles</code> | Unable to find an element with the text ""Count of rows"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50571?repo=metabase/metabase&commitHash=d0b1a39c16e00e46f208a1aad07876b589220104&utm_source=gh-comment&runConclusion=FAILURE&runId=202bb4b2-0212-544a-b0f5-be8930c0dff5) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50571?repo=metabase/metabase&commitHash=d0b1a39c16e00e46f208a1aad07876b589220104&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 27, 13, 13, 3, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-27 13:13:03 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13176_tests-d0b1a39c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50571?repo=metabase/metabase&commitHash=d0b1a39c16e00e46f208a1aad07876b589220104&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50571?repo=metabase/metabase&commitHash=d0b1a39c16e00e46f208a1aad07876b589220104&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50571?repo=metabase/metabase&commitHash=d0b1a39c16e00e46f208a1aad07876b589220104&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50571?repo=metabase/metabase&commitHash=d0b1a39c16e00e46f208a1aad07876b589220104&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding-sdk > styles modals and tooltips legacy WindowModal modals should render with our styles</code> | The expected font family of an HTML element was not as expected, it was 'Times New Roman' instead of 'Lato, sans-serif'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50571?repo=metabase/metabase&commitHash=d0b1a39c16e00e46f208a1aad07876b589220104&utm_source=gh-comment&runConclusion=FAILURE&runId=5e70663a-000e-5a9d-97d0-0af1d1efdecc) |
| <code>scenarios > embedding-sdk > styles modals and tooltips mantine modals should render with our styles</code> | Unable to find an element with the text ""Count of rows"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50571?repo=metabase/metabase&commitHash=d0b1a39c16e00e46f208a1aad07876b589220104&utm_source=gh-comment&runConclusion=FAILURE&runId=202bb4b2-0212-544a-b0f5-be8930c0dff5) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50571?repo=metabase/metabase&commitHash=d0b1a39c16e00e46f208a1aad07876b589220104&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2698393442,pull_request,closed,,"🤖 backported ""fix(sdk): make modals use the correct portal""",#50565,github-automation-metabase,2024-11-27 12:32:58+00:00,"['npretto', 'github-automation-metabase']",2024-11-27 14:11:03+00:00,2024-11-27 13:42:48+00:00,https://github.com/metabase/metabase/pull/50570,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2503856404, 'issue_id': 2698393442, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13093_tests-6a1fe80a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50570?repo=metabase/metabase&commitHash=6a1fe80a28ae225637884844d24d8ae4eb83c331&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50570?repo=metabase/metabase&commitHash=6a1fe80a28ae225637884844d24d8ae4eb83c331&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50570?repo=metabase/metabase&commitHash=6a1fe80a28ae225637884844d24d8ae4eb83c331&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50570?repo=metabase/metabase&commitHash=6a1fe80a28ae225637884844d24d8ae4eb83c331&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50570?repo=metabase/metabase&commitHash=6a1fe80a28ae225637884844d24d8ae4eb83c331&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 27, 13, 17, 8, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-27 13:17:08 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13093_tests-6a1fe80a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50570?repo=metabase/metabase&commitHash=6a1fe80a28ae225637884844d24d8ae4eb83c331&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50570?repo=metabase/metabase&commitHash=6a1fe80a28ae225637884844d24d8ae4eb83c331&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50570?repo=metabase/metabase&commitHash=6a1fe80a28ae225637884844d24d8ae4eb83c331&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50570?repo=metabase/metabase&commitHash=6a1fe80a28ae225637884844d24d8ae4eb83c331&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50570?repo=metabase/metabase&commitHash=6a1fe80a28ae225637884844d24d8ae4eb83c331&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2698382049,pull_request,closed,,Test backport,"> [!IMPORTANT]
> For those employed by Metabase: if you are merging into master, please add either a `backport` or a `no-backport` label to this PR. You will not be able to merge until you do this step. Refer to the section [Do I need to backport this PR?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#89f80d6f17714a0198aeb66c0efd1b71) in the Metabase Branching Strategy document for more details. If you're not employed by Metabase, this section does not apply to you, and the label will be taken care of by your reviewer.

> **Warning**
>
> If that is your first contribution to Metabase, please sign the [Contributor License Agreement](https://docs.google.com/a/metabase.com/forms/d/1oV38o7b9ONFSwuzwmERRMi9SYrhYeOrkbmNaq9pOJ_E/viewform) (unless it's a tiny documentation change). Also, if you're attempting to fix a translation issue, please submit your changes to our [POEditor project](https://poeditor.com/join/project/ynjQmwSsGh) instead of opening a PR.

Closes https://github.com/metabase/metabase/issues/[issue_number]

### Description

Describe the overall approach and the problem being solved.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> ...
2. ...

### Demo

_Upload a demo video or before/after screenshots if sensible or remove the section_

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",deniskaber,2024-11-27 12:27:48+00:00,['deniskaber'],2024-11-27 13:41:17+00:00,2024-11-27 12:44:55+00:00,https://github.com/metabase/metabase/pull/50569,"[('.Team/Embedding', '')]","[{'comment_id': 2503909270, 'issue_id': 2698382049, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/20_tests-a679201b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50569?repo=metabase/metabase&commitHash=a679201bdb5be3cd2593cd8f0361a5f1377b84a7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50569?repo=metabase/metabase&commitHash=a679201bdb5be3cd2593cd8f0361a5f1377b84a7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50569?repo=metabase/metabase&commitHash=a679201bdb5be3cd2593cd8f0361a5f1377b84a7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50569?repo=metabase/metabase&commitHash=a679201bdb5be3cd2593cd8f0361a5f1377b84a7&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50569?repo=metabase/metabase&commitHash=a679201bdb5be3cd2593cd8f0361a5f1377b84a7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 27, 13, 41, 15, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-27 13:41:15 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/20_tests-a679201b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50569?repo=metabase/metabase&commitHash=a679201bdb5be3cd2593cd8f0361a5f1377b84a7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50569?repo=metabase/metabase&commitHash=a679201bdb5be3cd2593cd8f0361a5f1377b84a7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50569?repo=metabase/metabase&commitHash=a679201bdb5be3cd2593cd8f0361a5f1377b84a7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50569?repo=metabase/metabase&commitHash=a679201bdb5be3cd2593cd8f0361a5f1377b84a7&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50569?repo=metabase/metabase&commitHash=a679201bdb5be3cd2593cd8f0361a5f1377b84a7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2698193567,pull_request,closed,,"🤖 backported ""Basic test for search reindexing""",#50560,github-automation-metabase,2024-11-27 11:24:24+00:00,"['crisptrutski', 'github-automation-metabase']",2024-11-27 12:47:53+00:00,2024-11-27 12:24:43+00:00,https://github.com/metabase/metabase/pull/50568,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2503723646, 'issue_id': 2698193567, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/2_tests-489bbf60-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50568?repo=metabase/metabase&commitHash=489bbf60142c342fdd00af746803f02e7cf730f4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50568?repo=metabase/metabase&commitHash=489bbf60142c342fdd00af746803f02e7cf730f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50568?repo=metabase/metabase&commitHash=489bbf60142c342fdd00af746803f02e7cf730f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50568?repo=metabase/metabase&commitHash=489bbf60142c342fdd00af746803f02e7cf730f4&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>search-db-call-count-test</code> | The expected call count was 5, but the actual call count was 6. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50568?repo=metabase/metabase&commitHash=489bbf60142c342fdd00af746803f02e7cf730f4&utm_source=gh-comment&runConclusion=FAILURE&runId=efcfdcd8-9b95-514c-a5c9-3661b6b8267a) |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, but expected stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50568?repo=metabase/metabase&commitHash=489bbf60142c342fdd00af746803f02e7cf730f4&utm_source=gh-comment&runConclusion=FAILURE&runId=4aadac27-f740-56cf-8390-d93560eb257f) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50568?repo=metabase/metabase&commitHash=489bbf60142c342fdd00af746803f02e7cf730f4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 27, 12, 14, 39, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-27 12:14:39 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/2_tests-489bbf60-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50568?repo=metabase/metabase&commitHash=489bbf60142c342fdd00af746803f02e7cf730f4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50568?repo=metabase/metabase&commitHash=489bbf60142c342fdd00af746803f02e7cf730f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50568?repo=metabase/metabase&commitHash=489bbf60142c342fdd00af746803f02e7cf730f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50568?repo=metabase/metabase&commitHash=489bbf60142c342fdd00af746803f02e7cf730f4&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>search-db-call-count-test</code> | The expected call count was 5, but the actual call count was 6. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50568?repo=metabase/metabase&commitHash=489bbf60142c342fdd00af746803f02e7cf730f4&utm_source=gh-comment&runConclusion=FAILURE&runId=efcfdcd8-9b95-514c-a5c9-3661b6b8267a) |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, but expected stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50568?repo=metabase/metabase&commitHash=489bbf60142c342fdd00af746803f02e7cf730f4&utm_source=gh-comment&runConclusion=FAILURE&runId=4aadac27-f740-56cf-8390-d93560eb257f) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50568?repo=metabase/metabase&commitHash=489bbf60142c342fdd00af746803f02e7cf730f4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2698127453,pull_request,open,,"Fix incorrect labelling for ""IS NULL"" and ""IS NOT NULL"" clauses in Date Picker","<!--
> [!IMPORTANT]
> For those employed by Metabase: if you are merging into master, please add either a `backport` or a `no-backport` label to this PR. You will not be able to merge until you do this step. Refer to the section [Do I need to backport this PR?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#89f80d6f17714a0198aeb66c0efd1b71) in the Metabase Branching Strategy document for more details. If you're not employed by Metabase, this section does not apply to you, and the label will be taken care of by your reviewer.

> **Warning**
>
> If that is your first contribution to Metabase, please sign the [Contributor License Agreement](https://docs.google.com/a/metabase.com/forms/d/1oV38o7b9ONFSwuzwmERRMi9SYrhYeOrkbmNaq9pOJ_E/viewform) (unless it's a tiny documentation change). Also, if you're attempting to fix a translation issue, please submit your changes to our [POEditor project](https://poeditor.com/join/project/ynjQmwSsGh) instead of opening a PR.

Closes https://github.com/metabase/metabase/issues/[issue_number]
-->

### Description

On the Query Builder UI for a question, when adding filter on a Date column, adding an ""Is empty"" filter actually added a ""IS NOT NULL"" to the query and vice-versa for ""Is not empty"".
This change fixes it.
### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> Select date column -> Click on ""Exclude"" -> Select ""Is empty"" 
2. Verify SQL has correct generated clause

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",ttanay,2024-11-27 10:56:39+00:00,[],2024-11-28 06:13:11+00:00,,https://github.com/metabase/metabase/pull/50566,[],[],
2698050609,pull_request,closed,,fix(sdk): make modals use the correct portal,"Closes https://github.com/metabase/metabase/issues/50521

This fixes two issues:
- when theme was not passed the mantine modals were not using the portal container correctly (fixes #50521), fixed in `SdkThemeProvider.tsx`
- ""legacy modals"" were being added to the body, not to our modal container, fixed in WindowModal",npretto,2024-11-27 10:42:57+00:00,['npretto'],2024-11-27 12:32:28+00:00,2024-11-27 12:32:09+00:00,https://github.com/metabase/metabase/pull/50565,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2503666421, 'issue_id': 2698050609, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/12918_tests-a2137867-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50565?repo=metabase/metabase&commitHash=a2137867d3a21edc58de85c05df65c72b9d06da9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50565?repo=metabase/metabase&commitHash=a2137867d3a21edc58de85c05df65c72b9d06da9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50565?repo=metabase/metabase&commitHash=a2137867d3a21edc58de85c05df65c72b9d06da9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50565?repo=metabase/metabase&commitHash=a2137867d3a21edc58de85c05df65c72b9d06da9&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50565?repo=metabase/metabase&commitHash=a2137867d3a21edc58de85c05df65c72b9d06da9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 27, 11, 45, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2503760544, 'issue_id': 2698050609, 'author': 'npretto', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 11, 27, 12, 32, 27, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-27 11:45:41 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/12918_tests-a2137867-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50565?repo=metabase/metabase&commitHash=a2137867d3a21edc58de85c05df65c72b9d06da9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50565?repo=metabase/metabase&commitHash=a2137867d3a21edc58de85c05df65c72b9d06da9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50565?repo=metabase/metabase&commitHash=a2137867d3a21edc58de85c05df65c72b9d06da9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50565?repo=metabase/metabase&commitHash=a2137867d3a21edc58de85c05df65c72b9d06da9&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50565?repo=metabase/metabase&commitHash=a2137867d3a21edc58de85c05df65c72b9d06da9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

npretto (Issue Creator) on (2024-11-27 12:32:27 UTC): @metabase-bot backport release-x.51.x

"
2697964366,pull_request,closed,,"🤖 backported ""[Databricks] Add catalog validation into `can-connect?` implementation""",#50468,metabase-bot[bot],2024-11-27 10:09:15+00:00,['lbrdnk'],2024-11-27 22:51:37+00:00,2024-11-27 22:16:12+00:00,https://github.com/metabase/metabase/pull/50564,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2504888639, 'issue_id': 2697964366, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3_tests-ba93e917-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50564?repo=metabase/metabase&commitHash=ba93e917be4d9ad21af68604db6942008b901b50&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50564?repo=metabase/metabase&commitHash=ba93e917be4d9ad21af68604db6942008b901b50&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50564?repo=metabase/metabase&commitHash=ba93e917be4d9ad21af68604db6942008b901b50&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50564?repo=metabase/metabase&commitHash=ba93e917be4d9ad21af68604db6942008b901b50&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\#24966)</code> | The error occurred when trying to read the \'body\' property of an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50564?repo=metabase/metabase&commitHash=ba93e917be4d9ad21af68604db6942008b901b50&utm_source=gh-comment&runConclusion=FAILURE&runId=34aaff19-bf2a-52a7-91e5-610831828ad6) |\n| <code>scenarios > embedding-sdk > styles modals and tooltips mantine modals should render with our styles</code> | Unable to find an element with the text ""Count of rows"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50564?repo=metabase/metabase&commitHash=ba93e917be4d9ad21af68604db6942008b901b50&utm_source=gh-comment&runConclusion=FAILURE&runId=00fccb4a-96e8-5235-94e5-0da18a3f17a3) |\n| <code>scenarios > embedding-sdk > styles modals and tooltips legacy WindowModal modals should render with our styles</code> | The expected font family of an HTML element was not as expected, it was \'Times New Roman\' instead of \'Lato, sans-serif\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50564?repo=metabase/metabase&commitHash=ba93e917be4d9ad21af68604db6942008b901b50&utm_source=gh-comment&runConclusion=FAILURE&runId=0c92d360-80d1-538a-bceb-b9098fae46d0) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50564?repo=metabase/metabase&commitHash=ba93e917be4d9ad21af68604db6942008b901b50&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 27, 22, 16, 25, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-27 22:16:25 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3_tests-ba93e917-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50564?repo=metabase/metabase&commitHash=ba93e917be4d9ad21af68604db6942008b901b50&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50564?repo=metabase/metabase&commitHash=ba93e917be4d9ad21af68604db6942008b901b50&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50564?repo=metabase/metabase&commitHash=ba93e917be4d9ad21af68604db6942008b901b50&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50564?repo=metabase/metabase&commitHash=ba93e917be4d9ad21af68604db6942008b901b50&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\#24966)</code> | The error occurred when trying to read the 'body' property of an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50564?repo=metabase/metabase&commitHash=ba93e917be4d9ad21af68604db6942008b901b50&utm_source=gh-comment&runConclusion=FAILURE&runId=34aaff19-bf2a-52a7-91e5-610831828ad6) |
| <code>scenarios > embedding-sdk > styles modals and tooltips mantine modals should render with our styles</code> | Unable to find an element with the text ""Count of rows"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50564?repo=metabase/metabase&commitHash=ba93e917be4d9ad21af68604db6942008b901b50&utm_source=gh-comment&runConclusion=FAILURE&runId=00fccb4a-96e8-5235-94e5-0da18a3f17a3) |
| <code>scenarios > embedding-sdk > styles modals and tooltips legacy WindowModal modals should render with our styles</code> | The expected font family of an HTML element was not as expected, it was 'Times New Roman' instead of 'Lato, sans-serif'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50564?repo=metabase/metabase&commitHash=ba93e917be4d9ad21af68604db6942008b901b50&utm_source=gh-comment&runConclusion=FAILURE&runId=0c92d360-80d1-538a-bceb-b9098fae46d0) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50564?repo=metabase/metabase&commitHash=ba93e917be4d9ad21af68604db6942008b901b50&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2697959264,pull_request,closed,,"🤖 backported ""[Databricks] Add catalog validation into `can-connect?` implementation""",#50468,github-automation-metabase,2024-11-27 10:07:02+00:00,"['lbrdnk', 'github-automation-metabase']",2024-11-27 10:49:43+00:00,2024-11-27 10:49:42+00:00,https://github.com/metabase/metabase/pull/50561,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2697948970,pull_request,closed,,Basic test for search reindexing,,crisptrutski,2024-11-27 10:02:54+00:00,['crisptrutski'],2024-11-27 13:24:11+00:00,2024-11-27 11:23:32+00:00,https://github.com/metabase/metabase/pull/50560,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2503592970, 'issue_id': 2697948970, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3_tests-4294b88b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50560?repo=metabase/metabase&commitHash=4294b88be5c4154515f31d445494000223b4b5f2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50560?repo=metabase/metabase&commitHash=4294b88be5c4154515f31d445494000223b4b5f2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50560?repo=metabase/metabase&commitHash=4294b88be5c4154515f31d445494000223b4b5f2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50560?repo=metabase/metabase&commitHash=4294b88be5c4154515f31d445494000223b4b5f2&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>force-reindex-test</code> | POST request to /api/search/force-reindex failed with 500 status code instead of expected 200. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50560?repo=metabase/metabase&commitHash=4294b88be5c4154515f31d445494000223b4b5f2&utm_source=gh-comment&runConclusion=FAILURE&runId=cdc4ffba-9aea-5c4e-b13b-5c81b5074376) |\n| <code>force-reindex-test</code> | POST request to /api/search/force-reindex failed with status code 500 instead of 200. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50560?repo=metabase/metabase&commitHash=4294b88be5c4154515f31d445494000223b4b5f2&utm_source=gh-comment&runConclusion=FAILURE&runId=05416a2d-f5cf-5b83-8bac-3ec3891a5249) |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they don't. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50560?repo=metabase/metabase&commitHash=4294b88be5c4154515f31d445494000223b4b5f2&utm_source=gh-comment&runConclusion=FAILURE&runId=db293abb-2d39-575d-a77a-b8114ed07c55) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50560?repo=metabase/metabase&commitHash=4294b88be5c4154515f31d445494000223b4b5f2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 27, 11, 9, 40, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-27 11:09:40 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3_tests-4294b88b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50560?repo=metabase/metabase&commitHash=4294b88be5c4154515f31d445494000223b4b5f2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50560?repo=metabase/metabase&commitHash=4294b88be5c4154515f31d445494000223b4b5f2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50560?repo=metabase/metabase&commitHash=4294b88be5c4154515f31d445494000223b4b5f2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50560?repo=metabase/metabase&commitHash=4294b88be5c4154515f31d445494000223b4b5f2&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>force-reindex-test</code> | POST request to /api/search/force-reindex failed with 500 status code instead of expected 200. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50560?repo=metabase/metabase&commitHash=4294b88be5c4154515f31d445494000223b4b5f2&utm_source=gh-comment&runConclusion=FAILURE&runId=cdc4ffba-9aea-5c4e-b13b-5c81b5074376) |
| <code>force-reindex-test</code> | POST request to /api/search/force-reindex failed with status code 500 instead of 200. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50560?repo=metabase/metabase&commitHash=4294b88be5c4154515f31d445494000223b4b5f2&utm_source=gh-comment&runConclusion=FAILURE&runId=05416a2d-f5cf-5b83-8bac-3ec3891a5249) |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they don't. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50560?repo=metabase/metabase&commitHash=4294b88be5c4154515f31d445494000223b4b5f2&utm_source=gh-comment&runConclusion=FAILURE&runId=db293abb-2d39-575d-a77a-b8114ed07c55) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50560?repo=metabase/metabase&commitHash=4294b88be5c4154515f31d445494000223b4b5f2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2697815010,pull_request,closed,,"Run search api tests with new search, if available","This is going to break horribly for now due to:

- Slightly different data shape
- Different filtering and ranking behavior

Not sure how we'll abstract over these engine differences. Probably embrace a lowest common denominator and then have engine specific spin-off test namespaces.",crisptrutski,2024-11-27 09:30:23+00:00,['crisptrutski'],2025-01-15 20:23:41+00:00,2025-01-15 20:23:40+00:00,https://github.com/metabase/metabase/pull/50558,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2503476123, 'issue_id': 2697815010, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/124507_tests-f1876490-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50558?repo=metabase/metabase&commitHash=f18764907e14735079acd44e6143ba532742fa74&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/225-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50558?repo=metabase/metabase&commitHash=f18764907e14735079acd44e6143ba532742fa74&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50558?repo=metabase/metabase&commitHash=f18764907e14735079acd44e6143ba532742fa74&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50558?repo=metabase/metabase&commitHash=f18764907e14735079acd44e6143ba532742fa74&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>all-users-no-perms-table-test</code> | The expected result of the search query did not match the actual result. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50558?repo=metabase/metabase&commitHash=f18764907e14735079acd44e6143ba532742fa74&utm_source=gh-comment&runConclusion=FAILURE&runId=ba572af1-d4b2-534f-ae23-bbe8a4b261e9) |\n| <code>dashboard-count-test</code> | The expected result of sorting by dashboardcard\\_count does not match the actual result. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50558?repo=metabase/metabase&commitHash=f18764907e14735079acd44e6143ba532742fa74&utm_source=gh-comment&runConclusion=FAILURE&runId=f3b25180-2c9a-5ea0-98a5-e6f2bd307377) |\n| <code>archived-results-test-2</code> | Expected archived results when specified, but actual results did not match the expected archived results. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50558?repo=metabase/metabase&commitHash=f18764907e14735079acd44e6143ba532742fa74&utm_source=gh-comment&runConclusion=FAILURE&runId=5a7fdfd6-4d7c-54cd-a0e9-b5807cfb9c03) |\n| <code>permissions-test-2</code> | Users with root collection permissions do not get root collection search results as expected. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50558?repo=metabase/metabase&commitHash=f18764907e14735079acd44e6143ba532742fa74&utm_source=gh-comment&runConclusion=FAILURE&runId=415b7f19-4633-5751-8fb1-23260ba6794b) |\n\n[... and 221 more](https://app.trunk.io/metabase/flaky-tests/pr/50558?repo=metabase/metabase&commitHash=f18764907e14735079acd44e6143ba532742fa74&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding-sdk > styles fontFamily should fallback to the font from the instance if no fontFamily is set on the theme</code> | The test timed out while trying to find an element with the text ""Product ID"" because there were multiple elements with the same text. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50558?repo=metabase/metabase&commitHash=f18764907e14735079acd44e6143ba532742fa74&utm_source=gh-comment&runConclusion=FAILURE&runId=d7ed69f9-c8a5-5634-82b1-78ecee764dc8) |\n| <code>Write actions on model detail page (postgres) should allow implicit action execution from the model details page</code> | Unable to find an accessible element with the role ""tablist"" after 4000ms of retrying. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50558?repo=metabase/metabase&commitHash=f18764907e14735079acd44e6143ba532742fa74&utm_source=gh-comment&runConclusion=FAILURE&runId=940e0b3b-92a6-591a-b55a-447098af98b9) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50558?repo=metabase/metabase&commitHash=f18764907e14735079acd44e6143ba532742fa74&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 27, 10, 15, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2531838193, 'issue_id': 2697815010, 'author': 'crisptrutski', 'body': 'Rebased on the h2 branch so e2e tests can use those too', 'created_at': datetime.datetime(2024, 12, 10, 14, 45, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2531838249, 'issue_id': 2697815010, 'author': 'crisptrutski', 'body': '> [!WARNING]\n> <b>This pull request is not mergeable via GitHub because a downstack PR is open. Once all requirements are satisfied, merge this PR as a stack <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50558?utm_source=stack-comment-downstack-mergeability-warning"" >on Graphite</a>.</b>\n> <a href=""https://graphite.dev/docs/merge-pull-requests"">Learn more</a>\n\n* **#50558** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50558?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50558?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* **#51277** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51277?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 12, 10, 14, 45, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2593858988, 'issue_id': 2697815010, 'author': 'crisptrutski', 'body': ""Not sure why CI is not running. Perhaps because this is a stacked PR? \r\n\r\nSince changes in this should fix some (if not all 🤞 of the) e2e tests, I'm going to just collapse it."", 'created_at': datetime.datetime(2025, 1, 15, 20, 22, 37, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-27 10:15:53 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/124507_tests-f1876490-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50558?repo=metabase/metabase&commitHash=f18764907e14735079acd44e6143ba532742fa74&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/225-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50558?repo=metabase/metabase&commitHash=f18764907e14735079acd44e6143ba532742fa74&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50558?repo=metabase/metabase&commitHash=f18764907e14735079acd44e6143ba532742fa74&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50558?repo=metabase/metabase&commitHash=f18764907e14735079acd44e6143ba532742fa74&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>all-users-no-perms-table-test</code> | The expected result of the search query did not match the actual result. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50558?repo=metabase/metabase&commitHash=f18764907e14735079acd44e6143ba532742fa74&utm_source=gh-comment&runConclusion=FAILURE&runId=ba572af1-d4b2-534f-ae23-bbe8a4b261e9) |
| <code>dashboard-count-test</code> | The expected result of sorting by dashboardcard\_count does not match the actual result. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50558?repo=metabase/metabase&commitHash=f18764907e14735079acd44e6143ba532742fa74&utm_source=gh-comment&runConclusion=FAILURE&runId=f3b25180-2c9a-5ea0-98a5-e6f2bd307377) |
| <code>archived-results-test-2</code> | Expected archived results when specified, but actual results did not match the expected archived results. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50558?repo=metabase/metabase&commitHash=f18764907e14735079acd44e6143ba532742fa74&utm_source=gh-comment&runConclusion=FAILURE&runId=5a7fdfd6-4d7c-54cd-a0e9-b5807cfb9c03) |
| <code>permissions-test-2</code> | Users with root collection permissions do not get root collection search results as expected. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50558?repo=metabase/metabase&commitHash=f18764907e14735079acd44e6143ba532742fa74&utm_source=gh-comment&runConclusion=FAILURE&runId=415b7f19-4633-5751-8fb1-23260ba6794b) |

[... and 221 more](https://app.trunk.io/metabase/flaky-tests/pr/50558?repo=metabase/metabase&commitHash=f18764907e14735079acd44e6143ba532742fa74&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding-sdk > styles fontFamily should fallback to the font from the instance if no fontFamily is set on the theme</code> | The test timed out while trying to find an element with the text ""Product ID"" because there were multiple elements with the same text. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50558?repo=metabase/metabase&commitHash=f18764907e14735079acd44e6143ba532742fa74&utm_source=gh-comment&runConclusion=FAILURE&runId=d7ed69f9-c8a5-5634-82b1-78ecee764dc8) |
| <code>Write actions on model detail page (postgres) should allow implicit action execution from the model details page</code> | Unable to find an accessible element with the role ""tablist"" after 4000ms of retrying. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50558?repo=metabase/metabase&commitHash=f18764907e14735079acd44e6143ba532742fa74&utm_source=gh-comment&runConclusion=FAILURE&runId=940e0b3b-92a6-591a-b55a-447098af98b9) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50558?repo=metabase/metabase&commitHash=f18764907e14735079acd44e6143ba532742fa74&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

crisptrutski (Issue Creator) on (2024-12-10 14:45:05 UTC): Rebased on the h2 branch so e2e tests can use those too

crisptrutski (Issue Creator) on (2024-12-10 14:45:05 UTC): * **#50558** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50558?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50558?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* **#51277** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51277?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

crisptrutski (Issue Creator) on (2025-01-15 20:22:37 UTC): Not sure why CI is not running. Perhaps because this is a stacked PR? 

Since changes in this should fix some (if not all 🤞 of the) e2e tests, I'm going to just collapse it.

"
2697615455,pull_request,closed,,Fix CSV upload when materialized views are present,Fixes https://github.com/metabase/metabase/issues/50501,crisptrutski,2024-11-27 08:27:44+00:00,['crisptrutski'],2024-11-27 17:26:46+00:00,2024-11-27 17:05:57+00:00,https://github.com/metabase/metabase/pull/50557,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2503324400, 'issue_id': 2697615455, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120984_tests-c4788d01-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50557?repo=metabase/metabase&commitHash=c4788d018e56a7696498e63ecef4cc9e3ff489be&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50557?repo=metabase/metabase&commitHash=c4788d018e56a7696498e63ecef4cc9e3ff489be&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50557?repo=metabase/metabase&commitHash=c4788d018e56a7696498e63ecef4cc9e3ff489be&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50557?repo=metabase/metabase&commitHash=c4788d018e56a7696498e63ecef4cc9e3ff489be&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, but expected stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50557?repo=metabase/metabase&commitHash=c4788d018e56a7696498e63ecef4cc9e3ff489be&utm_source=gh-comment&runConclusion=FAILURE&runId=76a2283b-2972-5bc2-93e6-f12e569fe073) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50557?repo=metabase/metabase&commitHash=c4788d018e56a7696498e63ecef4cc9e3ff489be&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 27, 9, 12, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2504382556, 'issue_id': 2697615455, 'author': 'crisptrutski', 'body': 'I thought about writing a CSV related test, but then felt this was a more general and there should be a `sync-fields/sync-fields-for-table!` level test, and left this as an exercise for the drivers experts. Sorry!', 'created_at': datetime.datetime(2024, 11, 27, 17, 5, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2504421608, 'issue_id': 2697615455, 'author': 'crisptrutski', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 11, 27, 17, 26, 44, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-27 09:12:13 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120984_tests-c4788d01-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50557?repo=metabase/metabase&commitHash=c4788d018e56a7696498e63ecef4cc9e3ff489be&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50557?repo=metabase/metabase&commitHash=c4788d018e56a7696498e63ecef4cc9e3ff489be&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50557?repo=metabase/metabase&commitHash=c4788d018e56a7696498e63ecef4cc9e3ff489be&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50557?repo=metabase/metabase&commitHash=c4788d018e56a7696498e63ecef4cc9e3ff489be&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, but expected stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50557?repo=metabase/metabase&commitHash=c4788d018e56a7696498e63ecef4cc9e3ff489be&utm_source=gh-comment&runConclusion=FAILURE&runId=76a2283b-2972-5bc2-93e6-f12e569fe073) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50557?repo=metabase/metabase&commitHash=c4788d018e56a7696498e63ecef4cc9e3ff489be&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

crisptrutski (Issue Creator) on (2024-11-27 17:05:44 UTC): I thought about writing a CSV related test, but then felt this was a more general and there should be a `sync-fields/sync-fields-for-table!` level test, and left this as an exercise for the drivers experts. Sorry!

crisptrutski (Issue Creator) on (2024-11-27 17:26:44 UTC): @metabase-bot backport release-x.51.x

"
2697612022,pull_request,closed,,Enable underlying-records drill in table viz for multi-stage queries,"### Description

Enable the underlying-records drill in table visualizations for multi-stage queries by having the drill look up the underlying ""top-level-column"" to determine if it comes from an aggregation, and, if so, construct `dimensions` for the drill from the `row` data.

Unfortunately, I just realized that this same bug exists in multiple other drills. This PR only fixes the underlying_records drill. At a minimum, this same bug seems to also affect the zoom-in-timeseries, pivot, and automatic-insight drills, but possibly others as well.

update: per slack thread [here](https://metaboat.slack.com/archives/C0645JP1W81/p1732738034864339) this fix can land first and I'll work on these other drills in a follow-on PR(s)

Partial fix for: https://github.com/metabase/metabase/issues/46932

Previous slack discussions

https://metaboat.slack.com/archives/C0645JP1W81/p1732567276393749

https://metaboat.slack.com/archives/C0643FZ5E83/p1732208207975959?thread_ts=1732200887.449339&cid=C0643FZ5E83

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> Orders
2. Summarize: count by Created At: month
3. Add a filter stage after the summarization, e.g. Count > 1
4. Visualize
5. Click on the Count column in the resulting Table viz
6. Observe ""See these Orders"" in the context menu

### Demo

<img width=""544"" alt=""Screenshot 2024-11-27 at 11 51 53 AM"" src=""https://github.com/user-attachments/assets/933af02a-bc67-4e04-9b34-d30390531101"">

<img width=""727"" alt=""Screenshot 2024-11-27 at 11 50 36 AM"" src=""https://github.com/user-attachments/assets/33622957-9e9b-4cd0-bdef-d77710a73589"">

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",appleby,2024-11-27 08:26:02+00:00,['appleby'],2024-11-29 09:02:18+00:00,2024-11-28 21:53:31+00:00,https://github.com/metabase/metabase/pull/50556,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2503324473, 'issue_id': 2697612022, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/127468_tests-13f277f9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50556?repo=metabase/metabase&commitHash=13f277f943a803388c276aa6317a9e71f8b3de67&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50556?repo=metabase/metabase&commitHash=13f277f943a803388c276aa6317a9e71f8b3de67&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50556?repo=metabase/metabase&commitHash=13f277f943a803388c276aa6317a9e71f8b3de67&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50556?repo=metabase/metabase&commitHash=13f277f943a803388c276aa6317a9e71f8b3de67&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>migrate-dashboard-revision-grid-from-18-to-24-handle-faliure-test</code> | Expected result does not match actual result when downgrading database schema. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50556?repo=metabase/metabase&commitHash=13f277f943a803388c276aa6317a9e71f8b3de67&utm_source=gh-comment&runConclusion=FAILURE&runId=163ca364-d182-51a8-a869-03111dbae8b1) |\n| <code>extract-nested-efficient-test</code> | Expected and actual instances of Dashboard do not match. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50556?repo=metabase/metabase&commitHash=13f277f943a803388c276aa6317a9e71f8b3de67&utm_source=gh-comment&runConclusion=FAILURE&runId=bdee2b83-c572-5807-9237-4ab3d734e762) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50556?repo=metabase/metabase&commitHash=13f277f943a803388c276aa6317a9e71f8b3de67&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 27, 9, 12, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2503324484, 'issue_id': 2697612022, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/130437_tests-468bf853-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50556?repo=metabase/metabase&commitHash=468bf853c3f26f1d330cd26a4fa496bdf4ee86ac&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50556?repo=metabase/metabase&commitHash=468bf853c3f26f1d330cd26a4fa496bdf4ee86ac&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50556?repo=metabase/metabase&commitHash=468bf853c3f26f1d330cd26a4fa496bdf4ee86ac&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50556?repo=metabase/metabase&commitHash=468bf853c3f26f1d330cd26a4fa496bdf4ee86ac&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 18770 post-aggregation filter shouldn't affect the drill-through options (metabase\\#18770)</code> | The test expected 4 elements but found 5, causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50556?repo=metabase/metabase&commitHash=468bf853c3f26f1d330cd26a4fa496bdf4ee86ac&utm_source=gh-comment&runConclusion=FAILURE&runId=52289df1-4902-5514-94a4-7ac4891dcdc7) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50556?repo=metabase/metabase&commitHash=468bf853c3f26f1d330cd26a4fa496bdf4ee86ac&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 27, 9, 12, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2504648383, 'issue_id': 2697612022, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 9cc1a46c8a54a04fabe5ef92ed469b13dee7cbcd...5e59283b20b31cb5e62b0a67f138fddfce448615.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/lib/table.js |', 'created_at': datetime.datetime(2024, 11, 27, 19, 35, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2505084929, 'issue_id': 2697612022, 'author': 'appleby', 'body': '> 👍 I wonder if summaries where aggregations or breakouts are missing are relevant and should be tested.\r\n\r\nThere was already one in the ""canned"" tests for an aggregation with no breakouts. I added one for breakout with no aggregation as well.', 'created_at': datetime.datetime(2024, 11, 28, 1, 19, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2506794591, 'issue_id': 2697612022, 'author': 'appleby', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 11, 28, 21, 54, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2507365465, 'issue_id': 2697612022, 'author': 'github-actions[bot]', 'body': '🚀 This should also be released by [v0.52](https://github.com/metabase/metabase/milestone/283)', 'created_at': datetime.datetime(2024, 11, 29, 9, 2, 16, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-27 09:12:14 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/127468_tests-13f277f9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50556?repo=metabase/metabase&commitHash=13f277f943a803388c276aa6317a9e71f8b3de67&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50556?repo=metabase/metabase&commitHash=13f277f943a803388c276aa6317a9e71f8b3de67&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50556?repo=metabase/metabase&commitHash=13f277f943a803388c276aa6317a9e71f8b3de67&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50556?repo=metabase/metabase&commitHash=13f277f943a803388c276aa6317a9e71f8b3de67&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>migrate-dashboard-revision-grid-from-18-to-24-handle-faliure-test</code> | Expected result does not match actual result when downgrading database schema. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50556?repo=metabase/metabase&commitHash=13f277f943a803388c276aa6317a9e71f8b3de67&utm_source=gh-comment&runConclusion=FAILURE&runId=163ca364-d182-51a8-a869-03111dbae8b1) |
| <code>extract-nested-efficient-test</code> | Expected and actual instances of Dashboard do not match. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50556?repo=metabase/metabase&commitHash=13f277f943a803388c276aa6317a9e71f8b3de67&utm_source=gh-comment&runConclusion=FAILURE&runId=bdee2b83-c572-5807-9237-4ab3d734e762) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50556?repo=metabase/metabase&commitHash=13f277f943a803388c276aa6317a9e71f8b3de67&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-27 09:12:14 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/130437_tests-468bf853-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50556?repo=metabase/metabase&commitHash=468bf853c3f26f1d330cd26a4fa496bdf4ee86ac&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50556?repo=metabase/metabase&commitHash=468bf853c3f26f1d330cd26a4fa496bdf4ee86ac&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50556?repo=metabase/metabase&commitHash=468bf853c3f26f1d330cd26a4fa496bdf4ee86ac&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50556?repo=metabase/metabase&commitHash=468bf853c3f26f1d330cd26a4fa496bdf4ee86ac&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 18770 post-aggregation filter shouldn't affect the drill-through options (metabase\#18770)</code> | The test expected 4 elements but found 5, causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50556?repo=metabase/metabase&commitHash=468bf853c3f26f1d330cd26a4fa496bdf4ee86ac&utm_source=gh-comment&runConclusion=FAILURE&runId=52289df1-4902-5514-94a4-7ac4891dcdc7) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50556?repo=metabase/metabase&commitHash=468bf853c3f26f1d330cd26a4fa496bdf4ee86ac&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2024-11-27 19:35:44 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 9cc1a46c8a54a04fabe5ef92ed469b13dee7cbcd...5e59283b20b31cb5e62b0a67f138fddfce448615.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/lib/table.js |

appleby (Issue Creator) on (2024-11-28 01:19:08 UTC): There was already one in the ""canned"" tests for an aggregation with no breakouts. I added one for breakout with no aggregation as well.

appleby (Issue Creator) on (2024-11-28 21:54:27 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-11-29 09:02:16 UTC): 🚀 This should also be released by [v0.52](https://github.com/metabase/metabase/milestone/283)

"
2697494626,pull_request,closed,,ci(sdk): remove unreliable loading indicator e2e for create question,"Applies https://github.com/metabase/metabase/pull/50497 to the master branch. This has already been applied to the `release-x.51.x` branch to fix the failing CI blocking yesterday's release (therefore we **don't need to double-backport** this PR), but this still has to be backported to `release-x.52.x`.",heypoom,2024-11-27 07:36:42+00:00,['heypoom'],2024-11-29 13:11:44+00:00,2024-11-28 16:30:32+00:00,https://github.com/metabase/metabase/pull/50555,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]",[],
2697293425,pull_request,closed,,"🤖 backported ""Enable New Search by default""",#50520,github-automation-metabase,2024-11-27 06:37:17+00:00,"['crisptrutski', 'github-automation-metabase']",2024-11-27 08:38:04+00:00,2024-11-27 07:44:40+00:00,https://github.com/metabase/metabase/pull/50554,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2503077830, 'issue_id': 2697293425, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/2_tests-83822bb7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50554?repo=metabase/metabase&commitHash=83822bb7d4394b59972041821149bded0fb3f05d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50554?repo=metabase/metabase&commitHash=83822bb7d4394b59972041821149bded0fb3f05d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50554?repo=metabase/metabase&commitHash=83822bb7d4394b59972041821149bded0fb3f05d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50554?repo=metabase/metabase&commitHash=83822bb7d4394b59972041821149bded0fb3f05d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they don't. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50554?repo=metabase/metabase&commitHash=83822bb7d4394b59972041821149bded0fb3f05d&utm_source=gh-comment&runConclusion=FAILURE&runId=2bee513c-af19-5a90-849c-0162b1363ccb) |\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>delay-queue-test</code> | failure\\_text: queue\\_test.clj:92expected: (nil? (queue/take-delayed-batch! q 3 90 0))  actual: (not (nil? [1957807990728])) | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50554?repo=metabase/metabase&commitHash=83822bb7d4394b59972041821149bded0fb3f05d&utm_source=gh-comment&runConclusion=FAILURE&runId=26d69888-0f5e-54d8-bcf5-8af4f7380ef2) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50554?repo=metabase/metabase&commitHash=83822bb7d4394b59972041821149bded0fb3f05d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 27, 7, 12, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2503077831, 'issue_id': 2697293425, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/82101_tests-83822bb7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50554?repo=metabase/metabase&commitHash=83822bb7d4394b59972041821149bded0fb3f05d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50554?repo=metabase/metabase&commitHash=83822bb7d4394b59972041821149bded0fb3f05d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50554?repo=metabase/metabase&commitHash=83822bb7d4394b59972041821149bded0fb3f05d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50554?repo=metabase/metabase&commitHash=83822bb7d4394b59972041821149bded0fb3f05d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50554?repo=metabase/metabase&commitHash=83822bb7d4394b59972041821149bded0fb3f05d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 27, 7, 12, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2503077837, 'issue_id': 2697293425, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/82101_tests-83822bb7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50554?repo=metabase/metabase&commitHash=83822bb7d4394b59972041821149bded0fb3f05d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50554?repo=metabase/metabase&commitHash=83822bb7d4394b59972041821149bded0fb3f05d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50554?repo=metabase/metabase&commitHash=83822bb7d4394b59972041821149bded0fb3f05d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50554?repo=metabase/metabase&commitHash=83822bb7d4394b59972041821149bded0fb3f05d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50554?repo=metabase/metabase&commitHash=83822bb7d4394b59972041821149bded0fb3f05d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 27, 7, 12, 29, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-27 07:12:29 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/2_tests-83822bb7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50554?repo=metabase/metabase&commitHash=83822bb7d4394b59972041821149bded0fb3f05d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50554?repo=metabase/metabase&commitHash=83822bb7d4394b59972041821149bded0fb3f05d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50554?repo=metabase/metabase&commitHash=83822bb7d4394b59972041821149bded0fb3f05d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50554?repo=metabase/metabase&commitHash=83822bb7d4394b59972041821149bded0fb3f05d&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they don't. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50554?repo=metabase/metabase&commitHash=83822bb7d4394b59972041821149bded0fb3f05d&utm_source=gh-comment&runConclusion=FAILURE&runId=2bee513c-af19-5a90-849c-0162b1363ccb) |
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>delay-queue-test</code> | failure\_text: queue\_test.clj:92expected: (nil? (queue/take-delayed-batch! q 3 90 0))  actual: (not (nil? [1957807990728])) | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50554?repo=metabase/metabase&commitHash=83822bb7d4394b59972041821149bded0fb3f05d&utm_source=gh-comment&runConclusion=FAILURE&runId=26d69888-0f5e-54d8-bcf5-8af4f7380ef2) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50554?repo=metabase/metabase&commitHash=83822bb7d4394b59972041821149bded0fb3f05d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-27 07:12:29 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/82101_tests-83822bb7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50554?repo=metabase/metabase&commitHash=83822bb7d4394b59972041821149bded0fb3f05d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50554?repo=metabase/metabase&commitHash=83822bb7d4394b59972041821149bded0fb3f05d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50554?repo=metabase/metabase&commitHash=83822bb7d4394b59972041821149bded0fb3f05d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50554?repo=metabase/metabase&commitHash=83822bb7d4394b59972041821149bded0fb3f05d&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50554?repo=metabase/metabase&commitHash=83822bb7d4394b59972041821149bded0fb3f05d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-27 07:12:29 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/82101_tests-83822bb7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50554?repo=metabase/metabase&commitHash=83822bb7d4394b59972041821149bded0fb3f05d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50554?repo=metabase/metabase&commitHash=83822bb7d4394b59972041821149bded0fb3f05d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50554?repo=metabase/metabase&commitHash=83822bb7d4394b59972041821149bded0fb3f05d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50554?repo=metabase/metabase&commitHash=83822bb7d4394b59972041821149bded0fb3f05d&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50554?repo=metabase/metabase&commitHash=83822bb7d4394b59972041821149bded0fb3f05d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2697249527,pull_request,closed,,"🤖 backported ""Send separate events for CSV appending and replacing""",#50525,github-automation-metabase,2024-11-27 06:08:19+00:00,"['crisptrutski', 'github-automation-metabase']",2024-11-27 07:19:26+00:00,2024-11-27 06:49:30+00:00,https://github.com/metabase/metabase/pull/50553,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2503037648, 'issue_id': 2697249527, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120983_tests-9b847495-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50553?repo=metabase/metabase&commitHash=9b847495352edf2a14bd526fc52a4b4ed6b5e207&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50553?repo=metabase/metabase&commitHash=9b847495352edf2a14bd526fc52a4b4ed6b5e207&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50553?repo=metabase/metabase&commitHash=9b847495352edf2a14bd526fc52a4b4ed6b5e207&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50553?repo=metabase/metabase&commitHash=9b847495352edf2a14bd526fc52a4b4ed6b5e207&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50553?repo=metabase/metabase&commitHash=9b847495352edf2a14bd526fc52a4b4ed6b5e207&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 27, 6, 47, 25, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-27 06:47:25 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120983_tests-9b847495-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50553?repo=metabase/metabase&commitHash=9b847495352edf2a14bd526fc52a4b4ed6b5e207&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50553?repo=metabase/metabase&commitHash=9b847495352edf2a14bd526fc52a4b4ed6b5e207&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50553?repo=metabase/metabase&commitHash=9b847495352edf2a14bd526fc52a4b4ed6b5e207&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50553?repo=metabase/metabase&commitHash=9b847495352edf2a14bd526fc52a4b4ed6b5e207&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50553?repo=metabase/metabase&commitHash=9b847495352edf2a14bd526fc52a4b4ed6b5e207&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2696713061,pull_request,closed,,Sankey polish,"### Description

This PR polishes Sankey chart implementation
- Fixes showing a column selection error when datasets are empty [[Slack report]](https://metaboat.slack.com/archives/C064QMXEV9N/p1732648936623989)
- Persists sankey chart columns in viz settings when using default values (added `persistDefault` flag to settings definitions)
- Adds more specs

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",alxnddr,2024-11-27 02:08:43+00:00,['alxnddr'],2024-11-28 14:06:01+00:00,2024-11-28 13:21:43+00:00,https://github.com/metabase/metabase/pull/50550,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2502560802, 'issue_id': 2696713061, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/50456_tests-4caafd2f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50550?repo=metabase/metabase&commitHash=4caafd2f226772356803b9859bfd96afa23f1242&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50550?repo=metabase/metabase&commitHash=4caafd2f226772356803b9859bfd96afa23f1242&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50550?repo=metabase/metabase&commitHash=4caafd2f226772356803b9859bfd96afa23f1242&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50550?repo=metabase/metabase&commitHash=4caafd2f226772356803b9859bfd96afa23f1242&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50550?repo=metabase/metabase&commitHash=4caafd2f226772356803b9859bfd96afa23f1242&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 27, 2, 41, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2502560803, 'issue_id': 2696713061, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/28625_tests-95a5e3a4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50550?repo=metabase/metabase&commitHash=95a5e3a4ea2b32165b7f09148b33c3606cfce3cb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50550?repo=metabase/metabase&commitHash=95a5e3a4ea2b32165b7f09148b33c3606cfce3cb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50550?repo=metabase/metabase&commitHash=95a5e3a4ea2b32165b7f09148b33c3606cfce3cb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50550?repo=metabase/metabase&commitHash=95a5e3a4ea2b32165b7f09148b33c3606cfce3cb&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50550?repo=metabase/metabase&commitHash=95a5e3a4ea2b32165b7f09148b33c3606cfce3cb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 27, 2, 41, 2, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-27 02:41:02 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/50456_tests-4caafd2f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50550?repo=metabase/metabase&commitHash=4caafd2f226772356803b9859bfd96afa23f1242&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50550?repo=metabase/metabase&commitHash=4caafd2f226772356803b9859bfd96afa23f1242&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50550?repo=metabase/metabase&commitHash=4caafd2f226772356803b9859bfd96afa23f1242&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50550?repo=metabase/metabase&commitHash=4caafd2f226772356803b9859bfd96afa23f1242&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50550?repo=metabase/metabase&commitHash=4caafd2f226772356803b9859bfd96afa23f1242&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-27 02:41:02 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/28625_tests-95a5e3a4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50550?repo=metabase/metabase&commitHash=95a5e3a4ea2b32165b7f09148b33c3606cfce3cb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50550?repo=metabase/metabase&commitHash=95a5e3a4ea2b32165b7f09148b33c3606cfce3cb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50550?repo=metabase/metabase&commitHash=95a5e3a4ea2b32165b7f09148b33c3606cfce3cb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50550?repo=metabase/metabase&commitHash=95a5e3a4ea2b32165b7f09148b33c3606cfce3cb&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50550?repo=metabase/metabase&commitHash=95a5e3a4ea2b32165b7f09148b33c3606cfce3cb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2696666358,pull_request,closed,,"🤖 backported ""temporarily hiding group into other""",#50511,github-automation-metabase,2024-11-27 01:38:57+00:00,"['alxnddr', 'github-automation-metabase']",2024-11-27 05:10:44+00:00,2024-11-27 04:28:48+00:00,https://github.com/metabase/metabase/pull/50549,"[('was-backported', 'apply this to PRs that are themselves backports'), ('loki-update', '')]","[{'comment_id': 2502454141, 'issue_id': 2696666358, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff df24b09171f26f885b59173e30e1ad300abcdde6...a85b20e69d47bd052636b9c599e748f6b67ca38a.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/lib/settings/graph.js |', 'created_at': datetime.datetime(2024, 11, 27, 1, 40, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2502512187, 'issue_id': 2696666358, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/50444_tests-a85b20e6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50549?repo=metabase/metabase&commitHash=a85b20e69d47bd052636b9c599e748f6b67ca38a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50549?repo=metabase/metabase&commitHash=a85b20e69d47bd052636b9c599e748f6b67ca38a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50549?repo=metabase/metabase&commitHash=a85b20e69d47bd052636b9c599e748f6b67ca38a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50549?repo=metabase/metabase&commitHash=a85b20e69d47bd052636b9c599e748f6b67ca38a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50549?repo=metabase/metabase&commitHash=a85b20e69d47bd052636b9c599e748f6b67ca38a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 27, 2, 11, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2502512191, 'issue_id': 2696666358, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/28381_tests-88be2b2e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50549?repo=metabase/metabase&commitHash=88be2b2eb16ff6b841e0453d99dd4edd064927b9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50549?repo=metabase/metabase&commitHash=88be2b2eb16ff6b841e0453d99dd4edd064927b9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50549?repo=metabase/metabase&commitHash=88be2b2eb16ff6b841e0453d99dd4edd064927b9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50549?repo=metabase/metabase&commitHash=88be2b2eb16ff6b841e0453d99dd4edd064927b9&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50549?repo=metabase/metabase&commitHash=88be2b2eb16ff6b841e0453d99dd4edd064927b9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 27, 2, 11, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2502512194, 'issue_id': 2696666358, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/28381_tests-88be2b2e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50549?repo=metabase/metabase&commitHash=88be2b2eb16ff6b841e0453d99dd4edd064927b9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50549?repo=metabase/metabase&commitHash=88be2b2eb16ff6b841e0453d99dd4edd064927b9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50549?repo=metabase/metabase&commitHash=88be2b2eb16ff6b841e0453d99dd4edd064927b9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50549?repo=metabase/metabase&commitHash=88be2b2eb16ff6b841e0453d99dd4edd064927b9&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50549?repo=metabase/metabase&commitHash=88be2b2eb16ff6b841e0453d99dd4edd064927b9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 27, 2, 11, 57, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-27 01:40:26 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff df24b09171f26f885b59173e30e1ad300abcdde6...a85b20e69d47bd052636b9c599e748f6b67ca38a.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/lib/settings/graph.js |

trunk-io[bot] on (2024-11-27 02:11:57 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/50444_tests-a85b20e6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50549?repo=metabase/metabase&commitHash=a85b20e69d47bd052636b9c599e748f6b67ca38a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50549?repo=metabase/metabase&commitHash=a85b20e69d47bd052636b9c599e748f6b67ca38a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50549?repo=metabase/metabase&commitHash=a85b20e69d47bd052636b9c599e748f6b67ca38a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50549?repo=metabase/metabase&commitHash=a85b20e69d47bd052636b9c599e748f6b67ca38a&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50549?repo=metabase/metabase&commitHash=a85b20e69d47bd052636b9c599e748f6b67ca38a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-27 02:11:57 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/28381_tests-88be2b2e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50549?repo=metabase/metabase&commitHash=88be2b2eb16ff6b841e0453d99dd4edd064927b9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50549?repo=metabase/metabase&commitHash=88be2b2eb16ff6b841e0453d99dd4edd064927b9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50549?repo=metabase/metabase&commitHash=88be2b2eb16ff6b841e0453d99dd4edd064927b9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50549?repo=metabase/metabase&commitHash=88be2b2eb16ff6b841e0453d99dd4edd064927b9&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50549?repo=metabase/metabase&commitHash=88be2b2eb16ff6b841e0453d99dd4edd064927b9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-27 02:11:57 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/28381_tests-88be2b2e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50549?repo=metabase/metabase&commitHash=88be2b2eb16ff6b841e0453d99dd4edd064927b9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50549?repo=metabase/metabase&commitHash=88be2b2eb16ff6b841e0453d99dd4edd064927b9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50549?repo=metabase/metabase&commitHash=88be2b2eb16ff6b841e0453d99dd4edd064927b9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50549?repo=metabase/metabase&commitHash=88be2b2eb16ff6b841e0453d99dd4edd064927b9&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50549?repo=metabase/metabase&commitHash=88be2b2eb16ff6b841e0453d99dd4edd064927b9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2696392614,pull_request,closed,,"🤖 backported ""Adding .png version of no_results.svg to fix #49012""",#50426,metabase-bot[bot],2024-11-26 23:10:57+00:00,['tsplude'],2024-11-27 04:07:52+00:00,2024-11-27 04:07:51+00:00,https://github.com/metabase/metabase/pull/50548,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2502604813, 'issue_id': 2696392614, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/100979_tests-98ff48d1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50548?repo=metabase/metabase&commitHash=98ff48d1dc2b900528667ce7f4a3b98bfa616312&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50548?repo=metabase/metabase&commitHash=98ff48d1dc2b900528667ce7f4a3b98bfa616312&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50548?repo=metabase/metabase&commitHash=98ff48d1dc2b900528667ce7f4a3b98bfa616312&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50548?repo=metabase/metabase&commitHash=98ff48d1dc2b900528667ce7f4a3b98bfa616312&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50548?repo=metabase/metabase&commitHash=98ff48d1dc2b900528667ce7f4a3b98bfa616312&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 27, 3, 12, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2502604814, 'issue_id': 2696392614, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/68538_tests-98ff48d1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50548?repo=metabase/metabase&commitHash=98ff48d1dc2b900528667ce7f4a3b98bfa616312&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50548?repo=metabase/metabase&commitHash=98ff48d1dc2b900528667ce7f4a3b98bfa616312&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50548?repo=metabase/metabase&commitHash=98ff48d1dc2b900528667ce7f4a3b98bfa616312&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50548?repo=metabase/metabase&commitHash=98ff48d1dc2b900528667ce7f4a3b98bfa616312&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50548?repo=metabase/metabase&commitHash=98ff48d1dc2b900528667ce7f4a3b98bfa616312&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 27, 3, 12, 9, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-27 03:12:09 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/100979_tests-98ff48d1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50548?repo=metabase/metabase&commitHash=98ff48d1dc2b900528667ce7f4a3b98bfa616312&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50548?repo=metabase/metabase&commitHash=98ff48d1dc2b900528667ce7f4a3b98bfa616312&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50548?repo=metabase/metabase&commitHash=98ff48d1dc2b900528667ce7f4a3b98bfa616312&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50548?repo=metabase/metabase&commitHash=98ff48d1dc2b900528667ce7f4a3b98bfa616312&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50548?repo=metabase/metabase&commitHash=98ff48d1dc2b900528667ce7f4a3b98bfa616312&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-27 03:12:09 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/68538_tests-98ff48d1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50548?repo=metabase/metabase&commitHash=98ff48d1dc2b900528667ce7f4a3b98bfa616312&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50548?repo=metabase/metabase&commitHash=98ff48d1dc2b900528667ce7f4a3b98bfa616312&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50548?repo=metabase/metabase&commitHash=98ff48d1dc2b900528667ce7f4a3b98bfa616312&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50548?repo=metabase/metabase&commitHash=98ff48d1dc2b900528667ce7f4a3b98bfa616312&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50548?repo=metabase/metabase&commitHash=98ff48d1dc2b900528667ce7f4a3b98bfa616312&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2696383156,pull_request,closed,,"🤖 backported ""Adding .png version of no_results.svg to fix #49012""",#50426,github-automation-metabase,2024-11-26 23:05:34+00:00,"['tsplude', 'github-automation-metabase']",2024-11-26 23:46:04+00:00,2024-11-26 23:46:04+00:00,https://github.com/metabase/metabase/pull/50547,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2696264602,pull_request,closed,,Add v0.52.0-beta to the list of releases,Like it says on the tin 😁,github-automation-metabase,2024-11-26 22:26:49+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2024-11-27 01:32:10+00:00,2024-11-27 01:32:10+00:00,https://github.com/metabase/metabase/pull/50546,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2696208116,pull_request,closed,,"🤖 backported ""fix: snowflake allow setting schema to use""",#50528,github-automation-metabase,2024-11-26 21:47:44+00:00,"['snoe', 'github-automation-metabase']",2024-11-27 18:28:06+00:00,2024-11-27 18:28:05+00:00,https://github.com/metabase/metabase/pull/50544,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2696198359,pull_request,closed,,"🤖 backported ""Fix embedding test build""",#50542,github-automation-metabase,2024-11-26 21:41:35+00:00,"['iethree', 'github-automation-metabase']",2024-12-05 19:54:31+00:00,2024-11-26 21:58:59+00:00,https://github.com/metabase/metabase/pull/50543,"[('.CI & Tests', ''), ('was-backported', 'apply this to PRs that are themselves backports')]",[],
2696116491,pull_request,closed,,Fix embedding test build,"
### Description

A recent change to the embedding test workflow broke tests in our release branches. It was a small error, but `github.base_ref` only exists for pull request runs, not for tests that run on push to a branch, like the release branches. Since this workflow step only runs on release branches, this should be an uncontroversial fix.",iethree,2024-11-26 21:18:27+00:00,['iethree'],2024-11-26 21:59:27+00:00,2024-11-26 21:40:41+00:00,https://github.com/metabase/metabase/pull/50542,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DevEx', '')]",[],
2696077049,pull_request,closed,,"🤖 backported ""docs - add expressions to list""",#50473,metabase-bot[bot],2024-11-26 20:54:36+00:00,['jeff-bruemmer'],2024-11-26 20:56:13+00:00,2024-11-26 20:56:12+00:00,https://github.com/metabase/metabase/pull/50541,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2696074938,pull_request,closed,,"🤖 backported ""docs - add expressions to list""",#50473,github-automation-metabase,2024-11-26 20:53:30+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2024-11-27 03:20:33+00:00,2024-11-27 03:20:32+00:00,https://github.com/metabase/metabase/pull/50540,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2696071843,pull_request,closed,,"🤖 backported ""docs - sankey""",#50524,github-automation-metabase,2024-11-26 20:51:38+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2024-11-26 22:10:49+00:00,2024-11-26 22:10:48+00:00,https://github.com/metabase/metabase/pull/50539,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2696028449,pull_request,closed,,"🤖 backported ""remove pivot-grouping row and columns in tandem""",#50476,metabase-bot[bot],2024-11-26 20:36:54+00:00,['escherize'],2024-11-27 00:56:05+00:00,2024-11-27 00:08:15+00:00,https://github.com/metabase/metabase/pull/50538,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2501950500, 'issue_id': 2696028449, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/1_test-42d47c56-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50538?repo=metabase/metabase&commitHash=42d47c56087978bb42503e663c7bea701e30fbd4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50538?repo=metabase/metabase&commitHash=42d47c56087978bb42503e663c7bea701e30fbd4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50538?repo=metabase/metabase&commitHash=42d47c56087978bb42503e663c7bea701e30fbd4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50538?repo=metabase/metabase&commitHash=42d47c56087978bb42503e663c7bea701e30fbd4&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:329:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\\#'sync.fingerprint/max-refingerp... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50538?repo=metabase/metabase&commitHash=42d47c56087978bb42503e663c7bea701e30fbd4&utm_source=gh-comment&runConclusion=FAILURE&runId=c1459bea-a612-5a9f-af5a-0b708664353c) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50538?repo=metabase/metabase&commitHash=42d47c56087978bb42503e663c7bea701e30fbd4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 26, 21, 16, 33, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-26 21:16:33 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/1_test-42d47c56-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50538?repo=metabase/metabase&commitHash=42d47c56087978bb42503e663c7bea701e30fbd4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50538?repo=metabase/metabase&commitHash=42d47c56087978bb42503e663c7bea701e30fbd4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50538?repo=metabase/metabase&commitHash=42d47c56087978bb42503e663c7bea701e30fbd4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50538?repo=metabase/metabase&commitHash=42d47c56087978bb42503e663c7bea701e30fbd4&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:329:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerp... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50538?repo=metabase/metabase&commitHash=42d47c56087978bb42503e663c7bea701e30fbd4&utm_source=gh-comment&runConclusion=FAILURE&runId=c1459bea-a612-5a9f-af5a-0b708664353c) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50538?repo=metabase/metabase&commitHash=42d47c56087978bb42503e663c7bea701e30fbd4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2695943444,pull_request,closed,,"🤖 backported ""Pivot Export Aggregations Improved and Won't Error""",#50380,metabase-bot[bot],2024-11-26 20:06:35+00:00,['adam-james-v'],2024-11-26 21:50:40+00:00,2024-11-26 20:49:03+00:00,https://github.com/metabase/metabase/pull/50537,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2501911096, 'issue_id': 2695943444, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/12766_tests-1d4bbad0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50537?repo=metabase/metabase&commitHash=1d4bbad036e95e205f8d9a1a28d7c8a8acde3131&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50537?repo=metabase/metabase&commitHash=1d4bbad036e95e205f8d9a1a28d7c8a8acde3131&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50537?repo=metabase/metabase&commitHash=1d4bbad036e95e205f8d9a1a28d7c8a8acde3131&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50537?repo=metabase/metabase&commitHash=1d4bbad036e95e205f8d9a1a28d7c8a8acde3131&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50537?repo=metabase/metabase&commitHash=1d4bbad036e95e205f8d9a1a28d7c8a8acde3131&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 26, 20, 51, 15, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-26 20:51:15 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/12766_tests-1d4bbad0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50537?repo=metabase/metabase&commitHash=1d4bbad036e95e205f8d9a1a28d7c8a8acde3131&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50537?repo=metabase/metabase&commitHash=1d4bbad036e95e205f8d9a1a28d7c8a8acde3131&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50537?repo=metabase/metabase&commitHash=1d4bbad036e95e205f8d9a1a28d7c8a8acde3131&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50537?repo=metabase/metabase&commitHash=1d4bbad036e95e205f8d9a1a28d7c8a8acde3131&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50537?repo=metabase/metabase&commitHash=1d4bbad036e95e205f8d9a1a28d7c8a8acde3131&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2695940495,pull_request,closed,,"Dismissible ""How to use Metabase"" sidebar link","### What does this PR accomplish?
Introduces the dismissible version of the _Onboarding_ (""How to use Metabase"") main sidebar link. Related to [#49788](https://github.com/metabase/metabase/issues/49788)

Resolves [#50582](https://github.com/metabase/metabase/issues/50582)

### Business Logic tl;dr
- The onboarding link in a sidebar shows only for new instances
- A user can dismiss it, and if affects only their experience
- If they dismiss it, a toast appears informing them that this link will now be visible in the main ""settings menu"" (top right gear icon)
- From that point on, the link is permanently in that menu
- If the user doesn't dismiss the menu from the sidebar in the first 30 days of the instance's life, the link is automatically removed from the sidebar and placed in the settings menu

**UI Logic**
- If a user is already on the `/getting-started` page when they dismiss the link from the sidebar, they should be redirected to the home page
- If they are on any other page when they dismiss the link from the sidebar, they stay on that page
",nemanjaglumac,2024-11-26 20:04:47+00:00,['nemanjaglumac'],2024-12-10 22:49:05+00:00,2024-12-10 19:36:50+00:00,https://github.com/metabase/metabase/pull/50536,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2521216846, 'issue_id': 2695940495, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/133949_tests-4d2bb6cc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50536?repo=metabase/metabase&commitHash=4d2bb6cc86b74395eb7c220f19136a0678568bb8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50536?repo=metabase/metabase&commitHash=4d2bb6cc86b74395eb7c220f19136a0678568bb8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50536?repo=metabase/metabase&commitHash=4d2bb6cc86b74395eb7c220f19136a0678568bb8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50536?repo=metabase/metabase&commitHash=4d2bb6cc86b74395eb7c220f19136a0678568bb8&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50536?repo=metabase/metabase&commitHash=4d2bb6cc86b74395eb7c220f19136a0678568bb8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 5, 19, 21, 26, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-05 19:21:26 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/133949_tests-4d2bb6cc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50536?repo=metabase/metabase&commitHash=4d2bb6cc86b74395eb7c220f19136a0678568bb8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50536?repo=metabase/metabase&commitHash=4d2bb6cc86b74395eb7c220f19136a0678568bb8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50536?repo=metabase/metabase&commitHash=4d2bb6cc86b74395eb7c220f19136a0678568bb8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50536?repo=metabase/metabase&commitHash=4d2bb6cc86b74395eb7c220f19136a0678568bb8&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50536?repo=metabase/metabase&commitHash=4d2bb6cc86b74395eb7c220f19136a0678568bb8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2695934552,pull_request,closed,,Old data picker in notebook for embedding ,"Demo https://www.loom.com/share/175d961bfc8d4bca8948bb5ea17c238d

Uses the `DataSelector` component for data source selection in the notebook editor for embedding cases - both full app embedding and the sdk. In other cases the existing `EntityPicker` is used without changes. 

**The old component doesn't support some newer features introduced in the `EntityPicker`:**
- Hiding specific data source types,
- Hiding data sources for different databases (used for joins).

There are e2e tests for all interesting data selection cases I'm aware of. If there is some case missing please let me know.

How to verify:
- Run EE
- Enable interactive embedding in admin settings. Use `http://localhost:3001` for the allowed iframe host.
- Add a html page `iframe.html` with the following contents
```html
<!DOCTYPE html>
<html>
<head>
  <title>Full app embedding</title>
</head>
<body>
<iframe src=""http://localhost:3000?new_button=true"" width=""1000"" height=""800""></iframe>
</body>
</html>
```
- Run some simple http server like `npx http-server -p 3001` and open `http://localhost:3001/iframe.html`
- Make sure that you can pick a data source in the notebook editor using the old picker
- Make sure that the main app itself is not affected 

<img width=""1032"" alt=""Screenshot 2024-11-28 at 10 42 17"" src=""https://github.com/user-attachments/assets/c98796a0-a959-4228-8ef5-72d3528e5db5"">
<img width=""1100"" alt=""Screenshot 2024-11-28 at 10 42 28"" src=""https://github.com/user-attachments/assets/26926cb0-ece9-4925-9a24-d8c8b1370e41"">

",ranquild,2024-11-26 20:01:05+00:00,['ranquild'],2024-11-29 16:34:00+00:00,2024-11-29 15:49:47+00:00,https://github.com/metabase/metabase/pull/50535,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2505249518, 'issue_id': 2695934552, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13135_tests-fd844550-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50535?repo=metabase/metabase&commitHash=fd844550eff88247c5c25d909188d1ea558645c4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50535?repo=metabase/metabase&commitHash=fd844550eff88247c5c25d909188d1ea558645c4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50535?repo=metabase/metabase&commitHash=fd844550eff88247c5c25d909188d1ea558645c4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50535?repo=metabase/metabase&commitHash=fd844550eff88247c5c25d909188d1ea558645c4&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50535?repo=metabase/metabase&commitHash=fd844550eff88247c5c25d909188d1ea558645c4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 28, 4, 40, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2505249520, 'issue_id': 2695934552, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/12814_tests-cd4c9742-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50535?repo=metabase/metabase&commitHash=cd4c9742e8e8419e0b7a700f3ce0b2c8b098e123&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/7-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50535?repo=metabase/metabase&commitHash=cd4c9742e8e8419e0b7a700f3ce0b2c8b098e123&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50535?repo=metabase/metabase&commitHash=cd4c9742e8e8419e0b7a700f3ce0b2c8b098e123&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50535?repo=metabase/metabase&commitHash=cd4c9742e8e8419e0b7a700f3ce0b2c8b098e123&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding > full app notebook table should select a table when there are multiple schemas</code> | The database synchronization process is taking too long, indicating a problem with the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50535?repo=metabase/metabase&commitHash=cd4c9742e8e8419e0b7a700f3ce0b2c8b098e123&utm_source=gh-comment&runConclusion=FAILURE&runId=59f5d950-1bcc-57c2-9ef5-3c8d9516d56b) |\n| <code>scenarios > embedding-sdk > create-question can create a question via the CreateQuestion component</code> | The element with data-testid ""entity-picker-modal"" was not found after 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50535?repo=metabase/metabase&commitHash=cd4c9742e8e8419e0b7a700f3ce0b2c8b098e123&utm_source=gh-comment&runConclusion=FAILURE&runId=45f3683f-9b90-5c3b-94b7-35473a4ebe65) |\n| <code>DataStep link to data source embedding SDK context middle click should not open the data source</code> | Unable to find an element by the data-testid ""entity-picker-modal"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50535?repo=metabase/metabase&commitHash=cd4c9742e8e8419e0b7a700f3ce0b2c8b098e123&utm_source=gh-comment&runConclusion=FAILURE&runId=e41e64bc-e1d1-503f-a8ba-e12fead3c847) |\n| <code>DataStep link to data source embedding SDK context meta/ctrl click should not open the data source</code> | Unable to find an element by: [data-testid=""entity-picker-modal""]. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50535?repo=metabase/metabase&commitHash=cd4c9742e8e8419e0b7a700f3ce0b2c8b098e123&utm_source=gh-comment&runConclusion=FAILURE&runId=6d64fc23-9abe-5d9a-8785-340c26844ff6) |\n\n[... and 3 more](https://app.trunk.io/metabase/flaky-tests/pr/50535?repo=metabase/metabase&commitHash=cd4c9742e8e8419e0b7a700f3ce0b2c8b098e123&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50535?repo=metabase/metabase&commitHash=cd4c9742e8e8419e0b7a700f3ce0b2c8b098e123&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 28, 4, 40, 18, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-28 04:40:18 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13135_tests-fd844550-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50535?repo=metabase/metabase&commitHash=fd844550eff88247c5c25d909188d1ea558645c4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50535?repo=metabase/metabase&commitHash=fd844550eff88247c5c25d909188d1ea558645c4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50535?repo=metabase/metabase&commitHash=fd844550eff88247c5c25d909188d1ea558645c4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50535?repo=metabase/metabase&commitHash=fd844550eff88247c5c25d909188d1ea558645c4&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50535?repo=metabase/metabase&commitHash=fd844550eff88247c5c25d909188d1ea558645c4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-28 04:40:18 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/12814_tests-cd4c9742-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50535?repo=metabase/metabase&commitHash=cd4c9742e8e8419e0b7a700f3ce0b2c8b098e123&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/7-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50535?repo=metabase/metabase&commitHash=cd4c9742e8e8419e0b7a700f3ce0b2c8b098e123&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50535?repo=metabase/metabase&commitHash=cd4c9742e8e8419e0b7a700f3ce0b2c8b098e123&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50535?repo=metabase/metabase&commitHash=cd4c9742e8e8419e0b7a700f3ce0b2c8b098e123&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding > full app notebook table should select a table when there are multiple schemas</code> | The database synchronization process is taking too long, indicating a problem with the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50535?repo=metabase/metabase&commitHash=cd4c9742e8e8419e0b7a700f3ce0b2c8b098e123&utm_source=gh-comment&runConclusion=FAILURE&runId=59f5d950-1bcc-57c2-9ef5-3c8d9516d56b) |
| <code>scenarios > embedding-sdk > create-question can create a question via the CreateQuestion component</code> | The element with data-testid ""entity-picker-modal"" was not found after 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50535?repo=metabase/metabase&commitHash=cd4c9742e8e8419e0b7a700f3ce0b2c8b098e123&utm_source=gh-comment&runConclusion=FAILURE&runId=45f3683f-9b90-5c3b-94b7-35473a4ebe65) |
| <code>DataStep link to data source embedding SDK context middle click should not open the data source</code> | Unable to find an element by the data-testid ""entity-picker-modal"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50535?repo=metabase/metabase&commitHash=cd4c9742e8e8419e0b7a700f3ce0b2c8b098e123&utm_source=gh-comment&runConclusion=FAILURE&runId=e41e64bc-e1d1-503f-a8ba-e12fead3c847) |
| <code>DataStep link to data source embedding SDK context meta/ctrl click should not open the data source</code> | Unable to find an element by: [data-testid=""entity-picker-modal""]. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50535?repo=metabase/metabase&commitHash=cd4c9742e8e8419e0b7a700f3ce0b2c8b098e123&utm_source=gh-comment&runConclusion=FAILURE&runId=6d64fc23-9abe-5d9a-8785-340c26844ff6) |

[... and 3 more](https://app.trunk.io/metabase/flaky-tests/pr/50535?repo=metabase/metabase&commitHash=cd4c9742e8e8419e0b7a700f3ce0b2c8b098e123&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50535?repo=metabase/metabase&commitHash=cd4c9742e8e8419e0b7a700f3ce0b2c8b098e123&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2695933218,pull_request,closed,,Update Translations for v52.1,"Update translations from POEditor for v52.0

See [translation update documentation](https://www.notion.so/metabase/Process-for-updating-translations-421db70048fe400da1153ad0b61102f4)

## To Do

- [x] Upload new strings to POEditor
- [ ] Message contributors on POEditor (manual)
- [x] Copy source strings to english language (manual)
- [x] Download translations from POEditor (github action)
- [ ] Merge this PR and backport to the release branch (manual)
",github-actions[bot],2024-11-26 20:00:21+00:00,['iethree'],2024-12-03 19:20:20+00:00,2024-12-03 19:20:18+00:00,https://github.com/metabase/metabase/pull/50534,"[('Customization/i18n', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2695924575,pull_request,closed,,"🤖 backported ""Pivot Export Aggregations Improved and Won't Error""",#50380,github-automation-metabase,2024-11-26 19:55:42+00:00,"['adam-james-v', 'github-automation-metabase']",2024-11-26 22:17:53+00:00,2024-11-26 22:17:52+00:00,https://github.com/metabase/metabase/pull/50532,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2501905147, 'issue_id': 2695924575, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/2_tests-09437e40-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50532?repo=metabase/metabase&commitHash=09437e408e494567a721843d4372f50cbe241d15&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50532?repo=metabase/metabase&commitHash=09437e408e494567a721843d4372f50cbe241d15&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50532?repo=metabase/metabase&commitHash=09437e408e494567a721843d4372f50cbe241d15&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50532?repo=metabase/metabase&commitHash=09437e408e494567a721843d4372f50cbe241d15&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:329:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\\#'sync.fingerprint/max-refingerprint-field... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50532?repo=metabase/metabase&commitHash=09437e408e494567a721843d4372f50cbe241d15&utm_source=gh-comment&runConclusion=FAILURE&runId=335a34c7-5058-545d-b565-c3ec0c38ef23) |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they don't. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50532?repo=metabase/metabase&commitHash=09437e408e494567a721843d4372f50cbe241d15&utm_source=gh-comment&runConclusion=FAILURE&runId=6ae406aa-2281-5cf3-a5e5-6d29319425a7) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50532?repo=metabase/metabase&commitHash=09437e408e494567a721843d4372f50cbe241d15&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 26, 20, 47, 11, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-26 20:47:11 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/2_tests-09437e40-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50532?repo=metabase/metabase&commitHash=09437e408e494567a721843d4372f50cbe241d15&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50532?repo=metabase/metabase&commitHash=09437e408e494567a721843d4372f50cbe241d15&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50532?repo=metabase/metabase&commitHash=09437e408e494567a721843d4372f50cbe241d15&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50532?repo=metabase/metabase&commitHash=09437e408e494567a721843d4372f50cbe241d15&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:329:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerprint-field... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50532?repo=metabase/metabase&commitHash=09437e408e494567a721843d4372f50cbe241d15&utm_source=gh-comment&runConclusion=FAILURE&runId=335a34c7-5058-545d-b565-c3ec0c38ef23) |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they don't. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50532?repo=metabase/metabase&commitHash=09437e408e494567a721843d4372f50cbe241d15&utm_source=gh-comment&runConclusion=FAILURE&runId=6ae406aa-2281-5cf3-a5e5-6d29319425a7) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50532?repo=metabase/metabase&commitHash=09437e408e494567a721843d4372f50cbe241d15&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2695913133,pull_request,closed,,Add binning to display name,"Closes https://github.com/metabase/metabase/issues/47579

### Description

This PR adds binning into display name. Similar approach is taken as in https://github.com/metabase/metabase/pull/48946, now with binning. 

The new option `:was-binned` is added to the field options. It is used to avoid qb pre-populating breakout step with auto binning for fields that were binned on previous stage.

Then the `binning-display-name` function was adjusted so it can be used in the context of `annotate` middleware, where there is no mlv2 column available, but the semantic type of col.

The `ib.metadata.calculation/*propagate-inherited-temoral-unit*` was renamed to `lib.metadata.calculation/*propagate-options-to-next-stage*` as now that also guards `:was-binned` propagation.

### How to verify

Run the updated tests, or you can follow the changed e2e scenarios.

### Checklist

- [X] Tests have been added/updated to cover changes in this PR
",lbrdnk,2024-11-26 19:49:40+00:00,['lbrdnk'],2024-12-05 17:28:40+00:00,2024-12-05 17:28:39+00:00,https://github.com/metabase/metabase/pull/50531,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2501839451, 'issue_id': 2695913133, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/65451_tests-ce2c4f78-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50531?repo=metabase/metabase&commitHash=ce2c4f784ce7989b5f27f1116f4cf1809c974db0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50531?repo=metabase/metabase&commitHash=ce2c4f784ce7989b5f27f1116f4cf1809c974db0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50531?repo=metabase/metabase&commitHash=ce2c4f784ce7989b5f27f1116f4cf1809c974db0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50531?repo=metabase/metabase&commitHash=ce2c4f784ce7989b5f27f1116f4cf1809c974db0&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50531?repo=metabase/metabase&commitHash=ce2c4f784ce7989b5f27f1116f4cf1809c974db0&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 26, 20, 18, 45, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-26 20:18:45 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/65451_tests-ce2c4f78-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50531?repo=metabase/metabase&commitHash=ce2c4f784ce7989b5f27f1116f4cf1809c974db0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50531?repo=metabase/metabase&commitHash=ce2c4f784ce7989b5f27f1116f4cf1809c974db0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50531?repo=metabase/metabase&commitHash=ce2c4f784ce7989b5f27f1116f4cf1809c974db0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50531?repo=metabase/metabase&commitHash=ce2c4f784ce7989b5f27f1116f4cf1809c974db0&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50531?repo=metabase/metabase&commitHash=ce2c4f784ce7989b5f27f1116f4cf1809c974db0&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2695882259,pull_request,closed,,"🤖 backported ""remove pivot-grouping row and columns in tandem""",#50476,github-automation-metabase,2024-11-26 19:33:20+00:00,"['escherize', 'github-automation-metabase']",2024-11-26 22:57:10+00:00,2024-11-26 22:57:09+00:00,https://github.com/metabase/metabase/pull/50530,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2695788064,pull_request,closed,,"🤖 backported ""fix: snowflake allow setting schema to use""",#50528,metabase-bot[bot],2024-11-26 19:03:57+00:00,['snoe'],2024-11-27 19:24:52+00:00,2024-11-27 18:30:20+00:00,https://github.com/metabase/metabase/pull/50529,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2504548169, 'issue_id': 2695788064, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/12768_tests-49d2db08-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50529?repo=metabase/metabase&commitHash=49d2db082ed891db86f95dc248e57f5dea3502e1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50529?repo=metabase/metabase&commitHash=49d2db082ed891db86f95dc248e57f5dea3502e1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50529?repo=metabase/metabase&commitHash=49d2db082ed891db86f95dc248e57f5dea3502e1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50529?repo=metabase/metabase&commitHash=49d2db082ed891db86f95dc248e57f5dea3502e1&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50529?repo=metabase/metabase&commitHash=49d2db082ed891db86f95dc248e57f5dea3502e1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 27, 18, 26, 27, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-27 18:26:27 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/12768_tests-49d2db08-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50529?repo=metabase/metabase&commitHash=49d2db082ed891db86f95dc248e57f5dea3502e1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50529?repo=metabase/metabase&commitHash=49d2db082ed891db86f95dc248e57f5dea3502e1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50529?repo=metabase/metabase&commitHash=49d2db082ed891db86f95dc248e57f5dea3502e1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50529?repo=metabase/metabase&commitHash=49d2db082ed891db86f95dc248e57f5dea3502e1&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50529?repo=metabase/metabase&commitHash=49d2db082ed891db86f95dc248e57f5dea3502e1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2695786114,pull_request,closed,,fix: snowflake allow setting schema to use,"Fixes: #50422

Although we passed additional-options through subname in url parameters to DriverManager, we were also passing `:schema nil` as connection property.

",snoe,2024-11-26 19:02:49+00:00,['snoe'],2024-11-26 22:14:18+00:00,2024-11-26 21:46:55+00:00,https://github.com/metabase/metabase/pull/50528,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Drivers', '')]","[{'comment_id': 2501713638, 'issue_id': 2695786114, 'author': 'snoe', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 11, 26, 19, 2, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2501793011, 'issue_id': 2695786114, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/1_test-7596b192-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50528?repo=metabase/metabase&commitHash=7596b192329331939ed3d8959a5ba78d05c80473&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50528?repo=metabase/metabase&commitHash=7596b192329331939ed3d8959a5ba78d05c80473&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50528?repo=metabase/metabase&commitHash=7596b192329331939ed3d8959a5ba78d05c80473&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50528?repo=metabase/metabase&commitHash=7596b192329331939ed3d8959a5ba78d05c80473&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>datetime-binning-options-test-3</code> | SAVEPOINT does not exist | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50528?repo=metabase/metabase&commitHash=7596b192329331939ed3d8959a5ba78d05c80473&utm_source=gh-comment&runConclusion=FAILURE&runId=4bc842a1-f510-5e6e-b7c4-fa49fcad40f7) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50528?repo=metabase/metabase&commitHash=7596b192329331939ed3d8959a5ba78d05c80473&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 26, 19, 49, 53, tzinfo=datetime.timezone.utc)}]","snoe (Issue Creator) on (2024-11-26 19:02:56 UTC): @metabase-bot backport release-x.51.x

trunk-io[bot] on (2024-11-26 19:49:53 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/1_test-7596b192-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50528?repo=metabase/metabase&commitHash=7596b192329331939ed3d8959a5ba78d05c80473&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50528?repo=metabase/metabase&commitHash=7596b192329331939ed3d8959a5ba78d05c80473&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50528?repo=metabase/metabase&commitHash=7596b192329331939ed3d8959a5ba78d05c80473&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50528?repo=metabase/metabase&commitHash=7596b192329331939ed3d8959a5ba78d05c80473&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>datetime-binning-options-test-3</code> | SAVEPOINT does not exist | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50528?repo=metabase/metabase&commitHash=7596b192329331939ed3d8959a5ba78d05c80473&utm_source=gh-comment&runConclusion=FAILURE&runId=4bc842a1-f510-5e6e-b7c4-fa49fcad40f7) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50528?repo=metabase/metabase&commitHash=7596b192329331939ed3d8959a5ba78d05c80473&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2695778453,pull_request,closed,,Entity picker improvements,"Closes https://github.com/metabase/metabase/issues/50526

### Description
Makes some UI adjustments to the Entity Picker Modal, `<DatabaseList>` component, and adds a concept of tabs working with multiple modals at a time, while being able to filter what is seen. Filtering is all done on the FE.

### How to verify

1. New question -> Collections
2. Try out the new filtering button to restrict what models are returned
3. Search for something. The filter should carry over and you should only see what is returned

### Demo
![image](https://github.com/user-attachments/assets/b569b47f-df88-42f0-89be-6ace82ac01f0)

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",npfitz,2024-11-26 18:58:21+00:00,['npfitz'],2024-12-16 16:57:05+00:00,2024-12-16 16:30:58+00:00,https://github.com/metabase/metabase/pull/50527,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2501708279, 'issue_id': 2695778453, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 2970dc54d530b2a4c35211d5b195e4050deee3b3...bee8984bb80871e20ebe9ffa5d7af2d81c56691f.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/navigation/NavLink/index.ts |', 'created_at': datetime.datetime(2024, 11, 26, 18, 59, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2501795790, 'issue_id': 2695778453, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51524_tests-bee8984b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50527?repo=metabase/metabase&commitHash=bee8984bb80871e20ebe9ffa5d7af2d81c56691f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50527?repo=metabase/metabase&commitHash=bee8984bb80871e20ebe9ffa5d7af2d81c56691f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50527?repo=metabase/metabase&commitHash=bee8984bb80871e20ebe9ffa5d7af2d81c56691f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50527?repo=metabase/metabase&commitHash=bee8984bb80871e20ebe9ffa5d7af2d81c56691f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding-sdk > styles fontFamily should fallback to the font from the instance if no fontFamily is set on the theme</code> | The test timed out while trying to find an element with the text ""Product ID"" because there were multiple elements with the same text. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50527?repo=metabase/metabase&commitHash=bee8984bb80871e20ebe9ffa5d7af2d81c56691f&utm_source=gh-comment&runConclusion=FAILURE&runId=546ca1a2-5532-57db-86ae-1a2c58abb97f) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50527?repo=metabase/metabase&commitHash=bee8984bb80871e20ebe9ffa5d7af2d81c56691f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 26, 19, 51, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2516170906, 'issue_id': 2695778453, 'author': 'rafpaf', 'body': ""For some reason I don't see collections. Is this expected?\r\n\r\n![image](https://github.com/user-attachments/assets/eee9dfe2-4fd6-4ca0-a4c2-e9904ed56a9b)"", 'created_at': datetime.datetime(2024, 12, 4, 4, 35, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2517484384, 'issue_id': 2695778453, 'author': 'npfitz', 'body': ""> For some reason I don't see collections. Is this expected?\r\n\r\nThis can happen if you've logged in as a user that doesn't have access to any questions, models, or metrics. We won't show the tab if there is nothing for you in it."", 'created_at': datetime.datetime(2024, 12, 4, 13, 58, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2518851146, 'issue_id': 2695778453, 'author': 'mazameli', 'body': 'Also, I\'ll need to crosscheck the product doc, but if memory serves I think I was trying to propose a fixed height for this thing (640px tall), rather than the percent-based height it seems to be using: \r\n\r\n<img width=""1050"" alt=""image"" src=""https://github.com/user-attachments/assets/a3c1d9e6-85de-4e5f-9e5b-e97c9d9f9666"">', 'created_at': datetime.datetime(2024, 12, 5, 0, 46, 59, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-26 18:59:52 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 2970dc54d530b2a4c35211d5b195e4050deee3b3...bee8984bb80871e20ebe9ffa5d7af2d81c56691f.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/navigation/NavLink/index.ts |

trunk-io[bot] on (2024-11-26 19:51:32 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51524_tests-bee8984b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50527?repo=metabase/metabase&commitHash=bee8984bb80871e20ebe9ffa5d7af2d81c56691f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50527?repo=metabase/metabase&commitHash=bee8984bb80871e20ebe9ffa5d7af2d81c56691f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50527?repo=metabase/metabase&commitHash=bee8984bb80871e20ebe9ffa5d7af2d81c56691f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50527?repo=metabase/metabase&commitHash=bee8984bb80871e20ebe9ffa5d7af2d81c56691f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding-sdk > styles fontFamily should fallback to the font from the instance if no fontFamily is set on the theme</code> | The test timed out while trying to find an element with the text ""Product ID"" because there were multiple elements with the same text. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50527?repo=metabase/metabase&commitHash=bee8984bb80871e20ebe9ffa5d7af2d81c56691f&utm_source=gh-comment&runConclusion=FAILURE&runId=546ca1a2-5532-57db-86ae-1a2c58abb97f) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50527?repo=metabase/metabase&commitHash=bee8984bb80871e20ebe9ffa5d7af2d81c56691f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

rafpaf on (2024-12-04 04:35:49 UTC): For some reason I don't see collections. Is this expected?

![image](https://github.com/user-attachments/assets/eee9dfe2-4fd6-4ca0-a4c2-e9904ed56a9b)

npfitz (Issue Creator) on (2024-12-04 13:58:14 UTC): This can happen if you've logged in as a user that doesn't have access to any questions, models, or metrics. We won't show the tab if there is nothing for you in it.

mazameli on (2024-12-05 00:46:59 UTC): Also, I'll need to crosscheck the product doc, but if memory serves I think I was trying to propose a fixed height for this thing (640px tall), rather than the percent-based height it seems to be using: 

<img width=""1050"" alt=""image"" src=""https://github.com/user-attachments/assets/a3c1d9e6-85de-4e5f-9e5b-e97c9d9f9666"">

"
2695667241,pull_request,closed,,Send separate events for CSV appending and replacing,Fixes https://github.com/metabase/metabase/issues/50523,crisptrutski,2024-11-26 18:24:57+00:00,['crisptrutski'],2024-11-27 06:07:30+00:00,2024-11-27 06:07:28+00:00,https://github.com/metabase/metabase/pull/50525,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]",[],
2695665215,pull_request,closed,,docs - sankey,"- Adds sankey chart to list of charts.
- Alphabetizes charts in docs list.",jeff-bruemmer,2024-11-26 18:23:52+00:00,['jeff-bruemmer'],2024-11-29 05:08:27+00:00,2024-11-26 20:50:50+00:00,https://github.com/metabase/metabase/pull/50524,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2695630513,pull_request,closed,,Fix bucket button and popover text style issues,"Before, we were having issues with the background and text for the buttons within the query popovers. Ignore the text on the button, that's solved in #50509.

Before:

<img width=""323"" alt=""image"" src=""https://github.com/user-attachments/assets/c0edfcb8-17d3-47c3-bd37-b7a384521a03"">
<img width=""509"" alt=""image"" src=""https://github.com/user-attachments/assets/42a5246b-f3e4-4cde-bdb0-689d9032694e"">



They look like this on Storybook now:
<img width=""392"" alt=""image"" src=""https://github.com/user-attachments/assets/1a1f4624-7d58-4c4e-b6b4-dd19bdac6e81"">
<img width=""519"" alt=""image"" src=""https://github.com/user-attachments/assets/fd76e2de-d1c0-4470-9e9a-4034cb75073c"">

Nothing should change in the core app. Let me know if you notice little spacing/text/etc issues",oisincoveney,2024-11-26 18:05:04+00:00,['oisincoveney'],2024-12-09 15:13:05+00:00,2024-12-09 15:13:03+00:00,https://github.com/metabase/metabase/pull/50522,"[('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2501614968, 'issue_id': 2695630513, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 8db07b638c06713618c60a26b0ce3a2200a67abe...97966fe14657e2e8912fa6e7c22c474678cc4d97.\n\nNo notifications.', 'created_at': datetime.datetime(2024, 11, 26, 18, 6, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2501692122, 'issue_id': 2695630513, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51369_tests-97966fe1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50522?repo=metabase/metabase&commitHash=97966fe14657e2e8912fa6e7c22c474678cc4d97&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50522?repo=metabase/metabase&commitHash=97966fe14657e2e8912fa6e7c22c474678cc4d97&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/6-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50522?repo=metabase/metabase&commitHash=97966fe14657e2e8912fa6e7c22c474678cc4d97&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50522?repo=metabase/metabase&commitHash=97966fe14657e2e8912fa6e7c22c474678cc4d97&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\\#37726)</code> | The test timed out while trying to find an element with the text ""Product → Category"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50522?repo=metabase/metabase&commitHash=97966fe14657e2e8912fa6e7c22c474678cc4d97&utm_source=gh-comment&runConclusion=FAILURE&runId=7fb890ac-9864-591d-9364-b41c8bc40138) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>notifications Auth Basic Auth</code> | Unable to find an accessible element with the role ""button"" and name ""Success"" after 4000ms of retrying. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50522?repo=metabase/metabase&commitHash=97966fe14657e2e8912fa6e7c22c474678cc4d97&utm_source=gh-comment&runConclusion=FAILURE&runId=92c08647-d804-5e41-999a-0731406b8304) |\n| <code>notifications Auth ""after each"" hook for ""Basic Auth""</code> | Cypress request to http://127.0.0.1:9080/api/session/00000000-0000-0000-0000-000000000000/requests failed due to connection refused error. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50522?repo=metabase/metabase&commitHash=97966fe14657e2e8912fa6e7c22c474678cc4d97&utm_source=gh-comment&runConclusion=FAILURE&runId=cea57ecc-63ad-51f0-8e37-ccdc8bacda01) |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | The test failed because the web server at 127.0.0.1:9080 was not available, resulting in a connection refused error. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50522?repo=metabase/metabase&commitHash=97966fe14657e2e8912fa6e7c22c474678cc4d97&utm_source=gh-comment&runConclusion=FAILURE&runId=8a38dcb1-9e0c-5891-a437-9d7ef28aa12f) |\n| <code>date-parameter-for-native-query-with-nested-mbql-query-test</code> | Transaction is closed, preventing query execution. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50522?repo=metabase/metabase&commitHash=97966fe14657e2e8912fa6e7c22c474678cc4d97&utm_source=gh-comment&runConclusion=FAILURE&runId=fd138e2d-4707-5523-a85f-5dc7859a4148) |\n\n[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/50522?repo=metabase/metabase&commitHash=97966fe14657e2e8912fa6e7c22c474678cc4d97&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50522?repo=metabase/metabase&commitHash=97966fe14657e2e8912fa6e7c22c474678cc4d97&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 26, 18, 50, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2506356098, 'issue_id': 2695630513, 'author': 'oisincoveney', 'body': 'This change is part of the following stack:\n\n- #50152\n    - #50522 ◀\n\n<sub>Change managed by [git-spice](https://abhinav.github.io/git-spice/).</sub>\n<!-- gs:navigation comment -->', 'created_at': datetime.datetime(2024, 11, 28, 15, 21, 55, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-26 18:06:32 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 8db07b638c06713618c60a26b0ce3a2200a67abe...97966fe14657e2e8912fa6e7c22c474678cc4d97.

No notifications.

trunk-io[bot] on (2024-11-26 18:50:15 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51369_tests-97966fe1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50522?repo=metabase/metabase&commitHash=97966fe14657e2e8912fa6e7c22c474678cc4d97&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50522?repo=metabase/metabase&commitHash=97966fe14657e2e8912fa6e7c22c474678cc4d97&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/6-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50522?repo=metabase/metabase&commitHash=97966fe14657e2e8912fa6e7c22c474678cc4d97&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50522?repo=metabase/metabase&commitHash=97966fe14657e2e8912fa6e7c22c474678cc4d97&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\#37726)</code> | The test timed out while trying to find an element with the text ""Product → Category"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50522?repo=metabase/metabase&commitHash=97966fe14657e2e8912fa6e7c22c474678cc4d97&utm_source=gh-comment&runConclusion=FAILURE&runId=7fb890ac-9864-591d-9364-b41c8bc40138) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>notifications Auth Basic Auth</code> | Unable to find an accessible element with the role ""button"" and name ""Success"" after 4000ms of retrying. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50522?repo=metabase/metabase&commitHash=97966fe14657e2e8912fa6e7c22c474678cc4d97&utm_source=gh-comment&runConclusion=FAILURE&runId=92c08647-d804-5e41-999a-0731406b8304) |
| <code>notifications Auth ""after each"" hook for ""Basic Auth""</code> | Cypress request to http://127.0.0.1:9080/api/session/00000000-0000-0000-0000-000000000000/requests failed due to connection refused error. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50522?repo=metabase/metabase&commitHash=97966fe14657e2e8912fa6e7c22c474678cc4d97&utm_source=gh-comment&runConclusion=FAILURE&runId=cea57ecc-63ad-51f0-8e37-ccdc8bacda01) |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | The test failed because the web server at 127.0.0.1:9080 was not available, resulting in a connection refused error. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50522?repo=metabase/metabase&commitHash=97966fe14657e2e8912fa6e7c22c474678cc4d97&utm_source=gh-comment&runConclusion=FAILURE&runId=8a38dcb1-9e0c-5891-a437-9d7ef28aa12f) |
| <code>date-parameter-for-native-query-with-nested-mbql-query-test</code> | Transaction is closed, preventing query execution. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50522?repo=metabase/metabase&commitHash=97966fe14657e2e8912fa6e7c22c474678cc4d97&utm_source=gh-comment&runConclusion=FAILURE&runId=fd138e2d-4707-5523-a85f-5dc7859a4148) |

[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/50522?repo=metabase/metabase&commitHash=97966fe14657e2e8912fa6e7c22c474678cc4d97&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50522?repo=metabase/metabase&commitHash=97966fe14657e2e8912fa6e7c22c474678cc4d97&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

oisincoveney (Issue Creator) on (2024-11-28 15:21:55 UTC): This change is part of the following stack:

- #50152
    - #50522 ◀

<sub>Change managed by [git-spice](https://abhinav.github.io/git-spice/).</sub>
<!-- gs:navigation comment -->

"
2695448928,pull_request,closed,,Enable New Search by default,"For the Beta it will be good to get feedback on the new search engine.

This is just a extraction of [this commit](https://github.com/metabase/metabase/pull/50471/commits/fce7f0a2d28d0d9ee15dc1dae037d213ad5f19ef) from a larger PR.",crisptrutski,2024-11-26 17:03:02+00:00,['crisptrutski'],2024-11-27 06:36:25+00:00,2024-11-27 06:36:24+00:00,https://github.com/metabase/metabase/pull/50520,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2501648667, 'issue_id': 2695448928, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/1_test-4dad68bf-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50520?repo=metabase/metabase&commitHash=4dad68bf795187e7a0f2f2e28e8c737d6089e44a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50520?repo=metabase/metabase&commitHash=4dad68bf795187e7a0f2f2e28e8c737d6089e44a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50520?repo=metabase/metabase&commitHash=4dad68bf795187e7a0f2f2e28e8c737d6089e44a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50520?repo=metabase/metabase&commitHash=4dad68bf795187e7a0f2f2e28e8c737d6089e44a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>xray-dashboards-work-test</code> | A deadlock was detected in the database, preventing the execution of a query. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50520?repo=metabase/metabase&commitHash=4dad68bf795187e7a0f2f2e28e8c737d6089e44a&utm_source=gh-comment&runConclusion=FAILURE&runId=67f1032f-2136-5a17-a860-39f13caed8e5) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50520?repo=metabase/metabase&commitHash=4dad68bf795187e7a0f2f2e28e8c737d6089e44a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 26, 18, 25, 43, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-26 18:25:43 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/1_test-4dad68bf-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50520?repo=metabase/metabase&commitHash=4dad68bf795187e7a0f2f2e28e8c737d6089e44a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50520?repo=metabase/metabase&commitHash=4dad68bf795187e7a0f2f2e28e8c737d6089e44a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50520?repo=metabase/metabase&commitHash=4dad68bf795187e7a0f2f2e28e8c737d6089e44a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50520?repo=metabase/metabase&commitHash=4dad68bf795187e7a0f2f2e28e8c737d6089e44a&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>xray-dashboards-work-test</code> | A deadlock was detected in the database, preventing the execution of a query. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50520?repo=metabase/metabase&commitHash=4dad68bf795187e7a0f2f2e28e8c737d6089e44a&utm_source=gh-comment&runConclusion=FAILURE&runId=67f1032f-2136-5a17-a860-39f13caed8e5) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50520?repo=metabase/metabase&commitHash=4dad68bf795187e7a0f2f2e28e8c737d6089e44a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2695419386,pull_request,closed,,update our bug report template placeholder,"We ask users to paste json into the placeholder so it should show an example of the json we expect, not a bulleted list.",escherize,2024-11-26 16:54:44+00:00,['escherize'],2025-01-27 22:14:28+00:00,2024-11-26 19:32:15+00:00,https://github.com/metabase/metabase/pull/50519,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]",[],
2695324470,pull_request,closed,,"🤖 backported ""Use relative-time-interval in the QP for parameters""",#50417,github-automation-metabase,2024-11-26 16:38:31+00:00,"['ranquild', 'github-automation-metabase']",2024-11-26 18:30:11+00:00,2024-11-26 17:45:51+00:00,https://github.com/metabase/metabase/pull/50517,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2501541912, 'issue_id': 2695324470, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/19_tests-4c7c4a2f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50517?repo=metabase/metabase&commitHash=4c7c4a2f7c2f91770a24adae346bda41e0395e5e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50517?repo=metabase/metabase&commitHash=4c7c4a2f7c2f91770a24adae346bda41e0395e5e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50517?repo=metabase/metabase&commitHash=4c7c4a2f7c2f91770a24adae346bda41e0395e5e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50517?repo=metabase/metabase&commitHash=4c7c4a2f7c2f91770a24adae346bda41e0395e5e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50517?repo=metabase/metabase&commitHash=4c7c4a2f7c2f91770a24adae346bda41e0395e5e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 26, 17, 29, 6, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-26 17:29:06 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/19_tests-4c7c4a2f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50517?repo=metabase/metabase&commitHash=4c7c4a2f7c2f91770a24adae346bda41e0395e5e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50517?repo=metabase/metabase&commitHash=4c7c4a2f7c2f91770a24adae346bda41e0395e5e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50517?repo=metabase/metabase&commitHash=4c7c4a2f7c2f91770a24adae346bda41e0395e5e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50517?repo=metabase/metabase&commitHash=4c7c4a2f7c2f91770a24adae346bda41e0395e5e&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50517?repo=metabase/metabase&commitHash=4c7c4a2f7c2f91770a24adae346bda41e0395e5e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2695209147,pull_request,closed,,Introduce the non-admin Onboarding Checklist,"### What does this PR accomplish?
- It opens up an onboarding checklist for non-admins!
- It improves the route guards so that now even people who navigate directly to this route (`/gettting-started`) are redirected to the home page if they are not supposed to see the page (whitelabelled instances or embedding context)

Resolves #50576

> [!IMPORTANT]
> Other than opening this up to non-admins, all other conditions that determine whether or not to display the link to this page still apply.
",nemanjaglumac,2024-11-26 15:57:45+00:00,['nemanjaglumac'],2024-12-03 19:34:28+00:00,2024-12-03 18:23:39+00:00,https://github.com/metabase/metabase/pull/50516,"[('backport', 'Automatically create PR on current release branch on merge'), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2504134366, 'issue_id': 2695209147, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13102_tests-df08aeb2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50516?repo=metabase/metabase&commitHash=df08aeb21e132a9358e0a44e1d24868e56e6b2c2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50516?repo=metabase/metabase&commitHash=df08aeb21e132a9358e0a44e1d24868e56e6b2c2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50516?repo=metabase/metabase&commitHash=df08aeb21e132a9358e0a44e1d24868e56e6b2c2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50516?repo=metabase/metabase&commitHash=df08aeb21e132a9358e0a44e1d24868e56e6b2c2&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50516?repo=metabase/metabase&commitHash=df08aeb21e132a9358e0a44e1d24868e56e6b2c2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 27, 15, 16, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2508144603, 'issue_id': 2695209147, 'author': 'rafpaf', 'body': 'Since my instance is older than 30 days, /getting-started shows me the error ""Sorry, you don’t have permission to see that"" when I log in as a non-admin user. I wonder if the page should display anyway when the instance is no longer new, even if the sidebar link won\'t display? After all, someone might open Onboarding in a tab on day 25, and then get confused a few days later when the tab gives them a permission error on refresh.', 'created_at': datetime.datetime(2024, 11, 29, 16, 50, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2508164493, 'issue_id': 2695209147, 'author': 'rafpaf', 'body': ""To see what the instance looks like when new, I deployed a preview environment for this PR, but the default user is an administrator, so I couldn't see how the page looked to non-admins. I also tried temporarily making [getIsNewInstance](https://github.com/metabase/metabase/blob/better-onboarding-pt3-non-admin/frontend/src/metabase/home/selectors.ts#L17-L21) always return true but `/getting-started` still redirected to `/unauthorized`.\r\n\r\nI don't yet deeply understand our route guards but in case it's helpful, [this line of code](https://github.com/metabase/metabase/blob/better-onboarding-pt3-non-admin/frontend/src/metabase/routes.jsx#L134) might be worth giving a second look to. That makes me think e2e tests might be helpful for the non-admin case.\r\n\r\nI admit this is a self-interested suggestion since I'm hoping to shadow you sometime as you wrangle Cypress!"", 'created_at': datetime.datetime(2024, 11, 29, 17, 5, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2512873300, 'issue_id': 2695209147, 'author': 'nemanjaglumac', 'body': '> Since my instance is older than 30 days, /getting-started shows me the error ""Sorry, you don’t have permission to see that"" when I log in as a non-admin user. I wonder if the page should display anyway when the instance is no longer new, even if the sidebar link won\'t display? After all, someone might open Onboarding in a tab on day 25, and then get confused a few days later when the tab gives them a permission error on refresh.\r\n\r\nThis has nothing to do with the instance being old. It\'s way more embarrassing than that. I _simply_ forgot to remove the route guard 🤦\u200d♂️ \r\n\r\nFixed in https://github.com/metabase/metabase/pull/50516/commits/542d431a6e600305cda7f7868f1ac4a8d17c19e3.\r\nWill add E2E test for good measure.\r\n\r\nThank you so much for catching this!\r\nIt was a silly mistake on my part that could\'ve introduced not so silly (read: BAD) user experience.', 'created_at': datetime.datetime(2024, 12, 2, 21, 18, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2513818529, 'issue_id': 2695209147, 'author': 'github-actions[bot]', 'body': '👋 Deploying a preview environment for commit bc2066d529a6f38a47e1e8c73de4d30ff1f37055.\n✅ Preview:\n    https://pr50516.coredev.metabase.com\n🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2024, 12, 3, 8, 10, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2514709591, 'issue_id': 2695209147, 'author': 'rafpaf', 'body': '![image.png](https://graphite-user-uploaded-assets-prod.s3.amazonaws.com/utGnP2ljFMMNOgi82vVn/6027936e-59df-469b-b943-3156cece4bc1.png)\n\nThe ""Set up"" and ""Slack"" links don\'t look like links to me. Should they be in blue?', 'created_at': datetime.datetime(2024, 12, 3, 14, 23, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2514711604, 'issue_id': 2695209147, 'author': 'rafpaf', 'body': '![image.png](https://graphite-user-uploaded-assets-prod.s3.amazonaws.com/utGnP2ljFMMNOgi82vVn/c94115fc-64aa-41c7-96d6-8873af22592a.png)\n\nThe bolded ""filters"" caught my eye. Should there be any other bolded text in the list? Perhaps a question for the design team.', 'created_at': datetime.datetime(2024, 12, 3, 14, 24, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2514723177, 'issue_id': 2695209147, 'author': 'rafpaf', 'body': 'For consistency, maybe use an em dash here since we use them below?\n\n```\n{jt`Filter and summarize data, add custom columns, join data from other tables, and more - ${(\n                      <b key=""no-sql"">{t`all without SQL`}</b>\n```', 'created_at': datetime.datetime(2024, 12, 3, 14, 29, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2514726160, 'issue_id': 2695209147, 'author': 'nemanjaglumac', 'body': '> The bolded ""filters"" caught my eye. Should there be any other bolded text in the list? Perhaps a question for the design team.\r\n\r\nNope. This was the original design, and not really something that\'s in the scope of this PR.', 'created_at': datetime.datetime(2024, 12, 3, 14, 30, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2514727689, 'issue_id': 2695209147, 'author': 'nemanjaglumac', 'body': '> The ""Set up"" and ""Slack"" links don\'t look like links to me. Should they be in blue?\r\n\r\nThis shouldn\'t be visible at all.\r\nWill take a look in a sec.\r\n\r\nThanks\r\n\r\n\r\nEDIT:\r\n@rafpaf Oh, you\'re talking about the admin view for ""set up email and slack"". \r\n\r\nThat part didn\'t change from before. I\'ll check with the designer and the product, but this shouldn\'t be a PR blocker. I can follow up with the stylistic changes if needed.', 'created_at': datetime.datetime(2024, 12, 3, 14, 31, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2515418830, 'issue_id': 2695209147, 'author': 'nemanjaglumac', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 12, 3, 19, 33, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2515420778, 'issue_id': 2695209147, 'author': 'github-actions[bot]', 'body': '@nemanjaglumac something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12146886263)', 'created_at': datetime.datetime(2024, 12, 3, 19, 34, 26, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-27 15:16:25 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13102_tests-df08aeb2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50516?repo=metabase/metabase&commitHash=df08aeb21e132a9358e0a44e1d24868e56e6b2c2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50516?repo=metabase/metabase&commitHash=df08aeb21e132a9358e0a44e1d24868e56e6b2c2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50516?repo=metabase/metabase&commitHash=df08aeb21e132a9358e0a44e1d24868e56e6b2c2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50516?repo=metabase/metabase&commitHash=df08aeb21e132a9358e0a44e1d24868e56e6b2c2&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50516?repo=metabase/metabase&commitHash=df08aeb21e132a9358e0a44e1d24868e56e6b2c2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

rafpaf on (2024-11-29 16:50:57 UTC): Since my instance is older than 30 days, /getting-started shows me the error ""Sorry, you don’t have permission to see that"" when I log in as a non-admin user. I wonder if the page should display anyway when the instance is no longer new, even if the sidebar link won't display? After all, someone might open Onboarding in a tab on day 25, and then get confused a few days later when the tab gives them a permission error on refresh.

rafpaf on (2024-11-29 17:05:11 UTC): To see what the instance looks like when new, I deployed a preview environment for this PR, but the default user is an administrator, so I couldn't see how the page looked to non-admins. I also tried temporarily making [getIsNewInstance](https://github.com/metabase/metabase/blob/better-onboarding-pt3-non-admin/frontend/src/metabase/home/selectors.ts#L17-L21) always return true but `/getting-started` still redirected to `/unauthorized`.

I don't yet deeply understand our route guards but in case it's helpful, [this line of code](https://github.com/metabase/metabase/blob/better-onboarding-pt3-non-admin/frontend/src/metabase/routes.jsx#L134) might be worth giving a second look to. That makes me think e2e tests might be helpful for the non-admin case.

I admit this is a self-interested suggestion since I'm hoping to shadow you sometime as you wrangle Cypress!

nemanjaglumac (Issue Creator) on (2024-12-02 21:18:05 UTC): This has nothing to do with the instance being old. It's way more embarrassing than that. I _simply_ forgot to remove the route guard 🤦‍♂️ 

Fixed in https://github.com/metabase/metabase/pull/50516/commits/542d431a6e600305cda7f7868f1ac4a8d17c19e3.
Will add E2E test for good measure.

Thank you so much for catching this!
It was a silly mistake on my part that could've introduced not so silly (read: BAD) user experience.

github-actions[bot] on (2024-12-03 08:10:54 UTC): 👋 Deploying a preview environment for commit bc2066d529a6f38a47e1e8c73de4d30ff1f37055.
✅ Preview:
    https://pr50516.coredev.metabase.com
🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

rafpaf on (2024-12-03 14:23:47 UTC): ![image.png](https://graphite-user-uploaded-assets-prod.s3.amazonaws.com/utGnP2ljFMMNOgi82vVn/6027936e-59df-469b-b943-3156cece4bc1.png)

The ""Set up"" and ""Slack"" links don't look like links to me. Should they be in blue?

rafpaf on (2024-12-03 14:24:41 UTC): ![image.png](https://graphite-user-uploaded-assets-prod.s3.amazonaws.com/utGnP2ljFMMNOgi82vVn/c94115fc-64aa-41c7-96d6-8873af22592a.png)

The bolded ""filters"" caught my eye. Should there be any other bolded text in the list? Perhaps a question for the design team.

rafpaf on (2024-12-03 14:29:21 UTC): For consistency, maybe use an em dash here since we use them below?

```
{jt`Filter and summarize data, add custom columns, join data from other tables, and more - ${(
                      <b key=""no-sql"">{t`all without SQL`}</b>
```

nemanjaglumac (Issue Creator) on (2024-12-03 14:30:29 UTC): Nope. This was the original design, and not really something that's in the scope of this PR.

nemanjaglumac (Issue Creator) on (2024-12-03 14:31:06 UTC): This shouldn't be visible at all.
Will take a look in a sec.

Thanks


EDIT:
@rafpaf Oh, you're talking about the admin view for ""set up email and slack"". 

That part didn't change from before. I'll check with the designer and the product, but this shouldn't be a PR blocker. I can follow up with the stylistic changes if needed.

nemanjaglumac (Issue Creator) on (2024-12-03 19:33:19 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-12-03 19:34:26 UTC): @nemanjaglumac something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12146886263)

"
2695186683,pull_request,closed,,Extend milestone setter timeout,"Last time I tried to run this action in CI it [timed out](https://metaboat.slack.com/archives/C864UT5CZ/p1728406041776849), this simply extends the job timeout from 15 to 30 minutes in CI.",iethree,2024-11-26 15:50:21+00:00,['iethree'],2024-11-26 18:50:37+00:00,2024-11-26 16:11:09+00:00,https://github.com/metabase/metabase/pull/50515,"[('.Building & Releasing', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]",[],
2695043224,pull_request,closed,,Always show embed sharing option for admins,"Closes https://github.com/metabase/metabase/issues/50504

### Description

This is the first part of this [Streamline embed flow when embedding features are off](https://www.notion.so/metabase/Streamline-embed-flow-when-embedding-features-are-off-13869354c90180b4bc02ca29ebf61ad2).

This PR always makes sure the embed option is present and clickable for admins. It was previously only clickable when the static embed is enabled.

### How to verify
1. Check that dashboards and questions sharing menu are always clickable and always show the embed option.
    - This option should only be present for admins
    - whether or not the static embedding is turned on

### Demo
#### Dashboards
![image](https://github.com/user-attachments/assets/d88f34fa-e429-4b65-a179-72a002a7911c)

#### Questions
![image](https://github.com/user-attachments/assets/b99e1790-d327-4182-870d-e142b37aa4d5)


### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",WiNloSt,2024-11-26 15:15:16+00:00,['WiNloSt'],2024-12-03 09:13:06+00:00,2024-12-03 09:13:03+00:00,https://github.com/metabase/metabase/pull/50513,"[('.Team/Embedding', '')]","[{'comment_id': 2501308254, 'issue_id': 2695043224, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13279_tests-266c5ac4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50513?repo=metabase/metabase&commitHash=266c5ac496620ad828c7c85f63bed7bc4ed0ecf3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50513?repo=metabase/metabase&commitHash=266c5ac496620ad828c7c85f63bed7bc4ed0ecf3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50513?repo=metabase/metabase&commitHash=266c5ac496620ad828c7c85f63bed7bc4ed0ecf3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50513?repo=metabase/metabase&commitHash=266c5ac496620ad828c7c85f63bed7bc4ed0ecf3&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50513?repo=metabase/metabase&commitHash=266c5ac496620ad828c7c85f63bed7bc4ed0ecf3&utm_source=gh-comment&runConclusion=FAILURE&runId=edc0e5df-f45b-5a44-93ea-ed314bd00cc7) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50513?repo=metabase/metabase&commitHash=266c5ac496620ad828c7c85f63bed7bc4ed0ecf3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 26, 16, 22, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2503312388, 'issue_id': 2695043224, 'author': 'WiNloSt', 'body': '@heypoom\r\n\r\n> PS. I noticed that in my non-admin user account, ""Create alert"" is still present and not disabled though (see the above screenshot), although if I click on it it shows that alerts are not yet configured and I need to contact an admin. I\'m not sure if that is to be expected.\r\n\r\nThis is a pro feature, you\'ll need to [disable subscriptions](http://localhost:3000/admin/permissions/application) on the users first.\r\n![Screenshot 2024-11-27 at 4 05 51\u202fPM](https://github.com/user-attachments/assets/b60fe86c-9541-44ac-b00e-e40671a8bdfa)\r\n\r\nWhen it\'s disabled the `create alert` should even be visible following this logic (that I did not touch)\r\nhttps://github.com/metabase/metabase/blob/d51a05d7a2ca697167b2334f91398be8a6514102/frontend/src/metabase/sharing/components/SharingMenu/MenuItems/AlertMenuItem.tsx#L22-L26', 'created_at': datetime.datetime(2024, 11, 27, 9, 6, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2505406990, 'issue_id': 2695043224, 'author': 'WiNloSt', 'body': 'Update on Nov 28 at 7:11 UTC. We backed out of showing embedding options for non-admins and [decided to keep embed option to only admins](https://metaboat.slack.com/archives/C063Q3F1HPF/p1732721299792449?thread_ts=1732707299.843849&cid=C063Q3F1HPF). However, the embed option will always be clickable for admins, rather than being disabled when the static embed is off.\r\n\r\nThese details have been updated in the [product doc](https://www.notion.so/metabase/Streamline-embed-flow-when-embedding-features-are-off-13869354c90180b4bc02ca29ebf61ad2?pvs=4#13869354c9018132bd43c8b115b14479).', 'created_at': datetime.datetime(2024, 11, 28, 7, 13, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2505411553, 'issue_id': 2695043224, 'author': 'github-actions[bot]', 'body': '👋 Deploying a preview environment for commit 3bcb67d3bedc17b43a390d862e77c8c2e3ffec42.\n✅ Preview:\n    https://pr50513.coredev.metabase.com\n🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2024, 11, 28, 7, 16, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2505554670, 'issue_id': 2695043224, 'author': 'WiNloSt', 'body': ""@metabase/embedding Re-requesting review since there's [a change](https://github.com/metabase/metabase/pull/50513#issuecomment-2505406990) since the last approval."", 'created_at': datetime.datetime(2024, 11, 28, 8, 43, 59, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-26 16:22:25 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13279_tests-266c5ac4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50513?repo=metabase/metabase&commitHash=266c5ac496620ad828c7c85f63bed7bc4ed0ecf3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50513?repo=metabase/metabase&commitHash=266c5ac496620ad828c7c85f63bed7bc4ed0ecf3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50513?repo=metabase/metabase&commitHash=266c5ac496620ad828c7c85f63bed7bc4ed0ecf3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50513?repo=metabase/metabase&commitHash=266c5ac496620ad828c7c85f63bed7bc4ed0ecf3&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50513?repo=metabase/metabase&commitHash=266c5ac496620ad828c7c85f63bed7bc4ed0ecf3&utm_source=gh-comment&runConclusion=FAILURE&runId=edc0e5df-f45b-5a44-93ea-ed314bd00cc7) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50513?repo=metabase/metabase&commitHash=266c5ac496620ad828c7c85f63bed7bc4ed0ecf3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

WiNloSt (Issue Creator) on (2024-11-27 09:06:52 UTC): @heypoom


This is a pro feature, you'll need to [disable subscriptions](http://localhost:3000/admin/permissions/application) on the users first.
![Screenshot 2024-11-27 at 4 05 51 PM](https://github.com/user-attachments/assets/b60fe86c-9541-44ac-b00e-e40671a8bdfa)

When it's disabled the `create alert` should even be visible following this logic (that I did not touch)
https://github.com/metabase/metabase/blob/d51a05d7a2ca697167b2334f91398be8a6514102/frontend/src/metabase/sharing/components/SharingMenu/MenuItems/AlertMenuItem.tsx#L22-L26

WiNloSt (Issue Creator) on (2024-11-28 07:13:24 UTC): Update on Nov 28 at 7:11 UTC. We backed out of showing embedding options for non-admins and [decided to keep embed option to only admins](https://metaboat.slack.com/archives/C063Q3F1HPF/p1732721299792449?thread_ts=1732707299.843849&cid=C063Q3F1HPF). However, the embed option will always be clickable for admins, rather than being disabled when the static embed is off.

These details have been updated in the [product doc](https://www.notion.so/metabase/Streamline-embed-flow-when-embedding-features-are-off-13869354c90180b4bc02ca29ebf61ad2?pvs=4#13869354c9018132bd43c8b115b14479).

github-actions[bot] on (2024-11-28 07:16:48 UTC): 👋 Deploying a preview environment for commit 3bcb67d3bedc17b43a390d862e77c8c2e3ffec42.
✅ Preview:
    https://pr50513.coredev.metabase.com
🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

WiNloSt (Issue Creator) on (2024-11-28 08:43:59 UTC): @metabase/embedding Re-requesting review since there's [a change](https://github.com/metabase/metabase/pull/50513#issuecomment-2505406990) since the last approval.

"
2695008184,pull_request,closed,,"🤖 backported ""Update links for SDK npm so they actually point to the npm page""",#50499,github-automation-metabase,2024-11-26 15:03:11+00:00,"['albertoperdomo', 'github-automation-metabase']",2024-11-28 08:35:35+00:00,2024-11-28 08:35:34+00:00,https://github.com/metabase/metabase/pull/50512,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2694984431,pull_request,closed,,temporarily hiding group into other,"Closes https://github.com/metabase/metabase/issues/50510

### Description

Temporarily hiding [group into other](https://www.notion.so/metabase/Allow-for-grouping-large-numbers-of-series-into-other-61660fc5206a48ed8ce12a19c2e6ef96) feature. Original feature PR: https://github.com/metabase/metabase/pull/48265
Instead of unmerging I disable the newly added settings: `isValid` is always false which makes them use the default values so even already existing values will be ignored.

### How to verify

- Create a bar chart with two dimensions and many series
- Ensure there is no ""Group into Other"" functionality

### Checklist

- [n/a] Tests have been added/updated to cover changes in this PR
",alxnddr,2024-11-26 14:55:41+00:00,['alxnddr'],2024-11-27 01:38:05+00:00,2024-11-27 01:38:03+00:00,https://github.com/metabase/metabase/pull/50511,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team'), ('loki-update', '')]","[{'comment_id': 2501227326, 'issue_id': 2694984431, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/50444_tests-39e6fadc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50511?repo=metabase/metabase&commitHash=39e6fadcbf7aaaa2862af0fbd53ba9fa925674c7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50511?repo=metabase/metabase&commitHash=39e6fadcbf7aaaa2862af0fbd53ba9fa925674c7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50511?repo=metabase/metabase&commitHash=39e6fadcbf7aaaa2862af0fbd53ba9fa925674c7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50511?repo=metabase/metabase&commitHash=39e6fadcbf7aaaa2862af0fbd53ba9fa925674c7&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50511?repo=metabase/metabase&commitHash=39e6fadcbf7aaaa2862af0fbd53ba9fa925674c7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 26, 15, 52, 45, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-26 15:52:45 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/50444_tests-39e6fadc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50511?repo=metabase/metabase&commitHash=39e6fadcbf7aaaa2862af0fbd53ba9fa925674c7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50511?repo=metabase/metabase&commitHash=39e6fadcbf7aaaa2862af0fbd53ba9fa925674c7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50511?repo=metabase/metabase&commitHash=39e6fadcbf7aaaa2862af0fbd53ba9fa925674c7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50511?repo=metabase/metabase&commitHash=39e6fadcbf7aaaa2862af0fbd53ba9fa925674c7&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50511?repo=metabase/metabase&commitHash=39e6fadcbf7aaaa2862af0fbd53ba9fa925674c7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2694850021,pull_request,closed,,Fix text in `AccordionList` for SDK,"Previously we had to use some CSS hacks to make the text work as expected within the `Picker` components, which use `AccordionList`:

![image](https://github.com/user-attachments/assets/669cefcb-511f-463d-bed9-da15320f34ff)


Now it looks like this:

![image](https://github.com/user-attachments/assets/1bb30e34-da75-4704-9596-5f80e8560cf4)
![image](https://github.com/user-attachments/assets/86accdc7-c067-4bb6-9459-69835fa74d32)


",oisincoveney,2024-11-26 14:26:10+00:00,['oisincoveney'],2024-11-28 16:35:48+00:00,2024-11-28 15:53:09+00:00,https://github.com/metabase/metabase/pull/50509,"[('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2501099804, 'issue_id': 2694850021, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/44032_tests-e646edf1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50509?repo=metabase/metabase&commitHash=e646edf137631cb91a57cd0630aa38fa9d254f41&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/5-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50509?repo=metabase/metabase&commitHash=e646edf137631cb91a57cd0630aa38fa9d254f41&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50509?repo=metabase/metabase&commitHash=e646edf137631cb91a57cd0630aa38fa9d254f41&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50509?repo=metabase/metabase&commitHash=e646edf137631cb91a57cd0630aa38fa9d254f41&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding-sdk > styles modals and tooltips mantine modals should render with our styles</code> | Unable to find an element with the text ""Add a function or metric"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50509?repo=metabase/metabase&commitHash=e646edf137631cb91a57cd0630aa38fa9d254f41&utm_source=gh-comment&runConclusion=FAILURE&runId=10096e79-9346-5e65-8c12-b8e4f49a8463) |\n| <code>scenarios > embedding-sdk > interactive-question can save a question to a selected collection</code> | The \\`cy.click()\\` command failed because the button is disabled. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50509?repo=metabase/metabase&commitHash=e646edf137631cb91a57cd0630aa38fa9d254f41&utm_source=gh-comment&runConclusion=FAILURE&runId=20c5a124-4382-52b8-a035-60967d0cc3f1) |\n| <code>scenarios > embedding-sdk > interactive-question can save a question to a pre-defined collection</code> | The \\`cy.click()\\` command failed because the button is disabled. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50509?repo=metabase/metabase&commitHash=e646edf137631cb91a57cd0630aa38fa9d254f41&utm_source=gh-comment&runConclusion=FAILURE&runId=d3883341-a26d-5366-b834-80c2b2fdcf45) |\n| <code>scenarios > embedding-sdk > interactive-question can save a question to a default collection</code> | The \\`cy.click()\\` command failed because the button is disabled. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50509?repo=metabase/metabase&commitHash=e646edf137631cb91a57cd0630aa38fa9d254f41&utm_source=gh-comment&runConclusion=FAILURE&runId=66ce5f78-ebf9-5e63-84a8-df6aa781f56f) |\n\n[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/50509?repo=metabase/metabase&commitHash=e646edf137631cb91a57cd0630aa38fa9d254f41&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50509?repo=metabase/metabase&commitHash=e646edf137631cb91a57cd0630aa38fa9d254f41&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 26, 15, 15, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2503877434, 'issue_id': 2694850021, 'author': 'npretto', 'body': 'The diff is all weird, but is it possible that the issue is not there on master now?\r\nThis is what I see with `<CreateQuestion/>`, only one color feels weird, fonts looks good.\r\nMaybe the issue was related to the portals not being used, which was addressed by https://github.com/metabase/metabase/pull/50565?\r\n<img width=""1036"" alt=""image"" src=""https://github.com/user-attachments/assets/9e015108-6aef-4160-b786-c2c83577f2f5"">', 'created_at': datetime.datetime(2024, 11, 27, 13, 26, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2503887064, 'issue_id': 2694850021, 'author': 'oisincoveney', 'body': '> The diff is all weird, but is it possible that the issue is not there on master now? This is what I see with `<CreateQuestion/>`, only one color feels weird, fonts looks good. Maybe the issue was related to the portals not being used, which was addressed by #50565? <img alt=""image"" width=""1036"" src=""https://private-user-images.githubusercontent.com/1914270/390425876-9e015108-6aef-4160-b786-c2c83577f2f5.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzI3MTQzMDcsIm5iZiI6MTczMjcxNDAwNywicGF0aCI6Ii8xOTE0MjcwLzM5MDQyNTg3Ni05ZTAxNTEwOC02YWVmLTQxNjAtYjc4Ni1jMmM4MzU3N2YyZjUucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MTEyNyUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDExMjdUMTMyNjQ3WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9ZGMzMzE1YTU3YjA5MDJlMjBmY2Q2NDA1ZjA0YzA4YTU2ZDhhNjM0NTRmNTVmNDg1ZjBhNDQyZTUyMmQyNGJjMSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.8FCvuoSTJBD025IcPXPjsvnymQexQVWI6AbIzD1S3mk"">\r\n\r\nlet me fix the diff and see if there is an overlap here', 'created_at': datetime.datetime(2024, 11, 27, 13, 31, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2503914430, 'issue_id': 2694850021, 'author': 'oisincoveney', 'body': ""@npretto don't forget that there isn't an issue on master because we have:\r\n`enterprise/frontend/src/embedding-sdk/components/private/InteractiveQuestion/components/FilterPicker.module.css` which bandaids over the text, and this PR is stacked on top of `sdk/question-chill-mode` where that has been removed"", 'created_at': datetime.datetime(2024, 11, 27, 13, 43, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2503932346, 'issue_id': 2694850021, 'author': 'npretto', 'body': "">   /** SDK does not have CSS resets for buttons, so we need to reset them here */\r\n\r\nAre you referring to this?\r\n\r\n\r\nWe should have a css reset for buttons on our components if they're displayed on the correct portal: https://github.com/metabase/metabase/blob/1686e8a6921cfe5280c56e48f4b42987a2c236ac/enterprise/frontend/src/embedding-sdk/components/private/PublicComponentStylesWrapper.tsx#L51-L54\r\n\r\nCan you check if after a rebase it still has the issue?"", 'created_at': datetime.datetime(2024, 11, 27, 13, 51, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2504427949, 'issue_id': 2694850021, 'author': 'oisincoveney', 'body': ""> > /** SDK does not have CSS resets for buttons, so we need to reset them here */\r\n> \r\n> Are you referring to this?\r\n> \r\n> We should have a css reset for buttons on our components if they're displayed on the correct portal:\r\n> \r\n> https://github.com/metabase/metabase/blob/1686e8a6921cfe5280c56e48f4b42987a2c236ac/enterprise/frontend/src/embedding-sdk/components/private/PublicComponentStylesWrapper.tsx#L51-L54\r\n> \r\n> Can you check if after a rebase it still has the issue?\r\n\r\nI had another look, and it looks like the portal stuff helped with quite a few things, but this PR is still needed to handle some padding, font families, and colors"", 'created_at': datetime.datetime(2024, 11, 27, 17, 30, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2506112465, 'issue_id': 2694850021, 'author': 'oisincoveney', 'body': 'This change is part of the following stack:\n\n- #50152\n    - #50509 ◀\n\n<sub>Change managed by [git-spice](https://abhinav.github.io/git-spice/).</sub>\n<!-- gs:navigation comment -->', 'created_at': datetime.datetime(2024, 11, 28, 13, 18, 50, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-26 15:15:55 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/44032_tests-e646edf1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50509?repo=metabase/metabase&commitHash=e646edf137631cb91a57cd0630aa38fa9d254f41&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/5-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50509?repo=metabase/metabase&commitHash=e646edf137631cb91a57cd0630aa38fa9d254f41&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50509?repo=metabase/metabase&commitHash=e646edf137631cb91a57cd0630aa38fa9d254f41&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50509?repo=metabase/metabase&commitHash=e646edf137631cb91a57cd0630aa38fa9d254f41&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding-sdk > styles modals and tooltips mantine modals should render with our styles</code> | Unable to find an element with the text ""Add a function or metric"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50509?repo=metabase/metabase&commitHash=e646edf137631cb91a57cd0630aa38fa9d254f41&utm_source=gh-comment&runConclusion=FAILURE&runId=10096e79-9346-5e65-8c12-b8e4f49a8463) |
| <code>scenarios > embedding-sdk > interactive-question can save a question to a selected collection</code> | The \`cy.click()\` command failed because the button is disabled. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50509?repo=metabase/metabase&commitHash=e646edf137631cb91a57cd0630aa38fa9d254f41&utm_source=gh-comment&runConclusion=FAILURE&runId=20c5a124-4382-52b8-a035-60967d0cc3f1) |
| <code>scenarios > embedding-sdk > interactive-question can save a question to a pre-defined collection</code> | The \`cy.click()\` command failed because the button is disabled. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50509?repo=metabase/metabase&commitHash=e646edf137631cb91a57cd0630aa38fa9d254f41&utm_source=gh-comment&runConclusion=FAILURE&runId=d3883341-a26d-5366-b834-80c2b2fdcf45) |
| <code>scenarios > embedding-sdk > interactive-question can save a question to a default collection</code> | The \`cy.click()\` command failed because the button is disabled. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50509?repo=metabase/metabase&commitHash=e646edf137631cb91a57cd0630aa38fa9d254f41&utm_source=gh-comment&runConclusion=FAILURE&runId=66ce5f78-ebf9-5e63-84a8-df6aa781f56f) |

[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/50509?repo=metabase/metabase&commitHash=e646edf137631cb91a57cd0630aa38fa9d254f41&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50509?repo=metabase/metabase&commitHash=e646edf137631cb91a57cd0630aa38fa9d254f41&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

npretto on (2024-11-27 13:26:44 UTC): The diff is all weird, but is it possible that the issue is not there on master now?
This is what I see with `<CreateQuestion/>`, only one color feels weird, fonts looks good.
Maybe the issue was related to the portals not being used, which was addressed by https://github.com/metabase/metabase/pull/50565?
<img width=""1036"" alt=""image"" src=""https://github.com/user-attachments/assets/9e015108-6aef-4160-b786-c2c83577f2f5"">

oisincoveney (Issue Creator) on (2024-11-27 13:31:27 UTC): let me fix the diff and see if there is an overlap here

oisincoveney (Issue Creator) on (2024-11-27 13:43:35 UTC): @npretto don't forget that there isn't an issue on master because we have:
`enterprise/frontend/src/embedding-sdk/components/private/InteractiveQuestion/components/FilterPicker.module.css` which bandaids over the text, and this PR is stacked on top of `sdk/question-chill-mode` where that has been removed

npretto on (2024-11-27 13:51:30 UTC): Are you referring to this?


We should have a css reset for buttons on our components if they're displayed on the correct portal: https://github.com/metabase/metabase/blob/1686e8a6921cfe5280c56e48f4b42987a2c236ac/enterprise/frontend/src/embedding-sdk/components/private/PublicComponentStylesWrapper.tsx#L51-L54

Can you check if after a rebase it still has the issue?

oisincoveney (Issue Creator) on (2024-11-27 17:30:22 UTC): I had another look, and it looks like the portal stuff helped with quite a few things, but this PR is still needed to handle some padding, font families, and colors

oisincoveney (Issue Creator) on (2024-11-28 13:18:50 UTC): This change is part of the following stack:

- #50152
    - #50509 ◀

<sub>Change managed by [git-spice](https://abhinav.github.io/git-spice/).</sub>
<!-- gs:navigation comment -->

"
2694797369,pull_request,closed,,"🤖 backported ""Add v0.51.5 to the list of releases""",#50507,github-automation-metabase,2024-11-26 14:05:45+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2024-11-26 14:09:34+00:00,2024-11-26 14:09:33+00:00,https://github.com/metabase/metabase/pull/50508,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2694787077,pull_request,closed,,Add v0.51.5 to the list of releases,Like it says on the tin 😁,github-automation-metabase,2024-11-26 14:01:23+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2024-11-26 14:10:09+00:00,2024-11-26 14:04:49+00:00,https://github.com/metabase/metabase/pull/50507,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2694748989,pull_request,closed,,Convert `ListSearchField` to `TextInput` for SDK,"Previously, using the `BaseInput` component caused the styles to bork when using the Summarize, Filter, or Breakout pickers on the SDK:

![image](https://github.com/user-attachments/assets/a515a4d7-f6fe-43fa-83a5-6289b3771fef)


this PR solves that by using the Mantine `TextInput` and `Icon` components to make things look better:

![image](https://github.com/user-attachments/assets/413fa3ca-e628-4bcd-99ed-886d7b1548e3)
",oisincoveney,2024-11-26 13:47:53+00:00,['oisincoveney'],2024-11-28 14:23:14+00:00,2024-11-27 12:39:26+00:00,https://github.com/metabase/metabase/pull/50506,"[('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2500855568, 'issue_id': 2694748989, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@oisincoveney You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2024, 11, 26, 13, 49, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2500858641, 'issue_id': 2694748989, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff ca8390f776081a202e656bf098c7ea43f55bda5d...a1ec01192f05d2c83ad1ff199f63420f5d689112.\n\nNo notifications.', 'created_at': datetime.datetime(2024, 11, 26, 13, 51, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2501007954, 'issue_id': 2694748989, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/50451_tests-b8e1f058-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50506?repo=metabase/metabase&commitHash=b8e1f058f4558e9674f6044d90a210c3eeb32bbd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50506?repo=metabase/metabase&commitHash=b8e1f058f4558e9674f6044d90a210c3eeb32bbd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50506?repo=metabase/metabase&commitHash=b8e1f058f4558e9674f6044d90a210c3eeb32bbd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50506?repo=metabase/metabase&commitHash=b8e1f058f4558e9674f6044d90a210c3eeb32bbd&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding-sdk > styles modals and tooltips mantine modals should render with our styles</code> | Unable to find an element with the text ""Add a function or metric"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50506?repo=metabase/metabase&commitHash=b8e1f058f4558e9674f6044d90a210c3eeb32bbd&utm_source=gh-comment&runConclusion=FAILURE&runId=6da6fa39-989b-5d4a-8ab0-4a5180c63322) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50506?repo=metabase/metabase&commitHash=b8e1f058f4558e9674f6044d90a210c3eeb32bbd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 26, 14, 46, 38, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-26 13:49:58 UTC): <!---conventional commit reminder comment ID-->
@oisincoveney You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

github-actions[bot] on (2024-11-26 13:51:11 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff ca8390f776081a202e656bf098c7ea43f55bda5d...a1ec01192f05d2c83ad1ff199f63420f5d689112.

No notifications.

trunk-io[bot] on (2024-11-26 14:46:38 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/50451_tests-b8e1f058-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50506?repo=metabase/metabase&commitHash=b8e1f058f4558e9674f6044d90a210c3eeb32bbd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50506?repo=metabase/metabase&commitHash=b8e1f058f4558e9674f6044d90a210c3eeb32bbd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50506?repo=metabase/metabase&commitHash=b8e1f058f4558e9674f6044d90a210c3eeb32bbd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50506?repo=metabase/metabase&commitHash=b8e1f058f4558e9674f6044d90a210c3eeb32bbd&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding-sdk > styles modals and tooltips mantine modals should render with our styles</code> | Unable to find an element with the text ""Add a function or metric"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50506?repo=metabase/metabase&commitHash=b8e1f058f4558e9674f6044d90a210c3eeb32bbd&utm_source=gh-comment&runConclusion=FAILURE&runId=6da6fa39-989b-5d4a-8ab0-4a5180c63322) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50506?repo=metabase/metabase&commitHash=b8e1f058f4558e9674f6044d90a210c3eeb32bbd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2694506325,pull_request,closed,,Update links for SDK npm so they actually point to the npm page,metaba.se/sdk is now pointing to the docs.,albertoperdomo,2024-11-26 12:31:17+00:00,['albertoperdomo'],2024-12-05 18:22:58+00:00,2024-11-26 15:02:06+00:00,https://github.com/metabase/metabase/pull/50499,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2505540093, 'issue_id': 2694506325, 'author': 'github-actions[bot]', 'body': '🚀 This should also be released by [v0.52](https://github.com/metabase/metabase/milestone/283)', 'created_at': datetime.datetime(2024, 11, 28, 8, 36, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2521111382, 'issue_id': 2694506325, 'author': 'jeff-bruemmer', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 12, 5, 18, 21, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2521113366, 'issue_id': 2694506325, 'author': 'github-actions[bot]', 'body': '@jeff-bruemmer something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12185734321)', 'created_at': datetime.datetime(2024, 12, 5, 18, 22, 56, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-28 08:36:05 UTC): 🚀 This should also be released by [v0.52](https://github.com/metabase/metabase/milestone/283)

jeff-bruemmer on (2024-12-05 18:21:53 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-12-05 18:22:56 UTC): @jeff-bruemmer something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12185734321)

"
2694414897,pull_request,closed,,move view footer control state to redux,"refactor state handling in view footer control - rely on global state instead of multiple useEffect

❌ two failing tests are expected

### how to verify
- try using back button in the browser
- try switching between notebook editor and visualization
- try reloading the page at any state
- try to convert question to sql

### demo




https://github.com/user-attachments/assets/35980d8e-bfb8-460a-9722-5b2e7cc52b91


",uladzimirdev,2024-11-26 11:57:54+00:00,['uladzimirdev'],2024-11-27 17:51:40+00:00,2024-11-27 17:51:38+00:00,https://github.com/metabase/metabase/pull/50498,"[('.Team/Querying', '')]","[{'comment_id': 2500701475, 'issue_id': 2694414897, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13079_tests-9d6e86eb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50498?repo=metabase/metabase&commitHash=9d6e86eb615feb0bf3f1327110b56dc091b7bdf4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50498?repo=metabase/metabase&commitHash=9d6e86eb615feb0bf3f1327110b56dc091b7bdf4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50498?repo=metabase/metabase&commitHash=9d6e86eb615feb0bf3f1327110b56dc091b7bdf4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50498?repo=metabase/metabase&commitHash=9d6e86eb615feb0bf3f1327110b56dc091b7bdf4&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding-sdk > create-question can create a question via the CreateQuestion component</code> | The test timed out while trying to find a label with the text ""Switch to visualization"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50498?repo=metabase/metabase&commitHash=9d6e86eb615feb0bf3f1327110b56dc091b7bdf4&utm_source=gh-comment&runConclusion=FAILURE&runId=6c4a1f71-2003-5340-85cc-ee98de0c257f) |\n| <code>scenarios > question > multiple column breakouts current stage viz settings should be able to change formatting settings for breakouts of the same...</code> | The expected popover element was not found within 4000ms, causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50498?repo=metabase/metabase&commitHash=9d6e86eb615feb0bf3f1327110b56dc091b7bdf4&utm_source=gh-comment&runConclusion=FAILURE&runId=d0faaf00-db9f-5037-84f6-a5fed4efffee) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50498?repo=metabase/metabase&commitHash=9d6e86eb615feb0bf3f1327110b56dc091b7bdf4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 26, 12, 42, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2502650541, 'issue_id': 2694414897, 'author': 'romeovs', 'body': ""Not sure if any of this is intended behavior but I'm noticing some unexpected things when using the back button or refreshing.\r\n\r\n1. The state of the footer control does not change to vizualisation when clicking the back button.\r\n  \r\nhttps://github.com/user-attachments/assets/a6e32687-6ab4-4c26-b9ba-a68ecbff0dc2\r\n\r\n2. The current tab gets lost when refreshing:\r\n\r\nhttps://github.com/user-attachments/assets/49e4b447-8d79-4971-b1ce-60838425a904\r\n\r\n3. (a but of a pedantic one) in some cases the visualization gets lost on refresh\r\n\r\nhttps://github.com/user-attachments/assets/5dd7615e-6811-4859-8cce-c3ab5092f725"", 'created_at': datetime.datetime(2024, 11, 27, 3, 46, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2503139125, 'issue_id': 2694414897, 'author': 'uladzimirdev', 'body': ""nice catch @romeovs, indeed first click on back button doesn't work"", 'created_at': datetime.datetime(2024, 11, 27, 7, 48, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2503226236, 'issue_id': 2694414897, 'author': 'uladzimirdev', 'body': '@romeovs I addressed comment 1. as for comment 2, I think you uploaded the same video, but I got the idea: if you choose ""results"" and refresh the page, ""visualization"" will be selected - it\'s fine as for me and it follows current logic.\r\n\r\nas for 3, it\'s out of current scope', 'created_at': datetime.datetime(2024, 11, 27, 8, 26, 13, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-26 12:42:50 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13079_tests-9d6e86eb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50498?repo=metabase/metabase&commitHash=9d6e86eb615feb0bf3f1327110b56dc091b7bdf4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50498?repo=metabase/metabase&commitHash=9d6e86eb615feb0bf3f1327110b56dc091b7bdf4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50498?repo=metabase/metabase&commitHash=9d6e86eb615feb0bf3f1327110b56dc091b7bdf4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50498?repo=metabase/metabase&commitHash=9d6e86eb615feb0bf3f1327110b56dc091b7bdf4&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding-sdk > create-question can create a question via the CreateQuestion component</code> | The test timed out while trying to find a label with the text ""Switch to visualization"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50498?repo=metabase/metabase&commitHash=9d6e86eb615feb0bf3f1327110b56dc091b7bdf4&utm_source=gh-comment&runConclusion=FAILURE&runId=6c4a1f71-2003-5340-85cc-ee98de0c257f) |
| <code>scenarios > question > multiple column breakouts current stage viz settings should be able to change formatting settings for breakouts of the same...</code> | The expected popover element was not found within 4000ms, causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50498?repo=metabase/metabase&commitHash=9d6e86eb615feb0bf3f1327110b56dc091b7bdf4&utm_source=gh-comment&runConclusion=FAILURE&runId=d0faaf00-db9f-5037-84f6-a5fed4efffee) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50498?repo=metabase/metabase&commitHash=9d6e86eb615feb0bf3f1327110b56dc091b7bdf4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

romeovs on (2024-11-27 03:46:50 UTC): Not sure if any of this is intended behavior but I'm noticing some unexpected things when using the back button or refreshing.

1. The state of the footer control does not change to vizualisation when clicking the back button.
  
https://github.com/user-attachments/assets/a6e32687-6ab4-4c26-b9ba-a68ecbff0dc2

2. The current tab gets lost when refreshing:

https://github.com/user-attachments/assets/49e4b447-8d79-4971-b1ce-60838425a904

3. (a but of a pedantic one) in some cases the visualization gets lost on refresh

https://github.com/user-attachments/assets/5dd7615e-6811-4859-8cce-c3ab5092f725

uladzimirdev (Issue Creator) on (2024-11-27 07:48:18 UTC): nice catch @romeovs, indeed first click on back button doesn't work

uladzimirdev (Issue Creator) on (2024-11-27 08:26:13 UTC): @romeovs I addressed comment 1. as for comment 2, I think you uploaded the same video, but I got the idea: if you choose ""results"" and refresh the page, ""visualization"" will be selected - it's fine as for me and it follows current logic.

as for 3, it's out of current scope

"
2694212657,pull_request,closed,,ci(sdk): remove unreliable loading indicator e2e for create question,"Removes the loading indicator checks as it is unreliable in a CI environment, even with setThrottle. This is blocking CI for release. I'll replace this with a more reliable unit test.

PS. I'll create a separate PR targeting `master`, but this is to unblock the CI first.",heypoom,2024-11-26 10:55:24+00:00,['heypoom'],2024-11-26 12:29:58+00:00,2024-11-26 12:29:32+00:00,https://github.com/metabase/metabase/pull/50497,"[('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]",[],
2693977934,pull_request,closed,,Add stage-number parameter to NativeParameterDimensionTarget,"Fixes #50467


### How to verify

1. New > SQL query
1. `select * from orders where {{id}}` 
1. Map `id` variable as Field Filter -> Orders > ID
1. Save and add to dashboard
1. Add new ID dashboard filter and connect it to the card
1. Save dashboard
1. Refresh the page
1. Set the ID filter to 5
1. Check: only the order with ID 5 should be displayed (if other or no records are displayed, then the bug has not been fixed)
1. Edit dashboard
1. Edit mapping
1. Check: the ID column should be connected (if it says ""Unknown field"" instead, then the bug has not been fixed)

",kamilmielnik,2024-11-26 09:53:09+00:00,"['kamilmielnik', 'metamben']",2024-11-26 17:39:41+00:00,2024-11-26 16:48:21+00:00,https://github.com/metabase/metabase/pull/50494,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2500266104, 'issue_id': 2693977934, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/18_tests-14a6c5a3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50494?repo=metabase/metabase&commitHash=14a6c5a3d5bd08d7e91e9bd31fa739429f4e9a77&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50494?repo=metabase/metabase&commitHash=14a6c5a3d5bd08d7e91e9bd31fa739429f4e9a77&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50494?repo=metabase/metabase&commitHash=14a6c5a3d5bd08d7e91e9bd31fa739429f4e9a77&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50494?repo=metabase/metabase&commitHash=14a6c5a3d5bd08d7e91e9bd31fa739429f4e9a77&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>check-can-connect-before-sync-test</code> | Database sync failed because the database was deleted before sync-and-analyze-database! was called, resulting in a warning being logged. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50494?repo=metabase/metabase&commitHash=14a6c5a3d5bd08d7e91e9bd31fa739429f4e9a77&utm_source=gh-comment&runConclusion=FAILURE&runId=985f2754-3c8e-5037-b8fb-e75d6457f0d0) |\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they don't. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50494?repo=metabase/metabase&commitHash=14a6c5a3d5bd08d7e91e9bd31fa739429f4e9a77&utm_source=gh-comment&runConclusion=FAILURE&runId=ec4d7970-e6d7-5fb3-9b97-e70da1ff4eef) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50494?repo=metabase/metabase&commitHash=14a6c5a3d5bd08d7e91e9bd31fa739429f4e9a77&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 26, 10, 41, 3, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-26 10:41:03 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/18_tests-14a6c5a3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50494?repo=metabase/metabase&commitHash=14a6c5a3d5bd08d7e91e9bd31fa739429f4e9a77&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50494?repo=metabase/metabase&commitHash=14a6c5a3d5bd08d7e91e9bd31fa739429f4e9a77&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50494?repo=metabase/metabase&commitHash=14a6c5a3d5bd08d7e91e9bd31fa739429f4e9a77&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50494?repo=metabase/metabase&commitHash=14a6c5a3d5bd08d7e91e9bd31fa739429f4e9a77&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>check-can-connect-before-sync-test</code> | Database sync failed because the database was deleted before sync-and-analyze-database! was called, resulting in a warning being logged. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50494?repo=metabase/metabase&commitHash=14a6c5a3d5bd08d7e91e9bd31fa739429f4e9a77&utm_source=gh-comment&runConclusion=FAILURE&runId=985f2754-3c8e-5037-b8fb-e75d6457f0d0) |
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they don't. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50494?repo=metabase/metabase&commitHash=14a6c5a3d5bd08d7e91e9bd31fa739429f4e9a77&utm_source=gh-comment&runConclusion=FAILURE&runId=ec4d7970-e6d7-5fb3-9b97-e70da1ff4eef) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50494?repo=metabase/metabase&commitHash=14a6c5a3d5bd08d7e91e9bd31fa739429f4e9a77&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2693812089,pull_request,closed,,Enable Search Index tests in CI,"Duplicate https://github.com/metabase/metabase/pull/50386, as I can't get it to run CI",crisptrutski,2024-11-26 09:04:56+00:00,[],2024-11-26 11:23:59+00:00,2024-11-26 11:23:59+00:00,https://github.com/metabase/metabase/pull/50488,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2500379976, 'issue_id': 2693812089, 'author': 'crisptrutski', 'body': ""This didn't work either."", 'created_at': datetime.datetime(2024, 11, 26, 11, 23, 59, tzinfo=datetime.timezone.utc)}]","crisptrutski (Issue Creator) on (2024-11-26 11:23:59 UTC): This didn't work either.

"
2693459442,pull_request,closed,,Use CodeMirror 6,"Closes https://github.com/metabase/metabase/issues/51090

This PR adds an native editor that uses CodeMirror 6 instead of ACE.
This is very much a work in progress, but feedback is welcome!

A couple of things to note:
- the completions work feel snappier due to the reduced need for debouncing. CodeMirror can reuse the results when the user types, so less calls to the backend are made. This also solves https://github.com/metabase/metabase/issues/48712
- the syntax highlighting is more exact
- the optional block syntax `[[` `]]` is now being highlighted too

It refactors and fixes some code issues:
- Removes the reliance `metabase/services`
- Makes each completer it's own thing with it's own data dependencies, instead of mixing them all in

This PR also resolves the following issues:
- https://github.com/metabase/metabase/issues/48712
- https://github.com/metabase/metabase/issues/4587


You can play around with the SQL editor in the preview environment [here](https://pr50484.coredev.metabase.com).

### Follow ups
I will follow up with a PR that moves the native editor helpers to their own namespace, but that's a lot of unrelated changes that I did not want to burden this PR with.",romeovs,2024-11-26 07:06:04+00:00,['romeovs'],2024-12-18 03:34:01+00:00,2024-12-18 03:18:32+00:00,https://github.com/metabase/metabase/pull/50484,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', ''), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2499821623, 'issue_id': 2693459442, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@romeovs You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2024, 11, 26, 7, 6, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2499884837, 'issue_id': 2693459442, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51190_tests-b86f5f29-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50484?repo=metabase/metabase&commitHash=b86f5f29e55827c62ef9fad170f364778855c638&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50484?repo=metabase/metabase&commitHash=b86f5f29e55827c62ef9fad170f364778855c638&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50484?repo=metabase/metabase&commitHash=b86f5f29e55827c62ef9fad170f364778855c638&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50484?repo=metabase/metabase&commitHash=b86f5f29e55827c62ef9fad170f364778855c638&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > filters > sql filters > values source ""before each"" hook for ""should sandbox parameter values in questions""</code> | The request to set premium embedding token timed out after 30 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50484?repo=metabase/metabase&commitHash=b86f5f29e55827c62ef9fad170f364778855c638&utm_source=gh-comment&runConclusion=FAILURE&runId=69f29b1b-dd7f-5257-ac06-c1c260df3063) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50484?repo=metabase/metabase&commitHash=b86f5f29e55827c62ef9fad170f364778855c638&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 26, 7, 39, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2541458084, 'issue_id': 2693459442, 'author': 'kamilmielnik', 'body': '@romeovs please have a look at this question: https://github.com/metabase/metabase/pull/50484#pullrequestreview-2495796899', 'created_at': datetime.datetime(2024, 12, 13, 13, 23, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2547523655, 'issue_id': 2693459442, 'author': 'romeovs', 'body': '@kamilmielnik I\'ve updated the line-height and reduced the debounce timeout for the initial completions to show up. Please have another look.\r\n\r\nNote: I\'ve played around with showing ""syntax"" completions after 0ms but then we have to balance that with other considerations:\r\n- We don\'t want to show results for different completions sources at different times too often since that\'s disorienting. So we probably don\'t want different debounce rules per completion source.\r\n- We don\'t want to trigger completions on single characters too often since they might be expensive for bigger installations, so it\'s probably best to at least have _some_ debounce on the completions. Having said that, CodeMirror triggers _a lot_ requests to the backend since we can tell it how to reuse a completion, so this is less of an issue.', 'created_at': datetime.datetime(2024, 12, 17, 5, 13, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2549867898, 'issue_id': 2693459442, 'author': 'romeovs', 'body': ""@kamilmielnik I've added the same folding strategy (using pairs of parens) and updated the font rendering to be exactly the same."", 'created_at': datetime.datetime(2024, 12, 17, 23, 21, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2549898738, 'issue_id': 2693459442, 'author': 'github-actions[bot]', 'body': '👋 Deploying a preview environment for commit b86f5f29e55827c62ef9fad170f364778855c638.\n✅ Preview:\n    https://pr50484.coredev.metabase.com\n🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2024, 12, 17, 23, 35, 49, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-26 07:06:27 UTC): <!---conventional commit reminder comment ID-->
@romeovs You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

trunk-io[bot] on (2024-11-26 07:39:46 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51190_tests-b86f5f29-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50484?repo=metabase/metabase&commitHash=b86f5f29e55827c62ef9fad170f364778855c638&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50484?repo=metabase/metabase&commitHash=b86f5f29e55827c62ef9fad170f364778855c638&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50484?repo=metabase/metabase&commitHash=b86f5f29e55827c62ef9fad170f364778855c638&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50484?repo=metabase/metabase&commitHash=b86f5f29e55827c62ef9fad170f364778855c638&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > filters > sql filters > values source ""before each"" hook for ""should sandbox parameter values in questions""</code> | The request to set premium embedding token timed out after 30 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50484?repo=metabase/metabase&commitHash=b86f5f29e55827c62ef9fad170f364778855c638&utm_source=gh-comment&runConclusion=FAILURE&runId=69f29b1b-dd7f-5257-ac06-c1c260df3063) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50484?repo=metabase/metabase&commitHash=b86f5f29e55827c62ef9fad170f364778855c638&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

kamilmielnik on (2024-12-13 13:23:58 UTC): @romeovs please have a look at this question: https://github.com/metabase/metabase/pull/50484#pullrequestreview-2495796899

romeovs (Issue Creator) on (2024-12-17 05:13:01 UTC): @kamilmielnik I've updated the line-height and reduced the debounce timeout for the initial completions to show up. Please have another look.

Note: I've played around with showing ""syntax"" completions after 0ms but then we have to balance that with other considerations:
- We don't want to show results for different completions sources at different times too often since that's disorienting. So we probably don't want different debounce rules per completion source.
- We don't want to trigger completions on single characters too often since they might be expensive for bigger installations, so it's probably best to at least have _some_ debounce on the completions. Having said that, CodeMirror triggers _a lot_ requests to the backend since we can tell it how to reuse a completion, so this is less of an issue.

romeovs (Issue Creator) on (2024-12-17 23:21:32 UTC): @kamilmielnik I've added the same folding strategy (using pairs of parens) and updated the font rendering to be exactly the same.

github-actions[bot] on (2024-12-17 23:35:49 UTC): 👋 Deploying a preview environment for commit b86f5f29e55827c62ef9fad170f364778855c638.
✅ Preview:
    https://pr50484.coredev.metabase.com
🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

"
2693309616,pull_request,closed,,docs(sdk): Manually update changelog for release 51,"> [!note]
> I reopen #50448, as it seems the original branch name got restricted in some kind of branch protection configurations.

[Slack discussion](https://metaboat.slack.com/archives/C063Q3F1HPF/p1732286276909939?thread_ts=1731680130.243949&cid=C063Q3F1HPF)

### Description

After we've redeployed version 0 for 1.51.x, we should fix the changelog accordingly to prevent confusion.

### How to verify
1. The diff for each version should look the same
2. The new chaneglog shouldn't contain any reference to v1.51.x

",WiNloSt,2024-11-26 06:11:57+00:00,['WiNloSt'],2024-11-26 07:31:32+00:00,2024-11-26 07:31:04+00:00,https://github.com/metabase/metabase/pull/50483,"[('.Team/Embedding', '')]",[],
2692765274,pull_request,closed,,"Fix custom expressions with multiple arguments - contains, does-not-contain, starts-with, ends-with","Fixes https://github.com/metabase/metabase/issues/49304

How to verify:
- New -> Question -> Products -> Filter -> Custom expression. Try:
- `contains([Ean], ""A"", ""B"")`
- `contains([Ean], ""A"", ""B"", ""C"")`
- `contains([Ean], ""A"", ""B"", ""case-insensitive"")`
- `contains([Ean], ""A"", ""B"", ""C"", ""case-insensitive"")`
- These clauses should be picked by the widget; try changing them both via the widget and the expression editor and see if options are picked up correctly.",ranquild,2024-11-26 01:37:48+00:00,['ranquild'],2024-11-29 20:30:56+00:00,2024-11-29 20:30:53+00:00,https://github.com/metabase/metabase/pull/50480,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2499539382, 'issue_id': 2692765274, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/19_tests-6b9a851f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=6b9a851f64b524a80df3dfb7ccd8605129fac513&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=6b9a851f64b524a80df3dfb7ccd8605129fac513&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=6b9a851f64b524a80df3dfb7ccd8605129fac513&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=6b9a851f64b524a80df3dfb7ccd8605129fac513&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native can save a question with no rows</code> | The test timed out waiting for the expected content 'No results!' to appear. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=6b9a851f64b524a80df3dfb7ccd8605129fac513&utm_source=gh-comment&runConclusion=FAILURE&runId=b5f7923b-e7be-5170-8472-92aacde13da3) |\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 34330 should only call the autocompleter with all text typed (metabase\\#34330)</code> | The expected value 'USER\\_' did not match the actual value 'ER\\_'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=6b9a851f64b524a80df3dfb7ccd8605129fac513&utm_source=gh-comment&runConclusion=FAILURE&runId=c3699a36-aba5-5669-b3e8-d56f735c7705) |\n| <code>issue 34330 should only call the autocompleter with all text typed (metabase\\#34330)</code> | The expected value 'USER\\_' did not match the actual value 'ER\\_'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=6b9a851f64b524a80df3dfb7ccd8605129fac513&utm_source=gh-comment&runConclusion=FAILURE&runId=0a4aeb58-dbd7-52d0-b942-f16289979695) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=6b9a851f64b524a80df3dfb7ccd8605129fac513&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 26, 2, 50, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2499539386, 'issue_id': 2692765274, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/50494_tests-ebc9582c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/13-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment&runConclusion=FAILURE&runId=8ecc89e9-547b-50d5-bc3b-fefa9971958f) |\n| <code>scenarios > question > offset aggregations works in a complex real-life scenario</code> | Cypress timed out retrying to clear an element because the page updated while the command was executing. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment&runConclusion=FAILURE&runId=1dd8b8b0-6818-5e30-b807-e6021dfe3548) |\n| <code>issue 49882 does not clear expression input when expression is invalid (metabase\\#49882-2)</code> | Expected value in a textarea did not match the expected value, likely due to an incorrect calculation. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment&runConclusion=FAILURE&runId=6acdfb57-c618-504c-a4cc-deb9d9733d58) |\n| <code>issue 27745 (mysql) should display all summarize options if the only numeric field is a custom column (metabase\\#27745)</code> | The expected value \'55\' was not equal to the actual value \'50\' after a 4-second timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment&runConclusion=FAILURE&runId=ad41bd66-1c65-5429-8fdc-2604eb872e1c) |\n\n[... and 9 more](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 26, 2, 50, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2499539387, 'issue_id': 2692765274, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/50494_tests-ebc9582c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/13-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment&runConclusion=FAILURE&runId=8ecc89e9-547b-50d5-bc3b-fefa9971958f) |\n| <code>scenarios > question > offset aggregations works in a complex real-life scenario</code> | Cypress timed out retrying to clear an element because the page updated while the command was executing. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment&runConclusion=FAILURE&runId=1dd8b8b0-6818-5e30-b807-e6021dfe3548) |\n| <code>issue 49882 does not clear expression input when expression is invalid (metabase\\#49882-2)</code> | Expected value in a textarea did not match the expected value, likely due to an incorrect calculation. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment&runConclusion=FAILURE&runId=6acdfb57-c618-504c-a4cc-deb9d9733d58) |\n| <code>issue 27745 (mysql) should display all summarize options if the only numeric field is a custom column (metabase\\#27745)</code> | The expected value \'55\' was not equal to the actual value \'50\' after a 4-second timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment&runConclusion=FAILURE&runId=ad41bd66-1c65-5429-8fdc-2604eb872e1c) |\n\n[... and 9 more](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 26, 2, 50, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2508586585, 'issue_id': 2692765274, 'author': 'uladzimirdev', 'body': 'I tested locally, works fine', 'created_at': datetime.datetime(2024, 11, 29, 20, 18, 9, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-26 02:50:09 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/19_tests-6b9a851f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=6b9a851f64b524a80df3dfb7ccd8605129fac513&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=6b9a851f64b524a80df3dfb7ccd8605129fac513&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=6b9a851f64b524a80df3dfb7ccd8605129fac513&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=6b9a851f64b524a80df3dfb7ccd8605129fac513&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native can save a question with no rows</code> | The test timed out waiting for the expected content 'No results!' to appear. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=6b9a851f64b524a80df3dfb7ccd8605129fac513&utm_source=gh-comment&runConclusion=FAILURE&runId=b5f7923b-e7be-5170-8472-92aacde13da3) |
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 34330 should only call the autocompleter with all text typed (metabase\#34330)</code> | The expected value 'USER\_' did not match the actual value 'ER\_'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=6b9a851f64b524a80df3dfb7ccd8605129fac513&utm_source=gh-comment&runConclusion=FAILURE&runId=c3699a36-aba5-5669-b3e8-d56f735c7705) |
| <code>issue 34330 should only call the autocompleter with all text typed (metabase\#34330)</code> | The expected value 'USER\_' did not match the actual value 'ER\_'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=6b9a851f64b524a80df3dfb7ccd8605129fac513&utm_source=gh-comment&runConclusion=FAILURE&runId=0a4aeb58-dbd7-52d0-b942-f16289979695) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=6b9a851f64b524a80df3dfb7ccd8605129fac513&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-26 02:50:10 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/50494_tests-ebc9582c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/13-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment&runConclusion=FAILURE&runId=8ecc89e9-547b-50d5-bc3b-fefa9971958f) |
| <code>scenarios > question > offset aggregations works in a complex real-life scenario</code> | Cypress timed out retrying to clear an element because the page updated while the command was executing. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment&runConclusion=FAILURE&runId=1dd8b8b0-6818-5e30-b807-e6021dfe3548) |
| <code>issue 49882 does not clear expression input when expression is invalid (metabase\#49882-2)</code> | Expected value in a textarea did not match the expected value, likely due to an incorrect calculation. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment&runConclusion=FAILURE&runId=6acdfb57-c618-504c-a4cc-deb9d9733d58) |
| <code>issue 27745 (mysql) should display all summarize options if the only numeric field is a custom column (metabase\#27745)</code> | The expected value '55' was not equal to the actual value '50' after a 4-second timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment&runConclusion=FAILURE&runId=ad41bd66-1c65-5429-8fdc-2604eb872e1c) |

[... and 9 more](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-26 02:50:10 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/50494_tests-ebc9582c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/13-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment&runConclusion=FAILURE&runId=8ecc89e9-547b-50d5-bc3b-fefa9971958f) |
| <code>scenarios > question > offset aggregations works in a complex real-life scenario</code> | Cypress timed out retrying to clear an element because the page updated while the command was executing. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment&runConclusion=FAILURE&runId=1dd8b8b0-6818-5e30-b807-e6021dfe3548) |
| <code>issue 49882 does not clear expression input when expression is invalid (metabase\#49882-2)</code> | Expected value in a textarea did not match the expected value, likely due to an incorrect calculation. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment&runConclusion=FAILURE&runId=6acdfb57-c618-504c-a4cc-deb9d9733d58) |
| <code>issue 27745 (mysql) should display all summarize options if the only numeric field is a custom column (metabase\#27745)</code> | The expected value '55' was not equal to the actual value '50' after a 4-second timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment&runConclusion=FAILURE&runId=ad41bd66-1c65-5429-8fdc-2604eb872e1c) |

[... and 9 more](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50480?repo=metabase/metabase&commitHash=ebc9582c840466a38780a3772ca3e109fefc4512&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

uladzimirdev on (2024-11-29 20:18:09 UTC): I tested locally, works fine

"
2692694608,pull_request,closed,,"🤖 backported ""Fix pivot collapsed rows with legacy viz settings""",#50410,github-automation-metabase,2024-11-26 00:32:30+00:00,"['ranquild', 'github-automation-metabase']",2024-11-26 01:29:59+00:00,2024-11-26 01:29:58+00:00,https://github.com/metabase/metabase/pull/50479,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2499314459, 'issue_id': 2692694608, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 89ba06029d7ee1f2a111d69566aef99956cd70f2...8a295dabcf0019b9278477584a8a260c406bf918.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/visualizations/PivotTable/settings.ts |', 'created_at': datetime.datetime(2024, 11, 26, 0, 33, 58, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-26 00:33:58 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 89ba06029d7ee1f2a111d69566aef99956cd70f2...8a295dabcf0019b9278477584a8a260c406bf918.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/visualizations/PivotTable/settings.ts |

"
2692411982,pull_request,closed,,"🤖 backported ""Replace postcss-nesting with postcss-nested""",#50437,github-automation-metabase,2024-11-25 22:12:53+00:00,"['romeovs', 'github-automation-metabase']",2024-11-25 23:31:47+00:00,2024-11-25 22:57:29+00:00,https://github.com/metabase/metabase/pull/50478,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2499195465, 'issue_id': 2692411982, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13172_tests-6363194c-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding-sdk > create-question can create a question via the CreateQuestion component</code> | The test timed out while trying to find an element with data-testid ""loading-indicator"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50478?repo=metabase/metabase&commitHash=6363194ccb654ac62024d3149e0d13d30cdcf976&utm_source=gh-comment&runConclusion=FAILURE&runId=89a95222-806a-5c6b-8d61-82314e539a53) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50478?repo=metabase/metabase&commitHash=6363194ccb654ac62024d3149e0d13d30cdcf976&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 25, 22, 50, 56, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-25 22:50:56 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13172_tests-6363194c-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding-sdk > create-question can create a question via the CreateQuestion component</code> | The test timed out while trying to find an element with data-testid ""loading-indicator"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50478?repo=metabase/metabase&commitHash=6363194ccb654ac62024d3149e0d13d30cdcf976&utm_source=gh-comment&runConclusion=FAILURE&runId=89a95222-806a-5c6b-8d61-82314e539a53) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50478?repo=metabase/metabase&commitHash=6363194ccb654ac62024d3149e0d13d30cdcf976&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2692331188,pull_request,closed,,remove pivot-grouping row and columns in tandem,"When downloading a question visualized as a pivot table as an excel file, the download would break and any custom multiplier scaling was not being applied.

This fixes both issues by not trying to scale excel column headers, and properly removing the pivot-grouping key from rows and ordered columns.",escherize,2024-11-25 21:33:00+00:00,['escherize'],2024-11-27 00:08:44+00:00,2024-11-26 19:32:25+00:00,https://github.com/metabase/metabase/pull/50476,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2499154634, 'issue_id': 2692331188, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/21537_tests-e493c2b0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50476?repo=metabase/metabase&commitHash=e493c2b0fe40028065e30d26be05012df9932ab3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50476?repo=metabase/metabase&commitHash=e493c2b0fe40028065e30d26be05012df9932ab3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50476?repo=metabase/metabase&commitHash=e493c2b0fe40028065e30d26be05012df9932ab3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50476?repo=metabase/metabase&commitHash=e493c2b0fe40028065e30d26be05012df9932ab3&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50476?repo=metabase/metabase&commitHash=e493c2b0fe40028065e30d26be05012df9932ab3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 25, 22, 20, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2501880716, 'issue_id': 2692331188, 'author': 'escherize', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 11, 26, 20, 36, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2502263091, 'issue_id': 2692331188, 'author': 'github-actions[bot]', 'body': '🚀 This should also be released by [v0.52](https://github.com/metabase/metabase/milestone/283)', 'created_at': datetime.datetime(2024, 11, 27, 0, 8, 43, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-25 22:20:38 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/21537_tests-e493c2b0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50476?repo=metabase/metabase&commitHash=e493c2b0fe40028065e30d26be05012df9932ab3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50476?repo=metabase/metabase&commitHash=e493c2b0fe40028065e30d26be05012df9932ab3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50476?repo=metabase/metabase&commitHash=e493c2b0fe40028065e30d26be05012df9932ab3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50476?repo=metabase/metabase&commitHash=e493c2b0fe40028065e30d26be05012df9932ab3&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50476?repo=metabase/metabase&commitHash=e493c2b0fe40028065e30d26be05012df9932ab3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

escherize (Issue Creator) on (2024-11-26 20:36:03 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-11-27 00:08:43 UTC): 🚀 This should also be released by [v0.52](https://github.com/metabase/metabase/milestone/283)

"
2692224469,pull_request,closed,,Implement ISO day of week extraction,"Fixes #50424

### Description

Support `""iso""` parameter in `get-day-of-week` expressions.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",metamben,2024-11-25 20:59:10+00:00,['metamben'],2024-11-27 13:18:52+00:00,2024-11-27 13:18:50+00:00,https://github.com/metabase/metabase/pull/50475,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2499110458, 'issue_id': 2692224469, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/16_tests-226a3dd6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50475?repo=metabase/metabase&commitHash=226a3dd6fe23dec292e15c8555f1f3335ee0a487&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50475?repo=metabase/metabase&commitHash=226a3dd6fe23dec292e15c8555f1f3335ee0a487&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50475?repo=metabase/metabase&commitHash=226a3dd6fe23dec292e15c8555f1f3335ee0a487&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50475?repo=metabase/metabase&commitHash=226a3dd6fe23dec292e15c8555f1f3335ee0a487&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50475?repo=metabase/metabase&commitHash=226a3dd6fe23dec292e15c8555f1f3335ee0a487&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 25, 21, 51, 57, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-25 21:51:57 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/16_tests-226a3dd6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50475?repo=metabase/metabase&commitHash=226a3dd6fe23dec292e15c8555f1f3335ee0a487&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50475?repo=metabase/metabase&commitHash=226a3dd6fe23dec292e15c8555f1f3335ee0a487&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50475?repo=metabase/metabase&commitHash=226a3dd6fe23dec292e15c8555f1f3335ee0a487&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50475?repo=metabase/metabase&commitHash=226a3dd6fe23dec292e15c8555f1f3335ee0a487&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50475?repo=metabase/metabase&commitHash=226a3dd6fe23dec292e15c8555f1f3335ee0a487&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2692115082,pull_request,closed,,WIP: allow underlying_records drill thru on questions with filter after aggregation,"Fixes #46932

### Description

WIP

Modify the column's `source` property to reflect the original source of the ""top-level"" column before passing the data into `getTableCellClickedObject`. `getTableCellClickedObject` will inspect the column source to determine whether to add dimensions to the returned click object.

This gets the underyling_records drill thru working for TableInteractive visualizations (TableSimple TBD) in cases where the ""top-level"" source of the column is from an aggregation, but additional stages have since been added after the aggregations, so that the column's source is no longer `""aggregation""`.

Alternatively we could

- Fix it in the BE by instead adding some new key to the column metadata like `:lib/original-source` or some such, in which case we modify `getTableCellClickedObject` in `table.js` to check both `col.source` and `col.original_source` to see if either is `=== ""aggregation""`.
- Port all consumers of click objects returned by `getTableCellClickedObject` to handle MLv2 `ColumnMetadata` columns rather than `DatasetColumn`s and then replace the full column with the corresponding top-level column, rather than just modifying the source. (unclear how big of a change this would be)

Remaining TODOs, assuming we move forward with this approach

- [ ] Port to TableSimple.jsx, probably by moving implementation up out of TableInteractive.jsx and into Table.jsx
- [ ] Add tests

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> Orders
2. Summarize Count, by: Created At: Month
3. Add filter on aggregated column, e.g. Count > 1
4. Visualize
5. Click on a cell value for the Count column and select ""See these Orders"" from the context menu

### Demo

_Upload a demo video or before/after screenshots if sensible or remove the section_

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",appleby,2024-11-25 20:27:56+00:00,['appleby'],2024-11-25 22:34:13+00:00,2024-11-25 22:34:13+00:00,https://github.com/metabase/metabase/pull/50474,"[('.Team/Querying', '')]",[],
2692014103,pull_request,closed,,docs - add expressions to list,"Updates to list of expressions.

- `dayName`
- `monthName`
- `quarterName`
- `host`
- `domain`
- `subdomain`
- clarifies `between`.",jeff-bruemmer,2024-11-25 19:38:52+00:00,['jeff-bruemmer'],2024-11-27 03:20:59+00:00,2024-11-26 20:52:41+00:00,https://github.com/metabase/metabase/pull/50473,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2501914921, 'issue_id': 2692014103, 'author': 'jeff-bruemmer', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 11, 26, 20, 53, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2502618934, 'issue_id': 2692014103, 'author': 'github-actions[bot]', 'body': '🚀 This should also be released by [v0.52](https://github.com/metabase/metabase/milestone/283)', 'created_at': datetime.datetime(2024, 11, 27, 3, 20, 58, tzinfo=datetime.timezone.utc)}]","jeff-bruemmer (Issue Creator) on (2024-11-26 20:53:47 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-11-27 03:20:58 UTC): 🚀 This should also be released by [v0.52](https://github.com/metabase/metabase/milestone/283)

"
2692013881,pull_request,closed,,"🤖 backported ""fix(sdk): show loader right after visualizing in notebook editor for the first time""",#50411,github-automation-metabase,2024-11-25 19:38:46+00:00,"['heypoom', 'github-automation-metabase']",2024-11-25 21:10:10+00:00,2024-11-25 20:20:56+00:00,https://github.com/metabase/metabase/pull/50472,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2498947828, 'issue_id': 2692013881, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13170_tests-315fa734-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding-sdk > create-question can create a question via the CreateQuestion component</code> | The test timed out while trying to find an element with data-testid ""loading-indicator"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50472?repo=metabase/metabase&commitHash=315fa734d710c5248a8dad2822d9317551cc88cd&utm_source=gh-comment&runConclusion=FAILURE&runId=f283c612-bdba-59ae-bea2-9b5604c5165f) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50472?repo=metabase/metabase&commitHash=315fa734d710c5248a8dad2822d9317551cc88cd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 25, 20, 16, 51, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-25 20:16:51 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13170_tests-315fa734-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding-sdk > create-question can create a question via the CreateQuestion component</code> | The test timed out while trying to find an element with data-testid ""loading-indicator"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50472?repo=metabase/metabase&commitHash=315fa734d710c5248a8dad2822d9317551cc88cd&utm_source=gh-comment&runConclusion=FAILURE&runId=f283c612-bdba-59ae-bea2-9b5604c5165f) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50472?repo=metabase/metabase&commitHash=315fa734d710c5248a8dad2822d9317551cc88cd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2692002943,pull_request,closed,,Restructure Search Module,"Laying the ground work for more flavors of appdb, and non-appdb engines as well.",crisptrutski,2024-11-25 19:33:45+00:00,['crisptrutski'],2024-11-26 19:16:22+00:00,2024-11-26 18:25:22+00:00,https://github.com/metabase/metabase/pull/50471,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2500376805, 'issue_id': 2692002943, 'author': 'crisptrutski', 'body': ""> I think that we could get away with `search.appdb` vs `search.engines.appdb` (and maybe rename `search.engines.api` to `search.engine-api`? or just `search.engine`? idk), but overall this looks nice!\r\n\r\nI agree it feels a bit much, I was a bit torn myself. Java namespaces tend to be quite long, I'm still recovering. Maybe we will want more structure when there are more engines.\r\n\r\n> It seems like implementing other appdbs shouldn't be that hard?!\r\n\r\nSeems like it!"", 'created_at': datetime.datetime(2024, 11, 26, 11, 23, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2501571076, 'issue_id': 2692002943, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/1_test-d9863dba-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50471?repo=metabase/metabase&commitHash=d9863dba6d9b535a717a415298aee70e230e8250&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50471?repo=metabase/metabase&commitHash=d9863dba6d9b535a717a415298aee70e230e8250&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50471?repo=metabase/metabase&commitHash=d9863dba6d9b535a717a415298aee70e230e8250&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50471?repo=metabase/metabase&commitHash=d9863dba6d9b535a717a415298aee70e230e8250&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>ignore-parameters-for-unparameterized-native-query-test</code> | Error executing query due to ConcurrentModificationException. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50471?repo=metabase/metabase&commitHash=d9863dba6d9b535a717a415298aee70e230e8250&utm_source=gh-comment&runConclusion=FAILURE&runId=8817bf98-1d2c-575b-abe5-da2d90148038) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50471?repo=metabase/metabase&commitHash=d9863dba6d9b535a717a415298aee70e230e8250&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 26, 17, 44, 23, tzinfo=datetime.timezone.utc)}]","crisptrutski (Issue Creator) on (2024-11-26 11:23:12 UTC): I agree it feels a bit much, I was a bit torn myself. Java namespaces tend to be quite long, I'm still recovering. Maybe we will want more structure when there are more engines.


Seems like it!

trunk-io[bot] on (2024-11-26 17:44:23 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/1_test-d9863dba-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50471?repo=metabase/metabase&commitHash=d9863dba6d9b535a717a415298aee70e230e8250&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50471?repo=metabase/metabase&commitHash=d9863dba6d9b535a717a415298aee70e230e8250&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50471?repo=metabase/metabase&commitHash=d9863dba6d9b535a717a415298aee70e230e8250&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50471?repo=metabase/metabase&commitHash=d9863dba6d9b535a717a415298aee70e230e8250&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>ignore-parameters-for-unparameterized-native-query-test</code> | Error executing query due to ConcurrentModificationException. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50471?repo=metabase/metabase&commitHash=d9863dba6d9b535a717a415298aee70e230e8250&utm_source=gh-comment&runConclusion=FAILURE&runId=8817bf98-1d2c-575b-abe5-da2d90148038) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50471?repo=metabase/metabase&commitHash=d9863dba6d9b535a717a415298aee70e230e8250&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2691906335,pull_request,closed,,"[dev] Add `dev.portal/diff->`, drop-in `->` that sends diffs to Portal","### Description

Adds `dev.portal/diff->`, a drop-in replacement for `->` that `tap>`s
a diff at each stage. (With the metadata for Portal to default to diff viewer)

I found myself wanting this several times while debugging the refs overhaul.

### How to verify

Try it out at dev time!

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
    - Skipping; this is a dev helper
",bshepherdson,2024-11-25 19:06:45+00:00,['bshepherdson'],2025-01-27 22:14:19+00:00,2024-11-29 17:55:06+00:00,https://github.com/metabase/metabase/pull/50470,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2498820995, 'issue_id': 2691906335, 'author': 'bshepherdson', 'body': '* **#50470** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50470?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50470?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 11, 25, 19, 7, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2498889253, 'issue_id': 2691906335, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/119317_tests-53802612-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50470?repo=metabase/metabase&commitHash=53802612c8f01e94a303d7521e97419b617e760b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50470?repo=metabase/metabase&commitHash=53802612c8f01e94a303d7521e97419b617e760b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50470?repo=metabase/metabase&commitHash=53802612c8f01e94a303d7521e97419b617e760b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50470?repo=metabase/metabase&commitHash=53802612c8f01e94a303d7521e97419b617e760b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>delay-queue-test</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50470?repo=metabase/metabase&commitHash=53802612c8f01e94a303d7521e97419b617e760b&utm_source=gh-comment&runConclusion=FAILURE&runId=4c4e253b-ea2b-51e9-90c2-81bdd445e425) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50470?repo=metabase/metabase&commitHash=53802612c8f01e94a303d7521e97419b617e760b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 25, 19, 44, 3, tzinfo=datetime.timezone.utc)}]","bshepherdson (Issue Creator) on (2024-11-25 19:07:04 UTC): * **#50470** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50470?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50470?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`

<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2024-11-25 19:44:03 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/119317_tests-53802612-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50470?repo=metabase/metabase&commitHash=53802612c8f01e94a303d7521e97419b617e760b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50470?repo=metabase/metabase&commitHash=53802612c8f01e94a303d7521e97419b617e760b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50470?repo=metabase/metabase&commitHash=53802612c8f01e94a303d7521e97419b617e760b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50470?repo=metabase/metabase&commitHash=53802612c8f01e94a303d7521e97419b617e760b&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>delay-queue-test</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50470?repo=metabase/metabase&commitHash=53802612c8f01e94a303d7521e97419b617e760b&utm_source=gh-comment&runConclusion=FAILURE&runId=4c4e253b-ea2b-51e9-90c2-81bdd445e425) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50470?repo=metabase/metabase&commitHash=53802612c8f01e94a303d7521e97419b617e760b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2691889517,pull_request,closed,,Add basic auth on druid JDBC driver,"Closes https://github.com/metabase/metabase/issues/45728

### Description

Add basic auth capabilities to Druid JDBC.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. Databases -> Add Database -> Database type -> Druid JDBC
2. Fill host data
3. Show advanced options -> Enable flag ""Authentication""
4. Fill basic auth credentials

Note: A Druid database with basic authentication enabled is required to perform the full connection test. Ref: [druid-basic-security](https://druid.apache.org/docs/latest/development/extensions-core/druid-basic-security/)

### Demo

- Database properties, basic auth enabled

![image](https://github.com/user-attachments/assets/2516fab0-4e92-41af-9bb8-d6e2eaf8b2e7)

- Database properties, basic auth enabled with data

![image](https://github.com/user-attachments/assets/b17a0cd5-8228-420f-9b96-a21cacf47060)

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",ddowbnac,2024-11-25 18:57:50+00:00,[],2024-12-04 21:08:12+00:00,2024-12-04 21:02:45+00:00,https://github.com/metabase/metabase/pull/50469,[],"[{'comment_id': 2498945686, 'issue_id': 2691889517, 'author': 'ddowbnac', 'body': '@davilavp CC', 'created_at': datetime.datetime(2024, 11, 25, 20, 15, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2513073653, 'issue_id': 2691889517, 'author': 'lbrdnk', 'body': '@ddowbnac, thank you for the contribution. The change looks good! Change to docker file and image used for Druid testing would be required for meaningful automated test, hence we will do that part ourselves. Could you please sign CLA before we move forward with this PR? Instructions can be found [on ""contributing"" page](https://www.metabase.com/docs/latest/developers-guide/contributing).', 'created_at': datetime.datetime(2024, 12, 2, 22, 20, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2515647126, 'issue_id': 2691889517, 'author': 'ddowbnac', 'body': '> @ddowbnac, thank you for the contribution. The change looks good! Change to docker file and image used for Druid testing would be required for meaningful automated test, hence we will do that part ourselves. Could you please sign CLA before we move forward with this PR? Instructions can be found [on ""contributing"" page](https://www.metabase.com/docs/latest/developers-guide/contributing).\r\n\r\nOk.... initially I completed the contribution form but the first commit of the PR has my internal test user.... srry, I think that is why the verification fails, in the other commits I made sure that the user appears as the one from github', 'created_at': datetime.datetime(2024, 12, 3, 22, 6, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2515982864, 'issue_id': 2691889517, 'author': 'paoliniluis', 'body': ""@ddowbnac we would need you to sign the CLA with the user that created the PR, since otherwise we won't be able to proceed due to licensing problems"", 'created_at': datetime.datetime(2024, 12, 4, 1, 46, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2516675088, 'issue_id': 2691889517, 'author': 'lbrdnk', 'body': 'Or you could amend or rebase those commits, changing the author, to ensure all commits are made by the github user that have signed the CLA.', 'created_at': datetime.datetime(2024, 12, 4, 9, 27, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2518554397, 'issue_id': 2691889517, 'author': 'ddowbnac', 'body': 'well, amend works in confusing ways. I close this PR and recreate it in one with the correct commit authors', 'created_at': datetime.datetime(2024, 12, 4, 21, 2, 45, tzinfo=datetime.timezone.utc)}]","ddowbnac (Issue Creator) on (2024-11-25 20:15:35 UTC): @davilavp CC

lbrdnk on (2024-12-02 22:20:17 UTC): @ddowbnac, thank you for the contribution. The change looks good! Change to docker file and image used for Druid testing would be required for meaningful automated test, hence we will do that part ourselves. Could you please sign CLA before we move forward with this PR? Instructions can be found [on ""contributing"" page](https://www.metabase.com/docs/latest/developers-guide/contributing).

ddowbnac (Issue Creator) on (2024-12-03 22:06:09 UTC): Ok.... initially I completed the contribution form but the first commit of the PR has my internal test user.... srry, I think that is why the verification fails, in the other commits I made sure that the user appears as the one from github

paoliniluis on (2024-12-04 01:46:56 UTC): @ddowbnac we would need you to sign the CLA with the user that created the PR, since otherwise we won't be able to proceed due to licensing problems

lbrdnk on (2024-12-04 09:27:43 UTC): Or you could amend or rebase those commits, changing the author, to ensure all commits are made by the github user that have signed the CLA.

ddowbnac (Issue Creator) on (2024-12-04 21:02:45 UTC): well, amend works in confusing ways. I close this PR and recreate it in one with the correct commit authors

"
2691820146,pull_request,closed,,[Databricks] Add catalog validation into `can-connect?` implementation,"Closes https://github.com/metabase/metabase/issues/49444

### Description

This PR adds catalog name validation into `can-connect? :databricks` implementation.

### How to verify

Either run new test or try to add new database connection with catalog name not present on the Databricks instance.

### Checklist

- [X] Tests have been added/updated to cover changes in this PR
",lbrdnk,2024-11-25 18:45:08+00:00,['lbrdnk'],2024-11-27 10:08:20+00:00,2024-11-27 10:06:10+00:00,https://github.com/metabase/metabase/pull/50468,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2498833603, 'issue_id': 2691820146, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/121033_tests-fa3171a3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50468?repo=metabase/metabase&commitHash=fa3171a3d4152b2705c4ee877a6c1decb02232bb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50468?repo=metabase/metabase&commitHash=fa3171a3d4152b2705c4ee877a6c1decb02232bb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50468?repo=metabase/metabase&commitHash=fa3171a3d4152b2705c4ee877a6c1decb02232bb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50468?repo=metabase/metabase&commitHash=fa3171a3d4152b2705c4ee877a6c1decb02232bb&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>xray-dashboards-work-test</code> | A deadlock was detected in the database while executing a query, causing the transaction to fail. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50468?repo=metabase/metabase&commitHash=fa3171a3d4152b2705c4ee877a6c1decb02232bb&utm_source=gh-comment&runConclusion=FAILURE&runId=51c308aa-e27f-592a-8885-ad74ae662de6) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50468?repo=metabase/metabase&commitHash=fa3171a3d4152b2705c4ee877a6c1decb02232bb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 25, 19, 13, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2498833606, 'issue_id': 2691820146, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/45549_tests-167cf3a8-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50468?repo=metabase/metabase&commitHash=167cf3a8ca618d87a2bb6cddbb8d6087476519a1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 25, 19, 13, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2503459292, 'issue_id': 2691820146, 'author': 'lbrdnk', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 11, 27, 10, 8, 18, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-25 19:13:24 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/121033_tests-fa3171a3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50468?repo=metabase/metabase&commitHash=fa3171a3d4152b2705c4ee877a6c1decb02232bb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50468?repo=metabase/metabase&commitHash=fa3171a3d4152b2705c4ee877a6c1decb02232bb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50468?repo=metabase/metabase&commitHash=fa3171a3d4152b2705c4ee877a6c1decb02232bb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50468?repo=metabase/metabase&commitHash=fa3171a3d4152b2705c4ee877a6c1decb02232bb&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>xray-dashboards-work-test</code> | A deadlock was detected in the database while executing a query, causing the transaction to fail. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50468?repo=metabase/metabase&commitHash=fa3171a3d4152b2705c4ee877a6c1decb02232bb&utm_source=gh-comment&runConclusion=FAILURE&runId=51c308aa-e27f-592a-8885-ad74ae662de6) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50468?repo=metabase/metabase&commitHash=fa3171a3d4152b2705c4ee877a6c1decb02232bb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-25 19:13:24 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/45549_tests-167cf3a8-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50468?repo=metabase/metabase&commitHash=167cf3a8ca618d87a2bb6cddbb8d6087476519a1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

lbrdnk (Issue Creator) on (2024-11-27 10:08:18 UTC): @metabase-bot backport release-x.51.x

"
2691795292,pull_request,closed,,fix(sdk): introduce `.mb-wrapper` to scope down our css,"Fixes https://github.com/metabase/metabase/issues/50279

# Context
When the embedding sdk is imported on a project, all the css used by the app is loaded.
Even though we use a mix of emotion and css modules, both can ""leak"" styles in the host app if they target plain tags, such as `button`, `div`, `body` etc 

# Description

This PR adds a `mb-wrapper` class to the body (in the core app) and to the ""public component wrapper"" (for the sdk) so that our styles can be scoped to that class.

## Problem 

We can't _simply_ do `button` -> `.mb-wrapper button`, as that will increase the specificity from (0,0,1) to (0,1,1) and will break stuff:
<img width=""360"" alt=""image"" src=""https://github.com/user-attachments/assets/b59a3008-ade2-40ac-9250-d6fc3d760792"">
<img width=""278"" alt=""image"" src=""https://github.com/user-attachments/assets/349ab210-f509-4d8d-baa0-0a0cf2135f14"">

## Solution
Use `:where()`:
> The difference between :where() and [:is()](https://developer.mozilla.org/en-US/docs/Web/CSS/:is) is that :where() always has 0 [specificity](https://developer.mozilla.org/en-US/docs/Web/CSS/Specificity), whereas :is() takes on the specificity of the most specific selector in its arguments.

([from mdn](https://developer.mozilla.org/en-US/docs/Web/CSS/:where))

`:where` can be used to add selectors without increasing specificity:
<img width=""281"" alt=""image"" src=""https://github.com/user-attachments/assets/dac3f95f-e72d-4660-8273-7b15617016c6"">


# Note about scope and backporting

We need to backport the sdk changes up to the v51 release branch in order to make it go out in sdk version that's compatible with version 51 (see the [docs about sdk versions](https://www.metabase.com/docs/latest/embedding/sdk/version)).
For this reason, even though there are more places that use ""unscoped"" plain tags selectors in our css files, I find it safer to address them one-by-one as we find them, as changing a css file has a potentially huge blast radius.


# Open questions
- is `mb-wrapper` a unique enough name or do we think customers may use that? if so, what name should be use?
- will this break anything? Do we have visual regression tests on the core app? It seems we don't have percy anymore",npretto,2024-11-25 18:35:47+00:00,['npretto'],2024-12-03 17:21:15+00:00,2024-12-03 17:19:50+00:00,https://github.com/metabase/metabase/pull/50466,"[('backport', 'Automatically create PR on current release branch on merge'), ('visual', 'Run Percy visual testing'), ('.Team/Embedding', '')]","[{'comment_id': 2500736988, 'issue_id': 2691795292, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@npretto You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2024, 11, 26, 12, 57, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2500835394, 'issue_id': 2691795292, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/16_tests-535ecc9a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50466?repo=metabase/metabase&commitHash=535ecc9a006059260f482610eb17cafcf001571c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50466?repo=metabase/metabase&commitHash=535ecc9a006059260f482610eb17cafcf001571c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50466?repo=metabase/metabase&commitHash=535ecc9a006059260f482610eb17cafcf001571c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50466?repo=metabase/metabase&commitHash=535ecc9a006059260f482610eb17cafcf001571c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50466?repo=metabase/metabase&commitHash=535ecc9a006059260f482610eb17cafcf001571c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 26, 13, 41, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2515154865, 'issue_id': 2691795292, 'author': 'npretto', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 12, 3, 17, 20, 55, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-26 12:57:23 UTC): <!---conventional commit reminder comment ID-->
@npretto You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

trunk-io[bot] on (2024-11-26 13:41:29 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/16_tests-535ecc9a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50466?repo=metabase/metabase&commitHash=535ecc9a006059260f482610eb17cafcf001571c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50466?repo=metabase/metabase&commitHash=535ecc9a006059260f482610eb17cafcf001571c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50466?repo=metabase/metabase&commitHash=535ecc9a006059260f482610eb17cafcf001571c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50466?repo=metabase/metabase&commitHash=535ecc9a006059260f482610eb17cafcf001571c&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50466?repo=metabase/metabase&commitHash=535ecc9a006059260f482610eb17cafcf001571c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

npretto (Issue Creator) on (2024-12-03 17:20:55 UTC): @metabase-bot backport release-x.51.x

"
2691627258,pull_request,closed,,Sdk e2e tests release x.51.x,"Relates to https://github.com/metabase/metabase/issues/50113

### Description

This fixes CI failures on release branch, which is caused by branch name parameter.

### How to verify

I haven't managed to validate this for sure, but it _should_ work

",deniskaber,2024-11-25 17:37:11+00:00,['deniskaber'],2024-11-25 19:06:25+00:00,2024-11-25 19:05:56+00:00,https://github.com/metabase/metabase/pull/50464,"[('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]",[],
2691550297,pull_request,closed,,do not show chart settings button in result,"Feedback from Maz - do not show chart settings button in results (raw table) mode

https://github.com/user-attachments/assets/28248fad-e650-46f5-a4da-c54ef1c61b78

",uladzimirdev,2024-11-25 17:24:42+00:00,['uladzimirdev'],2024-11-26 13:54:12+00:00,2024-11-26 13:33:48+00:00,https://github.com/metabase/metabase/pull/50463,"[('.Team/Querying', '')]","[{'comment_id': 2498726452, 'issue_id': 2691550297, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13404_tests-ee33886a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50463?repo=metabase/metabase&commitHash=ee33886ab750bc8ff75d9ac613ae0e990eac2c3e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50463?repo=metabase/metabase&commitHash=ee33886ab750bc8ff75d9ac613ae0e990eac2c3e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50463?repo=metabase/metabase&commitHash=ee33886ab750bc8ff75d9ac613ae0e990eac2c3e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50463?repo=metabase/metabase&commitHash=ee33886ab750bc8ff75d9ac613ae0e990eac2c3e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding-sdk > create-question can create questions via the CreateQuestion component</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50463?repo=metabase/metabase&commitHash=ee33886ab750bc8ff75d9ac613ae0e990eac2c3e&utm_source=gh-comment&runConclusion=FAILURE&runId=ff86da0c-31d4-546e-8629-3045e86f4776) |\n| <code>scenarios > question > multiple column breakouts current stage viz settings should be able to change formatting settings for breakouts of the same...</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50463?repo=metabase/metabase&commitHash=ee33886ab750bc8ff75d9ac613ae0e990eac2c3e&utm_source=gh-comment&runConclusion=FAILURE&runId=30fe96ed-87fc-507f-bb2b-62923656a242) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50463?repo=metabase/metabase&commitHash=ee33886ab750bc8ff75d9ac613ae0e990eac2c3e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 25, 18, 16, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2498984225, 'issue_id': 2691550297, 'author': 'uladzimirdev', 'body': '> This is almost good to go. There\'s only an odd (edge?) case where if you open the chart settings from the viz, and then navigate to the results, there\'s no way to close the sidebar without going to the viz. In this case, let\'s leave the ""done"" button visible until it gets clicked? <img alt=""Screenshot 2024-11-25 at 19 01 02"" width=""826"" src=""https://private-user-images.githubusercontent.com/7041012/389668102-934ad639-ecd4-4d69-97fe-d0030df40e62.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzI1NjczMzAsIm5iZiI6MTczMjU2NzAzMCwicGF0aCI6Ii83MDQxMDEyLzM4OTY2ODEwMi05MzRhZDYzOS1lY2Q0LTRkNjktOTdmZS1kMDAzMGRmNDBlNjIucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MTEyNSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDExMjVUMjAzNzEwWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9NmQyM2ViNzIyMzdhMTBkMGFjZTU1MDY0MTQyMDJiOWZjN2EyY2Q1YmI2MWU1MjQwNDdkYjg1NGE3ZjVjOGFmYiZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.N4xN9MOYS0GOa3dc_g0yqXGJh5oAViS4oynMQrf1k-M"">\r\n\r\nshould be fixed\r\n\r\n\r\nhttps://github.com/user-attachments/assets/1dc91ff7-6109-4f9c-99c0-530657984a76', 'created_at': datetime.datetime(2024, 11, 25, 20, 37, 32, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-25 18:16:58 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13404_tests-ee33886a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50463?repo=metabase/metabase&commitHash=ee33886ab750bc8ff75d9ac613ae0e990eac2c3e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50463?repo=metabase/metabase&commitHash=ee33886ab750bc8ff75d9ac613ae0e990eac2c3e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50463?repo=metabase/metabase&commitHash=ee33886ab750bc8ff75d9ac613ae0e990eac2c3e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50463?repo=metabase/metabase&commitHash=ee33886ab750bc8ff75d9ac613ae0e990eac2c3e&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding-sdk > create-question can create questions via the CreateQuestion component</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50463?repo=metabase/metabase&commitHash=ee33886ab750bc8ff75d9ac613ae0e990eac2c3e&utm_source=gh-comment&runConclusion=FAILURE&runId=ff86da0c-31d4-546e-8629-3045e86f4776) |
| <code>scenarios > question > multiple column breakouts current stage viz settings should be able to change formatting settings for breakouts of the same...</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50463?repo=metabase/metabase&commitHash=ee33886ab750bc8ff75d9ac613ae0e990eac2c3e&utm_source=gh-comment&runConclusion=FAILURE&runId=30fe96ed-87fc-507f-bb2b-62923656a242) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50463?repo=metabase/metabase&commitHash=ee33886ab750bc8ff75d9ac613ae0e990eac2c3e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

uladzimirdev (Issue Creator) on (2024-11-25 20:37:32 UTC): should be fixed


https://github.com/user-attachments/assets/1dc91ff7-6109-4f9c-99c0-530657984a76

"
2691496626,pull_request,closed,,Fix branch name for SDK e2e tests workflow,"Relates to https://github.com/metabase/metabase/issues/50113

### Description

This fixes CI failures on release branch, which is caused by branch name parameter.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> ...
2. ...

### Demo

_Upload a demo video or before/after screenshots if sensible or remove the section_

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",deniskaber,2024-11-25 17:08:30+00:00,['deniskaber'],2024-11-25 17:37:23+00:00,2024-11-25 17:37:23+00:00,https://github.com/metabase/metabase/pull/50461,"[('.Team/Embedding', '')]",[],
2691350994,pull_request,closed,,"🤖 backported ""Don't dissoc `:id` in `before-update`""",#50375,github-automation-metabase,2024-11-25 16:27:50+00:00,"['johnswanson', 'github-automation-metabase']",2024-11-25 18:01:55+00:00,2024-11-25 17:10:15+00:00,https://github.com/metabase/metabase/pull/50460,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2498596661, 'issue_id': 2691350994, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/88163_tests-1bf78759-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50460?repo=metabase/metabase&commitHash=1bf787597f6d5e88ddc80409ea0475c16507115a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 25, 17, 16, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2498596663, 'issue_id': 2691350994, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/68707_tests-1bf78759-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50460?repo=metabase/metabase&commitHash=1bf787597f6d5e88ddc80409ea0475c16507115a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 25, 17, 16, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2498596666, 'issue_id': 2691350994, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/68707_tests-1bf78759-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50460?repo=metabase/metabase&commitHash=1bf787597f6d5e88ddc80409ea0475c16507115a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 25, 17, 16, 47, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-25 17:16:47 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/88163_tests-1bf78759-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50460?repo=metabase/metabase&commitHash=1bf787597f6d5e88ddc80409ea0475c16507115a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-25 17:16:47 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/68707_tests-1bf78759-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50460?repo=metabase/metabase&commitHash=1bf787597f6d5e88ddc80409ea0475c16507115a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-25 17:16:47 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/68707_tests-1bf78759-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50460?repo=metabase/metabase&commitHash=1bf787597f6d5e88ddc80409ea0475c16507115a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2691120427,pull_request,closed,,Use DataSelector in Field remapping options and delete unused legacy MBQL code,"Use `DataSelector` for field selection instead of a legacy component based on `StructuredQuery` for field selection for foreign key remapping. How to verify:
- Admin -> Table metadata -> Orders -> User ID
- Use foreign key
- Choose a field

<img width=""497"" alt=""Screenshot 2024-11-25 at 12 21 23"" src=""https://github.com/user-attachments/assets/020306ef-fcc3-454b-98b0-05024d6e5061"">
<img width=""730"" alt=""Screenshot 2024-11-25 at 12 21 27"" src=""https://github.com/user-attachments/assets/8839fb14-ed8a-46e2-b2ba-e4d620dfee2a"">
",ranquild,2024-11-25 15:18:45+00:00,['ranquild'],2024-11-26 18:50:36+00:00,2024-11-26 17:28:13+00:00,https://github.com/metabase/metabase/pull/50458,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', ''), ('loki-update', '')]","[{'comment_id': 2498454531, 'issue_id': 2691120427, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/50487_tests-84ad14be-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50458?repo=metabase/metabase&commitHash=84ad14bec01ce72018ac7671cc04b4711affebdc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50458?repo=metabase/metabase&commitHash=84ad14bec01ce72018ac7671cc04b4711affebdc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50458?repo=metabase/metabase&commitHash=84ad14bec01ce72018ac7671cc04b4711affebdc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50458?repo=metabase/metabase&commitHash=84ad14bec01ce72018ac7671cc04b4711affebdc&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50458?repo=metabase/metabase&commitHash=84ad14bec01ce72018ac7671cc04b4711affebdc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 25, 16, 14, 49, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-25 16:14:49 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/50487_tests-84ad14be-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50458?repo=metabase/metabase&commitHash=84ad14bec01ce72018ac7671cc04b4711affebdc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50458?repo=metabase/metabase&commitHash=84ad14bec01ce72018ac7671cc04b4711affebdc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50458?repo=metabase/metabase&commitHash=84ad14bec01ce72018ac7671cc04b4711affebdc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50458?repo=metabase/metabase&commitHash=84ad14bec01ce72018ac7671cc04b4711affebdc&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50458?repo=metabase/metabase&commitHash=84ad14bec01ce72018ac7671cc04b4711affebdc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2690982213,pull_request,closed,,feat(sdk): make tooltips themeable,"Closes https://github.com/metabase/metabase/issues/45764

### Description

Adds a couple of theme options and semantic colors for tooltip theming. It also simplifies how we define CSS variables for embedding SDK theme keys and supports optional theme keys.

### How to verify

- Go to Storybook > InteractiveQuestion > Themed > With White Tooltip
- Tooltips should now follow the color from theming

### Demo

How it looks in Shoppy's Luminara theme (using the same theme option as in Storybook)

![CleanShot 2567-11-26 at 02 55 52@2x](https://github.com/user-attachments/assets/07f3f485-b368-40f5-85d3-45e28e707dbd)

Storybook > InteractiveQuestion > Themed > With White Tooltip

![image](https://github.com/user-attachments/assets/49e5f94b-89ad-4510-b13f-6ae423dafdb9)

### Checklist

- [x] Tests have been added/updated to cover changes in this PR - Loki
",heypoom,2024-11-25 14:40:47+00:00,['heypoom'],2024-11-28 09:32:56+00:00,2024-11-27 18:38:30+00:00,https://github.com/metabase/metabase/pull/50457,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2498876186, 'issue_id': 2690982213, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 90979e9abd35cc2310d289ff81438e94392b2169...cbfb8edbb7e81659e9eeade7fa634cbdc7306989.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.module.css<br>frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.stories.tsx |\n| @kdoh | frontend/src/metabase/ui/components/overlays/Tooltip/Tooltip.styled.tsx |', 'created_at': datetime.datetime(2024, 11, 25, 19, 36, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2498948493, 'issue_id': 2690982213, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/16_tests-cbfb8edb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50457?repo=metabase/metabase&commitHash=cbfb8edbb7e81659e9eeade7fa634cbdc7306989&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50457?repo=metabase/metabase&commitHash=cbfb8edbb7e81659e9eeade7fa634cbdc7306989&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50457?repo=metabase/metabase&commitHash=cbfb8edbb7e81659e9eeade7fa634cbdc7306989&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50457?repo=metabase/metabase&commitHash=cbfb8edbb7e81659e9eeade7fa634cbdc7306989&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50457?repo=metabase/metabase&commitHash=cbfb8edbb7e81659e9eeade7fa634cbdc7306989&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 25, 20, 17, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2505654711, 'issue_id': 2690982213, 'author': 'heypoom', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 11, 28, 9, 32, 55, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-25 19:36:47 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 90979e9abd35cc2310d289ff81438e94392b2169...cbfb8edbb7e81659e9eeade7fa634cbdc7306989.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.module.css<br>frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.stories.tsx |
| @kdoh | frontend/src/metabase/ui/components/overlays/Tooltip/Tooltip.styled.tsx |

trunk-io[bot] on (2024-11-25 20:17:09 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/16_tests-cbfb8edb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50457?repo=metabase/metabase&commitHash=cbfb8edbb7e81659e9eeade7fa634cbdc7306989&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50457?repo=metabase/metabase&commitHash=cbfb8edbb7e81659e9eeade7fa634cbdc7306989&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50457?repo=metabase/metabase&commitHash=cbfb8edbb7e81659e9eeade7fa634cbdc7306989&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50457?repo=metabase/metabase&commitHash=cbfb8edbb7e81659e9eeade7fa634cbdc7306989&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50457?repo=metabase/metabase&commitHash=cbfb8edbb7e81659e9eeade7fa634cbdc7306989&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

heypoom (Issue Creator) on (2024-11-28 09:32:55 UTC): @metabase-bot backport release-x.51.x

"
2690594648,pull_request,closed,,Deprecate alert and pulse apis,"Notification APIs are coming soon, so deprecate the alert and pulse API for 52.",qnkhuat,2024-11-25 12:38:16+00:00,['qnkhuat'],2024-12-05 03:47:41+00:00,2024-12-02 05:32:45+00:00,https://github.com/metabase/metabase/pull/50453,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2497997407, 'issue_id': 2690594648, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/121029_tests-e06a0589-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50453?repo=metabase/metabase&commitHash=e06a05890c6dd7dac474653907f68a87a6ff2430&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50453?repo=metabase/metabase&commitHash=e06a05890c6dd7dac474653907f68a87a6ff2430&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50453?repo=metabase/metabase&commitHash=e06a05890c6dd7dac474653907f68a87a6ff2430&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50453?repo=metabase/metabase&commitHash=e06a05890c6dd7dac474653907f68a87a6ff2430&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>update-field-test</code> | Query execution failed due to an aborted transaction, possibly caused by a previous error. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50453?repo=metabase/metabase&commitHash=e06a05890c6dd7dac474653907f68a87a6ff2430&utm_source=gh-comment&runConclusion=FAILURE&runId=6229218e-652b-5bdf-bff8-79a23c8464ff) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50453?repo=metabase/metabase&commitHash=e06a05890c6dd7dac474653907f68a87a6ff2430&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 25, 13, 15, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2497997414, 'issue_id': 2690594648, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/75389_tests-63234b7d-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50453?repo=metabase/metabase&commitHash=63234b7d140c5ecda5d14dfdc2eff266d49c10ee&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 25, 13, 15, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2497997418, 'issue_id': 2690594648, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/75389_tests-63234b7d-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50453?repo=metabase/metabase&commitHash=63234b7d140c5ecda5d14dfdc2eff266d49c10ee&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 25, 13, 15, 51, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-25 13:15:51 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/121029_tests-e06a0589-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50453?repo=metabase/metabase&commitHash=e06a05890c6dd7dac474653907f68a87a6ff2430&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50453?repo=metabase/metabase&commitHash=e06a05890c6dd7dac474653907f68a87a6ff2430&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50453?repo=metabase/metabase&commitHash=e06a05890c6dd7dac474653907f68a87a6ff2430&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50453?repo=metabase/metabase&commitHash=e06a05890c6dd7dac474653907f68a87a6ff2430&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>update-field-test</code> | Query execution failed due to an aborted transaction, possibly caused by a previous error. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50453?repo=metabase/metabase&commitHash=e06a05890c6dd7dac474653907f68a87a6ff2430&utm_source=gh-comment&runConclusion=FAILURE&runId=6229218e-652b-5bdf-bff8-79a23c8464ff) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50453?repo=metabase/metabase&commitHash=e06a05890c6dd7dac474653907f68a87a6ff2430&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-25 13:15:51 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/75389_tests-63234b7d-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50453?repo=metabase/metabase&commitHash=63234b7d140c5ecda5d14dfdc2eff266d49c10ee&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-25 13:15:51 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/75389_tests-63234b7d-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50453?repo=metabase/metabase&commitHash=63234b7d140c5ecda5d14dfdc2eff266d49c10ee&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2690420722,pull_request,closed,,show loader when query is running,"closes https://github.com/metabase/metabase/issues/50451

failing test is expected

Fixes showing loader after a query modification

https://github.com/user-attachments/assets/93a27193-903a-427c-8401-bc701e942033

",uladzimirdev,2024-11-25 11:29:54+00:00,['uladzimirdev'],2024-11-25 22:14:11+00:00,2024-11-25 20:31:04+00:00,https://github.com/metabase/metabase/pull/50450,"[('.Team/Querying', '')]","[{'comment_id': 2497854064, 'issue_id': 2690420722, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13223_tests-f1340906-purple) &ensp; ![Static Badge](https://img.shields.io/badge/2-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding-sdk > create-question can create questions via the CreateQuestion component</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50450?repo=metabase/metabase&commitHash=f13409061b315f1d2270ef8a6e6ab112c8aa93bb&utm_source=gh-comment&runConclusion=FAILURE&runId=82e65166-2fd9-5665-9e01-d493499169d6) |\n| <code>scenarios > question > multiple column breakouts current stage viz settings should be able to change formatting settings for breakouts of the same...</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50450?repo=metabase/metabase&commitHash=f13409061b315f1d2270ef8a6e6ab112c8aa93bb&utm_source=gh-comment&runConclusion=FAILURE&runId=93f911ce-cb21-5e7b-9799-36cadb040393) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50450?repo=metabase/metabase&commitHash=f13409061b315f1d2270ef8a6e6ab112c8aa93bb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 25, 12, 14, 26, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-25 12:14:26 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13223_tests-f1340906-purple) &ensp; ![Static Badge](https://img.shields.io/badge/2-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding-sdk > create-question can create questions via the CreateQuestion component</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50450?repo=metabase/metabase&commitHash=f13409061b315f1d2270ef8a6e6ab112c8aa93bb&utm_source=gh-comment&runConclusion=FAILURE&runId=82e65166-2fd9-5665-9e01-d493499169d6) |
| <code>scenarios > question > multiple column breakouts current stage viz settings should be able to change formatting settings for breakouts of the same...</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50450?repo=metabase/metabase&commitHash=f13409061b315f1d2270ef8a6e6ab112c8aa93bb&utm_source=gh-comment&runConclusion=FAILURE&runId=93f911ce-cb21-5e7b-9799-36cadb040393) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50450?repo=metabase/metabase&commitHash=f13409061b315f1d2270ef8a6e6ab112c8aa93bb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2690298486,pull_request,closed,,fix(sdk): entity picker theming fixes,"Closes https://github.com/metabase/metabase/issues/50394

### Description

Adds additional theming fixes for the entity picker so it follows the SDK theming.

### How to verify

- Open Storybook on the SDK and click on the ""Dark Theme Editor"" stories

![CleanShot 2567-11-25 at 18 45 08@2x](https://github.com/user-attachments/assets/f309d9d9-f4ba-4d6b-885b-ab272f5cf5c8)

- There should be no noticeable change in the non-themed ""Editor Only"" story. Remember to _reload_ the page after switching between stories, as there is a bug caused by patching the `colors` object that caused the themed colors to persist across stories.

### Demo

Themed Chevron Color

<img src=""https://github.com/user-attachments/assets/a55dceab-5f36-4fcf-8ef1-954f6311e009"" width=""300"">

Themed Segment Control

![CleanShot 2567-11-25 at 18 40 32@2x](https://github.com/user-attachments/assets/91adfa48-a099-4556-bb85-4fe775556234)

Themed Skeleton: [see private Loom](https://www.loom.com/share/ac01f71df753402abc4592577294f8f1?sid=05d4101c-7a17-4071-9b8c-3094d7a81394)",heypoom,2024-11-25 10:58:39+00:00,['heypoom'],2024-11-27 17:40:54+00:00,2024-11-27 17:27:13+00:00,https://github.com/metabase/metabase/pull/50449,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2497793664, 'issue_id': 2690298486, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 62333310e33e00db9d4ca89cd01a338f6cfcae1a...1483e32af0a9c3eea6d6c8ef11d3f43606b88ebf.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/feedback/Skeleton/Skeleton.styled.tsx<br>frontend/src/metabase/ui/components/inputs/SegmentedControl/SegmentedControl.styled.tsx<br>frontend/src/metabase/ui/components/navigation/NavLink/NavLink.styled.tsx |', 'created_at': datetime.datetime(2024, 11, 25, 11, 48, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2497799113, 'issue_id': 2690298486, 'author': 'heypoom', 'body': ""PS. Should we setup Loki for the SDK's Storybook? Right now the stories we have in the SDK doesn't get snapshotted by Loki."", 'created_at': datetime.datetime(2024, 11, 25, 11, 50, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2497860597, 'issue_id': 2690298486, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/16_tests-1483e32a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50449?repo=metabase/metabase&commitHash=1483e32af0a9c3eea6d6c8ef11d3f43606b88ebf&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50449?repo=metabase/metabase&commitHash=1483e32af0a9c3eea6d6c8ef11d3f43606b88ebf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50449?repo=metabase/metabase&commitHash=1483e32af0a9c3eea6d6c8ef11d3f43606b88ebf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50449?repo=metabase/metabase&commitHash=1483e32af0a9c3eea6d6c8ef11d3f43606b88ebf&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50449?repo=metabase/metabase&commitHash=1483e32af0a9c3eea6d6c8ef11d3f43606b88ebf&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 25, 12, 17, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2504421305, 'issue_id': 2690298486, 'author': 'heypoom', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 11, 27, 17, 26, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2504423386, 'issue_id': 2690298486, 'author': 'github-actions[bot]', 'body': '@heypoom something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12055381385)', 'created_at': datetime.datetime(2024, 11, 27, 17, 27, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2504424459, 'issue_id': 2690298486, 'author': 'heypoom', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 11, 27, 17, 28, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2504425243, 'issue_id': 2690298486, 'author': 'github-actions[bot]', 'body': '@heypoom something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12055394620)', 'created_at': datetime.datetime(2024, 11, 27, 17, 28, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2504429005, 'issue_id': 2690298486, 'author': 'github-actions[bot]', 'body': '@heypoom something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12055410410)', 'created_at': datetime.datetime(2024, 11, 27, 17, 30, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2504434653, 'issue_id': 2690298486, 'author': 'heypoom', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 11, 27, 17, 34, 12, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-25 11:48:02 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 62333310e33e00db9d4ca89cd01a338f6cfcae1a...1483e32af0a9c3eea6d6c8ef11d3f43606b88ebf.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/feedback/Skeleton/Skeleton.styled.tsx<br>frontend/src/metabase/ui/components/inputs/SegmentedControl/SegmentedControl.styled.tsx<br>frontend/src/metabase/ui/components/navigation/NavLink/NavLink.styled.tsx |

heypoom (Issue Creator) on (2024-11-25 11:50:10 UTC): PS. Should we setup Loki for the SDK's Storybook? Right now the stories we have in the SDK doesn't get snapshotted by Loki.

trunk-io[bot] on (2024-11-25 12:17:19 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/16_tests-1483e32a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50449?repo=metabase/metabase&commitHash=1483e32af0a9c3eea6d6c8ef11d3f43606b88ebf&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50449?repo=metabase/metabase&commitHash=1483e32af0a9c3eea6d6c8ef11d3f43606b88ebf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50449?repo=metabase/metabase&commitHash=1483e32af0a9c3eea6d6c8ef11d3f43606b88ebf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50449?repo=metabase/metabase&commitHash=1483e32af0a9c3eea6d6c8ef11d3f43606b88ebf&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50449?repo=metabase/metabase&commitHash=1483e32af0a9c3eea6d6c8ef11d3f43606b88ebf&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

heypoom (Issue Creator) on (2024-11-27 17:26:34 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-11-27 17:27:42 UTC): @heypoom something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12055381385)

heypoom (Issue Creator) on (2024-11-27 17:28:20 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-11-27 17:28:48 UTC): @heypoom something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12055394620)

github-actions[bot] on (2024-11-27 17:30:58 UTC): @heypoom something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12055410410)

heypoom (Issue Creator) on (2024-11-27 17:34:12 UTC): @metabase-bot backport release-x.51.x

"
2690276779,pull_request,closed,,docs(sdk): Manually update changelog for release 51,"[Slack discussion](https://metaboat.slack.com/archives/C063Q3F1HPF/p1732286276909939?thread_ts=1731680130.243949&cid=C063Q3F1HPF)

### Description

After we've redeployed version 0 for 1.51.x, we should fix the changelog accordingly to prevent confusion.

### How to verify
1. The diff for each version should look the same
2. The new chaneglog shouldn't contain any reference to v1.51.x
",WiNloSt,2024-11-25 10:51:30+00:00,['WiNloSt'],2025-02-05 14:47:34+00:00,2024-11-26 06:13:13+00:00,https://github.com/metabase/metabase/pull/50448,"[('.Team/Embedding', '')]","[{'comment_id': 2499751226, 'issue_id': 2690276779, 'author': 'WiNloSt', 'body': ""Closing this PR in favor of #50483  since I can't update this PR\r\n![image](https://github.com/user-attachments/assets/75829b9b-6384-4370-b7c3-db02cb510789)\r\n\r\nI assume we just flipped some branch protection on `release-*` branch which this PR coincidentally matched."", 'created_at': datetime.datetime(2024, 11, 26, 6, 13, 13, tzinfo=datetime.timezone.utc)}]","WiNloSt (Issue Creator) on (2024-11-26 06:13:13 UTC): Closing this PR in favor of #50483  since I can't update this PR
![image](https://github.com/user-attachments/assets/75829b9b-6384-4370-b7c3-db02cb510789)

I assume we just flipped some branch protection on `release-*` branch which this PR coincidentally matched.

"
2690198867,pull_request,closed,,docs(sdk): Manually update chaneglog for master,"[Slack discussion](https://metaboat.slack.com/archives/C063Q3F1HPF/p1732286276909939?thread_ts=1731680130.243949&cid=C063Q3F1HPF)

### Description

After we've redeployed version 0 for 1.52.x, we should fix the changelog accordingly to prevent confusion.

",WiNloSt,2024-11-25 10:40:58+00:00,['WiNloSt'],2024-11-26 18:50:42+00:00,2024-11-25 14:10:52+00:00,https://github.com/metabase/metabase/pull/50447,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', '')]","[{'comment_id': 2497637775, 'issue_id': 2690198867, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@WiNloSt You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2024, 11, 25, 10, 41, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2497655717, 'issue_id': 2690198867, 'author': 'npretto', 'body': 'Should we also rename 1.51? https://github.com/metabase/metabase/pull/50447/files#diff-d36366ea0c0db75f1f528cae974feec799d37b91ce54c93a27881c85fb96b8c1L80', 'created_at': datetime.datetime(2024, 11, 25, 10, 48, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2497668359, 'issue_id': 2690198867, 'author': 'WiNloSt', 'body': '@npretto fixed in b961e57d32d1c45bb5c42d351be5a0b4339201fe', 'created_at': datetime.datetime(2024, 11, 25, 10, 53, 15, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-25 10:41:19 UTC): <!---conventional commit reminder comment ID-->
@WiNloSt You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

npretto on (2024-11-25 10:48:22 UTC): Should we also rename 1.51? https://github.com/metabase/metabase/pull/50447/files#diff-d36366ea0c0db75f1f528cae974feec799d37b91ce54c93a27881c85fb96b8c1L80

WiNloSt (Issue Creator) on (2024-11-25 10:53:15 UTC): @npretto fixed in b961e57d32d1c45bb5c42d351be5a0b4339201fe

"
2690060048,pull_request,closed,,"🤖 backported ""Update npm packages from 1.xx.y to 0.xx.y""",#50409,github-automation-metabase,2024-11-25 09:55:02+00:00,"['albertoperdomo', 'github-automation-metabase']",2024-11-25 09:56:41+00:00,2024-11-25 09:56:40+00:00,https://github.com/metabase/metabase/pull/50446,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2690023609,pull_request,open,,add a test for accounts scenario,Ref: https://github.com/metabase/metabase/issues/50261,qnkhuat,2024-11-25 09:42:34+00:00,['qnkhuat'],2024-12-16 14:58:34+00:00,,https://github.com/metabase/metabase/pull/50445,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2497523896, 'issue_id': 2690023609, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/125298_tests-d85a85ff-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50445?repo=metabase/metabase&commitHash=d85a85ffbf878877e689673c5138a963a45df53d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50445?repo=metabase/metabase&commitHash=d85a85ffbf878877e689673c5138a963a45df53d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/18-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50445?repo=metabase/metabase&commitHash=d85a85ffbf878877e689673c5138a963a45df53d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50445?repo=metabase/metabase&commitHash=d85a85ffbf878877e689673c5138a963a45df53d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > models data picker transforms the data picker</code> | The expected attribute \'data-model-type\' with value \'card\' was not found on an element, but \'dataset\' was found instead. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50445?repo=metabase/metabase&commitHash=d85a85ffbf878877e689673c5138a963a45df53d&utm_source=gh-comment&runConclusion=FAILURE&runId=24e853f9-bde8-5c21-a773-51e4913071c8) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>model-test</code> | The expected ordering of models was not met, with ""card"" models not appearing in the expected order. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50445?repo=metabase/metabase&commitHash=d85a85ffbf878877e689673c5138a963a45df53d&utm_source=gh-comment&runConclusion=FAILURE&runId=ddd64255-7d3a-537e-be2a-76351d5e3e2f) |\n| <code>view-count-test</code> | The expected search results were not as expected, as a fresh instance with no view count was not correctly handled. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50445?repo=metabase/metabase&commitHash=d85a85ffbf878877e689673c5138a963a45df53d&utm_source=gh-comment&runConclusion=FAILURE&runId=fa27e4c5-3669-5f95-aac2-15c129db99bb) |\n| <code>model-test</code> | The expected ordering of models was not met, with ""card"" models not appearing in the expected order. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50445?repo=metabase/metabase&commitHash=d85a85ffbf878877e689673c5138a963a45df53d&utm_source=gh-comment&runConclusion=FAILURE&runId=fae906fe-5b22-512e-a9c5-bcdc0b5b599f) |\n| <code>view-count-test</code> | The expected search results were not as expected, as a fresh instance with no view count was not correctly handled. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50445?repo=metabase/metabase&commitHash=d85a85ffbf878877e689673c5138a963a45df53d&utm_source=gh-comment&runConclusion=FAILURE&runId=a4248890-e04e-5a53-9d3c-d5187c977be5) |\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/50445?repo=metabase/metabase&commitHash=d85a85ffbf878877e689673c5138a963a45df53d&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50445?repo=metabase/metabase&commitHash=d85a85ffbf878877e689673c5138a963a45df53d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 25, 10, 12, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2506982807, 'issue_id': 2690023609, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@qnkhuat You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2024, 11, 29, 2, 31, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2506983943, 'issue_id': 2690023609, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 8d380fe7d174176aeb61ffd9f86395397f655e91...a9dfd54c3d23c338142fed57df3e6919e34b95d1.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.module.css<br>frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.stories.tsx<br>frontend/src/metabase/visualizations/lib/table.js<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/chart-definition.ts<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/chart-definition.unit.spec.ts |\n| @kdoh | frontend/src/metabase/ui/components/feedback/Skeleton/Skeleton.styled.tsx<br>frontend/src/metabase/ui/components/inputs/SegmentedControl/SegmentedControl.styled.tsx<br>frontend/src/metabase/ui/components/navigation/NavLink/NavLink.styled.tsx<br>frontend/src/metabase/ui/components/overlays/Tooltip/Tooltip.styled.tsx |', 'created_at': datetime.datetime(2024, 11, 29, 2, 32, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2510958948, 'issue_id': 2690023609, 'author': 'crisptrutski', 'body': 'Would be nice to get this merged today', 'created_at': datetime.datetime(2024, 12, 2, 9, 8, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2510979903, 'issue_id': 2690023609, 'author': 'qnkhuat', 'body': 'CI is having a hard time today :(', 'created_at': datetime.datetime(2024, 12, 2, 9, 18, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-25 10:12:59 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/125298_tests-d85a85ff-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50445?repo=metabase/metabase&commitHash=d85a85ffbf878877e689673c5138a963a45df53d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50445?repo=metabase/metabase&commitHash=d85a85ffbf878877e689673c5138a963a45df53d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/18-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50445?repo=metabase/metabase&commitHash=d85a85ffbf878877e689673c5138a963a45df53d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50445?repo=metabase/metabase&commitHash=d85a85ffbf878877e689673c5138a963a45df53d&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > models data picker transforms the data picker</code> | The expected attribute 'data-model-type' with value 'card' was not found on an element, but 'dataset' was found instead. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50445?repo=metabase/metabase&commitHash=d85a85ffbf878877e689673c5138a963a45df53d&utm_source=gh-comment&runConclusion=FAILURE&runId=24e853f9-bde8-5c21-a773-51e4913071c8) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>model-test</code> | The expected ordering of models was not met, with ""card"" models not appearing in the expected order. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50445?repo=metabase/metabase&commitHash=d85a85ffbf878877e689673c5138a963a45df53d&utm_source=gh-comment&runConclusion=FAILURE&runId=ddd64255-7d3a-537e-be2a-76351d5e3e2f) |
| <code>view-count-test</code> | The expected search results were not as expected, as a fresh instance with no view count was not correctly handled. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50445?repo=metabase/metabase&commitHash=d85a85ffbf878877e689673c5138a963a45df53d&utm_source=gh-comment&runConclusion=FAILURE&runId=fa27e4c5-3669-5f95-aac2-15c129db99bb) |
| <code>model-test</code> | The expected ordering of models was not met, with ""card"" models not appearing in the expected order. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50445?repo=metabase/metabase&commitHash=d85a85ffbf878877e689673c5138a963a45df53d&utm_source=gh-comment&runConclusion=FAILURE&runId=fae906fe-5b22-512e-a9c5-bcdc0b5b599f) |
| <code>view-count-test</code> | The expected search results were not as expected, as a fresh instance with no view count was not correctly handled. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50445?repo=metabase/metabase&commitHash=d85a85ffbf878877e689673c5138a963a45df53d&utm_source=gh-comment&runConclusion=FAILURE&runId=a4248890-e04e-5a53-9d3c-d5187c977be5) |

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/50445?repo=metabase/metabase&commitHash=d85a85ffbf878877e689673c5138a963a45df53d&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50445?repo=metabase/metabase&commitHash=d85a85ffbf878877e689673c5138a963a45df53d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2024-11-29 02:31:23 UTC): <!---conventional commit reminder comment ID-->
@qnkhuat You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

github-actions[bot] on (2024-11-29 02:32:31 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 8d380fe7d174176aeb61ffd9f86395397f655e91...a9dfd54c3d23c338142fed57df3e6919e34b95d1.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.module.css<br>frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.stories.tsx<br>frontend/src/metabase/visualizations/lib/table.js<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/chart-definition.ts<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/chart-definition.unit.spec.ts |
| @kdoh | frontend/src/metabase/ui/components/feedback/Skeleton/Skeleton.styled.tsx<br>frontend/src/metabase/ui/components/inputs/SegmentedControl/SegmentedControl.styled.tsx<br>frontend/src/metabase/ui/components/navigation/NavLink/NavLink.styled.tsx<br>frontend/src/metabase/ui/components/overlays/Tooltip/Tooltip.styled.tsx |

crisptrutski on (2024-12-02 09:08:10 UTC): Would be nice to get this merged today

qnkhuat (Issue Creator) on (2024-12-02 09:18:00 UTC): CI is having a hard time today :(

"
2689919501,pull_request,closed,,Delete Hybrid Index Search,"These training wheels have served their purpose.

This leaves us a little light on testing of which search strings we match, but it wasn't really adequate before either.",crisptrutski,2024-11-25 09:19:33+00:00,['crisptrutski'],2024-11-26 18:50:40+00:00,2024-11-25 19:47:52+00:00,https://github.com/metabase/metabase/pull/50444,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2497457354, 'issue_id': 2689919501, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/124814_tests-4d01ec14-purple) &ensp; ![Static Badge](https://img.shields.io/badge/2-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50444?repo=metabase/metabase&commitHash=4d01ec1495118688ab475184d98a7272aa84778a&utm_source=gh-comment&runConclusion=FAILURE&runId=7c7c7d69-1b15-5547-9687-be6b6ad28fdb) |\n| <code>refingerprint-fields-for-db!-test</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50444?repo=metabase/metabase&commitHash=4d01ec1495118688ab475184d98a7272aa84778a&utm_source=gh-comment&runConclusion=FAILURE&runId=6e0b9179-4189-5625-a474-ea2a96eec90c) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50444?repo=metabase/metabase&commitHash=4d01ec1495118688ab475184d98a7272aa84778a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 25, 9, 51, 16, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-25 09:51:16 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/124814_tests-4d01ec14-purple) &ensp; ![Static Badge](https://img.shields.io/badge/2-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50444?repo=metabase/metabase&commitHash=4d01ec1495118688ab475184d98a7272aa84778a&utm_source=gh-comment&runConclusion=FAILURE&runId=7c7c7d69-1b15-5547-9687-be6b6ad28fdb) |
| <code>refingerprint-fields-for-db!-test</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50444?repo=metabase/metabase&commitHash=4d01ec1495118688ab475184d98a7272aa84778a&utm_source=gh-comment&runConclusion=FAILURE&runId=6e0b9179-4189-5625-a474-ea2a96eec90c) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50444?repo=metabase/metabase&commitHash=4d01ec1495118688ab475184d98a7272aa84778a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2689268329,pull_request,closed,,Replace postcss-nesting with postcss-nested,"### Description 

I was debugging some CSS issues in CI and I'm seeing that our production CSS files contain nested css rules a la:
```css
button.UgFcU{
  .pMUGl {
    width:100%;
  }
  .vbRlx {
    display:flex;
    justify-content:space-between;
    width:100%;
  }
}
```

For example open our [production css](https://stats.metabase.com/app/dist/app-main.73a2f03294b8530c.css) and search for `pMUGl` (which is where the example above is taken from).

While this feature [is gaining browser support (currently at 85%)](https://caniuse.com/css-nesting), it's also trivial to compile out.
Given the fact our `postcss.config.json` contains the `postcss-nesting` plugin, I get the feeling that it is also the intention for this to be compiled away.

However, `postcss-nesting` seems to not work in all cases and ignores some, leading to non-unnested css in our production css.

This PR proposed to swap out [`postcss-nesting`](https://github.com/csstools/postcss-plugins/tree/main/plugins/postcss-nesting) with [`postcss-nested`](https://github.com/postcss/postcss-nested) (which is maintained by `postcss` itself), which seems to lead to more consistent results.",romeovs,2024-11-25 05:44:20+00:00,['romeovs'],2024-11-25 22:57:57+00:00,2024-11-25 22:11:40+00:00,https://github.com/metabase/metabase/pull/50437,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2496945885, 'issue_id': 2689268329, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/26196_tests-34672386-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50437?repo=metabase/metabase&commitHash=346723865b366233eda8a3903b21f4b4c1ef31e7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 25, 6, 9, 59, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-25 06:09:59 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/26196_tests-34672386-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50437?repo=metabase/metabase&commitHash=346723865b366233eda8a3903b21f4b4c1ef31e7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2688954340,pull_request,closed,,"🤖 backported ""Simplify epic template to allow for easier editing""",#50248,github-automation-metabase,2024-11-25 03:40:15+00:00,"['romeovs', 'github-automation-metabase']",2024-11-25 03:41:52+00:00,2024-11-25 03:41:51+00:00,https://github.com/metabase/metabase/pull/50436,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2688745353,pull_request,closed,,"🤖 backported ""Do not show values initially when single select search does not have a filter value""","  #49577
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2024-11-25 01:11:29+00:00,"['romeovs', 'github-automation-metabase']",2024-11-28 22:05:38+00:00,2024-11-28 22:05:35+00:00,https://github.com/metabase/metabase/pull/50435,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2496695761, 'issue_id': 2688745353, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3292_tests-d3c1df9c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50435?repo=metabase/metabase&commitHash=d3c1df9c4bfdb23f2909bf6290cb26e71bd27507&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50435?repo=metabase/metabase&commitHash=d3c1df9c4bfdb23f2909bf6290cb26e71bd27507&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50435?repo=metabase/metabase&commitHash=d3c1df9c4bfdb23f2909bf6290cb26e71bd27507&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50435?repo=metabase/metabase&commitHash=d3c1df9c4bfdb23f2909bf6290cb26e71bd27507&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding-sdk > styles modals and tooltips mantine modals should render with our styles</code> | Unable to find an element with the text ""Count of rows"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50435?repo=metabase/metabase&commitHash=d3c1df9c4bfdb23f2909bf6290cb26e71bd27507&utm_source=gh-comment&runConclusion=FAILURE&runId=fa767658-cfcf-5982-a215-e8ef9c5f8bcc) |\n| <code>scenarios > embedding-sdk > styles modals and tooltips legacy WindowModal modals should render with our styles</code> | The expected font family of an HTML element was not as expected, it was \'Times New Roman\' instead of \'Lato, sans-serif\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50435?repo=metabase/metabase&commitHash=d3c1df9c4bfdb23f2909bf6290cb26e71bd27507&utm_source=gh-comment&runConclusion=FAILURE&runId=0aeab623-ab1a-5761-8ae4-20d3879bd1fa) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50435?repo=metabase/metabase&commitHash=d3c1df9c4bfdb23f2909bf6290cb26e71bd27507&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 25, 4, 9, 30, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-25 04:09:30 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3292_tests-d3c1df9c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50435?repo=metabase/metabase&commitHash=d3c1df9c4bfdb23f2909bf6290cb26e71bd27507&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50435?repo=metabase/metabase&commitHash=d3c1df9c4bfdb23f2909bf6290cb26e71bd27507&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50435?repo=metabase/metabase&commitHash=d3c1df9c4bfdb23f2909bf6290cb26e71bd27507&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50435?repo=metabase/metabase&commitHash=d3c1df9c4bfdb23f2909bf6290cb26e71bd27507&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding-sdk > styles modals and tooltips mantine modals should render with our styles</code> | Unable to find an element with the text ""Count of rows"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50435?repo=metabase/metabase&commitHash=d3c1df9c4bfdb23f2909bf6290cb26e71bd27507&utm_source=gh-comment&runConclusion=FAILURE&runId=fa767658-cfcf-5982-a215-e8ef9c5f8bcc) |
| <code>scenarios > embedding-sdk > styles modals and tooltips legacy WindowModal modals should render with our styles</code> | The expected font family of an HTML element was not as expected, it was 'Times New Roman' instead of 'Lato, sans-serif'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50435?repo=metabase/metabase&commitHash=d3c1df9c4bfdb23f2909bf6290cb26e71bd27507&utm_source=gh-comment&runConclusion=FAILURE&runId=0aeab623-ab1a-5761-8ae4-20d3879bd1fa) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50435?repo=metabase/metabase&commitHash=d3c1df9c4bfdb23f2909bf6290cb26e71bd27507&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2685138549,pull_request,closed,,fix inability to select breakout dimension before metric,"Closes https://github.com/metabase/metabase/issues/49529

### Description

Fixes viz settings sidebar crash when selecting second dimension before choosing any metrics.

### How to verify

- New > Question > Orders > Visualize
- Change viz type to Bar
- Open viz settings sidebar
- Select X-axis dimension
- Click ""Add series breakout"" and select select another dimension
- Ensure it works

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",alxnddr,2024-11-23 02:44:55+00:00,['alxnddr'],2024-11-26 14:38:35+00:00,2024-11-26 14:38:32+00:00,https://github.com/metabase/metabase/pull/50433,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2495264144, 'issue_id': 2685138549, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/28643_tests-91a70a4c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50433?repo=metabase/metabase&commitHash=91a70a4c9df6b8854ac06ed1fc73d068450fac19&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50433?repo=metabase/metabase&commitHash=91a70a4c9df6b8854ac06ed1fc73d068450fac19&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50433?repo=metabase/metabase&commitHash=91a70a4c9df6b8854ac06ed1fc73d068450fac19&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50433?repo=metabase/metabase&commitHash=91a70a4c9df6b8854ac06ed1fc73d068450fac19&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50433?repo=metabase/metabase&commitHash=91a70a4c9df6b8854ac06ed1fc73d068450fac19&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 23, 3, 13, 33, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-23 03:13:33 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/28643_tests-91a70a4c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50433?repo=metabase/metabase&commitHash=91a70a4c9df6b8854ac06ed1fc73d068450fac19&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50433?repo=metabase/metabase&commitHash=91a70a4c9df6b8854ac06ed1fc73d068450fac19&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50433?repo=metabase/metabase&commitHash=91a70a4c9df6b8854ac06ed1fc73d068450fac19&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50433?repo=metabase/metabase&commitHash=91a70a4c9df6b8854ac06ed1fc73d068450fac19&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50433?repo=metabase/metabase&commitHash=91a70a4c9df6b8854ac06ed1fc73d068450fac19&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2684767089,pull_request,closed,,CI: Create dummy successful jobs for skipped driver jobs,,camsaul,2024-11-22 22:29:20+00:00,['camsaul'],2024-11-26 18:50:42+00:00,2024-11-22 23:39:40+00:00,https://github.com/metabase/metabase/pull/50432,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]",[],
2684765723,pull_request,closed,,"🤖 backported ""Check download perms recursively on referenced card-ids""",#50307,github-automation-metabase,2024-11-22 22:27:58+00:00,"['noahmoss', 'github-automation-metabase']",2024-11-25 16:15:19+00:00,2024-11-25 15:46:46+00:00,https://github.com/metabase/metabase/pull/50431,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2498303982, 'issue_id': 2684765723, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/102760_tests-4d1b64ee-purple) &ensp; ![Static Badge](https://img.shields.io/badge/284-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dataset-already-loaded?-test</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50431?repo=metabase/metabase&commitHash=4d1b64ee3d51504a27509af969593da9476d1daf&utm_source=gh-comment&runConclusion=FAILURE&runId=523364b8-34ac-56d2-9c57-b81f6702d4c6) |\n| <code>dbms-version-test</code> | Connection to Hive database refused, unable to acquire a resource from the underlying database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50431?repo=metabase/metabase&commitHash=4d1b64ee3d51504a27509af969593da9476d1daf&utm_source=gh-comment&runConclusion=FAILURE&runId=74b87142-87be-5eb0-9062-d40bccb8fbf4) |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\$1text: fingerprint\\$1test.clj:327:sparksqlrefingerprints up to a limitexpected: (<= @\\$1'sync.fingerprint/max-refingerprint-field-count at... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50431?repo=metabase/metabase&commitHash=4d1b64ee3d51504a27509af969593da9476d1daf&utm_source=gh-comment&runConclusion=FAILURE&runId=95a5a21b-e521-59a8-a6a4-6475f38be041) |\n| <code>date-columns-should-be-emitted-without-time</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50431?repo=metabase/metabase&commitHash=4d1b64ee3d51504a27509af969593da9476d1daf&utm_source=gh-comment&runConclusion=FAILURE&runId=acafaff6-13ac-5031-8596-5613299dd6ef) |\n\n[... and 280 more](https://app.trunk.io/metabase/flaky-tests/pr/50431?repo=metabase/metabase&commitHash=4d1b64ee3d51504a27509af969593da9476d1daf&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50431?repo=metabase/metabase&commitHash=4d1b64ee3d51504a27509af969593da9476d1daf&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 25, 15, 17, 57, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-25 15:17:57 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/102760_tests-4d1b64ee-purple) &ensp; ![Static Badge](https://img.shields.io/badge/284-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dataset-already-loaded?-test</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50431?repo=metabase/metabase&commitHash=4d1b64ee3d51504a27509af969593da9476d1daf&utm_source=gh-comment&runConclusion=FAILURE&runId=523364b8-34ac-56d2-9c57-b81f6702d4c6) |
| <code>dbms-version-test</code> | Connection to Hive database refused, unable to acquire a resource from the underlying database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50431?repo=metabase/metabase&commitHash=4d1b64ee3d51504a27509af969593da9476d1daf&utm_source=gh-comment&runConclusion=FAILURE&runId=74b87142-87be-5eb0-9062-d40bccb8fbf4) |
| <code>refingerprint-fields-for-db!-test</code> | failure\$1text: fingerprint\$1test.clj:327:sparksqlrefingerprints up to a limitexpected: (<= @\$1'sync.fingerprint/max-refingerprint-field-count at... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50431?repo=metabase/metabase&commitHash=4d1b64ee3d51504a27509af969593da9476d1daf&utm_source=gh-comment&runConclusion=FAILURE&runId=95a5a21b-e521-59a8-a6a4-6475f38be041) |
| <code>date-columns-should-be-emitted-without-time</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50431?repo=metabase/metabase&commitHash=4d1b64ee3d51504a27509af969593da9476d1daf&utm_source=gh-comment&runConclusion=FAILURE&runId=acafaff6-13ac-5031-8596-5613299dd6ef) |

[... and 280 more](https://app.trunk.io/metabase/flaky-tests/pr/50431?repo=metabase/metabase&commitHash=4d1b64ee3d51504a27509af969593da9476d1daf&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50431?repo=metabase/metabase&commitHash=4d1b64ee3d51504a27509af969593da9476d1daf&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2684757855,pull_request,closed,,"🤖 backported ""Allow questions to run if there's an invalid `loading-message` setting value""",#50419,github-automation-metabase,2024-11-22 22:23:06+00:00,"['sloansparger', 'github-automation-metabase']",2024-11-23 00:08:15+00:00,2024-11-22 23:09:14+00:00,https://github.com/metabase/metabase/pull/50430,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2495125745, 'issue_id': 2684757855, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/12750_tests-cbeb6b98-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50430?repo=metabase/metabase&commitHash=cbeb6b9827278b2f6d0f2a182c97ef4f0eb480c5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 23, 0, 8, 14, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-23 00:08:14 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/12750_tests-cbeb6b98-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50430?repo=metabase/metabase&commitHash=cbeb6b9827278b2f6d0f2a182c97ef4f0eb480c5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2684738750,pull_request,closed,,"🤖 backported ""[Clean Up] Show alert with 3 month stale content rather than 6""",#50376,github-automation-metabase,2024-11-22 22:10:51+00:00,"['sloansparger', 'github-automation-metabase']",2024-11-22 23:45:45+00:00,2024-11-22 22:52:47+00:00,https://github.com/metabase/metabase/pull/50429,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2495085041, 'issue_id': 2684738750, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13169_tests-529f53ba-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50429?repo=metabase/metabase&commitHash=529f53bab708d29d7e8d60a959f74f253f88a67f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 22, 23, 24, 10, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-22 23:24:10 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13169_tests-529f53ba-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50429?repo=metabase/metabase&commitHash=529f53bab708d29d7e8d60a959f74f253f88a67f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2684731924,pull_request,closed,,"🤖 backported ""docs - sdk readme update""",#50372,github-automation-metabase,2024-11-22 22:07:39+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2024-11-22 22:12:54+00:00,2024-11-22 22:12:53+00:00,https://github.com/metabase/metabase/pull/50428,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2684701719,pull_request,closed,,Adding .png version of no_results.svg to fix #49012,"WIP
  - Addresses #49012 
  - Adding new `no_results.png` version of the existing `no_results.svg` asset to be used in the existing plumbing for image bundling in email / slack notifications as there are assumptions that assets are `.png`

Testing
  - Reproduced following steps as outlined in original issue
  - Replaced asset path with the new `no_results.png` and re-triggered email to verify new image is present
<details>
<summary>Before</summary>
<img width=""1121"" alt=""image"" src=""https://github.com/user-attachments/assets/71fdce45-fab8-4c5d-b3f2-7d93953e19a0"">
</details>
<details>
<summary>After</summary>
<img width=""1111"" alt=""image"" src=""https://github.com/user-attachments/assets/3870f4d7-0487-499d-90af-c69fcc7cd6aa"">
</details>
<details>
<summary>After w/ Color Change</summary>
<img width=""1109"" alt=""Screenshot 2024-11-25 at 3 46 18 PM"" src=""https://github.com/user-attachments/assets/06bfb1d1-7a9b-41d3-921f-6cb137dd1385"">
</details>",tsplude,2024-11-22 21:48:41+00:00,['tsplude'],2024-11-27 04:08:20+00:00,2024-11-26 23:04:43+00:00,https://github.com/metabase/metabase/pull/50426,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2494974631, 'issue_id': 2684701719, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/2_tests-7d1f6e27-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50426?repo=metabase/metabase&commitHash=7d1f6e27e8c92c0d1b85c7efcf6c3447ee56d797&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50426?repo=metabase/metabase&commitHash=7d1f6e27e8c92c0d1b85c7efcf6c3447ee56d797&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50426?repo=metabase/metabase&commitHash=7d1f6e27e8c92c0d1b85c7efcf6c3447ee56d797&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50426?repo=metabase/metabase&commitHash=7d1f6e27e8c92c0d1b85c7efcf6c3447ee56d797&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, but expected stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50426?repo=metabase/metabase&commitHash=7d1f6e27e8c92c0d1b85c7efcf6c3447ee56d797&utm_source=gh-comment&runConclusion=FAILURE&runId=9ab118ee-485f-52fe-90cb-a51ad114734e) |\n| <code>describe-fields-or-table-test</code> | Error occurred while syncing test database, BigQuery returned 503 Service Unavailable error. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50426?repo=metabase/metabase&commitHash=7d1f6e27e8c92c0d1b85c7efcf6c3447ee56d797&utm_source=gh-comment&runConclusion=FAILURE&runId=82394bb0-9a9c-59bf-bcfd-1dab517c82c2) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50426?repo=metabase/metabase&commitHash=7d1f6e27e8c92c0d1b85c7efcf6c3447ee56d797&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 22, 22, 25, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2499398307, 'issue_id': 2684701719, 'author': 'adam-james-v', 'body': ""I wonder if we can remove the old images now too. Maybe check that they're unused in the codebase, and remove them.\r\nProbably not a concern, but is the old 2x attachment the one that was used? Should the new no_results image use the same resolution as that?"", 'created_at': datetime.datetime(2024, 11, 26, 1, 41, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2502150986, 'issue_id': 2684701719, 'author': 'tsplude', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 11, 26, 23, 10, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2502680904, 'issue_id': 2684701719, 'author': 'github-actions[bot]', 'body': '🚀 This should also be released by [v0.52](https://github.com/metabase/metabase/milestone/283)', 'created_at': datetime.datetime(2024, 11, 27, 4, 8, 20, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-22 22:25:44 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/2_tests-7d1f6e27-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50426?repo=metabase/metabase&commitHash=7d1f6e27e8c92c0d1b85c7efcf6c3447ee56d797&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50426?repo=metabase/metabase&commitHash=7d1f6e27e8c92c0d1b85c7efcf6c3447ee56d797&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50426?repo=metabase/metabase&commitHash=7d1f6e27e8c92c0d1b85c7efcf6c3447ee56d797&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50426?repo=metabase/metabase&commitHash=7d1f6e27e8c92c0d1b85c7efcf6c3447ee56d797&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, but expected stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50426?repo=metabase/metabase&commitHash=7d1f6e27e8c92c0d1b85c7efcf6c3447ee56d797&utm_source=gh-comment&runConclusion=FAILURE&runId=9ab118ee-485f-52fe-90cb-a51ad114734e) |
| <code>describe-fields-or-table-test</code> | Error occurred while syncing test database, BigQuery returned 503 Service Unavailable error. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50426?repo=metabase/metabase&commitHash=7d1f6e27e8c92c0d1b85c7efcf6c3447ee56d797&utm_source=gh-comment&runConclusion=FAILURE&runId=82394bb0-9a9c-59bf-bcfd-1dab517c82c2) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50426?repo=metabase/metabase&commitHash=7d1f6e27e8c92c0d1b85c7efcf6c3447ee56d797&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

adam-james-v on (2024-11-26 01:41:49 UTC): I wonder if we can remove the old images now too. Maybe check that they're unused in the codebase, and remove them.
Probably not a concern, but is the old 2x attachment the one that was used? Should the new no_results image use the same resolution as that?

tsplude (Issue Creator) on (2024-11-26 23:10:05 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-11-27 04:08:20 UTC): 🚀 This should also be released by [v0.52](https://github.com/metabase/metabase/milestone/283)

"
2684611773,pull_request,closed,,Migrate cross-version e2e tests using a published SDK package from release branch,"Part of https://github.com/metabase/metabase/issues/50113

### Description

This adds a new CI workflow to run SDK component tests against the stable SDK build for release branch.

This is migrated from https://github.com/metabase/metabase/pull/49196 , but also adds logic to resolve sdk version and checkout to this version tag in git to get a stable set of e2e tests that existed at the moment of sdk release.
This should help to avoid failures for functionality that was merged, but haven't been released to the npm yet.

e.g. for release x.51 -
```
yarn add @metabase/embedding-sdk-react@0.51.9
```

> [!NOTE]
> backport most likely will fail and we will have to resolve conflicts 

### How to verify

Check CI results - https://github.com/metabase/metabase/actions/runs/12033324150/job/33547730386?pr=50423
This is done with hardcoded branch name - `release-x.51.x`

Run tests locally from this branch - `yarn test-cypress-open-component-sdk` (you will also need EE env vars for Cypress)

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",deniskaber,2024-11-22 21:25:34+00:00,['deniskaber'],2024-11-29 13:17:15+00:00,2024-11-27 12:45:33+00:00,https://github.com/metabase/metabase/pull/50423,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2494850505, 'issue_id': 2684611773, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@deniskaber You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2024, 11, 22, 21, 25, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2494974764, 'issue_id': 2684611773, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13052_tests-ddbe07f3-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50423?repo=metabase/metabase&commitHash=ddbe07f3a5033d6fffe6d306f1dfac709335eff5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 22, 22, 25, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2504522933, 'issue_id': 2684611773, 'author': 'deniskaber', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 11, 27, 18, 10, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2504524584, 'issue_id': 2684611773, 'author': 'github-actions[bot]', 'body': '@deniskaber something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12056002001)', 'created_at': datetime.datetime(2024, 11, 27, 18, 11, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2507803914, 'issue_id': 2684611773, 'author': 'github-actions[bot]', 'body': '🚀 This should also be released by [v0.52](https://github.com/metabase/metabase/milestone/283)', 'created_at': datetime.datetime(2024, 11, 29, 13, 17, 13, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-22 21:25:59 UTC): <!---conventional commit reminder comment ID-->
@deniskaber You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

trunk-io[bot] on (2024-11-22 22:25:53 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13052_tests-ddbe07f3-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50423?repo=metabase/metabase&commitHash=ddbe07f3a5033d6fffe6d306f1dfac709335eff5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

deniskaber (Issue Creator) on (2024-11-27 18:10:08 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-11-27 18:11:14 UTC): @deniskaber something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12056002001)

github-actions[bot] on (2024-11-29 13:17:13 UTC): 🚀 This should also be released by [v0.52](https://github.com/metabase/metabase/milestone/283)

"
2684555981,pull_request,closed,,"🤖 backported ""Normalize :temporal_units in action, card, and dashboard entries""",#50418,github-automation-metabase,2024-11-22 20:57:15+00:00,"['metamben', 'github-automation-metabase']",2024-11-26 17:12:01+00:00,2024-11-26 16:04:07+00:00,https://github.com/metabase/metabase/pull/50421,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2501220343, 'issue_id': 2684555981, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/12756_tests-d936e656-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50421?repo=metabase/metabase&commitHash=d936e65690eb063fcdd761a1d658c5ae3b2ee1de&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50421?repo=metabase/metabase&commitHash=d936e65690eb063fcdd761a1d658c5ae3b2ee1de&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50421?repo=metabase/metabase&commitHash=d936e65690eb063fcdd761a1d658c5ae3b2ee1de&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50421?repo=metabase/metabase&commitHash=d936e65690eb063fcdd761a1d658c5ae3b2ee1de&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50421?repo=metabase/metabase&commitHash=d936e65690eb063fcdd761a1d658c5ae3b2ee1de&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 26, 15, 49, 57, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-26 15:49:57 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/12756_tests-d936e656-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50421?repo=metabase/metabase&commitHash=d936e65690eb063fcdd761a1d658c5ae3b2ee1de&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50421?repo=metabase/metabase&commitHash=d936e65690eb063fcdd761a1d658c5ae3b2ee1de&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50421?repo=metabase/metabase&commitHash=d936e65690eb063fcdd761a1d658c5ae3b2ee1de&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50421?repo=metabase/metabase&commitHash=d936e65690eb063fcdd761a1d658c5ae3b2ee1de&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50421?repo=metabase/metabase&commitHash=d936e65690eb063fcdd761a1d658c5ae3b2ee1de&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2684531778,pull_request,closed,,WIP: Simplify stacking without selectDropdown,the point of this PR is to check whether I can get rid of the selectDropdown helper that I added in #49442,rafpaf,2024-11-22 20:45:00+00:00,['rafpaf'],2025-02-04 17:32:22+00:00,2024-11-25 14:33:07+00:00,https://github.com/metabase/metabase/pull/50420,"[('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2494766334, 'issue_id': 2684531778, 'author': 'rafpaf', 'body': '> [!WARNING]\n> <b>This pull request is not mergeable via GitHub because a downstack PR is open. Once all requirements are satisfied, merge this PR as a stack <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50420?utm_source=stack-comment-downstack-mergeability-warning"" >on Graphite</a>.</b>\n> <a href=""https://graphite.dev/docs/merge-pull-requests"">Learn more</a>\n\n* **#50420** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50420?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50420?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* **#49442** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49442?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 1 other dependent PR ([#50972](https://github.com/metabase/metabase/pull/50972) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50972?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>)\n* **#49501** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49501?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#49494** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49494?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 11, 22, 20, 45, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2494902997, 'issue_id': 2684531778, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/3259_tests-d989d957-purple) &ensp; ![Static Badge](https://img.shields.io/badge/28-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > dashboard > filters > SQL > date should work when set through the filter widget</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50420?repo=metabase/metabase&commitHash=d989d957905c900e158443b2dba54cd9b1c201e4&utm_source=gh-comment&runConclusion=FAILURE&runId=a495bcec-f9bf-5702-b629-2915e68db6e6) |\n| <code>scenarios > visualizations > drillthroughs > table\\$1drills native query should display proper drills on cell click for unaggregated query</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50420?repo=metabase/metabase&commitHash=d989d957905c900e158443b2dba54cd9b1c201e4&utm_source=gh-comment&runConclusion=FAILURE&runId=1f180131-effd-575b-9bcb-c7ce4a5d4921) |\n| <code>scenarios > visualizations > drillthroughs > table\\$1drills native query should display proper drills on cell click for query aggregated by category</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50420?repo=metabase/metabase&commitHash=d989d957905c900e158443b2dba54cd9b1c201e4&utm_source=gh-comment&runConclusion=FAILURE&runId=c213f118-45f8-5b25-9c75-ca8c5e0b8eb0) |\n| <code>scenarios > visualizations > drillthroughs > table\\$1drills should display proper drills on cell click for query aggregated by category</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50420?repo=metabase/metabase&commitHash=d989d957905c900e158443b2dba54cd9b1c201e4&utm_source=gh-comment&runConclusion=FAILURE&runId=3ea77229-321b-52fb-aad8-ae05def10b77) |\n\n[... and 24 more](https://app.trunk.io/metabase/flaky-tests/pr/50420?repo=metabase/metabase&commitHash=d989d957905c900e158443b2dba54cd9b1c201e4&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50420?repo=metabase/metabase&commitHash=d989d957905c900e158443b2dba54cd9b1c201e4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 22, 21, 42, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2498184369, 'issue_id': 2684531778, 'author': 'rafpaf', 'body': ""Sometimes there are multiple popovers, only one of which is a select dropdown, so using the selectDropdown helper is useful, and I'll close this PR"", 'created_at': datetime.datetime(2024, 11, 25, 14, 33, 7, tzinfo=datetime.timezone.utc)}]","rafpaf (Issue Creator) on (2024-11-22 20:45:17 UTC): * **#50420** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50420?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50420?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* **#49442** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49442?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 1 other dependent PR ([#50972](https://github.com/metabase/metabase/pull/50972) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50972?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>)
* **#49501** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49501?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#49494** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/49494?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2024-11-22 21:42:31 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/3259_tests-d989d957-purple) &ensp; ![Static Badge](https://img.shields.io/badge/28-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > dashboard > filters > SQL > date should work when set through the filter widget</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50420?repo=metabase/metabase&commitHash=d989d957905c900e158443b2dba54cd9b1c201e4&utm_source=gh-comment&runConclusion=FAILURE&runId=a495bcec-f9bf-5702-b629-2915e68db6e6) |
| <code>scenarios > visualizations > drillthroughs > table\$1drills native query should display proper drills on cell click for unaggregated query</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50420?repo=metabase/metabase&commitHash=d989d957905c900e158443b2dba54cd9b1c201e4&utm_source=gh-comment&runConclusion=FAILURE&runId=1f180131-effd-575b-9bcb-c7ce4a5d4921) |
| <code>scenarios > visualizations > drillthroughs > table\$1drills native query should display proper drills on cell click for query aggregated by category</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50420?repo=metabase/metabase&commitHash=d989d957905c900e158443b2dba54cd9b1c201e4&utm_source=gh-comment&runConclusion=FAILURE&runId=c213f118-45f8-5b25-9c75-ca8c5e0b8eb0) |
| <code>scenarios > visualizations > drillthroughs > table\$1drills should display proper drills on cell click for query aggregated by category</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50420?repo=metabase/metabase&commitHash=d989d957905c900e158443b2dba54cd9b1c201e4&utm_source=gh-comment&runConclusion=FAILURE&runId=3ea77229-321b-52fb-aad8-ae05def10b77) |

[... and 24 more](https://app.trunk.io/metabase/flaky-tests/pr/50420?repo=metabase/metabase&commitHash=d989d957905c900e158443b2dba54cd9b1c201e4&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50420?repo=metabase/metabase&commitHash=d989d957905c900e158443b2dba54cd9b1c201e4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

rafpaf (Issue Creator) on (2024-11-25 14:33:07 UTC): Sometimes there are multiple popovers, only one of which is a select dropdown, so using the selectDropdown helper is useful, and I'll close this PR

"
2684453449,pull_request,closed,,Allow questions to run if there's an invalid `loading-message` setting value,"Closes https://github.com/metabase/metabase/issues/50414

### Description

The `loading-message` setting value could be set to an invalid enum value via the `MB_LOADING_MESSAGE` env variable. This prevented being able to run questions and cause the UI to break, this PR resolves this issue in two places:
1. Prevents the UI from breaking when if it gets an invalid setting value by showing no message.
2. Validates that `MB_LOADING_MESSAGE` is a valid enum value and defaults ""Doing science""

### How to verify

See issue for repro steps.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR",sloansparger,2024-11-22 20:25:54+00:00,['sloansparger'],2024-11-22 22:48:15+00:00,2024-11-22 22:21:24+00:00,https://github.com/metabase/metabase/pull/50419,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2494830706, 'issue_id': 2684453449, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/1_test-93e8b8fb-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>delay-queue-test</code> | failure\\$1text: queue\\$1test.clj:92expected: (nil? (queue/take-delayed-batch! q 3 90 0))  actual: (not (nil? [704138153295])) | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50419?repo=metabase/metabase&commitHash=93e8b8fbc43b31f9a47ad095af51779f78c99a7e&utm_source=gh-comment&runConclusion=FAILURE&runId=c8ad697e-9fd6-5545-89fa-7530b4ac41aa) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50419?repo=metabase/metabase&commitHash=93e8b8fbc43b31f9a47ad095af51779f78c99a7e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 22, 21, 18, 38, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-22 21:18:38 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/1_test-93e8b8fb-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>delay-queue-test</code> | failure\$1text: queue\$1test.clj:92expected: (nil? (queue/take-delayed-batch! q 3 90 0))  actual: (not (nil? [704138153295])) | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50419?repo=metabase/metabase&commitHash=93e8b8fbc43b31f9a47ad095af51779f78c99a7e&utm_source=gh-comment&runConclusion=FAILURE&runId=c8ad697e-9fd6-5545-89fa-7530b4ac41aa) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50419?repo=metabase/metabase&commitHash=93e8b8fbc43b31f9a47ad095af51779f78c99a7e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2684401843,pull_request,closed,,"Normalize :temporal_units in action, card, and dashboard entries","Fixes #50371

### Description

The `:parameters` field was normalized according to the legacy parameters schema, which resulted in `:temporal_units` not getting converted to keywords.

I've marked a few tests as `:^parallel`. This is not really relevant for the bug fix.

### How to verify

Use the steps from #50371 and check out the new test in `test/metabase/api/dashboard_test.clj`.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",metamben,2024-11-22 19:53:58+00:00,['metamben'],2024-11-22 20:57:33+00:00,2024-11-22 20:56:25+00:00,https://github.com/metabase/metabase/pull/50418,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]",[],
2684289530,pull_request,closed,,Use relative-time-interval in the QP for parameters,"Fixes https://github.com/metabase/metabase/issues/49853

**BE**
We previously added a new `relative-time-interval` MBQL lib function to fix relative date filters with offset but it's used by new QB filters only on the FE. Let's use it in the QP as well.

**FE**
We need to use `relative-time-interval` when converting date parameter values to MBQL filters. This is legacy code that works with MBQL directly. Furthermore, this MBQL is used internally by the legacy `DatePicker` for the UI state (!) and updating the clause for all cases is very hard due to how this code is written. I have plans to completely drop the legacy `DatePicker`, so for now I introduce a new function to create an actual MBQL clause and leave whatever is generated for the component untouched. 

If anyone has a good idea how write a stable E2E test (without simply checking for filter operators) I'm all ears. 

How to verify:
- Make sure that `relative-time-interval` is used when drilling thru from a dashboard with a relative date filter with an offset.",ranquild,2024-11-22 19:13:44+00:00,['ranquild'],2024-11-26 17:37:50+00:00,2024-11-26 16:37:39+00:00,https://github.com/metabase/metabase/pull/50417,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2494714402, 'issue_id': 2684289530, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/17_tests-773ffafd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50417?repo=metabase/metabase&commitHash=773ffafdf6e24442901c661452c1f8f4fefc5e36&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50417?repo=metabase/metabase&commitHash=773ffafdf6e24442901c661452c1f8f4fefc5e36&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50417?repo=metabase/metabase&commitHash=773ffafdf6e24442901c661452c1f8f4fefc5e36&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50417?repo=metabase/metabase&commitHash=773ffafdf6e24442901c661452c1f8f4fefc5e36&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>delay-queue-test</code> | failure\\_text: queue\\_test.clj:92expected: (nil? (queue/take-delayed-batch! q 3 90 0))  actual: (not (nil? [1715718708108])) | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50417?repo=metabase/metabase&commitHash=773ffafdf6e24442901c661452c1f8f4fefc5e36&utm_source=gh-comment&runConclusion=FAILURE&runId=bccf9325-8a78-59b9-b36e-0a10741555b6) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50417?repo=metabase/metabase&commitHash=773ffafdf6e24442901c661452c1f8f4fefc5e36&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 22, 20, 9, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2500274038, 'issue_id': 2684289530, 'author': 'kamilmielnik', 'body': ""> @kamilmielnik I believe we update seed data from time to time so this test will break itself even with a mocked date.\r\n\r\nI'm afraid this concern is valid for a substantial amount of our tests."", 'created_at': datetime.datetime(2024, 11, 26, 10, 44, 33, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-22 20:09:55 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/17_tests-773ffafd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50417?repo=metabase/metabase&commitHash=773ffafdf6e24442901c661452c1f8f4fefc5e36&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50417?repo=metabase/metabase&commitHash=773ffafdf6e24442901c661452c1f8f4fefc5e36&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50417?repo=metabase/metabase&commitHash=773ffafdf6e24442901c661452c1f8f4fefc5e36&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50417?repo=metabase/metabase&commitHash=773ffafdf6e24442901c661452c1f8f4fefc5e36&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>delay-queue-test</code> | failure\_text: queue\_test.clj:92expected: (nil? (queue/take-delayed-batch! q 3 90 0))  actual: (not (nil? [1715718708108])) | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50417?repo=metabase/metabase&commitHash=773ffafdf6e24442901c661452c1f8f4fefc5e36&utm_source=gh-comment&runConclusion=FAILURE&runId=bccf9325-8a78-59b9-b36e-0a10741555b6) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50417?repo=metabase/metabase&commitHash=773ffafdf6e24442901c661452c1f8f4fefc5e36&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

kamilmielnik on (2024-11-26 10:44:33 UTC): I'm afraid this concern is valid for a substantial amount of our tests.

"
2684155096,pull_request,open,,Fixed various italian translations,"### Description

This is a fix of a lot of erroneous italian translations. I have seen the poeditor advice only when i was opening the PR... :-(

`no-backport`

### How to verify

1. Open Metabase
2. Check italian labels

### Demo

![immagine](https://github.com/user-attachments/assets/1e9a6fcd-82ad-4817-9e83-e22976a9647a)

These are only a few examples...

### Checklist

None
",loviuz,2024-11-22 18:27:46+00:00,[],2024-11-22 18:29:25+00:00,,https://github.com/metabase/metabase/pull/50415,[],[],
2683918103,pull_request,closed,,Update SDK version to 0.51.9,Update Readme version references and published npm package version to 0.51.9,github-automation-metabase,2024-11-22 17:03:08+00:00,"['heypoom', 'github-automation-metabase']",2024-11-22 17:08:31+00:00,2024-11-22 17:07:16+00:00,https://github.com/metabase/metabase/pull/50413,"[('no-backport', 'Do not backport this PR to any branch')]",[],
2683912372,pull_request,open,,feat: allow ionic scheme-source in frame-ancestors CSP directive,"> [!IMPORTANT]
> For those employed by Metabase: if you are merging into master, please add either a `backport` or a `no-backport` label to this PR. You will not be able to merge until you do this step. Refer to the section [Do I need to backport this PR?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#89f80d6f17714a0198aeb66c0efd1b71) in the Metabase Branching Strategy document for more details. If you're not employed by Metabase, this section does not apply to you, and the label will be taken care of by your reviewer.

> **Warning**
>
> If that is your first contribution to Metabase, please sign the [Contributor License Agreement](https://docs.google.com/a/metabase.com/forms/d/1oV38o7b9ONFSwuzwmERRMi9SYrhYeOrkbmNaq9pOJ_E/viewform) (unless it's a tiny documentation change). Also, if you're attempting to fix a translation issue, please submit your changes to our [POEditor project](https://poeditor.com/join/project/ynjQmwSsGh) instead of opening a PR.

PR following a discussion with Metabase support by email - ticket number: 31976.

### Description

This PR allows the scheme-source `ionic:` in the frame-ancestors directive. Allowing Ionic mobile apps (https://ionicframework.com/) to embed static Metabase dashboards.

#### Problem it solves
Static embedded Metabase dashboards currently refuses to be loaded as an iframe in mobile iOS apps using Ionic Cordova. 
The problem comes from the CSP (Content Security Policy) header in the HTTP response.
The directive `frame-ancestors: *;` allows only http and https schema. It is not compatible with iOS and Ionic because it uses `ionic:` schema.

### How to verify

Describe the steps to verify that the changes are working as expected.

- Embed a dashboard into an Ionic mobile app.
- Build and open the app on an iOS device.
- The dashboard should be visible.
",AurelienJoy,2024-11-22 17:01:07+00:00,[],2024-11-22 17:01:07+00:00,,https://github.com/metabase/metabase/pull/50412,[],[],
2683888583,pull_request,closed,,fix(sdk): show loader right after visualizing in notebook editor for the first time,"Closes https://github.com/metabase/metabase/issues/47564

### Description

There is no feedback after clicking on ""Visualize"" for the first time when creating new questions. You can notice this in [Shoppy when creating questions](https://embedded-analytics-sdk-demo.metabase.com/admin/analytics/new/from-scratch) as the viz only shows up after the question finishes loading, which takes a long time on Shoppy.

This PR triggers `onApply` immediately when ""Visualize"" is clicked. It also fixes an issue where we show ""Question not found"" instead of a loading spinner in the QuestionVisualization view for the first time.

### How to verify

- Use either the `CreateQuestion` component in the Storybook story, or use the question creator in Shoppy with this PR.
- Click on Visualize
- It should switch to the visualize view right away. It will show a loading indicator.

### Demo

After clicking on Visualize when creating questions in Shoppy, it shows a loading indicator.

![CleanShot 2567-11-22 at 23 53 32@2x](https://github.com/user-attachments/assets/38c14a61-2772-4160-be60-32f213b5b1a2)

### Checklist

- [x] Tests have been added/updated to cover changes in this PR - E2E
",heypoom,2024-11-22 16:54:25+00:00,['heypoom'],2024-11-25 19:38:00+00:00,2024-11-25 19:37:57+00:00,https://github.com/metabase/metabase/pull/50411,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2494471161, 'issue_id': 2683888583, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13098_tests-0e154568-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50411?repo=metabase/metabase&commitHash=0e1545683bc315f6e4a880796367f4bdcd53faef&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 22, 18, 13, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2497571595, 'issue_id': 2683888583, 'author': 'heypoom', 'body': '@oisincoveney I think the `question` field can still be `undefined` when the `questionId` points to an invalid question though, currently the `question` field comes from the load question hook.\r\n\r\n```\r\nexport interface LoadQuestionHookResult {\r\n  question?: Question;\r\n``', 'created_at': datetime.datetime(2024, 11, 25, 10, 28, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2498135885, 'issue_id': 2683888583, 'author': 'oisincoveney', 'body': ""> @oisincoveney I think the `question` field can still be `undefined` when the `questionId` points to an invalid question though, currently the `question` field comes from the load question hook.\r\n> \r\n> ```\r\n> export interface LoadQuestionHookResult {\r\n>   question?: Question;\r\n> ``\r\n> ```\r\n\r\nhm.. wouldn't that still end up at the `SdkError` state rather than the actual component?\r\n\r\nWe don't have to do anything about this in this PR but I really would like to sort that out at some point so we can have some nicer typing for our components"", 'created_at': datetime.datetime(2024, 11, 25, 14, 14, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2498165413, 'issue_id': 2683888583, 'author': 'heypoom', 'body': '@oisincoveney Good point. I created a task https://github.com/metabase/metabase/issues/50456 for lifting the SdkError into InteractiveQuestionProvider itself, so we can guarantee that question will never be undefined under `InteractiveQuestionProvider`.', 'created_at': datetime.datetime(2024, 11, 25, 14, 26, 39, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-22 18:13:46 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13098_tests-0e154568-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50411?repo=metabase/metabase&commitHash=0e1545683bc315f6e4a880796367f4bdcd53faef&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

heypoom (Issue Creator) on (2024-11-25 10:28:15 UTC): @oisincoveney I think the `question` field can still be `undefined` when the `questionId` points to an invalid question though, currently the `question` field comes from the load question hook.

```
export interface LoadQuestionHookResult {
  question?: Question;
``

oisincoveney on (2024-11-25 14:14:59 UTC): hm.. wouldn't that still end up at the `SdkError` state rather than the actual component?

We don't have to do anything about this in this PR but I really would like to sort that out at some point so we can have some nicer typing for our components

heypoom (Issue Creator) on (2024-11-25 14:26:39 UTC): @oisincoveney Good point. I created a task https://github.com/metabase/metabase/issues/50456 for lifting the SdkError into InteractiveQuestionProvider itself, so we can guarantee that question will never be undefined under `InteractiveQuestionProvider`.

"
2683872809,pull_request,closed,,Fix pivot collapsed rows with legacy viz settings,"Fixes https://github.com/metabase/metabase/issues/50346

How to verify (note that it would be easier to run an e2e test):
-  Run v50
- New -> Question -> Orders
- Aggregation -> Count, Sum of Total
- Breakout -> Products.Category, Products.Vendor, People.Source
- Visualize
- Change the viz type to Pivot table
- Go to viz settings -> Make sure that Rows are Category, Vendor, Source, Columns are empty
- Save
- Run v51 (or master)
- Open the question. Previously there would be no collapse buttons, now they are shown and are functional.

Before:
<img width=""941"" alt=""Screenshot 2024-11-22 at 10 53 23"" src=""https://github.com/user-attachments/assets/181ae941-13ec-45ec-8453-bd71ac95c47b"">

After:
<img width=""799"" alt=""Screenshot 2024-11-22 at 10 58 15"" src=""https://github.com/user-attachments/assets/4ace2b37-8900-4af9-9a25-d6350faba6e5"">
",ranquild,2024-11-22 16:49:21+00:00,['ranquild'],2024-11-26 00:31:39+00:00,2024-11-26 00:31:37+00:00,https://github.com/metabase/metabase/pull/50410,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2494262117, 'issue_id': 2683872809, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff c7e0bc4cf84f79d336c64137a2a27980b3c38817...b812d0358265e4031f74b335825fa791ccf3ae16.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/visualizations/PivotTable/settings.ts |', 'created_at': datetime.datetime(2024, 11, 22, 16, 51, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2494401343, 'issue_id': 2683872809, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13159_tests-b812d035-purple) &ensp; ![Static Badge](https://img.shields.io/badge/2-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Write Actions on Dashboards (postgres) adding and executing actions hidden fields adds a query action and runs it</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50410?repo=metabase/metabase&commitHash=b812d0358265e4031f74b335825fa791ccf3ae16&utm_source=gh-comment&runConclusion=FAILURE&runId=8072aad2-d79b-5a93-a3ca-0b775287d498) |\n| <code>Write Actions on Dashboards (mysql) adding and executing actions hidden fields adds a query action and runs it</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50410?repo=metabase/metabase&commitHash=b812d0358265e4031f74b335825fa791ccf3ae16&utm_source=gh-comment&runConclusion=FAILURE&runId=370f56e8-7963-5998-b093-b90cc123140e) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50410?repo=metabase/metabase&commitHash=b812d0358265e4031f74b335825fa791ccf3ae16&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 22, 17, 41, 31, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-22 16:51:55 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff c7e0bc4cf84f79d336c64137a2a27980b3c38817...b812d0358265e4031f74b335825fa791ccf3ae16.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/visualizations/PivotTable/settings.ts |

trunk-io[bot] on (2024-11-22 17:41:31 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13159_tests-b812d035-purple) &ensp; ![Static Badge](https://img.shields.io/badge/2-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Write Actions on Dashboards (postgres) adding and executing actions hidden fields adds a query action and runs it</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50410?repo=metabase/metabase&commitHash=b812d0358265e4031f74b335825fa791ccf3ae16&utm_source=gh-comment&runConclusion=FAILURE&runId=8072aad2-d79b-5a93-a3ca-0b775287d498) |
| <code>Write Actions on Dashboards (mysql) adding and executing actions hidden fields adds a query action and runs it</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50410?repo=metabase/metabase&commitHash=b812d0358265e4031f74b335825fa791ccf3ae16&utm_source=gh-comment&runConclusion=FAILURE&runId=370f56e8-7963-5998-b093-b90cc123140e) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50410?repo=metabase/metabase&commitHash=b812d0358265e4031f74b335825fa791ccf3ae16&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2683672450,pull_request,closed,,Update npm packages from 1.xx.y to 0.xx.y,,albertoperdomo,2024-11-22 15:52:21+00:00,['albertoperdomo'],2024-11-25 09:57:07+00:00,2024-11-25 09:54:08+00:00,https://github.com/metabase/metabase/pull/50409,"[('backport', 'Automatically create PR on current release branch on merge')]",[],
2683525655,pull_request,closed,,"🤖 backported ""fix(sdk): summarize sdk component crashes with stage index errors""",#50400,github-automation-metabase,2024-11-22 15:16:48+00:00,"['heypoom', 'github-automation-metabase']",2024-11-22 17:19:03+00:00,2024-11-22 16:32:37+00:00,https://github.com/metabase/metabase/pull/50407,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2494067503, 'issue_id': 2683525655, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13169_tests-cc4abf0d-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding-sdk > interactive-question should not crash when clicking on Summarize (metabase\\$150398)</code> | The expected condition 'true' was not met, and the actual value was 'false'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50407?repo=metabase/metabase&commitHash=cc4abf0db41fcfa065f98fb0121faf97b943aead&utm_source=gh-comment&runConclusion=FAILURE&runId=1c263aed-b254-5407-9d38-c307050ce321) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50407?repo=metabase/metabase&commitHash=cc4abf0db41fcfa065f98fb0121faf97b943aead&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 22, 15, 47, 34, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-22 15:47:34 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13169_tests-cc4abf0d-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding-sdk > interactive-question should not crash when clicking on Summarize (metabase\$150398)</code> | The expected condition 'true' was not met, and the actual value was 'false'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50407?repo=metabase/metabase&commitHash=cc4abf0db41fcfa065f98fb0121faf97b943aead&utm_source=gh-comment&runConclusion=FAILURE&runId=1c263aed-b254-5407-9d38-c307050ce321) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50407?repo=metabase/metabase&commitHash=cc4abf0db41fcfa065f98fb0121faf97b943aead&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2683328928,pull_request,closed,,A single space,"Snuck in via #50399 

We should either make the formatter a hook, or a required check...",crisptrutski,2024-11-22 14:12:07+00:00,['crisptrutski'],2024-11-26 18:50:46+00:00,2024-11-22 14:18:56+00:00,https://github.com/metabase/metabase/pull/50405,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2493920563, 'issue_id': 2683328928, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/1_test-447ab886-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>have-select-privilege?-test</code> | The select privilege check failed when auto-commit is false. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50405?repo=metabase/metabase&commitHash=447ab886659d54b492ddeb78ff765b871c98b1ed&utm_source=gh-comment&runConclusion=FAILURE&runId=3edc218a-fa1d-5f0d-a298-639a0a7fe97b) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50405?repo=metabase/metabase&commitHash=447ab886659d54b492ddeb78ff765b871c98b1ed&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 22, 14, 43, 11, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-22 14:43:11 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/1_test-447ab886-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>have-select-privilege?-test</code> | The select privilege check failed when auto-commit is false. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50405?repo=metabase/metabase&commitHash=447ab886659d54b492ddeb78ff765b871c98b1ed&utm_source=gh-comment&runConclusion=FAILURE&runId=3edc218a-fa1d-5f0d-a298-639a0a7fe97b) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50405?repo=metabase/metabase&commitHash=447ab886659d54b492ddeb78ff765b871c98b1ed&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2683236600,pull_request,closed,,Isolate ranker tests better,"This avoids conflating any ranker effects, by disabling all but the ranker in question.

It also avoids the ""no weights"" case passing accidentally, by using an inverted ranking instead.",crisptrutski,2024-11-22 13:32:19+00:00,['crisptrutski'],2024-11-22 13:34:29+00:00,2024-11-22 13:34:27+00:00,https://github.com/metabase/metabase/pull/50403,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]",[],
2682830228,pull_request,closed,,Modify MultiStepPopover to use one state,Forces the logic of `MultiStepPopover` to be controlled by the parent and uses `null` as the `closed` state. It will open automatically when it is passed a valid `step` value.,oisincoveney,2024-11-22 11:06:22+00:00,['oisincoveney'],2024-11-28 14:23:21+00:00,2024-11-22 11:43:27+00:00,https://github.com/metabase/metabase/pull/50401,"[('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2493563633, 'issue_id': 2682830228, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/12946_tests-81f444bc-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\$124966)</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50401?repo=metabase/metabase&commitHash=81f444bcf2ad202360c5bdda2aeef8f69749511a&utm_source=gh-comment&runConclusion=FAILURE&runId=96ae1343-7dd1-5a16-9296-8dfd8125de26) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50401?repo=metabase/metabase&commitHash=81f444bcf2ad202360c5bdda2aeef8f69749511a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 22, 11, 43, 25, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-22 11:43:25 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/12946_tests-81f444bc-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\$124966)</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50401?repo=metabase/metabase&commitHash=81f444bcf2ad202360c5bdda2aeef8f69749511a&utm_source=gh-comment&runConclusion=FAILURE&runId=96ae1343-7dd1-5a16-9296-8dfd8125de26) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50401?repo=metabase/metabase&commitHash=81f444bcf2ad202360c5bdda2aeef8f69749511a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2682756632,pull_request,closed,,fix(sdk): summarize sdk component crashes with stage index errors,"Closes https://github.com/metabase/metabase/issues/50398

### Description

Fixes the stage index error thrown when rendering the [Summarize](https://github.com/metabase/metabase/pull/49901) sdk component. The only consumers of `SummarizeAggregationItemList` and `SummarizeBreakoutColumnList` used in the SDK's `Summarize` component is `SummarizeSidebar`, which is only used by `StructuredQueryRightSidebar` which only passes `stageIndex={-1}`. This makes sense as we only want to work with the latest stages in this case.

### How to verify

- Go to an interactive question's default view (or a view with the Summarize view)
- Click on the Summarize button
- It should not crash. The layout does look weird but this will be fixed in https://github.com/metabase/metabase/issues/49719

### Checklist

- [x] Tests have been added/updated to cover changes in this PR - E2E
",heypoom,2024-11-22 10:38:45+00:00,['heypoom'],2024-11-22 15:45:23+00:00,2024-11-22 15:15:52+00:00,https://github.com/metabase/metabase/pull/50400,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2493569292, 'issue_id': 2682756632, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13243_tests-c2c41882-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50400?repo=metabase/metabase&commitHash=c2c41882b2124dc552dbcc68d10aa4098da292b5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 22, 11, 46, 9, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-22 11:46:09 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13243_tests-c2c41882-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50400?repo=metabase/metabase&commitHash=c2c41882b2124dc552dbcc68d10aa4098da292b5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2682749220,pull_request,closed,,Search ingestion test (cont),"Follow up of https://github.com/metabase/metabase/pull/50388 adding tests for the rest of the models

Ref #50261",qnkhuat,2024-11-22 10:35:13+00:00,['qnkhuat'],2024-11-26 18:50:47+00:00,2024-11-22 14:09:35+00:00,https://github.com/metabase/metabase/pull/50399,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2493506332, 'issue_id': 2682749220, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/77970_tests-9877acba-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50399?repo=metabase/metabase&commitHash=9877acba0e7e290936151a21a11f6d9b4a39694b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 22, 11, 10, 59, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-22 11:10:59 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/77970_tests-9877acba-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50399?repo=metabase/metabase&commitHash=9877acba0e7e290936151a21a11f6d9b4a39694b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2682647462,pull_request,closed,,"🤖 backported ""Unify (app) banners""",#50356,github-automation-metabase,2024-11-22 09:46:32+00:00,"['nemanjaglumac', 'github-automation-metabase']",2024-11-22 11:09:07+00:00,2024-11-22 10:28:00+00:00,https://github.com/metabase/metabase/pull/50397,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2493399237, 'issue_id': 2682647462, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/23072_tests-eb47ce3f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>SavedQuestionLoader should load a new question if the question ID changes</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50397?repo=metabase/metabase&commitHash=eb47ce3f0781a50136a7472a096727c68c3034d1&utm_source=gh-comment&runConclusion=FAILURE&runId=209a21f2-f04a-5dd5-80ba-c436fd75312d) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50397?repo=metabase/metabase&commitHash=eb47ce3f0781a50136a7472a096727c68c3034d1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 22, 10, 12, 52, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-22 10:12:52 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/23072_tests-eb47ce3f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>SavedQuestionLoader should load a new question if the question ID changes</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50397?repo=metabase/metabase&commitHash=eb47ce3f0781a50136a7472a096727c68c3034d1&utm_source=gh-comment&runConclusion=FAILURE&runId=209a21f2-f04a-5dd5-80ba-c436fd75312d) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50397?repo=metabase/metabase&commitHash=eb47ce3f0781a50136a7472a096727c68c3034d1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2682339300,pull_request,closed,,Disable `?locale` on static embeds/public links,"> [!note]
> Do not backport this PR because it targets 52

Closes https://github.com/metabase/metabase/issues/50313

### Description

Since we have the new hash option `#locale` on static embeds/public links. We want to avoid confusion on the undocumented `?locale` parameter by removing it and opt for `#locale` instead.

### How to verify

1. Try setting the search param `?locale=xx` with the locale of your choice e.g. `?locale=ko` in either a static embed or a public link on either a dashboard or a question. And none of it should work
1. Try setting `?locale=xx` with the locale of your choice on normal Metabase and it should work. This means the interactive embed would work as well.
1. Now test the static embed/public link again with `#locale`, and it should only work when you have a Pro license (https://github.com/metabase/metabase/issues/50199).

### Demo
#### with `?locale=en`, it doesn't work anymore
![image](https://github.com/user-attachments/assets/1679d7db-a1e6-4c29-a700-0566e64c5bc4)

#### with `#localo=en`, only when we use the hash locale, then it would work

![image](https://github.com/user-attachments/assets/af82f080-f078-4aa8-82fc-692fefbf29e8)


### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",WiNloSt,2024-11-22 08:32:37+00:00,['WiNloSt'],2024-11-26 15:13:39+00:00,2024-11-26 15:13:37+00:00,https://github.com/metabase/metabase/pull/50391,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', '')]","[{'comment_id': 2493286585, 'issue_id': 2682339300, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/37109_tests-8df869b9-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50391?repo=metabase/metabase&commitHash=8df869b92198af2bb82930400d61dc80abb80dfc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 22, 9, 16, 41, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-22 09:16:41 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/37109_tests-8df869b9-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50391?repo=metabase/metabase&commitHash=8df869b92198af2bb82930400d61dc80abb80dfc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2682336387,pull_request,closed,,"🤖 backported ""add capability for sending bug reports""","  #49875
",github-automation-metabase,2024-11-22 08:31:57+00:00,"['filiphric', 'github-automation-metabase']",2025-01-10 15:32:45+00:00,2025-01-10 15:32:43+00:00,https://github.com/metabase/metabase/pull/50390,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2545017959, 'issue_id': 2682336387, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/100364_tests-ddfe438c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50390?repo=metabase/metabase&commitHash=ddfe438ca5eccaaf6024535644c7ecfe7fd21fa7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50390?repo=metabase/metabase&commitHash=ddfe438ca5eccaaf6024535644c7ecfe7fd21fa7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50390?repo=metabase/metabase&commitHash=ddfe438ca5eccaaf6024535644c7ecfe7fd21fa7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50390?repo=metabase/metabase&commitHash=ddfe438ca5eccaaf6024535644c7ecfe7fd21fa7&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50390?repo=metabase/metabase&commitHash=ddfe438ca5eccaaf6024535644c7ecfe7fd21fa7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 16, 9, 14, 15, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-16 09:14:15 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/100364_tests-ddfe438c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50390?repo=metabase/metabase&commitHash=ddfe438ca5eccaaf6024535644c7ecfe7fd21fa7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50390?repo=metabase/metabase&commitHash=ddfe438ca5eccaaf6024535644c7ecfe7fd21fa7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50390?repo=metabase/metabase&commitHash=ddfe438ca5eccaaf6024535644c7ecfe7fd21fa7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50390?repo=metabase/metabase&commitHash=ddfe438ca5eccaaf6024535644c7ecfe7fd21fa7&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50390?repo=metabase/metabase&commitHash=ddfe438ca5eccaaf6024535644c7ecfe7fd21fa7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2681941904,pull_request,closed,,Provide a generic (static) way to override search filter defaults,"Refs https://github.com/metabase/metabase/issues/50206

I don't think it's necessary to make this dynamic.",crisptrutski,2024-11-22 06:09:30+00:00,['crisptrutski'],2024-11-26 18:50:49+00:00,2024-11-22 09:04:22+00:00,https://github.com/metabase/metabase/pull/50389,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2493194740, 'issue_id': 2681941904, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/1_test-56cd1af2-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>delay-queue-test</code> | failure\\$1text: queue\\$1test.clj:92expected: (nil? (queue/take-delayed-batch! q 3 90 0))  actual: (not (nil? [584314295708])) | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50389?repo=metabase/metabase&commitHash=56cd1af21e77a1406b7c7eac73b8988a95cfd28e&utm_source=gh-comment&runConclusion=FAILURE&runId=c02a460e-758b-5760-91db-01b51a42384e) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50389?repo=metabase/metabase&commitHash=56cd1af21e77a1406b7c7eac73b8988a95cfd28e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 22, 8, 40, 40, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-22 08:40:40 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/1_test-56cd1af2-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>delay-queue-test</code> | failure\$1text: queue\$1test.clj:92expected: (nil? (queue/take-delayed-batch! q 3 90 0))  actual: (not (nil? [584314295708])) | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50389?repo=metabase/metabase&commitHash=56cd1af21e77a1406b7c7eac73b8988a95cfd28e&utm_source=gh-comment&runConclusion=FAILURE&runId=c02a460e-758b-5760-91db-01b51a42384e) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50389?repo=metabase/metabase&commitHash=56cd1af21e77a1406b7c7eac73b8988a95cfd28e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2681916454,pull_request,closed,,Card ingestion test,"tests for card ingestion. More to come
Ref #50261
",qnkhuat,2024-11-22 05:50:21+00:00,[],2024-11-26 18:50:48+00:00,2024-11-22 10:33:06+00:00,https://github.com/metabase/metabase/pull/50388,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2492953137, 'issue_id': 2681916454, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/39018_tests-58ea9eef-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50388?repo=metabase/metabase&commitHash=58ea9eef5727a211e8ab6a310a0bd7e8048acd8f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 22, 6, 19, 1, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-22 06:19:01 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/39018_tests-58ea9eef-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50388?repo=metabase/metabase&commitHash=58ea9eef5727a211e8ab6a310a0bd7e8048acd8f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2681856657,pull_request,closed,,"🤖 backported ""Improve SDK release job title""",#50318,github-automation-metabase,2024-11-22 05:37:00+00:00,"['WiNloSt', 'github-automation-metabase']",2024-11-22 05:38:36+00:00,2024-11-22 05:38:35+00:00,https://github.com/metabase/metabase/pull/50387,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2681682235,pull_request,closed,,Enable New Search tests in CI,About time 😅 ,crisptrutski,2024-11-22 03:53:52+00:00,['crisptrutski'],2024-11-26 18:50:39+00:00,2024-11-26 14:50:12+00:00,https://github.com/metabase/metabase/pull/50386,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2493128539, 'issue_id': 2681682235, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/2_tests-e46c9515-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50386?repo=metabase/metabase&commitHash=e46c951526b6981c6443e7da0a2071883f2f799f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50386?repo=metabase/metabase&commitHash=e46c951526b6981c6443e7da0a2071883f2f799f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50386?repo=metabase/metabase&commitHash=e46c951526b6981c6443e7da0a2071883f2f799f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50386?repo=metabase/metabase&commitHash=e46c951526b6981c6443e7da0a2071883f2f799f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>check-can-connect-before-sync-test</code> | BigQuery database sync failed with status code 422 when trying to sync schema, expected 200. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50386?repo=metabase/metabase&commitHash=e46c951526b6981c6443e7da0a2071883f2f799f&utm_source=gh-comment&runConclusion=FAILURE&runId=868a9f1c-aaba-5f95-b33b-6dfc7f3f168a) |\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they don't. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50386?repo=metabase/metabase&commitHash=e46c951526b6981c6443e7da0a2071883f2f799f&utm_source=gh-comment&runConclusion=FAILURE&runId=a254b6d6-2362-506d-b1a4-8dab7b9e2ca3) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50386?repo=metabase/metabase&commitHash=e46c951526b6981c6443e7da0a2071883f2f799f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 22, 8, 10, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2493128542, 'issue_id': 2681682235, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/79743_tests-322d41ad-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>delay-queue-test</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50386?repo=metabase/metabase&commitHash=322d41ad236f8d23d4cdbc6d36f136651b10fb8f&utm_source=gh-comment&runConclusion=FAILURE&runId=5279e71e-9486-5b74-9745-20e2d3399210) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50386?repo=metabase/metabase&commitHash=322d41ad236f8d23d4cdbc6d36f136651b10fb8f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 22, 8, 10, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2493128548, 'issue_id': 2681682235, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/79743_tests-322d41ad-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>delay-queue-test</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50386?repo=metabase/metabase&commitHash=322d41ad236f8d23d4cdbc6d36f136651b10fb8f&utm_source=gh-comment&runConclusion=FAILURE&runId=5279e71e-9486-5b74-9745-20e2d3399210) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50386?repo=metabase/metabase&commitHash=322d41ad236f8d23d4cdbc6d36f136651b10fb8f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 22, 8, 10, 39, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-22 08:10:39 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/2_tests-e46c9515-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50386?repo=metabase/metabase&commitHash=e46c951526b6981c6443e7da0a2071883f2f799f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50386?repo=metabase/metabase&commitHash=e46c951526b6981c6443e7da0a2071883f2f799f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50386?repo=metabase/metabase&commitHash=e46c951526b6981c6443e7da0a2071883f2f799f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50386?repo=metabase/metabase&commitHash=e46c951526b6981c6443e7da0a2071883f2f799f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>check-can-connect-before-sync-test</code> | BigQuery database sync failed with status code 422 when trying to sync schema, expected 200. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50386?repo=metabase/metabase&commitHash=e46c951526b6981c6443e7da0a2071883f2f799f&utm_source=gh-comment&runConclusion=FAILURE&runId=868a9f1c-aaba-5f95-b33b-6dfc7f3f168a) |
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they don't. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50386?repo=metabase/metabase&commitHash=e46c951526b6981c6443e7da0a2071883f2f799f&utm_source=gh-comment&runConclusion=FAILURE&runId=a254b6d6-2362-506d-b1a4-8dab7b9e2ca3) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50386?repo=metabase/metabase&commitHash=e46c951526b6981c6443e7da0a2071883f2f799f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-22 08:10:39 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/79743_tests-322d41ad-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>delay-queue-test</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50386?repo=metabase/metabase&commitHash=322d41ad236f8d23d4cdbc6d36f136651b10fb8f&utm_source=gh-comment&runConclusion=FAILURE&runId=5279e71e-9486-5b74-9745-20e2d3399210) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50386?repo=metabase/metabase&commitHash=322d41ad236f8d23d4cdbc6d36f136651b10fb8f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-22 08:10:39 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/79743_tests-322d41ad-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>delay-queue-test</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50386?repo=metabase/metabase&commitHash=322d41ad236f8d23d4cdbc6d36f136651b10fb8f&utm_source=gh-comment&runConclusion=FAILURE&runId=5279e71e-9486-5b74-9745-20e2d3399210) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50386?repo=metabase/metabase&commitHash=322d41ad236f8d23d4cdbc6d36f136651b10fb8f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2681636529,pull_request,closed,,Remove metabot v2,Approved here https://metaboat.slack.com/archives/C06UF8TBYH2/p1729258302852949,ranquild,2024-11-22 03:08:21+00:00,['ranquild'],2024-11-26 18:50:46+00:00,2024-11-22 14:27:55+00:00,https://github.com/metabase/metabase/pull/50384,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2492814037, 'issue_id': 2681636529, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/50532_tests-959d0b5a-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50384?repo=metabase/metabase&commitHash=959d0b5a138a377638ef83b48f7d4f59ada8e7e8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 22, 3, 39, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2492814038, 'issue_id': 2681636529, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/29110_tests-959d0b5a-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50384?repo=metabase/metabase&commitHash=959d0b5a138a377638ef83b48f7d4f59ada8e7e8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 22, 3, 39, 59, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-22 03:39:59 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/50532_tests-959d0b5a-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50384?repo=metabase/metabase&commitHash=959d0b5a138a377638ef83b48f7d4f59ada8e7e8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-22 03:39:59 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/29110_tests-959d0b5a-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50384?repo=metabase/metabase&commitHash=959d0b5a138a377638ef83b48f7d4f59ada8e7e8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2681567990,pull_request,closed,,Remove legacy MBQL filters,"Epic https://github.com/metabase/metabase/issues/50336

Historically the legacy `DatePicker` used `Filter` type incorrectly - it actually worked with a raw array and not a class instance. This PR fixes this issue, and finally removes the `Filter` class completely.",ranquild,2024-11-22 02:45:28+00:00,['ranquild'],2024-11-22 14:28:42+00:00,2024-11-22 14:28:40+00:00,https://github.com/metabase/metabase/pull/50383,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2492813974, 'issue_id': 2681567990, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/50285_tests-b33651f6-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50383?repo=metabase/metabase&commitHash=b33651f6c7d4592a8f2656c77f0c83a53d9974a2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 22, 3, 39, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2492813975, 'issue_id': 2681567990, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/49979_tests-755c3858-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50383?repo=metabase/metabase&commitHash=755c3858a24784de0941664a9a71b350638b8a22&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 22, 3, 39, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2492813979, 'issue_id': 2681567990, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/49979_tests-755c3858-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50383?repo=metabase/metabase&commitHash=755c3858a24784de0941664a9a71b350638b8a22&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 22, 3, 39, 55, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-22 03:39:55 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/50285_tests-b33651f6-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50383?repo=metabase/metabase&commitHash=b33651f6c7d4592a8f2656c77f0c83a53d9974a2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-22 03:39:55 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/49979_tests-755c3858-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50383?repo=metabase/metabase&commitHash=755c3858a24784de0941664a9a71b350638b8a22&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-22 03:39:55 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/49979_tests-755c3858-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50383?repo=metabase/metabase&commitHash=755c3858a24784de0941664a9a71b350638b8a22&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2681504762,pull_request,closed,,Pivot Export Aggregations Improved and Won't Error,"Fixes #50207

WIP

- Totals now have appropriate aggregation implementation
- Totals for different row and column partial paths could collide before (eg. if a pivot-col value was equal to the
- measure idx), now the paths are unique and will not collide, causing errors

",adam-james-v,2024-11-22 01:43:07+00:00,['adam-james-v'],2024-11-26 20:21:36+00:00,2024-11-26 19:54:51+00:00,https://github.com/metabase/metabase/pull/50380,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2498041396, 'issue_id': 2681504762, 'author': 'Sidhantp12', 'body': 'https://github.com/metabase/metabase/issues/50207#issuecomment-2498019348\r\n\r\nis this gonna be solved in the PR ? @adam-james-v \r\n\r\nThanks and Kind Regards', 'created_at': datetime.datetime(2024, 11, 25, 13, 35, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2499560213, 'issue_id': 2681504762, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/5_tests-27f1a107-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=27f1a107b00e6517c551c27c38d843af2e7367cd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/5-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=27f1a107b00e6517c551c27c38d843af2e7367cd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=27f1a107b00e6517c551c27c38d843af2e7367cd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=27f1a107b00e6517c551c27c38d843af2e7367cd&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>identity-hash-test</code> | The expected hash of a NativeQuerySnippet did not match the actual hash. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=27f1a107b00e6517c551c27c38d843af2e7367cd&utm_source=gh-comment&runConclusion=FAILURE&runId=243f8138-2102-5a1b-8703-6f7deaa89754) |\n| <code>identity-hash-test</code> | The hash of a top-level collection was not correctly composed, expecting 'ROOT' as the parent hash. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=27f1a107b00e6517c551c27c38d843af2e7367cd&utm_source=gh-comment&runConclusion=FAILURE&runId=0764fca2-4c31-55c6-97e4-289cd1deac77) |\n| <code>identity-hash-test</code> | Card hashes did not match the expected value. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=27f1a107b00e6517c551c27c38d843af2e7367cd&utm_source=gh-comment&runConclusion=FAILURE&runId=df166eae-0134-5f41-90ef-3d6c88184ec6) |\n| <code>delay-queue-test</code> | failure\\_text: queue\\_test.clj:92expected: (nil? (queue/take-delayed-batch! q 3 90 0))  actual: (not (nil? [1697095659934])) | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=27f1a107b00e6517c551c27c38d843af2e7367cd&utm_source=gh-comment&runConclusion=FAILURE&runId=c6d32d82-41ed-551f-8ba0-873dbaa97fff) |\n\n[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=27f1a107b00e6517c551c27c38d843af2e7367cd&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=27f1a107b00e6517c551c27c38d843af2e7367cd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 26, 3, 12, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2499560215, 'issue_id': 2681504762, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/118864_tests-506c58e7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/26-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>simple-pivot-export-test</code> | Pivot table exports do not match the expected result. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment&runConclusion=FAILURE&runId=ac81fdbc-a8e9-55d7-973a-d96e4cf7450f) |\n| <code>simple-pivot-with-sum-and-average-export-test</code> | Pivot table exports look pivoted and can have multiple measures aggregated properly, but the actual result does not match the expected result. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment&runConclusion=FAILURE&runId=d72c110a-dd60-57dd-99f9-68fefd9e98c7) |\n| <code>simple-pivot-export-test</code> | Pivot table exports did not match expected result. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment&runConclusion=FAILURE&runId=0dd48edf-f102-5bcf-979c-8caebc02dd22) |\n| <code>simple-pivot-with-sum-and-average-export-test</code> | Pivot table exports look pivoted and can have multiple measures aggregated properly, but the actual result does not match the expected result. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment&runConclusion=FAILURE&runId=18f39186-b905-55fe-b125-b3a10d0fb247) |\n\n[... and 22 more](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 26, 3, 12, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2499560217, 'issue_id': 2681504762, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/118864_tests-506c58e7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/26-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>simple-pivot-export-test</code> | Pivot table exports do not match the expected result. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment&runConclusion=FAILURE&runId=ac81fdbc-a8e9-55d7-973a-d96e4cf7450f) |\n| <code>simple-pivot-with-sum-and-average-export-test</code> | Pivot table exports look pivoted and can have multiple measures aggregated properly, but the actual result does not match the expected result. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment&runConclusion=FAILURE&runId=d72c110a-dd60-57dd-99f9-68fefd9e98c7) |\n| <code>simple-pivot-export-test</code> | Pivot table exports did not match expected result. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment&runConclusion=FAILURE&runId=0dd48edf-f102-5bcf-979c-8caebc02dd22) |\n| <code>simple-pivot-with-sum-and-average-export-test</code> | Pivot table exports look pivoted and can have multiple measures aggregated properly, but the actual result does not match the expected result. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment&runConclusion=FAILURE&runId=18f39186-b905-55fe-b125-b3a10d0fb247) |\n\n[... and 22 more](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 26, 3, 12, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2501818812, 'issue_id': 2681504762, 'author': 'adam-james-v', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 11, 26, 20, 5, 42, tzinfo=datetime.timezone.utc)}]","Sidhantp12 on (2024-11-25 13:35:28 UTC): https://github.com/metabase/metabase/issues/50207#issuecomment-2498019348

is this gonna be solved in the PR ? @adam-james-v 

Thanks and Kind Regards

trunk-io[bot] on (2024-11-26 03:12:53 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/5_tests-27f1a107-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=27f1a107b00e6517c551c27c38d843af2e7367cd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/5-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=27f1a107b00e6517c551c27c38d843af2e7367cd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=27f1a107b00e6517c551c27c38d843af2e7367cd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=27f1a107b00e6517c551c27c38d843af2e7367cd&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>identity-hash-test</code> | The expected hash of a NativeQuerySnippet did not match the actual hash. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=27f1a107b00e6517c551c27c38d843af2e7367cd&utm_source=gh-comment&runConclusion=FAILURE&runId=243f8138-2102-5a1b-8703-6f7deaa89754) |
| <code>identity-hash-test</code> | The hash of a top-level collection was not correctly composed, expecting 'ROOT' as the parent hash. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=27f1a107b00e6517c551c27c38d843af2e7367cd&utm_source=gh-comment&runConclusion=FAILURE&runId=0764fca2-4c31-55c6-97e4-289cd1deac77) |
| <code>identity-hash-test</code> | Card hashes did not match the expected value. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=27f1a107b00e6517c551c27c38d843af2e7367cd&utm_source=gh-comment&runConclusion=FAILURE&runId=df166eae-0134-5f41-90ef-3d6c88184ec6) |
| <code>delay-queue-test</code> | failure\_text: queue\_test.clj:92expected: (nil? (queue/take-delayed-batch! q 3 90 0))  actual: (not (nil? [1697095659934])) | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=27f1a107b00e6517c551c27c38d843af2e7367cd&utm_source=gh-comment&runConclusion=FAILURE&runId=c6d32d82-41ed-551f-8ba0-873dbaa97fff) |

[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=27f1a107b00e6517c551c27c38d843af2e7367cd&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=27f1a107b00e6517c551c27c38d843af2e7367cd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-26 03:12:53 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/118864_tests-506c58e7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/26-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>simple-pivot-export-test</code> | Pivot table exports do not match the expected result. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment&runConclusion=FAILURE&runId=ac81fdbc-a8e9-55d7-973a-d96e4cf7450f) |
| <code>simple-pivot-with-sum-and-average-export-test</code> | Pivot table exports look pivoted and can have multiple measures aggregated properly, but the actual result does not match the expected result. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment&runConclusion=FAILURE&runId=d72c110a-dd60-57dd-99f9-68fefd9e98c7) |
| <code>simple-pivot-export-test</code> | Pivot table exports did not match expected result. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment&runConclusion=FAILURE&runId=0dd48edf-f102-5bcf-979c-8caebc02dd22) |
| <code>simple-pivot-with-sum-and-average-export-test</code> | Pivot table exports look pivoted and can have multiple measures aggregated properly, but the actual result does not match the expected result. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment&runConclusion=FAILURE&runId=18f39186-b905-55fe-b125-b3a10d0fb247) |

[... and 22 more](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-26 03:12:53 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/118864_tests-506c58e7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/26-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>simple-pivot-export-test</code> | Pivot table exports do not match the expected result. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment&runConclusion=FAILURE&runId=ac81fdbc-a8e9-55d7-973a-d96e4cf7450f) |
| <code>simple-pivot-with-sum-and-average-export-test</code> | Pivot table exports look pivoted and can have multiple measures aggregated properly, but the actual result does not match the expected result. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment&runConclusion=FAILURE&runId=d72c110a-dd60-57dd-99f9-68fefd9e98c7) |
| <code>simple-pivot-export-test</code> | Pivot table exports did not match expected result. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment&runConclusion=FAILURE&runId=0dd48edf-f102-5bcf-979c-8caebc02dd22) |
| <code>simple-pivot-with-sum-and-average-export-test</code> | Pivot table exports look pivoted and can have multiple measures aggregated properly, but the actual result does not match the expected result. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment&runConclusion=FAILURE&runId=18f39186-b905-55fe-b125-b3a10d0fb247) |

[... and 22 more](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50380?repo=metabase/metabase&commitHash=506c58e757dfc3e7d3ef9abde13a4dd107b6f5a1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

adam-james-v (Issue Creator) on (2024-11-26 20:05:42 UTC): @metabase-bot backport release-x.51.x

"
2681136369,pull_request,closed,,"🤖 backported ""Center the content of the ""Onboarding"" page""",#50368,github-automation-metabase,2024-11-21 22:23:22+00:00,"['nemanjaglumac', 'github-automation-metabase']",2024-11-21 23:43:58+00:00,2024-11-21 23:05:14+00:00,https://github.com/metabase/metabase/pull/50379,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2492549897, 'issue_id': 2681136369, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/12865_tests-68ed41f8-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50379?repo=metabase/metabase&commitHash=68ed41f860b721e838efe79ba562141bbe523a4b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 23, 19, 18, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-21 23:19:18 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/12865_tests-68ed41f8-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50379?repo=metabase/metabase&commitHash=68ed41f860b721e838efe79ba562141bbe523a4b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2681135536,pull_request,closed,,"🤖 backported ""Update videos for the ""Onboarding"" page""",#50367,github-automation-metabase,2024-11-21 22:22:45+00:00,"['nemanjaglumac', 'github-automation-metabase']",2024-11-21 23:45:11+00:00,2024-11-21 23:05:34+00:00,https://github.com/metabase/metabase/pull/50378,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2492550486, 'issue_id': 2681135536, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13167_tests-f3570bb3-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50378?repo=metabase/metabase&commitHash=f3570bb387658f73df8b7af92f96cd8e738c9c81&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 23, 19, 53, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-21 23:19:53 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13167_tests-f3570bb3-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50378?repo=metabase/metabase&commitHash=f3570bb387658f73df8b7af92f96cd8e738c9c81&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2681110260,pull_request,closed,,docs - notes on transparent embeds,Notes on background and transparency in embeds.,jeff-bruemmer,2024-11-21 22:04:33+00:00,['jeff-bruemmer'],2024-11-27 15:01:16+00:00,2024-11-27 14:58:26+00:00,https://github.com/metabase/metabase/pull/50377,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2681105258,pull_request,closed,,[Clean Up] Show alert with 3 month stale content rather than 6,"### Description

Product feedback to make the clean up alert more sensitive to stale content. Decreased from the default 6 months to 3 months.

![CleanShot 2024-11-21 at 16 03 38@2x](https://github.com/user-attachments/assets/46f1a5e6-8d0b-4b2b-812a-8419adef69de)
",sloansparger,2024-11-21 22:01:26+00:00,['sloansparger'],2024-11-22 22:53:15+00:00,2024-11-22 22:09:53+00:00,https://github.com/metabase/metabase/pull/50376,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2492510847, 'issue_id': 2681105258, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/12876_tests-170dd8ed-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50376?repo=metabase/metabase&commitHash=170dd8ed98413b7e2072c93800ce7d6ca0b9f86d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 22, 46, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-21 22:46:00 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/12876_tests-170dd8ed-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50376?repo=metabase/metabase&commitHash=170dd8ed98413b7e2072c93800ce7d6ca0b9f86d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2681075408,pull_request,closed,,Don't dissoc `:id` in `before-update`,"There seems to be a [nasty footgun](https://github.com/camsaul/toucan2/pull/196) in toucan2 here.

Say you're executing an `update!` command on a set of IDs, e.g.:

```
(t2/update! :model/Card :id [:in 1 2] {:view_count 1})
```

This works if:

- both cards 1 and 2 have `view_count=1` already

- both cards 1 and 2 have `view_count!=1`

However.

If one of the two cards has `view_count=1` and another has a different view_count, then (if the `before-update` method doesn't have the primary key attached) Toucan emits a call to update *every card in the database*, without a where clause at all.
",johnswanson,2024-11-21 21:45:00+00:00,['johnswanson'],2024-11-25 17:10:52+00:00,2024-11-25 16:26:59+00:00,https://github.com/metabase/metabase/pull/50375,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2492457060, 'issue_id': 2681075408, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/121050_tests-db1ad0e3-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50375?repo=metabase/metabase&commitHash=db1ad0e3eefc8cf068e6ee23ff417d5ba5942879&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 22, 15, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2494586435, 'issue_id': 2681075408, 'author': 'noahmoss', 'body': ""@johnswanson Do you think it'd be worth adding a test around the `t2/update!` behavior you were seeing, specifically for cards? Find a case that repros it consistently when the `dissoc` call is there, so that we don't accidentally reintroduce it?"", 'created_at': datetime.datetime(2024, 11, 22, 19, 4, 24, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-21 22:15:28 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/121050_tests-db1ad0e3-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50375?repo=metabase/metabase&commitHash=db1ad0e3eefc8cf068e6ee23ff417d5ba5942879&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

noahmoss on (2024-11-22 19:04:24 UTC): @johnswanson Do you think it'd be worth adding a test around the `t2/update!` behavior you were seeing, specifically for cards? Find a case that repros it consistently when the `dissoc` call is there, so that we don't accidentally reintroduce it?

"
2681065678,pull_request,closed,,docs - omit note on quotes,See https://metaboat.slack.com/archives/C05MPF0TM3L/p1732201529301709.,jeff-bruemmer,2024-11-21 21:39:34+00:00,['jeff-bruemmer'],2024-11-21 23:43:12+00:00,2024-11-21 23:43:11+00:00,https://github.com/metabase/metabase/pull/50374,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2681020560,pull_request,closed,,docs - sdk readme update,"- Moves dev docs out of readme and into developer guide
- Adds logo to readme.
- Leaves the quickstart, but in general points people toward our site for the full docs.
- Simplifies the jar command.",jeff-bruemmer,2024-11-21 21:30:29+00:00,['jeff-bruemmer'],2024-11-22 22:13:23+00:00,2024-11-22 22:06:47+00:00,https://github.com/metabase/metabase/pull/50372,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2492378147, 'issue_id': 2681020560, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@jeff-bruemmer You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2024, 11, 21, 21, 30, 49, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-21 21:30:49 UTC): <!---conventional commit reminder comment ID-->
@jeff-bruemmer You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

"
2680965864,pull_request,closed,,Fix weight fallback for new Search,"Double whammy. 

Broke the fallback when refactoring the shape of the setting, local tests weren't running anymore, assumed they'd block CI as well, but then they didn't run on there!

This fixes 3 things:

1. The default weights apply to all contexts (unless they know better)
2. ~~The ranker tests which exercise the weights run on CI, even though it doesn't have the experimental flag.~~ 
	Done in next PR
4. The tests are fixed to work with empty databases.

The last one is annoying. When we insert stuff straight into the index, it saves us polluting the appdb *but* it also means we can't create joins to them to use for personalized ranking. This PR works around this clumsily, by using dummy temp items to generate the ids.",crisptrutski,2024-11-21 21:09:16+00:00,['crisptrutski'],2024-11-26 18:50:50+00:00,2024-11-22 05:02:48+00:00,https://github.com/metabase/metabase/pull/50370,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2492838156, 'issue_id': 2680965864, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/116344_tests-f07ce33e-purple) &ensp; ![Static Badge](https://img.shields.io/badge/2-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 21452 should not fire POST request after every character during display name change (metabase\\$121452)</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50370?repo=metabase/metabase&commitHash=f07ce33e4264da606fd4cec2a70173daf6095a9a&utm_source=gh-comment&runConclusion=FAILURE&runId=4c6a17bc-abeb-5fc0-8d5e-bef7d4e7cb86) |\n| <code>create-from-csv-display-name-encodings-test</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50370?repo=metabase/metabase&commitHash=f07ce33e4264da606fd4cec2a70173daf6095a9a&utm_source=gh-comment&runConclusion=FAILURE&runId=ca27a6b5-272f-5d11-bb48-a7bb2fd945e4) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50370?repo=metabase/metabase&commitHash=f07ce33e4264da606fd4cec2a70173daf6095a9a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 22, 4, 9, 53, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-22 04:09:53 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/116344_tests-f07ce33e-purple) &ensp; ![Static Badge](https://img.shields.io/badge/2-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 21452 should not fire POST request after every character during display name change (metabase\$121452)</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50370?repo=metabase/metabase&commitHash=f07ce33e4264da606fd4cec2a70173daf6095a9a&utm_source=gh-comment&runConclusion=FAILURE&runId=4c6a17bc-abeb-5fc0-8d5e-bef7d4e7cb86) |
| <code>create-from-csv-display-name-encodings-test</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50370?repo=metabase/metabase&commitHash=f07ce33e4264da606fd4cec2a70173daf6095a9a&utm_source=gh-comment&runConclusion=FAILURE&runId=ca27a6b5-272f-5d11-bb48-a7bb2fd945e4) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50370?repo=metabase/metabase&commitHash=f07ce33e4264da606fd4cec2a70173daf6095a9a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2680786066,pull_request,closed,,"🤖 backported ""Prevent coercion after nesting for all fields with coercion-strategy""",#50289,github-automation-metabase,2024-11-21 20:22:39+00:00,"['metamben', 'github-automation-metabase']",2024-11-21 21:15:03+00:00,2024-11-21 21:05:43+00:00,https://github.com/metabase/metabase/pull/50369,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2492345626, 'issue_id': 2680786066, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/75225_tests-fa60d0c6-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50369?repo=metabase/metabase&commitHash=fa60d0c668a0e07c28c01218f25717c134917b59&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 21, 12, 33, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-21 21:12:33 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/75225_tests-fa60d0c6-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50369?repo=metabase/metabase&commitHash=fa60d0c668a0e07c28c01218f25717c134917b59&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2680762636,pull_request,closed,,"Center the content of the ""Onboarding"" page","Related to #49788

This PR updates videos for the subscription and alert on the ""Onboarding"" page (according to [this product doc](https://www.notion.so/metabase/Better-Onboarding-pt-3-iterations-13469354c90180bebbdfe315a42552de?pvs=4#13869354c90180769ab3ee904aed4f70) and [this design](https://www.figma.com/design/1QmQUlWK7jACc1oxOfIzxE/Better-onboarding?node-id=7256-13158&t=WBEoELkwEqvVCqfa-1)).",nemanjaglumac,2024-11-21 20:11:53+00:00,['nemanjaglumac'],2024-11-21 23:05:40+00:00,2024-11-21 22:22:16+00:00,https://github.com/metabase/metabase/pull/50368,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2492345071, 'issue_id': 2680762636, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13241_tests-fd88882d-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50368?repo=metabase/metabase&commitHash=fd88882d093b59addd0b19cca4692210232955ae&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 21, 12, 23, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-21 21:12:23 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13241_tests-fd88882d-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50368?repo=metabase/metabase&commitHash=fd88882d093b59addd0b19cca4692210232955ae&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2680755189,pull_request,closed,,"Update videos for the ""Onboarding"" page","Related to #49788

This PR updates videos for the subscription and alert on the ""Onboarding"" page (according to [this product doc](https://www.notion.so/metabase/Better-Onboarding-pt-3-iterations-13469354c90180bebbdfe315a42552de?pvs=4#13869354c90180a6836ec1b6b0331553)).",nemanjaglumac,2024-11-21 20:07:49+00:00,['nemanjaglumac'],2024-11-21 23:06:00+00:00,2024-11-21 22:21:57+00:00,https://github.com/metabase/metabase/pull/50367,"[('First Experience/Onboarding', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2492303643, 'issue_id': 2680755189, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13241_tests-bd04d141-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50367?repo=metabase/metabase&commitHash=bd04d141f08fcce7185d4dbe40d2610c9cf427e8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 20, 51, 45, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-21 20:51:45 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13241_tests-bd04d141-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50367?repo=metabase/metabase&commitHash=bd04d141f08fcce7185d4dbe40d2610c9cf427e8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2680743801,pull_request,closed,,"🤖 backported ""[Trash] Track items being moved to trash""",#49248,github-automation-metabase,2024-11-21 20:02:21+00:00,"['sloansparger', 'github-automation-metabase']",2024-11-21 21:39:39+00:00,2024-11-21 20:57:35+00:00,https://github.com/metabase/metabase/pull/50366,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2492319761, 'issue_id': 2680743801, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/19_tests-963a1414-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50366?repo=metabase/metabase&commitHash=963a14141c84aa1c78a22c05a5ac45fb5e4542ec&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 20, 59, 32, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-21 20:59:32 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/19_tests-963a1414-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50366?repo=metabase/metabase&commitHash=963a14141c84aa1c78a22c05a5ac45fb5e4542ec&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2680708847,pull_request,closed,,"🤖 backported ""hide pivoted exports under env var""",#50347,github-automation-metabase,2024-11-21 19:49:42+00:00,"['adam-james-v', 'github-automation-metabase']",2024-11-21 22:22:47+00:00,2024-11-21 22:22:47+00:00,https://github.com/metabase/metabase/pull/50365,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2492176326, 'issue_id': 2680708847, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/7406_tests-3b264f24-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50365?repo=metabase/metabase&commitHash=3b264f24e2602f5cb1cc971d612050044d73feb0&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 20, 14, 4, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-21 20:14:04 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/7406_tests-3b264f24-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50365?repo=metabase/metabase&commitHash=3b264f24e2602f5cb1cc971d612050044d73feb0&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2680668801,pull_request,closed,,Remove unused segment components & legacy query code,"Epic https://github.com/metabase/metabase/issues/50336

Some low-hanging stuff. Much dead code is still there:
- all legacy query builder components used for segments only
- legacy query in expressions
- aggregations in StructuredQuery
- some Filter methods",ranquild,2024-11-21 19:33:58+00:00,['ranquild'],2024-11-22 16:02:57+00:00,2024-11-22 14:28:49+00:00,https://github.com/metabase/metabase/pull/50363,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2492175001, 'issue_id': 2680668801, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/16_tests-3060fc05-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50363?repo=metabase/metabase&commitHash=3060fc05f9e11117029797a74ed692ccd7541482&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 20, 13, 17, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-21 20:13:17 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/16_tests-3060fc05-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50363?repo=metabase/metabase&commitHash=3060fc05f9e11117029797a74ed692ccd7541482&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2680636704,pull_request,closed,,render segment control even when result is not loaded yet,"closes https://github.com/metabase/metabase/issues/50358
closes https://github.com/metabase/metabase/issues/50362

### Demo

https://github.com/user-attachments/assets/3b62c22e-c9ed-4b91-9718-4e2f4a86ad1a


",uladzimirdev,2024-11-21 19:24:56+00:00,['uladzimirdev'],2024-11-22 14:49:37+00:00,2024-11-22 13:21:16+00:00,https://github.com/metabase/metabase/pull/50361,"[('.Team/Querying', '')]","[{'comment_id': 2492176712, 'issue_id': 2680636704, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13223_tests-6b1c3357-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding-sdk > create-question can create questions via the CreateQuestion component</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50361?repo=metabase/metabase&commitHash=6b1c3357bd3baccdd229b82a186362e9ed3fbe06&utm_source=gh-comment&runConclusion=FAILURE&runId=3dff59f3-cb87-54b4-8fd2-f64f7af52696) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50361?repo=metabase/metabase&commitHash=6b1c3357bd3baccdd229b82a186362e9ed3fbe06&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 20, 14, 18, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-21 20:14:18 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13223_tests-6b1c3357-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding-sdk > create-question can create questions via the CreateQuestion component</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50361?repo=metabase/metabase&commitHash=6b1c3357bd3baccdd229b82a186362e9ed3fbe06&utm_source=gh-comment&runConclusion=FAILURE&runId=3dff59f3-cb87-54b4-8fd2-f64f7af52696) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50361?repo=metabase/metabase&commitHash=6b1c3357bd3baccdd229b82a186362e9ed3fbe06&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2680591475,pull_request,closed,,Migrate segment revision history to MBQL lib,"Epic https://github.com/metabase/metabase/issues/50336

How to verify:
- Create a segment and edit it multiple times with different filters
- Verify that the segment revision history is displayed correctly both in admin settings and `reference` pages

<img width=""1395"" alt=""Screenshot 2024-11-21 at 14 12 16"" src=""https://github.com/user-attachments/assets/924b03d6-dc7c-4daf-9829-387307fbbcd9"">
<img width=""1728"" alt=""Screenshot 2024-11-21 at 14 12 29"" src=""https://github.com/user-attachments/assets/c5856206-3949-4ed1-bc2e-fa79b5504f23"">
<img width=""1619"" alt=""Screenshot 2024-11-21 at 14 12 48"" src=""https://github.com/user-attachments/assets/fca9832f-4455-4e76-be51-3ba1ef0a30b4"">
",ranquild,2024-11-21 19:14:42+00:00,['ranquild'],2024-11-22 15:53:14+00:00,2024-11-22 14:29:19+00:00,https://github.com/metabase/metabase/pull/50360,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2492168790, 'issue_id': 2680591475, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/18_tests-65f93489-purple) &ensp; ![Static Badge](https://img.shields.io/badge/2-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\$124966)</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50360?repo=metabase/metabase&commitHash=65f93489d1eb00b131f19ee6d7d2afa750c39d4d&utm_source=gh-comment&runConclusion=FAILURE&runId=f1e93437-736b-5a33-b911-09c89cd48e23) |\n| <code>BrowseModels does not display instance analytics collections</code> | Unable to find an HTML element with role=""table"" and name ""/Table of models/"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50360?repo=metabase/metabase&commitHash=65f93489d1eb00b131f19ee6d7d2afa750c39d4d&utm_source=gh-comment&runConclusion=FAILURE&runId=5f9a84d2-7668-517c-b856-8026a44773fc) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50360?repo=metabase/metabase&commitHash=65f93489d1eb00b131f19ee6d7d2afa750c39d4d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 20, 10, 1, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-21 20:10:01 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/18_tests-65f93489-purple) &ensp; ![Static Badge](https://img.shields.io/badge/2-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\$124966)</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50360?repo=metabase/metabase&commitHash=65f93489d1eb00b131f19ee6d7d2afa750c39d4d&utm_source=gh-comment&runConclusion=FAILURE&runId=f1e93437-736b-5a33-b911-09c89cd48e23) |
| <code>BrowseModels does not display instance analytics collections</code> | Unable to find an HTML element with role=""table"" and name ""/Table of models/"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50360?repo=metabase/metabase&commitHash=65f93489d1eb00b131f19ee6d7d2afa750c39d4d&utm_source=gh-comment&runConclusion=FAILURE&runId=5f9a84d2-7668-517c-b856-8026a44773fc) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50360?repo=metabase/metabase&commitHash=65f93489d1eb00b131f19ee6d7d2afa750c39d4d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2680586797,pull_request,closed,,Include in-page promo banner in embedding docs pages,"Part of [Create a flexible block we can use to promote webinars](https://www.notion.so/metabase/13969354c901804eaa41e2d779914e2f?v=13a69354c901800fa30a000c3b643666&p=11869354c90180a99c92e8f92d029548&pm=s)

Adds the component shown in the screenshot below (this one is from https://www.metabase.com/learn/metabase-basics/embedding/overview).

<img width=""1075"" alt=""image"" src=""https://github.com/user-attachments/assets/bacfb926-029f-4c6b-ac3d-eafdb3b25df5"">
",gusaiani,2024-11-21 19:11:50+00:00,['gusaiani'],2024-12-02 16:48:44+00:00,2024-11-30 01:40:11+00:00,https://github.com/metabase/metabase/pull/50359,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2512118449, 'issue_id': 2680586797, 'author': 'alexyarosh', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 12, 2, 16, 45, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2512138192, 'issue_id': 2680586797, 'author': 'github-actions[bot]', 'body': '🚀 This should also be released by [v0.52](https://github.com/metabase/metabase/milestone/283)', 'created_at': datetime.datetime(2024, 12, 2, 16, 48, 42, tzinfo=datetime.timezone.utc)}]","alexyarosh on (2024-12-02 16:45:35 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-12-02 16:48:42 UTC): 🚀 This should also be released by [v0.52](https://github.com/metabase/metabase/milestone/283)

"
2680552649,pull_request,closed,,"🤖 backported ""docs - note about metrics permissions""",#50352,github-automation-metabase,2024-11-21 18:55:49+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2024-11-21 18:58:01+00:00,2024-11-21 18:58:00+00:00,https://github.com/metabase/metabase/pull/50357,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2680465650,pull_request,closed,,Unify (app) banners,"> [!IMPORTANT]
> Prerequisite for #49344


### What does this PR accomplish?
- It introduces some order in the components that rely on the `Banner` component.
- It uses the icons defined in our design system, and not emojis like before
- It aligns the icon and the beginning of text with the hamburger menu and the rest of the icons in sidebar
- Slightly increases the contrast of the Payment banner by using a bit darker shade of the background color

## Before
![Screenshot 2024-11-21 at 19 39 09](https://github.com/user-attachments/assets/0cdca88a-a3a6-415f-8f48-f2bed6cd9ef6)
![Screenshot 2024-11-21 at 19 38 50](https://github.com/user-attachments/assets/23bbe5f9-7cb9-44f9-8466-2f70a1dc0880)
![Screenshot 2024-11-21 at 19 38 38](https://github.com/user-attachments/assets/462152f5-4eab-4e73-90c4-080c12a1ef8e)
![Screenshot 2024-11-21 at 19 38 06](https://github.com/user-attachments/assets/7070a6fd-d5ba-4ddb-9a80-de820a95b9d4)


## Now
![Screenshot 2024-11-21 at 19 36 07](https://github.com/user-attachments/assets/86ec83a8-f9fd-474a-8954-c23880d04617)
![Screenshot 2024-11-21 at 19 36 36](https://github.com/user-attachments/assets/83c5e7ae-282f-4b30-abca-ec0765c43f90)
![Screenshot 2024-11-21 at 19 36 58](https://github.com/user-attachments/assets/ee6e2c2b-826b-419d-8136-d9af72e5ce39)
![Screenshot 2024-11-21 at 19 37 44](https://github.com/user-attachments/assets/f2920d4c-c2af-4cf9-ab38-9491e0b97640)


",nemanjaglumac,2024-11-21 18:35:00+00:00,['nemanjaglumac'],2024-11-22 10:28:30+00:00,2024-11-22 09:45:33+00:00,https://github.com/metabase/metabase/pull/50356,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2492099675, 'issue_id': 2680465650, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13241_tests-97bc0710-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50356?repo=metabase/metabase&commitHash=97bc0710115ce588b99994d73b700b8c7bd74817&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 19, 35, 22, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-21 19:35:22 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13241_tests-97bc0710-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50356?repo=metabase/metabase&commitHash=97bc0710115ce588b99994d73b700b8c7bd74817&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2680452299,pull_request,closed,,"🤖 backported ""Fix broken migration on MySQL 8.0.17""",#50350,github-automation-metabase,2024-11-21 18:27:38+00:00,"['johnswanson', 'github-automation-metabase']",2024-11-21 19:58:16+00:00,2024-11-21 19:10:11+00:00,https://github.com/metabase/metabase/pull/50355,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2492146048, 'issue_id': 2680452299, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/12746_tests-1db3c607-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50355?repo=metabase/metabase&commitHash=1db3c60705ebe17888d37c0e746bc4ba69aee8c1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 19, 58, 15, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-21 19:58:15 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/12746_tests-1db3c607-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50355?repo=metabase/metabase&commitHash=1db3c60705ebe17888d37c0e746bc4ba69aee8c1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2680434419,pull_request,closed,,updating @reduxjs/toolkit,"### Description

This PR updates @reduxjs/toolkit to the latest version, bringing us from `2.2.5` to `2.3.0`. The main drive for this is to resolve a bug around calling awaiting a dispatched call to `initiate()` to an endpoint that currently has a pending request, and something in the cache (this happens for us when we verify an item, and then dispatch the `SOFT_RELOAD` action. In our current version, the awaited promise will resolve with cached data, but starting with `2.2.8`, the promise will wait until the current request is done to resolve.

This is something that came up while working on Cards in Dashboards, and doesn't appear to be showing up in stats / master.
",npfitz,2024-11-21 18:17:37+00:00,['npfitz'],2024-11-26 18:50:51+00:00,2024-11-21 20:55:27+00:00,https://github.com/metabase/metabase/pull/50354,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2492060148, 'issue_id': 2680434419, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13241_tests-d292b773-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50354?repo=metabase/metabase&commitHash=d292b773d9704fd3335bd9e1399164e93a8f06de&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 19, 14, 26, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-21 19:14:26 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13241_tests-d292b773-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50354?repo=metabase/metabase&commitHash=d292b773d9704fd3335bd9e1399164e93a8f06de&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2680401379,pull_request,closed,,Introduce metabase.util.json to encapsulate usage of the underlying JSON library,"This rather voluminous change has two goals in mind:

1. Add a facade around Metabase's usage of Cheshire, the JSON serdes library. My original intent was to eventually try to replace Cheshire with Jsonista for performance reasons and since the latter is more actively maintained. Now, it is unclear if the move will ever happen. Still, hiding all interactions behind the facade will make it easier to do the swap if it is ever deemed beneficial.
2. Unify the usage of some actions that can be done and are done with Cheshire in several ways:
- `metabase.util.json/encode` to instead of `cheshire.core/encode` and `cheshire.core/generate-string`.
- `metabase.util.json/decode` instead of `cheshire.core/decode` and `cheshire.core/parse-string`.
- A new function `metabase.util.json/decode+kw` that performs a very common action of parsing the JSON string and keywordizing the keys. Using this function is more convenient than making ad-hoc closures and fixes inconsistency of passing either `true` or `keyword` as an argument.",alexander-yakushev,2024-11-21 18:01:04+00:00,['alexander-yakushev'],2025-01-27 22:14:23+00:00,2024-11-29 12:10:43+00:00,https://github.com/metabase/metabase/pull/50353,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2492456716, 'issue_id': 2680401379, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/17_tests-0a421286-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50353?repo=metabase/metabase&commitHash=0a421286dc671ddeeafc10a53dbd9d13138d5c93&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50353?repo=metabase/metabase&commitHash=0a421286dc671ddeeafc10a53dbd9d13138d5c93&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50353?repo=metabase/metabase&commitHash=0a421286dc671ddeeafc10a53dbd9d13138d5c93&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50353?repo=metabase/metabase&commitHash=0a421286dc671ddeeafc10a53dbd9d13138d5c93&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>migrate-dashboard-revision-grid-from-18-to-24-test</code> | The expected and actual results of the migration are different. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50353?repo=metabase/metabase&commitHash=0a421286dc671ddeeafc10a53dbd9d13138d5c93&utm_source=gh-comment&runConclusion=FAILURE&runId=fda95804-feaf-52a9-a176-142ef971ff70) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50353?repo=metabase/metabase&commitHash=0a421286dc671ddeeafc10a53dbd9d13138d5c93&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 22, 15, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2506972562, 'issue_id': 2680401379, 'author': 'qnkhuat', 'body': 'cool, we add these cheshire functions to the discouraged var list: https://github.com/metabase/metabase/blob/43092b1d2aeafff01c13daec4be9e76a306b5df7/.clj-kondo/config.edn#L224', 'created_at': datetime.datetime(2024, 11, 29, 2, 21, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2507311815, 'issue_id': 2680401379, 'author': 'alexander-yakushev', 'body': ""I still need to work on the linter config to allow Cheshire namespaces in `metabase.util.json` itself and a few other namespaces that can't require `metabase.util.json`."", 'created_at': datetime.datetime(2024, 11, 29, 8, 27, 50, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-21 22:15:13 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/17_tests-0a421286-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50353?repo=metabase/metabase&commitHash=0a421286dc671ddeeafc10a53dbd9d13138d5c93&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50353?repo=metabase/metabase&commitHash=0a421286dc671ddeeafc10a53dbd9d13138d5c93&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50353?repo=metabase/metabase&commitHash=0a421286dc671ddeeafc10a53dbd9d13138d5c93&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50353?repo=metabase/metabase&commitHash=0a421286dc671ddeeafc10a53dbd9d13138d5c93&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>migrate-dashboard-revision-grid-from-18-to-24-test</code> | The expected and actual results of the migration are different. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50353?repo=metabase/metabase&commitHash=0a421286dc671ddeeafc10a53dbd9d13138d5c93&utm_source=gh-comment&runConclusion=FAILURE&runId=fda95804-feaf-52a9-a176-142ef971ff70) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50353?repo=metabase/metabase&commitHash=0a421286dc671ddeeafc10a53dbd9d13138d5c93&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

qnkhuat on (2024-11-29 02:21:58 UTC): cool, we add these cheshire functions to the discouraged var list: https://github.com/metabase/metabase/blob/43092b1d2aeafff01c13daec4be9e76a306b5df7/.clj-kondo/config.edn#L224

alexander-yakushev (Issue Creator) on (2024-11-29 08:27:50 UTC): I still need to work on the linter config to allow Cheshire namespaces in `metabase.util.json` itself and a few other namespaces that can't require `metabase.util.json`.

"
2680382955,pull_request,closed,,docs - note about metrics permissions,Adds note about metric permissions.,jeff-bruemmer,2024-11-21 17:53:11+00:00,['jeff-bruemmer'],2024-11-21 18:58:41+00:00,2024-11-21 18:54:55+00:00,https://github.com/metabase/metabase/pull/50352,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2680274097,pull_request,closed,,"🤖 backported ""[Auto Clean-up] Add alert prompting admins to clean up a collection""",#48381,github-automation-metabase,2024-11-21 17:21:38+00:00,"['sloansparger', 'github-automation-metabase']",2024-11-21 20:15:46+00:00,2024-11-21 20:00:46+00:00,https://github.com/metabase/metabase/pull/50351,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2491942532, 'issue_id': 2680274097, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/38_tests-b176e5cd-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50351?repo=metabase/metabase&commitHash=b176e5cd9e719ee5303faf18ef656a0eee4b3851&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 18, 12, 38, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-21 18:12:38 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/38_tests-b176e5cd-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50351?repo=metabase/metabase&commitHash=b176e5cd9e719ee5303faf18ef656a0eee4b3851&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2680255019,pull_request,closed,,Fix broken migration on MySQL 8.0.17,"On MySQL 8.0.17, the following is prohibited:

```
WITH RECURSIVE MyRecursiveCTE (...) AS
(
  SELECT ... FROM bar UNION ALL
  SELECT ... FROM bar JOIN MyRecursiveCTE ON ...
)
```

Instead, you need to do:

```
WITH RECURSIVE MyRecursiveCTE (...) AS
(
  SELECT ... FROM bar UNION ALL
  SELECT ... FROM MyRecursiveCTE JOIN bar ON ...
)
```

Basically, just putting the CTE on the left vs. the right side of the join (which is exactly equivalent under the hood) fixes the issue.

I can't actually find any documentation of this change, but it seems that sometime between MySQL 8.0.17 and MySQL 8.0.33, MySQL started allowing this, perhaps just an optimization where it now notices the equivalence and does the right thing.

I originally tested this on what I believed was the oldest version of MySQL we supported, but didn't read carefully enough. We recommend 8.0.33 or higher here:

https://www.metabase.com/docs/latest/databases/connections/mysql

But that's not for the AppDB - for that, we recommend 8.0.17 or higher.

Fixes #49497 ",johnswanson,2024-11-21 17:12:23+00:00,['johnswanson'],2024-11-21 18:26:23+00:00,2024-11-21 18:26:20+00:00,https://github.com/metabase/metabase/pull/50350,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2491881329, 'issue_id': 2680255019, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/44275_tests-8c305b11-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50350?repo=metabase/metabase&commitHash=8c305b114683b4b04c15daaf426334af4753e2da&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 17, 43, 14, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-21 17:43:14 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/44275_tests-8c305b11-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50350?repo=metabase/metabase&commitHash=8c305b114683b4b04c15daaf426334af4753e2da&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2679978188,pull_request,closed,,hide pivoted exports under env var,"[Slack convo](https://metaboat.slack.com/archives/C064QMXEV9N/p1732199147716249)

### Description

Adds a setting that hides the ability to pivot export results. Can be configured via `MB_ENABLE_PIVOTED_EXPORTS` env variable.

### How to verify

- Run your instance with `MB_ENABLE_PIVOTED_EXPORTS=false`
- Create a pivot table
- Try download results
- Ensure there is no ""Keep data pivoted"" checkbox and it exports only non-pivoted results

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",alxnddr,2024-11-21 15:42:02+00:00,"['alxnddr', 'adam-james-v']",2024-11-21 22:25:24+00:00,2024-11-21 19:48:47+00:00,https://github.com/metabase/metabase/pull/50347,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2491681861, 'issue_id': 2679978188, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/2_tests-84b36918-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/2-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>delay-queue-test</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50347?repo=metabase/metabase&commitHash=84b36918e94c15d677aee906d2d6092e31eff230&utm_source=gh-comment&runConclusion=FAILURE&runId=51aacf0a-3bff-5364-95af-f74edd1c8d0e) |\n| <code>delay-queue-test</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50347?repo=metabase/metabase&commitHash=84b36918e94c15d677aee906d2d6092e31eff230&utm_source=gh-comment&runConclusion=FAILURE&runId=8c87e81c-2434-561c-87db-fa7270c06837) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50347?repo=metabase/metabase&commitHash=84b36918e94c15d677aee906d2d6092e31eff230&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 16, 17, 42, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-21 16:17:42 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/2_tests-84b36918-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/2-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>delay-queue-test</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50347?repo=metabase/metabase&commitHash=84b36918e94c15d677aee906d2d6092e31eff230&utm_source=gh-comment&runConclusion=FAILURE&runId=51aacf0a-3bff-5364-95af-f74edd1c8d0e) |
| <code>delay-queue-test</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50347?repo=metabase/metabase&commitHash=84b36918e94c15d677aee906d2d6092e31eff230&utm_source=gh-comment&runConclusion=FAILURE&runId=8c87e81c-2434-561c-87db-fa7270c06837) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50347?repo=metabase/metabase&commitHash=84b36918e94c15d677aee906d2d6092e31eff230&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2679876068,pull_request,closed,,"🤖 backported ""Do not show `PaymentBanner` on hosted instances""",#50337,github-automation-metabase,2024-11-21 15:19:54+00:00,"['nemanjaglumac', 'github-automation-metabase']",2024-11-21 16:41:37+00:00,2024-11-21 16:03:59+00:00,https://github.com/metabase/metabase/pull/50345,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2491680260, 'issue_id': 2679876068, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13165_tests-819f6832-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50345?repo=metabase/metabase&commitHash=819f683270a78ba303015edd311636522f31f3e9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 16, 17, 3, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-21 16:17:03 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13165_tests-819f6832-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50345?repo=metabase/metabase&commitHash=819f683270a78ba303015edd311636522f31f3e9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2679869230,pull_request,closed,,"🤖 backported ""fix padding on published embeds list""",#50268,github-automation-metabase,2024-11-21 15:17:10+00:00,"['npretto', 'github-automation-metabase']",2024-11-21 16:38:19+00:00,2024-11-21 16:02:54+00:00,https://github.com/metabase/metabase/pull/50344,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2491680220, 'issue_id': 2679869230, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13027_tests-6e7f94bb-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50344?repo=metabase/metabase&commitHash=6e7f94bb58574954f56019f1634d83749946da79&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 16, 17, 2, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-21 16:17:02 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13027_tests-6e7f94bb-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50344?repo=metabase/metabase&commitHash=6e7f94bb58574954f56019f1634d83749946da79&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2679792500,pull_request,closed,,Search index EE ranker tests,refs #50261,qnkhuat,2024-11-21 14:49:51+00:00,['qnkhuat'],2024-11-26 18:50:48+00:00,2024-11-22 14:06:10+00:00,https://github.com/metabase/metabase/pull/50342,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2492838103, 'issue_id': 2679792500, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/39510_tests-a75a0f9e-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50342?repo=metabase/metabase&commitHash=a75a0f9ef1cf607bc4ee0a8765cff3a368287467&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 22, 4, 9, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2492838107, 'issue_id': 2679792500, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/39001_tests-31cc516c-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50342?repo=metabase/metabase&commitHash=31cc516c408276e8eabf0687b9f60a5565f16fc3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 22, 4, 9, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2493437231, 'issue_id': 2679792500, 'author': 'crisptrutski', 'body': ""There are some small improvements I think we can make, but I'll just do as a fast follow since you've moved onto ingestion tests."", 'created_at': datetime.datetime(2024, 11, 22, 10, 33, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2493438450, 'issue_id': 2679792500, 'author': 'crisptrutski', 'body': 'Oh snap, more conflicts.', 'created_at': datetime.datetime(2024, 11, 22, 10, 33, 44, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-22 04:09:49 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/39510_tests-a75a0f9e-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50342?repo=metabase/metabase&commitHash=a75a0f9ef1cf607bc4ee0a8765cff3a368287467&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-22 04:09:49 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/39001_tests-31cc516c-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50342?repo=metabase/metabase&commitHash=31cc516c408276e8eabf0687b9f60a5565f16fc3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

crisptrutski on (2024-11-22 10:33:05 UTC): There are some small improvements I think we can make, but I'll just do as a fast follow since you've moved onto ingestion tests.

crisptrutski on (2024-11-22 10:33:44 UTC): Oh snap, more conflicts.

"
2679785557,pull_request,closed,,formatting fix,,johnswanson,2024-11-21 14:48:17+00:00,['johnswanson'],2025-02-04 15:09:47+00:00,2024-11-21 14:48:46+00:00,https://github.com/metabase/metabase/pull/50341,"[('.Team/AdminWebapp', 'Admin and Webapp team')]",[],
2679617827,pull_request,closed,,[search] metrics in logs and exported to prometheus,,piranha,2024-11-21 14:09:41+00:00,['piranha'],2024-11-26 18:50:52+00:00,2024-11-21 17:40:47+00:00,https://github.com/metabase/metabase/pull/50339,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2491416096, 'issue_id': 2679617827, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/1_test-b7276ebf-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>consistent-subset-test</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50339?repo=metabase/metabase&commitHash=b7276ebf0e5b8fd4365225621e1aee9a7be740cc&utm_source=gh-comment&runConclusion=FAILURE&runId=e5b6f45c-31f6-5e0b-bd9b-4dae33b49420) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50339?repo=metabase/metabase&commitHash=b7276ebf0e5b8fd4365225621e1aee9a7be740cc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 14, 42, 41, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-21 14:42:41 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/1_test-b7276ebf-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>consistent-subset-test</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50339?repo=metabase/metabase&commitHash=b7276ebf0e5b8fd4365225621e1aee9a7be740cc&utm_source=gh-comment&runConclusion=FAILURE&runId=e5b6f45c-31f6-5e0b-bd9b-4dae33b49420) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50339?repo=metabase/metabase&commitHash=b7276ebf0e5b8fd4365225621e1aee9a7be740cc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2679605714,pull_request,closed,,Search Index: allow weight overrides per context,"Combined with dynamic model ranking, this lets us specify the precedence order of the different models for each context.",crisptrutski,2024-11-21 14:04:42+00:00,['crisptrutski'],2024-11-26 18:50:53+00:00,2024-11-21 16:24:27+00:00,https://github.com/metabase/metabase/pull/50338,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2491418371, 'issue_id': 2679605714, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/114274_tests-d85d6dec-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50338?repo=metabase/metabase&commitHash=d85d6dec5290f13be835d7228fe25e5699bd2e42&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 14, 43, 35, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-21 14:43:35 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/114274_tests-d85d6dec-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50338?repo=metabase/metabase&commitHash=d85d6dec5290f13be835d7228fe25e5699bd2e42&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2679605048,pull_request,closed,,Do not show `PaymentBanner` on hosted instances,"Fixes #50335.

- [x] Tests have been added.",nemanjaglumac,2024-11-21 14:04:26+00:00,['nemanjaglumac'],2024-11-21 16:05:43+00:00,2024-11-21 15:18:59+00:00,https://github.com/metabase/metabase/pull/50337,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2491419326, 'issue_id': 2679605048, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13237_tests-06c2de32-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50337?repo=metabase/metabase&commitHash=06c2de326359a3845f73c012d0c79b08cac115cd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 14, 43, 58, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-21 14:43:58 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13237_tests-06c2de32-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50337?repo=metabase/metabase&commitHash=06c2de326359a3845f73c012d0c79b08cac115cd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2679471780,pull_request,closed,,"🤖 backported ""Fix serdes of missing cards in click behavior""",#50108,github-automation-metabase,2024-11-21 13:23:57+00:00,"['johnswanson', 'github-automation-metabase']",2024-11-21 14:54:50+00:00,2024-11-21 14:08:58+00:00,https://github.com/metabase/metabase/pull/50334,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2491234353, 'issue_id': 2679471780, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/1_test-4da6001f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>pivot-card-test</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50334?repo=metabase/metabase&commitHash=4da6001f0552f083c05718b11d25b237a00258cd&utm_source=gh-comment&runConclusion=FAILURE&runId=adb37168-66dd-54a5-8e32-b1901a1f232a) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50334?repo=metabase/metabase&commitHash=4da6001f0552f083c05718b11d25b237a00258cd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 13, 51, 6, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-21 13:51:06 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/1_test-4da6001f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>pivot-card-test</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50334?repo=metabase/metabase&commitHash=4da6001f0552f083c05718b11d25b237a00258cd&utm_source=gh-comment&runConclusion=FAILURE&runId=adb37168-66dd-54a5-8e32-b1901a1f232a) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50334?repo=metabase/metabase&commitHash=4da6001f0552f083c05718b11d25b237a00258cd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2679357890,pull_request,closed,,Update SDK version to 0.51.8,Update Readme version references and published npm package version to 0.51.8,github-automation-metabase,2024-11-21 12:56:07+00:00,"['heypoom', 'github-automation-metabase']",2024-11-21 13:01:10+00:00,2024-11-21 13:00:44+00:00,https://github.com/metabase/metabase/pull/50333,"[('no-backport', 'Do not backport this PR to any branch')]",[],
2679283503,pull_request,closed,,"🤖 backported ""Channel test return error response""","  #50254
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2024-11-21 12:24:09+00:00,"['qnkhuat', 'github-automation-metabase']",2024-11-27 12:00:46+00:00,2024-11-27 12:00:42+00:00,https://github.com/metabase/metabase/pull/50332,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2492838369, 'issue_id': 2679283503, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51533_tests-deda978a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50332?repo=metabase/metabase&commitHash=deda978a634929333386ac744de67dd4f0733b35&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50332?repo=metabase/metabase&commitHash=deda978a634929333386ac744de67dd4f0733b35&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50332?repo=metabase/metabase&commitHash=deda978a634929333386ac744de67dd4f0733b35&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50332?repo=metabase/metabase&commitHash=deda978a634929333386ac744de67dd4f0733b35&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50332?repo=metabase/metabase&commitHash=deda978a634929333386ac744de67dd4f0733b35&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 22, 4, 10, 11, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-22 04:10:11 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51533_tests-deda978a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50332?repo=metabase/metabase&commitHash=deda978a634929333386ac744de67dd4f0733b35&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50332?repo=metabase/metabase&commitHash=deda978a634929333386ac744de67dd4f0733b35&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50332?repo=metabase/metabase&commitHash=deda978a634929333386ac744de67dd4f0733b35&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50332?repo=metabase/metabase&commitHash=deda978a634929333386ac744de67dd4f0733b35&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50332?repo=metabase/metabase&commitHash=deda978a634929333386ac744de67dd4f0733b35&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2679232765,pull_request,closed,,"🤖 backported ""fix(sdk): entity picker's hover and accent colors are not mappable via sdk theming""",#50299,github-automation-metabase,2024-11-21 12:02:03+00:00,"['heypoom', 'github-automation-metabase']",2024-11-21 13:29:44+00:00,2024-11-21 12:44:20+00:00,https://github.com/metabase/metabase/pull/50331,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2490954677, 'issue_id': 2679232765, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 7d287538be97787d52c8327c212ce7deb018a11b...dcfb973f1b75273f2888821bc2cafaa33611c2f6.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/inputs/Checkbox/Checkbox.styled.tsx |', 'created_at': datetime.datetime(2024, 11, 21, 12, 3, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2491065369, 'issue_id': 2679232765, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/19_tests-dcfb973f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50331?repo=metabase/metabase&commitHash=dcfb973f1b75273f2888821bc2cafaa33611c2f6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 12, 53, 56, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-21 12:03:38 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 7d287538be97787d52c8327c212ce7deb018a11b...dcfb973f1b75273f2888821bc2cafaa33611c2f6.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/inputs/Checkbox/Checkbox.styled.tsx |

trunk-io[bot] on (2024-11-21 12:53:56 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/19_tests-dcfb973f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50331?repo=metabase/metabase&commitHash=dcfb973f1b75273f2888821bc2cafaa33611c2f6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2679190252,pull_request,closed,,Search Index refactor: calculate model rank on the fly,"Make model ranking dynamic, so that:

1. We can experiment with it on-the-fly in Stats.
2. We can make it context dependent in future.",crisptrutski,2024-11-21 11:44:41+00:00,['crisptrutski'],2024-11-26 18:50:55+00:00,2024-11-21 12:27:47+00:00,https://github.com/metabase/metabase/pull/50330,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2490972305, 'issue_id': 2679190252, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/1_test-f25bb74c-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>delay-queue-test</code> | failure\\$1text: queue\\$1test.clj:91expected: (empty? (queue/take-delayed-batch! q 3))  actual: (not (empty? [1556525640991])) | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50330?repo=metabase/metabase&commitHash=f25bb74c0c4d71b2b6203c53e45a2e83ce2cf5e5&utm_source=gh-comment&runConclusion=FAILURE&runId=1675469d-2ade-5c2a-af0d-b18c5789abd9) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50330?repo=metabase/metabase&commitHash=f25bb74c0c4d71b2b6203c53e45a2e83ce2cf5e5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 12, 12, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2491007334, 'issue_id': 2679190252, 'author': 'crisptrutski', 'body': '### Merge activity\n\n* **Nov 21, 7:27 AM EST**: A user merged this pull request with [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/50330).', 'created_at': datetime.datetime(2024, 11, 21, 12, 27, 48, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-21 12:12:06 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/1_test-f25bb74c-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>delay-queue-test</code> | failure\$1text: queue\$1test.clj:91expected: (empty? (queue/take-delayed-batch! q 3))  actual: (not (empty? [1556525640991])) | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50330?repo=metabase/metabase&commitHash=f25bb74c0c4d71b2b6203c53e45a2e83ce2cf5e5&utm_source=gh-comment&runConclusion=FAILURE&runId=1675469d-2ade-5c2a-af0d-b18c5789abd9) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50330?repo=metabase/metabase&commitHash=f25bb74c0c4d71b2b6203c53e45a2e83ce2cf5e5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

crisptrutski (Issue Creator) on (2024-11-21 12:27:48 UTC): ### Merge activity

* **Nov 21, 7:27 AM EST**: A user merged this pull request with [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/50330).

"
2679173940,pull_request,closed,,Add metrics support in diagnostics dialog,"Closes https://github.com/metabase/metabase/issues/50328

### Description

Adds diagnostics information about metrics.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. Open a metric
2. Do Cmd/Ctrl + F1 to pop the diagnostics modal
3. Verify that the entity is available",thebiglabasky,2024-11-21 11:38:09+00:00,['thebiglabasky'],2024-11-21 16:45:36+00:00,2024-11-21 16:45:35+00:00,https://github.com/metabase/metabase/pull/50329,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2490999554, 'issue_id': 2679173940, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13235_tests-fa7de349-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50329?repo=metabase/metabase&commitHash=fa7de3491a40765801fe1da0548bafc7ffe35d6c&utm_source=gh-comment&runConclusion=FAILURE&runId=7912e41e-f953-5d31-960f-ef2d7cda143e) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50329?repo=metabase/metabase&commitHash=fa7de3491a40765801fe1da0548bafc7ffe35d6c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 12, 24, 10, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-21 12:24:10 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13235_tests-fa7de349-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50329?repo=metabase/metabase&commitHash=fa7de3491a40765801fe1da0548bafc7ffe35d6c&utm_source=gh-comment&runConclusion=FAILURE&runId=7912e41e-f953-5d31-960f-ef2d7cda143e) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50329?repo=metabase/metabase&commitHash=fa7de3491a40765801fe1da0548bafc7ffe35d6c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2679057930,pull_request,closed,,[WIP] Entity object loader,"Temporary branch, temporary PR. Nothing to see here.

----

Closes #44491

### Description

We need to use RTK Query hooks to fetch data so that RTK Query can properly manage subscriptions for the data that is being currently referenced on a page.
With `entityCompatibleQuery` it's not possible because [the subscription is lost right after the query is executed](https://github.com/metabase/metabase/blob/6daecbc/frontend/src/metabase/lib/entities.js#L684-L696) and RTK Query will [automatically remove the data from its cache if subscriptions count goes to 0](https://github.com/reduxjs/redux-toolkit/blob/07614dd2d2b321eadb4a872d7b6d10c053d22ec3/packages/toolkit/src/query/core/buildMiddleware/invalidationByTags.ts#L118-L123).

This is needed for #43630 where we want to use RTK Query cache to assemble the Metadata object.

### How to verify

CI is green.
App works the same as before.


### TODO


The CI was 100% green at 65eafba3032b536ec9453b4347ba57cdc601ecdd

- [x] sync entities state with the query state
  - [x] dispatch the right actions
    - [x] start
    - [x] success
    - [x] failure
- [x] `fetchType`
- [x] `requestType`
- [x] `selectorName`
- [ ] `dispatchApiErrorEvent`
- [ ]  request options
    - [ ] `useCachedForbiddenError`
    - [ ] `reload`
    - [ ] `properties`
    - [ ] `noEvent`
- [x] `reload`
- [ ] replace old `EntityObjectLoader` with the new one
- [x] tables
- [x] databases
- [x] frontend/src/metabase/entities/alerts.js + objectActions
- [x] frontend/src/metabase/entities/bookmarks.js (no GET /:id request)
- [x] frontend/src/metabase/entities/dashboards.js + objectActions
- [x] frontend/src/metabase/entities/databases.js + objectActions
- [ ] frontend/src/metabase/entities/fields.js + objectActions
- [x] frontend/src/metabase/entities/groups.js
- [ ] frontend/src/metabase/entities/persisted-models.js + objectActions
- [x] frontend/src/metabase/entities/pulses.js + objectActions
- [x] frontend/src/metabase/entities/questions.js + objectActions
- [x] frontend/src/metabase/entities/revisions.js + objectActions
- [ ] frontend/src/metabase/entities/schemas.js
- [x] frontend/src/metabase/entities/search.js + objectActions
- [x] frontend/src/metabase/entities/segments.js + objectActions
- [x] frontend/src/metabase/entities/snippet-collections.js + objectActions
- [ ] frontend/src/metabase/entities/snippets.js
- [x] frontend/src/metabase/entities/tables.js + objectActions
- [ ] frontend/src/metabase/entities/timeline-events.js + objectActions
- [ ] frontend/src/metabase/entities/timelines.js + objectActions
- [ ] frontend/src/metabase/entities/users.js + objectActions
- [ ] frontend/src/metabase/entities/actions/actions.ts + objectActions
- [ ] frontend/src/metabase/entities/collections/collections.ts + objectActions
- [ ] frontend/src/metabase/entities/indexed-entities/indexed-entities.ts
- [ ] frontend/src/metabase/entities/model-indexes/model-indexes.ts
- [ ] frontend/src/metabase/lib/entities.unit.spec.js ?",kamilmielnik,2024-11-21 11:05:55+00:00,['kamilmielnik'],2024-11-28 08:34:24+00:00,2024-11-28 08:34:20+00:00,https://github.com/metabase/metabase/pull/50327,"[('do not merge', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2490916111, 'issue_id': 2679057930, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/50526_tests-ae01d29f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/39-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > filter should retain all data series after saving a question where custom expression formula is the first metric (metabase\\$...</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50327?repo=metabase/metabase&commitHash=ae01d29f471365b31f45d94edb54f0d3eb84fbde&utm_source=gh-comment&runConclusion=FAILURE&runId=7e10b555-fd0b-516d-a196-596391b0661f) |\n| <code>Write actions on model detail page (mysql) should allow public sharing of implicit action and execution</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50327?repo=metabase/metabase&commitHash=ae01d29f471365b31f45d94edb54f0d3eb84fbde&utm_source=gh-comment&runConclusion=FAILURE&runId=550c28db-12da-5925-bf4a-e052a3b8d022) |\n| <code>Write actions on model detail page (mysql) should allow implicit action execution from the model details page</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50327?repo=metabase/metabase&commitHash=ae01d29f471365b31f45d94edb54f0d3eb84fbde&utm_source=gh-comment&runConclusion=FAILURE&runId=3702e5cd-d019-5734-9b8d-e9287555efb3) |\n| <code>Write actions on model detail page (mysql) should allow query action execution from the model details page</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50327?repo=metabase/metabase&commitHash=ae01d29f471365b31f45d94edb54f0d3eb84fbde&utm_source=gh-comment&runConclusion=FAILURE&runId=eb654e1f-ec75-53b7-9b00-5cbc136ffb98) |\n\n[... and 35 more](https://app.trunk.io/metabase/flaky-tests/pr/50327?repo=metabase/metabase&commitHash=ae01d29f471365b31f45d94edb54f0d3eb84fbde&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50327?repo=metabase/metabase&commitHash=ae01d29f471365b31f45d94edb54f0d3eb84fbde&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 11, 52, 33, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-21 11:52:33 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/50526_tests-ae01d29f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/39-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > filter should retain all data series after saving a question where custom expression formula is the first metric (metabase\$...</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50327?repo=metabase/metabase&commitHash=ae01d29f471365b31f45d94edb54f0d3eb84fbde&utm_source=gh-comment&runConclusion=FAILURE&runId=7e10b555-fd0b-516d-a196-596391b0661f) |
| <code>Write actions on model detail page (mysql) should allow public sharing of implicit action and execution</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50327?repo=metabase/metabase&commitHash=ae01d29f471365b31f45d94edb54f0d3eb84fbde&utm_source=gh-comment&runConclusion=FAILURE&runId=550c28db-12da-5925-bf4a-e052a3b8d022) |
| <code>Write actions on model detail page (mysql) should allow implicit action execution from the model details page</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50327?repo=metabase/metabase&commitHash=ae01d29f471365b31f45d94edb54f0d3eb84fbde&utm_source=gh-comment&runConclusion=FAILURE&runId=3702e5cd-d019-5734-9b8d-e9287555efb3) |
| <code>Write actions on model detail page (mysql) should allow query action execution from the model details page</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50327?repo=metabase/metabase&commitHash=ae01d29f471365b31f45d94edb54f0d3eb84fbde&utm_source=gh-comment&runConclusion=FAILURE&runId=eb654e1f-ec75-53b7-9b00-5cbc136ffb98) |

[... and 35 more](https://app.trunk.io/metabase/flaky-tests/pr/50327?repo=metabase/metabase&commitHash=ae01d29f471365b31f45d94edb54f0d3eb84fbde&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50327?repo=metabase/metabase&commitHash=ae01d29f471365b31f45d94edb54f0d3eb84fbde&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2679049098,pull_request,closed,,Update SDK version to 0.52.2-nightly,Update Readme version references and published npm package version to 0.52.2-nightly,github-automation-metabase,2024-11-21 11:01:59+00:00,"['WiNloSt', 'github-automation-metabase']",2024-11-26 18:50:56+00:00,2024-11-21 11:06:57+00:00,https://github.com/metabase/metabase/pull/50326,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2490805388, 'issue_id': 2679049098, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@github-automation-metabase You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2024, 11, 21, 11, 2, 20, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-21 11:02:20 UTC): <!---conventional commit reminder comment ID-->
@github-automation-metabase You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

"
2678908095,pull_request,closed,,ci(sdk): Remove test files from release branch when building SDK,"This applies the same remedy from https://github.com/metabase/metabase/pull/50319 by removing the test files from TypeScript which is used when building the SDK.

#### How to verify
run `yarn build-embedding-sdk`, and it should succeed.",WiNloSt,2024-11-21 10:24:45+00:00,['WiNloSt'],2024-11-22 06:41:10+00:00,2024-11-22 06:17:21+00:00,https://github.com/metabase/metabase/pull/50321,"[('.Team/Embedding', '')]","[{'comment_id': 2490727888, 'issue_id': 2678908095, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 51e6817a801c8cff674b80b5309ba80c990b2596...32aad1a5c1015f45c9186bb06eda97a46895206f.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/visualizations/SmartScalar/SmartScalar.stories.tsx<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/tests/SmartScalar.unit.spec.js<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/tests/test-mocks.ts |', 'created_at': datetime.datetime(2024, 11, 21, 10, 26, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2490831633, 'issue_id': 2678908095, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13167_tests-32aad1a5-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50321?repo=metabase/metabase&commitHash=32aad1a5c1015f45c9186bb06eda97a46895206f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 11, 13, 11, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-21 10:26:11 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 51e6817a801c8cff674b80b5309ba80c990b2596...32aad1a5c1015f45c9186bb06eda97a46895206f.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/visualizations/SmartScalar/SmartScalar.stories.tsx<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/tests/SmartScalar.unit.spec.js<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/tests/test-mocks.ts |

trunk-io[bot] on (2024-11-21 11:13:11 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13167_tests-32aad1a5-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50321?repo=metabase/metabase&commitHash=32aad1a5c1015f45c9186bb06eda97a46895206f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2678886932,pull_request,open,,refactor(search) Always send context when calling the API,"This should help us better keep on top of how search is being used, and allow us to tweak behavior as necessary.",crisptrutski,2024-11-21 10:17:50+00:00,"['crisptrutski', 'npfitz']",2025-01-14 15:45:18+00:00,,https://github.com/metabase/metabase/pull/50320,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2490705100, 'issue_id': 2678886932, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@npfitz You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2024, 11, 21, 10, 18, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2490822462, 'issue_id': 2678886932, 'author': 'crisptrutski', 'body': 'This seems to break something important 😄', 'created_at': datetime.datetime(2024, 11, 21, 11, 9, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2490832113, 'issue_id': 2678886932, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51338_tests-7fbd9f1f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50320?repo=metabase/metabase&commitHash=7fbd9f1fd4d0e55499c6c31aa46d5bf8820404f4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/12-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50320?repo=metabase/metabase&commitHash=7fbd9f1fd4d0e55499c6c31aa46d5bf8820404f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/7-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50320?repo=metabase/metabase&commitHash=7fbd9f1fd4d0e55499c6c31aa46d5bf8820404f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50320?repo=metabase/metabase&commitHash=7fbd9f1fd4d0e55499c6c31aa46d5bf8820404f4&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > dashboard > tabs should send snowplow events when dashboard tabs are created and deleted</code> | failure\\_message: Snowplow retry timeout nullfailure\\_text: Error: Snowplow retry timeout null    at Context.eval (../../../../../../../../../../..... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50320?repo=metabase/metabase&commitHash=7fbd9f1fd4d0e55499c6c31aa46d5bf8820404f4&utm_source=gh-comment&runConclusion=FAILURE&runId=ba3ad268-1d12-5c3a-b540-594be4a3f9a8) |\n| <code>scenarios > question > native should be able to add new columns after hiding some (metabase\\#15393)</code> | The element with class \'emotion-1mzrabc.emzg3k00\' did not contain the expected content \'/hidden/i\' within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50320?repo=metabase/metabase&commitHash=7fbd9f1fd4d0e55499c6c31aa46d5bf8820404f4&utm_source=gh-comment&runConclusion=FAILURE&runId=342ca031-8e94-5857-a70d-aa054a6dfefa) |\n| <code>issue 34330 should call the autocompleter when backspacing to a 1-character prefix(metabase\\#34330)</code> | The \\`cy.wait()\\` command timed out waiting for the first request to the route \'autocomplete\' and no request ever occurred. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50320?repo=metabase/metabase&commitHash=7fbd9f1fd4d0e55499c6c31aa46d5bf8820404f4&utm_source=gh-comment&runConclusion=FAILURE&runId=f1a6d911-cea3-5347-bcf0-f996284b3147) |\n| <code>issue 34330 should only call the autocompleter with all text typed (metabase\\#34330)</code> | The expected value \'USER\\_\' did not match the actual value \'ER\\_\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50320?repo=metabase/metabase&commitHash=7fbd9f1fd4d0e55499c6c31aa46d5bf8820404f4&utm_source=gh-comment&runConclusion=FAILURE&runId=6accd713-1dde-52f8-aeac-9350d4e77692) |\n\n[... and 8 more](https://app.trunk.io/metabase/flaky-tests/pr/50320?repo=metabase/metabase&commitHash=7fbd9f1fd4d0e55499c6c31aa46d5bf8820404f4&utm_source=gh-comment&runConclusion=FAILURE)\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 8490 static embeddings should respect \\`\\#locale\\` hash parameter (metabase\\#8490, metabase\\#50182)</code> | Unable to find an element with the text ""11월 2023"" after 4000ms, possibly due to broken text being split by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50320?repo=metabase/metabase&commitHash=7fbd9f1fd4d0e55499c6c31aa46d5bf8820404f4&utm_source=gh-comment&runConclusion=FAILURE&runId=a4bb5c50-e6ec-57f1-9039-1005c9fe4b6e) |\n| <code>scenarios > filters > sql filters > field filter > Date when set as the default value for a required filter</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50320?repo=metabase/metabase&commitHash=7fbd9f1fd4d0e55499c6c31aa46d5bf8820404f4&utm_source=gh-comment&runConclusion=FAILURE&runId=b47cdf1a-3521-540d-a8aa-41eeff9a7848) |\n| <code>scenarios > filters > sql filters > field filter > Date when set through the filter widget</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50320?repo=metabase/metabase&commitHash=7fbd9f1fd4d0e55499c6c31aa46d5bf8820404f4&utm_source=gh-comment&runConclusion=FAILURE&runId=6afa4993-f7f1-5b24-9a1b-67b8ed00f6b2) |\n| <code>scenarios > visualizations > waterfall scenarios > visualizations > waterfall settings should allow toggling of the total bar</code> | The test timed out while trying to find an element with data-testid ""chart-container"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50320?repo=metabase/metabase&commitHash=7fbd9f1fd4d0e55499c6c31aa46d5bf8820404f4&utm_source=gh-comment&runConclusion=FAILURE&runId=01887311-0e6b-581a-a986-20d5c0171ddd) |\n\n[... and 3 more](https://app.trunk.io/metabase/flaky-tests/pr/50320?repo=metabase/metabase&commitHash=7fbd9f1fd4d0e55499c6c31aa46d5bf8820404f4&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50320?repo=metabase/metabase&commitHash=7fbd9f1fd4d0e55499c6c31aa46d5bf8820404f4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 11, 13, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2590242649, 'issue_id': 2678886932, 'author': 'crisptrutski', 'body': '@npfitz Should we throw in the towel on this one, or do we have the time to get it over the line? Let me know if I can help in any way.', 'created_at': datetime.datetime(2025, 1, 14, 15, 27, 35, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-21 10:18:11 UTC): <!---conventional commit reminder comment ID-->
@npfitz You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

crisptrutski (Issue Creator) on (2024-11-21 11:09:09 UTC): This seems to break something important 😄

trunk-io[bot] on (2024-11-21 11:13:25 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51338_tests-7fbd9f1f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50320?repo=metabase/metabase&commitHash=7fbd9f1fd4d0e55499c6c31aa46d5bf8820404f4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/12-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50320?repo=metabase/metabase&commitHash=7fbd9f1fd4d0e55499c6c31aa46d5bf8820404f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/7-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50320?repo=metabase/metabase&commitHash=7fbd9f1fd4d0e55499c6c31aa46d5bf8820404f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50320?repo=metabase/metabase&commitHash=7fbd9f1fd4d0e55499c6c31aa46d5bf8820404f4&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > dashboard > tabs should send snowplow events when dashboard tabs are created and deleted</code> | failure\_message: Snowplow retry timeout nullfailure\_text: Error: Snowplow retry timeout null    at Context.eval (../../../../../../../../../../..... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50320?repo=metabase/metabase&commitHash=7fbd9f1fd4d0e55499c6c31aa46d5bf8820404f4&utm_source=gh-comment&runConclusion=FAILURE&runId=ba3ad268-1d12-5c3a-b540-594be4a3f9a8) |
| <code>scenarios > question > native should be able to add new columns after hiding some (metabase\#15393)</code> | The element with class 'emotion-1mzrabc.emzg3k00' did not contain the expected content '/hidden/i' within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50320?repo=metabase/metabase&commitHash=7fbd9f1fd4d0e55499c6c31aa46d5bf8820404f4&utm_source=gh-comment&runConclusion=FAILURE&runId=342ca031-8e94-5857-a70d-aa054a6dfefa) |
| <code>issue 34330 should call the autocompleter when backspacing to a 1-character prefix(metabase\#34330)</code> | The \`cy.wait()\` command timed out waiting for the first request to the route 'autocomplete' and no request ever occurred. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50320?repo=metabase/metabase&commitHash=7fbd9f1fd4d0e55499c6c31aa46d5bf8820404f4&utm_source=gh-comment&runConclusion=FAILURE&runId=f1a6d911-cea3-5347-bcf0-f996284b3147) |
| <code>issue 34330 should only call the autocompleter with all text typed (metabase\#34330)</code> | The expected value 'USER\_' did not match the actual value 'ER\_'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50320?repo=metabase/metabase&commitHash=7fbd9f1fd4d0e55499c6c31aa46d5bf8820404f4&utm_source=gh-comment&runConclusion=FAILURE&runId=6accd713-1dde-52f8-aeac-9350d4e77692) |

[... and 8 more](https://app.trunk.io/metabase/flaky-tests/pr/50320?repo=metabase/metabase&commitHash=7fbd9f1fd4d0e55499c6c31aa46d5bf8820404f4&utm_source=gh-comment&runConclusion=FAILURE)
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 8490 static embeddings should respect \`\#locale\` hash parameter (metabase\#8490, metabase\#50182)</code> | Unable to find an element with the text ""11월 2023"" after 4000ms, possibly due to broken text being split by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50320?repo=metabase/metabase&commitHash=7fbd9f1fd4d0e55499c6c31aa46d5bf8820404f4&utm_source=gh-comment&runConclusion=FAILURE&runId=a4bb5c50-e6ec-57f1-9039-1005c9fe4b6e) |
| <code>scenarios > filters > sql filters > field filter > Date when set as the default value for a required filter</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50320?repo=metabase/metabase&commitHash=7fbd9f1fd4d0e55499c6c31aa46d5bf8820404f4&utm_source=gh-comment&runConclusion=FAILURE&runId=b47cdf1a-3521-540d-a8aa-41eeff9a7848) |
| <code>scenarios > filters > sql filters > field filter > Date when set through the filter widget</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50320?repo=metabase/metabase&commitHash=7fbd9f1fd4d0e55499c6c31aa46d5bf8820404f4&utm_source=gh-comment&runConclusion=FAILURE&runId=6afa4993-f7f1-5b24-9a1b-67b8ed00f6b2) |
| <code>scenarios > visualizations > waterfall scenarios > visualizations > waterfall settings should allow toggling of the total bar</code> | The test timed out while trying to find an element with data-testid ""chart-container"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50320?repo=metabase/metabase&commitHash=7fbd9f1fd4d0e55499c6c31aa46d5bf8820404f4&utm_source=gh-comment&runConclusion=FAILURE&runId=01887311-0e6b-581a-a986-20d5c0171ddd) |

[... and 3 more](https://app.trunk.io/metabase/flaky-tests/pr/50320?repo=metabase/metabase&commitHash=7fbd9f1fd4d0e55499c6c31aa46d5bf8820404f4&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50320?repo=metabase/metabase&commitHash=7fbd9f1fd4d0e55499c6c31aa46d5bf8820404f4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

crisptrutski (Issue Creator) on (2025-01-14 15:27:35 UTC): @npfitz Should we throw in the towel on this one, or do we have the time to get it over the line? Let me know if I can help in any way.

"
2678828430,pull_request,closed,,ci(sdk): Fix can't build SDK from master,"### Description

We unintentionally included tests files when building the SDK, so it failed the build

### How to verify

run `yarn build-embedding-sdk` and it shouldn't fail. You can try the same on `master` and it should fail.

This also rework https://github.com/metabase/metabase/pull/43242. By removing the tests files from TS, but correct the one file test that's accidentally imported.


### Demo
#### Before
![image](https://github.com/user-attachments/assets/9196ab14-9b8d-4e5e-9bbc-b13cb5626cbc)

#### After
![image](https://github.com/user-attachments/assets/6011b47d-ac2b-4a8a-a2a8-3db1f62ce75f)
",WiNloSt,2024-11-21 10:00:03+00:00,['WiNloSt'],2024-11-26 18:50:57+00:00,2024-11-21 10:49:31+00:00,https://github.com/metabase/metabase/pull/50319,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', '')]","[{'comment_id': 2490632896, 'issue_id': 2678828430, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 66e2910241452b51638209685368284f01170fb0...13fa57256a407161768c74d04644c671cd7291cd.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/visualizations/SmartScalar/SmartScalar.stories.tsx<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/tests/SmartScalar.unit.spec.js<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/tests/test-mocks.ts |', 'created_at': datetime.datetime(2024, 11, 21, 10, 1, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2490764289, 'issue_id': 2678828430, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13233_tests-13fa5725-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50319?repo=metabase/metabase&commitHash=13fa57256a407161768c74d04644c671cd7291cd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 10, 42, 55, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-21 10:01:32 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 66e2910241452b51638209685368284f01170fb0...13fa57256a407161768c74d04644c671cd7291cd.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/visualizations/SmartScalar/SmartScalar.stories.tsx<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/tests/SmartScalar.unit.spec.js<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/tests/test-mocks.ts |

trunk-io[bot] on (2024-11-21 10:42:55 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13233_tests-13fa5725-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50319?repo=metabase/metabase&commitHash=13fa57256a407161768c74d04644c671cd7291cd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2678600957,pull_request,closed,,Improve SDK release job title,"### Description

It's not clear what branch we're deploying the SDK from. Now we can deploy from 2 branches, `master` or `release-x.51.x`.

This PR surfaces this info in the title for easy troubleshooting.

### Demo

[See the run here](https://github.com/metabase/metabase/actions/workflows/release-embedding-sdk.yml). I manually triggered this with `branch=master`

![image](https://github.com/user-attachments/assets/8b293982-90be-47be-b639-eb51769b56d6)
",WiNloSt,2024-11-21 08:50:08+00:00,['WiNloSt'],2024-11-22 05:39:03+00:00,2024-11-22 05:36:11+00:00,https://github.com/metabase/metabase/pull/50318,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]",[],
2678495800,pull_request,closed,,"🤖 backported ""fix(sdk): emit typescript files in the embedding cli when in a typescript project""",#50278,github-automation-metabase,2024-11-21 08:22:28+00:00,"['heypoom', 'github-automation-metabase']",2024-11-21 09:46:11+00:00,2024-11-21 09:04:27+00:00,https://github.com/metabase/metabase/pull/50316,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2490475505, 'issue_id': 2678495800, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13161_tests-388c7c83-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50316?repo=metabase/metabase&commitHash=388c7c8364a5bca3316472b2ec0cc27b05de6827&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 9, 18, 11, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-21 09:18:11 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13161_tests-388c7c83-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50316?repo=metabase/metabase&commitHash=388c7c8364a5bca3316472b2ec0cc27b05de6827&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2678463965,pull_request,closed,,Update SDK version to 0.51.7,Update Readme version references and published npm package version to 0.51.7,github-automation-metabase,2024-11-21 08:04:51+00:00,"['heypoom', 'github-automation-metabase']",2024-11-21 08:09:43+00:00,2024-11-21 08:09:14+00:00,https://github.com/metabase/metabase/pull/50315,"[('no-backport', 'Do not backport this PR to any branch')]",[],
2678425120,pull_request,closed,,More search index ranker test,,qnkhuat,2024-11-21 07:45:59+00:00,['qnkhuat'],2024-11-26 18:50:54+00:00,2024-11-21 14:40:41+00:00,https://github.com/metabase/metabase/pull/50314,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2490334941, 'issue_id': 2678425120, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/1_test-d4789de8-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>test-13000</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50314?repo=metabase/metabase&commitHash=d4789de8ad80073c80e1abdcef0c102838e4cd48&utm_source=gh-comment&runConclusion=FAILURE&runId=9187e22e-1adb-50dc-ba3a-e18de37a07c6) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50314?repo=metabase/metabase&commitHash=d4789de8ad80073c80e1abdcef0c102838e4cd48&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 8, 10, 57, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-21 08:10:57 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/1_test-d4789de8-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>test-13000</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50314?repo=metabase/metabase&commitHash=d4789de8ad80073c80e1abdcef0c102838e4cd48&utm_source=gh-comment&runConclusion=FAILURE&runId=9187e22e-1adb-50dc-ba3a-e18de37a07c6) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50314?repo=metabase/metabase&commitHash=d4789de8ad80073c80e1abdcef0c102838e4cd48&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2678011042,pull_request,closed,,"🤖 backported ""Allow searching a single select list picker""","  #49739
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2024-11-21 04:54:23+00:00,"['romeovs', 'github-automation-metabase']",2024-11-25 22:11:18+00:00,2024-11-25 22:11:15+00:00,https://github.com/metabase/metabase/pull/50312,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2490158094, 'issue_id': 2678011042, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13172_tests-a86099db-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50312?repo=metabase/metabase&commitHash=a86099db8f981026b8d72e82dd9f87c05006b0fc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 6, 11, 10, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-21 06:11:10 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13172_tests-a86099db-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50312?repo=metabase/metabase&commitHash=a86099db8f981026b8d72e82dd9f87c05006b0fc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2677863969,pull_request,closed,,Migrate segment editor to MBQL lib,"Epic https://github.com/metabase/metabase/issues/50336

Replaces the `GuiEditor` for segments with a new component based on MBQL lib + `EntityPicker` + `FilterPicker`. To keep this PR small I don't remove unused code here; also no new tests which I'll add separately. For end users the only noticeable change would be the `EntityPicker` instead of the old component.

How to verify:
- Admin settings -> Table metadata -> Segments
- Make sure you can create and edit segments

**Before**
<img width=""1728"" alt=""Screenshot 2024-11-20 at 16 35 41"" src=""https://github.com/user-attachments/assets/f7b6fe43-a006-41f8-a171-eab497ed08d4"">
<img width=""1723"" alt=""Screenshot 2024-11-20 at 16 35 57"" src=""https://github.com/user-attachments/assets/5716b726-7a19-4d0e-8177-fa7dcef2cd46"">

**After**
<img width=""1728"" alt=""Screenshot 2024-11-21 at 12 53 49"" src=""https://github.com/user-attachments/assets/ec683767-fad4-4777-8257-65e6da91c6cb"">
<img width=""1728"" alt=""Screenshot 2024-11-21 at 12 36 58"" src=""https://github.com/user-attachments/assets/de62f9be-1965-40bd-82e9-8f3c50e65531"">
<img width=""1728"" alt=""Screenshot 2024-11-21 at 12 52 52"" src=""https://github.com/user-attachments/assets/4b19fa2a-d428-4c9d-83c5-bd07485b7c27"">
<img width=""951"" alt=""Screenshot 2024-11-21 at 12 36 29"" src=""https://github.com/user-attachments/assets/4d7588d9-9e59-4018-b216-d625065d12ed"">
<img width=""933"" alt=""Screenshot 2024-11-21 at 13 34 29"" src=""https://github.com/user-attachments/assets/239b8763-fa95-4ea9-bf38-4de8aecc1f1e"">
",ranquild,2024-11-21 03:41:37+00:00,['ranquild'],2025-01-24 14:57:12+00:00,2024-11-22 15:35:35+00:00,https://github.com/metabase/metabase/pull/50311,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2490029769, 'issue_id': 2677863969, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/16_tests-5f3aa90b-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50311?repo=metabase/metabase&commitHash=5f3aa90b5b5319d61334052ea9d1d703bf6d42dc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 4, 12, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612731803, 'issue_id': 2677863969, 'author': 'iethree', 'body': 'So happy to finally see GuiEditor retired 🫡', 'created_at': datetime.datetime(2025, 1, 24, 14, 57, 11, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-21 04:12:11 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/16_tests-5f3aa90b-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50311?repo=metabase/metabase&commitHash=5f3aa90b5b5319d61334052ea9d1d703bf6d42dc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

iethree on (2025-01-24 14:57:11 UTC): So happy to finally see GuiEditor retired 🫡

"
2677699300,pull_request,closed,,Upgrade postgres app db version,The more the marrier,paoliniluis,2024-11-21 01:49:51+00:00,['paoliniluis'],2025-01-22 07:35:24+00:00,2025-01-17 19:01:35+00:00,https://github.com/metabase/metabase/pull/50310,"[('backport', 'Automatically create PR on current release branch on merge')]",[],
2677358473,pull_request,closed,,Check download perms recursively on referenced card-ids,"Fixes https://github.com/metabase/metabase/issues/50304

In https://github.com/metabase/metabase/pull/49364 I changed `query->source-table-ids` to return sets of `table-ids` and `card-ids`. In that PR, I adjusted download perm enforcement to require full native perms if any `card-ids` were returned from that function, since we previously hadn't been considering referenced cards at all for download perms. (i.e. we were being overly permissive, allowing downloads even for queries joined to cards without download perms).

This was too restrictive, though, and ended up blocking downloads for some queries that should be allowed. The more correct behavior is to check download perms recursively for any referenced card IDs in the query, and go with the least-permissive value from that entire set.

I've fixed the logic and added a test to catch this case.",noahmoss,2024-11-20 22:24:38+00:00,['noahmoss'],2024-11-22 22:27:10+00:00,2024-11-22 22:27:09+00:00,https://github.com/metabase/metabase/pull/50307,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2489659752, 'issue_id': 2677358473, 'author': 'noahmoss', 'body': '* **#50307** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50307?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50307?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 11, 20, 22, 24, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2489700221, 'issue_id': 2677358473, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/1_test-13011029-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>delay-queue-test</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50307?repo=metabase/metabase&commitHash=1301102967b765a562650d5dab94fb5706e76849&utm_source=gh-comment&runConclusion=FAILURE&runId=e0870904-ca43-5e80-8128-d12af6067a53) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50307?repo=metabase/metabase&commitHash=1301102967b765a562650d5dab94fb5706e76849&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 20, 22, 56, 15, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2024-11-20 22:24:53 UTC): * **#50307** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50307?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50307?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`

<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2024-11-20 22:56:15 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/1_test-13011029-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>delay-queue-test</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50307?repo=metabase/metabase&commitHash=1301102967b765a562650d5dab94fb5706e76849&utm_source=gh-comment&runConclusion=FAILURE&runId=e0870904-ca43-5e80-8128-d12af6067a53) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50307?repo=metabase/metabase&commitHash=1301102967b765a562650d5dab94fb5706e76849&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2677354793,pull_request,closed,,50273 track analytics events for bug reporting,"Closes https://github.com/metabase/metabase/issues/50273

### Description

Analytics to track events related to bug report window

### How to verify

Events are tracked on

1. Opening the modal (there’s additional event marker signifying where was the bug report modal opened from)
2. Submitting/downloading the bug report
",filiphric,2024-11-20 22:21:55+00:00,['filiphric'],2024-12-04 11:02:02+00:00,2024-12-04 11:01:30+00:00,https://github.com/metabase/metabase/pull/50306,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2489723779, 'issue_id': 2677354793, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/131085_tests-4b306c2a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50306?repo=metabase/metabase&commitHash=4b306c2a7e7d0798245b8c73771a87f5a302ed1f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/5-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50306?repo=metabase/metabase&commitHash=4b306c2a7e7d0798245b8c73771a87f5a302ed1f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50306?repo=metabase/metabase&commitHash=4b306c2a7e7d0798245b8c73771a87f5a302ed1f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50306?repo=metabase/metabase&commitHash=4b306c2a7e7d0798245b8c73771a87f5a302ed1f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>skip-analysis-of-fields-with-current-fingerprint-version-test</code> | Insert or update operation on \'metabase\\_field\' table failed due to foreign key constraint \'fk\\_field\\_ref\\_table\\_id\' violation. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50306?repo=metabase/metabase&commitHash=4b306c2a7e7d0798245b8c73771a87f5a302ed1f&utm_source=gh-comment&runConclusion=FAILURE&runId=d3248c62-dc7d-5a01-b2eb-9c72be36c204) |\n| <code>analyze-unhidden-tables-test</code> | Insert or update operation on \'metabase\\_field\' table failed due to foreign key constraint \'fk\\_field\\_ref\\_table\\_id\' violation. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50306?repo=metabase/metabase&commitHash=4b306c2a7e7d0798245b8c73771a87f5a302ed1f&utm_source=gh-comment&runConclusion=FAILURE&runId=792b57f5-f95a-5c49-a723-c893e2013b91) |\n| <code>scenarios > models listing should allow using models in native queries</code> | The test timed out while trying to find an element with data-testid ""TableInteractive-root"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50306?repo=metabase/metabase&commitHash=4b306c2a7e7d0798245b8c73771a87f5a302ed1f&utm_source=gh-comment&runConclusion=FAILURE&runId=13cc11e6-5d12-5dbd-abf1-26b451dbaacc) |\n| <code>issue 16886 shouldn\'t remove parts of the query when choosing \'Run selected text\' (metabase\\#16886)</code> | The test timed out while trying to find an element with data-testid ""scalar-value"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50306?repo=metabase/metabase&commitHash=4b306c2a7e7d0798245b8c73771a87f5a302ed1f&utm_source=gh-comment&runConclusion=FAILURE&runId=729dc230-a12d-5ac0-bea9-7d192f249e2e) |\n\n[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/50306?repo=metabase/metabase&commitHash=4b306c2a7e7d0798245b8c73771a87f5a302ed1f&utm_source=gh-comment&runConclusion=FAILURE)\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 8490 static embeddings should respect \\`\\#locale\\` hash parameter (metabase\\#8490, metabase\\#50182)</code> | Unable to find an element with the text ""11월 2023"" after 4000ms, possibly due to broken text being split by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50306?repo=metabase/metabase&commitHash=4b306c2a7e7d0798245b8c73771a87f5a302ed1f&utm_source=gh-comment&runConclusion=FAILURE&runId=1531d663-57fa-5507-9f70-50ee70c6638e) |\n| <code>scenarios > filters > sql filters > field filter > Date when set as the default value for a required filter</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50306?repo=metabase/metabase&commitHash=4b306c2a7e7d0798245b8c73771a87f5a302ed1f&utm_source=gh-comment&runConclusion=FAILURE&runId=62f1243d-d9b7-5665-9f86-1bfecbc642ea) |\n| <code>scenarios > filters > sql filters > field filter > Date when set through the filter widget</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50306?repo=metabase/metabase&commitHash=4b306c2a7e7d0798245b8c73771a87f5a302ed1f&utm_source=gh-comment&runConclusion=FAILURE&runId=9803ca3e-f77a-53de-9efe-093486b29a1e) |\n| <code>scenarios > public > question should be able to view public questions with card template tags</code> | The element with data-testid \'cell-data\' was not found within 4000ms, causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50306?repo=metabase/metabase&commitHash=4b306c2a7e7d0798245b8c73771a87f5a302ed1f&utm_source=gh-comment&runConclusion=FAILURE&runId=3c6f6f53-80b8-5428-9daf-66ab22f5f037) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50306?repo=metabase/metabase&commitHash=4b306c2a7e7d0798245b8c73771a87f5a302ed1f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 20, 23, 12, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2501128527, 'issue_id': 2677354793, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff e2a8d43ed5b0473884686dfd0499a84bbb902643...12de41492e0c0e4d990f055e60e5ccc7b35d9a03.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/icons/Icon/icons/bug.svg<br>frontend/src/metabase/ui/components/icons/Icon/icons/index.ts |', 'created_at': datetime.datetime(2024, 11, 26, 15, 22, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2516986078, 'issue_id': 2677354793, 'author': 'filiphric', 'body': 'closed in favor of https://github.com/metabase/metabase/pull/50856', 'created_at': datetime.datetime(2024, 12, 4, 11, 2, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-20 23:12:35 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/131085_tests-4b306c2a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50306?repo=metabase/metabase&commitHash=4b306c2a7e7d0798245b8c73771a87f5a302ed1f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/5-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50306?repo=metabase/metabase&commitHash=4b306c2a7e7d0798245b8c73771a87f5a302ed1f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50306?repo=metabase/metabase&commitHash=4b306c2a7e7d0798245b8c73771a87f5a302ed1f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50306?repo=metabase/metabase&commitHash=4b306c2a7e7d0798245b8c73771a87f5a302ed1f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>skip-analysis-of-fields-with-current-fingerprint-version-test</code> | Insert or update operation on 'metabase\_field' table failed due to foreign key constraint 'fk\_field\_ref\_table\_id' violation. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50306?repo=metabase/metabase&commitHash=4b306c2a7e7d0798245b8c73771a87f5a302ed1f&utm_source=gh-comment&runConclusion=FAILURE&runId=d3248c62-dc7d-5a01-b2eb-9c72be36c204) |
| <code>analyze-unhidden-tables-test</code> | Insert or update operation on 'metabase\_field' table failed due to foreign key constraint 'fk\_field\_ref\_table\_id' violation. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50306?repo=metabase/metabase&commitHash=4b306c2a7e7d0798245b8c73771a87f5a302ed1f&utm_source=gh-comment&runConclusion=FAILURE&runId=792b57f5-f95a-5c49-a723-c893e2013b91) |
| <code>scenarios > models listing should allow using models in native queries</code> | The test timed out while trying to find an element with data-testid ""TableInteractive-root"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50306?repo=metabase/metabase&commitHash=4b306c2a7e7d0798245b8c73771a87f5a302ed1f&utm_source=gh-comment&runConclusion=FAILURE&runId=13cc11e6-5d12-5dbd-abf1-26b451dbaacc) |
| <code>issue 16886 shouldn't remove parts of the query when choosing 'Run selected text' (metabase\#16886)</code> | The test timed out while trying to find an element with data-testid ""scalar-value"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50306?repo=metabase/metabase&commitHash=4b306c2a7e7d0798245b8c73771a87f5a302ed1f&utm_source=gh-comment&runConclusion=FAILURE&runId=729dc230-a12d-5ac0-bea9-7d192f249e2e) |

[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/50306?repo=metabase/metabase&commitHash=4b306c2a7e7d0798245b8c73771a87f5a302ed1f&utm_source=gh-comment&runConclusion=FAILURE)
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 8490 static embeddings should respect \`\#locale\` hash parameter (metabase\#8490, metabase\#50182)</code> | Unable to find an element with the text ""11월 2023"" after 4000ms, possibly due to broken text being split by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50306?repo=metabase/metabase&commitHash=4b306c2a7e7d0798245b8c73771a87f5a302ed1f&utm_source=gh-comment&runConclusion=FAILURE&runId=1531d663-57fa-5507-9f70-50ee70c6638e) |
| <code>scenarios > filters > sql filters > field filter > Date when set as the default value for a required filter</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50306?repo=metabase/metabase&commitHash=4b306c2a7e7d0798245b8c73771a87f5a302ed1f&utm_source=gh-comment&runConclusion=FAILURE&runId=62f1243d-d9b7-5665-9f86-1bfecbc642ea) |
| <code>scenarios > filters > sql filters > field filter > Date when set through the filter widget</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50306?repo=metabase/metabase&commitHash=4b306c2a7e7d0798245b8c73771a87f5a302ed1f&utm_source=gh-comment&runConclusion=FAILURE&runId=9803ca3e-f77a-53de-9efe-093486b29a1e) |
| <code>scenarios > public > question should be able to view public questions with card template tags</code> | The element with data-testid 'cell-data' was not found within 4000ms, causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50306?repo=metabase/metabase&commitHash=4b306c2a7e7d0798245b8c73771a87f5a302ed1f&utm_source=gh-comment&runConclusion=FAILURE&runId=3c6f6f53-80b8-5428-9daf-66ab22f5f037) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50306?repo=metabase/metabase&commitHash=4b306c2a7e7d0798245b8c73771a87f5a302ed1f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2024-11-26 15:22:02 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff e2a8d43ed5b0473884686dfd0499a84bbb902643...12de41492e0c0e4d990f055e60e5ccc7b35d9a03.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/icons/Icon/icons/bug.svg<br>frontend/src/metabase/ui/components/icons/Icon/icons/index.ts |

filiphric (Issue Creator) on (2024-12-04 11:02:00 UTC): closed in favor of https://github.com/metabase/metabase/pull/50856

"
2677232082,pull_request,closed,,Properly Hide AI Features Settings,#50295,github-automation-metabase,2024-11-20 21:29:23+00:00,"['escherize', 'github-automation-metabase']",2024-11-21 15:39:34+00:00,2024-11-20 22:17:16+00:00,https://github.com/metabase/metabase/pull/50305,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2489649696, 'issue_id': 2677232082, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13172_tests-43a9b41f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>converting question to a native query (metabase\\$115946, metabase\\$132121, metabase\\$138181) should work for both simple and nested questions based...</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50305?repo=metabase/metabase&commitHash=43a9b41ff3a8882a7514d21a68179c3d9f93c422&utm_source=gh-comment&runConclusion=FAILURE&runId=e152f7f4-5c58-528b-b4e7-4374db3c3d0c) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50305?repo=metabase/metabase&commitHash=43a9b41ff3a8882a7514d21a68179c3d9f93c422&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 20, 22, 17, 36, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-20 22:17:36 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13172_tests-43a9b41f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>converting question to a native query (metabase\$115946, metabase\$132121, metabase\$138181) should work for both simple and nested questions based...</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50305?repo=metabase/metabase&commitHash=43a9b41ff3a8882a7514d21a68179c3d9f93c422&utm_source=gh-comment&runConclusion=FAILURE&runId=e152f7f4-5c58-528b-b4e7-4374db3c3d0c) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50305?repo=metabase/metabase&commitHash=43a9b41ff3a8882a7514d21a68179c3d9f93c422&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2677069135,pull_request,closed,,"🤖 backported ""fix(sdk): fix wrong e2e import path causing ci failure""","  #50297
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2024-11-20 20:23:03+00:00,"['heypoom', 'github-automation-metabase']",2024-11-20 20:29:48+00:00,2024-11-20 20:29:48+00:00,https://github.com/metabase/metabase/pull/50303,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2489486124, 'issue_id': 2677069135, 'author': 'heypoom', 'body': 'Combining this backport into https://github.com/metabase/metabase/pull/50290', 'created_at': datetime.datetime(2024, 11, 20, 20, 29, 48, tzinfo=datetime.timezone.utc)}]","heypoom (Assginee) on (2024-11-20 20:29:48 UTC): Combining this backport into https://github.com/metabase/metabase/pull/50290

"
2677065688,pull_request,closed,,PR env test,,alxnddr,2024-11-20 20:20:59+00:00,['alxnddr'],2024-11-21 01:27:03+00:00,2024-11-21 01:26:59+00:00,https://github.com/metabase/metabase/pull/50302,"[('.Team/DashViz', 'Dashboard and Viz team'), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2489512720, 'issue_id': 2677065688, 'author': 'github-actions[bot]', 'body': '👋 Deploying a preview environment for commit 40d902af7f258ac16168a72b4ae7a4c607329d2f.\n✅ Preview:\n    https://pr50302.coredev.metabase.com\n🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2024, 11, 20, 20, 46, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2489593806, 'issue_id': 2677065688, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13217_tests-40d902af-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>converting question to a native query (metabase\\$115946, metabase\\$132121, metabase\\$138181) should work for both simple and nested questions based...</code> | The expected text was not found in the element after 4 seconds, which timed out. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50302?repo=metabase/metabase&commitHash=40d902af7f258ac16168a72b4ae7a4c607329d2f&utm_source=gh-comment&runConclusion=FAILURE&runId=9cf01348-eaa1-5804-bece-8adc4ddc9393) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50302?repo=metabase/metabase&commitHash=40d902af7f258ac16168a72b4ae7a4c607329d2f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 20, 21, 39, 38, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-20 20:46:57 UTC): 👋 Deploying a preview environment for commit 40d902af7f258ac16168a72b4ae7a4c607329d2f.
✅ Preview:
    https://pr50302.coredev.metabase.com
🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

trunk-io[bot] on (2024-11-20 21:39:38 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13217_tests-40d902af-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>converting question to a native query (metabase\$115946, metabase\$132121, metabase\$138181) should work for both simple and nested questions based...</code> | The expected text was not found in the element after 4 seconds, which timed out. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50302?repo=metabase/metabase&commitHash=40d902af7f258ac16168a72b4ae7a4c607329d2f&utm_source=gh-comment&runConclusion=FAILURE&runId=9cf01348-eaa1-5804-bece-8adc4ddc9393) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50302?repo=metabase/metabase&commitHash=40d902af7f258ac16168a72b4ae7a4c607329d2f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2677022204,pull_request,closed,,fix(sdk): entity picker's hover and accent colors are not mappable via sdk theming,"Closes https://github.com/metabase/metabase/issues/47560

## Known Issues

The right chevron icon on the collection picker, as well as the ""Search Everywhere / Our Analytics"" selector is not yet themed. I'll work on these either before we land the PR, or on a follow-up PR that polishes these issues.

![CleanShot 2567-11-21 at 03 02 06@2x](https://github.com/user-attachments/assets/cf237ed5-bbb4-4520-add4-53375615211c)

![CleanShot 2567-11-21 at 03 02 18@2x](https://github.com/user-attachments/assets/87e7be0f-bbd2-42e1-9ff4-e79351c2a829)

## Description

Adds the necessary hover

### How to verify

- Open Storybook
- Go to ""InteractiveQuestion > Themed > Dark Theme Editor"" story
- Play around with it
- Hover colors should be well-themed on dark mode now

### Demo

![CleanShot 2567-11-21 at 03 04 26@2x](https://github.com/user-attachments/assets/142b4e7d-1463-4dab-8b9c-f3134618b9d6)

![CleanShot 2567-11-21 at 03 04 31@2x](https://github.com/user-attachments/assets/fa9e9f7e-22c4-41bb-9db9-f5855aa8acf6)

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR - to add either visual tests or unit tests",heypoom,2024-11-20 19:56:36+00:00,['heypoom'],2024-11-22 09:39:46+00:00,2024-11-21 12:01:11+00:00,https://github.com/metabase/metabase/pull/50299,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2489458008, 'issue_id': 2677022204, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 43ffbf0b24a631ee3e13416b572b97314c70412f...ac561efe8728580c439476757ebd4a73c2eeec0c.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/inputs/Checkbox/Checkbox.styled.tsx |', 'created_at': datetime.datetime(2024, 11, 20, 20, 12, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2489505719, 'issue_id': 2677022204, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/19_tests-ac561efe-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50299?repo=metabase/metabase&commitHash=ac561efe8728580c439476757ebd4a73c2eeec0c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 20, 20, 42, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2493335044, 'issue_id': 2677022204, 'author': 'heypoom', 'body': 'Created follow-up issue: https://github.com/metabase/metabase/issues/50394', 'created_at': datetime.datetime(2024, 11, 22, 9, 39, 44, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-20 20:12:42 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 43ffbf0b24a631ee3e13416b572b97314c70412f...ac561efe8728580c439476757ebd4a73c2eeec0c.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/inputs/Checkbox/Checkbox.styled.tsx |

trunk-io[bot] on (2024-11-20 20:42:20 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/19_tests-ac561efe-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50299?repo=metabase/metabase&commitHash=ac561efe8728580c439476757ebd4a73c2eeec0c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

heypoom (Issue Creator) on (2024-11-22 09:39:44 UTC): Created follow-up issue: https://github.com/metabase/metabase/issues/50394

"
2677021319,pull_request,closed,,"🤖 backported ""fix(sdk): cli suggests a relative import path with reminder message""",#50276,github-automation-metabase,2024-11-20 19:56:07+00:00,"['heypoom', 'github-automation-metabase']",2024-11-20 21:04:39+00:00,2024-11-20 20:44:42+00:00,https://github.com/metabase/metabase/pull/50298,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2489504722, 'issue_id': 2677021319, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/12858_tests-b5dd7b0e-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50298?repo=metabase/metabase&commitHash=b5dd7b0e70e1b84903e3df9b5dce344b8bec30ce&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 20, 20, 41, 40, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-20 20:41:40 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/12858_tests-b5dd7b0e-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50298?repo=metabase/metabase&commitHash=b5dd7b0e70e1b84903e3df9b5dce344b8bec30ce&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2676986797,pull_request,closed,,fix(sdk): fix wrong e2e import path causing ci failure,Fix the wrong SDK import paths causing tests to fail 🤦🏻 ,heypoom,2024-11-20 19:39:14+00:00,['heypoom'],2024-11-26 18:51:00+00:00,2024-11-20 20:22:14+00:00,https://github.com/metabase/metabase/pull/50297,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2489458737, 'issue_id': 2676986797, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/3282_tests-fac57b8e-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50297?repo=metabase/metabase&commitHash=fac57b8e91e02a720c65619e8b81a5d1cac2c55d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 20, 20, 13, 11, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-20 20:13:11 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/3282_tests-fac57b8e-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50297?repo=metabase/metabase&commitHash=fac57b8e91e02a720c65619e8b81a5d1cac2c55d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2676784765,pull_request,closed,,actually return values from getHidden,- Arrow functions with {}'s do not implicitly return!,escherize,2024-11-20 18:35:25+00:00,['escherize'],2024-11-20 22:17:42+00:00,2024-11-20 21:28:28+00:00,https://github.com/metabase/metabase/pull/50295,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2489365371, 'issue_id': 2676784765, 'author': 'escherize', 'body': '<img width=""976"" alt=""Screenshot 2024-11-20 at 12 15 50\u202fPM"" src=""https://github.com/user-attachments/assets/26a63c13-f424-4cdb-9a52-640ba5c0905d"">', 'created_at': datetime.datetime(2024, 11, 20, 19, 17, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2489369402, 'issue_id': 2676784765, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13217_tests-baa12065-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50295?repo=metabase/metabase&commitHash=baa12065b6c10d7e1587e7d77b8b96535fb2d1af&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 20, 19, 20, 6, tzinfo=datetime.timezone.utc)}]","escherize (Issue Creator) on (2024-11-20 19:17:41 UTC): <img width=""976"" alt=""Screenshot 2024-11-20 at 12 15 50 PM"" src=""https://github.com/user-attachments/assets/26a63c13-f424-4cdb-9a52-640ba5c0905d"">

trunk-io[bot] on (2024-11-20 19:20:06 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13217_tests-baa12065-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50295?repo=metabase/metabase&commitHash=baa12065b6c10d7e1587e7d77b8b96535fb2d1af&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2676768511,pull_request,closed,,Update SDK version to 0.51.6,Update Readme version references and published npm package version to 0.51.6,github-automation-metabase,2024-11-20 18:25:37+00:00,"['heypoom', 'github-automation-metabase']",2024-11-20 18:30:16+00:00,2024-11-20 18:29:48+00:00,https://github.com/metabase/metabase/pull/50293,"[('no-backport', 'Do not backport this PR to any branch')]",[],
2676761907,pull_request,closed,,linkspector action with reviewdog,Like it says on the tin.,jeff-bruemmer,2024-11-20 18:21:25+00:00,['jeff-bruemmer'],2024-12-23 15:09:35+00:00,2024-12-23 15:09:35+00:00,https://github.com/metabase/metabase/pull/50291,[],[],
2676747924,pull_request,closed,,"🤖 backported ""feat(sdk): revamp CreateQuestion and create question behaviour""",#50088,github-automation-metabase,2024-11-20 18:12:49+00:00,"['heypoom', 'github-automation-metabase']",2024-11-20 21:43:17+00:00,2024-11-20 21:11:56+00:00,https://github.com/metabase/metabase/pull/50290,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2489258783, 'issue_id': 2676747924, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 62b2f2503be3f56177c2d78ae8bfc00966dc19fc...2e06a5cd349622b7954fd48621561ec204ee9812.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/overlays/Modal/Modal.styled.tsx |', 'created_at': datetime.datetime(2024, 11, 20, 18, 14, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2489373615, 'issue_id': 2676747924, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/37644_tests-2e06a5cd-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50290?repo=metabase/metabase&commitHash=2e06a5cd349622b7954fd48621561ec204ee9812&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 20, 19, 22, 38, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-20 18:14:21 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 62b2f2503be3f56177c2d78ae8bfc00966dc19fc...2e06a5cd349622b7954fd48621561ec204ee9812.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/overlays/Modal/Modal.styled.tsx |

trunk-io[bot] on (2024-11-20 19:22:38 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/37644_tests-2e06a5cd-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50290?repo=metabase/metabase&commitHash=2e06a5cd349622b7954fd48621561ec204ee9812&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2676721059,pull_request,closed,,Prevent coercion after nesting for all fields with coercion-strategy,"Fixes #48721

### Description

We started nesting queries in the QP that we hadn't nested before, but double coercion prevention was only implemented for field references with the `:temporal-unit` option. This PR prevents double coercion for any field with the `:coercion-strategy` option.

### How to verify

Use the steps from https://github.com/metabase/metabase/issues/48721#issuecomment-2486662090. The query should not blow up on this branch. The new unit test fails on `master` but passes on this branch.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",metamben,2024-11-20 17:58:10+00:00,['metamben'],2024-11-21 20:21:52+00:00,2024-11-21 20:21:49+00:00,https://github.com/metabase/metabase/pull/50289,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2489395996, 'issue_id': 2676721059, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/3_tests-1590a605-purple) &ensp; ![Static Badge](https://img.shields.io/badge/3-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>filter-test</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50289?repo=metabase/metabase&commitHash=1590a605fce892c2f82408296945944c125cd777&utm_source=gh-comment&runConclusion=FAILURE&runId=804c0fc5-9ed9-5d69-8429-cf940cf6c892) |\n| <code>project-id-override-test</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50289?repo=metabase/metabase&commitHash=1590a605fce892c2f82408296945944c125cd777&utm_source=gh-comment&runConclusion=FAILURE&runId=84eee9b9-7d3b-57e6-944c-7d56bdbc8e47) |\n| <code>describe-fields-or-table-test</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50289?repo=metabase/metabase&commitHash=1590a605fce892c2f82408296945944c125cd777&utm_source=gh-comment&runConclusion=FAILURE&runId=e26b4b52-7c42-59d4-a38d-ebc096d56a8e) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50289?repo=metabase/metabase&commitHash=1590a605fce892c2f82408296945944c125cd777&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 20, 19, 34, 52, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-20 19:34:52 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/3_tests-1590a605-purple) &ensp; ![Static Badge](https://img.shields.io/badge/3-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>filter-test</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50289?repo=metabase/metabase&commitHash=1590a605fce892c2f82408296945944c125cd777&utm_source=gh-comment&runConclusion=FAILURE&runId=804c0fc5-9ed9-5d69-8429-cf940cf6c892) |
| <code>project-id-override-test</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50289?repo=metabase/metabase&commitHash=1590a605fce892c2f82408296945944c125cd777&utm_source=gh-comment&runConclusion=FAILURE&runId=84eee9b9-7d3b-57e6-944c-7d56bdbc8e47) |
| <code>describe-fields-or-table-test</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50289?repo=metabase/metabase&commitHash=1590a605fce892c2f82408296945944c125cd777&utm_source=gh-comment&runConclusion=FAILURE&runId=e26b4b52-7c42-59d4-a38d-ebc096d56a8e) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50289?repo=metabase/metabase&commitHash=1590a605fce892c2f82408296945944c125cd777&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2676698193,pull_request,closed,,"🤖 backported ""Update Translations for v51.5""",#50163,github-automation-metabase,2024-11-20 17:46:29+00:00,"['iethree', 'github-automation-metabase']",2024-11-20 19:57:03+00:00,2024-11-20 19:24:02+00:00,https://github.com/metabase/metabase/pull/50288,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2489270335, 'issue_id': 2676698193, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/2_tests-fee0f6ca-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/2-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>last-edited-at-correctness-test</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50288?repo=metabase/metabase&commitHash=fee0f6ca6a7bc59a0fba57c662c369ea03cf97e9&utm_source=gh-comment&runConclusion=FAILURE&runId=afe61a40-4480-552e-8e77-b358e9f6903f) |\n| <code>created-at-correctness-test</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50288?repo=metabase/metabase&commitHash=fee0f6ca6a7bc59a0fba57c662c369ea03cf97e9&utm_source=gh-comment&runConclusion=FAILURE&runId=81bc3f07-6c72-528b-927d-0e231e1c88e2) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50288?repo=metabase/metabase&commitHash=fee0f6ca6a7bc59a0fba57c662c369ea03cf97e9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 20, 18, 21, 6, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-20 18:21:06 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/2_tests-fee0f6ca-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/2-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>last-edited-at-correctness-test</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50288?repo=metabase/metabase&commitHash=fee0f6ca6a7bc59a0fba57c662c369ea03cf97e9&utm_source=gh-comment&runConclusion=FAILURE&runId=afe61a40-4480-552e-8e77-b358e9f6903f) |
| <code>created-at-correctness-test</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50288?repo=metabase/metabase&commitHash=fee0f6ca6a7bc59a0fba57c662c369ea03cf97e9&utm_source=gh-comment&runConclusion=FAILURE&runId=81bc3f07-6c72-528b-927d-0e231e1c88e2) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50288?repo=metabase/metabase&commitHash=fee0f6ca6a7bc59a0fba57c662c369ea03cf97e9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2676584306,pull_request,closed,,"🤖 backported ""docs - fix links""",#50282,github-automation-metabase,2024-11-20 17:07:16+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2024-11-20 17:09:01+00:00,2024-11-20 17:09:00+00:00,https://github.com/metabase/metabase/pull/50287,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2676471399,pull_request,closed,,Updated codeowners,Updated based on the latest org structure ,NevRA,2024-11-20 16:40:49+00:00,['NevRA'],2024-11-26 18:51:01+00:00,2024-11-20 17:24:39+00:00,https://github.com/metabase/metabase/pull/50285,"[('.CI & Tests', ''), ('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2489171609, 'issue_id': 2676471399, 'author': 'NevRA', 'body': '@camsaul fyi, we removed you from the codeowners to prevent auto-assigning you to most of the PRs', 'created_at': datetime.datetime(2024, 11, 20, 17, 26, 12, tzinfo=datetime.timezone.utc)}]","NevRA (Issue Creator) on (2024-11-20 17:26:12 UTC): @camsaul fyi, we removed you from the codeowners to prevent auto-assigning you to most of the PRs

"
2676380252,pull_request,closed,,"🤖 backported ""skip connection check when creating/updating channel""","  #49661
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2024-11-20 16:01:34+00:00,"['qnkhuat', 'github-automation-metabase']",2024-11-21 05:10:09+00:00,2024-11-21 04:26:13+00:00,https://github.com/metabase/metabase/pull/50284,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2490028424, 'issue_id': 2676380252, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/19116_tests-b63d431f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50284?repo=metabase/metabase&commitHash=b63d431f7e7d7e1af860574328583dd40041e965&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 21, 4, 10, 55, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-21 04:10:55 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/19116_tests-b63d431f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50284?repo=metabase/metabase&commitHash=b63d431f7e7d7e1af860574328583dd40041e965&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2676352273,pull_request,closed,,docs - fix links,Broken links caught by linkspector.,jeff-bruemmer,2024-11-20 15:51:17+00:00,['jeff-bruemmer'],2024-11-20 17:09:43+00:00,2024-11-20 17:06:15+00:00,https://github.com/metabase/metabase/pull/50282,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2676264478,pull_request,open,,feat(sdk): enable Next.js compatibility for embedding cli,"Closes https://github.com/metabase/metabase/issues/50096

### Description

Uses the experimental `/nextjs` import for Next.js projects when a Next.js project is detected.

### How to verify

- [Create a new Next.js project](https://nextjs.org/learn-pages-router/basics/create-nextjs-app/setup)
- Run the CLI in it. Use the following command: `docker rm -f metabase-enterprise-embedding && yarn add file:../metabase/resources/embedding-sdk && npx @metabase/embedding-sdk-react start`
  - If you are using Yarn 2, you need to specify the prefix to link it: `docker rm -f metabase-enterprise-embedding && yarn add ""@metabase/embedding-sdk-react@file:../metabase/resources/embedding-sdk"" && npx @metabase/embedding-sdk-react start` 
- It should use the experimental Next.js layer with your app
- The components should work with Next.js

### Demo

TBA",heypoom,2024-11-20 15:34:40+00:00,['heypoom'],2025-02-08 04:05:57+00:00,,https://github.com/metabase/metabase/pull/50281,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', ''), ('Embedding/SDK-CLI', 'Onboarding CLI for React SDK')]","[{'comment_id': 2489082859, 'issue_id': 2676264478, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13612_tests-d9178e4c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50281?repo=metabase/metabase&commitHash=d9178e4c74033de7de35a290751a404dad6de44c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50281?repo=metabase/metabase&commitHash=d9178e4c74033de7de35a290751a404dad6de44c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50281?repo=metabase/metabase&commitHash=d9178e4c74033de7de35a290751a404dad6de44c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50281?repo=metabase/metabase&commitHash=d9178e4c74033de7de35a290751a404dad6de44c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50281?repo=metabase/metabase&commitHash=d9178e4c74033de7de35a290751a404dad6de44c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 20, 16, 43, 29, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-20 16:43:29 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13612_tests-d9178e4c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50281?repo=metabase/metabase&commitHash=d9178e4c74033de7de35a290751a404dad6de44c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50281?repo=metabase/metabase&commitHash=d9178e4c74033de7de35a290751a404dad6de44c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50281?repo=metabase/metabase&commitHash=d9178e4c74033de7de35a290751a404dad6de44c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50281?repo=metabase/metabase&commitHash=d9178e4c74033de7de35a290751a404dad6de44c&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50281?repo=metabase/metabase&commitHash=d9178e4c74033de7de35a290751a404dad6de44c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2676168709,pull_request,closed,,"🤖 backported ""Sdk update react next versions""",#50222,github-automation-metabase,2024-11-20 14:59:34+00:00,"['albertoperdomo', 'github-automation-metabase']",2024-11-25 09:15:18+00:00,2024-11-25 09:15:17+00:00,https://github.com/metabase/metabase/pull/50280,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2676013385,pull_request,closed,,fix(sdk): emit typescript files in the embedding cli when in a typescript project,"Closes https://github.com/metabase/metabase/issues/50094

### Description

We should emit TypeScript files when in a TypeScript project, i.e. when the project contains a `tsconfig.json` file, or has `typescript` in the project's `devDependencies`.

### How to verify

- Go to a TypeScript project. You can create one with Vite.
- Run the CLI. I usually use `docker rm -f metabase-enterprise-embedding && yarn add file:../metabase/resources/embedding-sdk && npx @metabase/embedding-sdk-react start`
- It should emit `.ts` and `.tsx` files.
- For regular JavaScript projects, It should still emit `.js` and `.jsx` files.

### Demo

In TypeScript projects, the file extensions now become ts and tsx.

![CleanShot 2567-11-20 at 21 29 08@2x](https://github.com/user-attachments/assets/90fda4ac-c6bd-45d2-bed0-0f271cdac297)
",heypoom,2024-11-20 14:18:01+00:00,['heypoom'],2024-11-21 08:21:42+00:00,2024-11-21 08:21:40+00:00,https://github.com/metabase/metabase/pull/50278,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', ''), ('Embedding/SDK-CLI', 'Onboarding CLI for React SDK')]","[{'comment_id': 2488843902, 'issue_id': 2676013385, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13217_tests-3f93e68d-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50278?repo=metabase/metabase&commitHash=3f93e68df43ba2d190edfa9544378a1f2d0e8a9f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 20, 15, 12, 29, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-20 15:12:29 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13217_tests-3f93e68d-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50278?repo=metabase/metabase&commitHash=3f93e68df43ba2d190edfa9544378a1f2d0e8a9f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2675997286,pull_request,closed,,49586 adjust the diagnostics dialog towards filing a bug vs downloading diagnostics,"
Closes https://github.com/metabase/metabase/issues/49586

### Description

Design updates to diagnostic window. When slack bug reporting channel is set, modal is shows a ""description"" field. Modal now shows a ""bug report submitted"" state too.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. enable `MB_BUG_REPORTING_ENABLED` env setting
2. hit F1 or choose any other way of showing bug report modal

### Demo

![Screenshot 2024-11-20 at 15 10 30](https://github.com/user-attachments/assets/96426cf9-d2d2-4804-916f-337610352379)
![Screenshot 2024-11-20 at 15 10 27](https://github.com/user-attachments/assets/8402c3fe-27fb-4ec7-9369-7af45874c6ba)
![Screenshot 2024-11-20 at 15 09 18](https://github.com/user-attachments/assets/343a76fb-b520-4eb5-bc0c-243bf636cf4d)
![Screenshot 2024-11-20 at 15 05 43](https://github.com/user-attachments/assets/ccae3e7f-d95f-4fd9-aeaf-59606bf127f6)


### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",filiphric,2024-11-20 14:11:21+00:00,['filiphric'],2024-12-04 11:02:52+00:00,2024-12-04 11:02:52+00:00,https://github.com/metabase/metabase/pull/50277,"[('backport', 'Automatically create PR on current release branch on merge'), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2489205479, 'issue_id': 2675997286, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/131085_tests-3184b500-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50277?repo=metabase/metabase&commitHash=3184b5002fcfdec7017a8e65cceb77f4f61f3d1b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50277?repo=metabase/metabase&commitHash=3184b5002fcfdec7017a8e65cceb77f4f61f3d1b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50277?repo=metabase/metabase&commitHash=3184b5002fcfdec7017a8e65cceb77f4f61f3d1b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50277?repo=metabase/metabase&commitHash=3184b5002fcfdec7017a8e65cceb77f4f61f3d1b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>error reporting modal should allow you to open the error reporting modal via the command palette</code> | Unable to find an accessible element with the role ""option"" and name ""/Open error diagnostic modal/"" after 4000ms of retrying. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50277?repo=metabase/metabase&commitHash=3184b5002fcfdec7017a8e65cceb77f4f61f3d1b&utm_source=gh-comment&runConclusion=FAILURE&runId=b600d7a8-fca1-5c86-acec-359f400dc794) |\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 30039 should not trigger object detail navigation after the modal was closed (metabase\\#30039)</code> | The test timed out while trying to find an element with data-testid ""detail-shortcut"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50277?repo=metabase/metabase&commitHash=3184b5002fcfdec7017a8e65cceb77f4f61f3d1b&utm_source=gh-comment&runConclusion=FAILURE&runId=2537a535-0fac-501e-bfc3-0eb32b20ed20) |\n| <code>issue 8490 static embeddings should respect \\`\\#locale\\` hash parameter (metabase\\#8490, metabase\\#50182)</code> | Unable to find an element with the text ""11월 2023"" after 4000ms, possibly due to broken text being split by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50277?repo=metabase/metabase&commitHash=3184b5002fcfdec7017a8e65cceb77f4f61f3d1b&utm_source=gh-comment&runConclusion=FAILURE&runId=60810b0d-67bc-5d19-8b61-ead143027590) |\n| <code>scenarios > filters > sql filters > field filter > Date when set as the default value for a required filter</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50277?repo=metabase/metabase&commitHash=3184b5002fcfdec7017a8e65cceb77f4f61f3d1b&utm_source=gh-comment&runConclusion=FAILURE&runId=d3aaa03f-cc15-510d-8fac-ce5b29281fab) |\n| <code>scenarios > filters > sql filters > field filter > Date when set through the filter widget</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50277?repo=metabase/metabase&commitHash=3184b5002fcfdec7017a8e65cceb77f4f61f3d1b&utm_source=gh-comment&runConclusion=FAILURE&runId=7b13339d-1fcc-57ee-9770-607c247fad07) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50277?repo=metabase/metabase&commitHash=3184b5002fcfdec7017a8e65cceb77f4f61f3d1b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 20, 17, 44, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2492574088, 'issue_id': 2675997286, 'author': 'mazameli', 'body': '@filiphric, could you help @romnitt to give this a close UX review (if he needs help getting this to run locally, or seeing an ephemeral PR env with this branch etc)?', 'created_at': datetime.datetime(2024, 11, 21, 23, 40, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2503268150, 'issue_id': 2675997286, 'author': 'filiphric', 'body': 'well, this is really ironic, because I cannot find the cause of this and the logs don’t seem to show any errors. I also don’t know what changed since it seems that other information seems to pass into the report with no problem. I’d love it if you could spare some time with me to debug the problem\r\n\r\nEDIT: found the problem, will fix. I probably screwed up the rebase or something 🤦 \r\n\r\nEDIT2: it wasn’t a rebase problem, I renamed ""description"" to ""bugReportDescription"" on refactor and broke it', 'created_at': datetime.datetime(2024, 11, 27, 8, 47, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2510839543, 'issue_id': 2675997286, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff e2a8d43ed5b0473884686dfd0499a84bbb902643...ece8488904bd20aaefb45851f773a5fc64a0b7ec.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/icons/Icon/icons/bug.svg<br>frontend/src/metabase/ui/components/icons/Icon/icons/index.ts |', 'created_at': datetime.datetime(2024, 12, 2, 8, 9, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2513902213, 'issue_id': 2675997286, 'author': 'github-actions[bot]', 'body': '👋 Deploying a preview environment for commit ece8488904bd20aaefb45851f773a5fc64a0b7ec.\n✅ Preview:\n    https://pr50277.coredev.metabase.com\n🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2024, 12, 3, 8, 52, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2516988183, 'issue_id': 2675997286, 'author': 'filiphric', 'body': 'closed in favor of https://github.com/metabase/metabase/pull/50856', 'created_at': datetime.datetime(2024, 12, 4, 11, 2, 52, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-20 17:44:34 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/131085_tests-3184b500-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50277?repo=metabase/metabase&commitHash=3184b5002fcfdec7017a8e65cceb77f4f61f3d1b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50277?repo=metabase/metabase&commitHash=3184b5002fcfdec7017a8e65cceb77f4f61f3d1b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50277?repo=metabase/metabase&commitHash=3184b5002fcfdec7017a8e65cceb77f4f61f3d1b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50277?repo=metabase/metabase&commitHash=3184b5002fcfdec7017a8e65cceb77f4f61f3d1b&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>error reporting modal should allow you to open the error reporting modal via the command palette</code> | Unable to find an accessible element with the role ""option"" and name ""/Open error diagnostic modal/"" after 4000ms of retrying. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50277?repo=metabase/metabase&commitHash=3184b5002fcfdec7017a8e65cceb77f4f61f3d1b&utm_source=gh-comment&runConclusion=FAILURE&runId=b600d7a8-fca1-5c86-acec-359f400dc794) |
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 30039 should not trigger object detail navigation after the modal was closed (metabase\#30039)</code> | The test timed out while trying to find an element with data-testid ""detail-shortcut"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50277?repo=metabase/metabase&commitHash=3184b5002fcfdec7017a8e65cceb77f4f61f3d1b&utm_source=gh-comment&runConclusion=FAILURE&runId=2537a535-0fac-501e-bfc3-0eb32b20ed20) |
| <code>issue 8490 static embeddings should respect \`\#locale\` hash parameter (metabase\#8490, metabase\#50182)</code> | Unable to find an element with the text ""11월 2023"" after 4000ms, possibly due to broken text being split by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50277?repo=metabase/metabase&commitHash=3184b5002fcfdec7017a8e65cceb77f4f61f3d1b&utm_source=gh-comment&runConclusion=FAILURE&runId=60810b0d-67bc-5d19-8b61-ead143027590) |
| <code>scenarios > filters > sql filters > field filter > Date when set as the default value for a required filter</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50277?repo=metabase/metabase&commitHash=3184b5002fcfdec7017a8e65cceb77f4f61f3d1b&utm_source=gh-comment&runConclusion=FAILURE&runId=d3aaa03f-cc15-510d-8fac-ce5b29281fab) |
| <code>scenarios > filters > sql filters > field filter > Date when set through the filter widget</code> | The test timed out while trying to find an element with the text ""Synergistic Steel Chair"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50277?repo=metabase/metabase&commitHash=3184b5002fcfdec7017a8e65cceb77f4f61f3d1b&utm_source=gh-comment&runConclusion=FAILURE&runId=7b13339d-1fcc-57ee-9770-607c247fad07) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50277?repo=metabase/metabase&commitHash=3184b5002fcfdec7017a8e65cceb77f4f61f3d1b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

mazameli on (2024-11-21 23:40:46 UTC): @filiphric, could you help @romnitt to give this a close UX review (if he needs help getting this to run locally, or seeing an ephemeral PR env with this branch etc)?

filiphric (Issue Creator) on (2024-11-27 08:47:40 UTC): well, this is really ironic, because I cannot find the cause of this and the logs don’t seem to show any errors. I also don’t know what changed since it seems that other information seems to pass into the report with no problem. I’d love it if you could spare some time with me to debug the problem

EDIT: found the problem, will fix. I probably screwed up the rebase or something 🤦 

EDIT2: it wasn’t a rebase problem, I renamed ""description"" to ""bugReportDescription"" on refactor and broke it

github-actions[bot] on (2024-12-02 08:09:32 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff e2a8d43ed5b0473884686dfd0499a84bbb902643...ece8488904bd20aaefb45851f773a5fc64a0b7ec.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/icons/Icon/icons/bug.svg<br>frontend/src/metabase/ui/components/icons/Icon/icons/index.ts |

github-actions[bot] on (2024-12-03 08:52:51 UTC): 👋 Deploying a preview environment for commit ece8488904bd20aaefb45851f773a5fc64a0b7ec.
✅ Preview:
    https://pr50277.coredev.metabase.com
🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

filiphric (Issue Creator) on (2024-12-04 11:02:52 UTC): closed in favor of https://github.com/metabase/metabase/pull/50856

"
2675968426,pull_request,closed,,fix(sdk): cli suggests a relative import path with reminder message,"Closes https://github.com/metabase/metabase/issues/50093

### Description

Uses the last path segment as an [import path](https://www.loom.com/share/a3177f2a91c1404a83ead516effbd436) (e.g. `./src/components/metabase` -> `./metabase`), and print a message to remind users to update the import path to match their app. It also updates the default import path to `./src/components/metabase` to be a more reasonable default.

### Demo

![CleanShot 2567-11-20 at 20 38 45@2x](https://github.com/user-attachments/assets/d1fd7a0d-c49a-46b4-924c-4c39bd1dde2f)

### Checklist

- [x] Tests have been added/updated to cover changes in this PR - Unit
",heypoom,2024-11-20 13:59:29+00:00,['heypoom'],2024-11-20 19:55:16+00:00,2024-11-20 19:55:15+00:00,https://github.com/metabase/metabase/pull/50276,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', ''), ('Embedding/SDK-CLI', 'Onboarding CLI for React SDK')]","[{'comment_id': 2488830411, 'issue_id': 2675968426, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13216_tests-8a1c84ef-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50276?repo=metabase/metabase&commitHash=8a1c84ef9db7db9e61c573cf650eb565828984bb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 20, 15, 7, 1, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-20 15:07:01 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13216_tests-8a1c84ef-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50276?repo=metabase/metabase&commitHash=8a1c84ef9db7db9e61c573cf650eb565828984bb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2675926234,pull_request,closed,,Basic Search Index Ranker tests,"Refs https://github.com/metabase/metabase/issues/50261

The idea here is that we'll have a test for each scorer, where it clearly dominates other factors.",crisptrutski,2024-11-20 13:44:07+00:00,['crisptrutski'],2024-11-26 18:50:58+00:00,2024-11-21 09:19:09+00:00,https://github.com/metabase/metabase/pull/50275,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2488687925, 'issue_id': 2675926234, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/114194_tests-8e0d4430-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50275?repo=metabase/metabase&commitHash=8e0d44306a4772e596ffdcca05820a0e1a88ae03&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 20, 14, 10, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2490307285, 'issue_id': 2675926234, 'author': 'crisptrutski', 'body': ""besides allowing us to run tests in parallel, it's also nice not to wreck your dev environment 😄"", 'created_at': datetime.datetime(2024, 11, 21, 7, 55, 22, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-20 14:10:58 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/114194_tests-8e0d4430-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50275?repo=metabase/metabase&commitHash=8e0d44306a4772e596ffdcca05820a0e1a88ae03&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

crisptrutski (Issue Creator) on (2024-11-21 07:55:22 UTC): besides allowing us to run tests in parallel, it's also nice not to wreck your dev environment 😄

"
2675677109,pull_request,closed,,"🤖 backported ""Fix - Notebook expression editor autocomplete issues""",#49949,github-automation-metabase,2024-11-20 12:11:34+00:00,"['kamilmielnik', 'github-automation-metabase']",2024-11-20 13:28:30+00:00,2024-11-20 12:54:12+00:00,https://github.com/metabase/metabase/pull/50274,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2488481119, 'issue_id': 2675677109, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/37633_tests-29eb6cf4-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50274?repo=metabase/metabase&commitHash=29eb6cf4f78d7e35f2bce51deab79ab3eb6163a8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 20, 12, 39, 52, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-20 12:39:52 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/37633_tests-29eb6cf4-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50274?repo=metabase/metabase&commitHash=29eb6cf4f78d7e35f2bce51deab79ab3eb6163a8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2675521178,pull_request,closed,,Bug triage fix,Context: https://metaboat.slack.com/archives/C5XHN8GLW/p1731439939807739,NevRA,2024-11-20 11:23:20+00:00,['NevRA'],2024-11-26 18:51:02+00:00,2024-11-20 15:53:03+00:00,https://github.com/metabase/metabase/pull/50271,"[('.CI & Tests', ''), ('no-backport', 'Do not backport this PR to any branch')]",[],
2675305247,pull_request,closed,,fix padding on published embeds list,"
Closes the issue reported here: https://metaboat.slack.com/archives/C063Q3F1HPF/p1732048755464569

### Description

Commit 1 fixes the missing padding by adding back the same component used originally: https://github.com/metabase/metabase/commit/3c16a1bdb0e1c032d7e347c955c20f4725b20531#diff-cf7f65b354d04f8fb18deb685341cc334dbb8a4f42ba93f5200546e4037c5b57L58-L63

Commit 2 adds the border to the public links to make them consistent with the list of embeds. I didn't add the maxWidth as it was not present and public links tends to be long.


### How to verify

Open http://localhost:3000/admin/settings/public-sharing and http://localhost:3000/admin/settings/embedding-in-other-applications/standalone without any public links/embeds shared



### Demo
Before
Embeds:
<img width=""2183"" alt=""image"" src=""https://github.com/user-attachments/assets/f421d213-eaa0-4363-818e-7548888f3162"">


Public:
<img width=""2180"" alt=""image"" src=""https://github.com/user-attachments/assets/9b9610f0-70a7-485f-94f1-1d514ecbab8a"">


After:
Embeds:
<img width=""1578"" alt=""image"" src=""https://github.com/user-attachments/assets/2902362e-fc49-428a-9e07-c1ec24bfba51"">


Public:

<img width=""2180"" alt=""image"" src=""https://github.com/user-attachments/assets/faf8f795-6d5a-4ad5-acab-f8e82fdc1594"">
",npretto,2024-11-20 10:14:26+00:00,['npretto'],2024-11-21 16:03:27+00:00,2024-11-21 15:16:17+00:00,https://github.com/metabase/metabase/pull/50268,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2488223244, 'issue_id': 2675305247, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13207_tests-dd217c47-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50268?repo=metabase/metabase&commitHash=dd217c475b32b0aa40f4bbbc940b487b8937d38e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 20, 10, 41, 47, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-20 10:41:47 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13207_tests-dd217c47-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50268?repo=metabase/metabase&commitHash=dd217c475b32b0aa40f4bbbc940b487b8937d38e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2674954581,pull_request,closed,,align tab items on the left,"closes https://github.com/metabase/metabase/issues/50265

### Before
 

https://github.com/user-attachments/assets/4ff9071b-373f-4c97-ba3e-9a33a1de1a15


### After (updated)



https://github.com/user-attachments/assets/6640da43-4a6f-4161-8f9e-d3f6f84bd810




",uladzimirdev,2024-11-20 08:39:48+00:00,['uladzimirdev'],2024-11-21 17:53:53+00:00,2024-11-21 17:53:50+00:00,https://github.com/metabase/metabase/pull/50264,"[('.Team/Querying', '')]","[{'comment_id': 2487902034, 'issue_id': 2674954581, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff e2966ef0593edf785924c4fb74e93cb7059aa06f...84fa8e3197f4e386b3fce11eb1fbfb06184f2d04.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/BaseChartSettings.styled.tsx<br>frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/BaseChartSettings.tsx<br>frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/BaseChartSettings.unit.spec.tsx |\n| @kdoh | frontend/src/metabase/ui/components/navigation/Tabs/Tabs.styled.tsx |', 'created_at': datetime.datetime(2024, 11, 20, 8, 41, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2487968416, 'issue_id': 2674954581, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/22_tests-84fa8e31-purple) &ensp; ![Static Badge](https://img.shields.io/badge/3-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50264?repo=metabase/metabase&commitHash=84fa8e3197f4e386b3fce11eb1fbfb06184f2d04&utm_source=gh-comment&runConclusion=FAILURE&runId=f36da666-901b-5480-a298-c982dd2483c1) |\n| <code>scenarios > visualizations > pivot tables should not have to wait for data to show fields in summarization (metabase\\$126467)</code> | Unable to find a label with the text ""Switch to editor"" within the expected time. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50264?repo=metabase/metabase&commitHash=84fa8e3197f4e386b3fce11eb1fbfb06184f2d04&utm_source=gh-comment&runConclusion=FAILURE&runId=de17e19a-9caa-5582-ab21-a5a3ba529fb4) |\n| <code>scenarios > x-rays should correctly apply breakout in query builder (metabase\\$114648)</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50264?repo=metabase/metabase&commitHash=84fa8e3197f4e386b3fce11eb1fbfb06184f2d04&utm_source=gh-comment&runConclusion=FAILURE&runId=7660bef6-b576-5452-8196-04d0b9c47aa4) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50264?repo=metabase/metabase&commitHash=84fa8e3197f4e386b3fce11eb1fbfb06184f2d04&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 20, 9, 9, 50, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-20 08:41:12 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff e2966ef0593edf785924c4fb74e93cb7059aa06f...84fa8e3197f4e386b3fce11eb1fbfb06184f2d04.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/BaseChartSettings.styled.tsx<br>frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/BaseChartSettings.tsx<br>frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/BaseChartSettings.unit.spec.tsx |
| @kdoh | frontend/src/metabase/ui/components/navigation/Tabs/Tabs.styled.tsx |

trunk-io[bot] on (2024-11-20 09:09:50 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/22_tests-84fa8e31-purple) &ensp; ![Static Badge](https://img.shields.io/badge/3-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50264?repo=metabase/metabase&commitHash=84fa8e3197f4e386b3fce11eb1fbfb06184f2d04&utm_source=gh-comment&runConclusion=FAILURE&runId=f36da666-901b-5480-a298-c982dd2483c1) |
| <code>scenarios > visualizations > pivot tables should not have to wait for data to show fields in summarization (metabase\$126467)</code> | Unable to find a label with the text ""Switch to editor"" within the expected time. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50264?repo=metabase/metabase&commitHash=84fa8e3197f4e386b3fce11eb1fbfb06184f2d04&utm_source=gh-comment&runConclusion=FAILURE&runId=de17e19a-9caa-5582-ab21-a5a3ba529fb4) |
| <code>scenarios > x-rays should correctly apply breakout in query builder (metabase\$114648)</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50264?repo=metabase/metabase&commitHash=84fa8e3197f4e386b3fce11eb1fbfb06184f2d04&utm_source=gh-comment&runConclusion=FAILURE&runId=7660bef6-b576-5452-8196-04d0b9c47aa4) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50264?repo=metabase/metabase&commitHash=84fa8e3197f4e386b3fce11eb1fbfb06184f2d04&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2674697684,pull_request,closed,,Update SDK version to 0.51.5,Update Readme version references and published npm package version to 0.51.5,github-automation-metabase,2024-11-20 07:03:50+00:00,"['WiNloSt', 'github-automation-metabase']",2024-11-20 07:12:26+00:00,2024-11-20 07:11:58+00:00,https://github.com/metabase/metabase/pull/50260,"[('no-backport', 'Do not backport this PR to any branch')]",[],
2674632712,pull_request,closed,,"🤖 backported ""Quarantine the flaky assertions""",#50198,github-automation-metabase,2024-11-20 06:47:46+00:00,"['WiNloSt', 'github-automation-metabase']",2024-11-20 08:11:14+00:00,2024-11-20 07:32:16+00:00,https://github.com/metabase/metabase/pull/50259,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2487682564, 'issue_id': 2674632712, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/3258_tests-5720ce19-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50259?repo=metabase/metabase&commitHash=5720ce19aaf16d7e703e0da265d6e7e312e0bcf1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 20, 7, 11, 4, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-20 07:11:04 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/3258_tests-5720ce19-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50259?repo=metabase/metabase&commitHash=5720ce19aaf16d7e703e0da265d6e7e312e0bcf1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2674499901,pull_request,closed,,Split ACE editor into separate component,"Closes https://github.com/metabase/metabase/issues/50257

### Description

- Split off the ACE-related functionality from the native query editor into a separate component so we can more easily remove Ace in the future.
- Make the ACE editor more self-contained by removing global styles it depends on
- Convert the native query editor to css modules (and remove styled components)
- Use the same editor for the native query editor and the SQL preview in the notebook
- Replace ACE related selectors from e2e tests with generic helpers

### How to verify

There should be no functionality change. All tests should pass and the native editor should work the same way it did before.

[stress test for flaky test](https://github.com/metabase/metabase/actions/runs/12043388245)",romeovs,2024-11-20 05:41:21+00:00,['romeovs'],2024-12-04 01:59:12+00:00,2024-12-04 01:59:10+00:00,https://github.com/metabase/metabase/pull/50258,"[('visual', 'Run Percy visual testing'), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', ''), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2487588123, 'issue_id': 2674499901, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/16_tests-6402eea0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50258?repo=metabase/metabase&commitHash=6402eea0786bf6b192dca5e676aca20d45af64d6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50258?repo=metabase/metabase&commitHash=6402eea0786bf6b192dca5e676aca20d45af64d6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50258?repo=metabase/metabase&commitHash=6402eea0786bf6b192dca5e676aca20d45af64d6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50258?repo=metabase/metabase&commitHash=6402eea0786bf6b192dca5e676aca20d45af64d6&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50258?repo=metabase/metabase&commitHash=6402eea0786bf6b192dca5e676aca20d45af64d6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 20, 6, 15, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2488438344, 'issue_id': 2674499901, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@romeovs You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2024, 11, 20, 12, 19, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2515640327, 'issue_id': 2674499901, 'author': 'github-actions[bot]', 'body': '👋 Deploying a preview environment for commit 114d36be84fd6e645e88ec94fcf53aab3505581f.\n✅ Preview:\n    https://pr50258.coredev.metabase.com\n🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2024, 12, 3, 22, 1, 55, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-20 06:15:20 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/16_tests-6402eea0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50258?repo=metabase/metabase&commitHash=6402eea0786bf6b192dca5e676aca20d45af64d6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50258?repo=metabase/metabase&commitHash=6402eea0786bf6b192dca5e676aca20d45af64d6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50258?repo=metabase/metabase&commitHash=6402eea0786bf6b192dca5e676aca20d45af64d6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50258?repo=metabase/metabase&commitHash=6402eea0786bf6b192dca5e676aca20d45af64d6&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50258?repo=metabase/metabase&commitHash=6402eea0786bf6b192dca5e676aca20d45af64d6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2024-11-20 12:19:07 UTC): <!---conventional commit reminder comment ID-->
@romeovs You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

github-actions[bot] on (2024-12-03 22:01:55 UTC): 👋 Deploying a preview environment for commit 114d36be84fd6e645e88ec94fcf53aab3505581f.
✅ Preview:
    https://pr50258.coredev.metabase.com
🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

"
2674135517,pull_request,closed,,Channel test return error response,"Follow up of https://github.com/metabase/metabase/pull/49661, we want to surface the response if the test request fails.

See this test for how the response would look like https://github.com/metabase/metabase/pull/50254/files#diff-55c06ecf148871a20347412ddf41f2754a028295033cccd0e71ae040c482a167R119",qnkhuat,2024-11-20 02:55:57+00:00,['qnkhuat'],2024-11-27 12:01:11+00:00,2024-11-21 12:23:16+00:00,https://github.com/metabase/metabase/pull/50254,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2487497261, 'issue_id': 2674135517, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/1_test-6b8d25ab-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50254?repo=metabase/metabase&commitHash=6b8d25abdab0dae2ef26075b43d81fcef0af4b06&utm_source=gh-comment&runConclusion=FAILURE&runId=3cc1998a-d022-5fa1-883c-6b8a455f9ff7) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50254?repo=metabase/metabase&commitHash=6b8d25abdab0dae2ef26075b43d81fcef0af4b06&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 20, 5, 38, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2487497263, 'issue_id': 2674135517, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/114200_tests-d0ba67f7-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50254?repo=metabase/metabase&commitHash=d0ba67f7cb2fb1bee7366b40c96f97ac1b2295fb&utm_source=gh-comment&runConclusion=FAILURE&runId=dd6ab0ef-60ed-51f4-a392-77c22c1e3482) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50254?repo=metabase/metabase&commitHash=d0ba67f7cb2fb1bee7366b40c96f97ac1b2295fb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 20, 5, 38, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2487497266, 'issue_id': 2674135517, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/114200_tests-d0ba67f7-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50254?repo=metabase/metabase&commitHash=d0ba67f7cb2fb1bee7366b40c96f97ac1b2295fb&utm_source=gh-comment&runConclusion=FAILURE&runId=dd6ab0ef-60ed-51f4-a392-77c22c1e3482) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50254?repo=metabase/metabase&commitHash=d0ba67f7cb2fb1bee7366b40c96f97ac1b2295fb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 20, 5, 38, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2503696305, 'issue_id': 2674135517, 'author': 'github-actions[bot]', 'body': '🚀 This should also be released by [v0.52](https://github.com/metabase/metabase/milestone/283)', 'created_at': datetime.datetime(2024, 11, 27, 12, 1, 11, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-20 05:38:51 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/1_test-6b8d25ab-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50254?repo=metabase/metabase&commitHash=6b8d25abdab0dae2ef26075b43d81fcef0af4b06&utm_source=gh-comment&runConclusion=FAILURE&runId=3cc1998a-d022-5fa1-883c-6b8a455f9ff7) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50254?repo=metabase/metabase&commitHash=6b8d25abdab0dae2ef26075b43d81fcef0af4b06&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-20 05:38:51 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/114200_tests-d0ba67f7-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50254?repo=metabase/metabase&commitHash=d0ba67f7cb2fb1bee7366b40c96f97ac1b2295fb&utm_source=gh-comment&runConclusion=FAILURE&runId=dd6ab0ef-60ed-51f4-a392-77c22c1e3482) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50254?repo=metabase/metabase&commitHash=d0ba67f7cb2fb1bee7366b40c96f97ac1b2295fb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-20 05:38:51 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/114200_tests-d0ba67f7-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50254?repo=metabase/metabase&commitHash=d0ba67f7cb2fb1bee7366b40c96f97ac1b2295fb&utm_source=gh-comment&runConclusion=FAILURE&runId=dd6ab0ef-60ed-51f4-a392-77c22c1e3482) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50254?repo=metabase/metabase&commitHash=d0ba67f7cb2fb1bee7366b40c96f97ac1b2295fb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

github-actions[bot] on (2024-11-27 12:01:11 UTC): 🚀 This should also be released by [v0.52](https://github.com/metabase/metabase/milestone/283)

"
2673997467,pull_request,open,,Use User Locale in Downloads and Exports,"Fixes #49531

Previously, downloads and exports would always use the site locale setting, now, if the user-locale is set, that is used when formatting the export/download.
",adam-james-v,2024-11-20 00:52:29+00:00,['adam-james-v'],2024-12-07 01:46:47+00:00,,https://github.com/metabase/metabase/pull/50253,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2487456602, 'issue_id': 2673997467, 'author': 'dpsutton', 'body': 'I laid out a different approach earlier. This approach has a fatal flaw I think\r\n\r\nEx:\r\n\r\n#### make a request with a korean locale\r\n```shell\r\n❯ http post ""$URL?format_rows=true"" x-api-key:$API_KEY x-metabase-locale:ko -pb\r\nID,User ID,Product ID,Subtotal,Tax,Total,Discount ($),Created At,Quantity\r\n1,1,14,37.65,2.07,39.72,,""2월 11, 2025, 9:40 오후"",2\r\n2,1,123,110.93,6.1,117.03,,""5월 15, 2024, 8:04 오전"",3\r\n3,1,105,52.72,2.9,49.21,6.42,""12월 6, 2025, 10:22 오후"",2\r\n```\r\n\r\nThe response comes back formatted with korean months.\r\n\r\nBut the instance language looks strange:\r\n<img width=""1155"" alt=""image"" src=""https://github.com/user-attachments/assets/23053ec2-97cd-43fc-b8b6-c3abb8d19aff"">\r\n\r\nAnd that\'s because you are setting a global locale setting to a user setting:\r\n\r\n```clojure\r\n(Locale/setDefault (Locale. (or i18n/*user-locale* (public-settings/site-locale))))\r\n```\r\n\r\nWe cannot mutate a global setting to whatever _user_ preference might come in.', 'created_at': datetime.datetime(2024, 11, 20, 5, 1, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2487467841, 'issue_id': 2673997467, 'author': 'dpsutton', 'body': 'and easily seen by running the tests:\r\n\r\n```clojure\r\n(let [before (.getDisplayLanguage (java.util.Locale/getDefault))]\r\n  (clojure.test/run-test proper-locale-in-exports-test)\r\n  [before (.getDisplayLanguage (java.util.Locale/getDefault))])\r\n[stack trace from some errors locally for me]\r\nRan 1 tests containing 4 assertions.\r\n1 failures, 2 errors.\r\n[""English"" ""한국어""]\r\n```', 'created_at': datetime.datetime(2024, 11, 20, 5, 12, 58, tzinfo=datetime.timezone.utc)}]","dpsutton on (2024-11-20 05:01:43 UTC): I laid out a different approach earlier. This approach has a fatal flaw I think

Ex:

#### make a request with a korean locale
```shell
❯ http post ""$URL?format_rows=true"" x-api-key:$API_KEY x-metabase-locale:ko -pb
ID,User ID,Product ID,Subtotal,Tax,Total,Discount ($),Created At,Quantity
1,1,14,37.65,2.07,39.72,,""2월 11, 2025, 9:40 오후"",2
2,1,123,110.93,6.1,117.03,,""5월 15, 2024, 8:04 오전"",3
3,1,105,52.72,2.9,49.21,6.42,""12월 6, 2025, 10:22 오후"",2
```

The response comes back formatted with korean months.

But the instance language looks strange:
<img width=""1155"" alt=""image"" src=""https://github.com/user-attachments/assets/23053ec2-97cd-43fc-b8b6-c3abb8d19aff"">

And that's because you are setting a global locale setting to a user setting:

```clojure
(Locale/setDefault (Locale. (or i18n/*user-locale* (public-settings/site-locale))))
```

We cannot mutate a global setting to whatever _user_ preference might come in.

dpsutton on (2024-11-20 05:12:58 UTC): and easily seen by running the tests:

```clojure
(let [before (.getDisplayLanguage (java.util.Locale/getDefault))]
  (clojure.test/run-test proper-locale-in-exports-test)
  [before (.getDisplayLanguage (java.util.Locale/getDefault))])
[stack trace from some errors locally for me]
Ran 1 tests containing 4 assertions.
1 failures, 2 errors.
[""English"" ""한국어""]
```

"
2673976584,pull_request,open,,[WIP] Allow patch releases to set their own release channel,"### Description

1. fixes nightly releases not getting the right release channel set automatically
2. gives us a hook to nicely figure out which channels a given release should get
3. finally removes `auto` workflow chaining so that everything is using nice little `workflow_call` calls

TODO
- support multiple tags on the same release
- test in my fork
",iethree,2024-11-20 00:31:38+00:00,['iethree'],2024-11-20 00:32:07+00:00,,https://github.com/metabase/metabase/pull/50252,"[('.Building & Releasing', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]",[],
2673949720,pull_request,closed,,Simplify epic template to allow for easier editing,"### Description

Every time I create a new epic I feel a bit of friction with the epic template. This PR attempts to fix these isssues:
- the template does not use github formatted links for links to the product/engineering docs
  - This PR replaces them with properly formatted markdown links
- the template does not use easy-to-select text for items that need to be replaced, so I have to use my mouse to select the text
  - This PR replaces most of the finicky text with `ALL_CAPS_SNAKE_CASE`, which is easy to triple click to select
- the template does not use proper headings for sections, using bold text instead
  - This PR rectifies that
- the epic template does not use GitHub's `[tasklist]` syntax for milestones so I have to remember how to use the syntax and edit the the epic accordingly
  - This PR adds an actual template milestone with tasklist using the proper syntax",romeovs,2024-11-20 00:05:52+00:00,['romeovs'],2024-11-25 03:42:19+00:00,2024-11-25 03:38:42+00:00,https://github.com/metabase/metabase/pull/50248,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', ''), ('.DX', 'Developer experience and QoL related.')]",[],
2673721243,pull_request,closed,,Backport sandboxing streaming fix to v50,"Manual backport of https://github.com/metabase/metabase/pull/50049

There's a cypress test that I tried to re-enabled in the original PR that I'm not re-enabling here, since I accidentally re-enabled the wrong test behavior, and I'm having some difficulties [fixing it](https://github.com/metabase/metabase/pull/50218) due to an [unrelated issue](https://metaboat.slack.com/archives/C0645JP1W81/p1732055069834129) that it's also triggering 🙃 

But the backend test should be enough to test this specific issue",noahmoss,2024-11-19 22:30:19+00:00,['noahmoss'],2024-11-20 17:03:32+00:00,2024-11-20 17:03:05+00:00,https://github.com/metabase/metabase/pull/50247,"[('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2486965165, 'issue_id': 2673721243, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/1_test-e511187e-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>persisted-models-complex-queries-test</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50247?repo=metabase/metabase&commitHash=e511187ee9a4eeb85e1c02bb6e2d8ebf1fea31c4&utm_source=gh-comment&runConclusion=FAILURE&runId=08cb08a5-3a11-5176-8b0e-730fc0277e94) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50247?repo=metabase/metabase&commitHash=e511187ee9a4eeb85e1c02bb6e2d8ebf1fea31c4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 19, 23, 26, 23, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-19 23:26:23 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/1_test-e511187e-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>persisted-models-complex-queries-test</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50247?repo=metabase/metabase&commitHash=e511187ee9a4eeb85e1c02bb6e2d8ebf1fea31c4&utm_source=gh-comment&runConclusion=FAILURE&runId=08cb08a5-3a11-5176-8b0e-730fc0277e94) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50247?repo=metabase/metabase&commitHash=e511187ee9a4eeb85e1c02bb6e2d8ebf1fea31c4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2673692899,pull_request,closed,,"🤖 backported ""Prevent an exception in api.table/batch-fetch-card-query-metadatas when cards is empty""",#50115,github-automation-metabase,2024-11-19 22:10:06+00:00,"['appleby', 'github-automation-metabase']",2024-11-20 00:43:10+00:00,2024-11-20 00:43:10+00:00,https://github.com/metabase/metabase/pull/50246,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2673648523,pull_request,closed,,"🤖 backported ""chore: forbid legacyQuery usage with eslint""",#50141,github-automation-metabase,2024-11-19 21:42:36+00:00,"['uladzimirdev', 'github-automation-metabase']",2024-11-19 23:01:43+00:00,2024-11-19 22:25:47+00:00,https://github.com/metabase/metabase/pull/50245,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2486867708, 'issue_id': 2673648523, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13155_tests-c72ff28d-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50245?repo=metabase/metabase&commitHash=c72ff28d96c3ff975e1c3b12f0334d41793659fb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 19, 22, 19, 1, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-19 22:19:01 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13155_tests-c72ff28d-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50245?repo=metabase/metabase&commitHash=c72ff28d96c3ff975e1c3b12f0334d41793659fb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2673548674,pull_request,closed,,"🤖 backported ""add doc alias for generating docs""",#47156,github-automation-metabase,2024-11-19 21:08:02+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2024-11-19 22:50:51+00:00,2024-11-19 21:50:34+00:00,https://github.com/metabase/metabase/pull/50242,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2486810428, 'issue_id': 2673548674, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/12728_tests-cdd19f2f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50242?repo=metabase/metabase&commitHash=cdd19f2f2d721a36b0e0d3f093b05f6b45296cc2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 19, 21, 41, 54, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-19 21:41:54 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/12728_tests-cdd19f2f-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50242?repo=metabase/metabase&commitHash=cdd19f2f2d721a36b0e0d3f093b05f6b45296cc2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2673455517,pull_request,closed,,add linkspector to check doc links on file change,"Replaces markdown-link-check with [Linkspector](https://github.com/UmbrellaDocs/linkspector).

## Material changes

- Only runs on changes in the last commit. So run time is down from minutes to seconds. It assumes existing links already work. This means that we won't get notified of links that break in other files (e.g., if an external link stops working). But we can periodically check for those outside of the context of PRs. And it only checks changes on the last commit, so it could miss things if we don't catch the error and update different file (though we could configure it to check all docs).
- Doesn't log every file it checks.

## Errors for broken links

Linkspector will give an error like:

```
$ linkspector check
🚫 docs/actions/custom.md, ./broken.md , 404, 7, Cannot find: ./broken.md
- Checking docs/actions/custom.md...
💥 Error: Some hyperlinks in the specified files are invalid.
```

## Questions

- I needed to bump the node version from 18 to 22 to get this to run. Is that an issue?
- Assuming this goes well, should we make this a required check?
- Why does the frontend setup take so long?",jeff-bruemmer,2024-11-19 20:34:27+00:00,['jeff-bruemmer'],2025-02-05 22:56:25+00:00,2024-12-23 15:09:50+00:00,https://github.com/metabase/metabase/pull/50240,"[('backport', 'Automatically create PR on current release branch on merge')]",[],
2673408174,pull_request,closed,,Use built-in functions for exclude date filters instead of temporal buckets,"Epic https://github.com/metabase/metabase/issues/50238

Uses built-in MBQL functions for exclude date filters instead of relying on inline temporal bucketing. Existing expressions are supported on read.

How to verify:
- New -> Question -> Orders
- Filter -> Created At -> Exclude
- Try all options with different values. They should work as before.
- Try going to the expression editor after you create an expression using the filter widget. You should now see MBQL functions being called; previously the expression editor broke for such expressions.",ranquild,2024-11-19 20:16:18+00:00,['ranquild'],2025-02-04 14:51:47+00:00,2024-12-04 17:24:30+00:00,https://github.com/metabase/metabase/pull/50239,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2506806297, 'issue_id': 2673408174, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/16_tests-1b645ebc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50239?repo=metabase/metabase&commitHash=1b645ebce4ada4aa41f66bf1f66a81544d77231d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50239?repo=metabase/metabase&commitHash=1b645ebce4ada4aa41f66bf1f66a81544d77231d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50239?repo=metabase/metabase&commitHash=1b645ebce4ada4aa41f66bf1f66a81544d77231d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50239?repo=metabase/metabase&commitHash=1b645ebce4ada4aa41f66bf1f66a81544d77231d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50239?repo=metabase/metabase&commitHash=1b645ebce4ada4aa41f66bf1f66a81544d77231d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 28, 22, 13, 47, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-28 22:13:47 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/16_tests-1b645ebc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50239?repo=metabase/metabase&commitHash=1b645ebce4ada4aa41f66bf1f66a81544d77231d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50239?repo=metabase/metabase&commitHash=1b645ebce4ada4aa41f66bf1f66a81544d77231d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50239?repo=metabase/metabase&commitHash=1b645ebce4ada4aa41f66bf1f66a81544d77231d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50239?repo=metabase/metabase&commitHash=1b645ebce4ada4aa41f66bf1f66a81544d77231d&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50239?repo=metabase/metabase&commitHash=1b645ebce4ada4aa41f66bf1f66a81544d77231d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2673383568,pull_request,closed,,"🤖 backported ""feat(sdk): render custom question layout when drilling down in interactive dashboard""",#50017,github-automation-metabase,2024-11-19 20:01:29+00:00,"['heypoom', 'github-automation-metabase']",2024-11-19 21:33:18+00:00,2024-11-19 20:42:27+00:00,https://github.com/metabase/metabase/pull/50237,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2486727274, 'issue_id': 2673383568, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13155_tests-e2f5edd0-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50237?repo=metabase/metabase&commitHash=e2f5edd0c90bfcc2d003c2317e131b4ce1c603fc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 19, 20, 51, 12, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-19 20:51:12 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13155_tests-e2f5edd0-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50237?repo=metabase/metabase&commitHash=e2f5edd0c90bfcc2d003c2317e131b4ce1c603fc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2673355620,pull_request,closed,,test: syncing views against all drivers,"Fixes #50223

Introduces test extensions to allow for testing regular and materialized views.
Runs tests against all drivers.",snoe,2024-11-19 19:48:27+00:00,['snoe'],2024-12-04 20:23:40+00:00,2024-12-04 19:43:25+00:00,https://github.com/metabase/metabase/pull/50236,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Drivers', '')]","[{'comment_id': 2486810457, 'issue_id': 2673355620, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/84105_tests-54465d69-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50236?repo=metabase/metabase&commitHash=54465d69d68c51da173aab6454d5aaba64157ebb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50236?repo=metabase/metabase&commitHash=54465d69d68c51da173aab6454d5aaba64157ebb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50236?repo=metabase/metabase&commitHash=54465d69d68c51da173aab6454d5aaba64157ebb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50236?repo=metabase/metabase&commitHash=54465d69d68c51da173aab6454d5aaba64157ebb&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50236?repo=metabase/metabase&commitHash=54465d69d68c51da173aab6454d5aaba64157ebb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 19, 21, 41, 55, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-19 21:41:55 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/84105_tests-54465d69-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50236?repo=metabase/metabase&commitHash=54465d69d68c51da173aab6454d5aaba64157ebb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50236?repo=metabase/metabase&commitHash=54465d69d68c51da173aab6454d5aaba64157ebb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50236?repo=metabase/metabase&commitHash=54465d69d68c51da173aab6454d5aaba64157ebb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50236?repo=metabase/metabase&commitHash=54465d69d68c51da173aab6454d5aaba64157ebb&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50236?repo=metabase/metabase&commitHash=54465d69d68c51da173aab6454d5aaba64157ebb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2673251532,pull_request,closed,,Migrate SDK e2e tests to Cypress Component tests,"Part of https://github.com/metabase/metabase/issues/50113

### Description

This migrates most of SDK tests to be Cypress Component tests
Runs migrated tests SDK built from the latest source code.

### How to verify

Check CI results
Run tests locally from this branch - `yarn test-cypress-open-component-sdk` (you will also need EE env vars for Cypress)

### Demo

_Upload a demo video or before/after screenshots if sensible or remove the section_

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",deniskaber,2024-11-19 19:16:32+00:00,['deniskaber'],2024-11-23 10:39:04+00:00,2024-11-23 10:05:05+00:00,https://github.com/metabase/metabase/pull/50235,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2486552119, 'issue_id': 2673251532, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@camsaul You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2024, 11, 19, 19, 17, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2486658297, 'issue_id': 2673251532, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13273_tests-dd6c8328-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50235?repo=metabase/metabase&commitHash=dd6c83283799acda9f9725edc4bb604bd61e7cf9&utm_source=gh-comment&runConclusion=FAILURE&runId=5adf8998-07e0-5b7f-b3c4-21f5be6ad0d5) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50235?repo=metabase/metabase&commitHash=dd6c83283799acda9f9725edc4bb604bd61e7cf9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 19, 20, 13, 17, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-19 19:17:01 UTC): <!---conventional commit reminder comment ID-->
@camsaul You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

trunk-io[bot] on (2024-11-19 20:13:17 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13273_tests-dd6c8328-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50235?repo=metabase/metabase&commitHash=dd6c83283799acda9f9725edc4bb604bd61e7cf9&utm_source=gh-comment&runConclusion=FAILURE&runId=5adf8998-07e0-5b7f-b3c4-21f5be6ad0d5) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50235?repo=metabase/metabase&commitHash=dd6c83283799acda9f9725edc4bb604bd61e7cf9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2673241770,pull_request,closed,,"🤖 backported ""onboarding checklist copy""",#49570,github-automation-metabase,2024-11-19 19:12:20+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2024-12-02 18:51:42+00:00,2024-12-02 18:51:41+00:00,https://github.com/metabase/metabase/pull/50234,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2486659042, 'issue_id': 2673241770, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/23049_tests-40b2efee-purple) &ensp; ![Static Badge](https://img.shields.io/badge/4-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Onboarding (EE without token) footer should render the 'learning' section</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50234?repo=metabase/metabase&commitHash=40b2efee5baf7482a69987acb3b2324a858281ae&utm_source=gh-comment&runConclusion=FAILURE&runId=7a68d225-737b-5350-8eae-b80bff951c1e) |\n| <code>Onboarding footer should render the 'learning' section</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50234?repo=metabase/metabase&commitHash=40b2efee5baf7482a69987acb3b2324a858281ae&utm_source=gh-comment&runConclusion=FAILURE&runId=b60464bb-ff1e-5c59-9a0f-8f5dc1f631c0) |\n| <code>Onboarding (EE without token) footer should render the 'learning' section</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50234?repo=metabase/metabase&commitHash=40b2efee5baf7482a69987acb3b2324a858281ae&utm_source=gh-comment&runConclusion=FAILURE&runId=73597494-d71f-5279-8838-f4d2bcb5374b) |\n| <code>Onboarding footer should render the 'learning' section</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50234?repo=metabase/metabase&commitHash=40b2efee5baf7482a69987acb3b2324a858281ae&utm_source=gh-comment&runConclusion=FAILURE&runId=e0f0dd06-705a-51ad-8672-5a1c45af23db) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50234?repo=metabase/metabase&commitHash=40b2efee5baf7482a69987acb3b2324a858281ae&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 19, 20, 13, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2512434395, 'issue_id': 2673241770, 'author': 'jeff-bruemmer', 'body': 'Closing this, as the change will go into 52.', 'created_at': datetime.datetime(2024, 12, 2, 18, 51, 41, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-19 20:13:40 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/23049_tests-40b2efee-purple) &ensp; ![Static Badge](https://img.shields.io/badge/4-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Onboarding (EE without token) footer should render the 'learning' section</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50234?repo=metabase/metabase&commitHash=40b2efee5baf7482a69987acb3b2324a858281ae&utm_source=gh-comment&runConclusion=FAILURE&runId=7a68d225-737b-5350-8eae-b80bff951c1e) |
| <code>Onboarding footer should render the 'learning' section</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50234?repo=metabase/metabase&commitHash=40b2efee5baf7482a69987acb3b2324a858281ae&utm_source=gh-comment&runConclusion=FAILURE&runId=b60464bb-ff1e-5c59-9a0f-8f5dc1f631c0) |
| <code>Onboarding (EE without token) footer should render the 'learning' section</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50234?repo=metabase/metabase&commitHash=40b2efee5baf7482a69987acb3b2324a858281ae&utm_source=gh-comment&runConclusion=FAILURE&runId=73597494-d71f-5279-8838-f4d2bcb5374b) |
| <code>Onboarding footer should render the 'learning' section</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50234?repo=metabase/metabase&commitHash=40b2efee5baf7482a69987acb3b2324a858281ae&utm_source=gh-comment&runConclusion=FAILURE&runId=e0f0dd06-705a-51ad-8672-5a1c45af23db) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50234?repo=metabase/metabase&commitHash=40b2efee5baf7482a69987acb3b2324a858281ae&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

jeff-bruemmer (Assginee) on (2024-12-02 18:51:41 UTC): Closing this, as the change will go into 52.

"
2673164347,pull_request,closed,,"🤖 backported ""Make iframe dashcards more permissive""",#50177,github-automation-metabase,2024-11-19 18:46:59+00:00,"['alxnddr', 'github-automation-metabase']",2024-11-19 19:51:34+00:00,2024-11-19 19:29:16+00:00,https://github.com/metabase/metabase/pull/50232,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2486487360, 'issue_id': 2673164347, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 81c216cf916a648c4229515755e2e06f55c46719...fd8a9bd9797a66e89e039c55684370d423db8651.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/visualizations/IFrameViz/IFrameViz.tsx<br>frontend/src/metabase/visualizations/visualizations/IFrameViz/IFrameViz.unit.spec.tsx<br>frontend/src/metabase/visualizations/visualizations/IFrameViz/utils.ts<br>frontend/src/metabase/visualizations/visualizations/IFrameViz/utils.unit.spec.ts |', 'created_at': datetime.datetime(2024, 11, 19, 18, 48, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2486578013, 'issue_id': 2673164347, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/2_tests-fd8a9bd9-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50232?repo=metabase/metabase&commitHash=fd8a9bd9797a66e89e039c55684370d423db8651&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 19, 19, 30, 9, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-19 18:48:35 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 81c216cf916a648c4229515755e2e06f55c46719...fd8a9bd9797a66e89e039c55684370d423db8651.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/visualizations/IFrameViz/IFrameViz.tsx<br>frontend/src/metabase/visualizations/visualizations/IFrameViz/IFrameViz.unit.spec.tsx<br>frontend/src/metabase/visualizations/visualizations/IFrameViz/utils.ts<br>frontend/src/metabase/visualizations/visualizations/IFrameViz/utils.unit.spec.ts |

trunk-io[bot] on (2024-11-19 19:30:09 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/2_tests-fd8a9bd9-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50232?repo=metabase/metabase&commitHash=fd8a9bd9797a66e89e039c55684370d423db8651&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2673112485,pull_request,closed,,feat(sdk): next sdk compatibility layer,"Closes https://github.com/metabase/metabase/issues/50439
Closes https://github.com/metabase/metabase/issues/50736


# Description

This PR creates a ""compatibility"" layer for nextjs users.

The current implementation is a script that creates the needed files, consider the script as POC/throw away, the main point is to understand if the generated files are working as expected for our customers.

# What problem is this trying to solve

[slack thread](https://metaboat.slack.com/archives/C063Q3F1HPF/p1732124302665899)

Currently, nextjs users will have to wrap anything that uses the sdk in a dynamic/lazy import and disable ssr for those components, this is not only annoying, but can also lead to people running into issues.
The sdk is meant to be integrated seamlessly into the host app, which means the customer can have many small widgets across the page.
At the moment, they two easiest way to do that are:
- put a provider up in the component tree so one provider wraps everything 
    - -> since the provider needs to also be lazy loaded, this breaks ssr for a lot of the page
- put a provider on each sdk component
    - this is what I'd do as a customer and I'd expect it to work, but our sdk doesn't support that at the moment (see slack thread above)
    
A better solution would be for them to
- wrap every component with lazy loading/no ssr
- wrap MetabaseProvider in a way that doesn't delay rendering the entire app while it loads the sdk

This PR makes that for customers at the sdk level, so that they don't have to

# How to test
There are a couple of things to test:

For nextjs, either test it on a new project (nextjs14 only) or test the sample apps: https://github.com/metabase/metabase-nextjs-sdk-embedding-sample/pull/1 

Other than that, this should not break anything, at some point this branch was breaking tests when using `moduleResolution:node`, if you want, you can test that it doesn't anymore.



# Known issues

- InteractiveDashboard is not wrapped with the PublicComponentWrapper, so that component can misbehave in some scenarios.
- if your os is set to use dark mode, you'll run into: [[SDK] if the sdk is imported after the css of the host app, the body and h1 tags takes the styles from core app](https://github.com/metabase/metabase/issues/50279), will be fixed byhttps://github.com/metabase/metabase/pull/50466
",npretto,2024-11-19 18:30:49+00:00,['npretto'],2024-12-09 16:51:08+00:00,2024-12-09 16:12:27+00:00,https://github.com/metabase/metabase/pull/50230,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2486455460, 'issue_id': 2673112485, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@npretto You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2024, 11, 19, 18, 31, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2497567748, 'issue_id': 2673112485, 'author': 'npretto', 'body': '> I still encountered `document` not found in my case. I\'m using Next 14 based on [this template](https://github.com/WiNloSt/next-app-template).\r\n> \r\n> I put the provider inside `Shell` which is loaded on every page.\r\n> \r\n> Removing `dynamic` from `next/dynamic` in client app only works for dev mode\r\n> \r\n> #### dev mode works, but spit this error in the console.\r\n> ![Screenshot 2024-11-25 at 3 11 23\u202fPM](https://private-user-images.githubusercontent.com/1937582/389449949-90a2350d-c888-42c3-9691-b68acafbe947.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzI1MjY0OTIsIm5iZiI6MTczMjUyNjE5MiwicGF0aCI6Ii8xOTM3NTgyLzM4OTQ0OTk0OS05MGEyMzUwZC1jODg4LTQyYzMtOTY5MS1iNjhhY2FmYmU5NDcucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MTEyNSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDExMjVUMDkxNjMyWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9Y2NmZWNkNzgyNDNkMjIwNGM0YjlmOWZiZDgxMTBiMGY3NDYxMmQxZjkwMGJjNzQ0ZWIxYjQ3NTcxNjhhNjIzZSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.rBy6tQFx6QkIPAVRVwTarPSDufbCnvTjlLdZGOjeoKs)\r\n> \r\n> #### production build\r\n> ![Screenshot 2024-11-25 at 3 56 19\u202fPM](https://private-user-images.githubusercontent.com/1937582/389450599-b71b3a43-ebe7-429e-8fc6-ccedca37d50b.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzI1MjY0OTIsIm5iZiI6MTczMjUyNjE5MiwicGF0aCI6Ii8xOTM3NTgyLzM4OTQ1MDU5OS1iNzFiM2E0My1lYmU3LTQyOWUtOGZjNi1jY2VkY2EzN2Q1MGIucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MTEyNSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDExMjVUMDkxNjMyWiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9ZTA1NjhlYzMwODc5OGI5NzEyNTgxOWZkOGU5YjZjZmJlOTk3ZDE0MTYwZmM1OTdhNjM5Nzg0ZmVkMWQwYTVmNSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.YRkdBAEs7jU0tZPb1FH7gv0ae_1rTI3XCnKN1PlavDA)\r\n> \r\n> Would you mind sharing your setup that I could try to play around with that works with `next build` command?\r\n\r\nHere\'s the diff (excuding pacakge.json and lock) from a project created using create-next-app@14 with default settings (so app router), did you use ""@metabase/embedding-sdk-react/next"" for all the imports?\r\n\r\n```diff\r\ndiff --git a/src/app/api/metabase/auth/route.ts b/src/app/api/metabase/auth/route.ts\r\nnew file mode 100644\r\nindex 0000000..c5966ce\r\n--- /dev/null\r\n+++ b/src/app/api/metabase/auth/route.ts\r\n@@ -0,0 +1,44 @@\r\n+import jwt from ""jsonwebtoken"";\r\n+\r\n+if (!process.env.METABASE_JWT_SHARED_SECRET) {\r\n+  throw new Error(""Missing METABASE_JWT_SHARED_SECRET"");\r\n+}\r\n+if (!process.env.METABASE_INSTANCE_URL) {\r\n+  throw new Error(""Missing METABASE_INSTANCE_URL"");\r\n+}\r\n+\r\n+const METABASE_JWT_SHARED_SECRET = process.env.METABASE_JWT_SHARED_SECRET;\r\n+const METABASE_INSTANCE_URL = process.env.METABASE_INSTANCE_URL;\r\n+\r\n+export async function GET() {\r\n+  // this should come from the session\r\n+  const user = {\r\n+    email: ""john@example.com"",\r\n+    firstName: ""John"",\r\n+    lastName: ""Doe"",\r\n+    group: ""admin"",\r\n+  };\r\n+\r\n+  const token = jwt.sign(\r\n+    {\r\n+      email: user.email,\r\n+      first_name: user.firstName,\r\n+      last_name: user.lastName,\r\n+      groups: [user.group],\r\n+      exp: Math.round(Date.now() / 1000) + 60 * 10,\r\n+    },\r\n+    METABASE_JWT_SHARED_SECRET\r\n+  );\r\n+\r\n+  const ssoUrl = `${METABASE_INSTANCE_URL}/auth/sso?token=true&jwt=${token}`;\r\n+\r\n+  try {\r\n+    const response = await fetch(ssoUrl);\r\n+    const session = await response.text();\r\n+    return new Response(session);\r\n+  } catch (error) {\r\n+    console.error(""error"", error);\r\n+    const message = error instanceof Error ? error.message : ""unknown error"";\r\n+    return new Response(message, { status: 500 });\r\n+  }\r\n+}\r\ndiff --git a/src/app/layout.tsx b/src/app/layout.tsx\r\nindex a36cde0..a09cd4e 100644\r\n--- a/src/app/layout.tsx\r\n+++ b/src/app/layout.tsx\r\n@@ -1,6 +1,10 @@\r\n import type { Metadata } from ""next"";\r\n import localFont from ""next/font/local"";\r\n import ""./globals.css"";\r\n+import {\r\n+  defineEmbeddingSdkConfig,\r\n+  MetabaseProvider,\r\n+} from ""@metabase/embedding-sdk-react/next"";\r\n \r\n const geistSans = localFont({\r\n   src: ""./fonts/GeistVF.woff"",\r\n@@ -18,6 +22,11 @@ export const metadata: Metadata = {\r\n   description: ""Generated by create next app"",\r\n };\r\n \r\n+const config = defineEmbeddingSdkConfig({\r\n+  metabaseInstanceUrl: ""http://localhost:3000"",\r\n+  authProviderUri: `/api/metabase/auth`,\r\n+});\r\n+\r\n export default function RootLayout({\r\n   children,\r\n }: Readonly<{\r\n@@ -28,7 +37,9 @@ export default function RootLayout({\r\n       <body\r\n         className={`${geistSans.variable} ${geistMono.variable} antialiased`}\r\n       >\r\n-        {children}\r\n+        <MetabaseProvider config={config}>\r\n+          {children as string}\r\n+        </MetabaseProvider>\r\n       </body>\r\n     </html>\r\n   );\r\ndiff --git a/src/app/page.tsx b/src/app/page.tsx\r\nindex 6fe62d1..76520d3 100644\r\n--- a/src/app/page.tsx\r\n+++ b/src/app/page.tsx\r\n@@ -1,9 +1,11 @@\r\n+import { StaticQuestion } from ""@metabase/embedding-sdk-react/next"";\r\n import Image from ""next/image"";\r\n \r\n export default function Home() {\r\n   return (\r\n     <div className=""grid grid-rows-[20px_1fr_20px] items-center justify-items-center min-h-screen p-8 pb-20 gap-16 sm:p-20 font-[family-name:var(--font-geist-sans)]"">\r\n       <main className=""flex flex-col gap-8 row-start-2 items-center sm:items-start"">\r\n+        <StaticQuestion questionId={1} />\r\n         <Image\r\n           className=""dark:invert""\r\n           src=""https://nextjs.org/icons/next.svg""\r\n```', 'created_at': datetime.datetime(2024, 11, 25, 10, 26, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2527621722, 'issue_id': 2673112485, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/17_tests-5760fad5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50230?repo=metabase/metabase&commitHash=5760fad5b8ab51a0ffa2a663eeb2122c8eb27c92&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50230?repo=metabase/metabase&commitHash=5760fad5b8ab51a0ffa2a663eeb2122c8eb27c92&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50230?repo=metabase/metabase&commitHash=5760fad5b8ab51a0ffa2a663eeb2122c8eb27c92&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50230?repo=metabase/metabase&commitHash=5760fad5b8ab51a0ffa2a663eeb2122c8eb27c92&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50230?repo=metabase/metabase&commitHash=5760fad5b8ab51a0ffa2a663eeb2122c8eb27c92&utm_source=gh-comment&runConclusion=FAILURE&runId=c49e5864-9e50-5c35-a9a8-ea2c541a9ea5) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50230?repo=metabase/metabase&commitHash=5760fad5b8ab51a0ffa2a663eeb2122c8eb27c92&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 9, 11, 11, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2528529945, 'issue_id': 2673112485, 'author': 'npretto', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 12, 9, 16, 12, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2528532673, 'issue_id': 2673112485, 'author': 'github-actions[bot]', 'body': '@npretto something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12239657649)', 'created_at': datetime.datetime(2024, 12, 9, 16, 13, 56, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-11-19 18:31:17 UTC): <!---conventional commit reminder comment ID-->
@npretto You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

npretto (Issue Creator) on (2024-11-25 10:26:56 UTC): Here's the diff (excuding pacakge.json and lock) from a project created using create-next-app@14 with default settings (so app router), did you use ""@metabase/embedding-sdk-react/next"" for all the imports?

```diff
diff --git a/src/app/api/metabase/auth/route.ts b/src/app/api/metabase/auth/route.ts
new file mode 100644
index 0000000..c5966ce
--- /dev/null
+++ b/src/app/api/metabase/auth/route.ts
@@ -0,0 +1,44 @@
+import jwt from ""jsonwebtoken"";
+
+if (!process.env.METABASE_JWT_SHARED_SECRET) {
+  throw new Error(""Missing METABASE_JWT_SHARED_SECRET"");
+}
+if (!process.env.METABASE_INSTANCE_URL) {
+  throw new Error(""Missing METABASE_INSTANCE_URL"");
+}
+
+const METABASE_JWT_SHARED_SECRET = process.env.METABASE_JWT_SHARED_SECRET;
+const METABASE_INSTANCE_URL = process.env.METABASE_INSTANCE_URL;
+
+export async function GET() {
+  // this should come from the session
+  const user = {
+    email: ""john@example.com"",
+    firstName: ""John"",
+    lastName: ""Doe"",
+    group: ""admin"",
+  };
+
+  const token = jwt.sign(
+    {
+      email: user.email,
+      first_name: user.firstName,
+      last_name: user.lastName,
+      groups: [user.group],
+      exp: Math.round(Date.now() / 1000) + 60 * 10,
+    },
+    METABASE_JWT_SHARED_SECRET
+  );
+
+  const ssoUrl = `${METABASE_INSTANCE_URL}/auth/sso?token=true&jwt=${token}`;
+
+  try {
+    const response = await fetch(ssoUrl);
+    const session = await response.text();
+    return new Response(session);
+  } catch (error) {
+    console.error(""error"", error);
+    const message = error instanceof Error ? error.message : ""unknown error"";
+    return new Response(message, { status: 500 });
+  }
+}
diff --git a/src/app/layout.tsx b/src/app/layout.tsx
index a36cde0..a09cd4e 100644
--- a/src/app/layout.tsx
+++ b/src/app/layout.tsx
@@ -1,6 +1,10 @@
 import type { Metadata } from ""next"";
 import localFont from ""next/font/local"";
 import ""./globals.css"";
+import {
+  defineEmbeddingSdkConfig,
+  MetabaseProvider,
+} from ""@metabase/embedding-sdk-react/next"";
 
 const geistSans = localFont({
   src: ""./fonts/GeistVF.woff"",
@@ -18,6 +22,11 @@ export const metadata: Metadata = {
   description: ""Generated by create next app"",
 };
 
+const config = defineEmbeddingSdkConfig({
+  metabaseInstanceUrl: ""http://localhost:3000"",
+  authProviderUri: `/api/metabase/auth`,
+});
+
 export default function RootLayout({
   children,
 }: Readonly<{
@@ -28,7 +37,9 @@ export default function RootLayout({
       <body
         className={`${geistSans.variable} ${geistMono.variable} antialiased`}
-        {children}
+        <MetabaseProvider config={config}>
+          {children as string}
+        </MetabaseProvider>
       </body>
     </html>
   );
diff --git a/src/app/page.tsx b/src/app/page.tsx
index 6fe62d1..76520d3 100644
--- a/src/app/page.tsx
+++ b/src/app/page.tsx
@@ -1,9 +1,11 @@
+import { StaticQuestion } from ""@metabase/embedding-sdk-react/next"";
 import Image from ""next/image"";
 
 export default function Home() {
   return (
     <div className=""grid grid-rows-[20px_1fr_20px] items-center justify-items-center min-h-screen p-8 pb-20 gap-16 sm:p-20 font-[family-name:var(--font-geist-sans)]"">
       <main className=""flex flex-col gap-8 row-start-2 items-center sm:items-start"">
+        <StaticQuestion questionId={1} />
         <Image
           className=""dark:invert""
           src=""https://nextjs.org/icons/next.svg""
```

trunk-io[bot] on (2024-12-09 11:11:13 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/17_tests-5760fad5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/50230?repo=metabase/metabase&commitHash=5760fad5b8ab51a0ffa2a663eeb2122c8eb27c92&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/50230?repo=metabase/metabase&commitHash=5760fad5b8ab51a0ffa2a663eeb2122c8eb27c92&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/50230?repo=metabase/metabase&commitHash=5760fad5b8ab51a0ffa2a663eeb2122c8eb27c92&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/50230?repo=metabase/metabase&commitHash=5760fad5b8ab51a0ffa2a663eeb2122c8eb27c92&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50230?repo=metabase/metabase&commitHash=5760fad5b8ab51a0ffa2a663eeb2122c8eb27c92&utm_source=gh-comment&runConclusion=FAILURE&runId=c49e5864-9e50-5c35-a9a8-ea2c541a9ea5) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50230?repo=metabase/metabase&commitHash=5760fad5b8ab51a0ffa2a663eeb2122c8eb27c92&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

npretto (Issue Creator) on (2024-12-09 16:12:45 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-12-09 16:13:56 UTC): @npretto something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12239657649)

"
2673110853,pull_request,closed,,"🤖 backported ""Add v0.51.4 to the list of releases""",#50189,github-automation-metabase,2024-11-19 18:29:58+00:00,"['alexyarosh', 'github-automation-metabase']",2024-11-19 21:49:29+00:00,2024-11-19 21:49:29+00:00,https://github.com/metabase/metabase/pull/50229,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2673053307,pull_request,closed,,fix(sdk): Redesign Interactive Question Notebook button,"Modifies the Editor button on InteractiveQuestion to match the new design. Here's a demo

https://github.com/user-attachments/assets/8f5cfe81-8a6b-4207-b54a-79acdb95109e

",oisincoveney,2024-11-19 17:58:54+00:00,['oisincoveney'],2024-11-22 17:16:49+00:00,2024-11-22 17:16:46+00:00,https://github.com/metabase/metabase/pull/50228,"[('.Team/Embedding', '')]","[{'comment_id': 2486508056, 'issue_id': 2673053307, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13238_tests-c1fe4acc-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding-sdk > interactive-question can add a filter via the Filter component</code> | cy.wait() timed out waiting for the first request to the route 'getUser' as no request was sent or completed within the specified time. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50228?repo=metabase/metabase&commitHash=c1fe4acc5446cb17729c411d2c3a4c80e092bd48&utm_source=gh-comment&runConclusion=FAILURE&runId=546ee1d2-f15b-5c81-8b40-5e5a6612c7f0) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50228?repo=metabase/metabase&commitHash=c1fe4acc5446cb17729c411d2c3a4c80e092bd48&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 19, 18, 58, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2488164336, 'issue_id': 2673053307, 'author': 'heypoom', 'body': 'I think the notebook button does look out of place with the header though, could you check with Maz on the design? For example, the inactive color is solid black, while the chart type picker is light grey.\r\n\r\n![CleanShot 2567-11-20 at 17 15 12@2x](https://github.com/user-attachments/assets/9e782a09-19b0-412a-b69b-baa13978cac9)', 'created_at': datetime.datetime(2024, 11, 20, 10, 15, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2492202391, 'issue_id': 2673053307, 'author': 'oisincoveney', 'body': '> I think the notebook button does look out of place with the header though, could you check with Maz on the design? For example, the inactive color is solid black, while the chart type picker is light grey.\r\n> \r\n> ![CleanShot 2567-11-20 at 17 15 12@2x](https://private-user-images.githubusercontent.com/4714175/388048703-9e782a09-19b0-412a-b69b-baa13978cac9.png?jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3MzIyMjA2NDcsIm5iZiI6MTczMjIyMDM0NywicGF0aCI6Ii80NzE0MTc1LzM4ODA0ODcwMy05ZTc4MmEwOS0xOWIwLTQxMmEtYjY5Yi1iYWExMzk3OGNhYzkucG5nP1gtQW16LUFsZ29yaXRobT1BV1M0LUhNQUMtU0hBMjU2JlgtQW16LUNyZWRlbnRpYWw9QUtJQVZDT0RZTFNBNTNQUUs0WkElMkYyMDI0MTEyMSUyRnVzLWVhc3QtMSUyRnMzJTJGYXdzNF9yZXF1ZXN0JlgtQW16LURhdGU9MjAyNDExMjFUMjAxOTA3WiZYLUFtei1FeHBpcmVzPTMwMCZYLUFtei1TaWduYXR1cmU9ZDVkN2ZlOWRkM2Q4M2JjMzFhZDJhYWY2MmYzY2VkYThkZjhlMWI3YWUzNGI1ZTQxOGI2N2IxOTUyYzk4NGU4OSZYLUFtei1TaWduZWRIZWFkZXJzPWhvc3QifQ.Qh9krLmJM3czVNn8Mj1giXjYHBQH4K2txkjiltdYoQ8)\r\n\r\nnice catch! I\'ve fixed it and it looks like this:\r\n\r\n<img width=""968"" alt=""image"" src=""https://github.com/user-attachments/assets/6f974242-b99d-4d4d-b1cf-3368bdc3f7a5"">\r\n\r\n<img width=""964"" alt=""image"" src=""https://github.com/user-attachments/assets/af2b67a2-a164-49c8-ba0e-fabfa1863835"">', 'created_at': datetime.datetime(2024, 11, 21, 20, 25, 44, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-19 18:58:44 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13238_tests-c1fe4acc-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding-sdk > interactive-question can add a filter via the Filter component</code> | cy.wait() timed out waiting for the first request to the route 'getUser' as no request was sent or completed within the specified time. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50228?repo=metabase/metabase&commitHash=c1fe4acc5446cb17729c411d2c3a4c80e092bd48&utm_source=gh-comment&runConclusion=FAILURE&runId=546ee1d2-f15b-5c81-8b40-5e5a6612c7f0) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50228?repo=metabase/metabase&commitHash=c1fe4acc5446cb17729c411d2c3a4c80e092bd48&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

heypoom on (2024-11-20 10:15:50 UTC): I think the notebook button does look out of place with the header though, could you check with Maz on the design? For example, the inactive color is solid black, while the chart type picker is light grey.

![CleanShot 2567-11-20 at 17 15 12@2x](https://github.com/user-attachments/assets/9e782a09-19b0-412a-b69b-baa13978cac9)

oisincoveney (Issue Creator) on (2024-11-21 20:25:44 UTC): nice catch! I've fixed it and it looks like this:

<img width=""968"" alt=""image"" src=""https://github.com/user-attachments/assets/6f974242-b99d-4d4d-b1cf-3368bdc3f7a5"">

<img width=""964"" alt=""image"" src=""https://github.com/user-attachments/assets/af2b67a2-a164-49c8-ba0e-fabfa1863835"">

"
2673048394,pull_request,closed,,feat(sdk): Filter Dropdown,"Adds the Filter dropdown to the interactive question picker. Here's a demo:


https://github.com/user-attachments/assets/0121dcbd-2120-4386-a6e3-a5efd5642ae9

",oisincoveney,2024-11-19 17:56:31+00:00,['oisincoveney'],2024-11-28 14:23:06+00:00,2024-11-22 17:16:36+00:00,https://github.com/metabase/metabase/pull/50226,"[('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2486512439, 'issue_id': 2673048394, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13238_tests-3940e728-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding-sdk > interactive-question can add a filter via the Filter component</code> | cy.wait() timed out waiting for the first request to the route 'getUser' as no request was sent or completed within the specified time. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50226?repo=metabase/metabase&commitHash=3940e72891fcbd93735560db1e90b9002959a859&utm_source=gh-comment&runConclusion=FAILURE&runId=e5ad23d3-f07d-5bf4-83e8-dded48b0915d) |\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50226?repo=metabase/metabase&commitHash=3940e72891fcbd93735560db1e90b9002959a859&utm_source=gh-comment&runConclusion=FAILURE&runId=197e8346-1b2f-5370-a4c9-5143a4f5e946) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50226?repo=metabase/metabase&commitHash=3940e72891fcbd93735560db1e90b9002959a859&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 11, 19, 19, 1, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2489522142, 'issue_id': 2673048394, 'author': 'deniskaber', 'body': 'Seems there is an issue with some state for dates\r\n\r\n\r\n\r\nhttps://github.com/user-attachments/assets/0c5e03fe-7d89-4562-8773-5ed563014504', 'created_at': datetime.datetime(2024, 11, 20, 20, 53, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2493012248, 'issue_id': 2673048394, 'author': 'WiNloSt', 'body': 'One quick thing I noticed is that the filter popover has bold texts, but not the inline version\r\n\r\n#### Filter popover\r\n![image](https://github.com/user-attachments/assets/5019fc61-4154-4018-b525-ed8345f73604)\r\n\r\n#### (just) Filter\r\n![image](https://github.com/user-attachments/assets/4353fc63-6692-41df-a3f9-5577116772d5)\r\n\r\n\r\nThese screenshots are captured from provided storybook stories.', 'created_at': datetime.datetime(2024, 11, 22, 7, 2, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2493017586, 'issue_id': 2673048394, 'author': 'oisincoveney', 'body': ""> One quick thing I noticed is that the filter popover has bold texts, but not the inline version\n> \n> \n> \n> #### Filter popover\n> \n> ![image](https://github.com/user-attachments/assets/5019fc61-4154-4018-b525-ed8345f73604)\n> \n> \n> \n> #### (just) Filter\n> \n> ![image](https://github.com/user-attachments/assets/4353fc63-6692-41df-a3f9-5577116772d5)\n> \n> \n> \n> \n> \n> These screenshots are captured from provided storybook stories.\n\nWeird. I'll take a look"", 'created_at': datetime.datetime(2024, 11, 22, 7, 6, 43, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-19 19:01:03 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13238_tests-3940e728-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding-sdk > interactive-question can add a filter via the Filter component</code> | cy.wait() timed out waiting for the first request to the route 'getUser' as no request was sent or completed within the specified time. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50226?repo=metabase/metabase&commitHash=3940e72891fcbd93735560db1e90b9002959a859&utm_source=gh-comment&runConclusion=FAILURE&runId=e5ad23d3-f07d-5bf4-83e8-dded48b0915d) |
| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50226?repo=metabase/metabase&commitHash=3940e72891fcbd93735560db1e90b9002959a859&utm_source=gh-comment&runConclusion=FAILURE&runId=197e8346-1b2f-5370-a4c9-5143a4f5e946) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50226?repo=metabase/metabase&commitHash=3940e72891fcbd93735560db1e90b9002959a859&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

deniskaber on (2024-11-20 20:53:15 UTC): Seems there is an issue with some state for dates



https://github.com/user-attachments/assets/0c5e03fe-7d89-4562-8773-5ed563014504

WiNloSt on (2024-11-22 07:02:50 UTC): One quick thing I noticed is that the filter popover has bold texts, but not the inline version

#### Filter popover
![image](https://github.com/user-attachments/assets/5019fc61-4154-4018-b525-ed8345f73604)

#### (just) Filter
![image](https://github.com/user-attachments/assets/4353fc63-6692-41df-a3f9-5577116772d5)


These screenshots are captured from provided storybook stories.

oisincoveney (Issue Creator) on (2024-11-22 07:06:43 UTC): Weird. I'll take a look

"
2672960399,pull_request,closed,,ci: attempt to fix trivy rate limit issue,"another attempt to fix trivy rate limit issue

related to https://github.com/aquasecurity/trivy/discussions/7699",uladzimirdev,2024-11-19 17:34:11+00:00,['uladzimirdev'],2024-11-26 18:51:07+00:00,2024-11-19 17:51:25+00:00,https://github.com/metabase/metabase/pull/50225,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]",[],
2672951165,pull_request,closed,,Rank based on when the current user last viewed the item,"~~Proof-of-concept of a~~ ranker which factors in how recently (if ever) the current user has viewed the given item.

~~The reason it's not ready for production is that the subselects will be really expensive unless we add a better index or, better yet, a materialized view to join to.~~

Update: we decided to just go for it and evaluate actual performance in Stats.",crisptrutski,2024-11-19 17:32:07+00:00,['crisptrutski'],2024-11-26 18:51:03+00:00,2024-11-20 10:02:44+00:00,https://github.com/metabase/metabase/pull/50224,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2486337313, 'issue_id': 2672951165, 'author': 'crisptrutski', 'body': '* **#50224** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50224?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50224?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* **#50214** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50214?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* `master`\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 11, 19, 17, 32, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2486428347, 'issue_id': 2672951165, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/114188_tests-899e4255-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50224?repo=metabase/metabase&commitHash=899e42558655681094950431c868f5437e3560fa&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 19, 18, 16, 56, tzinfo=datetime.timezone.utc)}]","crisptrutski (Issue Creator) on (2024-11-19 17:32:32 UTC): * **#50224** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50224?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50224?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* **#50214** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50214?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* `master`

<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2024-11-19 18:16:56 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/114188_tests-899e4255-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50224?repo=metabase/metabase&commitHash=899e42558655681094950431c868f5437e3560fa&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2672790444,pull_request,closed,,Sdk update react next versions,"### Description

Sets the expectation for the SDK to work with React 18 and Next.js 14 and that it may work with earlier versions.",albertoperdomo,2024-11-19 16:40:50+00:00,['albertoperdomo'],2024-11-25 09:15:44+00:00,2024-11-20 14:58:40+00:00,https://github.com/metabase/metabase/pull/50222,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2486320964, 'issue_id': 2672790444, 'author': 'albertoperdomo', 'body': ""I've pushed the following changes @npretto @heypoom:\r\n* bumped node to 20\r\n* removed mention of next in introduction\r\n* only mention next 14 in the nextjs guide"", 'created_at': datetime.datetime(2024, 11, 19, 17, 25, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2486324839, 'issue_id': 2672790444, 'author': 'heypoom', 'body': '@albertoperdomo changes looks good to me 🚀', 'created_at': datetime.datetime(2024, 11, 19, 17, 26, 41, tzinfo=datetime.timezone.utc)}]","albertoperdomo (Issue Creator) on (2024-11-19 17:25:02 UTC): I've pushed the following changes @npretto @heypoom:
* bumped node to 20
* removed mention of next in introduction
* only mention next 14 in the nextjs guide

heypoom on (2024-11-19 17:26:41 UTC): @albertoperdomo changes looks good to me 🚀

"
2672789710,pull_request,closed,,"🤖 backported ""Fix model conversion""",#50215,github-automation-metabase,2024-11-19 16:40:30+00:00,"['ranquild', 'github-automation-metabase']",2024-11-19 18:15:08+00:00,2024-11-19 17:38:33+00:00,https://github.com/metabase/metabase/pull/50221,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2486295417, 'issue_id': 2672789710, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13153_tests-36f6c7da-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\\$147061)</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50221?repo=metabase/metabase&commitHash=36f6c7dac4ed6b6c92c1f4e2e5af1ff60026e3bb&utm_source=gh-comment&runConclusion=FAILURE&runId=4d63cd6b-cd29-56b8-96d7-63bcaef15b5c) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50221?repo=metabase/metabase&commitHash=36f6c7dac4ed6b6c92c1f4e2e5af1ff60026e3bb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 19, 17, 14, 21, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-19 17:14:21 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13153_tests-36f6c7da-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/1-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding > dashboard appearance should resize iframe to dashboard content size (metabase\$147061)</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50221?repo=metabase/metabase&commitHash=36f6c7dac4ed6b6c92c1f4e2e5af1ff60026e3bb&utm_source=gh-comment&runConclusion=FAILURE&runId=4d63cd6b-cd29-56b8-96d7-63bcaef15b5c) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50221?repo=metabase/metabase&commitHash=36f6c7dac4ed6b6c92c1f4e2e5af1ff60026e3bb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2672688057,pull_request,closed,,"🤖 backported ""docs - note on offset and rows""",#50171,github-automation-metabase,2024-11-19 15:57:29+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2024-11-19 15:59:12+00:00,2024-11-19 15:59:11+00:00,https://github.com/metabase/metabase/pull/50220,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2672672632,pull_request,closed,,Put #locale under pro plan,"Closes https://github.com/metabase/metabase/issues/50199

### Description

`#locale` hash parameter should follow the logic of other pro options like `font` and `downloads`

### How to verify
#### OSS
1. Run Metabase OSS
2. Embed a dashboard and a question (you can also test them with public links)
3. Visit the static embed or public link and append `#locale` of your choice e.g. `#locale=ko`. Ensure the page reloads when you add it.
4. See that the page _should not be_ translated in the selected locale

#### Pro
1. Run Metabase with Pro license
2. Embed a dashboard and a question (you can also test them with public links)
3. Visit the static embed or public link and append `#locale` of your choice e.g. `#locale=ko`. Ensure the page reloads when you add it.
4. See that the page _should be_ translated in the selected locale

### Demo

#### OSS still uses the instance locale (Chinese)
![image](https://github.com/user-attachments/assets/3eafbfcc-db65-43bd-b115-33ae3f25b334)
![image](https://github.com/user-attachments/assets/eac5a9b8-c7ff-4f84-b685-e1ef5b557523)


#### Pro uses the provided `locale=ko` (Korean)
![image](https://github.com/user-attachments/assets/8f1203b3-0953-4e0a-b679-893ccfcdbe80)
![image](https://github.com/user-attachments/assets/b734261b-98fe-47fa-9769-1038aedb99ca)


### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",WiNloSt,2024-11-19 15:51:32+00:00,['WiNloSt'],2024-11-21 08:52:13+00:00,2024-11-21 08:52:11+00:00,https://github.com/metabase/metabase/pull/50219,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', '')]","[{'comment_id': 2487639303, 'issue_id': 2672672632, 'author': 'WiNloSt', 'body': ""This PR shouldn't be backported as it targets 52"", 'created_at': datetime.datetime(2024, 11, 20, 6, 51, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2488366662, 'issue_id': 2672672632, 'author': 'WiNloSt', 'body': '@npretto I requested your review since you wrote the `downloads` tests', 'created_at': datetime.datetime(2024, 11, 20, 11, 44, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2488423538, 'issue_id': 2672672632, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13233_tests-826205c8-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50219?repo=metabase/metabase&commitHash=826205c8912ef6b3162687b517a14591a89157a4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 20, 12, 12, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2488423541, 'issue_id': 2672672632, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13078_tests-b89d2278-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 8490 static embeddings should respect \\$1\\$1locale\\$1 hash in the URL (metabase\\$18490)</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50219?repo=metabase/metabase&commitHash=b89d22788a75769e4450b835417aa57c81878f13&utm_source=gh-comment&runConclusion=FAILURE&runId=cf1c6f90-a790-5252-adca-8f05b3e09d0e) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50219?repo=metabase/metabase&commitHash=b89d22788a75769e4450b835417aa57c81878f13&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 20, 12, 12, 10, tzinfo=datetime.timezone.utc)}]","WiNloSt (Issue Creator) on (2024-11-20 06:51:54 UTC): This PR shouldn't be backported as it targets 52

WiNloSt (Issue Creator) on (2024-11-20 11:44:23 UTC): @npretto I requested your review since you wrote the `downloads` tests

trunk-io[bot] on (2024-11-20 12:12:10 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13233_tests-826205c8-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50219?repo=metabase/metabase&commitHash=826205c8912ef6b3162687b517a14591a89157a4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-11-20 12:12:10 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13078_tests-b89d2278-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 8490 static embeddings should respect \$1\$1locale\$1 hash in the URL (metabase\$18490)</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50219?repo=metabase/metabase&commitHash=b89d22788a75769e4450b835417aa57c81878f13&utm_source=gh-comment&runConclusion=FAILURE&runId=cf1c6f90-a790-5252-adca-8f05b3e09d0e) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50219?repo=metabase/metabase&commitHash=b89d22788a75769e4450b835417aa57c81878f13&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2672651722,pull_request,open,,Fix sandboxing e2e test,,noahmoss,2024-11-19 15:43:58+00:00,['noahmoss'],2024-12-15 08:12:53+00:00,,https://github.com/metabase/metabase/pull/50218,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2486073911, 'issue_id': 2672651722, 'author': 'noahmoss', 'body': '* **#50218** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50218?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50218?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 11, 19, 15, 44, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2486233013, 'issue_id': 2672651722, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/3273_tests-cb884ea7-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>formatting > sandboxes Sandboxing reproductions with display values remapped to use a foreign key Advanced sandboxing should not ignore data model...</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50218?repo=metabase/metabase&commitHash=cb884ea74fc669ce06ef52cafc6dd5907b4da870&utm_source=gh-comment&runConclusion=FAILURE&runId=fc400bfb-262b-5ac5-bb81-f78bd11cc5fb) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50218?repo=metabase/metabase&commitHash=cb884ea74fc669ce06ef52cafc6dd5907b4da870&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 19, 16, 46, 49, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2024-11-19 15:44:13 UTC): * **#50218** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50218?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50218?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2024-11-19 16:46:49 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/3273_tests-cb884ea7-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>formatting > sandboxes Sandboxing reproductions with display values remapped to use a foreign key Advanced sandboxing should not ignore data model...</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50218?repo=metabase/metabase&commitHash=cb884ea74fc669ce06ef52cafc6dd5907b4da870&utm_source=gh-comment&runConclusion=FAILURE&runId=fc400bfb-262b-5ac5-bb81-f78bd11cc5fb) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50218?repo=metabase/metabase&commitHash=cb884ea74fc669ce06ef52cafc6dd5907b4da870&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2672521194,pull_request,closed,,Fix model conversion,"Fixes #47940

Actually, this fixes the first repro part from #47940. The second path is an old problem, not a regression in v50.

### How to verify

Use the first repro part from #47940.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",metamben,2024-11-19 15:11:48+00:00,['metamben'],2024-11-19 17:12:45+00:00,2024-11-19 16:39:35+00:00,https://github.com/metabase/metabase/pull/50215,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2486155035, 'issue_id': 2672521194, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/13183_tests-e1b8a94d-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50215?repo=metabase/metabase&commitHash=e1b8a94d5b402a7af34e7a09ebdd349c277faeb3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 19, 16, 15, 15, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-19 16:15:15 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/13183_tests-e1b8a94d-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50215?repo=metabase/metabase&commitHash=e1b8a94d5b402a7af34e7a09ebdd349c277faeb3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
2672481607,pull_request,closed,,Experimental search tweaks v2,"- Disabled non-linear curve for view-count scoring. Just hit 1 at the p99.
- Disabled text rank normalization - this de-prioritized entities with long descriptions too much.
- Always uses the `display_name` for tables.
- Fixes the enterprise rankers.",crisptrutski,2024-11-19 14:57:06+00:00,['crisptrutski'],2024-11-26 18:51:06+00:00,2024-11-19 18:48:03+00:00,https://github.com/metabase/metabase/pull/50214,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2486084034, 'issue_id': 2672481607, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/1_test-1bf686b1-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50214?repo=metabase/metabase&commitHash=1bf686b1e76e47dbf8d2d70a5b06c618d89dae67&utm_source=gh-comment&runConclusion=FAILURE&runId=e788280c-51eb-5558-81e2-faa3e83e2b91) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50214?repo=metabase/metabase&commitHash=1bf686b1e76e47dbf8d2d70a5b06c618d89dae67&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 19, 15, 48, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2486337219, 'issue_id': 2672481607, 'author': 'crisptrutski', 'body': '* **#50224** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50224?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#50214** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50214?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50214?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 11, 19, 17, 32, 29, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-11-19 15:48:06 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/1_test-1bf686b1-purple) &ensp; ![Static Badge](https://img.shields.io/badge/1-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50214?repo=metabase/metabase&commitHash=1bf686b1e76e47dbf8d2d70a5b06c618d89dae67&utm_source=gh-comment&runConclusion=FAILURE&runId=e788280c-51eb-5558-81e2-faa3e83e2b91) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50214?repo=metabase/metabase&commitHash=1bf686b1e76e47dbf8d2d70a5b06c618d89dae67&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

crisptrutski (Issue Creator) on (2024-11-19 17:32:29 UTC): * **#50224** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50224?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#50214** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50214?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/50214?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`

<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

"
2672457487,pull_request,closed,,Bug triage fix,Revert,NevRA,2024-11-19 14:48:44+00:00,['NevRA'],2024-11-26 18:51:08+00:00,2024-11-19 14:53:10+00:00,https://github.com/metabase/metabase/pull/50213,"[('.CI & Tests', ''), ('no-backport', 'Do not backport this PR to any branch')]",[],
2672406237,pull_request,closed,,Bug triage fix,Context: https://metaboat.slack.com/archives/C5XHN8GLW/p1731439939807739,NevRA,2024-11-19 14:40:48+00:00,['NevRA'],2024-11-26 18:51:09+00:00,2024-11-19 14:43:03+00:00,https://github.com/metabase/metabase/pull/50210,"[('.CI & Tests', ''), ('no-backport', 'Do not backport this PR to any branch')]",[],
2672313324,pull_request,closed,,Always send a context when calling the search endpoint,My thinking is that I can just lean on the typescript checker to smoke out all the usages 😏 ,crisptrutski,2024-11-19 14:10:57+00:00,['crisptrutski'],2024-11-21 10:16:44+00:00,2024-11-19 15:06:25+00:00,https://github.com/metabase/metabase/pull/50208,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2485854812, 'issue_id': 2672313324, 'author': 'crisptrutski', 'body': 'Oh dear, this is more involved than I hoped, due to middlemen like `useSearchQuery` 😅 \r\n\r\nWell, this PR at least revealed to me the `yarn type-check-pure` spell.', 'created_at': datetime.datetime(2024, 11, 19, 14, 21, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2485932021, 'issue_id': 2672313324, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n![Static Badge](https://img.shields.io/badge/50440_tests-2b2d0fbe-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50208?repo=metabase/metabase&commitHash=2b2d0fbe57493db0e12de9b0439a5705c8da906c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 11, 19, 14, 51, 18, tzinfo=datetime.timezone.utc)}]","crisptrutski (Issue Creator) on (2024-11-19 14:21:57 UTC): Oh dear, this is more involved than I hoped, due to middlemen like `useSearchQuery` 😅 

Well, this PR at least revealed to me the `yarn type-check-pure` spell.

trunk-io[bot] on (2024-11-19 14:51:18 UTC): <!-- Trunk Test Analytics -->


![Static Badge](https://img.shields.io/badge/50440_tests-2b2d0fbe-purple) &ensp; ![Static Badge](https://img.shields.io/badge/0-failed-crimson) &ensp; ![Static Badge](https://img.shields.io/badge/0-flaky-red) &ensp; ![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/50208?repo=metabase/metabase&commitHash=2b2d0fbe57493db0e12de9b0439a5705c8da906c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests/github-pull-request-comments?utm_source=gh-comment)

</sub>

"
