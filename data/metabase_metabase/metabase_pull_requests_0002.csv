id,type,state,state_reason,title,body,author,created_at,assignees,updated_at,closed_at,url,labels,comments_list,comment_thread
2819564544,pull_request,closed,,Check connectivity on startup,"Recently snowflake connectivity was broken due to secrets issues. We have a test db on stats that we could have seen this. Let's check db connectivity on startup (don't block initialized, we don't want this to prevent startup, but just schedule it to do if soon after startup).

Cloud can set watches for these errors. We want the errors to be a regular so easily discoverable",snoe,2025-01-29 23:35:10+00:00,['snoe'],2025-02-06 20:38:01+00:00,2025-02-03 21:40:09+00:00,https://github.com/metabase/metabase/pull/52934,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Drivers', '')]","[{'comment_id': 2625947215, 'issue_id': 2819564544, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/101265_tests-d7900d1a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52934?repo=metabase/metabase&commitHash=d7900d1a4ec99d5036d4de66cdb14c3644d76da8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/17-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52934?repo=metabase/metabase&commitHash=d7900d1a4ec99d5036d4de66cdb14c3644d76da8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/9-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52934?repo=metabase/metabase&commitHash=d7900d1a4ec99d5036d4de66cdb14c3644d76da8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52934?repo=metabase/metabase&commitHash=d7900d1a4ec99d5036d4de66cdb14c3644d76da8&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > browse > metrics verified metrics on enterprise should respect the user setting on wether or not to only show verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52934?repo=metabase/metabase&commitHash=d7900d1a4ec99d5036d4de66cdb14c3644d76da8&utm_source=gh-comment&runConclusion=FAILURE&runId=962790a2-340e-506f-918e-82c99e9bd9cc) |\n| <code>scenarios > browse > metrics verified metrics on enterprise should show the verified metrics filter when there are verified metrics</code> | Unable to find a label with the text \'Table of metrics\' within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52934?repo=metabase/metabase&commitHash=d7900d1a4ec99d5036d4de66cdb14c3644d76da8&utm_source=gh-comment&runConclusion=FAILURE&runId=d160feaa-a415-5362-8c54-1f4362002fbf) |\n| <code>update-timeline-event-test</code> | The expected timestamp was not equal to the actual timestamp when updating a timeline event. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52934?repo=metabase/metabase&commitHash=d7900d1a4ec99d5036d4de66cdb14c3644d76da8&utm_source=gh-comment&runConclusion=FAILURE&runId=cf2053f9-edc1-5f4e-8073-82cfdb434fa0) |\n| <code>scenarios > browse > metrics dot menu when the user does not have write access should be possible to navigate to the collection from the dot menu</code> | Unable to find a label with the text ""Table of metrics"" within the expected time. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52934?repo=metabase/metabase&commitHash=d7900d1a4ec99d5036d4de66cdb14c3644d76da8&utm_source=gh-comment&runConclusion=FAILURE&runId=56c22dc1-8f05-54e0-aa89-44da884c4b47) |\n\n[... and 13 more](https://app.trunk.io/metabase/flaky-tests/pr/52934?repo=metabase/metabase&commitHash=d7900d1a4ec99d5036d4de66cdb14c3644d76da8&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52934?repo=metabase/metabase&commitHash=d7900d1a4ec99d5036d4de66cdb14c3644d76da8&utm_source=gh-comment&runConclusion=FAILURE&runId=154959e1-18d6-5bde-906a-25c82d620343) |\n| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and \'Browse databases\' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52934?repo=metabase/metabase&commitHash=d7900d1a4ec99d5036d4de66cdb14c3644d76da8&utm_source=gh-comment&runConclusion=FAILURE&runId=c3de38c2-1ebb-5c7a-ad21-4a81db5c3c0c) |\n| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52934?repo=metabase/metabase&commitHash=d7900d1a4ec99d5036d4de66cdb14c3644d76da8&utm_source=gh-comment&runConclusion=FAILURE&runId=1a75bf3f-ee14-579e-8f51-4e6cc196b08e) |\n| <code>scenarios > model indexes should not reload the model for record in the same model</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52934?repo=metabase/metabase&commitHash=d7900d1a4ec99d5036d4de66cdb14c3644d76da8&utm_source=gh-comment&runConclusion=FAILURE&runId=fe04f70d-a682-53db-a501-4f1035aba366) |\n\n[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52934?repo=metabase/metabase&commitHash=d7900d1a4ec99d5036d4de66cdb14c3644d76da8&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52934?repo=metabase/metabase&commitHash=d7900d1a4ec99d5036d4de66cdb14c3644d76da8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 30, 23, 41, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627716721, 'issue_id': 2819564544, 'author': 'dpsutton', 'body': 'And running the jar locally, I\'m not seeing any values in it:\r\n\r\n```\r\n❯ http get localhost:9192/metrics | grep healthy\r\n# HELP metabase_database_healthy_total Does a given database using driver pass a health check.\r\n# TYPE metabase_database_healthy_total counter\r\nmetabase_database_healthy_total{driver="""",} 0.0\r\n# HELP metabase_database_unhealthy_total Does a given database using driver fail a health check.\r\n# TYPE metabase_database_unhealthy_total counter\r\nmetabase_database_unhealthy_total{driver="""",} 0.0\r\n# HELP metabase_database_healthy_created Does a given database using driver pass a health check.\r\n# TYPE metabase_database_healthy_created gauge\r\nmetabase_database_healthy_created{driver="""",} 1.738339921054E9\r\n# HELP metabase_database_unhealthy_created Does a given database using driver fail a health check.\r\n# TYPE metabase_database_unhealthy_created gauge\r\nmetabase_database_unhealthy_created{driver="""",} 1.738339920399E9\r\n```', 'created_at': datetime.datetime(2025, 1, 31, 16, 13, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627760532, 'issue_id': 2819564544, 'author': 'dpsutton', 'body': ""it seems like it's always throwing an error when incrementing the counters. need to use this method:\r\n`(prometheus/inc! :metabase-database/unhealthy {:driver engine} 1)` with an explicit value. Not sure why it's getting confused about the labels otherwise.\r\n\r\n```clojure\r\ndatabase=> (prometheus/inc! :metabase-database/unhealthy {:driver :bigquery-cloud-sdk})\r\nExecution error (ClassCastException) at iapetos.operations/fn (operations.clj:50).\r\nclass clojure.lang.PersistentArrayMap cannot be cast to class java.lang.Number (clojure.lang.PersistentArrayMap is in unnamed module of loader 'app'; java.lang.Number is in module java.base of loader 'bootstrap')\r\n```\r\nwhich explains why the counter hasn't moved.\r\n\r\nalso, we can use `[metabase.driver.h2/*allow-testing-h2-connections* (:is_sample _database)]` on the databases. And we probably want to remove any databases that have `:is_audit true,` since those are essentially the app-db."", 'created_at': datetime.datetime(2025, 1, 31, 16, 32, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631696888, 'issue_id': 2819564544, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `d7900d1a4ec99d5036d4de66cdb14c3644d76da8-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13119561663?pr=52934)\n\n  File | Test Name\n  ---- | ---------\n  `model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model\n`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette\n`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link\n`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results"", 'created_at': datetime.datetime(2025, 2, 3, 18, 0, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631984583, 'issue_id': 2819564544, 'author': 'dpsutton', 'body': '```\r\n❯ http get localhost:9192/metrics | grep health\r\n# HELP metabase_database_healthy_total Does a given database using driver pass a health check.\r\n# TYPE metabase_database_healthy_total counter\r\nmetabase_database_healthy_total{driver="":bigquery-cloud-sdk"",} 1.0\r\nmetabase_database_healthy_total{driver="":postgres"",} 1.0\r\n# HELP metabase_database_unhealthy_total Does a given database using driver fail a health check.\r\n# TYPE metabase_database_unhealthy_total counter\r\n```', 'created_at': datetime.datetime(2025, 2, 3, 20, 17, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640946098, 'issue_id': 2819564544, 'author': 'dpsutton', 'body': '@metabase-bot backport release-x.52.x', 'created_at': datetime.datetime(2025, 2, 6, 20, 36, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2640949052, 'issue_id': 2819564544, 'author': 'github-actions[bot]', 'body': '@dpsutton Manual conflict resolution is required', 'created_at': datetime.datetime(2025, 2, 6, 20, 38, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-30 23:41:49 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/101265_tests-d7900d1a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52934?repo=metabase/metabase&commitHash=d7900d1a4ec99d5036d4de66cdb14c3644d76da8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/17-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52934?repo=metabase/metabase&commitHash=d7900d1a4ec99d5036d4de66cdb14c3644d76da8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/9-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52934?repo=metabase/metabase&commitHash=d7900d1a4ec99d5036d4de66cdb14c3644d76da8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52934?repo=metabase/metabase&commitHash=d7900d1a4ec99d5036d4de66cdb14c3644d76da8&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > browse > metrics verified metrics on enterprise should respect the user setting on wether or not to only show verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52934?repo=metabase/metabase&commitHash=d7900d1a4ec99d5036d4de66cdb14c3644d76da8&utm_source=gh-comment&runConclusion=FAILURE&runId=962790a2-340e-506f-918e-82c99e9bd9cc) |
| <code>scenarios > browse > metrics verified metrics on enterprise should show the verified metrics filter when there are verified metrics</code> | Unable to find a label with the text 'Table of metrics' within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52934?repo=metabase/metabase&commitHash=d7900d1a4ec99d5036d4de66cdb14c3644d76da8&utm_source=gh-comment&runConclusion=FAILURE&runId=d160feaa-a415-5362-8c54-1f4362002fbf) |
| <code>update-timeline-event-test</code> | The expected timestamp was not equal to the actual timestamp when updating a timeline event. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52934?repo=metabase/metabase&commitHash=d7900d1a4ec99d5036d4de66cdb14c3644d76da8&utm_source=gh-comment&runConclusion=FAILURE&runId=cf2053f9-edc1-5f4e-8073-82cfdb434fa0) |
| <code>scenarios > browse > metrics dot menu when the user does not have write access should be possible to navigate to the collection from the dot menu</code> | Unable to find a label with the text ""Table of metrics"" within the expected time. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52934?repo=metabase/metabase&commitHash=d7900d1a4ec99d5036d4de66cdb14c3644d76da8&utm_source=gh-comment&runConclusion=FAILURE&runId=56c22dc1-8f05-54e0-aa89-44da884c4b47) |

[... and 13 more](https://app.trunk.io/metabase/flaky-tests/pr/52934?repo=metabase/metabase&commitHash=d7900d1a4ec99d5036d4de66cdb14c3644d76da8&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52934?repo=metabase/metabase&commitHash=d7900d1a4ec99d5036d4de66cdb14c3644d76da8&utm_source=gh-comment&runConclusion=FAILURE&runId=154959e1-18d6-5bde-906a-25c82d620343) |
| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and 'Browse databases' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52934?repo=metabase/metabase&commitHash=d7900d1a4ec99d5036d4de66cdb14c3644d76da8&utm_source=gh-comment&runConclusion=FAILURE&runId=c3de38c2-1ebb-5c7a-ad21-4a81db5c3c0c) |
| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52934?repo=metabase/metabase&commitHash=d7900d1a4ec99d5036d4de66cdb14c3644d76da8&utm_source=gh-comment&runConclusion=FAILURE&runId=1a75bf3f-ee14-579e-8f51-4e6cc196b08e) |
| <code>scenarios > model indexes should not reload the model for record in the same model</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52934?repo=metabase/metabase&commitHash=d7900d1a4ec99d5036d4de66cdb14c3644d76da8&utm_source=gh-comment&runConclusion=FAILURE&runId=fe04f70d-a682-53db-a501-4f1035aba366) |

[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52934?repo=metabase/metabase&commitHash=d7900d1a4ec99d5036d4de66cdb14c3644d76da8&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52934?repo=metabase/metabase&commitHash=d7900d1a4ec99d5036d4de66cdb14c3644d76da8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

dpsutton on (2025-01-31 16:13:53 UTC): And running the jar locally, I'm not seeing any values in it:

```
❯ http get localhost:9192/metrics | grep healthy
# HELP metabase_database_healthy_total Does a given database using driver pass a health check.
# TYPE metabase_database_healthy_total counter
metabase_database_healthy_total{driver="""",} 0.0
# HELP metabase_database_unhealthy_total Does a given database using driver fail a health check.
# TYPE metabase_database_unhealthy_total counter
metabase_database_unhealthy_total{driver="""",} 0.0
# HELP metabase_database_healthy_created Does a given database using driver pass a health check.
# TYPE metabase_database_healthy_created gauge
metabase_database_healthy_created{driver="""",} 1.738339921054E9
# HELP metabase_database_unhealthy_created Does a given database using driver fail a health check.
# TYPE metabase_database_unhealthy_created gauge
metabase_database_unhealthy_created{driver="""",} 1.738339920399E9
```

dpsutton on (2025-01-31 16:32:53 UTC): it seems like it's always throwing an error when incrementing the counters. need to use this method:
`(prometheus/inc! :metabase-database/unhealthy {:driver engine} 1)` with an explicit value. Not sure why it's getting confused about the labels otherwise.

```clojure
database=> (prometheus/inc! :metabase-database/unhealthy {:driver :bigquery-cloud-sdk})
Execution error (ClassCastException) at iapetos.operations/fn (operations.clj:50).
class clojure.lang.PersistentArrayMap cannot be cast to class java.lang.Number (clojure.lang.PersistentArrayMap is in unnamed module of loader 'app'; java.lang.Number is in module java.base of loader 'bootstrap')
```
which explains why the counter hasn't moved.

also, we can use `[metabase.driver.h2/*allow-testing-h2-connections* (:is_sample _database)]` on the databases. And we probably want to remove any databases that have `:is_audit true,` since those are essentially the app-db.

github-actions[bot] on (2025-02-03 18:00:32 UTC): ## e2e tests failed on `d7900d1a4ec99d5036d4de66cdb14c3644d76da8-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13119561663?pr=52934)

  File | Test Name
  ---- | ---------
  `model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model
`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette
`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link
`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results

dpsutton on (2025-02-03 20:17:42 UTC): ```
❯ http get localhost:9192/metrics | grep health
# HELP metabase_database_healthy_total Does a given database using driver pass a health check.
# TYPE metabase_database_healthy_total counter
metabase_database_healthy_total{driver="":bigquery-cloud-sdk"",} 1.0
metabase_database_healthy_total{driver="":postgres"",} 1.0
# HELP metabase_database_unhealthy_total Does a given database using driver fail a health check.
# TYPE metabase_database_unhealthy_total counter
```

dpsutton on (2025-02-06 20:36:45 UTC): @metabase-bot backport release-x.52.x

github-actions[bot] on (2025-02-06 20:38:00 UTC): @dpsutton Manual conflict resolution is required

"
2819500717,pull_request,closed,,Add standalone filter-records tests,,metamben,2025-01-29 22:47:47+00:00,['metamben'],2025-01-30 14:57:34+00:00,2025-01-30 14:57:33+00:00,https://github.com/metabase/metabase/pull/52933,"[('Metabot/Tools', 'Tools that are agnostic of the LLM framework itself, could be reused for notifications framework als')]","[{'comment_id': 2623139844, 'issue_id': 2819500717, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `8ff57bc48d8d4cb444213a92b11e7ab40d33b0b5-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13042042862?pr=52933)\n\n  File | Test Name\n  ---- | ---------\n  `actions-reproductions.cy.spec.js` | issue 51020 > when primary key is not called 'id' > should pass primary key attribute to execute action endpoint when it's populated with click behavior or URL (metabase#51020)"", 'created_at': datetime.datetime(2025, 1, 29, 23, 16, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624703953, 'issue_id': 2819500717, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/98937_tests-8ff57bc4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52933?repo=metabase/metabase&commitHash=8ff57bc48d8d4cb444213a92b11e7ab40d33b0b5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/146-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52933?repo=metabase/metabase&commitHash=8ff57bc48d8d4cb444213a92b11e7ab40d33b0b5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/6-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52933?repo=metabase/metabase&commitHash=8ff57bc48d8d4cb444213a92b11e7ab40d33b0b5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52933?repo=metabase/metabase&commitHash=8ff57bc48d8d4cb444213a92b11e7ab40d33b0b5&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>multiple-joins-test</code> | The query failed because the \'users\' table was not found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52933?repo=metabase/metabase&commitHash=8ff57bc48d8d4cb444213a92b11e7ab40d33b0b5&utm_source=gh-comment&runConclusion=FAILURE&runId=19886258-8092-522a-8c16-5fe7fbc4f1a5) |\n| <code>substitute-native-parameters-test</code> | No table \'sightings\' found in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52933?repo=metabase/metabase&commitHash=8ff57bc48d8d4cb444213a92b11e7ab40d33b0b5&utm_source=gh-comment&runConclusion=FAILURE&runId=b03257f1-ceec-5ec9-bc01-42457e998f5b) |\n| <code>nulls-and-zeroes-test-9</code> | The query processor failed to find a table in the Redshift database, causing an error. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52933?repo=metabase/metabase&commitHash=8ff57bc48d8d4cb444213a92b11e7ab40d33b0b5&utm_source=gh-comment&runConclusion=FAILURE&runId=3fc67fdb-192d-5c9c-8d0e-0fe1dd083cdc) |\n| <code>text-equals-nil-empty-string-test</code> | No table \'region\' found in the Redshift database \'airports (redshift)\' when trying to run a query. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52933?repo=metabase/metabase&commitHash=8ff57bc48d8d4cb444213a92b11e7ab40d33b0b5&utm_source=gh-comment&runConclusion=FAILURE&runId=7193a033-853f-5815-a856-2431d5e8cacd) |\n\n[... and 142 more](https://app.trunk.io/metabase/flaky-tests/pr/52933?repo=metabase/metabase&commitHash=8ff57bc48d8d4cb444213a92b11e7ab40d33b0b5&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>redshift-lbv-sync-error-test</code> | The Redshift query failed because the relation ""2025\\_01\\_29\\_50e14a87\\_d14b\\_4a87\\_bc3a\\_545fc2fa6d9f\\_schema.oovyerlrqxxfmmtvimch"" does not exist. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52933?repo=metabase/metabase&commitHash=8ff57bc48d8d4cb444213a92b11e7ab40d33b0b5&utm_source=gh-comment&runConclusion=FAILURE&runId=c39fea5f-9f8d-51f8-88d0-d6a1ca17ce98) |\n| <code>redshift-types-test</code> | The Redshift database connection failed because the specified relation does not exist. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52933?repo=metabase/metabase&commitHash=8ff57bc48d8d4cb444213a92b11e7ab40d33b0b5&utm_source=gh-comment&runConclusion=FAILURE&runId=9dfeff3f-5d8c-5809-a9fa-0fd514b94538) |\n| <code>test-external-table</code> | The Redshift database does not have a table named ""extsales"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52933?repo=metabase/metabase&commitHash=8ff57bc48d8d4cb444213a92b11e7ab40d33b0b5&utm_source=gh-comment&runConclusion=FAILURE&runId=2ae803dc-9ffd-5337-9f8b-7961741f9990) |\n| <code>parameters-test</code> | Native query parameters failed to work with filters due to a missing table. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52933?repo=metabase/metabase&commitHash=8ff57bc48d8d4cb444213a92b11e7ab40d33b0b5&utm_source=gh-comment&runConclusion=FAILURE&runId=b8eb430e-d589-52fb-be2d-d50691063702) |\n\n[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/52933?repo=metabase/metabase&commitHash=8ff57bc48d8d4cb444213a92b11e7ab40d33b0b5&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52933?repo=metabase/metabase&commitHash=8ff57bc48d8d4cb444213a92b11e7ab40d33b0b5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 30, 14, 48, 43, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-29 23:16:42 UTC): ## e2e tests failed on `8ff57bc48d8d4cb444213a92b11e7ab40d33b0b5-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13042042862?pr=52933)

  File | Test Name
  ---- | ---------
  `actions-reproductions.cy.spec.js` | issue 51020 > when primary key is not called 'id' > should pass primary key attribute to execute action endpoint when it's populated with click behavior or URL (metabase#51020)

trunk-io[bot] on (2025-01-30 14:48:43 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/98937_tests-8ff57bc4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52933?repo=metabase/metabase&commitHash=8ff57bc48d8d4cb444213a92b11e7ab40d33b0b5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/146-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52933?repo=metabase/metabase&commitHash=8ff57bc48d8d4cb444213a92b11e7ab40d33b0b5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/6-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52933?repo=metabase/metabase&commitHash=8ff57bc48d8d4cb444213a92b11e7ab40d33b0b5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52933?repo=metabase/metabase&commitHash=8ff57bc48d8d4cb444213a92b11e7ab40d33b0b5&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>multiple-joins-test</code> | The query failed because the 'users' table was not found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52933?repo=metabase/metabase&commitHash=8ff57bc48d8d4cb444213a92b11e7ab40d33b0b5&utm_source=gh-comment&runConclusion=FAILURE&runId=19886258-8092-522a-8c16-5fe7fbc4f1a5) |
| <code>substitute-native-parameters-test</code> | No table 'sightings' found in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52933?repo=metabase/metabase&commitHash=8ff57bc48d8d4cb444213a92b11e7ab40d33b0b5&utm_source=gh-comment&runConclusion=FAILURE&runId=b03257f1-ceec-5ec9-bc01-42457e998f5b) |
| <code>nulls-and-zeroes-test-9</code> | The query processor failed to find a table in the Redshift database, causing an error. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52933?repo=metabase/metabase&commitHash=8ff57bc48d8d4cb444213a92b11e7ab40d33b0b5&utm_source=gh-comment&runConclusion=FAILURE&runId=3fc67fdb-192d-5c9c-8d0e-0fe1dd083cdc) |
| <code>text-equals-nil-empty-string-test</code> | No table 'region' found in the Redshift database 'airports (redshift)' when trying to run a query. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52933?repo=metabase/metabase&commitHash=8ff57bc48d8d4cb444213a92b11e7ab40d33b0b5&utm_source=gh-comment&runConclusion=FAILURE&runId=7193a033-853f-5815-a856-2431d5e8cacd) |

[... and 142 more](https://app.trunk.io/metabase/flaky-tests/pr/52933?repo=metabase/metabase&commitHash=8ff57bc48d8d4cb444213a92b11e7ab40d33b0b5&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>redshift-lbv-sync-error-test</code> | The Redshift query failed because the relation ""2025\_01\_29\_50e14a87\_d14b\_4a87\_bc3a\_545fc2fa6d9f\_schema.oovyerlrqxxfmmtvimch"" does not exist. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52933?repo=metabase/metabase&commitHash=8ff57bc48d8d4cb444213a92b11e7ab40d33b0b5&utm_source=gh-comment&runConclusion=FAILURE&runId=c39fea5f-9f8d-51f8-88d0-d6a1ca17ce98) |
| <code>redshift-types-test</code> | The Redshift database connection failed because the specified relation does not exist. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52933?repo=metabase/metabase&commitHash=8ff57bc48d8d4cb444213a92b11e7ab40d33b0b5&utm_source=gh-comment&runConclusion=FAILURE&runId=9dfeff3f-5d8c-5809-a9fa-0fd514b94538) |
| <code>test-external-table</code> | The Redshift database does not have a table named ""extsales"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52933?repo=metabase/metabase&commitHash=8ff57bc48d8d4cb444213a92b11e7ab40d33b0b5&utm_source=gh-comment&runConclusion=FAILURE&runId=2ae803dc-9ffd-5337-9f8b-7961741f9990) |
| <code>parameters-test</code> | Native query parameters failed to work with filters due to a missing table. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52933?repo=metabase/metabase&commitHash=8ff57bc48d8d4cb444213a92b11e7ab40d33b0b5&utm_source=gh-comment&runConclusion=FAILURE&runId=b8eb430e-d589-52fb-be2d-d50691063702) |

[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/52933?repo=metabase/metabase&commitHash=8ff57bc48d8d4cb444213a92b11e7ab40d33b0b5&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52933?repo=metabase/metabase&commitHash=8ff57bc48d8d4cb444213a92b11e7ab40d33b0b5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2819474943,pull_request,closed,,Fix min extent histogram,"Closes #48021 

- Respect custom min / max axis values in normalized stacked charts
- Switches input format of normalized min / max values so that users now input non-normalized values (e.g. 10 for 10% rather than 0.1)
- Fixes small bug where you could not set 0 as max value

<details>
<summary>Before</summary>
<img width=""1372"" alt=""image"" src=""https://github.com/user-attachments/assets/1286a2a5-d35b-48e1-b4be-13b73050de64"" />
</details>
<details>
<summary>After</summary>
<img width=""1362"" alt=""image"" src=""https://github.com/user-attachments/assets/14a8b3fa-ff6d-43d1-b30f-d62d777ae4a0"" />
</details>",tsplude,2025-01-29 22:28:07+00:00,['tsplude'],2025-01-31 20:48:41+00:00,2025-01-31 19:58:18+00:00,https://github.com/metabase/metabase/pull/52932,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2623279066, 'issue_id': 2819474943, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/23004_tests-cd23171a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52932?repo=metabase/metabase&commitHash=cd23171abf9a68bc7df85422dc40fe12a8fa22ad&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52932?repo=metabase/metabase&commitHash=cd23171abf9a68bc7df85422dc40fe12a8fa22ad&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52932?repo=metabase/metabase&commitHash=cd23171abf9a68bc7df85422dc40fe12a8fa22ad&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52932?repo=metabase/metabase&commitHash=cd23171abf9a68bc7df85422dc40fe12a8fa22ad&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52932?repo=metabase/metabase&commitHash=cd23171abf9a68bc7df85422dc40fe12a8fa22ad&utm_source=gh-comment&runConclusion=FAILURE&runId=e2fdddce-b2c7-545e-8727-fd4786f8e071) |\n| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and \'Browse databases\' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52932?repo=metabase/metabase&commitHash=cd23171abf9a68bc7df85422dc40fe12a8fa22ad&utm_source=gh-comment&runConclusion=FAILURE&runId=f82e2479-2b02-53a5-827e-62930f6272e5) |\n| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52932?repo=metabase/metabase&commitHash=cd23171abf9a68bc7df85422dc40fe12a8fa22ad&utm_source=gh-comment&runConclusion=FAILURE&runId=a378d6a3-5949-5215-afe3-de2a434c3963) |\n| <code>scenarios > model indexes should not reload the model for record in the same model</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52932?repo=metabase/metabase&commitHash=cd23171abf9a68bc7df85422dc40fe12a8fa22ad&utm_source=gh-comment&runConclusion=FAILURE&runId=1e3024ec-a7d8-51cc-8a7a-02da509b10b7) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52932?repo=metabase/metabase&commitHash=cd23171abf9a68bc7df85422dc40fe12a8fa22ad&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 30, 0, 52, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628200652, 'issue_id': 2819474943, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `cd23171abf9a68bc7df85422dc40fe12a8fa22ad-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13079402480?pr=52932)\n\n  File | Test Name\n  ---- | ---------\n  `model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model\n`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette\n`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link\n`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results"", 'created_at': datetime.datetime(2025, 1, 31, 19, 35, 48, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-30 00:52:04 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/23004_tests-cd23171a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52932?repo=metabase/metabase&commitHash=cd23171abf9a68bc7df85422dc40fe12a8fa22ad&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52932?repo=metabase/metabase&commitHash=cd23171abf9a68bc7df85422dc40fe12a8fa22ad&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52932?repo=metabase/metabase&commitHash=cd23171abf9a68bc7df85422dc40fe12a8fa22ad&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52932?repo=metabase/metabase&commitHash=cd23171abf9a68bc7df85422dc40fe12a8fa22ad&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52932?repo=metabase/metabase&commitHash=cd23171abf9a68bc7df85422dc40fe12a8fa22ad&utm_source=gh-comment&runConclusion=FAILURE&runId=e2fdddce-b2c7-545e-8727-fd4786f8e071) |
| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and 'Browse databases' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52932?repo=metabase/metabase&commitHash=cd23171abf9a68bc7df85422dc40fe12a8fa22ad&utm_source=gh-comment&runConclusion=FAILURE&runId=f82e2479-2b02-53a5-827e-62930f6272e5) |
| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52932?repo=metabase/metabase&commitHash=cd23171abf9a68bc7df85422dc40fe12a8fa22ad&utm_source=gh-comment&runConclusion=FAILURE&runId=a378d6a3-5949-5215-afe3-de2a434c3963) |
| <code>scenarios > model indexes should not reload the model for record in the same model</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52932?repo=metabase/metabase&commitHash=cd23171abf9a68bc7df85422dc40fe12a8fa22ad&utm_source=gh-comment&runConclusion=FAILURE&runId=1e3024ec-a7d8-51cc-8a7a-02da509b10b7) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52932?repo=metabase/metabase&commitHash=cd23171abf9a68bc7df85422dc40fe12a8fa22ad&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-31 19:35:48 UTC): ## e2e tests failed on `cd23171abf9a68bc7df85422dc40fe12a8fa22ad-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13079402480?pr=52932)

  File | Test Name
  ---- | ---------
  `model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model
`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette
`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link
`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results

"
2819415830,pull_request,closed,,"🤖 backported ""update oracle driver to jdk17+""",#52895,github-automation-metabase,2025-01-29 21:56:20+00:00,"['metamben', 'github-automation-metabase']",2025-01-30 09:32:23+00:00,2025-01-30 09:32:21+00:00,https://github.com/metabase/metabase/pull/52931,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2623169568, 'issue_id': 2819415830, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/68606_tests-a60414b0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52931?repo=metabase/metabase&commitHash=a60414b07c16a7ba3f7dfef5c02966d2b538e089&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/29-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52931?repo=metabase/metabase&commitHash=a60414b07c16a7ba3f7dfef5c02966d2b538e089&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/215-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52931?repo=metabase/metabase&commitHash=a60414b07c16a7ba3f7dfef5c02966d2b538e089&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52931?repo=metabase/metabase&commitHash=a60414b07c16a7ba3f7dfef5c02966d2b538e089&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>datetime-diff-time-zones-test</code> | No Table \'times\' found for Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52931?repo=metabase/metabase&commitHash=a60414b07c16a7ba3f7dfef5c02966d2b538e089&utm_source=gh-comment&runConclusion=FAILURE&runId=c376c8cd-ef86-53c6-9a13-10321b878559) |\n| <code>nulls-and-zeroes-test-6</code> | No table \'bird-count\' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52931?repo=metabase/metabase&commitHash=a60414b07c16a7ba3f7dfef5c02966d2b538e089&utm_source=gh-comment&runConclusion=FAILURE&runId=8eb47054-a073-5659-b0a6-1a83590c4d39) |\n| <code>nulls-and-zeroes-test-11</code> | The query processor failed to find a table in the Redshift database, resulting in an error. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52931?repo=metabase/metabase&commitHash=a60414b07c16a7ba3f7dfef5c02966d2b538e089&utm_source=gh-comment&runConclusion=FAILURE&runId=1e0e5360-a7dc-5078-a0a2-8d9ca3dfa7b8) |\n| <code>nulls-and-zeroes-test-3</code> | The query processor failed to find a table in the Redshift database, resulting in a division by nil error. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52931?repo=metabase/metabase&commitHash=a60414b07c16a7ba3f7dfef5c02966d2b538e089&utm_source=gh-comment&runConclusion=FAILURE&runId=e0956dce-829c-52d3-8254-635752435032) |\n\n[... and 25 more](https://app.trunk.io/metabase/flaky-tests/pr/52931?repo=metabase/metabase&commitHash=a60414b07c16a7ba3f7dfef5c02966d2b538e089&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>sync-test</code> | The \\`driver/describe-database\\` implementation did not return expected results for inclusion of test-data schema. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52931?repo=metabase/metabase&commitHash=a60414b07c16a7ba3f7dfef5c02966d2b538e089&utm_source=gh-comment&runConclusion=FAILURE&runId=aa1ffed9-b93a-5e81-b163-5b6a88950292) |\n| <code>sync-test</code> | The \\`driver/describe-database\\` implementation did not return expected results for inclusion of test-data schema. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52931?repo=metabase/metabase&commitHash=a60414b07c16a7ba3f7dfef5c02966d2b538e089&utm_source=gh-comment&runConclusion=FAILURE&runId=501bc854-1222-567a-9e7f-b2d7c07fa542) |\n| <code>append-with-really-long-names-test</code> | The schema ""metabase\\_cache\\_f3481\\_1"" was dropped by a concurrent transaction. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52931?repo=metabase/metabase&commitHash=a60414b07c16a7ba3f7dfef5c02966d2b538e089&utm_source=gh-comment&runConclusion=FAILURE&runId=dd4cfab6-3ac2-524a-9e8a-81e600870ae2) |\n| <code>update-invalidate-model-cache-test</code> | No Table \'venues\' found for Redshift database \'test-data (redshift)\' | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52931?repo=metabase/metabase&commitHash=a60414b07c16a7ba3f7dfef5c02966d2b538e089&utm_source=gh-comment&runConclusion=FAILURE&runId=3fadb58e-5656-5130-9036-c71dfbc4f0f5) |\n\n[... and 211 more](https://app.trunk.io/metabase/flaky-tests/pr/52931?repo=metabase/metabase&commitHash=a60414b07c16a7ba3f7dfef5c02966d2b538e089&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52931?repo=metabase/metabase&commitHash=a60414b07c16a7ba3f7dfef5c02966d2b538e089&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 23, 34, 12, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-29 23:34:12 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/68606_tests-a60414b0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52931?repo=metabase/metabase&commitHash=a60414b07c16a7ba3f7dfef5c02966d2b538e089&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/29-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52931?repo=metabase/metabase&commitHash=a60414b07c16a7ba3f7dfef5c02966d2b538e089&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/215-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52931?repo=metabase/metabase&commitHash=a60414b07c16a7ba3f7dfef5c02966d2b538e089&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52931?repo=metabase/metabase&commitHash=a60414b07c16a7ba3f7dfef5c02966d2b538e089&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>datetime-diff-time-zones-test</code> | No Table 'times' found for Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52931?repo=metabase/metabase&commitHash=a60414b07c16a7ba3f7dfef5c02966d2b538e089&utm_source=gh-comment&runConclusion=FAILURE&runId=c376c8cd-ef86-53c6-9a13-10321b878559) |
| <code>nulls-and-zeroes-test-6</code> | No table 'bird-count' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52931?repo=metabase/metabase&commitHash=a60414b07c16a7ba3f7dfef5c02966d2b538e089&utm_source=gh-comment&runConclusion=FAILURE&runId=8eb47054-a073-5659-b0a6-1a83590c4d39) |
| <code>nulls-and-zeroes-test-11</code> | The query processor failed to find a table in the Redshift database, resulting in an error. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52931?repo=metabase/metabase&commitHash=a60414b07c16a7ba3f7dfef5c02966d2b538e089&utm_source=gh-comment&runConclusion=FAILURE&runId=1e0e5360-a7dc-5078-a0a2-8d9ca3dfa7b8) |
| <code>nulls-and-zeroes-test-3</code> | The query processor failed to find a table in the Redshift database, resulting in a division by nil error. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52931?repo=metabase/metabase&commitHash=a60414b07c16a7ba3f7dfef5c02966d2b538e089&utm_source=gh-comment&runConclusion=FAILURE&runId=e0956dce-829c-52d3-8254-635752435032) |

[... and 25 more](https://app.trunk.io/metabase/flaky-tests/pr/52931?repo=metabase/metabase&commitHash=a60414b07c16a7ba3f7dfef5c02966d2b538e089&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>sync-test</code> | The \`driver/describe-database\` implementation did not return expected results for inclusion of test-data schema. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52931?repo=metabase/metabase&commitHash=a60414b07c16a7ba3f7dfef5c02966d2b538e089&utm_source=gh-comment&runConclusion=FAILURE&runId=aa1ffed9-b93a-5e81-b163-5b6a88950292) |
| <code>sync-test</code> | The \`driver/describe-database\` implementation did not return expected results for inclusion of test-data schema. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52931?repo=metabase/metabase&commitHash=a60414b07c16a7ba3f7dfef5c02966d2b538e089&utm_source=gh-comment&runConclusion=FAILURE&runId=501bc854-1222-567a-9e7f-b2d7c07fa542) |
| <code>append-with-really-long-names-test</code> | The schema ""metabase\_cache\_f3481\_1"" was dropped by a concurrent transaction. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52931?repo=metabase/metabase&commitHash=a60414b07c16a7ba3f7dfef5c02966d2b538e089&utm_source=gh-comment&runConclusion=FAILURE&runId=dd4cfab6-3ac2-524a-9e8a-81e600870ae2) |
| <code>update-invalidate-model-cache-test</code> | No Table 'venues' found for Redshift database 'test-data (redshift)' | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52931?repo=metabase/metabase&commitHash=a60414b07c16a7ba3f7dfef5c02966d2b538e089&utm_source=gh-comment&runConclusion=FAILURE&runId=3fadb58e-5656-5130-9036-c71dfbc4f0f5) |

[... and 211 more](https://app.trunk.io/metabase/flaky-tests/pr/52931?repo=metabase/metabase&commitHash=a60414b07c16a7ba3f7dfef5c02966d2b538e089&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52931?repo=metabase/metabase&commitHash=a60414b07c16a7ba3f7dfef5c02966d2b538e089&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2819408863,pull_request,closed,,Recognize year-of-era,"Closes https://github.com/metabase/metabase/issues/38866

### Description

Year of era aggregations weren't working because our legacy malli schema didnt recognize it as a valid temporal unit. Adding it to the schema makes it work.

### How to verify

Aggregate by year-of-era and see if it works

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",wzimrin,2025-01-29 21:52:39+00:00,['wzimrin'],2025-01-31 20:25:34+00:00,2025-01-31 20:25:32+00:00,https://github.com/metabase/metabase/pull/52930,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2623170232, 'issue_id': 2819408863, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/29632_tests-d5747560-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52930?repo=metabase/metabase&commitHash=d57475609b5c99400399a4e6eef4ef438f8b375f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52930?repo=metabase/metabase&commitHash=d57475609b5c99400399a4e6eef4ef438f8b375f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/9-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52930?repo=metabase/metabase&commitHash=d57475609b5c99400399a4e6eef4ef438f8b375f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52930?repo=metabase/metabase&commitHash=d57475609b5c99400399a4e6eef4ef438f8b375f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52930?repo=metabase/metabase&commitHash=d57475609b5c99400399a4e6eef4ef438f8b375f&utm_source=gh-comment&runConclusion=FAILURE&runId=52ea8cb2-ba2f-5630-bcbb-f49d90e76728) |\n| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and \'Browse databases\' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52930?repo=metabase/metabase&commitHash=d57475609b5c99400399a4e6eef4ef438f8b375f&utm_source=gh-comment&runConclusion=FAILURE&runId=0ac91722-7c15-536a-adff-dbc98d2d660e) |\n| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52930?repo=metabase/metabase&commitHash=d57475609b5c99400399a4e6eef4ef438f8b375f&utm_source=gh-comment&runConclusion=FAILURE&runId=b431d27a-9fa3-5001-bb5d-4140eebb0169) |\n| <code>scenarios > model indexes should not reload the model for record in the same model</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52930?repo=metabase/metabase&commitHash=d57475609b5c99400399a4e6eef4ef438f8b375f&utm_source=gh-comment&runConclusion=FAILURE&runId=0c1aa14d-5c10-5ced-b2e1-a6cd219849e8) |\n\n[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52930?repo=metabase/metabase&commitHash=d57475609b5c99400399a4e6eef4ef438f8b375f&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52930?repo=metabase/metabase&commitHash=d57475609b5c99400399a4e6eef4ef438f8b375f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 23, 34, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628025921, 'issue_id': 2819408863, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `d57475609b5c99400399a4e6eef4ef438f8b375f-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13078286029?pr=52930)\n\n  File | Test Name\n  ---- | ---------\n  `model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model\n`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette\n`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link\n`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results"", 'created_at': datetime.datetime(2025, 1, 31, 18, 19, 27, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-29 23:34:44 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/29632_tests-d5747560-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52930?repo=metabase/metabase&commitHash=d57475609b5c99400399a4e6eef4ef438f8b375f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52930?repo=metabase/metabase&commitHash=d57475609b5c99400399a4e6eef4ef438f8b375f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/9-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52930?repo=metabase/metabase&commitHash=d57475609b5c99400399a4e6eef4ef438f8b375f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52930?repo=metabase/metabase&commitHash=d57475609b5c99400399a4e6eef4ef438f8b375f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52930?repo=metabase/metabase&commitHash=d57475609b5c99400399a4e6eef4ef438f8b375f&utm_source=gh-comment&runConclusion=FAILURE&runId=52ea8cb2-ba2f-5630-bcbb-f49d90e76728) |
| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and 'Browse databases' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52930?repo=metabase/metabase&commitHash=d57475609b5c99400399a4e6eef4ef438f8b375f&utm_source=gh-comment&runConclusion=FAILURE&runId=0ac91722-7c15-536a-adff-dbc98d2d660e) |
| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52930?repo=metabase/metabase&commitHash=d57475609b5c99400399a4e6eef4ef438f8b375f&utm_source=gh-comment&runConclusion=FAILURE&runId=b431d27a-9fa3-5001-bb5d-4140eebb0169) |
| <code>scenarios > model indexes should not reload the model for record in the same model</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52930?repo=metabase/metabase&commitHash=d57475609b5c99400399a4e6eef4ef438f8b375f&utm_source=gh-comment&runConclusion=FAILURE&runId=0c1aa14d-5c10-5ced-b2e1-a6cd219849e8) |

[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52930?repo=metabase/metabase&commitHash=d57475609b5c99400399a4e6eef4ef438f8b375f&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52930?repo=metabase/metabase&commitHash=d57475609b5c99400399a4e6eef4ef438f8b375f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-31 18:19:27 UTC): ## e2e tests failed on `d57475609b5c99400399a4e6eef4ef438f8b375f-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13078286029?pr=52930)

  File | Test Name
  ---- | ---------
  `model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model
`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette
`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link
`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results

"
2819407725,pull_request,closed,,"🤖 backported ""Stop drilling down past day in DateType""",#52869,github-automation-metabase,2025-01-29 21:51:52+00:00,"['ericnormand', 'github-automation-metabase']",2025-02-03 16:46:54+00:00,2025-02-03 15:32:52+00:00,https://github.com/metabase/metabase/pull/52929,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2622979074, 'issue_id': 2819407725, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `da56ad0e52d66f998ad6d36c1cc3c23ee8cd1449-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13041125502?pr=52929)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | should not redirect users to other pages when linking an entity (metabase#35037) > should not redirect users to search item\n`questions-entity-id.cy.spec.ts` | scenarios > questions > entity id support > /question/entity/${entity_id} should redirect to /question/${id}\n`questions-entity-id.cy.spec.ts` | scenarios > questions > entity id support > /question/entity/${entity_id}/notebook should redirect to /question/${id}/notebook\n`model-indexes.cy.spec.js` | scenarios > model indexes > should be able to search model index values and visit detail records\n`model-indexes.cy.spec.js` | scenarios > model indexes > should be able to see details of a record outside the first 2000\n`permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)', 'created_at': datetime.datetime(2025, 1, 29, 22, 13, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623133518, 'issue_id': 2819407725, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/47326_tests-da56ad0e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52929?repo=metabase/metabase&commitHash=da56ad0e52d66f998ad6d36c1cc3c23ee8cd1449&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/211-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52929?repo=metabase/metabase&commitHash=da56ad0e52d66f998ad6d36c1cc3c23ee8cd1449&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52929?repo=metabase/metabase&commitHash=da56ad0e52d66f998ad6d36c1cc3c23ee8cd1449&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52929?repo=metabase/metabase&commitHash=da56ad0e52d66f998ad6d36c1cc3c23ee8cd1449&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>nested-convert-timezone-test-5</code> | No table \'times\' found in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52929?repo=metabase/metabase&commitHash=da56ad0e52d66f998ad6d36c1cc3c23ee8cd1449&utm_source=gh-comment&runConclusion=FAILURE&runId=12cb4664-1c85-5401-8f28-888ee19f5f8c) |\n| <code>iso-8601-text-fields-should-be-queryable-datetime-test</code> | No table \'times\' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52929?repo=metabase/metabase&commitHash=da56ad0e52d66f998ad6d36c1cc3c23ee8cd1449&utm_source=gh-comment&runConclusion=FAILURE&runId=57191930-1df6-549a-9aef-a7159c940280) |\n| <code>comparison-test-3</code> | No table \'places\' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52929?repo=metabase/metabase&commitHash=da56ad0e52d66f998ad6d36c1cc3c23ee8cd1449&utm_source=gh-comment&runConclusion=FAILURE&runId=6d06b6da-2055-59fc-bb09-f425137bd610) |\n| <code>datetime-math-with-extract-test</code> | No table \'times\' found in Redshift database \'times-mixed (redshift)\' | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52929?repo=metabase/metabase&commitHash=da56ad0e52d66f998ad6d36c1cc3c23ee8cd1449&utm_source=gh-comment&runConclusion=FAILURE&runId=fa78bdcb-5022-5d9a-94b6-c273eacd2c07) |\n\n[... and 207 more](https://app.trunk.io/metabase/flaky-tests/pr/52929?repo=metabase/metabase&commitHash=da56ad0e52d66f998ad6d36c1cc3c23ee8cd1449&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>redshift-lbv-sync-error-test</code> | The Redshift database query failed because the relation ""2025\\_01\\_29\\_3c813576\\_8b11\\_41aa\\_a09d\\_ffb6cb57b172\\_schema.fecyjavpijvfvtnczubq"" does... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52929?repo=metabase/metabase&commitHash=da56ad0e52d66f998ad6d36c1cc3c23ee8cd1449&utm_source=gh-comment&runConclusion=FAILURE&runId=426b1131-1934-567e-bdaa-bf9950ec76ba) |\n| <code>redshift-types-test</code> | The Redshift query failed because the relation ""2025\\_01\\_29\\_7e69549a\\_7521\\_4f08\\_a72c\\_268b85aab890\\_schema.zcxwwqepxocomatzzzec"" does not exist. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52929?repo=metabase/metabase&commitHash=da56ad0e52d66f998ad6d36c1cc3c23ee8cd1449&utm_source=gh-comment&runConclusion=FAILURE&runId=d799819e-b5fe-5e58-b8df-d7ce448d7ad1) |\n| <code>parameters-test</code> | Native query parameters failed to work with filters due to a missing table. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52929?repo=metabase/metabase&commitHash=da56ad0e52d66f998ad6d36c1cc3c23ee8cd1449&utm_source=gh-comment&runConclusion=FAILURE&runId=b4c4bf97-68c2-5f8e-b64c-2ff8fd89f2f3) |\n| <code>redshift-types-test</code> | The Redshift database connection failed because the relation ""2025\\_01\\_29\\_36138c68\\_7bf8\\_4d53\\_9cb3\\_af6f80a95b9a\\_schema.zwquzglguymlflctejho""... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52929?repo=metabase/metabase&commitHash=da56ad0e52d66f998ad6d36c1cc3c23ee8cd1449&utm_source=gh-comment&runConclusion=FAILURE&runId=aaa83fb6-da84-5a5c-86c3-221a66a2d868) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52929?repo=metabase/metabase&commitHash=da56ad0e52d66f998ad6d36c1cc3c23ee8cd1449&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 23, 12, 24, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-29 22:13:51 UTC): ## e2e tests failed on `da56ad0e52d66f998ad6d36c1cc3c23ee8cd1449-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13041125502?pr=52929)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | should not redirect users to other pages when linking an entity (metabase#35037) > should not redirect users to search item
`questions-entity-id.cy.spec.ts` | scenarios > questions > entity id support > /question/entity/${entity_id} should redirect to /question/${id}
`questions-entity-id.cy.spec.ts` | scenarios > questions > entity id support > /question/entity/${entity_id}/notebook should redirect to /question/${id}/notebook
`model-indexes.cy.spec.js` | scenarios > model indexes > should be able to search model index values and visit detail records
`model-indexes.cy.spec.js` | scenarios > model indexes > should be able to see details of a record outside the first 2000
`permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)

trunk-io[bot] on (2025-01-29 23:12:24 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/47326_tests-da56ad0e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52929?repo=metabase/metabase&commitHash=da56ad0e52d66f998ad6d36c1cc3c23ee8cd1449&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/211-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52929?repo=metabase/metabase&commitHash=da56ad0e52d66f998ad6d36c1cc3c23ee8cd1449&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52929?repo=metabase/metabase&commitHash=da56ad0e52d66f998ad6d36c1cc3c23ee8cd1449&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52929?repo=metabase/metabase&commitHash=da56ad0e52d66f998ad6d36c1cc3c23ee8cd1449&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>nested-convert-timezone-test-5</code> | No table 'times' found in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52929?repo=metabase/metabase&commitHash=da56ad0e52d66f998ad6d36c1cc3c23ee8cd1449&utm_source=gh-comment&runConclusion=FAILURE&runId=12cb4664-1c85-5401-8f28-888ee19f5f8c) |
| <code>iso-8601-text-fields-should-be-queryable-datetime-test</code> | No table 'times' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52929?repo=metabase/metabase&commitHash=da56ad0e52d66f998ad6d36c1cc3c23ee8cd1449&utm_source=gh-comment&runConclusion=FAILURE&runId=57191930-1df6-549a-9aef-a7159c940280) |
| <code>comparison-test-3</code> | No table 'places' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52929?repo=metabase/metabase&commitHash=da56ad0e52d66f998ad6d36c1cc3c23ee8cd1449&utm_source=gh-comment&runConclusion=FAILURE&runId=6d06b6da-2055-59fc-bb09-f425137bd610) |
| <code>datetime-math-with-extract-test</code> | No table 'times' found in Redshift database 'times-mixed (redshift)' | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52929?repo=metabase/metabase&commitHash=da56ad0e52d66f998ad6d36c1cc3c23ee8cd1449&utm_source=gh-comment&runConclusion=FAILURE&runId=fa78bdcb-5022-5d9a-94b6-c273eacd2c07) |

[... and 207 more](https://app.trunk.io/metabase/flaky-tests/pr/52929?repo=metabase/metabase&commitHash=da56ad0e52d66f998ad6d36c1cc3c23ee8cd1449&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>redshift-lbv-sync-error-test</code> | The Redshift database query failed because the relation ""2025\_01\_29\_3c813576\_8b11\_41aa\_a09d\_ffb6cb57b172\_schema.fecyjavpijvfvtnczubq"" does... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52929?repo=metabase/metabase&commitHash=da56ad0e52d66f998ad6d36c1cc3c23ee8cd1449&utm_source=gh-comment&runConclusion=FAILURE&runId=426b1131-1934-567e-bdaa-bf9950ec76ba) |
| <code>redshift-types-test</code> | The Redshift query failed because the relation ""2025\_01\_29\_7e69549a\_7521\_4f08\_a72c\_268b85aab890\_schema.zcxwwqepxocomatzzzec"" does not exist. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52929?repo=metabase/metabase&commitHash=da56ad0e52d66f998ad6d36c1cc3c23ee8cd1449&utm_source=gh-comment&runConclusion=FAILURE&runId=d799819e-b5fe-5e58-b8df-d7ce448d7ad1) |
| <code>parameters-test</code> | Native query parameters failed to work with filters due to a missing table. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52929?repo=metabase/metabase&commitHash=da56ad0e52d66f998ad6d36c1cc3c23ee8cd1449&utm_source=gh-comment&runConclusion=FAILURE&runId=b4c4bf97-68c2-5f8e-b64c-2ff8fd89f2f3) |
| <code>redshift-types-test</code> | The Redshift database connection failed because the relation ""2025\_01\_29\_36138c68\_7bf8\_4d53\_9cb3\_af6f80a95b9a\_schema.zwquzglguymlflctejho""... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52929?repo=metabase/metabase&commitHash=da56ad0e52d66f998ad6d36c1cc3c23ee8cd1449&utm_source=gh-comment&runConclusion=FAILURE&runId=aaa83fb6-da84-5a5c-86c3-221a66a2d868) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52929?repo=metabase/metabase&commitHash=da56ad0e52d66f998ad6d36c1cc3c23ee8cd1449&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2819406898,pull_request,closed,,Don't cast dates when doing a dateadd on h2,"### Description

Date fields binned by week were being cast to datetime, which messed up drill-down options. For instance, you shouldn't be able to drill down a date by hour or minute. So if you did a brush filter on a date field binned by week, you'd get something similar to [#48608](https://github.com/metabase/metabase/issues/48608).

Here is a screenshot of the SQL when a date field is binned by week. Notice the CAST.
![screenshot_2025-01-28_at_9 19 15___pm](https://github.com/user-attachments/assets/595bf600-1ae8-47d1-9157-ce522797cf33)

The h2 driver was adding dates, and this `dateadd` function was doing the cast. I added a bit to avoid a cast if it was a date. It was already avoiding a cast if it was a datetime.


### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> People
2. Sumarize by ""Cumulative count"", Birth Date by week
3. Show SQL
4. Note that the cast is gone.

<img width=""451"" alt=""Screenshot 2025-01-29 at 3 50 54 PM"" src=""https://github.com/user-attachments/assets/0a6ac641-0c7f-49f7-9a95-9095c865ea40"" />

Related to [#48608](https://github.com/metabase/metabase/issues/48608)
",ericnormand,2025-01-29 21:51:19+00:00,['ericnormand'],2025-02-03 19:36:16+00:00,2025-01-31 19:05:20+00:00,https://github.com/metabase/metabase/pull/52928,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2623024851, 'issue_id': 2819406898, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `86e817c108c06c044f96a76e8a7bdc69c883be2c-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13041373042?pr=52928)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)', 'created_at': datetime.datetime(2025, 1, 29, 22, 31, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623055230, 'issue_id': 2819406898, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/95907_tests-86e817c1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52928?repo=metabase/metabase&commitHash=86e817c108c06c044f96a76e8a7bdc69c883be2c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/68-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52928?repo=metabase/metabase&commitHash=86e817c108c06c044f96a76e8a7bdc69c883be2c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/34-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52928?repo=metabase/metabase&commitHash=86e817c108c06c044f96a76e8a7bdc69c883be2c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52928?repo=metabase/metabase&commitHash=86e817c108c06c044f96a76e8a7bdc69c883be2c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>sync-test</code> | The expected database schema does not match the actual schema returned by \\`driver/describe-database\\`. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52928?repo=metabase/metabase&commitHash=86e817c108c06c044f96a76e8a7bdc69c883be2c&utm_source=gh-comment&runConclusion=FAILURE&runId=65b10b0c-e0b7-5704-86d4-ce2423cb879b) |\n| <code>sync-test</code> | The expected database schema does not match the actual schema returned by \\`driver/describe-database\\`. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52928?repo=metabase/metabase&commitHash=86e817c108c06c044f96a76e8a7bdc69c883be2c&utm_source=gh-comment&runConclusion=FAILURE&runId=07d7be6c-36d3-5a0a-a7df-8fca5cf2f4b7) |\n| <code>time-interval-test-2</code> | No table \'checkins\' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52928?repo=metabase/metabase&commitHash=86e817c108c06c044f96a76e8a7bdc69c883be2c&utm_source=gh-comment&runConclusion=FAILURE&runId=5f08a4d3-cc4c-592d-a4cb-f2c72ae1f993) |\n| <code>breakout-on-fk-field-test</code> | No table \'cities\' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52928?repo=metabase/metabase&commitHash=86e817c108c06c044f96a76e8a7bdc69c883be2c&utm_source=gh-comment&runConclusion=FAILURE&runId=3c796d5a-5181-5959-a92a-1aa740bbad32) |\n\n[... and 64 more](https://app.trunk.io/metabase/flaky-tests/pr/52928?repo=metabase/metabase&commitHash=86e817c108c06c044f96a76e8a7bdc69c883be2c&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>yyyymmddhhmmss-binary-dates</code> | No table \'times\' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52928?repo=metabase/metabase&commitHash=86e817c108c06c044f96a76e8a7bdc69c883be2c&utm_source=gh-comment&runConclusion=FAILURE&runId=e9353bea-6357-515e-bac6-dd00e57d2232) |\n| <code>sync-existing-table-comment-test</code> | The Redshift query failed because the relation ""2025\\_01\\_29\\_3c813576\\_8b11\\_41aa\\_a09d\\_ffb6cb57b172\\_schema.ezwubaduwiifuqkmohla"" does not exist. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52928?repo=metabase/metabase&commitHash=86e817c108c06c044f96a76e8a7bdc69c883be2c&utm_source=gh-comment&runConclusion=FAILURE&runId=645192c0-0126-5fb6-9a04-325d43789d89) |\n| <code>right-outer-join-test</code> | Right outer join failed due to missing table \'bird\' in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52928?repo=metabase/metabase&commitHash=86e817c108c06c044f96a76e8a7bdc69c883be2c&utm_source=gh-comment&runConclusion=FAILURE&runId=3bd62997-55f3-50e7-a623-4f41f07f7859) |\n| <code>filter-by-expression-relative-time-interval-test</code> | No Table \'checkins\' found for Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52928?repo=metabase/metabase&commitHash=86e817c108c06c044f96a76e8a7bdc69c883be2c&utm_source=gh-comment&runConclusion=FAILURE&runId=21120e31-585b-5577-98e9-54b6e443f41a) |\n\n[... and 30 more](https://app.trunk.io/metabase/flaky-tests/pr/52928?repo=metabase/metabase&commitHash=86e817c108c06c044f96a76e8a7bdc69c883be2c&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52928?repo=metabase/metabase&commitHash=86e817c108c06c044f96a76e8a7bdc69c883be2c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 22, 51, 1, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-29 22:31:31 UTC): ## e2e tests failed on `86e817c108c06c044f96a76e8a7bdc69c883be2c-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13041373042?pr=52928)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)

trunk-io[bot] on (2025-01-29 22:51:01 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/95907_tests-86e817c1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52928?repo=metabase/metabase&commitHash=86e817c108c06c044f96a76e8a7bdc69c883be2c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/68-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52928?repo=metabase/metabase&commitHash=86e817c108c06c044f96a76e8a7bdc69c883be2c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/34-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52928?repo=metabase/metabase&commitHash=86e817c108c06c044f96a76e8a7bdc69c883be2c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52928?repo=metabase/metabase&commitHash=86e817c108c06c044f96a76e8a7bdc69c883be2c&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>sync-test</code> | The expected database schema does not match the actual schema returned by \`driver/describe-database\`. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52928?repo=metabase/metabase&commitHash=86e817c108c06c044f96a76e8a7bdc69c883be2c&utm_source=gh-comment&runConclusion=FAILURE&runId=65b10b0c-e0b7-5704-86d4-ce2423cb879b) |
| <code>sync-test</code> | The expected database schema does not match the actual schema returned by \`driver/describe-database\`. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52928?repo=metabase/metabase&commitHash=86e817c108c06c044f96a76e8a7bdc69c883be2c&utm_source=gh-comment&runConclusion=FAILURE&runId=07d7be6c-36d3-5a0a-a7df-8fca5cf2f4b7) |
| <code>time-interval-test-2</code> | No table 'checkins' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52928?repo=metabase/metabase&commitHash=86e817c108c06c044f96a76e8a7bdc69c883be2c&utm_source=gh-comment&runConclusion=FAILURE&runId=5f08a4d3-cc4c-592d-a4cb-f2c72ae1f993) |
| <code>breakout-on-fk-field-test</code> | No table 'cities' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52928?repo=metabase/metabase&commitHash=86e817c108c06c044f96a76e8a7bdc69c883be2c&utm_source=gh-comment&runConclusion=FAILURE&runId=3c796d5a-5181-5959-a92a-1aa740bbad32) |

[... and 64 more](https://app.trunk.io/metabase/flaky-tests/pr/52928?repo=metabase/metabase&commitHash=86e817c108c06c044f96a76e8a7bdc69c883be2c&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>yyyymmddhhmmss-binary-dates</code> | No table 'times' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52928?repo=metabase/metabase&commitHash=86e817c108c06c044f96a76e8a7bdc69c883be2c&utm_source=gh-comment&runConclusion=FAILURE&runId=e9353bea-6357-515e-bac6-dd00e57d2232) |
| <code>sync-existing-table-comment-test</code> | The Redshift query failed because the relation ""2025\_01\_29\_3c813576\_8b11\_41aa\_a09d\_ffb6cb57b172\_schema.ezwubaduwiifuqkmohla"" does not exist. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52928?repo=metabase/metabase&commitHash=86e817c108c06c044f96a76e8a7bdc69c883be2c&utm_source=gh-comment&runConclusion=FAILURE&runId=645192c0-0126-5fb6-9a04-325d43789d89) |
| <code>right-outer-join-test</code> | Right outer join failed due to missing table 'bird' in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52928?repo=metabase/metabase&commitHash=86e817c108c06c044f96a76e8a7bdc69c883be2c&utm_source=gh-comment&runConclusion=FAILURE&runId=3bd62997-55f3-50e7-a623-4f41f07f7859) |
| <code>filter-by-expression-relative-time-interval-test</code> | No Table 'checkins' found for Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52928?repo=metabase/metabase&commitHash=86e817c108c06c044f96a76e8a7bdc69c883be2c&utm_source=gh-comment&runConclusion=FAILURE&runId=21120e31-585b-5577-98e9-54b6e443f41a) |

[... and 30 more](https://app.trunk.io/metabase/flaky-tests/pr/52928?repo=metabase/metabase&commitHash=86e817c108c06c044f96a76e8a7bdc69c883be2c&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52928?repo=metabase/metabase&commitHash=86e817c108c06c044f96a76e8a7bdc69c883be2c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2819340403,pull_request,closed,,"Filter personal recent dashboards for the ""Add to Dashboard"" modal","Closes Eng-8407

### Description
Adds a check to the `recentsFilter` on the Add to Dashboard modal. If the card that is being added is in a personal collection, then we do additional filtering of the list to ensure that the recent items are in the same folder as the card

### How to verify

1. Create a dashboard your personal folder
2. Create a question your personal folder
3. In the question, open the menu and select `Add to dashboard`
4. In the recents tab of the entity picker, you should only see dashboards in your personal folder. 

### Demo
![Code_HuWCnOd1Hi](https://github.com/user-attachments/assets/02cdd7ff-b948-4f46-9053-572e40f74051)

### Checklist
- [x] Tests have been added/updated to cover changes in this PR
",npfitz,2025-01-29 21:14:30+00:00,['npfitz'],2025-01-31 22:26:35+00:00,2025-01-31 18:47:09+00:00,https://github.com/metabase/metabase/pull/52927,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2623055401, 'issue_id': 2819340403, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13631_tests-00e2f3a3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52927?repo=metabase/metabase&commitHash=00e2f3a3111a573cda5321854f672e856f1eaf00&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52927?repo=metabase/metabase&commitHash=00e2f3a3111a573cda5321854f672e856f1eaf00&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/7-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52927?repo=metabase/metabase&commitHash=00e2f3a3111a573cda5321854f672e856f1eaf00&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52927?repo=metabase/metabase&commitHash=00e2f3a3111a573cda5321854f672e856f1eaf00&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 16559 should always show the most recent revision (metabase\\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52927?repo=metabase/metabase&commitHash=00e2f3a3111a573cda5321854f672e856f1eaf00&utm_source=gh-comment&runConclusion=FAILURE&runId=707e39fe-386b-51a2-afe5-039a28a09f15) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and \'Browse databases\' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52927?repo=metabase/metabase&commitHash=00e2f3a3111a573cda5321854f672e856f1eaf00&utm_source=gh-comment&runConclusion=FAILURE&runId=134d6568-7f27-5d96-b88f-7846dc061949) |\n| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52927?repo=metabase/metabase&commitHash=00e2f3a3111a573cda5321854f672e856f1eaf00&utm_source=gh-comment&runConclusion=FAILURE&runId=2cabbcdc-d146-5681-8276-505c85636280) |\n| <code>scenarios > model indexes should not reload the model for record in the same model</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52927?repo=metabase/metabase&commitHash=00e2f3a3111a573cda5321854f672e856f1eaf00&utm_source=gh-comment&runConclusion=FAILURE&runId=863f501e-5d4b-5fed-b259-08888aad2b8d) |\n| <code>scenarios > native question > data reference sidebar should show models</code> | The test timed out while trying to find an element with the text ""2 models"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52927?repo=metabase/metabase&commitHash=00e2f3a3111a573cda5321854f672e856f1eaf00&utm_source=gh-comment&runConclusion=FAILURE&runId=951709cd-2ee7-52ef-8752-65f4b6eeffcf) |\n\n[... and 3 more](https://app.trunk.io/metabase/flaky-tests/pr/52927?repo=metabase/metabase&commitHash=00e2f3a3111a573cda5321854f672e856f1eaf00&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52927?repo=metabase/metabase&commitHash=00e2f3a3111a573cda5321854f672e856f1eaf00&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 22, 51, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627503241, 'issue_id': 2819340403, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `00e2f3a3111a573cda5321854f672e856f1eaf00-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13074636862?pr=52927)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)\n`model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model\n`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette\n`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link"", 'created_at': datetime.datetime(2025, 1, 31, 14, 36, 4, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-29 22:51:08 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13631_tests-00e2f3a3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52927?repo=metabase/metabase&commitHash=00e2f3a3111a573cda5321854f672e856f1eaf00&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52927?repo=metabase/metabase&commitHash=00e2f3a3111a573cda5321854f672e856f1eaf00&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/7-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52927?repo=metabase/metabase&commitHash=00e2f3a3111a573cda5321854f672e856f1eaf00&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52927?repo=metabase/metabase&commitHash=00e2f3a3111a573cda5321854f672e856f1eaf00&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 16559 should always show the most recent revision (metabase\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52927?repo=metabase/metabase&commitHash=00e2f3a3111a573cda5321854f672e856f1eaf00&utm_source=gh-comment&runConclusion=FAILURE&runId=707e39fe-386b-51a2-afe5-039a28a09f15) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and 'Browse databases' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52927?repo=metabase/metabase&commitHash=00e2f3a3111a573cda5321854f672e856f1eaf00&utm_source=gh-comment&runConclusion=FAILURE&runId=134d6568-7f27-5d96-b88f-7846dc061949) |
| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52927?repo=metabase/metabase&commitHash=00e2f3a3111a573cda5321854f672e856f1eaf00&utm_source=gh-comment&runConclusion=FAILURE&runId=2cabbcdc-d146-5681-8276-505c85636280) |
| <code>scenarios > model indexes should not reload the model for record in the same model</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52927?repo=metabase/metabase&commitHash=00e2f3a3111a573cda5321854f672e856f1eaf00&utm_source=gh-comment&runConclusion=FAILURE&runId=863f501e-5d4b-5fed-b259-08888aad2b8d) |
| <code>scenarios > native question > data reference sidebar should show models</code> | The test timed out while trying to find an element with the text ""2 models"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52927?repo=metabase/metabase&commitHash=00e2f3a3111a573cda5321854f672e856f1eaf00&utm_source=gh-comment&runConclusion=FAILURE&runId=951709cd-2ee7-52ef-8752-65f4b6eeffcf) |

[... and 3 more](https://app.trunk.io/metabase/flaky-tests/pr/52927?repo=metabase/metabase&commitHash=00e2f3a3111a573cda5321854f672e856f1eaf00&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52927?repo=metabase/metabase&commitHash=00e2f3a3111a573cda5321854f672e856f1eaf00&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-31 14:36:04 UTC): ## e2e tests failed on `00e2f3a3111a573cda5321854f672e856f1eaf00-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13074636862?pr=52927)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)
`model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model
`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette
`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link

"
2819299433,pull_request,closed,,Fix breakout by drill through context menu for multi-stage queries,"Closes #52236
Related to: #51950

Slack thread: https://metaboat.slack.com/archives/C0645JP1W81/p1736970278902299

### Description

Add a new function `pivot-drill-details`, similar in spirit to the existing `filter-drill-details` and `combine-column-drill-details`, and call it in the FE to get the `stageIndex` to target for the `QueryColumnPicker` in the `DrillColumnPopover`.

This allows the column picker to work for queries with e.g. a filter stage after summarize, since the columns may come from an underlying stage (#51950).

### How to verify

See repro steps in #52236

### Demo

![Screenshot 2025-01-29 at 12 54 19 PM](https://github.com/user-attachments/assets/5ae34688-caca-4447-a3ad-110b41c9f817)

![Screenshot 2025-01-29 at 12 54 28 PM](https://github.com/user-attachments/assets/295a6f51-d256-4a49-a511-cb502eaa6c0d)

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",appleby,2025-01-29 20:57:47+00:00,['appleby'],2025-02-03 22:31:26+00:00,2025-02-03 22:31:24+00:00,https://github.com/metabase/metabase/pull/52925,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2622925299, 'issue_id': 2819299433, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13912_tests-bf8441bb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52925?repo=metabase/metabase&commitHash=bf8441bb931a26b689cc9f3dff2a3527f0a9ea19&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52925?repo=metabase/metabase&commitHash=bf8441bb931a26b689cc9f3dff2a3527f0a9ea19&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52925?repo=metabase/metabase&commitHash=bf8441bb931a26b689cc9f3dff2a3527f0a9ea19&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52925?repo=metabase/metabase&commitHash=bf8441bb931a26b689cc9f3dff2a3527f0a9ea19&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52925?repo=metabase/metabase&commitHash=bf8441bb931a26b689cc9f3dff2a3527f0a9ea19&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 21, 44, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631918792, 'issue_id': 2819299433, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `bf8441bb931a26b689cc9f3dff2a3527f0a9ea19-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13121371398?pr=52925)\n\n  File | Test Name\n  ---- | ---------\n  `model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model\n`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette\n`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link\n`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results"", 'created_at': datetime.datetime(2025, 2, 3, 19, 45, 19, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-29 21:44:57 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13912_tests-bf8441bb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52925?repo=metabase/metabase&commitHash=bf8441bb931a26b689cc9f3dff2a3527f0a9ea19&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52925?repo=metabase/metabase&commitHash=bf8441bb931a26b689cc9f3dff2a3527f0a9ea19&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52925?repo=metabase/metabase&commitHash=bf8441bb931a26b689cc9f3dff2a3527f0a9ea19&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52925?repo=metabase/metabase&commitHash=bf8441bb931a26b689cc9f3dff2a3527f0a9ea19&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52925?repo=metabase/metabase&commitHash=bf8441bb931a26b689cc9f3dff2a3527f0a9ea19&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-02-03 19:45:19 UTC): ## e2e tests failed on `bf8441bb931a26b689cc9f3dff2a3527f0a9ea19-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13121371398?pr=52925)

  File | Test Name
  ---- | ---------
  `model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model
`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette
`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link
`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results

"
2819285346,pull_request,closed,,Remove Exasol and Ocient,These drivers are not part of the partnership program anymore.,luizarakaki,2025-01-29 20:51:22+00:00,['luizarakaki'],2025-01-31 16:56:32+00:00,2025-01-31 14:29:52+00:00,https://github.com/metabase/metabase/pull/52924,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2622945520, 'issue_id': 2819285346, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/98890_tests-12e323da-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52924?repo=metabase/metabase&commitHash=12e323da738c63686c46e2add48ae58275f5a974&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/286-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52924?repo=metabase/metabase&commitHash=12e323da738c63686c46e2add48ae58275f5a974&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52924?repo=metabase/metabase&commitHash=12e323da738c63686c46e2add48ae58275f5a974&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52924?repo=metabase/metabase&commitHash=12e323da738c63686c46e2add48ae58275f5a974&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>check-can-connect-before-sync-test</code> | The expected response from the POST /api/database/:id/sync\\_schema endpoint timed out after 3 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52924?repo=metabase/metabase&commitHash=12e323da738c63686c46e2add48ae58275f5a974&utm_source=gh-comment&runConclusion=FAILURE&runId=fd73f285-2053-5bd9-9057-81de29dd06dc) |\n| <code>breakout-on-fk-field-test</code> | Connection to the database was refused, preventing the query from executing. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52924?repo=metabase/metabase&commitHash=12e323da738c63686c46e2add48ae58275f5a974&utm_source=gh-comment&runConclusion=FAILURE&runId=815cb960-7108-52ad-ade9-f9a9ee56a3d6) |\n| <code>joining-nested-queries-with-same-aggregation-test</code> | Connection to Hive database was refused, possibly due to issues with the connection pool or network connectivity. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52924?repo=metabase/metabase&commitHash=12e323da738c63686c46e2add48ae58275f5a974&utm_source=gh-comment&runConclusion=FAILURE&runId=76bd7067-5a0c-59f6-bc35-9308f1c56c64) |\n| <code>nested-query-with-expressions-test</code> | Connection to Hive database was refused, preventing execution of SQL query. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52924?repo=metabase/metabase&commitHash=12e323da738c63686c46e2add48ae58275f5a974&utm_source=gh-comment&runConclusion=FAILURE&runId=b3c4b0c1-ca0e-5821-ac05-74614b8054aa) |\n\n[... and 282 more](https://app.trunk.io/metabase/flaky-tests/pr/52924?repo=metabase/metabase&commitHash=12e323da738c63686c46e2add48ae58275f5a974&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52924?repo=metabase/metabase&commitHash=12e323da738c63686c46e2add48ae58275f5a974&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 21, 55, 28, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-29 21:55:28 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/98890_tests-12e323da-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52924?repo=metabase/metabase&commitHash=12e323da738c63686c46e2add48ae58275f5a974&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/286-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52924?repo=metabase/metabase&commitHash=12e323da738c63686c46e2add48ae58275f5a974&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52924?repo=metabase/metabase&commitHash=12e323da738c63686c46e2add48ae58275f5a974&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52924?repo=metabase/metabase&commitHash=12e323da738c63686c46e2add48ae58275f5a974&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>check-can-connect-before-sync-test</code> | The expected response from the POST /api/database/:id/sync\_schema endpoint timed out after 3 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52924?repo=metabase/metabase&commitHash=12e323da738c63686c46e2add48ae58275f5a974&utm_source=gh-comment&runConclusion=FAILURE&runId=fd73f285-2053-5bd9-9057-81de29dd06dc) |
| <code>breakout-on-fk-field-test</code> | Connection to the database was refused, preventing the query from executing. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52924?repo=metabase/metabase&commitHash=12e323da738c63686c46e2add48ae58275f5a974&utm_source=gh-comment&runConclusion=FAILURE&runId=815cb960-7108-52ad-ade9-f9a9ee56a3d6) |
| <code>joining-nested-queries-with-same-aggregation-test</code> | Connection to Hive database was refused, possibly due to issues with the connection pool or network connectivity. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52924?repo=metabase/metabase&commitHash=12e323da738c63686c46e2add48ae58275f5a974&utm_source=gh-comment&runConclusion=FAILURE&runId=76bd7067-5a0c-59f6-bc35-9308f1c56c64) |
| <code>nested-query-with-expressions-test</code> | Connection to Hive database was refused, preventing execution of SQL query. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52924?repo=metabase/metabase&commitHash=12e323da738c63686c46e2add48ae58275f5a974&utm_source=gh-comment&runConclusion=FAILURE&runId=b3c4b0c1-ca0e-5821-ac05-74614b8054aa) |

[... and 282 more](https://app.trunk.io/metabase/flaky-tests/pr/52924?repo=metabase/metabase&commitHash=12e323da738c63686c46e2add48ae58275f5a974&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52924?repo=metabase/metabase&commitHash=12e323da738c63686c46e2add48ae58275f5a974&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2819173709,pull_request,closed,,"🤖 backported ""Set max length for question name""",#52793,github-automation-metabase,2025-01-29 20:14:26+00:00,"['ranquild', 'github-automation-metabase']",2025-01-29 23:05:58+00:00,2025-01-29 21:32:42+00:00,https://github.com/metabase/metabase/pull/52922,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2622782003, 'issue_id': 2819173709, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `264868577fa7770a4c19658e7c5bcf27064935cd-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13039622647?pr=52922)\n\n  File | Test Name\n  ---- | ---------\n  `official-collections.cy.spec.js` | official collections > premium token with paid features > displays official badge throughout the application\n`official-collections.cy.spec.js` | official collections > token expired or removed > should not display official collection icon anymore', 'created_at': datetime.datetime(2025, 1, 29, 20, 32, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622887855, 'issue_id': 2819173709, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13804_tests-26486857-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52922?repo=metabase/metabase&commitHash=264868577fa7770a4c19658e7c5bcf27064935cd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52922?repo=metabase/metabase&commitHash=264868577fa7770a4c19658e7c5bcf27064935cd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52922?repo=metabase/metabase&commitHash=264868577fa7770a4c19658e7c5bcf27064935cd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52922?repo=metabase/metabase&commitHash=264868577fa7770a4c19658e7c5bcf27064935cd&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>official collections token expired or removed should not display official collection icon anymore</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52922?repo=metabase/metabase&commitHash=264868577fa7770a4c19658e7c5bcf27064935cd&utm_source=gh-comment&runConclusion=FAILURE&runId=319e4168-646e-58d6-9bcb-37dbf62328ad) |\n| <code>official collections premium token with paid features displays official badge throughout the application</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52922?repo=metabase/metabase&commitHash=264868577fa7770a4c19658e7c5bcf27064935cd&utm_source=gh-comment&runConclusion=FAILURE&runId=c62adcd2-b7b0-5c4b-a6da-bc8354284457) |\n| <code>official collections token expired or removed should not display official collection icon anymore</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52922?repo=metabase/metabase&commitHash=264868577fa7770a4c19658e7c5bcf27064935cd&utm_source=gh-comment&runConclusion=FAILURE&runId=2f327e92-5ec8-58a2-b4c8-c9a5a5f1cdca) |\n| <code>official collections premium token with paid features displays official badge throughout the application</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52922?repo=metabase/metabase&commitHash=264868577fa7770a4c19658e7c5bcf27064935cd&utm_source=gh-comment&runConclusion=FAILURE&runId=ce5be30c-9109-5979-b3aa-d04680a57db4) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 29378 should not crash the model detail page after searching for an action (metabase\\#29378)</code> | Unable to find an accessible element with the role ""option"" and name ""Update orders quantity"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52922?repo=metabase/metabase&commitHash=264868577fa7770a4c19658e7c5bcf27064935cd&utm_source=gh-comment&runConclusion=FAILURE&runId=56a56703-3785-5a2d-8c31-79260cf99f0f) |\n| <code>scenarios > native question > data reference sidebar should show models</code> | Unable to find an element with the text ""2 models"" within 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52922?repo=metabase/metabase&commitHash=264868577fa7770a4c19658e7c5bcf27064935cd&utm_source=gh-comment&runConclusion=FAILURE&runId=6d40c59d-758b-5ae3-bc08-091b4e117676) |\n| <code>issue 36669 should be able to change question data source to raw data after selecting saved question (metabase\\#36669)</code> | Unable to find an element with the text ""Orders 36669"" within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52922?repo=metabase/metabase&commitHash=264868577fa7770a4c19658e7c5bcf27064935cd&utm_source=gh-comment&runConclusion=FAILURE&runId=c0b82a05-e7aa-56ee-8513-505bdc7bedc0) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52922?repo=metabase/metabase&commitHash=264868577fa7770a4c19658e7c5bcf27064935cd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 21, 26, 12, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-29 20:32:30 UTC): ## e2e tests failed on `264868577fa7770a4c19658e7c5bcf27064935cd-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13039622647?pr=52922)

  File | Test Name
  ---- | ---------
  `official-collections.cy.spec.js` | official collections > premium token with paid features > displays official badge throughout the application
`official-collections.cy.spec.js` | official collections > token expired or removed > should not display official collection icon anymore

trunk-io[bot] on (2025-01-29 21:26:12 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13804_tests-26486857-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52922?repo=metabase/metabase&commitHash=264868577fa7770a4c19658e7c5bcf27064935cd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52922?repo=metabase/metabase&commitHash=264868577fa7770a4c19658e7c5bcf27064935cd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52922?repo=metabase/metabase&commitHash=264868577fa7770a4c19658e7c5bcf27064935cd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52922?repo=metabase/metabase&commitHash=264868577fa7770a4c19658e7c5bcf27064935cd&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>official collections token expired or removed should not display official collection icon anymore</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52922?repo=metabase/metabase&commitHash=264868577fa7770a4c19658e7c5bcf27064935cd&utm_source=gh-comment&runConclusion=FAILURE&runId=319e4168-646e-58d6-9bcb-37dbf62328ad) |
| <code>official collections premium token with paid features displays official badge throughout the application</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52922?repo=metabase/metabase&commitHash=264868577fa7770a4c19658e7c5bcf27064935cd&utm_source=gh-comment&runConclusion=FAILURE&runId=c62adcd2-b7b0-5c4b-a6da-bc8354284457) |
| <code>official collections token expired or removed should not display official collection icon anymore</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52922?repo=metabase/metabase&commitHash=264868577fa7770a4c19658e7c5bcf27064935cd&utm_source=gh-comment&runConclusion=FAILURE&runId=2f327e92-5ec8-58a2-b4c8-c9a5a5f1cdca) |
| <code>official collections premium token with paid features displays official badge throughout the application</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52922?repo=metabase/metabase&commitHash=264868577fa7770a4c19658e7c5bcf27064935cd&utm_source=gh-comment&runConclusion=FAILURE&runId=ce5be30c-9109-5979-b3aa-d04680a57db4) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 29378 should not crash the model detail page after searching for an action (metabase\#29378)</code> | Unable to find an accessible element with the role ""option"" and name ""Update orders quantity"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52922?repo=metabase/metabase&commitHash=264868577fa7770a4c19658e7c5bcf27064935cd&utm_source=gh-comment&runConclusion=FAILURE&runId=56a56703-3785-5a2d-8c31-79260cf99f0f) |
| <code>scenarios > native question > data reference sidebar should show models</code> | Unable to find an element with the text ""2 models"" within 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52922?repo=metabase/metabase&commitHash=264868577fa7770a4c19658e7c5bcf27064935cd&utm_source=gh-comment&runConclusion=FAILURE&runId=6d40c59d-758b-5ae3-bc08-091b4e117676) |
| <code>issue 36669 should be able to change question data source to raw data after selecting saved question (metabase\#36669)</code> | Unable to find an element with the text ""Orders 36669"" within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52922?repo=metabase/metabase&commitHash=264868577fa7770a4c19658e7c5bcf27064935cd&utm_source=gh-comment&runConclusion=FAILURE&runId=c0b82a05-e7aa-56ee-8513-505bdc7bedc0) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52922?repo=metabase/metabase&commitHash=264868577fa7770a4c19658e7c5bcf27064935cd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2819168409,pull_request,closed,,"Symbol for swedish krona is ""kr"" not ""Skr""","Closes https://github.com/metabase/metabase/issues/47374

### Description

Updates the symbol for Swedish Krona to ""kr"" rather than ""Skr""

### How to verify

1. Create a question with a column formatted as currency with SEK type

### Demo

![image](https://github.com/user-attachments/assets/b5044036-1779-4fce-b46f-35653384d946)

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",nvoxland,2025-01-29 20:11:12+00:00,['nvoxland'],2025-02-03 20:36:59+00:00,2025-02-03 15:50:27+00:00,https://github.com/metabase/metabase/pull/52921,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2622842458, 'issue_id': 2819168409, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/97316_tests-02257680-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52921?repo=metabase/metabase&commitHash=0225768085a30943b3f12bc8181172cbdfec1dcb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52921?repo=metabase/metabase&commitHash=0225768085a30943b3f12bc8181172cbdfec1dcb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52921?repo=metabase/metabase&commitHash=0225768085a30943b3f12bc8181172cbdfec1dcb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52921?repo=metabase/metabase&commitHash=0225768085a30943b3f12bc8181172cbdfec1dcb&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>ignore-parameters-for-unparameterized-native-query-test</code> | Error executing query due to ConcurrentModificationException. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52921?repo=metabase/metabase&commitHash=0225768085a30943b3f12bc8181172cbdfec1dcb&utm_source=gh-comment&runConclusion=FAILURE&runId=6a470d59-e033-5db8-9ca9-5946bc090a77) |\n| <code>extract-nested-efficient-test</code> | Expected and actual results do not match for dashboard extraction. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52921?repo=metabase/metabase&commitHash=0225768085a30943b3f12bc8181172cbdfec1dcb&utm_source=gh-comment&runConclusion=FAILURE&runId=224a64c4-174f-54b2-8777-fe1001f3f8fd) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52921?repo=metabase/metabase&commitHash=0225768085a30943b3f12bc8181172cbdfec1dcb&utm_source=gh-comment&runConclusion=FAILURE&runId=9794cdce-6098-5959-b8b2-059546e38812) |\n| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and \'Browse databases\' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52921?repo=metabase/metabase&commitHash=0225768085a30943b3f12bc8181172cbdfec1dcb&utm_source=gh-comment&runConclusion=FAILURE&runId=9bfc5e16-05a1-536b-944d-543f8ff45424) |\n| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52921?repo=metabase/metabase&commitHash=0225768085a30943b3f12bc8181172cbdfec1dcb&utm_source=gh-comment&runConclusion=FAILURE&runId=fb02edb3-9012-5c9f-9d2e-ba8fe54d33ce) |\n| <code>scenarios > model indexes should not reload the model for record in the same model</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52921?repo=metabase/metabase&commitHash=0225768085a30943b3f12bc8181172cbdfec1dcb&utm_source=gh-comment&runConclusion=FAILURE&runId=75811cb4-cbae-5500-93b8-e039b05c7272) |\n\n[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52921?repo=metabase/metabase&commitHash=0225768085a30943b3f12bc8181172cbdfec1dcb&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52921?repo=metabase/metabase&commitHash=0225768085a30943b3f12bc8181172cbdfec1dcb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 21, 1, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631294388, 'issue_id': 2819168409, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `0225768085a30943b3f12bc8181172cbdfec1dcb-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13116441084?pr=52921)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)\n`model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model\n`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette\n`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link\n`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results"", 'created_at': datetime.datetime(2025, 2, 3, 15, 15, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631392916, 'issue_id': 2819168409, 'author': 'nvoxland', 'body': '@metabase-bot backport release-x.52.x', 'created_at': datetime.datetime(2025, 2, 3, 15, 52, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631400937, 'issue_id': 2819168409, 'author': 'github-actions[bot]', 'body': '@nvoxland something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/13117415958)', 'created_at': datetime.datetime(2025, 2, 3, 15, 55, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631411731, 'issue_id': 2819168409, 'author': 'nvoxland', 'body': '@metabase-bot backport release-x.52.x', 'created_at': datetime.datetime(2025, 2, 3, 15, 59, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631415700, 'issue_id': 2819168409, 'author': 'github-actions[bot]', 'body': '@nvoxland something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/13117548775)', 'created_at': datetime.datetime(2025, 2, 3, 16, 0, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2632021134, 'issue_id': 2819168409, 'author': 'nvoxland', 'body': '@metabase-bot backport release-x.52.x', 'created_at': datetime.datetime(2025, 2, 3, 20, 36, 58, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-29 21:01:51 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/97316_tests-02257680-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52921?repo=metabase/metabase&commitHash=0225768085a30943b3f12bc8181172cbdfec1dcb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52921?repo=metabase/metabase&commitHash=0225768085a30943b3f12bc8181172cbdfec1dcb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52921?repo=metabase/metabase&commitHash=0225768085a30943b3f12bc8181172cbdfec1dcb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52921?repo=metabase/metabase&commitHash=0225768085a30943b3f12bc8181172cbdfec1dcb&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>ignore-parameters-for-unparameterized-native-query-test</code> | Error executing query due to ConcurrentModificationException. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52921?repo=metabase/metabase&commitHash=0225768085a30943b3f12bc8181172cbdfec1dcb&utm_source=gh-comment&runConclusion=FAILURE&runId=6a470d59-e033-5db8-9ca9-5946bc090a77) |
| <code>extract-nested-efficient-test</code> | Expected and actual results do not match for dashboard extraction. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52921?repo=metabase/metabase&commitHash=0225768085a30943b3f12bc8181172cbdfec1dcb&utm_source=gh-comment&runConclusion=FAILURE&runId=224a64c4-174f-54b2-8777-fe1001f3f8fd) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52921?repo=metabase/metabase&commitHash=0225768085a30943b3f12bc8181172cbdfec1dcb&utm_source=gh-comment&runConclusion=FAILURE&runId=9794cdce-6098-5959-b8b2-059546e38812) |
| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and 'Browse databases' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52921?repo=metabase/metabase&commitHash=0225768085a30943b3f12bc8181172cbdfec1dcb&utm_source=gh-comment&runConclusion=FAILURE&runId=9bfc5e16-05a1-536b-944d-543f8ff45424) |
| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52921?repo=metabase/metabase&commitHash=0225768085a30943b3f12bc8181172cbdfec1dcb&utm_source=gh-comment&runConclusion=FAILURE&runId=fb02edb3-9012-5c9f-9d2e-ba8fe54d33ce) |
| <code>scenarios > model indexes should not reload the model for record in the same model</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52921?repo=metabase/metabase&commitHash=0225768085a30943b3f12bc8181172cbdfec1dcb&utm_source=gh-comment&runConclusion=FAILURE&runId=75811cb4-cbae-5500-93b8-e039b05c7272) |

[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52921?repo=metabase/metabase&commitHash=0225768085a30943b3f12bc8181172cbdfec1dcb&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52921?repo=metabase/metabase&commitHash=0225768085a30943b3f12bc8181172cbdfec1dcb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-02-03 15:15:12 UTC): ## e2e tests failed on `0225768085a30943b3f12bc8181172cbdfec1dcb-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13116441084?pr=52921)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)
`model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model
`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette
`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link
`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results

nvoxland (Issue Creator) on (2025-02-03 15:52:10 UTC): @metabase-bot backport release-x.52.x

github-actions[bot] on (2025-02-03 15:55:12 UTC): @nvoxland something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/13117415958)

nvoxland (Issue Creator) on (2025-02-03 15:59:18 UTC): @metabase-bot backport release-x.52.x

github-actions[bot] on (2025-02-03 16:00:49 UTC): @nvoxland something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/13117548775)

nvoxland (Issue Creator) on (2025-02-03 20:36:58 UTC): @metabase-bot backport release-x.52.x

"
2819061723,pull_request,closed,,docs - api info,Upstream version of https://github.com/metabase/metabase/pull/52899.,jeff-bruemmer,2025-01-29 19:22:27+00:00,['jeff-bruemmer'],2025-01-31 18:08:08+00:00,2025-01-31 17:29:41+00:00,https://github.com/metabase/metabase/pull/52920,"[('Type:Documentation', ''), ('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2622723402, 'issue_id': 2819061723, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/70056_tests-86e0a602-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52920?repo=metabase/metabase&commitHash=86e0a602db9b8ab5610383c3a0e298a706347e19&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52920?repo=metabase/metabase&commitHash=86e0a602db9b8ab5610383c3a0e298a706347e19&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/9-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52920?repo=metabase/metabase&commitHash=86e0a602db9b8ab5610383c3a0e298a706347e19&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52920?repo=metabase/metabase&commitHash=86e0a602db9b8ab5610383c3a0e298a706347e19&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>yyyymmddhhmmss-dates</code> | No table \'times\' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52920?repo=metabase/metabase&commitHash=86e0a602db9b8ab5610383c3a0e298a706347e19&utm_source=gh-comment&runConclusion=FAILURE&runId=95074a9f-c715-59ab-a674-6100b29d7dde) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>supports-schemas-matches-describe-database-test</code> | The Redshift database does not have a table with the specified schema. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52920?repo=metabase/metabase&commitHash=86e0a602db9b8ab5610383c3a0e298a706347e19&utm_source=gh-comment&runConclusion=FAILURE&runId=3a5b4179-d4e4-58a4-b4ac-4a61888c2251) |\n| <code>describe-database-sanity-check-test</code> | The table ""2025\\_01\\_31\\_b4e53b39\\_3356\\_4998\\_974e\\_0e4c66dff4eb\\_schema.rnysjhfogdhzyfmzwhcv"" does not exist in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52920?repo=metabase/metabase&commitHash=86e0a602db9b8ab5610383c3a0e298a706347e19&utm_source=gh-comment&runConclusion=FAILURE&runId=e4b230a3-543c-58c5-999f-ff23ea01914b) |\n| <code>test-bad-connection-detail-acquisition</code> | No table \'venues\' found in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52920?repo=metabase/metabase&commitHash=86e0a602db9b8ab5610383c3a0e298a706347e19&utm_source=gh-comment&runConclusion=FAILURE&runId=74b2cf1c-2501-57d1-9cf1-1df5927b646f) |\n| <code>unix-timestamp-test</code> | No Table \'timestamps\' found for Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52920?repo=metabase/metabase&commitHash=86e0a602db9b8ab5610383c3a0e298a706347e19&utm_source=gh-comment&runConclusion=FAILURE&runId=80b686c2-e126-5ce8-b6b7-860642d48f3f) |\n\n[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52920?repo=metabase/metabase&commitHash=86e0a602db9b8ab5610383c3a0e298a706347e19&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52920?repo=metabase/metabase&commitHash=86e0a602db9b8ab5610383c3a0e298a706347e19&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 20, 3, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627735323, 'issue_id': 2819061723, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `86e0a602db9b8ab5610383c3a0e298a706347e19-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13076388134?pr=52920)\n\n  File | Test Name\n  ---- | ---------\n  `model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model\n`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette\n`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link"", 'created_at': datetime.datetime(2025, 1, 31, 16, 22, 19, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-29 20:03:32 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/70056_tests-86e0a602-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52920?repo=metabase/metabase&commitHash=86e0a602db9b8ab5610383c3a0e298a706347e19&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52920?repo=metabase/metabase&commitHash=86e0a602db9b8ab5610383c3a0e298a706347e19&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/9-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52920?repo=metabase/metabase&commitHash=86e0a602db9b8ab5610383c3a0e298a706347e19&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52920?repo=metabase/metabase&commitHash=86e0a602db9b8ab5610383c3a0e298a706347e19&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>yyyymmddhhmmss-dates</code> | No table 'times' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52920?repo=metabase/metabase&commitHash=86e0a602db9b8ab5610383c3a0e298a706347e19&utm_source=gh-comment&runConclusion=FAILURE&runId=95074a9f-c715-59ab-a674-6100b29d7dde) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>supports-schemas-matches-describe-database-test</code> | The Redshift database does not have a table with the specified schema. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52920?repo=metabase/metabase&commitHash=86e0a602db9b8ab5610383c3a0e298a706347e19&utm_source=gh-comment&runConclusion=FAILURE&runId=3a5b4179-d4e4-58a4-b4ac-4a61888c2251) |
| <code>describe-database-sanity-check-test</code> | The table ""2025\_01\_31\_b4e53b39\_3356\_4998\_974e\_0e4c66dff4eb\_schema.rnysjhfogdhzyfmzwhcv"" does not exist in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52920?repo=metabase/metabase&commitHash=86e0a602db9b8ab5610383c3a0e298a706347e19&utm_source=gh-comment&runConclusion=FAILURE&runId=e4b230a3-543c-58c5-999f-ff23ea01914b) |
| <code>test-bad-connection-detail-acquisition</code> | No table 'venues' found in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52920?repo=metabase/metabase&commitHash=86e0a602db9b8ab5610383c3a0e298a706347e19&utm_source=gh-comment&runConclusion=FAILURE&runId=74b2cf1c-2501-57d1-9cf1-1df5927b646f) |
| <code>unix-timestamp-test</code> | No Table 'timestamps' found for Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52920?repo=metabase/metabase&commitHash=86e0a602db9b8ab5610383c3a0e298a706347e19&utm_source=gh-comment&runConclusion=FAILURE&runId=80b686c2-e126-5ce8-b6b7-860642d48f3f) |

[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52920?repo=metabase/metabase&commitHash=86e0a602db9b8ab5610383c3a0e298a706347e19&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52920?repo=metabase/metabase&commitHash=86e0a602db9b8ab5610383c3a0e298a706347e19&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-31 16:22:19 UTC): ## e2e tests failed on `86e0a602db9b8ab5610383c3a0e298a706347e19-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13076388134?pr=52920)

  File | Test Name
  ---- | ---------
  `model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model
`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette
`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link

"
2819018042,pull_request,closed,,"🤖 backported ""Ensure relevant models are loaded when running preemptive caching task""",#52855,github-automation-metabase,2025-01-29 19:05:00+00:00,"['noahmoss', 'github-automation-metabase']",2025-01-29 20:51:51+00:00,2025-01-29 19:49:21+00:00,https://github.com/metabase/metabase/pull/52919,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2622622408, 'issue_id': 2819018042, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `9f58546477a5f5a17f059049f82477eba7ca7801-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13038547295?pr=52919)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)\n`questions-entity-id.cy.spec.ts` | scenarios > questions > entity id support > /question/entity/${entity_id} should redirect to /question/${id}\n`questions-entity-id.cy.spec.ts` | scenarios > questions > entity id support > /question/entity/${entity_id}/notebook should redirect to /question/${id}/notebook\n`actions-reproductions.cy.spec.js` | issue 51020 > when primary key is not called 'id' > should pass primary key attribute to execute action endpoint when it's populated with click behavior or URL (metabase#51020)\n`notebook-data-source.cy.spec.ts` | scenarios > notebook > data source > empty app db > should not show saved questions if only models exist (metabase#25142)\n`notebook-data-source.cy.spec.ts` | scenarios > notebook > data source > empty app db > should not show models if only saved questions exist"", 'created_at': datetime.datetime(2025, 1, 29, 19, 17, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622722035, 'issue_id': 2819018042, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/97174_tests-9f585464-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52919?repo=metabase/metabase&commitHash=9f58546477a5f5a17f059049f82477eba7ca7801&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52919?repo=metabase/metabase&commitHash=9f58546477a5f5a17f059049f82477eba7ca7801&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/6-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52919?repo=metabase/metabase&commitHash=9f58546477a5f5a17f059049f82477eba7ca7801&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52919?repo=metabase/metabase&commitHash=9f58546477a5f5a17f059049f82477eba7ca7801&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 51020 when primary key is not called \'id\' ""before each"" hook for ""should pass primary key attribute to execute action endpoint when it\'s popu...</code> | Unable to find an element with the text ""Foo"" during a ""before each"" hook, which timed out after 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52919?repo=metabase/metabase&commitHash=9f58546477a5f5a17f059049f82477eba7ca7801&utm_source=gh-comment&runConclusion=FAILURE&runId=5c88563e-6c58-5fc6-899f-3f5d8a17fba0) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > notebook > data source empty app db should not show models if only saved questions exist</code> | Unable to find an accessible element with the role ""tab"" within 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52919?repo=metabase/metabase&commitHash=9f58546477a5f5a17f059049f82477eba7ca7801&utm_source=gh-comment&runConclusion=FAILURE&runId=742a1cca-34c3-541f-a1dd-9eee4e18b223) |\n| <code>scenarios > notebook > data source empty app db should not show saved questions if only models exist (metabase\\#25142)</code> | Unable to find an accessible element with the role ""tab"" within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52919?repo=metabase/metabase&commitHash=9f58546477a5f5a17f059049f82477eba7ca7801&utm_source=gh-comment&runConclusion=FAILURE&runId=1b5dc1af-f346-5d53-beac-2006e20ec94c) |\n| <code>scenarios > questions > entity id support /question/entity/${entity\\_id} should redirect to /question/${id}</code> | The expected URL did not include \'/question/82\' after 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52919?repo=metabase/metabase&commitHash=9f58546477a5f5a17f059049f82477eba7ca7801&utm_source=gh-comment&runConclusion=FAILURE&runId=29c177a7-a9f3-576a-9c74-d8f455e7954a) |\n| <code>scenarios > questions > entity id support /question/entity/${entity\\_id}/notebook should redirect to /question/${id}/notebook</code> | The expected URL did not include the expected path within the given timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52919?repo=metabase/metabase&commitHash=9f58546477a5f5a17f059049f82477eba7ca7801&utm_source=gh-comment&runConclusion=FAILURE&runId=cca4b1c0-2216-5778-ba4b-1adea0ce5d16) |\n\n[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/52919?repo=metabase/metabase&commitHash=9f58546477a5f5a17f059049f82477eba7ca7801&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52919?repo=metabase/metabase&commitHash=9f58546477a5f5a17f059049f82477eba7ca7801&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 20, 2, 50, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-29 19:17:32 UTC): ## e2e tests failed on `9f58546477a5f5a17f059049f82477eba7ca7801-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13038547295?pr=52919)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)
`questions-entity-id.cy.spec.ts` | scenarios > questions > entity id support > /question/entity/${entity_id} should redirect to /question/${id}
`questions-entity-id.cy.spec.ts` | scenarios > questions > entity id support > /question/entity/${entity_id}/notebook should redirect to /question/${id}/notebook
`actions-reproductions.cy.spec.js` | issue 51020 > when primary key is not called 'id' > should pass primary key attribute to execute action endpoint when it's populated with click behavior or URL (metabase#51020)
`notebook-data-source.cy.spec.ts` | scenarios > notebook > data source > empty app db > should not show saved questions if only models exist (metabase#25142)
`notebook-data-source.cy.spec.ts` | scenarios > notebook > data source > empty app db > should not show models if only saved questions exist

trunk-io[bot] on (2025-01-29 20:02:50 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/97174_tests-9f585464-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52919?repo=metabase/metabase&commitHash=9f58546477a5f5a17f059049f82477eba7ca7801&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52919?repo=metabase/metabase&commitHash=9f58546477a5f5a17f059049f82477eba7ca7801&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/6-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52919?repo=metabase/metabase&commitHash=9f58546477a5f5a17f059049f82477eba7ca7801&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52919?repo=metabase/metabase&commitHash=9f58546477a5f5a17f059049f82477eba7ca7801&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 51020 when primary key is not called 'id' ""before each"" hook for ""should pass primary key attribute to execute action endpoint when it's popu...</code> | Unable to find an element with the text ""Foo"" during a ""before each"" hook, which timed out after 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52919?repo=metabase/metabase&commitHash=9f58546477a5f5a17f059049f82477eba7ca7801&utm_source=gh-comment&runConclusion=FAILURE&runId=5c88563e-6c58-5fc6-899f-3f5d8a17fba0) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > notebook > data source empty app db should not show models if only saved questions exist</code> | Unable to find an accessible element with the role ""tab"" within 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52919?repo=metabase/metabase&commitHash=9f58546477a5f5a17f059049f82477eba7ca7801&utm_source=gh-comment&runConclusion=FAILURE&runId=742a1cca-34c3-541f-a1dd-9eee4e18b223) |
| <code>scenarios > notebook > data source empty app db should not show saved questions if only models exist (metabase\#25142)</code> | Unable to find an accessible element with the role ""tab"" within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52919?repo=metabase/metabase&commitHash=9f58546477a5f5a17f059049f82477eba7ca7801&utm_source=gh-comment&runConclusion=FAILURE&runId=1b5dc1af-f346-5d53-beac-2006e20ec94c) |
| <code>scenarios > questions > entity id support /question/entity/${entity\_id} should redirect to /question/${id}</code> | The expected URL did not include '/question/82' after 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52919?repo=metabase/metabase&commitHash=9f58546477a5f5a17f059049f82477eba7ca7801&utm_source=gh-comment&runConclusion=FAILURE&runId=29c177a7-a9f3-576a-9c74-d8f455e7954a) |
| <code>scenarios > questions > entity id support /question/entity/${entity\_id}/notebook should redirect to /question/${id}/notebook</code> | The expected URL did not include the expected path within the given timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52919?repo=metabase/metabase&commitHash=9f58546477a5f5a17f059049f82477eba7ca7801&utm_source=gh-comment&runConclusion=FAILURE&runId=cca4b1c0-2216-5778-ba4b-1adea0ce5d16) |

[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/52919?repo=metabase/metabase&commitHash=9f58546477a5f5a17f059049f82477eba7ca7801&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52919?repo=metabase/metabase&commitHash=9f58546477a5f5a17f059049f82477eba7ca7801&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2818938828,pull_request,closed,,"🤖 backported ""Fix setting ""Display as Link"" in model metadata""",#52749,github-automation-metabase,2025-01-29 18:30:36+00:00,"['ranquild', 'github-automation-metabase']",2025-01-29 21:23:04+00:00,2025-01-29 20:20:11+00:00,https://github.com/metabase/metabase/pull/52917,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2622523187, 'issue_id': 2818938828, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 5a2344593512efdd96b0ee9a4dbc444d385a98a3...2a1f482dae7a60b1f89704b5c44ff1c19bc00dfe.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/settings/ChartSettingLinkUrlInput.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingLinkUrlInput.unit.spec.tsx |', 'created_at': datetime.datetime(2025, 1, 29, 18, 32, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622668318, 'issue_id': 2818938828, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13690_tests-2a1f482d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52917?repo=metabase/metabase&commitHash=2a1f482dae7a60b1f89704b5c44ff1c19bc00dfe&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52917?repo=metabase/metabase&commitHash=2a1f482dae7a60b1f89704b5c44ff1c19bc00dfe&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52917?repo=metabase/metabase&commitHash=2a1f482dae7a60b1f89704b5c44ff1c19bc00dfe&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52917?repo=metabase/metabase&commitHash=2a1f482dae7a60b1f89704b5c44ff1c19bc00dfe&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52917?repo=metabase/metabase&commitHash=2a1f482dae7a60b1f89704b5c44ff1c19bc00dfe&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 19, 36, 35, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-29 18:32:21 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 5a2344593512efdd96b0ee9a4dbc444d385a98a3...2a1f482dae7a60b1f89704b5c44ff1c19bc00dfe.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/settings/ChartSettingLinkUrlInput.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingLinkUrlInput.unit.spec.tsx |

trunk-io[bot] on (2025-01-29 19:36:35 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13690_tests-2a1f482d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52917?repo=metabase/metabase&commitHash=2a1f482dae7a60b1f89704b5c44ff1c19bc00dfe&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52917?repo=metabase/metabase&commitHash=2a1f482dae7a60b1f89704b5c44ff1c19bc00dfe&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52917?repo=metabase/metabase&commitHash=2a1f482dae7a60b1f89704b5c44ff1c19bc00dfe&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52917?repo=metabase/metabase&commitHash=2a1f482dae7a60b1f89704b5c44ff1c19bc00dfe&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52917?repo=metabase/metabase&commitHash=2a1f482dae7a60b1f89704b5c44ff1c19bc00dfe&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2818938771,pull_request,closed,,Fix home page Metabot spacing on large screens,"Closes ENG-8921

### Description

Fixes spacing at larger screen sizes

### How to verify

- Expand a window over 1920px wide, see that the spacing looks correct
- Changes to other screen sizes to see spacing preserved at smaller sizes

### Demo

Before
![CleanShot 2025-01-29 at 12 26 15@2x](https://github.com/user-attachments/assets/fe256186-eb97-48d5-bd9a-2a6c1a2e42a8)
![CleanShot 2025-01-29 at 12 26 17@2x](https://github.com/user-attachments/assets/5e634d3a-42a2-4751-ad23-0b2b2bf18ebf)
![CleanShot 2025-01-29 at 12 26 29@2x](https://github.com/user-attachments/assets/157fd62f-ff9c-4ca2-96cd-8e7b31a76db2)

After
![CleanShot 2025-01-29 at 12 25 17@2x](https://github.com/user-attachments/assets/574de7e4-d0e6-4602-b7a9-c9d526b7ff09)
![CleanShot 2025-01-29 at 12 25 30@2x](https://github.com/user-attachments/assets/1051f4b8-ee57-4b87-81c5-b460dc84528e)
![CleanShot 2025-01-29 at 12 25 37@2x](https://github.com/user-attachments/assets/9a853a29-dae3-4aaa-b812-adf902a71443)",sloansparger,2025-01-29 18:30:34+00:00,['sloansparger'],2025-02-04 20:23:11+00:00,2025-02-04 18:10:43+00:00,https://github.com/metabase/metabase/pull/52916,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2622666546, 'issue_id': 2818938771, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13768_tests-80877d08-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52916?repo=metabase/metabase&commitHash=80877d08a885a14cc0514f09a741e6401a10b4d3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52916?repo=metabase/metabase&commitHash=80877d08a885a14cc0514f09a741e6401a10b4d3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/9-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52916?repo=metabase/metabase&commitHash=80877d08a885a14cc0514f09a741e6401a10b4d3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52916?repo=metabase/metabase&commitHash=80877d08a885a14cc0514f09a741e6401a10b4d3&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52916?repo=metabase/metabase&commitHash=80877d08a885a14cc0514f09a741e6401a10b4d3&utm_source=gh-comment&runConclusion=FAILURE&runId=f94c28c8-91de-538e-bb12-59565fb566ca) |\n| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and \'Browse databases\' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52916?repo=metabase/metabase&commitHash=80877d08a885a14cc0514f09a741e6401a10b4d3&utm_source=gh-comment&runConclusion=FAILURE&runId=cba2d6ff-4d80-5664-8cfa-87ae8dda50b6) |\n| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52916?repo=metabase/metabase&commitHash=80877d08a885a14cc0514f09a741e6401a10b4d3&utm_source=gh-comment&runConclusion=FAILURE&runId=d8487a25-1d3d-5b31-81fc-bc103be2f789) |\n| <code>scenarios > model indexes should not reload the model for record in the same model</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52916?repo=metabase/metabase&commitHash=80877d08a885a14cc0514f09a741e6401a10b4d3&utm_source=gh-comment&runConclusion=FAILURE&runId=0cde5797-fad5-5cfd-b23a-241523ccbda7) |\n\n[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52916?repo=metabase/metabase&commitHash=80877d08a885a14cc0514f09a741e6401a10b4d3&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52916?repo=metabase/metabase&commitHash=80877d08a885a14cc0514f09a741e6401a10b4d3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 19, 35, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634580234, 'issue_id': 2818938771, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `80877d08a885a14cc0514f09a741e6401a10b4d3-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13140719244?pr=52916)\n\n  File | Test Name\n  ---- | ---------\n  `model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model\n`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette\n`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link\n`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results"", 'created_at': datetime.datetime(2025, 2, 4, 17, 10, 33, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-29 19:35:49 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13768_tests-80877d08-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52916?repo=metabase/metabase&commitHash=80877d08a885a14cc0514f09a741e6401a10b4d3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52916?repo=metabase/metabase&commitHash=80877d08a885a14cc0514f09a741e6401a10b4d3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/9-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52916?repo=metabase/metabase&commitHash=80877d08a885a14cc0514f09a741e6401a10b4d3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52916?repo=metabase/metabase&commitHash=80877d08a885a14cc0514f09a741e6401a10b4d3&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52916?repo=metabase/metabase&commitHash=80877d08a885a14cc0514f09a741e6401a10b4d3&utm_source=gh-comment&runConclusion=FAILURE&runId=f94c28c8-91de-538e-bb12-59565fb566ca) |
| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and 'Browse databases' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52916?repo=metabase/metabase&commitHash=80877d08a885a14cc0514f09a741e6401a10b4d3&utm_source=gh-comment&runConclusion=FAILURE&runId=cba2d6ff-4d80-5664-8cfa-87ae8dda50b6) |
| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52916?repo=metabase/metabase&commitHash=80877d08a885a14cc0514f09a741e6401a10b4d3&utm_source=gh-comment&runConclusion=FAILURE&runId=d8487a25-1d3d-5b31-81fc-bc103be2f789) |
| <code>scenarios > model indexes should not reload the model for record in the same model</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52916?repo=metabase/metabase&commitHash=80877d08a885a14cc0514f09a741e6401a10b4d3&utm_source=gh-comment&runConclusion=FAILURE&runId=0cde5797-fad5-5cfd-b23a-241523ccbda7) |

[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52916?repo=metabase/metabase&commitHash=80877d08a885a14cc0514f09a741e6401a10b4d3&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52916?repo=metabase/metabase&commitHash=80877d08a885a14cc0514f09a741e6401a10b4d3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-02-04 17:10:33 UTC): ## e2e tests failed on `80877d08a885a14cc0514f09a741e6401a10b4d3-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13140719244?pr=52916)

  File | Test Name
  ---- | ---------
  `model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model
`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette
`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link
`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results

"
2818890717,pull_request,closed,,Make deduplication of `returned-columns` available in pivoting,"Closes https://github.com/metabase/metabase/issues/52768
",lbrdnk,2025-01-29 18:04:26+00:00,['lbrdnk'],2025-01-30 14:47:39+00:00,2025-01-30 14:47:37+00:00,https://github.com/metabase/metabase/pull/52914,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2622596711, 'issue_id': 2818890717, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/98702_tests-991f5b6c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=991f5b6c6482d1a858da65fc3f4aa35524cf5beb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=991f5b6c6482d1a858da65fc3f4aa35524cf5beb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=991f5b6c6482d1a858da65fc3f4aa35524cf5beb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=991f5b6c6482d1a858da65fc3f4aa35524cf5beb&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=991f5b6c6482d1a858da65fc3f4aa35524cf5beb&utm_source=gh-comment&runConclusion=FAILURE&runId=aa66d603-3688-5e7d-a353-fddf287bb43e) |\n| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=991f5b6c6482d1a858da65fc3f4aa35524cf5beb&utm_source=gh-comment&runConclusion=FAILURE&runId=39160515-4d38-59b2-beef-96135655db50) |\n| <code>scenarios > collections > entity id support /collection/entity/${entity\\_id}/move should redirect to /collection/${id}/move</code> | The test timed out while trying to find an element with the text ""First collection"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=991f5b6c6482d1a858da65fc3f4aa35524cf5beb&utm_source=gh-comment&runConclusion=FAILURE&runId=d1efe316-3dc1-5ec7-bc7b-b70661f2adbe) |\n| <code>scenarios > collections > entity id support /collection/entity/${entity\\_id} should redirect to /collection/${id}</code> | The expected URL did not include \'/collection/14\' after 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=991f5b6c6482d1a858da65fc3f4aa35524cf5beb&utm_source=gh-comment&runConclusion=FAILURE&runId=aa0e6334-e994-5cd2-976a-2f4d15fbf8b1) |\n\n[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=991f5b6c6482d1a858da65fc3f4aa35524cf5beb&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=991f5b6c6482d1a858da65fc3f4aa35524cf5beb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 19, 5, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622596714, 'issue_id': 2818890717, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/85048_tests-c505e63b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=c505e63b29958ae640171dfce1c93ae9296dd161&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/113-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=c505e63b29958ae640171dfce1c93ae9296dd161&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=c505e63b29958ae640171dfce1c93ae9296dd161&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=c505e63b29958ae640171dfce1c93ae9296dd161&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>remove-field-tests-2</code> | Invalid column metadata, got: nil | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=c505e63b29958ae640171dfce1c93ae9296dd161&utm_source=gh-comment&runConclusion=FAILURE&runId=7626b17d-31a3-524e-beb3-3b58d8bb780a) |\n| <code>find-matching-column-by-name-test</code> | The \\`find-matching-column\\` function did not find the expected column based on its name. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=c505e63b29958ae640171dfce1c93ae9296dd161&utm_source=gh-comment&runConclusion=FAILURE&runId=a18bb045-99af-5ac9-bdd0-5cbccc1c90d3) |\n| <code>deduplicate-expression-names-in-aggregations-test</code> | The expected and actual results of deduplicated names in aggregations do not match. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=c505e63b29958ae640171dfce1c93ae9296dd161&utm_source=gh-comment&runConclusion=FAILURE&runId=c61b9d4c-2eed-50db-8387-6db6f2e8b1f0) |\n| <code>fields-should-not-hide-joined-fields</code> | Expected column names ""ID"" and ""NAME"" to be ""ID\\_2"" and ""NAME\\_2"" respectively, but they were not. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=c505e63b29958ae640171dfce1c93ae9296dd161&utm_source=gh-comment&runConclusion=FAILURE&runId=2f0ae3ce-6d12-59cc-b8b2-e3e6391a64b5) |\n\n[... and 109 more](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=c505e63b29958ae640171dfce1c93ae9296dd161&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=c505e63b29958ae640171dfce1c93ae9296dd161&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 19, 5, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623894049, 'issue_id': 2818890717, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `991f5b6c6482d1a858da65fc3f4aa35524cf5beb-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13048613617?pr=52914)\n\n  File | Test Name\n  ---- | ---------\n  `collections.cy.spec.js` | scenarios > collections > entity id support > /collection/entity/${entity_id} should redirect to /collection/${id}\n`collections.cy.spec.js` | scenarios > collections > entity id support > /collection/entity/${entity_id}/move should redirect to /collection/${id}/move\n`search.cy.spec.js` | scenarios > search > universal search > should render a preview of markdown descriptions\n`search.cy.spec.js` | scenarios > search > universal search > should not overflow container if results contain descriptions with large unborken strings', 'created_at': datetime.datetime(2025, 1, 30, 8, 59, 43, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-29 19:05:51 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/98702_tests-991f5b6c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=991f5b6c6482d1a858da65fc3f4aa35524cf5beb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=991f5b6c6482d1a858da65fc3f4aa35524cf5beb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=991f5b6c6482d1a858da65fc3f4aa35524cf5beb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=991f5b6c6482d1a858da65fc3f4aa35524cf5beb&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=991f5b6c6482d1a858da65fc3f4aa35524cf5beb&utm_source=gh-comment&runConclusion=FAILURE&runId=aa66d603-3688-5e7d-a353-fddf287bb43e) |
| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=991f5b6c6482d1a858da65fc3f4aa35524cf5beb&utm_source=gh-comment&runConclusion=FAILURE&runId=39160515-4d38-59b2-beef-96135655db50) |
| <code>scenarios > collections > entity id support /collection/entity/${entity\_id}/move should redirect to /collection/${id}/move</code> | The test timed out while trying to find an element with the text ""First collection"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=991f5b6c6482d1a858da65fc3f4aa35524cf5beb&utm_source=gh-comment&runConclusion=FAILURE&runId=d1efe316-3dc1-5ec7-bc7b-b70661f2adbe) |
| <code>scenarios > collections > entity id support /collection/entity/${entity\_id} should redirect to /collection/${id}</code> | The expected URL did not include '/collection/14' after 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=991f5b6c6482d1a858da65fc3f4aa35524cf5beb&utm_source=gh-comment&runConclusion=FAILURE&runId=aa0e6334-e994-5cd2-976a-2f4d15fbf8b1) |

[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=991f5b6c6482d1a858da65fc3f4aa35524cf5beb&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=991f5b6c6482d1a858da65fc3f4aa35524cf5beb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2025-01-29 19:05:51 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/85048_tests-c505e63b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=c505e63b29958ae640171dfce1c93ae9296dd161&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/113-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=c505e63b29958ae640171dfce1c93ae9296dd161&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=c505e63b29958ae640171dfce1c93ae9296dd161&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=c505e63b29958ae640171dfce1c93ae9296dd161&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>remove-field-tests-2</code> | Invalid column metadata, got: nil | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=c505e63b29958ae640171dfce1c93ae9296dd161&utm_source=gh-comment&runConclusion=FAILURE&runId=7626b17d-31a3-524e-beb3-3b58d8bb780a) |
| <code>find-matching-column-by-name-test</code> | The \`find-matching-column\` function did not find the expected column based on its name. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=c505e63b29958ae640171dfce1c93ae9296dd161&utm_source=gh-comment&runConclusion=FAILURE&runId=a18bb045-99af-5ac9-bdd0-5cbccc1c90d3) |
| <code>deduplicate-expression-names-in-aggregations-test</code> | The expected and actual results of deduplicated names in aggregations do not match. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=c505e63b29958ae640171dfce1c93ae9296dd161&utm_source=gh-comment&runConclusion=FAILURE&runId=c61b9d4c-2eed-50db-8387-6db6f2e8b1f0) |
| <code>fields-should-not-hide-joined-fields</code> | Expected column names ""ID"" and ""NAME"" to be ""ID\_2"" and ""NAME\_2"" respectively, but they were not. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=c505e63b29958ae640171dfce1c93ae9296dd161&utm_source=gh-comment&runConclusion=FAILURE&runId=2f0ae3ce-6d12-59cc-b8b2-e3e6391a64b5) |

[... and 109 more](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=c505e63b29958ae640171dfce1c93ae9296dd161&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52914?repo=metabase/metabase&commitHash=c505e63b29958ae640171dfce1c93ae9296dd161&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-30 08:59:43 UTC): ## e2e tests failed on `991f5b6c6482d1a858da65fc3f4aa35524cf5beb-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13048613617?pr=52914)

  File | Test Name
  ---- | ---------
  `collections.cy.spec.js` | scenarios > collections > entity id support > /collection/entity/${entity_id} should redirect to /collection/${id}
`collections.cy.spec.js` | scenarios > collections > entity id support > /collection/entity/${entity_id}/move should redirect to /collection/${id}/move
`search.cy.spec.js` | scenarios > search > universal search > should render a preview of markdown descriptions
`search.cy.spec.js` | scenarios > search > universal search > should not overflow container if results contain descriptions with large unborken strings

"
2818875135,pull_request,closed,,Close CSV upload modal on escape press,"Closes ENG-9340

### Description

Fixes closing CSV upload modal on escape press

### Demo

https://github.com/user-attachments/assets/59975445-f0d0-4457-b549-8dbaf1a23467",sloansparger,2025-01-29 17:55:52+00:00,['sloansparger'],2025-02-04 18:57:28+00:00,2025-02-04 18:12:17+00:00,https://github.com/metabase/metabase/pull/52913,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2622595136, 'issue_id': 2818875135, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13629_tests-81e9149c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52913?repo=metabase/metabase&commitHash=81e9149c2b3496719a7c85ef4e2b8cbeb9ee2889&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52913?repo=metabase/metabase&commitHash=81e9149c2b3496719a7c85ef4e2b8cbeb9ee2889&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52913?repo=metabase/metabase&commitHash=81e9149c2b3496719a7c85ef4e2b8cbeb9ee2889&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52913?repo=metabase/metabase&commitHash=81e9149c2b3496719a7c85ef4e2b8cbeb9ee2889&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52913?repo=metabase/metabase&commitHash=81e9149c2b3496719a7c85ef4e2b8cbeb9ee2889&utm_source=gh-comment&runConclusion=FAILURE&runId=43fbeb74-eeb6-5965-bb7f-a033e0bc18a6) |\n| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and \'Browse databases\' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52913?repo=metabase/metabase&commitHash=81e9149c2b3496719a7c85ef4e2b8cbeb9ee2889&utm_source=gh-comment&runConclusion=FAILURE&runId=880114eb-b2fb-52bc-8a36-b596c588cc2e) |\n| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52913?repo=metabase/metabase&commitHash=81e9149c2b3496719a7c85ef4e2b8cbeb9ee2889&utm_source=gh-comment&runConclusion=FAILURE&runId=9540d22b-66e0-5f18-b286-39eff999a53b) |\n| <code>scenarios > model indexes should not reload the model for record in the same model</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52913?repo=metabase/metabase&commitHash=81e9149c2b3496719a7c85ef4e2b8cbeb9ee2889&utm_source=gh-comment&runConclusion=FAILURE&runId=c2d1307b-1e0b-540c-8e0d-af59d3dd5799) |\n\n[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52913?repo=metabase/metabase&commitHash=81e9149c2b3496719a7c85ef4e2b8cbeb9ee2889&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52913?repo=metabase/metabase&commitHash=81e9149c2b3496719a7c85ef4e2b8cbeb9ee2889&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 19, 5, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634599763, 'issue_id': 2818875135, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `81e9149c2b3496719a7c85ef4e2b8cbeb9ee2889-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13140907514?pr=52913)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)\n`model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model\n`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette\n`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link\n`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results"", 'created_at': datetime.datetime(2025, 2, 4, 17, 18, 27, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-29 19:05:09 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13629_tests-81e9149c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52913?repo=metabase/metabase&commitHash=81e9149c2b3496719a7c85ef4e2b8cbeb9ee2889&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52913?repo=metabase/metabase&commitHash=81e9149c2b3496719a7c85ef4e2b8cbeb9ee2889&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52913?repo=metabase/metabase&commitHash=81e9149c2b3496719a7c85ef4e2b8cbeb9ee2889&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52913?repo=metabase/metabase&commitHash=81e9149c2b3496719a7c85ef4e2b8cbeb9ee2889&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52913?repo=metabase/metabase&commitHash=81e9149c2b3496719a7c85ef4e2b8cbeb9ee2889&utm_source=gh-comment&runConclusion=FAILURE&runId=43fbeb74-eeb6-5965-bb7f-a033e0bc18a6) |
| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and 'Browse databases' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52913?repo=metabase/metabase&commitHash=81e9149c2b3496719a7c85ef4e2b8cbeb9ee2889&utm_source=gh-comment&runConclusion=FAILURE&runId=880114eb-b2fb-52bc-8a36-b596c588cc2e) |
| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52913?repo=metabase/metabase&commitHash=81e9149c2b3496719a7c85ef4e2b8cbeb9ee2889&utm_source=gh-comment&runConclusion=FAILURE&runId=9540d22b-66e0-5f18-b286-39eff999a53b) |
| <code>scenarios > model indexes should not reload the model for record in the same model</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52913?repo=metabase/metabase&commitHash=81e9149c2b3496719a7c85ef4e2b8cbeb9ee2889&utm_source=gh-comment&runConclusion=FAILURE&runId=c2d1307b-1e0b-540c-8e0d-af59d3dd5799) |

[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52913?repo=metabase/metabase&commitHash=81e9149c2b3496719a7c85ef4e2b8cbeb9ee2889&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52913?repo=metabase/metabase&commitHash=81e9149c2b3496719a7c85ef4e2b8cbeb9ee2889&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-02-04 17:18:27 UTC): ## e2e tests failed on `81e9149c2b3496719a7c85ef4e2b8cbeb9ee2889-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13140907514?pr=52913)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)
`model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model
`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette
`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link
`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results

"
2818860461,pull_request,closed,,Add describe-database check to view tests,Looking at a databricks CI failure and noticed that describe-database output wasn't being tested for views.,snoe,2025-01-29 17:48:09+00:00,['snoe'],2025-01-29 19:57:39+00:00,2025-01-29 19:39:28+00:00,https://github.com/metabase/metabase/pull/52912,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Drivers', '')]","[{'comment_id': 2622570126, 'issue_id': 2818860461, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/91217_tests-136a7850-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52912?repo=metabase/metabase&commitHash=136a785074c9fbbee8fecec42fd0aa22032697f0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52912?repo=metabase/metabase&commitHash=136a785074c9fbbee8fecec42fd0aa22032697f0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52912?repo=metabase/metabase&commitHash=136a785074c9fbbee8fecec42fd0aa22032697f0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52912?repo=metabase/metabase&commitHash=136a785074c9fbbee8fecec42fd0aa22032697f0&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>create-dimension-validation-test-2</code> | Deadlock found when trying to get lock; try restarting transaction | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52912?repo=metabase/metabase&commitHash=136a785074c9fbbee8fecec42fd0aa22032697f0&utm_source=gh-comment&runConclusion=FAILURE&runId=3946d3ef-c2d7-580f-ac9c-69c9676d20db) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52912?repo=metabase/metabase&commitHash=136a785074c9fbbee8fecec42fd0aa22032697f0&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 18, 53, 48, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-29 18:53:48 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/91217_tests-136a7850-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52912?repo=metabase/metabase&commitHash=136a785074c9fbbee8fecec42fd0aa22032697f0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52912?repo=metabase/metabase&commitHash=136a785074c9fbbee8fecec42fd0aa22032697f0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52912?repo=metabase/metabase&commitHash=136a785074c9fbbee8fecec42fd0aa22032697f0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52912?repo=metabase/metabase&commitHash=136a785074c9fbbee8fecec42fd0aa22032697f0&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>create-dimension-validation-test-2</code> | Deadlock found when trying to get lock; try restarting transaction | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52912?repo=metabase/metabase&commitHash=136a785074c9fbbee8fecec42fd0aa22032697f0&utm_source=gh-comment&runConclusion=FAILURE&runId=3946d3ef-c2d7-580f-ac9c-69c9676d20db) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52912?repo=metabase/metabase&commitHash=136a785074c9fbbee8fecec42fd0aa22032697f0&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2818825026,pull_request,closed,,"open to let ci run, this is expected to fail, ignore!",,npretto,2025-01-29 17:29:26+00:00,['npretto'],2025-02-04 14:54:01+00:00,2025-01-30 15:13:59+00:00,https://github.com/metabase/metabase/pull/52911,"[('.Team/Embedding', '')]","[{'comment_id': 2622394882, 'issue_id': 2818825026, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@npretto You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2025, 1, 29, 17, 29, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622560185, 'issue_id': 2818825026, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/94922_tests-5f8392b1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52911?repo=metabase/metabase&commitHash=5f8392b102470375d5b95419b8816bfeba76d426&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52911?repo=metabase/metabase&commitHash=5f8392b102470375d5b95419b8816bfeba76d426&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52911?repo=metabase/metabase&commitHash=5f8392b102470375d5b95419b8816bfeba76d426&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52911?repo=metabase/metabase&commitHash=5f8392b102470375d5b95419b8816bfeba76d426&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52911?repo=metabase/metabase&commitHash=5f8392b102470375d5b95419b8816bfeba76d426&utm_source=gh-comment&runConclusion=FAILURE&runId=8b0df3b5-0ef8-5a04-9c68-4c84afb503ff) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52911?repo=metabase/metabase&commitHash=5f8392b102470375d5b95419b8816bfeba76d426&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 18, 49, 21, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-29 17:29:48 UTC): <!---conventional commit reminder comment ID-->
@npretto You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

trunk-io[bot] on (2025-01-29 18:49:21 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/94922_tests-5f8392b1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52911?repo=metabase/metabase&commitHash=5f8392b102470375d5b95419b8816bfeba76d426&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52911?repo=metabase/metabase&commitHash=5f8392b102470375d5b95419b8816bfeba76d426&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52911?repo=metabase/metabase&commitHash=5f8392b102470375d5b95419b8816bfeba76d426&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52911?repo=metabase/metabase&commitHash=5f8392b102470375d5b95419b8816bfeba76d426&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52911?repo=metabase/metabase&commitHash=5f8392b102470375d5b95419b8816bfeba76d426&utm_source=gh-comment&runConclusion=FAILURE&runId=8b0df3b5-0ef8-5a04-9c68-4c84afb503ff) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52911?repo=metabase/metabase&commitHash=5f8392b102470375d5b95419b8816bfeba76d426&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2818818800,pull_request,closed,,ci: find css variables that are used but never defined,"From the comment on the script:
```
This script finds css variables that are used but *never* defined in our codebase.
Its goal isn't to find usages of variables in contexts where that variable is not defined,
as that would be a lot harder.
Its goal is to prevent typos and wrong usages created by conflicts and backports.
The most common thing this should catch and prevent is backporting a fix or feature that uses a css variable
that doesn't exist in the release branch.
```

It's mostly to prevent issues created by backports such as https://github.com/metabase/metabase/issues/52732, as a bonus it also to prevents typos and wrong names in css variables, it already found 4 on master the other day: [fix: some css variables were not defined](https://github.com/metabase/metabase/pull/52808)

Example of how it fails in ci: https://github.com/metabase/metabase/actions/runs/13036979709/job/36369763423?pr=52911
<img width=""1066"" alt=""image"" src=""https://github.com/user-attachments/assets/769164d3-e542-424f-83a8-083555fc2ac7"" />

Note that is is a standalone script and not an eslint rule mostly for performances reason, I had a draft of the eslint rule but because it would need to parse all codebase to verify that one variable is defined, and writing a smart version of it may not be worth it. I mostly expect this to fail on CI anyway because of backports.

For the same reason, I also didn't add this to the pre-commits, I doubt it's worth adding the 5-10 seconds delay to it",npretto,2025-01-29 17:26:44+00:00,['npretto'],2025-02-03 16:32:26+00:00,2025-01-31 15:43:29+00:00,https://github.com/metabase/metabase/pull/52910,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2622525098, 'issue_id': 2818818800, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/104898_tests-9b20b2b0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52910?repo=metabase/metabase&commitHash=9b20b2b03466fcc5351475487f31c418ed8e12df&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52910?repo=metabase/metabase&commitHash=9b20b2b03466fcc5351475487f31c418ed8e12df&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/9-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52910?repo=metabase/metabase&commitHash=9b20b2b03466fcc5351475487f31c418ed8e12df&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52910?repo=metabase/metabase&commitHash=9b20b2b03466fcc5351475487f31c418ed8e12df&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > organization > entity picker dashboard picker should search for dashboards for a normal user</code> | Unable to find an element with the text ""Root dashboard 1"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52910?repo=metabase/metabase&commitHash=9b20b2b03466fcc5351475487f31c418ed8e12df&utm_source=gh-comment&runConclusion=FAILURE&runId=808c47c9-3640-5094-aa60-b51c82248fc5) |\n| <code>scenarios > organization > entity picker dashboard picker should search for dashboards when there is no access to the root collection</code> | Unable to find an element with the text ""Regular dashboard 1"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52910?repo=metabase/metabase&commitHash=9b20b2b03466fcc5351475487f31c418ed8e12df&utm_source=gh-comment&runConclusion=FAILURE&runId=49879d4f-ab6d-5731-a62e-c118eb0857a3) |\n| <code>scenarios > organization > entity picker dashboard picker should not allow local search for \\`all personal collections\\`</code> | Unable to find an element with the text ""Admin personal dashboard 1"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52910?repo=metabase/metabase&commitHash=9b20b2b03466fcc5351475487f31c418ed8e12df&utm_source=gh-comment&runConclusion=FAILURE&runId=e651491f-aad0-5557-a720-7088e39a7639) |\n| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and \'Browse databases\' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52910?repo=metabase/metabase&commitHash=9b20b2b03466fcc5351475487f31c418ed8e12df&utm_source=gh-comment&runConclusion=FAILURE&runId=c16fe09c-223e-56cf-a65e-fbaec4af3c44) |\n\n[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52910?repo=metabase/metabase&commitHash=9b20b2b03466fcc5351475487f31c418ed8e12df&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52910?repo=metabase/metabase&commitHash=9b20b2b03466fcc5351475487f31c418ed8e12df&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 18, 33, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622642031, 'issue_id': 2818818800, 'author': 'uladzimirdev', 'body': 'I like the approach overall, but have you checked https://github.com/csstools/stylelint-value-no-unknown-custom-properties?', 'created_at': datetime.datetime(2025, 1, 29, 19, 25, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622674725, 'issue_id': 2818818800, 'author': 'npretto', 'body': '> I like the approach overall, but have you checked [csstools/stylelint-value-no-unknown-custom-properties](https://github.com/csstools/stylelint-value-no-unknown-custom-properties)?\r\n\r\nOh, I did google for such a tool but it didn\'t come up by searching for ""css variables"", i tried it quickly and doesn\'t seem it supports typescript files though?\r\nIt also seems like for our usecase it would need a list of all the css variables we define, I\'ll check again tomorrow', 'created_at': datetime.datetime(2025, 1, 29, 19, 39, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623911653, 'issue_id': 2818818800, 'author': 'npretto', 'body': ""> I like the approach overall, but have you checked [csstools/stylelint-value-no-unknown-custom-properties](https://github.com/csstools/stylelint-value-no-unknown-custom-properties)?\r\n\r\nI tried that rule, which now seems to be built-in into style lint, but I confirm the two issues, at the moment stylelint doesn't seem to understand our css-in-js and it doesn't seem automatically find the css vars defined in other files.\r\nThanks anyway for the suggestion, I realized I didn't even have the stylelint extension installed"", 'created_at': datetime.datetime(2025, 1, 30, 9, 7, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627476454, 'issue_id': 2818818800, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `9b20b2b03466fcc5351475487f31c418ed8e12df-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13074401825?pr=52910)\n\n  File | Test Name\n  ---- | ---------\n  `model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model\n`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > question picker > should select a card from global search results\n`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette\n`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > question picker > should not allow local search for `all personal collections`\n`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link\n`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > collection picker > should not allow local search for `all personal collections`\n`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > dashboard picker > should search for dashboards for a normal user\n`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > dashboard picker > should search for dashboards when there is no access to the root collection\n`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > dashboard picker > should not allow local search for `all personal collections`"", 'created_at': datetime.datetime(2025, 1, 31, 14, 23, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631154422, 'issue_id': 2818818800, 'author': 'npretto', 'body': '@metabase-bot backport release-x.52.x', 'created_at': datetime.datetime(2025, 2, 3, 14, 26, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631154920, 'issue_id': 2818818800, 'author': 'npretto', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2025, 2, 3, 14, 26, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631157552, 'issue_id': 2818818800, 'author': 'github-actions[bot]', 'body': '@npretto Manual conflict resolution is required', 'created_at': datetime.datetime(2025, 2, 3, 14, 27, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631158179, 'issue_id': 2818818800, 'author': 'github-actions[bot]', 'body': '@npretto something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/13115695352)', 'created_at': datetime.datetime(2025, 2, 3, 14, 27, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631496219, 'issue_id': 2818818800, 'author': 'github-actions[bot]', 'body': '🚀 This should also be released by [v0.53](https://github.com/metabase/metabase/milestone/287)', 'created_at': datetime.datetime(2025, 2, 3, 16, 32, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631496677, 'issue_id': 2818818800, 'author': 'github-actions[bot]', 'body': '🚀 This should also be released by [v0.52.10](https://github.com/metabase/metabase/milestone/304)', 'created_at': datetime.datetime(2025, 2, 3, 16, 32, 24, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-29 18:33:22 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/104898_tests-9b20b2b0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52910?repo=metabase/metabase&commitHash=9b20b2b03466fcc5351475487f31c418ed8e12df&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52910?repo=metabase/metabase&commitHash=9b20b2b03466fcc5351475487f31c418ed8e12df&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/9-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52910?repo=metabase/metabase&commitHash=9b20b2b03466fcc5351475487f31c418ed8e12df&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52910?repo=metabase/metabase&commitHash=9b20b2b03466fcc5351475487f31c418ed8e12df&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > organization > entity picker dashboard picker should search for dashboards for a normal user</code> | Unable to find an element with the text ""Root dashboard 1"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52910?repo=metabase/metabase&commitHash=9b20b2b03466fcc5351475487f31c418ed8e12df&utm_source=gh-comment&runConclusion=FAILURE&runId=808c47c9-3640-5094-aa60-b51c82248fc5) |
| <code>scenarios > organization > entity picker dashboard picker should search for dashboards when there is no access to the root collection</code> | Unable to find an element with the text ""Regular dashboard 1"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52910?repo=metabase/metabase&commitHash=9b20b2b03466fcc5351475487f31c418ed8e12df&utm_source=gh-comment&runConclusion=FAILURE&runId=49879d4f-ab6d-5731-a62e-c118eb0857a3) |
| <code>scenarios > organization > entity picker dashboard picker should not allow local search for \`all personal collections\`</code> | Unable to find an element with the text ""Admin personal dashboard 1"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52910?repo=metabase/metabase&commitHash=9b20b2b03466fcc5351475487f31c418ed8e12df&utm_source=gh-comment&runConclusion=FAILURE&runId=e651491f-aad0-5557-a720-7088e39a7639) |
| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and 'Browse databases' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52910?repo=metabase/metabase&commitHash=9b20b2b03466fcc5351475487f31c418ed8e12df&utm_source=gh-comment&runConclusion=FAILURE&runId=c16fe09c-223e-56cf-a65e-fbaec4af3c44) |

[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52910?repo=metabase/metabase&commitHash=9b20b2b03466fcc5351475487f31c418ed8e12df&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52910?repo=metabase/metabase&commitHash=9b20b2b03466fcc5351475487f31c418ed8e12df&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

uladzimirdev on (2025-01-29 19:25:56 UTC): I like the approach overall, but have you checked https://github.com/csstools/stylelint-value-no-unknown-custom-properties?

npretto (Issue Creator) on (2025-01-29 19:39:40 UTC): Oh, I did google for such a tool but it didn't come up by searching for ""css variables"", i tried it quickly and doesn't seem it supports typescript files though?
It also seems like for our usecase it would need a list of all the css variables we define, I'll check again tomorrow

npretto (Issue Creator) on (2025-01-30 09:07:44 UTC): I tried that rule, which now seems to be built-in into style lint, but I confirm the two issues, at the moment stylelint doesn't seem to understand our css-in-js and it doesn't seem automatically find the css vars defined in other files.
Thanks anyway for the suggestion, I realized I didn't even have the stylelint extension installed

github-actions[bot] on (2025-01-31 14:23:46 UTC): ## e2e tests failed on `9b20b2b03466fcc5351475487f31c418ed8e12df-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13074401825?pr=52910)

  File | Test Name
  ---- | ---------
  `model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model
`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > question picker > should select a card from global search results
`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette
`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > question picker > should not allow local search for `all personal collections`
`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link
`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > collection picker > should not allow local search for `all personal collections`
`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > dashboard picker > should search for dashboards for a normal user
`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > dashboard picker > should search for dashboards when there is no access to the root collection
`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > dashboard picker > should not allow local search for `all personal collections`

npretto (Issue Creator) on (2025-02-03 14:26:32 UTC): @metabase-bot backport release-x.52.x

npretto (Issue Creator) on (2025-02-03 14:26:44 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2025-02-03 14:27:42 UTC): @npretto Manual conflict resolution is required

github-actions[bot] on (2025-02-03 14:27:56 UTC): @npretto something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/13115695352)

github-actions[bot] on (2025-02-03 16:32:13 UTC): 🚀 This should also be released by [v0.53](https://github.com/metabase/metabase/milestone/287)

github-actions[bot] on (2025-02-03 16:32:24 UTC): 🚀 This should also be released by [v0.52.10](https://github.com/metabase/metabase/milestone/304)

"
2818782381,pull_request,closed,,Update Docs links ,⚠️ Soon.,gusaiani,2025-01-29 17:09:45+00:00,['gusaiani'],2025-02-06 11:22:59+00:00,2025-02-06 11:22:55+00:00,https://github.com/metabase/metabase/pull/52909,[],[],
2818748248,pull_request,closed,,updating the Logo SVG,"Closes ENG-13985

### Description
Updating the default logo svg

### How to verify
This shouldn't really look any different than before, but hoping that it solves some clipping issues on certain monitors
",npfitz,2025-01-29 16:54:43+00:00,['npfitz'],2025-01-31 14:18:21+00:00,2025-01-30 21:25:42+00:00,https://github.com/metabase/metabase/pull/52908,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team'), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2622219429, 'issue_id': 2818748248, 'author': 'github-actions[bot]', 'body': '👋 Deploying a preview environment for commit 3369ee03531ec50d24f5e54173a26fcbbd7a39a9.\n✅ Preview:\n    https://pr52908.coredev.metabase.com\n🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2025, 1, 29, 17, 6, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622259339, 'issue_id': 2818748248, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `3369ee03531ec50d24f5e54173a26fcbbd7a39a9-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13036346636?pr=52908)\n\n  File | Test Name\n  ---- | ---------\n  `native.cy.spec.js` | scenarios > native question > data reference sidebar > should show models\n`reproductions.cy.spec.js` | issue 29378 > should not crash the model detail page after searching for an action (metabase#29378)', 'created_at': datetime.datetime(2025, 1, 29, 17, 13, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622460790, 'issue_id': 2818748248, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/99491_tests-3369ee03-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52908?repo=metabase/metabase&commitHash=3369ee03531ec50d24f5e54173a26fcbbd7a39a9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52908?repo=metabase/metabase&commitHash=3369ee03531ec50d24f5e54173a26fcbbd7a39a9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52908?repo=metabase/metabase&commitHash=3369ee03531ec50d24f5e54173a26fcbbd7a39a9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52908?repo=metabase/metabase&commitHash=3369ee03531ec50d24f5e54173a26fcbbd7a39a9&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 29378 should not crash the model detail page after searching for an action (metabase\\#29378)</code> | Unable to find an accessible element with the role ""option"" and name ""Update orders quantity"" within 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52908?repo=metabase/metabase&commitHash=3369ee03531ec50d24f5e54173a26fcbbd7a39a9&utm_source=gh-comment&runConclusion=FAILURE&runId=d59cbae6-f78c-5426-bea5-cb297e400ff4) |\n| <code>scenarios > native question > data reference sidebar should show models</code> | Unable to find an element with the text ""2 models"" within 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52908?repo=metabase/metabase&commitHash=3369ee03531ec50d24f5e54173a26fcbbd7a39a9&utm_source=gh-comment&runConclusion=FAILURE&runId=3d2431d9-f663-537a-a820-c3eba60e0753) |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52908?repo=metabase/metabase&commitHash=3369ee03531ec50d24f5e54173a26fcbbd7a39a9&utm_source=gh-comment&runConclusion=FAILURE&runId=1d5c3767-5d21-5052-9b20-d3a08d469643) |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52908?repo=metabase/metabase&commitHash=3369ee03531ec50d24f5e54173a26fcbbd7a39a9&utm_source=gh-comment&runConclusion=FAILURE&runId=7ce27a1e-7840-5565-a0f9-4daca8c36b59) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52908?repo=metabase/metabase&commitHash=3369ee03531ec50d24f5e54173a26fcbbd7a39a9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 18, 0, 37, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-29 17:06:16 UTC): 👋 Deploying a preview environment for commit 3369ee03531ec50d24f5e54173a26fcbbd7a39a9.
✅ Preview:
    https://pr52908.coredev.metabase.com
🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

github-actions[bot] on (2025-01-29 17:13:26 UTC): ## e2e tests failed on `3369ee03531ec50d24f5e54173a26fcbbd7a39a9-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13036346636?pr=52908)

  File | Test Name
  ---- | ---------
  `native.cy.spec.js` | scenarios > native question > data reference sidebar > should show models
`reproductions.cy.spec.js` | issue 29378 > should not crash the model detail page after searching for an action (metabase#29378)

trunk-io[bot] on (2025-01-29 18:00:37 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/99491_tests-3369ee03-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52908?repo=metabase/metabase&commitHash=3369ee03531ec50d24f5e54173a26fcbbd7a39a9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52908?repo=metabase/metabase&commitHash=3369ee03531ec50d24f5e54173a26fcbbd7a39a9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52908?repo=metabase/metabase&commitHash=3369ee03531ec50d24f5e54173a26fcbbd7a39a9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52908?repo=metabase/metabase&commitHash=3369ee03531ec50d24f5e54173a26fcbbd7a39a9&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 29378 should not crash the model detail page after searching for an action (metabase\#29378)</code> | Unable to find an accessible element with the role ""option"" and name ""Update orders quantity"" within 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52908?repo=metabase/metabase&commitHash=3369ee03531ec50d24f5e54173a26fcbbd7a39a9&utm_source=gh-comment&runConclusion=FAILURE&runId=d59cbae6-f78c-5426-bea5-cb297e400ff4) |
| <code>scenarios > native question > data reference sidebar should show models</code> | Unable to find an element with the text ""2 models"" within 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52908?repo=metabase/metabase&commitHash=3369ee03531ec50d24f5e54173a26fcbbd7a39a9&utm_source=gh-comment&runConclusion=FAILURE&runId=3d2431d9-f663-537a-a820-c3eba60e0753) |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52908?repo=metabase/metabase&commitHash=3369ee03531ec50d24f5e54173a26fcbbd7a39a9&utm_source=gh-comment&runConclusion=FAILURE&runId=1d5c3767-5d21-5052-9b20-d3a08d469643) |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52908?repo=metabase/metabase&commitHash=3369ee03531ec50d24f5e54173a26fcbbd7a39a9&utm_source=gh-comment&runConclusion=FAILURE&runId=7ce27a1e-7840-5565-a0f9-4daca8c36b59) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52908?repo=metabase/metabase&commitHash=3369ee03531ec50d24f5e54173a26fcbbd7a39a9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2818712926,pull_request,closed,,"🤖 backported ""Fix nav bar highlighting when creating a new question""",#52847,github-automation-metabase,2025-01-29 16:38:30+00:00,"['npfitz', 'github-automation-metabase']",2025-01-29 21:35:58+00:00,2025-01-29 21:35:58+00:00,https://github.com/metabase/metabase/pull/52907,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2622187139, 'issue_id': 2818712926, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `912fdcead4886f7849be1803cec033898fac7c77-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13036050572?pr=52907)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)', 'created_at': datetime.datetime(2025, 1, 29, 16, 52, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622441647, 'issue_id': 2818712926, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13493_tests-912fdcea-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52907?repo=metabase/metabase&commitHash=912fdcead4886f7849be1803cec033898fac7c77&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52907?repo=metabase/metabase&commitHash=912fdcead4886f7849be1803cec033898fac7c77&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52907?repo=metabase/metabase&commitHash=912fdcead4886f7849be1803cec033898fac7c77&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52907?repo=metabase/metabase&commitHash=912fdcead4886f7849be1803cec033898fac7c77&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding-sdk > static-dashboard ""before each"" hook for ""should render dashboard content""</code> | The \\`cy.createDashboard\\` function is not recognized, causing a failure in the test. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52907?repo=metabase/metabase&commitHash=912fdcead4886f7849be1803cec033898fac7c77&utm_source=gh-comment&runConclusion=FAILURE&runId=66781e34-650f-5a76-80c4-43b624bdf0e7) |\n| <code>issue 16559 should always show the most recent revision (metabase\\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52907?repo=metabase/metabase&commitHash=912fdcead4886f7849be1803cec033898fac7c77&utm_source=gh-comment&runConclusion=FAILURE&runId=b6967213-e936-5565-9933-f0c9f6b55e50) |\n| <code>scenarios > embedding-sdk > interactive-dashboard ""before each"" hook for ""should be able to display custom question layout when clicking on dashboa...</code> | The \\`cy.createDashboard\\` function is not recognized, causing a failure in the test. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52907?repo=metabase/metabase&commitHash=912fdcead4886f7849be1803cec033898fac7c77&utm_source=gh-comment&runConclusion=FAILURE&runId=7deae8da-ba81-5321-adaa-d222634cfc37) |\n| <code>scenarios > embedding-sdk > editable-dashboard ""before each"" hook for ""Should not open sidesheet when clicking last edit info (metabase\\#48354)""</code> | The \\`cy.createDashboard\\` function is not recognized, causing a failure in the test. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52907?repo=metabase/metabase&commitHash=912fdcead4886f7849be1803cec033898fac7c77&utm_source=gh-comment&runConclusion=FAILURE&runId=332a4e6c-15ed-559f-a6fd-65d312109565) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52907?repo=metabase/metabase&commitHash=912fdcead4886f7849be1803cec033898fac7c77&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 17, 51, 1, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-29 16:52:45 UTC): ## e2e tests failed on `912fdcead4886f7849be1803cec033898fac7c77-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13036050572?pr=52907)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)

trunk-io[bot] on (2025-01-29 17:51:01 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13493_tests-912fdcea-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52907?repo=metabase/metabase&commitHash=912fdcead4886f7849be1803cec033898fac7c77&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52907?repo=metabase/metabase&commitHash=912fdcead4886f7849be1803cec033898fac7c77&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52907?repo=metabase/metabase&commitHash=912fdcead4886f7849be1803cec033898fac7c77&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52907?repo=metabase/metabase&commitHash=912fdcead4886f7849be1803cec033898fac7c77&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding-sdk > static-dashboard ""before each"" hook for ""should render dashboard content""</code> | The \`cy.createDashboard\` function is not recognized, causing a failure in the test. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52907?repo=metabase/metabase&commitHash=912fdcead4886f7849be1803cec033898fac7c77&utm_source=gh-comment&runConclusion=FAILURE&runId=66781e34-650f-5a76-80c4-43b624bdf0e7) |
| <code>issue 16559 should always show the most recent revision (metabase\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52907?repo=metabase/metabase&commitHash=912fdcead4886f7849be1803cec033898fac7c77&utm_source=gh-comment&runConclusion=FAILURE&runId=b6967213-e936-5565-9933-f0c9f6b55e50) |
| <code>scenarios > embedding-sdk > interactive-dashboard ""before each"" hook for ""should be able to display custom question layout when clicking on dashboa...</code> | The \`cy.createDashboard\` function is not recognized, causing a failure in the test. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52907?repo=metabase/metabase&commitHash=912fdcead4886f7849be1803cec033898fac7c77&utm_source=gh-comment&runConclusion=FAILURE&runId=7deae8da-ba81-5321-adaa-d222634cfc37) |
| <code>scenarios > embedding-sdk > editable-dashboard ""before each"" hook for ""Should not open sidesheet when clicking last edit info (metabase\#48354)""</code> | The \`cy.createDashboard\` function is not recognized, causing a failure in the test. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52907?repo=metabase/metabase&commitHash=912fdcead4886f7849be1803cec033898fac7c77&utm_source=gh-comment&runConclusion=FAILURE&runId=332a4e6c-15ed-559f-a6fd-65d312109565) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52907?repo=metabase/metabase&commitHash=912fdcead4886f7849be1803cec033898fac7c77&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2818712783,pull_request,closed,,Add standalone find-outliers tests,"Besides adding the tests, this PR adds explicit handling for a few more error cases. No new functionality otherwise.",metamben,2025-01-29 16:38:27+00:00,['metamben'],2025-01-29 21:38:48+00:00,2025-01-29 21:38:46+00:00,https://github.com/metabase/metabase/pull/52906,"[('Metabot/Tools', 'Tools that are agnostic of the LLM framework itself, could be reused for notifications framework als')]","[{'comment_id': 2622401878, 'issue_id': 2818712783, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `7d5cb69ff82c41b7970cd0a7dd585cf2e8058d44-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13036672789?pr=52906)\n\n  File | Test Name\n  ---- | ---------\n  `permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > can browse metrics\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should navigate to the metric when clicking a metric title\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should navigate to that collection when clicking a collection title\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should open the collections in a new tab when alt-clicking a metric\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should render truncated markdown in the table\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should be possible to sort the metrics\n`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to bookmark a metrics from the dot menu\n`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to navigate to the collection from the dot menu\n`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to trash a metric from the dot menu when the user has write access\nand more... | and more...', 'created_at': datetime.datetime(2025, 1, 29, 17, 32, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622434106, 'issue_id': 2818712783, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/95724_tests-7d5cb69f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52906?repo=metabase/metabase&commitHash=7d5cb69ff82c41b7970cd0a7dd585cf2e8058d44&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/15-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52906?repo=metabase/metabase&commitHash=7d5cb69ff82c41b7970cd0a7dd585cf2e8058d44&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52906?repo=metabase/metabase&commitHash=7d5cb69ff82c41b7970cd0a7dd585cf2e8058d44&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52906?repo=metabase/metabase&commitHash=7d5cb69ff82c41b7970cd0a7dd585cf2e8058d44&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > browse > metrics verified metrics on enterprise should respect the user setting on wether or not to only show verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52906?repo=metabase/metabase&commitHash=7d5cb69ff82c41b7970cd0a7dd585cf2e8058d44&utm_source=gh-comment&runConclusion=FAILURE&runId=4741a895-b05a-5ab5-83f5-5aed4b1be76e) |\n| <code>scenarios > browse > metrics verified metrics on enterprise should show the verified metrics filter when there are verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52906?repo=metabase/metabase&commitHash=7d5cb69ff82c41b7970cd0a7dd585cf2e8058d44&utm_source=gh-comment&runConclusion=FAILURE&runId=6366fc4c-b368-5e6f-8c9b-bbfc6b06e25a) |\n| <code>scenarios > browse > metrics dot menu when the user does not have write access should not be possible to trash a metric from the dot menu when the...</code> | Unable to find a label with the text ""Table of metrics"" within the expected time. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52906?repo=metabase/metabase&commitHash=7d5cb69ff82c41b7970cd0a7dd585cf2e8058d44&utm_source=gh-comment&runConclusion=FAILURE&runId=7f2d3fc5-f558-5380-8614-b22b46f1ba73) |\n| <code>scenarios > browse > metrics dot menu when the user does not have write access should be possible to bookmark a metrics from the dot menu</code> | Unable to find a label with the text ""Table of metrics"" within the expected time. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52906?repo=metabase/metabase&commitHash=7d5cb69ff82c41b7970cd0a7dd585cf2e8058d44&utm_source=gh-comment&runConclusion=FAILURE&runId=7aeb36c2-edc6-5d7e-b422-a0b8abccfd36) |\n\n[... and 11 more](https://app.trunk.io/metabase/flaky-tests/pr/52906?repo=metabase/metabase&commitHash=7d5cb69ff82c41b7970cd0a7dd585cf2e8058d44&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\#24966)</code> | The \'body\' property was accessed on an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52906?repo=metabase/metabase&commitHash=7d5cb69ff82c41b7970cd0a7dd585cf2e8058d44&utm_source=gh-comment&runConclusion=FAILURE&runId=84532edb-f497-5fd6-819f-817cb4120b22) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52906?repo=metabase/metabase&commitHash=7d5cb69ff82c41b7970cd0a7dd585cf2e8058d44&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 17, 47, 49, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-29 17:32:19 UTC): ## e2e tests failed on `7d5cb69ff82c41b7970cd0a7dd585cf2e8058d44-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13036672789?pr=52906)

  File | Test Name
  ---- | ---------
  `permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > can browse metrics
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should navigate to the metric when clicking a metric title
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should navigate to that collection when clicking a collection title
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should open the collections in a new tab when alt-clicking a metric
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should render truncated markdown in the table
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should be possible to sort the metrics
`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to bookmark a metrics from the dot menu
`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to navigate to the collection from the dot menu
`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to trash a metric from the dot menu when the user has write access
and more... | and more...

trunk-io[bot] on (2025-01-29 17:47:49 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/95724_tests-7d5cb69f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52906?repo=metabase/metabase&commitHash=7d5cb69ff82c41b7970cd0a7dd585cf2e8058d44&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/15-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52906?repo=metabase/metabase&commitHash=7d5cb69ff82c41b7970cd0a7dd585cf2e8058d44&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52906?repo=metabase/metabase&commitHash=7d5cb69ff82c41b7970cd0a7dd585cf2e8058d44&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52906?repo=metabase/metabase&commitHash=7d5cb69ff82c41b7970cd0a7dd585cf2e8058d44&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > browse > metrics verified metrics on enterprise should respect the user setting on wether or not to only show verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52906?repo=metabase/metabase&commitHash=7d5cb69ff82c41b7970cd0a7dd585cf2e8058d44&utm_source=gh-comment&runConclusion=FAILURE&runId=4741a895-b05a-5ab5-83f5-5aed4b1be76e) |
| <code>scenarios > browse > metrics verified metrics on enterprise should show the verified metrics filter when there are verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52906?repo=metabase/metabase&commitHash=7d5cb69ff82c41b7970cd0a7dd585cf2e8058d44&utm_source=gh-comment&runConclusion=FAILURE&runId=6366fc4c-b368-5e6f-8c9b-bbfc6b06e25a) |
| <code>scenarios > browse > metrics dot menu when the user does not have write access should not be possible to trash a metric from the dot menu when the...</code> | Unable to find a label with the text ""Table of metrics"" within the expected time. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52906?repo=metabase/metabase&commitHash=7d5cb69ff82c41b7970cd0a7dd585cf2e8058d44&utm_source=gh-comment&runConclusion=FAILURE&runId=7f2d3fc5-f558-5380-8614-b22b46f1ba73) |
| <code>scenarios > browse > metrics dot menu when the user does not have write access should be possible to bookmark a metrics from the dot menu</code> | Unable to find a label with the text ""Table of metrics"" within the expected time. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52906?repo=metabase/metabase&commitHash=7d5cb69ff82c41b7970cd0a7dd585cf2e8058d44&utm_source=gh-comment&runConclusion=FAILURE&runId=7aeb36c2-edc6-5d7e-b422-a0b8abccfd36) |

[... and 11 more](https://app.trunk.io/metabase/flaky-tests/pr/52906?repo=metabase/metabase&commitHash=7d5cb69ff82c41b7970cd0a7dd585cf2e8058d44&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52906?repo=metabase/metabase&commitHash=7d5cb69ff82c41b7970cd0a7dd585cf2e8058d44&utm_source=gh-comment&runConclusion=FAILURE&runId=84532edb-f497-5fd6-819f-817cb4120b22) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52906?repo=metabase/metabase&commitHash=7d5cb69ff82c41b7970cd0a7dd585cf2e8058d44&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2818684869,pull_request,closed,,"🤖 backported ""Fix setting ""Display as Link"" in model metadata""",#52749,github-automation-metabase,2025-01-29 16:26:25+00:00,"['ranquild', 'github-automation-metabase']",2025-01-29 17:59:03+00:00,2025-01-29 17:09:29+00:00,https://github.com/metabase/metabase/pull/52904,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2622124722, 'issue_id': 2818684869, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff f5f19dcc4b04ad9bbeb914d3ef047f02803593e7...c49334b92b151e782a5de733917a5fe10b84ef9d.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/settings/ChartSettingLinkUrlInput.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingLinkUrlInput.unit.spec.tsx |', 'created_at': datetime.datetime(2025, 1, 29, 16, 28, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622435453, 'issue_id': 2818684869, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/23194_tests-c49334b9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52904?repo=metabase/metabase&commitHash=c49334b92b151e782a5de733917a5fe10b84ef9d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52904?repo=metabase/metabase&commitHash=c49334b92b151e782a5de733917a5fe10b84ef9d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52904?repo=metabase/metabase&commitHash=c49334b92b151e782a5de733917a5fe10b84ef9d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52904?repo=metabase/metabase&commitHash=c49334b92b151e782a5de733917a5fe10b84ef9d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding-sdk > static-dashboard ""before each"" hook for ""should render dashboard content""</code> | The \\`cy.createDashboard\\` function is not recognized, causing a failure in the test. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52904?repo=metabase/metabase&commitHash=c49334b92b151e782a5de733917a5fe10b84ef9d&utm_source=gh-comment&runConclusion=FAILURE&runId=ebe4587e-0040-5703-bf59-b7221e312912) |\n| <code>scenarios > embedding-sdk > interactive-dashboard ""before each"" hook for ""should be able to display custom question layout when clicking on dashboa...</code> | The \\`cy.createDashboard\\` function is not recognized, causing a failure in the test. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52904?repo=metabase/metabase&commitHash=c49334b92b151e782a5de733917a5fe10b84ef9d&utm_source=gh-comment&runConclusion=FAILURE&runId=9418f21b-1397-5dd5-879c-7a4e7f25aff3) |\n| <code>scenarios > embedding-sdk > editable-dashboard ""before each"" hook for ""Should not open sidesheet when clicking last edit info (metabase\\#48354)""</code> | The \\`cy.createDashboard\\` function is not recognized, causing a failure in the test. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52904?repo=metabase/metabase&commitHash=c49334b92b151e782a5de733917a5fe10b84ef9d&utm_source=gh-comment&runConclusion=FAILURE&runId=c405021f-f6cb-5a69-8062-11c9e08af692) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>useIsParameterPanelSticky sets isStickyStateChanging to true and false before and after isSticky is changed</code> | failure\\_text: Error: expect(received).toBe(expected) // Object.is equalityExpected: trueReceived: false    at Object.toBe (/home/runner/work/metab... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52904?repo=metabase/metabase&commitHash=c49334b92b151e782a5de733917a5fe10b84ef9d&utm_source=gh-comment&runConclusion=FAILURE&runId=5a6c025a-26bf-5aa8-9c0a-008c0b93b7ee) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52904?repo=metabase/metabase&commitHash=c49334b92b151e782a5de733917a5fe10b84ef9d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 17, 48, 32, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-29 16:28:02 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff f5f19dcc4b04ad9bbeb914d3ef047f02803593e7...c49334b92b151e782a5de733917a5fe10b84ef9d.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/settings/ChartSettingLinkUrlInput.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingLinkUrlInput.unit.spec.tsx |

trunk-io[bot] on (2025-01-29 17:48:32 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/23194_tests-c49334b9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52904?repo=metabase/metabase&commitHash=c49334b92b151e782a5de733917a5fe10b84ef9d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52904?repo=metabase/metabase&commitHash=c49334b92b151e782a5de733917a5fe10b84ef9d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52904?repo=metabase/metabase&commitHash=c49334b92b151e782a5de733917a5fe10b84ef9d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52904?repo=metabase/metabase&commitHash=c49334b92b151e782a5de733917a5fe10b84ef9d&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding-sdk > static-dashboard ""before each"" hook for ""should render dashboard content""</code> | The \`cy.createDashboard\` function is not recognized, causing a failure in the test. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52904?repo=metabase/metabase&commitHash=c49334b92b151e782a5de733917a5fe10b84ef9d&utm_source=gh-comment&runConclusion=FAILURE&runId=ebe4587e-0040-5703-bf59-b7221e312912) |
| <code>scenarios > embedding-sdk > interactive-dashboard ""before each"" hook for ""should be able to display custom question layout when clicking on dashboa...</code> | The \`cy.createDashboard\` function is not recognized, causing a failure in the test. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52904?repo=metabase/metabase&commitHash=c49334b92b151e782a5de733917a5fe10b84ef9d&utm_source=gh-comment&runConclusion=FAILURE&runId=9418f21b-1397-5dd5-879c-7a4e7f25aff3) |
| <code>scenarios > embedding-sdk > editable-dashboard ""before each"" hook for ""Should not open sidesheet when clicking last edit info (metabase\#48354)""</code> | The \`cy.createDashboard\` function is not recognized, causing a failure in the test. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52904?repo=metabase/metabase&commitHash=c49334b92b151e782a5de733917a5fe10b84ef9d&utm_source=gh-comment&runConclusion=FAILURE&runId=c405021f-f6cb-5a69-8062-11c9e08af692) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>useIsParameterPanelSticky sets isStickyStateChanging to true and false before and after isSticky is changed</code> | failure\_text: Error: expect(received).toBe(expected) // Object.is equalityExpected: trueReceived: false    at Object.toBe (/home/runner/work/metab... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52904?repo=metabase/metabase&commitHash=c49334b92b151e782a5de733917a5fe10b84ef9d&utm_source=gh-comment&runConclusion=FAILURE&runId=5a6c025a-26bf-5aa8-9c0a-008c0b93b7ee) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52904?repo=metabase/metabase&commitHash=c49334b92b151e782a5de733917a5fe10b84ef9d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2818664614,pull_request,closed,,Reuse getMappingOptionByTarget in `ParameterTarget` component,"Context https://metaboat.slack.com/archives/C013N8XL286/p1738073297695859

Changes:
- Moves `getMappingOptionByTarget` from dashboard utils to parameter utils. Removes the dependency on dashboard cards.
- Uses `getMappingOptionByTarget` to find the selected sandbox mapping target instead of relying on object equality.

How to verify:
- It's not possible to trigger matching issues just by using the current version. Either use v49/v50 to setup the targets and upgrade, or rely on e2e tests.
- New E2E tests should pass with different targets.",ranquild,2025-01-29 16:17:55+00:00,['ranquild'],2025-01-30 16:56:48+00:00,2025-01-30 15:32:38+00:00,https://github.com/metabase/metabase/pull/52903,"[('Type:Tech Debt', 'or Refactoring'), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2622435998, 'issue_id': 2818664614, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/22958_tests-6034a321-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52903?repo=metabase/metabase&commitHash=6034a321ed6ee1d3d948be76c419f227b346c501&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52903?repo=metabase/metabase&commitHash=6034a321ed6ee1d3d948be76c419f227b346c501&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52903?repo=metabase/metabase&commitHash=6034a321ed6ee1d3d948be76c419f227b346c501&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52903?repo=metabase/metabase&commitHash=6034a321ed6ee1d3d948be76c419f227b346c501&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52903?repo=metabase/metabase&commitHash=6034a321ed6ee1d3d948be76c419f227b346c501&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 17, 48, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625049438, 'issue_id': 2818664614, 'author': 'ranquild', 'body': '@metabase-bot backport release-x.52.x', 'created_at': datetime.datetime(2025, 1, 30, 16, 54, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625053774, 'issue_id': 2818664614, 'author': 'github-actions[bot]', 'body': '@ranquild something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/13057221841)', 'created_at': datetime.datetime(2025, 1, 30, 16, 56, 46, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-29 17:48:49 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/22958_tests-6034a321-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52903?repo=metabase/metabase&commitHash=6034a321ed6ee1d3d948be76c419f227b346c501&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52903?repo=metabase/metabase&commitHash=6034a321ed6ee1d3d948be76c419f227b346c501&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52903?repo=metabase/metabase&commitHash=6034a321ed6ee1d3d948be76c419f227b346c501&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52903?repo=metabase/metabase&commitHash=6034a321ed6ee1d3d948be76c419f227b346c501&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52903?repo=metabase/metabase&commitHash=6034a321ed6ee1d3d948be76c419f227b346c501&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

ranquild (Issue Creator) on (2025-01-30 16:54:57 UTC): @metabase-bot backport release-x.52.x

github-actions[bot] on (2025-01-30 16:56:46 UTC): @ranquild something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/13057221841)

"
2818615475,pull_request,closed,,"🤖 backported ""drop codenotify""",#52690,github-automation-metabase,2025-01-29 15:57:36+00:00,"['alxnddr', 'github-automation-metabase']",2025-01-29 17:52:15+00:00,2025-01-29 16:44:53+00:00,https://github.com/metabase/metabase/pull/52902,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2622080266, 'issue_id': 2818615475, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `932bced932c5db759c202e0bd2d68a5e3dcdfd33-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13035252954?pr=52902)\n\n  File | Test Name\n  ---- | ---------\n  `entity-picker.cy.spec.ts` | scenarios > organization > entity picker > question picker > should select a card from global search results\n`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > question picker > should not allow local search for `all personal collections`\n`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > collection picker > should not allow local search for `all personal collections`\n`notebook-data-source.cy.spec.ts` | scenarios > notebook > data source > should not show saved questions if only models exist (metabase#25142)\n`notebook-data-source.cy.spec.ts` | issue 32252 > refreshes data picker sources after archiving a collection (metabase#32252)\n`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > dashboard picker > should search for dashboards for a normal user\n`notebook-data-source.cy.spec.ts` | issue 32252 > refreshes data picker sources after archiving a question (metabase#32252)\n`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > dashboard picker > should search for dashboards when there is no access to the root collection\n`reproductions-2.cy.spec.js` | issue 25144 > should show Saved Questions tab after creating the first question (metabase#25144)\n`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > dashboard picker > should not allow local search for `all personal collections`\nand more... | and more...', 'created_at': datetime.datetime(2025, 1, 29, 16, 11, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622319813, 'issue_id': 2818615475, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/76538_tests-932bced9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52902?repo=metabase/metabase&commitHash=932bced932c5db759c202e0bd2d68a5e3dcdfd33&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/15-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52902?repo=metabase/metabase&commitHash=932bced932c5db759c202e0bd2d68a5e3dcdfd33&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/292-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52902?repo=metabase/metabase&commitHash=932bced932c5db759c202e0bd2d68a5e3dcdfd33&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52902?repo=metabase/metabase&commitHash=932bced932c5db759c202e0bd2d68a5e3dcdfd33&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > notebook > data source empty app db should not show models if only saved questions exist</code> | Unable to find an accessible element with the role ""tab"" after 4000ms of retrying. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52902?repo=metabase/metabase&commitHash=932bced932c5db759c202e0bd2d68a5e3dcdfd33&utm_source=gh-comment&runConclusion=FAILURE&runId=f3248e09-84e5-5f9f-b6e6-ebb72e280f9a) |\n| <code>scenarios > notebook > data source empty app db should not show saved questions if only models exist (metabase\\#25142)</code> | Unable to find an accessible element with the role ""tab"" after 4000ms of retrying. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52902?repo=metabase/metabase&commitHash=932bced932c5db759c202e0bd2d68a5e3dcdfd33&utm_source=gh-comment&runConclusion=FAILURE&runId=3a15559d-abff-565c-aa9f-e5808f28eb04) |\n| <code>issue 25144 should show Saved Questions tab after creating the first question (metabase\\#25144)</code> | The element with role \'tab\' and containing \'Collections\' was not found within 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52902?repo=metabase/metabase&commitHash=932bced932c5db759c202e0bd2d68a5e3dcdfd33&utm_source=gh-comment&runConclusion=FAILURE&runId=9084384d-d481-50a6-93e3-5ff2736a0fc9) |\n| <code>issue 25144 should show Models tab after creation the first model (metabase\\#24878)</code> | The element with role \'tab\' and containing \'Collections\' was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52902?repo=metabase/metabase&commitHash=932bced932c5db759c202e0bd2d68a5e3dcdfd33&utm_source=gh-comment&runConclusion=FAILURE&runId=edac914f-44cf-5a75-b4df-638eb303d3d3) |\n\n[... and 11 more](https://app.trunk.io/metabase/flaky-tests/pr/52902?repo=metabase/metabase&commitHash=932bced932c5db759c202e0bd2d68a5e3dcdfd33&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>is-empty-not-empty-with-not-emptyable-args-test-3</code> | No table \'checkins\' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52902?repo=metabase/metabase&commitHash=932bced932c5db759c202e0bd2d68a5e3dcdfd33&utm_source=gh-comment&runConclusion=FAILURE&runId=46c5897a-5e3f-52b1-adbb-777b2bdd0ffe) |\n| <code>is-empty-not-empty-with-not-emptyable-args-test-2</code> | No table \'checkins\' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52902?repo=metabase/metabase&commitHash=932bced932c5db759c202e0bd2d68a5e3dcdfd33&utm_source=gh-comment&runConclusion=FAILURE&runId=ca5888ea-4e3a-57b2-8318-1158f5efa8e5) |\n| <code>is-empty-not-empty-with-not-emptyable-args-test</code> | No table \'checkins\' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52902?repo=metabase/metabase&commitHash=932bced932c5db759c202e0bd2d68a5e3dcdfd33&utm_source=gh-comment&runConclusion=FAILURE&runId=ae53515a-5cdf-5e22-b6f8-ef32ab3fd60c) |\n| <code>describe-view-fields</code> | Table is already managed by another pipeline, please rename it to proceed. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52902?repo=metabase/metabase&commitHash=932bced932c5db759c202e0bd2d68a5e3dcdfd33&utm_source=gh-comment&runConclusion=FAILURE&runId=dcd230e3-330e-5c27-8516-00639c620ef9) |\n\n[... and 288 more](https://app.trunk.io/metabase/flaky-tests/pr/52902?repo=metabase/metabase&commitHash=932bced932c5db759c202e0bd2d68a5e3dcdfd33&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52902?repo=metabase/metabase&commitHash=932bced932c5db759c202e0bd2d68a5e3dcdfd33&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 17, 21, 47, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-29 16:11:28 UTC): ## e2e tests failed on `932bced932c5db759c202e0bd2d68a5e3dcdfd33-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13035252954?pr=52902)

  File | Test Name
  ---- | ---------
  `entity-picker.cy.spec.ts` | scenarios > organization > entity picker > question picker > should select a card from global search results
`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > question picker > should not allow local search for `all personal collections`
`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > collection picker > should not allow local search for `all personal collections`
`notebook-data-source.cy.spec.ts` | scenarios > notebook > data source > should not show saved questions if only models exist (metabase#25142)
`notebook-data-source.cy.spec.ts` | issue 32252 > refreshes data picker sources after archiving a collection (metabase#32252)
`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > dashboard picker > should search for dashboards for a normal user
`notebook-data-source.cy.spec.ts` | issue 32252 > refreshes data picker sources after archiving a question (metabase#32252)
`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > dashboard picker > should search for dashboards when there is no access to the root collection
`reproductions-2.cy.spec.js` | issue 25144 > should show Saved Questions tab after creating the first question (metabase#25144)
`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > dashboard picker > should not allow local search for `all personal collections`
and more... | and more...

trunk-io[bot] on (2025-01-29 17:21:47 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/76538_tests-932bced9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52902?repo=metabase/metabase&commitHash=932bced932c5db759c202e0bd2d68a5e3dcdfd33&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/15-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52902?repo=metabase/metabase&commitHash=932bced932c5db759c202e0bd2d68a5e3dcdfd33&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/292-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52902?repo=metabase/metabase&commitHash=932bced932c5db759c202e0bd2d68a5e3dcdfd33&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52902?repo=metabase/metabase&commitHash=932bced932c5db759c202e0bd2d68a5e3dcdfd33&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > notebook > data source empty app db should not show models if only saved questions exist</code> | Unable to find an accessible element with the role ""tab"" after 4000ms of retrying. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52902?repo=metabase/metabase&commitHash=932bced932c5db759c202e0bd2d68a5e3dcdfd33&utm_source=gh-comment&runConclusion=FAILURE&runId=f3248e09-84e5-5f9f-b6e6-ebb72e280f9a) |
| <code>scenarios > notebook > data source empty app db should not show saved questions if only models exist (metabase\#25142)</code> | Unable to find an accessible element with the role ""tab"" after 4000ms of retrying. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52902?repo=metabase/metabase&commitHash=932bced932c5db759c202e0bd2d68a5e3dcdfd33&utm_source=gh-comment&runConclusion=FAILURE&runId=3a15559d-abff-565c-aa9f-e5808f28eb04) |
| <code>issue 25144 should show Saved Questions tab after creating the first question (metabase\#25144)</code> | The element with role 'tab' and containing 'Collections' was not found within 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52902?repo=metabase/metabase&commitHash=932bced932c5db759c202e0bd2d68a5e3dcdfd33&utm_source=gh-comment&runConclusion=FAILURE&runId=9084384d-d481-50a6-93e3-5ff2736a0fc9) |
| <code>issue 25144 should show Models tab after creation the first model (metabase\#24878)</code> | The element with role 'tab' and containing 'Collections' was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52902?repo=metabase/metabase&commitHash=932bced932c5db759c202e0bd2d68a5e3dcdfd33&utm_source=gh-comment&runConclusion=FAILURE&runId=edac914f-44cf-5a75-b4df-638eb303d3d3) |

[... and 11 more](https://app.trunk.io/metabase/flaky-tests/pr/52902?repo=metabase/metabase&commitHash=932bced932c5db759c202e0bd2d68a5e3dcdfd33&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>is-empty-not-empty-with-not-emptyable-args-test-3</code> | No table 'checkins' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52902?repo=metabase/metabase&commitHash=932bced932c5db759c202e0bd2d68a5e3dcdfd33&utm_source=gh-comment&runConclusion=FAILURE&runId=46c5897a-5e3f-52b1-adbb-777b2bdd0ffe) |
| <code>is-empty-not-empty-with-not-emptyable-args-test-2</code> | No table 'checkins' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52902?repo=metabase/metabase&commitHash=932bced932c5db759c202e0bd2d68a5e3dcdfd33&utm_source=gh-comment&runConclusion=FAILURE&runId=ca5888ea-4e3a-57b2-8318-1158f5efa8e5) |
| <code>is-empty-not-empty-with-not-emptyable-args-test</code> | No table 'checkins' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52902?repo=metabase/metabase&commitHash=932bced932c5db759c202e0bd2d68a5e3dcdfd33&utm_source=gh-comment&runConclusion=FAILURE&runId=ae53515a-5cdf-5e22-b6f8-ef32ab3fd60c) |
| <code>describe-view-fields</code> | Table is already managed by another pipeline, please rename it to proceed. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52902?repo=metabase/metabase&commitHash=932bced932c5db759c202e0bd2d68a5e3dcdfd33&utm_source=gh-comment&runConclusion=FAILURE&runId=dcd230e3-330e-5c27-8516-00639c620ef9) |

[... and 288 more](https://app.trunk.io/metabase/flaky-tests/pr/52902?repo=metabase/metabase&commitHash=932bced932c5db759c202e0bd2d68a5e3dcdfd33&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52902?repo=metabase/metabase&commitHash=932bced932c5db759c202e0bd2d68a5e3dcdfd33&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2818614625,pull_request,closed,,"🤖 backported ""Add metrics around default and active engines""",#52893,github-automation-metabase,2025-01-29 15:57:14+00:00,"['crisptrutski', 'github-automation-metabase']",2025-01-29 17:42:24+00:00,2025-01-29 16:43:20+00:00,https://github.com/metabase/metabase/pull/52901,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2622075548, 'issue_id': 2818614625, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `fd0e9f74892ffa73a811286b224f5340e3186863-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13035246401?pr=52901)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)', 'created_at': datetime.datetime(2025, 1, 29, 16, 9, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622315204, 'issue_id': 2818614625, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/59103_tests-fd0e9f74-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52901?repo=metabase/metabase&commitHash=fd0e9f74892ffa73a811286b224f5340e3186863&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52901?repo=metabase/metabase&commitHash=fd0e9f74892ffa73a811286b224f5340e3186863&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/24-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52901?repo=metabase/metabase&commitHash=fd0e9f74892ffa73a811286b224f5340e3186863&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52901?repo=metabase/metabase&commitHash=fd0e9f74892ffa73a811286b224f5340e3186863&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding-sdk > static-dashboard ""before each"" hook for ""should render dashboard content""</code> | The \\`cy.createDashboard\\` function is not recognized, causing a failure in the test. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52901?repo=metabase/metabase&commitHash=fd0e9f74892ffa73a811286b224f5340e3186863&utm_source=gh-comment&runConclusion=FAILURE&runId=8da93c97-b7fb-5b75-8be8-0f9c66e88586) |\n| <code>scenarios > embedding-sdk > interactive-dashboard ""before each"" hook for ""should be able to display custom question layout when clicking on dashboa...</code> | The \\`cy.createDashboard\\` function is not recognized, causing a failure in the test. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52901?repo=metabase/metabase&commitHash=fd0e9f74892ffa73a811286b224f5340e3186863&utm_source=gh-comment&runConclusion=FAILURE&runId=1e376cc0-ce14-56af-b94a-8a4ff0b2297f) |\n| <code>scenarios > embedding-sdk > editable-dashboard ""before each"" hook for ""Should not open sidesheet when clicking last edit info (metabase\\#48354)""</code> | The \\`cy.createDashboard\\` function is not recognized, causing a failure in the test. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52901?repo=metabase/metabase&commitHash=fd0e9f74892ffa73a811286b224f5340e3186863&utm_source=gh-comment&runConclusion=FAILURE&runId=7377cc3a-a745-5a37-bed4-06dcfb184072) |\n| <code>issue 16559 should always show the most recent revision (metabase\\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52901?repo=metabase/metabase&commitHash=fd0e9f74892ffa73a811286b224f5340e3186863&utm_source=gh-comment&runConclusion=FAILURE&runId=2de89bc1-37c1-5446-8e5c-de26d129c543) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>extraction-function-datetime-test</code> | No table \'times\' found in Redshift database \'times-mixed (redshift)\' | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52901?repo=metabase/metabase&commitHash=fd0e9f74892ffa73a811286b224f5340e3186863&utm_source=gh-comment&runConclusion=FAILURE&runId=05911372-b502-5106-afc5-dc784a747496) |\n| <code>nested-convert-timezone-test-3</code> | No table \'times\' found in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52901?repo=metabase/metabase&commitHash=fd0e9f74892ffa73a811286b224f5340e3186863&utm_source=gh-comment&runConclusion=FAILURE&runId=5579e1b8-ca00-5120-91ef-0febe530b4f2) |\n| <code>extract-week-test</code> | No table \'weeks\' found for Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52901?repo=metabase/metabase&commitHash=fd0e9f74892ffa73a811286b224f5340e3186863&utm_source=gh-comment&runConclusion=FAILURE&runId=72be85f6-e595-54a1-99f7-818e22d6c2f2) |\n| <code>temporal-extraction-with-datetime-arithmetic-expression-tests</code> | No table \'times\' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52901?repo=metabase/metabase&commitHash=fd0e9f74892ffa73a811286b224f5340e3186863&utm_source=gh-comment&runConclusion=FAILURE&runId=3837f1db-2a96-5914-9365-5a90c53946bb) |\n\n[... and 20 more](https://app.trunk.io/metabase/flaky-tests/pr/52901?repo=metabase/metabase&commitHash=fd0e9f74892ffa73a811286b224f5340e3186863&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52901?repo=metabase/metabase&commitHash=fd0e9f74892ffa73a811286b224f5340e3186863&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 17, 21, 14, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-29 16:09:45 UTC): ## e2e tests failed on `fd0e9f74892ffa73a811286b224f5340e3186863-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13035246401?pr=52901)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)

trunk-io[bot] on (2025-01-29 17:21:14 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/59103_tests-fd0e9f74-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52901?repo=metabase/metabase&commitHash=fd0e9f74892ffa73a811286b224f5340e3186863&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52901?repo=metabase/metabase&commitHash=fd0e9f74892ffa73a811286b224f5340e3186863&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/24-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52901?repo=metabase/metabase&commitHash=fd0e9f74892ffa73a811286b224f5340e3186863&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52901?repo=metabase/metabase&commitHash=fd0e9f74892ffa73a811286b224f5340e3186863&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding-sdk > static-dashboard ""before each"" hook for ""should render dashboard content""</code> | The \`cy.createDashboard\` function is not recognized, causing a failure in the test. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52901?repo=metabase/metabase&commitHash=fd0e9f74892ffa73a811286b224f5340e3186863&utm_source=gh-comment&runConclusion=FAILURE&runId=8da93c97-b7fb-5b75-8be8-0f9c66e88586) |
| <code>scenarios > embedding-sdk > interactive-dashboard ""before each"" hook for ""should be able to display custom question layout when clicking on dashboa...</code> | The \`cy.createDashboard\` function is not recognized, causing a failure in the test. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52901?repo=metabase/metabase&commitHash=fd0e9f74892ffa73a811286b224f5340e3186863&utm_source=gh-comment&runConclusion=FAILURE&runId=1e376cc0-ce14-56af-b94a-8a4ff0b2297f) |
| <code>scenarios > embedding-sdk > editable-dashboard ""before each"" hook for ""Should not open sidesheet when clicking last edit info (metabase\#48354)""</code> | The \`cy.createDashboard\` function is not recognized, causing a failure in the test. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52901?repo=metabase/metabase&commitHash=fd0e9f74892ffa73a811286b224f5340e3186863&utm_source=gh-comment&runConclusion=FAILURE&runId=7377cc3a-a745-5a37-bed4-06dcfb184072) |
| <code>issue 16559 should always show the most recent revision (metabase\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52901?repo=metabase/metabase&commitHash=fd0e9f74892ffa73a811286b224f5340e3186863&utm_source=gh-comment&runConclusion=FAILURE&runId=2de89bc1-37c1-5446-8e5c-de26d129c543) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>extraction-function-datetime-test</code> | No table 'times' found in Redshift database 'times-mixed (redshift)' | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52901?repo=metabase/metabase&commitHash=fd0e9f74892ffa73a811286b224f5340e3186863&utm_source=gh-comment&runConclusion=FAILURE&runId=05911372-b502-5106-afc5-dc784a747496) |
| <code>nested-convert-timezone-test-3</code> | No table 'times' found in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52901?repo=metabase/metabase&commitHash=fd0e9f74892ffa73a811286b224f5340e3186863&utm_source=gh-comment&runConclusion=FAILURE&runId=5579e1b8-ca00-5120-91ef-0febe530b4f2) |
| <code>extract-week-test</code> | No table 'weeks' found for Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52901?repo=metabase/metabase&commitHash=fd0e9f74892ffa73a811286b224f5340e3186863&utm_source=gh-comment&runConclusion=FAILURE&runId=72be85f6-e595-54a1-99f7-818e22d6c2f2) |
| <code>temporal-extraction-with-datetime-arithmetic-expression-tests</code> | No table 'times' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52901?repo=metabase/metabase&commitHash=fd0e9f74892ffa73a811286b224f5340e3186863&utm_source=gh-comment&runConclusion=FAILURE&runId=3837f1db-2a96-5914-9365-5a90c53946bb) |

[... and 20 more](https://app.trunk.io/metabase/flaky-tests/pr/52901?repo=metabase/metabase&commitHash=fd0e9f74892ffa73a811286b224f5340e3186863&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52901?repo=metabase/metabase&commitHash=fd0e9f74892ffa73a811286b224f5340e3186863&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2818531519,pull_request,closed,,ci: Fix SDK cross-version testing failure after test util refactor,"[Reported on Slack
](https://metaboat.slack.com/archives/C5XHN8GLW/p1738153908445629)

The logic that we move tests + utils from the SDK release commit to the most recent release branch commit was from https://github.com/metabase/metabase/pull/51171.

This caused a problem where the tests somehow were out of sync with util files after we merged #52878.


Sooooooooooooooooo, finally the fix is to ensure we copy over everything under `e2e/support` with one caveat that we need to keep `component-webpack.config.js` from the release branch since that contains the latest fix necessary to run tests on the release 53 branch (https://github.com/metabase/metabase/pull/52800)

#### How to verify
This is [the run](https://github.com/metabase/metabase/actions/runs/13030469770/attempts/1) after merging the refactor https://github.com/metabase/metabase/pull/52878. Which has failed tests.

This is [the run](https://github.com/metabase/metabase/actions/runs/13036680731/job/36369310378#step:11:429) from this PR with ✅ ✅ ✅ ✅ ✅ 
",WiNloSt,2025-01-29 15:24:33+00:00,['WiNloSt'],2025-01-30 04:42:34+00:00,2025-01-29 18:15:01+00:00,https://github.com/metabase/metabase/pull/52900,"[('.CI & Tests', ''), ('.Team/Embedding', '')]","[{'comment_id': 2622162842, 'issue_id': 2818531519, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3733_tests-3c7d2e06-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52900?repo=metabase/metabase&commitHash=3c7d2e063e9072ee0d812df09487eafb9c26ba91&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52900?repo=metabase/metabase&commitHash=3c7d2e063e9072ee0d812df09487eafb9c26ba91&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52900?repo=metabase/metabase&commitHash=3c7d2e063e9072ee0d812df09487eafb9c26ba91&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52900?repo=metabase/metabase&commitHash=3c7d2e063e9072ee0d812df09487eafb9c26ba91&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52900?repo=metabase/metabase&commitHash=3c7d2e063e9072ee0d812df09487eafb9c26ba91&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 16, 42, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622431345, 'issue_id': 2818531519, 'author': 'WiNloSt', 'body': '> Looks good, but can e leave some comment on the yml file to explain why we run those commands? Something like ""keep a copy of component-webpack.config.js as we need it because of xx"" I\'m afraid we\'ll forget about the context in a few months otherwise\r\n\r\nThis is only unlucky on our part. We won\'t need this file in the newer version. Or well, I didn\'t really think about it, but if we release 53 now we will not need the webpack config at all (the release commit will already contain the fixed webpack config). The rest of the `e2e/support` is still required though.', 'created_at': datetime.datetime(2025, 1, 29, 17, 46, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622441394, 'issue_id': 2818531519, 'author': 'WiNloSt', 'body': ""@npretto I clarified it with 3c7d2e063e9072ee0d812df09487eafb9c26ba91 Not exactly what you suggested, though. But I think that's better."", 'created_at': datetime.datetime(2025, 1, 29, 17, 50, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622443389, 'issue_id': 2818531519, 'author': 'npretto', 'body': ""> @npretto I clarified it with [3c7d2e0](https://github.com/metabase/metabase/commit/3c7d2e063e9072ee0d812df09487eafb9c26ba91) Not exactly what you suggested, though. But I think that's better.\r\n\r\nThat's good enough, thanks for fixing this 🙏"", 'created_at': datetime.datetime(2025, 1, 29, 17, 51, 55, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-29 16:42:29 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3733_tests-3c7d2e06-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52900?repo=metabase/metabase&commitHash=3c7d2e063e9072ee0d812df09487eafb9c26ba91&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52900?repo=metabase/metabase&commitHash=3c7d2e063e9072ee0d812df09487eafb9c26ba91&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52900?repo=metabase/metabase&commitHash=3c7d2e063e9072ee0d812df09487eafb9c26ba91&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52900?repo=metabase/metabase&commitHash=3c7d2e063e9072ee0d812df09487eafb9c26ba91&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52900?repo=metabase/metabase&commitHash=3c7d2e063e9072ee0d812df09487eafb9c26ba91&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

WiNloSt (Issue Creator) on (2025-01-29 17:46:28 UTC): This is only unlucky on our part. We won't need this file in the newer version. Or well, I didn't really think about it, but if we release 53 now we will not need the webpack config at all (the release commit will already contain the fixed webpack config). The rest of the `e2e/support` is still required though.

WiNloSt (Issue Creator) on (2025-01-29 17:50:55 UTC): @npretto I clarified it with 3c7d2e063e9072ee0d812df09487eafb9c26ba91 Not exactly what you suggested, though. But I think that's better.

npretto on (2025-01-29 17:51:55 UTC): That's good enough, thanks for fixing this 🙏

"
2818386738,pull_request,closed,,docs - api docs,"- Adds intro to scalar api docs
- Removes old api docs and updates links.",jeff-bruemmer,2025-01-29 14:29:22+00:00,['jeff-bruemmer'],2025-01-29 22:02:36+00:00,2025-01-29 21:32:09+00:00,https://github.com/metabase/metabase/pull/52899,"[('Type:Documentation', ''), ('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2622064886, 'issue_id': 2818386738, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/94722_tests-61bdfd04-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52899?repo=metabase/metabase&commitHash=61bdfd04f812ed5c8ae5ca3a5c142420e2f7b42c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52899?repo=metabase/metabase&commitHash=61bdfd04f812ed5c8ae5ca3a5c142420e2f7b42c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52899?repo=metabase/metabase&commitHash=61bdfd04f812ed5c8ae5ca3a5c142420e2f7b42c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52899?repo=metabase/metabase&commitHash=61bdfd04f812ed5c8ae5ca3a5c142420e2f7b42c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 16559 should always show the most recent revision (metabase\\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52899?repo=metabase/metabase&commitHash=61bdfd04f812ed5c8ae5ca3a5c142420e2f7b42c&utm_source=gh-comment&runConclusion=FAILURE&runId=beaec334-92fd-5640-8f2e-dcf6736134fb) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52899?repo=metabase/metabase&commitHash=61bdfd04f812ed5c8ae5ca3a5c142420e2f7b42c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 16, 5, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622831155, 'issue_id': 2818386738, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `61bdfd04f812ed5c8ae5ca3a5c142420e2f7b42c-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13040089856?pr=52899)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)', 'created_at': datetime.datetime(2025, 1, 29, 20, 56, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-29 16:05:44 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/94722_tests-61bdfd04-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52899?repo=metabase/metabase&commitHash=61bdfd04f812ed5c8ae5ca3a5c142420e2f7b42c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52899?repo=metabase/metabase&commitHash=61bdfd04f812ed5c8ae5ca3a5c142420e2f7b42c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52899?repo=metabase/metabase&commitHash=61bdfd04f812ed5c8ae5ca3a5c142420e2f7b42c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52899?repo=metabase/metabase&commitHash=61bdfd04f812ed5c8ae5ca3a5c142420e2f7b42c&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 16559 should always show the most recent revision (metabase\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52899?repo=metabase/metabase&commitHash=61bdfd04f812ed5c8ae5ca3a5c142420e2f7b42c&utm_source=gh-comment&runConclusion=FAILURE&runId=beaec334-92fd-5640-8f2e-dcf6736134fb) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52899?repo=metabase/metabase&commitHash=61bdfd04f812ed5c8ae5ca3a5c142420e2f7b42c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-29 20:56:00 UTC): ## e2e tests failed on `61bdfd04f812ed5c8ae5ca3a5c142420e2f7b42c-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13040089856?pr=52899)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)

"
2818342424,pull_request,closed,,[do not merge] V53 CI sanity check,Just to run CI ([Slack](https://metaboat.slack.com/archives/C5XHN8GLW/p1738153908445629)),kamilmielnik,2025-01-29 14:13:55+00:00,['kamilmielnik'],2025-01-30 07:27:31+00:00,2025-01-30 07:27:28+00:00,https://github.com/metabase/metabase/pull/52898,"[('do not merge', ''), ('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2621898049, 'issue_id': 2818342424, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13461_tests-3094feb7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52898?repo=metabase/metabase&commitHash=3094feb7a87356d6d57d37132bd142d281629788&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52898?repo=metabase/metabase&commitHash=3094feb7a87356d6d57d37132bd142d281629788&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52898?repo=metabase/metabase&commitHash=3094feb7a87356d6d57d37132bd142d281629788&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52898?repo=metabase/metabase&commitHash=3094feb7a87356d6d57d37132bd142d281629788&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding-sdk > static-dashboard ""before each"" hook for ""should render dashboard content""</code> | The \\`cy.createDashboard\\` function is not recognized, causing a failure in the test. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52898?repo=metabase/metabase&commitHash=3094feb7a87356d6d57d37132bd142d281629788&utm_source=gh-comment&runConclusion=FAILURE&runId=9e2fe859-6374-5ef1-9b80-804dd809e4e0) |\n| <code>scenarios > embedding-sdk > interactive-dashboard ""before each"" hook for ""should be able to display custom question layout when clicking on dashboa...</code> | The \\`cy.createDashboard\\` function is not recognized, causing a failure in the test. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52898?repo=metabase/metabase&commitHash=3094feb7a87356d6d57d37132bd142d281629788&utm_source=gh-comment&runConclusion=FAILURE&runId=283adc9e-6304-5517-be04-3b1676ade721) |\n| <code>scenarios > embedding-sdk > editable-dashboard ""before each"" hook for ""Should not open sidesheet when clicking last edit info (metabase\\#48354)""</code> | The \\`cy.createDashboard\\` function is not recognized, causing a failure in the test. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52898?repo=metabase/metabase&commitHash=3094feb7a87356d6d57d37132bd142d281629788&utm_source=gh-comment&runConclusion=FAILURE&runId=62a86ddd-6b66-5c38-b9e6-fddc9882f089) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52898?repo=metabase/metabase&commitHash=3094feb7a87356d6d57d37132bd142d281629788&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 15, 0, 30, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-29 15:00:30 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13461_tests-3094feb7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52898?repo=metabase/metabase&commitHash=3094feb7a87356d6d57d37132bd142d281629788&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52898?repo=metabase/metabase&commitHash=3094feb7a87356d6d57d37132bd142d281629788&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52898?repo=metabase/metabase&commitHash=3094feb7a87356d6d57d37132bd142d281629788&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52898?repo=metabase/metabase&commitHash=3094feb7a87356d6d57d37132bd142d281629788&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding-sdk > static-dashboard ""before each"" hook for ""should render dashboard content""</code> | The \`cy.createDashboard\` function is not recognized, causing a failure in the test. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52898?repo=metabase/metabase&commitHash=3094feb7a87356d6d57d37132bd142d281629788&utm_source=gh-comment&runConclusion=FAILURE&runId=9e2fe859-6374-5ef1-9b80-804dd809e4e0) |
| <code>scenarios > embedding-sdk > interactive-dashboard ""before each"" hook for ""should be able to display custom question layout when clicking on dashboa...</code> | The \`cy.createDashboard\` function is not recognized, causing a failure in the test. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52898?repo=metabase/metabase&commitHash=3094feb7a87356d6d57d37132bd142d281629788&utm_source=gh-comment&runConclusion=FAILURE&runId=283adc9e-6304-5517-be04-3b1676ade721) |
| <code>scenarios > embedding-sdk > editable-dashboard ""before each"" hook for ""Should not open sidesheet when clicking last edit info (metabase\#48354)""</code> | The \`cy.createDashboard\` function is not recognized, causing a failure in the test. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52898?repo=metabase/metabase&commitHash=3094feb7a87356d6d57d37132bd142d281629788&utm_source=gh-comment&runConclusion=FAILURE&runId=62a86ddd-6b66-5c38-b9e6-fddc9882f089) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52898?repo=metabase/metabase&commitHash=3094feb7a87356d6d57d37132bd142d281629788&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2818336180,pull_request,open,,Remove silent flag and re-enable multi-arch build,Check what's going on here,paoliniluis,2025-01-29 14:11:22+00:00,['paoliniluis'],2025-01-29 14:40:40+00:00,,https://github.com/metabase/metabase/pull/52897,"[('backport', 'Automatically create PR on current release branch on merge')]",[],
2818321890,pull_request,closed,,fix(entity-id): show 404 for entity id that starts with digits,"There was a bug caused by my just re-using the old logic with the new routes.

The old logic had to support slugs/sequential ids, and therefore if the entity id was not found it was supposed to just pass the ""slug"" to the normal route which would either load the page or display the 404 page.

The new routes don't fallback to anything, as they either do the redirect if they find the entity id or they show a 404.

We also don't need to support slugs, neither for the dashboard/question/collection nor for the tab (see [slack thread](https://metaboat.slack.com/archives/C063Q3F1HPF/p1738169092434949) where alberto confirmed it).

This PR removes the un-needed logic and simplifies the code, it also updates the tests to check that we show the 404 page for both a missing dashboard and tab",npretto,2025-01-29 14:05:51+00:00,['npretto'],2025-02-03 15:48:00+00:00,2025-02-03 12:44:07+00:00,https://github.com/metabase/metabase/pull/52896,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2621867514, 'issue_id': 2818321890, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13616_tests-106da5d1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52896?repo=metabase/metabase&commitHash=106da5d11c26a1b84cbc6bec93520b055f99a167&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52896?repo=metabase/metabase&commitHash=106da5d11c26a1b84cbc6bec93520b055f99a167&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52896?repo=metabase/metabase&commitHash=106da5d11c26a1b84cbc6bec93520b055f99a167&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52896?repo=metabase/metabase&commitHash=106da5d11c26a1b84cbc6bec93520b055f99a167&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and \'Browse databases\' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52896?repo=metabase/metabase&commitHash=106da5d11c26a1b84cbc6bec93520b055f99a167&utm_source=gh-comment&runConclusion=FAILURE&runId=c8a5d538-a0dc-506d-b9ee-f15269f6fa07) |\n| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52896?repo=metabase/metabase&commitHash=106da5d11c26a1b84cbc6bec93520b055f99a167&utm_source=gh-comment&runConclusion=FAILURE&runId=23f43561-c9c4-56f3-ab42-b33ee1a18021) |\n| <code>scenarios > model indexes should not reload the model for record in the same model</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52896?repo=metabase/metabase&commitHash=106da5d11c26a1b84cbc6bec93520b055f99a167&utm_source=gh-comment&runConclusion=FAILURE&runId=450a88ef-cca6-5893-87de-c2c4b50e0fc6) |\n| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52896?repo=metabase/metabase&commitHash=106da5d11c26a1b84cbc6bec93520b055f99a167&utm_source=gh-comment&runConclusion=FAILURE&runId=3b26151e-2767-5ec5-bdd4-4e62a0def2e9) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52896?repo=metabase/metabase&commitHash=106da5d11c26a1b84cbc6bec93520b055f99a167&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 14, 50, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626917853, 'issue_id': 2818321890, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `106da5d11c26a1b84cbc6bec93520b055f99a167-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13071145020?pr=52896)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can share a dashboard card via public link\n`model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model\n`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette\n`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link"", 'created_at': datetime.datetime(2025, 1, 31, 10, 52, 53, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-29 14:50:13 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13616_tests-106da5d1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52896?repo=metabase/metabase&commitHash=106da5d11c26a1b84cbc6bec93520b055f99a167&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52896?repo=metabase/metabase&commitHash=106da5d11c26a1b84cbc6bec93520b055f99a167&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52896?repo=metabase/metabase&commitHash=106da5d11c26a1b84cbc6bec93520b055f99a167&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52896?repo=metabase/metabase&commitHash=106da5d11c26a1b84cbc6bec93520b055f99a167&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and 'Browse databases' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52896?repo=metabase/metabase&commitHash=106da5d11c26a1b84cbc6bec93520b055f99a167&utm_source=gh-comment&runConclusion=FAILURE&runId=c8a5d538-a0dc-506d-b9ee-f15269f6fa07) |
| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52896?repo=metabase/metabase&commitHash=106da5d11c26a1b84cbc6bec93520b055f99a167&utm_source=gh-comment&runConclusion=FAILURE&runId=23f43561-c9c4-56f3-ab42-b33ee1a18021) |
| <code>scenarios > model indexes should not reload the model for record in the same model</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52896?repo=metabase/metabase&commitHash=106da5d11c26a1b84cbc6bec93520b055f99a167&utm_source=gh-comment&runConclusion=FAILURE&runId=450a88ef-cca6-5893-87de-c2c4b50e0fc6) |
| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52896?repo=metabase/metabase&commitHash=106da5d11c26a1b84cbc6bec93520b055f99a167&utm_source=gh-comment&runConclusion=FAILURE&runId=3b26151e-2767-5ec5-bdd4-4e62a0def2e9) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52896?repo=metabase/metabase&commitHash=106da5d11c26a1b84cbc6bec93520b055f99a167&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-31 10:52:53 UTC): ## e2e tests failed on `106da5d11c26a1b84cbc6bec93520b055f99a167-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13071145020?pr=52896)

  File | Test Name
  ---- | ---------
  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can share a dashboard card via public link
`model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model
`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette
`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link

"
2818310897,pull_request,closed,,update oracle driver to jdk17+,,piranha,2025-01-29 14:01:17+00:00,['piranha'],2025-01-30 09:32:47+00:00,2025-01-29 21:54:07+00:00,https://github.com/metabase/metabase/pull/52895,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2621873179, 'issue_id': 2818310897, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/98909_tests-b3e836e0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52895?repo=metabase/metabase&commitHash=b3e836e0bd0460cd26254936c293f249df9d8b36&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52895?repo=metabase/metabase&commitHash=b3e836e0bd0460cd26254936c293f249df9d8b36&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52895?repo=metabase/metabase&commitHash=b3e836e0bd0460cd26254936c293f249df9d8b36&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52895?repo=metabase/metabase&commitHash=b3e836e0bd0460cd26254936c293f249df9d8b36&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52895?repo=metabase/metabase&commitHash=b3e836e0bd0460cd26254936c293f249df9d8b36&utm_source=gh-comment&runConclusion=FAILURE&runId=3a07c181-bea6-5991-826a-a087141f8589) |\n| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52895?repo=metabase/metabase&commitHash=b3e836e0bd0460cd26254936c293f249df9d8b36&utm_source=gh-comment&runConclusion=FAILURE&runId=4d1a7e18-c4cd-5452-8a2f-051530270ede) |\n| <code>describe-view-fields</code> | Materialized View did not match expected fields, actual fields were missing. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52895?repo=metabase/metabase&commitHash=b3e836e0bd0460cd26254936c293f249df9d8b36&utm_source=gh-comment&runConclusion=FAILURE&runId=f499b47d-5b83-5e82-ba04-7fc474928dde) |\n| <code>field-distinct-count-test-2</code> | The query result set was closed, preventing further processing. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52895?repo=metabase/metabase&commitHash=b3e836e0bd0460cd26254936c293f249df9d8b36&utm_source=gh-comment&runConclusion=FAILURE&runId=7e6d800c-910a-53ee-a01d-83ee6941ded4) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>official collections token expired or removed should not display official collection icon anymore</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52895?repo=metabase/metabase&commitHash=b3e836e0bd0460cd26254936c293f249df9d8b36&utm_source=gh-comment&runConclusion=FAILURE&runId=799d7361-5963-5cd1-8bb0-a9693a6066de) |\n| <code>official collections premium token with paid features displays official badge throughout the application</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52895?repo=metabase/metabase&commitHash=b3e836e0bd0460cd26254936c293f249df9d8b36&utm_source=gh-comment&runConclusion=FAILURE&runId=94d3cefe-ce94-5eeb-a7f3-a5ed62e520ec) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52895?repo=metabase/metabase&commitHash=b3e836e0bd0460cd26254936c293f249df9d8b36&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 14, 51, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622459372, 'issue_id': 2818310897, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `b3e836e0bd0460cd26254936c293f249df9d8b36-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13037146958?pr=52895)\n\n  File | Test Name\n  ---- | ---------\n  `official-collections.cy.spec.js` | official collections > premium token with paid features > displays official badge throughout the application\n`official-collections.cy.spec.js` | official collections > token expired or removed > should not display official collection icon anymore\n`search.cy.spec.js` | scenarios > search > universal search > should render a preview of markdown descriptions\n`search.cy.spec.js` | scenarios > search > universal search > should not overflow container if results contain descriptions with large unborken strings', 'created_at': datetime.datetime(2025, 1, 29, 17, 59, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622669934, 'issue_id': 2818310897, 'author': 'piranha', 'body': 'Whoever approves this, feel free to merge it in. 😁', 'created_at': datetime.datetime(2025, 1, 29, 19, 37, 21, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-29 14:51:56 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/98909_tests-b3e836e0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52895?repo=metabase/metabase&commitHash=b3e836e0bd0460cd26254936c293f249df9d8b36&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52895?repo=metabase/metabase&commitHash=b3e836e0bd0460cd26254936c293f249df9d8b36&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52895?repo=metabase/metabase&commitHash=b3e836e0bd0460cd26254936c293f249df9d8b36&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52895?repo=metabase/metabase&commitHash=b3e836e0bd0460cd26254936c293f249df9d8b36&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52895?repo=metabase/metabase&commitHash=b3e836e0bd0460cd26254936c293f249df9d8b36&utm_source=gh-comment&runConclusion=FAILURE&runId=3a07c181-bea6-5991-826a-a087141f8589) |
| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52895?repo=metabase/metabase&commitHash=b3e836e0bd0460cd26254936c293f249df9d8b36&utm_source=gh-comment&runConclusion=FAILURE&runId=4d1a7e18-c4cd-5452-8a2f-051530270ede) |
| <code>describe-view-fields</code> | Materialized View did not match expected fields, actual fields were missing. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52895?repo=metabase/metabase&commitHash=b3e836e0bd0460cd26254936c293f249df9d8b36&utm_source=gh-comment&runConclusion=FAILURE&runId=f499b47d-5b83-5e82-ba04-7fc474928dde) |
| <code>field-distinct-count-test-2</code> | The query result set was closed, preventing further processing. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52895?repo=metabase/metabase&commitHash=b3e836e0bd0460cd26254936c293f249df9d8b36&utm_source=gh-comment&runConclusion=FAILURE&runId=7e6d800c-910a-53ee-a01d-83ee6941ded4) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>official collections token expired or removed should not display official collection icon anymore</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52895?repo=metabase/metabase&commitHash=b3e836e0bd0460cd26254936c293f249df9d8b36&utm_source=gh-comment&runConclusion=FAILURE&runId=799d7361-5963-5cd1-8bb0-a9693a6066de) |
| <code>official collections premium token with paid features displays official badge throughout the application</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52895?repo=metabase/metabase&commitHash=b3e836e0bd0460cd26254936c293f249df9d8b36&utm_source=gh-comment&runConclusion=FAILURE&runId=94d3cefe-ce94-5eeb-a7f3-a5ed62e520ec) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52895?repo=metabase/metabase&commitHash=b3e836e0bd0460cd26254936c293f249df9d8b36&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-29 17:59:56 UTC): ## e2e tests failed on `b3e836e0bd0460cd26254936c293f249df9d8b36-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13037146958?pr=52895)

  File | Test Name
  ---- | ---------
  `official-collections.cy.spec.js` | official collections > premium token with paid features > displays official badge throughout the application
`official-collections.cy.spec.js` | official collections > token expired or removed > should not display official collection icon anymore
`search.cy.spec.js` | scenarios > search > universal search > should render a preview of markdown descriptions
`search.cy.spec.js` | scenarios > search > universal search > should not overflow container if results contain descriptions with large unborken strings

piranha (Issue Creator) on (2025-01-29 19:37:21 UTC): Whoever approves this, feel free to merge it in. 😁

"
2818309977,pull_request,closed,,chore: disable cljs live reload by default,"### Description

it has been discussed during FE guild calls, almost nobody uses cljs live reload by default. 

So this PR disables cljs dev tools injection and live reload for cljs by default in `dev` and `build-hot` script.

if somebody still need live reloading, they can use `build-hot-be` and `dev-hot-be` scripts instead.

### How to verify

`yarn build-hot` doesn't enable cljs hot reload, yarn `build-hot-be` does
`yarn dev` doesn't enable cljs hot reload, yarn `dev-hot-be` does

",uladzimirdev,2025-01-29 14:00:54+00:00,['uladzimirdev'],2025-01-31 19:27:54+00:00,2025-01-31 19:27:53+00:00,https://github.com/metabase/metabase/pull/52894,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2621867386, 'issue_id': 2818309977, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13604_tests-962d38fb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52894?repo=metabase/metabase&commitHash=962d38fb5b30f9c7df0342de8b150296479251ed&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52894?repo=metabase/metabase&commitHash=962d38fb5b30f9c7df0342de8b150296479251ed&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52894?repo=metabase/metabase&commitHash=962d38fb5b30f9c7df0342de8b150296479251ed&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52894?repo=metabase/metabase&commitHash=962d38fb5b30f9c7df0342de8b150296479251ed&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 51020 when primary key is not called \'id\' ""before each"" hook for ""should pass primary key attribute to execute action endpoint when it\'s popu...</code> | Unable to find an element with the text ""Foo"" during a ""before each"" hook, causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52894?repo=metabase/metabase&commitHash=962d38fb5b30f9c7df0342de8b150296479251ed&utm_source=gh-comment&runConclusion=FAILURE&runId=0e9bfa3e-0f60-5787-bf9d-b359e0c6db38) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and \'Browse databases\' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52894?repo=metabase/metabase&commitHash=962d38fb5b30f9c7df0342de8b150296479251ed&utm_source=gh-comment&runConclusion=FAILURE&runId=2fa4fc40-cf39-51d1-bb9a-90ba6122dcba) |\n| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52894?repo=metabase/metabase&commitHash=962d38fb5b30f9c7df0342de8b150296479251ed&utm_source=gh-comment&runConclusion=FAILURE&runId=31a66939-c12c-57ac-8325-8ce8067ccdfc) |\n| <code>scenarios > model indexes should not reload the model for record in the same model</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52894?repo=metabase/metabase&commitHash=962d38fb5b30f9c7df0342de8b150296479251ed&utm_source=gh-comment&runConclusion=FAILURE&runId=805817cb-c8b5-5da8-83d7-4682a4f2e41e) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52894?repo=metabase/metabase&commitHash=962d38fb5b30f9c7df0342de8b150296479251ed&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 14, 50, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622679797, 'issue_id': 2818309977, 'author': 'nemanjaglumac', 'body': ""_Drop it like it's hot (reloading)_ 🎶"", 'created_at': datetime.datetime(2025, 1, 29, 19, 41, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625368806, 'issue_id': 2818309977, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `962d38fb5b30f9c7df0342de8b150296479251ed-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13059404402?pr=52894)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can share a dashboard card via public link\n`model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model\n`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette\n`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link"", 'created_at': datetime.datetime(2025, 1, 30, 19, 17, 45, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-29 14:50:10 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13604_tests-962d38fb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52894?repo=metabase/metabase&commitHash=962d38fb5b30f9c7df0342de8b150296479251ed&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52894?repo=metabase/metabase&commitHash=962d38fb5b30f9c7df0342de8b150296479251ed&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52894?repo=metabase/metabase&commitHash=962d38fb5b30f9c7df0342de8b150296479251ed&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52894?repo=metabase/metabase&commitHash=962d38fb5b30f9c7df0342de8b150296479251ed&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 51020 when primary key is not called 'id' ""before each"" hook for ""should pass primary key attribute to execute action endpoint when it's popu...</code> | Unable to find an element with the text ""Foo"" during a ""before each"" hook, causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52894?repo=metabase/metabase&commitHash=962d38fb5b30f9c7df0342de8b150296479251ed&utm_source=gh-comment&runConclusion=FAILURE&runId=0e9bfa3e-0f60-5787-bf9d-b359e0c6db38) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and 'Browse databases' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52894?repo=metabase/metabase&commitHash=962d38fb5b30f9c7df0342de8b150296479251ed&utm_source=gh-comment&runConclusion=FAILURE&runId=2fa4fc40-cf39-51d1-bb9a-90ba6122dcba) |
| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52894?repo=metabase/metabase&commitHash=962d38fb5b30f9c7df0342de8b150296479251ed&utm_source=gh-comment&runConclusion=FAILURE&runId=31a66939-c12c-57ac-8325-8ce8067ccdfc) |
| <code>scenarios > model indexes should not reload the model for record in the same model</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52894?repo=metabase/metabase&commitHash=962d38fb5b30f9c7df0342de8b150296479251ed&utm_source=gh-comment&runConclusion=FAILURE&runId=805817cb-c8b5-5da8-83d7-4682a4f2e41e) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52894?repo=metabase/metabase&commitHash=962d38fb5b30f9c7df0342de8b150296479251ed&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

nemanjaglumac on (2025-01-29 19:41:58 UTC): _Drop it like it's hot (reloading)_ 🎶

github-actions[bot] on (2025-01-30 19:17:45 UTC): ## e2e tests failed on `962d38fb5b30f9c7df0342de8b150296479251ed-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13059404402?pr=52894)

  File | Test Name
  ---- | ---------
  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can share a dashboard card via public link
`model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model
`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette
`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link

"
2818309000,pull_request,closed,,Add metrics around default and active engines,"These metrics will be useful to filter our dashboards and alarms during rollout.

They'll also be nice to track when deprecating engines.

For my local instance:

```
# HELP metabase_search_engine_active Whether a given engine is active. This does NOT mean that it is the default.
# TYPE metabase_search_engine_active gauge
metabase_search_engine_active{engine=""in-place"",} 1.0
metabase_search_engine_active{engine=""appdb"",} 1.0
...
# HELP metabase_search_engine_default Whether a given engine is being used as the default. User can override via cookie.
# TYPE metabase_search_engine_default gauge
metabase_search_engine_default{engine=""in-place"",} 0.0
metabase_search_engine_default{engine=""appdb"",} 1.0
```",crisptrutski,2025-01-29 14:00:29+00:00,['crisptrutski'],2025-01-29 16:43:54+00:00,2025-01-29 15:56:17+00:00,https://github.com/metabase/metabase/pull/52893,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2621868600, 'issue_id': 2818309000, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/98931_tests-f9bdbb32-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52893?repo=metabase/metabase&commitHash=f9bdbb3283c3c4de2d2fbbf04a74aee16bac4772&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52893?repo=metabase/metabase&commitHash=f9bdbb3283c3c4de2d2fbbf04a74aee16bac4772&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/278-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52893?repo=metabase/metabase&commitHash=f9bdbb3283c3c4de2d2fbbf04a74aee16bac4772&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52893?repo=metabase/metabase&commitHash=f9bdbb3283c3c4de2d2fbbf04a74aee16bac4772&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:326:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\\#\'sync.fingerprint/max-refingerp... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52893?repo=metabase/metabase&commitHash=f9bdbb3283c3c4de2d2fbbf04a74aee16bac4772&utm_source=gh-comment&runConclusion=FAILURE&runId=8b3d07fe-c84a-5cf1-b65a-383baf349215) |\n| <code>scenarios > model indexes should be able to search model index values and visit detail records</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52893?repo=metabase/metabase&commitHash=f9bdbb3283c3c4de2d2fbbf04a74aee16bac4772&utm_source=gh-comment&runConclusion=FAILURE&runId=3c30a22f-e373-577c-849d-2933688674c7) |\n| <code>scenarios > model indexes should be able to see details of a record outside the first 2000</code> | Unable to find an accessible element with the role ""option"" and name ""Anais Zieme"" after 4000ms timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52893?repo=metabase/metabase&commitHash=f9bdbb3283c3c4de2d2fbbf04a74aee16bac4772&utm_source=gh-comment&runConclusion=FAILURE&runId=a51a331e-9802-513c-9df5-e52122a2003a) |\n| <code>should not redirect users to other pages when linking an entity (metabase\\#35037) should not redirect users to search item</code> | The test timed out while trying to find an element with data-testid ""search-results-list"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52893?repo=metabase/metabase&commitHash=f9bdbb3283c3c4de2d2fbbf04a74aee16bac4772&utm_source=gh-comment&runConclusion=FAILURE&runId=74b283bc-dca4-5fca-adab-45ed76af462e) |\n\n[... and 274 more](https://app.trunk.io/metabase/flaky-tests/pr/52893?repo=metabase/metabase&commitHash=f9bdbb3283c3c4de2d2fbbf04a74aee16bac4772&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52893?repo=metabase/metabase&commitHash=f9bdbb3283c3c4de2d2fbbf04a74aee16bac4772&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 14, 50, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621882744, 'issue_id': 2818309000, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `f9bdbb3283c3c4de2d2fbbf04a74aee16bac4772-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13033730857?pr=52893)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | should not redirect users to other pages when linking an entity (metabase#35037) > should not redirect users to search item\n`model-indexes.cy.spec.js` | scenarios > model indexes > should be able to search model index values and visit detail records\n`model-indexes.cy.spec.js` | scenarios > model indexes > should be able to see details of a record outside the first 2000', 'created_at': datetime.datetime(2025, 1, 29, 14, 55, 34, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-29 14:50:37 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/98931_tests-f9bdbb32-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52893?repo=metabase/metabase&commitHash=f9bdbb3283c3c4de2d2fbbf04a74aee16bac4772&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52893?repo=metabase/metabase&commitHash=f9bdbb3283c3c4de2d2fbbf04a74aee16bac4772&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/278-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52893?repo=metabase/metabase&commitHash=f9bdbb3283c3c4de2d2fbbf04a74aee16bac4772&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52893?repo=metabase/metabase&commitHash=f9bdbb3283c3c4de2d2fbbf04a74aee16bac4772&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:326:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerp... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52893?repo=metabase/metabase&commitHash=f9bdbb3283c3c4de2d2fbbf04a74aee16bac4772&utm_source=gh-comment&runConclusion=FAILURE&runId=8b3d07fe-c84a-5cf1-b65a-383baf349215) |
| <code>scenarios > model indexes should be able to search model index values and visit detail records</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52893?repo=metabase/metabase&commitHash=f9bdbb3283c3c4de2d2fbbf04a74aee16bac4772&utm_source=gh-comment&runConclusion=FAILURE&runId=3c30a22f-e373-577c-849d-2933688674c7) |
| <code>scenarios > model indexes should be able to see details of a record outside the first 2000</code> | Unable to find an accessible element with the role ""option"" and name ""Anais Zieme"" after 4000ms timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52893?repo=metabase/metabase&commitHash=f9bdbb3283c3c4de2d2fbbf04a74aee16bac4772&utm_source=gh-comment&runConclusion=FAILURE&runId=a51a331e-9802-513c-9df5-e52122a2003a) |
| <code>should not redirect users to other pages when linking an entity (metabase\#35037) should not redirect users to search item</code> | The test timed out while trying to find an element with data-testid ""search-results-list"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52893?repo=metabase/metabase&commitHash=f9bdbb3283c3c4de2d2fbbf04a74aee16bac4772&utm_source=gh-comment&runConclusion=FAILURE&runId=74b283bc-dca4-5fca-adab-45ed76af462e) |

[... and 274 more](https://app.trunk.io/metabase/flaky-tests/pr/52893?repo=metabase/metabase&commitHash=f9bdbb3283c3c4de2d2fbbf04a74aee16bac4772&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52893?repo=metabase/metabase&commitHash=f9bdbb3283c3c4de2d2fbbf04a74aee16bac4772&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-29 14:55:34 UTC): ## e2e tests failed on `f9bdbb3283c3c4de2d2fbbf04a74aee16bac4772-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13033730857?pr=52893)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | should not redirect users to other pages when linking an entity (metabase#35037) > should not redirect users to search item
`model-indexes.cy.spec.js` | scenarios > model indexes > should be able to search model index values and visit detail records
`model-indexes.cy.spec.js` | scenarios > model indexes > should be able to see details of a record outside the first 2000

"
2818290902,pull_request,closed,,fix(entity-id): don't call to the card endpoint if the entity id starts with digits,"Note: I'm touching `frontend/src/metabase/nav/containers/MainNavbar/getSelectedItems.ts` and I wasn't sure who owns that so I asked for a review from the frontend team


# Description

https://metaboat.slack.com/archives/C5XHN8GLW/p1738149168742469?thread_ts=1738146001.638819&cid=C5XHN8GLW

Context: we implemented some paths that redirect from `/dashboard/entity/${entity_id}` to `/dashboard/${sequential_id}` with https://github.com/metabase/metabase/pull/52659

When I made the first implementation, the routes were supposed to be on the path `/question/:slug` and they should have figured out if it was an entity id or not.
When we decided to move the path to `/question/entity/:slug` I didn't rename the parameter so it staid `:slug`, even though it wasn't a slug.

That caused an unexpected behaviour where if the entity id started with digits, for example `/question/entity/12xx...`, a request was made to `/api/card/12`, I actually thing this would have happened even in the original plan.

This request doesn't have visible side-effects if you have access to that card so it was hard to detect, but in ci it happened that that request had a permission error, triggering an error state that made some tests fail.

The request starts from
https://github.com/metabase/metabase/blob/1d7d799d37ae0c669a8e8749a9a7602cc77044c7/frontend/src/metabase/nav/containers/MainNavbar/MainNavbar.tsx#L81-L88

Because `questionId` is being returned populated by 
https://github.com/metabase/metabase/blob/1d7d799d37ae0c669a8e8749a9a7602cc77044c7/frontend/src/metabase/nav/containers/MainNavbar/MainNavbar.tsx#L146-L154

Which only was returning true because it only checked if the path started with `/question`, which it was for `/question/entity/:xxx`
https://github.com/metabase/metabase/blob/1d7d799d37ae0c669a8e8749a9a7602cc77044c7/frontend/src/metabase/nav/containers/MainNavbar/getSelectedItems.ts#L46-L48

This PR changes the parameter to a more appropriate name, and also changes the functions to return false if the path is one of an entity id


# How to verify

Check that the test would fail with the old code.
Check that going to `http://localhost:3000/question/entity/8EdazRgPwfxdiltp7NCjS` doesn't make a request for `/api/card/8`.
At this moment, it will show a white page instead of a 404 page, I'll make a [separate PR](https://github.com/metabase/metabase/pull/52896) to address that too.",npretto,2025-01-29 13:53:13+00:00,['npretto'],2025-01-30 16:13:57+00:00,2025-01-30 15:29:48+00:00,https://github.com/metabase/metabase/pull/52892,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2621763122, 'issue_id': 2818290902, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `d9a52812886984db9baccacb169d5c8d6ef4b717-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13032835211?pr=52892)\n\n  File | Test Name\n  ---- | ---------\n  `official-collections.cy.spec.js` | official collections > premium token with paid features > displays official badge throughout the application\n`official-collections.cy.spec.js` | official collections > token expired or removed > should not display official collection icon anymore\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > can browse metrics\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should navigate to the metric when clicking a metric title\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should navigate to that collection when clicking a collection title\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should open the collections in a new tab when alt-clicking a metric\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should render truncated markdown in the table\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should be possible to sort the metrics\n`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to bookmark a metrics from the dot menu\n`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to navigate to the collection from the dot menu\nand more... | and more...', 'created_at': datetime.datetime(2025, 1, 29, 14, 11, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621866989, 'issue_id': 2818290902, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13675_tests-d9a52812-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52892?repo=metabase/metabase&commitHash=d9a52812886984db9baccacb169d5c8d6ef4b717&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/14-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52892?repo=metabase/metabase&commitHash=d9a52812886984db9baccacb169d5c8d6ef4b717&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52892?repo=metabase/metabase&commitHash=d9a52812886984db9baccacb169d5c8d6ef4b717&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52892?repo=metabase/metabase&commitHash=d9a52812886984db9baccacb169d5c8d6ef4b717&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > browse > metrics verified metrics on enterprise should respect the user setting on wether or not to only show verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52892?repo=metabase/metabase&commitHash=d9a52812886984db9baccacb169d5c8d6ef4b717&utm_source=gh-comment&runConclusion=FAILURE&runId=e9ab1672-5df5-566d-bd46-8cd25509d6de) |\n| <code>scenarios > browse > metrics verified metrics on enterprise should show the verified metrics filter when there are verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52892?repo=metabase/metabase&commitHash=d9a52812886984db9baccacb169d5c8d6ef4b717&utm_source=gh-comment&runConclusion=FAILURE&runId=af747a2c-3bf9-5abf-8702-a823ae08740f) |\n| <code>scenarios > browse > metrics dot menu when the user does not have write access should be possible to navigate to the collection from the dot menu</code> | Unable to find a label with the text \'Table of metrics\' within the expected time. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52892?repo=metabase/metabase&commitHash=d9a52812886984db9baccacb169d5c8d6ef4b717&utm_source=gh-comment&runConclusion=FAILURE&runId=40c0610b-e7a7-5925-a223-4f1a0d0eac0b) |\n| <code>scenarios > browse > metrics dot menu when the user does not have write access should not be possible to trash a metric from the dot menu when the...</code> | Unable to find a label with the text ""Table of metrics"" within the expected time. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52892?repo=metabase/metabase&commitHash=d9a52812886984db9baccacb169d5c8d6ef4b717&utm_source=gh-comment&runConclusion=FAILURE&runId=bc5a8640-bf1d-5568-81b3-d0391e29d252) |\n\n[... and 10 more](https://app.trunk.io/metabase/flaky-tests/pr/52892?repo=metabase/metabase&commitHash=d9a52812886984db9baccacb169d5c8d6ef4b717&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>official collections token expired or removed should not display official collection icon anymore</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52892?repo=metabase/metabase&commitHash=d9a52812886984db9baccacb169d5c8d6ef4b717&utm_source=gh-comment&runConclusion=FAILURE&runId=ace6e80a-adfc-562c-816e-c2560f2a9685) |\n| <code>official collections premium token with paid features displays official badge throughout the application</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52892?repo=metabase/metabase&commitHash=d9a52812886984db9baccacb169d5c8d6ef4b717&utm_source=gh-comment&runConclusion=FAILURE&runId=82b3d465-f52d-5b40-afca-e4619b01556f) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52892?repo=metabase/metabase&commitHash=d9a52812886984db9baccacb169d5c8d6ef4b717&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 14, 50, 1, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-29 14:11:26 UTC): ## e2e tests failed on `d9a52812886984db9baccacb169d5c8d6ef4b717-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13032835211?pr=52892)

  File | Test Name
  ---- | ---------
  `official-collections.cy.spec.js` | official collections > premium token with paid features > displays official badge throughout the application
`official-collections.cy.spec.js` | official collections > token expired or removed > should not display official collection icon anymore
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > can browse metrics
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should navigate to the metric when clicking a metric title
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should navigate to that collection when clicking a collection title
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should open the collections in a new tab when alt-clicking a metric
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should render truncated markdown in the table
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should be possible to sort the metrics
`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to bookmark a metrics from the dot menu
`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to navigate to the collection from the dot menu
and more... | and more...

trunk-io[bot] on (2025-01-29 14:50:01 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13675_tests-d9a52812-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52892?repo=metabase/metabase&commitHash=d9a52812886984db9baccacb169d5c8d6ef4b717&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/14-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52892?repo=metabase/metabase&commitHash=d9a52812886984db9baccacb169d5c8d6ef4b717&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52892?repo=metabase/metabase&commitHash=d9a52812886984db9baccacb169d5c8d6ef4b717&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52892?repo=metabase/metabase&commitHash=d9a52812886984db9baccacb169d5c8d6ef4b717&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > browse > metrics verified metrics on enterprise should respect the user setting on wether or not to only show verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52892?repo=metabase/metabase&commitHash=d9a52812886984db9baccacb169d5c8d6ef4b717&utm_source=gh-comment&runConclusion=FAILURE&runId=e9ab1672-5df5-566d-bd46-8cd25509d6de) |
| <code>scenarios > browse > metrics verified metrics on enterprise should show the verified metrics filter when there are verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52892?repo=metabase/metabase&commitHash=d9a52812886984db9baccacb169d5c8d6ef4b717&utm_source=gh-comment&runConclusion=FAILURE&runId=af747a2c-3bf9-5abf-8702-a823ae08740f) |
| <code>scenarios > browse > metrics dot menu when the user does not have write access should be possible to navigate to the collection from the dot menu</code> | Unable to find a label with the text 'Table of metrics' within the expected time. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52892?repo=metabase/metabase&commitHash=d9a52812886984db9baccacb169d5c8d6ef4b717&utm_source=gh-comment&runConclusion=FAILURE&runId=40c0610b-e7a7-5925-a223-4f1a0d0eac0b) |
| <code>scenarios > browse > metrics dot menu when the user does not have write access should not be possible to trash a metric from the dot menu when the...</code> | Unable to find a label with the text ""Table of metrics"" within the expected time. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52892?repo=metabase/metabase&commitHash=d9a52812886984db9baccacb169d5c8d6ef4b717&utm_source=gh-comment&runConclusion=FAILURE&runId=bc5a8640-bf1d-5568-81b3-d0391e29d252) |

[... and 10 more](https://app.trunk.io/metabase/flaky-tests/pr/52892?repo=metabase/metabase&commitHash=d9a52812886984db9baccacb169d5c8d6ef4b717&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>official collections token expired or removed should not display official collection icon anymore</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52892?repo=metabase/metabase&commitHash=d9a52812886984db9baccacb169d5c8d6ef4b717&utm_source=gh-comment&runConclusion=FAILURE&runId=ace6e80a-adfc-562c-816e-c2560f2a9685) |
| <code>official collections premium token with paid features displays official badge throughout the application</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52892?repo=metabase/metabase&commitHash=d9a52812886984db9baccacb169d5c8d6ef4b717&utm_source=gh-comment&runConclusion=FAILURE&runId=82b3d465-f52d-5b40-afca-e4619b01556f) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52892?repo=metabase/metabase&commitHash=d9a52812886984db9baccacb169d5c8d6ef4b717&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2817944290,pull_request,closed,,fix(sdk): remove unsafe lifecycle errors from Visualization,"Part of https://github.com/metabase/metabase/issues/48497

### Description

Removes the unsafe React lifecycle from the `<Visualization />` component, which was causing console errors:

- Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code
- Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code.

### How to verify

Verification with manual tests

- Run the SDK and render a StaticQuestion or InteractiveQuestion (which should render a Visualization)
- The UNSAFE_componentWillMount and UNSAFE_componentWillReceiveProps should still be there, but come from other components (e.g. Table, TableInteractive, Link from react-router 3, or DashboardGrid)

Verification with end-to-end tests

- Add a dummy UNSAFE_componentWillMount to Visualization.jsx
- The SDK end-to-end test now errors due to unsafe lifecycle being in Visualization",heypoom,2025-01-29 11:29:38+00:00,['heypoom'],2025-02-05 14:46:40+00:00,2025-02-05 13:39:54+00:00,https://github.com/metabase/metabase/pull/52885,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2621651610, 'issue_id': 2817944290, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 07967d1d548b889ddb86fefb822e5c13325f553e...e2fd258054ae16d3fa5c5e8b871af36a55bed8a1.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx |', 'created_at': datetime.datetime(2025, 1, 29, 13, 26, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621780185, 'issue_id': 2817944290, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13672_tests-d5979ac2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=d5979ac2d2041b1761c8bc277c15370004162835&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=d5979ac2d2041b1761c8bc277c15370004162835&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/9-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=d5979ac2d2041b1761c8bc277c15370004162835&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=d5979ac2d2041b1761c8bc277c15370004162835&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=d5979ac2d2041b1761c8bc277c15370004162835&utm_source=gh-comment&runConclusion=FAILURE&runId=b148c178-a6e2-5637-a87f-af4e51a0a350) |\n| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and \'Browse databases\' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=d5979ac2d2041b1761c8bc277c15370004162835&utm_source=gh-comment&runConclusion=FAILURE&runId=d1d66a9a-cd42-5456-b8fd-ae5e2c98cc4e) |\n| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=d5979ac2d2041b1761c8bc277c15370004162835&utm_source=gh-comment&runConclusion=FAILURE&runId=fed560b4-a5b8-54d9-89c2-ddeb92e1a96c) |\n| <code>scenarios > model indexes should not reload the model for record in the same model</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=d5979ac2d2041b1761c8bc277c15370004162835&utm_source=gh-comment&runConclusion=FAILURE&runId=6e3ff1b1-673a-5354-8839-e589eb288fc9) |\n\n[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=d5979ac2d2041b1761c8bc277c15370004162835&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=d5979ac2d2041b1761c8bc277c15370004162835&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 14, 17, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621780186, 'issue_id': 2817944290, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13511_tests-e2fd2580-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=e2fd258054ae16d3fa5c5e8b871af36a55bed8a1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/14-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=e2fd258054ae16d3fa5c5e8b871af36a55bed8a1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=e2fd258054ae16d3fa5c5e8b871af36a55bed8a1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=e2fd258054ae16d3fa5c5e8b871af36a55bed8a1&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>extract action url columns Domain</code> | The expected text 'Domain' was not found in the element, instead 'Birth Date' was found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=e2fd258054ae16d3fa5c5e8b871af36a55bed8a1&utm_source=gh-comment&runConclusion=FAILURE&runId=73d32068-98c9-5e9d-ad5a-ce8e5340fa6a) |\n| <code>extract action url columns Subdomain</code> | The expected text 'Subdomain' was not found in the element, instead 'Birth Date' was found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=e2fd258054ae16d3fa5c5e8b871af36a55bed8a1&utm_source=gh-comment&runConclusion=FAILURE&runId=5302e95f-7a1d-51a1-81e0-d378032584c1) |\n| <code>extract action url columns Host</code> | The expected text 'Host' was not found in the element, instead 'Birth Date' was found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=e2fd258054ae16d3fa5c5e8b871af36a55bed8a1&utm_source=gh-comment&runConclusion=FAILURE&runId=d5ca265c-410e-54ef-b853-ea870799dae9) |\n| <code>Table should render correct background colors</code> | failure\\_text: NotFoundError: The node to be removed is not a child of this node. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=e2fd258054ae16d3fa5c5e8b871af36a55bed8a1&utm_source=gh-comment&runConclusion=FAILURE&runId=fa2245f3-a21b-5a23-a255-2bf109e51eea) |\n\n[... and 10 more](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=e2fd258054ae16d3fa5c5e8b871af36a55bed8a1&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=e2fd258054ae16d3fa5c5e8b871af36a55bed8a1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 29, 14, 17, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627264761, 'issue_id': 2817944290, 'author': 'WiNloSt', 'body': ""Do you want this PR to close https://github.com/metabase/metabase/issues/48497? It's only fix half of the issue though. I think you can't use a keyword like `partially fixes #xxx` I did `partial fix #xxx` also didn't work. If you don't wanna close it just use other keyword like `part of #xxx` or `relate to #xxx` or something."", 'created_at': datetime.datetime(2025, 1, 31, 12, 58, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636241800, 'issue_id': 2817944290, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `d5979ac2d2041b1761c8bc277c15370004162835-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13154412177?pr=52885)\n\n  File | Test Name\n  ---- | ---------\n  `model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model\n`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette\n`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link\n`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results"", 'created_at': datetime.datetime(2025, 2, 5, 9, 49, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636884145, 'issue_id': 2817944290, 'author': 'heypoom', 'body': '@metabase-bot backport release-x.52.x', 'created_at': datetime.datetime(2025, 2, 5, 13, 40, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2636886727, 'issue_id': 2817944290, 'author': 'github-actions[bot]', 'body': '@heypoom Manual conflict resolution is required', 'created_at': datetime.datetime(2025, 2, 5, 13, 41, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2637059214, 'issue_id': 2817944290, 'author': 'github-actions[bot]', 'body': '🚀 This should also be released by [v0.53](https://github.com/metabase/metabase/milestone/287)', 'created_at': datetime.datetime(2025, 2, 5, 14, 46, 39, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-29 13:26:31 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 07967d1d548b889ddb86fefb822e5c13325f553e...e2fd258054ae16d3fa5c5e8b871af36a55bed8a1.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx |

trunk-io[bot] on (2025-01-29 14:17:29 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13672_tests-d5979ac2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=d5979ac2d2041b1761c8bc277c15370004162835&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=d5979ac2d2041b1761c8bc277c15370004162835&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/9-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=d5979ac2d2041b1761c8bc277c15370004162835&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=d5979ac2d2041b1761c8bc277c15370004162835&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=d5979ac2d2041b1761c8bc277c15370004162835&utm_source=gh-comment&runConclusion=FAILURE&runId=b148c178-a6e2-5637-a87f-af4e51a0a350) |
| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and 'Browse databases' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=d5979ac2d2041b1761c8bc277c15370004162835&utm_source=gh-comment&runConclusion=FAILURE&runId=d1d66a9a-cd42-5456-b8fd-ae5e2c98cc4e) |
| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=d5979ac2d2041b1761c8bc277c15370004162835&utm_source=gh-comment&runConclusion=FAILURE&runId=fed560b4-a5b8-54d9-89c2-ddeb92e1a96c) |
| <code>scenarios > model indexes should not reload the model for record in the same model</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=d5979ac2d2041b1761c8bc277c15370004162835&utm_source=gh-comment&runConclusion=FAILURE&runId=6e3ff1b1-673a-5354-8839-e589eb288fc9) |

[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=d5979ac2d2041b1761c8bc277c15370004162835&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=d5979ac2d2041b1761c8bc277c15370004162835&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2025-01-29 14:17:29 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13511_tests-e2fd2580-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=e2fd258054ae16d3fa5c5e8b871af36a55bed8a1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/14-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=e2fd258054ae16d3fa5c5e8b871af36a55bed8a1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=e2fd258054ae16d3fa5c5e8b871af36a55bed8a1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=e2fd258054ae16d3fa5c5e8b871af36a55bed8a1&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>extract action url columns Domain</code> | The expected text 'Domain' was not found in the element, instead 'Birth Date' was found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=e2fd258054ae16d3fa5c5e8b871af36a55bed8a1&utm_source=gh-comment&runConclusion=FAILURE&runId=73d32068-98c9-5e9d-ad5a-ce8e5340fa6a) |
| <code>extract action url columns Subdomain</code> | The expected text 'Subdomain' was not found in the element, instead 'Birth Date' was found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=e2fd258054ae16d3fa5c5e8b871af36a55bed8a1&utm_source=gh-comment&runConclusion=FAILURE&runId=5302e95f-7a1d-51a1-81e0-d378032584c1) |
| <code>extract action url columns Host</code> | The expected text 'Host' was not found in the element, instead 'Birth Date' was found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=e2fd258054ae16d3fa5c5e8b871af36a55bed8a1&utm_source=gh-comment&runConclusion=FAILURE&runId=d5ca265c-410e-54ef-b853-ea870799dae9) |
| <code>Table should render correct background colors</code> | failure\_text: NotFoundError: The node to be removed is not a child of this node. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=e2fd258054ae16d3fa5c5e8b871af36a55bed8a1&utm_source=gh-comment&runConclusion=FAILURE&runId=fa2245f3-a21b-5a23-a255-2bf109e51eea) |

[... and 10 more](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=e2fd258054ae16d3fa5c5e8b871af36a55bed8a1&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52885?repo=metabase/metabase&commitHash=e2fd258054ae16d3fa5c5e8b871af36a55bed8a1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

WiNloSt on (2025-01-31 12:58:57 UTC): Do you want this PR to close https://github.com/metabase/metabase/issues/48497? It's only fix half of the issue though. I think you can't use a keyword like `partially fixes #xxx` I did `partial fix #xxx` also didn't work. If you don't wanna close it just use other keyword like `part of #xxx` or `relate to #xxx` or something.

github-actions[bot] on (2025-02-05 09:49:43 UTC): ## e2e tests failed on `d5979ac2d2041b1761c8bc277c15370004162835-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13154412177?pr=52885)

  File | Test Name
  ---- | ---------
  `model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model
`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette
`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link
`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results

heypoom (Issue Creator) on (2025-02-05 13:40:11 UTC): @metabase-bot backport release-x.52.x

github-actions[bot] on (2025-02-05 13:41:23 UTC): @heypoom Manual conflict resolution is required

github-actions[bot] on (2025-02-05 14:46:39 UTC): 🚀 This should also be released by [v0.53](https://github.com/metabase/metabase/milestone/287)

"
2817876956,pull_request,closed,,"🤖 backported ""Remove deprecated custom Cypress API commands""",#52878,github-automation-metabase,2025-01-29 11:00:16+00:00,"['kamilmielnik', 'github-automation-metabase']",2025-01-29 12:19:31+00:00,2025-01-29 11:36:26+00:00,https://github.com/metabase/metabase/pull/52884,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2621348118, 'issue_id': 2817876956, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `407413925ec5933d92c53d1211455aabe4d4f2ad-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13029845520?pr=52884)\n\n  File | Test Name\n  ---- | ---------\n  `onboarding-checklist.cy.spec.ts` | Onboarding checklist page > should let non-admins access this page\n`onboarding-checklist.cy.spec.ts` | Inaccessible Onboarding checklist > should not render when embedded in an iframe\n`onboarding-checklist.cy.spec.ts` | Onboarding checklist events > should track clicking on ""How to use Metabase"" button\n`new-menu.cy.spec.js` | metabase > scenarios > navbar > new menu > question item opens question notebook editor\n`dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)\n`permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)\n`official-collections.cy.spec.js` | official collections > premium token with paid features > displays official badge throughout the application\n`official-collections.cy.spec.js` | official collections > token expired or removed > should not display official collection icon anymore', 'created_at': datetime.datetime(2025, 1, 29, 11, 10, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621418661, 'issue_id': 2817876956, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3896_tests-40741392-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52884?repo=metabase/metabase&commitHash=407413925ec5933d92c53d1211455aabe4d4f2ad&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/8-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52884?repo=metabase/metabase&commitHash=407413925ec5933d92c53d1211455aabe4d4f2ad&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52884?repo=metabase/metabase&commitHash=407413925ec5933d92c53d1211455aabe4d4f2ad&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52884?repo=metabase/metabase&commitHash=407413925ec5933d92c53d1211455aabe4d4f2ad&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding-sdk > static-dashboard ""before each"" hook for ""should render dashboard content""</code> | The \\`cy.createDashboard\\` function is not recognized, causing a failure in the test. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52884?repo=metabase/metabase&commitHash=407413925ec5933d92c53d1211455aabe4d4f2ad&utm_source=gh-comment&runConclusion=FAILURE&runId=6e44d3b5-ea75-5da7-a6a4-eac93286ae10) |\n| <code>scenarios > embedding-sdk > interactive-dashboard ""before each"" hook for ""should be able to display custom question layout when clicking on dashboa...</code> | The \\`cy.createDashboard\\` function is not recognized, causing a failure in the test. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52884?repo=metabase/metabase&commitHash=407413925ec5933d92c53d1211455aabe4d4f2ad&utm_source=gh-comment&runConclusion=FAILURE&runId=80d2e6ad-85ca-57eb-b73f-c5f4252947e9) |\n| <code>scenarios > embedding-sdk > editable-dashboard ""before each"" hook for ""Should not open sidesheet when clicking last edit info (metabase\\#48354)""</code> | The \\`cy.createDashboard\\` function is not recognized, causing a failure in the test. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52884?repo=metabase/metabase&commitHash=407413925ec5933d92c53d1211455aabe4d4f2ad&utm_source=gh-comment&runConclusion=FAILURE&runId=6a7df066-6506-5da8-9f03-c2daedc540f7) |\n| <code>issue 16559 should always show the most recent revision (metabase\\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52884?repo=metabase/metabase&commitHash=407413925ec5933d92c53d1211455aabe4d4f2ad&utm_source=gh-comment&runConclusion=FAILURE&runId=752ef18c-c07e-54b9-a4ce-0b683f9754c0) |\n\n[... and 4 more](https://app.trunk.io/metabase/flaky-tests/pr/52884?repo=metabase/metabase&commitHash=407413925ec5933d92c53d1211455aabe4d4f2ad&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>official collections token expired or removed should not display official collection icon anymore</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52884?repo=metabase/metabase&commitHash=407413925ec5933d92c53d1211455aabe4d4f2ad&utm_source=gh-comment&runConclusion=FAILURE&runId=0d5ef7e3-68e5-555c-acaf-f875e7a17278) |\n| <code>official collections premium token with paid features displays official badge throughout the application</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52884?repo=metabase/metabase&commitHash=407413925ec5933d92c53d1211455aabe4d4f2ad&utm_source=gh-comment&runConclusion=FAILURE&runId=d81470b0-536c-5db5-a7b4-ba4d0f667044) |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\#24966)</code> | The \'body\' property was accessed on an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52884?repo=metabase/metabase&commitHash=407413925ec5933d92c53d1211455aabe4d4f2ad&utm_source=gh-comment&runConclusion=FAILURE&runId=9f1c5a01-9a8c-5b69-ac8d-443fecb7aa96) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52884?repo=metabase/metabase&commitHash=407413925ec5933d92c53d1211455aabe4d4f2ad&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 11, 45, 17, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-29 11:10:41 UTC): ## e2e tests failed on `407413925ec5933d92c53d1211455aabe4d4f2ad-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13029845520?pr=52884)

  File | Test Name
  ---- | ---------
  `onboarding-checklist.cy.spec.ts` | Onboarding checklist page > should let non-admins access this page
`onboarding-checklist.cy.spec.ts` | Inaccessible Onboarding checklist > should not render when embedded in an iframe
`onboarding-checklist.cy.spec.ts` | Onboarding checklist events > should track clicking on ""How to use Metabase"" button
`new-menu.cy.spec.js` | metabase > scenarios > navbar > new menu > question item opens question notebook editor
`dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)
`permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)
`official-collections.cy.spec.js` | official collections > premium token with paid features > displays official badge throughout the application
`official-collections.cy.spec.js` | official collections > token expired or removed > should not display official collection icon anymore

trunk-io[bot] on (2025-01-29 11:45:17 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3896_tests-40741392-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52884?repo=metabase/metabase&commitHash=407413925ec5933d92c53d1211455aabe4d4f2ad&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/8-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52884?repo=metabase/metabase&commitHash=407413925ec5933d92c53d1211455aabe4d4f2ad&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52884?repo=metabase/metabase&commitHash=407413925ec5933d92c53d1211455aabe4d4f2ad&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52884?repo=metabase/metabase&commitHash=407413925ec5933d92c53d1211455aabe4d4f2ad&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding-sdk > static-dashboard ""before each"" hook for ""should render dashboard content""</code> | The \`cy.createDashboard\` function is not recognized, causing a failure in the test. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52884?repo=metabase/metabase&commitHash=407413925ec5933d92c53d1211455aabe4d4f2ad&utm_source=gh-comment&runConclusion=FAILURE&runId=6e44d3b5-ea75-5da7-a6a4-eac93286ae10) |
| <code>scenarios > embedding-sdk > interactive-dashboard ""before each"" hook for ""should be able to display custom question layout when clicking on dashboa...</code> | The \`cy.createDashboard\` function is not recognized, causing a failure in the test. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52884?repo=metabase/metabase&commitHash=407413925ec5933d92c53d1211455aabe4d4f2ad&utm_source=gh-comment&runConclusion=FAILURE&runId=80d2e6ad-85ca-57eb-b73f-c5f4252947e9) |
| <code>scenarios > embedding-sdk > editable-dashboard ""before each"" hook for ""Should not open sidesheet when clicking last edit info (metabase\#48354)""</code> | The \`cy.createDashboard\` function is not recognized, causing a failure in the test. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52884?repo=metabase/metabase&commitHash=407413925ec5933d92c53d1211455aabe4d4f2ad&utm_source=gh-comment&runConclusion=FAILURE&runId=6a7df066-6506-5da8-9f03-c2daedc540f7) |
| <code>issue 16559 should always show the most recent revision (metabase\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52884?repo=metabase/metabase&commitHash=407413925ec5933d92c53d1211455aabe4d4f2ad&utm_source=gh-comment&runConclusion=FAILURE&runId=752ef18c-c07e-54b9-a4ce-0b683f9754c0) |

[... and 4 more](https://app.trunk.io/metabase/flaky-tests/pr/52884?repo=metabase/metabase&commitHash=407413925ec5933d92c53d1211455aabe4d4f2ad&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>official collections token expired or removed should not display official collection icon anymore</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52884?repo=metabase/metabase&commitHash=407413925ec5933d92c53d1211455aabe4d4f2ad&utm_source=gh-comment&runConclusion=FAILURE&runId=0d5ef7e3-68e5-555c-acaf-f875e7a17278) |
| <code>official collections premium token with paid features displays official badge throughout the application</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52884?repo=metabase/metabase&commitHash=407413925ec5933d92c53d1211455aabe4d4f2ad&utm_source=gh-comment&runConclusion=FAILURE&runId=d81470b0-536c-5db5-a7b4-ba4d0f667044) |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52884?repo=metabase/metabase&commitHash=407413925ec5933d92c53d1211455aabe4d4f2ad&utm_source=gh-comment&runConclusion=FAILURE&runId=9f1c5a01-9a8c-5b69-ac8d-443fecb7aa96) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52884?repo=metabase/metabase&commitHash=407413925ec5933d92c53d1211455aabe4d4f2ad&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2817847992,pull_request,closed,,"🤖 backported ""fix path in codeowners""",#52881,github-automation-metabase,2025-01-29 10:47:42+00:00,"['filiphric', 'github-automation-metabase']",2025-01-29 11:47:51+00:00,2025-01-29 10:48:36+00:00,https://github.com/metabase/metabase/pull/52883,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2621423694, 'issue_id': 2817847992, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/29_tests-dffae185-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52883?repo=metabase/metabase&commitHash=dffae185842f1a638f5e4379984efc7152715f26&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52883?repo=metabase/metabase&commitHash=dffae185842f1a638f5e4379984efc7152715f26&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52883?repo=metabase/metabase&commitHash=dffae185842f1a638f5e4379984efc7152715f26&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52883?repo=metabase/metabase&commitHash=dffae185842f1a638f5e4379984efc7152715f26&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52883?repo=metabase/metabase&commitHash=dffae185842f1a638f5e4379984efc7152715f26&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 11, 47, 50, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-29 11:47:50 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/29_tests-dffae185-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52883?repo=metabase/metabase&commitHash=dffae185842f1a638f5e4379984efc7152715f26&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52883?repo=metabase/metabase&commitHash=dffae185842f1a638f5e4379984efc7152715f26&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52883?repo=metabase/metabase&commitHash=dffae185842f1a638f5e4379984efc7152715f26&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52883?repo=metabase/metabase&commitHash=dffae185842f1a638f5e4379984efc7152715f26&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52883?repo=metabase/metabase&commitHash=dffae185842f1a638f5e4379984efc7152715f26&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2817741279,pull_request,closed,,fix path in codeowners,"Closes https://linear.app/metabase-inc/issue/DEVX-116/fix-codeowners-reference

### Description

Previous path was not set up properly, see [github docs](https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/customizing-your-repository/about-code-owners)

### How to verify

We can only verify this after the fact, but looking at the docs, this change shoul be safe",filiphric,2025-01-29 10:02:04+00:00,['filiphric'],2025-01-29 10:49:04+00:00,2025-01-29 10:46:47+00:00,https://github.com/metabase/metabase/pull/52881,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2817722939,pull_request,closed,,fix(sdk): fix minWidth console error in dashboard grid,"Closes https://github.com/metabase/metabase/issues/48499

Fixes the minWidth console error when rendering the DashboardGrid component (e.g. in the Embedding SDK). This is caused by the prop-type validation logic in the library we use:

```
    // All optional
    minW: function (props: Props, propName: string) {
      const value = props[propName];
      if (typeof value !== ""number"") return new Error(""minWidth not Number"");
      if (value > props.w || value > props.maxW)
        return new Error(""minWidth larger than item width/maxWidth"");
    },
```

As we forcibly sets all width (`w`) to `1` in the mobile layout, minW can be greater than w and cause the console error `Failed prop type: minWidth larger than item width/maxWidth` to show up.",heypoom,2025-01-29 09:54:15+00:00,['heypoom'],2025-02-03 17:19:01+00:00,2025-02-03 17:18:42+00:00,https://github.com/metabase/metabase/pull/52880,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2621287245, 'issue_id': 2817722939, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13510_tests-03b8f67b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52880?repo=metabase/metabase&commitHash=03b8f67b98a36458cd8d5a953bf55f06df78332a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52880?repo=metabase/metabase&commitHash=03b8f67b98a36458cd8d5a953bf55f06df78332a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52880?repo=metabase/metabase&commitHash=03b8f67b98a36458cd8d5a953bf55f06df78332a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52880?repo=metabase/metabase&commitHash=03b8f67b98a36458cd8d5a953bf55f06df78332a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52880?repo=metabase/metabase&commitHash=03b8f67b98a36458cd8d5a953bf55f06df78332a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 10, 46, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631608351, 'issue_id': 2817722939, 'author': 'heypoom', 'body': '@metabase-bot backport release-x.52.x', 'created_at': datetime.datetime(2025, 2, 3, 17, 18, 59, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-29 10:46:08 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13510_tests-03b8f67b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52880?repo=metabase/metabase&commitHash=03b8f67b98a36458cd8d5a953bf55f06df78332a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52880?repo=metabase/metabase&commitHash=03b8f67b98a36458cd8d5a953bf55f06df78332a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52880?repo=metabase/metabase&commitHash=03b8f67b98a36458cd8d5a953bf55f06df78332a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52880?repo=metabase/metabase&commitHash=03b8f67b98a36458cd8d5a953bf55f06df78332a&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52880?repo=metabase/metabase&commitHash=03b8f67b98a36458cd8d5a953bf55f06df78332a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

heypoom (Issue Creator) on (2025-02-03 17:18:59 UTC): @metabase-bot backport release-x.52.x

"
2817560656,pull_request,closed,,Remove deprecated custom Cypress API commands,"### Description

Thanks to #50156 it's now trivial to replace our deprecated custom Cypress commands with our custom helpers, e.g. `cy.createQuestion` with `H.createQuestion`.
This PR does it for all API commands and removes the commands (see `e2e/support/commands/api.ts`).

### How to verify

CI is green.

### How to redo this PR

1. Do string replace:
```
find e2e -type f \( -name ""*.spec.*"" \) -exec perl -0777 -i -pe 's/cy\s*\.\s*archiveCollection/H.archiveCollection/g; s/cy\s*\.\s*archiveDashboard/H.archiveDashboard/g; s/cy\s*\.\s*createCollection/H.createCollection/g; s/cy\s*\.\s*createDashboard/H.createDashboard/g; s/cy\s*\.\s*createDashboardWithQuestions/H.createDashboardWithQuestions/g; s/cy\s*\.\s*createNativeQuestion/H.createNativeQuestion/g; s/cy\s*\.\s*createNativeQuestionAndDashboard/H.createNativeQuestionAndDashboard/g; s/cy\s*\.\s*createQuestion/H.createQuestion/g; s/cy\s*\.\s*createQuestionAndAddToDashboard/H.createQuestionAndAddToDashboard/g; s/cy\s*\.\s*createQuestionAndDashboard/H.createQuestionAndDashboard/g; s/cy\s*\.\s*editDashboardCard/H.editDashboardCard/g' {} +
```
2. Manually update imports in remaining files. To find remaining files:
```
pcregrep -rlM ""cy\s*\.\s*(archiveCollection|archiveDashboard|createCollection|createDashboard|createDashboardWithQuestion|createNativeQuestion|createNativeQuestionAndDashboard|createQuestion|createQuestionAndAddToDashboard|createQuestionAndDashboard|editDashboardCard)"" e2e
```
3. Manually fix `(cy as any)` block in `e2e/test/scenarios/admin/performance/helpers/e2e-performance-helpers.ts`
3. Remove `e2e/support/commands/api.ts` and references to it
4. Run Prettier and ESLint to reformat things",kamilmielnik,2025-01-29 08:36:15+00:00,['kamilmielnik'],2025-01-29 11:36:54+00:00,2025-01-29 10:59:24+00:00,https://github.com/metabase/metabase/pull/52878,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2621072557, 'issue_id': 2817560656, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3734_tests-3a69d175-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=3a69d175b370d6d49ab86bd0ad73f9c9cf8f2096&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=3a69d175b370d6d49ab86bd0ad73f9c9cf8f2096&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=3a69d175b370d6d49ab86bd0ad73f9c9cf8f2096&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=3a69d175b370d6d49ab86bd0ad73f9c9cf8f2096&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 16559 should always show the most recent revision (metabase\\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=3a69d175b370d6d49ab86bd0ad73f9c9cf8f2096&utm_source=gh-comment&runConclusion=FAILURE&runId=7c90b09d-be1f-530f-a74f-fbf45b75d6ba) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=3a69d175b370d6d49ab86bd0ad73f9c9cf8f2096&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 9, 12, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621072565, 'issue_id': 2817560656, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3681_tests-f079cc5c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/66-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The \\`createDashboard\\` function is not recognized as a function. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment&runConclusion=FAILURE&runId=59be7061-7977-56d6-990a-b701a8c29f71) |\n| <code>scenarios > x-rays should be able to open x-ray on a dashcard from a dashboard with multiple tabs</code> | failure\\_message: cy.createDashboard is not a functionfailure\\_text: TypeError: cy.createDashboard is not a function    at Context.eval (../../../.... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment&runConclusion=FAILURE&runId=996c5a6a-4e4b-5194-8b72-3446d24b2a17) |\n| <code>issue 24660 ""before each"" hook for ""should properly show contents of different collections with the same name (metabase\\#24660)""</code> | The \\`cy.createCollection\\` function is not recognized, causing an error in the test. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment&runConclusion=FAILURE&runId=2ab31aba-88db-54c9-b69a-5f55a4643e66) |\n| <code>scenarios > dashboard > parameters when parameters are (dis)connected to dashcards ""before each"" hook for ""should not fetch dashcard data when filt...</code> | cy.createDashboard is not a function, indicating a mistake in the code that tries to call a function that does not exist. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment&runConclusion=FAILURE&runId=1eea58b6-b309-5038-93fb-440dacf7c81f) |\n\n[... and 62 more](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 9, 12, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621072567, 'issue_id': 2817560656, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3681_tests-f079cc5c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/66-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The \\`createDashboard\\` function is not recognized as a function. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment&runConclusion=FAILURE&runId=59be7061-7977-56d6-990a-b701a8c29f71) |\n| <code>scenarios > x-rays should be able to open x-ray on a dashcard from a dashboard with multiple tabs</code> | failure\\_message: cy.createDashboard is not a functionfailure\\_text: TypeError: cy.createDashboard is not a function    at Context.eval (../../../.... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment&runConclusion=FAILURE&runId=996c5a6a-4e4b-5194-8b72-3446d24b2a17) |\n| <code>issue 24660 ""before each"" hook for ""should properly show contents of different collections with the same name (metabase\\#24660)""</code> | The \\`cy.createCollection\\` function is not recognized, causing an error in the test. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment&runConclusion=FAILURE&runId=2ab31aba-88db-54c9-b69a-5f55a4643e66) |\n| <code>scenarios > dashboard > parameters when parameters are (dis)connected to dashcards ""before each"" hook for ""should not fetch dashcard data when filt...</code> | cy.createDashboard is not a function, indicating a mistake in the code that tries to call a function that does not exist. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment&runConclusion=FAILURE&runId=1eea58b6-b309-5038-93fb-440dacf7c81f) |\n\n[... and 62 more](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 9, 12, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621190534, 'issue_id': 2817560656, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `3a69d175b370d6d49ab86bd0ad73f9c9cf8f2096-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13028722192?pr=52878)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)', 'created_at': datetime.datetime(2025, 1, 29, 10, 5, 8, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-29 09:12:57 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3734_tests-3a69d175-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=3a69d175b370d6d49ab86bd0ad73f9c9cf8f2096&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=3a69d175b370d6d49ab86bd0ad73f9c9cf8f2096&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=3a69d175b370d6d49ab86bd0ad73f9c9cf8f2096&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=3a69d175b370d6d49ab86bd0ad73f9c9cf8f2096&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 16559 should always show the most recent revision (metabase\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=3a69d175b370d6d49ab86bd0ad73f9c9cf8f2096&utm_source=gh-comment&runConclusion=FAILURE&runId=7c90b09d-be1f-530f-a74f-fbf45b75d6ba) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=3a69d175b370d6d49ab86bd0ad73f9c9cf8f2096&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2025-01-29 09:12:57 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3681_tests-f079cc5c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/66-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The \`createDashboard\` function is not recognized as a function. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment&runConclusion=FAILURE&runId=59be7061-7977-56d6-990a-b701a8c29f71) |
| <code>scenarios > x-rays should be able to open x-ray on a dashcard from a dashboard with multiple tabs</code> | failure\_message: cy.createDashboard is not a functionfailure\_text: TypeError: cy.createDashboard is not a function    at Context.eval (../../../.... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment&runConclusion=FAILURE&runId=996c5a6a-4e4b-5194-8b72-3446d24b2a17) |
| <code>issue 24660 ""before each"" hook for ""should properly show contents of different collections with the same name (metabase\#24660)""</code> | The \`cy.createCollection\` function is not recognized, causing an error in the test. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment&runConclusion=FAILURE&runId=2ab31aba-88db-54c9-b69a-5f55a4643e66) |
| <code>scenarios > dashboard > parameters when parameters are (dis)connected to dashcards ""before each"" hook for ""should not fetch dashcard data when filt...</code> | cy.createDashboard is not a function, indicating a mistake in the code that tries to call a function that does not exist. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment&runConclusion=FAILURE&runId=1eea58b6-b309-5038-93fb-440dacf7c81f) |

[... and 62 more](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2025-01-29 09:12:57 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3681_tests-f079cc5c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/66-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The \`createDashboard\` function is not recognized as a function. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment&runConclusion=FAILURE&runId=59be7061-7977-56d6-990a-b701a8c29f71) |
| <code>scenarios > x-rays should be able to open x-ray on a dashcard from a dashboard with multiple tabs</code> | failure\_message: cy.createDashboard is not a functionfailure\_text: TypeError: cy.createDashboard is not a function    at Context.eval (../../../.... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment&runConclusion=FAILURE&runId=996c5a6a-4e4b-5194-8b72-3446d24b2a17) |
| <code>issue 24660 ""before each"" hook for ""should properly show contents of different collections with the same name (metabase\#24660)""</code> | The \`cy.createCollection\` function is not recognized, causing an error in the test. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment&runConclusion=FAILURE&runId=2ab31aba-88db-54c9-b69a-5f55a4643e66) |
| <code>scenarios > dashboard > parameters when parameters are (dis)connected to dashcards ""before each"" hook for ""should not fetch dashcard data when filt...</code> | cy.createDashboard is not a function, indicating a mistake in the code that tries to call a function that does not exist. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment&runConclusion=FAILURE&runId=1eea58b6-b309-5038-93fb-440dacf7c81f) |

[... and 62 more](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52878?repo=metabase/metabase&commitHash=f079cc5c3c03b3c76fed2749b637c4cd359cf6b9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-29 10:05:08 UTC): ## e2e tests failed on `3a69d175b370d6d49ab86bd0ad73f9c9cf8f2096-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13028722192?pr=52878)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)

"
2817478365,pull_request,closed,,docs: week of year,"Requested by product. Working off [this doc](https://www.notion.so/metabase/Week-of-Year-Calculations-17769354c90180f3a82af1c55656e2e9). Any phrasing suggestions welcome because I struggled with this one, and in some places just pasted from the doc.

I'm working with Jay on some visual representation of the menagerie of ways we compute first week of the year.",alexyarosh,2025-01-29 07:51:46+00:00,['alexyarosh'],2025-01-31 20:44:19+00:00,2025-01-30 22:40:43+00:00,https://github.com/metabase/metabase/pull/52877,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2628326666, 'issue_id': 2817478365, 'author': 'alexyarosh', 'body': '@metabase-bot backport release-x.52.x', 'created_at': datetime.datetime(2025, 1, 31, 20, 14, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628328270, 'issue_id': 2817478365, 'author': 'github-actions[bot]', 'body': '@alexyarosh Manual conflict resolution is required', 'created_at': datetime.datetime(2025, 1, 31, 20, 15, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628367907, 'issue_id': 2817478365, 'author': 'github-actions[bot]', 'body': '🚀 This should also be released by [v0.53](https://github.com/metabase/metabase/milestone/287)', 'created_at': datetime.datetime(2025, 1, 31, 20, 44, 17, tzinfo=datetime.timezone.utc)}]","alexyarosh (Issue Creator) on (2025-01-31 20:14:33 UTC): @metabase-bot backport release-x.52.x

github-actions[bot] on (2025-01-31 20:15:45 UTC): @alexyarosh Manual conflict resolution is required

github-actions[bot] on (2025-01-31 20:44:17 UTC): 🚀 This should also be released by [v0.53](https://github.com/metabase/metabase/milestone/287)

"
2817462223,pull_request,closed,,docs: week of year,"Requested by product, ",alexyarosh,2025-01-29 07:40:54+00:00,[],2025-01-29 07:50:16+00:00,2025-01-29 07:45:51+00:00,https://github.com/metabase/metabase/pull/52876,[],[],
2817454991,pull_request,closed,,"🤖 backported ""Initialize zeros for labeled counter metrics""",#52834,github-automation-metabase,2025-01-29 07:36:05+00:00,"['crisptrutski', 'github-automation-metabase']",2025-01-29 13:26:58+00:00,2025-01-29 12:31:58+00:00,https://github.com/metabase/metabase/pull/52875,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2620954683, 'issue_id': 2817454991, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/121033_tests-8c05d539-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52875?repo=metabase/metabase&commitHash=8c05d539846c1b847328f93210868d6756b8d6a2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52875?repo=metabase/metabase&commitHash=8c05d539846c1b847328f93210868d6756b8d6a2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52875?repo=metabase/metabase&commitHash=8c05d539846c1b847328f93210868d6756b8d6a2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52875?repo=metabase/metabase&commitHash=8c05d539846c1b847328f93210868d6756b8d6a2&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52875?repo=metabase/metabase&commitHash=8c05d539846c1b847328f93210868d6756b8d6a2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 8, 14, 38, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-29 08:14:38 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/121033_tests-8c05d539-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52875?repo=metabase/metabase&commitHash=8c05d539846c1b847328f93210868d6756b8d6a2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52875?repo=metabase/metabase&commitHash=8c05d539846c1b847328f93210868d6756b8d6a2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52875?repo=metabase/metabase&commitHash=8c05d539846c1b847328f93210868d6756b8d6a2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52875?repo=metabase/metabase&commitHash=8c05d539846c1b847328f93210868d6756b8d6a2&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52875?repo=metabase/metabase&commitHash=8c05d539846c1b847328f93210868d6756b8d6a2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2817440061,pull_request,closed,,"🤖 backported ""Fix - Wrong value shown in the filter modal""",#52594,github-automation-metabase,2025-01-29 07:25:35+00:00,"['kamilmielnik', 'github-automation-metabase']",2025-01-29 10:09:37+00:00,2025-01-29 09:23:22+00:00,https://github.com/metabase/metabase/pull/52874,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2620953902, 'issue_id': 2817440061, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/26323_tests-4be2b49d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52874?repo=metabase/metabase&commitHash=4be2b49d18240b89806de42da04d7fe2933973aa&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52874?repo=metabase/metabase&commitHash=4be2b49d18240b89806de42da04d7fe2933973aa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52874?repo=metabase/metabase&commitHash=4be2b49d18240b89806de42da04d7fe2933973aa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52874?repo=metabase/metabase&commitHash=4be2b49d18240b89806de42da04d7fe2933973aa&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > dashboard create adding question to one dashboard shouldn\'t affect previously visited unrelated dashboards (metabase\\#26826)</code> | The \\`cy.wait()\\` command timed out waiting for the first request to the route \\`saveDashboard-saveDashboardCards\\`, but no request was made. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52874?repo=metabase/metabase&commitHash=4be2b49d18240b89806de42da04d7fe2933973aa&utm_source=gh-comment&runConclusion=FAILURE&runId=2d97f46f-3a98-52f6-919e-a6cbff9b3f59) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52874?repo=metabase/metabase&commitHash=4be2b49d18240b89806de42da04d7fe2933973aa&utm_source=gh-comment&runConclusion=FAILURE&runId=c18cf574-a73a-53a3-85c7-5c91f21edfc3) |\n| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52874?repo=metabase/metabase&commitHash=4be2b49d18240b89806de42da04d7fe2933973aa&utm_source=gh-comment&runConclusion=FAILURE&runId=5dc657e0-d662-5932-8328-3f921d1540cb) |\n| <code>scenarios > questions > entity id support /question/entity/${entity\\_id}/notebook should redirect to /question/${id}/notebook</code> | The test timed out while trying to find an element with data-testid ""qb-header"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52874?repo=metabase/metabase&commitHash=4be2b49d18240b89806de42da04d7fe2933973aa&utm_source=gh-comment&runConclusion=FAILURE&runId=35fcfebb-16ae-56f4-86dd-f21429c89e05) |\n| <code>scenarios > questions > entity id support /question/entity/${entity\\_id} should redirect to /question/${id}</code> | The expected URL did not include \'/question/82\' after 4000ms of waiting. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52874?repo=metabase/metabase&commitHash=4be2b49d18240b89806de42da04d7fe2933973aa&utm_source=gh-comment&runConclusion=FAILURE&runId=2a832b1c-250c-5ebf-9df6-a02d3489bfba) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52874?repo=metabase/metabase&commitHash=4be2b49d18240b89806de42da04d7fe2933973aa&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 8, 14, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621044882, 'issue_id': 2817440061, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `4be2b49d18240b89806de42da04d7fe2933973aa-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13027608459?pr=52874)\n\n  File | Test Name\n  ---- | ---------\n  `questions-entity-id.cy.spec.ts` | scenarios > questions > entity id support > /question/entity/${entity_id} should redirect to /question/${id}\n`questions-entity-id.cy.spec.ts` | scenarios > questions > entity id support > /question/entity/${entity_id}/notebook should redirect to /question/${id}/notebook\n`search.cy.spec.js` | scenarios > search > universal search > should render a preview of markdown descriptions\n`search.cy.spec.js` | scenarios > search > universal search > should not overflow container if results contain descriptions with large unborken strings', 'created_at': datetime.datetime(2025, 1, 29, 9, 2, 11, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-29 08:14:08 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/26323_tests-4be2b49d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52874?repo=metabase/metabase&commitHash=4be2b49d18240b89806de42da04d7fe2933973aa&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52874?repo=metabase/metabase&commitHash=4be2b49d18240b89806de42da04d7fe2933973aa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52874?repo=metabase/metabase&commitHash=4be2b49d18240b89806de42da04d7fe2933973aa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52874?repo=metabase/metabase&commitHash=4be2b49d18240b89806de42da04d7fe2933973aa&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > dashboard create adding question to one dashboard shouldn't affect previously visited unrelated dashboards (metabase\#26826)</code> | The \`cy.wait()\` command timed out waiting for the first request to the route \`saveDashboard-saveDashboardCards\`, but no request was made. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52874?repo=metabase/metabase&commitHash=4be2b49d18240b89806de42da04d7fe2933973aa&utm_source=gh-comment&runConclusion=FAILURE&runId=2d97f46f-3a98-52f6-919e-a6cbff9b3f59) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52874?repo=metabase/metabase&commitHash=4be2b49d18240b89806de42da04d7fe2933973aa&utm_source=gh-comment&runConclusion=FAILURE&runId=c18cf574-a73a-53a3-85c7-5c91f21edfc3) |
| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52874?repo=metabase/metabase&commitHash=4be2b49d18240b89806de42da04d7fe2933973aa&utm_source=gh-comment&runConclusion=FAILURE&runId=5dc657e0-d662-5932-8328-3f921d1540cb) |
| <code>scenarios > questions > entity id support /question/entity/${entity\_id}/notebook should redirect to /question/${id}/notebook</code> | The test timed out while trying to find an element with data-testid ""qb-header"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52874?repo=metabase/metabase&commitHash=4be2b49d18240b89806de42da04d7fe2933973aa&utm_source=gh-comment&runConclusion=FAILURE&runId=35fcfebb-16ae-56f4-86dd-f21429c89e05) |
| <code>scenarios > questions > entity id support /question/entity/${entity\_id} should redirect to /question/${id}</code> | The expected URL did not include '/question/82' after 4000ms of waiting. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52874?repo=metabase/metabase&commitHash=4be2b49d18240b89806de42da04d7fe2933973aa&utm_source=gh-comment&runConclusion=FAILURE&runId=2a832b1c-250c-5ebf-9df6-a02d3489bfba) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52874?repo=metabase/metabase&commitHash=4be2b49d18240b89806de42da04d7fe2933973aa&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-29 09:02:11 UTC): ## e2e tests failed on `4be2b49d18240b89806de42da04d7fe2933973aa-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13027608459?pr=52874)

  File | Test Name
  ---- | ---------
  `questions-entity-id.cy.spec.ts` | scenarios > questions > entity id support > /question/entity/${entity_id} should redirect to /question/${id}
`questions-entity-id.cy.spec.ts` | scenarios > questions > entity id support > /question/entity/${entity_id}/notebook should redirect to /question/${id}/notebook
`search.cy.spec.js` | scenarios > search > universal search > should render a preview of markdown descriptions
`search.cy.spec.js` | scenarios > search > universal search > should not overflow container if results contain descriptions with large unborken strings

"
2817425365,pull_request,closed,,"🤖 backported ""Initialize zeros for labeled counter metrics""",#52834,github-automation-metabase,2025-01-29 07:14:57+00:00,"['crisptrutski', 'github-automation-metabase']",2025-01-29 11:48:13+00:00,2025-01-29 11:10:52+00:00,https://github.com/metabase/metabase/pull/52873,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2620914306, 'issue_id': 2817425365, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/102365_tests-c514fb8f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52873?repo=metabase/metabase&commitHash=c514fb8f24e32efc8e72cd33af58e71eb2fce348&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52873?repo=metabase/metabase&commitHash=c514fb8f24e32efc8e72cd33af58e71eb2fce348&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52873?repo=metabase/metabase&commitHash=c514fb8f24e32efc8e72cd33af58e71eb2fce348&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52873?repo=metabase/metabase&commitHash=c514fb8f24e32efc8e72cd33af58e71eb2fce348&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>sync-test</code> | The \\`driver/describe-database\\` implementation did not return expected results for inclusion of test-data schema. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52873?repo=metabase/metabase&commitHash=c514fb8f24e32efc8e72cd33af58e71eb2fce348&utm_source=gh-comment&runConclusion=FAILURE&runId=f5a7dbc8-a800-593d-ad14-897331320e1c) |\n| <code>sync-test</code> | The \\`driver/describe-database\\` implementation did not return expected results for inclusion of test-data schema. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52873?repo=metabase/metabase&commitHash=c514fb8f24e32efc8e72cd33af58e71eb2fce348&utm_source=gh-comment&runConclusion=FAILURE&runId=afa0e968-5566-5b53-b9c0-7b1455c8c277) |\n| <code>sync-test</code> | The \\`driver/describe-database\\` implementation did not return expected results for inclusion of test-data schema. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52873?repo=metabase/metabase&commitHash=c514fb8f24e32efc8e72cd33af58e71eb2fce348&utm_source=gh-comment&runConclusion=FAILURE&runId=7e22526d-e75a-5aed-99a8-a761b78ae738) |\n| <code>describe-view-fields</code> | Table \\`metabase\\_ci\\`.\\`test-data\\`.\\`orders\\_m\\` is already managed by pipeline 0181151f-53b4-468d-9990-53bf089eaa66. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52873?repo=metabase/metabase&commitHash=c514fb8f24e32efc8e72cd33af58e71eb2fce348&utm_source=gh-comment&runConclusion=FAILURE&runId=f5d2247d-cadb-544e-b866-c54c270d9f58) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52873?repo=metabase/metabase&commitHash=c514fb8f24e32efc8e72cd33af58e71eb2fce348&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 7, 48, 11, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-29 07:48:11 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/102365_tests-c514fb8f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52873?repo=metabase/metabase&commitHash=c514fb8f24e32efc8e72cd33af58e71eb2fce348&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52873?repo=metabase/metabase&commitHash=c514fb8f24e32efc8e72cd33af58e71eb2fce348&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52873?repo=metabase/metabase&commitHash=c514fb8f24e32efc8e72cd33af58e71eb2fce348&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52873?repo=metabase/metabase&commitHash=c514fb8f24e32efc8e72cd33af58e71eb2fce348&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>sync-test</code> | The \`driver/describe-database\` implementation did not return expected results for inclusion of test-data schema. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52873?repo=metabase/metabase&commitHash=c514fb8f24e32efc8e72cd33af58e71eb2fce348&utm_source=gh-comment&runConclusion=FAILURE&runId=f5a7dbc8-a800-593d-ad14-897331320e1c) |
| <code>sync-test</code> | The \`driver/describe-database\` implementation did not return expected results for inclusion of test-data schema. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52873?repo=metabase/metabase&commitHash=c514fb8f24e32efc8e72cd33af58e71eb2fce348&utm_source=gh-comment&runConclusion=FAILURE&runId=afa0e968-5566-5b53-b9c0-7b1455c8c277) |
| <code>sync-test</code> | The \`driver/describe-database\` implementation did not return expected results for inclusion of test-data schema. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52873?repo=metabase/metabase&commitHash=c514fb8f24e32efc8e72cd33af58e71eb2fce348&utm_source=gh-comment&runConclusion=FAILURE&runId=7e22526d-e75a-5aed-99a8-a761b78ae738) |
| <code>describe-view-fields</code> | Table \`metabase\_ci\`.\`test-data\`.\`orders\_m\` is already managed by pipeline 0181151f-53b4-468d-9990-53bf089eaa66. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52873?repo=metabase/metabase&commitHash=c514fb8f24e32efc8e72cd33af58e71eb2fce348&utm_source=gh-comment&runConclusion=FAILURE&runId=f5d2247d-cadb-544e-b866-c54c270d9f58) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52873?repo=metabase/metabase&commitHash=c514fb8f24e32efc8e72cd33af58e71eb2fce348&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2817352885,pull_request,closed,,"🤖 backported ""Fix ultra wide tooltips (closes #52199)""",#52455,github-automation-metabase,2025-01-29 06:24:39+00:00,"['lorem--ipsum', 'github-automation-metabase']",2025-02-06 08:22:02+00:00,2025-02-06 07:47:31+00:00,https://github.com/metabase/metabase/pull/52871,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2620814871, 'issue_id': 2817352885, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 1b4597e018e35c59970b988f6a01b9887ee062b1...90932406b06c594f5ab014640a09fc719513fd65.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/visualizations/LinkViz/EntityDisplay.tsx<br>frontend/src/metabase/visualizations/visualizations/LinkViz/LinkViz.unit.spec.tsx |\n| @kdoh | frontend/src/metabase/ui/components/icons/Icon/Icon.tsx |', 'created_at': datetime.datetime(2025, 1, 29, 6, 26, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620877369, 'issue_id': 2817352885, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/23096_tests-ebd2cc7a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52871?repo=metabase/metabase&commitHash=ebd2cc7a4e6bc4c90808c5b75edffb05d3d37922&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52871?repo=metabase/metabase&commitHash=ebd2cc7a4e6bc4c90808c5b75edffb05d3d37922&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52871?repo=metabase/metabase&commitHash=ebd2cc7a4e6bc4c90808c5b75edffb05d3d37922&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52871?repo=metabase/metabase&commitHash=ebd2cc7a4e6bc4c90808c5b75edffb05d3d37922&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52871?repo=metabase/metabase&commitHash=ebd2cc7a4e6bc4c90808c5b75edffb05d3d37922&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 7, 18, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620877373, 'issue_id': 2817352885, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/23313_tests-08c5044c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52871?repo=metabase/metabase&commitHash=08c5044c76e8eea35938e68e011d65c8d6aeeec9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52871?repo=metabase/metabase&commitHash=08c5044c76e8eea35938e68e011d65c8d6aeeec9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52871?repo=metabase/metabase&commitHash=08c5044c76e8eea35938e68e011d65c8d6aeeec9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52871?repo=metabase/metabase&commitHash=08c5044c76e8eea35938e68e011d65c8d6aeeec9&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>e2e-storage-ingestion-test</code> | Expected entity to match the expected structure, but actual entity has different table\\_id. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52871?repo=metabase/metabase&commitHash=08c5044c76e8eea35938e68e011d65c8d6aeeec9&utm_source=gh-comment&runConclusion=FAILURE&runId=b9107305-20d7-5a51-a705-9d8aaca5c6ea) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52871?repo=metabase/metabase&commitHash=08c5044c76e8eea35938e68e011d65c8d6aeeec9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 7, 18, 3, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-29 06:26:09 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 1b4597e018e35c59970b988f6a01b9887ee062b1...90932406b06c594f5ab014640a09fc719513fd65.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/visualizations/LinkViz/EntityDisplay.tsx<br>frontend/src/metabase/visualizations/visualizations/LinkViz/LinkViz.unit.spec.tsx |
| @kdoh | frontend/src/metabase/ui/components/icons/Icon/Icon.tsx |

trunk-io[bot] on (2025-01-29 07:18:03 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/23096_tests-ebd2cc7a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52871?repo=metabase/metabase&commitHash=ebd2cc7a4e6bc4c90808c5b75edffb05d3d37922&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52871?repo=metabase/metabase&commitHash=ebd2cc7a4e6bc4c90808c5b75edffb05d3d37922&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52871?repo=metabase/metabase&commitHash=ebd2cc7a4e6bc4c90808c5b75edffb05d3d37922&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52871?repo=metabase/metabase&commitHash=ebd2cc7a4e6bc4c90808c5b75edffb05d3d37922&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52871?repo=metabase/metabase&commitHash=ebd2cc7a4e6bc4c90808c5b75edffb05d3d37922&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2025-01-29 07:18:03 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/23313_tests-08c5044c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52871?repo=metabase/metabase&commitHash=08c5044c76e8eea35938e68e011d65c8d6aeeec9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52871?repo=metabase/metabase&commitHash=08c5044c76e8eea35938e68e011d65c8d6aeeec9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52871?repo=metabase/metabase&commitHash=08c5044c76e8eea35938e68e011d65c8d6aeeec9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52871?repo=metabase/metabase&commitHash=08c5044c76e8eea35938e68e011d65c8d6aeeec9&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>e2e-storage-ingestion-test</code> | Expected entity to match the expected structure, but actual entity has different table\_id. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52871?repo=metabase/metabase&commitHash=08c5044c76e8eea35938e68e011d65c8d6aeeec9&utm_source=gh-comment&runConclusion=FAILURE&runId=b9107305-20d7-5a51-a705-9d8aaca5c6ea) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52871?repo=metabase/metabase&commitHash=08c5044c76e8eea35938e68e011d65c8d6aeeec9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2817352482,pull_request,closed,,"🤖 backported ""Sets the proper autofocus when navigating to a specific setting through the hash""",#52588,github-automation-metabase,2025-01-29 06:24:29+00:00,"['lorem--ipsum', 'github-automation-metabase']",2025-01-29 09:19:52+00:00,2025-01-29 09:19:51+00:00,https://github.com/metabase/metabase/pull/52870,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2620833621, 'issue_id': 2817352482, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `ad87741182b4f23f3f4971d3b0db509cd7b30cee-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13025787618?pr=52870)\n\n  File | Test Name\n  ---- | ---------\n  `official-collections.cy.spec.js` | official collections > premium token with paid features > displays official badge throughout the application\n`official-collections.cy.spec.js` | official collections > token expired or removed > should not display official collection icon anymore', 'created_at': datetime.datetime(2025, 1, 29, 6, 42, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620877356, 'issue_id': 2817352482, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/22930_tests-ad877411-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52870?repo=metabase/metabase&commitHash=ad87741182b4f23f3f4971d3b0db509cd7b30cee&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52870?repo=metabase/metabase&commitHash=ad87741182b4f23f3f4971d3b0db509cd7b30cee&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52870?repo=metabase/metabase&commitHash=ad87741182b4f23f3f4971d3b0db509cd7b30cee&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52870?repo=metabase/metabase&commitHash=ad87741182b4f23f3f4971d3b0db509cd7b30cee&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>official collections token expired or removed should not display official collection icon anymore</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52870?repo=metabase/metabase&commitHash=ad87741182b4f23f3f4971d3b0db509cd7b30cee&utm_source=gh-comment&runConclusion=FAILURE&runId=eff72ce0-f70e-5543-ba32-273419323050) |\n| <code>official collections premium token with paid features displays official badge throughout the application</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52870?repo=metabase/metabase&commitHash=ad87741182b4f23f3f4971d3b0db509cd7b30cee&utm_source=gh-comment&runConclusion=FAILURE&runId=fe18342a-b26a-5ec8-b0e7-47b670e34daa) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52870?repo=metabase/metabase&commitHash=ad87741182b4f23f3f4971d3b0db509cd7b30cee&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 7, 18, 3, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-29 06:42:28 UTC): ## e2e tests failed on `ad87741182b4f23f3f4971d3b0db509cd7b30cee-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13025787618?pr=52870)

  File | Test Name
  ---- | ---------
  `official-collections.cy.spec.js` | official collections > premium token with paid features > displays official badge throughout the application
`official-collections.cy.spec.js` | official collections > token expired or removed > should not display official collection icon anymore

trunk-io[bot] on (2025-01-29 07:18:03 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/22930_tests-ad877411-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52870?repo=metabase/metabase&commitHash=ad87741182b4f23f3f4971d3b0db509cd7b30cee&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52870?repo=metabase/metabase&commitHash=ad87741182b4f23f3f4971d3b0db509cd7b30cee&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52870?repo=metabase/metabase&commitHash=ad87741182b4f23f3f4971d3b0db509cd7b30cee&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52870?repo=metabase/metabase&commitHash=ad87741182b4f23f3f4971d3b0db509cd7b30cee&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>official collections token expired or removed should not display official collection icon anymore</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52870?repo=metabase/metabase&commitHash=ad87741182b4f23f3f4971d3b0db509cd7b30cee&utm_source=gh-comment&runConclusion=FAILURE&runId=eff72ce0-f70e-5543-ba32-273419323050) |
| <code>official collections premium token with paid features displays official badge throughout the application</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52870?repo=metabase/metabase&commitHash=ad87741182b4f23f3f4971d3b0db509cd7b30cee&utm_source=gh-comment&runConclusion=FAILURE&runId=fe18342a-b26a-5ec8-b0e7-47b670e34daa) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52870?repo=metabase/metabase&commitHash=ad87741182b4f23f3f4971d3b0db509cd7b30cee&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2817151877,pull_request,closed,,Stop drilling down past day in DateType,"
Closes https://github.com/metabase/metabase/issues/48608

### Description

Using a brush filter to drill down on a small time range was failing on Date types. It was trying to filter on time units (hour/minute/second) which was giving an error.

I added logic to distinguish Date as a special case, and I made the drilling down stop at day.

### How to verify



1. New question -> Sample Dataset -> People table
2. Summarize with Cumulative sum by Birth Date: month
3. Visualize
4. Select a small area of the graph.
5. Select a small area surrounding one point.
6. It should not give an error

### Demo

<img width=""1705"" alt=""Screenshot 2025-01-28 at 9 15 35 PM"" src=""https://github.com/user-attachments/assets/aa043523-777a-440f-ab4d-bbd31087a0d7"" />
<img width=""1674"" alt=""Screenshot 2025-01-28 at 9 15 45 PM"" src=""https://github.com/user-attachments/assets/625f311b-7356-44e2-8757-6f56ac9c89a7"" />
",ericnormand,2025-01-29 03:22:12+00:00,['ericnormand'],2025-01-29 22:50:39+00:00,2025-01-29 21:50:52+00:00,https://github.com/metabase/metabase/pull/52869,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2620660798, 'issue_id': 2817151877, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/105185_tests-d7f8c858-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52869?repo=metabase/metabase&commitHash=d7f8c858bb2b21f5a1a72b23e0f2cadc4e72803b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52869?repo=metabase/metabase&commitHash=d7f8c858bb2b21f5a1a72b23e0f2cadc4e72803b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52869?repo=metabase/metabase&commitHash=d7f8c858bb2b21f5a1a72b23e0f2cadc4e72803b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52869?repo=metabase/metabase&commitHash=d7f8c858bb2b21f5a1a72b23e0f2cadc4e72803b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>e2e-storage-ingestion-test</code> | Expected entity to match the extracted one, but actual entity was different. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52869?repo=metabase/metabase&commitHash=d7f8c858bb2b21f5a1a72b23e0f2cadc4e72803b&utm_source=gh-comment&runConclusion=FAILURE&runId=a9449664-a748-5d63-be03-b49c89ec76dc) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>useIsParameterPanelSticky sets isStickyStateChanging to true and false before and after isSticky is changed</code> | failure\\_text: Error: expect(received).toBe(expected) // Object.is equalityExpected: trueReceived: false    at Object.toBe (/home/runner/work/metab... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52869?repo=metabase/metabase&commitHash=d7f8c858bb2b21f5a1a72b23e0f2cadc4e72803b&utm_source=gh-comment&runConclusion=FAILURE&runId=6ca6f869-7765-5f84-8d7c-2e0bbd65155b) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52869?repo=metabase/metabase&commitHash=d7f8c858bb2b21f5a1a72b23e0f2cadc4e72803b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 3, 42, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622556829, 'issue_id': 2817151877, 'author': 'ericnormand', 'body': '[Slack discussion](https://metaboat.slack.com/archives/C0645JP1W81/p1737993666999469).', 'created_at': datetime.datetime(2025, 1, 29, 18, 47, 49, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-29 03:42:15 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/105185_tests-d7f8c858-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52869?repo=metabase/metabase&commitHash=d7f8c858bb2b21f5a1a72b23e0f2cadc4e72803b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52869?repo=metabase/metabase&commitHash=d7f8c858bb2b21f5a1a72b23e0f2cadc4e72803b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52869?repo=metabase/metabase&commitHash=d7f8c858bb2b21f5a1a72b23e0f2cadc4e72803b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52869?repo=metabase/metabase&commitHash=d7f8c858bb2b21f5a1a72b23e0f2cadc4e72803b&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>e2e-storage-ingestion-test</code> | Expected entity to match the extracted one, but actual entity was different. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52869?repo=metabase/metabase&commitHash=d7f8c858bb2b21f5a1a72b23e0f2cadc4e72803b&utm_source=gh-comment&runConclusion=FAILURE&runId=a9449664-a748-5d63-be03-b49c89ec76dc) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>useIsParameterPanelSticky sets isStickyStateChanging to true and false before and after isSticky is changed</code> | failure\_text: Error: expect(received).toBe(expected) // Object.is equalityExpected: trueReceived: false    at Object.toBe (/home/runner/work/metab... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52869?repo=metabase/metabase&commitHash=d7f8c858bb2b21f5a1a72b23e0f2cadc4e72803b&utm_source=gh-comment&runConclusion=FAILURE&runId=6ca6f869-7765-5f84-8d7c-2e0bbd65155b) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52869?repo=metabase/metabase&commitHash=d7f8c858bb2b21f5a1a72b23e0f2cadc4e72803b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

ericnormand (Issue Creator) on (2025-01-29 18:47:49 UTC): [Slack discussion](https://metaboat.slack.com/archives/C0645JP1W81/p1737993666999469).

"
2817064012,pull_request,closed,,[Backend modularization] `permissions` module,"Resolves https://github.com/metabase/metabase/issues/52926

- Move Toucan modules into `permissions` e.g. `metabase.models.permissions` => `metabase.permissions.models.permissions`
- Move REST API endpoints into `permissions` e.g. `metabase.api.permissions` => `metabase.permissions.api`
- Update `CODEOWNERS` with the current team mappings for all modules",camsaul,2025-01-29 01:52:33+00:00,['camsaul'],2025-02-01 04:42:25+00:00,2025-02-01 04:14:03+00:00,https://github.com/metabase/metabase/pull/52868,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DevEx', '')]","[{'comment_id': 2620517657, 'issue_id': 2817064012, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/100696_tests-4bb73212-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52868?repo=metabase/metabase&commitHash=4bb73212b4bfe09d620c3a16e69fa3f312baeec5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52868?repo=metabase/metabase&commitHash=4bb73212b4bfe09d620c3a16e69fa3f312baeec5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/6-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52868?repo=metabase/metabase&commitHash=4bb73212b4bfe09d620c3a16e69fa3f312baeec5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52868?repo=metabase/metabase&commitHash=4bb73212b4bfe09d620c3a16e69fa3f312baeec5&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:326:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\\#\'sync.fingerprint/max-refingerprint-field... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52868?repo=metabase/metabase&commitHash=4bb73212b4bfe09d620c3a16e69fa3f312baeec5&utm_source=gh-comment&runConclusion=FAILURE&runId=48b328ca-90c9-5b79-aa9f-810f659ec5c2) |\n| <code>test-ssh-tunnel-connection</code> | No table \'venues\' found for Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52868?repo=metabase/metabase&commitHash=4bb73212b4bfe09d620c3a16e69fa3f312baeec5&utm_source=gh-comment&runConclusion=FAILURE&runId=f4cfa184-c2f4-5e1c-82df-28e75c1341c7) |\n| <code>check-can-connect-before-sync-test</code> | Database sync failed because the database was deleted before checking if it exists. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52868?repo=metabase/metabase&commitHash=4bb73212b4bfe09d620c3a16e69fa3f312baeec5&utm_source=gh-comment&runConclusion=FAILURE&runId=ebb4bd3b-84b0-5ebf-895c-1642df022e61) |\n| <code>update-invalidate-model-cache-test</code> | No Table \'venues\' found for Redshift database \'test-data (redshift)\' | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52868?repo=metabase/metabase&commitHash=4bb73212b4bfe09d620c3a16e69fa3f312baeec5&utm_source=gh-comment&runConclusion=FAILURE&runId=e1819dbf-b07e-5fde-8b25-6a929612a1f9) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>describe-database-exclude-metabase-cache-test</code> | The Redshift query failed because the relation ""2025\\_01\\_31\\_4a2be5d5\\_1d87\\_4eb0\\_b086\\_87b5bb4bd855\\_schema.eyfgxvgqotwwfkqyvcbq"" does not exist. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52868?repo=metabase/metabase&commitHash=4bb73212b4bfe09d620c3a16e69fa3f312baeec5&utm_source=gh-comment&runConclusion=FAILURE&runId=1727b3d9-f167-5331-8de3-5f1b936479c9) |\n| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52868?repo=metabase/metabase&commitHash=4bb73212b4bfe09d620c3a16e69fa3f312baeec5&utm_source=gh-comment&runConclusion=FAILURE&runId=2319a1a2-c71a-591a-8dc1-6774823787be) |\n| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and \'Browse databases\' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52868?repo=metabase/metabase&commitHash=4bb73212b4bfe09d620c3a16e69fa3f312baeec5&utm_source=gh-comment&runConclusion=FAILURE&runId=d41f66f7-1607-51a5-bd62-c143667d90c1) |\n| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52868?repo=metabase/metabase&commitHash=4bb73212b4bfe09d620c3a16e69fa3f312baeec5&utm_source=gh-comment&runConclusion=FAILURE&runId=742189ef-bf84-5439-ad66-3e304697643a) |\n\n[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/52868?repo=metabase/metabase&commitHash=4bb73212b4bfe09d620c3a16e69fa3f312baeec5&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52868?repo=metabase/metabase&commitHash=4bb73212b4bfe09d620c3a16e69fa3f312baeec5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 2, 57, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2628580895, 'issue_id': 2817064012, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `4bb73212b4bfe09d620c3a16e69fa3f312baeec5-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13082594194?pr=52868)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)\n`model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model\n`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette\n`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link\n`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results"", 'created_at': datetime.datetime(2025, 1, 31, 23, 48, 59, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-29 02:57:25 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/100696_tests-4bb73212-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52868?repo=metabase/metabase&commitHash=4bb73212b4bfe09d620c3a16e69fa3f312baeec5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52868?repo=metabase/metabase&commitHash=4bb73212b4bfe09d620c3a16e69fa3f312baeec5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/6-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52868?repo=metabase/metabase&commitHash=4bb73212b4bfe09d620c3a16e69fa3f312baeec5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52868?repo=metabase/metabase&commitHash=4bb73212b4bfe09d620c3a16e69fa3f312baeec5&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:326:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerprint-field... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52868?repo=metabase/metabase&commitHash=4bb73212b4bfe09d620c3a16e69fa3f312baeec5&utm_source=gh-comment&runConclusion=FAILURE&runId=48b328ca-90c9-5b79-aa9f-810f659ec5c2) |
| <code>test-ssh-tunnel-connection</code> | No table 'venues' found for Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52868?repo=metabase/metabase&commitHash=4bb73212b4bfe09d620c3a16e69fa3f312baeec5&utm_source=gh-comment&runConclusion=FAILURE&runId=f4cfa184-c2f4-5e1c-82df-28e75c1341c7) |
| <code>check-can-connect-before-sync-test</code> | Database sync failed because the database was deleted before checking if it exists. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52868?repo=metabase/metabase&commitHash=4bb73212b4bfe09d620c3a16e69fa3f312baeec5&utm_source=gh-comment&runConclusion=FAILURE&runId=ebb4bd3b-84b0-5ebf-895c-1642df022e61) |
| <code>update-invalidate-model-cache-test</code> | No Table 'venues' found for Redshift database 'test-data (redshift)' | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52868?repo=metabase/metabase&commitHash=4bb73212b4bfe09d620c3a16e69fa3f312baeec5&utm_source=gh-comment&runConclusion=FAILURE&runId=e1819dbf-b07e-5fde-8b25-6a929612a1f9) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>describe-database-exclude-metabase-cache-test</code> | The Redshift query failed because the relation ""2025\_01\_31\_4a2be5d5\_1d87\_4eb0\_b086\_87b5bb4bd855\_schema.eyfgxvgqotwwfkqyvcbq"" does not exist. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52868?repo=metabase/metabase&commitHash=4bb73212b4bfe09d620c3a16e69fa3f312baeec5&utm_source=gh-comment&runConclusion=FAILURE&runId=1727b3d9-f167-5331-8de3-5f1b936479c9) |
| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52868?repo=metabase/metabase&commitHash=4bb73212b4bfe09d620c3a16e69fa3f312baeec5&utm_source=gh-comment&runConclusion=FAILURE&runId=2319a1a2-c71a-591a-8dc1-6774823787be) |
| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and 'Browse databases' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52868?repo=metabase/metabase&commitHash=4bb73212b4bfe09d620c3a16e69fa3f312baeec5&utm_source=gh-comment&runConclusion=FAILURE&runId=d41f66f7-1607-51a5-bd62-c143667d90c1) |
| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52868?repo=metabase/metabase&commitHash=4bb73212b4bfe09d620c3a16e69fa3f312baeec5&utm_source=gh-comment&runConclusion=FAILURE&runId=742189ef-bf84-5439-ad66-3e304697643a) |

[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/52868?repo=metabase/metabase&commitHash=4bb73212b4bfe09d620c3a16e69fa3f312baeec5&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52868?repo=metabase/metabase&commitHash=4bb73212b4bfe09d620c3a16e69fa3f312baeec5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-31 23:48:59 UTC): ## e2e tests failed on `4bb73212b4bfe09d620c3a16e69fa3f312baeec5-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13082594194?pr=52868)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)
`model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model
`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette
`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link
`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results

"
2817024864,pull_request,closed,,"🤖 backported ""Convert nil values to :null in dimension-contexts""",#52692,github-automation-metabase,2025-01-29 01:16:48+00:00,"['appleby', 'github-automation-metabase']",2025-01-29 03:14:47+00:00,2025-01-29 01:51:39+00:00,https://github.com/metabase/metabase/pull/52867,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2620468784, 'issue_id': 2817024864, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/2785_tests-016ec8a4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52867?repo=metabase/metabase&commitHash=016ec8a4095fb29f115a6ff9a88a9eb65b5c10f2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52867?repo=metabase/metabase&commitHash=016ec8a4095fb29f115a6ff9a88a9eb65b5c10f2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52867?repo=metabase/metabase&commitHash=016ec8a4095fb29f115a6ff9a88a9eb65b5c10f2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52867?repo=metabase/metabase&commitHash=016ec8a4095fb29f115a6ff9a88a9eb65b5c10f2&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52867?repo=metabase/metabase&commitHash=016ec8a4095fb29f115a6ff9a88a9eb65b5c10f2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 1, 58, 49, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-29 01:58:49 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/2785_tests-016ec8a4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52867?repo=metabase/metabase&commitHash=016ec8a4095fb29f115a6ff9a88a9eb65b5c10f2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52867?repo=metabase/metabase&commitHash=016ec8a4095fb29f115a6ff9a88a9eb65b5c10f2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52867?repo=metabase/metabase&commitHash=016ec8a4095fb29f115a6ff9a88a9eb65b5c10f2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52867?repo=metabase/metabase&commitHash=016ec8a4095fb29f115a6ff9a88a9eb65b5c10f2&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52867?repo=metabase/metabase&commitHash=016ec8a4095fb29f115a6ff9a88a9eb65b5c10f2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2817024138,pull_request,closed,,"🤖 backported ""Convert nil values to :null in dimension-contexts""",#52692,github-automation-metabase,2025-01-29 01:15:55+00:00,"['appleby', 'github-automation-metabase']",2025-01-29 21:27:41+00:00,2025-01-29 21:27:40+00:00,https://github.com/metabase/metabase/pull/52866,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2620400077, 'issue_id': 2817024138, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `beec5dd5341ce822b232874551ca0df5ea373e22-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13022710956?pr=52866)\n\n  File | Test Name\n  ---- | ---------\n  `official-collections.cy.spec.js` | official collections > premium token with paid features > displays official badge throughout the application\n`official-collections.cy.spec.js` | official collections > token expired or removed > should not display official collection icon anymore', 'created_at': datetime.datetime(2025, 1, 29, 1, 34, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620468706, 'issue_id': 2817024138, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/108614_tests-beec5dd5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52866?repo=metabase/metabase&commitHash=beec5dd5341ce822b232874551ca0df5ea373e22&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52866?repo=metabase/metabase&commitHash=beec5dd5341ce822b232874551ca0df5ea373e22&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52866?repo=metabase/metabase&commitHash=beec5dd5341ce822b232874551ca0df5ea373e22&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52866?repo=metabase/metabase&commitHash=beec5dd5341ce822b232874551ca0df5ea373e22&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:326:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\\#\'sync.fingerprint/max-refingerprint-field... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52866?repo=metabase/metabase&commitHash=beec5dd5341ce822b232874551ca0df5ea373e22&utm_source=gh-comment&runConclusion=FAILURE&runId=1df89ceb-4396-5081-be11-6a760e251a68) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>official collections token expired or removed should not display official collection icon anymore</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52866?repo=metabase/metabase&commitHash=beec5dd5341ce822b232874551ca0df5ea373e22&utm_source=gh-comment&runConclusion=FAILURE&runId=dac93213-94cc-52c4-8b7d-3db79d710a81) |\n| <code>official collections premium token with paid features displays official badge throughout the application</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52866?repo=metabase/metabase&commitHash=beec5dd5341ce822b232874551ca0df5ea373e22&utm_source=gh-comment&runConclusion=FAILURE&runId=14f7eacb-713c-5015-ab91-ba9a6827446f) |\n| <code>revisions-can-be-created-concurrently</code> | The count of Revisions did not match the expected value, with 2 actual and 3 expected. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52866?repo=metabase/metabase&commitHash=beec5dd5341ce822b232874551ca0df5ea373e22&utm_source=gh-comment&runConclusion=FAILURE&runId=a92ff540-7426-5b2f-b6ed-838ae63ade70) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52866?repo=metabase/metabase&commitHash=beec5dd5341ce822b232874551ca0df5ea373e22&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 1, 58, 45, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-29 01:34:16 UTC): ## e2e tests failed on `beec5dd5341ce822b232874551ca0df5ea373e22-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13022710956?pr=52866)

  File | Test Name
  ---- | ---------
  `official-collections.cy.spec.js` | official collections > premium token with paid features > displays official badge throughout the application
`official-collections.cy.spec.js` | official collections > token expired or removed > should not display official collection icon anymore

trunk-io[bot] on (2025-01-29 01:58:45 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/108614_tests-beec5dd5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52866?repo=metabase/metabase&commitHash=beec5dd5341ce822b232874551ca0df5ea373e22&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52866?repo=metabase/metabase&commitHash=beec5dd5341ce822b232874551ca0df5ea373e22&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52866?repo=metabase/metabase&commitHash=beec5dd5341ce822b232874551ca0df5ea373e22&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52866?repo=metabase/metabase&commitHash=beec5dd5341ce822b232874551ca0df5ea373e22&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:326:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerprint-field... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52866?repo=metabase/metabase&commitHash=beec5dd5341ce822b232874551ca0df5ea373e22&utm_source=gh-comment&runConclusion=FAILURE&runId=1df89ceb-4396-5081-be11-6a760e251a68) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>official collections token expired or removed should not display official collection icon anymore</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52866?repo=metabase/metabase&commitHash=beec5dd5341ce822b232874551ca0df5ea373e22&utm_source=gh-comment&runConclusion=FAILURE&runId=dac93213-94cc-52c4-8b7d-3db79d710a81) |
| <code>official collections premium token with paid features displays official badge throughout the application</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52866?repo=metabase/metabase&commitHash=beec5dd5341ce822b232874551ca0df5ea373e22&utm_source=gh-comment&runConclusion=FAILURE&runId=14f7eacb-713c-5015-ab91-ba9a6827446f) |
| <code>revisions-can-be-created-concurrently</code> | The count of Revisions did not match the expected value, with 2 actual and 3 expected. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52866?repo=metabase/metabase&commitHash=beec5dd5341ce822b232874551ca0df5ea373e22&utm_source=gh-comment&runConclusion=FAILURE&runId=a92ff540-7426-5b2f-b6ed-838ae63ade70) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52866?repo=metabase/metabase&commitHash=beec5dd5341ce822b232874551ca0df5ea373e22&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2816946378,pull_request,closed,,Move filters for perms-related t2 selects into the honeysql :where clauses,"Possible fix for https://metaboat.slack.com/archives/C64DB8QH2/p1738105603609049

These queries were mixing key-value args and HoneySQL for no real reason in particular. However, this meant that the KV args were being added to the generated SQL _after_ the conditions in the HoneySQL `:where` clause, leading to inefficient use of indexes.

Maybe the toucan default behavior could be changed here to be less of a footgun, but for now I'm moving everything into the `:where` clause so that the ordering of the filters is explicit.",noahmoss,2025-01-29 00:00:48+00:00,['noahmoss'],2025-01-31 15:53:58+00:00,2025-01-30 22:09:17+00:00,https://github.com/metabase/metabase/pull/52865,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2620298575, 'issue_id': 2816946378, 'author': 'noahmoss', 'body': '* **#52865** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52865?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52865?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 29, 0, 1, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623260377, 'issue_id': 2816946378, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/99052_tests-380b7890-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52865?repo=metabase/metabase&commitHash=380b7890bc7587dab9c2653e4d0dd814b028a6be&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52865?repo=metabase/metabase&commitHash=380b7890bc7587dab9c2653e4d0dd814b028a6be&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/15-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52865?repo=metabase/metabase&commitHash=380b7890bc7587dab9c2653e4d0dd814b028a6be&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52865?repo=metabase/metabase&commitHash=380b7890bc7587dab9c2653e4d0dd814b028a6be&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > model indexes should be able to search model index values and visit detail records</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52865?repo=metabase/metabase&commitHash=380b7890bc7587dab9c2653e4d0dd814b028a6be&utm_source=gh-comment&runConclusion=FAILURE&runId=97fa3c2c-6f6f-5069-9e58-a5ef2df3fcce) |\n| <code>scenarios > model indexes should be able to see details of a record outside the first 2000</code> | Unable to find an accessible element with the role ""option"" and name ""Anais Zieme"" after 4000ms timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52865?repo=metabase/metabase&commitHash=380b7890bc7587dab9c2653e4d0dd814b028a6be&utm_source=gh-comment&runConclusion=FAILURE&runId=294fad97-b912-5c0a-ae39-e4e59f0e86d3) |\n| <code>describe-view-fields</code> | View already exists: v3\\_test\\_data.orders\\_v | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52865?repo=metabase/metabase&commitHash=380b7890bc7587dab9c2653e4d0dd814b028a6be&utm_source=gh-comment&runConclusion=FAILURE&runId=71a0edca-929b-5db6-9fe3-744834946c49) |\n| <code>describe-view-fields</code> | Table \'orders\\_m\' already exists, error occurred during query execution. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52865?repo=metabase/metabase&commitHash=380b7890bc7587dab9c2653e4d0dd814b028a6be&utm_source=gh-comment&runConclusion=FAILURE&runId=cebf0d99-d6d2-50df-994f-58fbc3497430) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>sync-test</code> | The expected database schema does not match the actual schema returned by \\`driver/describe-database\\`. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52865?repo=metabase/metabase&commitHash=380b7890bc7587dab9c2653e4d0dd814b028a6be&utm_source=gh-comment&runConclusion=FAILURE&runId=59696325-9d63-54d3-b180-b359965e514b) |\n| <code>scenarios > browse > metrics verified metrics on enterprise should show the verified metrics filter when there are verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52865?repo=metabase/metabase&commitHash=380b7890bc7587dab9c2653e4d0dd814b028a6be&utm_source=gh-comment&runConclusion=FAILURE&runId=dba285e8-a272-5f1b-b78d-96184f360e5b) |\n| <code>scenarios > browse > metrics verified metrics on enterprise should respect the user setting on wether or not to only show verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52865?repo=metabase/metabase&commitHash=380b7890bc7587dab9c2653e4d0dd814b028a6be&utm_source=gh-comment&runConclusion=FAILURE&runId=73d6e9ab-1a11-53ee-a4a5-d6eef6e6e92f) |\n| <code>scenarios > browse > metrics dot menu when the user does not have write access should be possible to bookmark a metrics from the dot menu</code> | Unable to find a label with the text ""Table of metrics"" within the expected time. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52865?repo=metabase/metabase&commitHash=380b7890bc7587dab9c2653e4d0dd814b028a6be&utm_source=gh-comment&runConclusion=FAILURE&runId=4781c513-01b9-578c-96d7-158a48601195) |\n\n[... and 11 more](https://app.trunk.io/metabase/flaky-tests/pr/52865?repo=metabase/metabase&commitHash=380b7890bc7587dab9c2653e4d0dd814b028a6be&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52865?repo=metabase/metabase&commitHash=380b7890bc7587dab9c2653e4d0dd814b028a6be&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 30, 0, 35, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624861694, 'issue_id': 2816946378, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `380b7890bc7587dab9c2653e4d0dd814b028a6be-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13055550402?pr=52865)\n\n  File | Test Name\n  ---- | ---------\n  `browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > can browse metrics\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should navigate to the metric when clicking a metric title\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should navigate to that collection when clicking a collection title\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should open the collections in a new tab when alt-clicking a metric\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should render truncated markdown in the table\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should be possible to sort the metrics\n`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to bookmark a metrics from the dot menu\n`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to navigate to the collection from the dot menu\n`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to trash a metric from the dot menu when the user has write access\n`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > when the user does not have write access > should not be possible to trash a metric from the dot menu when the user does not have write access\nand more... | and more...', 'created_at': datetime.datetime(2025, 1, 30, 15, 46, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625716029, 'issue_id': 2816946378, 'author': 'noahmoss', 'body': '@metabase-bot backport release-x.52.x', 'created_at': datetime.datetime(2025, 1, 30, 22, 19, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627674585, 'issue_id': 2816946378, 'author': 'github-actions[bot]', 'body': '🚀 This should also be released by [v0.53](https://github.com/metabase/metabase/milestone/287)', 'created_at': datetime.datetime(2025, 1, 31, 15, 53, 56, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2025-01-29 00:01:06 UTC): * **#52865** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52865?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52865?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2025-01-30 00:35:05 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/99052_tests-380b7890-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52865?repo=metabase/metabase&commitHash=380b7890bc7587dab9c2653e4d0dd814b028a6be&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52865?repo=metabase/metabase&commitHash=380b7890bc7587dab9c2653e4d0dd814b028a6be&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/15-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52865?repo=metabase/metabase&commitHash=380b7890bc7587dab9c2653e4d0dd814b028a6be&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52865?repo=metabase/metabase&commitHash=380b7890bc7587dab9c2653e4d0dd814b028a6be&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > model indexes should be able to search model index values and visit detail records</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52865?repo=metabase/metabase&commitHash=380b7890bc7587dab9c2653e4d0dd814b028a6be&utm_source=gh-comment&runConclusion=FAILURE&runId=97fa3c2c-6f6f-5069-9e58-a5ef2df3fcce) |
| <code>scenarios > model indexes should be able to see details of a record outside the first 2000</code> | Unable to find an accessible element with the role ""option"" and name ""Anais Zieme"" after 4000ms timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52865?repo=metabase/metabase&commitHash=380b7890bc7587dab9c2653e4d0dd814b028a6be&utm_source=gh-comment&runConclusion=FAILURE&runId=294fad97-b912-5c0a-ae39-e4e59f0e86d3) |
| <code>describe-view-fields</code> | View already exists: v3\_test\_data.orders\_v | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52865?repo=metabase/metabase&commitHash=380b7890bc7587dab9c2653e4d0dd814b028a6be&utm_source=gh-comment&runConclusion=FAILURE&runId=71a0edca-929b-5db6-9fe3-744834946c49) |
| <code>describe-view-fields</code> | Table 'orders\_m' already exists, error occurred during query execution. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52865?repo=metabase/metabase&commitHash=380b7890bc7587dab9c2653e4d0dd814b028a6be&utm_source=gh-comment&runConclusion=FAILURE&runId=cebf0d99-d6d2-50df-994f-58fbc3497430) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>sync-test</code> | The expected database schema does not match the actual schema returned by \`driver/describe-database\`. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52865?repo=metabase/metabase&commitHash=380b7890bc7587dab9c2653e4d0dd814b028a6be&utm_source=gh-comment&runConclusion=FAILURE&runId=59696325-9d63-54d3-b180-b359965e514b) |
| <code>scenarios > browse > metrics verified metrics on enterprise should show the verified metrics filter when there are verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52865?repo=metabase/metabase&commitHash=380b7890bc7587dab9c2653e4d0dd814b028a6be&utm_source=gh-comment&runConclusion=FAILURE&runId=dba285e8-a272-5f1b-b78d-96184f360e5b) |
| <code>scenarios > browse > metrics verified metrics on enterprise should respect the user setting on wether or not to only show verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52865?repo=metabase/metabase&commitHash=380b7890bc7587dab9c2653e4d0dd814b028a6be&utm_source=gh-comment&runConclusion=FAILURE&runId=73d6e9ab-1a11-53ee-a4a5-d6eef6e6e92f) |
| <code>scenarios > browse > metrics dot menu when the user does not have write access should be possible to bookmark a metrics from the dot menu</code> | Unable to find a label with the text ""Table of metrics"" within the expected time. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52865?repo=metabase/metabase&commitHash=380b7890bc7587dab9c2653e4d0dd814b028a6be&utm_source=gh-comment&runConclusion=FAILURE&runId=4781c513-01b9-578c-96d7-158a48601195) |

[... and 11 more](https://app.trunk.io/metabase/flaky-tests/pr/52865?repo=metabase/metabase&commitHash=380b7890bc7587dab9c2653e4d0dd814b028a6be&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52865?repo=metabase/metabase&commitHash=380b7890bc7587dab9c2653e4d0dd814b028a6be&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-30 15:46:12 UTC): ## e2e tests failed on `380b7890bc7587dab9c2653e4d0dd814b028a6be-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13055550402?pr=52865)

  File | Test Name
  ---- | ---------
  `browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > can browse metrics
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should navigate to the metric when clicking a metric title
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should navigate to that collection when clicking a collection title
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should open the collections in a new tab when alt-clicking a metric
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should render truncated markdown in the table
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should be possible to sort the metrics
`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to bookmark a metrics from the dot menu
`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to navigate to the collection from the dot menu
`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to trash a metric from the dot menu when the user has write access
`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > when the user does not have write access > should not be possible to trash a metric from the dot menu when the user does not have write access
and more... | and more...

noahmoss (Issue Creator) on (2025-01-30 22:19:17 UTC): @metabase-bot backport release-x.52.x

github-actions[bot] on (2025-01-31 15:53:56 UTC): 🚀 This should also be released by [v0.53](https://github.com/metabase/metabase/milestone/287)

"
2816938007,pull_request,open,,Enable pivot tables with only pivot columns,,noahmoss,2025-01-28 23:53:16+00:00,['noahmoss'],2025-01-31 20:54:43+00:00,,https://github.com/metabase/metabase/pull/52864,"[('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2620290314, 'issue_id': 2816938007, 'author': 'noahmoss', 'body': '* **#52864** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52864?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52864?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 28, 23, 53, 32, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2025-01-28 23:53:32 UTC): * **#52864** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52864?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52864?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

"
2816875657,pull_request,closed,,fix: Mongodb handle let with alias with space,"Fixes #52807 

The issue is with spaces in let aliases as can be seen by the linked error message. This is tested by `metabase.query-processor-test.nested-queries-test/space-names-test` requires correctly setting mongo as `identifiers-with-spaces`.

Tested on latest mongo.",snoe,2025-01-28 22:55:52+00:00,['snoe'],2025-01-31 06:27:22+00:00,2025-01-31 06:27:20+00:00,https://github.com/metabase/metabase/pull/52862,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Drivers', '')]","[{'comment_id': 2620246915, 'issue_id': 2816875657, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `bd62ba887b90990edca06c42c3644e5a95ef8b8f-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13021065062?pr=52862)\n\n  File | Test Name\n  ---- | ---------\n  `permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)', 'created_at': datetime.datetime(2025, 1, 28, 23, 12, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620254664, 'issue_id': 2816875657, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/94853_tests-bd62ba88-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52862?repo=metabase/metabase&commitHash=bd62ba887b90990edca06c42c3644e5a95ef8b8f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52862?repo=metabase/metabase&commitHash=bd62ba887b90990edca06c42c3644e5a95ef8b8f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52862?repo=metabase/metabase&commitHash=bd62ba887b90990edca06c42c3644e5a95ef8b8f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52862?repo=metabase/metabase&commitHash=bd62ba887b90990edca06c42c3644e5a95ef8b8f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52862?repo=metabase/metabase&commitHash=bd62ba887b90990edca06c42c3644e5a95ef8b8f&utm_source=gh-comment&runConclusion=FAILURE&runId=ec0f2169-86e8-53f0-b81a-3157f3942f55) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52862?repo=metabase/metabase&commitHash=bd62ba887b90990edca06c42c3644e5a95ef8b8f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 28, 23, 19, 18, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-28 23:12:09 UTC): ## e2e tests failed on `bd62ba887b90990edca06c42c3644e5a95ef8b8f-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13021065062?pr=52862)

  File | Test Name
  ---- | ---------
  `permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)

trunk-io[bot] on (2025-01-28 23:19:18 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/94853_tests-bd62ba88-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52862?repo=metabase/metabase&commitHash=bd62ba887b90990edca06c42c3644e5a95ef8b8f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52862?repo=metabase/metabase&commitHash=bd62ba887b90990edca06c42c3644e5a95ef8b8f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52862?repo=metabase/metabase&commitHash=bd62ba887b90990edca06c42c3644e5a95ef8b8f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52862?repo=metabase/metabase&commitHash=bd62ba887b90990edca06c42c3644e5a95ef8b8f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52862?repo=metabase/metabase&commitHash=bd62ba887b90990edca06c42c3644e5a95ef8b8f&utm_source=gh-comment&runConclusion=FAILURE&runId=ec0f2169-86e8-53f0-b81a-3157f3942f55) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52862?repo=metabase/metabase&commitHash=bd62ba887b90990edca06c42c3644e5a95ef8b8f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2816818462,pull_request,closed,,"🤖 backported ""[Cards in Dashboards] Allow duplicating questions into dashboards""",#52750,github-automation-metabase,2025-01-28 22:12:08+00:00,"['sloansparger', 'github-automation-metabase']",2025-01-28 23:26:26+00:00,2025-01-28 22:58:57+00:00,https://github.com/metabase/metabase/pull/52860,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2620178268, 'issue_id': 2816818462, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `6431975da242f73f3ee9e0f987f0cb5049279248-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13020504493?pr=52860)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)\n`actions-on-dashboards.cy.spec.js` | Write Actions on Dashboards (postgres) > adding and executing actions > adds a custom query action to a dashboard and runs it\n`entity-picker.cy.spec.ts` | (_flaky_) scenarios > organization > entity picker > collection picker > should show dashboards in personal collections when apropriate, even if there are no sub collections\n`official-collections.cy.spec.js` | official collections > premium token with paid features > displays official badge throughout the application\n`official-collections.cy.spec.js` | official collections > token expired or removed > should not display official collection icon anymore', 'created_at': datetime.datetime(2025, 1, 28, 22, 23, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620219971, 'issue_id': 2816818462, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/23360_tests-6431975d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52860?repo=metabase/metabase&commitHash=6431975da242f73f3ee9e0f987f0cb5049279248&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52860?repo=metabase/metabase&commitHash=6431975da242f73f3ee9e0f987f0cb5049279248&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/6-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52860?repo=metabase/metabase&commitHash=6431975da242f73f3ee9e0f987f0cb5049279248&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52860?repo=metabase/metabase&commitHash=6431975da242f73f3ee9e0f987f0cb5049279248&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>official collections token expired or removed should not display official collection icon anymore</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52860?repo=metabase/metabase&commitHash=6431975da242f73f3ee9e0f987f0cb5049279248&utm_source=gh-comment&runConclusion=FAILURE&runId=5d99d85f-daa1-5092-88b7-4b6ff8f333db) |\n| <code>official collections premium token with paid features displays official badge throughout the application</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52860?repo=metabase/metabase&commitHash=6431975da242f73f3ee9e0f987f0cb5049279248&utm_source=gh-comment&runConclusion=FAILURE&runId=bf5cab46-e2bb-5c6c-ae59-4e6098fb8bad) |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52860?repo=metabase/metabase&commitHash=6431975da242f73f3ee9e0f987f0cb5049279248&utm_source=gh-comment&runConclusion=FAILURE&runId=55c4721d-578e-57f8-a8e6-6abe14e0e7b7) |\n| <code>Write Actions on Dashboards (postgres) adding and executing actions adds a custom query action to a dashboard and runs it</code> | The expected value 55 was not equal to the actual value 0. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52860?repo=metabase/metabase&commitHash=6431975da242f73f3ee9e0f987f0cb5049279248&utm_source=gh-comment&runConclusion=FAILURE&runId=9b02dc4e-0656-5a0b-85a6-1d13efe2a56b) |\n\n[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/52860?repo=metabase/metabase&commitHash=6431975da242f73f3ee9e0f987f0cb5049279248&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52860?repo=metabase/metabase&commitHash=6431975da242f73f3ee9e0f987f0cb5049279248&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 22, 52, 2, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-28 22:23:42 UTC): ## e2e tests failed on `6431975da242f73f3ee9e0f987f0cb5049279248-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13020504493?pr=52860)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)
`actions-on-dashboards.cy.spec.js` | Write Actions on Dashboards (postgres) > adding and executing actions > adds a custom query action to a dashboard and runs it
`entity-picker.cy.spec.ts` | (_flaky_) scenarios > organization > entity picker > collection picker > should show dashboards in personal collections when apropriate, even if there are no sub collections
`official-collections.cy.spec.js` | official collections > premium token with paid features > displays official badge throughout the application
`official-collections.cy.spec.js` | official collections > token expired or removed > should not display official collection icon anymore

trunk-io[bot] on (2025-01-28 22:52:02 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/23360_tests-6431975d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52860?repo=metabase/metabase&commitHash=6431975da242f73f3ee9e0f987f0cb5049279248&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52860?repo=metabase/metabase&commitHash=6431975da242f73f3ee9e0f987f0cb5049279248&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/6-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52860?repo=metabase/metabase&commitHash=6431975da242f73f3ee9e0f987f0cb5049279248&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52860?repo=metabase/metabase&commitHash=6431975da242f73f3ee9e0f987f0cb5049279248&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>official collections token expired or removed should not display official collection icon anymore</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52860?repo=metabase/metabase&commitHash=6431975da242f73f3ee9e0f987f0cb5049279248&utm_source=gh-comment&runConclusion=FAILURE&runId=5d99d85f-daa1-5092-88b7-4b6ff8f333db) |
| <code>official collections premium token with paid features displays official badge throughout the application</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52860?repo=metabase/metabase&commitHash=6431975da242f73f3ee9e0f987f0cb5049279248&utm_source=gh-comment&runConclusion=FAILURE&runId=bf5cab46-e2bb-5c6c-ae59-4e6098fb8bad) |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52860?repo=metabase/metabase&commitHash=6431975da242f73f3ee9e0f987f0cb5049279248&utm_source=gh-comment&runConclusion=FAILURE&runId=55c4721d-578e-57f8-a8e6-6abe14e0e7b7) |
| <code>Write Actions on Dashboards (postgres) adding and executing actions adds a custom query action to a dashboard and runs it</code> | The expected value 55 was not equal to the actual value 0. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52860?repo=metabase/metabase&commitHash=6431975da242f73f3ee9e0f987f0cb5049279248&utm_source=gh-comment&runConclusion=FAILURE&runId=9b02dc4e-0656-5a0b-85a6-1d13efe2a56b) |

[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/52860?repo=metabase/metabase&commitHash=6431975da242f73f3ee9e0f987f0cb5049279248&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52860?repo=metabase/metabase&commitHash=6431975da242f73f3ee9e0f987f0cb5049279248&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2816803407,pull_request,closed,,"🤖 backported ""docs: java 21""",#52858,github-automation-metabase,2025-01-28 22:02:25+00:00,"['alexyarosh', 'github-automation-metabase']",2025-01-28 22:54:38+00:00,2025-01-28 22:03:17+00:00,https://github.com/metabase/metabase/pull/52859,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2620223535, 'issue_id': 2816803407, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/29_tests-ff5738a9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52859?repo=metabase/metabase&commitHash=ff5738a998aafa7d76076480561641b3e9f35673&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52859?repo=metabase/metabase&commitHash=ff5738a998aafa7d76076480561641b3e9f35673&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52859?repo=metabase/metabase&commitHash=ff5738a998aafa7d76076480561641b3e9f35673&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52859?repo=metabase/metabase&commitHash=ff5738a998aafa7d76076480561641b3e9f35673&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52859?repo=metabase/metabase&commitHash=ff5738a998aafa7d76076480561641b3e9f35673&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 22, 54, 37, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-28 22:54:37 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/29_tests-ff5738a9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52859?repo=metabase/metabase&commitHash=ff5738a998aafa7d76076480561641b3e9f35673&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52859?repo=metabase/metabase&commitHash=ff5738a998aafa7d76076480561641b3e9f35673&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52859?repo=metabase/metabase&commitHash=ff5738a998aafa7d76076480561641b3e9f35673&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52859?repo=metabase/metabase&commitHash=ff5738a998aafa7d76076480561641b3e9f35673&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52859?repo=metabase/metabase&commitHash=ff5738a998aafa7d76076480561641b3e9f35673&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2816788362,pull_request,closed,,docs: java 21,just noticed this in 53 release notes https://github.com/metabase/metabase/pull/52620,alexyarosh,2025-01-28 21:52:51+00:00,['alexyarosh'],2025-01-28 22:03:45+00:00,2025-01-28 22:01:33+00:00,https://github.com/metabase/metabase/pull/52858,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2816757936,pull_request,closed,,"🤖 backported ""Remove defendpoint 1""",#52785,github-automation-metabase,2025-01-28 21:33:43+00:00,"['camsaul', 'github-automation-metabase']",2025-01-30 03:37:42+00:00,2025-01-30 02:50:48+00:00,https://github.com/metabase/metabase/pull/52857,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2623399009, 'issue_id': 2816757936, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/98804_tests-a8489f3e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52857?repo=metabase/metabase&commitHash=a8489f3e3d3607fc26839a752193359954622ca2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52857?repo=metabase/metabase&commitHash=a8489f3e3d3607fc26839a752193359954622ca2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52857?repo=metabase/metabase&commitHash=a8489f3e3d3607fc26839a752193359954622ca2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52857?repo=metabase/metabase&commitHash=a8489f3e3d3607fc26839a752193359954622ca2&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>describe-view-fields</code> | Table is already managed by another pipeline, please rename it to proceed. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52857?repo=metabase/metabase&commitHash=a8489f3e3d3607fc26839a752193359954622ca2&utm_source=gh-comment&runConclusion=FAILURE&runId=b19560e4-7637-5424-ae09-ba1abda640ec) |\n| <code>sync-test</code> | The \\`driver/describe-database\\` implementation did not return expected results for inclusion of test-data schema. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52857?repo=metabase/metabase&commitHash=a8489f3e3d3607fc26839a752193359954622ca2&utm_source=gh-comment&runConclusion=FAILURE&runId=40bcd39c-dd3a-56f3-a764-8a580616f982) |\n| <code>sync-test</code> | The \\`driver/describe-database\\` implementation did not return expected results for inclusion of test-data schema. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52857?repo=metabase/metabase&commitHash=a8489f3e3d3607fc26839a752193359954622ca2&utm_source=gh-comment&runConclusion=FAILURE&runId=d3e54fdb-4478-52fe-9548-f2d6be376688) |\n| <code>text-not-equals-nil-test</code> | The query result set was closed unexpectedly, preventing further processing. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52857?repo=metabase/metabase&commitHash=a8489f3e3d3607fc26839a752193359954622ca2&utm_source=gh-comment&runConclusion=FAILURE&runId=8476fbc1-21b1-5c2a-b0cf-92df820b755f) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52857?repo=metabase/metabase&commitHash=a8489f3e3d3607fc26839a752193359954622ca2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 30, 2, 47, 13, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-30 02:47:13 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/98804_tests-a8489f3e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52857?repo=metabase/metabase&commitHash=a8489f3e3d3607fc26839a752193359954622ca2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52857?repo=metabase/metabase&commitHash=a8489f3e3d3607fc26839a752193359954622ca2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52857?repo=metabase/metabase&commitHash=a8489f3e3d3607fc26839a752193359954622ca2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52857?repo=metabase/metabase&commitHash=a8489f3e3d3607fc26839a752193359954622ca2&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>describe-view-fields</code> | Table is already managed by another pipeline, please rename it to proceed. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52857?repo=metabase/metabase&commitHash=a8489f3e3d3607fc26839a752193359954622ca2&utm_source=gh-comment&runConclusion=FAILURE&runId=b19560e4-7637-5424-ae09-ba1abda640ec) |
| <code>sync-test</code> | The \`driver/describe-database\` implementation did not return expected results for inclusion of test-data schema. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52857?repo=metabase/metabase&commitHash=a8489f3e3d3607fc26839a752193359954622ca2&utm_source=gh-comment&runConclusion=FAILURE&runId=40bcd39c-dd3a-56f3-a764-8a580616f982) |
| <code>sync-test</code> | The \`driver/describe-database\` implementation did not return expected results for inclusion of test-data schema. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52857?repo=metabase/metabase&commitHash=a8489f3e3d3607fc26839a752193359954622ca2&utm_source=gh-comment&runConclusion=FAILURE&runId=d3e54fdb-4478-52fe-9548-f2d6be376688) |
| <code>text-not-equals-nil-test</code> | The query result set was closed unexpectedly, preventing further processing. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52857?repo=metabase/metabase&commitHash=a8489f3e3d3607fc26839a752193359954622ca2&utm_source=gh-comment&runConclusion=FAILURE&runId=8476fbc1-21b1-5c2a-b0cf-92df820b755f) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52857?repo=metabase/metabase&commitHash=a8489f3e3d3607fc26839a752193359954622ca2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2816747747,pull_request,closed,,"🤖 backported ""Use features instead of hard-coded driver names in tests""",#52758,github-automation-metabase,2025-01-28 21:26:57+00:00,"['rileythomp', 'github-automation-metabase']",2025-01-28 23:00:33+00:00,2025-01-28 22:10:40+00:00,https://github.com/metabase/metabase/pull/52856,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2620108818, 'issue_id': 2816747747, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `c9e7045520fc7e99d8720696a3f315ec14092a16-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13019870787?pr=52856)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)\n`reproductions-2.cy.spec.js` | issue 36669 > should be able to change question data source to raw data after selecting saved question (metabase#36669)\n`questions-entity-id.cy.spec.ts` | scenarios > questions > entity id support > /question/entity/${entity_id} should redirect to /question/${id}\n`questions-entity-id.cy.spec.ts` | scenarios > questions > entity id support > /question/entity/${entity_id}/notebook should redirect to /question/${id}/notebook', 'created_at': datetime.datetime(2025, 1, 28, 21, 38, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620190620, 'issue_id': 2816747747, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/89667_tests-c9e70455-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52856?repo=metabase/metabase&commitHash=c9e7045520fc7e99d8720696a3f315ec14092a16&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52856?repo=metabase/metabase&commitHash=c9e7045520fc7e99d8720696a3f315ec14092a16&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/12-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52856?repo=metabase/metabase&commitHash=c9e7045520fc7e99d8720696a3f315ec14092a16&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52856?repo=metabase/metabase&commitHash=c9e7045520fc7e99d8720696a3f315ec14092a16&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 36669 should be able to change question data source to raw data after selecting saved question (metabase\\#36669)</code> | Unable to find an element with the text ""Orders 36669"" within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52856?repo=metabase/metabase&commitHash=c9e7045520fc7e99d8720696a3f315ec14092a16&utm_source=gh-comment&runConclusion=FAILURE&runId=b5c2e641-3723-5538-9fbe-1e70e41cb332) |\n| <code>table-rows-sample-test</code> | The result set is closed, which caused the query to fail. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52856?repo=metabase/metabase&commitHash=c9e7045520fc7e99d8720696a3f315ec14092a16&utm_source=gh-comment&runConclusion=FAILURE&runId=9b99c1be-aa2c-5501-9cd3-4b35e48de49b) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>date-bucketing-when-you-test</code> | No table \'checkins\' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52856?repo=metabase/metabase&commitHash=c9e7045520fc7e99d8720696a3f315ec14092a16&utm_source=gh-comment&runConclusion=FAILURE&runId=4fadc4c8-8dba-5e6e-aa13-4f503687db17) |\n| <code>filter-by-expression-time-interval-test</code> | No Table \'checkins\' found for Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52856?repo=metabase/metabase&commitHash=c9e7045520fc7e99d8720696a3f315ec14092a16&utm_source=gh-comment&runConclusion=FAILURE&runId=bf4cc509-2b1a-5930-b3f4-eed2f90c5deb) |\n| <code>count-of-grouping-test-3</code> | No table \'checkins\' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52856?repo=metabase/metabase&commitHash=c9e7045520fc7e99d8720696a3f315ec14092a16&utm_source=gh-comment&runConclusion=FAILURE&runId=0eca1455-bf5b-555b-8159-888bfd7fc9ee) |\n| <code>time-interval-test</code> | No table \'checkins\' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52856?repo=metabase/metabase&commitHash=c9e7045520fc7e99d8720696a3f315ec14092a16&utm_source=gh-comment&runConclusion=FAILURE&runId=1e001629-9dbd-5c47-b329-aa82d165d0ab) |\n\n[... and 8 more](https://app.trunk.io/metabase/flaky-tests/pr/52856?repo=metabase/metabase&commitHash=c9e7045520fc7e99d8720696a3f315ec14092a16&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52856?repo=metabase/metabase&commitHash=c9e7045520fc7e99d8720696a3f315ec14092a16&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 22, 32, 19, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-28 21:38:31 UTC): ## e2e tests failed on `c9e7045520fc7e99d8720696a3f315ec14092a16-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13019870787?pr=52856)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)
`reproductions-2.cy.spec.js` | issue 36669 > should be able to change question data source to raw data after selecting saved question (metabase#36669)
`questions-entity-id.cy.spec.ts` | scenarios > questions > entity id support > /question/entity/${entity_id} should redirect to /question/${id}
`questions-entity-id.cy.spec.ts` | scenarios > questions > entity id support > /question/entity/${entity_id}/notebook should redirect to /question/${id}/notebook

trunk-io[bot] on (2025-01-28 22:32:19 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/89667_tests-c9e70455-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52856?repo=metabase/metabase&commitHash=c9e7045520fc7e99d8720696a3f315ec14092a16&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52856?repo=metabase/metabase&commitHash=c9e7045520fc7e99d8720696a3f315ec14092a16&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/12-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52856?repo=metabase/metabase&commitHash=c9e7045520fc7e99d8720696a3f315ec14092a16&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52856?repo=metabase/metabase&commitHash=c9e7045520fc7e99d8720696a3f315ec14092a16&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 36669 should be able to change question data source to raw data after selecting saved question (metabase\#36669)</code> | Unable to find an element with the text ""Orders 36669"" within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52856?repo=metabase/metabase&commitHash=c9e7045520fc7e99d8720696a3f315ec14092a16&utm_source=gh-comment&runConclusion=FAILURE&runId=b5c2e641-3723-5538-9fbe-1e70e41cb332) |
| <code>table-rows-sample-test</code> | The result set is closed, which caused the query to fail. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52856?repo=metabase/metabase&commitHash=c9e7045520fc7e99d8720696a3f315ec14092a16&utm_source=gh-comment&runConclusion=FAILURE&runId=9b99c1be-aa2c-5501-9cd3-4b35e48de49b) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>date-bucketing-when-you-test</code> | No table 'checkins' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52856?repo=metabase/metabase&commitHash=c9e7045520fc7e99d8720696a3f315ec14092a16&utm_source=gh-comment&runConclusion=FAILURE&runId=4fadc4c8-8dba-5e6e-aa13-4f503687db17) |
| <code>filter-by-expression-time-interval-test</code> | No Table 'checkins' found for Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52856?repo=metabase/metabase&commitHash=c9e7045520fc7e99d8720696a3f315ec14092a16&utm_source=gh-comment&runConclusion=FAILURE&runId=bf4cc509-2b1a-5930-b3f4-eed2f90c5deb) |
| <code>count-of-grouping-test-3</code> | No table 'checkins' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52856?repo=metabase/metabase&commitHash=c9e7045520fc7e99d8720696a3f315ec14092a16&utm_source=gh-comment&runConclusion=FAILURE&runId=0eca1455-bf5b-555b-8159-888bfd7fc9ee) |
| <code>time-interval-test</code> | No table 'checkins' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52856?repo=metabase/metabase&commitHash=c9e7045520fc7e99d8720696a3f315ec14092a16&utm_source=gh-comment&runConclusion=FAILURE&runId=1e001629-9dbd-5c47-b329-aa82d165d0ab) |

[... and 8 more](https://app.trunk.io/metabase/flaky-tests/pr/52856?repo=metabase/metabase&commitHash=c9e7045520fc7e99d8720696a3f315ec14092a16&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52856?repo=metabase/metabase&commitHash=c9e7045520fc7e99d8720696a3f315ec14092a16&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2816728045,pull_request,closed,,Ensure relevant models are loaded when running preemptive caching task,"Context: https://metaboat.slack.com/archives/C064QMXEV9N/p1738020797337009

There seems to be a race condition where this task can run before models are fully loaded, causing an error because `t2/table-name` returns the wrong table name. This is my attempt to fix that.",noahmoss,2025-01-28 21:13:43+00:00,['noahmoss'],2025-01-30 02:57:53+00:00,2025-01-29 19:04:01+00:00,https://github.com/metabase/metabase/pull/52855,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2620068843, 'issue_id': 2816728045, 'author': 'noahmoss', 'body': '* **#52855** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52855?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52855?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 28, 21, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620156347, 'issue_id': 2816728045, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/94880_tests-3a707962-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52855?repo=metabase/metabase&commitHash=3a707962191a48b35d40f5bc1ec53c1c1c5c143a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/11-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52855?repo=metabase/metabase&commitHash=3a707962191a48b35d40f5bc1ec53c1c1c5c143a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52855?repo=metabase/metabase&commitHash=3a707962191a48b35d40f5bc1ec53c1c1c5c143a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52855?repo=metabase/metabase&commitHash=3a707962191a48b35d40f5bc1ec53c1c1c5c143a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>update-timeline-event-test</code> | The expected timestamp was not equal to the actual timestamp when updating a timeline event. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52855?repo=metabase/metabase&commitHash=3a707962191a48b35d40f5bc1ec53c1c1c5c143a&utm_source=gh-comment&runConclusion=FAILURE&runId=dae18db4-b078-5491-ab44-0191b83fc22d) |\n| <code>append-with-really-long-names-test</code> | The schema ""2025\\_01\\_27\\_276098bc\\_7d48\\_421d\\_9297\\_79207906859c\\_schema"" was dropped by a concurrent transaction. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52855?repo=metabase/metabase&commitHash=3a707962191a48b35d40f5bc1ec53c1c1c5c143a&utm_source=gh-comment&runConclusion=FAILURE&runId=a482c5fa-7aed-5833-9bc0-b5fc8556f3cb) |\n| <code>create-from-csv-auto-pk-column-test</code> | The schema ""2025\\_01\\_27\\_a3659618\\_8794\\_45a8\\_ac54\\_e8c009c27e0e\\_schema"" was dropped by a concurrent transaction. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52855?repo=metabase/metabase&commitHash=3a707962191a48b35d40f5bc1ec53c1c1c5c143a&utm_source=gh-comment&runConclusion=FAILURE&runId=272939c5-e6a0-5764-8d22-a198de903198) |\n| <code>update-audit-log-test</code> | The schema ""2025\\_01\\_27\\_929d48cd\\_65ca\\_41d9\\_beb2\\_fa6cfad3eaa3\\_schema"" was dropped by a concurrent transaction. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52855?repo=metabase/metabase&commitHash=3a707962191a48b35d40f5bc1ec53c1c1c5c143a&utm_source=gh-comment&runConclusion=FAILURE&runId=dcc7a608-83dd-5b5b-9870-d026c4aaece2) |\n\n[... and 7 more](https://app.trunk.io/metabase/flaky-tests/pr/52855?repo=metabase/metabase&commitHash=3a707962191a48b35d40f5bc1ec53c1c1c5c143a&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\#24966)</code> | The \'body\' property was accessed on an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52855?repo=metabase/metabase&commitHash=3a707962191a48b35d40f5bc1ec53c1c1c5c143a&utm_source=gh-comment&runConclusion=FAILURE&runId=dee63eef-272a-5471-ab9f-5c4cd4d42e1b) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52855?repo=metabase/metabase&commitHash=3a707962191a48b35d40f5bc1ec53c1c1c5c143a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 22, 8, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620312509, 'issue_id': 2816728045, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `3a707962191a48b35d40f5bc1ec53c1c1c5c143a-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13021762861?pr=52855)\n\n  File | Test Name\n  ---- | ---------\n  `permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)', 'created_at': datetime.datetime(2025, 1, 29, 0, 13, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623408810, 'issue_id': 2816728045, 'author': 'camsaul', 'body': '@noahmoss This should be unneeded after the fixes I put in \r\n\r\nhttps://github.com/metabase/metabase/blob/46dc35e86b9edd36149d4e2e5fb31203dee10243/src/metabase/models/resolution.clj#L113-L121', 'created_at': datetime.datetime(2025, 1, 30, 2, 57, 30, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2025-01-28 21:14:00 UTC): * **#52855** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52855?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52855?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2025-01-28 22:08:45 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/94880_tests-3a707962-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52855?repo=metabase/metabase&commitHash=3a707962191a48b35d40f5bc1ec53c1c1c5c143a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/11-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52855?repo=metabase/metabase&commitHash=3a707962191a48b35d40f5bc1ec53c1c1c5c143a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52855?repo=metabase/metabase&commitHash=3a707962191a48b35d40f5bc1ec53c1c1c5c143a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52855?repo=metabase/metabase&commitHash=3a707962191a48b35d40f5bc1ec53c1c1c5c143a&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>update-timeline-event-test</code> | The expected timestamp was not equal to the actual timestamp when updating a timeline event. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52855?repo=metabase/metabase&commitHash=3a707962191a48b35d40f5bc1ec53c1c1c5c143a&utm_source=gh-comment&runConclusion=FAILURE&runId=dae18db4-b078-5491-ab44-0191b83fc22d) |
| <code>append-with-really-long-names-test</code> | The schema ""2025\_01\_27\_276098bc\_7d48\_421d\_9297\_79207906859c\_schema"" was dropped by a concurrent transaction. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52855?repo=metabase/metabase&commitHash=3a707962191a48b35d40f5bc1ec53c1c1c5c143a&utm_source=gh-comment&runConclusion=FAILURE&runId=a482c5fa-7aed-5833-9bc0-b5fc8556f3cb) |
| <code>create-from-csv-auto-pk-column-test</code> | The schema ""2025\_01\_27\_a3659618\_8794\_45a8\_ac54\_e8c009c27e0e\_schema"" was dropped by a concurrent transaction. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52855?repo=metabase/metabase&commitHash=3a707962191a48b35d40f5bc1ec53c1c1c5c143a&utm_source=gh-comment&runConclusion=FAILURE&runId=272939c5-e6a0-5764-8d22-a198de903198) |
| <code>update-audit-log-test</code> | The schema ""2025\_01\_27\_929d48cd\_65ca\_41d9\_beb2\_fa6cfad3eaa3\_schema"" was dropped by a concurrent transaction. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52855?repo=metabase/metabase&commitHash=3a707962191a48b35d40f5bc1ec53c1c1c5c143a&utm_source=gh-comment&runConclusion=FAILURE&runId=dcc7a608-83dd-5b5b-9870-d026c4aaece2) |

[... and 7 more](https://app.trunk.io/metabase/flaky-tests/pr/52855?repo=metabase/metabase&commitHash=3a707962191a48b35d40f5bc1ec53c1c1c5c143a&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52855?repo=metabase/metabase&commitHash=3a707962191a48b35d40f5bc1ec53c1c1c5c143a&utm_source=gh-comment&runConclusion=FAILURE&runId=dee63eef-272a-5471-ab9f-5c4cd4d42e1b) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52855?repo=metabase/metabase&commitHash=3a707962191a48b35d40f5bc1ec53c1c1c5c143a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-29 00:13:35 UTC): ## e2e tests failed on `3a707962191a48b35d40f5bc1ec53c1c1c5c143a-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13021762861?pr=52855)

  File | Test Name
  ---- | ---------
  `permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)

camsaul on (2025-01-30 02:57:30 UTC): @noahmoss This should be unneeded after the fixes I put in 

https://github.com/metabase/metabase/blob/46dc35e86b9edd36149d4e2e5fb31203dee10243/src/metabase/models/resolution.clj#L113-L121

"
2816703030,pull_request,closed,,Build new metabot branch,See: https://metaboat.slack.com/archives/C07SJT1P0ET/p1738095775748079?thread_ts=1737990744.169919&cid=C07SJT1P0ET,iethree,2025-01-28 20:57:56+00:00,['iethree'],2025-02-07 14:44:23+00:00,2025-02-07 14:44:23+00:00,https://github.com/metabase/metabase/pull/52854,"[('.Building & Releasing', ''), ('.CI & Tests', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]",[],
2816694419,pull_request,closed,,[chore] Bump BE deps at the start of Metabase 54,"Closes #52843.

### Description

Bump the BE versions (core and drivers) to the latest versions.

### How to verify

Tests passing, app still works.

### Checklist

- ~~Tests have been added/updated to cover changes in this PR~~
",bshepherdson,2025-01-28 20:52:28+00:00,['bshepherdson'],2025-02-03 16:19:24+00:00,2025-02-03 15:26:28+00:00,https://github.com/metabase/metabase/pull/52853,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2620033839, 'issue_id': 2816694419, 'author': 'bshepherdson', 'body': '* **#52853** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52853?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52853?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 28, 20, 52, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620140096, 'issue_id': 2816694419, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/94943_tests-a5332017-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52853?repo=metabase/metabase&commitHash=a5332017ec41902b849b8db246c90f565317521f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52853?repo=metabase/metabase&commitHash=a5332017ec41902b849b8db246c90f565317521f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52853?repo=metabase/metabase&commitHash=a5332017ec41902b849b8db246c90f565317521f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52853?repo=metabase/metabase&commitHash=a5332017ec41902b849b8db246c90f565317521f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52853?repo=metabase/metabase&commitHash=a5332017ec41902b849b8db246c90f565317521f&utm_source=gh-comment&runConclusion=FAILURE&runId=5f1cd6f4-ed77-5cb6-a2e2-daf9f21f91d9) |\n| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and \'Browse databases\' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52853?repo=metabase/metabase&commitHash=a5332017ec41902b849b8db246c90f565317521f&utm_source=gh-comment&runConclusion=FAILURE&runId=a761cc08-8338-5cfc-b78e-10cccbfc737c) |\n| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52853?repo=metabase/metabase&commitHash=a5332017ec41902b849b8db246c90f565317521f&utm_source=gh-comment&runConclusion=FAILURE&runId=8e959436-6d39-5c71-baf5-98ebb405ae27) |\n| <code>scenarios > model indexes should not reload the model for record in the same model</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52853?repo=metabase/metabase&commitHash=a5332017ec41902b849b8db246c90f565317521f&utm_source=gh-comment&runConclusion=FAILURE&runId=8555d0b7-bdfa-55f3-ad8d-8a975d4bc0c1) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52853?repo=metabase/metabase&commitHash=a5332017ec41902b849b8db246c90f565317521f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 21, 58, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631216622, 'issue_id': 2816694419, 'author': 'bshepherdson', 'body': '> LGTM, but redshift might have broken something.\r\n\r\nYeah, for once the weird Redshift failures were legitimate. The Redshift drivers have an ""optional"" dep on `com.amazonaws/aws-java-sdk-core`, but apparently we\'re calling some path that now needs a `StringUtils` class from it, but it\'s not getting (transitively) depended on.\r\n\r\nAdding an explicit dependency on that has got the Redshift tests passing locally, so I\'ll send that to CI.', 'created_at': datetime.datetime(2025, 2, 3, 14, 49, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631266787, 'issue_id': 2816694419, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `a5332017ec41902b849b8db246c90f565317521f-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13116230330?pr=52853)\n\n  File | Test Name\n  ---- | ---------\n  `model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model\n`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette\n`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link\n`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results"", 'created_at': datetime.datetime(2025, 2, 3, 15, 7, 6, tzinfo=datetime.timezone.utc)}]","bshepherdson (Issue Creator) on (2025-01-28 20:52:57 UTC): * **#52853** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52853?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52853?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2025-01-28 21:58:05 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/94943_tests-a5332017-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52853?repo=metabase/metabase&commitHash=a5332017ec41902b849b8db246c90f565317521f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52853?repo=metabase/metabase&commitHash=a5332017ec41902b849b8db246c90f565317521f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52853?repo=metabase/metabase&commitHash=a5332017ec41902b849b8db246c90f565317521f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52853?repo=metabase/metabase&commitHash=a5332017ec41902b849b8db246c90f565317521f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52853?repo=metabase/metabase&commitHash=a5332017ec41902b849b8db246c90f565317521f&utm_source=gh-comment&runConclusion=FAILURE&runId=5f1cd6f4-ed77-5cb6-a2e2-daf9f21f91d9) |
| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and 'Browse databases' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52853?repo=metabase/metabase&commitHash=a5332017ec41902b849b8db246c90f565317521f&utm_source=gh-comment&runConclusion=FAILURE&runId=a761cc08-8338-5cfc-b78e-10cccbfc737c) |
| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52853?repo=metabase/metabase&commitHash=a5332017ec41902b849b8db246c90f565317521f&utm_source=gh-comment&runConclusion=FAILURE&runId=8e959436-6d39-5c71-baf5-98ebb405ae27) |
| <code>scenarios > model indexes should not reload the model for record in the same model</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52853?repo=metabase/metabase&commitHash=a5332017ec41902b849b8db246c90f565317521f&utm_source=gh-comment&runConclusion=FAILURE&runId=8555d0b7-bdfa-55f3-ad8d-8a975d4bc0c1) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52853?repo=metabase/metabase&commitHash=a5332017ec41902b849b8db246c90f565317521f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

bshepherdson (Issue Creator) on (2025-02-03 14:49:50 UTC): Yeah, for once the weird Redshift failures were legitimate. The Redshift drivers have an ""optional"" dep on `com.amazonaws/aws-java-sdk-core`, but apparently we're calling some path that now needs a `StringUtils` class from it, but it's not getting (transitively) depended on.

Adding an explicit dependency on that has got the Redshift tests passing locally, so I'll send that to CI.

github-actions[bot] on (2025-02-03 15:07:06 UTC): ## e2e tests failed on `a5332017ec41902b849b8db246c90f565317521f-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13116230330?pr=52853)

  File | Test Name
  ---- | ---------
  `model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model
`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette
`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link
`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results

"
2816686840,pull_request,closed,,"🤖 backported ""Update `Usage analytics` YAMLs for 53 release""",#52833,github-automation-metabase,2025-01-28 20:47:52+00:00,"['luizarakaki', 'github-automation-metabase']",2025-01-31 18:11:05+00:00,2025-01-31 17:40:07+00:00,https://github.com/metabase/metabase/pull/52852,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2620138138, 'issue_id': 2816686840, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/109_tests-731842f2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52852?repo=metabase/metabase&commitHash=731842f2cbde7a7b8c07d846df154ceab998b721&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/8-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52852?repo=metabase/metabase&commitHash=731842f2cbde7a7b8c07d846df154ceab998b721&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/101-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52852?repo=metabase/metabase&commitHash=731842f2cbde7a7b8c07d846df154ceab998b721&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52852?repo=metabase/metabase&commitHash=731842f2cbde7a7b8c07d846df154ceab998b721&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>remark-test</code> | Redshift query failed because table \'users\' was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52852?repo=metabase/metabase&commitHash=731842f2cbde7a7b8c07d846df154ceab998b721&utm_source=gh-comment&runConclusion=FAILURE&runId=71eb2174-eeee-5fbc-b1bf-494da5374fab) |\n| <code>redshift-lbv-sync-error-test</code> | The Redshift query failed because the relation ""2025\\_01\\_31\\_a441d4d2\\_e6b3\\_4d28\\_8385\\_b30066f6ef28\\_schema.test\\_data\\_orders\\_m"" does not exist. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52852?repo=metabase/metabase&commitHash=731842f2cbde7a7b8c07d846df154ceab998b721&utm_source=gh-comment&runConclusion=FAILURE&runId=a8741cc0-4a45-5686-ad81-fa44de3f69e6) |\n| <code>test-external-table</code> | The Redshift database does not have a table named ""extsales"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52852?repo=metabase/metabase&commitHash=731842f2cbde7a7b8c07d846df154ceab998b721&utm_source=gh-comment&runConclusion=FAILURE&runId=6248265f-e984-52a4-9358-2d0b64bb05bc) |\n| <code>parameters-test</code> | Native query parameters failed to work with filters due to a missing table. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52852?repo=metabase/metabase&commitHash=731842f2cbde7a7b8c07d846df154ceab998b721&utm_source=gh-comment&runConclusion=FAILURE&runId=bd6fa9fe-2cda-5f4d-af8e-0800513a9723) |\n\n[... and 4 more](https://app.trunk.io/metabase/flaky-tests/pr/52852?repo=metabase/metabase&commitHash=731842f2cbde7a7b8c07d846df154ceab998b721&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>e2e-test-8</code> | No Table \'venues\' found for :redshift Database 22 \'test-data (redshift)\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52852?repo=metabase/metabase&commitHash=731842f2cbde7a7b8c07d846df154ceab998b721&utm_source=gh-comment&runConclusion=FAILURE&runId=344e018e-5e37-50e7-9b43-230c2b10a99f) |\n| <code>bin-single-column-3-bins-test</code> | Unable to bin Field without a min/max value (missing or incomplete fingerprint). | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52852?repo=metabase/metabase&commitHash=731842f2cbde7a7b8c07d846df154ceab998b721&utm_source=gh-comment&runConclusion=FAILURE&runId=e71a2ccc-4e09-5c4e-885c-b35f12ea8eb0) |\n| <code>default-bucketing-test</code> | No table \'checkins\' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52852?repo=metabase/metabase&commitHash=731842f2cbde7a7b8c07d846df154ceab998b721&utm_source=gh-comment&runConclusion=FAILURE&runId=a1b1402a-0d13-5607-82ca-320c49fb69c4) |\n| <code>search-values-with-field-same-as-search-field-test</code> | The test failed because the table \'venues\' was not found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52852?repo=metabase/metabase&commitHash=731842f2cbde7a7b8c07d846df154ceab998b721&utm_source=gh-comment&runConclusion=FAILURE&runId=de299007-d768-526e-84f6-86236fd91951) |\n\n[... and 97 more](https://app.trunk.io/metabase/flaky-tests/pr/52852?repo=metabase/metabase&commitHash=731842f2cbde7a7b8c07d846df154ceab998b721&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52852?repo=metabase/metabase&commitHash=731842f2cbde7a7b8c07d846df154ceab998b721&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 21, 56, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627803670, 'issue_id': 2816686840, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `731842f2cbde7a7b8c07d846df154ceab998b721-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13076981603?pr=52852)\n\n  File | Test Name\n  ---- | ---------\n  `model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model\n`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette\n`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link\n`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results"", 'created_at': datetime.datetime(2025, 1, 31, 16, 54, 50, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-28 21:56:52 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/109_tests-731842f2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52852?repo=metabase/metabase&commitHash=731842f2cbde7a7b8c07d846df154ceab998b721&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/8-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52852?repo=metabase/metabase&commitHash=731842f2cbde7a7b8c07d846df154ceab998b721&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/101-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52852?repo=metabase/metabase&commitHash=731842f2cbde7a7b8c07d846df154ceab998b721&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52852?repo=metabase/metabase&commitHash=731842f2cbde7a7b8c07d846df154ceab998b721&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>remark-test</code> | Redshift query failed because table 'users' was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52852?repo=metabase/metabase&commitHash=731842f2cbde7a7b8c07d846df154ceab998b721&utm_source=gh-comment&runConclusion=FAILURE&runId=71eb2174-eeee-5fbc-b1bf-494da5374fab) |
| <code>redshift-lbv-sync-error-test</code> | The Redshift query failed because the relation ""2025\_01\_31\_a441d4d2\_e6b3\_4d28\_8385\_b30066f6ef28\_schema.test\_data\_orders\_m"" does not exist. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52852?repo=metabase/metabase&commitHash=731842f2cbde7a7b8c07d846df154ceab998b721&utm_source=gh-comment&runConclusion=FAILURE&runId=a8741cc0-4a45-5686-ad81-fa44de3f69e6) |
| <code>test-external-table</code> | The Redshift database does not have a table named ""extsales"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52852?repo=metabase/metabase&commitHash=731842f2cbde7a7b8c07d846df154ceab998b721&utm_source=gh-comment&runConclusion=FAILURE&runId=6248265f-e984-52a4-9358-2d0b64bb05bc) |
| <code>parameters-test</code> | Native query parameters failed to work with filters due to a missing table. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52852?repo=metabase/metabase&commitHash=731842f2cbde7a7b8c07d846df154ceab998b721&utm_source=gh-comment&runConclusion=FAILURE&runId=bd6fa9fe-2cda-5f4d-af8e-0800513a9723) |

[... and 4 more](https://app.trunk.io/metabase/flaky-tests/pr/52852?repo=metabase/metabase&commitHash=731842f2cbde7a7b8c07d846df154ceab998b721&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>e2e-test-8</code> | No Table 'venues' found for :redshift Database 22 'test-data (redshift)'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52852?repo=metabase/metabase&commitHash=731842f2cbde7a7b8c07d846df154ceab998b721&utm_source=gh-comment&runConclusion=FAILURE&runId=344e018e-5e37-50e7-9b43-230c2b10a99f) |
| <code>bin-single-column-3-bins-test</code> | Unable to bin Field without a min/max value (missing or incomplete fingerprint). | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52852?repo=metabase/metabase&commitHash=731842f2cbde7a7b8c07d846df154ceab998b721&utm_source=gh-comment&runConclusion=FAILURE&runId=e71a2ccc-4e09-5c4e-885c-b35f12ea8eb0) |
| <code>default-bucketing-test</code> | No table 'checkins' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52852?repo=metabase/metabase&commitHash=731842f2cbde7a7b8c07d846df154ceab998b721&utm_source=gh-comment&runConclusion=FAILURE&runId=a1b1402a-0d13-5607-82ca-320c49fb69c4) |
| <code>search-values-with-field-same-as-search-field-test</code> | The test failed because the table 'venues' was not found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52852?repo=metabase/metabase&commitHash=731842f2cbde7a7b8c07d846df154ceab998b721&utm_source=gh-comment&runConclusion=FAILURE&runId=de299007-d768-526e-84f6-86236fd91951) |

[... and 97 more](https://app.trunk.io/metabase/flaky-tests/pr/52852?repo=metabase/metabase&commitHash=731842f2cbde7a7b8c07d846df154ceab998b721&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52852?repo=metabase/metabase&commitHash=731842f2cbde7a7b8c07d846df154ceab998b721&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-31 16:54:50 UTC): ## e2e tests failed on `731842f2cbde7a7b8c07d846df154ceab998b721-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13076981603?pr=52852)

  File | Test Name
  ---- | ---------
  `model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model
`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette
`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link
`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results

"
2816610445,pull_request,closed,,"🤖 backported ""ci(sdk): Make 53 the latest in release workflow""",#52789,github-automation-metabase,2025-01-28 20:03:42+00:00,"['oisincoveney', 'github-automation-metabase']",2025-01-28 20:04:33+00:00,2025-01-28 20:04:32+00:00,https://github.com/metabase/metabase/pull/52850,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2816605878,pull_request,closed,,fix: reload model after applying prev revision,"Closes https://github.com/metabase/metabase/issues/45926

### Description

Revision restoring didn't load dataset correctly, so changes in model's metadata could be lost and didn't appear on the page before the page reload. now it's fixed

### How to verify

- follow steps from the issue

### Demo


https://github.com/user-attachments/assets/91fbe1b0-5a8e-47d8-8325-a91e42c6a274



### Checklist

- [x] Tests have been added/updated to cover changes in this PR
- [x] ✅  [stress test](https://github.com/metabase/metabase/actions/runs/13027988988/job/36340810793)
",uladzimirdev,2025-01-28 20:00:59+00:00,['uladzimirdev'],2025-01-30 06:49:43+00:00,2025-01-30 06:04:05+00:00,https://github.com/metabase/metabase/pull/52849,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2620052817, 'issue_id': 2816605878, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13684_tests-3689dd9e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52849?repo=metabase/metabase&commitHash=3689dd9e73dab8b164f1312b26daa5648f261a6c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52849?repo=metabase/metabase&commitHash=3689dd9e73dab8b164f1312b26daa5648f261a6c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52849?repo=metabase/metabase&commitHash=3689dd9e73dab8b164f1312b26daa5648f261a6c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52849?repo=metabase/metabase&commitHash=3689dd9e73dab8b164f1312b26daa5648f261a6c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 29378 should not crash the model detail page after searching for an action (metabase\\#29378)</code> | Unable to find an accessible element with the role ""option"" and name ""Update orders quantity"" within 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52849?repo=metabase/metabase&commitHash=3689dd9e73dab8b164f1312b26daa5648f261a6c&utm_source=gh-comment&runConclusion=FAILURE&runId=3686af76-eb8e-5464-821a-e46d2b6f623b) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52849?repo=metabase/metabase&commitHash=3689dd9e73dab8b164f1312b26daa5648f261a6c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 21, 4, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622821699, 'issue_id': 2816605878, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `3689dd9e73dab8b164f1312b26daa5648f261a6c-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13039884252?pr=52849)\n\n  File | Test Name\n  ---- | ---------\n  `reproductions.cy.spec.js` | issue 29378 > should not crash the model detail page after searching for an action (metabase#29378)', 'created_at': datetime.datetime(2025, 1, 29, 20, 51, 34, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-28 21:04:10 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13684_tests-3689dd9e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52849?repo=metabase/metabase&commitHash=3689dd9e73dab8b164f1312b26daa5648f261a6c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52849?repo=metabase/metabase&commitHash=3689dd9e73dab8b164f1312b26daa5648f261a6c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52849?repo=metabase/metabase&commitHash=3689dd9e73dab8b164f1312b26daa5648f261a6c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52849?repo=metabase/metabase&commitHash=3689dd9e73dab8b164f1312b26daa5648f261a6c&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 29378 should not crash the model detail page after searching for an action (metabase\#29378)</code> | Unable to find an accessible element with the role ""option"" and name ""Update orders quantity"" within 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52849?repo=metabase/metabase&commitHash=3689dd9e73dab8b164f1312b26daa5648f261a6c&utm_source=gh-comment&runConclusion=FAILURE&runId=3686af76-eb8e-5464-821a-e46d2b6f623b) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52849?repo=metabase/metabase&commitHash=3689dd9e73dab8b164f1312b26daa5648f261a6c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-29 20:51:34 UTC): ## e2e tests failed on `3689dd9e73dab8b164f1312b26daa5648f261a6c-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13039884252?pr=52849)

  File | Test Name
  ---- | ---------
  `reproductions.cy.spec.js` | issue 29378 > should not crash the model detail page after searching for an action (metabase#29378)

"
2816543564,pull_request,closed,,"🤖 backported ""Update ""Multiple domains for Google Sign-in""""",#52826,github-automation-metabase,2025-01-28 19:27:49+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2025-01-28 19:29:34+00:00,2025-01-28 19:29:34+00:00,https://github.com/metabase/metabase/pull/52848,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2816492507,pull_request,closed,,Fix nav bar highlighting when creating a new question,"Closes #52809

### Description
The main fix here comes from our hook usage with RTK Query. When traversing from a Saved question to an ad hoc question page, the skip token would be passed to `useGetCardQuery`. This prevented us from running a new query, but it meant that `data` was still returning data from the previous query. Changing to `currentData` solved that issue. The second part of the fix was only passing a new `Question` object if `card` was defined. Otherwise, `getSelectedItems()` would return improper data

### How to verify

1. Bookmark a question, and navigate to it
2. Open the sidebar, and verify that the question, and it's collection, are highlighted in the navbar
3. click New -> SQL Query
4. Open the sidebar again. Nothing should be highlighted

### Demo
![chrome_eUjTrDHQUO](https://github.com/user-attachments/assets/16f60f24-d8b7-4121-91eb-a3a019e71994)

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",npfitz,2025-01-28 18:58:45+00:00,['npfitz'],2025-01-30 07:31:14+00:00,2025-01-29 16:37:34+00:00,https://github.com/metabase/metabase/pull/52847,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2619926034, 'issue_id': 2816492507, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13511_tests-ae3a1ca3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52847?repo=metabase/metabase&commitHash=ae3a1ca35ee1df3f518ff42578ba900938200c54&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52847?repo=metabase/metabase&commitHash=ae3a1ca35ee1df3f518ff42578ba900938200c54&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52847?repo=metabase/metabase&commitHash=ae3a1ca35ee1df3f518ff42578ba900938200c54&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52847?repo=metabase/metabase&commitHash=ae3a1ca35ee1df3f518ff42578ba900938200c54&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52847?repo=metabase/metabase&commitHash=ae3a1ca35ee1df3f518ff42578ba900938200c54&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 19, 51, 18, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-28 19:51:18 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13511_tests-ae3a1ca3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52847?repo=metabase/metabase&commitHash=ae3a1ca35ee1df3f518ff42578ba900938200c54&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52847?repo=metabase/metabase&commitHash=ae3a1ca35ee1df3f518ff42578ba900938200c54&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52847?repo=metabase/metabase&commitHash=ae3a1ca35ee1df3f518ff42578ba900938200c54&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52847?repo=metabase/metabase&commitHash=ae3a1ca35ee1df3f518ff42578ba900938200c54&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52847?repo=metabase/metabase&commitHash=ae3a1ca35ee1df3f518ff42578ba900938200c54&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2816451747,pull_request,closed,,Don't normalize numbers to field ids,"Closes https://github.com/metabase/metabase/issues/27807

### Description

We currently normalize [:cum-sum 5] to [:cum-sum [:field 5 nil]], which means that you can't aggregate on a custom expression like ""CumulativeSum(5)"".  Removing that portion of the normalize code and updating the mbql schema to match fixes the issue and allows those expressions.
### How to verify

Create a custom aggregation like ""CumulativeSum(1)"" and see if it compiles

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",wzimrin,2025-01-28 18:36:29+00:00,['wzimrin'],2025-01-29 21:24:50+00:00,2025-01-29 21:24:50+00:00,https://github.com/metabase/metabase/pull/52846,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]",[],
2816435368,pull_request,closed,,"🤖 backported ""Handle legacy secrets double encoded with base64""",#52836,github-automation-metabase,2025-01-28 18:27:57+00:00,"['snoe', 'github-automation-metabase']",2025-01-28 22:15:05+00:00,2025-01-28 20:29:31+00:00,https://github.com/metabase/metabase/pull/52845,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2619874910, 'issue_id': 2816435368, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/6397_tests-e649b556-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52845?repo=metabase/metabase&commitHash=e649b5560c52a65355807342e33840e43c804a3f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52845?repo=metabase/metabase&commitHash=e649b5560c52a65355807342e33840e43c804a3f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52845?repo=metabase/metabase&commitHash=e649b5560c52a65355807342e33840e43c804a3f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52845?repo=metabase/metabase&commitHash=e649b5560c52a65355807342e33840e43c804a3f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52845?repo=metabase/metabase&commitHash=e649b5560c52a65355807342e33840e43c804a3f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 19, 24, 16, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-28 19:24:16 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/6397_tests-e649b556-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52845?repo=metabase/metabase&commitHash=e649b5560c52a65355807342e33840e43c804a3f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52845?repo=metabase/metabase&commitHash=e649b5560c52a65355807342e33840e43c804a3f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52845?repo=metabase/metabase&commitHash=e649b5560c52a65355807342e33840e43c804a3f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52845?repo=metabase/metabase&commitHash=e649b5560c52a65355807342e33840e43c804a3f&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52845?repo=metabase/metabase&commitHash=e649b5560c52a65355807342e33840e43c804a3f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2816430956,pull_request,closed,,"🤖 backported ""Handle legacy secrets double encoded with base64""",#52836,github-automation-metabase,2025-01-28 18:25:41+00:00,"['snoe', 'github-automation-metabase']",2025-01-31 00:13:56+00:00,2025-01-31 00:13:55+00:00,https://github.com/metabase/metabase/pull/52844,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2619794611, 'issue_id': 2816430956, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `6e4de6bb5cddb07dcc27c5af40fdaff02feecfac-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13017048986?pr=52844)\n\n  File | Test Name\n  ---- | ---------\n  `search.cy.spec.js` | scenarios > search > universal search > should render a preview of markdown descriptions\n`search.cy.spec.js` | scenarios > search > universal search > should not overflow container if results contain descriptions with large unborken strings', 'created_at': datetime.datetime(2025, 1, 28, 18, 42, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619879040, 'issue_id': 2816430956, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/12463_tests-6e4de6bb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52844?repo=metabase/metabase&commitHash=6e4de6bb5cddb07dcc27c5af40fdaff02feecfac&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/11-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52844?repo=metabase/metabase&commitHash=6e4de6bb5cddb07dcc27c5af40fdaff02feecfac&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/65-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52844?repo=metabase/metabase&commitHash=6e4de6bb5cddb07dcc27c5af40fdaff02feecfac&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52844?repo=metabase/metabase&commitHash=6e4de6bb5cddb07dcc27c5af40fdaff02feecfac&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>test-external-table</code> | The Redshift database does not have a table named ""extsales"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52844?repo=metabase/metabase&commitHash=6e4de6bb5cddb07dcc27c5af40fdaff02feecfac&utm_source=gh-comment&runConclusion=FAILURE&runId=b0dc9ced-7698-57e4-9280-b4aebe603371) |\n| <code>parameters-test</code> | Native query parameters failed to work with filters due to a missing table. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52844?repo=metabase/metabase&commitHash=6e4de6bb5cddb07dcc27c5af40fdaff02feecfac&utm_source=gh-comment&runConclusion=FAILURE&runId=d7cae279-0069-57a1-948f-be7b81a62618) |\n| <code>remark-test</code> | Redshift query failed because table \'users\' was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52844?repo=metabase/metabase&commitHash=6e4de6bb5cddb07dcc27c5af40fdaff02feecfac&utm_source=gh-comment&runConclusion=FAILURE&runId=15f7c6b8-b479-5a04-9246-2cd1d329bd6b) |\n| <code>scenarios > search applying search filters trashed items filter should only show items in the trash</code> | The test timed out while trying to find an element with data-testid ""search-result-item"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52844?repo=metabase/metabase&commitHash=6e4de6bb5cddb07dcc27c5af40fdaff02feecfac&utm_source=gh-comment&runConclusion=FAILURE&runId=fa8c12be-3ba5-5146-949e-ca1ded4d5a6d) |\n\n[... and 7 more](https://app.trunk.io/metabase/flaky-tests/pr/52844?repo=metabase/metabase&commitHash=6e4de6bb5cddb07dcc27c5af40fdaff02feecfac&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52844?repo=metabase/metabase&commitHash=6e4de6bb5cddb07dcc27c5af40fdaff02feecfac&utm_source=gh-comment&runConclusion=FAILURE&runId=d47b5205-aaa1-5324-8bff-aecf4bed2bde) |\n| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52844?repo=metabase/metabase&commitHash=6e4de6bb5cddb07dcc27c5af40fdaff02feecfac&utm_source=gh-comment&runConclusion=FAILURE&runId=b89f5eac-acc8-5ceb-9a83-9643fad3d13a) |\n| <code>e2e-test-10</code> | No Table \'venues\' found for :redshift Database 25 \'test-data (redshift)\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52844?repo=metabase/metabase&commitHash=6e4de6bb5cddb07dcc27c5af40fdaff02feecfac&utm_source=gh-comment&runConclusion=FAILURE&runId=7bee7dec-0d13-558a-9311-6b4f6212462b) |\n| <code>fingerprints-in-db-test</code> | No table \'venues\' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52844?repo=metabase/metabase&commitHash=6e4de6bb5cddb07dcc27c5af40fdaff02feecfac&utm_source=gh-comment&runConclusion=FAILURE&runId=233621b2-faf8-59d1-8ebd-ad3acfcd1fb4) |\n\n[... and 61 more](https://app.trunk.io/metabase/flaky-tests/pr/52844?repo=metabase/metabase&commitHash=6e4de6bb5cddb07dcc27c5af40fdaff02feecfac&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52844?repo=metabase/metabase&commitHash=6e4de6bb5cddb07dcc27c5af40fdaff02feecfac&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 19, 26, 24, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-28 18:42:56 UTC): ## e2e tests failed on `6e4de6bb5cddb07dcc27c5af40fdaff02feecfac-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13017048986?pr=52844)

  File | Test Name
  ---- | ---------
  `search.cy.spec.js` | scenarios > search > universal search > should render a preview of markdown descriptions
`search.cy.spec.js` | scenarios > search > universal search > should not overflow container if results contain descriptions with large unborken strings

trunk-io[bot] on (2025-01-28 19:26:24 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/12463_tests-6e4de6bb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52844?repo=metabase/metabase&commitHash=6e4de6bb5cddb07dcc27c5af40fdaff02feecfac&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/11-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52844?repo=metabase/metabase&commitHash=6e4de6bb5cddb07dcc27c5af40fdaff02feecfac&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/65-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52844?repo=metabase/metabase&commitHash=6e4de6bb5cddb07dcc27c5af40fdaff02feecfac&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52844?repo=metabase/metabase&commitHash=6e4de6bb5cddb07dcc27c5af40fdaff02feecfac&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>test-external-table</code> | The Redshift database does not have a table named ""extsales"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52844?repo=metabase/metabase&commitHash=6e4de6bb5cddb07dcc27c5af40fdaff02feecfac&utm_source=gh-comment&runConclusion=FAILURE&runId=b0dc9ced-7698-57e4-9280-b4aebe603371) |
| <code>parameters-test</code> | Native query parameters failed to work with filters due to a missing table. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52844?repo=metabase/metabase&commitHash=6e4de6bb5cddb07dcc27c5af40fdaff02feecfac&utm_source=gh-comment&runConclusion=FAILURE&runId=d7cae279-0069-57a1-948f-be7b81a62618) |
| <code>remark-test</code> | Redshift query failed because table 'users' was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52844?repo=metabase/metabase&commitHash=6e4de6bb5cddb07dcc27c5af40fdaff02feecfac&utm_source=gh-comment&runConclusion=FAILURE&runId=15f7c6b8-b479-5a04-9246-2cd1d329bd6b) |
| <code>scenarios > search applying search filters trashed items filter should only show items in the trash</code> | The test timed out while trying to find an element with data-testid ""search-result-item"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52844?repo=metabase/metabase&commitHash=6e4de6bb5cddb07dcc27c5af40fdaff02feecfac&utm_source=gh-comment&runConclusion=FAILURE&runId=fa8c12be-3ba5-5146-949e-ca1ded4d5a6d) |

[... and 7 more](https://app.trunk.io/metabase/flaky-tests/pr/52844?repo=metabase/metabase&commitHash=6e4de6bb5cddb07dcc27c5af40fdaff02feecfac&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52844?repo=metabase/metabase&commitHash=6e4de6bb5cddb07dcc27c5af40fdaff02feecfac&utm_source=gh-comment&runConclusion=FAILURE&runId=d47b5205-aaa1-5324-8bff-aecf4bed2bde) |
| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52844?repo=metabase/metabase&commitHash=6e4de6bb5cddb07dcc27c5af40fdaff02feecfac&utm_source=gh-comment&runConclusion=FAILURE&runId=b89f5eac-acc8-5ceb-9a83-9643fad3d13a) |
| <code>e2e-test-10</code> | No Table 'venues' found for :redshift Database 25 'test-data (redshift)'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52844?repo=metabase/metabase&commitHash=6e4de6bb5cddb07dcc27c5af40fdaff02feecfac&utm_source=gh-comment&runConclusion=FAILURE&runId=7bee7dec-0d13-558a-9311-6b4f6212462b) |
| <code>fingerprints-in-db-test</code> | No table 'venues' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52844?repo=metabase/metabase&commitHash=6e4de6bb5cddb07dcc27c5af40fdaff02feecfac&utm_source=gh-comment&runConclusion=FAILURE&runId=233621b2-faf8-59d1-8ebd-ad3acfcd1fb4) |

[... and 61 more](https://app.trunk.io/metabase/flaky-tests/pr/52844?repo=metabase/metabase&commitHash=6e4de6bb5cddb07dcc27c5af40fdaff02feecfac&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52844?repo=metabase/metabase&commitHash=6e4de6bb5cddb07dcc27c5af40fdaff02feecfac&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2816381260,pull_request,closed,,[cleanup] Delete `lib.metadata/stage` and `stage-column`,"### Description

Pre-work for #49182.

These functions date from the beginnings of the `metabase.lib` codebase,
and are unused outside of a couple of tests.

I deleted the tests for these functions specifically, and updated a few
other tests that used these functions to retrieve columns on a query.

### How to verify

BE unit tests still passing. No user-visible impact.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",bshepherdson,2025-01-28 17:58:37+00:00,['bshepherdson'],2025-01-31 13:52:09+00:00,2025-01-31 13:24:07+00:00,https://github.com/metabase/metabase/pull/52842,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2619703506, 'issue_id': 2816381260, 'author': 'bshepherdson', 'body': '* **#52842** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52842?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52842?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* **#52841** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52841?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 28, 17, 58, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619836683, 'issue_id': 2816381260, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/110547_tests-a6de8de5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52842?repo=metabase/metabase&commitHash=a6de8de5e1071223f37aeeb9f7b24ad19ade189b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/24-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52842?repo=metabase/metabase&commitHash=a6de8de5e1071223f37aeeb9f7b24ad19ade189b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/112-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52842?repo=metabase/metabase&commitHash=a6de8de5e1071223f37aeeb9f7b24ad19ade189b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52842?repo=metabase/metabase&commitHash=a6de8de5e1071223f37aeeb9f7b24ad19ade189b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>sync-test</code> | The expected database schema does not match the actual schema returned by \\`driver/describe-database\\`. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52842?repo=metabase/metabase&commitHash=a6de8de5e1071223f37aeeb9f7b24ad19ade189b&utm_source=gh-comment&runConclusion=FAILURE&runId=2015eae2-53af-5630-9578-e4666a6c7de9) |\n| <code>persistence-disabled-when-sandboxed-test</code> | No table \'products\' found in Redshift database \'test-data (redshift)\' | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52842?repo=metabase/metabase&commitHash=a6de8de5e1071223f37aeeb9f7b24ad19ade189b&utm_source=gh-comment&runConclusion=FAILURE&runId=150ee6d4-1ca0-52be-932f-3fcae58b1161) |\n| <code>iso-8601-text-fields</code> | No table \'times\' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52842?repo=metabase/metabase&commitHash=a6de8de5e1071223f37aeeb9f7b24ad19ade189b&utm_source=gh-comment&runConclusion=FAILURE&runId=afacae52-882d-5435-bbf2-4189fd5ab654) |\n| <code>e2e-fks-test-4</code> | No Table \'checkins\' found for :redshift Database 31 \'test-data (redshift)\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52842?repo=metabase/metabase&commitHash=a6de8de5e1071223f37aeeb9f7b24ad19ade189b&utm_source=gh-comment&runConclusion=FAILURE&runId=e786cf23-1d6d-5861-b5cd-c05598d54b25) |\n\n[... and 20 more](https://app.trunk.io/metabase/flaky-tests/pr/52842?repo=metabase/metabase&commitHash=a6de8de5e1071223f37aeeb9f7b24ad19ade189b&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>create-from-csv-carriage-return-test</code> | The schema ""metabase\\_cache\\_c04a9\\_1"" was dropped by a concurrent transaction. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52842?repo=metabase/metabase&commitHash=a6de8de5e1071223f37aeeb9f7b24ad19ade189b&utm_source=gh-comment&runConclusion=FAILURE&runId=5efca176-7a64-5d54-a5f7-fa7da102134a) |\n| <code>append-with-really-long-names-test</code> | The schema ""metabase\\_cache\\_024a2\\_1"" was dropped by a concurrent transaction. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52842?repo=metabase/metabase&commitHash=a6de8de5e1071223f37aeeb9f7b24ad19ade189b&utm_source=gh-comment&runConclusion=FAILURE&runId=2b9f2ffb-34e5-582f-8e27-efe86bcb0e50) |\n| <code>binning-info-test</code> | Unable to bin Field without a min/max value (missing or incomplete fingerprint). | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52842?repo=metabase/metabase&commitHash=a6de8de5e1071223f37aeeb9f7b24ad19ade189b&utm_source=gh-comment&runConclusion=FAILURE&runId=8411e12a-e11e-5f61-96bc-c90d25880f1a) |\n| <code>group-by-year-test</code> | No table \'incidents\' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52842?repo=metabase/metabase&commitHash=a6de8de5e1071223f37aeeb9f7b24ad19ade189b&utm_source=gh-comment&runConclusion=FAILURE&runId=8ffac921-55d9-5829-9a0b-fcca092e57eb) |\n\n[... and 108 more](https://app.trunk.io/metabase/flaky-tests/pr/52842?repo=metabase/metabase&commitHash=a6de8de5e1071223f37aeeb9f7b24ad19ade189b&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52842?repo=metabase/metabase&commitHash=a6de8de5e1071223f37aeeb9f7b24ad19ade189b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 19, 4, 2, tzinfo=datetime.timezone.utc)}]","bshepherdson (Issue Creator) on (2025-01-28 17:58:56 UTC): * **#52842** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52842?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52842?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* **#52841** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52841?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2025-01-28 19:04:02 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/110547_tests-a6de8de5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52842?repo=metabase/metabase&commitHash=a6de8de5e1071223f37aeeb9f7b24ad19ade189b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/24-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52842?repo=metabase/metabase&commitHash=a6de8de5e1071223f37aeeb9f7b24ad19ade189b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/112-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52842?repo=metabase/metabase&commitHash=a6de8de5e1071223f37aeeb9f7b24ad19ade189b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52842?repo=metabase/metabase&commitHash=a6de8de5e1071223f37aeeb9f7b24ad19ade189b&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>sync-test</code> | The expected database schema does not match the actual schema returned by \`driver/describe-database\`. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52842?repo=metabase/metabase&commitHash=a6de8de5e1071223f37aeeb9f7b24ad19ade189b&utm_source=gh-comment&runConclusion=FAILURE&runId=2015eae2-53af-5630-9578-e4666a6c7de9) |
| <code>persistence-disabled-when-sandboxed-test</code> | No table 'products' found in Redshift database 'test-data (redshift)' | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52842?repo=metabase/metabase&commitHash=a6de8de5e1071223f37aeeb9f7b24ad19ade189b&utm_source=gh-comment&runConclusion=FAILURE&runId=150ee6d4-1ca0-52be-932f-3fcae58b1161) |
| <code>iso-8601-text-fields</code> | No table 'times' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52842?repo=metabase/metabase&commitHash=a6de8de5e1071223f37aeeb9f7b24ad19ade189b&utm_source=gh-comment&runConclusion=FAILURE&runId=afacae52-882d-5435-bbf2-4189fd5ab654) |
| <code>e2e-fks-test-4</code> | No Table 'checkins' found for :redshift Database 31 'test-data (redshift)'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52842?repo=metabase/metabase&commitHash=a6de8de5e1071223f37aeeb9f7b24ad19ade189b&utm_source=gh-comment&runConclusion=FAILURE&runId=e786cf23-1d6d-5861-b5cd-c05598d54b25) |

[... and 20 more](https://app.trunk.io/metabase/flaky-tests/pr/52842?repo=metabase/metabase&commitHash=a6de8de5e1071223f37aeeb9f7b24ad19ade189b&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>create-from-csv-carriage-return-test</code> | The schema ""metabase\_cache\_c04a9\_1"" was dropped by a concurrent transaction. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52842?repo=metabase/metabase&commitHash=a6de8de5e1071223f37aeeb9f7b24ad19ade189b&utm_source=gh-comment&runConclusion=FAILURE&runId=5efca176-7a64-5d54-a5f7-fa7da102134a) |
| <code>append-with-really-long-names-test</code> | The schema ""metabase\_cache\_024a2\_1"" was dropped by a concurrent transaction. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52842?repo=metabase/metabase&commitHash=a6de8de5e1071223f37aeeb9f7b24ad19ade189b&utm_source=gh-comment&runConclusion=FAILURE&runId=2b9f2ffb-34e5-582f-8e27-efe86bcb0e50) |
| <code>binning-info-test</code> | Unable to bin Field without a min/max value (missing or incomplete fingerprint). | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52842?repo=metabase/metabase&commitHash=a6de8de5e1071223f37aeeb9f7b24ad19ade189b&utm_source=gh-comment&runConclusion=FAILURE&runId=8411e12a-e11e-5f61-96bc-c90d25880f1a) |
| <code>group-by-year-test</code> | No table 'incidents' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52842?repo=metabase/metabase&commitHash=a6de8de5e1071223f37aeeb9f7b24ad19ade189b&utm_source=gh-comment&runConclusion=FAILURE&runId=8ffac921-55d9-5829-9a0b-fcca092e57eb) |

[... and 108 more](https://app.trunk.io/metabase/flaky-tests/pr/52842?repo=metabase/metabase&commitHash=a6de8de5e1071223f37aeeb9f7b24ad19ade189b&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52842?repo=metabase/metabase&commitHash=a6de8de5e1071223f37aeeb9f7b24ad19ade189b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2816381187,pull_request,closed,,"[refs] Make `lib.tu/*` into functions, not top-level defs","### Description

Future work on the refs overhaul #49182 changes how queries are
represented. To enable testing that new behaviour at a per-test level,
we can't let global queries like `lib.tu/venues-query` be defined once
and reused forever: in that case, tests of the new refs would see global
queries defined under old refs, and vice versa.

This change transforms the global queries, cards and other helpers in
`lib.test-util` from static `def`s to functions, so they build the
queries etc. in the context of the current test.

(If this introduces a performance hit for the lib tests, we can update
the functions to cache the two versions up front and choose between them
at runtime. So far it does not seem to have made a significant impact.)

### How to verify

BE unit tests still pass. No user-visible impact.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",bshepherdson,2025-01-28 17:58:34+00:00,['bshepherdson'],2025-01-29 21:10:52+00:00,2025-01-29 21:10:48+00:00,https://github.com/metabase/metabase/pull/52841,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2619703464, 'issue_id': 2816381187, 'author': 'bshepherdson', 'body': '* **#52842** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52842?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#52841** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52841?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52841?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 28, 17, 58, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619739747, 'issue_id': 2816381187, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `20582a6fc7afe4988161f10c9e15fec4c9f26784-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13016582898?pr=52841)\n\n  File | Test Name\n  ---- | ---------\n  `questions-entity-id.cy.spec.ts` | scenarios > questions > entity id support > /question/entity/${entity_id} should redirect to /question/${id}\n`reproductions-2.cy.spec.js` | issue 36669 > should be able to change question data source to raw data after selecting saved question (metabase#36669)\n`questions-entity-id.cy.spec.ts` | scenarios > questions > entity id support > /question/entity/${entity_id}/notebook should redirect to /question/${id}/notebook', 'created_at': datetime.datetime(2025, 1, 28, 18, 17, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619836814, 'issue_id': 2816381187, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/91838_tests-20582a6f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52841?repo=metabase/metabase&commitHash=20582a6fc7afe4988161f10c9e15fec4c9f26784&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52841?repo=metabase/metabase&commitHash=20582a6fc7afe4988161f10c9e15fec4c9f26784&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52841?repo=metabase/metabase&commitHash=20582a6fc7afe4988161f10c9e15fec4c9f26784&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52841?repo=metabase/metabase&commitHash=20582a6fc7afe4988161f10c9e15fec4c9f26784&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 36669 should be able to change question data source to raw data after selecting saved question (metabase\\#36669)</code> | Unable to find an element with the text ""Orders 36669"" within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52841?repo=metabase/metabase&commitHash=20582a6fc7afe4988161f10c9e15fec4c9f26784&utm_source=gh-comment&runConclusion=FAILURE&runId=d31d7069-9abd-5961-891f-47f3b41ab367) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > questions > entity id support /question/entity/${entity\\_id} should redirect to /question/${id}</code> | The expected URL did not include the expected path \'/question/82\' after 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52841?repo=metabase/metabase&commitHash=20582a6fc7afe4988161f10c9e15fec4c9f26784&utm_source=gh-comment&runConclusion=FAILURE&runId=6e400ecb-f2ee-5801-8db5-eaf99cf76d54) |\n| <code>scenarios > questions > entity id support /question/entity/${entity\\_id}/notebook should redirect to /question/${id}/notebook</code> | The expected URL was not found within the expected time, which is 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52841?repo=metabase/metabase&commitHash=20582a6fc7afe4988161f10c9e15fec4c9f26784&utm_source=gh-comment&runConclusion=FAILURE&runId=b4aec02b-5b2a-5525-9bd6-78d4810c086d) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52841?repo=metabase/metabase&commitHash=20582a6fc7afe4988161f10c9e15fec4c9f26784&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 19, 4, 6, tzinfo=datetime.timezone.utc)}]","bshepherdson (Issue Creator) on (2025-01-28 17:58:55 UTC): * **#52842** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52842?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#52841** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52841?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52841?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

github-actions[bot] on (2025-01-28 18:17:02 UTC): ## e2e tests failed on `20582a6fc7afe4988161f10c9e15fec4c9f26784-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13016582898?pr=52841)

  File | Test Name
  ---- | ---------
  `questions-entity-id.cy.spec.ts` | scenarios > questions > entity id support > /question/entity/${entity_id} should redirect to /question/${id}
`reproductions-2.cy.spec.js` | issue 36669 > should be able to change question data source to raw data after selecting saved question (metabase#36669)
`questions-entity-id.cy.spec.ts` | scenarios > questions > entity id support > /question/entity/${entity_id}/notebook should redirect to /question/${id}/notebook

trunk-io[bot] on (2025-01-28 19:04:06 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/91838_tests-20582a6f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52841?repo=metabase/metabase&commitHash=20582a6fc7afe4988161f10c9e15fec4c9f26784&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52841?repo=metabase/metabase&commitHash=20582a6fc7afe4988161f10c9e15fec4c9f26784&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52841?repo=metabase/metabase&commitHash=20582a6fc7afe4988161f10c9e15fec4c9f26784&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52841?repo=metabase/metabase&commitHash=20582a6fc7afe4988161f10c9e15fec4c9f26784&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 36669 should be able to change question data source to raw data after selecting saved question (metabase\#36669)</code> | Unable to find an element with the text ""Orders 36669"" within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52841?repo=metabase/metabase&commitHash=20582a6fc7afe4988161f10c9e15fec4c9f26784&utm_source=gh-comment&runConclusion=FAILURE&runId=d31d7069-9abd-5961-891f-47f3b41ab367) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > questions > entity id support /question/entity/${entity\_id} should redirect to /question/${id}</code> | The expected URL did not include the expected path '/question/82' after 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52841?repo=metabase/metabase&commitHash=20582a6fc7afe4988161f10c9e15fec4c9f26784&utm_source=gh-comment&runConclusion=FAILURE&runId=6e400ecb-f2ee-5801-8db5-eaf99cf76d54) |
| <code>scenarios > questions > entity id support /question/entity/${entity\_id}/notebook should redirect to /question/${id}/notebook</code> | The expected URL was not found within the expected time, which is 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52841?repo=metabase/metabase&commitHash=20582a6fc7afe4988161f10c9e15fec4c9f26784&utm_source=gh-comment&runConclusion=FAILURE&runId=b4aec02b-5b2a-5525-9bd6-78d4810c086d) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52841?repo=metabase/metabase&commitHash=20582a6fc7afe4988161f10c9e15fec4c9f26784&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2816377345,pull_request,closed,,"🤖 backported ""Disable broken multi-arch container build""",#52839,github-automation-metabase,2025-01-28 17:57:05+00:00,"['iethree', 'github-automation-metabase']",2025-01-28 17:58:06+00:00,2025-01-28 17:58:06+00:00,https://github.com/metabase/metabase/pull/52840,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2816357515,pull_request,closed,,Disable broken multi-arch container build,"[The Java 21](https://github.com/metabase/metabase/pull/48854) upgrade broke this job. 

In any event, it was only an experimental build, not something we're actually using right now.

one failed attempt to fix: https://github.com/metabase/metabase/pull/52761

",iethree,2025-01-28 17:47:25+00:00,['iethree'],2025-01-28 17:59:18+00:00,2025-01-28 17:56:13+00:00,https://github.com/metabase/metabase/pull/52839,"[('.Building & Releasing', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]",[],
2816342384,pull_request,closed,,"🤖 backported ""Don't try to cancel a statement that has already been closed""",#52762,github-automation-metabase,2025-01-28 17:39:52+00:00,"['noahmoss', 'github-automation-metabase']",2025-01-28 21:29:32+00:00,2025-01-28 21:29:31+00:00,https://github.com/metabase/metabase/pull/52838,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2619697918, 'issue_id': 2816342384, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `5db240487b4143ee5e7d7e0c3e69c6429c7913f2-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13016299233?pr=52838)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can share a dashboard card via public link', 'created_at': datetime.datetime(2025, 1, 28, 17, 56, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619812669, 'issue_id': 2816342384, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/76519_tests-5db24048-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52838?repo=metabase/metabase&commitHash=5db240487b4143ee5e7d7e0c3e69c6429c7913f2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52838?repo=metabase/metabase&commitHash=5db240487b4143ee5e7d7e0c3e69c6429c7913f2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/20-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52838?repo=metabase/metabase&commitHash=5db240487b4143ee5e7d7e0c3e69c6429c7913f2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52838?repo=metabase/metabase&commitHash=5db240487b4143ee5e7d7e0c3e69c6429c7913f2&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>sync-fks-and-fields-test</code> | Table \'continent\' not found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52838?repo=metabase/metabase&commitHash=5db240487b4143ee5e7d7e0c3e69c6429c7913f2&utm_source=gh-comment&runConclusion=FAILURE&runId=67e359f9-b86c-504b-8915-c775f31f7b4a) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>describe-fields-or-table-test</code> | No Table \'bird-count\' found in Redshift database \'daily-bird-counts (redshift)\' | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52838?repo=metabase/metabase&commitHash=5db240487b4143ee5e7d7e0c3e69c6429c7913f2&utm_source=gh-comment&runConclusion=FAILURE&runId=9a8c161f-2ea1-5dab-8ad8-c44427fb06f3) |\n| <code>nulls-and-zeroes-test-5</code> | The test failed because the database table \'bird-count\' was not found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52838?repo=metabase/metabase&commitHash=5db240487b4143ee5e7d7e0c3e69c6429c7913f2&utm_source=gh-comment&runConclusion=FAILURE&runId=0d2e67bb-9f7b-5a7e-8ae3-1f6f6c852a87) |\n| <code>nulls-and-zeroes-test-4</code> | The test failed because the database table \'bird-count\' was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52838?repo=metabase/metabase&commitHash=5db240487b4143ee5e7d7e0c3e69c6429c7913f2&utm_source=gh-comment&runConclusion=FAILURE&runId=abc1bf66-3bf4-52ca-aa7d-b3fedb571ba3) |\n| <code>redshift-lbv-sync-error-test</code> | The Redshift database connection failed because the relation ""2025\\_01\\_28\\_bdbf1656\\_27e8\\_4cc6\\_ae73\\_2eeccc15bf89\\_schema.kblijmgdajognftohscb""... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52838?repo=metabase/metabase&commitHash=5db240487b4143ee5e7d7e0c3e69c6429c7913f2&utm_source=gh-comment&runConclusion=FAILURE&runId=3da220d8-9b3c-59d8-a707-a4dca3f27f2f) |\n\n[... and 16 more](https://app.trunk.io/metabase/flaky-tests/pr/52838?repo=metabase/metabase&commitHash=5db240487b4143ee5e7d7e0c3e69c6429c7913f2&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52838?repo=metabase/metabase&commitHash=5db240487b4143ee5e7d7e0c3e69c6429c7913f2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 18, 51, 40, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-28 17:56:10 UTC): ## e2e tests failed on `5db240487b4143ee5e7d7e0c3e69c6429c7913f2-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13016299233?pr=52838)

  File | Test Name
  ---- | ---------
  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can share a dashboard card via public link

trunk-io[bot] on (2025-01-28 18:51:40 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/76519_tests-5db24048-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52838?repo=metabase/metabase&commitHash=5db240487b4143ee5e7d7e0c3e69c6429c7913f2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52838?repo=metabase/metabase&commitHash=5db240487b4143ee5e7d7e0c3e69c6429c7913f2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/20-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52838?repo=metabase/metabase&commitHash=5db240487b4143ee5e7d7e0c3e69c6429c7913f2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52838?repo=metabase/metabase&commitHash=5db240487b4143ee5e7d7e0c3e69c6429c7913f2&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>sync-fks-and-fields-test</code> | Table 'continent' not found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52838?repo=metabase/metabase&commitHash=5db240487b4143ee5e7d7e0c3e69c6429c7913f2&utm_source=gh-comment&runConclusion=FAILURE&runId=67e359f9-b86c-504b-8915-c775f31f7b4a) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>describe-fields-or-table-test</code> | No Table 'bird-count' found in Redshift database 'daily-bird-counts (redshift)' | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52838?repo=metabase/metabase&commitHash=5db240487b4143ee5e7d7e0c3e69c6429c7913f2&utm_source=gh-comment&runConclusion=FAILURE&runId=9a8c161f-2ea1-5dab-8ad8-c44427fb06f3) |
| <code>nulls-and-zeroes-test-5</code> | The test failed because the database table 'bird-count' was not found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52838?repo=metabase/metabase&commitHash=5db240487b4143ee5e7d7e0c3e69c6429c7913f2&utm_source=gh-comment&runConclusion=FAILURE&runId=0d2e67bb-9f7b-5a7e-8ae3-1f6f6c852a87) |
| <code>nulls-and-zeroes-test-4</code> | The test failed because the database table 'bird-count' was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52838?repo=metabase/metabase&commitHash=5db240487b4143ee5e7d7e0c3e69c6429c7913f2&utm_source=gh-comment&runConclusion=FAILURE&runId=abc1bf66-3bf4-52ca-aa7d-b3fedb571ba3) |
| <code>redshift-lbv-sync-error-test</code> | The Redshift database connection failed because the relation ""2025\_01\_28\_bdbf1656\_27e8\_4cc6\_ae73\_2eeccc15bf89\_schema.kblijmgdajognftohscb""... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52838?repo=metabase/metabase&commitHash=5db240487b4143ee5e7d7e0c3e69c6429c7913f2&utm_source=gh-comment&runConclusion=FAILURE&runId=3da220d8-9b3c-59d8-a707-a4dca3f27f2f) |

[... and 16 more](https://app.trunk.io/metabase/flaky-tests/pr/52838?repo=metabase/metabase&commitHash=5db240487b4143ee5e7d7e0c3e69c6429c7913f2&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52838?repo=metabase/metabase&commitHash=5db240487b4143ee5e7d7e0c3e69c6429c7913f2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2816333196,pull_request,closed,,"🤖 backported ""[test] Don't pprint values in malli= unless necessary""",#52830,github-automation-metabase,2025-01-28 17:35:44+00:00,"['alexander-yakushev', 'github-automation-metabase']",2025-01-28 19:10:12+00:00,2025-01-28 18:01:48+00:00,https://github.com/metabase/metabase/pull/52837,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2619805576, 'issue_id': 2816333196, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/75397_tests-28f8ba59-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52837?repo=metabase/metabase&commitHash=28f8ba5971f8ace529efed16d4b1275d44b481e2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52837?repo=metabase/metabase&commitHash=28f8ba5971f8ace529efed16d4b1275d44b481e2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52837?repo=metabase/metabase&commitHash=28f8ba5971f8ace529efed16d4b1275d44b481e2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52837?repo=metabase/metabase&commitHash=28f8ba5971f8ace529efed16d4b1275d44b481e2&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52837?repo=metabase/metabase&commitHash=28f8ba5971f8ace529efed16d4b1275d44b481e2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 18, 48, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619805582, 'issue_id': 2816333196, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/71384_tests-28f8ba59-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52837?repo=metabase/metabase&commitHash=28f8ba5971f8ace529efed16d4b1275d44b481e2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52837?repo=metabase/metabase&commitHash=28f8ba5971f8ace529efed16d4b1275d44b481e2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52837?repo=metabase/metabase&commitHash=28f8ba5971f8ace529efed16d4b1275d44b481e2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52837?repo=metabase/metabase&commitHash=28f8ba5971f8ace529efed16d4b1275d44b481e2&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52837?repo=metabase/metabase&commitHash=28f8ba5971f8ace529efed16d4b1275d44b481e2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 18, 48, 12, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-28 18:48:12 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/75397_tests-28f8ba59-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52837?repo=metabase/metabase&commitHash=28f8ba5971f8ace529efed16d4b1275d44b481e2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52837?repo=metabase/metabase&commitHash=28f8ba5971f8ace529efed16d4b1275d44b481e2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52837?repo=metabase/metabase&commitHash=28f8ba5971f8ace529efed16d4b1275d44b481e2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52837?repo=metabase/metabase&commitHash=28f8ba5971f8ace529efed16d4b1275d44b481e2&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52837?repo=metabase/metabase&commitHash=28f8ba5971f8ace529efed16d4b1275d44b481e2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2025-01-28 18:48:12 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/71384_tests-28f8ba59-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52837?repo=metabase/metabase&commitHash=28f8ba5971f8ace529efed16d4b1275d44b481e2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52837?repo=metabase/metabase&commitHash=28f8ba5971f8ace529efed16d4b1275d44b481e2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52837?repo=metabase/metabase&commitHash=28f8ba5971f8ace529efed16d4b1275d44b481e2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52837?repo=metabase/metabase&commitHash=28f8ba5971f8ace529efed16d4b1275d44b481e2&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52837?repo=metabase/metabase&commitHash=28f8ba5971f8ace529efed16d4b1275d44b481e2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2816313662,pull_request,closed,,Handle legacy secrets double encoded with base64,"https://github.com/metabase/metabase-private/issues/263

See https://metaboat.slack.com/archives/C010ZSXQY87/p1738061316598399 for context

Prior to the above issue, it was possible for secrets to be saved still encoded with base64 (an encoding to send files from browser to server). We need to pull a value out of the secret table, decode bytes to string, see if that string is base64 encoded and decode again if it is.

",snoe,2025-01-28 17:27:34+00:00,['snoe'],2025-01-31 00:14:32+00:00,2025-01-28 18:24:50+00:00,https://github.com/metabase/metabase/pull/52836,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Drivers', '')]","[{'comment_id': 2619671811, 'issue_id': 2816313662, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `dcd1f8f91182485ed0cd022f36074cae059a88f1-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13016078383?pr=52836)\n\n  File | Test Name\n  ---- | ---------\n  `collections.cy.spec.js` | scenarios > collections > entity id support > /collection/entity/${entity_id} should redirect to /collection/${id}\n`collections.cy.spec.js` | scenarios > collections > entity id support > /collection/entity/${entity_id}/move should redirect to /collection/${id}/move', 'created_at': datetime.datetime(2025, 1, 28, 17, 43, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619758800, 'issue_id': 2816313662, 'author': 'snoe', 'body': '@metabase-bot backport release-x.52.x', 'created_at': datetime.datetime(2025, 1, 28, 18, 26, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619810616, 'issue_id': 2816313662, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/77215_tests-dcd1f8f9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52836?repo=metabase/metabase&commitHash=dcd1f8f91182485ed0cd022f36074cae059a88f1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52836?repo=metabase/metabase&commitHash=dcd1f8f91182485ed0cd022f36074cae059a88f1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52836?repo=metabase/metabase&commitHash=dcd1f8f91182485ed0cd022f36074cae059a88f1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52836?repo=metabase/metabase&commitHash=dcd1f8f91182485ed0cd022f36074cae059a88f1&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > collections > entity id support /collection/entity/${entity\\_id}/move should redirect to /collection/${id}/move</code> | The expected URL did not include the expected path after 4000ms of waiting. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52836?repo=metabase/metabase&commitHash=dcd1f8f91182485ed0cd022f36074cae059a88f1&utm_source=gh-comment&runConclusion=FAILURE&runId=d69e19ce-9818-5ffd-ad45-8f7f8f5eb99c) |\n| <code>scenarios > collections > entity id support /collection/entity/${entity\\_id} should redirect to /collection/${id}</code> | The expected URL did not include '/collection/14' after 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52836?repo=metabase/metabase&commitHash=dcd1f8f91182485ed0cd022f36074cae059a88f1&utm_source=gh-comment&runConclusion=FAILURE&runId=19872dad-993c-5b90-a242-6eb6c73e5a5a) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52836?repo=metabase/metabase&commitHash=dcd1f8f91182485ed0cd022f36074cae059a88f1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 28, 18, 50, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625997375, 'issue_id': 2816313662, 'author': 'github-actions[bot]', 'body': '🚀 This should also be released by [v0.53](https://github.com/metabase/metabase/milestone/287)', 'created_at': datetime.datetime(2025, 1, 31, 0, 14, 31, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-28 17:43:27 UTC): ## e2e tests failed on `dcd1f8f91182485ed0cd022f36074cae059a88f1-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13016078383?pr=52836)

  File | Test Name
  ---- | ---------
  `collections.cy.spec.js` | scenarios > collections > entity id support > /collection/entity/${entity_id} should redirect to /collection/${id}
`collections.cy.spec.js` | scenarios > collections > entity id support > /collection/entity/${entity_id}/move should redirect to /collection/${id}/move

snoe (Issue Creator) on (2025-01-28 18:26:53 UTC): @metabase-bot backport release-x.52.x

trunk-io[bot] on (2025-01-28 18:50:35 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/77215_tests-dcd1f8f9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52836?repo=metabase/metabase&commitHash=dcd1f8f91182485ed0cd022f36074cae059a88f1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52836?repo=metabase/metabase&commitHash=dcd1f8f91182485ed0cd022f36074cae059a88f1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52836?repo=metabase/metabase&commitHash=dcd1f8f91182485ed0cd022f36074cae059a88f1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52836?repo=metabase/metabase&commitHash=dcd1f8f91182485ed0cd022f36074cae059a88f1&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > collections > entity id support /collection/entity/${entity\_id}/move should redirect to /collection/${id}/move</code> | The expected URL did not include the expected path after 4000ms of waiting. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52836?repo=metabase/metabase&commitHash=dcd1f8f91182485ed0cd022f36074cae059a88f1&utm_source=gh-comment&runConclusion=FAILURE&runId=d69e19ce-9818-5ffd-ad45-8f7f8f5eb99c) |
| <code>scenarios > collections > entity id support /collection/entity/${entity\_id} should redirect to /collection/${id}</code> | The expected URL did not include '/collection/14' after 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52836?repo=metabase/metabase&commitHash=dcd1f8f91182485ed0cd022f36074cae059a88f1&utm_source=gh-comment&runConclusion=FAILURE&runId=19872dad-993c-5b90-a242-6eb6c73e5a5a) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52836?repo=metabase/metabase&commitHash=dcd1f8f91182485ed0cd022f36074cae059a88f1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-31 00:14:31 UTC): 🚀 This should also be released by [v0.53](https://github.com/metabase/metabase/milestone/287)

"
2816267831,pull_request,closed,,Fix `all-indexes->field-ids` generating queries with too many parameters,"Closes https://linear.app/metabase-inc/issue/ENG-14467/task-sync-indexes-can-throw-enormous-stacktraces

### Description

When `all-indexes->field-ids` is passed a large `indexes` list (> ~21k), it generates a SQL query with more than 65k parameters which throws an exception. Proposed solution is to batch the indexes list into smaller groups such that the number of parameters in a query will always be < 65k.

I initially tried a batch size of 20k, and then 10k, but both failed with `ERROR: stack depth limit exceeded`. A batch limit of 5k seems to work. This means we will be doing `(/ (count indexes) 5000)` queries now instead of 1. Not sure if this increase in queries is a concern or not in this case. I think? it would be small enough in practice to not be a concern.

### How to verify

From the repl:

```clojure
> (def indexes (repeat 100000 {:table-schema ""public"",
                             :table-name ""serialization_stats"",
                             :field-name ""id""}))
> (def database-id 10)
> (all-indexes->field-ids database-id indexes)
#{}
```

There should be no exceptions.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",rileythomp,2025-01-28 17:06:58+00:00,['rileythomp'],2025-02-04 23:17:31+00:00,2025-01-31 20:16:53+00:00,https://github.com/metabase/metabase/pull/52835,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Drivers', '')]","[{'comment_id': 2619837881, 'issue_id': 2816267831, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/76882_tests-3b43e2ad-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52835?repo=metabase/metabase&commitHash=3b43e2adc255b0bb73c5ec51d912dd1393d69ac9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/33-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52835?repo=metabase/metabase&commitHash=3b43e2adc255b0bb73c5ec51d912dd1393d69ac9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/8-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52835?repo=metabase/metabase&commitHash=3b43e2adc255b0bb73c5ec51d912dd1393d69ac9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52835?repo=metabase/metabase&commitHash=3b43e2adc255b0bb73c5ec51d912dd1393d69ac9&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>temporal-extraction-with-filter-expresion-tests</code> | No table 'times' found in the redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52835?repo=metabase/metabase&commitHash=3b43e2adc255b0bb73c5ec51d912dd1393d69ac9&utm_source=gh-comment&runConclusion=FAILURE&runId=212114c2-0654-5a59-bd72-9723fef09054) |\n| <code>extraction-function-date-test</code> | No table 'times' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52835?repo=metabase/metabase&commitHash=3b43e2adc255b0bb73c5ec51d912dd1393d69ac9&utm_source=gh-comment&runConclusion=FAILURE&runId=c91a94cb-b901-5674-b030-e02321f22187) |\n| <code>nested-convert-timezone-test-3</code> | No table 'times' found in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52835?repo=metabase/metabase&commitHash=3b43e2adc255b0bb73c5ec51d912dd1393d69ac9&utm_source=gh-comment&runConclusion=FAILURE&runId=8a18b643-739c-5b04-8b3e-2ca04c50b6de) |\n| <code>nested-convert-timezone-test</code> | No table 'times' found in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52835?repo=metabase/metabase&commitHash=3b43e2adc255b0bb73c5ec51d912dd1393d69ac9&utm_source=gh-comment&runConclusion=FAILURE&runId=e429d23f-bf92-59e3-8526-d8334369f8cc) |\n\n[... and 29 more](https://app.trunk.io/metabase/flaky-tests/pr/52835?repo=metabase/metabase&commitHash=3b43e2adc255b0bb73c5ec51d912dd1393d69ac9&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>with-upload-table!-and-do-with-uploaded-example-csv!-test</code> | The Redshift table does not exist, causing a failure in the test. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52835?repo=metabase/metabase&commitHash=3b43e2adc255b0bb73c5ec51d912dd1393d69ac9&utm_source=gh-comment&runConclusion=FAILURE&runId=e35b1289-47b8-55e1-829c-149cead57988) |\n| <code>with-upload-table!-and-do-with-uploaded-example-csv!-test</code> | The Redshift database relation does not exist, causing an error. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52835?repo=metabase/metabase&commitHash=3b43e2adc255b0bb73c5ec51d912dd1393d69ac9&utm_source=gh-comment&runConclusion=FAILURE&runId=866f6e82-7588-5123-96d9-6506f09cd470) |\n| <code>is-empty-not-empty-with-not-emptyable-args-test-3</code> | No table 'checkins' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52835?repo=metabase/metabase&commitHash=3b43e2adc255b0bb73c5ec51d912dd1393d69ac9&utm_source=gh-comment&runConclusion=FAILURE&runId=19d4e29f-4c26-57c1-9695-fd8a741167ef) |\n| <code>is-empty-not-empty-with-not-emptyable-args-test</code> | No table 'checkins' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52835?repo=metabase/metabase&commitHash=3b43e2adc255b0bb73c5ec51d912dd1393d69ac9&utm_source=gh-comment&runConclusion=FAILURE&runId=1d78163c-23a0-586f-8d65-a361af907c97) |\n\n[... and 4 more](https://app.trunk.io/metabase/flaky-tests/pr/52835?repo=metabase/metabase&commitHash=3b43e2adc255b0bb73c5ec51d912dd1393d69ac9&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52835?repo=metabase/metabase&commitHash=3b43e2adc255b0bb73c5ec51d912dd1393d69ac9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 28, 19, 4, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625665798, 'issue_id': 2816267831, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `3b43e2adc255b0bb73c5ec51d912dd1393d69ac9-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13061587041?pr=52835)\n\n  File | Test Name\n  ---- | ---------\n  `entity-picker.cy.spec.ts` | scenarios > organization > entity picker > question picker > should select a card from global search results\n`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > question picker > should not allow local search for `all personal collections`\n`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > collection picker > should not allow local search for `all personal collections`\n`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > dashboard picker > should search for dashboards for a normal user\n`dashboard-reproductions.cy.spec.js` | should not redirect users to other pages when linking an entity (metabase#35037) > should not redirect users to search item\n`model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model\n`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > dashboard picker > should search for dashboards when there is no access to the root collection\n`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > dashboard picker > should not allow local search for `all personal collections`\n`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette\n`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link"", 'created_at': datetime.datetime(2025, 1, 30, 21, 47, 20, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-28 19:04:41 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/76882_tests-3b43e2ad-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52835?repo=metabase/metabase&commitHash=3b43e2adc255b0bb73c5ec51d912dd1393d69ac9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/33-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52835?repo=metabase/metabase&commitHash=3b43e2adc255b0bb73c5ec51d912dd1393d69ac9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/8-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52835?repo=metabase/metabase&commitHash=3b43e2adc255b0bb73c5ec51d912dd1393d69ac9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52835?repo=metabase/metabase&commitHash=3b43e2adc255b0bb73c5ec51d912dd1393d69ac9&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>temporal-extraction-with-filter-expresion-tests</code> | No table 'times' found in the redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52835?repo=metabase/metabase&commitHash=3b43e2adc255b0bb73c5ec51d912dd1393d69ac9&utm_source=gh-comment&runConclusion=FAILURE&runId=212114c2-0654-5a59-bd72-9723fef09054) |
| <code>extraction-function-date-test</code> | No table 'times' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52835?repo=metabase/metabase&commitHash=3b43e2adc255b0bb73c5ec51d912dd1393d69ac9&utm_source=gh-comment&runConclusion=FAILURE&runId=c91a94cb-b901-5674-b030-e02321f22187) |
| <code>nested-convert-timezone-test-3</code> | No table 'times' found in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52835?repo=metabase/metabase&commitHash=3b43e2adc255b0bb73c5ec51d912dd1393d69ac9&utm_source=gh-comment&runConclusion=FAILURE&runId=8a18b643-739c-5b04-8b3e-2ca04c50b6de) |
| <code>nested-convert-timezone-test</code> | No table 'times' found in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52835?repo=metabase/metabase&commitHash=3b43e2adc255b0bb73c5ec51d912dd1393d69ac9&utm_source=gh-comment&runConclusion=FAILURE&runId=e429d23f-bf92-59e3-8526-d8334369f8cc) |

[... and 29 more](https://app.trunk.io/metabase/flaky-tests/pr/52835?repo=metabase/metabase&commitHash=3b43e2adc255b0bb73c5ec51d912dd1393d69ac9&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>with-upload-table!-and-do-with-uploaded-example-csv!-test</code> | The Redshift table does not exist, causing a failure in the test. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52835?repo=metabase/metabase&commitHash=3b43e2adc255b0bb73c5ec51d912dd1393d69ac9&utm_source=gh-comment&runConclusion=FAILURE&runId=e35b1289-47b8-55e1-829c-149cead57988) |
| <code>with-upload-table!-and-do-with-uploaded-example-csv!-test</code> | The Redshift database relation does not exist, causing an error. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52835?repo=metabase/metabase&commitHash=3b43e2adc255b0bb73c5ec51d912dd1393d69ac9&utm_source=gh-comment&runConclusion=FAILURE&runId=866f6e82-7588-5123-96d9-6506f09cd470) |
| <code>is-empty-not-empty-with-not-emptyable-args-test-3</code> | No table 'checkins' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52835?repo=metabase/metabase&commitHash=3b43e2adc255b0bb73c5ec51d912dd1393d69ac9&utm_source=gh-comment&runConclusion=FAILURE&runId=19d4e29f-4c26-57c1-9695-fd8a741167ef) |
| <code>is-empty-not-empty-with-not-emptyable-args-test</code> | No table 'checkins' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52835?repo=metabase/metabase&commitHash=3b43e2adc255b0bb73c5ec51d912dd1393d69ac9&utm_source=gh-comment&runConclusion=FAILURE&runId=1d78163c-23a0-586f-8d65-a361af907c97) |

[... and 4 more](https://app.trunk.io/metabase/flaky-tests/pr/52835?repo=metabase/metabase&commitHash=3b43e2adc255b0bb73c5ec51d912dd1393d69ac9&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52835?repo=metabase/metabase&commitHash=3b43e2adc255b0bb73c5ec51d912dd1393d69ac9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-30 21:47:20 UTC): ## e2e tests failed on `3b43e2adc255b0bb73c5ec51d912dd1393d69ac9-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13061587041?pr=52835)

  File | Test Name
  ---- | ---------
  `entity-picker.cy.spec.ts` | scenarios > organization > entity picker > question picker > should select a card from global search results
`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > question picker > should not allow local search for `all personal collections`
`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > collection picker > should not allow local search for `all personal collections`
`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > dashboard picker > should search for dashboards for a normal user
`dashboard-reproductions.cy.spec.js` | should not redirect users to other pages when linking an entity (metabase#35037) > should not redirect users to search item
`model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model
`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > dashboard picker > should search for dashboards when there is no access to the root collection
`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > dashboard picker > should not allow local search for `all personal collections`
`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette
`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link

"
2816262626,pull_request,closed,,Initialize zeros for labeled counter metrics,"Labelled counters only get created the first time we count something with their particular labels.

Since this typically means that a 0 value will never be scraped for them, the way Prometheus calculates increases means that we won't observe the initial delta.

![Screenshot 2025-01-28 at 18 56 35](https://github.com/user-attachments/assets/9dc0280d-ee49-47a2-afbc-c0b691e2abf2)

In the above example we see two counters, in green and light blue, and their corresponding ""increase"" time series in yellow and dark blue, respectively. The green counter has already been initialized, and we see a spike in its corresponding increase series when it is increased further. In contrast, when the blue counter is first ""increased"", there is no corresponding spike in its increase series. 

Initializing it with a zero prior to the first increase should fix our derived time series, except in the case where we subsequently increase it before it is first sampled. In that case, I don't think there is anything we can do. Luckily for search index metrics, we don't really care about missing data for small indexes that can be built that quickly.

### To verity that this works:

1. Set MB_PROMETHEUS_SERVER_PORT to 9999
2. Start up dev server
3. Go to `http://localhost:9999/metrics`
4. Confirm we see the expected counter values

```	
# HELP metabase_search_index_total Number of entries indexed for search
# TYPE metabase_search_index_total counter
metabase_search_index_total{model=""card"",} 0.0
metabase_search_index_total{model=""dataset"",} 0.0
metabase_search_index_total{model=""indexed-entity"",} 0.0
metabase_search_index_total{model=""database"",} 0.0
metabase_search_index_total{model=""segment"",} 0.0
metabase_search_index_total{model=""collection"",} 0.0
metabase_search_index_total{model=""dashboard"",} 0.0
metabase_search_index_total{model=""action"",} 0.0
metabase_search_index_total{model=""metric"",} 0.0
metabase_search_index_total{model=""table"",} 0.0
```

Bonus: I think this will get rid of that ""blank"" model entry.

Added bonus: We'll get zeros for models even when customers don't have any corresponding instances.
",crisptrutski,2025-01-28 17:04:26+00:00,['crisptrutski'],2025-01-29 14:03:03+00:00,2025-01-29 07:14:06+00:00,https://github.com/metabase/metabase/pull/52834,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2619604185, 'issue_id': 2816262626, 'author': 'crisptrutski', 'body': 'Note: we need to backport this *twice* to get it into the initial rollout.', 'created_at': datetime.datetime(2025, 1, 28, 17, 14, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619711118, 'issue_id': 2816262626, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `7d0a888bbd2f11afc8da4901031753084f36da4f-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13016299921?pr=52834)\n\n  File | Test Name\n  ---- | ---------\n  `actions-reproductions.cy.spec.js` | issue 51020 > when primary key is not called 'id' > should pass primary key attribute to execute action endpoint when it's populated with click behavior or URL (metabase#51020)"", 'created_at': datetime.datetime(2025, 1, 28, 18, 2, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619734136, 'issue_id': 2816262626, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/80690_tests-7d0a888b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52834?repo=metabase/metabase&commitHash=7d0a888bbd2f11afc8da4901031753084f36da4f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52834?repo=metabase/metabase&commitHash=7d0a888bbd2f11afc8da4901031753084f36da4f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52834?repo=metabase/metabase&commitHash=7d0a888bbd2f11afc8da4901031753084f36da4f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52834?repo=metabase/metabase&commitHash=7d0a888bbd2f11afc8da4901031753084f36da4f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>describe-database-sanity-check-test</code> | The table ""2025\\_01\\_28\\_2c0993cf\\_ad40\\_47ed\\_ae2b\\_37f87e7f27fd\\_schema.uploaded\\_magic\\_example\\_csv\\_file\\_20250128180512"" does not exist in th... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52834?repo=metabase/metabase&commitHash=7d0a888bbd2f11afc8da4901031753084f36da4f&utm_source=gh-comment&runConclusion=FAILURE&runId=6919cc83-6120-580c-adb3-98e56ef2fb83) |\n| <code>issue 51020 when primary key is not called \'id\' ""before each"" hook for ""should pass primary key attribute to execute action endpoint when it\'s popu...</code> | Unable to find an element with the text ""Foo"" during a ""before each"" hook, causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52834?repo=metabase/metabase&commitHash=7d0a888bbd2f11afc8da4901031753084f36da4f&utm_source=gh-comment&runConclusion=FAILURE&runId=1e86dc71-5a64-5511-bbf6-731fdc6c63c4) |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, but expected stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52834?repo=metabase/metabase&commitHash=7d0a888bbd2f11afc8da4901031753084f36da4f&utm_source=gh-comment&runConclusion=FAILURE&runId=35b41748-17ff-5f7f-94fb-fd1c243f5ec8) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52834?repo=metabase/metabase&commitHash=7d0a888bbd2f11afc8da4901031753084f36da4f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 18, 14, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620896738, 'issue_id': 2816262626, 'author': 'crisptrutski', 'body': '@metabase-bot backport release-x.52.x', 'created_at': datetime.datetime(2025, 1, 29, 7, 34, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621516798, 'issue_id': 2816262626, 'author': 'github-actions[bot]', 'body': '🚀 This should also be released by [v0.53](https://github.com/metabase/metabase/milestone/287)', 'created_at': datetime.datetime(2025, 1, 29, 12, 32, 32, tzinfo=datetime.timezone.utc)}]","crisptrutski (Issue Creator) on (2025-01-28 17:14:25 UTC): Note: we need to backport this *twice* to get it into the initial rollout.

github-actions[bot] on (2025-01-28 18:02:11 UTC): ## e2e tests failed on `7d0a888bbd2f11afc8da4901031753084f36da4f-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13016299921?pr=52834)

  File | Test Name
  ---- | ---------
  `actions-reproductions.cy.spec.js` | issue 51020 > when primary key is not called 'id' > should pass primary key attribute to execute action endpoint when it's populated with click behavior or URL (metabase#51020)

trunk-io[bot] on (2025-01-28 18:14:07 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/80690_tests-7d0a888b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52834?repo=metabase/metabase&commitHash=7d0a888bbd2f11afc8da4901031753084f36da4f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52834?repo=metabase/metabase&commitHash=7d0a888bbd2f11afc8da4901031753084f36da4f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52834?repo=metabase/metabase&commitHash=7d0a888bbd2f11afc8da4901031753084f36da4f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52834?repo=metabase/metabase&commitHash=7d0a888bbd2f11afc8da4901031753084f36da4f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>describe-database-sanity-check-test</code> | The table ""2025\_01\_28\_2c0993cf\_ad40\_47ed\_ae2b\_37f87e7f27fd\_schema.uploaded\_magic\_example\_csv\_file\_20250128180512"" does not exist in th... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52834?repo=metabase/metabase&commitHash=7d0a888bbd2f11afc8da4901031753084f36da4f&utm_source=gh-comment&runConclusion=FAILURE&runId=6919cc83-6120-580c-adb3-98e56ef2fb83) |
| <code>issue 51020 when primary key is not called 'id' ""before each"" hook for ""should pass primary key attribute to execute action endpoint when it's popu...</code> | Unable to find an element with the text ""Foo"" during a ""before each"" hook, causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52834?repo=metabase/metabase&commitHash=7d0a888bbd2f11afc8da4901031753084f36da4f&utm_source=gh-comment&runConclusion=FAILURE&runId=1e86dc71-5a64-5511-bbf6-731fdc6c63c4) |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, but expected stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52834?repo=metabase/metabase&commitHash=7d0a888bbd2f11afc8da4901031753084f36da4f&utm_source=gh-comment&runConclusion=FAILURE&runId=35b41748-17ff-5f7f-94fb-fd1c243f5ec8) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52834?repo=metabase/metabase&commitHash=7d0a888bbd2f11afc8da4901031753084f36da4f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

crisptrutski (Issue Creator) on (2025-01-29 07:34:56 UTC): @metabase-bot backport release-x.52.x

github-actions[bot] on (2025-01-29 12:32:32 UTC): 🚀 This should also be released by [v0.53](https://github.com/metabase/metabase/milestone/287)

"
2816261439,pull_request,closed,,Update `Usage analytics` YAMLs for 53 release,"- Update YAMLs for 53 release.
- Move all questions into usage analytics dashboards. In some cases, questions had to be duplicated in order to be moved to dashboards.",luizarakaki,2025-01-28 17:03:52+00:00,['luizarakaki'],2025-01-31 17:40:36+00:00,2025-01-28 20:46:48+00:00,https://github.com/metabase/metabase/pull/52833,"[('backport', 'Automatically create PR on current release branch on merge'), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2619747716, 'issue_id': 2816261439, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/104357_tests-1366e246-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52833?repo=metabase/metabase&commitHash=1366e2465a43ceeed3c57700673a3edeb4a87ca0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52833?repo=metabase/metabase&commitHash=1366e2465a43ceeed3c57700673a3edeb4a87ca0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52833?repo=metabase/metabase&commitHash=1366e2465a43ceeed3c57700673a3edeb4a87ca0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52833?repo=metabase/metabase&commitHash=1366e2465a43ceeed3c57700673a3edeb4a87ca0&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52833?repo=metabase/metabase&commitHash=1366e2465a43ceeed3c57700673a3edeb4a87ca0&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 18, 21, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619902241, 'issue_id': 2816261439, 'author': 'github-actions[bot]', 'body': '👋 Deploying a preview environment for commit 1366e2465a43ceeed3c57700673a3edeb4a87ca0.\n✅ Preview:\n    https://pr52833.coredev.metabase.com\n🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2025, 1, 28, 19, 39, 3, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-28 18:21:08 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/104357_tests-1366e246-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52833?repo=metabase/metabase&commitHash=1366e2465a43ceeed3c57700673a3edeb4a87ca0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52833?repo=metabase/metabase&commitHash=1366e2465a43ceeed3c57700673a3edeb4a87ca0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52833?repo=metabase/metabase&commitHash=1366e2465a43ceeed3c57700673a3edeb4a87ca0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52833?repo=metabase/metabase&commitHash=1366e2465a43ceeed3c57700673a3edeb4a87ca0&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52833?repo=metabase/metabase&commitHash=1366e2465a43ceeed3c57700673a3edeb4a87ca0&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-28 19:39:03 UTC): 👋 Deploying a preview environment for commit 1366e2465a43ceeed3c57700673a3edeb4a87ca0.
✅ Preview:
    https://pr52833.coredev.metabase.com
🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

"
2816225062,pull_request,closed,,"🤖 backported ""[Cards in Dashboards] Revision history copy change""",#52423,github-automation-metabase,2025-01-28 16:47:59+00:00,"['sloansparger', 'github-automation-metabase']",2025-01-28 20:52:13+00:00,2025-01-28 20:14:36+00:00,https://github.com/metabase/metabase/pull/52832,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2619673450, 'issue_id': 2816225062, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/156336_tests-fb90d5b0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52832?repo=metabase/metabase&commitHash=fb90d5b0127eae129e3a660e4e75388a0beb06df&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52832?repo=metabase/metabase&commitHash=fb90d5b0127eae129e3a660e4e75388a0beb06df&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52832?repo=metabase/metabase&commitHash=fb90d5b0127eae129e3a660e4e75388a0beb06df&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52832?repo=metabase/metabase&commitHash=fb90d5b0127eae129e3a660e4e75388a0beb06df&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>yyyymmddhhmmss-binary-dates</code> | No table \'times\' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52832?repo=metabase/metabase&commitHash=fb90d5b0127eae129e3a660e4e75388a0beb06df&utm_source=gh-comment&runConclusion=FAILURE&runId=86ebbf7f-de61-523f-a769-55ef15a5470f) |\n| <code>with-upload-table!-and-do-with-uploaded-example-csv!-test</code> | The Redshift query failed because the relation does not exist. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52832?repo=metabase/metabase&commitHash=fb90d5b0127eae129e3a660e4e75388a0beb06df&utm_source=gh-comment&runConclusion=FAILURE&runId=8d98b970-4f46-5f50-a4af-bee37c22ae93) |\n| <code>update-invalidate-model-cache-test</code> | No Table \'venues\' found for Redshift database \'test-data (redshift)\' | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52832?repo=metabase/metabase&commitHash=fb90d5b0127eae129e3a660e4e75388a0beb06df&utm_source=gh-comment&runConclusion=FAILURE&runId=ec9c0548-b9bc-5f3d-ad8c-0c6d5e788d91) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>microseconds-test</code> | No table \'incidents\' found in the Redshift database \'toucan-ms-incidents\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52832?repo=metabase/metabase&commitHash=fb90d5b0127eae129e3a660e4e75388a0beb06df&utm_source=gh-comment&runConclusion=FAILURE&runId=909d27cd-0436-53d4-b3dd-68a7f9e019fa) |\n| <code>issue 29378 should not crash the model detail page after searching for an action (metabase\\#29378)</code> | Unable to find an accessible element with the role ""option"" and name ""Update orders quantity"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52832?repo=metabase/metabase&commitHash=fb90d5b0127eae129e3a660e4e75388a0beb06df&utm_source=gh-comment&runConclusion=FAILURE&runId=1cd31e3a-08c3-577c-8c16-8043024b2866) |\n| <code>scenarios > questions > entity id support /question/entity/${entity\\_id} should redirect to /question/${id}</code> | The expected URL did not include the expected path \'/question/82\' after 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52832?repo=metabase/metabase&commitHash=fb90d5b0127eae129e3a660e4e75388a0beb06df&utm_source=gh-comment&runConclusion=FAILURE&runId=2555b6fa-7ab1-5732-95ba-6eda0f690c1b) |\n| <code>scenarios > questions > entity id support /question/entity/${entity\\_id}/notebook should redirect to /question/${id}/notebook</code> | The expected URL did not include the expected path \'/question/82/notebook\' after 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52832?repo=metabase/metabase&commitHash=fb90d5b0127eae129e3a660e4e75388a0beb06df&utm_source=gh-comment&runConclusion=FAILURE&runId=30eeee4a-8eb4-56dd-9d67-9897bb209877) |\n\n[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52832?repo=metabase/metabase&commitHash=fb90d5b0127eae129e3a660e4e75388a0beb06df&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52832?repo=metabase/metabase&commitHash=fb90d5b0127eae129e3a660e4e75388a0beb06df&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 17, 44, 10, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-28 17:44:10 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/156336_tests-fb90d5b0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52832?repo=metabase/metabase&commitHash=fb90d5b0127eae129e3a660e4e75388a0beb06df&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52832?repo=metabase/metabase&commitHash=fb90d5b0127eae129e3a660e4e75388a0beb06df&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52832?repo=metabase/metabase&commitHash=fb90d5b0127eae129e3a660e4e75388a0beb06df&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52832?repo=metabase/metabase&commitHash=fb90d5b0127eae129e3a660e4e75388a0beb06df&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>yyyymmddhhmmss-binary-dates</code> | No table 'times' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52832?repo=metabase/metabase&commitHash=fb90d5b0127eae129e3a660e4e75388a0beb06df&utm_source=gh-comment&runConclusion=FAILURE&runId=86ebbf7f-de61-523f-a769-55ef15a5470f) |
| <code>with-upload-table!-and-do-with-uploaded-example-csv!-test</code> | The Redshift query failed because the relation does not exist. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52832?repo=metabase/metabase&commitHash=fb90d5b0127eae129e3a660e4e75388a0beb06df&utm_source=gh-comment&runConclusion=FAILURE&runId=8d98b970-4f46-5f50-a4af-bee37c22ae93) |
| <code>update-invalidate-model-cache-test</code> | No Table 'venues' found for Redshift database 'test-data (redshift)' | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52832?repo=metabase/metabase&commitHash=fb90d5b0127eae129e3a660e4e75388a0beb06df&utm_source=gh-comment&runConclusion=FAILURE&runId=ec9c0548-b9bc-5f3d-ad8c-0c6d5e788d91) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>microseconds-test</code> | No table 'incidents' found in the Redshift database 'toucan-ms-incidents'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52832?repo=metabase/metabase&commitHash=fb90d5b0127eae129e3a660e4e75388a0beb06df&utm_source=gh-comment&runConclusion=FAILURE&runId=909d27cd-0436-53d4-b3dd-68a7f9e019fa) |
| <code>issue 29378 should not crash the model detail page after searching for an action (metabase\#29378)</code> | Unable to find an accessible element with the role ""option"" and name ""Update orders quantity"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52832?repo=metabase/metabase&commitHash=fb90d5b0127eae129e3a660e4e75388a0beb06df&utm_source=gh-comment&runConclusion=FAILURE&runId=1cd31e3a-08c3-577c-8c16-8043024b2866) |
| <code>scenarios > questions > entity id support /question/entity/${entity\_id} should redirect to /question/${id}</code> | The expected URL did not include the expected path '/question/82' after 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52832?repo=metabase/metabase&commitHash=fb90d5b0127eae129e3a660e4e75388a0beb06df&utm_source=gh-comment&runConclusion=FAILURE&runId=2555b6fa-7ab1-5732-95ba-6eda0f690c1b) |
| <code>scenarios > questions > entity id support /question/entity/${entity\_id}/notebook should redirect to /question/${id}/notebook</code> | The expected URL did not include the expected path '/question/82/notebook' after 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52832?repo=metabase/metabase&commitHash=fb90d5b0127eae129e3a660e4e75388a0beb06df&utm_source=gh-comment&runConclusion=FAILURE&runId=30eeee4a-8eb4-56dd-9d67-9897bb209877) |

[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52832?repo=metabase/metabase&commitHash=fb90d5b0127eae129e3a660e4e75388a0beb06df&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52832?repo=metabase/metabase&commitHash=fb90d5b0127eae129e3a660e4e75388a0beb06df&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2816196776,pull_request,closed,,[test] Don't pprint values in malli= unless necessary,Small test-time optimization to prevent `malli=` from pprinting values (which are sometimes huge) when the assertion succeeds.,alexander-yakushev,2025-01-28 16:36:03+00:00,['alexander-yakushev'],2025-01-28 18:02:18+00:00,2025-01-28 17:34:47+00:00,https://github.com/metabase/metabase/pull/52830,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2619653108, 'issue_id': 2816196776, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/76061_tests-5a0653b3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52830?repo=metabase/metabase&commitHash=5a0653b376c4fe8af50e0ddaebe6aa32bfff05bf&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52830?repo=metabase/metabase&commitHash=5a0653b376c4fe8af50e0ddaebe6aa32bfff05bf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52830?repo=metabase/metabase&commitHash=5a0653b376c4fe8af50e0ddaebe6aa32bfff05bf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52830?repo=metabase/metabase&commitHash=5a0653b376c4fe8af50e0ddaebe6aa32bfff05bf&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>is-empty-not-empty-with-not-emptyable-args-test-3</code> | No table 'checkins' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52830?repo=metabase/metabase&commitHash=5a0653b376c4fe8af50e0ddaebe6aa32bfff05bf&utm_source=gh-comment&runConclusion=FAILURE&runId=e3c2648b-077a-55e1-90a5-59befe56e60c) |\n| <code>is-empty-not-empty-with-not-emptyable-args-test-2</code> | No table 'checkins' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52830?repo=metabase/metabase&commitHash=5a0653b376c4fe8af50e0ddaebe6aa32bfff05bf&utm_source=gh-comment&runConclusion=FAILURE&runId=2a752b6f-3832-5d99-9eeb-0a509f90b716) |\n| <code>is-empty-not-empty-with-not-emptyable-args-test</code> | No table 'checkins' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52830?repo=metabase/metabase&commitHash=5a0653b376c4fe8af50e0ddaebe6aa32bfff05bf&utm_source=gh-comment&runConclusion=FAILURE&runId=78a0962f-9299-5ab3-a5f2-be418bacd8a6) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52830?repo=metabase/metabase&commitHash=5a0653b376c4fe8af50e0ddaebe6aa32bfff05bf&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 28, 17, 34, 52, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-28 17:34:52 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/76061_tests-5a0653b3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52830?repo=metabase/metabase&commitHash=5a0653b376c4fe8af50e0ddaebe6aa32bfff05bf&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52830?repo=metabase/metabase&commitHash=5a0653b376c4fe8af50e0ddaebe6aa32bfff05bf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52830?repo=metabase/metabase&commitHash=5a0653b376c4fe8af50e0ddaebe6aa32bfff05bf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52830?repo=metabase/metabase&commitHash=5a0653b376c4fe8af50e0ddaebe6aa32bfff05bf&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>is-empty-not-empty-with-not-emptyable-args-test-3</code> | No table 'checkins' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52830?repo=metabase/metabase&commitHash=5a0653b376c4fe8af50e0ddaebe6aa32bfff05bf&utm_source=gh-comment&runConclusion=FAILURE&runId=e3c2648b-077a-55e1-90a5-59befe56e60c) |
| <code>is-empty-not-empty-with-not-emptyable-args-test-2</code> | No table 'checkins' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52830?repo=metabase/metabase&commitHash=5a0653b376c4fe8af50e0ddaebe6aa32bfff05bf&utm_source=gh-comment&runConclusion=FAILURE&runId=2a752b6f-3832-5d99-9eeb-0a509f90b716) |
| <code>is-empty-not-empty-with-not-emptyable-args-test</code> | No table 'checkins' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52830?repo=metabase/metabase&commitHash=5a0653b376c4fe8af50e0ddaebe6aa32bfff05bf&utm_source=gh-comment&runConclusion=FAILURE&runId=78a0962f-9299-5ab3-a5f2-be418bacd8a6) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52830?repo=metabase/metabase&commitHash=5a0653b376c4fe8af50e0ddaebe6aa32bfff05bf&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2816196275,pull_request,closed,,"🤖 backported ""Update ""Multiple domains for Google Sign-in""""",#52826,github-automation-metabase,2025-01-28 16:35:49+00:00,"['abdhabli', 'github-automation-metabase']",2025-01-28 17:08:26+00:00,2025-01-28 17:08:25+00:00,https://github.com/metabase/metabase/pull/52829,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2816153609,pull_request,closed,,"🤖 backported ""fix: some css variables were not defined""",#52808,github-automation-metabase,2025-01-28 16:19:57+00:00,"['npretto', 'github-automation-metabase']",2025-01-29 10:01:20+00:00,2025-01-29 09:17:05+00:00,https://github.com/metabase/metabase/pull/52828,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2619643945, 'issue_id': 2816153609, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/23215_tests-67640cdc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52828?repo=metabase/metabase&commitHash=67640cdc7c9e4c12ab09f615733a2dfa23601f1f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52828?repo=metabase/metabase&commitHash=67640cdc7c9e4c12ab09f615733a2dfa23601f1f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52828?repo=metabase/metabase&commitHash=67640cdc7c9e4c12ab09f615733a2dfa23601f1f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52828?repo=metabase/metabase&commitHash=67640cdc7c9e4c12ab09f615733a2dfa23601f1f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>useIsParameterPanelSticky sets isStickyStateChanging to true and false before and after isSticky is changed</code> | failure\\_text: Error: expect(received).toBe(expected) // Object.is equalityExpected: trueReceived: false    at Object.toBe (/home/runner/work/metab... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52828?repo=metabase/metabase&commitHash=67640cdc7c9e4c12ab09f615733a2dfa23601f1f&utm_source=gh-comment&runConclusion=FAILURE&runId=fab6a361-2108-54b0-b68c-a01d1a31c1ca) |\n| <code>issue 16559 should always show the most recent revision (metabase\\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52828?repo=metabase/metabase&commitHash=67640cdc7c9e4c12ab09f615733a2dfa23601f1f&utm_source=gh-comment&runConclusion=FAILURE&runId=1d05f803-bdfd-5b95-be9e-6924a8e5e412) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52828?repo=metabase/metabase&commitHash=67640cdc7c9e4c12ab09f615733a2dfa23601f1f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 17, 30, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621017720, 'issue_id': 2816153609, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `67640cdc7c9e4c12ab09f615733a2dfa23601f1f-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13027448614?pr=52828)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)', 'created_at': datetime.datetime(2025, 1, 29, 8, 48, 34, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-28 17:30:53 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/23215_tests-67640cdc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52828?repo=metabase/metabase&commitHash=67640cdc7c9e4c12ab09f615733a2dfa23601f1f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52828?repo=metabase/metabase&commitHash=67640cdc7c9e4c12ab09f615733a2dfa23601f1f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52828?repo=metabase/metabase&commitHash=67640cdc7c9e4c12ab09f615733a2dfa23601f1f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52828?repo=metabase/metabase&commitHash=67640cdc7c9e4c12ab09f615733a2dfa23601f1f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>useIsParameterPanelSticky sets isStickyStateChanging to true and false before and after isSticky is changed</code> | failure\_text: Error: expect(received).toBe(expected) // Object.is equalityExpected: trueReceived: false    at Object.toBe (/home/runner/work/metab... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52828?repo=metabase/metabase&commitHash=67640cdc7c9e4c12ab09f615733a2dfa23601f1f&utm_source=gh-comment&runConclusion=FAILURE&runId=fab6a361-2108-54b0-b68c-a01d1a31c1ca) |
| <code>issue 16559 should always show the most recent revision (metabase\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52828?repo=metabase/metabase&commitHash=67640cdc7c9e4c12ab09f615733a2dfa23601f1f&utm_source=gh-comment&runConclusion=FAILURE&runId=1d05f803-bdfd-5b95-be9e-6924a8e5e412) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52828?repo=metabase/metabase&commitHash=67640cdc7c9e4c12ab09f615733a2dfa23601f1f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-29 08:48:34 UTC): ## e2e tests failed on `67640cdc7c9e4c12ab09f615733a2dfa23601f1f-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13027448614?pr=52828)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)

"
2816146858,pull_request,closed,,"🤖 backported ""refactor entity id route, extract function from component""",#52820,github-automation-metabase,2025-01-28 16:17:37+00:00,"['npretto', 'github-automation-metabase']",2025-01-28 17:53:36+00:00,2025-01-28 16:58:18+00:00,https://github.com/metabase/metabase/pull/52827,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2619499175, 'issue_id': 2816146858, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `15e593767c96c97d551e2d04fcbc1c3c07efca7c-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13014796963?pr=52827)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)\n`search.cy.spec.js` | scenarios > search > universal search > should render a preview of markdown descriptions\n`search.cy.spec.js` | scenarios > search > universal search > should not overflow container if results contain descriptions with large unborken strings', 'created_at': datetime.datetime(2025, 1, 28, 16, 31, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619637928, 'issue_id': 2816146858, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3822_tests-15e59376-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52827?repo=metabase/metabase&commitHash=15e593767c96c97d551e2d04fcbc1c3c07efca7c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52827?repo=metabase/metabase&commitHash=15e593767c96c97d551e2d04fcbc1c3c07efca7c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52827?repo=metabase/metabase&commitHash=15e593767c96c97d551e2d04fcbc1c3c07efca7c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52827?repo=metabase/metabase&commitHash=15e593767c96c97d551e2d04fcbc1c3c07efca7c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52827?repo=metabase/metabase&commitHash=15e593767c96c97d551e2d04fcbc1c3c07efca7c&utm_source=gh-comment&runConclusion=FAILURE&runId=7f784359-df80-54aa-b461-f88ca430311c) |\n| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52827?repo=metabase/metabase&commitHash=15e593767c96c97d551e2d04fcbc1c3c07efca7c&utm_source=gh-comment&runConclusion=FAILURE&runId=bee9c81f-e441-5cfd-8d27-84198f0e98a2) |\n| <code>issue 16559 should always show the most recent revision (metabase\\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52827?repo=metabase/metabase&commitHash=15e593767c96c97d551e2d04fcbc1c3c07efca7c&utm_source=gh-comment&runConclusion=FAILURE&runId=d56caff4-9246-51b3-80cc-da6709a2f2c7) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52827?repo=metabase/metabase&commitHash=15e593767c96c97d551e2d04fcbc1c3c07efca7c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 17, 28, 26, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-28 16:31:22 UTC): ## e2e tests failed on `15e593767c96c97d551e2d04fcbc1c3c07efca7c-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13014796963?pr=52827)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)
`search.cy.spec.js` | scenarios > search > universal search > should render a preview of markdown descriptions
`search.cy.spec.js` | scenarios > search > universal search > should not overflow container if results contain descriptions with large unborken strings

trunk-io[bot] on (2025-01-28 17:28:26 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3822_tests-15e59376-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52827?repo=metabase/metabase&commitHash=15e593767c96c97d551e2d04fcbc1c3c07efca7c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52827?repo=metabase/metabase&commitHash=15e593767c96c97d551e2d04fcbc1c3c07efca7c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52827?repo=metabase/metabase&commitHash=15e593767c96c97d551e2d04fcbc1c3c07efca7c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52827?repo=metabase/metabase&commitHash=15e593767c96c97d551e2d04fcbc1c3c07efca7c&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52827?repo=metabase/metabase&commitHash=15e593767c96c97d551e2d04fcbc1c3c07efca7c&utm_source=gh-comment&runConclusion=FAILURE&runId=7f784359-df80-54aa-b461-f88ca430311c) |
| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52827?repo=metabase/metabase&commitHash=15e593767c96c97d551e2d04fcbc1c3c07efca7c&utm_source=gh-comment&runConclusion=FAILURE&runId=bee9c81f-e441-5cfd-8d27-84198f0e98a2) |
| <code>issue 16559 should always show the most recent revision (metabase\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52827?repo=metabase/metabase&commitHash=15e593767c96c97d551e2d04fcbc1c3c07efca7c&utm_source=gh-comment&runConclusion=FAILURE&runId=d56caff4-9246-51b3-80cc-da6709a2f2c7) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52827?repo=metabase/metabase&commitHash=15e593767c96c97d551e2d04fcbc1c3c07efca7c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2816144733,pull_request,closed,,"Update ""Multiple domains for Google Sign-in""","Update the ""Multiple domains for Google Sign-in"" section to note that multiple domains must be in the same Google Workspace account.
We got a ticket asking why multiple domains weren’t working, ticket: https://app.usepylon.com/issues?conversationID=b5cbe6ab-ed1b-4a96-b264-3ae2e56eb42c ",abdhabli,2025-01-28 16:16:55+00:00,['abdhabli'],2025-01-28 19:30:12+00:00,2025-01-28 16:34:09+00:00,https://github.com/metabase/metabase/pull/52826,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2619879368, 'issue_id': 2816144733, 'author': 'jeff-bruemmer', 'body': '@metabase-bot backport release-x.52.x', 'created_at': datetime.datetime(2025, 1, 28, 19, 26, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619886435, 'issue_id': 2816144733, 'author': 'github-actions[bot]', 'body': '🚀 This should also be released by [v0.53](https://github.com/metabase/metabase/milestone/287)', 'created_at': datetime.datetime(2025, 1, 28, 19, 30, 10, tzinfo=datetime.timezone.utc)}]","jeff-bruemmer on (2025-01-28 19:26:33 UTC): @metabase-bot backport release-x.52.x

github-actions[bot] on (2025-01-28 19:30:10 UTC): 🚀 This should also be released by [v0.53](https://github.com/metabase/metabase/milestone/287)

"
2816127811,pull_request,closed,,"🤖 backported ""Empty states: dashboards""",#52639,github-automation-metabase,2025-01-28 16:10:33+00:00,"['nemanjaglumac', 'github-automation-metabase']",2025-01-28 21:17:03+00:00,2025-01-28 21:17:02+00:00,https://github.com/metabase/metabase/pull/52825,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2619504911, 'issue_id': 2816127811, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `18a9821ca4d852c38b64adaa0160c4929f14f729-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13014661152?pr=52825)\n\n  File | Test Name\n  ---- | ---------\n  `search.cy.spec.js` | scenarios > search > universal search > should render a preview of markdown descriptions\n`search.cy.spec.js` | scenarios > search > universal search > should not overflow container if results contain descriptions with large unborken strings', 'created_at': datetime.datetime(2025, 1, 28, 16, 33, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619555653, 'issue_id': 2816127811, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/94772_tests-18a9821c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52825?repo=metabase/metabase&commitHash=18a9821ca4d852c38b64adaa0160c4929f14f729&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52825?repo=metabase/metabase&commitHash=18a9821ca4d852c38b64adaa0160c4929f14f729&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52825?repo=metabase/metabase&commitHash=18a9821ca4d852c38b64adaa0160c4929f14f729&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52825?repo=metabase/metabase&commitHash=18a9821ca4d852c38b64adaa0160c4929f14f729&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52825?repo=metabase/metabase&commitHash=18a9821ca4d852c38b64adaa0160c4929f14f729&utm_source=gh-comment&runConclusion=FAILURE&runId=d3cba1d0-ba4d-51a7-8110-8d43a0ff49a4) |\n| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52825?repo=metabase/metabase&commitHash=18a9821ca4d852c38b64adaa0160c4929f14f729&utm_source=gh-comment&runConclusion=FAILURE&runId=7e17112b-3ee9-5ec8-bc8b-ca607c052a4c) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52825?repo=metabase/metabase&commitHash=18a9821ca4d852c38b64adaa0160c4929f14f729&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 16, 53, 48, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-28 16:33:42 UTC): ## e2e tests failed on `18a9821ca4d852c38b64adaa0160c4929f14f729-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13014661152?pr=52825)

  File | Test Name
  ---- | ---------
  `search.cy.spec.js` | scenarios > search > universal search > should render a preview of markdown descriptions
`search.cy.spec.js` | scenarios > search > universal search > should not overflow container if results contain descriptions with large unborken strings

trunk-io[bot] on (2025-01-28 16:53:48 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/94772_tests-18a9821c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52825?repo=metabase/metabase&commitHash=18a9821ca4d852c38b64adaa0160c4929f14f729&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52825?repo=metabase/metabase&commitHash=18a9821ca4d852c38b64adaa0160c4929f14f729&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52825?repo=metabase/metabase&commitHash=18a9821ca4d852c38b64adaa0160c4929f14f729&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52825?repo=metabase/metabase&commitHash=18a9821ca4d852c38b64adaa0160c4929f14f729&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52825?repo=metabase/metabase&commitHash=18a9821ca4d852c38b64adaa0160c4929f14f729&utm_source=gh-comment&runConclusion=FAILURE&runId=d3cba1d0-ba4d-51a7-8110-8d43a0ff49a4) |
| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52825?repo=metabase/metabase&commitHash=18a9821ca4d852c38b64adaa0160c4929f14f729&utm_source=gh-comment&runConclusion=FAILURE&runId=7e17112b-3ee9-5ec8-bc8b-ca607c052a4c) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52825?repo=metabase/metabase&commitHash=18a9821ca4d852c38b64adaa0160c4929f14f729&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2816100892,pull_request,closed,,Fix Dashboard on the Go state bug (#52821),#52821,iethree,2025-01-28 16:00:12+00:00,['iethree'],2025-01-28 17:20:34+00:00,2025-01-28 16:25:31+00:00,https://github.com/metabase/metabase/pull/52824,"[('.Team/AdminWebapp', 'Admin and Webapp team'), ('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2619552041, 'issue_id': 2816100892, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13440_tests-80dad13b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52824?repo=metabase/metabase&commitHash=80dad13be3fcbbe202a8a7fa199908267e3dc4cd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52824?repo=metabase/metabase&commitHash=80dad13be3fcbbe202a8a7fa199908267e3dc4cd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52824?repo=metabase/metabase&commitHash=80dad13be3fcbbe202a8a7fa199908267e3dc4cd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52824?repo=metabase/metabase&commitHash=80dad13be3fcbbe202a8a7fa199908267e3dc4cd&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52824?repo=metabase/metabase&commitHash=80dad13be3fcbbe202a8a7fa199908267e3dc4cd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 16, 52, 19, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-28 16:52:19 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13440_tests-80dad13b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52824?repo=metabase/metabase&commitHash=80dad13be3fcbbe202a8a7fa199908267e3dc4cd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52824?repo=metabase/metabase&commitHash=80dad13be3fcbbe202a8a7fa199908267e3dc4cd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52824?repo=metabase/metabase&commitHash=80dad13be3fcbbe202a8a7fa199908267e3dc4cd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52824?repo=metabase/metabase&commitHash=80dad13be3fcbbe202a8a7fa199908267e3dc4cd&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52824?repo=metabase/metabase&commitHash=80dad13be3fcbbe202a8a7fa199908267e3dc4cd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2816067647,pull_request,closed,,"🤖 backported ""For your consideration - collection menu""",#52709,github-automation-metabase,2025-01-28 15:46:52+00:00,"['npfitz', 'github-automation-metabase']",2025-01-28 19:39:33+00:00,2025-01-28 19:39:32+00:00,https://github.com/metabase/metabase/pull/52823,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2619382983, 'issue_id': 2816067647, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 1ca79542d89888538096c8c3607923db1bca749c...fbe21ddd62b8b1392f5079db8f470cf4b5a57332.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/data-display/Badge/Badge.styled.tsx<br>frontend/src/metabase/ui/components/data-display/Badge/index.ts<br>frontend/src/metabase/ui/components/data-display/Indicator/index.ts<br>frontend/src/metabase/ui/components/data-display/index.ts<br>frontend/src/metabase/ui/theme.ts |', 'created_at': datetime.datetime(2025, 1, 28, 15, 48, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619432418, 'issue_id': 2816067647, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `fbe21ddd62b8b1392f5079db8f470cf4b5a57332-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13014201747?pr=52823)\n\n  File | Test Name\n  ---- | ---------\n  `official-collections.cy.spec.js` | official collections > premium token with paid features > displays official badge throughout the application\n`notebook-data-source.cy.spec.ts` | scenarios > notebook > data source > empty app db > should not show saved questions if only models exist (metabase#25142)\n`official-collections.cy.spec.js` | official collections > token expired or removed > should not display official collection icon anymore\n`notebook-data-source.cy.spec.ts` | scenarios > notebook > data source > empty app db > should not show models if only saved questions exist', 'created_at': datetime.datetime(2025, 1, 28, 16, 6, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619475859, 'issue_id': 2816067647, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/22967_tests-fbe21ddd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52823?repo=metabase/metabase&commitHash=fbe21ddd62b8b1392f5079db8f470cf4b5a57332&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52823?repo=metabase/metabase&commitHash=fbe21ddd62b8b1392f5079db8f470cf4b5a57332&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52823?repo=metabase/metabase&commitHash=fbe21ddd62b8b1392f5079db8f470cf4b5a57332&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52823?repo=metabase/metabase&commitHash=fbe21ddd62b8b1392f5079db8f470cf4b5a57332&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>official collections token expired or removed should not display official collection icon anymore</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52823?repo=metabase/metabase&commitHash=fbe21ddd62b8b1392f5079db8f470cf4b5a57332&utm_source=gh-comment&runConclusion=FAILURE&runId=7dcf2563-b0eb-5a39-a632-f30993be92da) |\n| <code>scenarios > notebook > data source empty app db should not show saved questions if only models exist (metabase\\#25142)</code> | Unable to find an accessible element with the role ""tab"" within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52823?repo=metabase/metabase&commitHash=fbe21ddd62b8b1392f5079db8f470cf4b5a57332&utm_source=gh-comment&runConclusion=FAILURE&runId=7566c842-e2dd-5895-80a3-4bc71c418256) |\n| <code>scenarios > notebook > data source empty app db should not show models if only saved questions exist</code> | Unable to find an accessible element with the role ""tab"" within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52823?repo=metabase/metabase&commitHash=fbe21ddd62b8b1392f5079db8f470cf4b5a57332&utm_source=gh-comment&runConclusion=FAILURE&runId=61cfb29c-e4f1-5a87-8549-12d8efb1e6f8) |\n| <code>official collections premium token with paid features displays official badge throughout the application</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52823?repo=metabase/metabase&commitHash=fbe21ddd62b8b1392f5079db8f470cf4b5a57332&utm_source=gh-comment&runConclusion=FAILURE&runId=399837c4-60ae-5a66-95b3-e93b0d6c0fbf) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52823?repo=metabase/metabase&commitHash=fbe21ddd62b8b1392f5079db8f470cf4b5a57332&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 16, 22, 16, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-28 15:48:36 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 1ca79542d89888538096c8c3607923db1bca749c...fbe21ddd62b8b1392f5079db8f470cf4b5a57332.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/data-display/Badge/Badge.styled.tsx<br>frontend/src/metabase/ui/components/data-display/Badge/index.ts<br>frontend/src/metabase/ui/components/data-display/Indicator/index.ts<br>frontend/src/metabase/ui/components/data-display/index.ts<br>frontend/src/metabase/ui/theme.ts |

github-actions[bot] on (2025-01-28 16:06:32 UTC): ## e2e tests failed on `fbe21ddd62b8b1392f5079db8f470cf4b5a57332-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13014201747?pr=52823)

  File | Test Name
  ---- | ---------
  `official-collections.cy.spec.js` | official collections > premium token with paid features > displays official badge throughout the application
`notebook-data-source.cy.spec.ts` | scenarios > notebook > data source > empty app db > should not show saved questions if only models exist (metabase#25142)
`official-collections.cy.spec.js` | official collections > token expired or removed > should not display official collection icon anymore
`notebook-data-source.cy.spec.ts` | scenarios > notebook > data source > empty app db > should not show models if only saved questions exist

trunk-io[bot] on (2025-01-28 16:22:16 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/22967_tests-fbe21ddd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52823?repo=metabase/metabase&commitHash=fbe21ddd62b8b1392f5079db8f470cf4b5a57332&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52823?repo=metabase/metabase&commitHash=fbe21ddd62b8b1392f5079db8f470cf4b5a57332&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52823?repo=metabase/metabase&commitHash=fbe21ddd62b8b1392f5079db8f470cf4b5a57332&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52823?repo=metabase/metabase&commitHash=fbe21ddd62b8b1392f5079db8f470cf4b5a57332&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>official collections token expired or removed should not display official collection icon anymore</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52823?repo=metabase/metabase&commitHash=fbe21ddd62b8b1392f5079db8f470cf4b5a57332&utm_source=gh-comment&runConclusion=FAILURE&runId=7dcf2563-b0eb-5a39-a632-f30993be92da) |
| <code>scenarios > notebook > data source empty app db should not show saved questions if only models exist (metabase\#25142)</code> | Unable to find an accessible element with the role ""tab"" within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52823?repo=metabase/metabase&commitHash=fbe21ddd62b8b1392f5079db8f470cf4b5a57332&utm_source=gh-comment&runConclusion=FAILURE&runId=7566c842-e2dd-5895-80a3-4bc71c418256) |
| <code>scenarios > notebook > data source empty app db should not show models if only saved questions exist</code> | Unable to find an accessible element with the role ""tab"" within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52823?repo=metabase/metabase&commitHash=fbe21ddd62b8b1392f5079db8f470cf4b5a57332&utm_source=gh-comment&runConclusion=FAILURE&runId=61cfb29c-e4f1-5a87-8549-12d8efb1e6f8) |
| <code>official collections premium token with paid features displays official badge throughout the application</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52823?repo=metabase/metabase&commitHash=fbe21ddd62b8b1392f5079db8f470cf4b5a57332&utm_source=gh-comment&runConclusion=FAILURE&runId=399837c4-60ae-5a66-95b3-e93b0d6c0fbf) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52823?repo=metabase/metabase&commitHash=fbe21ddd62b8b1392f5079db8f470cf4b5a57332&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2816058613,pull_request,closed,,fix(sdk): echarts tooltip is cut off below the viewport height,"Closes https://github.com/metabase/metabase/issues/51904

> [!CAUTION]
> This is a second attempt for https://github.com/metabase/metabase/pull/52310 as it was reverted due to it causing a P1 issue https://github.com/metabase/metabase/issues/52732. The P1 was caused by 1) the automatically backported PR referencing a CSS variable that does not exist yet which relies on https://github.com/metabase/metabase/pull/49442 (not backported), and 2) the e2e changes for custom fixed-position visibility checks does not assert the resulting z-index. See [postmortem](https://www.notion.so/metabase/Echarts-tooltip-in-a-dashboard-is-hidden-behind-charts-18869354c9018094a5efe812c3a8228b?pvs=4) for more info.

As a result of the P1, this PR will do the following:
- Adds an assertion for sane position + z-index to the echarts tooltip test helper. This way, we are asserting for this in every usage of echartsTooltip() helper.
- Adds a similar style-assertion for the tooltip-reproduction test in the SDK, as the advanced `elementFromPoint` test is super flaky on CI and has been skipped earlier. The difference is that we also check that the `--mb-popover-z-index` property from the `theme.components.popover.zIndex` theme option is applied.

- It will be no-backport as I'll do a manual backport to prevent the missing CSS variable issue from happening again.

---

### Description

![image](https://github.com/user-attachments/assets/f9218a2e-8668-43ce-ad0b-1774067bf94f)

Tooltips of visualizations gets cut off at a point beyond the bottom edge of the initial screen size, then disappears completely. This is because `.echarts-tooltip-container only covers the screen height (the blue area in the above screenshot), so tooltips don't show up below that.

This PR updates the tooltip to use `position: fixed` with an appropriate z-index. It also adds an e2e test for the SDK to ensure that tooltips are always properly visible below the fold.

### How to verify

On the SDK:

- Open an interactive dashboard in the SDK, using a dashboard that has a longer height than your screen size (e.g. an x-rayed auto-generated dashboard)
  - You can use the Shoppy demo's Orders dashboard (https://embedded-analytics-sdk-demo.metabase.com/admin/analytics/12) and scroll down to the ""Hours when Orders were added"" dashboard card.
- Scroll to a dashcard at the edge at your screen. Tooltip should not get cut off anymore, unlike the above screenshot.
- Scroll to a dashcard beyond the edge of your screen. Tooltips should also be visible.

On the main Metabase app, static iframe embedding and iframe embedding with iframe-resizer:

- Tooltips should still continue to work with no visual artifacts.

### Demo

- Cypress E2E Local Runs - [Private Loom](https://www.loom.com/share/e190643a56da4ca79ac03afc26f29e65?sid=3ea15c61-1c12-47d8-9d2a-83594b42b440)

- Tested on Shoppy - [Private Loom](https://www.loom.com/share/dceb33a742044b50bc400ce7c2efaa3e?sid=565f8f2a-6a82-4533-a5e3-a6f2964ed2d5) - below-the-fold echarts tooltip now works

- Tested on iframe (static embedding) and iframe-resizer script - [Private Loom](https://www.loom.com/share/4e3f7cb6419948779e319d8c808c9dd3?sid=44efc182-9923-4c31-8ec7-01a958e65f08)

- Tested on the main app - [Private Loom](https://www.loom.com/share/5b1c9c14c59f4c6f919a19902fef95e6?sid=b0936d18-4d12-49e6-9977-16345a789a8a)

### Checklist

- [x] Tests have been added/updated to cover changes in this PR - E2E
",heypoom,2025-01-28 15:43:10+00:00,['heypoom'],2025-02-04 18:27:48+00:00,2025-02-04 18:24:38+00:00,https://github.com/metabase/metabase/pull/52822,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', '')]","[{'comment_id': 2620924897, 'issue_id': 2816058613, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff a034598d144231befa096575de675d9ff723ae6a...9c46ff00e8d9f2b8bee2a42ad727bc8213a7cda0.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/echarts/tooltip/index.tsx |', 'created_at': datetime.datetime(2025, 1, 29, 7, 55, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621006236, 'issue_id': 2816058613, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/22894_tests-9c46ff00-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52822?repo=metabase/metabase&commitHash=9c46ff00e8d9f2b8bee2a42ad727bc8213a7cda0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52822?repo=metabase/metabase&commitHash=9c46ff00e8d9f2b8bee2a42ad727bc8213a7cda0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52822?repo=metabase/metabase&commitHash=9c46ff00e8d9f2b8bee2a42ad727bc8213a7cda0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52822?repo=metabase/metabase&commitHash=9c46ff00e8d9f2b8bee2a42ad727bc8213a7cda0&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52822?repo=metabase/metabase&commitHash=9c46ff00e8d9f2b8bee2a42ad727bc8213a7cda0&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 29, 8, 44, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631895901, 'issue_id': 2816058613, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `ebe824363df31a7bb34bac9add1631c894a9ed42-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13121205402?pr=52822)\n\n  File | Test Name\n  ---- | ---------\n  `model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model\n`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette\n`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link\n`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results"", 'created_at': datetime.datetime(2025, 2, 3, 19, 33, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634011365, 'issue_id': 2816058613, 'author': 'heypoom', 'body': '> Would we consider using a different CSS solution that works with be.visible (if it exist)?\r\n\r\n@WiNloSt yes, if there exists a solution in Cypress I\'d be happy to use it. Technically, you can add an ""if"" statement to the tooltip that uses `position: fixed` only on the SDK (and `absolute` on the main app), and it should work with `be.visible`. I feel weird doing that just to satisfy Cypress though, but it can be done.', 'created_at': datetime.datetime(2025, 2, 4, 13, 44, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634014864, 'issue_id': 2816058613, 'author': 'WiNloSt', 'body': '> > Would we consider using a different CSS solution that works with be.visible (if it exist)?\r\n> \r\n> @WiNloSt yes, if there exists a solution in Cypress I\'d be happy to use it. Technically, you can add an ""if"" statement to the tooltip that uses `position: fixed` only on the SDK, and it should work with `be.visible`. I feel weird doing that just to satisfy Cypress though, but it can be done.\r\n\r\nlet\'s wait and see how sasha will think about the util first then.', 'created_at': datetime.datetime(2025, 2, 4, 13, 44, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634044063, 'issue_id': 2816058613, 'author': 'heypoom', 'body': ""@WiNloSt Sounds good! I pinged Sasha, but he's on the offsite right now so will take a bit of time."", 'created_at': datetime.datetime(2025, 2, 4, 13, 56, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634743278, 'issue_id': 2816058613, 'author': 'heypoom', 'body': 'I\'ll merge this for now as it get approved, but I\'m happy to switch to the `isSDK ? ""fixed"" : ""absolute""` approach if this custom visibility check turns out to be problematic and causes annoying stacking context bugs that we did not anticipate.', 'created_at': datetime.datetime(2025, 2, 4, 18, 24, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634745105, 'issue_id': 2816058613, 'author': 'heypoom', 'body': '@metabase-bot backport release-x.53.x', 'created_at': datetime.datetime(2025, 2, 4, 18, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634748205, 'issue_id': 2816058613, 'author': 'heypoom', 'body': '@metabase-bot backport release-x.52.x', 'created_at': datetime.datetime(2025, 2, 4, 18, 26, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634750449, 'issue_id': 2816058613, 'author': 'github-actions[bot]', 'body': '@heypoom Manual conflict resolution is required', 'created_at': datetime.datetime(2025, 2, 4, 18, 27, 47, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-29 07:55:43 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff a034598d144231befa096575de675d9ff723ae6a...9c46ff00e8d9f2b8bee2a42ad727bc8213a7cda0.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/echarts/tooltip/index.tsx |

trunk-io[bot] on (2025-01-29 08:44:11 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/22894_tests-9c46ff00-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52822?repo=metabase/metabase&commitHash=9c46ff00e8d9f2b8bee2a42ad727bc8213a7cda0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52822?repo=metabase/metabase&commitHash=9c46ff00e8d9f2b8bee2a42ad727bc8213a7cda0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52822?repo=metabase/metabase&commitHash=9c46ff00e8d9f2b8bee2a42ad727bc8213a7cda0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52822?repo=metabase/metabase&commitHash=9c46ff00e8d9f2b8bee2a42ad727bc8213a7cda0&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52822?repo=metabase/metabase&commitHash=9c46ff00e8d9f2b8bee2a42ad727bc8213a7cda0&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-02-03 19:33:29 UTC): ## e2e tests failed on `ebe824363df31a7bb34bac9add1631c894a9ed42-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13121205402?pr=52822)

  File | Test Name
  ---- | ---------
  `model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model
`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette
`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link
`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results

heypoom (Issue Creator) on (2025-02-04 13:44:12 UTC): @WiNloSt yes, if there exists a solution in Cypress I'd be happy to use it. Technically, you can add an ""if"" statement to the tooltip that uses `position: fixed` only on the SDK (and `absolute` on the main app), and it should work with `be.visible`. I feel weird doing that just to satisfy Cypress though, but it can be done.

WiNloSt on (2025-02-04 13:44:50 UTC): let's wait and see how sasha will think about the util first then.

heypoom (Issue Creator) on (2025-02-04 13:56:47 UTC): @WiNloSt Sounds good! I pinged Sasha, but he's on the offsite right now so will take a bit of time.

heypoom (Issue Creator) on (2025-02-04 18:24:02 UTC): I'll merge this for now as it get approved, but I'm happy to switch to the `isSDK ? ""fixed"" : ""absolute""` approach if this custom visibility check turns out to be problematic and causes annoying stacking context bugs that we did not anticipate.

heypoom (Issue Creator) on (2025-02-04 18:25:00 UTC): @metabase-bot backport release-x.53.x

heypoom (Issue Creator) on (2025-02-04 18:26:37 UTC): @metabase-bot backport release-x.52.x

github-actions[bot] on (2025-02-04 18:27:47 UTC): @heypoom Manual conflict resolution is required

"
2816057718,pull_request,closed,,[Cards in Dashboards] Fix dashboard on the go bug,"### Description

Fixes this failure we were getting in OSS runs of cypress
![scenarios  question  new -- should be able to save a question to a dashboard created on the go (failed)](https://github.com/user-attachments/assets/77992828-d660-412e-9351-7e79691e5752)
![Screen Shot 2025-01-28 at 7 55 12 AM](https://github.com/user-attachments/assets/d4c0246a-49d9-4070-a1ef-acde137e56e2)

We had a check that didn't first compare that models were the same, so if the user's personal collection id matched the exact id of the dashboard they were creating, they'd encounter the above error.

### How to verify

- Run cypress in OSS mode, test should pass now and fail before

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",sloansparger,2025-01-28 15:42:48+00:00,['sloansparger'],2025-01-28 17:21:09+00:00,2025-01-28 16:08:19+00:00,https://github.com/metabase/metabase/pull/52821,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2619402584, 'issue_id': 2816057718, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `37aa9241b11720c56b351eb3b68d091666e98b46-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13014125202?pr=52821)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)', 'created_at': datetime.datetime(2025, 1, 28, 15, 55, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619554267, 'issue_id': 2816057718, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3702_tests-37aa9241-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52821?repo=metabase/metabase&commitHash=37aa9241b11720c56b351eb3b68d091666e98b46&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52821?repo=metabase/metabase&commitHash=37aa9241b11720c56b351eb3b68d091666e98b46&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52821?repo=metabase/metabase&commitHash=37aa9241b11720c56b351eb3b68d091666e98b46&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52821?repo=metabase/metabase&commitHash=37aa9241b11720c56b351eb3b68d091666e98b46&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 16559 should always show the most recent revision (metabase\\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52821?repo=metabase/metabase&commitHash=37aa9241b11720c56b351eb3b68d091666e98b46&utm_source=gh-comment&runConclusion=FAILURE&runId=8e7fc501-3565-51de-a901-7782d78ea5d8) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52821?repo=metabase/metabase&commitHash=37aa9241b11720c56b351eb3b68d091666e98b46&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 16, 53, 16, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-28 15:55:50 UTC): ## e2e tests failed on `37aa9241b11720c56b351eb3b68d091666e98b46-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13014125202?pr=52821)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)

trunk-io[bot] on (2025-01-28 16:53:16 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3702_tests-37aa9241-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52821?repo=metabase/metabase&commitHash=37aa9241b11720c56b351eb3b68d091666e98b46&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52821?repo=metabase/metabase&commitHash=37aa9241b11720c56b351eb3b68d091666e98b46&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52821?repo=metabase/metabase&commitHash=37aa9241b11720c56b351eb3b68d091666e98b46&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52821?repo=metabase/metabase&commitHash=37aa9241b11720c56b351eb3b68d091666e98b46&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 16559 should always show the most recent revision (metabase\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52821?repo=metabase/metabase&commitHash=37aa9241b11720c56b351eb3b68d091666e98b46&utm_source=gh-comment&runConclusion=FAILURE&runId=8e7fc501-3565-51de-a901-7782d78ea5d8) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52821?repo=metabase/metabase&commitHash=37aa9241b11720c56b351eb3b68d091666e98b46&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2816027723,pull_request,closed,,"refactor entity id route, extract function from component","Follow up to https://github.com/metabase/metabase/pull/52659, addressing some feedback about extracting the logic from the component",npretto,2025-01-28 15:30:20+00:00,['npretto'],2025-01-28 16:59:34+00:00,2025-01-28 16:16:44+00:00,https://github.com/metabase/metabase/pull/52820,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2619473692, 'issue_id': 2816027723, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13487_tests-9f46e7df-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52820?repo=metabase/metabase&commitHash=9f46e7df2d41ee16903835363212737f602f1ca7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52820?repo=metabase/metabase&commitHash=9f46e7df2d41ee16903835363212737f602f1ca7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52820?repo=metabase/metabase&commitHash=9f46e7df2d41ee16903835363212737f602f1ca7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52820?repo=metabase/metabase&commitHash=9f46e7df2d41ee16903835363212737f602f1ca7&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52820?repo=metabase/metabase&commitHash=9f46e7df2d41ee16903835363212737f602f1ca7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 16, 21, 25, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-28 16:21:25 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13487_tests-9f46e7df-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52820?repo=metabase/metabase&commitHash=9f46e7df2d41ee16903835363212737f602f1ca7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52820?repo=metabase/metabase&commitHash=9f46e7df2d41ee16903835363212737f602f1ca7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52820?repo=metabase/metabase&commitHash=9f46e7df2d41ee16903835363212737f602f1ca7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52820?repo=metabase/metabase&commitHash=9f46e7df2d41ee16903835363212737f602f1ca7&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52820?repo=metabase/metabase&commitHash=9f46e7df2d41ee16903835363212737f602f1ca7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2816015216,pull_request,closed,,"🤖 backported ""mark flaky ""should allow users to paginate results""""",#52816,github-automation-metabase,2025-01-28 15:26:07+00:00,"['npretto', 'github-automation-metabase']",2025-01-28 16:51:04+00:00,2025-01-28 15:51:39+00:00,https://github.com/metabase/metabase/pull/52819,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2619528920, 'issue_id': 2816015216, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3731_tests-3a07abe0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52819?repo=metabase/metabase&commitHash=3a07abe0a3b14b0f69350dd6f54f5883dd84aa49&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52819?repo=metabase/metabase&commitHash=3a07abe0a3b14b0f69350dd6f54f5883dd84aa49&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52819?repo=metabase/metabase&commitHash=3a07abe0a3b14b0f69350dd6f54f5883dd84aa49&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52819?repo=metabase/metabase&commitHash=3a07abe0a3b14b0f69350dd6f54f5883dd84aa49&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52819?repo=metabase/metabase&commitHash=3a07abe0a3b14b0f69350dd6f54f5883dd84aa49&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 16, 43, 15, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-28 16:43:15 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3731_tests-3a07abe0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52819?repo=metabase/metabase&commitHash=3a07abe0a3b14b0f69350dd6f54f5883dd84aa49&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52819?repo=metabase/metabase&commitHash=3a07abe0a3b14b0f69350dd6f54f5883dd84aa49&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52819?repo=metabase/metabase&commitHash=3a07abe0a3b14b0f69350dd6f54f5883dd84aa49&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52819?repo=metabase/metabase&commitHash=3a07abe0a3b14b0f69350dd6f54f5883dd84aa49&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52819?repo=metabase/metabase&commitHash=3a07abe0a3b14b0f69350dd6f54f5883dd84aa49&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2816007827,pull_request,closed,,"🤖 backported ""add rule to prevent unsafe element filtering""",#52432,github-automation-metabase,2025-01-28 15:23:21+00:00,"['filiphric', 'github-automation-metabase']",2025-01-30 08:28:17+00:00,2025-01-30 08:28:16+00:00,https://github.com/metabase/metabase/pull/52818,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2619359281, 'issue_id': 2816007827, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `80a99387c561c124a7ddbfe38bd0c8db1f5b8189-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13013733279?pr=52818)\n\n  File | Test Name\n  ---- | ---------\n  `native.cy.spec.js` | scenarios > native question > data reference sidebar > should show models\n`reproductions.cy.spec.js` | issue 29378 > should not crash the model detail page after searching for an action (metabase#29378)', 'created_at': datetime.datetime(2025, 1, 28, 15, 39, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619479521, 'issue_id': 2816007827, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13641_tests-80a99387-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52818?repo=metabase/metabase&commitHash=80a99387c561c124a7ddbfe38bd0c8db1f5b8189&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52818?repo=metabase/metabase&commitHash=80a99387c561c124a7ddbfe38bd0c8db1f5b8189&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52818?repo=metabase/metabase&commitHash=80a99387c561c124a7ddbfe38bd0c8db1f5b8189&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52818?repo=metabase/metabase&commitHash=80a99387c561c124a7ddbfe38bd0c8db1f5b8189&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > native question > data reference sidebar should show models</code> | Unable to find an element with the text ""2 models"" within 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52818?repo=metabase/metabase&commitHash=80a99387c561c124a7ddbfe38bd0c8db1f5b8189&utm_source=gh-comment&runConclusion=FAILURE&runId=245e7889-bf05-50ab-a224-ab16c08171bd) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 29378 should not crash the model detail page after searching for an action (metabase\\#29378)</code> | Unable to find an accessible element with the role ""option"" and name ""Update orders quantity"" within 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52818?repo=metabase/metabase&commitHash=80a99387c561c124a7ddbfe38bd0c8db1f5b8189&utm_source=gh-comment&runConclusion=FAILURE&runId=11a64662-8d8c-5a3a-a5b5-2af8d96aaa2c) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52818?repo=metabase/metabase&commitHash=80a99387c561c124a7ddbfe38bd0c8db1f5b8189&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 16, 23, 44, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-28 15:39:25 UTC): ## e2e tests failed on `80a99387c561c124a7ddbfe38bd0c8db1f5b8189-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13013733279?pr=52818)

  File | Test Name
  ---- | ---------
  `native.cy.spec.js` | scenarios > native question > data reference sidebar > should show models
`reproductions.cy.spec.js` | issue 29378 > should not crash the model detail page after searching for an action (metabase#29378)

trunk-io[bot] on (2025-01-28 16:23:44 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13641_tests-80a99387-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52818?repo=metabase/metabase&commitHash=80a99387c561c124a7ddbfe38bd0c8db1f5b8189&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52818?repo=metabase/metabase&commitHash=80a99387c561c124a7ddbfe38bd0c8db1f5b8189&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52818?repo=metabase/metabase&commitHash=80a99387c561c124a7ddbfe38bd0c8db1f5b8189&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52818?repo=metabase/metabase&commitHash=80a99387c561c124a7ddbfe38bd0c8db1f5b8189&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > native question > data reference sidebar should show models</code> | Unable to find an element with the text ""2 models"" within 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52818?repo=metabase/metabase&commitHash=80a99387c561c124a7ddbfe38bd0c8db1f5b8189&utm_source=gh-comment&runConclusion=FAILURE&runId=245e7889-bf05-50ab-a224-ab16c08171bd) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 29378 should not crash the model detail page after searching for an action (metabase\#29378)</code> | Unable to find an accessible element with the role ""option"" and name ""Update orders quantity"" within 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52818?repo=metabase/metabase&commitHash=80a99387c561c124a7ddbfe38bd0c8db1f5b8189&utm_source=gh-comment&runConclusion=FAILURE&runId=11a64662-8d8c-5a3a-a5b5-2af8d96aaa2c) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52818?repo=metabase/metabase&commitHash=80a99387c561c124a7ddbfe38bd0c8db1f5b8189&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2815878725,pull_request,closed,,"mark flaky ""should allow users to paginate results""","This test is failing with the current grouping/sharding of tests in the workers.

https://metaboat.slack.com/archives/C5XHN8GLW/p1738074238416689",npretto,2025-01-28 14:40:47+00:00,['npretto'],2025-01-28 16:15:10+00:00,2025-01-28 15:25:10+00:00,https://github.com/metabase/metabase/pull/52816,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2619244014, 'issue_id': 2815878725, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `5142a3fc4446abd77cf832315cd0136682405fb9-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13012887585?pr=52816)\n\n  File | Test Name\n  ---- | ---------\n  `permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)', 'created_at': datetime.datetime(2025, 1, 28, 14, 57, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619312694, 'issue_id': 2815878725, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3758_tests-5142a3fc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52816?repo=metabase/metabase&commitHash=5142a3fc4446abd77cf832315cd0136682405fb9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52816?repo=metabase/metabase&commitHash=5142a3fc4446abd77cf832315cd0136682405fb9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52816?repo=metabase/metabase&commitHash=5142a3fc4446abd77cf832315cd0136682405fb9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52816?repo=metabase/metabase&commitHash=5142a3fc4446abd77cf832315cd0136682405fb9&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52816?repo=metabase/metabase&commitHash=5142a3fc4446abd77cf832315cd0136682405fb9&utm_source=gh-comment&runConclusion=FAILURE&runId=e43c26d4-6ea4-5c09-803d-fb918a6d0208) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52816?repo=metabase/metabase&commitHash=5142a3fc4446abd77cf832315cd0136682405fb9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 28, 15, 22, 6, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-28 14:57:25 UTC): ## e2e tests failed on `5142a3fc4446abd77cf832315cd0136682405fb9-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13012887585?pr=52816)

  File | Test Name
  ---- | ---------
  `permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)

trunk-io[bot] on (2025-01-28 15:22:06 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3758_tests-5142a3fc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52816?repo=metabase/metabase&commitHash=5142a3fc4446abd77cf832315cd0136682405fb9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52816?repo=metabase/metabase&commitHash=5142a3fc4446abd77cf832315cd0136682405fb9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52816?repo=metabase/metabase&commitHash=5142a3fc4446abd77cf832315cd0136682405fb9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52816?repo=metabase/metabase&commitHash=5142a3fc4446abd77cf832315cd0136682405fb9&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52816?repo=metabase/metabase&commitHash=5142a3fc4446abd77cf832315cd0136682405fb9&utm_source=gh-comment&runConclusion=FAILURE&runId=e43c26d4-6ea4-5c09-803d-fb918a6d0208) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52816?repo=metabase/metabase&commitHash=5142a3fc4446abd77cf832315cd0136682405fb9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2815878157,pull_request,closed,,"🤖 backported ""Slightly tweaked the font size in gauge to make sure middle label is always visible""",#52740,github-automation-metabase,2025-01-28 14:40:33+00:00,"['lorem--ipsum', 'github-automation-metabase']",2025-01-29 10:20:27+00:00,2025-01-29 09:40:22+00:00,https://github.com/metabase/metabase/pull/52815,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2619198681, 'issue_id': 2815878157, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff dcdf5e876737e4701d4f611fb751abc9ff527932...fe9c0b1b58d536567c1a4121ddb4e442d6a1604c.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/visualizations/Gauge/Gauge.jsx |', 'created_at': datetime.datetime(2025, 1, 28, 14, 42, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619308926, 'issue_id': 2815878157, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13548_tests-fe9c0b1b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52815?repo=metabase/metabase&commitHash=fe9c0b1b58d536567c1a4121ddb4e442d6a1604c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52815?repo=metabase/metabase&commitHash=fe9c0b1b58d536567c1a4121ddb4e442d6a1604c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52815?repo=metabase/metabase&commitHash=fe9c0b1b58d536567c1a4121ddb4e442d6a1604c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52815?repo=metabase/metabase&commitHash=fe9c0b1b58d536567c1a4121ddb4e442d6a1604c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>question loading changes document title should verify document title changes while loading a slow question (metabase\\#40051)</code> | The expected text 'Doing science... · Metabase' was not matched with the actual text 'Question · Metabase' within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52815?repo=metabase/metabase&commitHash=fe9c0b1b58d536567c1a4121ddb4e442d6a1604c&utm_source=gh-comment&runConclusion=FAILURE&runId=191724e1-568d-51c7-b4ed-61785404c902) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52815?repo=metabase/metabase&commitHash=fe9c0b1b58d536567c1a4121ddb4e442d6a1604c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 28, 15, 20, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621098466, 'issue_id': 2815878157, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `fe9c0b1b58d536567c1a4121ddb4e442d6a1604c-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13027868793?pr=52815)\n\n  File | Test Name\n  ---- | ---------\n  `document-title.cy.spec.js` | question loading changes document title > should verify document title changes while loading a slow question (metabase#40051)', 'created_at': datetime.datetime(2025, 1, 29, 9, 22, 22, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-28 14:42:08 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff dcdf5e876737e4701d4f611fb751abc9ff527932...fe9c0b1b58d536567c1a4121ddb4e442d6a1604c.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/visualizations/Gauge/Gauge.jsx |

trunk-io[bot] on (2025-01-28 15:20:38 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13548_tests-fe9c0b1b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52815?repo=metabase/metabase&commitHash=fe9c0b1b58d536567c1a4121ddb4e442d6a1604c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52815?repo=metabase/metabase&commitHash=fe9c0b1b58d536567c1a4121ddb4e442d6a1604c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52815?repo=metabase/metabase&commitHash=fe9c0b1b58d536567c1a4121ddb4e442d6a1604c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52815?repo=metabase/metabase&commitHash=fe9c0b1b58d536567c1a4121ddb4e442d6a1604c&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>question loading changes document title should verify document title changes while loading a slow question (metabase\#40051)</code> | The expected text 'Doing science... · Metabase' was not matched with the actual text 'Question · Metabase' within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52815?repo=metabase/metabase&commitHash=fe9c0b1b58d536567c1a4121ddb4e442d6a1604c&utm_source=gh-comment&runConclusion=FAILURE&runId=191724e1-568d-51c7-b4ed-61785404c902) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52815?repo=metabase/metabase&commitHash=fe9c0b1b58d536567c1a4121ddb4e442d6a1604c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-29 09:22:22 UTC): ## e2e tests failed on `fe9c0b1b58d536567c1a4121ddb4e442d6a1604c-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13027868793?pr=52815)

  File | Test Name
  ---- | ---------
  `document-title.cy.spec.js` | question loading changes document title > should verify document title changes while loading a slow question (metabase#40051)

"
2815854320,pull_request,closed,,Fix - Converting a model to SQL and adding a variable doesn't let you change variable type,"Fixes #50662

### Description

Describe the overall approach and the problem being solved.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> ...
2. ...

### Demo

_Upload a demo video or before/after screenshots if sensible or remove the section_

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",kamilmielnik,2025-01-28 14:32:42+00:00,['kamilmielnik'],2025-01-29 14:38:45+00:00,2025-01-29 14:38:41+00:00,https://github.com/metabase/metabase/pull/52814,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2621837648, 'issue_id': 2815854320, 'author': 'kamilmielnik', 'body': 'Abandoning for now, see https://github.com/metabase/metabase/issues/50662#issuecomment-2621836971', 'created_at': datetime.datetime(2025, 1, 29, 14, 38, 42, tzinfo=datetime.timezone.utc)}]","kamilmielnik (Issue Creator) on (2025-01-29 14:38:42 UTC): Abandoning for now, see https://github.com/metabase/metabase/issues/50662#issuecomment-2621836971

"
2815771620,pull_request,closed,,"🤖 backported ""Build releases on java 21 for 53""",#52795,github-automation-metabase,2025-01-28 14:02:40+00:00,"['iethree', 'github-automation-metabase']",2025-01-28 14:03:43+00:00,2025-01-28 14:03:42+00:00,https://github.com/metabase/metabase/pull/52813,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2815513599,pull_request,closed,,[csv-export] Follow-up optimizations to CSV pivotted export,"A follow-up to #52551. That PR already did most of the work to fix the high memory watermark when generating CSV export with the pivot. This PR brings another ~2x improvement to seal the deal.

Notable changes:

1. `build-row`, the hottest function of the module, is rewritten to an explicit loop. This avoids lambda allocations that happen when nested `map` or `run!` loops are involved. Besides, the iterators are now also escape-analyzed away.
2. Cached intermediate values in auxiliary functions: `build-column-totals`, `build-grand-totals`.
3. Optimized the final mapv fo the `build-pivot-output`.
",alexander-yakushev,2025-01-28 12:27:29+00:00,['alexander-yakushev'],2025-02-02 09:25:04+00:00,2025-02-02 08:41:33+00:00,https://github.com/metabase/metabase/pull/52810,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2618925603, 'issue_id': 2815513599, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/97251_tests-b4bc6bdd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52810?repo=metabase/metabase&commitHash=b4bc6bdda162eb3c55c39f21dfb2edeb2672f1fa&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52810?repo=metabase/metabase&commitHash=b4bc6bdda162eb3c55c39f21dfb2edeb2672f1fa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/9-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52810?repo=metabase/metabase&commitHash=b4bc6bdda162eb3c55c39f21dfb2edeb2672f1fa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52810?repo=metabase/metabase&commitHash=b4bc6bdda162eb3c55c39f21dfb2edeb2672f1fa&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52810?repo=metabase/metabase&commitHash=b4bc6bdda162eb3c55c39f21dfb2edeb2672f1fa&utm_source=gh-comment&runConclusion=FAILURE&runId=4e7e8924-41cf-5edc-9837-9f8dde4eda1f) |\n| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and \'Browse databases\' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52810?repo=metabase/metabase&commitHash=b4bc6bdda162eb3c55c39f21dfb2edeb2672f1fa&utm_source=gh-comment&runConclusion=FAILURE&runId=0022a64c-c389-565f-a13c-f96ca2dff9f3) |\n| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52810?repo=metabase/metabase&commitHash=b4bc6bdda162eb3c55c39f21dfb2edeb2672f1fa&utm_source=gh-comment&runConclusion=FAILURE&runId=cbd69440-ac16-5cd5-bd64-c4f8535a1694) |\n| <code>scenarios > model indexes should not reload the model for record in the same model</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52810?repo=metabase/metabase&commitHash=b4bc6bdda162eb3c55c39f21dfb2edeb2672f1fa&utm_source=gh-comment&runConclusion=FAILURE&runId=fcbe3d3e-b79e-5936-bf07-6cae3e1bb21a) |\n\n[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52810?repo=metabase/metabase&commitHash=b4bc6bdda162eb3c55c39f21dfb2edeb2672f1fa&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52810?repo=metabase/metabase&commitHash=b4bc6bdda162eb3c55c39f21dfb2edeb2672f1fa&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 12, 55, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629093974, 'issue_id': 2815513599, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `b4bc6bdda162eb3c55c39f21dfb2edeb2672f1fa-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13091919264?pr=52810)\n\n  File | Test Name\n  ---- | ---------\n  `model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model\n`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette\n`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link\n`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results"", 'created_at': datetime.datetime(2025, 2, 1, 20, 8, 24, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-28 12:55:14 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/97251_tests-b4bc6bdd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52810?repo=metabase/metabase&commitHash=b4bc6bdda162eb3c55c39f21dfb2edeb2672f1fa&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52810?repo=metabase/metabase&commitHash=b4bc6bdda162eb3c55c39f21dfb2edeb2672f1fa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/9-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52810?repo=metabase/metabase&commitHash=b4bc6bdda162eb3c55c39f21dfb2edeb2672f1fa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52810?repo=metabase/metabase&commitHash=b4bc6bdda162eb3c55c39f21dfb2edeb2672f1fa&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52810?repo=metabase/metabase&commitHash=b4bc6bdda162eb3c55c39f21dfb2edeb2672f1fa&utm_source=gh-comment&runConclusion=FAILURE&runId=4e7e8924-41cf-5edc-9837-9f8dde4eda1f) |
| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and 'Browse databases' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52810?repo=metabase/metabase&commitHash=b4bc6bdda162eb3c55c39f21dfb2edeb2672f1fa&utm_source=gh-comment&runConclusion=FAILURE&runId=0022a64c-c389-565f-a13c-f96ca2dff9f3) |
| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52810?repo=metabase/metabase&commitHash=b4bc6bdda162eb3c55c39f21dfb2edeb2672f1fa&utm_source=gh-comment&runConclusion=FAILURE&runId=cbd69440-ac16-5cd5-bd64-c4f8535a1694) |
| <code>scenarios > model indexes should not reload the model for record in the same model</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52810?repo=metabase/metabase&commitHash=b4bc6bdda162eb3c55c39f21dfb2edeb2672f1fa&utm_source=gh-comment&runConclusion=FAILURE&runId=fcbe3d3e-b79e-5936-bf07-6cae3e1bb21a) |

[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52810?repo=metabase/metabase&commitHash=b4bc6bdda162eb3c55c39f21dfb2edeb2672f1fa&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52810?repo=metabase/metabase&commitHash=b4bc6bdda162eb3c55c39f21dfb2edeb2672f1fa&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-02-01 20:08:24 UTC): ## e2e tests failed on `b4bc6bdda162eb3c55c39f21dfb2edeb2672f1fa-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13091919264?pr=52810)

  File | Test Name
  ---- | ---------
  `model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model
`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette
`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link
`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results

"
2815447428,pull_request,closed,,fix: some css variables were not defined,"### Description

We were referencing some css variables that aren't defined, this PR changes them to the closest css variable I found.
It seems like we were lucky and even though those vars were not defined, everything showed up correctly because of some css behaviors. In the cases I tested, removing the value (as opposed to pass the undefined css var) was making the component use the wrong color though.

These vars css vars were found by a script, I'll create a separate PR to add that script.

### How to verify
Everything should look as before/correct, but without undefined css variables


",npretto,2025-01-28 12:00:03+00:00,['npretto'],2025-01-29 09:17:36+00:00,2025-01-28 16:18:45+00:00,https://github.com/metabase/metabase/pull/52808,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2618810746, 'issue_id': 2815447428, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@npretto You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2025, 1, 28, 12, 2, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618908630, 'issue_id': 2815447428, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13583_tests-c5b46432-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52808?repo=metabase/metabase&commitHash=c5b46432dc41fd5783ab487fd4a65ca56a74b4a8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52808?repo=metabase/metabase&commitHash=c5b46432dc41fd5783ab487fd4a65ca56a74b4a8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52808?repo=metabase/metabase&commitHash=c5b46432dc41fd5783ab487fd4a65ca56a74b4a8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52808?repo=metabase/metabase&commitHash=c5b46432dc41fd5783ab487fd4a65ca56a74b4a8&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52808?repo=metabase/metabase&commitHash=c5b46432dc41fd5783ab487fd4a65ca56a74b4a8&utm_source=gh-comment&runConclusion=FAILURE&runId=cd0f09ac-ee03-5b65-a8ff-bc92725c1a69) |\n| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52808?repo=metabase/metabase&commitHash=c5b46432dc41fd5783ab487fd4a65ca56a74b4a8&utm_source=gh-comment&runConclusion=FAILURE&runId=9a99e524-5a41-50f4-8686-5303dcebb231) |\n| <code>scenarios > questions > entity id support /question/entity/${entity\\_id} should redirect to /question/${id}</code> | The expected URL did not include the expected path \'/question/82\' after 4000ms of waiting. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52808?repo=metabase/metabase&commitHash=c5b46432dc41fd5783ab487fd4a65ca56a74b4a8&utm_source=gh-comment&runConclusion=FAILURE&runId=bca27e3b-e95a-50db-aef7-5cc8106d0930) |\n| <code>scenarios > questions > entity id support /question/entity/${entity\\_id}/notebook should redirect to /question/${id}/notebook</code> | The expected URL was not found within the expected time, containing \'/question/82/notebook\' substring. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52808?repo=metabase/metabase&commitHash=c5b46432dc41fd5783ab487fd4a65ca56a74b4a8&utm_source=gh-comment&runConclusion=FAILURE&runId=b8151432-368c-5b65-a310-cd73ec390052) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52808?repo=metabase/metabase&commitHash=c5b46432dc41fd5783ab487fd4a65ca56a74b4a8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 12, 47, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619370610, 'issue_id': 2815447428, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `c5b46432dc41fd5783ab487fd4a65ca56a74b4a8-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13013798296?pr=52808)\n\n  File | Test Name\n  ---- | ---------\n  `questions-entity-id.cy.spec.ts` | scenarios > questions > entity id support > /question/entity/${entity_id} should redirect to /question/${id}\n`questions-entity-id.cy.spec.ts` | scenarios > questions > entity id support > /question/entity/${entity_id}/notebook should redirect to /question/${id}/notebook\n`search.cy.spec.js` | scenarios > search > universal search > should render a preview of markdown descriptions\n`search.cy.spec.js` | scenarios > search > universal search > should not overflow container if results contain descriptions with large unborken strings', 'created_at': datetime.datetime(2025, 1, 28, 15, 43, 50, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-28 12:02:21 UTC): <!---conventional commit reminder comment ID-->
@npretto You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

trunk-io[bot] on (2025-01-28 12:47:34 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13583_tests-c5b46432-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52808?repo=metabase/metabase&commitHash=c5b46432dc41fd5783ab487fd4a65ca56a74b4a8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52808?repo=metabase/metabase&commitHash=c5b46432dc41fd5783ab487fd4a65ca56a74b4a8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52808?repo=metabase/metabase&commitHash=c5b46432dc41fd5783ab487fd4a65ca56a74b4a8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52808?repo=metabase/metabase&commitHash=c5b46432dc41fd5783ab487fd4a65ca56a74b4a8&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52808?repo=metabase/metabase&commitHash=c5b46432dc41fd5783ab487fd4a65ca56a74b4a8&utm_source=gh-comment&runConclusion=FAILURE&runId=cd0f09ac-ee03-5b65-a8ff-bc92725c1a69) |
| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52808?repo=metabase/metabase&commitHash=c5b46432dc41fd5783ab487fd4a65ca56a74b4a8&utm_source=gh-comment&runConclusion=FAILURE&runId=9a99e524-5a41-50f4-8686-5303dcebb231) |
| <code>scenarios > questions > entity id support /question/entity/${entity\_id} should redirect to /question/${id}</code> | The expected URL did not include the expected path '/question/82' after 4000ms of waiting. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52808?repo=metabase/metabase&commitHash=c5b46432dc41fd5783ab487fd4a65ca56a74b4a8&utm_source=gh-comment&runConclusion=FAILURE&runId=bca27e3b-e95a-50db-aef7-5cc8106d0930) |
| <code>scenarios > questions > entity id support /question/entity/${entity\_id}/notebook should redirect to /question/${id}/notebook</code> | The expected URL was not found within the expected time, containing '/question/82/notebook' substring. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52808?repo=metabase/metabase&commitHash=c5b46432dc41fd5783ab487fd4a65ca56a74b4a8&utm_source=gh-comment&runConclusion=FAILURE&runId=b8151432-368c-5b65-a310-cd73ec390052) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52808?repo=metabase/metabase&commitHash=c5b46432dc41fd5783ab487fd4a65ca56a74b4a8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-28 15:43:50 UTC): ## e2e tests failed on `c5b46432dc41fd5783ab487fd4a65ca56a74b4a8-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13013798296?pr=52808)

  File | Test Name
  ---- | ---------
  `questions-entity-id.cy.spec.ts` | scenarios > questions > entity id support > /question/entity/${entity_id} should redirect to /question/${id}
`questions-entity-id.cy.spec.ts` | scenarios > questions > entity id support > /question/entity/${entity_id}/notebook should redirect to /question/${id}/notebook
`search.cy.spec.js` | scenarios > search > universal search > should render a preview of markdown descriptions
`search.cy.spec.js` | scenarios > search > universal search > should not overflow container if results contain descriptions with large unborken strings

"
2815405651,pull_request,closed,,chore: cleanup storybook patches,"[context](https://metaboat.slack.com/archives/C505ZNNH4/p1738064226940219?thread_ts=1737989096.379269&cid=C505ZNNH4)

### Description

- Remove a patch that is not needed after upgrade to storybook v8
- deduplicate terser and webpack",uladzimirdev,2025-01-28 11:46:14+00:00,['uladzimirdev'],2025-01-29 10:22:46+00:00,2025-01-29 10:22:43+00:00,https://github.com/metabase/metabase/pull/52805,"[('visual', 'Run Percy visual testing'), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', ''), ('chromatic', '')]","[{'comment_id': 2618901101, 'issue_id': 2815405651, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13722_tests-3c8464ef-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52805?repo=metabase/metabase&commitHash=3c8464ef629cec8814a645b90e7e93e0f355b9c7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52805?repo=metabase/metabase&commitHash=3c8464ef629cec8814a645b90e7e93e0f355b9c7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52805?repo=metabase/metabase&commitHash=3c8464ef629cec8814a645b90e7e93e0f355b9c7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52805?repo=metabase/metabase&commitHash=3c8464ef629cec8814a645b90e7e93e0f355b9c7&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 29378 should not crash the model detail page after searching for an action (metabase\\#29378)</code> | Unable to find an accessible element with the role ""option"" and name ""Update orders quantity"" within 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52805?repo=metabase/metabase&commitHash=3c8464ef629cec8814a645b90e7e93e0f355b9c7&utm_source=gh-comment&runConclusion=FAILURE&runId=5bf1bb5a-a3d5-5b0e-a629-8074b9ecdba5) |\n| <code>scenarios > native question > data reference sidebar should show models</code> | Unable to find an element with the text ""2 models"" within 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52805?repo=metabase/metabase&commitHash=3c8464ef629cec8814a645b90e7e93e0f355b9c7&utm_source=gh-comment&runConclusion=FAILURE&runId=1083eb81-154f-5357-9d72-e827e38369a5) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > model indexes should be able to see details of a record outside the first 2000</code> | Unable to find an accessible element with the role ""option"" and name ""Anais Zieme"" after 4000ms timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52805?repo=metabase/metabase&commitHash=3c8464ef629cec8814a645b90e7e93e0f355b9c7&utm_source=gh-comment&runConclusion=FAILURE&runId=03a1e870-48e7-5166-af42-b0b03e7e7c98) |\n| <code>scenarios > model indexes should be able to search model index values and visit detail records</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52805?repo=metabase/metabase&commitHash=3c8464ef629cec8814a645b90e7e93e0f355b9c7&utm_source=gh-comment&runConclusion=FAILURE&runId=7bc3739e-c632-52a0-8725-53d0ce2a91a8) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52805?repo=metabase/metabase&commitHash=3c8464ef629cec8814a645b90e7e93e0f355b9c7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 12, 44, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620893408, 'issue_id': 2815405651, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `3c8464ef629cec8814a645b90e7e93e0f355b9c7-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13026380660?pr=52805)\n\n  File | Test Name\n  ---- | ---------\n  `native.cy.spec.js` | scenarios > native question > data reference sidebar > should show models\n`model-indexes.cy.spec.js` | scenarios > model indexes > should be able to search model index values and visit detail records\n`model-indexes.cy.spec.js` | scenarios > model indexes > should be able to see details of a record outside the first 2000\n`reproductions.cy.spec.js` | issue 29378 > should not crash the model detail page after searching for an action (metabase#29378)', 'created_at': datetime.datetime(2025, 1, 29, 7, 32, 7, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-28 12:44:13 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13722_tests-3c8464ef-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52805?repo=metabase/metabase&commitHash=3c8464ef629cec8814a645b90e7e93e0f355b9c7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52805?repo=metabase/metabase&commitHash=3c8464ef629cec8814a645b90e7e93e0f355b9c7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52805?repo=metabase/metabase&commitHash=3c8464ef629cec8814a645b90e7e93e0f355b9c7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52805?repo=metabase/metabase&commitHash=3c8464ef629cec8814a645b90e7e93e0f355b9c7&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 29378 should not crash the model detail page after searching for an action (metabase\#29378)</code> | Unable to find an accessible element with the role ""option"" and name ""Update orders quantity"" within 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52805?repo=metabase/metabase&commitHash=3c8464ef629cec8814a645b90e7e93e0f355b9c7&utm_source=gh-comment&runConclusion=FAILURE&runId=5bf1bb5a-a3d5-5b0e-a629-8074b9ecdba5) |
| <code>scenarios > native question > data reference sidebar should show models</code> | Unable to find an element with the text ""2 models"" within 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52805?repo=metabase/metabase&commitHash=3c8464ef629cec8814a645b90e7e93e0f355b9c7&utm_source=gh-comment&runConclusion=FAILURE&runId=1083eb81-154f-5357-9d72-e827e38369a5) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > model indexes should be able to see details of a record outside the first 2000</code> | Unable to find an accessible element with the role ""option"" and name ""Anais Zieme"" after 4000ms timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52805?repo=metabase/metabase&commitHash=3c8464ef629cec8814a645b90e7e93e0f355b9c7&utm_source=gh-comment&runConclusion=FAILURE&runId=03a1e870-48e7-5166-af42-b0b03e7e7c98) |
| <code>scenarios > model indexes should be able to search model index values and visit detail records</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52805?repo=metabase/metabase&commitHash=3c8464ef629cec8814a645b90e7e93e0f355b9c7&utm_source=gh-comment&runConclusion=FAILURE&runId=7bc3739e-c632-52a0-8725-53d0ce2a91a8) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52805?repo=metabase/metabase&commitHash=3c8464ef629cec8814a645b90e7e93e0f355b9c7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-29 07:32:07 UTC): ## e2e tests failed on `3c8464ef629cec8814a645b90e7e93e0f355b9c7-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13026380660?pr=52805)

  File | Test Name
  ---- | ---------
  `native.cy.spec.js` | scenarios > native question > data reference sidebar > should show models
`model-indexes.cy.spec.js` | scenarios > model indexes > should be able to search model index values and visit detail records
`model-indexes.cy.spec.js` | scenarios > model indexes > should be able to see details of a record outside the first 2000
`reproductions.cy.spec.js` | issue 29378 > should not crash the model detail page after searching for an action (metabase#29378)

"
2815271888,pull_request,closed,,"🤖 backported ""Account for DATEFIRST in sql server""",#52636,github-automation-metabase,2025-01-28 10:48:09+00:00,"['wzimrin', 'github-automation-metabase']",2025-01-28 12:13:34+00:00,2025-01-28 11:27:19+00:00,https://github.com/metabase/metabase/pull/52803,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2618683579, 'issue_id': 2815271888, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `d72ce28cbcc53b0b65a9af9d4d2c2431d96cede7-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13008779260?pr=52803)\n\n  File | Test Name\n  ---- | ---------\n  `official-collections.cy.spec.js` | official collections > premium token with paid features > displays official badge throughout the application\n`official-collections.cy.spec.js` | official collections > token expired or removed > should not display official collection icon anymore', 'created_at': datetime.datetime(2025, 1, 28, 11, 6, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618714180, 'issue_id': 2815271888, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/97096_tests-d72ce28c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52803?repo=metabase/metabase&commitHash=d72ce28cbcc53b0b65a9af9d4d2c2431d96cede7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/9-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52803?repo=metabase/metabase&commitHash=d72ce28cbcc53b0b65a9af9d4d2c2431d96cede7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52803?repo=metabase/metabase&commitHash=d72ce28cbcc53b0b65a9af9d4d2c2431d96cede7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52803?repo=metabase/metabase&commitHash=d72ce28cbcc53b0b65a9af9d4d2c2431d96cede7&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>An uncaught error was detected outside of a test</code> | The \'@metabase/embedding-sdk-react\' module was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52803?repo=metabase/metabase&commitHash=d72ce28cbcc53b0b65a9af9d4d2c2431d96cede7&utm_source=gh-comment&runConclusion=FAILURE&runId=c5b8ae7b-78cb-516f-81a5-777a6b9e79ff) |\n| <code>An uncaught error was detected outside of a test</code> | The \'@metabase/embedding-sdk-react\' module was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52803?repo=metabase/metabase&commitHash=d72ce28cbcc53b0b65a9af9d4d2c2431d96cede7&utm_source=gh-comment&runConclusion=FAILURE&runId=83f3646c-861c-55d7-84d9-702b5919085a) |\n| <code>An uncaught error was detected outside of a test</code> | The \'@metabase/embedding-sdk-react\' module was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52803?repo=metabase/metabase&commitHash=d72ce28cbcc53b0b65a9af9d4d2c2431d96cede7&utm_source=gh-comment&runConclusion=FAILURE&runId=42aaed9c-bb96-5876-9105-b061d8373a50) |\n| <code>An uncaught error was detected outside of a test</code> | The \'@metabase/embedding-sdk-react\' module was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52803?repo=metabase/metabase&commitHash=d72ce28cbcc53b0b65a9af9d4d2c2431d96cede7&utm_source=gh-comment&runConclusion=FAILURE&runId=ca6de900-14bf-52e9-86a8-f55d9c1410eb) |\n\n[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52803?repo=metabase/metabase&commitHash=d72ce28cbcc53b0b65a9af9d4d2c2431d96cede7&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>official collections token expired or removed should not display official collection icon anymore</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52803?repo=metabase/metabase&commitHash=d72ce28cbcc53b0b65a9af9d4d2c2431d96cede7&utm_source=gh-comment&runConclusion=FAILURE&runId=3987b97a-50d2-5007-8e88-8c73ea898dd4) |\n| <code>official collections premium token with paid features displays official badge throughout the application</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52803?repo=metabase/metabase&commitHash=d72ce28cbcc53b0b65a9af9d4d2c2431d96cede7&utm_source=gh-comment&runConclusion=FAILURE&runId=0e70e5f2-7d44-54b1-80c1-46afe1a26de7) |\n| <code>e2e-storage-ingestion-test</code> | Expected a specific entity, but got a different one instead. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52803?repo=metabase/metabase&commitHash=d72ce28cbcc53b0b65a9af9d4d2c2431d96cede7&utm_source=gh-comment&runConclusion=FAILURE&runId=8fb39478-2e46-5f86-8bae-c6de0aaf3694) |\n| <code>dashcard-editable-query-params-test</code> | Error occurred while executing a query due to an aborted transaction. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52803?repo=metabase/metabase&commitHash=d72ce28cbcc53b0b65a9af9d4d2c2431d96cede7&utm_source=gh-comment&runConclusion=FAILURE&runId=f83c66c2-f18f-51e6-a58f-fe58ca093cbd) |\n\n[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52803?repo=metabase/metabase&commitHash=d72ce28cbcc53b0b65a9af9d4d2c2431d96cede7&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52803?repo=metabase/metabase&commitHash=d72ce28cbcc53b0b65a9af9d4d2c2431d96cede7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 11, 20, 44, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-28 11:06:17 UTC): ## e2e tests failed on `d72ce28cbcc53b0b65a9af9d4d2c2431d96cede7-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13008779260?pr=52803)

  File | Test Name
  ---- | ---------
  `official-collections.cy.spec.js` | official collections > premium token with paid features > displays official badge throughout the application
`official-collections.cy.spec.js` | official collections > token expired or removed > should not display official collection icon anymore

trunk-io[bot] on (2025-01-28 11:20:44 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/97096_tests-d72ce28c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52803?repo=metabase/metabase&commitHash=d72ce28cbcc53b0b65a9af9d4d2c2431d96cede7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/9-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52803?repo=metabase/metabase&commitHash=d72ce28cbcc53b0b65a9af9d4d2c2431d96cede7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52803?repo=metabase/metabase&commitHash=d72ce28cbcc53b0b65a9af9d4d2c2431d96cede7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52803?repo=metabase/metabase&commitHash=d72ce28cbcc53b0b65a9af9d4d2c2431d96cede7&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52803?repo=metabase/metabase&commitHash=d72ce28cbcc53b0b65a9af9d4d2c2431d96cede7&utm_source=gh-comment&runConclusion=FAILURE&runId=c5b8ae7b-78cb-516f-81a5-777a6b9e79ff) |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52803?repo=metabase/metabase&commitHash=d72ce28cbcc53b0b65a9af9d4d2c2431d96cede7&utm_source=gh-comment&runConclusion=FAILURE&runId=83f3646c-861c-55d7-84d9-702b5919085a) |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52803?repo=metabase/metabase&commitHash=d72ce28cbcc53b0b65a9af9d4d2c2431d96cede7&utm_source=gh-comment&runConclusion=FAILURE&runId=42aaed9c-bb96-5876-9105-b061d8373a50) |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52803?repo=metabase/metabase&commitHash=d72ce28cbcc53b0b65a9af9d4d2c2431d96cede7&utm_source=gh-comment&runConclusion=FAILURE&runId=ca6de900-14bf-52e9-86a8-f55d9c1410eb) |

[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52803?repo=metabase/metabase&commitHash=d72ce28cbcc53b0b65a9af9d4d2c2431d96cede7&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>official collections token expired or removed should not display official collection icon anymore</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52803?repo=metabase/metabase&commitHash=d72ce28cbcc53b0b65a9af9d4d2c2431d96cede7&utm_source=gh-comment&runConclusion=FAILURE&runId=3987b97a-50d2-5007-8e88-8c73ea898dd4) |
| <code>official collections premium token with paid features displays official badge throughout the application</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52803?repo=metabase/metabase&commitHash=d72ce28cbcc53b0b65a9af9d4d2c2431d96cede7&utm_source=gh-comment&runConclusion=FAILURE&runId=0e70e5f2-7d44-54b1-80c1-46afe1a26de7) |
| <code>e2e-storage-ingestion-test</code> | Expected a specific entity, but got a different one instead. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52803?repo=metabase/metabase&commitHash=d72ce28cbcc53b0b65a9af9d4d2c2431d96cede7&utm_source=gh-comment&runConclusion=FAILURE&runId=8fb39478-2e46-5f86-8bae-c6de0aaf3694) |
| <code>dashcard-editable-query-params-test</code> | Error occurred while executing a query due to an aborted transaction. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52803?repo=metabase/metabase&commitHash=d72ce28cbcc53b0b65a9af9d4d2c2431d96cede7&utm_source=gh-comment&runConclusion=FAILURE&runId=f83c66c2-f18f-51e6-a58f-fe58ca093cbd) |

[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52803?repo=metabase/metabase&commitHash=d72ce28cbcc53b0b65a9af9d4d2c2431d96cede7&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52803?repo=metabase/metabase&commitHash=d72ce28cbcc53b0b65a9af9d4d2c2431d96cede7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2815241583,pull_request,closed,,"🤖 backported ""ci(sdk): embedding e2e workflow fixes for 53 branch""",#52800,github-automation-metabase,2025-01-28 10:34:21+00:00,"['WiNloSt', 'github-automation-metabase']",2025-01-28 11:47:54+00:00,2025-01-28 10:57:54+00:00,https://github.com/metabase/metabase/pull/52802,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2618636321, 'issue_id': 2815241583, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `4245c8fcbd33646e274aca432dcdac162f11f28d-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13008544182?pr=52802)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)', 'created_at': datetime.datetime(2025, 1, 28, 10, 46, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618712382, 'issue_id': 2815241583, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/29_tests-aaf5ec3e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52802?repo=metabase/metabase&commitHash=aaf5ec3ed4cc7c6033eadf1b56f6ca9ac0efca95&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52802?repo=metabase/metabase&commitHash=aaf5ec3ed4cc7c6033eadf1b56f6ca9ac0efca95&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52802?repo=metabase/metabase&commitHash=aaf5ec3ed4cc7c6033eadf1b56f6ca9ac0efca95&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52802?repo=metabase/metabase&commitHash=aaf5ec3ed4cc7c6033eadf1b56f6ca9ac0efca95&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52802?repo=metabase/metabase&commitHash=aaf5ec3ed4cc7c6033eadf1b56f6ca9ac0efca95&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 11, 19, 54, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-28 10:46:14 UTC): ## e2e tests failed on `4245c8fcbd33646e274aca432dcdac162f11f28d-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13008544182?pr=52802)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)

trunk-io[bot] on (2025-01-28 11:19:54 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/29_tests-aaf5ec3e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52802?repo=metabase/metabase&commitHash=aaf5ec3ed4cc7c6033eadf1b56f6ca9ac0efca95&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52802?repo=metabase/metabase&commitHash=aaf5ec3ed4cc7c6033eadf1b56f6ca9ac0efca95&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52802?repo=metabase/metabase&commitHash=aaf5ec3ed4cc7c6033eadf1b56f6ca9ac0efca95&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52802?repo=metabase/metabase&commitHash=aaf5ec3ed4cc7c6033eadf1b56f6ca9ac0efca95&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52802?repo=metabase/metabase&commitHash=aaf5ec3ed4cc7c6033eadf1b56f6ca9ac0efca95&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2815173311,pull_request,closed,,"🤖 backported ""support entity ids with /entity/ routes""",#52659,github-automation-metabase,2025-01-28 10:04:20+00:00,"['npretto', 'github-automation-metabase']",2025-01-28 12:47:27+00:00,2025-01-28 11:47:21+00:00,https://github.com/metabase/metabase/pull/52801,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2618643025, 'issue_id': 2815173311, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13440_tests-ca77d2bc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52801?repo=metabase/metabase&commitHash=ca77d2bc5a94b528df468a90d40a85941a71846d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52801?repo=metabase/metabase&commitHash=ca77d2bc5a94b528df468a90d40a85941a71846d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52801?repo=metabase/metabase&commitHash=ca77d2bc5a94b528df468a90d40a85941a71846d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52801?repo=metabase/metabase&commitHash=ca77d2bc5a94b528df468a90d40a85941a71846d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52801?repo=metabase/metabase&commitHash=ca77d2bc5a94b528df468a90d40a85941a71846d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 10, 48, 58, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-28 10:48:58 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13440_tests-ca77d2bc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52801?repo=metabase/metabase&commitHash=ca77d2bc5a94b528df468a90d40a85941a71846d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52801?repo=metabase/metabase&commitHash=ca77d2bc5a94b528df468a90d40a85941a71846d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52801?repo=metabase/metabase&commitHash=ca77d2bc5a94b528df468a90d40a85941a71846d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52801?repo=metabase/metabase&commitHash=ca77d2bc5a94b528df468a90d40a85941a71846d&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52801?repo=metabase/metabase&commitHash=ca77d2bc5a94b528df468a90d40a85941a71846d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2815121026,pull_request,closed,,ci(sdk): embedding e2e workflow fixes for 53 branch,"[Reported on Slack](https://metaboat.slack.com/archives/C063Q3F1HPF/p1738021481084029)
This fix the problem where all SDK cross-version testing fail on release 53 branch.

### Backport reason
We need to backport this to 53, since we fixed this issue directly on release 52 (https://github.com/metabase/metabase/pull/51268) and never ported it back to master, so I fix this on master now, and we won't have the same problem again when cutting 54.

### Description

Describe the overall approach and the problem being solved.

### How to verify

We need to test 2 scenarios.
1. When testing locally
2. When testing on CI

And test them on 2 branches.
1. This PR
2. `master`

#### Testing locally
- Run `yarn test-cypress-run-component-sdk`
- You should see these 2 lines in the console
    ```
    Embedding SDK is NOT installed, using locally built version from ""resources/embedding-sdk""
    Embedding SDK path alias is resolved to /Users/<username>/workspace/metabase/resources/embedding-sdk/dist/main.bundle.js
    ```

That means it's using the local build of the SDK when running tests locally.

#### Testing CI
- Run `yarn add @metabase/embedding-sdk-react` (the version doesn't matter)
- Run `yarn test-cypress-run-component-sdk`
- You should see these 2 lines in the console
    ```
    Embedding SDK is installed
    Embedding SDK path alias is resolved to /Users/<username>/workspace/metabase/node_modules/@metabase/embedding-sdk-react
    ```

That means when we're on CI, we'll use the installed version of the SDK.

**Now do the test again** on `master`. On both scenarios you should only get `Embedding SDK is NOT installed`, that's why the release on branch 53 failed.

### Checklist

- [ ] ~Tests have been added/updated to cover changes in this PR~
",WiNloSt,2025-01-28 09:45:28+00:00,['WiNloSt'],2025-01-28 11:16:40+00:00,2025-01-28 10:33:30+00:00,https://github.com/metabase/metabase/pull/52800,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2618531710, 'issue_id': 2815121026, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `228843f0e65977aba9c6809654df60d0bddc7437-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13007682289?pr=52800)\n\n  File | Test Name\n  ---- | ---------\n  `search-pagination.cy.spec.js` | scenarios > search > should allow users to paginate results', 'created_at': datetime.datetime(2025, 1, 28, 10, 3, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618537238, 'issue_id': 2815121026, 'author': 'WiNloSt', 'body': ""> Thanks Kelvin! The backport (more like a forward-port) looks correct 🙏🏻\r\n\r\nI thought about that, haha. Not sure that's what's the exact term for backporting forward 😆"", 'created_at': datetime.datetime(2025, 1, 28, 10, 4, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618607412, 'issue_id': 2815121026, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3728_tests-228843f0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52800?repo=metabase/metabase&commitHash=228843f0e65977aba9c6809654df60d0bddc7437&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52800?repo=metabase/metabase&commitHash=228843f0e65977aba9c6809654df60d0bddc7437&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52800?repo=metabase/metabase&commitHash=228843f0e65977aba9c6809654df60d0bddc7437&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52800?repo=metabase/metabase&commitHash=228843f0e65977aba9c6809654df60d0bddc7437&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52800?repo=metabase/metabase&commitHash=228843f0e65977aba9c6809654df60d0bddc7437&utm_source=gh-comment&runConclusion=FAILURE&runId=7259c834-0425-5705-a97e-46156d1db3e7) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52800?repo=metabase/metabase&commitHash=228843f0e65977aba9c6809654df60d0bddc7437&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 10, 33, 18, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-28 10:03:40 UTC): ## e2e tests failed on `228843f0e65977aba9c6809654df60d0bddc7437-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13007682289?pr=52800)

  File | Test Name
  ---- | ---------
  `search-pagination.cy.spec.js` | scenarios > search > should allow users to paginate results

WiNloSt (Issue Creator) on (2025-01-28 10:04:37 UTC): I thought about that, haha. Not sure that's what's the exact term for backporting forward 😆

trunk-io[bot] on (2025-01-28 10:33:18 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3728_tests-228843f0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52800?repo=metabase/metabase&commitHash=228843f0e65977aba9c6809654df60d0bddc7437&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52800?repo=metabase/metabase&commitHash=228843f0e65977aba9c6809654df60d0bddc7437&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52800?repo=metabase/metabase&commitHash=228843f0e65977aba9c6809654df60d0bddc7437&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52800?repo=metabase/metabase&commitHash=228843f0e65977aba9c6809654df60d0bddc7437&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52800?repo=metabase/metabase&commitHash=228843f0e65977aba9c6809654df60d0bddc7437&utm_source=gh-comment&runConclusion=FAILURE&runId=7259c834-0425-5705-a97e-46156d1db3e7) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52800?repo=metabase/metabase&commitHash=228843f0e65977aba9c6809654df60d0bddc7437&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2814990819,pull_request,closed,,troubleshoot release 53 cross version test failure,"Troubleshoot [this issue](https://metaboat.slack.com/archives/C063Q3F1HPF/p1738021481084029)
",WiNloSt,2025-01-28 08:49:35+00:00,['WiNloSt'],2025-01-28 10:14:11+00:00,2025-01-28 09:40:33+00:00,https://github.com/metabase/metabase/pull/52799,"[('.Team/Embedding', '')]","[{'comment_id': 2618378228, 'issue_id': 2814990819, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/15765_tests-663ab55d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52799?repo=metabase/metabase&commitHash=663ab55d77751c8e86cfa256642e855ebc45bb5b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/9-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52799?repo=metabase/metabase&commitHash=663ab55d77751c8e86cfa256642e855ebc45bb5b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52799?repo=metabase/metabase&commitHash=663ab55d77751c8e86cfa256642e855ebc45bb5b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52799?repo=metabase/metabase&commitHash=663ab55d77751c8e86cfa256642e855ebc45bb5b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>An uncaught error was detected outside of a test</code> | The \'@metabase/embedding-sdk-react\' module was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52799?repo=metabase/metabase&commitHash=663ab55d77751c8e86cfa256642e855ebc45bb5b&utm_source=gh-comment&runConclusion=FAILURE&runId=0aaf0d62-f6c5-565c-8bf0-c187636d895c) |\n| <code>An uncaught error was detected outside of a test</code> | The \'@metabase/embedding-sdk-react\' module was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52799?repo=metabase/metabase&commitHash=663ab55d77751c8e86cfa256642e855ebc45bb5b&utm_source=gh-comment&runConclusion=FAILURE&runId=33276711-557c-5b2f-b429-89105362315d) |\n| <code>An uncaught error was detected outside of a test</code> | The \'@metabase/embedding-sdk-react\' module was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52799?repo=metabase/metabase&commitHash=663ab55d77751c8e86cfa256642e855ebc45bb5b&utm_source=gh-comment&runConclusion=FAILURE&runId=e445bd02-3f18-5a29-940f-8a5f60989ae8) |\n| <code>An uncaught error was detected outside of a test</code> | The \'@metabase/embedding-sdk-react\' module was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52799?repo=metabase/metabase&commitHash=663ab55d77751c8e86cfa256642e855ebc45bb5b&utm_source=gh-comment&runConclusion=FAILURE&runId=646654ea-ae96-5e3d-90a0-2dcb5ccc22fd) |\n\n[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52799?repo=metabase/metabase&commitHash=663ab55d77751c8e86cfa256642e855ebc45bb5b&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 29378 should not crash the model detail page after searching for an action (metabase\\#29378)</code> | Unable to find an accessible element with the role ""option"" and name ""Update orders quantity"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52799?repo=metabase/metabase&commitHash=663ab55d77751c8e86cfa256642e855ebc45bb5b&utm_source=gh-comment&runConclusion=FAILURE&runId=a0064a71-81cf-56ab-9dae-2965ff21e01f) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52799?repo=metabase/metabase&commitHash=663ab55d77751c8e86cfa256642e855ebc45bb5b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 9, 11, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618384104, 'issue_id': 2814990819, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `663ab55d77751c8e86cfa256642e855ebc45bb5b-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13006828105?pr=52799)\n\n  File | Test Name\n  ---- | ---------\n  `reproductions.cy.spec.js` | issue 29378 > should not crash the model detail page after searching for an action (metabase#29378)', 'created_at': datetime.datetime(2025, 1, 28, 9, 14, 42, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-28 09:11:59 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/15765_tests-663ab55d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52799?repo=metabase/metabase&commitHash=663ab55d77751c8e86cfa256642e855ebc45bb5b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/9-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52799?repo=metabase/metabase&commitHash=663ab55d77751c8e86cfa256642e855ebc45bb5b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52799?repo=metabase/metabase&commitHash=663ab55d77751c8e86cfa256642e855ebc45bb5b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52799?repo=metabase/metabase&commitHash=663ab55d77751c8e86cfa256642e855ebc45bb5b&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52799?repo=metabase/metabase&commitHash=663ab55d77751c8e86cfa256642e855ebc45bb5b&utm_source=gh-comment&runConclusion=FAILURE&runId=0aaf0d62-f6c5-565c-8bf0-c187636d895c) |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52799?repo=metabase/metabase&commitHash=663ab55d77751c8e86cfa256642e855ebc45bb5b&utm_source=gh-comment&runConclusion=FAILURE&runId=33276711-557c-5b2f-b429-89105362315d) |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52799?repo=metabase/metabase&commitHash=663ab55d77751c8e86cfa256642e855ebc45bb5b&utm_source=gh-comment&runConclusion=FAILURE&runId=e445bd02-3f18-5a29-940f-8a5f60989ae8) |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52799?repo=metabase/metabase&commitHash=663ab55d77751c8e86cfa256642e855ebc45bb5b&utm_source=gh-comment&runConclusion=FAILURE&runId=646654ea-ae96-5e3d-90a0-2dcb5ccc22fd) |

[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52799?repo=metabase/metabase&commitHash=663ab55d77751c8e86cfa256642e855ebc45bb5b&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 29378 should not crash the model detail page after searching for an action (metabase\#29378)</code> | Unable to find an accessible element with the role ""option"" and name ""Update orders quantity"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52799?repo=metabase/metabase&commitHash=663ab55d77751c8e86cfa256642e855ebc45bb5b&utm_source=gh-comment&runConclusion=FAILURE&runId=a0064a71-81cf-56ab-9dae-2965ff21e01f) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52799?repo=metabase/metabase&commitHash=663ab55d77751c8e86cfa256642e855ebc45bb5b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-28 09:14:42 UTC): ## e2e tests failed on `663ab55d77751c8e86cfa256642e855ebc45bb5b-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13006828105?pr=52799)

  File | Test Name
  ---- | ---------
  `reproductions.cy.spec.js` | issue 29378 > should not crash the model detail page after searching for an action (metabase#29378)

"
2814987865,pull_request,closed,,"backported ""Disable query analysis by default""","  #52728

Cherry-pick of #52753",crisptrutski,2025-01-28 08:48:35+00:00,['crisptrutski'],2025-01-28 10:29:33+00:00,2025-01-28 09:22:51+00:00,https://github.com/metabase/metabase/pull/52798,"[('.Team/Workflows', 'aka BEC'), ('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2618321039, 'issue_id': 2814987865, 'author': 'crisptrutski', 'body': ""Sorry for spam everyone, this is just a backport and doesn't need your review."", 'created_at': datetime.datetime(2025, 1, 28, 8, 49, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618451371, 'issue_id': 2814987865, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/49880_tests-d24e5a27-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52798?repo=metabase/metabase&commitHash=d24e5a27076377ac1a92b1da13e7094ad6c8c4d4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52798?repo=metabase/metabase&commitHash=d24e5a27076377ac1a92b1da13e7094ad6c8c4d4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52798?repo=metabase/metabase&commitHash=d24e5a27076377ac1a92b1da13e7094ad6c8c4d4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52798?repo=metabase/metabase&commitHash=d24e5a27076377ac1a92b1da13e7094ad6c8c4d4&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52798?repo=metabase/metabase&commitHash=d24e5a27076377ac1a92b1da13e7094ad6c8c4d4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 9, 45, 46, tzinfo=datetime.timezone.utc)}]","crisptrutski (Issue Creator) on (2025-01-28 08:49:34 UTC): Sorry for spam everyone, this is just a backport and doesn't need your review.

trunk-io[bot] on (2025-01-28 09:45:46 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/49880_tests-d24e5a27-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52798?repo=metabase/metabase&commitHash=d24e5a27076377ac1a92b1da13e7094ad6c8c4d4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52798?repo=metabase/metabase&commitHash=d24e5a27076377ac1a92b1da13e7094ad6c8c4d4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52798?repo=metabase/metabase&commitHash=d24e5a27076377ac1a92b1da13e7094ad6c8c4d4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52798?repo=metabase/metabase&commitHash=d24e5a27076377ac1a92b1da13e7094ad6c8c4d4&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52798?repo=metabase/metabase&commitHash=d24e5a27076377ac1a92b1da13e7094ad6c8c4d4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2814807336,pull_request,closed,,docs(sdk): Update SDK version to 0.52.8,Update Readme version references and published npm package version to 0.52.8,github-automation-metabase,2025-01-28 07:08:23+00:00,"['heypoom', 'github-automation-metabase']",2025-01-28 07:40:59+00:00,2025-01-28 07:13:13+00:00,https://github.com/metabase/metabase/pull/52797,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2618129441, 'issue_id': 2814807336, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/54_tests-02a91d49-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52797?repo=metabase/metabase&commitHash=02a91d4993eee925f11566528e2011042e724a4f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52797?repo=metabase/metabase&commitHash=02a91d4993eee925f11566528e2011042e724a4f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52797?repo=metabase/metabase&commitHash=02a91d4993eee925f11566528e2011042e724a4f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52797?repo=metabase/metabase&commitHash=02a91d4993eee925f11566528e2011042e724a4f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52797?repo=metabase/metabase&commitHash=02a91d4993eee925f11566528e2011042e724a4f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 7, 40, 58, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-28 07:40:58 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/54_tests-02a91d49-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52797?repo=metabase/metabase&commitHash=02a91d4993eee925f11566528e2011042e724a4f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52797?repo=metabase/metabase&commitHash=02a91d4993eee925f11566528e2011042e724a4f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52797?repo=metabase/metabase&commitHash=02a91d4993eee925f11566528e2011042e724a4f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52797?repo=metabase/metabase&commitHash=02a91d4993eee925f11566528e2011042e724a4f&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52797?repo=metabase/metabase&commitHash=02a91d4993eee925f11566528e2011042e724a4f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2814604836,pull_request,closed,,Build releases on java 21 for 53,Bumps release builds to use java 21 for v53,iethree,2025-01-28 04:34:46+00:00,['iethree'],2025-01-28 14:04:10+00:00,2025-01-28 14:00:45+00:00,https://github.com/metabase/metabase/pull/52795,"[('.Building & Releasing', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]",[],
2814547662,pull_request,closed,,Update team.json,,perivamsi,2025-01-28 03:35:06+00:00,['perivamsi'],2025-01-28 11:48:58+00:00,2025-01-28 11:48:57+00:00,https://github.com/metabase/metabase/pull/52794,"[('no-backport', 'Do not backport this PR to any branch')]",[],
2814529377,pull_request,closed,,Set max length for question name,"Fixes https://github.com/metabase/metabase/issues/40175
Fixes https://github.com/metabase/metabase/issues/49600

Adds FE-level validation to a form to save a question and to a form to duplicate a question. The ""inline"" editing of card names is also fixed, but the layout is broken; currently treating this as a separate issue.

<img width=""631"" alt=""Screenshot 2025-01-28 at 16 34 46"" src=""https://github.com/user-attachments/assets/2fe85d65-3d1b-4342-82f3-460a7cf3d77b"" />
<img width=""665"" alt=""Screenshot 2025-01-28 at 16 35 16"" src=""https://github.com/user-attachments/assets/3a32956c-16ea-4de8-a0f9-52ec62940872"" />
",ranquild,2025-01-28 03:16:13+00:00,['ranquild'],2025-01-29 21:22:11+00:00,2025-01-29 20:13:32+00:00,https://github.com/metabase/metabase/pull/52793,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2617809027, 'issue_id': 2814529377, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13729_tests-8f3e837c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=8f3e837c1148b73404c98ac23cf41d1d85baea13&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=8f3e837c1148b73404c98ac23cf41d1d85baea13&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/15-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=8f3e837c1148b73404c98ac23cf41d1d85baea13&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=8f3e837c1148b73404c98ac23cf41d1d85baea13&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=8f3e837c1148b73404c98ac23cf41d1d85baea13&utm_source=gh-comment&runConclusion=FAILURE&runId=b36da6aa-78f7-5dd1-977b-0c9bff3cf9c6) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > browse > metrics verified metrics on enterprise should respect the user setting on wether or not to only show verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=8f3e837c1148b73404c98ac23cf41d1d85baea13&utm_source=gh-comment&runConclusion=FAILURE&runId=c624338c-eb2f-5d93-a5ff-156fd11ba06b) |\n| <code>scenarios > browse > metrics verified metrics on enterprise should show the verified metrics filter when there are verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=8f3e837c1148b73404c98ac23cf41d1d85baea13&utm_source=gh-comment&runConclusion=FAILURE&runId=c636863d-534b-5076-ad07-52e345dad568) |\n| <code>scenarios > browse > metrics dot menu when the user does not have write access should be possible to bookmark a metrics from the dot menu</code> | Unable to find a label with the text ""Table of metrics"" within the expected time. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=8f3e837c1148b73404c98ac23cf41d1d85baea13&utm_source=gh-comment&runConclusion=FAILURE&runId=288475a0-cccc-516e-81cb-d254aefb2f69) |\n| <code>scenarios > browse > metrics dot menu when the user does not have write access should be possible to navigate to the collection from the dot menu</code> | Unable to find a label with the text \'Table of metrics\' within the expected time. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=8f3e837c1148b73404c98ac23cf41d1d85baea13&utm_source=gh-comment&runConclusion=FAILURE&runId=0022b425-bbda-5179-a4e7-a565d6450d81) |\n\n[... and 11 more](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=8f3e837c1148b73404c98ac23cf41d1d85baea13&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=8f3e837c1148b73404c98ac23cf41d1d85baea13&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 4, 20, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617809032, 'issue_id': 2814529377, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13400_tests-6adb1060-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=6adb1060df5cc07f28b14fc0b848cf0dac57e48f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/15-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=6adb1060df5cc07f28b14fc0b848cf0dac57e48f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=6adb1060df5cc07f28b14fc0b848cf0dac57e48f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=6adb1060df5cc07f28b14fc0b848cf0dac57e48f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > browse > metrics verified metrics on enterprise should respect the user setting on wether or not to only show verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the expected time. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=6adb1060df5cc07f28b14fc0b848cf0dac57e48f&utm_source=gh-comment&runConclusion=FAILURE&runId=4329e701-7c52-56ae-a608-ecd1ee5b962f) |\n| <code>scenarios > browse > metrics verified metrics on enterprise should show the verified metrics filter when there are verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=6adb1060df5cc07f28b14fc0b848cf0dac57e48f&utm_source=gh-comment&runConclusion=FAILURE&runId=aee281f2-b321-5b74-814e-1e07b6f4bd95) |\n| <code>scenarios > browse > metrics dot menu when the user does not have write access should not be possible to trash a metric from the dot menu when the...</code> | Unable to find a label with the text ""Table of metrics"" within the expected time. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=6adb1060df5cc07f28b14fc0b848cf0dac57e48f&utm_source=gh-comment&runConclusion=FAILURE&runId=2506d463-908d-5d6e-a038-8a84c85e1de3) |\n| <code>scenarios > browse > metrics dot menu when the user does not have write access should be possible to bookmark a metrics from the dot menu</code> | Unable to find a label with the text ""Table of metrics"" within the expected time. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=6adb1060df5cc07f28b14fc0b848cf0dac57e48f&utm_source=gh-comment&runConclusion=FAILURE&runId=52465004-0d16-5dcc-abf1-bdc0d96fd288) |\n\n[... and 11 more](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=6adb1060df5cc07f28b14fc0b848cf0dac57e48f&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=6adb1060df5cc07f28b14fc0b848cf0dac57e48f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 4, 20, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621457916, 'issue_id': 2814529377, 'author': 'romeovs', 'body': 'This might be out of scope for this PR, but would it make sense to truncate the name of a question when duplicating it so we never generate a question name that is too long?\r\n\r\nIe. now, on this PR:\r\n1. create a question and save it with name (254 characters):\r\n```\r\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\r\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\r\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\r\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\r\n```\r\n2. Duplicate the question\r\n3. In the modal the name will be (266 characters):\r\n```\r\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\r\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\r\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\r\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA - Duplicate\r\n```\r\nwhich is longer than 254 characters. It would be nice if it was the following instead (254 characters)\r\n```\r\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\r\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\r\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\r\nAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA… - Duplicate\r\n```\r\n\r\n_(newlines in the above examples are just for readability)_', 'created_at': datetime.datetime(2025, 1, 29, 12, 4, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622675411, 'issue_id': 2814529377, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `8f3e837c1148b73404c98ac23cf41d1d85baea13-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13038891561?pr=52793)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can share a dashboard card via public link', 'created_at': datetime.datetime(2025, 1, 29, 19, 39, 59, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-28 04:20:18 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13729_tests-8f3e837c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=8f3e837c1148b73404c98ac23cf41d1d85baea13&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=8f3e837c1148b73404c98ac23cf41d1d85baea13&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/15-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=8f3e837c1148b73404c98ac23cf41d1d85baea13&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=8f3e837c1148b73404c98ac23cf41d1d85baea13&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=8f3e837c1148b73404c98ac23cf41d1d85baea13&utm_source=gh-comment&runConclusion=FAILURE&runId=b36da6aa-78f7-5dd1-977b-0c9bff3cf9c6) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > browse > metrics verified metrics on enterprise should respect the user setting on wether or not to only show verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=8f3e837c1148b73404c98ac23cf41d1d85baea13&utm_source=gh-comment&runConclusion=FAILURE&runId=c624338c-eb2f-5d93-a5ff-156fd11ba06b) |
| <code>scenarios > browse > metrics verified metrics on enterprise should show the verified metrics filter when there are verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=8f3e837c1148b73404c98ac23cf41d1d85baea13&utm_source=gh-comment&runConclusion=FAILURE&runId=c636863d-534b-5076-ad07-52e345dad568) |
| <code>scenarios > browse > metrics dot menu when the user does not have write access should be possible to bookmark a metrics from the dot menu</code> | Unable to find a label with the text ""Table of metrics"" within the expected time. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=8f3e837c1148b73404c98ac23cf41d1d85baea13&utm_source=gh-comment&runConclusion=FAILURE&runId=288475a0-cccc-516e-81cb-d254aefb2f69) |
| <code>scenarios > browse > metrics dot menu when the user does not have write access should be possible to navigate to the collection from the dot menu</code> | Unable to find a label with the text 'Table of metrics' within the expected time. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=8f3e837c1148b73404c98ac23cf41d1d85baea13&utm_source=gh-comment&runConclusion=FAILURE&runId=0022b425-bbda-5179-a4e7-a565d6450d81) |

[... and 11 more](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=8f3e837c1148b73404c98ac23cf41d1d85baea13&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=8f3e837c1148b73404c98ac23cf41d1d85baea13&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2025-01-28 04:20:18 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13400_tests-6adb1060-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=6adb1060df5cc07f28b14fc0b848cf0dac57e48f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/15-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=6adb1060df5cc07f28b14fc0b848cf0dac57e48f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=6adb1060df5cc07f28b14fc0b848cf0dac57e48f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=6adb1060df5cc07f28b14fc0b848cf0dac57e48f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > browse > metrics verified metrics on enterprise should respect the user setting on wether or not to only show verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the expected time. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=6adb1060df5cc07f28b14fc0b848cf0dac57e48f&utm_source=gh-comment&runConclusion=FAILURE&runId=4329e701-7c52-56ae-a608-ecd1ee5b962f) |
| <code>scenarios > browse > metrics verified metrics on enterprise should show the verified metrics filter when there are verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=6adb1060df5cc07f28b14fc0b848cf0dac57e48f&utm_source=gh-comment&runConclusion=FAILURE&runId=aee281f2-b321-5b74-814e-1e07b6f4bd95) |
| <code>scenarios > browse > metrics dot menu when the user does not have write access should not be possible to trash a metric from the dot menu when the...</code> | Unable to find a label with the text ""Table of metrics"" within the expected time. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=6adb1060df5cc07f28b14fc0b848cf0dac57e48f&utm_source=gh-comment&runConclusion=FAILURE&runId=2506d463-908d-5d6e-a038-8a84c85e1de3) |
| <code>scenarios > browse > metrics dot menu when the user does not have write access should be possible to bookmark a metrics from the dot menu</code> | Unable to find a label with the text ""Table of metrics"" within the expected time. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=6adb1060df5cc07f28b14fc0b848cf0dac57e48f&utm_source=gh-comment&runConclusion=FAILURE&runId=52465004-0d16-5dcc-abf1-bdc0d96fd288) |

[... and 11 more](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=6adb1060df5cc07f28b14fc0b848cf0dac57e48f&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52793?repo=metabase/metabase&commitHash=6adb1060df5cc07f28b14fc0b848cf0dac57e48f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

romeovs on (2025-01-29 12:04:30 UTC): This might be out of scope for this PR, but would it make sense to truncate the name of a question when duplicating it so we never generate a question name that is too long?

Ie. now, on this PR:
1. create a question and save it with name (254 characters):
```
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
```
2. Duplicate the question
3. In the modal the name will be (266 characters):
```
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA - Duplicate
```
which is longer than 254 characters. It would be nice if it was the following instead (254 characters)
```
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA… - Duplicate
```

_(newlines in the above examples are just for readability)_

github-actions[bot] on (2025-01-29 19:39:59 UTC): ## e2e tests failed on `8f3e837c1148b73404c98ac23cf41d1d85baea13-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13038891561?pr=52793)

  File | Test Name
  ---- | ---------
  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can share a dashboard card via public link

"
2814488804,pull_request,closed,,fix(sdk): Fix `package.template.json`  to reflect `53-stable`,Update `package.template.json` to reflect that `53` releases can be considered stable,oisincoveney,2025-01-28 02:33:53+00:00,['oisincoveney'],2025-01-29 03:13:51+00:00,2025-01-29 03:06:22+00:00,https://github.com/metabase/metabase/pull/52792,"[('.Team/Embedding', '')]","[{'comment_id': 2617768495, 'issue_id': 2814488804, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/29_tests-2becca35-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52792?repo=metabase/metabase&commitHash=2becca350a5ee856514d38f2cdb7158438d17449&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52792?repo=metabase/metabase&commitHash=2becca350a5ee856514d38f2cdb7158438d17449&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52792?repo=metabase/metabase&commitHash=2becca350a5ee856514d38f2cdb7158438d17449&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52792?repo=metabase/metabase&commitHash=2becca350a5ee856514d38f2cdb7158438d17449&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52792?repo=metabase/metabase&commitHash=2becca350a5ee856514d38f2cdb7158438d17449&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 3, 28, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618873239, 'issue_id': 2814488804, 'author': 'WiNloSt', 'body': ""> Looks good. @WiNloSt if I remember correctly, we also need to trigger a release manually for 53-stable so the cross-version tests are in sync, otherwise tests will fail in release-x.53.x once we merge this?\r\n\r\n@heypoom sorry I missed your message. Yes, if we merge this, we need to release `0.53.1` from `0.53.1-nightly`. I wonder if there should be a better way to deal with that? It's only a manual work once per release though 🤔 \r\n\r\nWe could merge this, and trigger the release then we'll deploy `0.53.2` and the next tests will pass. But the test of the merged commit from this PR would fail I think. That doesn't look good either, but it's just more convenient."", 'created_at': datetime.datetime(2025, 1, 28, 12, 31, 3, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-28 03:28:17 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/29_tests-2becca35-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52792?repo=metabase/metabase&commitHash=2becca350a5ee856514d38f2cdb7158438d17449&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52792?repo=metabase/metabase&commitHash=2becca350a5ee856514d38f2cdb7158438d17449&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52792?repo=metabase/metabase&commitHash=2becca350a5ee856514d38f2cdb7158438d17449&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52792?repo=metabase/metabase&commitHash=2becca350a5ee856514d38f2cdb7158438d17449&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52792?repo=metabase/metabase&commitHash=2becca350a5ee856514d38f2cdb7158438d17449&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

WiNloSt on (2025-01-28 12:31:03 UTC): @heypoom sorry I missed your message. Yes, if we merge this, we need to release `0.53.1` from `0.53.1-nightly`. I wonder if there should be a better way to deal with that? It's only a manual work once per release though 🤔 

We could merge this, and trigger the release then we'll deploy `0.53.2` and the next tests will pass. But the test of the merged commit from this PR would fail I think. That doesn't look good either, but it's just more convenient.

"
2814450301,pull_request,closed,,fix(sdk): Use 53-stable tag in `master` release workflow,Adds `release-x.53.x` to the list of possible tags,oisincoveney,2025-01-28 01:59:42+00:00,['oisincoveney'],2025-01-28 20:00:42+00:00,2025-01-28 20:00:42+00:00,https://github.com/metabase/metabase/pull/52791,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', '')]","[{'comment_id': 2619943435, 'issue_id': 2814450301, 'author': 'oisincoveney', 'body': 'Closing and using https://github.com/metabase/metabase/pull/52789 to merge these changes.', 'created_at': datetime.datetime(2025, 1, 28, 20, 0, 42, tzinfo=datetime.timezone.utc)}]","oisincoveney (Issue Creator) on (2025-01-28 20:00:42 UTC): Closing and using https://github.com/metabase/metabase/pull/52789 to merge these changes.

"
2814434475,pull_request,closed,,fix(sdk): Bump `package.template.json` to 54,Updates the package.template.json to 54 for master. This should _not_ be backported,oisincoveney,2025-01-28 01:44:27+00:00,['oisincoveney'],2025-01-28 20:00:09+00:00,2025-01-28 20:00:08+00:00,https://github.com/metabase/metabase/pull/52790,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', '')]",[],
2814432180,pull_request,closed,,ci(sdk): Make 53 the latest in release workflow,Updates the `release-embedding-sdk.yml` to reference `release-x.53.x`,oisincoveney,2025-01-28 01:42:24+00:00,['oisincoveney'],2025-01-28 20:04:59+00:00,2025-01-28 20:02:48+00:00,https://github.com/metabase/metabase/pull/52789,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2617741329, 'issue_id': 2814432180, 'author': 'NevRA', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/9_tests-8090eecd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=8090eecda90273f98047851d0648c32258cfc1ff&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/9-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=8090eecda90273f98047851d0648c32258cfc1ff&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=8090eecda90273f98047851d0648c32258cfc1ff&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=8090eecda90273f98047851d0648c32258cfc1ff&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=8090eecda90273f98047851d0648c32258cfc1ff&utm_source=gh-comment&runConclusion=FAILURE&runId=4b50a197-3d57-512b-8407-95104751060f) |\n| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=8090eecda90273f98047851d0648c32258cfc1ff&utm_source=gh-comment&runConclusion=FAILURE&runId=cb18fc67-e6cf-56db-80fd-1d667ee0f84a) |\n| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=8090eecda90273f98047851d0648c32258cfc1ff&utm_source=gh-comment&runConclusion=FAILURE&runId=dbf857a4-bb90-5832-916e-aaf1dbad0747) |\n| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=8090eecda90273f98047851d0648c32258cfc1ff&utm_source=gh-comment&runConclusion=FAILURE&runId=4f21f296-1e90-51ae-8b18-44396833b416) |\n\n[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=8090eecda90273f98047851d0648c32258cfc1ff&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=8090eecda90273f98047851d0648c32258cfc1ff&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 28, 3, 3, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617760661, 'issue_id': 2814432180, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/9_tests-c3102dbc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=c3102dbcdff923275f08354b626f37f5a65f06b9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/9-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=c3102dbcdff923275f08354b626f37f5a65f06b9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=c3102dbcdff923275f08354b626f37f5a65f06b9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=c3102dbcdff923275f08354b626f37f5a65f06b9&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=c3102dbcdff923275f08354b626f37f5a65f06b9&utm_source=gh-comment&runConclusion=FAILURE&runId=987d5b5f-83b3-50db-9c84-ab528db8e8bc) |\n| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=c3102dbcdff923275f08354b626f37f5a65f06b9&utm_source=gh-comment&runConclusion=FAILURE&runId=51e282c9-9594-566c-80e1-14130bc059f5) |\n| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=c3102dbcdff923275f08354b626f37f5a65f06b9&utm_source=gh-comment&runConclusion=FAILURE&runId=0dac06d3-874a-5917-9bf8-6de49f78c5a2) |\n| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=c3102dbcdff923275f08354b626f37f5a65f06b9&utm_source=gh-comment&runConclusion=FAILURE&runId=b9b20459-eb45-5d99-a48e-9a5b76a56230) |\n\n[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=c3102dbcdff923275f08354b626f37f5a65f06b9&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=c3102dbcdff923275f08354b626f37f5a65f06b9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 28, 3, 18, 45, tzinfo=datetime.timezone.utc)}]","NevRA on (2025-01-28 03:03:54 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/9_tests-8090eecd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=8090eecda90273f98047851d0648c32258cfc1ff&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/9-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=8090eecda90273f98047851d0648c32258cfc1ff&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=8090eecda90273f98047851d0648c32258cfc1ff&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=8090eecda90273f98047851d0648c32258cfc1ff&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=8090eecda90273f98047851d0648c32258cfc1ff&utm_source=gh-comment&runConclusion=FAILURE&runId=4b50a197-3d57-512b-8407-95104751060f) |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=8090eecda90273f98047851d0648c32258cfc1ff&utm_source=gh-comment&runConclusion=FAILURE&runId=cb18fc67-e6cf-56db-80fd-1d667ee0f84a) |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=8090eecda90273f98047851d0648c32258cfc1ff&utm_source=gh-comment&runConclusion=FAILURE&runId=dbf857a4-bb90-5832-916e-aaf1dbad0747) |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=8090eecda90273f98047851d0648c32258cfc1ff&utm_source=gh-comment&runConclusion=FAILURE&runId=4f21f296-1e90-51ae-8b18-44396833b416) |

[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=8090eecda90273f98047851d0648c32258cfc1ff&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=8090eecda90273f98047851d0648c32258cfc1ff&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2025-01-28 03:18:45 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/9_tests-c3102dbc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=c3102dbcdff923275f08354b626f37f5a65f06b9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/9-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=c3102dbcdff923275f08354b626f37f5a65f06b9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=c3102dbcdff923275f08354b626f37f5a65f06b9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=c3102dbcdff923275f08354b626f37f5a65f06b9&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=c3102dbcdff923275f08354b626f37f5a65f06b9&utm_source=gh-comment&runConclusion=FAILURE&runId=987d5b5f-83b3-50db-9c84-ab528db8e8bc) |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=c3102dbcdff923275f08354b626f37f5a65f06b9&utm_source=gh-comment&runConclusion=FAILURE&runId=51e282c9-9594-566c-80e1-14130bc059f5) |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=c3102dbcdff923275f08354b626f37f5a65f06b9&utm_source=gh-comment&runConclusion=FAILURE&runId=0dac06d3-874a-5917-9bf8-6de49f78c5a2) |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=c3102dbcdff923275f08354b626f37f5a65f06b9&utm_source=gh-comment&runConclusion=FAILURE&runId=b9b20459-eb45-5d99-a48e-9a5b76a56230) |

[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=c3102dbcdff923275f08354b626f37f5a65f06b9&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52789?repo=metabase/metabase&commitHash=c3102dbcdff923275f08354b626f37f5a65f06b9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2814413592,pull_request,closed,,"🤖 backported ""Limit amount of data stored in the in-memory log""",#52548,github-automation-metabase,2025-01-28 01:31:10+00:00,"['nvoxland', 'github-automation-metabase']",2025-01-28 11:16:05+00:00,2025-01-28 10:18:17+00:00,https://github.com/metabase/metabase/pull/52788,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2617603378, 'issue_id': 2814413592, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120985_tests-af4715bd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52788?repo=metabase/metabase&commitHash=af4715bd77147d9d4f45c801364828618ce3229f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52788?repo=metabase/metabase&commitHash=af4715bd77147d9d4f45c801364828618ce3229f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52788?repo=metabase/metabase&commitHash=af4715bd77147d9d4f45c801364828618ce3229f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52788?repo=metabase/metabase&commitHash=af4715bd77147d9d4f45c801364828618ce3229f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52788?repo=metabase/metabase&commitHash=af4715bd77147d9d4f45c801364828618ce3229f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 2, 19, 1, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-28 02:19:01 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120985_tests-af4715bd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52788?repo=metabase/metabase&commitHash=af4715bd77147d9d4f45c801364828618ce3229f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52788?repo=metabase/metabase&commitHash=af4715bd77147d9d4f45c801364828618ce3229f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52788?repo=metabase/metabase&commitHash=af4715bd77147d9d4f45c801364828618ce3229f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52788?repo=metabase/metabase&commitHash=af4715bd77147d9d4f45c801364828618ce3229f&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52788?repo=metabase/metabase&commitHash=af4715bd77147d9d4f45c801364828618ce3229f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2814390335,pull_request,closed,,"🤖 backported ""Make public dashcards download endpoint match FE expectations""",#52763,github-automation-metabase,2025-01-28 01:09:14+00:00,"['camsaul', 'github-automation-metabase']",2025-01-30 02:38:10+00:00,2025-01-30 01:54:18+00:00,https://github.com/metabase/metabase/pull/52787,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2617505735, 'issue_id': 2814390335, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/98798_tests-0565bb23-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52787?repo=metabase/metabase&commitHash=0565bb233f31c86cc14c464e747ce0e975455792&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52787?repo=metabase/metabase&commitHash=0565bb233f31c86cc14c464e747ce0e975455792&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/98-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52787?repo=metabase/metabase&commitHash=0565bb233f31c86cc14c464e747ce0e975455792&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52787?repo=metabase/metabase&commitHash=0565bb233f31c86cc14c464e747ce0e975455792&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>update-invalidate-model-cache-test</code> | No Table \'venues\' found for Redshift database \'test-data (redshift)\' | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52787?repo=metabase/metabase&commitHash=0565bb233f31c86cc14c464e747ce0e975455792&utm_source=gh-comment&runConclusion=FAILURE&runId=739122f4-5c1b-5d05-b2f4-e1bff9cd880b) |\n| <code>sync-test</code> | The \\`driver/describe-database\\` implementation did not return the expected results for the test-data schema. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52787?repo=metabase/metabase&commitHash=0565bb233f31c86cc14c464e747ce0e975455792&utm_source=gh-comment&runConclusion=FAILURE&runId=3b2af037-a670-5022-8e05-fa39e37903a0) |\n| <code>create-from-csv-carriage-return-test</code> | The schema ""2025\\_01\\_28\\_2d11c9eb\\_ca8b\\_40c6\\_a003\\_53dcc19e6f18\\_schema"" was dropped by a concurrent transaction. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52787?repo=metabase/metabase&commitHash=0565bb233f31c86cc14c464e747ce0e975455792&utm_source=gh-comment&runConclusion=FAILURE&runId=76b89797-8363-51ef-beca-cc0c8b1fac7a) |\n| <code>update-promotion-multiple-columns-test</code> | The schema ""metabase\\_cache\\_a74bc\\_142"" was dropped by a concurrent transaction. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52787?repo=metabase/metabase&commitHash=0565bb233f31c86cc14c464e747ce0e975455792&utm_source=gh-comment&runConclusion=FAILURE&runId=23e78520-15ba-53d6-a73f-f09a2dccf4aa) |\n\n[... and 94 more](https://app.trunk.io/metabase/flaky-tests/pr/52787?repo=metabase/metabase&commitHash=0565bb233f31c86cc14c464e747ce0e975455792&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52787?repo=metabase/metabase&commitHash=0565bb233f31c86cc14c464e747ce0e975455792&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 1, 51, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623284752, 'issue_id': 2814390335, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `0565bb233f31c86cc14c464e747ce0e975455792-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13043296042?pr=52787)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | should not redirect users to other pages when linking an entity (metabase#35037) > should not redirect users to search item\n`model-indexes.cy.spec.js` | scenarios > model indexes > should be able to search model index values and visit detail records\n`model-indexes.cy.spec.js` | scenarios > model indexes > should be able to see details of a record outside the first 2000', 'created_at': datetime.datetime(2025, 1, 30, 0, 57, 26, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-28 01:51:33 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/98798_tests-0565bb23-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52787?repo=metabase/metabase&commitHash=0565bb233f31c86cc14c464e747ce0e975455792&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52787?repo=metabase/metabase&commitHash=0565bb233f31c86cc14c464e747ce0e975455792&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/98-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52787?repo=metabase/metabase&commitHash=0565bb233f31c86cc14c464e747ce0e975455792&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52787?repo=metabase/metabase&commitHash=0565bb233f31c86cc14c464e747ce0e975455792&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>update-invalidate-model-cache-test</code> | No Table 'venues' found for Redshift database 'test-data (redshift)' | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52787?repo=metabase/metabase&commitHash=0565bb233f31c86cc14c464e747ce0e975455792&utm_source=gh-comment&runConclusion=FAILURE&runId=739122f4-5c1b-5d05-b2f4-e1bff9cd880b) |
| <code>sync-test</code> | The \`driver/describe-database\` implementation did not return the expected results for the test-data schema. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52787?repo=metabase/metabase&commitHash=0565bb233f31c86cc14c464e747ce0e975455792&utm_source=gh-comment&runConclusion=FAILURE&runId=3b2af037-a670-5022-8e05-fa39e37903a0) |
| <code>create-from-csv-carriage-return-test</code> | The schema ""2025\_01\_28\_2d11c9eb\_ca8b\_40c6\_a003\_53dcc19e6f18\_schema"" was dropped by a concurrent transaction. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52787?repo=metabase/metabase&commitHash=0565bb233f31c86cc14c464e747ce0e975455792&utm_source=gh-comment&runConclusion=FAILURE&runId=76b89797-8363-51ef-beca-cc0c8b1fac7a) |
| <code>update-promotion-multiple-columns-test</code> | The schema ""metabase\_cache\_a74bc\_142"" was dropped by a concurrent transaction. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52787?repo=metabase/metabase&commitHash=0565bb233f31c86cc14c464e747ce0e975455792&utm_source=gh-comment&runConclusion=FAILURE&runId=23e78520-15ba-53d6-a73f-f09a2dccf4aa) |

[... and 94 more](https://app.trunk.io/metabase/flaky-tests/pr/52787?repo=metabase/metabase&commitHash=0565bb233f31c86cc14c464e747ce0e975455792&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52787?repo=metabase/metabase&commitHash=0565bb233f31c86cc14c464e747ce0e975455792&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-30 00:57:26 UTC): ## e2e tests failed on `0565bb233f31c86cc14c464e747ce0e975455792-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13043296042?pr=52787)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | should not redirect users to other pages when linking an entity (metabase#35037) > should not redirect users to search item
`model-indexes.cy.spec.js` | scenarios > model indexes > should be able to search model index values and visit detail records
`model-indexes.cy.spec.js` | scenarios > model indexes > should be able to see details of a record outside the first 2000

"
2814344440,pull_request,closed,,"🤖 backported ""Auto-rewrite defendpoint forms in card.clj""","  #52569
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-28 00:25:29+00:00,"['camsaul', 'github-automation-metabase']",2025-01-30 01:18:38+00:00,2025-01-29 23:23:22+00:00,https://github.com/metabase/metabase/pull/52786,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2617451809, 'issue_id': 2814344440, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/1848_tests-73c5a444-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52786?repo=metabase/metabase&commitHash=73c5a4443295d419d743e7287b8b5964654495dd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/347-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52786?repo=metabase/metabase&commitHash=73c5a4443295d419d743e7287b8b5964654495dd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/149-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52786?repo=metabase/metabase&commitHash=73c5a4443295d419d743e7287b8b5964654495dd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52786?repo=metabase/metabase&commitHash=73c5a4443295d419d743e7287b8b5964654495dd&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>correct-column-metadata-test</code> | No Table \'venues\' found in Redshift database \'test-data (redshift)\' | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52786?repo=metabase/metabase&commitHash=73c5a4443295d419d743e7287b8b5964654495dd&utm_source=gh-comment&runConclusion=FAILURE&runId=f98ffb71-621e-52fb-bcc4-58563cf51396) |\n| <code>cumulative-count-different-temporal-breakouts-test</code> | ""No table \'orders\' found in the Redshift database \'test-data (redshift)\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52786?repo=metabase/metabase&commitHash=73c5a4443295d419d743e7287b8b5964654495dd&utm_source=gh-comment&runConclusion=FAILURE&runId=8ad9ed59-c175-5706-835b-2b70ca5b4501) |\n| <code>test-lower</code> | No table \'venues\' found in the Redshift database \'test-data (redshift)\' | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52786?repo=metabase/metabase&commitHash=73c5a4443295d419d743e7287b8b5964654495dd&utm_source=gh-comment&runConclusion=FAILURE&runId=0a686173-6092-5ba4-beb0-6f10e58d0319) |\n| <code>contains-test</code> | Redshift database query failed because the table \'venues\' was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52786?repo=metabase/metabase&commitHash=73c5a4443295d419d743e7287b8b5964654495dd&utm_source=gh-comment&runConclusion=FAILURE&runId=d615daba-ced0-596e-bb06-39f13935194b) |\n\n[... and 343 more](https://app.trunk.io/metabase/flaky-tests/pr/52786?repo=metabase/metabase&commitHash=73c5a4443295d419d743e7287b8b5964654495dd&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>text-not-equals-nil-test-2</code> | No table \'airport\' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52786?repo=metabase/metabase&commitHash=73c5a4443295d419d743e7287b8b5964654495dd&utm_source=gh-comment&runConclusion=FAILURE&runId=fe86fdec-aabe-509a-9df3-b7a50d0192f7) |\n| <code>sensitive-fields-test</code> | Redshift database query failed to find table \'users\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52786?repo=metabase/metabase&commitHash=73c5a4443295d419d743e7287b8b5964654495dd&utm_source=gh-comment&runConclusion=FAILURE&runId=c9afae45-7477-5bd4-bc05-34b0fe6ae1b3) |\n| <code>splice-parameters-mbql-nil-param-test</code> | No table \'venues\' found in the Redshift database \'test-data (redshift)\' | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52786?repo=metabase/metabase&commitHash=73c5a4443295d419d743e7287b8b5964654495dd&utm_source=gh-comment&runConclusion=FAILURE&runId=bed90169-c022-51d5-8e51-e3b73568e8ee) |\n| <code>yyyymmddhhmmss-dates</code> | No table \'times\' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52786?repo=metabase/metabase&commitHash=73c5a4443295d419d743e7287b8b5964654495dd&utm_source=gh-comment&runConclusion=FAILURE&runId=0a7d307d-4d0b-5e13-9639-5c2237f523e3) |\n\n[... and 145 more](https://app.trunk.io/metabase/flaky-tests/pr/52786?repo=metabase/metabase&commitHash=73c5a4443295d419d743e7287b8b5964654495dd&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52786?repo=metabase/metabase&commitHash=73c5a4443295d419d743e7287b8b5964654495dd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 1, 35, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622974725, 'issue_id': 2814344440, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `2dbd931c3c34629d07984c3865e65a20303b38fa-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13041051152?pr=52786)\n\n  File | Test Name\n  ---- | ---------\n  `browse.cy.spec.ts` | scenarios > browse (EE) > /browse/models allows models to be filtered, on an enterprise instance', 'created_at': datetime.datetime(2025, 1, 29, 22, 11, 15, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-28 01:35:12 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/1848_tests-73c5a444-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52786?repo=metabase/metabase&commitHash=73c5a4443295d419d743e7287b8b5964654495dd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/347-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52786?repo=metabase/metabase&commitHash=73c5a4443295d419d743e7287b8b5964654495dd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/149-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52786?repo=metabase/metabase&commitHash=73c5a4443295d419d743e7287b8b5964654495dd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52786?repo=metabase/metabase&commitHash=73c5a4443295d419d743e7287b8b5964654495dd&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>correct-column-metadata-test</code> | No Table 'venues' found in Redshift database 'test-data (redshift)' | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52786?repo=metabase/metabase&commitHash=73c5a4443295d419d743e7287b8b5964654495dd&utm_source=gh-comment&runConclusion=FAILURE&runId=f98ffb71-621e-52fb-bcc4-58563cf51396) |
| <code>cumulative-count-different-temporal-breakouts-test</code> | ""No table 'orders' found in the Redshift database 'test-data (redshift)'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52786?repo=metabase/metabase&commitHash=73c5a4443295d419d743e7287b8b5964654495dd&utm_source=gh-comment&runConclusion=FAILURE&runId=8ad9ed59-c175-5706-835b-2b70ca5b4501) |
| <code>test-lower</code> | No table 'venues' found in the Redshift database 'test-data (redshift)' | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52786?repo=metabase/metabase&commitHash=73c5a4443295d419d743e7287b8b5964654495dd&utm_source=gh-comment&runConclusion=FAILURE&runId=0a686173-6092-5ba4-beb0-6f10e58d0319) |
| <code>contains-test</code> | Redshift database query failed because the table 'venues' was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52786?repo=metabase/metabase&commitHash=73c5a4443295d419d743e7287b8b5964654495dd&utm_source=gh-comment&runConclusion=FAILURE&runId=d615daba-ced0-596e-bb06-39f13935194b) |

[... and 343 more](https://app.trunk.io/metabase/flaky-tests/pr/52786?repo=metabase/metabase&commitHash=73c5a4443295d419d743e7287b8b5964654495dd&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>text-not-equals-nil-test-2</code> | No table 'airport' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52786?repo=metabase/metabase&commitHash=73c5a4443295d419d743e7287b8b5964654495dd&utm_source=gh-comment&runConclusion=FAILURE&runId=fe86fdec-aabe-509a-9df3-b7a50d0192f7) |
| <code>sensitive-fields-test</code> | Redshift database query failed to find table 'users'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52786?repo=metabase/metabase&commitHash=73c5a4443295d419d743e7287b8b5964654495dd&utm_source=gh-comment&runConclusion=FAILURE&runId=c9afae45-7477-5bd4-bc05-34b0fe6ae1b3) |
| <code>splice-parameters-mbql-nil-param-test</code> | No table 'venues' found in the Redshift database 'test-data (redshift)' | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52786?repo=metabase/metabase&commitHash=73c5a4443295d419d743e7287b8b5964654495dd&utm_source=gh-comment&runConclusion=FAILURE&runId=bed90169-c022-51d5-8e51-e3b73568e8ee) |
| <code>yyyymmddhhmmss-dates</code> | No table 'times' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52786?repo=metabase/metabase&commitHash=73c5a4443295d419d743e7287b8b5964654495dd&utm_source=gh-comment&runConclusion=FAILURE&runId=0a7d307d-4d0b-5e13-9639-5c2237f523e3) |

[... and 145 more](https://app.trunk.io/metabase/flaky-tests/pr/52786?repo=metabase/metabase&commitHash=73c5a4443295d419d743e7287b8b5964654495dd&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52786?repo=metabase/metabase&commitHash=73c5a4443295d419d743e7287b8b5964654495dd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-29 22:11:15 UTC): ## e2e tests failed on `2dbd931c3c34629d07984c3865e65a20303b38fa-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13041051152?pr=52786)

  File | Test Name
  ---- | ---------
  `browse.cy.spec.ts` | scenarios > browse (EE) > /browse/models allows models to be filtered, on an enterprise instance

"
2814337142,pull_request,closed,,Remove defendpoint 1,,camsaul,2025-01-28 00:18:44+00:00,['camsaul'],2025-01-30 02:51:21+00:00,2025-01-28 21:32:49+00:00,https://github.com/metabase/metabase/pull/52785,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DevEx', '')]","[{'comment_id': 2617361409, 'issue_id': 2814337142, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/95426_tests-29ff2988-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52785?repo=metabase/metabase&commitHash=29ff2988048d7325a7e62a13657041d8666cb3ad&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52785?repo=metabase/metabase&commitHash=29ff2988048d7325a7e62a13657041d8666cb3ad&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52785?repo=metabase/metabase&commitHash=29ff2988048d7325a7e62a13657041d8666cb3ad&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52785?repo=metabase/metabase&commitHash=29ff2988048d7325a7e62a13657041d8666cb3ad&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 29378 should not crash the model detail page after searching for an action (metabase\\#29378)</code> | Unable to find an accessible element with the role ""option"" and name ""Update orders quantity"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52785?repo=metabase/metabase&commitHash=29ff2988048d7325a7e62a13657041d8666cb3ad&utm_source=gh-comment&runConclusion=FAILURE&runId=93057f1b-f011-5ccc-876d-4f66b5e10934) |\n| <code>e2e-storage-ingestion-test</code> | The expected and actual values do not match for the \'timeline\' entity. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52785?repo=metabase/metabase&commitHash=29ff2988048d7325a7e62a13657041d8666cb3ad&utm_source=gh-comment&runConclusion=FAILURE&runId=7ab35419-b41b-504b-b9ab-958795d60c16) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52785?repo=metabase/metabase&commitHash=29ff2988048d7325a7e62a13657041d8666cb3ad&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 0, 59, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617393052, 'issue_id': 2814337142, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `29ff2988048d7325a7e62a13657041d8666cb3ad-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13001409426?pr=52785)\n\n  File | Test Name\n  ---- | ---------\n  `reproductions.cy.spec.js` | issue 29378 > should not crash the model detail page after searching for an action (metabase#29378)', 'created_at': datetime.datetime(2025, 1, 28, 1, 14, 48, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-28 00:59:59 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/95426_tests-29ff2988-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52785?repo=metabase/metabase&commitHash=29ff2988048d7325a7e62a13657041d8666cb3ad&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52785?repo=metabase/metabase&commitHash=29ff2988048d7325a7e62a13657041d8666cb3ad&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52785?repo=metabase/metabase&commitHash=29ff2988048d7325a7e62a13657041d8666cb3ad&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52785?repo=metabase/metabase&commitHash=29ff2988048d7325a7e62a13657041d8666cb3ad&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 29378 should not crash the model detail page after searching for an action (metabase\#29378)</code> | Unable to find an accessible element with the role ""option"" and name ""Update orders quantity"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52785?repo=metabase/metabase&commitHash=29ff2988048d7325a7e62a13657041d8666cb3ad&utm_source=gh-comment&runConclusion=FAILURE&runId=93057f1b-f011-5ccc-876d-4f66b5e10934) |
| <code>e2e-storage-ingestion-test</code> | The expected and actual values do not match for the 'timeline' entity. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52785?repo=metabase/metabase&commitHash=29ff2988048d7325a7e62a13657041d8666cb3ad&utm_source=gh-comment&runConclusion=FAILURE&runId=7ab35419-b41b-504b-b9ab-958795d60c16) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52785?repo=metabase/metabase&commitHash=29ff2988048d7325a7e62a13657041d8666cb3ad&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-28 01:14:48 UTC): ## e2e tests failed on `29ff2988048d7325a7e62a13657041d8666cb3ad-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13001409426?pr=52785)

  File | Test Name
  ---- | ---------
  `reproductions.cy.spec.js` | issue 29378 > should not crash the model detail page after searching for an action (metabase#29378)

"
2814332898,pull_request,closed,,Auto reset data db for writable db tests,"This does an auto drop for all tables + schema for any tests using the writable db.

This requires test tables to be created after the `.restore()` function, so most of the LoC change is just swapping line order around. There's a follow-up task to write a lint rule to help people not mess this up 😁 
",iethree,2025-01-28 00:14:45+00:00,['iethree'],2025-01-30 14:29:55+00:00,2025-01-30 13:51:02+00:00,https://github.com/metabase/metabase/pull/52784,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2617436576, 'issue_id': 2814332898, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3648_tests-ebf21469-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52784?repo=metabase/metabase&commitHash=ebf21469d364dc7d8f97c73b0ef6f8bd9ab995e9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52784?repo=metabase/metabase&commitHash=ebf21469d364dc7d8f97c73b0ef6f8bd9ab995e9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52784?repo=metabase/metabase&commitHash=ebf21469d364dc7d8f97c73b0ef6f8bd9ab995e9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52784?repo=metabase/metabase&commitHash=ebf21469d364dc7d8f97c73b0ef6f8bd9ab995e9&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52784?repo=metabase/metabase&commitHash=ebf21469d364dc7d8f97c73b0ef6f8bd9ab995e9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 1, 30, 30, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-28 01:30:30 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3648_tests-ebf21469-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52784?repo=metabase/metabase&commitHash=ebf21469d364dc7d8f97c73b0ef6f8bd9ab995e9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52784?repo=metabase/metabase&commitHash=ebf21469d364dc7d8f97c73b0ef6f8bd9ab995e9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52784?repo=metabase/metabase&commitHash=ebf21469d364dc7d8f97c73b0ef6f8bd9ab995e9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52784?repo=metabase/metabase&commitHash=ebf21469d364dc7d8f97c73b0ef6f8bd9ab995e9&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52784?repo=metabase/metabase&commitHash=ebf21469d364dc7d8f97c73b0ef6f8bd9ab995e9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2814330104,pull_request,closed,,"🤖 backported ""Limit amount of data stored in the in-memory log""",#52548,github-automation-metabase,2025-01-28 00:11:57+00:00,"['nvoxland', 'github-automation-metabase']",2025-01-28 01:47:28+00:00,2025-01-28 00:58:09+00:00,https://github.com/metabase/metabase/pull/52783,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2617256000, 'issue_id': 2814330104, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `7611ad2359205461c06980a7923802256c09bbac-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13000860227?pr=52783)\n\n  File | Test Name\n  ---- | ---------\n  `entity-picker.cy.spec.ts` | (_flaky_) scenarios > organization > entity picker > collection picker > should show dashboards in personal collections when apropriate, even if there are no sub collections\n`search.cy.spec.js` | scenarios > search > universal search > should render a preview of markdown descriptions\n`search.cy.spec.js` | scenarios > search > universal search > should not overflow container if results contain descriptions with large unborken strings', 'created_at': datetime.datetime(2025, 1, 28, 0, 27, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617360851, 'issue_id': 2814330104, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/93583_tests-7611ad23-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52783?repo=metabase/metabase&commitHash=7611ad2359205461c06980a7923802256c09bbac&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/11-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52783?repo=metabase/metabase&commitHash=7611ad2359205461c06980a7923802256c09bbac&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52783?repo=metabase/metabase&commitHash=7611ad2359205461c06980a7923802256c09bbac&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52783?repo=metabase/metabase&commitHash=7611ad2359205461c06980a7923802256c09bbac&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>describe-view-fields</code> | The expected non-view fields were not equal to the actual view fields. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52783?repo=metabase/metabase&commitHash=7611ad2359205461c06980a7923802256c09bbac&utm_source=gh-comment&runConclusion=FAILURE&runId=6069bcd6-0531-520f-a21e-c1a9980072fe) |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52783?repo=metabase/metabase&commitHash=7611ad2359205461c06980a7923802256c09bbac&utm_source=gh-comment&runConclusion=FAILURE&runId=6223dc2b-dc4e-508a-87d2-caaaeb4d258f) |\n| <code>An uncaught error was detected outside of a test</code> | The \'@metabase/embedding-sdk-react\' module was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52783?repo=metabase/metabase&commitHash=7611ad2359205461c06980a7923802256c09bbac&utm_source=gh-comment&runConclusion=FAILURE&runId=5524e994-e067-5c69-b7db-c4e568cec55d) |\n| <code>An uncaught error was detected outside of a test</code> | The \'@metabase/embedding-sdk-react\' module was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52783?repo=metabase/metabase&commitHash=7611ad2359205461c06980a7923802256c09bbac&utm_source=gh-comment&runConclusion=FAILURE&runId=43abab5f-f550-5ca9-9d06-5ef3654894ba) |\n\n[... and 7 more](https://app.trunk.io/metabase/flaky-tests/pr/52783?repo=metabase/metabase&commitHash=7611ad2359205461c06980a7923802256c09bbac&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52783?repo=metabase/metabase&commitHash=7611ad2359205461c06980a7923802256c09bbac&utm_source=gh-comment&runConclusion=FAILURE&runId=624412f9-3121-5e95-a121-4c5eb8a844d8) |\n| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52783?repo=metabase/metabase&commitHash=7611ad2359205461c06980a7923802256c09bbac&utm_source=gh-comment&runConclusion=FAILURE&runId=900cf5f4-b449-546e-8b9c-6714db9c4167) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52783?repo=metabase/metabase&commitHash=7611ad2359205461c06980a7923802256c09bbac&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 0, 59, 43, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-28 00:27:58 UTC): ## e2e tests failed on `7611ad2359205461c06980a7923802256c09bbac-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13000860227?pr=52783)

  File | Test Name
  ---- | ---------
  `entity-picker.cy.spec.ts` | (_flaky_) scenarios > organization > entity picker > collection picker > should show dashboards in personal collections when apropriate, even if there are no sub collections
`search.cy.spec.js` | scenarios > search > universal search > should render a preview of markdown descriptions
`search.cy.spec.js` | scenarios > search > universal search > should not overflow container if results contain descriptions with large unborken strings

trunk-io[bot] on (2025-01-28 00:59:43 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/93583_tests-7611ad23-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52783?repo=metabase/metabase&commitHash=7611ad2359205461c06980a7923802256c09bbac&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/11-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52783?repo=metabase/metabase&commitHash=7611ad2359205461c06980a7923802256c09bbac&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52783?repo=metabase/metabase&commitHash=7611ad2359205461c06980a7923802256c09bbac&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52783?repo=metabase/metabase&commitHash=7611ad2359205461c06980a7923802256c09bbac&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>describe-view-fields</code> | The expected non-view fields were not equal to the actual view fields. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52783?repo=metabase/metabase&commitHash=7611ad2359205461c06980a7923802256c09bbac&utm_source=gh-comment&runConclusion=FAILURE&runId=6069bcd6-0531-520f-a21e-c1a9980072fe) |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52783?repo=metabase/metabase&commitHash=7611ad2359205461c06980a7923802256c09bbac&utm_source=gh-comment&runConclusion=FAILURE&runId=6223dc2b-dc4e-508a-87d2-caaaeb4d258f) |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52783?repo=metabase/metabase&commitHash=7611ad2359205461c06980a7923802256c09bbac&utm_source=gh-comment&runConclusion=FAILURE&runId=5524e994-e067-5c69-b7db-c4e568cec55d) |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52783?repo=metabase/metabase&commitHash=7611ad2359205461c06980a7923802256c09bbac&utm_source=gh-comment&runConclusion=FAILURE&runId=43abab5f-f550-5ca9-9d06-5ef3654894ba) |

[... and 7 more](https://app.trunk.io/metabase/flaky-tests/pr/52783?repo=metabase/metabase&commitHash=7611ad2359205461c06980a7923802256c09bbac&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52783?repo=metabase/metabase&commitHash=7611ad2359205461c06980a7923802256c09bbac&utm_source=gh-comment&runConclusion=FAILURE&runId=624412f9-3121-5e95-a121-4c5eb8a844d8) |
| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52783?repo=metabase/metabase&commitHash=7611ad2359205461c06980a7923802256c09bbac&utm_source=gh-comment&runConclusion=FAILURE&runId=900cf5f4-b449-546e-8b9c-6714db9c4167) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52783?repo=metabase/metabase&commitHash=7611ad2359205461c06980a7923802256c09bbac&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2814325108,pull_request,closed,,"🤖 backported ""Fix the Dockerfile""",#52761,github-automation-metabase,2025-01-28 00:08:00+00:00,"['paoliniluis', 'github-automation-metabase']",2025-01-28 01:19:43+00:00,2025-01-28 00:08:54+00:00,https://github.com/metabase/metabase/pull/52782,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2617402916, 'issue_id': 2814325108, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/9_tests-323e05f3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52782?repo=metabase/metabase&commitHash=323e05f336d1a6e12fef439bc2d7076f8b8c916b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/9-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52782?repo=metabase/metabase&commitHash=323e05f336d1a6e12fef439bc2d7076f8b8c916b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52782?repo=metabase/metabase&commitHash=323e05f336d1a6e12fef439bc2d7076f8b8c916b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52782?repo=metabase/metabase&commitHash=323e05f336d1a6e12fef439bc2d7076f8b8c916b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52782?repo=metabase/metabase&commitHash=323e05f336d1a6e12fef439bc2d7076f8b8c916b&utm_source=gh-comment&runConclusion=FAILURE&runId=265a2178-c816-54e0-beef-f95f176fe5fb) |\n| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52782?repo=metabase/metabase&commitHash=323e05f336d1a6e12fef439bc2d7076f8b8c916b&utm_source=gh-comment&runConclusion=FAILURE&runId=41f37e36-4ec2-5288-9d8f-d528c9f9afca) |\n| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52782?repo=metabase/metabase&commitHash=323e05f336d1a6e12fef439bc2d7076f8b8c916b&utm_source=gh-comment&runConclusion=FAILURE&runId=d01863ce-2c56-5a6e-a0df-a8704828e68d) |\n| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52782?repo=metabase/metabase&commitHash=323e05f336d1a6e12fef439bc2d7076f8b8c916b&utm_source=gh-comment&runConclusion=FAILURE&runId=f4e98f45-5a8a-56ae-a990-782055ac32cb) |\n\n[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52782?repo=metabase/metabase&commitHash=323e05f336d1a6e12fef439bc2d7076f8b8c916b&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52782?repo=metabase/metabase&commitHash=323e05f336d1a6e12fef439bc2d7076f8b8c916b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 28, 1, 19, 42, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-28 01:19:42 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/9_tests-323e05f3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52782?repo=metabase/metabase&commitHash=323e05f336d1a6e12fef439bc2d7076f8b8c916b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/9-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52782?repo=metabase/metabase&commitHash=323e05f336d1a6e12fef439bc2d7076f8b8c916b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52782?repo=metabase/metabase&commitHash=323e05f336d1a6e12fef439bc2d7076f8b8c916b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52782?repo=metabase/metabase&commitHash=323e05f336d1a6e12fef439bc2d7076f8b8c916b&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52782?repo=metabase/metabase&commitHash=323e05f336d1a6e12fef439bc2d7076f8b8c916b&utm_source=gh-comment&runConclusion=FAILURE&runId=265a2178-c816-54e0-beef-f95f176fe5fb) |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52782?repo=metabase/metabase&commitHash=323e05f336d1a6e12fef439bc2d7076f8b8c916b&utm_source=gh-comment&runConclusion=FAILURE&runId=41f37e36-4ec2-5288-9d8f-d528c9f9afca) |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52782?repo=metabase/metabase&commitHash=323e05f336d1a6e12fef439bc2d7076f8b8c916b&utm_source=gh-comment&runConclusion=FAILURE&runId=d01863ce-2c56-5a6e-a0df-a8704828e68d) |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52782?repo=metabase/metabase&commitHash=323e05f336d1a6e12fef439bc2d7076f8b8c916b&utm_source=gh-comment&runConclusion=FAILURE&runId=f4e98f45-5a8a-56ae-a990-782055ac32cb) |

[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52782?repo=metabase/metabase&commitHash=323e05f336d1a6e12fef439bc2d7076f8b8c916b&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52782?repo=metabase/metabase&commitHash=323e05f336d1a6e12fef439bc2d7076f8b8c916b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2814316028,pull_request,closed,,[Cards in Dashboards] Trash UI when removing last dashcard for a dashboard question,"[ENG-14500](https://linear.app/metabase-inc/issue/ENG-14500/last-dashcard-for-a-dashboard-question-should-show-trash-ui)

### Description

Updates the dashboard actions so that the last dashcard for a dashboard question highlights the fact that it will also get trashed as part of being removed from the dashboard. Additionally, the undo toast's copy now reflects trash + removal.

### How to verify

- Go to a dashboard, add a new dashboard question to it
- The remove button for your new dashboard question should be a trash button
- Duplicate the dashcard
- Both dash cards should be the normal remove UI, neither should be a trash button
- Remove one of the dashcards, the other should have a trash button again
- Add a normal / non-dashboard question to your dashboard, it should never have a trash button

### Demo

https://github.com/user-attachments/assets/e5efcb41-3579-4cec-a0df-8649a0903ee6

### Checklist
- [x] Tests have been added/updated to cover changes in this PR
",sloansparger,2025-01-28 00:00:15+00:00,['sloansparger'],2025-02-04 18:52:52+00:00,2025-02-04 18:03:06+00:00,https://github.com/metabase/metabase/pull/52781,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team'), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2617354661, 'issue_id': 2814316028, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13506_tests-71cbe5af-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52781?repo=metabase/metabase&commitHash=71cbe5afa8327794ca23dc865a0398592bc2d742&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52781?repo=metabase/metabase&commitHash=71cbe5afa8327794ca23dc865a0398592bc2d742&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52781?repo=metabase/metabase&commitHash=71cbe5afa8327794ca23dc865a0398592bc2d742&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52781?repo=metabase/metabase&commitHash=71cbe5afa8327794ca23dc865a0398592bc2d742&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52781?repo=metabase/metabase&commitHash=71cbe5afa8327794ca23dc865a0398592bc2d742&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 0, 56, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620175986, 'issue_id': 2814316028, 'author': 'github-actions[bot]', 'body': '👋 Deploying a preview environment for commit 71cbe5afa8327794ca23dc865a0398592bc2d742.\n✅ Preview:\n    https://pr52781.coredev.metabase.com\n🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2025, 1, 28, 22, 22, 11, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-28 00:56:53 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13506_tests-71cbe5af-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52781?repo=metabase/metabase&commitHash=71cbe5afa8327794ca23dc865a0398592bc2d742&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52781?repo=metabase/metabase&commitHash=71cbe5afa8327794ca23dc865a0398592bc2d742&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52781?repo=metabase/metabase&commitHash=71cbe5afa8327794ca23dc865a0398592bc2d742&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52781?repo=metabase/metabase&commitHash=71cbe5afa8327794ca23dc865a0398592bc2d742&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52781?repo=metabase/metabase&commitHash=71cbe5afa8327794ca23dc865a0398592bc2d742&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-28 22:22:11 UTC): 👋 Deploying a preview environment for commit 71cbe5afa8327794ca23dc865a0398592bc2d742.
✅ Preview:
    https://pr52781.coredev.metabase.com
🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

"
2814295683,pull_request,closed,,"🤖 backported ""Auto-rewrite defendpoint forms in ldap.clj""",#52565,github-automation-metabase,2025-01-27 23:41:48+00:00,"['camsaul', 'github-automation-metabase']",2025-01-28 01:27:54+00:00,2025-01-28 00:09:16+00:00,https://github.com/metabase/metabase/pull/52780,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2617263922, 'issue_id': 2814295683, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/92441_tests-dc995b88-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52780?repo=metabase/metabase&commitHash=dc995b88a51f36a0dd607bb5d358944951b93e2e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/9-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52780?repo=metabase/metabase&commitHash=dc995b88a51f36a0dd607bb5d358944951b93e2e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52780?repo=metabase/metabase&commitHash=dc995b88a51f36a0dd607bb5d358944951b93e2e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52780?repo=metabase/metabase&commitHash=dc995b88a51f36a0dd607bb5d358944951b93e2e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52780?repo=metabase/metabase&commitHash=dc995b88a51f36a0dd607bb5d358944951b93e2e&utm_source=gh-comment&runConclusion=FAILURE&runId=68cfd07e-be1a-5a1a-b67b-53ce6ab5b860) |\n| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52780?repo=metabase/metabase&commitHash=dc995b88a51f36a0dd607bb5d358944951b93e2e&utm_source=gh-comment&runConclusion=FAILURE&runId=a9053a7e-13f5-5a11-8539-3722b9cb3974) |\n| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52780?repo=metabase/metabase&commitHash=dc995b88a51f36a0dd607bb5d358944951b93e2e&utm_source=gh-comment&runConclusion=FAILURE&runId=fd8abaa5-e619-5f85-9b89-8fbc42f6b490) |\n| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52780?repo=metabase/metabase&commitHash=dc995b88a51f36a0dd607bb5d358944951b93e2e&utm_source=gh-comment&runConclusion=FAILURE&runId=9012e3d2-bbd3-5fe8-8b99-beb87b8418ac) |\n\n[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52780?repo=metabase/metabase&commitHash=dc995b88a51f36a0dd607bb5d358944951b93e2e&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52780?repo=metabase/metabase&commitHash=dc995b88a51f36a0dd607bb5d358944951b93e2e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 28, 0, 35, 19, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-28 00:35:19 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/92441_tests-dc995b88-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52780?repo=metabase/metabase&commitHash=dc995b88a51f36a0dd607bb5d358944951b93e2e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/9-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52780?repo=metabase/metabase&commitHash=dc995b88a51f36a0dd607bb5d358944951b93e2e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52780?repo=metabase/metabase&commitHash=dc995b88a51f36a0dd607bb5d358944951b93e2e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52780?repo=metabase/metabase&commitHash=dc995b88a51f36a0dd607bb5d358944951b93e2e&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52780?repo=metabase/metabase&commitHash=dc995b88a51f36a0dd607bb5d358944951b93e2e&utm_source=gh-comment&runConclusion=FAILURE&runId=68cfd07e-be1a-5a1a-b67b-53ce6ab5b860) |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52780?repo=metabase/metabase&commitHash=dc995b88a51f36a0dd607bb5d358944951b93e2e&utm_source=gh-comment&runConclusion=FAILURE&runId=a9053a7e-13f5-5a11-8539-3722b9cb3974) |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52780?repo=metabase/metabase&commitHash=dc995b88a51f36a0dd607bb5d358944951b93e2e&utm_source=gh-comment&runConclusion=FAILURE&runId=fd8abaa5-e619-5f85-9b89-8fbc42f6b490) |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52780?repo=metabase/metabase&commitHash=dc995b88a51f36a0dd607bb5d358944951b93e2e&utm_source=gh-comment&runConclusion=FAILURE&runId=9012e3d2-bbd3-5fe8-8b99-beb87b8418ac) |

[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52780?repo=metabase/metabase&commitHash=dc995b88a51f36a0dd607bb5d358944951b93e2e&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52780?repo=metabase/metabase&commitHash=dc995b88a51f36a0dd607bb5d358944951b93e2e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2814286790,pull_request,closed,,Add tests for file downloads from the public link sharing popover,"[Context](https://metaboat.slack.com/archives/C0645JP1W81/p1737600068608569)

This is the first part of solving the issues with the under-tested public downloads. This PR adds simple tests for checking if file downloads work from the public link sharing popover, for CSV, JSON, and XLSX.

<img width=""460"" alt=""image"" src=""https://github.com/user-attachments/assets/44d0b95e-ea33-43a2-b823-e82fca3159e5"" />

",oisincoveney,2025-01-27 23:33:37+00:00,['oisincoveney'],2025-02-06 20:11:15+00:00,2025-01-30 23:01:54+00:00,https://github.com/metabase/metabase/pull/52779,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2617133093, 'issue_id': 2814286790, 'author': 'oisincoveney', 'body': 'This change is part of the following stack:\n\n- #52779 ◀\n\n<sub>Change managed by [git-spice](https://abhinav.github.io/git-spice/).</sub>\n<!-- gs:navigation comment -->', 'created_at': datetime.datetime(2025, 1, 27, 23, 33, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617256285, 'issue_id': 2814286790, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3750_tests-8c2b8e56-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52779?repo=metabase/metabase&commitHash=8c2b8e5665fcef59ff2c3139414275a2bf1c722b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52779?repo=metabase/metabase&commitHash=8c2b8e5665fcef59ff2c3139414275a2bf1c722b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52779?repo=metabase/metabase&commitHash=8c2b8e5665fcef59ff2c3139414275a2bf1c722b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52779?repo=metabase/metabase&commitHash=8c2b8e5665fcef59ff2c3139414275a2bf1c722b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and \'Browse databases\' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52779?repo=metabase/metabase&commitHash=8c2b8e5665fcef59ff2c3139414275a2bf1c722b&utm_source=gh-comment&runConclusion=FAILURE&runId=8f38b289-a3fa-5a16-959d-5fb294d1189d) |\n| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52779?repo=metabase/metabase&commitHash=8c2b8e5665fcef59ff2c3139414275a2bf1c722b&utm_source=gh-comment&runConclusion=FAILURE&runId=c4367590-711a-55e2-90b8-8c60ad285dce) |\n| <code>scenarios > model indexes should not reload the model for record in the same model</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52779?repo=metabase/metabase&commitHash=8c2b8e5665fcef59ff2c3139414275a2bf1c722b&utm_source=gh-comment&runConclusion=FAILURE&runId=50e93cf4-2c29-57c7-a42d-00e039562b1b) |\n| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52779?repo=metabase/metabase&commitHash=8c2b8e5665fcef59ff2c3139414275a2bf1c722b&utm_source=gh-comment&runConclusion=FAILURE&runId=23188007-dad7-5e06-b333-085c28dd95bf) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52779?repo=metabase/metabase&commitHash=8c2b8e5665fcef59ff2c3139414275a2bf1c722b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 0, 28, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625751094, 'issue_id': 2814286790, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `8c2b8e5665fcef59ff2c3139414275a2bf1c722b-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13062462100?pr=52779)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can share a dashboard card via public link\n`model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model\n`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette\n`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link"", 'created_at': datetime.datetime(2025, 1, 30, 22, 40, 35, tzinfo=datetime.timezone.utc)}]","oisincoveney (Issue Creator) on (2025-01-27 23:33:45 UTC): This change is part of the following stack:

- #52779 ◀

<sub>Change managed by [git-spice](https://abhinav.github.io/git-spice/).</sub>
<!-- gs:navigation comment -->

trunk-io[bot] on (2025-01-28 00:28:14 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3750_tests-8c2b8e56-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52779?repo=metabase/metabase&commitHash=8c2b8e5665fcef59ff2c3139414275a2bf1c722b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52779?repo=metabase/metabase&commitHash=8c2b8e5665fcef59ff2c3139414275a2bf1c722b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52779?repo=metabase/metabase&commitHash=8c2b8e5665fcef59ff2c3139414275a2bf1c722b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52779?repo=metabase/metabase&commitHash=8c2b8e5665fcef59ff2c3139414275a2bf1c722b&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and 'Browse databases' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52779?repo=metabase/metabase&commitHash=8c2b8e5665fcef59ff2c3139414275a2bf1c722b&utm_source=gh-comment&runConclusion=FAILURE&runId=8f38b289-a3fa-5a16-959d-5fb294d1189d) |
| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52779?repo=metabase/metabase&commitHash=8c2b8e5665fcef59ff2c3139414275a2bf1c722b&utm_source=gh-comment&runConclusion=FAILURE&runId=c4367590-711a-55e2-90b8-8c60ad285dce) |
| <code>scenarios > model indexes should not reload the model for record in the same model</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52779?repo=metabase/metabase&commitHash=8c2b8e5665fcef59ff2c3139414275a2bf1c722b&utm_source=gh-comment&runConclusion=FAILURE&runId=50e93cf4-2c29-57c7-a42d-00e039562b1b) |
| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52779?repo=metabase/metabase&commitHash=8c2b8e5665fcef59ff2c3139414275a2bf1c722b&utm_source=gh-comment&runConclusion=FAILURE&runId=23188007-dad7-5e06-b333-085c28dd95bf) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52779?repo=metabase/metabase&commitHash=8c2b8e5665fcef59ff2c3139414275a2bf1c722b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-30 22:40:35 UTC): ## e2e tests failed on `8c2b8e5665fcef59ff2c3139414275a2bf1c722b-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13062462100?pr=52779)

  File | Test Name
  ---- | ---------
  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can share a dashboard card via public link
`model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model
`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette
`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link

"
2814252855,pull_request,closed,,"🤖 backported ""Allow dashes in hashes""",#52764,github-automation-metabase,2025-01-27 23:13:34+00:00,"['iethree', 'github-automation-metabase']",2025-01-28 00:56:04+00:00,2025-01-27 23:39:48+00:00,https://github.com/metabase/metabase/pull/52778,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2617125542, 'issue_id': 2814252855, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `c4533923f29925068fd9b33249c215b5e10c903f-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13000163510?pr=52778)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can share a dashboard card via public link\n`dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)', 'created_at': datetime.datetime(2025, 1, 27, 23, 27, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617255898, 'issue_id': 2814252855, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3700_tests-c4533923-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52778?repo=metabase/metabase&commitHash=c4533923f29925068fd9b33249c215b5e10c903f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/11-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52778?repo=metabase/metabase&commitHash=c4533923f29925068fd9b33249c215b5e10c903f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52778?repo=metabase/metabase&commitHash=c4533923f29925068fd9b33249c215b5e10c903f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52778?repo=metabase/metabase&commitHash=c4533923f29925068fd9b33249c215b5e10c903f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 16559 should always show the most recent revision (metabase\\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52778?repo=metabase/metabase&commitHash=c4533923f29925068fd9b33249c215b5e10c903f&utm_source=gh-comment&runConclusion=FAILURE&runId=7b6f37e7-0115-580a-975d-6489e3c8ebaf) |\n| <code>An uncaught error was detected outside of a test</code> | The \'@metabase/embedding-sdk-react\' module was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52778?repo=metabase/metabase&commitHash=c4533923f29925068fd9b33249c215b5e10c903f&utm_source=gh-comment&runConclusion=FAILURE&runId=179515df-1a73-56ac-8475-0eab262cfad6) |\n| <code>An uncaught error was detected outside of a test</code> | The \'@metabase/embedding-sdk-react\' module was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52778?repo=metabase/metabase&commitHash=c4533923f29925068fd9b33249c215b5e10c903f&utm_source=gh-comment&runConclusion=FAILURE&runId=cde8a796-d58a-513e-a8c1-0b94a49a89c7) |\n| <code>An uncaught error was detected outside of a test</code> | The \'@metabase/embedding-sdk-react\' module was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52778?repo=metabase/metabase&commitHash=c4533923f29925068fd9b33249c215b5e10c903f&utm_source=gh-comment&runConclusion=FAILURE&runId=08d5e56a-08fd-53e1-bdaa-2f1496ba3d48) |\n\n[... and 7 more](https://app.trunk.io/metabase/flaky-tests/pr/52778?repo=metabase/metabase&commitHash=c4533923f29925068fd9b33249c215b5e10c903f&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52778?repo=metabase/metabase&commitHash=c4533923f29925068fd9b33249c215b5e10c903f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 0, 27, 52, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-27 23:27:51 UTC): ## e2e tests failed on `c4533923f29925068fd9b33249c215b5e10c903f-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13000163510?pr=52778)

  File | Test Name
  ---- | ---------
  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can share a dashboard card via public link
`dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)

trunk-io[bot] on (2025-01-28 00:27:52 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3700_tests-c4533923-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52778?repo=metabase/metabase&commitHash=c4533923f29925068fd9b33249c215b5e10c903f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/11-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52778?repo=metabase/metabase&commitHash=c4533923f29925068fd9b33249c215b5e10c903f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52778?repo=metabase/metabase&commitHash=c4533923f29925068fd9b33249c215b5e10c903f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52778?repo=metabase/metabase&commitHash=c4533923f29925068fd9b33249c215b5e10c903f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 16559 should always show the most recent revision (metabase\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52778?repo=metabase/metabase&commitHash=c4533923f29925068fd9b33249c215b5e10c903f&utm_source=gh-comment&runConclusion=FAILURE&runId=7b6f37e7-0115-580a-975d-6489e3c8ebaf) |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52778?repo=metabase/metabase&commitHash=c4533923f29925068fd9b33249c215b5e10c903f&utm_source=gh-comment&runConclusion=FAILURE&runId=179515df-1a73-56ac-8475-0eab262cfad6) |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52778?repo=metabase/metabase&commitHash=c4533923f29925068fd9b33249c215b5e10c903f&utm_source=gh-comment&runConclusion=FAILURE&runId=cde8a796-d58a-513e-a8c1-0b94a49a89c7) |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52778?repo=metabase/metabase&commitHash=c4533923f29925068fd9b33249c215b5e10c903f&utm_source=gh-comment&runConclusion=FAILURE&runId=08d5e56a-08fd-53e1-bdaa-2f1496ba3d48) |

[... and 7 more](https://app.trunk.io/metabase/flaky-tests/pr/52778?repo=metabase/metabase&commitHash=c4533923f29925068fd9b33249c215b5e10c903f&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52778?repo=metabase/metabase&commitHash=c4533923f29925068fd9b33249c215b5e10c903f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2814246215,pull_request,closed,,"🤖 backported ""Auto-rewrite defendpoint forms in dashboard.clj""",#52481,github-automation-metabase,2025-01-27 23:09:04+00:00,"['camsaul', 'github-automation-metabase']",2025-01-30 02:43:51+00:00,2025-01-30 01:54:05+00:00,https://github.com/metabase/metabase/pull/52777,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2617214596, 'issue_id': 2814246215, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/98972_tests-223eb350-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52777?repo=metabase/metabase&commitHash=223eb350f8734f0b16eb88d94fdce3d46f7dfd09&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52777?repo=metabase/metabase&commitHash=223eb350f8734f0b16eb88d94fdce3d46f7dfd09&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/35-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52777?repo=metabase/metabase&commitHash=223eb350f8734f0b16eb88d94fdce3d46f7dfd09&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52777?repo=metabase/metabase&commitHash=223eb350f8734f0b16eb88d94fdce3d46f7dfd09&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>sync-test</code> | The \\`driver/describe-database\\` implementation did not return the expected results for the test-data schema. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52777?repo=metabase/metabase&commitHash=223eb350f8734f0b16eb88d94fdce3d46f7dfd09&utm_source=gh-comment&runConclusion=FAILURE&runId=a8e98121-fcaf-5c1e-bd3e-5ee6fdd67dd7) |\n| <code>update-csv-data-perms-test</code> | The schema ""2025\\_01\\_28\\_74afd4fc\\_128f\\_4650\\_bb10\\_02f4d7d02958\\_schema"" was dropped by a concurrent transaction. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52777?repo=metabase/metabase&commitHash=223eb350f8734f0b16eb88d94fdce3d46f7dfd09&utm_source=gh-comment&runConclusion=FAILURE&runId=faa7c0bb-02b9-5c68-b368-5d4c513ed7f1) |\n| <code>sql-with-join-test-2</code> | The schema ""metabase\\_cache\\_fc484\\_228"" was dropped by a concurrent transaction. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52777?repo=metabase/metabase&commitHash=223eb350f8734f0b16eb88d94fdce3d46f7dfd09&utm_source=gh-comment&runConclusion=FAILURE&runId=93b3ffa9-c137-5667-ba6f-d1ad5b163c73) |\n| <code>conn-impersonation-test-redshift</code> | The schema ""2025\\_01\\_28\\_aa9cea5d\\_e7e7\\_4caf\\_9a2b\\_4a606c516022\\_schema"" was dropped by a concurrent transaction. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52777?repo=metabase/metabase&commitHash=223eb350f8734f0b16eb88d94fdce3d46f7dfd09&utm_source=gh-comment&runConclusion=FAILURE&runId=477bd54a-adb3-56ef-b55b-93acc534c931) |\n\n[... and 31 more](https://app.trunk.io/metabase/flaky-tests/pr/52777?repo=metabase/metabase&commitHash=223eb350f8734f0b16eb88d94fdce3d46f7dfd09&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52777?repo=metabase/metabase&commitHash=223eb350f8734f0b16eb88d94fdce3d46f7dfd09&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 27, 23, 54, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623284297, 'issue_id': 2814246215, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `223eb350f8734f0b16eb88d94fdce3d46f7dfd09-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13043297177?pr=52777)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | should not redirect users to other pages when linking an entity (metabase#35037) > should not redirect users to search item\n`model-indexes.cy.spec.js` | scenarios > model indexes > should be able to search model index values and visit detail records\n`model-indexes.cy.spec.js` | scenarios > model indexes > should be able to see details of a record outside the first 2000', 'created_at': datetime.datetime(2025, 1, 30, 0, 56, 59, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-27 23:54:26 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/98972_tests-223eb350-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52777?repo=metabase/metabase&commitHash=223eb350f8734f0b16eb88d94fdce3d46f7dfd09&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52777?repo=metabase/metabase&commitHash=223eb350f8734f0b16eb88d94fdce3d46f7dfd09&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/35-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52777?repo=metabase/metabase&commitHash=223eb350f8734f0b16eb88d94fdce3d46f7dfd09&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52777?repo=metabase/metabase&commitHash=223eb350f8734f0b16eb88d94fdce3d46f7dfd09&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>sync-test</code> | The \`driver/describe-database\` implementation did not return the expected results for the test-data schema. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52777?repo=metabase/metabase&commitHash=223eb350f8734f0b16eb88d94fdce3d46f7dfd09&utm_source=gh-comment&runConclusion=FAILURE&runId=a8e98121-fcaf-5c1e-bd3e-5ee6fdd67dd7) |
| <code>update-csv-data-perms-test</code> | The schema ""2025\_01\_28\_74afd4fc\_128f\_4650\_bb10\_02f4d7d02958\_schema"" was dropped by a concurrent transaction. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52777?repo=metabase/metabase&commitHash=223eb350f8734f0b16eb88d94fdce3d46f7dfd09&utm_source=gh-comment&runConclusion=FAILURE&runId=faa7c0bb-02b9-5c68-b368-5d4c513ed7f1) |
| <code>sql-with-join-test-2</code> | The schema ""metabase\_cache\_fc484\_228"" was dropped by a concurrent transaction. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52777?repo=metabase/metabase&commitHash=223eb350f8734f0b16eb88d94fdce3d46f7dfd09&utm_source=gh-comment&runConclusion=FAILURE&runId=93b3ffa9-c137-5667-ba6f-d1ad5b163c73) |
| <code>conn-impersonation-test-redshift</code> | The schema ""2025\_01\_28\_aa9cea5d\_e7e7\_4caf\_9a2b\_4a606c516022\_schema"" was dropped by a concurrent transaction. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52777?repo=metabase/metabase&commitHash=223eb350f8734f0b16eb88d94fdce3d46f7dfd09&utm_source=gh-comment&runConclusion=FAILURE&runId=477bd54a-adb3-56ef-b55b-93acc534c931) |

[... and 31 more](https://app.trunk.io/metabase/flaky-tests/pr/52777?repo=metabase/metabase&commitHash=223eb350f8734f0b16eb88d94fdce3d46f7dfd09&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52777?repo=metabase/metabase&commitHash=223eb350f8734f0b16eb88d94fdce3d46f7dfd09&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-30 00:56:59 UTC): ## e2e tests failed on `223eb350f8734f0b16eb88d94fdce3d46f7dfd09-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13043297177?pr=52777)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | should not redirect users to other pages when linking an entity (metabase#35037) > should not redirect users to search item
`model-indexes.cy.spec.js` | scenarios > model indexes > should be able to search model index values and visit detail records
`model-indexes.cy.spec.js` | scenarios > model indexes > should be able to see details of a record outside the first 2000

"
2814237336,pull_request,closed,,"🤖 backported ""Auto-rewrite defendpoint forms in dataset.clj""",#52552,github-automation-metabase,2025-01-27 23:03:19+00:00,"['camsaul', 'github-automation-metabase']",2025-01-30 02:26:07+00:00,2025-01-30 00:41:48+00:00,https://github.com/metabase/metabase/pull/52776,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2617215315, 'issue_id': 2814237336, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/5759_tests-e6d57ec1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52776?repo=metabase/metabase&commitHash=e6d57ec12f033db4448aab9fa45bbade7d321da1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/19-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52776?repo=metabase/metabase&commitHash=e6d57ec12f033db4448aab9fa45bbade7d321da1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/52-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52776?repo=metabase/metabase&commitHash=e6d57ec12f033db4448aab9fa45bbade7d321da1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52776?repo=metabase/metabase&commitHash=e6d57ec12f033db4448aab9fa45bbade7d321da1&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>with-upload-table!-and-do-with-uploaded-example-csv!-test</code> | The Redshift schema '2025\\_01\\_28\\_2d11c9eb\\_ca8b\\_40c6\\_a003\\_53dcc19e6f18\\_schema' does not exist. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52776?repo=metabase/metabase&commitHash=e6d57ec12f033db4448aab9fa45bbade7d321da1&utm_source=gh-comment&runConclusion=FAILURE&runId=d5646763-0510-56c6-ac62-107f61277671) |\n| <code>nulls-and-zeroes-test-1</code> | Expected a specific table to be found in the database, but it was not. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52776?repo=metabase/metabase&commitHash=e6d57ec12f033db4448aab9fa45bbade7d321da1&utm_source=gh-comment&runConclusion=FAILURE&runId=c9196619-ffb9-56c3-be80-bd34e6c1ab09) |\n| <code>datetime-diff-time-zones-test</code> | No Table 'times' found for :redshift Database 272 'diff-time-zones-cases (redshift)' | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52776?repo=metabase/metabase&commitHash=e6d57ec12f033db4448aab9fa45bbade7d321da1&utm_source=gh-comment&runConclusion=FAILURE&runId=fed8a836-5b11-505e-894d-1575b8663413) |\n| <code>nulls-and-zeroes-test-4</code> | The test failed because the database table 'bird-count' was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52776?repo=metabase/metabase&commitHash=e6d57ec12f033db4448aab9fa45bbade7d321da1&utm_source=gh-comment&runConclusion=FAILURE&runId=048880e9-ea06-5695-9b16-a6fd2931cd31) |\n\n[... and 15 more](https://app.trunk.io/metabase/flaky-tests/pr/52776?repo=metabase/metabase&commitHash=e6d57ec12f033db4448aab9fa45bbade7d321da1&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>include-no-fields-test</code> | No table 'flock' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52776?repo=metabase/metabase&commitHash=e6d57ec12f033db4448aab9fa45bbade7d321da1&utm_source=gh-comment&runConclusion=FAILURE&runId=ff9d9c55-9a7e-5702-8337-b86fd8b0e713) |\n| <code>specific-fields-test</code> | Expected table 'bird' to be found in the database, but it was not. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52776?repo=metabase/metabase&commitHash=e6d57ec12f033db4448aab9fa45bbade7d321da1&utm_source=gh-comment&runConclusion=FAILURE&runId=8881d039-8892-5d61-9edb-ab7617f1058b) |\n| <code>left-outer-join-test</code> | No table 'bird' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52776?repo=metabase/metabase&commitHash=e6d57ec12f033db4448aab9fa45bbade7d321da1&utm_source=gh-comment&runConclusion=FAILURE&runId=e9e04a53-49ae-5c03-b688-5c97e030f2b2) |\n| <code>full-join-test</code> | No table 'bird' found in the Redshift database 'bird-flocks (redshift)' | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52776?repo=metabase/metabase&commitHash=e6d57ec12f033db4448aab9fa45bbade7d321da1&utm_source=gh-comment&runConclusion=FAILURE&runId=40a36591-c123-5332-946d-781612a168c6) |\n\n[... and 48 more](https://app.trunk.io/metabase/flaky-tests/pr/52776?repo=metabase/metabase&commitHash=e6d57ec12f033db4448aab9fa45bbade7d321da1&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52776?repo=metabase/metabase&commitHash=e6d57ec12f033db4448aab9fa45bbade7d321da1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 27, 23, 54, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623187234, 'issue_id': 2814237336, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `6e647ac878658ce43331d1d79275e01441e38a0d-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13042486112?pr=52776)\n\n  File | Test Name\n  ---- | ---------\n  `actions-reproductions.cy.spec.js` | issue 51020 > when primary key is not called 'id' > should pass primary key attribute to execute action endpoint when it's populated with click behavior or URL (metabase#51020)"", 'created_at': datetime.datetime(2025, 1, 29, 23, 47, 59, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-27 23:54:56 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/5759_tests-e6d57ec1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52776?repo=metabase/metabase&commitHash=e6d57ec12f033db4448aab9fa45bbade7d321da1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/19-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52776?repo=metabase/metabase&commitHash=e6d57ec12f033db4448aab9fa45bbade7d321da1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/52-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52776?repo=metabase/metabase&commitHash=e6d57ec12f033db4448aab9fa45bbade7d321da1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52776?repo=metabase/metabase&commitHash=e6d57ec12f033db4448aab9fa45bbade7d321da1&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>with-upload-table!-and-do-with-uploaded-example-csv!-test</code> | The Redshift schema '2025\_01\_28\_2d11c9eb\_ca8b\_40c6\_a003\_53dcc19e6f18\_schema' does not exist. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52776?repo=metabase/metabase&commitHash=e6d57ec12f033db4448aab9fa45bbade7d321da1&utm_source=gh-comment&runConclusion=FAILURE&runId=d5646763-0510-56c6-ac62-107f61277671) |
| <code>nulls-and-zeroes-test-1</code> | Expected a specific table to be found in the database, but it was not. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52776?repo=metabase/metabase&commitHash=e6d57ec12f033db4448aab9fa45bbade7d321da1&utm_source=gh-comment&runConclusion=FAILURE&runId=c9196619-ffb9-56c3-be80-bd34e6c1ab09) |
| <code>datetime-diff-time-zones-test</code> | No Table 'times' found for :redshift Database 272 'diff-time-zones-cases (redshift)' | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52776?repo=metabase/metabase&commitHash=e6d57ec12f033db4448aab9fa45bbade7d321da1&utm_source=gh-comment&runConclusion=FAILURE&runId=fed8a836-5b11-505e-894d-1575b8663413) |
| <code>nulls-and-zeroes-test-4</code> | The test failed because the database table 'bird-count' was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52776?repo=metabase/metabase&commitHash=e6d57ec12f033db4448aab9fa45bbade7d321da1&utm_source=gh-comment&runConclusion=FAILURE&runId=048880e9-ea06-5695-9b16-a6fd2931cd31) |

[... and 15 more](https://app.trunk.io/metabase/flaky-tests/pr/52776?repo=metabase/metabase&commitHash=e6d57ec12f033db4448aab9fa45bbade7d321da1&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>include-no-fields-test</code> | No table 'flock' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52776?repo=metabase/metabase&commitHash=e6d57ec12f033db4448aab9fa45bbade7d321da1&utm_source=gh-comment&runConclusion=FAILURE&runId=ff9d9c55-9a7e-5702-8337-b86fd8b0e713) |
| <code>specific-fields-test</code> | Expected table 'bird' to be found in the database, but it was not. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52776?repo=metabase/metabase&commitHash=e6d57ec12f033db4448aab9fa45bbade7d321da1&utm_source=gh-comment&runConclusion=FAILURE&runId=8881d039-8892-5d61-9edb-ab7617f1058b) |
| <code>left-outer-join-test</code> | No table 'bird' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52776?repo=metabase/metabase&commitHash=e6d57ec12f033db4448aab9fa45bbade7d321da1&utm_source=gh-comment&runConclusion=FAILURE&runId=e9e04a53-49ae-5c03-b688-5c97e030f2b2) |
| <code>full-join-test</code> | No table 'bird' found in the Redshift database 'bird-flocks (redshift)' | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52776?repo=metabase/metabase&commitHash=e6d57ec12f033db4448aab9fa45bbade7d321da1&utm_source=gh-comment&runConclusion=FAILURE&runId=40a36591-c123-5332-946d-781612a168c6) |

[... and 48 more](https://app.trunk.io/metabase/flaky-tests/pr/52776?repo=metabase/metabase&commitHash=e6d57ec12f033db4448aab9fa45bbade7d321da1&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52776?repo=metabase/metabase&commitHash=e6d57ec12f033db4448aab9fa45bbade7d321da1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-29 23:47:59 UTC): ## e2e tests failed on `6e647ac878658ce43331d1d79275e01441e38a0d-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13042486112?pr=52776)

  File | Test Name
  ---- | ---------
  `actions-reproductions.cy.spec.js` | issue 51020 > when primary key is not called 'id' > should pass primary key attribute to execute action endpoint when it's populated with click behavior or URL (metabase#51020)

"
2814236705,pull_request,closed,,Update Translations for v53,"Update translations from POEditor for v53

See [translation update documentation](https://www.notion.so/metabase/Process-for-updating-translations-421db70048fe400da1153ad0b61102f4)

## To Do

- [x] Upload new strings to POEditor
- [ ] Message contributors on POEditor (manual)
- [x] Copy source strings to english language (manual)
- [x] Download translations from POEditor (github action)
- [ ] Merge this PR and backport to the release branch (manual)
",github-actions[bot],2025-01-27 23:02:50+00:00,['iethree'],2025-02-05 23:02:13+00:00,2025-02-05 22:29:21+00:00,https://github.com/metabase/metabase/pull/52775,"[('Customization/i18n', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2637648225, 'issue_id': 2814236705, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/77042_tests-993bdebf-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52775?repo=metabase/metabase&commitHash=993bdebf63cfe177825be56231df9af1e9d59207&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52775?repo=metabase/metabase&commitHash=993bdebf63cfe177825be56231df9af1e9d59207&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52775?repo=metabase/metabase&commitHash=993bdebf63cfe177825be56231df9af1e9d59207&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52775?repo=metabase/metabase&commitHash=993bdebf63cfe177825be56231df9af1e9d59207&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>extract-nested-efficient-test</code> | Expected and actual instances of Dashboard do not match. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52775?repo=metabase/metabase&commitHash=993bdebf63cfe177825be56231df9af1e9d59207&utm_source=gh-comment&runConclusion=FAILURE&runId=6cd6eae7-a55a-5446-ae6e-857f8e6be151) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52775?repo=metabase/metabase&commitHash=993bdebf63cfe177825be56231df9af1e9d59207&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 2, 5, 18, 0, 40, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-02-05 18:00:40 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/77042_tests-993bdebf-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52775?repo=metabase/metabase&commitHash=993bdebf63cfe177825be56231df9af1e9d59207&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52775?repo=metabase/metabase&commitHash=993bdebf63cfe177825be56231df9af1e9d59207&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52775?repo=metabase/metabase&commitHash=993bdebf63cfe177825be56231df9af1e9d59207&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52775?repo=metabase/metabase&commitHash=993bdebf63cfe177825be56231df9af1e9d59207&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>extract-nested-efficient-test</code> | Expected and actual instances of Dashboard do not match. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52775?repo=metabase/metabase&commitHash=993bdebf63cfe177825be56231df9af1e9d59207&utm_source=gh-comment&runConclusion=FAILURE&runId=6cd6eae7-a55a-5446-ae6e-857f8e6be151) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52775?repo=metabase/metabase&commitHash=993bdebf63cfe177825be56231df9af1e9d59207&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2814215524,pull_request,closed,,"🤖 backported ""Don't email ""new login"" detected emails on embedded logins""","  #52286
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-27 22:47:02+00:00,"['nvoxland', 'github-automation-metabase']",2025-01-30 22:08:26+00:00,2025-01-30 22:08:25+00:00,https://github.com/metabase/metabase/pull/52773,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2619807767, 'issue_id': 2814215524, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/73913_tests-285224bf-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=285224bf93a9fde0c8b20a4b0bac9410b26173b8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=285224bf93a9fde0c8b20a4b0bac9410b26173b8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/186-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=285224bf93a9fde0c8b20a4b0bac9410b26173b8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=285224bf93a9fde0c8b20a4b0bac9410b26173b8&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>post-db-id-test</code> | Timed out after 45.0 s while waiting for a response from the server. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=285224bf93a9fde0c8b20a4b0bac9410b26173b8&utm_source=gh-comment&runConclusion=FAILURE&runId=434301e4-7d84-54d0-b879-58b1d2546bfb) |\n| <code>describe-database-exclude-metabase-cache-test</code> | No Table \'users\' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=285224bf93a9fde0c8b20a4b0bac9410b26173b8&utm_source=gh-comment&runConclusion=FAILURE&runId=a91e5bea-ed85-54f2-8dbe-3799ee862790) |\n| <code>describe-database-exclude-metabase-cache-test</code> | The Redshift query failed because the relation ""2025\\_01\\_29\\_07c3bb4b\\_5996\\_4cf3\\_aaf9\\_96efab6c3d32\\_schema.dqufzsvvpbaadffqnxvo"" does not exist. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=285224bf93a9fde0c8b20a4b0bac9410b26173b8&utm_source=gh-comment&runConclusion=FAILURE&runId=b001d99d-6ee7-585b-8bed-04bc05384f29) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>results-test</code> | No table \'incidents\' found in Redshift database \'sad-toucan-incidents\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=285224bf93a9fde0c8b20a4b0bac9410b26173b8&utm_source=gh-comment&runConclusion=FAILURE&runId=db9e9cfd-cc94-5caa-aa94-2512c6138b06) |\n| <code>nested-convert-timezone-test</code> | No table \'times\' found in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=285224bf93a9fde0c8b20a4b0bac9410b26173b8&utm_source=gh-comment&runConclusion=FAILURE&runId=c6dfd233-6036-519b-a079-6f69f954dfdb) |\n| <code>group-by-day-of-month-test</code> | No table \'incidents\' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=285224bf93a9fde0c8b20a4b0bac9410b26173b8&utm_source=gh-comment&runConclusion=FAILURE&runId=e2bb3f4b-5d63-5dde-84c4-b357ed3227be) |\n| <code>prettify-native-form-executable-test</code> | No table \'orders\' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=285224bf93a9fde0c8b20a4b0bac9410b26173b8&utm_source=gh-comment&runConclusion=FAILURE&runId=701c1c83-59b5-5e1a-83e5-5f567cc11bde) |\n\n[... and 182 more](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=285224bf93a9fde0c8b20a4b0bac9410b26173b8&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=285224bf93a9fde0c8b20a4b0bac9410b26173b8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 18, 49, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619807769, 'issue_id': 2814215524, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/59385_tests-0bff68de-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=0bff68de6535822de31e3e2b74574c5772f27066&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=0bff68de6535822de31e3e2b74574c5772f27066&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=0bff68de6535822de31e3e2b74574c5772f27066&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=0bff68de6535822de31e3e2b74574c5772f27066&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>sync-test</code> | The expected database schema does not match the actual schema returned by \\`driver/describe-database\\`. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=0bff68de6535822de31e3e2b74574c5772f27066&utm_source=gh-comment&runConclusion=FAILURE&runId=9f672278-0b77-5de6-8124-b5e2937e6420) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=0bff68de6535822de31e3e2b74574c5772f27066&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 18, 49, 8, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-28 18:49:08 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/73913_tests-285224bf-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=285224bf93a9fde0c8b20a4b0bac9410b26173b8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=285224bf93a9fde0c8b20a4b0bac9410b26173b8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/186-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=285224bf93a9fde0c8b20a4b0bac9410b26173b8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=285224bf93a9fde0c8b20a4b0bac9410b26173b8&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>post-db-id-test</code> | Timed out after 45.0 s while waiting for a response from the server. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=285224bf93a9fde0c8b20a4b0bac9410b26173b8&utm_source=gh-comment&runConclusion=FAILURE&runId=434301e4-7d84-54d0-b879-58b1d2546bfb) |
| <code>describe-database-exclude-metabase-cache-test</code> | No Table 'users' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=285224bf93a9fde0c8b20a4b0bac9410b26173b8&utm_source=gh-comment&runConclusion=FAILURE&runId=a91e5bea-ed85-54f2-8dbe-3799ee862790) |
| <code>describe-database-exclude-metabase-cache-test</code> | The Redshift query failed because the relation ""2025\_01\_29\_07c3bb4b\_5996\_4cf3\_aaf9\_96efab6c3d32\_schema.dqufzsvvpbaadffqnxvo"" does not exist. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=285224bf93a9fde0c8b20a4b0bac9410b26173b8&utm_source=gh-comment&runConclusion=FAILURE&runId=b001d99d-6ee7-585b-8bed-04bc05384f29) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>results-test</code> | No table 'incidents' found in Redshift database 'sad-toucan-incidents'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=285224bf93a9fde0c8b20a4b0bac9410b26173b8&utm_source=gh-comment&runConclusion=FAILURE&runId=db9e9cfd-cc94-5caa-aa94-2512c6138b06) |
| <code>nested-convert-timezone-test</code> | No table 'times' found in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=285224bf93a9fde0c8b20a4b0bac9410b26173b8&utm_source=gh-comment&runConclusion=FAILURE&runId=c6dfd233-6036-519b-a079-6f69f954dfdb) |
| <code>group-by-day-of-month-test</code> | No table 'incidents' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=285224bf93a9fde0c8b20a4b0bac9410b26173b8&utm_source=gh-comment&runConclusion=FAILURE&runId=e2bb3f4b-5d63-5dde-84c4-b357ed3227be) |
| <code>prettify-native-form-executable-test</code> | No table 'orders' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=285224bf93a9fde0c8b20a4b0bac9410b26173b8&utm_source=gh-comment&runConclusion=FAILURE&runId=701c1c83-59b5-5e1a-83e5-5f567cc11bde) |

[... and 182 more](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=285224bf93a9fde0c8b20a4b0bac9410b26173b8&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=285224bf93a9fde0c8b20a4b0bac9410b26173b8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2025-01-28 18:49:08 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/59385_tests-0bff68de-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=0bff68de6535822de31e3e2b74574c5772f27066&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=0bff68de6535822de31e3e2b74574c5772f27066&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=0bff68de6535822de31e3e2b74574c5772f27066&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=0bff68de6535822de31e3e2b74574c5772f27066&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>sync-test</code> | The expected database schema does not match the actual schema returned by \`driver/describe-database\`. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=0bff68de6535822de31e3e2b74574c5772f27066&utm_source=gh-comment&runConclusion=FAILURE&runId=9f672278-0b77-5de6-8124-b5e2937e6420) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52773?repo=metabase/metabase&commitHash=0bff68de6535822de31e3e2b74574c5772f27066&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2814203497,pull_request,closed,,"🤖 backported ""Don't email ""new login"" detected emails on embedded logins""",#52286,github-automation-metabase,2025-01-27 22:37:49+00:00,"['nvoxland', 'github-automation-metabase']",2025-01-28 01:07:05+00:00,2025-01-28 01:07:04+00:00,https://github.com/metabase/metabase/pull/52772,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2617062925, 'issue_id': 2814203497, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `e29ab423f96ee7723f727f1afdbed24234e83d46-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12999700436?pr=52772)\n\n  File | Test Name\n  ---- | ---------\n  `search.cy.spec.js` | scenarios > search > universal search > should not overflow container if results contain descriptions with large unborken strings', 'created_at': datetime.datetime(2025, 1, 27, 22, 50, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617112939, 'issue_id': 2814203497, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/92881_tests-e29ab423-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52772?repo=metabase/metabase&commitHash=e29ab423f96ee7723f727f1afdbed24234e83d46&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/9-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52772?repo=metabase/metabase&commitHash=e29ab423f96ee7723f727f1afdbed24234e83d46&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52772?repo=metabase/metabase&commitHash=e29ab423f96ee7723f727f1afdbed24234e83d46&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52772?repo=metabase/metabase&commitHash=e29ab423f96ee7723f727f1afdbed24234e83d46&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>An uncaught error was detected outside of a test</code> | The \'@metabase/embedding-sdk-react\' module was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52772?repo=metabase/metabase&commitHash=e29ab423f96ee7723f727f1afdbed24234e83d46&utm_source=gh-comment&runConclusion=FAILURE&runId=bc26eee0-d839-5cad-99c6-8be6fb9c650f) |\n| <code>An uncaught error was detected outside of a test</code> | The \'@metabase/embedding-sdk-react\' module was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52772?repo=metabase/metabase&commitHash=e29ab423f96ee7723f727f1afdbed24234e83d46&utm_source=gh-comment&runConclusion=FAILURE&runId=4c27e84b-d77d-5170-94e5-8da979e3dfa1) |\n| <code>An uncaught error was detected outside of a test</code> | The \'@metabase/embedding-sdk-react\' module was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52772?repo=metabase/metabase&commitHash=e29ab423f96ee7723f727f1afdbed24234e83d46&utm_source=gh-comment&runConclusion=FAILURE&runId=960097dc-f70a-55b8-9aeb-2cda56534f43) |\n| <code>An uncaught error was detected outside of a test</code> | The \'@metabase/embedding-sdk-react\' module was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52772?repo=metabase/metabase&commitHash=e29ab423f96ee7723f727f1afdbed24234e83d46&utm_source=gh-comment&runConclusion=FAILURE&runId=8fdd58a6-1cd0-5fb3-9b63-36c8f26e596a) |\n\n[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52772?repo=metabase/metabase&commitHash=e29ab423f96ee7723f727f1afdbed24234e83d46&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52772?repo=metabase/metabase&commitHash=e29ab423f96ee7723f727f1afdbed24234e83d46&utm_source=gh-comment&runConclusion=FAILURE&runId=7c20ca68-410b-51c1-9ac0-0e40d4dd613d) |\n| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52772?repo=metabase/metabase&commitHash=e29ab423f96ee7723f727f1afdbed24234e83d46&utm_source=gh-comment&runConclusion=FAILURE&runId=0908bbed-ddd9-53c8-93c3-dead5da5658b) |\n| <code>issue 16559 should always show the most recent revision (metabase\\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52772?repo=metabase/metabase&commitHash=e29ab423f96ee7723f727f1afdbed24234e83d46&utm_source=gh-comment&runConclusion=FAILURE&runId=a8edb002-c3b5-5352-89c4-7283117b07a7) |\n| <code>session-expired-test</code> | Session was expected to be some, but it was not, possibly due to being 59 seconds older than expected. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52772?repo=metabase/metabase&commitHash=e29ab423f96ee7723f727f1afdbed24234e83d46&utm_source=gh-comment&runConclusion=FAILURE&runId=53b86c92-8166-5350-8146-969e7e2174ff) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52772?repo=metabase/metabase&commitHash=e29ab423f96ee7723f727f1afdbed24234e83d46&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 27, 23, 21, 27, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-27 22:50:36 UTC): ## e2e tests failed on `e29ab423f96ee7723f727f1afdbed24234e83d46-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12999700436?pr=52772)

  File | Test Name
  ---- | ---------
  `search.cy.spec.js` | scenarios > search > universal search > should not overflow container if results contain descriptions with large unborken strings

trunk-io[bot] on (2025-01-27 23:21:27 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/92881_tests-e29ab423-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52772?repo=metabase/metabase&commitHash=e29ab423f96ee7723f727f1afdbed24234e83d46&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/9-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52772?repo=metabase/metabase&commitHash=e29ab423f96ee7723f727f1afdbed24234e83d46&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52772?repo=metabase/metabase&commitHash=e29ab423f96ee7723f727f1afdbed24234e83d46&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52772?repo=metabase/metabase&commitHash=e29ab423f96ee7723f727f1afdbed24234e83d46&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52772?repo=metabase/metabase&commitHash=e29ab423f96ee7723f727f1afdbed24234e83d46&utm_source=gh-comment&runConclusion=FAILURE&runId=bc26eee0-d839-5cad-99c6-8be6fb9c650f) |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52772?repo=metabase/metabase&commitHash=e29ab423f96ee7723f727f1afdbed24234e83d46&utm_source=gh-comment&runConclusion=FAILURE&runId=4c27e84b-d77d-5170-94e5-8da979e3dfa1) |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52772?repo=metabase/metabase&commitHash=e29ab423f96ee7723f727f1afdbed24234e83d46&utm_source=gh-comment&runConclusion=FAILURE&runId=960097dc-f70a-55b8-9aeb-2cda56534f43) |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52772?repo=metabase/metabase&commitHash=e29ab423f96ee7723f727f1afdbed24234e83d46&utm_source=gh-comment&runConclusion=FAILURE&runId=8fdd58a6-1cd0-5fb3-9b63-36c8f26e596a) |

[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52772?repo=metabase/metabase&commitHash=e29ab423f96ee7723f727f1afdbed24234e83d46&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52772?repo=metabase/metabase&commitHash=e29ab423f96ee7723f727f1afdbed24234e83d46&utm_source=gh-comment&runConclusion=FAILURE&runId=7c20ca68-410b-51c1-9ac0-0e40d4dd613d) |
| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52772?repo=metabase/metabase&commitHash=e29ab423f96ee7723f727f1afdbed24234e83d46&utm_source=gh-comment&runConclusion=FAILURE&runId=0908bbed-ddd9-53c8-93c3-dead5da5658b) |
| <code>issue 16559 should always show the most recent revision (metabase\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52772?repo=metabase/metabase&commitHash=e29ab423f96ee7723f727f1afdbed24234e83d46&utm_source=gh-comment&runConclusion=FAILURE&runId=a8edb002-c3b5-5352-89c4-7283117b07a7) |
| <code>session-expired-test</code> | Session was expected to be some, but it was not, possibly due to being 59 seconds older than expected. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52772?repo=metabase/metabase&commitHash=e29ab423f96ee7723f727f1afdbed24234e83d46&utm_source=gh-comment&runConclusion=FAILURE&runId=53b86c92-8166-5350-8146-969e7e2174ff) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52772?repo=metabase/metabase&commitHash=e29ab423f96ee7723f727f1afdbed24234e83d46&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2814070454,pull_request,closed,,Add tests for the generate-insights tool,,metamben,2025-01-27 21:13:04+00:00,['metamben'],2025-01-28 18:15:20+00:00,2025-01-28 18:15:18+00:00,https://github.com/metabase/metabase/pull/52767,"[('.Team/Querying', ''), ('Metabot/Tools', 'Tools that are agnostic of the LLM framework itself, could be reused for notifications framework als')]","[{'comment_id': 2616991925, 'issue_id': 2814070454, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/91008_tests-f7350d17-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52767?repo=metabase/metabase&commitHash=f7350d1778e5eceea8839af3a8ab3228d98d37ff&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52767?repo=metabase/metabase&commitHash=f7350d1778e5eceea8839af3a8ab3228d98d37ff&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52767?repo=metabase/metabase&commitHash=f7350d1778e5eceea8839af3a8ab3228d98d37ff&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52767?repo=metabase/metabase&commitHash=f7350d1778e5eceea8839af3a8ab3228d98d37ff&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, but expected stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52767?repo=metabase/metabase&commitHash=f7350d1778e5eceea8839af3a8ab3228d98d37ff&utm_source=gh-comment&runConclusion=FAILURE&runId=c972bdac-fe07-590e-a935-1c9fa8def4f0) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52767?repo=metabase/metabase&commitHash=f7350d1778e5eceea8839af3a8ab3228d98d37ff&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 27, 22, 3, 13, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-27 22:03:13 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/91008_tests-f7350d17-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52767?repo=metabase/metabase&commitHash=f7350d1778e5eceea8839af3a8ab3228d98d37ff&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52767?repo=metabase/metabase&commitHash=f7350d1778e5eceea8839af3a8ab3228d98d37ff&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52767?repo=metabase/metabase&commitHash=f7350d1778e5eceea8839af3a8ab3228d98d37ff&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52767?repo=metabase/metabase&commitHash=f7350d1778e5eceea8839af3a8ab3228d98d37ff&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, but expected stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52767?repo=metabase/metabase&commitHash=f7350d1778e5eceea8839af3a8ab3228d98d37ff&utm_source=gh-comment&runConclusion=FAILURE&runId=c972bdac-fe07-590e-a935-1c9fa8def4f0) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52767?repo=metabase/metabase&commitHash=f7350d1778e5eceea8839af3a8ab3228d98d37ff&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2814049031,pull_request,closed,,"🤖 backported ""Disable query analysis (update e2e test)""",#52754,github-automation-metabase,2025-01-27 21:00:23+00:00,"['iethree', 'github-automation-metabase']",2025-01-27 22:23:27+00:00,2025-01-27 21:45:28+00:00,https://github.com/metabase/metabase/pull/52766,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2617021098, 'issue_id': 2814049031, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3580_tests-3fc71081-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52766?repo=metabase/metabase&commitHash=3fc710814c3317df92dc93df1d7ad82f18605461&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52766?repo=metabase/metabase&commitHash=3fc710814c3317df92dc93df1d7ad82f18605461&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52766?repo=metabase/metabase&commitHash=3fc710814c3317df92dc93df1d7ad82f18605461&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52766?repo=metabase/metabase&commitHash=3fc710814c3317df92dc93df1d7ad82f18605461&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52766?repo=metabase/metabase&commitHash=3fc710814c3317df92dc93df1d7ad82f18605461&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 27, 22, 21, 48, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-27 22:21:48 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3580_tests-3fc71081-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52766?repo=metabase/metabase&commitHash=3fc710814c3317df92dc93df1d7ad82f18605461&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52766?repo=metabase/metabase&commitHash=3fc710814c3317df92dc93df1d7ad82f18605461&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52766?repo=metabase/metabase&commitHash=3fc710814c3317df92dc93df1d7ad82f18605461&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52766?repo=metabase/metabase&commitHash=3fc710814c3317df92dc93df1d7ad82f18605461&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52766?repo=metabase/metabase&commitHash=3fc710814c3317df92dc93df1d7ad82f18605461&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2814006479,pull_request,closed,,Add tests for the query-metric tool,"Besides adding tests, it also fixes a couple of issues.
1. Makes the tool silently ignore bucketing for non-temporal columns (again, this was implemented but then inadvertently reverted).
1. Generates long (qualified) names instead of simple ones, so that implicit columns are not confused with the normal columns. E.g., instead of generating three `ID` dimensions, we now generate `ID`, `User → ID`, and `Product → ID` for the `Orders` table.",metamben,2025-01-27 20:36:05+00:00,['metamben'],2025-01-28 18:16:17+00:00,2025-01-28 18:16:15+00:00,https://github.com/metabase/metabase/pull/52765,"[('Metabot/Tools', 'Tools that are agnostic of the LLM framework itself, could be reused for notifications framework als')]","[{'comment_id': 2616957771, 'issue_id': 2814006479, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/95237_tests-38a7c37b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52765?repo=metabase/metabase&commitHash=38a7c37bb56ccd2935d1d68c8fe0cfd61c03cbeb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/28-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52765?repo=metabase/metabase&commitHash=38a7c37bb56ccd2935d1d68c8fe0cfd61c03cbeb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52765?repo=metabase/metabase&commitHash=38a7c37bb56ccd2935d1d68c8fe0cfd61c03cbeb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52765?repo=metabase/metabase&commitHash=38a7c37bb56ccd2935d1d68c8fe0cfd61c03cbeb&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > browse > metrics verified metrics on enterprise should show the verified metrics filter when there are verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52765?repo=metabase/metabase&commitHash=38a7c37bb56ccd2935d1d68c8fe0cfd61c03cbeb&utm_source=gh-comment&runConclusion=FAILURE&runId=680ba0c5-0d17-568b-801f-f5a2452b749d) |\n| <code>scenarios > browse > metrics verified metrics on enterprise should respect the user setting on wether or not to only show verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the expected time. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52765?repo=metabase/metabase&commitHash=38a7c37bb56ccd2935d1d68c8fe0cfd61c03cbeb&utm_source=gh-comment&runConclusion=FAILURE&runId=b1369df1-6a56-54a3-a038-c25d9d01068a) |\n| <code>scenarios > browse > metrics dot menu when the user does not have write access should be possible to navigate to the collection from the dot menu</code> | Unable to find a label with the text \'Table of metrics\' within the expected time. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52765?repo=metabase/metabase&commitHash=38a7c37bb56ccd2935d1d68c8fe0cfd61c03cbeb&utm_source=gh-comment&runConclusion=FAILURE&runId=53dfbf9d-0e68-5769-945c-5bcce768f333) |\n| <code>scenarios > browse > metrics dot menu when the user does not have write access should not be possible to trash a metric from the dot menu when the...</code> | Unable to find a label with the text ""Table of metrics"" within the expected time. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52765?repo=metabase/metabase&commitHash=38a7c37bb56ccd2935d1d68c8fe0cfd61c03cbeb&utm_source=gh-comment&runConclusion=FAILURE&runId=6bbf5eda-0025-52a5-81d5-f6118257b780) |\n\n[... and 24 more](https://app.trunk.io/metabase/flaky-tests/pr/52765?repo=metabase/metabase&commitHash=38a7c37bb56ccd2935d1d68c8fe0cfd61c03cbeb&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\#24966)</code> | The \'body\' property was accessed on an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52765?repo=metabase/metabase&commitHash=38a7c37bb56ccd2935d1d68c8fe0cfd61c03cbeb&utm_source=gh-comment&runConclusion=FAILURE&runId=9310a975-17d8-573e-bd3d-7889b6ca639f) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52765?repo=metabase/metabase&commitHash=38a7c37bb56ccd2935d1d68c8fe0cfd61c03cbeb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 27, 21, 42, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619215252, 'issue_id': 2814006479, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `38a7c37bb56ccd2935d1d68c8fe0cfd61c03cbeb-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13012642729?pr=52765)\n\n  File | Test Name\n  ---- | ---------\n  `browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > can browse metrics\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should navigate to the metric when clicking a metric title\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should navigate to that collection when clicking a collection title\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should open the collections in a new tab when alt-clicking a metric\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should render truncated markdown in the table\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should be possible to sort the metrics\n`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to bookmark a metrics from the dot menu\n`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to navigate to the collection from the dot menu\n`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to trash a metric from the dot menu when the user has write access\n`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > when the user does not have write access > should not be possible to trash a metric from the dot menu when the user does not have write access\nand more... | and more...', 'created_at': datetime.datetime(2025, 1, 28, 14, 47, 2, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-27 21:42:31 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/95237_tests-38a7c37b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52765?repo=metabase/metabase&commitHash=38a7c37bb56ccd2935d1d68c8fe0cfd61c03cbeb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/28-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52765?repo=metabase/metabase&commitHash=38a7c37bb56ccd2935d1d68c8fe0cfd61c03cbeb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52765?repo=metabase/metabase&commitHash=38a7c37bb56ccd2935d1d68c8fe0cfd61c03cbeb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52765?repo=metabase/metabase&commitHash=38a7c37bb56ccd2935d1d68c8fe0cfd61c03cbeb&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > browse > metrics verified metrics on enterprise should show the verified metrics filter when there are verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52765?repo=metabase/metabase&commitHash=38a7c37bb56ccd2935d1d68c8fe0cfd61c03cbeb&utm_source=gh-comment&runConclusion=FAILURE&runId=680ba0c5-0d17-568b-801f-f5a2452b749d) |
| <code>scenarios > browse > metrics verified metrics on enterprise should respect the user setting on wether or not to only show verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the expected time. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52765?repo=metabase/metabase&commitHash=38a7c37bb56ccd2935d1d68c8fe0cfd61c03cbeb&utm_source=gh-comment&runConclusion=FAILURE&runId=b1369df1-6a56-54a3-a038-c25d9d01068a) |
| <code>scenarios > browse > metrics dot menu when the user does not have write access should be possible to navigate to the collection from the dot menu</code> | Unable to find a label with the text 'Table of metrics' within the expected time. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52765?repo=metabase/metabase&commitHash=38a7c37bb56ccd2935d1d68c8fe0cfd61c03cbeb&utm_source=gh-comment&runConclusion=FAILURE&runId=53dfbf9d-0e68-5769-945c-5bcce768f333) |
| <code>scenarios > browse > metrics dot menu when the user does not have write access should not be possible to trash a metric from the dot menu when the...</code> | Unable to find a label with the text ""Table of metrics"" within the expected time. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52765?repo=metabase/metabase&commitHash=38a7c37bb56ccd2935d1d68c8fe0cfd61c03cbeb&utm_source=gh-comment&runConclusion=FAILURE&runId=6bbf5eda-0025-52a5-81d5-f6118257b780) |

[... and 24 more](https://app.trunk.io/metabase/flaky-tests/pr/52765?repo=metabase/metabase&commitHash=38a7c37bb56ccd2935d1d68c8fe0cfd61c03cbeb&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52765?repo=metabase/metabase&commitHash=38a7c37bb56ccd2935d1d68c8fe0cfd61c03cbeb&utm_source=gh-comment&runConclusion=FAILURE&runId=9310a975-17d8-573e-bd3d-7889b6ca639f) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52765?repo=metabase/metabase&commitHash=38a7c37bb56ccd2935d1d68c8fe0cfd61c03cbeb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-28 14:47:02 UTC): ## e2e tests failed on `38a7c37bb56ccd2935d1d68c8fe0cfd61c03cbeb-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13012642729?pr=52765)

  File | Test Name
  ---- | ---------
  `browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > can browse metrics
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should navigate to the metric when clicking a metric title
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should navigate to that collection when clicking a collection title
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should open the collections in a new tab when alt-clicking a metric
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should render truncated markdown in the table
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should be possible to sort the metrics
`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to bookmark a metrics from the dot menu
`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to navigate to the collection from the dot menu
`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to trash a metric from the dot menu when the user has write access
`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > when the user does not have write access > should not be possible to trash a metric from the dot menu when the user does not have write access
and more... | and more...

"
2814001865,pull_request,closed,,Allow dashes in hashes,Fixes the instant test update comment to show more than one test failure. There was a bug in the regex that didn't see `-` as a valid component of a hash - but the format for the hash in this context is actually `$HASH-$ATTEMPT` - so we gotta included `-` in the regex for it to detect the comment properly.,iethree,2025-01-27 20:33:32+00:00,['iethree'],2025-01-27 23:40:16+00:00,2025-01-27 23:12:40+00:00,https://github.com/metabase/metabase/pull/52764,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2616961457, 'issue_id': 2814001865, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3691_tests-7c0dba91-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52764?repo=metabase/metabase&commitHash=7c0dba9104feb99b50cd3b800af4d47b1c5b165f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52764?repo=metabase/metabase&commitHash=7c0dba9104feb99b50cd3b800af4d47b1c5b165f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52764?repo=metabase/metabase&commitHash=7c0dba9104feb99b50cd3b800af4d47b1c5b165f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52764?repo=metabase/metabase&commitHash=7c0dba9104feb99b50cd3b800af4d47b1c5b165f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52764?repo=metabase/metabase&commitHash=7c0dba9104feb99b50cd3b800af4d47b1c5b165f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 27, 21, 44, 45, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-27 21:44:45 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3691_tests-7c0dba91-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52764?repo=metabase/metabase&commitHash=7c0dba9104feb99b50cd3b800af4d47b1c5b165f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52764?repo=metabase/metabase&commitHash=7c0dba9104feb99b50cd3b800af4d47b1c5b165f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52764?repo=metabase/metabase&commitHash=7c0dba9104feb99b50cd3b800af4d47b1c5b165f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52764?repo=metabase/metabase&commitHash=7c0dba9104feb99b50cd3b800af4d47b1c5b165f&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52764?repo=metabase/metabase&commitHash=7c0dba9104feb99b50cd3b800af4d47b1c5b165f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2814000121,pull_request,closed,,Make public dashcards download endpoint match FE expectations,"While working on getting some of my other PRs green and[ wrapping my head around how things work](https://metaboat.slack.com/archives/C010L1Z4F9S/p1738003606875659) I realized that the public dashcards download endpoint does not match the shape the frontend uses here.

https://github.com/metabase/metabase/blob/d304dae6686ab52c876b758659ef7792be631514/frontend/src/metabase/redux/downloads.ts#L182-L189

Before `defendpoint` 2 it accepted stuff like `format_rows` in either query params **or** request body, the backend tests assumed query params but the FE prod code used request bodies; when I converted to `defendpoint` 2 I followed the backend tests. There are no FE e2e tests around this.

This PR adjusts the endpoint to match FE code and updates BE tests.

I already raised the issue that there are no e2e tests around this separately, but in the meantime I can fix the endpoint and make sure it matches FE expectations.
",camsaul,2025-01-27 20:32:35+00:00,['camsaul'],2025-01-30 01:54:48+00:00,2025-01-28 01:08:20+00:00,https://github.com/metabase/metabase/pull/52763,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2616952925, 'issue_id': 2814000121, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/88932_tests-0991c00f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52763?repo=metabase/metabase&commitHash=0991c00f2a367d90a5f77e2412a25b20862b0f20&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52763?repo=metabase/metabase&commitHash=0991c00f2a367d90a5f77e2412a25b20862b0f20&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52763?repo=metabase/metabase&commitHash=0991c00f2a367d90a5f77e2412a25b20862b0f20&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52763?repo=metabase/metabase&commitHash=0991c00f2a367d90a5f77e2412a25b20862b0f20&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > browse (EE) /browse/models allows models to be filtered, on an enterprise instance</code> | Unable to find an accessible element with the role ""heading"" and name ""Model 1"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52763?repo=metabase/metabase&commitHash=0991c00f2a367d90a5f77e2412a25b20862b0f20&utm_source=gh-comment&runConclusion=FAILURE&runId=e661f96a-dd5c-5d1c-8899-258650d87310) |\n| <code>scenarios > native question > data reference sidebar should show models</code> | Unable to find an element with the text ""2 models"" within 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52763?repo=metabase/metabase&commitHash=0991c00f2a367d90a5f77e2412a25b20862b0f20&utm_source=gh-comment&runConclusion=FAILURE&runId=9d23fc57-cf72-587f-a5be-1a0ca573367b) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52763?repo=metabase/metabase&commitHash=0991c00f2a367d90a5f77e2412a25b20862b0f20&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 27, 21, 39, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617262264, 'issue_id': 2814000121, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `0991c00f2a367d90a5f77e2412a25b20862b0f20-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13000920467?pr=52763)\n\n  File | Test Name\n  ---- | ---------\n  `native.cy.spec.js` | scenarios > native question > data reference sidebar > should show models\n`browse.cy.spec.ts` | scenarios > browse (EE) > /browse/models allows models to be filtered, on an enterprise instance', 'created_at': datetime.datetime(2025, 1, 28, 0, 33, 44, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-27 21:39:38 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/88932_tests-0991c00f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52763?repo=metabase/metabase&commitHash=0991c00f2a367d90a5f77e2412a25b20862b0f20&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52763?repo=metabase/metabase&commitHash=0991c00f2a367d90a5f77e2412a25b20862b0f20&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52763?repo=metabase/metabase&commitHash=0991c00f2a367d90a5f77e2412a25b20862b0f20&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52763?repo=metabase/metabase&commitHash=0991c00f2a367d90a5f77e2412a25b20862b0f20&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > browse (EE) /browse/models allows models to be filtered, on an enterprise instance</code> | Unable to find an accessible element with the role ""heading"" and name ""Model 1"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52763?repo=metabase/metabase&commitHash=0991c00f2a367d90a5f77e2412a25b20862b0f20&utm_source=gh-comment&runConclusion=FAILURE&runId=e661f96a-dd5c-5d1c-8899-258650d87310) |
| <code>scenarios > native question > data reference sidebar should show models</code> | Unable to find an element with the text ""2 models"" within 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52763?repo=metabase/metabase&commitHash=0991c00f2a367d90a5f77e2412a25b20862b0f20&utm_source=gh-comment&runConclusion=FAILURE&runId=9d23fc57-cf72-587f-a5be-1a0ca573367b) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52763?repo=metabase/metabase&commitHash=0991c00f2a367d90a5f77e2412a25b20862b0f20&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-28 00:33:44 UTC): ## e2e tests failed on `0991c00f2a367d90a5f77e2412a25b20862b0f20-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13000920467?pr=52763)

  File | Test Name
  ---- | ---------
  `native.cy.spec.js` | scenarios > native question > data reference sidebar > should show models
`browse.cy.spec.ts` | scenarios > browse (EE) > /browse/models allows models to be filtered, on an enterprise instance

"
2813872811,pull_request,closed,,Don't try to cancel a statement that has already been closed,"Closes https://github.com/metabase/metabase/issues/52420

The error message from that issue results from trying to call `.cancel` on a closed statement. Quoting my [message](https://metaboat.slack.com/archives/C064QMXEV9N/p1738003027858129) in Slack:

> I'm not 100% sure about the QP control flow yet, but my guess is that the statement gets closed once the pivot queries finish, but then the post-processing code causes an OOM, and during shutdown a redundant cancellation message gets sent on the cancel chan.

I don't think there's a fundamental issue here other than noisy/alarming logs, but it seems worthwhile to check that a statement is still open before we try to cancel it.",noahmoss,2025-01-27 19:25:39+00:00,['noahmoss'],2025-01-28 19:03:05+00:00,2025-01-28 17:39:01+00:00,https://github.com/metabase/metabase/pull/52762,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2616705775, 'issue_id': 2813872811, 'author': 'noahmoss', 'body': '* **#52762** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52762?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52762?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 27, 19, 25, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616883771, 'issue_id': 2813872811, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/83794_tests-ece66d6b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52762?repo=metabase/metabase&commitHash=ece66d6b641f59bd9521c863940491b7181fa13a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52762?repo=metabase/metabase&commitHash=ece66d6b641f59bd9521c863940491b7181fa13a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52762?repo=metabase/metabase&commitHash=ece66d6b641f59bd9521c863940491b7181fa13a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52762?repo=metabase/metabase&commitHash=ece66d6b641f59bd9521c863940491b7181fa13a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52762?repo=metabase/metabase&commitHash=ece66d6b641f59bd9521c863940491b7181fa13a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 27, 21, 1, 10, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2025-01-27 19:25:56 UTC): * **#52762** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52762?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52762?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2025-01-27 21:01:10 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/83794_tests-ece66d6b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52762?repo=metabase/metabase&commitHash=ece66d6b641f59bd9521c863940491b7181fa13a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52762?repo=metabase/metabase&commitHash=ece66d6b641f59bd9521c863940491b7181fa13a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52762?repo=metabase/metabase&commitHash=ece66d6b641f59bd9521c863940491b7181fa13a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52762?repo=metabase/metabase&commitHash=ece66d6b641f59bd9521c863940491b7181fa13a&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52762?repo=metabase/metabase&commitHash=ece66d6b641f59bd9521c863940491b7181fa13a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2813859561,pull_request,closed,,Fix the Dockerfile,"Seems like debian doesn't ship java 21, so I added the one from Temurin following https://adoptium.net/en-GB/installation/linux/",paoliniluis,2025-01-27 19:18:21+00:00,['paoliniluis'],2025-01-28 00:09:20+00:00,2025-01-28 00:07:08+00:00,https://github.com/metabase/metabase/pull/52761,"[('backport', 'Automatically create PR on current release branch on merge')]",[],
2813778922,pull_request,closed,,"🤖 backported ""Fix blank eid not creating a new entity on load""",#52517,github-automation-metabase,2025-01-27 18:38:40+00:00,"['wotbrew', 'github-automation-metabase']",2025-01-27 21:02:16+00:00,2025-01-27 19:28:48+00:00,https://github.com/metabase/metabase/pull/52759,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2616762588, 'issue_id': 2813778922, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/1658_tests-0fa10df3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52759?repo=metabase/metabase&commitHash=0fa10df39135de062e99f20ab147ab84ffb5040f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52759?repo=metabase/metabase&commitHash=0fa10df39135de062e99f20ab147ab84ffb5040f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52759?repo=metabase/metabase&commitHash=0fa10df39135de062e99f20ab147ab84ffb5040f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52759?repo=metabase/metabase&commitHash=0fa10df39135de062e99f20ab147ab84ffb5040f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52759?repo=metabase/metabase&commitHash=0fa10df39135de062e99f20ab147ab84ffb5040f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 27, 19, 55, 44, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-27 19:55:44 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/1658_tests-0fa10df3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52759?repo=metabase/metabase&commitHash=0fa10df39135de062e99f20ab147ab84ffb5040f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52759?repo=metabase/metabase&commitHash=0fa10df39135de062e99f20ab147ab84ffb5040f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52759?repo=metabase/metabase&commitHash=0fa10df39135de062e99f20ab147ab84ffb5040f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52759?repo=metabase/metabase&commitHash=0fa10df39135de062e99f20ab147ab84ffb5040f&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52759?repo=metabase/metabase&commitHash=0fa10df39135de062e99f20ab147ab84ffb5040f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2813677687,pull_request,closed,,Use features instead of hard-coded driver names in tests,"Closes https://github.com/metabase/metabase/issues/52045
Closes https://linear.app/metabase-inc/issue/ENG-9513/feature-exclusion-for-materialize

### Description

Adds features that can be used to modify test behaviour instead of using hard-coded driver names. 

`:test/creates-db-on-connect`

Materialize allows you to connect to a DB that does not exist, so this feature provides a way to opt out of the `can-connect-with-destroy-db-test` and `check-can-connect-before-sync-test` tests which check for failure after attempting to connect to a DB that does not exist. 

---

`:test/cannot-destroy-db`

`[:redshift :snowflake :vertica :presto-jdbc :oracle]` cannot have their DBs destroyed because they are cloud DBs. This feature gives a way for drivers to specify that their DBs should not be destroyed during tests. 

---

`:test/details-name-is-db`, `:test/details-name-is-service-name`, `:test/details-name-is-catalog`

Because we can't destroy the DBs for all drivers, we mock the failed connection attempt by overwriting a connection detail with an invalid name. These features give a way to specify which connection detail should be overwritten for each driver. 

### How to verify

The tests should pass and not reference specific drivers in the tests. 

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",rileythomp,2025-01-27 17:51:43+00:00,['rileythomp'],2025-01-28 22:23:07+00:00,2025-01-28 21:26:05+00:00,https://github.com/metabase/metabase/pull/52758,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Drivers', '')]","[{'comment_id': 2616735988, 'issue_id': 2813677687, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/94904_tests-81e8cc95-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52758?repo=metabase/metabase&commitHash=81e8cc95a2ead8cca6689af3e1ad0e7903fbb925&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52758?repo=metabase/metabase&commitHash=81e8cc95a2ead8cca6689af3e1ad0e7903fbb925&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52758?repo=metabase/metabase&commitHash=81e8cc95a2ead8cca6689af3e1ad0e7903fbb925&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52758?repo=metabase/metabase&commitHash=81e8cc95a2ead8cca6689af3e1ad0e7903fbb925&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52758?repo=metabase/metabase&commitHash=81e8cc95a2ead8cca6689af3e1ad0e7903fbb925&utm_source=gh-comment&runConclusion=FAILURE&runId=76502db6-0561-5541-aa4a-95b4612a378c) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52758?repo=metabase/metabase&commitHash=81e8cc95a2ead8cca6689af3e1ad0e7903fbb925&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 27, 19, 41, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620015616, 'issue_id': 2813677687, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `81e8cc95a2ead8cca6689af3e1ad0e7903fbb925-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13018925553?pr=52758)\n\n  File | Test Name\n  ---- | ---------\n  `permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)', 'created_at': datetime.datetime(2025, 1, 28, 20, 42, 11, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-27 19:41:21 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/94904_tests-81e8cc95-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52758?repo=metabase/metabase&commitHash=81e8cc95a2ead8cca6689af3e1ad0e7903fbb925&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52758?repo=metabase/metabase&commitHash=81e8cc95a2ead8cca6689af3e1ad0e7903fbb925&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52758?repo=metabase/metabase&commitHash=81e8cc95a2ead8cca6689af3e1ad0e7903fbb925&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52758?repo=metabase/metabase&commitHash=81e8cc95a2ead8cca6689af3e1ad0e7903fbb925&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52758?repo=metabase/metabase&commitHash=81e8cc95a2ead8cca6689af3e1ad0e7903fbb925&utm_source=gh-comment&runConclusion=FAILURE&runId=76502db6-0561-5541-aa4a-95b4612a378c) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52758?repo=metabase/metabase&commitHash=81e8cc95a2ead8cca6689af3e1ad0e7903fbb925&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-28 20:42:11 UTC): ## e2e tests failed on `81e8cc95a2ead8cca6689af3e1ad0e7903fbb925-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13018925553?pr=52758)

  File | Test Name
  ---- | ---------
  `permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)

"
2813651590,pull_request,closed,,this is just a test please ignore,,npretto,2025-01-27 17:39:42+00:00,['npretto'],2025-02-04 14:54:12+00:00,2025-01-28 09:08:30+00:00,https://github.com/metabase/metabase/pull/52757,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', '')]","[{'comment_id': 2616526231, 'issue_id': 2813651590, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `29514bed1133536532a26aed148717da3966a3dd-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12994932434?pr=52757)\n\n  File | Test Name\n  ---- | ---------\n  `query-validator.cy.spec.js` | query validator > feature enabled > picks up inactive and unknown fields and tables', 'created_at': datetime.datetime(2025, 1, 27, 18, 0, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616587879, 'issue_id': 2813651590, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13481_tests-29514bed-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52757?repo=metabase/metabase&commitHash=29514bed1133536532a26aed148717da3966a3dd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52757?repo=metabase/metabase&commitHash=29514bed1133536532a26aed148717da3966a3dd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52757?repo=metabase/metabase&commitHash=29514bed1133536532a26aed148717da3966a3dd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52757?repo=metabase/metabase&commitHash=29514bed1133536532a26aed148717da3966a3dd&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>query validator feature enabled enable query analysis setting</code> | Unable to find an accessible element with the role ""switch"" and name \\`/ENABLE QUERY ANALYSIS/i\\` after 4000ms of retrying. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52757?repo=metabase/metabase&commitHash=29514bed1133536532a26aed148717da3966a3dd&utm_source=gh-comment&runConclusion=FAILURE&runId=a83ffb28-7ab6-5165-9f6e-a460b23c0c95) |\n| <code>query validator feature enabled picks up inactive and unknown fields and tables</code> | Unable to find an accessible element with the role ""row"" after 4000ms of retrying. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52757?repo=metabase/metabase&commitHash=29514bed1133536532a26aed148717da3966a3dd&utm_source=gh-comment&runConclusion=FAILURE&runId=559a36b6-75d2-5f3e-9b65-ab41cdd6df6f) |\n| <code>query validator feature enabled enable query analysis setting</code> | Unable to find an accessible element with the role ""switch"" and name \\`/ENABLE QUERY ANALYSIS/i\\` after 4000ms of retrying. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52757?repo=metabase/metabase&commitHash=29514bed1133536532a26aed148717da3966a3dd&utm_source=gh-comment&runConclusion=FAILURE&runId=a780de89-4749-5254-9bac-5eba1145e1f6) |\n| <code>query validator feature enabled picks up inactive and unknown fields and tables</code> | Unable to find an accessible element with the role ""row"" after 4000ms of retrying. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52757?repo=metabase/metabase&commitHash=29514bed1133536532a26aed148717da3966a3dd&utm_source=gh-comment&runConclusion=FAILURE&runId=3797b53a-6161-5172-9340-92f20c45694c) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52757?repo=metabase/metabase&commitHash=29514bed1133536532a26aed148717da3966a3dd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 27, 18, 29, 52, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-27 18:00:59 UTC): ## e2e tests failed on `29514bed1133536532a26aed148717da3966a3dd-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12994932434?pr=52757)

  File | Test Name
  ---- | ---------
  `query-validator.cy.spec.js` | query validator > feature enabled > picks up inactive and unknown fields and tables

trunk-io[bot] on (2025-01-27 18:29:52 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13481_tests-29514bed-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52757?repo=metabase/metabase&commitHash=29514bed1133536532a26aed148717da3966a3dd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52757?repo=metabase/metabase&commitHash=29514bed1133536532a26aed148717da3966a3dd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52757?repo=metabase/metabase&commitHash=29514bed1133536532a26aed148717da3966a3dd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52757?repo=metabase/metabase&commitHash=29514bed1133536532a26aed148717da3966a3dd&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>query validator feature enabled enable query analysis setting</code> | Unable to find an accessible element with the role ""switch"" and name \`/ENABLE QUERY ANALYSIS/i\` after 4000ms of retrying. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52757?repo=metabase/metabase&commitHash=29514bed1133536532a26aed148717da3966a3dd&utm_source=gh-comment&runConclusion=FAILURE&runId=a83ffb28-7ab6-5165-9f6e-a460b23c0c95) |
| <code>query validator feature enabled picks up inactive and unknown fields and tables</code> | Unable to find an accessible element with the role ""row"" after 4000ms of retrying. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52757?repo=metabase/metabase&commitHash=29514bed1133536532a26aed148717da3966a3dd&utm_source=gh-comment&runConclusion=FAILURE&runId=559a36b6-75d2-5f3e-9b65-ab41cdd6df6f) |
| <code>query validator feature enabled enable query analysis setting</code> | Unable to find an accessible element with the role ""switch"" and name \`/ENABLE QUERY ANALYSIS/i\` after 4000ms of retrying. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52757?repo=metabase/metabase&commitHash=29514bed1133536532a26aed148717da3966a3dd&utm_source=gh-comment&runConclusion=FAILURE&runId=a780de89-4749-5254-9bac-5eba1145e1f6) |
| <code>query validator feature enabled picks up inactive and unknown fields and tables</code> | Unable to find an accessible element with the role ""row"" after 4000ms of retrying. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52757?repo=metabase/metabase&commitHash=29514bed1133536532a26aed148717da3966a3dd&utm_source=gh-comment&runConclusion=FAILURE&runId=3797b53a-6161-5172-9340-92f20c45694c) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52757?repo=metabase/metabase&commitHash=29514bed1133536532a26aed148717da3966a3dd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2813648026,pull_request,closed,,"🤖 backported ""Avoid cartesian products in pivot csv exports""","  #52551
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-27 17:38:14+00:00,"['noahmoss', 'github-automation-metabase']",2025-01-27 19:34:16+00:00,2025-01-27 19:27:29+00:00,https://github.com/metabase/metabase/pull/52756,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2616643553, 'issue_id': 2813648026, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120959_tests-724ef3d3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52756?repo=metabase/metabase&commitHash=724ef3d34c3ac59d5cea8f44af652eac0bde3c1b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52756?repo=metabase/metabase&commitHash=724ef3d34c3ac59d5cea8f44af652eac0bde3c1b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52756?repo=metabase/metabase&commitHash=724ef3d34c3ac59d5cea8f44af652eac0bde3c1b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52756?repo=metabase/metabase&commitHash=724ef3d34c3ac59d5cea8f44af652eac0bde3c1b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52756?repo=metabase/metabase&commitHash=724ef3d34c3ac59d5cea8f44af652eac0bde3c1b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 27, 18, 56, 21, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-27 18:56:21 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120959_tests-724ef3d3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52756?repo=metabase/metabase&commitHash=724ef3d34c3ac59d5cea8f44af652eac0bde3c1b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52756?repo=metabase/metabase&commitHash=724ef3d34c3ac59d5cea8f44af652eac0bde3c1b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52756?repo=metabase/metabase&commitHash=724ef3d34c3ac59d5cea8f44af652eac0bde3c1b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52756?repo=metabase/metabase&commitHash=724ef3d34c3ac59d5cea8f44af652eac0bde3c1b&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52756?repo=metabase/metabase&commitHash=724ef3d34c3ac59d5cea8f44af652eac0bde3c1b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2813595962,pull_request,closed,,docs - moving questions into dashboards,Documents the bulk-moving of questions into dashboards.,jeff-bruemmer,2025-01-27 17:17:10+00:00,['jeff-bruemmer'],2025-01-27 22:10:04+00:00,2025-01-27 18:36:34+00:00,https://github.com/metabase/metabase/pull/52755,"[('Type:Documentation', ''), ('no-backport', 'Do not backport this PR to any branch')]",[],
2813590980,pull_request,closed,,Disable query analysis (update e2e test),"follow up to #52728 to fix tests

- Removes setting query analysis setting by environment variable, this breaks test that expect the setting to be toggle-able
- turn the setting on for tests that assume it is on",iethree,2025-01-27 17:14:52+00:00,"['crisptrutski', 'iethree']",2025-01-27 22:34:21+00:00,2025-01-27 20:59:26+00:00,https://github.com/metabase/metabase/pull/52754,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2616522711, 'issue_id': 2813590980, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/94613_tests-bb9c792f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52754?repo=metabase/metabase&commitHash=bb9c792f7c4f153af6a9befb7ccfc54628b6b0b8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52754?repo=metabase/metabase&commitHash=bb9c792f7c4f153af6a9befb7ccfc54628b6b0b8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52754?repo=metabase/metabase&commitHash=bb9c792f7c4f153af6a9befb7ccfc54628b6b0b8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52754?repo=metabase/metabase&commitHash=bb9c792f7c4f153af6a9befb7ccfc54628b6b0b8&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>query validator feature enabled enable query analysis setting</code> | Unable to find an accessible element with the role ""switch"" and name ""/ENABLE QUERY ANALYSIS/i after 4000ms of retrying. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52754?repo=metabase/metabase&commitHash=bb9c792f7c4f153af6a9befb7ccfc54628b6b0b8&utm_source=gh-comment&runConclusion=FAILURE&runId=e53195fa-664c-5cf4-8069-6deaa6a5d69b) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52754?repo=metabase/metabase&commitHash=bb9c792f7c4f153af6a9befb7ccfc54628b6b0b8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 27, 17, 59, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616792571, 'issue_id': 2813590980, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `c3342307b43aad9f76c8fa082c9a1c8373991f2b-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12997237296?pr=52754)\n\n  File | Test Name\n  ---- | ---------\n  `notebook-data-source.cy.spec.ts` | scenarios > notebook > data source > empty app db > should not show models if only saved questions exist', 'created_at': datetime.datetime(2025, 1, 27, 20, 12, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616994320, 'issue_id': 2813590980, 'author': 'github-actions[bot]', 'body': '🚀 This should also be released by [v0.53](https://github.com/metabase/metabase/milestone/287)', 'created_at': datetime.datetime(2025, 1, 27, 22, 4, 45, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-27 17:59:17 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/94613_tests-bb9c792f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52754?repo=metabase/metabase&commitHash=bb9c792f7c4f153af6a9befb7ccfc54628b6b0b8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52754?repo=metabase/metabase&commitHash=bb9c792f7c4f153af6a9befb7ccfc54628b6b0b8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52754?repo=metabase/metabase&commitHash=bb9c792f7c4f153af6a9befb7ccfc54628b6b0b8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52754?repo=metabase/metabase&commitHash=bb9c792f7c4f153af6a9befb7ccfc54628b6b0b8&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>query validator feature enabled enable query analysis setting</code> | Unable to find an accessible element with the role ""switch"" and name ""/ENABLE QUERY ANALYSIS/i after 4000ms of retrying. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52754?repo=metabase/metabase&commitHash=bb9c792f7c4f153af6a9befb7ccfc54628b6b0b8&utm_source=gh-comment&runConclusion=FAILURE&runId=e53195fa-664c-5cf4-8069-6deaa6a5d69b) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52754?repo=metabase/metabase&commitHash=bb9c792f7c4f153af6a9befb7ccfc54628b6b0b8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-27 20:12:15 UTC): ## e2e tests failed on `c3342307b43aad9f76c8fa082c9a1c8373991f2b-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12997237296?pr=52754)

  File | Test Name
  ---- | ---------
  `notebook-data-source.cy.spec.ts` | scenarios > notebook > data source > empty app db > should not show models if only saved questions exist

github-actions[bot] on (2025-01-27 22:04:45 UTC): 🚀 This should also be released by [v0.53](https://github.com/metabase/metabase/milestone/287)

"
2813552502,pull_request,closed,,"🤖 backported ""Disable query analysis by default""","  #52728
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-27 16:58:04+00:00,"['crisptrutski', 'github-automation-metabase']",2025-01-28 09:20:32+00:00,2025-01-28 08:39:25+00:00,https://github.com/metabase/metabase/pull/52753,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2618186948, 'issue_id': 2813552502, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/122984_tests-eeb3c0e5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52753?repo=metabase/metabase&commitHash=eeb3c0e5237e266a22dd4cc802280e1ebbf91230&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52753?repo=metabase/metabase&commitHash=eeb3c0e5237e266a22dd4cc802280e1ebbf91230&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52753?repo=metabase/metabase&commitHash=eeb3c0e5237e266a22dd4cc802280e1ebbf91230&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52753?repo=metabase/metabase&commitHash=eeb3c0e5237e266a22dd4cc802280e1ebbf91230&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:329:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\\#'sync.fingerprint/max-refingerp... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52753?repo=metabase/metabase&commitHash=eeb3c0e5237e266a22dd4cc802280e1ebbf91230&utm_source=gh-comment&runConclusion=FAILURE&runId=62d9083b-27b6-5507-b82c-7049b2140278) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52753?repo=metabase/metabase&commitHash=eeb3c0e5237e266a22dd4cc802280e1ebbf91230&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 28, 8, 14, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618293698, 'issue_id': 2813552502, 'author': 'crisptrutski', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2025, 1, 28, 8, 41, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618294125, 'issue_id': 2813552502, 'author': 'crisptrutski', 'body': '@metabase-bot backport release-x.50.x', 'created_at': datetime.datetime(2025, 1, 28, 8, 41, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618298699, 'issue_id': 2813552502, 'author': 'github-actions[bot]', 'body': '@crisptrutski something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/13006607926)', 'created_at': datetime.datetime(2025, 1, 28, 8, 42, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618300841, 'issue_id': 2813552502, 'author': 'github-actions[bot]', 'body': '@crisptrutski something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/13006609652)', 'created_at': datetime.datetime(2025, 1, 28, 8, 43, 28, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-28 08:14:56 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/122984_tests-eeb3c0e5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52753?repo=metabase/metabase&commitHash=eeb3c0e5237e266a22dd4cc802280e1ebbf91230&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52753?repo=metabase/metabase&commitHash=eeb3c0e5237e266a22dd4cc802280e1ebbf91230&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52753?repo=metabase/metabase&commitHash=eeb3c0e5237e266a22dd4cc802280e1ebbf91230&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52753?repo=metabase/metabase&commitHash=eeb3c0e5237e266a22dd4cc802280e1ebbf91230&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:329:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerp... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52753?repo=metabase/metabase&commitHash=eeb3c0e5237e266a22dd4cc802280e1ebbf91230&utm_source=gh-comment&runConclusion=FAILURE&runId=62d9083b-27b6-5507-b82c-7049b2140278) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52753?repo=metabase/metabase&commitHash=eeb3c0e5237e266a22dd4cc802280e1ebbf91230&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

crisptrutski (Assginee) on (2025-01-28 08:41:41 UTC): @metabase-bot backport release-x.51.x

crisptrutski (Assginee) on (2025-01-28 08:41:48 UTC): @metabase-bot backport release-x.50.x

github-actions[bot] on (2025-01-28 08:42:56 UTC): @crisptrutski something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/13006607926)

github-actions[bot] on (2025-01-28 08:43:28 UTC): @crisptrutski something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/13006609652)

"
2813548941,pull_request,closed,,"🤖 backported ""Convert expression popover to mantine to fix z-index issues""","#52719

Fixes the z-index issues with the expression editor in this specific release. This problem wasn't caught by E2E tests due to popovers being in a portal, and is caused by some z-index trickery due to not backporting [fix(sdk): Control stacking without distinct z-indexes](https://github.com/metabase/metabase/pull/49442#top)

Before (on `release-x.52.x`):
<img width=""507"" alt=""image"" src=""https://github.com/user-attachments/assets/b917ef6e-7f52-4832-8466-66c8fa6075c9"" />

After (on `backport-b29716d856a128eee5ca7583c99562bedc43c38c`):
<img width=""533"" alt=""image"" src=""https://github.com/user-attachments/assets/d0bf81d2-b2cc-4935-b7c8-34cde2224fe1"" />

Manually tested, and an E2E test is running to ensure the popover remains on top.",github-automation-metabase,2025-01-27 16:56:27+00:00,"['oisincoveney', 'github-automation-metabase']",2025-01-27 22:33:00+00:00,2025-01-27 20:42:17+00:00,https://github.com/metabase/metabase/pull/52752,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2616559853, 'issue_id': 2813548941, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/54_tests-b7a33cc5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52752?repo=metabase/metabase&commitHash=b7a33cc5fb9c016ed4d61682a1a5f16a972a940a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52752?repo=metabase/metabase&commitHash=b7a33cc5fb9c016ed4d61682a1a5f16a972a940a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52752?repo=metabase/metabase&commitHash=b7a33cc5fb9c016ed4d61682a1a5f16a972a940a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52752?repo=metabase/metabase&commitHash=b7a33cc5fb9c016ed4d61682a1a5f16a972a940a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52752?repo=metabase/metabase&commitHash=b7a33cc5fb9c016ed4d61682a1a5f16a972a940a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 27, 18, 16, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616787188, 'issue_id': 2813548941, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `620ce742c32ed5efd18c0f05b846f3fecf666b87-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12997070602?pr=52752)\n\n  File | Test Name\n  ---- | ---------\n  `permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)', 'created_at': datetime.datetime(2025, 1, 27, 20, 9, 19, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-27 18:16:21 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/54_tests-b7a33cc5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52752?repo=metabase/metabase&commitHash=b7a33cc5fb9c016ed4d61682a1a5f16a972a940a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52752?repo=metabase/metabase&commitHash=b7a33cc5fb9c016ed4d61682a1a5f16a972a940a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52752?repo=metabase/metabase&commitHash=b7a33cc5fb9c016ed4d61682a1a5f16a972a940a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52752?repo=metabase/metabase&commitHash=b7a33cc5fb9c016ed4d61682a1a5f16a972a940a&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52752?repo=metabase/metabase&commitHash=b7a33cc5fb9c016ed4d61682a1a5f16a972a940a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-27 20:09:19 UTC): ## e2e tests failed on `620ce742c32ed5efd18c0f05b846f3fecf666b87-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12997070602?pr=52752)

  File | Test Name
  ---- | ---------
  `permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)

"
2813542764,pull_request,closed,,chore: reduce flakiness on loki screenshot,"### Description

fix loki flakiness in 3 cases:
- `PublicOrEmbeddedDashboardView/filters/Dark Theme Text With Value`
- `PublicOrEmbeddedDashboardView/filters/Light Theme Text With Value`
- `PublicOrEmbeddedDashboardView/Component Compatibility`

To verify, I restarted test multiple times.

[example of failure](https://github.com/metabase/metabase/actions/runs/12996403983/job/36245141591?pr=52751)",uladzimirdev,2025-01-27 16:53:39+00:00,['uladzimirdev'],2025-01-28 13:53:53+00:00,2025-01-28 13:09:32+00:00,https://github.com/metabase/metabase/pull/52751,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2616521861, 'issue_id': 2813542764, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13482_tests-8db67438-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52751?repo=metabase/metabase&commitHash=8db67438bf24e5eca03380eef19ade4619bac0a0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52751?repo=metabase/metabase&commitHash=8db67438bf24e5eca03380eef19ade4619bac0a0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52751?repo=metabase/metabase&commitHash=8db67438bf24e5eca03380eef19ade4619bac0a0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52751?repo=metabase/metabase&commitHash=8db67438bf24e5eca03380eef19ade4619bac0a0&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52751?repo=metabase/metabase&commitHash=8db67438bf24e5eca03380eef19ade4619bac0a0&utm_source=gh-comment&runConclusion=FAILURE&runId=982170db-72bc-58a6-aaef-013ecd3820cd) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52751?repo=metabase/metabase&commitHash=8db67438bf24e5eca03380eef19ade4619bac0a0&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 27, 17, 58, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618907706, 'issue_id': 2813542764, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `8db67438bf24e5eca03380eef19ade4619bac0a0-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13010423912?pr=52751)\n\n  File | Test Name\n  ---- | ---------\n  `search-pagination.cy.spec.js` | scenarios > search > should allow users to paginate results', 'created_at': datetime.datetime(2025, 1, 28, 12, 47, 10, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-27 17:58:53 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13482_tests-8db67438-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52751?repo=metabase/metabase&commitHash=8db67438bf24e5eca03380eef19ade4619bac0a0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52751?repo=metabase/metabase&commitHash=8db67438bf24e5eca03380eef19ade4619bac0a0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52751?repo=metabase/metabase&commitHash=8db67438bf24e5eca03380eef19ade4619bac0a0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52751?repo=metabase/metabase&commitHash=8db67438bf24e5eca03380eef19ade4619bac0a0&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52751?repo=metabase/metabase&commitHash=8db67438bf24e5eca03380eef19ade4619bac0a0&utm_source=gh-comment&runConclusion=FAILURE&runId=982170db-72bc-58a6-aaef-013ecd3820cd) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52751?repo=metabase/metabase&commitHash=8db67438bf24e5eca03380eef19ade4619bac0a0&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-28 12:47:10 UTC): ## e2e tests failed on `8db67438bf24e5eca03380eef19ade4619bac0a0-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13010423912?pr=52751)

  File | Test Name
  ---- | ---------
  `search-pagination.cy.spec.js` | scenarios > search > should allow users to paginate results

"
2813541496,pull_request,closed,,[Cards in Dashboards] Allow duplicating questions into dashboards,"[ENG-14403](https://linear.app/metabase-inc/issue/ENG-14403/duplicating-a-question-doesnt-allow-users-to-save-to-a-dashboard)

### Description

Allows duplicating a question into a dashboard. This action was overlooked in our initial implementation, so the same functionality for save has been brought over to duplicate.

### How to verify

- Visit a new question
- In the question menu, choose the ""Duplicate"" option
- Find a dashboard to save it in
- Save it to that dashboard

### Demo

https://github.com/user-attachments/assets/dd8458e0-765f-4785-a1eb-c5b68e0a8a94

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",sloansparger,2025-01-27 16:53:13+00:00,['sloansparger'],2025-01-28 22:59:24+00:00,2025-01-28 22:11:17+00:00,https://github.com/metabase/metabase/pull/52750,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2616523206, 'issue_id': 2813541496, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13505_tests-3138fead-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52750?repo=metabase/metabase&commitHash=3138feadb954fbd3bc5e93bb8c8d02f99fdbfebf&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52750?repo=metabase/metabase&commitHash=3138feadb954fbd3bc5e93bb8c8d02f99fdbfebf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52750?repo=metabase/metabase&commitHash=3138feadb954fbd3bc5e93bb8c8d02f99fdbfebf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52750?repo=metabase/metabase&commitHash=3138feadb954fbd3bc5e93bb8c8d02f99fdbfebf&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52750?repo=metabase/metabase&commitHash=3138feadb954fbd3bc5e93bb8c8d02f99fdbfebf&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 27, 17, 59, 32, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-27 17:59:32 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13505_tests-3138fead-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52750?repo=metabase/metabase&commitHash=3138feadb954fbd3bc5e93bb8c8d02f99fdbfebf&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52750?repo=metabase/metabase&commitHash=3138feadb954fbd3bc5e93bb8c8d02f99fdbfebf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52750?repo=metabase/metabase&commitHash=3138feadb954fbd3bc5e93bb8c8d02f99fdbfebf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52750?repo=metabase/metabase&commitHash=3138feadb954fbd3bc5e93bb8c8d02f99fdbfebf&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52750?repo=metabase/metabase&commitHash=3138feadb954fbd3bc5e93bb8c8d02f99fdbfebf&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2813528142,pull_request,closed,,"Fix setting ""Display as Link"" in model metadata","Fixes https://github.com/metabase/metabase/issues/51925

A bug in state handling of a component to edit ""Display as Link"" settings caused broken column metadata.

The component is fixed in the same way how mantine handles controlled inputs - it preserves an intermediate state when the component is focused, but in other cases the value from prop always wins. Side node - I initially tried to use `useLayoutEffect` to call `setValue` but it didn't help because you can switch from one column with an empty setting value, quickly enter some text, and then switch to another column. In this case the component is not re-mounted, and there is no change in the incoming `value`.

Before:
https://www.loom.com/share/0920fcfec42f4260842058b2bc457036

After:
https://www.loom.com/share/aeadf0c9e82346529ced011c92aeffa1",ranquild,2025-01-27 16:47:50+00:00,['ranquild'],2025-01-29 18:29:06+00:00,2025-01-29 16:25:30+00:00,https://github.com/metabase/metabase/pull/52749,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2616343419, 'issue_id': 2813528142, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 783fa00d698de1105bbc84e4952cb2d76006fd7e...07ab2246e5e3ddff9f5af4d183730516526814fb.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/settings/ChartSettingLinkUrlInput.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingLinkUrlInput.unit.spec.tsx |', 'created_at': datetime.datetime(2025, 1, 27, 16, 49, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616522179, 'issue_id': 2813528142, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3703_tests-07ab2246-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52749?repo=metabase/metabase&commitHash=07ab2246e5e3ddff9f5af4d183730516526814fb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52749?repo=metabase/metabase&commitHash=07ab2246e5e3ddff9f5af4d183730516526814fb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52749?repo=metabase/metabase&commitHash=07ab2246e5e3ddff9f5af4d183730516526814fb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52749?repo=metabase/metabase&commitHash=07ab2246e5e3ddff9f5af4d183730516526814fb&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52749?repo=metabase/metabase&commitHash=07ab2246e5e3ddff9f5af4d183730516526814fb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 27, 17, 59, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622516810, 'issue_id': 2813528142, 'author': 'ranquild', 'body': '@metabase-bot backport release-x.52.x', 'created_at': datetime.datetime(2025, 1, 29, 18, 29, 4, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-27 16:49:33 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 783fa00d698de1105bbc84e4952cb2d76006fd7e...07ab2246e5e3ddff9f5af4d183730516526814fb.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/settings/ChartSettingLinkUrlInput.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingLinkUrlInput.unit.spec.tsx |

trunk-io[bot] on (2025-01-27 17:59:02 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3703_tests-07ab2246-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52749?repo=metabase/metabase&commitHash=07ab2246e5e3ddff9f5af4d183730516526814fb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52749?repo=metabase/metabase&commitHash=07ab2246e5e3ddff9f5af4d183730516526814fb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52749?repo=metabase/metabase&commitHash=07ab2246e5e3ddff9f5af4d183730516526814fb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52749?repo=metabase/metabase&commitHash=07ab2246e5e3ddff9f5af4d183730516526814fb&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52749?repo=metabase/metabase&commitHash=07ab2246e5e3ddff9f5af4d183730516526814fb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

ranquild (Issue Creator) on (2025-01-29 18:29:04 UTC): @metabase-bot backport release-x.52.x

"
2813335644,pull_request,closed,,"🤖 backported ""fix only one comparison can be added""",#52644,github-automation-metabase,2025-01-27 15:30:16+00:00,"['alxnddr', 'github-automation-metabase']",2025-01-27 22:02:39+00:00,2025-01-27 20:53:21+00:00,https://github.com/metabase/metabase/pull/52747,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2616079737, 'issue_id': 2813335644, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 089308222c829392335092290b745cd74e4b2f29...c5da395cb2edfcb11e3b9031e86ffd46dad682b0.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/visualizations/SmartScalar/SettingsComponents/SmartScalarSettingsWidgets.tsx<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/SmartScalar.jsx |', 'created_at': datetime.datetime(2025, 1, 27, 15, 31, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616316761, 'issue_id': 2813335644, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/61962_tests-c5da395c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52747?repo=metabase/metabase&commitHash=c5da395cb2edfcb11e3b9031e86ffd46dad682b0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52747?repo=metabase/metabase&commitHash=c5da395cb2edfcb11e3b9031e86ffd46dad682b0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52747?repo=metabase/metabase&commitHash=c5da395cb2edfcb11e3b9031e86ffd46dad682b0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52747?repo=metabase/metabase&commitHash=c5da395cb2edfcb11e3b9031e86ffd46dad682b0&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>useIsParameterPanelSticky sets isStickyStateChanging to true and false before and after isSticky is changed</code> | failure\\_text: Error: expect(received).toBe(expected) // Object.is equalityExpected: trueReceived: false    at Object.toBe (/home/runner/work/metab... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52747?repo=metabase/metabase&commitHash=c5da395cb2edfcb11e3b9031e86ffd46dad682b0&utm_source=gh-comment&runConclusion=FAILURE&runId=ec99f70b-c4ac-5a3f-bcd3-5890a25e90cd) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52747?repo=metabase/metabase&commitHash=c5da395cb2edfcb11e3b9031e86ffd46dad682b0&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 27, 16, 39, 6, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-27 15:31:48 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 089308222c829392335092290b745cd74e4b2f29...c5da395cb2edfcb11e3b9031e86ffd46dad682b0.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/visualizations/SmartScalar/SettingsComponents/SmartScalarSettingsWidgets.tsx<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/SmartScalar.jsx |

trunk-io[bot] on (2025-01-27 16:39:06 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/61962_tests-c5da395c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52747?repo=metabase/metabase&commitHash=c5da395cb2edfcb11e3b9031e86ffd46dad682b0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52747?repo=metabase/metabase&commitHash=c5da395cb2edfcb11e3b9031e86ffd46dad682b0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52747?repo=metabase/metabase&commitHash=c5da395cb2edfcb11e3b9031e86ffd46dad682b0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52747?repo=metabase/metabase&commitHash=c5da395cb2edfcb11e3b9031e86ffd46dad682b0&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>useIsParameterPanelSticky sets isStickyStateChanging to true and false before and after isSticky is changed</code> | failure\_text: Error: expect(received).toBe(expected) // Object.is equalityExpected: trueReceived: false    at Object.toBe (/home/runner/work/metab... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52747?repo=metabase/metabase&commitHash=c5da395cb2edfcb11e3b9031e86ffd46dad682b0&utm_source=gh-comment&runConclusion=FAILURE&runId=ec99f70b-c4ac-5a3f-bcd3-5890a25e90cd) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52747?repo=metabase/metabase&commitHash=c5da395cb2edfcb11e3b9031e86ffd46dad682b0&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2813301784,pull_request,closed,,"🤖 backported ""Repro #32840 - Update action has different value for timestamp columns when view and update""",  #52742,github-automation-metabase,2025-01-27 15:16:52+00:00,"['kamilmielnik', 'github-automation-metabase']",2025-01-28 09:12:15+00:00,2025-01-28 08:32:10+00:00,https://github.com/metabase/metabase/pull/52745,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2616305888, 'issue_id': 2813301784, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3798_tests-4b624f68-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52745?repo=metabase/metabase&commitHash=4b624f6887a637f2e94f7a8549368ece800c9849&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52745?repo=metabase/metabase&commitHash=4b624f6887a637f2e94f7a8549368ece800c9849&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52745?repo=metabase/metabase&commitHash=4b624f6887a637f2e94f7a8549368ece800c9849&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52745?repo=metabase/metabase&commitHash=4b624f6887a637f2e94f7a8549368ece800c9849&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\\#37726)</code> | The test timed out while trying to find an element with the text ""Product → Category"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52745?repo=metabase/metabase&commitHash=4b624f6887a637f2e94f7a8549368ece800c9849&utm_source=gh-comment&runConclusion=FAILURE&runId=7435b0ad-e8ea-596c-8b05-5c02c952bca9) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52745?repo=metabase/metabase&commitHash=4b624f6887a637f2e94f7a8549368ece800c9849&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 27, 16, 34, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618168886, 'issue_id': 2813301784, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `4b624f6887a637f2e94f7a8549368ece800c9849-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13005828920?pr=52745)\n\n  File | Test Name\n  ---- | ---------\n  `visualizations-tabular-reproductions.cy.spec.js` | issue 37726 > should not result in an error when you add a column after resizing an existing one (#37726)', 'created_at': datetime.datetime(2025, 1, 28, 8, 5, 29, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-27 16:34:48 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3798_tests-4b624f68-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52745?repo=metabase/metabase&commitHash=4b624f6887a637f2e94f7a8549368ece800c9849&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52745?repo=metabase/metabase&commitHash=4b624f6887a637f2e94f7a8549368ece800c9849&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52745?repo=metabase/metabase&commitHash=4b624f6887a637f2e94f7a8549368ece800c9849&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52745?repo=metabase/metabase&commitHash=4b624f6887a637f2e94f7a8549368ece800c9849&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\#37726)</code> | The test timed out while trying to find an element with the text ""Product → Category"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52745?repo=metabase/metabase&commitHash=4b624f6887a637f2e94f7a8549368ece800c9849&utm_source=gh-comment&runConclusion=FAILURE&runId=7435b0ad-e8ea-596c-8b05-5c02c952bca9) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52745?repo=metabase/metabase&commitHash=4b624f6887a637f2e94f7a8549368ece800c9849&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-28 08:05:29 UTC): ## e2e tests failed on `4b624f6887a637f2e94f7a8549368ece800c9849-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13005828920?pr=52745)

  File | Test Name
  ---- | ---------
  `visualizations-tabular-reproductions.cy.spec.js` | issue 37726 > should not result in an error when you add a column after resizing an existing one (#37726)

"
2813255698,pull_request,closed,,"🤖 backported ""fix flaky test""","  #52731
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-27 14:58:29+00:00,"['filiphric', 'github-automation-metabase']",2025-01-28 07:10:41+00:00,2025-01-28 07:10:40+00:00,https://github.com/metabase/metabase/pull/52744,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2616151818, 'issue_id': 2813255698, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/54_tests-51b92e13-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52744?repo=metabase/metabase&commitHash=51b92e13be7be36a4097a20528c786409e2b6ccc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52744?repo=metabase/metabase&commitHash=51b92e13be7be36a4097a20528c786409e2b6ccc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52744?repo=metabase/metabase&commitHash=51b92e13be7be36a4097a20528c786409e2b6ccc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52744?repo=metabase/metabase&commitHash=51b92e13be7be36a4097a20528c786409e2b6ccc&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52744?repo=metabase/metabase&commitHash=51b92e13be7be36a4097a20528c786409e2b6ccc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 27, 15, 59, 4, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-27 15:59:04 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/54_tests-51b92e13-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52744?repo=metabase/metabase&commitHash=51b92e13be7be36a4097a20528c786409e2b6ccc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52744?repo=metabase/metabase&commitHash=51b92e13be7be36a4097a20528c786409e2b6ccc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52744?repo=metabase/metabase&commitHash=51b92e13be7be36a4097a20528c786409e2b6ccc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52744?repo=metabase/metabase&commitHash=51b92e13be7be36a4097a20528c786409e2b6ccc&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52744?repo=metabase/metabase&commitHash=51b92e13be7be36a4097a20528c786409e2b6ccc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2813242780,pull_request,closed,,"🤖 backported ""Fix converting nested mongo questions to native""","  #52645
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-27 14:53:26+00:00,"['ranquild', 'github-automation-metabase']",2025-01-27 17:13:34+00:00,2025-01-27 16:14:37+00:00,https://github.com/metabase/metabase/pull/52743,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2616164750, 'issue_id': 2813242780, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51963_tests-8e4c1e8a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52743?repo=metabase/metabase&commitHash=8e4c1e8a98bc86014e1ddc52c2f4a96c351557cd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52743?repo=metabase/metabase&commitHash=8e4c1e8a98bc86014e1ddc52c2f4a96c351557cd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52743?repo=metabase/metabase&commitHash=8e4c1e8a98bc86014e1ddc52c2f4a96c351557cd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52743?repo=metabase/metabase&commitHash=8e4c1e8a98bc86014e1ddc52c2f4a96c351557cd&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52743?repo=metabase/metabase&commitHash=8e4c1e8a98bc86014e1ddc52c2f4a96c351557cd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 27, 16, 3, 57, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-27 16:03:57 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51963_tests-8e4c1e8a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52743?repo=metabase/metabase&commitHash=8e4c1e8a98bc86014e1ddc52c2f4a96c351557cd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52743?repo=metabase/metabase&commitHash=8e4c1e8a98bc86014e1ddc52c2f4a96c351557cd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52743?repo=metabase/metabase&commitHash=8e4c1e8a98bc86014e1ddc52c2f4a96c351557cd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52743?repo=metabase/metabase&commitHash=8e4c1e8a98bc86014e1ddc52c2f4a96c351557cd&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52743?repo=metabase/metabase&commitHash=8e4c1e8a98bc86014e1ddc52c2f4a96c351557cd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2813227295,pull_request,closed,,Repro #32840 - Update action has different value for timestamp columns when view and update,"Closes #32840

### Description

I have not been able to reproduce the issue, even when checking out a commit where it should be reproducible (see https://github.com/metabase/metabase/issues/32840#issuecomment-2615867617).
Anyway, repro steps are clear, so I assume this is not an issue anymore.

### How to verify

CI is green.",kamilmielnik,2025-01-27 14:47:12+00:00,['kamilmielnik'],2025-01-27 16:16:01+00:00,2025-01-27 15:14:21+00:00,https://github.com/metabase/metabase/pull/52742,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2616121185, 'issue_id': 2813227295, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3689_tests-136a7e1b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52742?repo=metabase/metabase&commitHash=136a7e1b33c93a4d86c7c8c12ae874ae2eeff039&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52742?repo=metabase/metabase&commitHash=136a7e1b33c93a4d86c7c8c12ae874ae2eeff039&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52742?repo=metabase/metabase&commitHash=136a7e1b33c93a4d86c7c8c12ae874ae2eeff039&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52742?repo=metabase/metabase&commitHash=136a7e1b33c93a4d86c7c8c12ae874ae2eeff039&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52742?repo=metabase/metabase&commitHash=136a7e1b33c93a4d86c7c8c12ae874ae2eeff039&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 27, 15, 47, 44, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-27 15:47:44 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3689_tests-136a7e1b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52742?repo=metabase/metabase&commitHash=136a7e1b33c93a4d86c7c8c12ae874ae2eeff039&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52742?repo=metabase/metabase&commitHash=136a7e1b33c93a4d86c7c8c12ae874ae2eeff039&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52742?repo=metabase/metabase&commitHash=136a7e1b33c93a4d86c7c8c12ae874ae2eeff039&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52742?repo=metabase/metabase&commitHash=136a7e1b33c93a4d86c7c8c12ae874ae2eeff039&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52742?repo=metabase/metabase&commitHash=136a7e1b33c93a4d86c7c8c12ae874ae2eeff039&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2813140553,pull_request,closed,,"🤖 backported ""fix(sdk): Fix nextJS compatibility layer missing components""",#52672,github-automation-metabase,2025-01-27 14:12:25+00:00,"['WiNloSt', 'github-automation-metabase']",2025-01-27 15:44:04+00:00,2025-01-27 14:56:53+00:00,https://github.com/metabase/metabase/pull/52741,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2615911548, 'issue_id': 2813140553, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `e901d0ddcfe9ed7787c46023a5075e4ec9c84eea-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12990895559?pr=52741)\n\n  File | Test Name\n  ---- | ---------\n  `visualizations-tabular-reproductions.cy.spec.js` | issue 37726 > should not result in an error when you add a column after resizing an existing one (#37726)', 'created_at': datetime.datetime(2025, 1, 27, 14, 28, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615970568, 'issue_id': 2813140553, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/23746_tests-e901d0dd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52741?repo=metabase/metabase&commitHash=e901d0ddcfe9ed7787c46023a5075e4ec9c84eea&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52741?repo=metabase/metabase&commitHash=e901d0ddcfe9ed7787c46023a5075e4ec9c84eea&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52741?repo=metabase/metabase&commitHash=e901d0ddcfe9ed7787c46023a5075e4ec9c84eea&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52741?repo=metabase/metabase&commitHash=e901d0ddcfe9ed7787c46023a5075e4ec9c84eea&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\\#37726)</code> | The test timed out while trying to find an element with the text ""Product → Category"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52741?repo=metabase/metabase&commitHash=e901d0ddcfe9ed7787c46023a5075e4ec9c84eea&utm_source=gh-comment&runConclusion=FAILURE&runId=207afa30-138c-5465-9a49-6aa20db65c12) |\n| <code>useIsParameterPanelSticky sets isStickyStateChanging to true and false before and after isSticky is changed</code> | failure\\_text: Error: expect(received).toBe(expected) // Object.is equalityExpected: trueReceived: false    at Object.toBe (/home/runner/work/metab... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52741?repo=metabase/metabase&commitHash=e901d0ddcfe9ed7787c46023a5075e4ec9c84eea&utm_source=gh-comment&runConclusion=FAILURE&runId=5746b0d1-ae82-50a9-bc65-7ed084ab9a37) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52741?repo=metabase/metabase&commitHash=e901d0ddcfe9ed7787c46023a5075e4ec9c84eea&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 27, 14, 50, 53, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-27 14:28:31 UTC): ## e2e tests failed on `e901d0ddcfe9ed7787c46023a5075e4ec9c84eea-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12990895559?pr=52741)

  File | Test Name
  ---- | ---------
  `visualizations-tabular-reproductions.cy.spec.js` | issue 37726 > should not result in an error when you add a column after resizing an existing one (#37726)

trunk-io[bot] on (2025-01-27 14:50:53 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/23746_tests-e901d0dd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52741?repo=metabase/metabase&commitHash=e901d0ddcfe9ed7787c46023a5075e4ec9c84eea&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52741?repo=metabase/metabase&commitHash=e901d0ddcfe9ed7787c46023a5075e4ec9c84eea&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52741?repo=metabase/metabase&commitHash=e901d0ddcfe9ed7787c46023a5075e4ec9c84eea&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52741?repo=metabase/metabase&commitHash=e901d0ddcfe9ed7787c46023a5075e4ec9c84eea&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\#37726)</code> | The test timed out while trying to find an element with the text ""Product → Category"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52741?repo=metabase/metabase&commitHash=e901d0ddcfe9ed7787c46023a5075e4ec9c84eea&utm_source=gh-comment&runConclusion=FAILURE&runId=207afa30-138c-5465-9a49-6aa20db65c12) |
| <code>useIsParameterPanelSticky sets isStickyStateChanging to true and false before and after isSticky is changed</code> | failure\_text: Error: expect(received).toBe(expected) // Object.is equalityExpected: trueReceived: false    at Object.toBe (/home/runner/work/metab... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52741?repo=metabase/metabase&commitHash=e901d0ddcfe9ed7787c46023a5075e4ec9c84eea&utm_source=gh-comment&runConclusion=FAILURE&runId=5746b0d1-ae82-50a9-bc65-7ed084ab9a37) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52741?repo=metabase/metabase&commitHash=e901d0ddcfe9ed7787c46023a5075e4ec9c84eea&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2812944762,pull_request,closed,,Slightly tweaked the font size in gauge to make sure middle label is always visible,"Closes #47937 

### Description

The gauge labels are sometimes hidden based on whether there's enough room or not for them. The font size would basically never allow for a label right in the middle of the gauge.

### How to verify

See https://metaboat.slack.com/archives/C01LQQ2UW03/p1726258978599119 for additional explanation and context.",lorem--ipsum,2025-01-27 12:50:40+00:00,['lorem--ipsum'],2025-01-28 14:39:39+00:00,2025-01-28 14:39:37+00:00,https://github.com/metabase/metabase/pull/52740,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2615682478, 'issue_id': 2812944762, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 3365b33beb18fd35c3f7f08c8e23ca7e74a4c909...5b72b5de7925808dfda789777989ffc70212d588.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/visualizations/Gauge/Gauge.jsx |', 'created_at': datetime.datetime(2025, 1, 27, 12, 52, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615800789, 'issue_id': 2812944762, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13397_tests-5b72b5de-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52740?repo=metabase/metabase&commitHash=5b72b5de7925808dfda789777989ffc70212d588&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52740?repo=metabase/metabase&commitHash=5b72b5de7925808dfda789777989ffc70212d588&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52740?repo=metabase/metabase&commitHash=5b72b5de7925808dfda789777989ffc70212d588&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52740?repo=metabase/metabase&commitHash=5b72b5de7925808dfda789777989ffc70212d588&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52740?repo=metabase/metabase&commitHash=5b72b5de7925808dfda789777989ffc70212d588&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 27, 13, 43, 49, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-27 12:52:09 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 3365b33beb18fd35c3f7f08c8e23ca7e74a4c909...5b72b5de7925808dfda789777989ffc70212d588.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/visualizations/Gauge/Gauge.jsx |

trunk-io[bot] on (2025-01-27 13:43:49 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13397_tests-5b72b5de-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52740?repo=metabase/metabase&commitHash=5b72b5de7925808dfda789777989ffc70212d588&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52740?repo=metabase/metabase&commitHash=5b72b5de7925808dfda789777989ffc70212d588&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52740?repo=metabase/metabase&commitHash=5b72b5de7925808dfda789777989ffc70212d588&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52740?repo=metabase/metabase&commitHash=5b72b5de7925808dfda789777989ffc70212d588&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52740?repo=metabase/metabase&commitHash=5b72b5de7925808dfda789777989ffc70212d588&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2812909416,pull_request,closed,,"🤖 backported ""Manually revert #52310""",#52736,github-automation-metabase,2025-01-27 12:35:11+00:00,"['WiNloSt', 'github-automation-metabase']",2025-01-27 14:23:14+00:00,2025-01-27 14:14:02+00:00,https://github.com/metabase/metabase/pull/52739,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2615648110, 'issue_id': 2812909416, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 5901fcadc238cbb19b7597792b64b4b8af02fefd...306f267b8dd391446da2eaa18723f0ea3db07d91.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/echarts/tooltip/index.tsx |', 'created_at': datetime.datetime(2025, 1, 27, 12, 36, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615668994, 'issue_id': 2812909416, 'author': 'WiNloSt', 'body': 'The issue is fixed here.\r\n![image](https://github.com/user-attachments/assets/fbf72ed1-f84e-4cdc-8065-cdbc8257b75f)', 'created_at': datetime.datetime(2025, 1, 27, 12, 46, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615740370, 'issue_id': 2812909416, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/71071_tests-306f267b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52739?repo=metabase/metabase&commitHash=306f267b8dd391446da2eaa18723f0ea3db07d91&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52739?repo=metabase/metabase&commitHash=306f267b8dd391446da2eaa18723f0ea3db07d91&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52739?repo=metabase/metabase&commitHash=306f267b8dd391446da2eaa18723f0ea3db07d91&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52739?repo=metabase/metabase&commitHash=306f267b8dd391446da2eaa18723f0ea3db07d91&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 33327 should recover from a visualization error (metabase\\#33327)</code> | The \\`cy.find()\\` command timed out because the page updated and the element was removed from the DOM. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52739?repo=metabase/metabase&commitHash=306f267b8dd391446da2eaa18723f0ea3db07d91&utm_source=gh-comment&runConclusion=FAILURE&runId=1b7e7053-2c34-5a75-a8b9-2b3e9d8a226a) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>useIsParameterPanelSticky sets isStickyStateChanging to true and false before and after isSticky is changed</code> | failure\\_text: Error: expect(received).toBe(expected) // Object.is equalityExpected: trueReceived: false    at Object.toBe (/home/runner/work/metab... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52739?repo=metabase/metabase&commitHash=306f267b8dd391446da2eaa18723f0ea3db07d91&utm_source=gh-comment&runConclusion=FAILURE&runId=c3b31cc9-6d3d-57ff-93bd-470c7f31ac39) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52739?repo=metabase/metabase&commitHash=306f267b8dd391446da2eaa18723f0ea3db07d91&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 27, 13, 17, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615741624, 'issue_id': 2812909416, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `306f267b8dd391446da2eaa18723f0ea3db07d91-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12989454938?pr=52739)\n\n  File | Test Name\n  ---- | ---------\n  `native-reproductions.cy.spec.ts` | issue 33327 > should recover from a visualization error (metabase#33327)', 'created_at': datetime.datetime(2025, 1, 27, 13, 18, 3, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-27 12:36:40 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 5901fcadc238cbb19b7597792b64b4b8af02fefd...306f267b8dd391446da2eaa18723f0ea3db07d91.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/echarts/tooltip/index.tsx |

WiNloSt (Assginee) on (2025-01-27 12:46:14 UTC): The issue is fixed here.
![image](https://github.com/user-attachments/assets/fbf72ed1-f84e-4cdc-8065-cdbc8257b75f)

trunk-io[bot] on (2025-01-27 13:17:29 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/71071_tests-306f267b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52739?repo=metabase/metabase&commitHash=306f267b8dd391446da2eaa18723f0ea3db07d91&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52739?repo=metabase/metabase&commitHash=306f267b8dd391446da2eaa18723f0ea3db07d91&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52739?repo=metabase/metabase&commitHash=306f267b8dd391446da2eaa18723f0ea3db07d91&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52739?repo=metabase/metabase&commitHash=306f267b8dd391446da2eaa18723f0ea3db07d91&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 33327 should recover from a visualization error (metabase\#33327)</code> | The \`cy.find()\` command timed out because the page updated and the element was removed from the DOM. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52739?repo=metabase/metabase&commitHash=306f267b8dd391446da2eaa18723f0ea3db07d91&utm_source=gh-comment&runConclusion=FAILURE&runId=1b7e7053-2c34-5a75-a8b9-2b3e9d8a226a) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>useIsParameterPanelSticky sets isStickyStateChanging to true and false before and after isSticky is changed</code> | failure\_text: Error: expect(received).toBe(expected) // Object.is equalityExpected: trueReceived: false    at Object.toBe (/home/runner/work/metab... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52739?repo=metabase/metabase&commitHash=306f267b8dd391446da2eaa18723f0ea3db07d91&utm_source=gh-comment&runConclusion=FAILURE&runId=c3b31cc9-6d3d-57ff-93bd-470c7f31ac39) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52739?repo=metabase/metabase&commitHash=306f267b8dd391446da2eaa18723f0ea3db07d91&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-27 13:18:03 UTC): ## e2e tests failed on `306f267b8dd391446da2eaa18723f0ea3db07d91-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12989454938?pr=52739)

  File | Test Name
  ---- | ---------
  `native-reproductions.cy.spec.ts` | issue 33327 > should recover from a visualization error (metabase#33327)

"
2812891593,pull_request,closed,,"🤖 backported ""Track search index queue size as prometheus gauge""",#52737,github-automation-metabase,2025-01-27 12:27:36+00:00,"['crisptrutski', 'github-automation-metabase']",2025-01-27 13:46:39+00:00,2025-01-27 13:04:48+00:00,https://github.com/metabase/metabase/pull/52738,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2615738830, 'issue_id': 2812891593, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120923_tests-303b52c5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52738?repo=metabase/metabase&commitHash=303b52c5eb9e77f6ac2e03273fc3f48e072b5d9c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52738?repo=metabase/metabase&commitHash=303b52c5eb9e77f6ac2e03273fc3f48e072b5d9c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52738?repo=metabase/metabase&commitHash=303b52c5eb9e77f6ac2e03273fc3f48e072b5d9c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52738?repo=metabase/metabase&commitHash=303b52c5eb9e77f6ac2e03273fc3f48e072b5d9c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52738?repo=metabase/metabase&commitHash=303b52c5eb9e77f6ac2e03273fc3f48e072b5d9c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 27, 13, 16, 50, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-27 13:16:50 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120923_tests-303b52c5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52738?repo=metabase/metabase&commitHash=303b52c5eb9e77f6ac2e03273fc3f48e072b5d9c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52738?repo=metabase/metabase&commitHash=303b52c5eb9e77f6ac2e03273fc3f48e072b5d9c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52738?repo=metabase/metabase&commitHash=303b52c5eb9e77f6ac2e03273fc3f48e072b5d9c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52738?repo=metabase/metabase&commitHash=303b52c5eb9e77f6ac2e03273fc3f48e072b5d9c&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52738?repo=metabase/metabase&commitHash=303b52c5eb9e77f6ac2e03273fc3f48e072b5d9c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2812835013,pull_request,closed,,Track search index queue size as prometheus gauge,"This metric will help us catch any throughput issues for Cloud customers.

It would have caught the memory leak we had in stats previously.

We will probably define an alert on it as well.",crisptrutski,2025-01-27 12:02:30+00:00,['crisptrutski'],2025-01-27 13:12:53+00:00,2025-01-27 12:26:43+00:00,https://github.com/metabase/metabase/pull/52737,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2615582100, 'issue_id': 2812835013, 'author': 'crisptrutski', 'body': ""I've tested manually. I thought of adding unit tests, but they would require mocking and provide dubious value.\r\n\r\nLet me know if you think we should just go ahead and add them anyway."", 'created_at': datetime.datetime(2025, 1, 27, 12, 6, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615583713, 'issue_id': 2812835013, 'author': 'crisptrutski', 'body': 'I thought about publishing a zero on start-up, but not sure its worth the complexity.', 'created_at': datetime.datetime(2025, 1, 27, 12, 6, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615598968, 'issue_id': 2812835013, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `257d725df8f084c1629030e2d08eac10fb69c84a-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12988513101?pr=52737)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)', 'created_at': datetime.datetime(2025, 1, 27, 12, 13, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615666661, 'issue_id': 2812835013, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/94610_tests-257d725d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52737?repo=metabase/metabase&commitHash=257d725df8f084c1629030e2d08eac10fb69c84a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52737?repo=metabase/metabase&commitHash=257d725df8f084c1629030e2d08eac10fb69c84a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52737?repo=metabase/metabase&commitHash=257d725df8f084c1629030e2d08eac10fb69c84a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52737?repo=metabase/metabase&commitHash=257d725df8f084c1629030e2d08eac10fb69c84a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 16559 should always show the most recent revision (metabase\\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52737?repo=metabase/metabase&commitHash=257d725df8f084c1629030e2d08eac10fb69c84a&utm_source=gh-comment&runConclusion=FAILURE&runId=519e858f-1522-55a3-b2e2-c044d09e159a) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52737?repo=metabase/metabase&commitHash=257d725df8f084c1629030e2d08eac10fb69c84a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 27, 12, 45, 19, tzinfo=datetime.timezone.utc)}]","crisptrutski (Issue Creator) on (2025-01-27 12:06:13 UTC): I've tested manually. I thought of adding unit tests, but they would require mocking and provide dubious value.

Let me know if you think we should just go ahead and add them anyway.

crisptrutski (Issue Creator) on (2025-01-27 12:06:58 UTC): I thought about publishing a zero on start-up, but not sure its worth the complexity.

github-actions[bot] on (2025-01-27 12:13:58 UTC): ## e2e tests failed on `257d725df8f084c1629030e2d08eac10fb69c84a-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12988513101?pr=52737)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)

trunk-io[bot] on (2025-01-27 12:45:19 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/94610_tests-257d725d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52737?repo=metabase/metabase&commitHash=257d725df8f084c1629030e2d08eac10fb69c84a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52737?repo=metabase/metabase&commitHash=257d725df8f084c1629030e2d08eac10fb69c84a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52737?repo=metabase/metabase&commitHash=257d725df8f084c1629030e2d08eac10fb69c84a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52737?repo=metabase/metabase&commitHash=257d725df8f084c1629030e2d08eac10fb69c84a&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 16559 should always show the most recent revision (metabase\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52737?repo=metabase/metabase&commitHash=257d725df8f084c1629030e2d08eac10fb69c84a&utm_source=gh-comment&runConclusion=FAILURE&runId=519e858f-1522-55a3-b2e2-c044d09e159a) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52737?repo=metabase/metabase&commitHash=257d725df8f084c1629030e2d08eac10fb69c84a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2812816103,pull_request,closed,,Manually revert #52310,"Relate to https://github.com/metabase/metabase/issues/52732. (it will be closed after backporting)

### Backport reason
This needs to go to 52, to fix https://github.com/metabase/metabase/issues/52732. We will try a proper fix for https://github.com/metabase/metabase/issues/51904 with a new backport next time.

### Description
#52310 caused this P1 #52732, so we need to revert it.

We can't auto revert #52310, because `e2e/test-component/scenarios/embedding-sdk/tooltip-reproductions.cy.spec.tsx` has changed. I decide to keep that test as is since it's currently skipped anyway.

### How to verify
> [!note]
> Actually we need to also test the backport PR, again to ensure this doesn't happen. I'll do that once this PR is merged.

Tooltip on dashboards should work. You can test it on the example dashboard.


### Demo
![image](https://github.com/user-attachments/assets/7bb74c67-c41a-4887-b18c-385713fd97ed)


### Checklist

- [ ] ~Tests have been added/updated to cover changes in this PR~
",WiNloSt,2025-01-27 11:53:52+00:00,['WiNloSt'],2025-01-27 13:19:16+00:00,2025-01-27 12:34:04+00:00,https://github.com/metabase/metabase/pull/52736,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2615559464, 'issue_id': 2812816103, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff a7b8f79b031eefeff5b3b0c8f8f40bcb7fd2e005...3e755babbc4484e34929a2818d7efba783df2bcc.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/echarts/tooltip/index.tsx |', 'created_at': datetime.datetime(2025, 1, 27, 11, 55, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615591577, 'issue_id': 2812816103, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `3e755babbc4484e34929a2818d7efba783df2bcc-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12988379581?pr=52736)\n\n  File | Test Name\n  ---- | ---------\n  `browse.cy.spec.ts` | scenarios > browse (EE) > /browse/models allows models to be filtered, on an enterprise instance', 'created_at': datetime.datetime(2025, 1, 27, 12, 10, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615664453, 'issue_id': 2812816103, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/22873_tests-3e755bab-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52736?repo=metabase/metabase&commitHash=3e755babbc4484e34929a2818d7efba783df2bcc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52736?repo=metabase/metabase&commitHash=3e755babbc4484e34929a2818d7efba783df2bcc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52736?repo=metabase/metabase&commitHash=3e755babbc4484e34929a2818d7efba783df2bcc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52736?repo=metabase/metabase&commitHash=3e755babbc4484e34929a2818d7efba783df2bcc&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > browse (EE) /browse/models allows models to be filtered, on an enterprise instance</code> | Unable to find an accessible element with the role ""heading"" and name ""Model 1"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52736?repo=metabase/metabase&commitHash=3e755babbc4484e34929a2818d7efba783df2bcc&utm_source=gh-comment&runConclusion=FAILURE&runId=ed187b3f-1105-5c2a-9ea9-e2bd0d7e8870) |\n| <code>scenarios > native question > data reference sidebar should show models</code> | Unable to find an element with the text ""2 models"" within 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52736?repo=metabase/metabase&commitHash=3e755babbc4484e34929a2818d7efba783df2bcc&utm_source=gh-comment&runConclusion=FAILURE&runId=8959a6b2-c4f9-55be-9295-b7dc9e9cff26) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52736?repo=metabase/metabase&commitHash=3e755babbc4484e34929a2818d7efba783df2bcc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 27, 12, 44, 19, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-27 11:55:22 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff a7b8f79b031eefeff5b3b0c8f8f40bcb7fd2e005...3e755babbc4484e34929a2818d7efba783df2bcc.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/echarts/tooltip/index.tsx |

github-actions[bot] on (2025-01-27 12:10:33 UTC): ## e2e tests failed on `3e755babbc4484e34929a2818d7efba783df2bcc-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12988379581?pr=52736)

  File | Test Name
  ---- | ---------
  `browse.cy.spec.ts` | scenarios > browse (EE) > /browse/models allows models to be filtered, on an enterprise instance

trunk-io[bot] on (2025-01-27 12:44:19 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/22873_tests-3e755bab-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52736?repo=metabase/metabase&commitHash=3e755babbc4484e34929a2818d7efba783df2bcc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52736?repo=metabase/metabase&commitHash=3e755babbc4484e34929a2818d7efba783df2bcc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52736?repo=metabase/metabase&commitHash=3e755babbc4484e34929a2818d7efba783df2bcc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52736?repo=metabase/metabase&commitHash=3e755babbc4484e34929a2818d7efba783df2bcc&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > browse (EE) /browse/models allows models to be filtered, on an enterprise instance</code> | Unable to find an accessible element with the role ""heading"" and name ""Model 1"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52736?repo=metabase/metabase&commitHash=3e755babbc4484e34929a2818d7efba783df2bcc&utm_source=gh-comment&runConclusion=FAILURE&runId=ed187b3f-1105-5c2a-9ea9-e2bd0d7e8870) |
| <code>scenarios > native question > data reference sidebar should show models</code> | Unable to find an element with the text ""2 models"" within 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52736?repo=metabase/metabase&commitHash=3e755babbc4484e34929a2818d7efba783df2bcc&utm_source=gh-comment&runConclusion=FAILURE&runId=8959a6b2-c4f9-55be-9295-b7dc9e9cff26) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52736?repo=metabase/metabase&commitHash=3e755babbc4484e34929a2818d7efba783df2bcc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2812698477,pull_request,closed,,chore: migrate static-viz build to rspack,"### Description

we use rspack for the main app, let's do the same for static viz",uladzimirdev,2025-01-27 11:00:19+00:00,['uladzimirdev'],2025-01-29 20:07:13+00:00,2025-01-29 20:07:10+00:00,https://github.com/metabase/metabase/pull/52734,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2615532817, 'issue_id': 2812698477, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13637_tests-855b032c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52734?repo=metabase/metabase&commitHash=855b032c4bb6ba5715a2b0d7a0b414991b50fb62&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52734?repo=metabase/metabase&commitHash=855b032c4bb6ba5715a2b0d7a0b414991b50fb62&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52734?repo=metabase/metabase&commitHash=855b032c4bb6ba5715a2b0d7a0b414991b50fb62&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52734?repo=metabase/metabase&commitHash=855b032c4bb6ba5715a2b0d7a0b414991b50fb62&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Write Actions on Dashboards (mysql) adding and executing actions adds a custom query action to a dashboard and runs it</code> | The expected value 55 was not equal to the actual value 0. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52734?repo=metabase/metabase&commitHash=855b032c4bb6ba5715a2b0d7a0b414991b50fb62&utm_source=gh-comment&runConclusion=FAILURE&runId=3c7a6222-8782-52a2-951f-a3db033adefc) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52734?repo=metabase/metabase&commitHash=855b032c4bb6ba5715a2b0d7a0b414991b50fb62&utm_source=gh-comment&runConclusion=FAILURE&runId=f66c1379-119a-595b-a18d-35f28824be8a) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52734?repo=metabase/metabase&commitHash=855b032c4bb6ba5715a2b0d7a0b414991b50fb62&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 27, 11, 42, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621156247, 'issue_id': 2812698477, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `855b032c4bb6ba5715a2b0d7a0b414991b50fb62-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13028444341?pr=52734)\n\n  File | Test Name\n  ---- | ---------\n  `actions-on-dashboards.cy.spec.js` | Write Actions on Dashboards (mysql) > adding and executing actions > adds a custom query action to a dashboard and runs it\n`permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)', 'created_at': datetime.datetime(2025, 1, 29, 9, 49, 46, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-27 11:42:28 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13637_tests-855b032c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52734?repo=metabase/metabase&commitHash=855b032c4bb6ba5715a2b0d7a0b414991b50fb62&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52734?repo=metabase/metabase&commitHash=855b032c4bb6ba5715a2b0d7a0b414991b50fb62&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52734?repo=metabase/metabase&commitHash=855b032c4bb6ba5715a2b0d7a0b414991b50fb62&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52734?repo=metabase/metabase&commitHash=855b032c4bb6ba5715a2b0d7a0b414991b50fb62&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Write Actions on Dashboards (mysql) adding and executing actions adds a custom query action to a dashboard and runs it</code> | The expected value 55 was not equal to the actual value 0. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52734?repo=metabase/metabase&commitHash=855b032c4bb6ba5715a2b0d7a0b414991b50fb62&utm_source=gh-comment&runConclusion=FAILURE&runId=3c7a6222-8782-52a2-951f-a3db033adefc) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52734?repo=metabase/metabase&commitHash=855b032c4bb6ba5715a2b0d7a0b414991b50fb62&utm_source=gh-comment&runConclusion=FAILURE&runId=f66c1379-119a-595b-a18d-35f28824be8a) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52734?repo=metabase/metabase&commitHash=855b032c4bb6ba5715a2b0d7a0b414991b50fb62&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-29 09:49:46 UTC): ## e2e tests failed on `855b032c4bb6ba5715a2b0d7a0b414991b50fb62-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13028444341?pr=52734)

  File | Test Name
  ---- | ---------
  `actions-on-dashboards.cy.spec.js` | Write Actions on Dashboards (mysql) > adding and executing actions > adds a custom query action to a dashboard and runs it
`permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)

"
2812609131,pull_request,closed,,fix flaky test,"Closes https://linear.app/metabase-inc/issue/ENG-14453/flaky-test-scenarios-admin-settings-api-keys-should-show-an-error-when

## Stress test
https://github.com/metabase/metabase/actions/runs/12986419889

### Description

The core of the problem seemed to be with how `H.modal` returns a scope in which `cy.button`  finds an element. there seems to be a break in retryability chain, and since `H.modal` can return either new or old modal, the flakiness happens when it is quick to find one of them, pass it on and then that modal disappears and UI shows the new one. `cy.button` then tries to search within invisible (or non-existent) element. I think an eslint rule for non-ambiguous elements might make sense here.

",filiphric,2025-01-27 10:19:32+00:00,['filiphric'],2025-01-27 22:10:09+00:00,2025-01-27 14:57:31+00:00,https://github.com/metabase/metabase/pull/52731,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2615390052, 'issue_id': 2812609131, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `e19bec1b904c74ecc31ac9c9286617fc3bf5066f-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12986777087?pr=52731)\n\n  File | Test Name\n  ---- | ---------\n  `permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)', 'created_at': datetime.datetime(2025, 1, 27, 10, 36, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615476429, 'issue_id': 2812609131, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3728_tests-e19bec1b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52731?repo=metabase/metabase&commitHash=e19bec1b904c74ecc31ac9c9286617fc3bf5066f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52731?repo=metabase/metabase&commitHash=e19bec1b904c74ecc31ac9c9286617fc3bf5066f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52731?repo=metabase/metabase&commitHash=e19bec1b904c74ecc31ac9c9286617fc3bf5066f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52731?repo=metabase/metabase&commitHash=e19bec1b904c74ecc31ac9c9286617fc3bf5066f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52731?repo=metabase/metabase&commitHash=e19bec1b904c74ecc31ac9c9286617fc3bf5066f&utm_source=gh-comment&runConclusion=FAILURE&runId=aff81c87-f034-548d-bc33-56d06000835f) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52731?repo=metabase/metabase&commitHash=e19bec1b904c74ecc31ac9c9286617fc3bf5066f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 27, 11, 15, 50, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-27 10:36:38 UTC): ## e2e tests failed on `e19bec1b904c74ecc31ac9c9286617fc3bf5066f-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12986777087?pr=52731)

  File | Test Name
  ---- | ---------
  `permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)

trunk-io[bot] on (2025-01-27 11:15:50 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3728_tests-e19bec1b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52731?repo=metabase/metabase&commitHash=e19bec1b904c74ecc31ac9c9286617fc3bf5066f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52731?repo=metabase/metabase&commitHash=e19bec1b904c74ecc31ac9c9286617fc3bf5066f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52731?repo=metabase/metabase&commitHash=e19bec1b904c74ecc31ac9c9286617fc3bf5066f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52731?repo=metabase/metabase&commitHash=e19bec1b904c74ecc31ac9c9286617fc3bf5066f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52731?repo=metabase/metabase&commitHash=e19bec1b904c74ecc31ac9c9286617fc3bf5066f&utm_source=gh-comment&runConclusion=FAILURE&runId=aff81c87-f034-548d-bc33-56d06000835f) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52731?repo=metabase/metabase&commitHash=e19bec1b904c74ecc31ac9c9286617fc3bf5066f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2812607372,pull_request,closed,,"🤖 backported ""Refactor - React Context in FilterModal""","#52651

Manual conflict resolution in:
- `frontend/src/metabase/querying/filters/components/FilterModal/FilterModal.tsx`
- `frontend/src/metabase/querying/filters/components/FilterModal/FilterModalBody/FilterTabPanel/FilterTabPanel.tsx`
- `frontend/src/metabase/querying/filters/components/FilterModal/FilterSearchInput/FilterSearchInput.styled.tsx`
- `frontend/src/metabase/querying/filters/hooks/use-filter-modal/use-filter-modal.ts`
- `frontend/src/metabase/querying/filters/types.ts`

Hiding whitespace changes recommended.",github-automation-metabase,2025-01-27 10:18:42+00:00,"['kamilmielnik', 'github-automation-metabase']",2025-01-27 14:56:24+00:00,2025-01-27 14:56:22+00:00,https://github.com/metabase/metabase/pull/52730,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2615475717, 'issue_id': 2812607372, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13680_tests-10bf40c3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52730?repo=metabase/metabase&commitHash=10bf40c323d921eba3663f9eb0234acdbf44b67f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52730?repo=metabase/metabase&commitHash=10bf40c323d921eba3663f9eb0234acdbf44b67f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52730?repo=metabase/metabase&commitHash=10bf40c323d921eba3663f9eb0234acdbf44b67f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52730?repo=metabase/metabase&commitHash=10bf40c323d921eba3663f9eb0234acdbf44b67f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52730?repo=metabase/metabase&commitHash=10bf40c323d921eba3663f9eb0234acdbf44b67f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 27, 11, 15, 29, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-27 11:15:29 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13680_tests-10bf40c3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52730?repo=metabase/metabase&commitHash=10bf40c323d921eba3663f9eb0234acdbf44b67f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52730?repo=metabase/metabase&commitHash=10bf40c323d921eba3663f9eb0234acdbf44b67f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52730?repo=metabase/metabase&commitHash=10bf40c323d921eba3663f9eb0234acdbf44b67f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52730?repo=metabase/metabase&commitHash=10bf40c323d921eba3663f9eb0234acdbf44b67f&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52730?repo=metabase/metabase&commitHash=10bf40c323d921eba3663f9eb0234acdbf44b67f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2812252781,pull_request,closed,,Disable query analysis by default,,crisptrutski,2025-01-27 07:16:40+00:00,['crisptrutski'],2025-01-28 09:23:20+00:00,2025-01-27 16:56:52+00:00,https://github.com/metabase/metabase/pull/52728,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2615034033, 'issue_id': 2812252781, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/94610_tests-d504818c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52728?repo=metabase/metabase&commitHash=d504818cece21da346556dec048de31b42c6a5f5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52728?repo=metabase/metabase&commitHash=d504818cece21da346556dec048de31b42c6a5f5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52728?repo=metabase/metabase&commitHash=d504818cece21da346556dec048de31b42c6a5f5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52728?repo=metabase/metabase&commitHash=d504818cece21da346556dec048de31b42c6a5f5&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>query validator feature enabled enable query analysis setting</code> | Unable to find an accessible element with the role ""switch"" and name \\`/ENABLE QUERY ANALYSIS/i\\` after 4000ms of retrying. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52728?repo=metabase/metabase&commitHash=d504818cece21da346556dec048de31b42c6a5f5&utm_source=gh-comment&runConclusion=FAILURE&runId=5499455f-f0c1-5a61-a3c1-380d1829577d) |\n| <code>query validator feature enabled picks up inactive and unknown fields and tables</code> | Unable to find an accessible element with the role ""row"" after 4000ms of retrying. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52728?repo=metabase/metabase&commitHash=d504818cece21da346556dec048de31b42c6a5f5&utm_source=gh-comment&runConclusion=FAILURE&runId=137893f7-e06e-5e7e-800e-bcf8a61f14a5) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52728?repo=metabase/metabase&commitHash=d504818cece21da346556dec048de31b42c6a5f5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 27, 7, 42, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615120139, 'issue_id': 2812252781, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `d504818cece21da346556dec048de31b42c6a5f5-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12984584782?pr=52728)\n\n  File | Test Name\n  ---- | ---------\n  `query-validator.cy.spec.js` | query validator > feature enabled > picks up inactive and unknown fields and tables', 'created_at': datetime.datetime(2025, 1, 27, 8, 31, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618286861, 'issue_id': 2812252781, 'author': 'github-actions[bot]', 'body': '🚀 This should also be released by [v0.53](https://github.com/metabase/metabase/milestone/287)', 'created_at': datetime.datetime(2025, 1, 28, 8, 40, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618402198, 'issue_id': 2812252781, 'author': 'github-actions[bot]', 'body': '🚀 This should also be released by [v0.52.9](https://github.com/metabase/metabase/milestone/303)', 'created_at': datetime.datetime(2025, 1, 28, 9, 23, 19, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-27 07:42:14 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/94610_tests-d504818c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52728?repo=metabase/metabase&commitHash=d504818cece21da346556dec048de31b42c6a5f5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52728?repo=metabase/metabase&commitHash=d504818cece21da346556dec048de31b42c6a5f5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52728?repo=metabase/metabase&commitHash=d504818cece21da346556dec048de31b42c6a5f5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52728?repo=metabase/metabase&commitHash=d504818cece21da346556dec048de31b42c6a5f5&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>query validator feature enabled enable query analysis setting</code> | Unable to find an accessible element with the role ""switch"" and name \`/ENABLE QUERY ANALYSIS/i\` after 4000ms of retrying. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52728?repo=metabase/metabase&commitHash=d504818cece21da346556dec048de31b42c6a5f5&utm_source=gh-comment&runConclusion=FAILURE&runId=5499455f-f0c1-5a61-a3c1-380d1829577d) |
| <code>query validator feature enabled picks up inactive and unknown fields and tables</code> | Unable to find an accessible element with the role ""row"" after 4000ms of retrying. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52728?repo=metabase/metabase&commitHash=d504818cece21da346556dec048de31b42c6a5f5&utm_source=gh-comment&runConclusion=FAILURE&runId=137893f7-e06e-5e7e-800e-bcf8a61f14a5) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52728?repo=metabase/metabase&commitHash=d504818cece21da346556dec048de31b42c6a5f5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-27 08:31:57 UTC): ## e2e tests failed on `d504818cece21da346556dec048de31b42c6a5f5-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12984584782?pr=52728)

  File | Test Name
  ---- | ---------
  `query-validator.cy.spec.js` | query validator > feature enabled > picks up inactive and unknown fields and tables

github-actions[bot] on (2025-01-28 08:40:01 UTC): 🚀 This should also be released by [v0.53](https://github.com/metabase/metabase/milestone/287)

github-actions[bot] on (2025-01-28 09:23:19 UTC): 🚀 This should also be released by [v0.52.9](https://github.com/metabase/metabase/milestone/303)

"
2811186969,pull_request,closed,,Add desc systematically + reporter info,"Closes https://linear.app/metabase-inc/issue/DEVX-113/adjust-the-slack-blocks-rendering-to-add-the-alias-to-the-reporter and https://linear.app/metabase-inc/issue/DEVX-111/fetch-currently-logged-in-user-and-add-to-diagnostics-in
Also closes #51297 and https://github.com/metabase/metabase-debugger/issues/22

### Description

Adds the currently logged-in user to the bug report, as well as to the Slack message whenever Slack bugs submission is available.

Also adds the description text area to the public facing diagnostics to make sure we can eventually gather appropriate details about bugs.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. Launch without MB_BUG_REPORTING_ENABLED set
2. Pop the diagnostics modal using Cmd/Ctrl+F1
3. See the description field is there, fill it in
4. See that there's a new option to add the reporter's detail
5. Download diagnostics JSON and verify the description is present
6. Relaunch with MB_BUG_REPORTING_ENABLED=true
7. Pop the diagnostics modal using Cmd/Ctrl+F1
8. Add some description
9. Send to Slack
10. Check the issuer's name and email are present if ticked

### Demo

[Loom demo
](https://www.loom.com/share/26e9a7f9998d40f39ddf2800f901f800?sid=ce4f05bf-adec-4309-97c5-e68ceb1ad2a7)
",thebiglabasky,2025-01-25 21:36:38+00:00,['thebiglabasky'],2025-01-27 18:05:44+00:00,2025-01-27 17:54:02+00:00,https://github.com/metabase/metabase/pull/52725,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2614266579, 'issue_id': 2811186969, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/104497_tests-61abead6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52725?repo=metabase/metabase&commitHash=61abead6024eba035887c0a619e5ff414d851657&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52725?repo=metabase/metabase&commitHash=61abead6024eba035887c0a619e5ff414d851657&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52725?repo=metabase/metabase&commitHash=61abead6024eba035887c0a619e5ff414d851657&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52725?repo=metabase/metabase&commitHash=61abead6024eba035887c0a619e5ff414d851657&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52725?repo=metabase/metabase&commitHash=61abead6024eba035887c0a619e5ff414d851657&utm_source=gh-comment&runConclusion=FAILURE&runId=1b283301-1d78-57a1-be51-d7a26cf27eb4) |\n| <code>issue 51020 when primary key is not called \'id\' ""before each"" hook for ""should pass primary key attribute to execute action endpoint when it\'s popu...</code> | Unable to find an element with the text ""Foo"" during a ""before each"" hook, causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52725?repo=metabase/metabase&commitHash=61abead6024eba035887c0a619e5ff414d851657&utm_source=gh-comment&runConclusion=FAILURE&runId=c0577ce8-fab3-5222-b826-d04611893b4e) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 16559 should always show the most recent revision (metabase\\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52725?repo=metabase/metabase&commitHash=61abead6024eba035887c0a619e5ff414d851657&utm_source=gh-comment&runConclusion=FAILURE&runId=ee0d9334-cd4b-5992-8d70-4b88efced661) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52725?repo=metabase/metabase&commitHash=61abead6024eba035887c0a619e5ff414d851657&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 26, 8, 10, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2614474328, 'issue_id': 2811186969, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `61abead6024eba035887c0a619e5ff414d851657-3`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12976011660?pr=52725)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can share a dashboard card via public link', 'created_at': datetime.datetime(2025, 1, 26, 15, 42, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616537150, 'issue_id': 2811186969, 'author': 'thebiglabasky', 'body': ""Arg, my bad, I forgot about the fact the rule was only needing a single approval (I had requested 2 reviewers). I had activated automerge so it got merged 🤦🏻 \r\nI'm not sure it's worth reverting? @iethree I'll let you check it out. I can open a new one for fixes you might require.\r\nSorry about that"", 'created_at': datetime.datetime(2025, 1, 27, 18, 5, 42, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-26 08:10:36 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/104497_tests-61abead6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52725?repo=metabase/metabase&commitHash=61abead6024eba035887c0a619e5ff414d851657&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52725?repo=metabase/metabase&commitHash=61abead6024eba035887c0a619e5ff414d851657&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52725?repo=metabase/metabase&commitHash=61abead6024eba035887c0a619e5ff414d851657&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52725?repo=metabase/metabase&commitHash=61abead6024eba035887c0a619e5ff414d851657&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52725?repo=metabase/metabase&commitHash=61abead6024eba035887c0a619e5ff414d851657&utm_source=gh-comment&runConclusion=FAILURE&runId=1b283301-1d78-57a1-be51-d7a26cf27eb4) |
| <code>issue 51020 when primary key is not called 'id' ""before each"" hook for ""should pass primary key attribute to execute action endpoint when it's popu...</code> | Unable to find an element with the text ""Foo"" during a ""before each"" hook, causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52725?repo=metabase/metabase&commitHash=61abead6024eba035887c0a619e5ff414d851657&utm_source=gh-comment&runConclusion=FAILURE&runId=c0577ce8-fab3-5222-b826-d04611893b4e) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 16559 should always show the most recent revision (metabase\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52725?repo=metabase/metabase&commitHash=61abead6024eba035887c0a619e5ff414d851657&utm_source=gh-comment&runConclusion=FAILURE&runId=ee0d9334-cd4b-5992-8d70-4b88efced661) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52725?repo=metabase/metabase&commitHash=61abead6024eba035887c0a619e5ff414d851657&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-26 15:42:20 UTC): ## e2e tests failed on `61abead6024eba035887c0a619e5ff414d851657-3`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12976011660?pr=52725)

  File | Test Name
  ---- | ---------
  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can share a dashboard card via public link

thebiglabasky (Issue Creator) on (2025-01-27 18:05:42 UTC): Arg, my bad, I forgot about the fact the rule was only needing a single approval (I had requested 2 reviewers). I had activated automerge so it got merged 🤦🏻 
I'm not sure it's worth reverting? @iethree I'll let you check it out. I can open a new one for fixes you might require.
Sorry about that

"
2810786300,pull_request,closed,,"🤖 backported ""Do not clean sandboxing queries""","  #52710
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-25 05:40:46+00:00,"['bshepherdson', 'github-automation-metabase']",2025-01-25 13:45:06+00:00,2025-01-25 13:11:01+00:00,https://github.com/metabase/metabase/pull/52722,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2613803774, 'issue_id': 2810786300, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120923_tests-a0a783bb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52722?repo=metabase/metabase&commitHash=a0a783bbf55adfc79b02aa7a9915509753124b1a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52722?repo=metabase/metabase&commitHash=a0a783bbf55adfc79b02aa7a9915509753124b1a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52722?repo=metabase/metabase&commitHash=a0a783bbf55adfc79b02aa7a9915509753124b1a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52722?repo=metabase/metabase&commitHash=a0a783bbf55adfc79b02aa7a9915509753124b1a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52722?repo=metabase/metabase&commitHash=a0a783bbf55adfc79b02aa7a9915509753124b1a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 25, 6, 15, 2, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-25 06:15:02 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120923_tests-a0a783bb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52722?repo=metabase/metabase&commitHash=a0a783bbf55adfc79b02aa7a9915509753124b1a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52722?repo=metabase/metabase&commitHash=a0a783bbf55adfc79b02aa7a9915509753124b1a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52722?repo=metabase/metabase&commitHash=a0a783bbf55adfc79b02aa7a9915509753124b1a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52722?repo=metabase/metabase&commitHash=a0a783bbf55adfc79b02aa7a9915509753124b1a&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52722?repo=metabase/metabase&commitHash=a0a783bbf55adfc79b02aa7a9915509753124b1a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2810741122,pull_request,open,,Lazy-loading REST API: Metabase launches ~25% faster,"# UPDATE: dox generation overhaul has been split out into https://github.com/metabase/metabase/pull/52935 ... the part that unbreaks master lives there now, go review it! It has been waiting a week!!!

# Faster Launch

This is a project I've wanted to do for a long time -- see https://github.com/metabase/metabase/pull/15429 and https://github.com/metabase/metabase/pull/15430 -- now that https://github.com/metabase/metabase/pull/52184 and the defendpoint refactor have landed I decided to give this another go.

The idea here to load API namespaces lazily only when you hit a relevant API endpoint. This required a bit of custom handler work -- by default Compojure `routes` tries every single handler one-by-one until it finds one that matches -- I wrote a new meta-handler that looks at the path prefix e.g. `/actions/` in `GET /api/actions/100` and then loads the relevant namespace (`metabase.api.actions`) as opposed to loading the entire system at launch and then trying everything until we find one that can ""accept"" the request. 

Preliminary profiling on my system shows Metabase launching in ~25 seconds in this branch versus ~33 in the 52.x branch, or about ~25% faster. Launching 8 seconds faster on my machine probably translates to like 30 seconds on slower Cloud and CI instances, so that's not nothing.",camsaul,2025-01-25 03:52:02+00:00,['camsaul'],2025-02-04 17:08:45+00:00,,https://github.com/metabase/metabase/pull/52721,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DevEx', '')]","[{'comment_id': 2613770127, 'issue_id': 2810741122, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/98068_tests-a35b129f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52721?repo=metabase/metabase&commitHash=a35b129fe2960b51a9f9a5087c38bcda11f38df0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/23770-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52721?repo=metabase/metabase&commitHash=a35b129fe2960b51a9f9a5087c38bcda11f38df0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/596-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52721?repo=metabase/metabase&commitHash=a35b129fe2960b51a9f9a5087c38bcda11f38df0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52721?repo=metabase/metabase&commitHash=a35b129fe2960b51a9f9a5087c38bcda11f38df0&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>we-shouldn-t-be-able-to-unarchive-cards-if-we-don-t-have-collection--write--perms</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52721?repo=metabase/metabase&commitHash=a35b129fe2960b51a9f9a5087c38bcda11f38df0&utm_source=gh-comment&runConclusion=FAILURE&runId=61b5d8e7-eb38-5e95-80d4-e5ec570f5b32) |\n| <code>update-field-test</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52721?repo=metabase/metabase&commitHash=a35b129fe2960b51a9f9a5087c38bcda11f38df0&utm_source=gh-comment&runConclusion=FAILURE&runId=acf66eb6-543b-56ad-a23a-3b36838c9f76) |\n| <code>get-schema-tables-test-3</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52721?repo=metabase/metabase&commitHash=a35b129fe2960b51a9f9a5087c38bcda11f38df0&utm_source=gh-comment&runConclusion=FAILURE&runId=426701ae-93e7-53ce-868e-9d8ce41457e7) |\n| <code>global-embedding-requests-fail-with-wrong-key</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52721?repo=metabase/metabase&commitHash=a35b129fe2960b51a9f9a5087c38bcda11f38df0&utm_source=gh-comment&runConclusion=FAILURE&runId=80098893-ae7d-5458-a789-8720815b4f61) |\n\n[... and 23766 more](https://app.trunk.io/metabase/flaky-tests/pr/52721?repo=metabase/metabase&commitHash=a35b129fe2960b51a9f9a5087c38bcda11f38df0&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>nested-queries-binning-options-test</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52721?repo=metabase/metabase&commitHash=a35b129fe2960b51a9f9a5087c38bcda11f38df0&utm_source=gh-comment&runConclusion=FAILURE&runId=bc3ad6f7-471c-5277-96fc-063b5fa630ba) |\n| <code>date-columns-should-be-emitted-without-time</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52721?repo=metabase/metabase&commitHash=a35b129fe2960b51a9f9a5087c38bcda11f38df0&utm_source=gh-comment&runConclusion=FAILURE&runId=e8db3326-6d23-57d9-912c-d2b3a1c095b0) |\n| <code>check-can-connect-before-sync-test</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52721?repo=metabase/metabase&commitHash=a35b129fe2960b51a9f9a5087c38bcda11f38df0&utm_source=gh-comment&runConclusion=FAILURE&runId=374f56d3-8cbc-555c-8dba-bd71f5c79a22) |\n| <code>datetime-binning-options-test-2</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52721?repo=metabase/metabase&commitHash=a35b129fe2960b51a9f9a5087c38bcda11f38df0&utm_source=gh-comment&runConclusion=FAILURE&runId=8d4c4396-f51f-5e2c-a4e5-208eba9027d2) |\n\n[... and 592 more](https://app.trunk.io/metabase/flaky-tests/pr/52721?repo=metabase/metabase&commitHash=a35b129fe2960b51a9f9a5087c38bcda11f38df0&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52721?repo=metabase/metabase&commitHash=a35b129fe2960b51a9f9a5087c38bcda11f38df0&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 25, 4, 16, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626139395, 'issue_id': 2810741122, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `6880c6272b5db18dc7a674ffb9fe600c203134bd-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13064863979?pr=52721)\n\n  File | Test Name\n  ---- | ---------\n  `default.cy.snap.js` | snapshots > default > default\n`default.cy.snap.js` | snapshots > withSqlite > withSqlite\n`default.cy.snap.js` | snapshots > default > default\n`default.cy.snap.js` | snapshots > withSqlite > withSqlite\n`default.cy.snap.js` | snapshots > default > default\n`default.cy.snap.js` | snapshots > withSqlite > withSqlite\n`default.cy.snap.js` | snapshots > withSqlite > withSqlite\n`qa-db.cy.snap.js` | qa databases snapshots > creates snapshots for supported qa databases\n`default.cy.snap.js` | snapshots > withSqlite > withSqlite\n`default.cy.snap.js` | snapshots > withSqlite > withSqlite\nand more... | and more...', 'created_at': datetime.datetime(2025, 1, 31, 2, 2, 34, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-25 04:16:33 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/98068_tests-a35b129f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52721?repo=metabase/metabase&commitHash=a35b129fe2960b51a9f9a5087c38bcda11f38df0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/23770-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52721?repo=metabase/metabase&commitHash=a35b129fe2960b51a9f9a5087c38bcda11f38df0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/596-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52721?repo=metabase/metabase&commitHash=a35b129fe2960b51a9f9a5087c38bcda11f38df0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52721?repo=metabase/metabase&commitHash=a35b129fe2960b51a9f9a5087c38bcda11f38df0&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>we-shouldn-t-be-able-to-unarchive-cards-if-we-don-t-have-collection--write--perms</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52721?repo=metabase/metabase&commitHash=a35b129fe2960b51a9f9a5087c38bcda11f38df0&utm_source=gh-comment&runConclusion=FAILURE&runId=61b5d8e7-eb38-5e95-80d4-e5ec570f5b32) |
| <code>update-field-test</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52721?repo=metabase/metabase&commitHash=a35b129fe2960b51a9f9a5087c38bcda11f38df0&utm_source=gh-comment&runConclusion=FAILURE&runId=acf66eb6-543b-56ad-a23a-3b36838c9f76) |
| <code>get-schema-tables-test-3</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52721?repo=metabase/metabase&commitHash=a35b129fe2960b51a9f9a5087c38bcda11f38df0&utm_source=gh-comment&runConclusion=FAILURE&runId=426701ae-93e7-53ce-868e-9d8ce41457e7) |
| <code>global-embedding-requests-fail-with-wrong-key</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52721?repo=metabase/metabase&commitHash=a35b129fe2960b51a9f9a5087c38bcda11f38df0&utm_source=gh-comment&runConclusion=FAILURE&runId=80098893-ae7d-5458-a789-8720815b4f61) |

[... and 23766 more](https://app.trunk.io/metabase/flaky-tests/pr/52721?repo=metabase/metabase&commitHash=a35b129fe2960b51a9f9a5087c38bcda11f38df0&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>nested-queries-binning-options-test</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52721?repo=metabase/metabase&commitHash=a35b129fe2960b51a9f9a5087c38bcda11f38df0&utm_source=gh-comment&runConclusion=FAILURE&runId=bc3ad6f7-471c-5277-96fc-063b5fa630ba) |
| <code>date-columns-should-be-emitted-without-time</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52721?repo=metabase/metabase&commitHash=a35b129fe2960b51a9f9a5087c38bcda11f38df0&utm_source=gh-comment&runConclusion=FAILURE&runId=e8db3326-6d23-57d9-912c-d2b3a1c095b0) |
| <code>check-can-connect-before-sync-test</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52721?repo=metabase/metabase&commitHash=a35b129fe2960b51a9f9a5087c38bcda11f38df0&utm_source=gh-comment&runConclusion=FAILURE&runId=374f56d3-8cbc-555c-8dba-bd71f5c79a22) |
| <code>datetime-binning-options-test-2</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52721?repo=metabase/metabase&commitHash=a35b129fe2960b51a9f9a5087c38bcda11f38df0&utm_source=gh-comment&runConclusion=FAILURE&runId=8d4c4396-f51f-5e2c-a4e5-208eba9027d2) |

[... and 592 more](https://app.trunk.io/metabase/flaky-tests/pr/52721?repo=metabase/metabase&commitHash=a35b129fe2960b51a9f9a5087c38bcda11f38df0&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52721?repo=metabase/metabase&commitHash=a35b129fe2960b51a9f9a5087c38bcda11f38df0&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-31 02:02:34 UTC): ## e2e tests failed on `6880c6272b5db18dc7a674ffb9fe600c203134bd-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13064863979?pr=52721)

  File | Test Name
  ---- | ---------
  `default.cy.snap.js` | snapshots > default > default
`default.cy.snap.js` | snapshots > withSqlite > withSqlite
`default.cy.snap.js` | snapshots > default > default
`default.cy.snap.js` | snapshots > withSqlite > withSqlite
`default.cy.snap.js` | snapshots > default > default
`default.cy.snap.js` | snapshots > withSqlite > withSqlite
`default.cy.snap.js` | snapshots > withSqlite > withSqlite
`qa-db.cy.snap.js` | qa databases snapshots > creates snapshots for supported qa databases
`default.cy.snap.js` | snapshots > withSqlite > withSqlite
`default.cy.snap.js` | snapshots > withSqlite > withSqlite
and more... | and more...

"
2810721487,pull_request,closed,,Fix implicit field refs?,"PoC of a fix for implicit field refs.

- Add a new field ref option - `source-field-name` - which is either `:lib/desired-column-alias` or `:name` of the source field. 
- Use it for handling duplicate ref matches in `equality.clj`
- This fix should work for both cases - 1) implicit joins from multiple joins to the same table and 2) models with multiple columns mapped to the same database (FK) field.

<img width=""985"" alt=""Screenshot 2025-01-24 at 22 11 09"" src=""https://github.com/user-attachments/assets/792277d5-371f-4a17-9510-3d77bd81a4d1"" />
<img width=""1728"" alt=""Screenshot 2025-01-24 at 22 12 29"" src=""https://github.com/user-attachments/assets/c868241b-c15f-4740-b877-376890ff4ebe"" />
",ranquild,2025-01-25 03:13:50+00:00,['ranquild'],2025-01-27 14:50:13+00:00,2025-01-27 14:50:05+00:00,https://github.com/metabase/metabase/pull/52720,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]",[],
2810717547,pull_request,closed,,Convert expression popover to mantine to fix z-index issues,"Convert the `ExpressionEditorTextfield` popover to mantine to fix z-index issues - on 52, it's hiding behind the parent popover. I've also added an E2E test that should ensure that this doesn't happen again - it's a weird one but it seems to work.


**On v53** - nothing should change
**On v52** - before, the expression editor help text is hidden behind the expression editor as shown in #52711. This will fix the problem when it is backported to 52.

Before (on `release-x.52.x`):
<img width=""507"" alt=""image"" src=""https://github.com/user-attachments/assets/b917ef6e-7f52-4832-8466-66c8fa6075c9"" />

After backporting:
<img width=""533"" alt=""image"" src=""https://github.com/user-attachments/assets/d0bf81d2-b2cc-4935-b7c8-34cde2224fe1"" />
",oisincoveney,2025-01-25 03:03:46+00:00,['oisincoveney'],2025-01-27 20:42:48+00:00,2025-01-27 16:55:32+00:00,https://github.com/metabase/metabase/pull/52719,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2613745984, 'issue_id': 2810717547, 'author': 'oisincoveney', 'body': 'This change is part of the following stack:\n\n- #52719 ◀\n\n<sub>Change managed by [git-spice](https://abhinav.github.io/git-spice/).</sub>\n<!-- gs:navigation comment -->', 'created_at': datetime.datetime(2025, 1, 25, 3, 3, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613760408, 'issue_id': 2810717547, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13398_tests-94c307ca-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52719?repo=metabase/metabase&commitHash=94c307cad949fcdeea20869d6ca9147148319f1b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52719?repo=metabase/metabase&commitHash=94c307cad949fcdeea20869d6ca9147148319f1b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52719?repo=metabase/metabase&commitHash=94c307cad949fcdeea20869d6ca9147148319f1b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52719?repo=metabase/metabase&commitHash=94c307cad949fcdeea20869d6ca9147148319f1b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52719?repo=metabase/metabase&commitHash=94c307cad949fcdeea20869d6ca9147148319f1b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 25, 3, 44, 21, tzinfo=datetime.timezone.utc)}]","oisincoveney (Issue Creator) on (2025-01-25 03:03:48 UTC): This change is part of the following stack:

- #52719 ◀

<sub>Change managed by [git-spice](https://abhinav.github.io/git-spice/).</sub>
<!-- gs:navigation comment -->

trunk-io[bot] on (2025-01-25 03:44:21 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13398_tests-94c307ca-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52719?repo=metabase/metabase&commitHash=94c307cad949fcdeea20869d6ca9147148319f1b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52719?repo=metabase/metabase&commitHash=94c307cad949fcdeea20869d6ca9147148319f1b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52719?repo=metabase/metabase&commitHash=94c307cad949fcdeea20869d6ca9147148319f1b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52719?repo=metabase/metabase&commitHash=94c307cad949fcdeea20869d6ca9147148319f1b&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52719?repo=metabase/metabase&commitHash=94c307cad949fcdeea20869d6ca9147148319f1b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2810709780,pull_request,closed,,allow numeric category columns to be considered as number columns,"Closes https://github.com/metabase/metabase/issues/46750
Closes https://github.com/metabase/metabase/issues/30431

### Description

Some numeric columns can have a ""Category"" semantic type while still being used as metric columns in many cases. For example, a Rating column with values from 1 to 5 can be used both as a breakout dimension or as a metric column. So it is reasonable to consider such columns as numeric columns as well which is currently not the case.

### How to verify

- Go to Admin -> Table Metadata -> Sample Database -> Reviews
- Find Rating column and change its semantic type to Category
- Create a new question from the Reviews table: Average of Rating grouped by Created At
- Visualize and ensure you can configure the series settings:

<img width=""684"" alt=""Screenshot 2025-01-24 at 9 40 41 PM"" src=""https://github.com/user-attachments/assets/eb9c1992-a106-45ae-9383-78a7c5d55fa2"" />

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",alxnddr,2025-01-25 02:42:26+00:00,['alxnddr'],2025-01-31 03:04:31+00:00,2025-01-31 02:27:35+00:00,https://github.com/metabase/metabase/pull/52718,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2613748735, 'issue_id': 2810709780, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/22997_tests-ce8752e1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52718?repo=metabase/metabase&commitHash=ce8752e15879b8590029204237129e5bf32cf755&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52718?repo=metabase/metabase&commitHash=ce8752e15879b8590029204237129e5bf32cf755&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/18-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52718?repo=metabase/metabase&commitHash=ce8752e15879b8590029204237129e5bf32cf755&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52718?repo=metabase/metabase&commitHash=ce8752e15879b8590029204237129e5bf32cf755&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > browse > metrics verified metrics on enterprise should respect the user setting on wether or not to only show verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52718?repo=metabase/metabase&commitHash=ce8752e15879b8590029204237129e5bf32cf755&utm_source=gh-comment&runConclusion=FAILURE&runId=0ef89306-0df9-5190-a038-731824d6b988) |\n| <code>scenarios > browse > metrics verified metrics on enterprise should show the verified metrics filter when there are verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52718?repo=metabase/metabase&commitHash=ce8752e15879b8590029204237129e5bf32cf755&utm_source=gh-comment&runConclusion=FAILURE&runId=7d2f5363-f938-5eec-82e0-cfb5b61a0fd6) |\n| <code>scenarios > browse > metrics dot menu when the user does not have write access should not be possible to trash a metric from the dot menu when the...</code> | Unable to find a label with the text ""Table of metrics"" within the expected time. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52718?repo=metabase/metabase&commitHash=ce8752e15879b8590029204237129e5bf32cf755&utm_source=gh-comment&runConclusion=FAILURE&runId=791e5574-01a0-5a4b-944a-c9bd9b6d08b6) |\n| <code>scenarios > browse > metrics dot menu when the user does not have write access should be possible to bookmark a metrics from the dot menu</code> | Unable to find a label with the text ""Table of metrics"" within the expected time. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52718?repo=metabase/metabase&commitHash=ce8752e15879b8590029204237129e5bf32cf755&utm_source=gh-comment&runConclusion=FAILURE&runId=bac765af-a59a-5e93-8a58-180b928902d0) |\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/52718?repo=metabase/metabase&commitHash=ce8752e15879b8590029204237129e5bf32cf755&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52718?repo=metabase/metabase&commitHash=ce8752e15879b8590029204237129e5bf32cf755&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 25, 3, 12, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626075281, 'issue_id': 2810709780, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `7d3246ba8be75c3c61d92f08bb4af154c6a2bb13-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13064356781?pr=52718)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can share a dashboard card via public link\n`model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model\n`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette\n`dashboard-reproductions.cy.spec.js` | should not redirect users to other pages when linking an entity (metabase#35037) > should not redirect users to search item\n`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link"", 'created_at': datetime.datetime(2025, 1, 31, 1, 18, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626200006, 'issue_id': 2810709780, 'author': 'alxnddr', 'body': '@metabase-bot backport release-x.52.x', 'created_at': datetime.datetime(2025, 1, 31, 3, 2, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626201820, 'issue_id': 2810709780, 'author': 'github-actions[bot]', 'body': '@alxnddr Manual conflict resolution is required', 'created_at': datetime.datetime(2025, 1, 31, 3, 4, 30, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-25 03:12:13 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/22997_tests-ce8752e1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52718?repo=metabase/metabase&commitHash=ce8752e15879b8590029204237129e5bf32cf755&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52718?repo=metabase/metabase&commitHash=ce8752e15879b8590029204237129e5bf32cf755&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/18-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52718?repo=metabase/metabase&commitHash=ce8752e15879b8590029204237129e5bf32cf755&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52718?repo=metabase/metabase&commitHash=ce8752e15879b8590029204237129e5bf32cf755&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > browse > metrics verified metrics on enterprise should respect the user setting on wether or not to only show verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52718?repo=metabase/metabase&commitHash=ce8752e15879b8590029204237129e5bf32cf755&utm_source=gh-comment&runConclusion=FAILURE&runId=0ef89306-0df9-5190-a038-731824d6b988) |
| <code>scenarios > browse > metrics verified metrics on enterprise should show the verified metrics filter when there are verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52718?repo=metabase/metabase&commitHash=ce8752e15879b8590029204237129e5bf32cf755&utm_source=gh-comment&runConclusion=FAILURE&runId=7d2f5363-f938-5eec-82e0-cfb5b61a0fd6) |
| <code>scenarios > browse > metrics dot menu when the user does not have write access should not be possible to trash a metric from the dot menu when the...</code> | Unable to find a label with the text ""Table of metrics"" within the expected time. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52718?repo=metabase/metabase&commitHash=ce8752e15879b8590029204237129e5bf32cf755&utm_source=gh-comment&runConclusion=FAILURE&runId=791e5574-01a0-5a4b-944a-c9bd9b6d08b6) |
| <code>scenarios > browse > metrics dot menu when the user does not have write access should be possible to bookmark a metrics from the dot menu</code> | Unable to find a label with the text ""Table of metrics"" within the expected time. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52718?repo=metabase/metabase&commitHash=ce8752e15879b8590029204237129e5bf32cf755&utm_source=gh-comment&runConclusion=FAILURE&runId=bac765af-a59a-5e93-8a58-180b928902d0) |

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/52718?repo=metabase/metabase&commitHash=ce8752e15879b8590029204237129e5bf32cf755&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52718?repo=metabase/metabase&commitHash=ce8752e15879b8590029204237129e5bf32cf755&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-31 01:18:47 UTC): ## e2e tests failed on `7d3246ba8be75c3c61d92f08bb4af154c6a2bb13-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13064356781?pr=52718)

  File | Test Name
  ---- | ---------
  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can share a dashboard card via public link
`model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model
`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette
`dashboard-reproductions.cy.spec.js` | should not redirect users to other pages when linking an entity (metabase#35037) > should not redirect users to search item
`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link

alxnddr (Issue Creator) on (2025-01-31 03:02:30 UTC): @metabase-bot backport release-x.52.x

github-actions[bot] on (2025-01-31 03:04:30 UTC): @alxnddr Manual conflict resolution is required

"
2810597989,pull_request,closed,,Empty states: dashboard subscriptions,"Resolves #52724 

## About
This PR should be straight-forward to reason about as it didn't introduce a ton of new changes. Here's the tl;dr
1. It adds an explanatory text to the subscriptions sidebar (just below the title) 
2. It redesigns the ""channel cards"" (email and slack cards in the sidebar) [^1]

## Important difference compared to the original product doc
The description below the title **does not disappear**!

It was originally specced to disappear after a user creates their own first subscription. I suggested to remove that complexity (context [here](https://metaboat.slack.com/archives/C010ZSXQY87/p1737731095934029)). Both the PM and the designer said they are ok with the proposal.

[^1]: Cards now have a distinctive text copy (and functionality) based on whether or not the channel is already set up (configured)",nemanjaglumac,2025-01-24 23:41:51+00:00,['nemanjaglumac'],2025-01-27 18:25:50+00:00,2025-01-27 18:25:47+00:00,https://github.com/metabase/metabase/pull/52717,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2613644891, 'issue_id': 2810597989, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13488_tests-7b567a95-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52717?repo=metabase/metabase&commitHash=7b567a95ee6e2baef438b7d44af7faec3dc800f7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52717?repo=metabase/metabase&commitHash=7b567a95ee6e2baef438b7d44af7faec3dc800f7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52717?repo=metabase/metabase&commitHash=7b567a95ee6e2baef438b7d44af7faec3dc800f7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52717?repo=metabase/metabase&commitHash=7b567a95ee6e2baef438b7d44af7faec3dc800f7&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > browse (EE) /browse/models allows models to be filtered, on an enterprise instance</code> | Unable to find an accessible element with the role ""heading"" and name ""Model 1"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52717?repo=metabase/metabase&commitHash=7b567a95ee6e2baef438b7d44af7faec3dc800f7&utm_source=gh-comment&runConclusion=FAILURE&runId=a1d74c2d-e18f-577a-9808-cfc4419ac147) |\n| <code>scenarios > native question > data reference sidebar should show models</code> | Unable to find an element with the text ""2 models"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52717?repo=metabase/metabase&commitHash=7b567a95ee6e2baef438b7d44af7faec3dc800f7&utm_source=gh-comment&runConclusion=FAILURE&runId=785ca1ba-1edb-5f36-957b-c32960d54fbc) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52717?repo=metabase/metabase&commitHash=7b567a95ee6e2baef438b7d44af7faec3dc800f7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 25, 0, 21, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613661601, 'issue_id': 2810597989, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `7b567a95ee6e2baef438b7d44af7faec3dc800f7-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12959821251?pr=52717)\n\n  File | Test Name\n  ---- | ---------\n  `browse.cy.spec.ts` | scenarios > browse (EE) > /browse/models allows models to be filtered, on an enterprise instance', 'created_at': datetime.datetime(2025, 1, 25, 0, 34, 48, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-25 00:21:59 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13488_tests-7b567a95-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52717?repo=metabase/metabase&commitHash=7b567a95ee6e2baef438b7d44af7faec3dc800f7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52717?repo=metabase/metabase&commitHash=7b567a95ee6e2baef438b7d44af7faec3dc800f7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52717?repo=metabase/metabase&commitHash=7b567a95ee6e2baef438b7d44af7faec3dc800f7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52717?repo=metabase/metabase&commitHash=7b567a95ee6e2baef438b7d44af7faec3dc800f7&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > browse (EE) /browse/models allows models to be filtered, on an enterprise instance</code> | Unable to find an accessible element with the role ""heading"" and name ""Model 1"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52717?repo=metabase/metabase&commitHash=7b567a95ee6e2baef438b7d44af7faec3dc800f7&utm_source=gh-comment&runConclusion=FAILURE&runId=a1d74c2d-e18f-577a-9808-cfc4419ac147) |
| <code>scenarios > native question > data reference sidebar should show models</code> | Unable to find an element with the text ""2 models"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52717?repo=metabase/metabase&commitHash=7b567a95ee6e2baef438b7d44af7faec3dc800f7&utm_source=gh-comment&runConclusion=FAILURE&runId=785ca1ba-1edb-5f36-957b-c32960d54fbc) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52717?repo=metabase/metabase&commitHash=7b567a95ee6e2baef438b7d44af7faec3dc800f7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-25 00:34:48 UTC): ## e2e tests failed on `7b567a95ee6e2baef438b7d44af7faec3dc800f7-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12959821251?pr=52717)

  File | Test Name
  ---- | ---------
  `browse.cy.spec.ts` | scenarios > browse (EE) > /browse/models allows models to be filtered, on an enterprise instance

"
2810543818,pull_request,open,,Do not :return-drills-for-dimensions? for column header drills,"Closes #49740

### Description

This is an alternate fix for #49740. See #52692 for another approach. Either of these PRs fix the bug, and I think both should be merged, but I feel less sure about the fix in this one, hence broke it out into a separate PR in case I'm overlooking something.

Do you know of any context where these drills need to be applied to their dimensions via `:return-drills-for-dimensions?`

AFAICT there are none, since dimensions never have ""missing"" values, and all of these drills are column-header-only drills, i.e. only meant to be available when the user clicks on a table viz column header and the resulting drill context has a `(nil? value)`. In addition, when initiated by a column-header click, AFAICT dimensions are never provided to the drill (though they are provided from other click contexts).

Even if it did happen that dimension values could be missing, it's not clear that applying any of these drills to the dimensions is what you'd want. As @alexyarosh notes in #49740, it's strange to click on a cell value in column A and get the option to apply a `sort` or `column-filter` drill for some other column B which happens to be a breakout dimension for the query (but only if the dimension's value is DB `NULL`).

On the other hand, one would assume these drills were marked `:return-drills-for-dimensions?` for a reason. Maybe they used to require it and no longer do, or maybe I'm missing something.

### How to verify

See repro steps in #49740 and/or #52692.

### Demo

column header click (sort and column-filter available)
![Screenshot 2025-01-24 at 2 38 34 PM](https://github.com/user-attachments/assets/a639bc28-1ef7-47fc-81de-40953cbf49c6)

cell value click (no sort or column-filter)
![Screenshot 2025-01-24 at 12 20 40 PM](https://github.com/user-attachments/assets/22c65cab-7228-4167-a8b0-6094551dd498)

legend click on dimension with null value
![Screenshot 2025-01-24 at 3 06 04 PM](https://github.com/user-attachments/assets/913ef69b-5c01-4a14-8430-8ef778c1ff05)

pivot table click
![Screenshot 2025-01-24 at 3 08 55 PM](https://github.com/user-attachments/assets/53580045-c164-47a5-81c8-154fb37fa59a)

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",appleby,2025-01-24 23:10:27+00:00,['appleby'],2025-02-07 19:24:55+00:00,,https://github.com/metabase/metabase/pull/52716,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2613609124, 'issue_id': 2810543818, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/106746_tests-60e0998c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52716?repo=metabase/metabase&commitHash=60e0998ca8de01fb127c1cc3b4c85ae38ec4ea5b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52716?repo=metabase/metabase&commitHash=60e0998ca8de01fb127c1cc3b4c85ae38ec4ea5b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/16-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52716?repo=metabase/metabase&commitHash=60e0998ca8de01fb127c1cc3b4c85ae38ec4ea5b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52716?repo=metabase/metabase&commitHash=60e0998ca8de01fb127c1cc3b4c85ae38ec4ea5b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 48878 ""before each"" hook for ""does not crash the action button viz (metabase\\#48878)""</code> | Unable to find an element with the text ""SQL Model"" in the UI, leading to a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52716?repo=metabase/metabase&commitHash=60e0998ca8de01fb127c1cc3b4c85ae38ec4ea5b&utm_source=gh-comment&runConclusion=FAILURE&runId=56e49f0b-d3bb-5fb5-a175-8a72ad166244) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52716?repo=metabase/metabase&commitHash=60e0998ca8de01fb127c1cc3b4c85ae38ec4ea5b&utm_source=gh-comment&runConclusion=FAILURE&runId=c8a52726-e610-5822-90f6-3c0f877019ef) |\n| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and \'Browse databases\' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52716?repo=metabase/metabase&commitHash=60e0998ca8de01fb127c1cc3b4c85ae38ec4ea5b&utm_source=gh-comment&runConclusion=FAILURE&runId=f40c52d7-5b24-5d9b-9483-8f74c3e8f14a) |\n| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52716?repo=metabase/metabase&commitHash=60e0998ca8de01fb127c1cc3b4c85ae38ec4ea5b&utm_source=gh-comment&runConclusion=FAILURE&runId=29f55a67-aff5-5e20-8b1e-a5eb9ca99fe0) |\n| <code>scenarios > model indexes should not reload the model for record in the same model</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52716?repo=metabase/metabase&commitHash=60e0998ca8de01fb127c1cc3b4c85ae38ec4ea5b&utm_source=gh-comment&runConclusion=FAILURE&runId=30a7c302-2b6e-5b2f-8d2d-ca20bbd74160) |\n\n[... and 12 more](https://app.trunk.io/metabase/flaky-tests/pr/52716?repo=metabase/metabase&commitHash=60e0998ca8de01fb127c1cc3b4c85ae38ec4ea5b&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52716?repo=metabase/metabase&commitHash=60e0998ca8de01fb127c1cc3b4c85ae38ec4ea5b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 23, 50, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626114997, 'issue_id': 2810543818, 'author': 'appleby', 'body': '> I think it\'s important to test _all_ the cases where drills can appear, though:\r\n> \r\n> * column headers\r\n> * regular columns (ie. not aggregated)\r\n>   \r\n>   * Numbers\r\n>   * Strings\r\n>   * Date/time\r\n>   * NULL\r\n> * Breakouts\r\n>   \r\n>   * As above\r\n> * Aggregations\r\n>   \r\n>   * With no breakouts\r\n>   * With one breakout, NULL\r\n>   * With one breakout, not NULL\r\n>   * With multiple breakouts\r\n> * Chart legend (eg. Pie chart of Orders by `Product.CATEGORY`; click the colour legend)\r\n>   \r\n>   * **This is the case I\'m most suspicious about.**\r\n> * Map viz\r\n> * Time series\r\n> * Bar charts\r\n> \r\n> And I\'m probably forgetting something. There are supposed to be tests that check all of these permutations, but we should certainly check them all manually too.\r\n\r\nTested the above cases manually, and I did not find any cases where `:return-drills-for-dimensions?` is needed for these drills.\r\n\r\nThe following comment from lib/schema/drill_thru.cljc helps enumerate the cases. Of course comments can be wrong, hence the need to verify.\r\n\r\n```\r\n| Drill Context Shape | column | value | row | dimensions |\r\n|---------------------|--------|-------|-----|------------|\r\n| Column Header       | ✔      |       |     |            |\r\n| ""Raw"" Cell          | ✔      | ✔     | ✔   |            |\r\n| ""Aggregated"" Cell   | ✔      | ✔     | ✔   | ✔          |\r\n| Pivot Cell          |        | ✔     | ✔   | ✔          |\r\n| Legend Item         |        |       |     | ✔          |\r\n```\r\n\r\nIn manual testing, I only found two discrepancies (also present in master, i.e. not related to this PR), namely Pivot Cell clicks actually look like:\r\n\r\n```\r\n| Drill Context Shape | column | value | row | dimensions |\r\n|---------------------|--------|-------|-----|------------|\r\n| Pivot ""Dim"" Cell    | ✔      | ✔     | ✔   |            |\r\n| Pivot ""Agg"" Cell    |        |       | ✔   | ✔          |\r\n```\r\n\r\nWhere `Pivot ""Dim"" Cell` means one of the Row/Column cells of the pivoted table, corresponding to the breakout dimensions of the query, and `Pivot ""Agg"" Cell` means one of the aggregated ""measure"" cells of the pivoted table. Unclear if these differences from the documented table are by design or just a bug.\r\n\r\nIn any case, the complete table (AFAICT) looks something like this:\r\n\r\n```\r\n| Drill Context Shape | column | value | row | dimensions |\r\n|---------------------|--------|-------|-----|------------|\r\n| Column Header       | ✔      |       |     |            |\r\n| ""Raw"" Cell          | ✔      | ✔     | ✔   |            |\r\n| ""Aggregated"" Cell   | ✔      | ✔     | ✔   | ✔          |\r\n| Pivot ""Dim"" Cell    | ✔      | ✔     | ✔   |            |\r\n| Pivot ""Agg"" Cell    |        |       | ✔   | ✔          |\r\n| Legend Item         |        |       |     | ✔          |\r\n```\r\n\r\nAll of the drills changed by this PR are Column Header drills corresponding to the first row in that table, i.e. they all start with a premable like\r\n\r\n```\r\n(when (and column (nil? value) ...other stuff)\r\n```\r\n\r\nAny click context that does not provide `dimensions` is obvously not affected by `:return-drills-for-dimensions?`. The drill will be applied to its top-level context either way.\r\n\r\nFor the contexts that do provide `dimensions`, we want to know:\r\n\r\n(1) Would `:return-drills-for-dimensions?` enable any drill that this PR disables?\r\n(2) Would `:return-drills-for-dimensions?` disable any drill that this PR enables?\r\n\r\nI think (1) can\'t happen because these are all Column Header drills and `dimensions` can\'t have a `(nil? value)`, at least not after #52692. Technically, before #52692 they sometimes could, but I think that was just a bug.\r\n\r\nI think (2) can\'t happen because none of the click contexts that supply `dimensions` meet the requirements of a Column Header click if you take away their `dimensions`. I.e none provide `column` and `(nil? value)`.\r\n\r\nOf course this all depends on the table being complete and correct, but like I said I only found the two pivot table differences, and those don\'t seem to affect the outcome for `:return-drills-for-dimensions?`.\r\n\r\nLooking at the history of `:return-drills-for-dimensions?` it looks like initially almost all drills had it enabled (#34678), and over time it\'s been disabled for some due to bug fixes (#34760), and others were added later without it.\r\n\r\nI suspect what\'s going on is that these drills are not affected either way by `:return-drills-for-dimensions?`, so they never got changed. That is, these drills are only enabled for column header click contexts, which never provide dimensions.', 'created_at': datetime.datetime(2025, 1, 31, 1, 49, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631699234, 'issue_id': 2810543818, 'author': 'appleby', 'body': 'Note: the tests have disappeared in the latest diff after rebasing onto master because they were identical with the tests added in https://github.com/metabase/metabase/pull/52692, which has now merged.', 'created_at': datetime.datetime(2025, 2, 3, 18, 1, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631723099, 'issue_id': 2810543818, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `60e0998ca8de01fb127c1cc3b4c85ae38ec4ea5b-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13119755437?pr=52716)\n\n  File | Test Name\n  ---- | ---------\n  `model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model\n`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette\n`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link\n`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results"", 'created_at': datetime.datetime(2025, 2, 3, 18, 13, 3, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-24 23:50:04 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/106746_tests-60e0998c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52716?repo=metabase/metabase&commitHash=60e0998ca8de01fb127c1cc3b4c85ae38ec4ea5b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52716?repo=metabase/metabase&commitHash=60e0998ca8de01fb127c1cc3b4c85ae38ec4ea5b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/16-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52716?repo=metabase/metabase&commitHash=60e0998ca8de01fb127c1cc3b4c85ae38ec4ea5b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52716?repo=metabase/metabase&commitHash=60e0998ca8de01fb127c1cc3b4c85ae38ec4ea5b&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 48878 ""before each"" hook for ""does not crash the action button viz (metabase\#48878)""</code> | Unable to find an element with the text ""SQL Model"" in the UI, leading to a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52716?repo=metabase/metabase&commitHash=60e0998ca8de01fb127c1cc3b4c85ae38ec4ea5b&utm_source=gh-comment&runConclusion=FAILURE&runId=56e49f0b-d3bb-5fb5-a175-8a72ad166244) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52716?repo=metabase/metabase&commitHash=60e0998ca8de01fb127c1cc3b4c85ae38ec4ea5b&utm_source=gh-comment&runConclusion=FAILURE&runId=c8a52726-e610-5822-90f6-3c0f877019ef) |
| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and 'Browse databases' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52716?repo=metabase/metabase&commitHash=60e0998ca8de01fb127c1cc3b4c85ae38ec4ea5b&utm_source=gh-comment&runConclusion=FAILURE&runId=f40c52d7-5b24-5d9b-9483-8f74c3e8f14a) |
| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52716?repo=metabase/metabase&commitHash=60e0998ca8de01fb127c1cc3b4c85ae38ec4ea5b&utm_source=gh-comment&runConclusion=FAILURE&runId=29f55a67-aff5-5e20-8b1e-a5eb9ca99fe0) |
| <code>scenarios > model indexes should not reload the model for record in the same model</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52716?repo=metabase/metabase&commitHash=60e0998ca8de01fb127c1cc3b4c85ae38ec4ea5b&utm_source=gh-comment&runConclusion=FAILURE&runId=30a7c302-2b6e-5b2f-8d2d-ca20bbd74160) |

[... and 12 more](https://app.trunk.io/metabase/flaky-tests/pr/52716?repo=metabase/metabase&commitHash=60e0998ca8de01fb127c1cc3b4c85ae38ec4ea5b&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52716?repo=metabase/metabase&commitHash=60e0998ca8de01fb127c1cc3b4c85ae38ec4ea5b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

appleby (Issue Creator) on (2025-01-31 01:49:29 UTC): Tested the above cases manually, and I did not find any cases where `:return-drills-for-dimensions?` is needed for these drills.

The following comment from lib/schema/drill_thru.cljc helps enumerate the cases. Of course comments can be wrong, hence the need to verify.

```
| Drill Context Shape | column | value | row | dimensions |
|---------------------|--------|-------|-----|------------|
| Column Header       | ✔      |       |     |            |
| ""Raw"" Cell          | ✔      | ✔     | ✔   |            |
| ""Aggregated"" Cell   | ✔      | ✔     | ✔   | ✔          |
| Pivot Cell          |        | ✔     | ✔   | ✔          |
| Legend Item         |        |       |     | ✔          |
```

In manual testing, I only found two discrepancies (also present in master, i.e. not related to this PR), namely Pivot Cell clicks actually look like:

```
| Drill Context Shape | column | value | row | dimensions |
|---------------------|--------|-------|-----|------------|
| Pivot ""Dim"" Cell    | ✔      | ✔     | ✔   |            |
| Pivot ""Agg"" Cell    |        |       | ✔   | ✔          |
```

Where `Pivot ""Dim"" Cell` means one of the Row/Column cells of the pivoted table, corresponding to the breakout dimensions of the query, and `Pivot ""Agg"" Cell` means one of the aggregated ""measure"" cells of the pivoted table. Unclear if these differences from the documented table are by design or just a bug.

In any case, the complete table (AFAICT) looks something like this:

```
| Drill Context Shape | column | value | row | dimensions |
|---------------------|--------|-------|-----|------------|
| Column Header       | ✔      |       |     |            |
| ""Raw"" Cell          | ✔      | ✔     | ✔   |            |
| ""Aggregated"" Cell   | ✔      | ✔     | ✔   | ✔          |
| Pivot ""Dim"" Cell    | ✔      | ✔     | ✔   |            |
| Pivot ""Agg"" Cell    |        |       | ✔   | ✔          |
| Legend Item         |        |       |     | ✔          |
```

All of the drills changed by this PR are Column Header drills corresponding to the first row in that table, i.e. they all start with a premable like

```
(when (and column (nil? value) ...other stuff)
```

Any click context that does not provide `dimensions` is obvously not affected by `:return-drills-for-dimensions?`. The drill will be applied to its top-level context either way.

For the contexts that do provide `dimensions`, we want to know:

(1) Would `:return-drills-for-dimensions?` enable any drill that this PR disables?
(2) Would `:return-drills-for-dimensions?` disable any drill that this PR enables?

I think (1) can't happen because these are all Column Header drills and `dimensions` can't have a `(nil? value)`, at least not after #52692. Technically, before #52692 they sometimes could, but I think that was just a bug.

I think (2) can't happen because none of the click contexts that supply `dimensions` meet the requirements of a Column Header click if you take away their `dimensions`. I.e none provide `column` and `(nil? value)`.

Of course this all depends on the table being complete and correct, but like I said I only found the two pivot table differences, and those don't seem to affect the outcome for `:return-drills-for-dimensions?`.

Looking at the history of `:return-drills-for-dimensions?` it looks like initially almost all drills had it enabled (#34678), and over time it's been disabled for some due to bug fixes (#34760), and others were added later without it.

I suspect what's going on is that these drills are not affected either way by `:return-drills-for-dimensions?`, so they never got changed. That is, these drills are only enabled for column header click contexts, which never provide dimensions.

appleby (Issue Creator) on (2025-02-03 18:01:38 UTC): Note: the tests have disappeared in the latest diff after rebasing onto master because they were identical with the tests added in https://github.com/metabase/metabase/pull/52692, which has now merged.

github-actions[bot] on (2025-02-03 18:13:03 UTC): ## e2e tests failed on `60e0998ca8de01fb127c1cc3b4c85ae38ec4ea5b-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13119755437?pr=52716)

  File | Test Name
  ---- | ---------
  `model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model
`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette
`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link
`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results

"
2810525095,pull_request,closed,,"Convert /public endpoints to defendpoint 2, second try","Last time I did this I messed something up and it broke `master` (these endpoints are undertested), so we had to revert it. This time I am fairly sure I fixed my mistakes, and also I think someone added some more tests for these endpoints now. At any rate stats isn't tracking master any more so if I break stuff no one will know until it's too late",camsaul,2025-01-24 22:58:16+00:00,['camsaul'],2025-01-27 22:10:11+00:00,2025-01-25 01:04:26+00:00,https://github.com/metabase/metabase/pull/52715,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2613608679, 'issue_id': 2810525095, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/96362_tests-b89711cf-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52715?repo=metabase/metabase&commitHash=b89711cf626845d2389e3c589599fadf3f5b4a50&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52715?repo=metabase/metabase&commitHash=b89711cf626845d2389e3c589599fadf3f5b4a50&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52715?repo=metabase/metabase&commitHash=b89711cf626845d2389e3c589599fadf3f5b4a50&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52715?repo=metabase/metabase&commitHash=b89711cf626845d2389e3c589599fadf3f5b4a50&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>sync-fks-and-fields-test</code> | No Table 'continent' found for Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52715?repo=metabase/metabase&commitHash=b89711cf626845d2389e3c589599fadf3f5b4a50&utm_source=gh-comment&runConclusion=FAILURE&runId=d9d3a937-d80e-59f7-aca0-2115c66799dc) |\n| <code>sync-existing-table-comment-test</code> | The Redshift query failed because the relation does not exist. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52715?repo=metabase/metabase&commitHash=b89711cf626845d2389e3c589599fadf3f5b4a50&utm_source=gh-comment&runConclusion=FAILURE&runId=cb7a5147-e335-5658-a4d6-8cd24ddeba9c) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52715?repo=metabase/metabase&commitHash=b89711cf626845d2389e3c589599fadf3f5b4a50&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 24, 23, 49, 28, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-24 23:49:28 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/96362_tests-b89711cf-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52715?repo=metabase/metabase&commitHash=b89711cf626845d2389e3c589599fadf3f5b4a50&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52715?repo=metabase/metabase&commitHash=b89711cf626845d2389e3c589599fadf3f5b4a50&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52715?repo=metabase/metabase&commitHash=b89711cf626845d2389e3c589599fadf3f5b4a50&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52715?repo=metabase/metabase&commitHash=b89711cf626845d2389e3c589599fadf3f5b4a50&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>sync-fks-and-fields-test</code> | No Table 'continent' found for Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52715?repo=metabase/metabase&commitHash=b89711cf626845d2389e3c589599fadf3f5b4a50&utm_source=gh-comment&runConclusion=FAILURE&runId=d9d3a937-d80e-59f7-aca0-2115c66799dc) |
| <code>sync-existing-table-comment-test</code> | The Redshift query failed because the relation does not exist. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52715?repo=metabase/metabase&commitHash=b89711cf626845d2389e3c589599fadf3f5b4a50&utm_source=gh-comment&runConclusion=FAILURE&runId=cb7a5147-e335-5658-a4d6-8cd24ddeba9c) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52715?repo=metabase/metabase&commitHash=b89711cf626845d2389e3c589599fadf3f5b4a50&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2810469698,pull_request,closed,,"🤖 backported ""docs - note on excel cell limit""",#52713,github-automation-metabase,2025-01-24 22:13:09+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2025-01-24 22:14:38+00:00,2025-01-24 22:14:37+00:00,https://github.com/metabase/metabase/pull/52714,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2810463191,pull_request,closed,,docs - note on excel cell limit,"Like it says on the tin.

See https://github.com/metabase/metabase/pull/51706.",jeff-bruemmer,2025-01-24 22:08:50+00:00,['jeff-bruemmer'],2025-01-24 22:15:05+00:00,2025-01-24 22:12:15+00:00,https://github.com/metabase/metabase/pull/52713,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2810442696,pull_request,closed,,"🤖 backported ""XLSX Export truncate String cells to 32767 chars""",#51706,github-automation-metabase,2025-01-24 21:55:16+00:00,"['noahmoss', 'github-automation-metabase']",2025-01-24 23:26:07+00:00,2025-01-24 22:58:06+00:00,https://github.com/metabase/metabase/pull/52712,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2613547872, 'issue_id': 2810442696, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/80705_tests-cfb6e986-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52712?repo=metabase/metabase&commitHash=cfb6e986b9da77d28c608e29a1bfc85a3bda8ab1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52712?repo=metabase/metabase&commitHash=cfb6e986b9da77d28c608e29a1bfc85a3bda8ab1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52712?repo=metabase/metabase&commitHash=cfb6e986b9da77d28c608e29a1bfc85a3bda8ab1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52712?repo=metabase/metabase&commitHash=cfb6e986b9da77d28c608e29a1bfc85a3bda8ab1&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>datetime-binning-options-test-3</code> | Deadlock found when trying to get lock; try restarting transaction | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52712?repo=metabase/metabase&commitHash=cfb6e986b9da77d28c608e29a1bfc85a3bda8ab1&utm_source=gh-comment&runConclusion=FAILURE&runId=1b52c2c8-8670-5b0d-b221-bfd92a2a13ac) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52712?repo=metabase/metabase&commitHash=cfb6e986b9da77d28c608e29a1bfc85a3bda8ab1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 22, 52, 21, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-24 22:52:21 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/80705_tests-cfb6e986-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52712?repo=metabase/metabase&commitHash=cfb6e986b9da77d28c608e29a1bfc85a3bda8ab1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52712?repo=metabase/metabase&commitHash=cfb6e986b9da77d28c608e29a1bfc85a3bda8ab1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52712?repo=metabase/metabase&commitHash=cfb6e986b9da77d28c608e29a1bfc85a3bda8ab1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52712?repo=metabase/metabase&commitHash=cfb6e986b9da77d28c608e29a1bfc85a3bda8ab1&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>datetime-binning-options-test-3</code> | Deadlock found when trying to get lock; try restarting transaction | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52712?repo=metabase/metabase&commitHash=cfb6e986b9da77d28c608e29a1bfc85a3bda8ab1&utm_source=gh-comment&runConclusion=FAILURE&runId=1b52c2c8-8670-5b0d-b221-bfd92a2a13ac) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52712?repo=metabase/metabase&commitHash=cfb6e986b9da77d28c608e29a1bfc85a3bda8ab1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2810405194,pull_request,closed,,Do not clean sandboxing queries,,johnswanson,2025-01-24 21:28:46+00:00,['johnswanson'],2025-01-25 13:11:26+00:00,2025-01-25 05:39:51+00:00,https://github.com/metabase/metabase/pull/52710,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2613432218, 'issue_id': 2810405194, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `c5d6076ad0f69aa9b109dbceb7ae73ae9ad240f1-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12957932470?pr=52710)\n\n  File | Test Name\n  ---- | ---------\n  `search.cy.spec.js` | scenarios > search > universal search > should not overflow container if results contain descriptions with large unborken strings', 'created_at': datetime.datetime(2025, 1, 24, 21, 46, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613503623, 'issue_id': 2810405194, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/88265_tests-c5d6076a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52710?repo=metabase/metabase&commitHash=c5d6076ad0f69aa9b109dbceb7ae73ae9ad240f1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/20-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52710?repo=metabase/metabase&commitHash=c5d6076ad0f69aa9b109dbceb7ae73ae9ad240f1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52710?repo=metabase/metabase&commitHash=c5d6076ad0f69aa9b109dbceb7ae73ae9ad240f1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52710?repo=metabase/metabase&commitHash=c5d6076ad0f69aa9b109dbceb7ae73ae9ad240f1&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>describe-database-sanity-check-test</code> | The expected table does not exist in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52710?repo=metabase/metabase&commitHash=c5d6076ad0f69aa9b109dbceb7ae73ae9ad240f1&utm_source=gh-comment&runConclusion=FAILURE&runId=e51821aa-4753-5e56-89fe-51996ddc8653) |\n| <code>dataset-with-custom-composite-pk-test</code> | No table \'songs\' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52710?repo=metabase/metabase&commitHash=c5d6076ad0f69aa9b109dbceb7ae73ae9ad240f1&utm_source=gh-comment&runConclusion=FAILURE&runId=a0afc0c1-d175-5784-bafb-de67f0ee7082) |\n| <code>redshift-types-test</code> | The Redshift database connection failed because the specified relation does not exist. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52710?repo=metabase/metabase&commitHash=c5d6076ad0f69aa9b109dbceb7ae73ae9ad240f1&utm_source=gh-comment&runConclusion=FAILURE&runId=1c1eff38-07ef-5145-aeaa-624f5fe499d3) |\n| <code>test-ssh-tunnel-reconnection</code> | No table \'venues\' found for Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52710?repo=metabase/metabase&commitHash=c5d6076ad0f69aa9b109dbceb7ae73ae9ad240f1&utm_source=gh-comment&runConclusion=FAILURE&runId=af6929bc-ced9-5b84-980d-bbe2050051ab) |\n\n[... and 16 more](https://app.trunk.io/metabase/flaky-tests/pr/52710?repo=metabase/metabase&commitHash=c5d6076ad0f69aa9b109dbceb7ae73ae9ad240f1&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52710?repo=metabase/metabase&commitHash=c5d6076ad0f69aa9b109dbceb7ae73ae9ad240f1&utm_source=gh-comment&runConclusion=FAILURE&runId=46071ff4-d8dc-523c-87a0-d71cfce7b64b) |\n| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52710?repo=metabase/metabase&commitHash=c5d6076ad0f69aa9b109dbceb7ae73ae9ad240f1&utm_source=gh-comment&runConclusion=FAILURE&runId=72d98466-be63-5bef-acc3-8bbd7cf84b19) |\n| <code>survive-fingerprinting-errors</code> | Query execution failed due to user request, transaction was aborted. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52710?repo=metabase/metabase&commitHash=c5d6076ad0f69aa9b109dbceb7ae73ae9ad240f1&utm_source=gh-comment&runConclusion=FAILURE&runId=bbcd196f-120e-58aa-ab04-d5806d723500) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52710?repo=metabase/metabase&commitHash=c5d6076ad0f69aa9b109dbceb7ae73ae9ad240f1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 22, 22, 48, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-24 21:46:10 UTC): ## e2e tests failed on `c5d6076ad0f69aa9b109dbceb7ae73ae9ad240f1-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12957932470?pr=52710)

  File | Test Name
  ---- | ---------
  `search.cy.spec.js` | scenarios > search > universal search > should not overflow container if results contain descriptions with large unborken strings

trunk-io[bot] on (2025-01-24 22:22:48 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/88265_tests-c5d6076a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52710?repo=metabase/metabase&commitHash=c5d6076ad0f69aa9b109dbceb7ae73ae9ad240f1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/20-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52710?repo=metabase/metabase&commitHash=c5d6076ad0f69aa9b109dbceb7ae73ae9ad240f1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52710?repo=metabase/metabase&commitHash=c5d6076ad0f69aa9b109dbceb7ae73ae9ad240f1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52710?repo=metabase/metabase&commitHash=c5d6076ad0f69aa9b109dbceb7ae73ae9ad240f1&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>describe-database-sanity-check-test</code> | The expected table does not exist in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52710?repo=metabase/metabase&commitHash=c5d6076ad0f69aa9b109dbceb7ae73ae9ad240f1&utm_source=gh-comment&runConclusion=FAILURE&runId=e51821aa-4753-5e56-89fe-51996ddc8653) |
| <code>dataset-with-custom-composite-pk-test</code> | No table 'songs' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52710?repo=metabase/metabase&commitHash=c5d6076ad0f69aa9b109dbceb7ae73ae9ad240f1&utm_source=gh-comment&runConclusion=FAILURE&runId=a0afc0c1-d175-5784-bafb-de67f0ee7082) |
| <code>redshift-types-test</code> | The Redshift database connection failed because the specified relation does not exist. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52710?repo=metabase/metabase&commitHash=c5d6076ad0f69aa9b109dbceb7ae73ae9ad240f1&utm_source=gh-comment&runConclusion=FAILURE&runId=1c1eff38-07ef-5145-aeaa-624f5fe499d3) |
| <code>test-ssh-tunnel-reconnection</code> | No table 'venues' found for Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52710?repo=metabase/metabase&commitHash=c5d6076ad0f69aa9b109dbceb7ae73ae9ad240f1&utm_source=gh-comment&runConclusion=FAILURE&runId=af6929bc-ced9-5b84-980d-bbe2050051ab) |

[... and 16 more](https://app.trunk.io/metabase/flaky-tests/pr/52710?repo=metabase/metabase&commitHash=c5d6076ad0f69aa9b109dbceb7ae73ae9ad240f1&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52710?repo=metabase/metabase&commitHash=c5d6076ad0f69aa9b109dbceb7ae73ae9ad240f1&utm_source=gh-comment&runConclusion=FAILURE&runId=46071ff4-d8dc-523c-87a0-d71cfce7b64b) |
| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52710?repo=metabase/metabase&commitHash=c5d6076ad0f69aa9b109dbceb7ae73ae9ad240f1&utm_source=gh-comment&runConclusion=FAILURE&runId=72d98466-be63-5bef-acc3-8bbd7cf84b19) |
| <code>survive-fingerprinting-errors</code> | Query execution failed due to user request, transaction was aborted. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52710?repo=metabase/metabase&commitHash=c5d6076ad0f69aa9b109dbceb7ae73ae9ad240f1&utm_source=gh-comment&runConclusion=FAILURE&runId=bbcd196f-120e-58aa-ab04-d5806d723500) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52710?repo=metabase/metabase&commitHash=c5d6076ad0f69aa9b109dbceb7ae73ae9ad240f1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2810393629,pull_request,closed,,For your consideration - collection menu,"Closes ENG-14340

### Description
Adds indicator and badges to the collection menu when first seeing new options

### How to verify

1. Go to a collection that either has stale items (older than 3 months), or multiple ""move to dashboard"" candidates
2. You should notice a small indicator on the collection menu in the top right corner. Click it
3. The indicator should go away, and one of the 2 new menu items should appear
4. The recommendation for cleaning up will never dismiss (if there are no stale items, it'll remove itself from the menu), but move to dashboard should dismiss if you click it


### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",npfitz,2025-01-24 21:20:18+00:00,['npfitz'],2025-01-28 19:40:06+00:00,2025-01-28 15:45:56+00:00,https://github.com/metabase/metabase/pull/52709,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2613399880, 'issue_id': 2810393629, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 4b2db972d722368b8cd1f0f96ebb924451f48c8c...27aaf7ad132ac48221ad419a18f61efe55bbdf48.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/data-display/Badge/Badge.styled.tsx<br>frontend/src/metabase/ui/components/data-display/Badge/index.ts<br>frontend/src/metabase/ui/components/data-display/Indicator/index.ts<br>frontend/src/metabase/ui/components/data-display/index.ts<br>frontend/src/metabase/ui/theme.ts |', 'created_at': datetime.datetime(2025, 1, 24, 21, 21, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613505098, 'issue_id': 2810393629, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/22916_tests-27aaf7ad-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52709?repo=metabase/metabase&commitHash=27aaf7ad132ac48221ad419a18f61efe55bbdf48&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52709?repo=metabase/metabase&commitHash=27aaf7ad132ac48221ad419a18f61efe55bbdf48&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52709?repo=metabase/metabase&commitHash=27aaf7ad132ac48221ad419a18f61efe55bbdf48&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52709?repo=metabase/metabase&commitHash=27aaf7ad132ac48221ad419a18f61efe55bbdf48&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52709?repo=metabase/metabase&commitHash=27aaf7ad132ac48221ad419a18f61efe55bbdf48&utm_source=gh-comment&runConclusion=FAILURE&runId=d12e915b-9569-5e0b-a2cc-a841d6353eaa) |\n| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52709?repo=metabase/metabase&commitHash=27aaf7ad132ac48221ad419a18f61efe55bbdf48&utm_source=gh-comment&runConclusion=FAILURE&runId=cd8d87c3-230b-5f68-8dd0-8ff26cb3a89f) |\n| <code>scenarios > questions > entity id support /question/entity/${entity\\_id}/notebook should redirect to /question/${id}/notebook</code> | The expected URL did not include the expected path within the given timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52709?repo=metabase/metabase&commitHash=27aaf7ad132ac48221ad419a18f61efe55bbdf48&utm_source=gh-comment&runConclusion=FAILURE&runId=e7482285-a8a0-5198-bbf9-d5f474fee084) |\n| <code>scenarios > questions > entity id support /question/entity/${entity\\_id} should redirect to /question/${id}</code> | The expected URL did not include the expected path \'/question/82\' after 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52709?repo=metabase/metabase&commitHash=27aaf7ad132ac48221ad419a18f61efe55bbdf48&utm_source=gh-comment&runConclusion=FAILURE&runId=3521fc85-4579-5338-90dc-1d9c16e7625c) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52709?repo=metabase/metabase&commitHash=27aaf7ad132ac48221ad419a18f61efe55bbdf48&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 22, 24, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616435121, 'issue_id': 2810393629, 'author': 'sloansparger', 'body': '✅ Code still looks good after your changes', 'created_at': datetime.datetime(2025, 1, 27, 17, 25, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619162821, 'issue_id': 2810393629, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `27aaf7ad132ac48221ad419a18f61efe55bbdf48-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13012333653?pr=52709)\n\n  File | Test Name\n  ---- | ---------\n  `questions-entity-id.cy.spec.ts` | scenarios > questions > entity id support > /question/entity/${entity_id} should redirect to /question/${id}\n`questions-entity-id.cy.spec.ts` | scenarios > questions > entity id support > /question/entity/${entity_id}/notebook should redirect to /question/${id}/notebook\n`search.cy.spec.js` | scenarios > search > universal search > should render a preview of markdown descriptions\n`search.cy.spec.js` | scenarios > search > universal search > should not overflow container if results contain descriptions with large unborken strings', 'created_at': datetime.datetime(2025, 1, 28, 14, 29, 28, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-24 21:21:51 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 4b2db972d722368b8cd1f0f96ebb924451f48c8c...27aaf7ad132ac48221ad419a18f61efe55bbdf48.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/data-display/Badge/Badge.styled.tsx<br>frontend/src/metabase/ui/components/data-display/Badge/index.ts<br>frontend/src/metabase/ui/components/data-display/Indicator/index.ts<br>frontend/src/metabase/ui/components/data-display/index.ts<br>frontend/src/metabase/ui/theme.ts |

trunk-io[bot] on (2025-01-24 22:24:06 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/22916_tests-27aaf7ad-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52709?repo=metabase/metabase&commitHash=27aaf7ad132ac48221ad419a18f61efe55bbdf48&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52709?repo=metabase/metabase&commitHash=27aaf7ad132ac48221ad419a18f61efe55bbdf48&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52709?repo=metabase/metabase&commitHash=27aaf7ad132ac48221ad419a18f61efe55bbdf48&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52709?repo=metabase/metabase&commitHash=27aaf7ad132ac48221ad419a18f61efe55bbdf48&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52709?repo=metabase/metabase&commitHash=27aaf7ad132ac48221ad419a18f61efe55bbdf48&utm_source=gh-comment&runConclusion=FAILURE&runId=d12e915b-9569-5e0b-a2cc-a841d6353eaa) |
| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52709?repo=metabase/metabase&commitHash=27aaf7ad132ac48221ad419a18f61efe55bbdf48&utm_source=gh-comment&runConclusion=FAILURE&runId=cd8d87c3-230b-5f68-8dd0-8ff26cb3a89f) |
| <code>scenarios > questions > entity id support /question/entity/${entity\_id}/notebook should redirect to /question/${id}/notebook</code> | The expected URL did not include the expected path within the given timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52709?repo=metabase/metabase&commitHash=27aaf7ad132ac48221ad419a18f61efe55bbdf48&utm_source=gh-comment&runConclusion=FAILURE&runId=e7482285-a8a0-5198-bbf9-d5f474fee084) |
| <code>scenarios > questions > entity id support /question/entity/${entity\_id} should redirect to /question/${id}</code> | The expected URL did not include the expected path '/question/82' after 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52709?repo=metabase/metabase&commitHash=27aaf7ad132ac48221ad419a18f61efe55bbdf48&utm_source=gh-comment&runConclusion=FAILURE&runId=3521fc85-4579-5338-90dc-1d9c16e7625c) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52709?repo=metabase/metabase&commitHash=27aaf7ad132ac48221ad419a18f61efe55bbdf48&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

sloansparger on (2025-01-27 17:25:15 UTC): ✅ Code still looks good after your changes

github-actions[bot] on (2025-01-28 14:29:28 UTC): ## e2e tests failed on `27aaf7ad132ac48221ad419a18f61efe55bbdf48-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13012333653?pr=52709)

  File | Test Name
  ---- | ---------
  `questions-entity-id.cy.spec.ts` | scenarios > questions > entity id support > /question/entity/${entity_id} should redirect to /question/${id}
`questions-entity-id.cy.spec.ts` | scenarios > questions > entity id support > /question/entity/${entity_id}/notebook should redirect to /question/${id}/notebook
`search.cy.spec.js` | scenarios > search > universal search > should render a preview of markdown descriptions
`search.cy.spec.js` | scenarios > search > universal search > should not overflow container if results contain descriptions with large unborken strings

"
2810391125,pull_request,closed,,Rewrite all remaining defendpoints except those in public.clj,,camsaul,2025-01-24 21:18:24+00:00,['camsaul'],2025-01-27 22:10:13+00:00,2025-01-25 01:02:44+00:00,https://github.com/metabase/metabase/pull/52708,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2613491776, 'issue_id': 2810391125, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `5ea8f1f7d49dc889d859cb8d9701d955d697e990-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12958298720?pr=52708)\n\n  File | Test Name\n  ---- | ---------\n  `entity-picker.cy.spec.ts` | (_flaky_) scenarios > organization > entity picker > collection picker > should show dashboards in personal collections when apropriate, even if there are no sub collections', 'created_at': datetime.datetime(2025, 1, 24, 22, 17, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613503123, 'issue_id': 2810391125, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/94545_tests-5ea8f1f7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52708?repo=metabase/metabase&commitHash=5ea8f1f7d49dc889d859cb8d9701d955d697e990&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/28-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52708?repo=metabase/metabase&commitHash=5ea8f1f7d49dc889d859cb8d9701d955d697e990&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52708?repo=metabase/metabase&commitHash=5ea8f1f7d49dc889d859cb8d9701d955d697e990&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52708?repo=metabase/metabase&commitHash=5ea8f1f7d49dc889d859cb8d9701d955d697e990&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>group-by-day-eastern-test</code> | No table 'incidents' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52708?repo=metabase/metabase&commitHash=5ea8f1f7d49dc889d859cb8d9701d955d697e990&utm_source=gh-comment&runConclusion=FAILURE&runId=882db7a7-eec5-51c6-b933-a5849ac264f2) |\n| <code>group-by-minute-of-hour-test</code> | The test failed because the table 'incidents' was not found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52708?repo=metabase/metabase&commitHash=5ea8f1f7d49dc889d859cb8d9701d955d697e990&utm_source=gh-comment&runConclusion=FAILURE&runId=a22fb8d4-d2c2-5478-8f09-3254ab430434) |\n| <code>group-by-month-of-year-test</code> | No table 'incidents' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52708?repo=metabase/metabase&commitHash=5ea8f1f7d49dc889d859cb8d9701d955d697e990&utm_source=gh-comment&runConclusion=FAILURE&runId=5563a01d-3683-5f30-b3e6-0467d54e72ca) |\n| <code>group-by-default-test</code> | No table 'incidents' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52708?repo=metabase/metabase&commitHash=5ea8f1f7d49dc889d859cb8d9701d955d697e990&utm_source=gh-comment&runConclusion=FAILURE&runId=66f2fcb1-deae-5018-ae51-d357c66e5db0) |\n\n[... and 24 more](https://app.trunk.io/metabase/flaky-tests/pr/52708?repo=metabase/metabase&commitHash=5ea8f1f7d49dc889d859cb8d9701d955d697e990&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52708?repo=metabase/metabase&commitHash=5ea8f1f7d49dc889d859cb8d9701d955d697e990&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 24, 22, 22, 22, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-24 22:17:13 UTC): ## e2e tests failed on `5ea8f1f7d49dc889d859cb8d9701d955d697e990-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12958298720?pr=52708)

  File | Test Name
  ---- | ---------
  `entity-picker.cy.spec.ts` | (_flaky_) scenarios > organization > entity picker > collection picker > should show dashboards in personal collections when apropriate, even if there are no sub collections

trunk-io[bot] on (2025-01-24 22:22:22 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/94545_tests-5ea8f1f7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52708?repo=metabase/metabase&commitHash=5ea8f1f7d49dc889d859cb8d9701d955d697e990&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/28-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52708?repo=metabase/metabase&commitHash=5ea8f1f7d49dc889d859cb8d9701d955d697e990&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52708?repo=metabase/metabase&commitHash=5ea8f1f7d49dc889d859cb8d9701d955d697e990&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52708?repo=metabase/metabase&commitHash=5ea8f1f7d49dc889d859cb8d9701d955d697e990&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>group-by-day-eastern-test</code> | No table 'incidents' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52708?repo=metabase/metabase&commitHash=5ea8f1f7d49dc889d859cb8d9701d955d697e990&utm_source=gh-comment&runConclusion=FAILURE&runId=882db7a7-eec5-51c6-b933-a5849ac264f2) |
| <code>group-by-minute-of-hour-test</code> | The test failed because the table 'incidents' was not found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52708?repo=metabase/metabase&commitHash=5ea8f1f7d49dc889d859cb8d9701d955d697e990&utm_source=gh-comment&runConclusion=FAILURE&runId=a22fb8d4-d2c2-5478-8f09-3254ab430434) |
| <code>group-by-month-of-year-test</code> | No table 'incidents' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52708?repo=metabase/metabase&commitHash=5ea8f1f7d49dc889d859cb8d9701d955d697e990&utm_source=gh-comment&runConclusion=FAILURE&runId=5563a01d-3683-5f30-b3e6-0467d54e72ca) |
| <code>group-by-default-test</code> | No table 'incidents' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52708?repo=metabase/metabase&commitHash=5ea8f1f7d49dc889d859cb8d9701d955d697e990&utm_source=gh-comment&runConclusion=FAILURE&runId=66f2fcb1-deae-5018-ae51-d357c66e5db0) |

[... and 24 more](https://app.trunk.io/metabase/flaky-tests/pr/52708?repo=metabase/metabase&commitHash=5ea8f1f7d49dc889d859cb8d9701d955d697e990&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52708?repo=metabase/metabase&commitHash=5ea8f1f7d49dc889d859cb8d9701d955d697e990&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2810340348,pull_request,open,,legacy expression refs aren't bad refs,"Under `:parameters`, we have legacy field refs - I don't understand why, but that's what the spec says, so... in the case that we run into a legacy field ref, we shouldn't return that it's a bad ref.

There may be a better way to go about this, happy to consider better options.",johnswanson,2025-01-24 20:40:35+00:00,['johnswanson'],2025-01-24 22:51:31+00:00,,https://github.com/metabase/metabase/pull/52694,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2613422928, 'issue_id': 2810340348, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/108833_tests-07ffd688-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52694?repo=metabase/metabase&commitHash=07ffd688089ffd3a20d2344e7bdb48c016d9ee54&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/10-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52694?repo=metabase/metabase&commitHash=07ffd688089ffd3a20d2344e7bdb48c016d9ee54&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52694?repo=metabase/metabase&commitHash=07ffd688089ffd3a20d2344e7bdb48c016d9ee54&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52694?repo=metabase/metabase&commitHash=07ffd688089ffd3a20d2344e7bdb48c016d9ee54&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>check-aggregation-references-test</code> | The expected result of \\`mr/explain\\` was not equal to the actual result, which was \\`nil\\`. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52694?repo=metabase/metabase&commitHash=07ffd688089ffd3a20d2344e7bdb48c016d9ee54&utm_source=gh-comment&runConclusion=FAILURE&runId=b9ca6c72-22b0-56a4-a19c-f06e8c01781e) |\n| <code>check-aggregation-references-test</code> | The expected result of \\`mr/explain\\` was not equal to the actual result, which was \\`nil\\`. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52694?repo=metabase/metabase&commitHash=07ffd688089ffd3a20d2344e7bdb48c016d9ee54&utm_source=gh-comment&runConclusion=FAILURE&runId=d7cdb4f3-d79b-5acc-943e-226df8bb27a3) |\n| <code>check-aggregation-references-test</code> | The expected result of \\`mr/explain\\` was not equal to the actual result, which was \\`nil\\`. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52694?repo=metabase/metabase&commitHash=07ffd688089ffd3a20d2344e7bdb48c016d9ee54&utm_source=gh-comment&runConclusion=FAILURE&runId=9eac1d75-4165-5ad7-9308-d97341980266) |\n| <code>check-aggregation-references-test</code> | The expected result of \\`mr/explain\\` was not equal to the actual result, which was \\`nil\\`. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52694?repo=metabase/metabase&commitHash=07ffd688089ffd3a20d2344e7bdb48c016d9ee54&utm_source=gh-comment&runConclusion=FAILURE&runId=4a510b1e-7142-5664-83c7-6eb30633a2d1) |\n\n[... and 6 more](https://app.trunk.io/metabase/flaky-tests/pr/52694?repo=metabase/metabase&commitHash=07ffd688089ffd3a20d2344e7bdb48c016d9ee54&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52694?repo=metabase/metabase&commitHash=07ffd688089ffd3a20d2344e7bdb48c016d9ee54&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 21, 38, 52, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-24 21:38:52 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/108833_tests-07ffd688-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52694?repo=metabase/metabase&commitHash=07ffd688089ffd3a20d2344e7bdb48c016d9ee54&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/10-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52694?repo=metabase/metabase&commitHash=07ffd688089ffd3a20d2344e7bdb48c016d9ee54&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52694?repo=metabase/metabase&commitHash=07ffd688089ffd3a20d2344e7bdb48c016d9ee54&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52694?repo=metabase/metabase&commitHash=07ffd688089ffd3a20d2344e7bdb48c016d9ee54&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>check-aggregation-references-test</code> | The expected result of \`mr/explain\` was not equal to the actual result, which was \`nil\`. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52694?repo=metabase/metabase&commitHash=07ffd688089ffd3a20d2344e7bdb48c016d9ee54&utm_source=gh-comment&runConclusion=FAILURE&runId=b9ca6c72-22b0-56a4-a19c-f06e8c01781e) |
| <code>check-aggregation-references-test</code> | The expected result of \`mr/explain\` was not equal to the actual result, which was \`nil\`. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52694?repo=metabase/metabase&commitHash=07ffd688089ffd3a20d2344e7bdb48c016d9ee54&utm_source=gh-comment&runConclusion=FAILURE&runId=d7cdb4f3-d79b-5acc-943e-226df8bb27a3) |
| <code>check-aggregation-references-test</code> | The expected result of \`mr/explain\` was not equal to the actual result, which was \`nil\`. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52694?repo=metabase/metabase&commitHash=07ffd688089ffd3a20d2344e7bdb48c016d9ee54&utm_source=gh-comment&runConclusion=FAILURE&runId=9eac1d75-4165-5ad7-9308-d97341980266) |
| <code>check-aggregation-references-test</code> | The expected result of \`mr/explain\` was not equal to the actual result, which was \`nil\`. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52694?repo=metabase/metabase&commitHash=07ffd688089ffd3a20d2344e7bdb48c016d9ee54&utm_source=gh-comment&runConclusion=FAILURE&runId=4a510b1e-7142-5664-83c7-6eb30633a2d1) |

[... and 6 more](https://app.trunk.io/metabase/flaky-tests/pr/52694?repo=metabase/metabase&commitHash=07ffd688089ffd3a20d2344e7bdb48c016d9ee54&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52694?repo=metabase/metabase&commitHash=07ffd688089ffd3a20d2344e7bdb48c016d9ee54&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2810321193,pull_request,closed,,[test] My external pr,,iethree,2025-01-24 20:26:44+00:00,[],2025-01-24 20:34:01+00:00,2025-01-24 20:34:01+00:00,https://github.com/metabase/metabase/pull/52693,[],[],
2810318077,pull_request,closed,,Convert nil values to :null in dimension-contexts,"Closes #49740

### Description

Convert `nil` dimension values to `:null` in [`lib.drill-thru/dimension-contexts`](https://github.com/metabase/metabase/blob/1c63f624318f76111c421d8bab22e79dfcd32f4a/src/metabase/lib/drill_thru.cljc#L70) to match the conversion in [`lib.js/available-drill-thrus`](https://github.com/metabase/metabase/blob/1c63f624318f76111c421d8bab22e79dfcd32f4a/src/metabase/lib/js.cljs#L2159).

In [`lib.drill-thru/available-drill-thrus`](https://github.com/metabase/metabase/blob/1c63f624318f76111c421d8bab22e79dfcd32f4a/src/metabase/lib/drill_thru.cljc#L113C73-L113C102), certain drills wind up being applied to their dimensions rather than the original context supplied by the FE (`return-drills-for-dimensions?`) and therefore did not have their `nil` values converted to `:null`. This caused confusion for drills like `column-filter`, `distribution`, `sort`, etc., which check `(nil? value)` to ensure they are only available in ""column header"" click contexts.

Add a new function `js->drill-value` to match the existing `drill-value->js` in `lib.drill-thru.common` and call it to convert the dimension values in `dimension-contexts`.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> Analytic Events
2. Summarize: Count by Button Label
3. Click on the `(empty)` bar
4. ""Filter by this column"" drill should not appear in the context menu

See also similar repro steps in #49740, but for table viz and the Accounts table.

### Demo

repro described above

![Screenshot 2025-01-20 at 11 35 41 AM](https://github.com/user-attachments/assets/5f8e2354-03a7-4c5a-b650-77e7b8c36fbe)

repro from #49740

![Screenshot 2025-01-24 at 12 20 40 PM](https://github.com/user-attachments/assets/74425638-38ba-485a-a616-27b63217c0de)


### Checklist

- [x] Tests have been added/updated to cover changes in this PR",appleby,2025-01-24 20:24:21+00:00,['appleby'],2025-01-29 01:15:41+00:00,2025-01-29 01:15:03+00:00,https://github.com/metabase/metabase/pull/52692,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2613423983, 'issue_id': 2810318077, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/110683_tests-129c4378-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52692?repo=metabase/metabase&commitHash=129c4378336bde7ccbcfc6cf087d62d0353ed6c9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52692?repo=metabase/metabase&commitHash=129c4378336bde7ccbcfc6cf087d62d0353ed6c9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52692?repo=metabase/metabase&commitHash=129c4378336bde7ccbcfc6cf087d62d0353ed6c9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52692?repo=metabase/metabase&commitHash=129c4378336bde7ccbcfc6cf087d62d0353ed6c9&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>redshift-lbv-sync-error-test</code> | The Redshift database connection failed because the relation ""2025\\_01\\_24\\_5896ca9f\\_17f4\\_473a\\_8b16\\_453b4cc306d7\\_schema.iszjmstfvxmzwcdkqwdx""... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52692?repo=metabase/metabase&commitHash=129c4378336bde7ccbcfc6cf087d62d0353ed6c9&utm_source=gh-comment&runConclusion=FAILURE&runId=417a82ad-ede6-5a3d-a4c7-335375a05a9f) |\n| <code>dataset-with-custom-pk-test</code> | No table \'user\' found in Redshift database \'custom-pk (redshift)\' | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52692?repo=metabase/metabase&commitHash=129c4378336bde7ccbcfc6cf087d62d0353ed6c9&utm_source=gh-comment&runConclusion=FAILURE&runId=218b6da7-3906-5615-a93a-26b8f40c7c1e) |\n| <code>test-ssh-tunnel-reconnection</code> | No table ""venues"" found for Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52692?repo=metabase/metabase&commitHash=129c4378336bde7ccbcfc6cf087d62d0353ed6c9&utm_source=gh-comment&runConclusion=FAILURE&runId=a065869d-e529-5d35-80b5-2dc624d6c218) |\n| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52692?repo=metabase/metabase&commitHash=129c4378336bde7ccbcfc6cf087d62d0353ed6c9&utm_source=gh-comment&runConclusion=FAILURE&runId=d71197e5-f142-58c6-944e-414cf3f5a729) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52692?repo=metabase/metabase&commitHash=129c4378336bde7ccbcfc6cf087d62d0353ed6c9&utm_source=gh-comment&runConclusion=FAILURE&runId=3513ea02-8633-5081-910b-6dabda6760b0) |\n| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52692?repo=metabase/metabase&commitHash=129c4378336bde7ccbcfc6cf087d62d0353ed6c9&utm_source=gh-comment&runConclusion=FAILURE&runId=bf4d38c9-eb37-5b46-8959-e4417bdb8f6a) |\n| <code>update-timeline-event-test</code> | The expected timestamp was not equal to the actual timestamp when updating a timeline event. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52692?repo=metabase/metabase&commitHash=129c4378336bde7ccbcfc6cf087d62d0353ed6c9&utm_source=gh-comment&runConclusion=FAILURE&runId=c94f43d2-e8c5-5136-88db-fb6e25e9f3ff) |\n| <code>survive-fingerprinting-errors</code> | Query execution failed due to user request, transaction is aborted. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52692?repo=metabase/metabase&commitHash=129c4378336bde7ccbcfc6cf087d62d0353ed6c9&utm_source=gh-comment&runConclusion=FAILURE&runId=500e035f-55b5-5660-8884-7fe3a42cf868) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52692?repo=metabase/metabase&commitHash=129c4378336bde7ccbcfc6cf087d62d0353ed6c9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 21, 39, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613585111, 'issue_id': 2810318077, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `129c4378336bde7ccbcfc6cf087d62d0353ed6c9-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12959175811?pr=52692)\n\n  File | Test Name\n  ---- | ---------\n  `search.cy.spec.js` | scenarios > search > universal search > should not overflow container if results contain descriptions with large unborken strings', 'created_at': datetime.datetime(2025, 1, 24, 23, 24, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620382534, 'issue_id': 2810318077, 'author': 'appleby', 'body': '@metabase-bot backport release-x.52.x', 'created_at': datetime.datetime(2025, 1, 29, 1, 15, 40, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-24 21:39:45 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/110683_tests-129c4378-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52692?repo=metabase/metabase&commitHash=129c4378336bde7ccbcfc6cf087d62d0353ed6c9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52692?repo=metabase/metabase&commitHash=129c4378336bde7ccbcfc6cf087d62d0353ed6c9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52692?repo=metabase/metabase&commitHash=129c4378336bde7ccbcfc6cf087d62d0353ed6c9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52692?repo=metabase/metabase&commitHash=129c4378336bde7ccbcfc6cf087d62d0353ed6c9&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>redshift-lbv-sync-error-test</code> | The Redshift database connection failed because the relation ""2025\_01\_24\_5896ca9f\_17f4\_473a\_8b16\_453b4cc306d7\_schema.iszjmstfvxmzwcdkqwdx""... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52692?repo=metabase/metabase&commitHash=129c4378336bde7ccbcfc6cf087d62d0353ed6c9&utm_source=gh-comment&runConclusion=FAILURE&runId=417a82ad-ede6-5a3d-a4c7-335375a05a9f) |
| <code>dataset-with-custom-pk-test</code> | No table 'user' found in Redshift database 'custom-pk (redshift)' | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52692?repo=metabase/metabase&commitHash=129c4378336bde7ccbcfc6cf087d62d0353ed6c9&utm_source=gh-comment&runConclusion=FAILURE&runId=218b6da7-3906-5615-a93a-26b8f40c7c1e) |
| <code>test-ssh-tunnel-reconnection</code> | No table ""venues"" found for Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52692?repo=metabase/metabase&commitHash=129c4378336bde7ccbcfc6cf087d62d0353ed6c9&utm_source=gh-comment&runConclusion=FAILURE&runId=a065869d-e529-5d35-80b5-2dc624d6c218) |
| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52692?repo=metabase/metabase&commitHash=129c4378336bde7ccbcfc6cf087d62d0353ed6c9&utm_source=gh-comment&runConclusion=FAILURE&runId=d71197e5-f142-58c6-944e-414cf3f5a729) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52692?repo=metabase/metabase&commitHash=129c4378336bde7ccbcfc6cf087d62d0353ed6c9&utm_source=gh-comment&runConclusion=FAILURE&runId=3513ea02-8633-5081-910b-6dabda6760b0) |
| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52692?repo=metabase/metabase&commitHash=129c4378336bde7ccbcfc6cf087d62d0353ed6c9&utm_source=gh-comment&runConclusion=FAILURE&runId=bf4d38c9-eb37-5b46-8959-e4417bdb8f6a) |
| <code>update-timeline-event-test</code> | The expected timestamp was not equal to the actual timestamp when updating a timeline event. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52692?repo=metabase/metabase&commitHash=129c4378336bde7ccbcfc6cf087d62d0353ed6c9&utm_source=gh-comment&runConclusion=FAILURE&runId=c94f43d2-e8c5-5136-88db-fb6e25e9f3ff) |
| <code>survive-fingerprinting-errors</code> | Query execution failed due to user request, transaction is aborted. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52692?repo=metabase/metabase&commitHash=129c4378336bde7ccbcfc6cf087d62d0353ed6c9&utm_source=gh-comment&runConclusion=FAILURE&runId=500e035f-55b5-5660-8884-7fe3a42cf868) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52692?repo=metabase/metabase&commitHash=129c4378336bde7ccbcfc6cf087d62d0353ed6c9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-24 23:24:24 UTC): ## e2e tests failed on `129c4378336bde7ccbcfc6cf087d62d0353ed6c9-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12959175811?pr=52692)

  File | Test Name
  ---- | ---------
  `search.cy.spec.js` | scenarios > search > universal search > should not overflow container if results contain descriptions with large unborken strings

appleby (Issue Creator) on (2025-01-29 01:15:40 UTC): @metabase-bot backport release-x.52.x

"
2810315045,pull_request,closed,,[testing] My external pr,,iethree,2025-01-24 20:22:05+00:00,[],2025-01-24 20:26:13+00:00,2025-01-24 20:26:13+00:00,https://github.com/metabase/metabase/pull/52691,[],[],
2810303758,pull_request,closed,,drop codenotify,"### Description

Removes codenotify as we don't really use it.",alxnddr,2025-01-24 20:13:55+00:00,['alxnddr'],2025-01-29 16:45:35+00:00,2025-01-29 15:56:35+00:00,https://github.com/metabase/metabase/pull/52690,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2613365570, 'issue_id': 2810303758, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/94999_tests-a7ebdfc4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52690?repo=metabase/metabase&commitHash=a7ebdfc46d844093e82f2679beaaf3621d0210ab&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52690?repo=metabase/metabase&commitHash=a7ebdfc46d844093e82f2679beaaf3621d0210ab&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52690?repo=metabase/metabase&commitHash=a7ebdfc46d844093e82f2679beaaf3621d0210ab&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52690?repo=metabase/metabase&commitHash=a7ebdfc46d844093e82f2679beaaf3621d0210ab&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 51020 when primary key is not called \'id\' ""before each"" hook for ""should pass primary key attribute to execute action endpoint when it\'s popu...</code> | Unable to find an element with the text ""Foo"" during a ""before each"" hook, causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52690?repo=metabase/metabase&commitHash=a7ebdfc46d844093e82f2679beaaf3621d0210ab&utm_source=gh-comment&runConclusion=FAILURE&runId=4c504ea4-d425-586b-bf24-6d69c1c7a835) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52690?repo=metabase/metabase&commitHash=a7ebdfc46d844093e82f2679beaaf3621d0210ab&utm_source=gh-comment&runConclusion=FAILURE&runId=7f1f19a3-7bb0-5d93-adc5-6beb2b7375d0) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52690?repo=metabase/metabase&commitHash=a7ebdfc46d844093e82f2679beaaf3621d0210ab&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 20, 56, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620706714, 'issue_id': 2810303758, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `a7ebdfc46d844093e82f2679beaaf3621d0210ab-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13024563425?pr=52690)\n\n  File | Test Name\n  ---- | ---------\n  `actions-reproductions.cy.spec.js` | issue 51020 > when primary key is not called 'id' > should pass primary key attribute to execute action endpoint when it's populated with click behavior or URL (metabase#51020)"", 'created_at': datetime.datetime(2025, 1, 29, 4, 38, 53, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-24 20:56:22 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/94999_tests-a7ebdfc4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52690?repo=metabase/metabase&commitHash=a7ebdfc46d844093e82f2679beaaf3621d0210ab&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52690?repo=metabase/metabase&commitHash=a7ebdfc46d844093e82f2679beaaf3621d0210ab&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52690?repo=metabase/metabase&commitHash=a7ebdfc46d844093e82f2679beaaf3621d0210ab&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52690?repo=metabase/metabase&commitHash=a7ebdfc46d844093e82f2679beaaf3621d0210ab&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 51020 when primary key is not called 'id' ""before each"" hook for ""should pass primary key attribute to execute action endpoint when it's popu...</code> | Unable to find an element with the text ""Foo"" during a ""before each"" hook, causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52690?repo=metabase/metabase&commitHash=a7ebdfc46d844093e82f2679beaaf3621d0210ab&utm_source=gh-comment&runConclusion=FAILURE&runId=4c504ea4-d425-586b-bf24-6d69c1c7a835) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52690?repo=metabase/metabase&commitHash=a7ebdfc46d844093e82f2679beaaf3621d0210ab&utm_source=gh-comment&runConclusion=FAILURE&runId=7f1f19a3-7bb0-5d93-adc5-6beb2b7375d0) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52690?repo=metabase/metabase&commitHash=a7ebdfc46d844093e82f2679beaaf3621d0210ab&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-29 04:38:53 UTC): ## e2e tests failed on `a7ebdfc46d844093e82f2679beaaf3621d0210ab-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13024563425?pr=52690)

  File | Test Name
  ---- | ---------
  `actions-reproductions.cy.spec.js` | issue 51020 > when primary key is not called 'id' > should pass primary key attribute to execute action endpoint when it's populated with click behavior or URL (metabase#51020)

"
2810283801,pull_request,closed,,"🤖 backported ""Add caveat about SDK client filtering""",#52681,github-automation-metabase,2025-01-24 19:59:47+00:00,"['albertoperdomo', 'github-automation-metabase']",2025-01-24 21:10:44+00:00,2025-01-24 20:01:27+00:00,https://github.com/metabase/metabase/pull/52689,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2613385149, 'issue_id': 2810283801, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/54_tests-f00b482d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52689?repo=metabase/metabase&commitHash=f00b482d9118dd06b9ae02551a10022eea061f2a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52689?repo=metabase/metabase&commitHash=f00b482d9118dd06b9ae02551a10022eea061f2a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52689?repo=metabase/metabase&commitHash=f00b482d9118dd06b9ae02551a10022eea061f2a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52689?repo=metabase/metabase&commitHash=f00b482d9118dd06b9ae02551a10022eea061f2a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52689?repo=metabase/metabase&commitHash=f00b482d9118dd06b9ae02551a10022eea061f2a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 21, 10, 43, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-24 21:10:43 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/54_tests-f00b482d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52689?repo=metabase/metabase&commitHash=f00b482d9118dd06b9ae02551a10022eea061f2a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52689?repo=metabase/metabase&commitHash=f00b482d9118dd06b9ae02551a10022eea061f2a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52689?repo=metabase/metabase&commitHash=f00b482d9118dd06b9ae02551a10022eea061f2a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52689?repo=metabase/metabase&commitHash=f00b482d9118dd06b9ae02551a10022eea061f2a&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52689?repo=metabase/metabase&commitHash=f00b482d9118dd06b9ae02551a10022eea061f2a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2810256154,pull_request,closed,,Fix autocomplete API calls in the new native query editor,"- Proper endpoints location - in `database.ts` since these endpoints are defined in `database.clj`; they have `/database` prefix
- Proper query string params handling - via `params`. This makes sure that they are properly escaped. 
- Proper caching & invalidation",ranquild,2025-01-24 19:40:24+00:00,['ranquild'],2025-01-28 16:13:06+00:00,2025-01-28 16:13:04+00:00,https://github.com/metabase/metabase/pull/52688,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2613748747, 'issue_id': 2810256154, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/31824_tests-851e6ff7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52688?repo=metabase/metabase&commitHash=851e6ff7b2cbf38778c0cc4364f48be56b4e9570&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/5-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52688?repo=metabase/metabase&commitHash=851e6ff7b2cbf38778c0cc4364f48be56b4e9570&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52688?repo=metabase/metabase&commitHash=851e6ff7b2cbf38778c0cc4364f48be56b4e9570&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52688?repo=metabase/metabase&commitHash=851e6ff7b2cbf38778c0cc4364f48be56b4e9570&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 29378 should not crash the model detail page after searching for an action (metabase\\#29378)</code> | Unable to find an accessible element with the role ""option"" and name ""Update orders quantity"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52688?repo=metabase/metabase&commitHash=851e6ff7b2cbf38778c0cc4364f48be56b4e9570&utm_source=gh-comment&runConclusion=FAILURE&runId=3d5a7109-3a20-5e4a-8d44-5b7ac95391f1) |\n| <code>issue 41765 re-syncing a database should invalidate the table cache (metabase\\#41765)</code> | The test timed out while trying to find an element with the text ""Scoreboard Actions"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52688?repo=metabase/metabase&commitHash=851e6ff7b2cbf38778c0cc4364f48be56b4e9570&utm_source=gh-comment&runConclusion=FAILURE&runId=0c8809c4-cc56-5634-84b6-c54d493fd77a) |\n| <code>scenarios > browse (EE) /browse/models allows models to be filtered, on an enterprise instance</code> | Unable to find an accessible element with the role ""heading"" and name ""Model 1"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52688?repo=metabase/metabase&commitHash=851e6ff7b2cbf38778c0cc4364f48be56b4e9570&utm_source=gh-comment&runConclusion=FAILURE&runId=c29a6ec3-546e-5b3b-aa2a-d37949308e36) |\n| <code>scenarios > native question > data reference sidebar should show models</code> | Unable to find an element with the text ""2 models"" within 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52688?repo=metabase/metabase&commitHash=851e6ff7b2cbf38778c0cc4364f48be56b4e9570&utm_source=gh-comment&runConclusion=FAILURE&runId=51a6345f-663c-5539-b314-037086e8f37b) |\n\n[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52688?repo=metabase/metabase&commitHash=851e6ff7b2cbf38778c0cc4364f48be56b4e9570&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\#24966)</code> | The \'body\' property was accessed on an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52688?repo=metabase/metabase&commitHash=851e6ff7b2cbf38778c0cc4364f48be56b4e9570&utm_source=gh-comment&runConclusion=FAILURE&runId=664c3bb4-dbe5-5274-a3ac-0a9ba33812a4) |\n| <code>issue 36669 should be able to change question data source to raw data after selecting saved question (metabase\\#36669)</code> | Unable to find an element with the text ""Orders 36669"" within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52688?repo=metabase/metabase&commitHash=851e6ff7b2cbf38778c0cc4364f48be56b4e9570&utm_source=gh-comment&runConclusion=FAILURE&runId=c904f3ed-2b0c-5ee9-bdd0-46510a6fe574) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52688?repo=metabase/metabase&commitHash=851e6ff7b2cbf38778c0cc4364f48be56b4e9570&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 25, 3, 12, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616023462, 'issue_id': 2810256154, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `851e6ff7b2cbf38778c0cc4364f48be56b4e9570-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12991722088?pr=52688)\n\n  File | Test Name\n  ---- | ---------\n  `reproductions.cy.spec.js` | issue 29378 > should not crash the model detail page after searching for an action (metabase#29378)', 'created_at': datetime.datetime(2025, 1, 27, 15, 10, 57, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-25 03:12:15 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/31824_tests-851e6ff7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52688?repo=metabase/metabase&commitHash=851e6ff7b2cbf38778c0cc4364f48be56b4e9570&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/5-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52688?repo=metabase/metabase&commitHash=851e6ff7b2cbf38778c0cc4364f48be56b4e9570&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52688?repo=metabase/metabase&commitHash=851e6ff7b2cbf38778c0cc4364f48be56b4e9570&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52688?repo=metabase/metabase&commitHash=851e6ff7b2cbf38778c0cc4364f48be56b4e9570&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 29378 should not crash the model detail page after searching for an action (metabase\#29378)</code> | Unable to find an accessible element with the role ""option"" and name ""Update orders quantity"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52688?repo=metabase/metabase&commitHash=851e6ff7b2cbf38778c0cc4364f48be56b4e9570&utm_source=gh-comment&runConclusion=FAILURE&runId=3d5a7109-3a20-5e4a-8d44-5b7ac95391f1) |
| <code>issue 41765 re-syncing a database should invalidate the table cache (metabase\#41765)</code> | The test timed out while trying to find an element with the text ""Scoreboard Actions"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52688?repo=metabase/metabase&commitHash=851e6ff7b2cbf38778c0cc4364f48be56b4e9570&utm_source=gh-comment&runConclusion=FAILURE&runId=0c8809c4-cc56-5634-84b6-c54d493fd77a) |
| <code>scenarios > browse (EE) /browse/models allows models to be filtered, on an enterprise instance</code> | Unable to find an accessible element with the role ""heading"" and name ""Model 1"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52688?repo=metabase/metabase&commitHash=851e6ff7b2cbf38778c0cc4364f48be56b4e9570&utm_source=gh-comment&runConclusion=FAILURE&runId=c29a6ec3-546e-5b3b-aa2a-d37949308e36) |
| <code>scenarios > native question > data reference sidebar should show models</code> | Unable to find an element with the text ""2 models"" within 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52688?repo=metabase/metabase&commitHash=851e6ff7b2cbf38778c0cc4364f48be56b4e9570&utm_source=gh-comment&runConclusion=FAILURE&runId=51a6345f-663c-5539-b314-037086e8f37b) |

[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52688?repo=metabase/metabase&commitHash=851e6ff7b2cbf38778c0cc4364f48be56b4e9570&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52688?repo=metabase/metabase&commitHash=851e6ff7b2cbf38778c0cc4364f48be56b4e9570&utm_source=gh-comment&runConclusion=FAILURE&runId=664c3bb4-dbe5-5274-a3ac-0a9ba33812a4) |
| <code>issue 36669 should be able to change question data source to raw data after selecting saved question (metabase\#36669)</code> | Unable to find an element with the text ""Orders 36669"" within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52688?repo=metabase/metabase&commitHash=851e6ff7b2cbf38778c0cc4364f48be56b4e9570&utm_source=gh-comment&runConclusion=FAILURE&runId=c904f3ed-2b0c-5ee9-bdd0-46510a6fe574) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52688?repo=metabase/metabase&commitHash=851e6ff7b2cbf38778c0cc4364f48be56b4e9570&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-27 15:10:57 UTC): ## e2e tests failed on `851e6ff7b2cbf38778c0cc4364f48be56b4e9570-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12991722088?pr=52688)

  File | Test Name
  ---- | ---------
  `reproductions.cy.spec.js` | issue 29378 > should not crash the model detail page after searching for an action (metabase#29378)

"
2810218606,pull_request,closed,,"🤖 backported ""Fix flaky date-string->range driver test""",#52590,github-automation-metabase,2025-01-24 19:14:47+00:00,"['rileythomp', 'github-automation-metabase']",2025-01-27 16:20:35+00:00,2025-01-27 15:53:55+00:00,https://github.com/metabase/metabase/pull/52685,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2613278357, 'issue_id': 2810218606, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/121130_tests-55afe51c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52685?repo=metabase/metabase&commitHash=55afe51cc84951435431976dab0f0be9f0ef0d38&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/9-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52685?repo=metabase/metabase&commitHash=55afe51cc84951435431976dab0f0be9f0ef0d38&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52685?repo=metabase/metabase&commitHash=55afe51cc84951435431976dab0f0be9f0ef0d38&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52685?repo=metabase/metabase&commitHash=55afe51cc84951435431976dab0f0be9f0ef0d38&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>is-empty-not-empty-test-2</code> | The query failed because the table 'airport' was not found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52685?repo=metabase/metabase&commitHash=55afe51cc84951435431976dab0f0be9f0ef0d38&utm_source=gh-comment&runConclusion=FAILURE&runId=d0d56445-89aa-5989-8978-59f2508d70d1) |\n| <code>is-empty-not-empty-test-3</code> | The query failed because the table 'region' was not found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52685?repo=metabase/metabase&commitHash=55afe51cc84951435431976dab0f0be9f0ef0d38&utm_source=gh-comment&runConclusion=FAILURE&runId=8a218394-0376-5ce1-b1ea-5fe78a6d9e9b) |\n| <code>is-empty-not-empty-test</code> | The query processor failed to find a table in the Redshift database, resulting in an error. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52685?repo=metabase/metabase&commitHash=55afe51cc84951435431976dab0f0be9f0ef0d38&utm_source=gh-comment&runConclusion=FAILURE&runId=84352b2f-a36f-5e95-945f-1b195faa6283) |\n| <code>text-equals-nil-empty-string-test</code> | No table 'region' found in the Redshift database 'airports (redshift)' when trying to run a query. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52685?repo=metabase/metabase&commitHash=55afe51cc84951435431976dab0f0be9f0ef0d38&utm_source=gh-comment&runConclusion=FAILURE&runId=4285f187-8b2b-530f-b87a-90667c0628cc) |\n\n[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52685?repo=metabase/metabase&commitHash=55afe51cc84951435431976dab0f0be9f0ef0d38&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52685?repo=metabase/metabase&commitHash=55afe51cc84951435431976dab0f0be9f0ef0d38&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 24, 19, 55, 39, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-24 19:55:39 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/121130_tests-55afe51c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52685?repo=metabase/metabase&commitHash=55afe51cc84951435431976dab0f0be9f0ef0d38&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/9-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52685?repo=metabase/metabase&commitHash=55afe51cc84951435431976dab0f0be9f0ef0d38&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52685?repo=metabase/metabase&commitHash=55afe51cc84951435431976dab0f0be9f0ef0d38&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52685?repo=metabase/metabase&commitHash=55afe51cc84951435431976dab0f0be9f0ef0d38&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>is-empty-not-empty-test-2</code> | The query failed because the table 'airport' was not found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52685?repo=metabase/metabase&commitHash=55afe51cc84951435431976dab0f0be9f0ef0d38&utm_source=gh-comment&runConclusion=FAILURE&runId=d0d56445-89aa-5989-8978-59f2508d70d1) |
| <code>is-empty-not-empty-test-3</code> | The query failed because the table 'region' was not found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52685?repo=metabase/metabase&commitHash=55afe51cc84951435431976dab0f0be9f0ef0d38&utm_source=gh-comment&runConclusion=FAILURE&runId=8a218394-0376-5ce1-b1ea-5fe78a6d9e9b) |
| <code>is-empty-not-empty-test</code> | The query processor failed to find a table in the Redshift database, resulting in an error. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52685?repo=metabase/metabase&commitHash=55afe51cc84951435431976dab0f0be9f0ef0d38&utm_source=gh-comment&runConclusion=FAILURE&runId=84352b2f-a36f-5e95-945f-1b195faa6283) |
| <code>text-equals-nil-empty-string-test</code> | No table 'region' found in the Redshift database 'airports (redshift)' when trying to run a query. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52685?repo=metabase/metabase&commitHash=55afe51cc84951435431976dab0f0be9f0ef0d38&utm_source=gh-comment&runConclusion=FAILURE&runId=4285f187-8b2b-530f-b87a-90667c0628cc) |

[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52685?repo=metabase/metabase&commitHash=55afe51cc84951435431976dab0f0be9f0ef0d38&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52685?repo=metabase/metabase&commitHash=55afe51cc84951435431976dab0f0be9f0ef0d38&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2810186508,pull_request,closed,,Add default_time_dimension_field_id and adhoc context handling,,metamben,2025-01-24 18:55:44+00:00,['metamben'],2025-01-24 20:48:10+00:00,2025-01-24 20:33:49+00:00,https://github.com/metabase/metabase/pull/52683,"[('Metabot/Tools', 'Tools that are agnostic of the LLM framework itself, could be reused for notifications framework als')]","[{'comment_id': 2613235065, 'issue_id': 2810186508, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/113362_tests-63aabfa8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52683?repo=metabase/metabase&commitHash=63aabfa8c8cdf8968fe4180f86d5962418ca4073&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/22-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52683?repo=metabase/metabase&commitHash=63aabfa8c8cdf8968fe4180f86d5962418ca4073&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52683?repo=metabase/metabase&commitHash=63aabfa8c8cdf8968fe4180f86d5962418ca4073&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52683?repo=metabase/metabase&commitHash=63aabfa8c8cdf8968fe4180f86d5962418ca4073&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > admin > people > group managers ""before each"" hook for ""after removing the last group redirects to the home page""</code> | Unable to find an element with the text ""Robert Tableton"" during a ""before each"" hook, which timed out after 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52683?repo=metabase/metabase&commitHash=63aabfa8c8cdf8968fe4180f86d5962418ca4073&utm_source=gh-comment&runConclusion=FAILURE&runId=9af7a2bb-65b1-5b42-812a-08b52328e29f) |\n| <code>issue 41765 re-syncing a database should invalidate the table cache (metabase\\#41765)</code> | The test timed out while trying to find an element with the text ""Scoreboard Actions"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52683?repo=metabase/metabase&commitHash=63aabfa8c8cdf8968fe4180f86d5962418ca4073&utm_source=gh-comment&runConclusion=FAILURE&runId=94f320ae-0daf-53a9-838c-9ca60bd7adf8) |\n| <code>scenarios > admin > people should unsubscribe a user from all subscriptions and alerts</code> | Unable to find an element with the text ""Bobby Tables"" within the allowed time. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52683?repo=metabase/metabase&commitHash=63aabfa8c8cdf8968fe4180f86d5962418ca4073&utm_source=gh-comment&runConclusion=FAILURE&runId=98c39243-ac71-5d11-a756-fa78c7dfa4a1) |\n| <code>scenarios > admin > people invite member when SSO is configured metabase\\#23630</code> | Unable to find a label with the text ""First name"" within the allowed time. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52683?repo=metabase/metabase&commitHash=63aabfa8c8cdf8968fe4180f86d5962418ca4073&utm_source=gh-comment&runConclusion=FAILURE&runId=37e49eef-ead9-507d-861f-092fad3b6332) |\n\n[... and 18 more](https://app.trunk.io/metabase/flaky-tests/pr/52683?repo=metabase/metabase&commitHash=63aabfa8c8cdf8968fe4180f86d5962418ca4073&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>create-dimension-validation-test</code> | Query execution failed due to an aborted transaction, possibly caused by a previous error. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52683?repo=metabase/metabase&commitHash=63aabfa8c8cdf8968fe4180f86d5962418ca4073&utm_source=gh-comment&runConclusion=FAILURE&runId=4de07be5-c85e-562d-8d87-dcb116cb15cf) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52683?repo=metabase/metabase&commitHash=63aabfa8c8cdf8968fe4180f86d5962418ca4073&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 19, 26, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613257317, 'issue_id': 2810186508, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `63aabfa8c8cdf8968fe4180f86d5962418ca4073-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12956306213?pr=52683)\n\n  File | Test Name\n  ---- | ---------\n  `people.cy.spec.js` | scenarios > admin > people > group managers > after removing the last group redirects to the home page', 'created_at': datetime.datetime(2025, 1, 24, 19, 41, 39, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-24 19:26:56 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/113362_tests-63aabfa8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52683?repo=metabase/metabase&commitHash=63aabfa8c8cdf8968fe4180f86d5962418ca4073&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/22-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52683?repo=metabase/metabase&commitHash=63aabfa8c8cdf8968fe4180f86d5962418ca4073&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52683?repo=metabase/metabase&commitHash=63aabfa8c8cdf8968fe4180f86d5962418ca4073&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52683?repo=metabase/metabase&commitHash=63aabfa8c8cdf8968fe4180f86d5962418ca4073&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > admin > people > group managers ""before each"" hook for ""after removing the last group redirects to the home page""</code> | Unable to find an element with the text ""Robert Tableton"" during a ""before each"" hook, which timed out after 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52683?repo=metabase/metabase&commitHash=63aabfa8c8cdf8968fe4180f86d5962418ca4073&utm_source=gh-comment&runConclusion=FAILURE&runId=9af7a2bb-65b1-5b42-812a-08b52328e29f) |
| <code>issue 41765 re-syncing a database should invalidate the table cache (metabase\#41765)</code> | The test timed out while trying to find an element with the text ""Scoreboard Actions"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52683?repo=metabase/metabase&commitHash=63aabfa8c8cdf8968fe4180f86d5962418ca4073&utm_source=gh-comment&runConclusion=FAILURE&runId=94f320ae-0daf-53a9-838c-9ca60bd7adf8) |
| <code>scenarios > admin > people should unsubscribe a user from all subscriptions and alerts</code> | Unable to find an element with the text ""Bobby Tables"" within the allowed time. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52683?repo=metabase/metabase&commitHash=63aabfa8c8cdf8968fe4180f86d5962418ca4073&utm_source=gh-comment&runConclusion=FAILURE&runId=98c39243-ac71-5d11-a756-fa78c7dfa4a1) |
| <code>scenarios > admin > people invite member when SSO is configured metabase\#23630</code> | Unable to find a label with the text ""First name"" within the allowed time. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52683?repo=metabase/metabase&commitHash=63aabfa8c8cdf8968fe4180f86d5962418ca4073&utm_source=gh-comment&runConclusion=FAILURE&runId=37e49eef-ead9-507d-861f-092fad3b6332) |

[... and 18 more](https://app.trunk.io/metabase/flaky-tests/pr/52683?repo=metabase/metabase&commitHash=63aabfa8c8cdf8968fe4180f86d5962418ca4073&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>create-dimension-validation-test</code> | Query execution failed due to an aborted transaction, possibly caused by a previous error. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52683?repo=metabase/metabase&commitHash=63aabfa8c8cdf8968fe4180f86d5962418ca4073&utm_source=gh-comment&runConclusion=FAILURE&runId=4de07be5-c85e-562d-8d87-dcb116cb15cf) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52683?repo=metabase/metabase&commitHash=63aabfa8c8cdf8968fe4180f86d5962418ca4073&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-24 19:41:39 UTC): ## e2e tests failed on `63aabfa8c8cdf8968fe4180f86d5962418ca4073-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12956306213?pr=52683)

  File | Test Name
  ---- | ---------
  `people.cy.spec.js` | scenarios > admin > people > group managers > after removing the last group redirects to the home page

"
2810137860,pull_request,closed,,Add caveat about SDK client filtering,,albertoperdomo,2025-01-24 18:33:57+00:00,['albertoperdomo'],2025-01-24 20:01:54+00:00,2025-01-24 19:58:50+00:00,https://github.com/metabase/metabase/pull/52681,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2810099293,pull_request,closed,,Proper title for cards when visualization is in error,"Closes #49348

### Description

Avoids setting the first series' name as the card title when the visualization is in error

### How to verify

1. Visualize the sample Products table as a bar chart
2. X-Axis breakouts can be Category then Vendor to get to over 100 series
3. Save it and drop it on a dashboard
4. The card's title should be something like `Products, Count, Grouped by Category and Vendor`

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",lorem--ipsum,2025-01-24 18:18:10+00:00,['lorem--ipsum'],2025-02-03 06:09:54+00:00,2025-02-03 06:09:52+00:00,https://github.com/metabase/metabase/pull/52680,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2613130627, 'issue_id': 2810099293, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 889664c71f695ca1021e5b0ba0c4703ad3bfe2c3...5a07b6dcc9bbb87002dcee89bec7b1a38cd7b572.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx<br>frontend/src/metabase/visualizations/components/Visualization/Visualization.unit.spec.js |', 'created_at': datetime.datetime(2025, 1, 24, 18, 19, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613227171, 'issue_id': 2810099293, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13638_tests-5a07b6dc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52680?repo=metabase/metabase&commitHash=5a07b6dcc9bbb87002dcee89bec7b1a38cd7b572&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52680?repo=metabase/metabase&commitHash=5a07b6dcc9bbb87002dcee89bec7b1a38cd7b572&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52680?repo=metabase/metabase&commitHash=5a07b6dcc9bbb87002dcee89bec7b1a38cd7b572&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52680?repo=metabase/metabase&commitHash=5a07b6dcc9bbb87002dcee89bec7b1a38cd7b572&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > pie chart should mute items in legend when hovering (metabase\\#29224)</code> | The expected attribute 'aria-current' with value 'true' was not found in an HTML element. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52680?repo=metabase/metabase&commitHash=5a07b6dcc9bbb87002dcee89bec7b1a38cd7b572&utm_source=gh-comment&runConclusion=FAILURE&runId=293c7fe2-9bb5-572a-be28-2d151bc1550c) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52680?repo=metabase/metabase&commitHash=5a07b6dcc9bbb87002dcee89bec7b1a38cd7b572&utm_source=gh-comment&runConclusion=FAILURE&runId=781e4508-3d8e-5532-a0c4-add80bbd476f) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52680?repo=metabase/metabase&commitHash=5a07b6dcc9bbb87002dcee89bec7b1a38cd7b572&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 24, 19, 21, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621144825, 'issue_id': 2810099293, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `5a07b6dcc9bbb87002dcee89bec7b1a38cd7b572-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13028293399?pr=52680)\n\n  File | Test Name\n  ---- | ---------\n  `pie_chart.cy.spec.js` | scenarios > visualizations > pie chart > should mute items in legend when hovering (metabase#29224)\n`permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)', 'created_at': datetime.datetime(2025, 1, 29, 9, 44, 17, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-24 18:19:42 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 889664c71f695ca1021e5b0ba0c4703ad3bfe2c3...5a07b6dcc9bbb87002dcee89bec7b1a38cd7b572.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx<br>frontend/src/metabase/visualizations/components/Visualization/Visualization.unit.spec.js |

trunk-io[bot] on (2025-01-24 19:21:46 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13638_tests-5a07b6dc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52680?repo=metabase/metabase&commitHash=5a07b6dcc9bbb87002dcee89bec7b1a38cd7b572&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52680?repo=metabase/metabase&commitHash=5a07b6dcc9bbb87002dcee89bec7b1a38cd7b572&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52680?repo=metabase/metabase&commitHash=5a07b6dcc9bbb87002dcee89bec7b1a38cd7b572&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52680?repo=metabase/metabase&commitHash=5a07b6dcc9bbb87002dcee89bec7b1a38cd7b572&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > pie chart should mute items in legend when hovering (metabase\#29224)</code> | The expected attribute 'aria-current' with value 'true' was not found in an HTML element. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52680?repo=metabase/metabase&commitHash=5a07b6dcc9bbb87002dcee89bec7b1a38cd7b572&utm_source=gh-comment&runConclusion=FAILURE&runId=293c7fe2-9bb5-572a-be28-2d151bc1550c) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52680?repo=metabase/metabase&commitHash=5a07b6dcc9bbb87002dcee89bec7b1a38cd7b572&utm_source=gh-comment&runConclusion=FAILURE&runId=781e4508-3d8e-5532-a0c4-add80bbd476f) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52680?repo=metabase/metabase&commitHash=5a07b6dcc9bbb87002dcee89bec7b1a38cd7b572&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-29 09:44:17 UTC): ## e2e tests failed on `5a07b6dcc9bbb87002dcee89bec7b1a38cd7b572-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13028293399?pr=52680)

  File | Test Name
  ---- | ---------
  `pie_chart.cy.spec.js` | scenarios > visualizations > pie chart > should mute items in legend when hovering (metabase#29224)
`permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)

"
2809971897,pull_request,open,,chore: clean js dist folder before the build,"[context](https://metaboat.slack.com/archives/C084XNEPH6K/p1737737162137859)

### Description

clean the dist folder before building uberjar

+ do not save hot files to the disk",uladzimirdev,2025-01-24 17:27:59+00:00,['uladzimirdev'],2025-02-04 09:13:45+00:00,,https://github.com/metabase/metabase/pull/52679,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2613154092, 'issue_id': 2809971897, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/95016_tests-b3bdd189-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52679?repo=metabase/metabase&commitHash=b3bdd189e3a5bc97cc264227937b78b0bcfbc51e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52679?repo=metabase/metabase&commitHash=b3bdd189e3a5bc97cc264227937b78b0bcfbc51e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52679?repo=metabase/metabase&commitHash=b3bdd189e3a5bc97cc264227937b78b0bcfbc51e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52679?repo=metabase/metabase&commitHash=b3bdd189e3a5bc97cc264227937b78b0bcfbc51e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 25144 should show Models tab after creation the first model (metabase\\#24878)</code> | The element with role \'tab\' and containing \'Collections\' was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52679?repo=metabase/metabase&commitHash=b3bdd189e3a5bc97cc264227937b78b0bcfbc51e&utm_source=gh-comment&runConclusion=FAILURE&runId=8bc5463f-0d6a-5ee2-b783-f2bbc8bc41b2) |\n| <code>issue 25144 should show Saved Questions tab after creating the first question (metabase\\#25144)</code> | The element with role \'tab\' and containing \'Collections\' was not found within 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52679?repo=metabase/metabase&commitHash=b3bdd189e3a5bc97cc264227937b78b0bcfbc51e&utm_source=gh-comment&runConclusion=FAILURE&runId=b52fcfd1-1d72-56ae-bae1-8072246f6fd7) |\n| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52679?repo=metabase/metabase&commitHash=b3bdd189e3a5bc97cc264227937b78b0bcfbc51e&utm_source=gh-comment&runConclusion=FAILURE&runId=4dbb20ac-7502-5e43-986c-fa62d046c6e5) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they were missing. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52679?repo=metabase/metabase&commitHash=b3bdd189e3a5bc97cc264227937b78b0bcfbc51e&utm_source=gh-comment&runConclusion=FAILURE&runId=b6359c5c-da66-5778-a986-b23dbcc4ec21) |\n| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52679?repo=metabase/metabase&commitHash=b3bdd189e3a5bc97cc264227937b78b0bcfbc51e&utm_source=gh-comment&runConclusion=FAILURE&runId=2a4b84f8-a4ce-511d-97fc-690489f79a42) |\n| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and \'Browse databases\' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52679?repo=metabase/metabase&commitHash=b3bdd189e3a5bc97cc264227937b78b0bcfbc51e&utm_source=gh-comment&runConclusion=FAILURE&runId=f6c52d84-c8d1-5c12-bfb4-b25501bafa80) |\n| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52679?repo=metabase/metabase&commitHash=b3bdd189e3a5bc97cc264227937b78b0bcfbc51e&utm_source=gh-comment&runConclusion=FAILURE&runId=c8906454-cfc6-55f3-9e1d-b075e9fd3d1d) |\n\n[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52679?repo=metabase/metabase&commitHash=b3bdd189e3a5bc97cc264227937b78b0bcfbc51e&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52679?repo=metabase/metabase&commitHash=b3bdd189e3a5bc97cc264227937b78b0bcfbc51e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 18, 34, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630623776, 'issue_id': 2809971897, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `b3bdd189e3a5bc97cc264227937b78b0bcfbc51e-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13111845184?pr=52679)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can share a dashboard card via public link\n`model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model\n`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette\n`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link\n`reproductions-2.cy.spec.js` | issue 25144 > should show Saved Questions tab after creating the first question (metabase#25144)\n`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results\n`reproductions-2.cy.spec.js` | issue 25144 > should show Models tab after creation the first model (metabase#24878)"", 'created_at': datetime.datetime(2025, 2, 3, 11, 2, 28, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-24 18:34:31 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/95016_tests-b3bdd189-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52679?repo=metabase/metabase&commitHash=b3bdd189e3a5bc97cc264227937b78b0bcfbc51e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52679?repo=metabase/metabase&commitHash=b3bdd189e3a5bc97cc264227937b78b0bcfbc51e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52679?repo=metabase/metabase&commitHash=b3bdd189e3a5bc97cc264227937b78b0bcfbc51e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52679?repo=metabase/metabase&commitHash=b3bdd189e3a5bc97cc264227937b78b0bcfbc51e&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 25144 should show Models tab after creation the first model (metabase\#24878)</code> | The element with role 'tab' and containing 'Collections' was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52679?repo=metabase/metabase&commitHash=b3bdd189e3a5bc97cc264227937b78b0bcfbc51e&utm_source=gh-comment&runConclusion=FAILURE&runId=8bc5463f-0d6a-5ee2-b783-f2bbc8bc41b2) |
| <code>issue 25144 should show Saved Questions tab after creating the first question (metabase\#25144)</code> | The element with role 'tab' and containing 'Collections' was not found within 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52679?repo=metabase/metabase&commitHash=b3bdd189e3a5bc97cc264227937b78b0bcfbc51e&utm_source=gh-comment&runConclusion=FAILURE&runId=b52fcfd1-1d72-56ae-bae1-8072246f6fd7) |
| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52679?repo=metabase/metabase&commitHash=b3bdd189e3a5bc97cc264227937b78b0bcfbc51e&utm_source=gh-comment&runConclusion=FAILURE&runId=4dbb20ac-7502-5e43-986c-fa62d046c6e5) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they were missing. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52679?repo=metabase/metabase&commitHash=b3bdd189e3a5bc97cc264227937b78b0bcfbc51e&utm_source=gh-comment&runConclusion=FAILURE&runId=b6359c5c-da66-5778-a986-b23dbcc4ec21) |
| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52679?repo=metabase/metabase&commitHash=b3bdd189e3a5bc97cc264227937b78b0bcfbc51e&utm_source=gh-comment&runConclusion=FAILURE&runId=2a4b84f8-a4ce-511d-97fc-690489f79a42) |
| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and 'Browse databases' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52679?repo=metabase/metabase&commitHash=b3bdd189e3a5bc97cc264227937b78b0bcfbc51e&utm_source=gh-comment&runConclusion=FAILURE&runId=f6c52d84-c8d1-5c12-bfb4-b25501bafa80) |
| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52679?repo=metabase/metabase&commitHash=b3bdd189e3a5bc97cc264227937b78b0bcfbc51e&utm_source=gh-comment&runConclusion=FAILURE&runId=c8906454-cfc6-55f3-9e1d-b075e9fd3d1d) |

[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52679?repo=metabase/metabase&commitHash=b3bdd189e3a5bc97cc264227937b78b0bcfbc51e&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52679?repo=metabase/metabase&commitHash=b3bdd189e3a5bc97cc264227937b78b0bcfbc51e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-02-03 11:02:28 UTC): ## e2e tests failed on `b3bdd189e3a5bc97cc264227937b78b0bcfbc51e-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13111845184?pr=52679)

  File | Test Name
  ---- | ---------
  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can share a dashboard card via public link
`model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model
`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette
`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link
`reproductions-2.cy.spec.js` | issue 25144 > should show Saved Questions tab after creating the first question (metabase#25144)
`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results
`reproductions-2.cy.spec.js` | issue 25144 > should show Models tab after creation the first model (metabase#24878)

"
2809954863,pull_request,closed,,Switch the uberjar build branch to metabot-v3-main,,metamben,2025-01-24 17:21:46+00:00,['metamben'],2025-01-24 17:32:41+00:00,2025-01-24 17:32:39+00:00,https://github.com/metabase/metabase/pull/52678,"[('Metabot/General', 'General Metabot AI')]","[{'comment_id': 2613039518, 'issue_id': 2809954863, 'author': 'retro', 'body': '@metamben I think we need to replace the branch name here too: https://github.com/metabase/metabase/blob/dc9c46c877b3d91e7184054190c17cba51394601/.github/workflows/uberjar.yml#L164-L166', 'created_at': datetime.datetime(2025, 1, 24, 17, 24, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613047110, 'issue_id': 2809954863, 'author': 'metamben', 'body': '> @metamben I think we need to replace the branch name here too:\r\n> \r\n> https://github.com/metabase/metabase/blob/dc9c46c877b3d91e7184054190c17cba51394601/.github/workflows/uberjar.yml#L164-L166\r\n\r\nDone.', 'created_at': datetime.datetime(2025, 1, 24, 17, 29, 16, tzinfo=datetime.timezone.utc)}]","retro on (2025-01-24 17:24:51 UTC): @metamben I think we need to replace the branch name here too: https://github.com/metabase/metabase/blob/dc9c46c877b3d91e7184054190c17cba51394601/.github/workflows/uberjar.yml#L164-L166

metamben (Issue Creator) on (2025-01-24 17:29:16 UTC): Done.

"
2809908056,pull_request,closed,,[testing] PR from a fork,testing,iethree,2025-01-24 17:00:16+00:00,[],2025-01-24 20:21:22+00:00,2025-01-24 20:21:22+00:00,https://github.com/metabase/metabase/pull/52676,[],[],
2809902935,pull_request,closed,,Label External PRs,"Any PR from a fork now gets the `External` label automatically.

?? will CI run at all from a fork?",iethree,2025-01-24 16:58:17+00:00,['iethree'],2025-01-24 20:33:46+00:00,2025-01-24 20:33:46+00:00,https://github.com/metabase/metabase/pull/52675,"[('.CI & Tests', ''), ('.Team/AdminWebapp', 'Admin and Webapp team'), ('External', 'PR from an external contributor.')]",[],
2809853981,pull_request,closed,,"🤖 backported ""Disable drill thrus for native queries with template-tag variables """,#52485,github-automation-metabase,2025-01-24 16:31:59+00:00,"['appleby', 'github-automation-metabase']",2025-01-24 18:26:06+00:00,2025-01-24 17:40:18+00:00,https://github.com/metabase/metabase/pull/52673,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2613100735, 'issue_id': 2809853981, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/132900_tests-182047c6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52673?repo=metabase/metabase&commitHash=182047c65308cd9218dea6bcdfb38247555453fe&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52673?repo=metabase/metabase&commitHash=182047c65308cd9218dea6bcdfb38247555453fe&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52673?repo=metabase/metabase&commitHash=182047c65308cd9218dea6bcdfb38247555453fe&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52673?repo=metabase/metabase&commitHash=182047c65308cd9218dea6bcdfb38247555453fe&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>later-page-fetch-throws-test</code> | BigQuery query failed to fetch a later page, expected an exception but got none. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52673?repo=metabase/metabase&commitHash=182047c65308cd9218dea6bcdfb38247555453fe&utm_source=gh-comment&runConclusion=FAILURE&runId=268197b4-b73f-5f54-97ed-979ff0589299) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52673?repo=metabase/metabase&commitHash=182047c65308cd9218dea6bcdfb38247555453fe&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 18, 1, 16, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-24 18:01:16 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/132900_tests-182047c6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52673?repo=metabase/metabase&commitHash=182047c65308cd9218dea6bcdfb38247555453fe&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52673?repo=metabase/metabase&commitHash=182047c65308cd9218dea6bcdfb38247555453fe&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52673?repo=metabase/metabase&commitHash=182047c65308cd9218dea6bcdfb38247555453fe&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52673?repo=metabase/metabase&commitHash=182047c65308cd9218dea6bcdfb38247555453fe&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>later-page-fetch-throws-test</code> | BigQuery query failed to fetch a later page, expected an exception but got none. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52673?repo=metabase/metabase&commitHash=182047c65308cd9218dea6bcdfb38247555453fe&utm_source=gh-comment&runConclusion=FAILURE&runId=268197b4-b73f-5f54-97ed-979ff0589299) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52673?repo=metabase/metabase&commitHash=182047c65308cd9218dea6bcdfb38247555453fe&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2809845725,pull_request,closed,,fix(sdk): Fix nextJS compatibility layer missing components,"Closes https://github.com/metabase/metabase/issues/52511

### Backport reason
We need to backport this as [our customer ran into this issue](https://metaboat.slack.com/archives/C063Q3F1HPF/p1737657965959669) on 52, now [they have downgraded to v51](https://metaboat.slack.com/archives/C063Q3F1HPF/p1737658288250829?thread_ts=1737657965.959669&cid=C063Q3F1HPF) as a temporary solution.

### Description

Fix missing nextJS compat because we manually set the components and subcomponents we want to add to `/nextjs` export. This solves the problem by automatically walking all the public React components and their subcomponents.

### How to verify
- Run `yarn embedding-sdk:generate-nextjs-compat` and check the content of `resources/embedding-sdk/dist/nextjs-no-ssr.js`
- Alternatively, you can also log `COMPONENTS_TO_EXPORT` in `enterprise/frontend/src/embedding-sdk/bin/generate-nextjs-compat.ts`, to see the result. And compare the result with our current SDK component public index file (`enterprise/frontend/src/embedding-sdk/components/public/index.ts`). Every top-level component should be included, and any component with sub-components should be included as well e.g. `InteractiveQuestion`.

### Demo

#### After
![Screenshot 2025-01-24 at 11 25 50 PM](https://github.com/user-attachments/assets/6066ad98-8c4a-4c7a-8e58-2ce5800201e5)
![Screenshot 2025-01-24 at 11 25 44 PM](https://github.com/user-attachments/assets/409f5228-0a64-4b2a-9d3c-bb278cc29601)


#### Before
![Screenshot 2025-01-24 at 11 20 46 PM](https://github.com/user-attachments/assets/4406921e-e6d6-4d05-84b7-0cdc6ae05704)


### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",WiNloSt,2025-01-24 16:27:51+00:00,['WiNloSt'],2025-01-27 14:11:33+00:00,2025-01-27 14:11:31+00:00,https://github.com/metabase/metabase/pull/52672,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2612926557, 'issue_id': 2809845725, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@WiNloSt You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2025, 1, 24, 16, 28, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615083099, 'issue_id': 2809845725, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13397_tests-5c07db08-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52672?repo=metabase/metabase&commitHash=5c07db0817b957aee72afb058fc517834ee69473&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52672?repo=metabase/metabase&commitHash=5c07db0817b957aee72afb058fc517834ee69473&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52672?repo=metabase/metabase&commitHash=5c07db0817b957aee72afb058fc517834ee69473&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52672?repo=metabase/metabase&commitHash=5c07db0817b957aee72afb058fc517834ee69473&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Dashboard > Dashboard Questions admin can find dashboard questions in the search</code> | The test timed out while trying to find an element with the text ""Total Orders Dashboard Question"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52672?repo=metabase/metabase&commitHash=5c07db0817b957aee72afb058fc517834ee69473&utm_source=gh-comment&runConclusion=FAILURE&runId=e265094d-448e-547e-8feb-3881b20b3920) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52672?repo=metabase/metabase&commitHash=5c07db0817b957aee72afb058fc517834ee69473&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 27, 8, 12, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615306971, 'issue_id': 2809845725, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `5c07db0817b957aee72afb058fc517834ee69473-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12986109781?pr=52672)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-questions.cy.spec.js` | Dashboard > Dashboard Questions > admin > can find dashboard questions in the search', 'created_at': datetime.datetime(2025, 1, 27, 9, 59, 26, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-24 16:28:10 UTC): <!---conventional commit reminder comment ID-->
@WiNloSt You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

trunk-io[bot] on (2025-01-27 08:12:22 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13397_tests-5c07db08-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52672?repo=metabase/metabase&commitHash=5c07db0817b957aee72afb058fc517834ee69473&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52672?repo=metabase/metabase&commitHash=5c07db0817b957aee72afb058fc517834ee69473&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52672?repo=metabase/metabase&commitHash=5c07db0817b957aee72afb058fc517834ee69473&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52672?repo=metabase/metabase&commitHash=5c07db0817b957aee72afb058fc517834ee69473&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Dashboard > Dashboard Questions admin can find dashboard questions in the search</code> | The test timed out while trying to find an element with the text ""Total Orders Dashboard Question"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52672?repo=metabase/metabase&commitHash=5c07db0817b957aee72afb058fc517834ee69473&utm_source=gh-comment&runConclusion=FAILURE&runId=e265094d-448e-547e-8feb-3881b20b3920) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52672?repo=metabase/metabase&commitHash=5c07db0817b957aee72afb058fc517834ee69473&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-27 09:59:26 UTC): ## e2e tests failed on `5c07db0817b957aee72afb058fc517834ee69473-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12986109781?pr=52672)

  File | Test Name
  ---- | ---------
  `dashboard-questions.cy.spec.js` | Dashboard > Dashboard Questions > admin > can find dashboard questions in the search

"
2809819999,pull_request,closed,,"🤖 backported ""Mark metrics-search as flaky""","  #52668
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-24 16:14:22+00:00,"['crisptrutski', 'github-automation-metabase']",2025-01-24 16:24:13+00:00,2025-01-24 16:24:13+00:00,https://github.com/metabase/metabase/pull/52671,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2612918676, 'issue_id': 2809819999, 'author': 'crisptrutski', 'body': ""Meh, not going to backport if there's a conflict. Hasn't flaked as much on 52."", 'created_at': datetime.datetime(2025, 1, 24, 16, 24, 13, tzinfo=datetime.timezone.utc)}]","crisptrutski (Assginee) on (2025-01-24 16:24:13 UTC): Meh, not going to backport if there's a conflict. Hasn't flaked as much on 52.

"
2809762465,pull_request,closed,,XLSX Export truncate String cells to 32767 chars [Clone PR to run CI],Clone of https://github.com/metabase/metabase/pull/51706,noahmoss,2025-01-24 15:46:09+00:00,['noahmoss'],2025-01-24 21:47:33+00:00,2025-01-24 21:47:32+00:00,https://github.com/metabase/metabase/pull/52670,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2612912692, 'issue_id': 2809762465, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `a593e1d8ce5b03d77994985546978e8bb03a14ba-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12953069532?pr=52670)\n\n  File | Test Name\n  ---- | ---------\n  `metrics-search.cy.spec.js` | scenarios > metrics > search > should see metrics in recent items in global search', 'created_at': datetime.datetime(2025, 1, 24, 16, 21, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612923253, 'issue_id': 2809762465, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/113245_tests-a593e1d8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52670?repo=metabase/metabase&commitHash=a593e1d8ce5b03d77994985546978e8bb03a14ba&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52670?repo=metabase/metabase&commitHash=a593e1d8ce5b03d77994985546978e8bb03a14ba&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52670?repo=metabase/metabase&commitHash=a593e1d8ce5b03d77994985546978e8bb03a14ba&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52670?repo=metabase/metabase&commitHash=a593e1d8ce5b03d77994985546978e8bb03a14ba&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > metrics > search should see metrics in recent items in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52670?repo=metabase/metabase&commitHash=a593e1d8ce5b03d77994985546978e8bb03a14ba&utm_source=gh-comment&runConclusion=FAILURE&runId=c8760e83-51be-5f29-8bf9-1b1d47218c68) |\n| <code>scenarios > metrics > search should be able to search for metrics on the search page</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52670?repo=metabase/metabase&commitHash=a593e1d8ce5b03d77994985546978e8bb03a14ba&utm_source=gh-comment&runConclusion=FAILURE&runId=a140c351-90eb-50e3-b4df-fa88ca143a28) |\n| <code>scenarios > metrics > search should be able to search for metrics in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52670?repo=metabase/metabase&commitHash=a593e1d8ce5b03d77994985546978e8bb03a14ba&utm_source=gh-comment&runConclusion=FAILURE&runId=5b62c4b8-4f5e-5b1d-9b23-e3c256b1448f) |\n| <code>aggregate-breakout-expression-test</code> | Job aborted due to stage failure: Task serialization failed: java.lang.OutOfMemoryError: Java heap space | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52670?repo=metabase/metabase&commitHash=a593e1d8ce5b03d77994985546978e8bb03a14ba&utm_source=gh-comment&runConclusion=FAILURE&runId=8bf265fa-ccfb-51be-8c62-f9778bcc10a1) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52670?repo=metabase/metabase&commitHash=a593e1d8ce5b03d77994985546978e8bb03a14ba&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 16, 26, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612974595, 'issue_id': 2809762465, 'author': 'givemesomefaces', 'body': ""Hi @noahmoss,  Some checks have failed. Is it related to the code in this PR? I can't tell."", 'created_at': datetime.datetime(2025, 1, 24, 16, 52, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613370819, 'issue_id': 2809762465, 'author': 'noahmoss', 'body': ""@givemesomefaces No, they're almost certain flakes. I've kicked off reruns"", 'created_at': datetime.datetime(2025, 1, 24, 21, 0, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613435672, 'issue_id': 2809762465, 'author': 'noahmoss', 'body': 'closing because the original has been merged', 'created_at': datetime.datetime(2025, 1, 24, 21, 47, 32, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-24 16:21:15 UTC): ## e2e tests failed on `a593e1d8ce5b03d77994985546978e8bb03a14ba-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12953069532?pr=52670)

  File | Test Name
  ---- | ---------
  `metrics-search.cy.spec.js` | scenarios > metrics > search > should see metrics in recent items in global search

trunk-io[bot] on (2025-01-24 16:26:32 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/113245_tests-a593e1d8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52670?repo=metabase/metabase&commitHash=a593e1d8ce5b03d77994985546978e8bb03a14ba&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52670?repo=metabase/metabase&commitHash=a593e1d8ce5b03d77994985546978e8bb03a14ba&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52670?repo=metabase/metabase&commitHash=a593e1d8ce5b03d77994985546978e8bb03a14ba&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52670?repo=metabase/metabase&commitHash=a593e1d8ce5b03d77994985546978e8bb03a14ba&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > metrics > search should see metrics in recent items in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52670?repo=metabase/metabase&commitHash=a593e1d8ce5b03d77994985546978e8bb03a14ba&utm_source=gh-comment&runConclusion=FAILURE&runId=c8760e83-51be-5f29-8bf9-1b1d47218c68) |
| <code>scenarios > metrics > search should be able to search for metrics on the search page</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52670?repo=metabase/metabase&commitHash=a593e1d8ce5b03d77994985546978e8bb03a14ba&utm_source=gh-comment&runConclusion=FAILURE&runId=a140c351-90eb-50e3-b4df-fa88ca143a28) |
| <code>scenarios > metrics > search should be able to search for metrics in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52670?repo=metabase/metabase&commitHash=a593e1d8ce5b03d77994985546978e8bb03a14ba&utm_source=gh-comment&runConclusion=FAILURE&runId=5b62c4b8-4f5e-5b1d-9b23-e3c256b1448f) |
| <code>aggregate-breakout-expression-test</code> | Job aborted due to stage failure: Task serialization failed: java.lang.OutOfMemoryError: Java heap space | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52670?repo=metabase/metabase&commitHash=a593e1d8ce5b03d77994985546978e8bb03a14ba&utm_source=gh-comment&runConclusion=FAILURE&runId=8bf265fa-ccfb-51be-8c62-f9778bcc10a1) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52670?repo=metabase/metabase&commitHash=a593e1d8ce5b03d77994985546978e8bb03a14ba&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

givemesomefaces on (2025-01-24 16:52:05 UTC): Hi @noahmoss,  Some checks have failed. Is it related to the code in this PR? I can't tell.

noahmoss (Issue Creator) on (2025-01-24 21:00:17 UTC): @givemesomefaces No, they're almost certain flakes. I've kicked off reruns

noahmoss (Issue Creator) on (2025-01-24 21:47:32 UTC): closing because the original has been merged

"
2809747281,pull_request,closed,,"🤖 backported ""Convert `LoadingAndErrorWrapper` to TS""","  #52475
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-24 15:38:31+00:00,"['oisincoveney', 'github-automation-metabase']",2025-01-30 21:23:50+00:00,2025-01-30 21:23:47+00:00,https://github.com/metabase/metabase/pull/52669,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2612926032, 'issue_id': 2809747281, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3705_tests-c2e928f1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52669?repo=metabase/metabase&commitHash=c2e928f1b0c54f5fe05ff3aae9a433ba99723db4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52669?repo=metabase/metabase&commitHash=c2e928f1b0c54f5fe05ff3aae9a433ba99723db4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52669?repo=metabase/metabase&commitHash=c2e928f1b0c54f5fe05ff3aae9a433ba99723db4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52669?repo=metabase/metabase&commitHash=c2e928f1b0c54f5fe05ff3aae9a433ba99723db4&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52669?repo=metabase/metabase&commitHash=c2e928f1b0c54f5fe05ff3aae9a433ba99723db4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 16, 27, 56, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-24 16:27:56 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3705_tests-c2e928f1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52669?repo=metabase/metabase&commitHash=c2e928f1b0c54f5fe05ff3aae9a433ba99723db4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52669?repo=metabase/metabase&commitHash=c2e928f1b0c54f5fe05ff3aae9a433ba99723db4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52669?repo=metabase/metabase&commitHash=c2e928f1b0c54f5fe05ff3aae9a433ba99723db4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52669?repo=metabase/metabase&commitHash=c2e928f1b0c54f5fe05ff3aae9a433ba99723db4&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52669?repo=metabase/metabase&commitHash=c2e928f1b0c54f5fe05ff3aae9a433ba99723db4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2809719073,pull_request,closed,,Mark metrics-search as flaky,"Accept reality, until we can fix the flakiness next week.",crisptrutski,2025-01-24 15:25:50+00:00,['crisptrutski'],2025-01-27 22:10:22+00:00,2025-01-24 16:13:31+00:00,https://github.com/metabase/metabase/pull/52668,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2612909376, 'issue_id': 2809719073, 'author': 'crisptrutski', 'body': 'Ah, thanks for the tip!', 'created_at': datetime.datetime(2025, 1, 24, 16, 19, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612910631, 'issue_id': 2809719073, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3686_tests-0332993d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52668?repo=metabase/metabase&commitHash=0332993d2b16a30774b0e0da2f15c22d67caa5e3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52668?repo=metabase/metabase&commitHash=0332993d2b16a30774b0e0da2f15c22d67caa5e3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52668?repo=metabase/metabase&commitHash=0332993d2b16a30774b0e0da2f15c22d67caa5e3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52668?repo=metabase/metabase&commitHash=0332993d2b16a30774b0e0da2f15c22d67caa5e3&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52668?repo=metabase/metabase&commitHash=0332993d2b16a30774b0e0da2f15c22d67caa5e3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 16, 20, 16, tzinfo=datetime.timezone.utc)}]","crisptrutski (Issue Creator) on (2025-01-24 16:19:41 UTC): Ah, thanks for the tip!

trunk-io[bot] on (2025-01-24 16:20:16 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3686_tests-0332993d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52668?repo=metabase/metabase&commitHash=0332993d2b16a30774b0e0da2f15c22d67caa5e3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52668?repo=metabase/metabase&commitHash=0332993d2b16a30774b0e0da2f15c22d67caa5e3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52668?repo=metabase/metabase&commitHash=0332993d2b16a30774b0e0da2f15c22d67caa5e3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52668?repo=metabase/metabase&commitHash=0332993d2b16a30774b0e0da2f15c22d67caa5e3&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52668?repo=metabase/metabase&commitHash=0332993d2b16a30774b0e0da2f15c22d67caa5e3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2809714268,pull_request,closed,,Embed releases  page in settings,"
### Description

Our existing data-based way of getting information about new versions into the admin settings is limited. Let's just embed our own webpage that we can update at will.

![Screen Shot 2025-01-24 at 8 20 41 AM](https://github.com/user-attachments/assets/5a50cc9a-5438-4d03-a9e5-971753634334)
",iethree,2025-01-24 15:23:27+00:00,['iethree'],2025-02-07 15:56:44+00:00,2025-02-07 15:56:44+00:00,https://github.com/metabase/metabase/pull/52667,"[('.Building & Releasing', ''), ('Administration/', ''), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2612826732, 'issue_id': 2809714268, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `e3e62a0534fe1b74608763dfa72b0b8ddccbfbe7-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12952503660?pr=52667)\n\n  File | Test Name\n  ---- | ---------\n  `legend.cy.spec.js` | scenarios > visualizations > legend > should toggle series visibility in the query builder', 'created_at': datetime.datetime(2025, 1, 24, 15, 40, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612916584, 'issue_id': 2809714268, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13388_tests-e3e62a05-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52667?repo=metabase/metabase&commitHash=e3e62a0534fe1b74608763dfa72b0b8ddccbfbe7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52667?repo=metabase/metabase&commitHash=e3e62a0534fe1b74608763dfa72b0b8ddccbfbe7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52667?repo=metabase/metabase&commitHash=e3e62a0534fe1b74608763dfa72b0b8ddccbfbe7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52667?repo=metabase/metabase&commitHash=e3e62a0534fe1b74608763dfa72b0b8ddccbfbe7&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > legend should toggle series visibility in the query builder</code> | The test timed out while trying to find an element with data-testid ""echarts-tooltip"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52667?repo=metabase/metabase&commitHash=e3e62a0534fe1b74608763dfa72b0b8ddccbfbe7&utm_source=gh-comment&runConclusion=FAILURE&runId=a67d5b9d-e7a0-5f75-b21d-944bd51157ea) |\n| <code>admin > settings > updates should show the updates page</code> | The test timed out while trying to find an element with the text ""Some old feature"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52667?repo=metabase/metabase&commitHash=e3e62a0534fe1b74608763dfa72b0b8ddccbfbe7&utm_source=gh-comment&runConclusion=FAILURE&runId=636dad97-a9ab-5298-89a3-658242deb28a) |\n| <code>admin > settings > updates should change release notes based on the selected update channel</code> | Unable to find an element with the text ""Some old feature"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52667?repo=metabase/metabase&commitHash=e3e62a0534fe1b74608763dfa72b0b8ddccbfbe7&utm_source=gh-comment&runConclusion=FAILURE&runId=52e22f72-b239-5020-862f-49baf509f22b) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52667?repo=metabase/metabase&commitHash=e3e62a0534fe1b74608763dfa72b0b8ddccbfbe7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 16, 23, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643324387, 'issue_id': 2809714268, 'author': 'iethree', 'body': ""closing for now, but we're on the way to making this possible: [DEV-96: Create embeddable releases webpage in docs](https://linear.app/metabase/issue/DEV-96/create-embeddable-releases-webpage-in-docs)"", 'created_at': datetime.datetime(2025, 2, 7, 15, 56, 44, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-24 15:40:33 UTC): ## e2e tests failed on `e3e62a0534fe1b74608763dfa72b0b8ddccbfbe7-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12952503660?pr=52667)

  File | Test Name
  ---- | ---------
  `legend.cy.spec.js` | scenarios > visualizations > legend > should toggle series visibility in the query builder

trunk-io[bot] on (2025-01-24 16:23:08 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13388_tests-e3e62a05-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52667?repo=metabase/metabase&commitHash=e3e62a0534fe1b74608763dfa72b0b8ddccbfbe7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52667?repo=metabase/metabase&commitHash=e3e62a0534fe1b74608763dfa72b0b8ddccbfbe7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52667?repo=metabase/metabase&commitHash=e3e62a0534fe1b74608763dfa72b0b8ddccbfbe7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52667?repo=metabase/metabase&commitHash=e3e62a0534fe1b74608763dfa72b0b8ddccbfbe7&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > legend should toggle series visibility in the query builder</code> | The test timed out while trying to find an element with data-testid ""echarts-tooltip"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52667?repo=metabase/metabase&commitHash=e3e62a0534fe1b74608763dfa72b0b8ddccbfbe7&utm_source=gh-comment&runConclusion=FAILURE&runId=a67d5b9d-e7a0-5f75-b21d-944bd51157ea) |
| <code>admin > settings > updates should show the updates page</code> | The test timed out while trying to find an element with the text ""Some old feature"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52667?repo=metabase/metabase&commitHash=e3e62a0534fe1b74608763dfa72b0b8ddccbfbe7&utm_source=gh-comment&runConclusion=FAILURE&runId=636dad97-a9ab-5298-89a3-658242deb28a) |
| <code>admin > settings > updates should change release notes based on the selected update channel</code> | Unable to find an element with the text ""Some old feature"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52667?repo=metabase/metabase&commitHash=e3e62a0534fe1b74608763dfa72b0b8ddccbfbe7&utm_source=gh-comment&runConclusion=FAILURE&runId=52e22f72-b239-5020-862f-49baf509f22b) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52667?repo=metabase/metabase&commitHash=e3e62a0534fe1b74608763dfa72b0b8ddccbfbe7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

iethree (Issue Creator) on (2025-02-07 15:56:44 UTC): closing for now, but we're on the way to making this possible: [DEV-96: Create embeddable releases webpage in docs](https://linear.app/metabase/issue/DEV-96/create-embeddable-releases-webpage-in-docs)

"
2809623140,pull_request,closed,,"🤖 backported ""Move weight updates to a PUT""","  #52582
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-24 14:41:36+00:00,"['crisptrutski', 'github-automation-metabase']",2025-01-27 15:41:48+00:00,2025-01-27 13:53:03+00:00,https://github.com/metabase/metabase/pull/52666,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2615737353, 'issue_id': 2809623140, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `f344e7c8dd2f65eb16a7800486241fb6c52e9b2e-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12989455747?pr=52666)\n\n  File | Test Name\n  ---- | ---------\n  `cleanup.cy.spec.js` | scenarios > collections > clean up > ee > clean up collection modal > should be able to clean up stale items', 'created_at': datetime.datetime(2025, 1, 27, 13, 16, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615803743, 'issue_id': 2809623140, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/4981_tests-402e3970-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52666?repo=metabase/metabase&commitHash=402e3970483be0ec0689fb5490ed5a5a60e5e705&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52666?repo=metabase/metabase&commitHash=402e3970483be0ec0689fb5490ed5a5a60e5e705&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52666?repo=metabase/metabase&commitHash=402e3970483be0ec0689fb5490ed5a5a60e5e705&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52666?repo=metabase/metabase&commitHash=402e3970483be0ec0689fb5490ed5a5a60e5e705&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52666?repo=metabase/metabase&commitHash=402e3970483be0ec0689fb5490ed5a5a60e5e705&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 27, 13, 45, 4, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-27 13:16:12 UTC): ## e2e tests failed on `f344e7c8dd2f65eb16a7800486241fb6c52e9b2e-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12989455747?pr=52666)

  File | Test Name
  ---- | ---------
  `cleanup.cy.spec.js` | scenarios > collections > clean up > ee > clean up collection modal > should be able to clean up stale items

trunk-io[bot] on (2025-01-27 13:45:04 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/4981_tests-402e3970-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52666?repo=metabase/metabase&commitHash=402e3970483be0ec0689fb5490ed5a5a60e5e705&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52666?repo=metabase/metabase&commitHash=402e3970483be0ec0689fb5490ed5a5a60e5e705&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52666?repo=metabase/metabase&commitHash=402e3970483be0ec0689fb5490ed5a5a60e5e705&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52666?repo=metabase/metabase&commitHash=402e3970483be0ec0689fb5490ed5a5a60e5e705&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52666?repo=metabase/metabase&commitHash=402e3970483be0ec0689fb5490ed5a5a60e5e705&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2809586941,pull_request,closed,,"🤖 backported ""start prometheus when sending metrics if it was not started yet""",#52652,github-automation-metabase,2025-01-24 14:25:30+00:00,"['piranha', 'github-automation-metabase']",2025-01-24 15:52:36+00:00,2025-01-24 15:10:34+00:00,https://github.com/metabase/metabase/pull/52665,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2612786611, 'issue_id': 2809586941, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/73183_tests-cc17553e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52665?repo=metabase/metabase&commitHash=cc17553eae80949a29ece8f7dc457133fae07c86&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52665?repo=metabase/metabase&commitHash=cc17553eae80949a29ece8f7dc457133fae07c86&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52665?repo=metabase/metabase&commitHash=cc17553eae80949a29ece8f7dc457133fae07c86&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52665?repo=metabase/metabase&commitHash=cc17553eae80949a29ece8f7dc457133fae07c86&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>test-breakout</code> | Error occurred while processing SQL query due to a null pointer exception in SQLServerResultSet. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52665?repo=metabase/metabase&commitHash=cc17553eae80949a29ece8f7dc457133fae07c86&utm_source=gh-comment&runConclusion=FAILURE&runId=a60b4022-fcf8-5ac8-97cf-9881f9e99ae7) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52665?repo=metabase/metabase&commitHash=cc17553eae80949a29ece8f7dc457133fae07c86&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 15, 22, 41, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-24 15:22:41 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/73183_tests-cc17553e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52665?repo=metabase/metabase&commitHash=cc17553eae80949a29ece8f7dc457133fae07c86&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52665?repo=metabase/metabase&commitHash=cc17553eae80949a29ece8f7dc457133fae07c86&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52665?repo=metabase/metabase&commitHash=cc17553eae80949a29ece8f7dc457133fae07c86&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52665?repo=metabase/metabase&commitHash=cc17553eae80949a29ece8f7dc457133fae07c86&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>test-breakout</code> | Error occurred while processing SQL query due to a null pointer exception in SQLServerResultSet. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52665?repo=metabase/metabase&commitHash=cc17553eae80949a29ece8f7dc457133fae07c86&utm_source=gh-comment&runConclusion=FAILURE&runId=a60b4022-fcf8-5ac8-97cf-9881f9e99ae7) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52665?repo=metabase/metabase&commitHash=cc17553eae80949a29ece8f7dc457133fae07c86&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2809585627,pull_request,closed,,"🤖 backported ""Remove an empty query stage after a drill from dashboards""","  #52631
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-24 14:24:52+00:00,"['ranquild', 'github-automation-metabase']",2025-01-24 16:17:03+00:00,2025-01-24 15:22:01+00:00,https://github.com/metabase/metabase/pull/52664,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2612855524, 'issue_id': 2809585627, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51943_tests-291a7994-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52664?repo=metabase/metabase&commitHash=291a7994b9a3d942ead0a514e839b9170816d9a6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52664?repo=metabase/metabase&commitHash=291a7994b9a3d942ead0a514e839b9170816d9a6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52664?repo=metabase/metabase&commitHash=291a7994b9a3d942ead0a514e839b9170816d9a6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52664?repo=metabase/metabase&commitHash=291a7994b9a3d942ead0a514e839b9170816d9a6&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52664?repo=metabase/metabase&commitHash=291a7994b9a3d942ead0a514e839b9170816d9a6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 15, 54, 26, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-24 15:54:26 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51943_tests-291a7994-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52664?repo=metabase/metabase&commitHash=291a7994b9a3d942ead0a514e839b9170816d9a6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52664?repo=metabase/metabase&commitHash=291a7994b9a3d942ead0a514e839b9170816d9a6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52664?repo=metabase/metabase&commitHash=291a7994b9a3d942ead0a514e839b9170816d9a6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52664?repo=metabase/metabase&commitHash=291a7994b9a3d942ead0a514e839b9170816d9a6&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52664?repo=metabase/metabase&commitHash=291a7994b9a3d942ead0a514e839b9170816d9a6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2809581590,pull_request,closed,,Fix metrics-search flakes ,"For now this is an awful fix using sleep. I have a more reliable fix in mind, but first want to confirm that the underlying issue is timing.

The nice fix might also take a minute, so it might be nice to merge this as a painkiller until Monday.",crisptrutski,2025-01-24 14:23:00+00:00,['crisptrutski'],2025-01-24 16:49:23+00:00,2025-01-24 16:06:20+00:00,https://github.com/metabase/metabase/pull/52663,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2612732610, 'issue_id': 2809581590, 'author': 'crisptrutski', 'body': 'I was going to declare victory, as the [stress test passed 20 times in a row](https://github.com/metabase/metabase/actions/runs/12951892128/job/36127955114). But the only important run failed. Snap.', 'created_at': datetime.datetime(2025, 1, 24, 14, 57, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612790001, 'issue_id': 2809581590, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3686_tests-050ec4b8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52663?repo=metabase/metabase&commitHash=050ec4b89d367cb27ff82e8eecd3624d09bf4192&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52663?repo=metabase/metabase&commitHash=050ec4b89d367cb27ff82e8eecd3624d09bf4192&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52663?repo=metabase/metabase&commitHash=050ec4b89d367cb27ff82e8eecd3624d09bf4192&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52663?repo=metabase/metabase&commitHash=050ec4b89d367cb27ff82e8eecd3624d09bf4192&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > metrics > search should be able to search for metrics on the search page</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52663?repo=metabase/metabase&commitHash=050ec4b89d367cb27ff82e8eecd3624d09bf4192&utm_source=gh-comment&runConclusion=FAILURE&runId=589c6730-7b56-590e-a048-7a7d977fcc54) |\n| <code>scenarios > metrics > search should see metrics in recent items in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52663?repo=metabase/metabase&commitHash=050ec4b89d367cb27ff82e8eecd3624d09bf4192&utm_source=gh-comment&runConclusion=FAILURE&runId=aeca97e5-3e10-56d1-b8c7-ac2fde332f4b) |\n| <code>scenarios > metrics > search should be able to search for metrics in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52663?repo=metabase/metabase&commitHash=050ec4b89d367cb27ff82e8eecd3624d09bf4192&utm_source=gh-comment&runConclusion=FAILURE&runId=30db3edd-b2e4-5cbc-86e9-07e172cc2fd0) |\n| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find a button with the name ""Done"" after 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52663?repo=metabase/metabase&commitHash=050ec4b89d367cb27ff82e8eecd3624d09bf4192&utm_source=gh-comment&runConclusion=FAILURE&runId=1106d0eb-ede0-5821-be11-5774dc4404fd) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52663?repo=metabase/metabase&commitHash=050ec4b89d367cb27ff82e8eecd3624d09bf4192&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 15, 24, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612804505, 'issue_id': 2809581590, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `050ec4b89d367cb27ff82e8eecd3624d09bf4192-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12952436348?pr=52663)\n\n  File | Test Name\n  ---- | ---------\n  `metrics-search.cy.spec.js` | scenarios > metrics > search > should see metrics in recent items in global search', 'created_at': datetime.datetime(2025, 1, 24, 15, 31, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612881420, 'issue_id': 2809581590, 'author': 'crisptrutski', 'body': 'Killing this, will open a new PR for trying a better approach', 'created_at': datetime.datetime(2025, 1, 24, 16, 6, 20, tzinfo=datetime.timezone.utc)}]","crisptrutski (Issue Creator) on (2025-01-24 14:57:34 UTC): I was going to declare victory, as the [stress test passed 20 times in a row](https://github.com/metabase/metabase/actions/runs/12951892128/job/36127955114). But the only important run failed. Snap.

trunk-io[bot] on (2025-01-24 15:24:14 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3686_tests-050ec4b8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52663?repo=metabase/metabase&commitHash=050ec4b89d367cb27ff82e8eecd3624d09bf4192&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52663?repo=metabase/metabase&commitHash=050ec4b89d367cb27ff82e8eecd3624d09bf4192&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52663?repo=metabase/metabase&commitHash=050ec4b89d367cb27ff82e8eecd3624d09bf4192&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52663?repo=metabase/metabase&commitHash=050ec4b89d367cb27ff82e8eecd3624d09bf4192&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > metrics > search should be able to search for metrics on the search page</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52663?repo=metabase/metabase&commitHash=050ec4b89d367cb27ff82e8eecd3624d09bf4192&utm_source=gh-comment&runConclusion=FAILURE&runId=589c6730-7b56-590e-a048-7a7d977fcc54) |
| <code>scenarios > metrics > search should see metrics in recent items in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52663?repo=metabase/metabase&commitHash=050ec4b89d367cb27ff82e8eecd3624d09bf4192&utm_source=gh-comment&runConclusion=FAILURE&runId=aeca97e5-3e10-56d1-b8c7-ac2fde332f4b) |
| <code>scenarios > metrics > search should be able to search for metrics in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52663?repo=metabase/metabase&commitHash=050ec4b89d367cb27ff82e8eecd3624d09bf4192&utm_source=gh-comment&runConclusion=FAILURE&runId=30db3edd-b2e4-5cbc-86e9-07e172cc2fd0) |
| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find a button with the name ""Done"" after 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52663?repo=metabase/metabase&commitHash=050ec4b89d367cb27ff82e8eecd3624d09bf4192&utm_source=gh-comment&runConclusion=FAILURE&runId=1106d0eb-ede0-5821-be11-5774dc4404fd) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52663?repo=metabase/metabase&commitHash=050ec4b89d367cb27ff82e8eecd3624d09bf4192&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-24 15:31:04 UTC): ## e2e tests failed on `050ec4b89d367cb27ff82e8eecd3624d09bf4192-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12952436348?pr=52663)

  File | Test Name
  ---- | ---------
  `metrics-search.cy.spec.js` | scenarios > metrics > search > should see metrics in recent items in global search

crisptrutski (Issue Creator) on (2025-01-24 16:06:20 UTC): Killing this, will open a new PR for trying a better approach

"
2809579851,pull_request,closed,,"🤖 backported ""Close clause popovers when dnd is active""",#52616,github-automation-metabase,2025-01-24 14:22:07+00:00,"['ranquild', 'github-automation-metabase']",2025-01-24 17:18:01+00:00,2025-01-24 16:14:36+00:00,https://github.com/metabase/metabase/pull/52662,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2612786888, 'issue_id': 2809579851, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/23657_tests-5eb4bfce-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52662?repo=metabase/metabase&commitHash=5eb4bfcedea7e8829fab88a7058e779680b0bcd7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52662?repo=metabase/metabase&commitHash=5eb4bfcedea7e8829fab88a7058e779680b0bcd7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52662?repo=metabase/metabase&commitHash=5eb4bfcedea7e8829fab88a7058e779680b0bcd7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52662?repo=metabase/metabase&commitHash=5eb4bfcedea7e8829fab88a7058e779680b0bcd7&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>useIsParameterPanelSticky sets isStickyStateChanging to true and false before and after isSticky is changed</code> | failure\\_text: Error: expect(received).toBe(expected) // Object.is equalityExpected: trueReceived: false    at Object.toBe (/home/runner/work/metab... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52662?repo=metabase/metabase&commitHash=5eb4bfcedea7e8829fab88a7058e779680b0bcd7&utm_source=gh-comment&runConclusion=FAILURE&runId=7249e9f5-453f-54cb-af82-63fc3e996891) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52662?repo=metabase/metabase&commitHash=5eb4bfcedea7e8829fab88a7058e779680b0bcd7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 15, 22, 48, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-24 15:22:48 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/23657_tests-5eb4bfce-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52662?repo=metabase/metabase&commitHash=5eb4bfcedea7e8829fab88a7058e779680b0bcd7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52662?repo=metabase/metabase&commitHash=5eb4bfcedea7e8829fab88a7058e779680b0bcd7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52662?repo=metabase/metabase&commitHash=5eb4bfcedea7e8829fab88a7058e779680b0bcd7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52662?repo=metabase/metabase&commitHash=5eb4bfcedea7e8829fab88a7058e779680b0bcd7&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>useIsParameterPanelSticky sets isStickyStateChanging to true and false before and after isSticky is changed</code> | failure\_text: Error: expect(received).toBe(expected) // Object.is equalityExpected: trueReceived: false    at Object.toBe (/home/runner/work/metab... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52662?repo=metabase/metabase&commitHash=5eb4bfcedea7e8829fab88a7058e779680b0bcd7&utm_source=gh-comment&runConclusion=FAILURE&runId=7249e9f5-453f-54cb-af82-63fc3e996891) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52662?repo=metabase/metabase&commitHash=5eb4bfcedea7e8829fab88a7058e779680b0bcd7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2809535156,pull_request,closed,,WIP: chore: deduplicate deps in yarn.lock,"> [!IMPORTANT]
> For those employed by Metabase: if you are merging into master, please add either a `backport` or a `no-backport` label to this PR. You will not be able to merge until you do this step. Refer to the section [Do I need to backport this PR?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#89f80d6f17714a0198aeb66c0efd1b71) in the Metabase Branching Strategy document for more details. If you're not employed by Metabase, this section does not apply to you, and the label will be taken care of by your reviewer.

> **Warning**
>
> If that is your first contribution to Metabase, please sign the [Contributor License Agreement](https://docs.google.com/a/metabase.com/forms/d/1oV38o7b9ONFSwuzwmERRMi9SYrhYeOrkbmNaq9pOJ_E/viewform) (unless it's a tiny documentation change). Also, if you're attempting to fix a translation issue, please submit your changes to our [POEditor project](https://poeditor.com/join/project/ynjQmwSsGh) instead of opening a PR.

Closes https://github.com/metabase/metabase/issues/[issue_number]

### Description

Describe the overall approach and the problem being solved.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> ...
2. ...

### Demo

_Upload a demo video or before/after screenshots if sensible or remove the section_

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",uladzimirdev,2025-01-24 14:01:59+00:00,['uladzimirdev'],2025-02-03 11:27:59+00:00,2025-02-03 11:27:59+00:00,https://github.com/metabase/metabase/pull/52661,"[('.Team/Querying', ''), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2612628078, 'issue_id': 2809535156, 'author': 'github-actions[bot]', 'body': '👋 Deploying a preview environment for commit f56cb4531a169ae93e49aa5a3fbb2cc258fdbb66.\n✅ Preview:\n    https://pr52661.coredev.metabase.com\n🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2025, 1, 24, 14, 12, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612634760, 'issue_id': 2809535156, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `f56cb4531a169ae93e49aa5a3fbb2cc258fdbb66-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12951112069?pr=52661)\n\n  File | Test Name\n  ---- | ---------\n  `metrics-search.cy.spec.js` | scenarios > metrics > search > should see metrics in recent items in global search', 'created_at': datetime.datetime(2025, 1, 24, 14, 15, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612731452, 'issue_id': 2809535156, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13386_tests-f56cb453-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52661?repo=metabase/metabase&commitHash=f56cb4531a169ae93e49aa5a3fbb2cc258fdbb66&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/19-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52661?repo=metabase/metabase&commitHash=f56cb4531a169ae93e49aa5a3fbb2cc258fdbb66&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52661?repo=metabase/metabase&commitHash=f56cb4531a169ae93e49aa5a3fbb2cc258fdbb66&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52661?repo=metabase/metabase&commitHash=f56cb4531a169ae93e49aa5a3fbb2cc258fdbb66&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > dashboard > filters > reset should reset a filters value when editing the default</code> | The \\`cy.click()\\` command failed because the button is disabled. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52661?repo=metabase/metabase&commitHash=f56cb4531a169ae93e49aa5a3fbb2cc258fdbb66&utm_source=gh-comment&runConclusion=FAILURE&runId=c6ff16ec-dba4-5350-8a42-89ecb1320742) |\n| <code>scenarios > dashboard > filters > reset should reset a filters value when editing the default, and leave other filters alone</code> | The \\`cy.click()\\` command failed because the button is disabled. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52661?repo=metabase/metabase&commitHash=f56cb4531a169ae93e49aa5a3fbb2cc258fdbb66&utm_source=gh-comment&runConclusion=FAILURE&runId=17f255c5-cc4f-51c6-9a4f-733ae8c1b2ab) |\n| <code>scenarios > dashboard > filters > SQL > text/category should work when set as the default filter and when that filter is removed (metabase\\#20493)</code> | The test timed out while trying to find an element with the text ""Gizmo"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52661?repo=metabase/metabase&commitHash=f56cb4531a169ae93e49aa5a3fbb2cc258fdbb66&utm_source=gh-comment&runConclusion=FAILURE&runId=4d3e25a0-2477-5827-aee3-da3e7972e3f1) |\n| <code>scenarios > dashboard > filters > number should support being required</code> | Unable to find an element with the placeholder text ""Enter a number"" within the allowed time. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52661?repo=metabase/metabase&commitHash=f56cb4531a169ae93e49aa5a3fbb2cc258fdbb66&utm_source=gh-comment&runConclusion=FAILURE&runId=5a77a85f-1e1d-5f29-a2c8-fec7f3824604) |\n\n[... and 15 more](https://app.trunk.io/metabase/flaky-tests/pr/52661?repo=metabase/metabase&commitHash=f56cb4531a169ae93e49aa5a3fbb2cc258fdbb66&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > metrics > search should be able to search for metrics in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52661?repo=metabase/metabase&commitHash=f56cb4531a169ae93e49aa5a3fbb2cc258fdbb66&utm_source=gh-comment&runConclusion=FAILURE&runId=95c99c6a-8503-53b9-86f9-91cf771d8112) |\n| <code>scenarios > metrics > search should see metrics in recent items in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52661?repo=metabase/metabase&commitHash=f56cb4531a169ae93e49aa5a3fbb2cc258fdbb66&utm_source=gh-comment&runConclusion=FAILURE&runId=a0f58fa9-8383-5084-b4b7-a94372b9dcde) |\n| <code>scenarios > metrics > search should be able to search for metrics on the search page</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52661?repo=metabase/metabase&commitHash=f56cb4531a169ae93e49aa5a3fbb2cc258fdbb66&utm_source=gh-comment&runConclusion=FAILURE&runId=59f9c17d-587e-5ed9-9bb3-174ce46ef93e) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52661?repo=metabase/metabase&commitHash=f56cb4531a169ae93e49aa5a3fbb2cc258fdbb66&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 14, 57, 2, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-24 14:12:49 UTC): 👋 Deploying a preview environment for commit f56cb4531a169ae93e49aa5a3fbb2cc258fdbb66.
✅ Preview:
    https://pr52661.coredev.metabase.com
🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

github-actions[bot] on (2025-01-24 14:15:43 UTC): ## e2e tests failed on `f56cb4531a169ae93e49aa5a3fbb2cc258fdbb66-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12951112069?pr=52661)

  File | Test Name
  ---- | ---------
  `metrics-search.cy.spec.js` | scenarios > metrics > search > should see metrics in recent items in global search

trunk-io[bot] on (2025-01-24 14:57:02 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13386_tests-f56cb453-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52661?repo=metabase/metabase&commitHash=f56cb4531a169ae93e49aa5a3fbb2cc258fdbb66&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/19-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52661?repo=metabase/metabase&commitHash=f56cb4531a169ae93e49aa5a3fbb2cc258fdbb66&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52661?repo=metabase/metabase&commitHash=f56cb4531a169ae93e49aa5a3fbb2cc258fdbb66&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52661?repo=metabase/metabase&commitHash=f56cb4531a169ae93e49aa5a3fbb2cc258fdbb66&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > dashboard > filters > reset should reset a filters value when editing the default</code> | The \`cy.click()\` command failed because the button is disabled. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52661?repo=metabase/metabase&commitHash=f56cb4531a169ae93e49aa5a3fbb2cc258fdbb66&utm_source=gh-comment&runConclusion=FAILURE&runId=c6ff16ec-dba4-5350-8a42-89ecb1320742) |
| <code>scenarios > dashboard > filters > reset should reset a filters value when editing the default, and leave other filters alone</code> | The \`cy.click()\` command failed because the button is disabled. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52661?repo=metabase/metabase&commitHash=f56cb4531a169ae93e49aa5a3fbb2cc258fdbb66&utm_source=gh-comment&runConclusion=FAILURE&runId=17f255c5-cc4f-51c6-9a4f-733ae8c1b2ab) |
| <code>scenarios > dashboard > filters > SQL > text/category should work when set as the default filter and when that filter is removed (metabase\#20493)</code> | The test timed out while trying to find an element with the text ""Gizmo"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52661?repo=metabase/metabase&commitHash=f56cb4531a169ae93e49aa5a3fbb2cc258fdbb66&utm_source=gh-comment&runConclusion=FAILURE&runId=4d3e25a0-2477-5827-aee3-da3e7972e3f1) |
| <code>scenarios > dashboard > filters > number should support being required</code> | Unable to find an element with the placeholder text ""Enter a number"" within the allowed time. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52661?repo=metabase/metabase&commitHash=f56cb4531a169ae93e49aa5a3fbb2cc258fdbb66&utm_source=gh-comment&runConclusion=FAILURE&runId=5a77a85f-1e1d-5f29-a2c8-fec7f3824604) |

[... and 15 more](https://app.trunk.io/metabase/flaky-tests/pr/52661?repo=metabase/metabase&commitHash=f56cb4531a169ae93e49aa5a3fbb2cc258fdbb66&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > metrics > search should be able to search for metrics in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52661?repo=metabase/metabase&commitHash=f56cb4531a169ae93e49aa5a3fbb2cc258fdbb66&utm_source=gh-comment&runConclusion=FAILURE&runId=95c99c6a-8503-53b9-86f9-91cf771d8112) |
| <code>scenarios > metrics > search should see metrics in recent items in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52661?repo=metabase/metabase&commitHash=f56cb4531a169ae93e49aa5a3fbb2cc258fdbb66&utm_source=gh-comment&runConclusion=FAILURE&runId=a0f58fa9-8383-5084-b4b7-a94372b9dcde) |
| <code>scenarios > metrics > search should be able to search for metrics on the search page</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52661?repo=metabase/metabase&commitHash=f56cb4531a169ae93e49aa5a3fbb2cc258fdbb66&utm_source=gh-comment&runConclusion=FAILURE&runId=59f9c17d-587e-5ed9-9bb3-174ce46ef93e) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52661?repo=metabase/metabase&commitHash=f56cb4531a169ae93e49aa5a3fbb2cc258fdbb66&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2809477301,pull_request,closed,,"🤖 backported ""Simplify and shorten upload table names""","  #52581
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-24 13:34:52+00:00,"['crisptrutski', 'github-automation-metabase']",2025-01-24 16:16:00+00:00,2025-01-24 15:09:39+00:00,https://github.com/metabase/metabase/pull/52660,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2612652521, 'issue_id': 2809477301, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/102534_tests-8d48f82c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52660?repo=metabase/metabase&commitHash=8d48f82ccff93320a14ad575f05aa50bf07834b2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52660?repo=metabase/metabase&commitHash=8d48f82ccff93320a14ad575f05aa50bf07834b2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52660?repo=metabase/metabase&commitHash=8d48f82ccff93320a14ad575f05aa50bf07834b2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52660?repo=metabase/metabase&commitHash=8d48f82ccff93320a14ad575f05aa50bf07834b2&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52660?repo=metabase/metabase&commitHash=8d48f82ccff93320a14ad575f05aa50bf07834b2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 14, 23, 42, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-24 14:23:42 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/102534_tests-8d48f82c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52660?repo=metabase/metabase&commitHash=8d48f82ccff93320a14ad575f05aa50bf07834b2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52660?repo=metabase/metabase&commitHash=8d48f82ccff93320a14ad575f05aa50bf07834b2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52660?repo=metabase/metabase&commitHash=8d48f82ccff93320a14ad575f05aa50bf07834b2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52660?repo=metabase/metabase&commitHash=8d48f82ccff93320a14ad575f05aa50bf07834b2&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52660?repo=metabase/metabase&commitHash=8d48f82ccff93320a14ad575f05aa50bf07834b2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2809268399,pull_request,closed,,support entity ids with /entity/ routes,"Closes https://github.com/metabase/metabase/issues/52320

# Description

This doesn't follow the original tech plan as we realized that [it caused fragility in the codebase](https://metaboat.slack.com/archives/C063Q3F1HPF/p1737657152097519).

We decided to go with a simpler approach of having a having a specific `/entity/` path, which is both easier to implement and safer.

# How to verify
To verify, you can open any dashboard or question, retrieve the entity id from the info sidebar (guarded by the serialization feature flag) and try to visit `/{resource}/entity/${entity-id}`.
It should keep any subpath and search parameter 

E2E tests are included for all the three resources supported (dashboard, collections, questions)",npretto,2025-01-24 11:57:26+00:00,['npretto'],2025-01-28 10:27:12+00:00,2025-01-28 10:03:23+00:00,https://github.com/metabase/metabase/pull/52659,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2612449352, 'issue_id': 2809268399, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13708_tests-b56d9e50-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52659?repo=metabase/metabase&commitHash=b56d9e507d1a2b8624c5862d0582705f5500fd93&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52659?repo=metabase/metabase&commitHash=b56d9e507d1a2b8624c5862d0582705f5500fd93&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/8-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52659?repo=metabase/metabase&commitHash=b56d9e507d1a2b8624c5862d0582705f5500fd93&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52659?repo=metabase/metabase&commitHash=b56d9e507d1a2b8624c5862d0582705f5500fd93&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52659?repo=metabase/metabase&commitHash=b56d9e507d1a2b8624c5862d0582705f5500fd93&utm_source=gh-comment&runConclusion=FAILURE&runId=3a9f4d61-6a08-5f91-8715-8523d7454ce6) |\n| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52659?repo=metabase/metabase&commitHash=b56d9e507d1a2b8624c5862d0582705f5500fd93&utm_source=gh-comment&runConclusion=FAILURE&runId=2d63d01c-0aa2-5ef6-b7aa-007eef70e2dc) |\n| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52659?repo=metabase/metabase&commitHash=b56d9e507d1a2b8624c5862d0582705f5500fd93&utm_source=gh-comment&runConclusion=FAILURE&runId=24edbb3d-2547-5d11-9b3e-c37dd2d9c402) |\n| <code>scenarios > browse (EE) /browse/models allows models to be filtered, on an enterprise instance</code> | Unable to find an accessible element with the role ""heading"" and name ""Model 1"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52659?repo=metabase/metabase&commitHash=b56d9e507d1a2b8624c5862d0582705f5500fd93&utm_source=gh-comment&runConclusion=FAILURE&runId=dbd97374-ec61-5322-b7c3-8ffaed5d0739) |\n\n[... and 4 more](https://app.trunk.io/metabase/flaky-tests/pr/52659?repo=metabase/metabase&commitHash=b56d9e507d1a2b8624c5862d0582705f5500fd93&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52659?repo=metabase/metabase&commitHash=b56d9e507d1a2b8624c5862d0582705f5500fd93&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 12, 45, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613144020, 'issue_id': 2809268399, 'author': 'npretto', 'body': '> I really like the simplicity of this!\r\n> \r\n> Nit: `/by-entity-id/` is a little technical and awkward. Could we maybe tap @jeff-bruemmer or someone in product for a more use-friendly string, maybe `/stable/` ?\r\n\r\nAsked in [our team channel](https://metaboat.slack.com/archives/C063Q3F1HPF/p1737737575517619?thread_ts=1737657152.097519&cid=C063Q3F1HPF), thanks for pointing that out!', 'created_at': datetime.datetime(2025, 1, 24, 18, 28, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618350975, 'issue_id': 2809268399, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `b56d9e507d1a2b8624c5862d0582705f5500fd93-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13006716192?pr=52659)\n\n  File | Test Name\n  ---- | ---------\n  `entity-picker.cy.spec.ts` | (_flaky_) scenarios > organization > entity picker > collection picker > should show dashboards in personal collections when apropriate, even if there are no sub collections', 'created_at': datetime.datetime(2025, 1, 28, 9, 2, 9, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-24 12:45:39 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13708_tests-b56d9e50-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52659?repo=metabase/metabase&commitHash=b56d9e507d1a2b8624c5862d0582705f5500fd93&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52659?repo=metabase/metabase&commitHash=b56d9e507d1a2b8624c5862d0582705f5500fd93&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/8-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52659?repo=metabase/metabase&commitHash=b56d9e507d1a2b8624c5862d0582705f5500fd93&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52659?repo=metabase/metabase&commitHash=b56d9e507d1a2b8624c5862d0582705f5500fd93&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52659?repo=metabase/metabase&commitHash=b56d9e507d1a2b8624c5862d0582705f5500fd93&utm_source=gh-comment&runConclusion=FAILURE&runId=3a9f4d61-6a08-5f91-8715-8523d7454ce6) |
| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52659?repo=metabase/metabase&commitHash=b56d9e507d1a2b8624c5862d0582705f5500fd93&utm_source=gh-comment&runConclusion=FAILURE&runId=2d63d01c-0aa2-5ef6-b7aa-007eef70e2dc) |
| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52659?repo=metabase/metabase&commitHash=b56d9e507d1a2b8624c5862d0582705f5500fd93&utm_source=gh-comment&runConclusion=FAILURE&runId=24edbb3d-2547-5d11-9b3e-c37dd2d9c402) |
| <code>scenarios > browse (EE) /browse/models allows models to be filtered, on an enterprise instance</code> | Unable to find an accessible element with the role ""heading"" and name ""Model 1"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52659?repo=metabase/metabase&commitHash=b56d9e507d1a2b8624c5862d0582705f5500fd93&utm_source=gh-comment&runConclusion=FAILURE&runId=dbd97374-ec61-5322-b7c3-8ffaed5d0739) |

[... and 4 more](https://app.trunk.io/metabase/flaky-tests/pr/52659?repo=metabase/metabase&commitHash=b56d9e507d1a2b8624c5862d0582705f5500fd93&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52659?repo=metabase/metabase&commitHash=b56d9e507d1a2b8624c5862d0582705f5500fd93&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

npretto (Issue Creator) on (2025-01-24 18:28:02 UTC): Asked in [our team channel](https://metaboat.slack.com/archives/C063Q3F1HPF/p1737737575517619?thread_ts=1737657152.097519&cid=C063Q3F1HPF), thanks for pointing that out!

github-actions[bot] on (2025-01-28 09:02:09 UTC): ## e2e tests failed on `b56d9e507d1a2b8624c5862d0582705f5500fd93-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13006716192?pr=52659)

  File | Test Name
  ---- | ---------
  `entity-picker.cy.spec.ts` | (_flaky_) scenarios > organization > entity picker > collection picker > should show dashboards in personal collections when apropriate, even if there are no sub collections

"
2809210821,pull_request,closed,,ci: simplify node_modules caching,"### Description

Caching yarn registry doesn't speed up node_modules installation a lot, but it takes ~1.7Gb of cache at GitHub, which should be optimized. 

With latest storybook migration we reduced size of node_modules, and now we can skip caching of yarn registry 

<img width=""946"" alt=""image"" src=""https://github.com/user-attachments/assets/0456d618-8a2f-47a9-9826-3727b1715029"" />
",uladzimirdev,2025-01-24 11:29:16+00:00,['uladzimirdev'],2025-01-29 13:29:22+00:00,2025-01-29 12:42:37+00:00,https://github.com/metabase/metabase/pull/52658,"[('.CI & Tests', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2612401297, 'issue_id': 2809210821, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/104719_tests-ed1d6766-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52658?repo=metabase/metabase&commitHash=ed1d67669e0f74a9854895fe924bfccc68d657f4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52658?repo=metabase/metabase&commitHash=ed1d67669e0f74a9854895fe924bfccc68d657f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52658?repo=metabase/metabase&commitHash=ed1d67669e0f74a9854895fe924bfccc68d657f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52658?repo=metabase/metabase&commitHash=ed1d67669e0f74a9854895fe924bfccc68d657f4&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52658?repo=metabase/metabase&commitHash=ed1d67669e0f74a9854895fe924bfccc68d657f4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 12, 21, 58, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-24 12:21:58 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/104719_tests-ed1d6766-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52658?repo=metabase/metabase&commitHash=ed1d67669e0f74a9854895fe924bfccc68d657f4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52658?repo=metabase/metabase&commitHash=ed1d67669e0f74a9854895fe924bfccc68d657f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52658?repo=metabase/metabase&commitHash=ed1d67669e0f74a9854895fe924bfccc68d657f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52658?repo=metabase/metabase&commitHash=ed1d67669e0f74a9854895fe924bfccc68d657f4&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52658?repo=metabase/metabase&commitHash=ed1d67669e0f74a9854895fe924bfccc68d657f4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2809175911,pull_request,open,,Fix tiny typo on `collections.md`,"> [!IMPORTANT]
> For those employed by Metabase: if you are merging into master, please add either a `backport` or a `no-backport` label to this PR. You will not be able to merge until you do this step. Refer to the section [Do I need to backport this PR?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#89f80d6f17714a0198aeb66c0efd1b71) in the Metabase Branching Strategy document for more details. If you're not employed by Metabase, this section does not apply to you, and the label will be taken care of by your reviewer.

> **Warning**
>
> If that is your first contribution to Metabase, please sign the [Contributor License Agreement](https://docs.google.com/a/metabase.com/forms/d/1oV38o7b9ONFSwuzwmERRMi9SYrhYeOrkbmNaq9pOJ_E/viewform) (unless it's a tiny documentation change). Also, if you're attempting to fix a translation issue, please submit your changes to our [POEditor project](https://poeditor.com/join/project/ynjQmwSsGh) instead of opening a PR.

### Description

Tiny documentation change. Just replacing a square bracket with a period in the docs. 

![image](https://github.com/user-attachments/assets/242e5737-61cf-4e36-996e-bf39a0681693)
",alanmmolina,2025-01-24 11:10:37+00:00,[],2025-01-28 12:46:12+00:00,,https://github.com/metabase/metabase/pull/52657,[],[],
2809174942,pull_request,closed,,chore: upgrade undici package with a security fix,"addresses https://github.com/metabase/metabase/pull/52493 properly

- upgrades undici
- removes resolution for source-map-js",uladzimirdev,2025-01-24 11:10:05+00:00,['uladzimirdev'],2025-01-27 22:10:24+00:00,2025-01-24 14:37:57+00:00,https://github.com/metabase/metabase/pull/52656,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2612314172, 'issue_id': 2809174942, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `97bcace743fa56dcb7f08409c55c8dc43135322a-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12948519738?pr=52656)\n\n  File | Test Name\n  ---- | ---------\n  `metrics-search.cy.spec.js` | scenarios > metrics > search > should see metrics in recent items in global search', 'created_at': datetime.datetime(2025, 1, 24, 11, 37, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612398134, 'issue_id': 2809174942, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13387_tests-97bcace7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52656?repo=metabase/metabase&commitHash=97bcace743fa56dcb7f08409c55c8dc43135322a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52656?repo=metabase/metabase&commitHash=97bcace743fa56dcb7f08409c55c8dc43135322a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52656?repo=metabase/metabase&commitHash=97bcace743fa56dcb7f08409c55c8dc43135322a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52656?repo=metabase/metabase&commitHash=97bcace743fa56dcb7f08409c55c8dc43135322a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > metrics > search should see metrics in recent items in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52656?repo=metabase/metabase&commitHash=97bcace743fa56dcb7f08409c55c8dc43135322a&utm_source=gh-comment&runConclusion=FAILURE&runId=0cd52392-b68c-53f0-a216-083005c53ce9) |\n| <code>scenarios > metrics > search should be able to search for metrics in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52656?repo=metabase/metabase&commitHash=97bcace743fa56dcb7f08409c55c8dc43135322a&utm_source=gh-comment&runConclusion=FAILURE&runId=1b6ec3f3-1f8a-51f7-ac4c-afdcef27ff67) |\n| <code>scenarios > metrics > search should be able to search for metrics on the search page</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52656?repo=metabase/metabase&commitHash=97bcace743fa56dcb7f08409c55c8dc43135322a&utm_source=gh-comment&runConclusion=FAILURE&runId=d3e5451e-6005-542e-9144-60730fabccc1) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52656?repo=metabase/metabase&commitHash=97bcace743fa56dcb7f08409c55c8dc43135322a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 12, 20, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612398135, 'issue_id': 2809174942, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13387_tests-97bcace7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52656?repo=metabase/metabase&commitHash=97bcace743fa56dcb7f08409c55c8dc43135322a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52656?repo=metabase/metabase&commitHash=97bcace743fa56dcb7f08409c55c8dc43135322a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52656?repo=metabase/metabase&commitHash=97bcace743fa56dcb7f08409c55c8dc43135322a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52656?repo=metabase/metabase&commitHash=97bcace743fa56dcb7f08409c55c8dc43135322a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > metrics > search should see metrics in recent items in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52656?repo=metabase/metabase&commitHash=97bcace743fa56dcb7f08409c55c8dc43135322a&utm_source=gh-comment&runConclusion=FAILURE&runId=0cd52392-b68c-53f0-a216-083005c53ce9) |\n| <code>scenarios > metrics > search should be able to search for metrics in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52656?repo=metabase/metabase&commitHash=97bcace743fa56dcb7f08409c55c8dc43135322a&utm_source=gh-comment&runConclusion=FAILURE&runId=1b6ec3f3-1f8a-51f7-ac4c-afdcef27ff67) |\n| <code>scenarios > metrics > search should be able to search for metrics on the search page</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52656?repo=metabase/metabase&commitHash=97bcace743fa56dcb7f08409c55c8dc43135322a&utm_source=gh-comment&runConclusion=FAILURE&runId=d3e5451e-6005-542e-9144-60730fabccc1) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52656?repo=metabase/metabase&commitHash=97bcace743fa56dcb7f08409c55c8dc43135322a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 12, 20, 42, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-24 11:37:17 UTC): ## e2e tests failed on `97bcace743fa56dcb7f08409c55c8dc43135322a-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12948519738?pr=52656)

  File | Test Name
  ---- | ---------
  `metrics-search.cy.spec.js` | scenarios > metrics > search > should see metrics in recent items in global search

trunk-io[bot] on (2025-01-24 12:20:42 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13387_tests-97bcace7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52656?repo=metabase/metabase&commitHash=97bcace743fa56dcb7f08409c55c8dc43135322a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52656?repo=metabase/metabase&commitHash=97bcace743fa56dcb7f08409c55c8dc43135322a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52656?repo=metabase/metabase&commitHash=97bcace743fa56dcb7f08409c55c8dc43135322a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52656?repo=metabase/metabase&commitHash=97bcace743fa56dcb7f08409c55c8dc43135322a&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > metrics > search should see metrics in recent items in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52656?repo=metabase/metabase&commitHash=97bcace743fa56dcb7f08409c55c8dc43135322a&utm_source=gh-comment&runConclusion=FAILURE&runId=0cd52392-b68c-53f0-a216-083005c53ce9) |
| <code>scenarios > metrics > search should be able to search for metrics in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52656?repo=metabase/metabase&commitHash=97bcace743fa56dcb7f08409c55c8dc43135322a&utm_source=gh-comment&runConclusion=FAILURE&runId=1b6ec3f3-1f8a-51f7-ac4c-afdcef27ff67) |
| <code>scenarios > metrics > search should be able to search for metrics on the search page</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52656?repo=metabase/metabase&commitHash=97bcace743fa56dcb7f08409c55c8dc43135322a&utm_source=gh-comment&runConclusion=FAILURE&runId=d3e5451e-6005-542e-9144-60730fabccc1) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52656?repo=metabase/metabase&commitHash=97bcace743fa56dcb7f08409c55c8dc43135322a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2025-01-24 12:20:42 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13387_tests-97bcace7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52656?repo=metabase/metabase&commitHash=97bcace743fa56dcb7f08409c55c8dc43135322a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52656?repo=metabase/metabase&commitHash=97bcace743fa56dcb7f08409c55c8dc43135322a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52656?repo=metabase/metabase&commitHash=97bcace743fa56dcb7f08409c55c8dc43135322a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52656?repo=metabase/metabase&commitHash=97bcace743fa56dcb7f08409c55c8dc43135322a&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > metrics > search should see metrics in recent items in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52656?repo=metabase/metabase&commitHash=97bcace743fa56dcb7f08409c55c8dc43135322a&utm_source=gh-comment&runConclusion=FAILURE&runId=0cd52392-b68c-53f0-a216-083005c53ce9) |
| <code>scenarios > metrics > search should be able to search for metrics in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52656?repo=metabase/metabase&commitHash=97bcace743fa56dcb7f08409c55c8dc43135322a&utm_source=gh-comment&runConclusion=FAILURE&runId=1b6ec3f3-1f8a-51f7-ac4c-afdcef27ff67) |
| <code>scenarios > metrics > search should be able to search for metrics on the search page</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52656?repo=metabase/metabase&commitHash=97bcace743fa56dcb7f08409c55c8dc43135322a&utm_source=gh-comment&runConclusion=FAILURE&runId=d3e5451e-6005-542e-9144-60730fabccc1) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52656?repo=metabase/metabase&commitHash=97bcace743fa56dcb7f08409c55c8dc43135322a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2809158189,pull_request,closed,,"🤖 backported ""fix: allow passing aggregation instead of expression""",  #52628,github-automation-metabase,2025-01-24 11:01:25+00:00,"['uladzimirdev', 'github-automation-metabase']",2025-01-24 15:50:21+00:00,2025-01-24 15:00:00+00:00,https://github.com/metabase/metabase/pull/52655,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2612352536, 'issue_id': 2809158189, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3702_tests-4e1de566-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52655?repo=metabase/metabase&commitHash=4e1de566edf4791798408d5ca074d13d6a31fd6f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52655?repo=metabase/metabase&commitHash=4e1de566edf4791798408d5ca074d13d6a31fd6f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52655?repo=metabase/metabase&commitHash=4e1de566edf4791798408d5ca074d13d6a31fd6f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52655?repo=metabase/metabase&commitHash=4e1de566edf4791798408d5ca074d13d6a31fd6f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52655?repo=metabase/metabase&commitHash=4e1de566edf4791798408d5ca074d13d6a31fd6f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 11, 56, 23, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-24 11:56:23 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3702_tests-4e1de566-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52655?repo=metabase/metabase&commitHash=4e1de566edf4791798408d5ca074d13d6a31fd6f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52655?repo=metabase/metabase&commitHash=4e1de566edf4791798408d5ca074d13d6a31fd6f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52655?repo=metabase/metabase&commitHash=4e1de566edf4791798408d5ca074d13d6a31fd6f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52655?repo=metabase/metabase&commitHash=4e1de566edf4791798408d5ca074d13d6a31fd6f&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52655?repo=metabase/metabase&commitHash=4e1de566edf4791798408d5ca074d13d6a31fd6f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2809114406,pull_request,closed,,"🤖 backported ""refactor(sdk): refactor use-embed-font hook""",#52447,github-automation-metabase,2025-01-24 10:38:57+00:00,"['sanex3339', 'github-automation-metabase']",2025-01-24 12:11:26+00:00,2025-01-24 11:06:59+00:00,https://github.com/metabase/metabase/pull/52653,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2612237124, 'issue_id': 2809114406, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `aa12d0782b6da1ca4987bacf7e1b58f1e5d358c8-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12948000363?pr=52653)\n\n  File | Test Name\n  ---- | ---------\n  `native-filters-reproductions.cy.spec.js` | (_flaky_) issue 29786 > should allow using field filters with null schema (metabase#29786)', 'created_at': datetime.datetime(2025, 1, 24, 10, 54, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612275889, 'issue_id': 2809114406, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13677_tests-aa12d078-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52653?repo=metabase/metabase&commitHash=aa12d0782b6da1ca4987bacf7e1b58f1e5d358c8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52653?repo=metabase/metabase&commitHash=aa12d0782b6da1ca4987bacf7e1b58f1e5d358c8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52653?repo=metabase/metabase&commitHash=aa12d0782b6da1ca4987bacf7e1b58f1e5d358c8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52653?repo=metabase/metabase&commitHash=aa12d0782b6da1ca4987bacf7e1b58f1e5d358c8&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 29786 should allow using field filters with null schema (metabase\\#29786)</code> | The \\`cy.click()\\` command failed because the button is disabled. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52653?repo=metabase/metabase&commitHash=aa12d0782b6da1ca4987bacf7e1b58f1e5d358c8&utm_source=gh-comment&runConclusion=FAILURE&runId=b2cf1573-7fc3-5a69-88c6-86f40609b043) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52653?repo=metabase/metabase&commitHash=aa12d0782b6da1ca4987bacf7e1b58f1e5d358c8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 11, 15, 41, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-24 10:54:03 UTC): ## e2e tests failed on `aa12d0782b6da1ca4987bacf7e1b58f1e5d358c8-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12948000363?pr=52653)

  File | Test Name
  ---- | ---------
  `native-filters-reproductions.cy.spec.js` | (_flaky_) issue 29786 > should allow using field filters with null schema (metabase#29786)

trunk-io[bot] on (2025-01-24 11:15:41 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13677_tests-aa12d078-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52653?repo=metabase/metabase&commitHash=aa12d0782b6da1ca4987bacf7e1b58f1e5d358c8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52653?repo=metabase/metabase&commitHash=aa12d0782b6da1ca4987bacf7e1b58f1e5d358c8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52653?repo=metabase/metabase&commitHash=aa12d0782b6da1ca4987bacf7e1b58f1e5d358c8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52653?repo=metabase/metabase&commitHash=aa12d0782b6da1ca4987bacf7e1b58f1e5d358c8&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 29786 should allow using field filters with null schema (metabase\#29786)</code> | The \`cy.click()\` command failed because the button is disabled. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52653?repo=metabase/metabase&commitHash=aa12d0782b6da1ca4987bacf7e1b58f1e5d358c8&utm_source=gh-comment&runConclusion=FAILURE&runId=b2cf1573-7fc3-5a69-88c6-86f40609b043) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52653?repo=metabase/metabase&commitHash=aa12d0782b6da1ca4987bacf7e1b58f1e5d358c8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2809076965,pull_request,closed,,start prometheus when sending metrics if it was not started yet,Hopefully that means we'll see initial indexing metrics in prometheus.,piranha,2025-01-24 10:20:27+00:00,['piranha'],2025-01-24 15:11:07+00:00,2025-01-24 14:24:21+00:00,https://github.com/metabase/metabase/pull/52652,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2612216370, 'issue_id': 2809076965, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/117234_tests-ccbcd700-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52652?repo=metabase/metabase&commitHash=ccbcd7004c72f018bef54cb9290784cf064c2011&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52652?repo=metabase/metabase&commitHash=ccbcd7004c72f018bef54cb9290784cf064c2011&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52652?repo=metabase/metabase&commitHash=ccbcd7004c72f018bef54cb9290784cf064c2011&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52652?repo=metabase/metabase&commitHash=ccbcd7004c72f018bef54cb9290784cf064c2011&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52652?repo=metabase/metabase&commitHash=ccbcd7004c72f018bef54cb9290784cf064c2011&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 10, 43, 8, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-24 10:43:08 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/117234_tests-ccbcd700-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52652?repo=metabase/metabase&commitHash=ccbcd7004c72f018bef54cb9290784cf064c2011&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52652?repo=metabase/metabase&commitHash=ccbcd7004c72f018bef54cb9290784cf064c2011&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52652?repo=metabase/metabase&commitHash=ccbcd7004c72f018bef54cb9290784cf064c2011&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52652?repo=metabase/metabase&commitHash=ccbcd7004c72f018bef54cb9290784cf064c2011&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52652?repo=metabase/metabase&commitHash=ccbcd7004c72f018bef54cb9290784cf064c2011&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2808946303,pull_request,closed,,Refactor - React Context in FilterModal,"This will help to make fix for #48319 easier and less verbose.

### Description

[Hiding whitespace changes](https://github.com/user-attachments/assets/85839bf8-4994-49d2-b662-2f7155808ed2) recommended.

- Introduces new React Context to `FilterModal` to avoid props drilling ([related Slack conversation](https://metaboat.slack.com/archives/C0645JP1W81/p1737645386714719))
- Removes `FilterModalHeader` which only wrapped `FilterSearchInput`
Backporting because fix for #48319 will depend on this PR.

### How to verify

- Everything works exactly like before, specifically the Filter Modal
- CI is green
",kamilmielnik,2025-01-24 09:20:38+00:00,['kamilmielnik'],2025-01-27 14:56:49+00:00,2025-01-27 10:17:45+00:00,https://github.com/metabase/metabase/pull/52651,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2612570718, 'issue_id': 2808946303, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13397_tests-41313c5b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52651?repo=metabase/metabase&commitHash=41313c5b66fcfd22c6d7126d1c92593d0777668d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52651?repo=metabase/metabase&commitHash=41313c5b66fcfd22c6d7126d1c92593d0777668d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52651?repo=metabase/metabase&commitHash=41313c5b66fcfd22c6d7126d1c92593d0777668d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52651?repo=metabase/metabase&commitHash=41313c5b66fcfd22c6d7126d1c92593d0777668d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 16559 should always show the most recent revision (metabase\\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52651?repo=metabase/metabase&commitHash=41313c5b66fcfd22c6d7126d1c92593d0777668d&utm_source=gh-comment&runConclusion=FAILURE&runId=5049a56c-1fb1-5aa9-88b0-0fae56b8e06d) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52651?repo=metabase/metabase&commitHash=41313c5b66fcfd22c6d7126d1c92593d0777668d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 13, 47, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615289629, 'issue_id': 2808946303, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `41313c5b66fcfd22c6d7126d1c92593d0777668d-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12986080490?pr=52651)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)', 'created_at': datetime.datetime(2025, 1, 27, 9, 51, 51, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-24 13:47:11 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13397_tests-41313c5b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52651?repo=metabase/metabase&commitHash=41313c5b66fcfd22c6d7126d1c92593d0777668d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52651?repo=metabase/metabase&commitHash=41313c5b66fcfd22c6d7126d1c92593d0777668d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52651?repo=metabase/metabase&commitHash=41313c5b66fcfd22c6d7126d1c92593d0777668d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52651?repo=metabase/metabase&commitHash=41313c5b66fcfd22c6d7126d1c92593d0777668d&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 16559 should always show the most recent revision (metabase\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52651?repo=metabase/metabase&commitHash=41313c5b66fcfd22c6d7126d1c92593d0777668d&utm_source=gh-comment&runConclusion=FAILURE&runId=5049a56c-1fb1-5aa9-88b0-0fae56b8e06d) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52651?repo=metabase/metabase&commitHash=41313c5b66fcfd22c6d7126d1c92593d0777668d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-27 09:51:51 UTC): ## e2e tests failed on `41313c5b66fcfd22c6d7126d1c92593d0777668d-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12986080490?pr=52651)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)

"
2808734243,pull_request,closed,,defendpoint 2.2: auto-infer route regexes based on schemas,"Actually defendpoint 1 had this since #28929 but I didn't realize it since the original behavior I wrote, `route-param-regex`, is still lying around unused -- I didn't realize we had a better way of doing things now.

This PR updates defendpoint 2 to have the same fancy technology defendpoint 1 has",camsaul,2025-01-24 07:29:28+00:00,['camsaul'],2025-01-27 22:10:12+00:00,2025-01-25 01:04:01+00:00,https://github.com/metabase/metabase/pull/52649,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2613414310, 'issue_id': 2808734243, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/94521_tests-9ffb8467-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52649?repo=metabase/metabase&commitHash=9ffb8467e2fbd45b7a37444783b1bd25463e704b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52649?repo=metabase/metabase&commitHash=9ffb8467e2fbd45b7a37444783b1bd25463e704b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52649?repo=metabase/metabase&commitHash=9ffb8467e2fbd45b7a37444783b1bd25463e704b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52649?repo=metabase/metabase&commitHash=9ffb8467e2fbd45b7a37444783b1bd25463e704b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>command palette should render a searchable command palette</code> | The expected attribute 'aria-selected' with value 'true' was not found on the element '<div\\#kbar-listbox-item-5>'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52649?repo=metabase/metabase&commitHash=9ffb8467e2fbd45b7a37444783b1bd25463e704b&utm_source=gh-comment&runConclusion=FAILURE&runId=c8108f49-f4e5-5f84-8bf8-91ae29f6d506) |\n| <code>describe-view-fields</code> | The expected and actual values of non-view-fields and view-fields are not equal. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52649?repo=metabase/metabase&commitHash=9ffb8467e2fbd45b7a37444783b1bd25463e704b&utm_source=gh-comment&runConclusion=FAILURE&runId=f819202a-d8b2-51ee-a0ab-c0258a6188e5) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52649?repo=metabase/metabase&commitHash=9ffb8467e2fbd45b7a37444783b1bd25463e704b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 24, 21, 32, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613414315, 'issue_id': 2808734243, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/25269_tests-411b1ac9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52649?repo=metabase/metabase&commitHash=411b1ac9a507f97b6d22c0762b8aacfc5ee854e3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52649?repo=metabase/metabase&commitHash=411b1ac9a507f97b6d22c0762b8aacfc5ee854e3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52649?repo=metabase/metabase&commitHash=411b1ac9a507f97b6d22c0762b8aacfc5ee854e3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52649?repo=metabase/metabase&commitHash=411b1ac9a507f97b6d22c0762b8aacfc5ee854e3&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52649?repo=metabase/metabase&commitHash=411b1ac9a507f97b6d22c0762b8aacfc5ee854e3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 21, 32, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613702190, 'issue_id': 2808734243, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `1fa4eb7c961e0ae2dd1ce2d2714b9ba9bb9f4c5b-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12960269434?pr=52649)\n\n  File | Test Name\n  ---- | ---------\n  `command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette', 'created_at': datetime.datetime(2025, 1, 25, 1, 19, 21, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-24 21:32:51 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/94521_tests-9ffb8467-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52649?repo=metabase/metabase&commitHash=9ffb8467e2fbd45b7a37444783b1bd25463e704b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52649?repo=metabase/metabase&commitHash=9ffb8467e2fbd45b7a37444783b1bd25463e704b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52649?repo=metabase/metabase&commitHash=9ffb8467e2fbd45b7a37444783b1bd25463e704b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52649?repo=metabase/metabase&commitHash=9ffb8467e2fbd45b7a37444783b1bd25463e704b&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>command palette should render a searchable command palette</code> | The expected attribute 'aria-selected' with value 'true' was not found on the element '<div\#kbar-listbox-item-5>'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52649?repo=metabase/metabase&commitHash=9ffb8467e2fbd45b7a37444783b1bd25463e704b&utm_source=gh-comment&runConclusion=FAILURE&runId=c8108f49-f4e5-5f84-8bf8-91ae29f6d506) |
| <code>describe-view-fields</code> | The expected and actual values of non-view-fields and view-fields are not equal. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52649?repo=metabase/metabase&commitHash=9ffb8467e2fbd45b7a37444783b1bd25463e704b&utm_source=gh-comment&runConclusion=FAILURE&runId=f819202a-d8b2-51ee-a0ab-c0258a6188e5) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52649?repo=metabase/metabase&commitHash=9ffb8467e2fbd45b7a37444783b1bd25463e704b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2025-01-24 21:32:51 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/25269_tests-411b1ac9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52649?repo=metabase/metabase&commitHash=411b1ac9a507f97b6d22c0762b8aacfc5ee854e3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52649?repo=metabase/metabase&commitHash=411b1ac9a507f97b6d22c0762b8aacfc5ee854e3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52649?repo=metabase/metabase&commitHash=411b1ac9a507f97b6d22c0762b8aacfc5ee854e3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52649?repo=metabase/metabase&commitHash=411b1ac9a507f97b6d22c0762b8aacfc5ee854e3&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52649?repo=metabase/metabase&commitHash=411b1ac9a507f97b6d22c0762b8aacfc5ee854e3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-25 01:19:21 UTC): ## e2e tests failed on `1fa4eb7c961e0ae2dd1ce2d2714b9ba9bb9f4c5b-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12960269434?pr=52649)

  File | Test Name
  ---- | ---------
  `command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette

"
2808648351,pull_request,closed,,"🤖 backported ""Always schedule new trigger""",#52600,github-automation-metabase,2025-01-24 06:51:32+00:00,"['crisptrutski', 'github-automation-metabase']",2025-01-24 08:06:33+00:00,2025-01-24 07:28:00+00:00,https://github.com/metabase/metabase/pull/52648,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2611763199, 'issue_id': 2808648351, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120885_tests-82abe186-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52648?repo=metabase/metabase&commitHash=82abe18667ab9d9fe08f9e099389a3ad1e2a9634&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52648?repo=metabase/metabase&commitHash=82abe18667ab9d9fe08f9e099389a3ad1e2a9634&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52648?repo=metabase/metabase&commitHash=82abe18667ab9d9fe08f9e099389a3ad1e2a9634&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52648?repo=metabase/metabase&commitHash=82abe18667ab9d9fe08f9e099389a3ad1e2a9634&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52648?repo=metabase/metabase&commitHash=82abe18667ab9d9fe08f9e099389a3ad1e2a9634&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 7, 14, 54, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-24 07:14:54 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120885_tests-82abe186-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52648?repo=metabase/metabase&commitHash=82abe18667ab9d9fe08f9e099389a3ad1e2a9634&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52648?repo=metabase/metabase&commitHash=82abe18667ab9d9fe08f9e099389a3ad1e2a9634&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52648?repo=metabase/metabase&commitHash=82abe18667ab9d9fe08f9e099389a3ad1e2a9634&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52648?repo=metabase/metabase&commitHash=82abe18667ab9d9fe08f9e099389a3ad1e2a9634&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52648?repo=metabase/metabase&commitHash=82abe18667ab9d9fe08f9e099389a3ad1e2a9634&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2808609589,pull_request,closed,,`defendpoint` 2.1: 3x performance boost,"- Change the `&request` anaphor introduced in #52570 to an optional 4th `request` parameter -- this lets us do Malli schema validation and decoding on the request as well
- Support `{:mulitpart true}` requests (from #52642)
- Support optional 5th and 6th `respond` and `raise` args for writing async handlers
- Update the endpoints in `geojson.clj` to use defendpoint 2
- Vastly more efficient compiled combined handler for a namespace finds correct matching handler and then calls it as opposed to trying every single handler one by one and then calling a fallback function -- **this also results in stacktraces that are dramatically shorter when API calls fail**. Combined handler also avoids a lot of unnecessary Compojure overhead that is unneeded or unused by our endpoints
- Eliminate need for separate `base-handler` and `route-handler` -- simpler macroexpansion 

## `defendpoint` 2 confirmed to be 3x faster than `defendpoint` 1

<details>

<summary>Methodology</summary>

I created 52 API endpoints like these with both defendpoint 1 and 2 in two separate namespaces:

```clj
(api/defendpoint GET  ""/a/:id"" [id] {id pos-int?} {:a id})
(api/defendpoint POST ""/a/:id"" [id] {id pos-int?} {:a id})
(api/defendpoint GET  ""/b/:id"" [id] {id pos-int?} {:b id})
(api/defendpoint POST ""/b/:id"" [id] {id pos-int?} {:b id})
(api/defendpoint GET  ""/c/:id"" [id] {id pos-int?} {:c id})
(api/defendpoint POST ""/c/:id"" [id] {id pos-int?} {:c id})
(api/defendpoint GET  ""/d/:id"" [id] {id pos-int?} {:d id})
(api/defendpoint POST ""/d/:id"" [id] {id pos-int?} {:d id})
(api/defendpoint GET  ""/e/:id"" [id] {id pos-int?} {:e id})
(api/defendpoint POST ""/e/:id"" [id] {id pos-int?} {:e id})
(api/defendpoint GET  ""/f/:id"" [id] {id pos-int?} {:f id})
(api/defendpoint POST ""/f/:id"" [id] {id pos-int?} {:f id})
(api/defendpoint GET  ""/g/:id"" [id] {id pos-int?} {:g id})
(api/defendpoint POST ""/g/:id"" [id] {id pos-int?} {:g id})
(api/defendpoint GET  ""/h/:id"" [id] {id pos-int?} {:h id})
(api/defendpoint POST ""/h/:id"" [id] {id pos-int?} {:h id})
(api/defendpoint GET  ""/i/:id"" [id] {id pos-int?} {:i id})
(api/defendpoint POST ""/i/:id"" [id] {id pos-int?} {:i id})
(api/defendpoint GET  ""/j/:id"" [id] {id pos-int?} {:j id})
(api/defendpoint POST ""/j/:id"" [id] {id pos-int?} {:j id})
(api/defendpoint GET  ""/k/:id"" [id] {id pos-int?} {:k id})
(api/defendpoint POST ""/k/:id"" [id] {id pos-int?} {:k id})
(api/defendpoint GET  ""/l/:id"" [id] {id pos-int?} {:l id})
(api/defendpoint POST ""/l/:id"" [id] {id pos-int?} {:l id})
(api/defendpoint GET  ""/m/:id"" [id] {id pos-int?} {:m id})
(api/defendpoint POST ""/m/:id"" [id] {id pos-int?} {:m id})
(api/defendpoint GET  ""/n/:id"" [id] {id pos-int?} {:n id})
(api/defendpoint POST ""/n/:id"" [id] {id pos-int?} {:n id})
(api/defendpoint GET  ""/o/:id"" [id] {id pos-int?} {:o id})
(api/defendpoint POST ""/o/:id"" [id] {id pos-int?} {:o id})
(api/defendpoint GET  ""/p/:id"" [id] {id pos-int?} {:p id})
(api/defendpoint POST ""/p/:id"" [id] {id pos-int?} {:p id})
(api/defendpoint GET  ""/q/:id"" [id] {id pos-int?} {:q id})
(api/defendpoint POST ""/q/:id"" [id] {id pos-int?} {:q id})
(api/defendpoint GET  ""/r/:id"" [id] {id pos-int?} {:r id})
(api/defendpoint POST ""/r/:id"" [id] {id pos-int?} {:r id})
(api/defendpoint GET  ""/s/:id"" [id] {id pos-int?} {:s id})
(api/defendpoint POST ""/s/:id"" [id] {id pos-int?} {:s id})
(api/defendpoint GET  ""/t/:id"" [id] {id pos-int?} {:t id})
(api/defendpoint POST ""/t/:id"" [id] {id pos-int?} {:t id})
(api/defendpoint GET  ""/u/:id"" [id] {id pos-int?} {:u id})
(api/defendpoint POST ""/u/:id"" [id] {id pos-int?} {:u id})
(api/defendpoint GET  ""/v/:id"" [id] {id pos-int?} {:v id})
(api/defendpoint POST ""/v/:id"" [id] {id pos-int?} {:v id})
(api/defendpoint GET  ""/w/:id"" [id] {id pos-int?} {:w id})
(api/defendpoint POST ""/w/:id"" [id] {id pos-int?} {:w id})
(api/defendpoint GET  ""/x/:id"" [id] {id pos-int?} {:x id})
(api/defendpoint POST ""/x/:id"" [id] {id pos-int?} {:x id})
(api/defendpoint GET  ""/y/:id"" [id] {id pos-int?} {:y id})
(api/defendpoint POST ""/y/:id"" [id] {id pos-int?} {:y id})
(api/defendpoint GET  ""/z/:id"" [id] {id pos-int?} {:z id})
```

then I called the namespace handlers with a mock request like this:

```clj
(def mock-request
  {:accept         ""json""
   :headers        {""content-type"" ""application/json""}
   :request-method :get
   :uri            ""/api/b/100""
   :compojure/path ""/b/100""})

(defn raise [e] (throw e))

(defn x []
  (println ""legacy defendpoint"")
  (criterium.core/quick-bench (metabase.api.x/routes mock-request :body raise))

  (println ""defendpoint 2"")
  (criterium.core/quick-bench (metabase.api.y/routes mock-request :body raise)))
```

I tried this with both `/a/` (which should be the first handler tried) and with `/z` (which should be the last handler tried)

</details>

```
GET /api/a/100 

legacy defendpoint
Evaluation count : 45108 in 6 samples of 7518 calls.
             Execution time mean : 14.430447 µs
    Execution time std-deviation : 1.938135 µs
   Execution time lower quantile : 13.233018 µs ( 2.5%)
   Execution time upper quantile : 17.655664 µs (97.5%)
                   Overhead used : 1.516265 ns

defendpoint 2
Evaluation count : 238866 in 6 samples of 39811 calls.
             Execution time mean : 2.592549 µs
    Execution time std-deviation : 72.868994 ns
   Execution time lower quantile : 2.548722 µs ( 2.5%)
   Execution time upper quantile : 2.714488 µs (97.5%)
                   Overhead used : 1.516265 ns

GET /api/z/100 

legacy defendpoint
Evaluation count : 37098 in 6 samples of 6183 calls.
             Execution time mean : 18.804212 µs
    Execution time std-deviation : 3.387020 µs
   Execution time lower quantile : 16.269834 µs ( 2.5%)
   Execution time upper quantile : 23.285804 µs (97.5%)
                   Overhead used : 1.516265 ns

defendpoint 2
Evaluation count : 128124 in 6 samples of 21354 calls.
             Execution time mean : 6.331762 µs
    Execution time std-deviation : 1.938481 µs
   Execution time lower quantile : 4.639180 µs ( 2.5%)
   Execution time upper quantile : 9.507562 µs (97.5%)
                   Overhead used : 1.516265 ns
```",camsaul,2025-01-24 06:25:50+00:00,['camsaul'],2025-01-27 22:10:17+00:00,2025-01-24 20:14:08+00:00,https://github.com/metabase/metabase/pull/52647,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2611721935, 'issue_id': 2808609589, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `a9512c70936ccd3a2fc568aa4d7e6405120a6314-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12944576717?pr=52647)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)', 'created_at': datetime.datetime(2025, 1, 24, 6, 47, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2611749672, 'issue_id': 2808609589, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/113861_tests-a9512c70-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52647?repo=metabase/metabase&commitHash=a9512c70936ccd3a2fc568aa4d7e6405120a6314&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52647?repo=metabase/metabase&commitHash=a9512c70936ccd3a2fc568aa4d7e6405120a6314&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52647?repo=metabase/metabase&commitHash=a9512c70936ccd3a2fc568aa4d7e6405120a6314&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52647?repo=metabase/metabase&commitHash=a9512c70936ccd3a2fc568aa4d7e6405120a6314&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>e2e-storage-ingestion-test</code> | Expected entity to match the expected value, but actual value was different. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52647?repo=metabase/metabase&commitHash=a9512c70936ccd3a2fc568aa4d7e6405120a6314&utm_source=gh-comment&runConclusion=FAILURE&runId=517e89df-c887-500c-bd32-06864f01fbc7) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 16559 should always show the most recent revision (metabase\\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52647?repo=metabase/metabase&commitHash=a9512c70936ccd3a2fc568aa4d7e6405120a6314&utm_source=gh-comment&runConclusion=FAILURE&runId=7d19ddd0-dfb4-5c81-bff8-a8d4cab81821) |\n| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52647?repo=metabase/metabase&commitHash=a9512c70936ccd3a2fc568aa4d7e6405120a6314&utm_source=gh-comment&runConclusion=FAILURE&runId=ae92ac2f-8cec-5fed-b769-8040801bd3f8) |\n| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52647?repo=metabase/metabase&commitHash=a9512c70936ccd3a2fc568aa4d7e6405120a6314&utm_source=gh-comment&runConclusion=FAILURE&runId=4c873e41-f39a-5f50-ac0b-336fffdac727) |\n| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52647?repo=metabase/metabase&commitHash=a9512c70936ccd3a2fc568aa4d7e6405120a6314&utm_source=gh-comment&runConclusion=FAILURE&runId=eba955fb-5a00-5c78-bb52-5855c51f96a9) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52647?repo=metabase/metabase&commitHash=a9512c70936ccd3a2fc568aa4d7e6405120a6314&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 7, 7, 38, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-24 06:47:27 UTC): ## e2e tests failed on `a9512c70936ccd3a2fc568aa4d7e6405120a6314-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12944576717?pr=52647)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)

trunk-io[bot] on (2025-01-24 07:07:38 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/113861_tests-a9512c70-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52647?repo=metabase/metabase&commitHash=a9512c70936ccd3a2fc568aa4d7e6405120a6314&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52647?repo=metabase/metabase&commitHash=a9512c70936ccd3a2fc568aa4d7e6405120a6314&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52647?repo=metabase/metabase&commitHash=a9512c70936ccd3a2fc568aa4d7e6405120a6314&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52647?repo=metabase/metabase&commitHash=a9512c70936ccd3a2fc568aa4d7e6405120a6314&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>e2e-storage-ingestion-test</code> | Expected entity to match the expected value, but actual value was different. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52647?repo=metabase/metabase&commitHash=a9512c70936ccd3a2fc568aa4d7e6405120a6314&utm_source=gh-comment&runConclusion=FAILURE&runId=517e89df-c887-500c-bd32-06864f01fbc7) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 16559 should always show the most recent revision (metabase\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52647?repo=metabase/metabase&commitHash=a9512c70936ccd3a2fc568aa4d7e6405120a6314&utm_source=gh-comment&runConclusion=FAILURE&runId=7d19ddd0-dfb4-5c81-bff8-a8d4cab81821) |
| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52647?repo=metabase/metabase&commitHash=a9512c70936ccd3a2fc568aa4d7e6405120a6314&utm_source=gh-comment&runConclusion=FAILURE&runId=ae92ac2f-8cec-5fed-b769-8040801bd3f8) |
| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52647?repo=metabase/metabase&commitHash=a9512c70936ccd3a2fc568aa4d7e6405120a6314&utm_source=gh-comment&runConclusion=FAILURE&runId=4c873e41-f39a-5f50-ac0b-336fffdac727) |
| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52647?repo=metabase/metabase&commitHash=a9512c70936ccd3a2fc568aa4d7e6405120a6314&utm_source=gh-comment&runConclusion=FAILURE&runId=eba955fb-5a00-5c78-bb52-5855c51f96a9) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52647?repo=metabase/metabase&commitHash=a9512c70936ccd3a2fc568aa4d7e6405120a6314&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2808402299,pull_request,closed,,Rewrite defendpoints in testing.clj and EE saml.clj,,camsaul,2025-01-24 03:18:29+00:00,['camsaul'],2025-01-27 22:10:13+00:00,2025-01-24 23:59:02+00:00,https://github.com/metabase/metabase/pull/52646,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2611495066, 'issue_id': 2808402299, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/96740_tests-851462b7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52646?repo=metabase/metabase&commitHash=851462b7e679e80e38f0d2df7ed15092a6f5b329&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52646?repo=metabase/metabase&commitHash=851462b7e679e80e38f0d2df7ed15092a6f5b329&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52646?repo=metabase/metabase&commitHash=851462b7e679e80e38f0d2df7ed15092a6f5b329&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52646?repo=metabase/metabase&commitHash=851462b7e679e80e38f0d2df7ed15092a6f5b329&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>filter-by-last-edited-at-test</code> | The expected result of a HTTP request was not as expected, the actual result was an empty set. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52646?repo=metabase/metabase&commitHash=851462b7e679e80e38f0d2df7ed15092a6f5b329&utm_source=gh-comment&runConclusion=FAILURE&runId=eff9bb85-e3d3-5fed-b642-75bdd25c8edc) |\n| <code>created-at-api-test</code> | Expected a set of available models to be equal to a certain set, but actual set was empty. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52646?repo=metabase/metabase&commitHash=851462b7e679e80e38f0d2df7ed15092a6f5b329&utm_source=gh-comment&runConclusion=FAILURE&runId=ff7563b4-55e6-5f6a-8eb1-4fa2bb573b77) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52646?repo=metabase/metabase&commitHash=851462b7e679e80e38f0d2df7ed15092a6f5b329&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 3, 47, 15, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-24 03:47:15 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/96740_tests-851462b7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52646?repo=metabase/metabase&commitHash=851462b7e679e80e38f0d2df7ed15092a6f5b329&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52646?repo=metabase/metabase&commitHash=851462b7e679e80e38f0d2df7ed15092a6f5b329&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52646?repo=metabase/metabase&commitHash=851462b7e679e80e38f0d2df7ed15092a6f5b329&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52646?repo=metabase/metabase&commitHash=851462b7e679e80e38f0d2df7ed15092a6f5b329&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>filter-by-last-edited-at-test</code> | The expected result of a HTTP request was not as expected, the actual result was an empty set. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52646?repo=metabase/metabase&commitHash=851462b7e679e80e38f0d2df7ed15092a6f5b329&utm_source=gh-comment&runConclusion=FAILURE&runId=eff9bb85-e3d3-5fed-b642-75bdd25c8edc) |
| <code>created-at-api-test</code> | Expected a set of available models to be equal to a certain set, but actual set was empty. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52646?repo=metabase/metabase&commitHash=851462b7e679e80e38f0d2df7ed15092a6f5b329&utm_source=gh-comment&runConclusion=FAILURE&runId=ff7563b4-55e6-5f6a-8eb1-4fa2bb573b77) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52646?repo=metabase/metabase&commitHash=851462b7e679e80e38f0d2df7ed15092a6f5b329&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2808384315,pull_request,closed,,Fix converting nested mongo questions to native,"Fixes https://github.com/metabase/metabase/issues/40557

For mongo queries, we should have used the `collection` field returned by `/api/dataset/native` endpoint to set the mongo collection, and do not compute it ourselves. The previous approach only worked for queries based on raw tables. There was an existing E2E repro that I un-ignored. ",ranquild,2025-01-24 03:02:35+00:00,['ranquild'],2025-01-27 14:52:36+00:00,2025-01-27 14:52:34+00:00,https://github.com/metabase/metabase/pull/52645,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2611497938, 'issue_id': 2808384315, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/41528_tests-297cb8e2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52645?repo=metabase/metabase&commitHash=297cb8e257268e1c4617e616dbaff6a5c5d4ed13&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52645?repo=metabase/metabase&commitHash=297cb8e257268e1c4617e616dbaff6a5c5d4ed13&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52645?repo=metabase/metabase&commitHash=297cb8e257268e1c4617e616dbaff6a5c5d4ed13&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52645?repo=metabase/metabase&commitHash=297cb8e257268e1c4617e616dbaff6a5c5d4ed13&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52645?repo=metabase/metabase&commitHash=297cb8e257268e1c4617e616dbaff6a5c5d4ed13&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 3, 49, 33, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-24 03:49:33 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/41528_tests-297cb8e2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52645?repo=metabase/metabase&commitHash=297cb8e257268e1c4617e616dbaff6a5c5d4ed13&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52645?repo=metabase/metabase&commitHash=297cb8e257268e1c4617e616dbaff6a5c5d4ed13&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52645?repo=metabase/metabase&commitHash=297cb8e257268e1c4617e616dbaff6a5c5d4ed13&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52645?repo=metabase/metabase&commitHash=297cb8e257268e1c4617e616dbaff6a5c5d4ed13&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52645?repo=metabase/metabase&commitHash=297cb8e257268e1c4617e616dbaff6a5c5d4ed13&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2808352678,pull_request,closed,,fix only one comparison can be added,"Closes https://github.com/metabase/metabase/issues/50686

### Description

Fixes when data contains only a single row it is not possible to add more than 1 comparison. 
The root cause is that when users clicked on ""Add comparison"", we created a default one with `COMPARISON_TYPES.PREVIOUS_PERIOD` type. However, with a single row there is no previous period so it was filtered out as an invalid one.

### How to verify

- Create a query `select 100 as total, 110 as forecast, 80 as last_year, now() as now`
- Make it a trend chart
- Try add two or more comparisons, ensure it works

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",alxnddr,2025-01-24 02:31:36+00:00,['alxnddr'],2025-01-27 16:11:19+00:00,2025-01-27 15:29:21+00:00,https://github.com/metabase/metabase/pull/52644,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2611459673, 'issue_id': 2808352678, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/22724_tests-b6e9dbb2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52644?repo=metabase/metabase&commitHash=b6e9dbb204e7f6f180afa255cc37212ae4a2d70e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52644?repo=metabase/metabase&commitHash=b6e9dbb204e7f6f180afa255cc37212ae4a2d70e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52644?repo=metabase/metabase&commitHash=b6e9dbb204e7f6f180afa255cc37212ae4a2d70e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52644?repo=metabase/metabase&commitHash=b6e9dbb204e7f6f180afa255cc37212ae4a2d70e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52644?repo=metabase/metabase&commitHash=b6e9dbb204e7f6f180afa255cc37212ae4a2d70e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 3, 16, 50, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-24 03:16:50 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/22724_tests-b6e9dbb2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52644?repo=metabase/metabase&commitHash=b6e9dbb204e7f6f180afa255cc37212ae4a2d70e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52644?repo=metabase/metabase&commitHash=b6e9dbb204e7f6f180afa255cc37212ae4a2d70e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52644?repo=metabase/metabase&commitHash=b6e9dbb204e7f6f180afa255cc37212ae4a2d70e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52644?repo=metabase/metabase&commitHash=b6e9dbb204e7f6f180afa255cc37212ae4a2d70e&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52644?repo=metabase/metabase&commitHash=b6e9dbb204e7f6f180afa255cc37212ae4a2d70e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2808288093,pull_request,closed,,Auto-rewrite defendpoint forms in table.clj,,camsaul,2025-01-24 01:27:50+00:00,['camsaul'],2025-01-27 22:10:10+00:00,2025-01-25 03:01:58+00:00,https://github.com/metabase/metabase/pull/52642,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2611406953, 'issue_id': 2808288093, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/100516_tests-79e8af0e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52642?repo=metabase/metabase&commitHash=79e8af0e7495676380a47a3c11f5b7788613b2ba&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/6-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52642?repo=metabase/metabase&commitHash=79e8af0e7495676380a47a3c11f5b7788613b2ba&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52642?repo=metabase/metabase&commitHash=79e8af0e7495676380a47a3c11f5b7788613b2ba&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52642?repo=metabase/metabase&commitHash=79e8af0e7495676380a47a3c11f5b7788613b2ba&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>count-of-grouping-test</code> | No table \'checkins\' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52642?repo=metabase/metabase&commitHash=79e8af0e7495676380a47a3c11f5b7788613b2ba&utm_source=gh-comment&runConclusion=FAILURE&runId=a3b3b3df-824e-5bb7-b126-0e9fdd4541b8) |\n| <code>count-of-grouping-test-2</code> | No table \'checkins\' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52642?repo=metabase/metabase&commitHash=79e8af0e7495676380a47a3c11f5b7788613b2ba&utm_source=gh-comment&runConclusion=FAILURE&runId=be31af3a-7320-5a98-99c7-17938c17fe0c) |\n| <code>test-bad-connection-detail-acquisition</code> | No table \'venues\' found in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52642?repo=metabase/metabase&commitHash=79e8af0e7495676380a47a3c11f5b7788613b2ba&utm_source=gh-comment&runConclusion=FAILURE&runId=13399035-35ec-5185-892a-5badd981f2e2) |\n| <code>describe-view-fields</code> | The expected and actual values of non-view-fields and view-fields are not equal. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52642?repo=metabase/metabase&commitHash=79e8af0e7495676380a47a3c11f5b7788613b2ba&utm_source=gh-comment&runConclusion=FAILURE&runId=42d79fb3-1b27-50f7-99b7-177587a51e58) |\n\n[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/52642?repo=metabase/metabase&commitHash=79e8af0e7495676380a47a3c11f5b7788613b2ba&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>redshift-types-test</code> | The Redshift database connection failed because the specified relation does not exist. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52642?repo=metabase/metabase&commitHash=79e8af0e7495676380a47a3c11f5b7788613b2ba&utm_source=gh-comment&runConclusion=FAILURE&runId=923b7485-05c0-5800-8a31-3c3fbc320cb5) |\n| <code>describe-database-sanity-check-test</code> | The table \'2025\\_01\\_24\\_dcc4ddba\\_9262\\_4a16\\_9873\\_5d5ac1bcba54\\_schema.fcfntguyjikocaonnprg\' does not exist in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52642?repo=metabase/metabase&commitHash=79e8af0e7495676380a47a3c11f5b7788613b2ba&utm_source=gh-comment&runConclusion=FAILURE&runId=a670d88f-72ba-5783-9f14-9dd046cb0e2c) |\n| <code>issue 16559 should always show the most recent revision (metabase\\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52642?repo=metabase/metabase&commitHash=79e8af0e7495676380a47a3c11f5b7788613b2ba&utm_source=gh-comment&runConclusion=FAILURE&runId=80d63e0e-4614-5e10-b891-040d4ffd4b69) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52642?repo=metabase/metabase&commitHash=79e8af0e7495676380a47a3c11f5b7788613b2ba&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 2, 24, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613505020, 'issue_id': 2808288093, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `79e8af0e7495676380a47a3c11f5b7788613b2ba-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12958465931?pr=52642)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)', 'created_at': datetime.datetime(2025, 1, 24, 22, 24, 3, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-24 02:24:18 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/100516_tests-79e8af0e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52642?repo=metabase/metabase&commitHash=79e8af0e7495676380a47a3c11f5b7788613b2ba&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/6-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52642?repo=metabase/metabase&commitHash=79e8af0e7495676380a47a3c11f5b7788613b2ba&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52642?repo=metabase/metabase&commitHash=79e8af0e7495676380a47a3c11f5b7788613b2ba&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52642?repo=metabase/metabase&commitHash=79e8af0e7495676380a47a3c11f5b7788613b2ba&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>count-of-grouping-test</code> | No table 'checkins' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52642?repo=metabase/metabase&commitHash=79e8af0e7495676380a47a3c11f5b7788613b2ba&utm_source=gh-comment&runConclusion=FAILURE&runId=a3b3b3df-824e-5bb7-b126-0e9fdd4541b8) |
| <code>count-of-grouping-test-2</code> | No table 'checkins' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52642?repo=metabase/metabase&commitHash=79e8af0e7495676380a47a3c11f5b7788613b2ba&utm_source=gh-comment&runConclusion=FAILURE&runId=be31af3a-7320-5a98-99c7-17938c17fe0c) |
| <code>test-bad-connection-detail-acquisition</code> | No table 'venues' found in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52642?repo=metabase/metabase&commitHash=79e8af0e7495676380a47a3c11f5b7788613b2ba&utm_source=gh-comment&runConclusion=FAILURE&runId=13399035-35ec-5185-892a-5badd981f2e2) |
| <code>describe-view-fields</code> | The expected and actual values of non-view-fields and view-fields are not equal. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52642?repo=metabase/metabase&commitHash=79e8af0e7495676380a47a3c11f5b7788613b2ba&utm_source=gh-comment&runConclusion=FAILURE&runId=42d79fb3-1b27-50f7-99b7-177587a51e58) |

[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/52642?repo=metabase/metabase&commitHash=79e8af0e7495676380a47a3c11f5b7788613b2ba&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>redshift-types-test</code> | The Redshift database connection failed because the specified relation does not exist. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52642?repo=metabase/metabase&commitHash=79e8af0e7495676380a47a3c11f5b7788613b2ba&utm_source=gh-comment&runConclusion=FAILURE&runId=923b7485-05c0-5800-8a31-3c3fbc320cb5) |
| <code>describe-database-sanity-check-test</code> | The table '2025\_01\_24\_dcc4ddba\_9262\_4a16\_9873\_5d5ac1bcba54\_schema.fcfntguyjikocaonnprg' does not exist in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52642?repo=metabase/metabase&commitHash=79e8af0e7495676380a47a3c11f5b7788613b2ba&utm_source=gh-comment&runConclusion=FAILURE&runId=a670d88f-72ba-5783-9f14-9dd046cb0e2c) |
| <code>issue 16559 should always show the most recent revision (metabase\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52642?repo=metabase/metabase&commitHash=79e8af0e7495676380a47a3c11f5b7788613b2ba&utm_source=gh-comment&runConclusion=FAILURE&runId=80d63e0e-4614-5e10-b891-040d4ffd4b69) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52642?repo=metabase/metabase&commitHash=79e8af0e7495676380a47a3c11f5b7788613b2ba&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-24 22:24:03 UTC): ## e2e tests failed on `79e8af0e7495676380a47a3c11f5b7788613b2ba-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12958465931?pr=52642)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)

"
2808269334,pull_request,closed,,Auto-rewrite even more defendpoints,Rewrite most of the stuff from namespaces with just one or two endpoint. Making 10 different PRs with one endpoint each seemed like too much work so I grouped them all together.,camsaul,2025-01-24 01:09:02+00:00,['camsaul'],2025-01-27 22:10:16+00:00,2025-01-24 20:16:16+00:00,https://github.com/metabase/metabase/pull/52641,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2611412538, 'issue_id': 2808269334, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/91062_tests-eed6d640-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52641?repo=metabase/metabase&commitHash=eed6d6404d788921e4520a9718b25752698d49e7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52641?repo=metabase/metabase&commitHash=eed6d6404d788921e4520a9718b25752698d49e7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52641?repo=metabase/metabase&commitHash=eed6d6404d788921e4520a9718b25752698d49e7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52641?repo=metabase/metabase&commitHash=eed6d6404d788921e4520a9718b25752698d49e7&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>question loading changes document title should verify document title changes while loading a slow question (metabase\\#40051)</code> | The expected text \'Doing science... · Metabase\' was not displayed within 4000ms, causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52641?repo=metabase/metabase&commitHash=eed6d6404d788921e4520a9718b25752698d49e7&utm_source=gh-comment&runConclusion=FAILURE&runId=26da4f27-12f4-5873-a0a0-0e9c4d482482) |\n| <code>issue 36669 should be able to change question data source to raw data after selecting saved question (metabase\\#36669)</code> | Unable to find an element with the text ""Orders 36669"" within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52641?repo=metabase/metabase&commitHash=eed6d6404d788921e4520a9718b25752698d49e7&utm_source=gh-comment&runConclusion=FAILURE&runId=e5e16525-88d7-554e-a2ce-2c0f291432ea) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52641?repo=metabase/metabase&commitHash=eed6d6404d788921e4520a9718b25752698d49e7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 2, 29, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2611453976, 'issue_id': 2808269334, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `eed6d6404d788921e4520a9718b25752698d49e7-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12942353755?pr=52641)\n\n  File | Test Name\n  ---- | ---------\n  `document-title.cy.spec.js` | question loading changes document title > should verify document title changes while loading a slow question (metabase#40051)', 'created_at': datetime.datetime(2025, 1, 24, 3, 11, 5, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-24 02:29:23 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/91062_tests-eed6d640-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52641?repo=metabase/metabase&commitHash=eed6d6404d788921e4520a9718b25752698d49e7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52641?repo=metabase/metabase&commitHash=eed6d6404d788921e4520a9718b25752698d49e7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52641?repo=metabase/metabase&commitHash=eed6d6404d788921e4520a9718b25752698d49e7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52641?repo=metabase/metabase&commitHash=eed6d6404d788921e4520a9718b25752698d49e7&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>question loading changes document title should verify document title changes while loading a slow question (metabase\#40051)</code> | The expected text 'Doing science... · Metabase' was not displayed within 4000ms, causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52641?repo=metabase/metabase&commitHash=eed6d6404d788921e4520a9718b25752698d49e7&utm_source=gh-comment&runConclusion=FAILURE&runId=26da4f27-12f4-5873-a0a0-0e9c4d482482) |
| <code>issue 36669 should be able to change question data source to raw data after selecting saved question (metabase\#36669)</code> | Unable to find an element with the text ""Orders 36669"" within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52641?repo=metabase/metabase&commitHash=eed6d6404d788921e4520a9718b25752698d49e7&utm_source=gh-comment&runConclusion=FAILURE&runId=e5e16525-88d7-554e-a2ce-2c0f291432ea) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52641?repo=metabase/metabase&commitHash=eed6d6404d788921e4520a9718b25752698d49e7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-24 03:11:05 UTC): ## e2e tests failed on `eed6d6404d788921e4520a9718b25752698d49e7-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12942353755?pr=52641)

  File | Test Name
  ---- | ---------
  `document-title.cy.spec.js` | question loading changes document title > should verify document title changes while loading a slow question (metabase#40051)

"
2808253196,pull_request,closed,,Auto-rewrite sandboxing REST API endpoints,,camsaul,2025-01-24 00:55:56+00:00,['camsaul'],2025-01-27 22:10:14+00:00,2025-01-24 23:16:09+00:00,https://github.com/metabase/metabase/pull/52640,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2611427557, 'issue_id': 2808253196, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/81688_tests-f195bb4d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52640?repo=metabase/metabase&commitHash=f195bb4de3e35743165bd547cb39f89209250e4a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52640?repo=metabase/metabase&commitHash=f195bb4de3e35743165bd547cb39f89209250e4a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52640?repo=metabase/metabase&commitHash=f195bb4de3e35743165bd547cb39f89209250e4a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52640?repo=metabase/metabase&commitHash=f195bb4de3e35743165bd547cb39f89209250e4a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, but expected stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52640?repo=metabase/metabase&commitHash=f195bb4de3e35743165bd547cb39f89209250e4a&utm_source=gh-comment&runConclusion=FAILURE&runId=c4b2c01f-df59-55bf-9715-f5b754a5e588) |\n| <code>describe-view-fields</code> | The expected and actual values of non-view-fields and view-fields are not equal. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52640?repo=metabase/metabase&commitHash=f195bb4de3e35743165bd547cb39f89209250e4a&utm_source=gh-comment&runConclusion=FAILURE&runId=3104b552-506e-5c1e-a462-fc0dee25a01d) |\n| <code>relative-time-interval-test</code> | No table 'checkins' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52640?repo=metabase/metabase&commitHash=f195bb4de3e35743165bd547cb39f89209250e4a&utm_source=gh-comment&runConclusion=FAILURE&runId=b3cf889d-ebb5-58a7-b04e-cdab3fd8e21f) |\n| <code>filter-by-expression-relative-time-interval-test</code> | No Table 'checkins' found for Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52640?repo=metabase/metabase&commitHash=f195bb4de3e35743165bd547cb39f89209250e4a&utm_source=gh-comment&runConclusion=FAILURE&runId=5cbe7c51-6f3a-58df-8c7c-c34529740f8e) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52640?repo=metabase/metabase&commitHash=f195bb4de3e35743165bd547cb39f89209250e4a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 24, 2, 45, 43, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-24 02:45:43 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/81688_tests-f195bb4d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52640?repo=metabase/metabase&commitHash=f195bb4de3e35743165bd547cb39f89209250e4a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52640?repo=metabase/metabase&commitHash=f195bb4de3e35743165bd547cb39f89209250e4a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52640?repo=metabase/metabase&commitHash=f195bb4de3e35743165bd547cb39f89209250e4a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52640?repo=metabase/metabase&commitHash=f195bb4de3e35743165bd547cb39f89209250e4a&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, but expected stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52640?repo=metabase/metabase&commitHash=f195bb4de3e35743165bd547cb39f89209250e4a&utm_source=gh-comment&runConclusion=FAILURE&runId=c4b2c01f-df59-55bf-9715-f5b754a5e588) |
| <code>describe-view-fields</code> | The expected and actual values of non-view-fields and view-fields are not equal. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52640?repo=metabase/metabase&commitHash=f195bb4de3e35743165bd547cb39f89209250e4a&utm_source=gh-comment&runConclusion=FAILURE&runId=3104b552-506e-5c1e-a462-fc0dee25a01d) |
| <code>relative-time-interval-test</code> | No table 'checkins' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52640?repo=metabase/metabase&commitHash=f195bb4de3e35743165bd547cb39f89209250e4a&utm_source=gh-comment&runConclusion=FAILURE&runId=b3cf889d-ebb5-58a7-b04e-cdab3fd8e21f) |
| <code>filter-by-expression-relative-time-interval-test</code> | No Table 'checkins' found for Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52640?repo=metabase/metabase&commitHash=f195bb4de3e35743165bd547cb39f89209250e4a&utm_source=gh-comment&runConclusion=FAILURE&runId=5cbe7c51-6f3a-58df-8c7c-c34529740f8e) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52640?repo=metabase/metabase&commitHash=f195bb4de3e35743165bd547cb39f89209250e4a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2808176952,pull_request,closed,,Empty states: dashboards,"Resolves #52723 

## About
We're (visually) overhauling empty states for dashboards. Empty state now has the illustration, title, description and the CTA button.

> [!IMPORTANT]
> Both the description and the button are shown only if a user has sufficient permissions to add entities to the dashboard.

The project introduced more empty states variations compared to before. Here are the inputs for the combinatorics:

1. View
    - Completely empty dashboard (regardless of how many tabs it has, or which tab are you on)
    - Empty tab in a dashboard that is otherwise not empty
2. Dashboard state
     - Editing
     - Not editing
3.  Permissions to add to the dashboard
    - Granted
    - Restricted

Basically each of these combinations will have slightly different empty state *except for the empty dashboard and empty tab when the dashboard is in the editing state*.

## Notable changes to the existing code

The biggest change is that we're not separating the empty states from the actual dashboard content.
- **Before**, the empty state would live inside the <CardsContainer>, which would render either the empty state or the grid with cards.
- **Now**, we display either the empty state or the <CardsContainer>, which seems more clean and ""more correct"", at least to me.

In the past, you could start asking a new question directly from an empty state. The new design omits that option since the dashboard sidebar has it either way. In other words, it is now possible to only open the sidebar from an empty state (if one has sufficient permissions, of course).

## Testing
We are using a loooooot of intermediary assertions that the dashboard is empty in e2e tests. This sent me on a test fixing spree that seemed like it will never end.",nemanjaglumac,2025-01-23 23:51:14+00:00,['nemanjaglumac'],2025-01-28 16:07:29+00:00,2025-01-28 16:07:27+00:00,https://github.com/metabase/metabase/pull/52639,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2612577642, 'issue_id': 2808176952, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/108749_tests-c32c97d8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52639?repo=metabase/metabase&commitHash=c32c97d8d0aa3a540ea882ff2907213d945f7254&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52639?repo=metabase/metabase&commitHash=c32c97d8d0aa3a540ea882ff2907213d945f7254&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52639?repo=metabase/metabase&commitHash=c32c97d8d0aa3a540ea882ff2907213d945f7254&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52639?repo=metabase/metabase&commitHash=c32c97d8d0aa3a540ea882ff2907213d945f7254&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52639?repo=metabase/metabase&commitHash=c32c97d8d0aa3a540ea882ff2907213d945f7254&utm_source=gh-comment&runConclusion=FAILURE&runId=bd5f192c-fd0b-5654-b68a-17049f675ccb) |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, but expected stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52639?repo=metabase/metabase&commitHash=c32c97d8d0aa3a540ea882ff2907213d945f7254&utm_source=gh-comment&runConclusion=FAILURE&runId=9841bf77-2da8-5c1f-9ace-2e98d9bac314) |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:326:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\\#'sync.fingerprint/max-refingerprint-field... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52639?repo=metabase/metabase&commitHash=c32c97d8d0aa3a540ea882ff2907213d945f7254&utm_source=gh-comment&runConclusion=FAILURE&runId=de9529a4-d36e-5e8c-8412-3a753d0c34c0) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52639?repo=metabase/metabase&commitHash=c32c97d8d0aa3a540ea882ff2907213d945f7254&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 24, 13, 50, 36, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-24 13:50:36 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/108749_tests-c32c97d8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52639?repo=metabase/metabase&commitHash=c32c97d8d0aa3a540ea882ff2907213d945f7254&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52639?repo=metabase/metabase&commitHash=c32c97d8d0aa3a540ea882ff2907213d945f7254&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52639?repo=metabase/metabase&commitHash=c32c97d8d0aa3a540ea882ff2907213d945f7254&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52639?repo=metabase/metabase&commitHash=c32c97d8d0aa3a540ea882ff2907213d945f7254&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52639?repo=metabase/metabase&commitHash=c32c97d8d0aa3a540ea882ff2907213d945f7254&utm_source=gh-comment&runConclusion=FAILURE&runId=bd5f192c-fd0b-5654-b68a-17049f675ccb) |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, but expected stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52639?repo=metabase/metabase&commitHash=c32c97d8d0aa3a540ea882ff2907213d945f7254&utm_source=gh-comment&runConclusion=FAILURE&runId=9841bf77-2da8-5c1f-9ace-2e98d9bac314) |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:326:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerprint-field... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52639?repo=metabase/metabase&commitHash=c32c97d8d0aa3a540ea882ff2907213d945f7254&utm_source=gh-comment&runConclusion=FAILURE&runId=de9529a4-d36e-5e8c-8412-3a753d0c34c0) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52639?repo=metabase/metabase&commitHash=c32c97d8d0aa3a540ea882ff2907213d945f7254&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2808148656,pull_request,closed,,Fixing xlsx pivot table exports to respect table column names,"Closes #51342 #49605 

- Fixes xlsx pivot table exports to respect table column names
  - Previously we were passing no column name into `XSSFPivotTable.addColumnLabel` and everything was getting the default name for whatever aggregation function was being used, which is hard coded to `DataConsolidateFunction/SUM`
  - We have to hardcode `DataConsolidateFunction/SUM` because we can't rely on excel's pivot table aggregation functions since QP pre-aggregates the data for us, so `DataConsolidateFunction/SUM` effectively acts as a pass through so that the pre-aggregated values that get dumped into the `data` sheet show up in the resulting pivot table. This works for simple pivot tables but ultimately is not ideal; more context [here](https://github.com/metabase/metabase/issues/51786)
- Adds fallback logic to column title generation to use `:display_type` if the custom column title is empty

<details>
<summary>Before</summary>
<img width=""961"" alt=""image"" src=""https://github.com/user-attachments/assets/51c8c850-e66b-44bb-ad77-7fada6974e06"" />
</details>
<details>
<summary>After</summary>
<img width=""982"" alt=""image"" src=""https://github.com/user-attachments/assets/545d39f2-556f-47db-93cf-01f13fbb0412"" />
</details>",tsplude,2025-01-23 23:30:40+00:00,['tsplude'],2025-01-31 16:35:23+00:00,2025-01-31 02:54:53+00:00,https://github.com/metabase/metabase/pull/52638,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2625521658, 'issue_id': 2808148656, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/4331_tests-b69861b8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52638?repo=metabase/metabase&commitHash=b69861b82d3e880e0f8fd04dac1adf2f2d9ee5c6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52638?repo=metabase/metabase&commitHash=b69861b82d3e880e0f8fd04dac1adf2f2d9ee5c6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52638?repo=metabase/metabase&commitHash=b69861b82d3e880e0f8fd04dac1adf2f2d9ee5c6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52638?repo=metabase/metabase&commitHash=b69861b82d3e880e0f8fd04dac1adf2f2d9ee5c6&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52638?repo=metabase/metabase&commitHash=b69861b82d3e880e0f8fd04dac1adf2f2d9ee5c6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 30, 20, 34, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626021123, 'issue_id': 2808148656, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `b69861b82d3e880e0f8fd04dac1adf2f2d9ee5c6-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13063820175?pr=52638)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)\n`model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model\n`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette\n`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link"", 'created_at': datetime.datetime(2025, 1, 31, 0, 34, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627762835, 'issue_id': 2808148656, 'author': 'tsplude', 'body': '@metabase-bot backport release-x.52.x', 'created_at': datetime.datetime(2025, 1, 31, 16, 34, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2627765454, 'issue_id': 2808148656, 'author': 'github-actions[bot]', 'body': '@tsplude something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/13076852714)', 'created_at': datetime.datetime(2025, 1, 31, 16, 35, 21, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-30 20:34:33 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/4331_tests-b69861b8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52638?repo=metabase/metabase&commitHash=b69861b82d3e880e0f8fd04dac1adf2f2d9ee5c6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52638?repo=metabase/metabase&commitHash=b69861b82d3e880e0f8fd04dac1adf2f2d9ee5c6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52638?repo=metabase/metabase&commitHash=b69861b82d3e880e0f8fd04dac1adf2f2d9ee5c6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52638?repo=metabase/metabase&commitHash=b69861b82d3e880e0f8fd04dac1adf2f2d9ee5c6&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52638?repo=metabase/metabase&commitHash=b69861b82d3e880e0f8fd04dac1adf2f2d9ee5c6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-31 00:34:27 UTC): ## e2e tests failed on `b69861b82d3e880e0f8fd04dac1adf2f2d9ee5c6-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13063820175?pr=52638)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)
`model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model
`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette
`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link

tsplude (Issue Creator) on (2025-01-31 16:34:02 UTC): @metabase-bot backport release-x.52.x

github-actions[bot] on (2025-01-31 16:35:21 UTC): @tsplude something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/13076852714)

"
2807986297,pull_request,closed,,"🤖 backported ""Fix recents in the entity picker for tables in joins""","  #52630
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-23 21:47:58+00:00,"['ranquild', 'github-automation-metabase']",2025-01-24 01:19:38+00:00,2025-01-24 01:19:38+00:00,https://github.com/metabase/metabase/pull/52637,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2611227690, 'issue_id': 2807986297, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/54_tests-48e35412-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52637?repo=metabase/metabase&commitHash=48e35412b6b844fb8e74f0568d077f60feca9da1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52637?repo=metabase/metabase&commitHash=48e35412b6b844fb8e74f0568d077f60feca9da1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52637?repo=metabase/metabase&commitHash=48e35412b6b844fb8e74f0568d077f60feca9da1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52637?repo=metabase/metabase&commitHash=48e35412b6b844fb8e74f0568d077f60feca9da1&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52637?repo=metabase/metabase&commitHash=48e35412b6b844fb8e74f0568d077f60feca9da1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 23, 34, 53, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 23:34:53 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/54_tests-48e35412-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52637?repo=metabase/metabase&commitHash=48e35412b6b844fb8e74f0568d077f60feca9da1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52637?repo=metabase/metabase&commitHash=48e35412b6b844fb8e74f0568d077f60feca9da1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52637?repo=metabase/metabase&commitHash=48e35412b6b844fb8e74f0568d077f60feca9da1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52637?repo=metabase/metabase&commitHash=48e35412b6b844fb8e74f0568d077f60feca9da1&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52637?repo=metabase/metabase&commitHash=48e35412b6b844fb8e74f0568d077f60feca9da1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2807969742,pull_request,closed,,Account for DATEFIRST in sql server,"Closes https://github.com/metabase/metabase/issues/52035

### Description

In sql server, language settings change what day weeks start on.  The sql server driver assumes that weeks always start on sunday (ie the US default), which means that if you change the db to french, our math is off and we start calculating weeks and days of the week wrong.  This adds back in an offset based on DATEFIRST to fix that.

### How to verify

For week aggregation
1. Create a query that is aggregating by week in sql server
2. Open up a direct connection to sql server
3. run ""SET LANGUAGE FRENCH;""
4. copy and run the sql generated in step 1
5. verify that the weeks shown still start on the correct day (as defined in metabase settings)

For day of week aggregation
1. Create a query that is aggregating by day of week in sql server
2. Drill into a particular day of the week and view the rows in that day
3. Open up a direct connection to sql server
4. run ""SET LANGUAGE FRENCH;""
5. copy and run the sql generated in step 2
6. verify that the rows shown all fall into the appropriate day

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",wzimrin,2025-01-23 21:37:11+00:00,['wzimrin'],2025-01-28 11:42:33+00:00,2025-01-28 10:47:17+00:00,https://github.com/metabase/metabase/pull/52636,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2611172231, 'issue_id': 2807969742, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/101097_tests-433661ee-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52636?repo=metabase/metabase&commitHash=433661eea4f2f891f17b7872fdaee5a775fd25c9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/7-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52636?repo=metabase/metabase&commitHash=433661eea4f2f891f17b7872fdaee5a775fd25c9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52636?repo=metabase/metabase&commitHash=433661eea4f2f891f17b7872fdaee5a775fd25c9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52636?repo=metabase/metabase&commitHash=433661eea4f2f891f17b7872fdaee5a775fd25c9&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > organization > entity picker dashboard picker should not allow local search for \\`all personal collections\\`</code> | Unable to find an element with the text ""Admin personal dashboard 1"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52636?repo=metabase/metabase&commitHash=433661eea4f2f891f17b7872fdaee5a775fd25c9&utm_source=gh-comment&runConclusion=FAILURE&runId=a907c914-18da-543d-9d8a-0281b3bd3332) |\n| <code>scenarios > organization > entity picker dashboard picker should search for dashboards for a normal user</code> | Unable to find an element with the text ""Root dashboard 1"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52636?repo=metabase/metabase&commitHash=433661eea4f2f891f17b7872fdaee5a775fd25c9&utm_source=gh-comment&runConclusion=FAILURE&runId=a0144080-8200-5baf-b02b-6a06f34f227e) |\n| <code>scenarios > organization > entity picker dashboard picker should search for dashboards when there is no access to the root collection</code> | Unable to find an element with the text ""Regular dashboard 1"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52636?repo=metabase/metabase&commitHash=433661eea4f2f891f17b7872fdaee5a775fd25c9&utm_source=gh-comment&runConclusion=FAILURE&runId=8877af0f-91fd-5185-a44a-65fd5b51436e) |\n| <code>scenarios > organization > entity picker collection picker should not allow local search for \\`all personal collections\\`</code> | Unable to find an element with the text ""Admin personal collection 1"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52636?repo=metabase/metabase&commitHash=433661eea4f2f891f17b7872fdaee5a775fd25c9&utm_source=gh-comment&runConclusion=FAILURE&runId=de436381-a1df-5efd-970c-2d2e0fd4ce0a) |\n\n[... and 3 more](https://app.trunk.io/metabase/flaky-tests/pr/52636?repo=metabase/metabase&commitHash=433661eea4f2f891f17b7872fdaee5a775fd25c9&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52636?repo=metabase/metabase&commitHash=433661eea4f2f891f17b7872fdaee5a775fd25c9&utm_source=gh-comment&runConclusion=FAILURE&runId=d247d082-74ec-5a1a-989d-080dc348146e) |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:326:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\\#\'sync.fingerprint/max-refingerprint-field... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52636?repo=metabase/metabase&commitHash=433661eea4f2f891f17b7872fdaee5a775fd25c9&utm_source=gh-comment&runConclusion=FAILURE&runId=40c26e24-8434-54d5-8bdd-b1795a23198a) |\n| <code>delete-dimension-permissions-test</code> | Deadlock found when trying to get lock; try restarting transaction | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52636?repo=metabase/metabase&commitHash=433661eea4f2f891f17b7872fdaee5a775fd25c9&utm_source=gh-comment&runConclusion=FAILURE&runId=9f0334d3-edb1-5b65-97df-d3937fbf0570) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52636?repo=metabase/metabase&commitHash=433661eea4f2f891f17b7872fdaee5a775fd25c9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 22, 47, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618562814, 'issue_id': 2807969742, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `433661eea4f2f891f17b7872fdaee5a775fd25c9-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13007949622?pr=52636)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard.cy.spec.js` | scenarios > dashboard > create > adding question to one dashboard shouldn't affect previously visited unrelated dashboards (metabase#26826)\n`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > question picker > should select a card from global search results\n`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > question picker > should not allow local search for `all personal collections`\n`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > collection picker > should not allow local search for `all personal collections`\n`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > dashboard picker > should search for dashboards for a normal user\n`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > dashboard picker > should search for dashboards when there is no access to the root collection\n`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > dashboard picker > should not allow local search for `all personal collections`"", 'created_at': datetime.datetime(2025, 1, 28, 10, 13, 47, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 22:47:16 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/101097_tests-433661ee-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52636?repo=metabase/metabase&commitHash=433661eea4f2f891f17b7872fdaee5a775fd25c9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/7-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52636?repo=metabase/metabase&commitHash=433661eea4f2f891f17b7872fdaee5a775fd25c9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52636?repo=metabase/metabase&commitHash=433661eea4f2f891f17b7872fdaee5a775fd25c9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52636?repo=metabase/metabase&commitHash=433661eea4f2f891f17b7872fdaee5a775fd25c9&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > organization > entity picker dashboard picker should not allow local search for \`all personal collections\`</code> | Unable to find an element with the text ""Admin personal dashboard 1"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52636?repo=metabase/metabase&commitHash=433661eea4f2f891f17b7872fdaee5a775fd25c9&utm_source=gh-comment&runConclusion=FAILURE&runId=a907c914-18da-543d-9d8a-0281b3bd3332) |
| <code>scenarios > organization > entity picker dashboard picker should search for dashboards for a normal user</code> | Unable to find an element with the text ""Root dashboard 1"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52636?repo=metabase/metabase&commitHash=433661eea4f2f891f17b7872fdaee5a775fd25c9&utm_source=gh-comment&runConclusion=FAILURE&runId=a0144080-8200-5baf-b02b-6a06f34f227e) |
| <code>scenarios > organization > entity picker dashboard picker should search for dashboards when there is no access to the root collection</code> | Unable to find an element with the text ""Regular dashboard 1"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52636?repo=metabase/metabase&commitHash=433661eea4f2f891f17b7872fdaee5a775fd25c9&utm_source=gh-comment&runConclusion=FAILURE&runId=8877af0f-91fd-5185-a44a-65fd5b51436e) |
| <code>scenarios > organization > entity picker collection picker should not allow local search for \`all personal collections\`</code> | Unable to find an element with the text ""Admin personal collection 1"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52636?repo=metabase/metabase&commitHash=433661eea4f2f891f17b7872fdaee5a775fd25c9&utm_source=gh-comment&runConclusion=FAILURE&runId=de436381-a1df-5efd-970c-2d2e0fd4ce0a) |

[... and 3 more](https://app.trunk.io/metabase/flaky-tests/pr/52636?repo=metabase/metabase&commitHash=433661eea4f2f891f17b7872fdaee5a775fd25c9&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52636?repo=metabase/metabase&commitHash=433661eea4f2f891f17b7872fdaee5a775fd25c9&utm_source=gh-comment&runConclusion=FAILURE&runId=d247d082-74ec-5a1a-989d-080dc348146e) |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:326:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerprint-field... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52636?repo=metabase/metabase&commitHash=433661eea4f2f891f17b7872fdaee5a775fd25c9&utm_source=gh-comment&runConclusion=FAILURE&runId=40c26e24-8434-54d5-8bdd-b1795a23198a) |
| <code>delete-dimension-permissions-test</code> | Deadlock found when trying to get lock; try restarting transaction | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52636?repo=metabase/metabase&commitHash=433661eea4f2f891f17b7872fdaee5a775fd25c9&utm_source=gh-comment&runConclusion=FAILURE&runId=9f0334d3-edb1-5b65-97df-d3937fbf0570) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52636?repo=metabase/metabase&commitHash=433661eea4f2f891f17b7872fdaee5a775fd25c9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-28 10:13:47 UTC): ## e2e tests failed on `433661eea4f2f891f17b7872fdaee5a775fd25c9-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13007949622?pr=52636)

  File | Test Name
  ---- | ---------
  `dashboard.cy.spec.js` | scenarios > dashboard > create > adding question to one dashboard shouldn't affect previously visited unrelated dashboards (metabase#26826)
`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > question picker > should select a card from global search results
`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > question picker > should not allow local search for `all personal collections`
`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > collection picker > should not allow local search for `all personal collections`
`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > dashboard picker > should search for dashboards for a normal user
`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > dashboard picker > should search for dashboards when there is no access to the root collection
`entity-picker.cy.spec.ts` | scenarios > organization > entity picker > dashboard picker > should not allow local search for `all personal collections`

"
2807932878,pull_request,closed,,Append forward slashes to docs URL pointing towards metabase.com,,gusaiani,2025-01-23 21:21:26+00:00,['gusaiani'],2025-02-06 11:23:23+00:00,2025-02-06 11:23:17+00:00,https://github.com/metabase/metabase/pull/52635,[],[],
2807899568,pull_request,closed,,apply custom separators to compactly formatted numbers,"Closes https://github.com/metabase/metabase/issues/51075

### Description

This PR applies custom number separators to compactly formatted numbers.

### How to verify

- Go to [Admin -> Localization](http://localhost:3000/admin/settings/localization) and change number separators
- Create a scalar card with a huge number
- Add it on a dashboard
- Reduce its dimensions to see compact formatting
- Ensure it uses correct separators as configured

### Demo

Before
<img width=""273"" alt=""Screenshot 2025-01-23 at 4 01 22 PM"" src=""https://github.com/user-attachments/assets/d03b9c9d-5c14-4833-8d1d-09da21ff3e97"" />

After
<img width=""282"" alt=""Screenshot 2025-01-23 at 4 01 08 PM"" src=""https://github.com/user-attachments/assets/5c4c0458-131c-4afe-a827-c66f9b135a85"" />

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",alxnddr,2025-01-23 21:03:05+00:00,['alxnddr'],2025-01-31 03:04:43+00:00,2025-01-31 02:15:45+00:00,https://github.com/metabase/metabase/pull/52634,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2611095675, 'issue_id': 2807899568, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/22993_tests-da1b128c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52634?repo=metabase/metabase&commitHash=da1b128c2d00977b14fa5bc7a010421ecba476ab&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52634?repo=metabase/metabase&commitHash=da1b128c2d00977b14fa5bc7a010421ecba476ab&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52634?repo=metabase/metabase&commitHash=da1b128c2d00977b14fa5bc7a010421ecba476ab&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52634?repo=metabase/metabase&commitHash=da1b128c2d00977b14fa5bc7a010421ecba476ab&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>command palette should render a searchable command palette</code> | The expected attribute 'aria-selected' with value 'true' was not found on the element '<div\\#kbar-listbox-item-5>'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52634?repo=metabase/metabase&commitHash=da1b128c2d00977b14fa5bc7a010421ecba476ab&utm_source=gh-comment&runConclusion=FAILURE&runId=636ef7e6-e995-5c68-ae6a-1098aa15c7c0) |\n| <code>useIsParameterPanelSticky sets isStickyStateChanging to true and false before and after isSticky is changed</code> | failure\\_text: Error: expect(received).toBe(expected) // Object.is equalityExpected: trueReceived: false    at Object.toBe (/home/runner/work/metab... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52634?repo=metabase/metabase&commitHash=da1b128c2d00977b14fa5bc7a010421ecba476ab&utm_source=gh-comment&runConclusion=FAILURE&runId=21d55b1d-e30a-5bc5-8ffd-095bdec3efe8) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52634?repo=metabase/metabase&commitHash=da1b128c2d00977b14fa5bc7a010421ecba476ab&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 23, 21, 54, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626078833, 'issue_id': 2807899568, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `98d3b6561e817564c38344253ed44549306e8d30-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13064382752?pr=52634)\n\n  File | Test Name\n  ---- | ---------\n  `model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model\n`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette\n`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link"", 'created_at': datetime.datetime(2025, 1, 31, 1, 22, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626200087, 'issue_id': 2807899568, 'author': 'alxnddr', 'body': '@metabase-bot backport release-x.52.x', 'created_at': datetime.datetime(2025, 1, 31, 3, 2, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626201990, 'issue_id': 2807899568, 'author': 'github-actions[bot]', 'body': '@alxnddr Manual conflict resolution is required', 'created_at': datetime.datetime(2025, 1, 31, 3, 4, 42, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 21:54:14 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/22993_tests-da1b128c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52634?repo=metabase/metabase&commitHash=da1b128c2d00977b14fa5bc7a010421ecba476ab&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52634?repo=metabase/metabase&commitHash=da1b128c2d00977b14fa5bc7a010421ecba476ab&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52634?repo=metabase/metabase&commitHash=da1b128c2d00977b14fa5bc7a010421ecba476ab&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52634?repo=metabase/metabase&commitHash=da1b128c2d00977b14fa5bc7a010421ecba476ab&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>command palette should render a searchable command palette</code> | The expected attribute 'aria-selected' with value 'true' was not found on the element '<div\#kbar-listbox-item-5>'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52634?repo=metabase/metabase&commitHash=da1b128c2d00977b14fa5bc7a010421ecba476ab&utm_source=gh-comment&runConclusion=FAILURE&runId=636ef7e6-e995-5c68-ae6a-1098aa15c7c0) |
| <code>useIsParameterPanelSticky sets isStickyStateChanging to true and false before and after isSticky is changed</code> | failure\_text: Error: expect(received).toBe(expected) // Object.is equalityExpected: trueReceived: false    at Object.toBe (/home/runner/work/metab... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52634?repo=metabase/metabase&commitHash=da1b128c2d00977b14fa5bc7a010421ecba476ab&utm_source=gh-comment&runConclusion=FAILURE&runId=21d55b1d-e30a-5bc5-8ffd-095bdec3efe8) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52634?repo=metabase/metabase&commitHash=da1b128c2d00977b14fa5bc7a010421ecba476ab&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-31 01:22:24 UTC): ## e2e tests failed on `98d3b6561e817564c38344253ed44549306e8d30-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13064382752?pr=52634)

  File | Test Name
  ---- | ---------
  `model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model
`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette
`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link

alxnddr (Issue Creator) on (2025-01-31 03:02:35 UTC): @metabase-bot backport release-x.52.x

github-actions[bot] on (2025-01-31 03:04:42 UTC): @alxnddr Manual conflict resolution is required

"
2807892769,pull_request,closed,,Auto-rewrite SCIM endpoints,,camsaul,2025-01-23 20:59:38+00:00,['camsaul'],2025-01-27 22:10:17+00:00,2025-01-24 20:02:26+00:00,https://github.com/metabase/metabase/pull/52633,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2611090121, 'issue_id': 2807892769, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/113229_tests-9908d5cc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52633?repo=metabase/metabase&commitHash=9908d5ccc8254dec55b89e2ee919cce473798d05&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/11-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52633?repo=metabase/metabase&commitHash=9908d5ccc8254dec55b89e2ee919cce473798d05&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52633?repo=metabase/metabase&commitHash=9908d5ccc8254dec55b89e2ee919cce473798d05&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52633?repo=metabase/metabase&commitHash=9908d5ccc8254dec55b89e2ee919cce473798d05&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>fetch-group-test</code> | The HTTP request to /api/ee/scim/v2/Groups/m8a6mZ5H6Px9T6deebAXH failed with a 401 Unauthorized status code. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52633?repo=metabase/metabase&commitHash=9908d5ccc8254dec55b89e2ee919cce473798d05&utm_source=gh-comment&runConclusion=FAILURE&runId=5f32e796-31ce-58f9-bb34-03d15ed82752) |\n| <code>get-database-can-upload-test</code> | The table or view \'test-data.orders\\_v\' cannot be found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52633?repo=metabase/metabase&commitHash=9908d5ccc8254dec55b89e2ee919cce473798d05&utm_source=gh-comment&runConclusion=FAILURE&runId=81531eb8-698e-5b8b-b0f5-98706c749456) |\n| <code>fetch-group-test</code> | The HTTP client request to /api/ee/scim/v2/Groups/puBdSstIAuGgs1E4BMA9h returned a 401 status code instead of the expected 200. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52633?repo=metabase/metabase&commitHash=9908d5ccc8254dec55b89e2ee919cce473798d05&utm_source=gh-comment&runConclusion=FAILURE&runId=07d258e7-6c08-528b-9f15-cdd725b488a1) |\n| <code>fetch-group-test</code> | The HTTP request to /api/ee/scim/v2/Groups/SUMap3B4ZsPNlT1OvfmQp failed with a 401 status code, indicating an unauthenticated request. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52633?repo=metabase/metabase&commitHash=9908d5ccc8254dec55b89e2ee919cce473798d05&utm_source=gh-comment&runConclusion=FAILURE&runId=b3a1814d-f26e-5e04-abd3-a7d326008637) |\n\n[... and 7 more](https://app.trunk.io/metabase/flaky-tests/pr/52633?repo=metabase/metabase&commitHash=9908d5ccc8254dec55b89e2ee919cce473798d05&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > metrics > search should see metrics in recent items in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52633?repo=metabase/metabase&commitHash=9908d5ccc8254dec55b89e2ee919cce473798d05&utm_source=gh-comment&runConclusion=FAILURE&runId=fb73dd1a-f34e-568b-a99a-e407f530e639) |\n| <code>scenarios > metrics > search should be able to search for metrics on the search page</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52633?repo=metabase/metabase&commitHash=9908d5ccc8254dec55b89e2ee919cce473798d05&utm_source=gh-comment&runConclusion=FAILURE&runId=9cb65974-4027-5b8b-a58e-611ed8aa5c58) |\n| <code>scenarios > metrics > search should be able to search for metrics in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52633?repo=metabase/metabase&commitHash=9908d5ccc8254dec55b89e2ee919cce473798d05&utm_source=gh-comment&runConclusion=FAILURE&runId=ecec70b9-d3e2-5390-8fa0-57a77a5155a9) |\n| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution for the given input. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52633?repo=metabase/metabase&commitHash=9908d5ccc8254dec55b89e2ee919cce473798d05&utm_source=gh-comment&runConclusion=FAILURE&runId=6d9bf642-1742-5256-9886-2df649c0225e) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52633?repo=metabase/metabase&commitHash=9908d5ccc8254dec55b89e2ee919cce473798d05&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 21, 50, 56, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 21:50:56 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/113229_tests-9908d5cc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52633?repo=metabase/metabase&commitHash=9908d5ccc8254dec55b89e2ee919cce473798d05&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/11-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52633?repo=metabase/metabase&commitHash=9908d5ccc8254dec55b89e2ee919cce473798d05&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52633?repo=metabase/metabase&commitHash=9908d5ccc8254dec55b89e2ee919cce473798d05&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52633?repo=metabase/metabase&commitHash=9908d5ccc8254dec55b89e2ee919cce473798d05&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>fetch-group-test</code> | The HTTP request to /api/ee/scim/v2/Groups/m8a6mZ5H6Px9T6deebAXH failed with a 401 Unauthorized status code. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52633?repo=metabase/metabase&commitHash=9908d5ccc8254dec55b89e2ee919cce473798d05&utm_source=gh-comment&runConclusion=FAILURE&runId=5f32e796-31ce-58f9-bb34-03d15ed82752) |
| <code>get-database-can-upload-test</code> | The table or view 'test-data.orders\_v' cannot be found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52633?repo=metabase/metabase&commitHash=9908d5ccc8254dec55b89e2ee919cce473798d05&utm_source=gh-comment&runConclusion=FAILURE&runId=81531eb8-698e-5b8b-b0f5-98706c749456) |
| <code>fetch-group-test</code> | The HTTP client request to /api/ee/scim/v2/Groups/puBdSstIAuGgs1E4BMA9h returned a 401 status code instead of the expected 200. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52633?repo=metabase/metabase&commitHash=9908d5ccc8254dec55b89e2ee919cce473798d05&utm_source=gh-comment&runConclusion=FAILURE&runId=07d258e7-6c08-528b-9f15-cdd725b488a1) |
| <code>fetch-group-test</code> | The HTTP request to /api/ee/scim/v2/Groups/SUMap3B4ZsPNlT1OvfmQp failed with a 401 status code, indicating an unauthenticated request. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52633?repo=metabase/metabase&commitHash=9908d5ccc8254dec55b89e2ee919cce473798d05&utm_source=gh-comment&runConclusion=FAILURE&runId=b3a1814d-f26e-5e04-abd3-a7d326008637) |

[... and 7 more](https://app.trunk.io/metabase/flaky-tests/pr/52633?repo=metabase/metabase&commitHash=9908d5ccc8254dec55b89e2ee919cce473798d05&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > metrics > search should see metrics in recent items in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52633?repo=metabase/metabase&commitHash=9908d5ccc8254dec55b89e2ee919cce473798d05&utm_source=gh-comment&runConclusion=FAILURE&runId=fb73dd1a-f34e-568b-a99a-e407f530e639) |
| <code>scenarios > metrics > search should be able to search for metrics on the search page</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52633?repo=metabase/metabase&commitHash=9908d5ccc8254dec55b89e2ee919cce473798d05&utm_source=gh-comment&runConclusion=FAILURE&runId=9cb65974-4027-5b8b-a58e-611ed8aa5c58) |
| <code>scenarios > metrics > search should be able to search for metrics in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52633?repo=metabase/metabase&commitHash=9908d5ccc8254dec55b89e2ee919cce473798d05&utm_source=gh-comment&runConclusion=FAILURE&runId=ecec70b9-d3e2-5390-8fa0-57a77a5155a9) |
| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution for the given input. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52633?repo=metabase/metabase&commitHash=9908d5ccc8254dec55b89e2ee919cce473798d05&utm_source=gh-comment&runConclusion=FAILURE&runId=6d9bf642-1742-5256-9886-2df649c0225e) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52633?repo=metabase/metabase&commitHash=9908d5ccc8254dec55b89e2ee919cce473798d05&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2807874009,pull_request,closed,,Auto-rewrite defendpoints in channel module,,camsaul,2025-01-23 20:48:15+00:00,['camsaul'],2025-01-27 22:10:20+00:00,2025-01-24 19:59:55+00:00,https://github.com/metabase/metabase/pull/52632,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2611054802, 'issue_id': 2807874009, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/111003_tests-0adcef49-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52632?repo=metabase/metabase&commitHash=0adcef492fe3b3a92a8481ece1054cfb0a8d7b6f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52632?repo=metabase/metabase&commitHash=0adcef492fe3b3a92a8481ece1054cfb0a8d7b6f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52632?repo=metabase/metabase&commitHash=0adcef492fe3b3a92a8481ece1054cfb0a8d7b6f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52632?repo=metabase/metabase&commitHash=0adcef492fe3b3a92a8481ece1054cfb0a8d7b6f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52632?repo=metabase/metabase&commitHash=0adcef492fe3b3a92a8481ece1054cfb0a8d7b6f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 21, 29, 18, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 21:29:18 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/111003_tests-0adcef49-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52632?repo=metabase/metabase&commitHash=0adcef492fe3b3a92a8481ece1054cfb0a8d7b6f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52632?repo=metabase/metabase&commitHash=0adcef492fe3b3a92a8481ece1054cfb0a8d7b6f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52632?repo=metabase/metabase&commitHash=0adcef492fe3b3a92a8481ece1054cfb0a8d7b6f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52632?repo=metabase/metabase&commitHash=0adcef492fe3b3a92a8481ece1054cfb0a8d7b6f&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52632?repo=metabase/metabase&commitHash=0adcef492fe3b3a92a8481ece1054cfb0a8d7b6f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2807859133,pull_request,closed,,Remove an empty query stage after a drill from dashboards,"Fixes https://github.com/metabase/metabase/issues/52627

How to verify:
- Follow the steps from the issue. Create a question, add it to a dashboard, and drill-thru.
- Open the summarize sidebar straight away after drilling. You see aggregations for stage number 0; the extra empty stage should be dropped.",ranquild,2025-01-23 20:39:28+00:00,['ranquild'],2025-01-24 14:21:30+00:00,2025-01-24 14:21:29+00:00,https://github.com/metabase/metabase/pull/52631,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2611045599, 'issue_id': 2807859133, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/41504_tests-5d0b9b32-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52631?repo=metabase/metabase&commitHash=5d0b9b32b578882e66dfb8de861999a5a1ec6234&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52631?repo=metabase/metabase&commitHash=5d0b9b32b578882e66dfb8de861999a5a1ec6234&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52631?repo=metabase/metabase&commitHash=5d0b9b32b578882e66dfb8de861999a5a1ec6234&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52631?repo=metabase/metabase&commitHash=5d0b9b32b578882e66dfb8de861999a5a1ec6234&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > dashboard > temporal unit parameters mapping targets should connect multiple parameters to a card with multiple breakouts and drill thru</code> | Unable to find an element with the text ""Product → Created At: Week"" within 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52631?repo=metabase/metabase&commitHash=5d0b9b32b578882e66dfb8de861999a5a1ec6234&utm_source=gh-comment&runConclusion=FAILURE&runId=34c79b2c-d6f2-5d7a-a2d4-07edabbf448b) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > metrics > search should be able to search for metrics in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52631?repo=metabase/metabase&commitHash=5d0b9b32b578882e66dfb8de861999a5a1ec6234&utm_source=gh-comment&runConclusion=FAILURE&runId=675adceb-fa4c-50e1-9614-510899f4771d) |\n| <code>scenarios > metrics > search should see metrics in recent items in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52631?repo=metabase/metabase&commitHash=5d0b9b32b578882e66dfb8de861999a5a1ec6234&utm_source=gh-comment&runConclusion=FAILURE&runId=7cf7c932-6123-5901-806c-1fdfc2e5d3e4) |\n| <code>scenarios > metrics > search should be able to search for metrics on the search page</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52631?repo=metabase/metabase&commitHash=5d0b9b32b578882e66dfb8de861999a5a1ec6234&utm_source=gh-comment&runConclusion=FAILURE&runId=3f30a48c-6efd-566f-9d6a-9a04ab39c6c5) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52631?repo=metabase/metabase&commitHash=5d0b9b32b578882e66dfb8de861999a5a1ec6234&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 21, 23, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2611317321, 'issue_id': 2807859133, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `fd44ef0fdac531ee2c1d6ce19e44d03c6dbf752f-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12940772969?pr=52631)\n\n  File | Test Name\n  ---- | ---------\n  `metrics-search.cy.spec.js` | scenarios > metrics > search > should see metrics in recent items in global search', 'created_at': datetime.datetime(2025, 1, 24, 0, 53, 46, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 21:23:21 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/41504_tests-5d0b9b32-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52631?repo=metabase/metabase&commitHash=5d0b9b32b578882e66dfb8de861999a5a1ec6234&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52631?repo=metabase/metabase&commitHash=5d0b9b32b578882e66dfb8de861999a5a1ec6234&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52631?repo=metabase/metabase&commitHash=5d0b9b32b578882e66dfb8de861999a5a1ec6234&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52631?repo=metabase/metabase&commitHash=5d0b9b32b578882e66dfb8de861999a5a1ec6234&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > dashboard > temporal unit parameters mapping targets should connect multiple parameters to a card with multiple breakouts and drill thru</code> | Unable to find an element with the text ""Product → Created At: Week"" within 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52631?repo=metabase/metabase&commitHash=5d0b9b32b578882e66dfb8de861999a5a1ec6234&utm_source=gh-comment&runConclusion=FAILURE&runId=34c79b2c-d6f2-5d7a-a2d4-07edabbf448b) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > metrics > search should be able to search for metrics in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52631?repo=metabase/metabase&commitHash=5d0b9b32b578882e66dfb8de861999a5a1ec6234&utm_source=gh-comment&runConclusion=FAILURE&runId=675adceb-fa4c-50e1-9614-510899f4771d) |
| <code>scenarios > metrics > search should see metrics in recent items in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52631?repo=metabase/metabase&commitHash=5d0b9b32b578882e66dfb8de861999a5a1ec6234&utm_source=gh-comment&runConclusion=FAILURE&runId=7cf7c932-6123-5901-806c-1fdfc2e5d3e4) |
| <code>scenarios > metrics > search should be able to search for metrics on the search page</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52631?repo=metabase/metabase&commitHash=5d0b9b32b578882e66dfb8de861999a5a1ec6234&utm_source=gh-comment&runConclusion=FAILURE&runId=3f30a48c-6efd-566f-9d6a-9a04ab39c6c5) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52631?repo=metabase/metabase&commitHash=5d0b9b32b578882e66dfb8de861999a5a1ec6234&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-24 00:53:46 UTC): ## e2e tests failed on `fd44ef0fdac531ee2c1d6ce19e44d03c6dbf752f-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12940772969?pr=52631)

  File | Test Name
  ---- | ---------
  `metrics-search.cy.spec.js` | scenarios > metrics > search > should see metrics in recent items in global search

"
2807753906,pull_request,closed,,Fix recents in the entity picker for tables in joins,"Fixes https://github.com/metabase/metabase/issues/52523

How to verify:
- New -> Question
- See that in the entity picker there are recent items
- Pick any table
- Click on join
- Verify that there are tables in the join entity picker as well",ranquild,2025-01-23 19:36:46+00:00,['ranquild'],2025-01-23 23:03:59+00:00,2025-01-23 21:47:09+00:00,https://github.com/metabase/metabase/pull/52630,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2610949949, 'issue_id': 2807753906, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/32031_tests-0ff54c1b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52630?repo=metabase/metabase&commitHash=0ff54c1b978c551f40601bea797a695c309fcb4e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52630?repo=metabase/metabase&commitHash=0ff54c1b978c551f40601bea797a695c309fcb4e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/6-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52630?repo=metabase/metabase&commitHash=0ff54c1b978c551f40601bea797a695c309fcb4e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52630?repo=metabase/metabase&commitHash=0ff54c1b978c551f40601bea797a695c309fcb4e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > metrics > search should see metrics in recent items in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52630?repo=metabase/metabase&commitHash=0ff54c1b978c551f40601bea797a695c309fcb4e&utm_source=gh-comment&runConclusion=FAILURE&runId=a7c18b59-e658-5cce-8aec-930f930e1f2e) |\n| <code>scenarios > metrics > search should be able to search for metrics on the search page</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52630?repo=metabase/metabase&commitHash=0ff54c1b978c551f40601bea797a695c309fcb4e&utm_source=gh-comment&runConclusion=FAILURE&runId=f88cee52-e472-5a06-b198-e74d9518e774) |\n| <code>scenarios > metrics > search should be able to search for metrics in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52630?repo=metabase/metabase&commitHash=0ff54c1b978c551f40601bea797a695c309fcb4e&utm_source=gh-comment&runConclusion=FAILURE&runId=163a1aa8-b96a-5ab7-b444-176130091ecb) |\n| <code>scenarios > metrics > search should be able to search for metrics in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52630?repo=metabase/metabase&commitHash=0ff54c1b978c551f40601bea797a695c309fcb4e&utm_source=gh-comment&runConclusion=FAILURE&runId=26473bf7-25d4-5f8b-a0ae-8d431a9d13ee) |\n\n[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/52630?repo=metabase/metabase&commitHash=0ff54c1b978c551f40601bea797a695c309fcb4e&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52630?repo=metabase/metabase&commitHash=0ff54c1b978c551f40601bea797a695c309fcb4e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 20, 27, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610993361, 'issue_id': 2807753906, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `0ff54c1b978c551f40601bea797a695c309fcb4e-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12937533203?pr=52630)\n\n  File | Test Name\n  ---- | ---------\n  `metrics-search.cy.spec.js` | scenarios > metrics > search > should see metrics in recent items in global search', 'created_at': datetime.datetime(2025, 1, 23, 20, 52, 21, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 20:27:15 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/32031_tests-0ff54c1b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52630?repo=metabase/metabase&commitHash=0ff54c1b978c551f40601bea797a695c309fcb4e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52630?repo=metabase/metabase&commitHash=0ff54c1b978c551f40601bea797a695c309fcb4e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/6-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52630?repo=metabase/metabase&commitHash=0ff54c1b978c551f40601bea797a695c309fcb4e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52630?repo=metabase/metabase&commitHash=0ff54c1b978c551f40601bea797a695c309fcb4e&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > metrics > search should see metrics in recent items in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52630?repo=metabase/metabase&commitHash=0ff54c1b978c551f40601bea797a695c309fcb4e&utm_source=gh-comment&runConclusion=FAILURE&runId=a7c18b59-e658-5cce-8aec-930f930e1f2e) |
| <code>scenarios > metrics > search should be able to search for metrics on the search page</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52630?repo=metabase/metabase&commitHash=0ff54c1b978c551f40601bea797a695c309fcb4e&utm_source=gh-comment&runConclusion=FAILURE&runId=f88cee52-e472-5a06-b198-e74d9518e774) |
| <code>scenarios > metrics > search should be able to search for metrics in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52630?repo=metabase/metabase&commitHash=0ff54c1b978c551f40601bea797a695c309fcb4e&utm_source=gh-comment&runConclusion=FAILURE&runId=163a1aa8-b96a-5ab7-b444-176130091ecb) |
| <code>scenarios > metrics > search should be able to search for metrics in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52630?repo=metabase/metabase&commitHash=0ff54c1b978c551f40601bea797a695c309fcb4e&utm_source=gh-comment&runConclusion=FAILURE&runId=26473bf7-25d4-5f8b-a0ae-8d431a9d13ee) |

[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/52630?repo=metabase/metabase&commitHash=0ff54c1b978c551f40601bea797a695c309fcb4e&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52630?repo=metabase/metabase&commitHash=0ff54c1b978c551f40601bea797a695c309fcb4e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-23 20:52:21 UTC): ## e2e tests failed on `0ff54c1b978c551f40601bea797a695c309fcb4e-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12937533203?pr=52630)

  File | Test Name
  ---- | ---------
  `metrics-search.cy.spec.js` | scenarios > metrics > search > should see metrics in recent items in global search

"
2807747508,pull_request,closed,,Fix e2e flake: 45252,"This test could behave differently based on what schema exist in the db, which can be different from test to test. This adds an explicit schema selection rather than relying on ""Public"" always being selected",iethree,2025-01-23 19:33:19+00:00,['iethree'],2025-01-29 00:08:59+00:00,2025-01-29 00:08:31+00:00,https://github.com/metabase/metabase/pull/52629,"[('.CI & Tests', ''), ('flaky-test-fix', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2610862931, 'issue_id': 2807747508, 'author': 'iethree', 'body': ""> soudns insteresting, I didn't know there can be some difference\r\n> \r\n> can stress test catch it?\r\n\r\nno, it won't run differently when running the same test again and again. I've encountered a number of these that have only popped up since I've changed runner parallelization. quite a few tests implicitly relied on running (or not running) after other tests. I've seen some people suggest always randomizing test order to prevent this sort of thing."", 'created_at': datetime.datetime(2025, 1, 23, 19, 39, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610883479, 'issue_id': 2807747508, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `792ca9169ca5c90b59738ebe2688110959222546-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12936689626?pr=52629)\n\n  File | Test Name\n  ---- | ---------\n  `filters-reproductions.cy.spec.js` | 45252 > should allow using is-null and not-null operators with unsupported data types (metabase#45252,metabase#38111)', 'created_at': datetime.datetime(2025, 1, 23, 19, 50, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610944709, 'issue_id': 2807747508, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3684_tests-792ca916-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52629?repo=metabase/metabase&commitHash=792ca9169ca5c90b59738ebe2688110959222546&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52629?repo=metabase/metabase&commitHash=792ca9169ca5c90b59738ebe2688110959222546&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52629?repo=metabase/metabase&commitHash=792ca9169ca5c90b59738ebe2688110959222546&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52629?repo=metabase/metabase&commitHash=792ca9169ca5c90b59738ebe2688110959222546&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>45252 should allow using is-null and not-null operators with unsupported data types (metabase\\#45252,metabase\\#38111)</code> | The test timed out while trying to find an element with the text ""Public"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52629?repo=metabase/metabase&commitHash=792ca9169ca5c90b59738ebe2688110959222546&utm_source=gh-comment&runConclusion=FAILURE&runId=7e2e1b35-25da-5ae5-ae6c-1e3408ece632) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52629?repo=metabase/metabase&commitHash=792ca9169ca5c90b59738ebe2688110959222546&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 20, 24, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610944710, 'issue_id': 2807747508, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3684_tests-792ca916-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52629?repo=metabase/metabase&commitHash=792ca9169ca5c90b59738ebe2688110959222546&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52629?repo=metabase/metabase&commitHash=792ca9169ca5c90b59738ebe2688110959222546&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52629?repo=metabase/metabase&commitHash=792ca9169ca5c90b59738ebe2688110959222546&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52629?repo=metabase/metabase&commitHash=792ca9169ca5c90b59738ebe2688110959222546&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>45252 should allow using is-null and not-null operators with unsupported data types (metabase\\#45252,metabase\\#38111)</code> | The test timed out while trying to find an element with the text ""Public"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52629?repo=metabase/metabase&commitHash=792ca9169ca5c90b59738ebe2688110959222546&utm_source=gh-comment&runConclusion=FAILURE&runId=7e2e1b35-25da-5ae5-ae6c-1e3408ece632) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52629?repo=metabase/metabase&commitHash=792ca9169ca5c90b59738ebe2688110959222546&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 20, 24, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2611260695, 'issue_id': 2807747508, 'author': 'iethree', 'body': ""ok, the wrinkle is that sometimes there's a schema in this DB and sometimes there's not. 🔥  need to update it so it can rely on the db state"", 'created_at': datetime.datetime(2025, 1, 24, 0, 3, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620307207, 'issue_id': 2807747508, 'author': 'iethree', 'body': 'closing in favor of a more generalized solution: https://github.com/metabase/metabase/pull/52784', 'created_at': datetime.datetime(2025, 1, 29, 0, 8, 30, tzinfo=datetime.timezone.utc)}]","iethree (Issue Creator) on (2025-01-23 19:39:15 UTC): no, it won't run differently when running the same test again and again. I've encountered a number of these that have only popped up since I've changed runner parallelization. quite a few tests implicitly relied on running (or not running) after other tests. I've seen some people suggest always randomizing test order to prevent this sort of thing.

github-actions[bot] on (2025-01-23 19:50:41 UTC): ## e2e tests failed on `792ca9169ca5c90b59738ebe2688110959222546-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12936689626?pr=52629)

  File | Test Name
  ---- | ---------
  `filters-reproductions.cy.spec.js` | 45252 > should allow using is-null and not-null operators with unsupported data types (metabase#45252,metabase#38111)

trunk-io[bot] on (2025-01-23 20:24:09 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3684_tests-792ca916-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52629?repo=metabase/metabase&commitHash=792ca9169ca5c90b59738ebe2688110959222546&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52629?repo=metabase/metabase&commitHash=792ca9169ca5c90b59738ebe2688110959222546&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52629?repo=metabase/metabase&commitHash=792ca9169ca5c90b59738ebe2688110959222546&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52629?repo=metabase/metabase&commitHash=792ca9169ca5c90b59738ebe2688110959222546&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>45252 should allow using is-null and not-null operators with unsupported data types (metabase\#45252,metabase\#38111)</code> | The test timed out while trying to find an element with the text ""Public"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52629?repo=metabase/metabase&commitHash=792ca9169ca5c90b59738ebe2688110959222546&utm_source=gh-comment&runConclusion=FAILURE&runId=7e2e1b35-25da-5ae5-ae6c-1e3408ece632) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52629?repo=metabase/metabase&commitHash=792ca9169ca5c90b59738ebe2688110959222546&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2025-01-23 20:24:09 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3684_tests-792ca916-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52629?repo=metabase/metabase&commitHash=792ca9169ca5c90b59738ebe2688110959222546&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52629?repo=metabase/metabase&commitHash=792ca9169ca5c90b59738ebe2688110959222546&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52629?repo=metabase/metabase&commitHash=792ca9169ca5c90b59738ebe2688110959222546&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52629?repo=metabase/metabase&commitHash=792ca9169ca5c90b59738ebe2688110959222546&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>45252 should allow using is-null and not-null operators with unsupported data types (metabase\#45252,metabase\#38111)</code> | The test timed out while trying to find an element with the text ""Public"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52629?repo=metabase/metabase&commitHash=792ca9169ca5c90b59738ebe2688110959222546&utm_source=gh-comment&runConclusion=FAILURE&runId=7e2e1b35-25da-5ae5-ae6c-1e3408ece632) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52629?repo=metabase/metabase&commitHash=792ca9169ca5c90b59738ebe2688110959222546&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

iethree (Issue Creator) on (2025-01-24 00:03:23 UTC): ok, the wrinkle is that sometimes there's a schema in this DB and sometimes there's not. 🔥  need to update it so it can rely on the db state

iethree (Issue Creator) on (2025-01-29 00:08:30 UTC): closing in favor of a more generalized solution: https://github.com/metabase/metabase/pull/52784

"
2807735177,pull_request,closed,,fix: allow passing aggregation instead of expression,"Closes https://github.com/metabase/metabase/issues/52611

### Description

Allows using aggregation functions inside expressions

### How to verify

- orders table
- enter expression `case(Sum([Total]) > 10, Sum([Total]), Sum([Subtotal]))` in summarize -> expression
- select Total in breakout

### Demo


https://github.com/user-attachments/assets/cd68b441-74e8-4b15-997b-987a7c3c8cf1




### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",uladzimirdev,2025-01-23 19:26:05+00:00,['uladzimirdev'],2025-01-24 11:16:16+00:00,2025-01-24 11:00:33+00:00,https://github.com/metabase/metabase/pull/52628,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', ''), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2610948285, 'issue_id': 2807735177, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13490_tests-ed4e4704-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52628?repo=metabase/metabase&commitHash=ed4e4704e7a601c609c92ff0c5c06754f84e534b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52628?repo=metabase/metabase&commitHash=ed4e4704e7a601c609c92ff0c5c06754f84e534b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52628?repo=metabase/metabase&commitHash=ed4e4704e7a601c609c92ff0c5c06754f84e534b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52628?repo=metabase/metabase&commitHash=ed4e4704e7a601c609c92ff0c5c06754f84e534b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > model indexes should be able to see details of a record outside the first 2000</code> | Unable to find an accessible element with the role ""option"" and name ""Anais Zieme"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52628?repo=metabase/metabase&commitHash=ed4e4704e7a601c609c92ff0c5c06754f84e534b&utm_source=gh-comment&runConclusion=FAILURE&runId=80048c6f-0baf-53ef-b7f9-f2d67f931e60) |\n| <code>scenarios > model indexes should be able to search model index values and visit detail records</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52628?repo=metabase/metabase&commitHash=ed4e4704e7a601c609c92ff0c5c06754f84e534b&utm_source=gh-comment&runConclusion=FAILURE&runId=abd039b1-c26d-539d-812a-728f4914e12c) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52628?repo=metabase/metabase&commitHash=ed4e4704e7a601c609c92ff0c5c06754f84e534b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 20, 26, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2611635133, 'issue_id': 2807735177, 'author': 'github-actions[bot]', 'body': '👋 Deploying a preview environment for commit ed4e4704e7a601c609c92ff0c5c06754f84e534b.\n✅ Preview:\n    https://pr52628.coredev.metabase.com\n🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2025, 1, 24, 5, 31, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2611644942, 'issue_id': 2807735177, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `ed4e4704e7a601c609c92ff0c5c06754f84e534b-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12943781295?pr=52628)\n\n  File | Test Name\n  ---- | ---------\n  `model-indexes.cy.spec.js` | scenarios > model indexes > should be able to see details of a record outside the first 2000', 'created_at': datetime.datetime(2025, 1, 24, 5, 39, 27, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 20:26:18 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13490_tests-ed4e4704-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52628?repo=metabase/metabase&commitHash=ed4e4704e7a601c609c92ff0c5c06754f84e534b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52628?repo=metabase/metabase&commitHash=ed4e4704e7a601c609c92ff0c5c06754f84e534b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52628?repo=metabase/metabase&commitHash=ed4e4704e7a601c609c92ff0c5c06754f84e534b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52628?repo=metabase/metabase&commitHash=ed4e4704e7a601c609c92ff0c5c06754f84e534b&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > model indexes should be able to see details of a record outside the first 2000</code> | Unable to find an accessible element with the role ""option"" and name ""Anais Zieme"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52628?repo=metabase/metabase&commitHash=ed4e4704e7a601c609c92ff0c5c06754f84e534b&utm_source=gh-comment&runConclusion=FAILURE&runId=80048c6f-0baf-53ef-b7f9-f2d67f931e60) |
| <code>scenarios > model indexes should be able to search model index values and visit detail records</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52628?repo=metabase/metabase&commitHash=ed4e4704e7a601c609c92ff0c5c06754f84e534b&utm_source=gh-comment&runConclusion=FAILURE&runId=abd039b1-c26d-539d-812a-728f4914e12c) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52628?repo=metabase/metabase&commitHash=ed4e4704e7a601c609c92ff0c5c06754f84e534b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-24 05:31:11 UTC): 👋 Deploying a preview environment for commit ed4e4704e7a601c609c92ff0c5c06754f84e534b.
✅ Preview:
    https://pr52628.coredev.metabase.com
🗒️ [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

github-actions[bot] on (2025-01-24 05:39:27 UTC): ## e2e tests failed on `ed4e4704e7a601c609c92ff0c5c06754f84e534b-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12943781295?pr=52628)

  File | Test Name
  ---- | ---------
  `model-indexes.cy.spec.js` | scenarios > model indexes > should be able to see details of a record outside the first 2000

"
2807730216,pull_request,closed,,Auto-rewrite defendpoint forms in google.clj,,camsaul,2025-01-23 19:23:11+00:00,['camsaul'],2025-01-27 22:10:28+00:00,2025-01-24 02:35:38+00:00,https://github.com/metabase/metabase/pull/52626,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2610862289, 'issue_id': 2807730216, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `0c926be09abae79b90312a0e7e9ab7a56295ba24-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12936536136?pr=52626)\n\n  File | Test Name\n  ---- | ---------\n  `metrics-search.cy.spec.js` | scenarios > metrics > search > should see metrics in recent items in global search', 'created_at': datetime.datetime(2025, 1, 23, 19, 38, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610922107, 'issue_id': 2807730216, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/97922_tests-0c926be0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52626?repo=metabase/metabase&commitHash=0c926be09abae79b90312a0e7e9ab7a56295ba24&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52626?repo=metabase/metabase&commitHash=0c926be09abae79b90312a0e7e9ab7a56295ba24&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/19-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52626?repo=metabase/metabase&commitHash=0c926be09abae79b90312a0e7e9ab7a56295ba24&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52626?repo=metabase/metabase&commitHash=0c926be09abae79b90312a0e7e9ab7a56295ba24&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>update-invalidate-model-cache-test</code> | No Table \'venues\' found for Redshift database \'test-data (redshift)\' | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52626?repo=metabase/metabase&commitHash=0c926be09abae79b90312a0e7e9ab7a56295ba24&utm_source=gh-comment&runConclusion=FAILURE&runId=4f03f4fe-3fe1-5da0-a169-96721c570be4) |\n| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52626?repo=metabase/metabase&commitHash=0c926be09abae79b90312a0e7e9ab7a56295ba24&utm_source=gh-comment&runConclusion=FAILURE&runId=e05ae603-80d3-5524-9837-7558b2a155a1) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>join-multiple-tables-test</code> | The query failed because the table \'cities\' was not found in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52626?repo=metabase/metabase&commitHash=0c926be09abae79b90312a0e7e9ab7a56295ba24&utm_source=gh-comment&runConclusion=FAILURE&runId=584f5f02-f46b-52a9-a801-f6a163d170c8) |\n| <code>count-of-grouping-test</code> | No table \'checkins\' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52626?repo=metabase/metabase&commitHash=0c926be09abae79b90312a0e7e9ab7a56295ba24&utm_source=gh-comment&runConclusion=FAILURE&runId=385c7c92-988c-52d2-ba53-f34d0aa505e7) |\n| <code>include-no-fields-test</code> | No table \'flock\' found in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52626?repo=metabase/metabase&commitHash=0c926be09abae79b90312a0e7e9ab7a56295ba24&utm_source=gh-comment&runConclusion=FAILURE&runId=ae043b8a-d5ce-53f8-84a8-2a2029dc8df1) |\n| <code>breakout-on-fk-field-test</code> | No table \'cities\' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52626?repo=metabase/metabase&commitHash=0c926be09abae79b90312a0e7e9ab7a56295ba24&utm_source=gh-comment&runConclusion=FAILURE&runId=93d8f6c0-f9d1-55b6-be08-de4072843ea5) |\n\n[... and 15 more](https://app.trunk.io/metabase/flaky-tests/pr/52626?repo=metabase/metabase&commitHash=0c926be09abae79b90312a0e7e9ab7a56295ba24&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52626?repo=metabase/metabase&commitHash=0c926be09abae79b90312a0e7e9ab7a56295ba24&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 20, 10, 53, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-23 19:38:55 UTC): ## e2e tests failed on `0c926be09abae79b90312a0e7e9ab7a56295ba24-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12936536136?pr=52626)

  File | Test Name
  ---- | ---------
  `metrics-search.cy.spec.js` | scenarios > metrics > search > should see metrics in recent items in global search

trunk-io[bot] on (2025-01-23 20:10:53 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/97922_tests-0c926be0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52626?repo=metabase/metabase&commitHash=0c926be09abae79b90312a0e7e9ab7a56295ba24&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52626?repo=metabase/metabase&commitHash=0c926be09abae79b90312a0e7e9ab7a56295ba24&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/19-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52626?repo=metabase/metabase&commitHash=0c926be09abae79b90312a0e7e9ab7a56295ba24&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52626?repo=metabase/metabase&commitHash=0c926be09abae79b90312a0e7e9ab7a56295ba24&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>update-invalidate-model-cache-test</code> | No Table 'venues' found for Redshift database 'test-data (redshift)' | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52626?repo=metabase/metabase&commitHash=0c926be09abae79b90312a0e7e9ab7a56295ba24&utm_source=gh-comment&runConclusion=FAILURE&runId=4f03f4fe-3fe1-5da0-a169-96721c570be4) |
| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52626?repo=metabase/metabase&commitHash=0c926be09abae79b90312a0e7e9ab7a56295ba24&utm_source=gh-comment&runConclusion=FAILURE&runId=e05ae603-80d3-5524-9837-7558b2a155a1) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>join-multiple-tables-test</code> | The query failed because the table 'cities' was not found in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52626?repo=metabase/metabase&commitHash=0c926be09abae79b90312a0e7e9ab7a56295ba24&utm_source=gh-comment&runConclusion=FAILURE&runId=584f5f02-f46b-52a9-a801-f6a163d170c8) |
| <code>count-of-grouping-test</code> | No table 'checkins' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52626?repo=metabase/metabase&commitHash=0c926be09abae79b90312a0e7e9ab7a56295ba24&utm_source=gh-comment&runConclusion=FAILURE&runId=385c7c92-988c-52d2-ba53-f34d0aa505e7) |
| <code>include-no-fields-test</code> | No table 'flock' found in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52626?repo=metabase/metabase&commitHash=0c926be09abae79b90312a0e7e9ab7a56295ba24&utm_source=gh-comment&runConclusion=FAILURE&runId=ae043b8a-d5ce-53f8-84a8-2a2029dc8df1) |
| <code>breakout-on-fk-field-test</code> | No table 'cities' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52626?repo=metabase/metabase&commitHash=0c926be09abae79b90312a0e7e9ab7a56295ba24&utm_source=gh-comment&runConclusion=FAILURE&runId=93d8f6c0-f9d1-55b6-be08-de4072843ea5) |

[... and 15 more](https://app.trunk.io/metabase/flaky-tests/pr/52626?repo=metabase/metabase&commitHash=0c926be09abae79b90312a0e7e9ab7a56295ba24&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52626?repo=metabase/metabase&commitHash=0c926be09abae79b90312a0e7e9ab7a56295ba24&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2807725836,pull_request,closed,,Auto-rewrite defendpoint forms in revision.clj,,camsaul,2025-01-23 19:20:33+00:00,['camsaul'],2025-01-27 22:10:31+00:00,2025-01-24 01:01:01+00:00,https://github.com/metabase/metabase/pull/52625,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2610862331, 'issue_id': 2807725836, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `50651b561967b217f8fca9cda0ab3d67ebbd3572-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12936493586?pr=52625)\n\n  File | Test Name\n  ---- | ---------\n  `metrics-search.cy.spec.js` | scenarios > metrics > search > should see metrics in recent items in global search', 'created_at': datetime.datetime(2025, 1, 23, 19, 38, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610883275, 'issue_id': 2807725836, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/100654_tests-50651b56-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52625?repo=metabase/metabase&commitHash=50651b561967b217f8fca9cda0ab3d67ebbd3572&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/7-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52625?repo=metabase/metabase&commitHash=50651b561967b217f8fca9cda0ab3d67ebbd3572&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52625?repo=metabase/metabase&commitHash=50651b561967b217f8fca9cda0ab3d67ebbd3572&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52625?repo=metabase/metabase&commitHash=50651b561967b217f8fca9cda0ab3d67ebbd3572&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>describe-database-sanity-check-test</code> | The expected table does not exist in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52625?repo=metabase/metabase&commitHash=50651b561967b217f8fca9cda0ab3d67ebbd3572&utm_source=gh-comment&runConclusion=FAILURE&runId=74cc5989-d1ae-5922-9608-32af350ae984) |\n| <code>dataset-with-custom-pk-test</code> | No table \'user\' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52625?repo=metabase/metabase&commitHash=50651b561967b217f8fca9cda0ab3d67ebbd3572&utm_source=gh-comment&runConclusion=FAILURE&runId=a05494a6-fee2-581e-84a3-6e4dffdd7018) |\n| <code>scenarios > browse (EE) /browse/models allows models to be filtered, on an enterprise instance</code> | Unable to find an accessible element with the role ""heading"" and name ""Model 1"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52625?repo=metabase/metabase&commitHash=50651b561967b217f8fca9cda0ab3d67ebbd3572&utm_source=gh-comment&runConclusion=FAILURE&runId=2b2876c1-b412-5847-8158-d7ac38f6a545) |\n| <code>scenarios > native question > data reference sidebar should show models</code> | Unable to find an element with the text ""2 models"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52625?repo=metabase/metabase&commitHash=50651b561967b217f8fca9cda0ab3d67ebbd3572&utm_source=gh-comment&runConclusion=FAILURE&runId=30da3d30-deea-5140-b62c-0993df80ff1a) |\n\n[... and 3 more](https://app.trunk.io/metabase/flaky-tests/pr/52625?repo=metabase/metabase&commitHash=50651b561967b217f8fca9cda0ab3d67ebbd3572&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > metrics > search should see metrics in recent items in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52625?repo=metabase/metabase&commitHash=50651b561967b217f8fca9cda0ab3d67ebbd3572&utm_source=gh-comment&runConclusion=FAILURE&runId=13c2b5f6-4a6d-55b0-adf6-ee29cbc84343) |\n| <code>scenarios > metrics > search should be able to search for metrics on the search page</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52625?repo=metabase/metabase&commitHash=50651b561967b217f8fca9cda0ab3d67ebbd3572&utm_source=gh-comment&runConclusion=FAILURE&runId=6f6e867f-4633-5c53-ab36-46d18e8d1bf0) |\n| <code>scenarios > metrics > search should be able to search for metrics in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52625?repo=metabase/metabase&commitHash=50651b561967b217f8fca9cda0ab3d67ebbd3572&utm_source=gh-comment&runConclusion=FAILURE&runId=fe45e97a-cd06-5b62-b294-b720e1b53236) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52625?repo=metabase/metabase&commitHash=50651b561967b217f8fca9cda0ab3d67ebbd3572&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 19, 50, 34, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-23 19:38:56 UTC): ## e2e tests failed on `50651b561967b217f8fca9cda0ab3d67ebbd3572-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12936493586?pr=52625)

  File | Test Name
  ---- | ---------
  `metrics-search.cy.spec.js` | scenarios > metrics > search > should see metrics in recent items in global search

trunk-io[bot] on (2025-01-23 19:50:34 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/100654_tests-50651b56-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52625?repo=metabase/metabase&commitHash=50651b561967b217f8fca9cda0ab3d67ebbd3572&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/7-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52625?repo=metabase/metabase&commitHash=50651b561967b217f8fca9cda0ab3d67ebbd3572&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52625?repo=metabase/metabase&commitHash=50651b561967b217f8fca9cda0ab3d67ebbd3572&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52625?repo=metabase/metabase&commitHash=50651b561967b217f8fca9cda0ab3d67ebbd3572&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>describe-database-sanity-check-test</code> | The expected table does not exist in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52625?repo=metabase/metabase&commitHash=50651b561967b217f8fca9cda0ab3d67ebbd3572&utm_source=gh-comment&runConclusion=FAILURE&runId=74cc5989-d1ae-5922-9608-32af350ae984) |
| <code>dataset-with-custom-pk-test</code> | No table 'user' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52625?repo=metabase/metabase&commitHash=50651b561967b217f8fca9cda0ab3d67ebbd3572&utm_source=gh-comment&runConclusion=FAILURE&runId=a05494a6-fee2-581e-84a3-6e4dffdd7018) |
| <code>scenarios > browse (EE) /browse/models allows models to be filtered, on an enterprise instance</code> | Unable to find an accessible element with the role ""heading"" and name ""Model 1"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52625?repo=metabase/metabase&commitHash=50651b561967b217f8fca9cda0ab3d67ebbd3572&utm_source=gh-comment&runConclusion=FAILURE&runId=2b2876c1-b412-5847-8158-d7ac38f6a545) |
| <code>scenarios > native question > data reference sidebar should show models</code> | Unable to find an element with the text ""2 models"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52625?repo=metabase/metabase&commitHash=50651b561967b217f8fca9cda0ab3d67ebbd3572&utm_source=gh-comment&runConclusion=FAILURE&runId=30da3d30-deea-5140-b62c-0993df80ff1a) |

[... and 3 more](https://app.trunk.io/metabase/flaky-tests/pr/52625?repo=metabase/metabase&commitHash=50651b561967b217f8fca9cda0ab3d67ebbd3572&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > metrics > search should see metrics in recent items in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52625?repo=metabase/metabase&commitHash=50651b561967b217f8fca9cda0ab3d67ebbd3572&utm_source=gh-comment&runConclusion=FAILURE&runId=13c2b5f6-4a6d-55b0-adf6-ee29cbc84343) |
| <code>scenarios > metrics > search should be able to search for metrics on the search page</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52625?repo=metabase/metabase&commitHash=50651b561967b217f8fca9cda0ab3d67ebbd3572&utm_source=gh-comment&runConclusion=FAILURE&runId=6f6e867f-4633-5c53-ab36-46d18e8d1bf0) |
| <code>scenarios > metrics > search should be able to search for metrics in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52625?repo=metabase/metabase&commitHash=50651b561967b217f8fca9cda0ab3d67ebbd3572&utm_source=gh-comment&runConclusion=FAILURE&runId=fe45e97a-cd06-5b62-b294-b720e1b53236) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52625?repo=metabase/metabase&commitHash=50651b561967b217f8fca9cda0ab3d67ebbd3572&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2807722821,pull_request,closed,,Auto-rewrite remaining defendpoint forms in src/metabase/api/api_key.clj,,camsaul,2025-01-23 19:18:56+00:00,['camsaul'],2025-01-27 22:10:31+00:00,2025-01-24 00:55:11+00:00,https://github.com/metabase/metabase/pull/52624,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2610855080, 'issue_id': 2807722821, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `03b8fd37648c304c4f5e1798bc350d09e5451e97-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12936465975?pr=52624)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-card-resizing.cy.spec.js` | issue 31701 > should prevent link dashboard card overflows (metabase#31701)', 'created_at': datetime.datetime(2025, 1, 23, 19, 35, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610881790, 'issue_id': 2807722821, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/108764_tests-03b8fd37-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52624?repo=metabase/metabase&commitHash=03b8fd37648c304c4f5e1798bc350d09e5451e97&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/13-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52624?repo=metabase/metabase&commitHash=03b8fd37648c304c4f5e1798bc350d09e5451e97&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52624?repo=metabase/metabase&commitHash=03b8fd37648c304c4f5e1798bc350d09e5451e97&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52624?repo=metabase/metabase&commitHash=03b8fd37648c304c4f5e1798bc350d09e5451e97&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>describe-database-exclude-metabase-cache-test</code> | The Redshift query failed because the relation does not exist. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52624?repo=metabase/metabase&commitHash=03b8fd37648c304c4f5e1798bc350d09e5451e97&utm_source=gh-comment&runConclusion=FAILURE&runId=ae314a39-566c-5107-b11a-6fc12c066a36) |\n| <code>supports-schemas-matches-describe-database-test</code> | The Redshift database does not have a schema with a table. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52624?repo=metabase/metabase&commitHash=03b8fd37648c304c4f5e1798bc350d09e5451e97&utm_source=gh-comment&runConclusion=FAILURE&runId=870dae54-e756-5a29-a164-93bac6657f24) |\n| <code>sync-fks-and-fields-test</code> | No Table \'continent\' found for Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52624?repo=metabase/metabase&commitHash=03b8fd37648c304c4f5e1798bc350d09e5451e97&utm_source=gh-comment&runConclusion=FAILURE&runId=492e0843-59a4-56c7-ba32-6f0bbe817d08) |\n| <code>issue 31701 ""before each"" hook for ""should prevent link dashboard card overflows (metabase\\#31701)""</code> | Unable to find an element with data-testid ""search-result-item-name"" within 4000ms, causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52624?repo=metabase/metabase&commitHash=03b8fd37648c304c4f5e1798bc350d09e5451e97&utm_source=gh-comment&runConclusion=FAILURE&runId=965f6ba2-00df-5498-a259-4597e10d363d) |\n\n[... and 9 more](https://app.trunk.io/metabase/flaky-tests/pr/52624?repo=metabase/metabase&commitHash=03b8fd37648c304c4f5e1798bc350d09e5451e97&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52624?repo=metabase/metabase&commitHash=03b8fd37648c304c4f5e1798bc350d09e5451e97&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 19, 49, 46, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-23 19:35:13 UTC): ## e2e tests failed on `03b8fd37648c304c4f5e1798bc350d09e5451e97-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12936465975?pr=52624)

  File | Test Name
  ---- | ---------
  `dashboard-card-resizing.cy.spec.js` | issue 31701 > should prevent link dashboard card overflows (metabase#31701)

trunk-io[bot] on (2025-01-23 19:49:46 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/108764_tests-03b8fd37-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52624?repo=metabase/metabase&commitHash=03b8fd37648c304c4f5e1798bc350d09e5451e97&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/13-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52624?repo=metabase/metabase&commitHash=03b8fd37648c304c4f5e1798bc350d09e5451e97&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52624?repo=metabase/metabase&commitHash=03b8fd37648c304c4f5e1798bc350d09e5451e97&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52624?repo=metabase/metabase&commitHash=03b8fd37648c304c4f5e1798bc350d09e5451e97&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>describe-database-exclude-metabase-cache-test</code> | The Redshift query failed because the relation does not exist. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52624?repo=metabase/metabase&commitHash=03b8fd37648c304c4f5e1798bc350d09e5451e97&utm_source=gh-comment&runConclusion=FAILURE&runId=ae314a39-566c-5107-b11a-6fc12c066a36) |
| <code>supports-schemas-matches-describe-database-test</code> | The Redshift database does not have a schema with a table. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52624?repo=metabase/metabase&commitHash=03b8fd37648c304c4f5e1798bc350d09e5451e97&utm_source=gh-comment&runConclusion=FAILURE&runId=870dae54-e756-5a29-a164-93bac6657f24) |
| <code>sync-fks-and-fields-test</code> | No Table 'continent' found for Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52624?repo=metabase/metabase&commitHash=03b8fd37648c304c4f5e1798bc350d09e5451e97&utm_source=gh-comment&runConclusion=FAILURE&runId=492e0843-59a4-56c7-ba32-6f0bbe817d08) |
| <code>issue 31701 ""before each"" hook for ""should prevent link dashboard card overflows (metabase\#31701)""</code> | Unable to find an element with data-testid ""search-result-item-name"" within 4000ms, causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52624?repo=metabase/metabase&commitHash=03b8fd37648c304c4f5e1798bc350d09e5451e97&utm_source=gh-comment&runConclusion=FAILURE&runId=965f6ba2-00df-5498-a259-4597e10d363d) |

[... and 9 more](https://app.trunk.io/metabase/flaky-tests/pr/52624?repo=metabase/metabase&commitHash=03b8fd37648c304c4f5e1798bc350d09e5451e97&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52624?repo=metabase/metabase&commitHash=03b8fd37648c304c4f5e1798bc350d09e5451e97&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2807697801,pull_request,closed,,"🤖 backported ""docs - add link to list of tz database time zones""",#52617,github-automation-metabase,2025-01-23 19:05:16+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2025-01-23 19:06:43+00:00,2025-01-23 19:06:42+00:00,https://github.com/metabase/metabase/pull/52623,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2807673043,pull_request,open,,pivot table: show subtotals for a single item,"Closes https://github.com/metabase/metabase/issues/52333

### Description

Describe the overall approach and the problem being solved.

### How to verify

Test query:
```
SELECT *
FROM (
  SELECT
    category,
    source,
    state,
    SUM(orders.discount) AS discount,
    SUM(orders.total) AS total,
    SUM(orders.quantity) AS quantity
  FROM
    orders
    LEFT JOIN products ON orders.product_id = products.id
    LEFT JOIN people ON orders.user_id = people.id
  GROUP BY category, source, state
) AS filtered_orders
WHERE NOT (
  category = 'Gizmo'
  AND (
    source IN ('Facebook', 'Google', 'Organic', 'Twitter')
    OR state NOT IN ('AK')
  )
);
```

- Create a question from the query above and save it
- Click ""Explore results"" to create a nested question
- Group by Category, Source, State
- Make it a pivot table with the following settings
<img width=""334"" alt=""Screenshot 2025-01-23 at 10 07 26 PM"" src=""https://github.com/user-attachments/assets/df94aa75-1d1b-4870-a655-38ec13a100f3"" />

- Ensure it shows subtotals for Affiliate even though it has a single state value:
<img width=""428"" alt=""Screenshot 2025-01-23 at 10 07 16 PM"" src=""https://github.com/user-attachments/assets/c4dd3ed3-95b8-4b6c-a436-28eb15912d99"" />

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",alxnddr,2025-01-23 18:51:41+00:00,['alxnddr'],2025-02-04 10:52:46+00:00,,https://github.com/metabase/metabase/pull/52622,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2611496831, 'issue_id': 2807673043, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13398_tests-ecc0ec87-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52622?repo=metabase/metabase&commitHash=ecc0ec87efa322844ca1d7cc94c46ee702150086&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52622?repo=metabase/metabase&commitHash=ecc0ec87efa322844ca1d7cc94c46ee702150086&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52622?repo=metabase/metabase&commitHash=ecc0ec87efa322844ca1d7cc94c46ee702150086&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52622?repo=metabase/metabase&commitHash=ecc0ec87efa322844ca1d7cc94c46ee702150086&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 23076 should correctly translate dates (metabase\\#23076)</code> | The expected value \'Summen für Mai 2023\' was not matched with the actual value \'Summen für Januar 2023\' after 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52622?repo=metabase/metabase&commitHash=ecc0ec87efa322844ca1d7cc94c46ee702150086&utm_source=gh-comment&runConclusion=FAILURE&runId=1e9b10a5-d724-5d19-a306-dd220b9aaaad) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\#24966)</code> | The \'body\' property was accessed on an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52622?repo=metabase/metabase&commitHash=ecc0ec87efa322844ca1d7cc94c46ee702150086&utm_source=gh-comment&runConclusion=FAILURE&runId=31e30499-cbb0-519e-ac4b-668aa73ee671) |\n| <code>issue 16559 should always show the most recent revision (metabase\\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52622?repo=metabase/metabase&commitHash=ecc0ec87efa322844ca1d7cc94c46ee702150086&utm_source=gh-comment&runConclusion=FAILURE&runId=ba41b3d3-9c14-573d-934e-859c87d4ff86) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52622?repo=metabase/metabase&commitHash=ecc0ec87efa322844ca1d7cc94c46ee702150086&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 3, 48, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616044753, 'issue_id': 2807673043, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `ecc0ec87efa322844ca1d7cc94c46ee702150086-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12991811327?pr=52622)\n\n  File | Test Name\n  ---- | ---------\n  `permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)', 'created_at': datetime.datetime(2025, 1, 27, 15, 18, 48, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-24 03:48:40 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13398_tests-ecc0ec87-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52622?repo=metabase/metabase&commitHash=ecc0ec87efa322844ca1d7cc94c46ee702150086&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52622?repo=metabase/metabase&commitHash=ecc0ec87efa322844ca1d7cc94c46ee702150086&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52622?repo=metabase/metabase&commitHash=ecc0ec87efa322844ca1d7cc94c46ee702150086&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52622?repo=metabase/metabase&commitHash=ecc0ec87efa322844ca1d7cc94c46ee702150086&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 23076 should correctly translate dates (metabase\#23076)</code> | The expected value 'Summen für Mai 2023' was not matched with the actual value 'Summen für Januar 2023' after 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52622?repo=metabase/metabase&commitHash=ecc0ec87efa322844ca1d7cc94c46ee702150086&utm_source=gh-comment&runConclusion=FAILURE&runId=1e9b10a5-d724-5d19-a306-dd220b9aaaad) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52622?repo=metabase/metabase&commitHash=ecc0ec87efa322844ca1d7cc94c46ee702150086&utm_source=gh-comment&runConclusion=FAILURE&runId=31e30499-cbb0-519e-ac4b-668aa73ee671) |
| <code>issue 16559 should always show the most recent revision (metabase\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52622?repo=metabase/metabase&commitHash=ecc0ec87efa322844ca1d7cc94c46ee702150086&utm_source=gh-comment&runConclusion=FAILURE&runId=ba41b3d3-9c14-573d-934e-859c87d4ff86) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52622?repo=metabase/metabase&commitHash=ecc0ec87efa322844ca1d7cc94c46ee702150086&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-27 15:18:48 UTC): ## e2e tests failed on `ecc0ec87efa322844ca1d7cc94c46ee702150086-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12991811327?pr=52622)

  File | Test Name
  ---- | ---------
  `permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)

"
2807649765,pull_request,closed,,Return a friendly message when the number of round trips is exceeded,"Fixes #52591.
",metamben,2025-01-23 18:41:47+00:00,['metamben'],2025-01-23 20:19:09+00:00,2025-01-23 19:36:58+00:00,https://github.com/metabase/metabase/pull/52621,"[('Metabot/General', 'General Metabot AI'), ('.Team/Querying', '')]","[{'comment_id': 2610792525, 'issue_id': 2807649765, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `5b7c07caf92d5955333257da2963a77c5dfcfe46-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12935883367?pr=52621)\n\n  File | Test Name\n  ---- | ---------\n  `browse.cy.spec.ts` | scenarios > browse (EE) > /browse/models allows models to be filtered, on an enterprise instance', 'created_at': datetime.datetime(2025, 1, 23, 19, 3, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610837670, 'issue_id': 2807649765, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/100648_tests-5b7c07ca-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52621?repo=metabase/metabase&commitHash=5b7c07caf92d5955333257da2963a77c5dfcfe46&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52621?repo=metabase/metabase&commitHash=5b7c07caf92d5955333257da2963a77c5dfcfe46&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52621?repo=metabase/metabase&commitHash=5b7c07caf92d5955333257da2963a77c5dfcfe46&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52621?repo=metabase/metabase&commitHash=5b7c07caf92d5955333257da2963a77c5dfcfe46&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > browse (EE) /browse/models allows models to be filtered, on an enterprise instance</code> | Unable to find an accessible element with the role ""heading"" and name ""Model 1"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52621?repo=metabase/metabase&commitHash=5b7c07caf92d5955333257da2963a77c5dfcfe46&utm_source=gh-comment&runConclusion=FAILURE&runId=29041c7c-36c0-5065-9df6-51ce1d5e275b) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52621?repo=metabase/metabase&commitHash=5b7c07caf92d5955333257da2963a77c5dfcfe46&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 19, 26, 12, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-23 19:03:11 UTC): ## e2e tests failed on `5b7c07caf92d5955333257da2963a77c5dfcfe46-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12935883367?pr=52621)

  File | Test Name
  ---- | ---------
  `browse.cy.spec.ts` | scenarios > browse (EE) > /browse/models allows models to be filtered, on an enterprise instance

trunk-io[bot] on (2025-01-23 19:26:12 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/100648_tests-5b7c07ca-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52621?repo=metabase/metabase&commitHash=5b7c07caf92d5955333257da2963a77c5dfcfe46&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52621?repo=metabase/metabase&commitHash=5b7c07caf92d5955333257da2963a77c5dfcfe46&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52621?repo=metabase/metabase&commitHash=5b7c07caf92d5955333257da2963a77c5dfcfe46&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52621?repo=metabase/metabase&commitHash=5b7c07caf92d5955333257da2963a77c5dfcfe46&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > browse (EE) /browse/models allows models to be filtered, on an enterprise instance</code> | Unable to find an accessible element with the role ""heading"" and name ""Model 1"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52621?repo=metabase/metabase&commitHash=5b7c07caf92d5955333257da2963a77c5dfcfe46&utm_source=gh-comment&runConclusion=FAILURE&runId=29041c7c-36c0-5065-9df6-51ce1d5e275b) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52621?repo=metabase/metabase&commitHash=5b7c07caf92d5955333257da2963a77c5dfcfe46&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2807645546,pull_request,closed,,Drop Java 11/17 Support,As discussed here https://metaboat.slack.com/archives/CKZEMT1MJ/p1737638913403139,camsaul,2025-01-23 18:40:19+00:00,['camsaul'],2025-01-27 22:10:15+00:00,2025-01-24 21:37:28+00:00,https://github.com/metabase/metabase/pull/52620,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2610836967, 'issue_id': 2807645546, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/92133_tests-3e8f4fe2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52620?repo=metabase/metabase&commitHash=3e8f4fe2001d5f72e56f38fd9b7d3d69ee8d18b5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/12-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52620?repo=metabase/metabase&commitHash=3e8f4fe2001d5f72e56f38fd9b7d3d69ee8d18b5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/8-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52620?repo=metabase/metabase&commitHash=3e8f4fe2001d5f72e56f38fd9b7d3d69ee8d18b5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52620?repo=metabase/metabase&commitHash=3e8f4fe2001d5f72e56f38fd9b7d3d69ee8d18b5&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>microseconds-test</code> | No table \'incidents\' found in the Redshift database \'toucan-ms-incidents\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52620?repo=metabase/metabase&commitHash=3e8f4fe2001d5f72e56f38fd9b7d3d69ee8d18b5&utm_source=gh-comment&runConclusion=FAILURE&runId=fddb26c7-6220-5783-a5d0-1786bc65834c) |\n| <code>is-empty-not-empty-with-not-emptyable-args-test</code> | No table \'checkins\' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52620?repo=metabase/metabase&commitHash=3e8f4fe2001d5f72e56f38fd9b7d3d69ee8d18b5&utm_source=gh-comment&runConclusion=FAILURE&runId=0fb9e0ef-ad93-54fe-a251-1fd63f890912) |\n| <code>is-empty-not-empty-with-not-emptyable-args-test-3</code> | No table \'checkins\' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52620?repo=metabase/metabase&commitHash=3e8f4fe2001d5f72e56f38fd9b7d3d69ee8d18b5&utm_source=gh-comment&runConclusion=FAILURE&runId=8ae4ec83-1e1f-565f-9ee8-92bc0d3f150e) |\n| <code>is-empty-not-empty-with-not-emptyable-args-test-2</code> | No table \'checkins\' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52620?repo=metabase/metabase&commitHash=3e8f4fe2001d5f72e56f38fd9b7d3d69ee8d18b5&utm_source=gh-comment&runConclusion=FAILURE&runId=3e3b8cdd-035a-574b-9919-4e08c63c7442) |\n\n[... and 8 more](https://app.trunk.io/metabase/flaky-tests/pr/52620?repo=metabase/metabase&commitHash=3e8f4fe2001d5f72e56f38fd9b7d3d69ee8d18b5&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > metrics > search should be able to search for metrics in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52620?repo=metabase/metabase&commitHash=3e8f4fe2001d5f72e56f38fd9b7d3d69ee8d18b5&utm_source=gh-comment&runConclusion=FAILURE&runId=8adabafb-f7f5-5a34-ba2e-2be3f5c005e0) |\n| <code>scenarios > metrics > search should be able to search for metrics on the search page</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52620?repo=metabase/metabase&commitHash=3e8f4fe2001d5f72e56f38fd9b7d3d69ee8d18b5&utm_source=gh-comment&runConclusion=FAILURE&runId=49b48267-e9e4-558c-a5bd-a562ffc70d20) |\n| <code>scenarios > metrics > search should see metrics in recent items in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52620?repo=metabase/metabase&commitHash=3e8f4fe2001d5f72e56f38fd9b7d3d69ee8d18b5&utm_source=gh-comment&runConclusion=FAILURE&runId=b3a807ec-68a4-555d-812b-13dfb11e9ebf) |\n| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find a button with the name ""Done"" after 4 seconds of waiting. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52620?repo=metabase/metabase&commitHash=3e8f4fe2001d5f72e56f38fd9b7d3d69ee8d18b5&utm_source=gh-comment&runConclusion=FAILURE&runId=61f0abc5-debb-51c2-9d78-222ae5999d34) |\n\n[... and 4 more](https://app.trunk.io/metabase/flaky-tests/pr/52620?repo=metabase/metabase&commitHash=3e8f4fe2001d5f72e56f38fd9b7d3d69ee8d18b5&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52620?repo=metabase/metabase&commitHash=3e8f4fe2001d5f72e56f38fd9b7d3d69ee8d18b5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 19, 25, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610861336, 'issue_id': 2807645546, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `3e8f4fe2001d5f72e56f38fd9b7d3d69ee8d18b5-3`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12936519770?pr=52620)\n\n  File | Test Name\n  ---- | ---------\n  `metrics-search.cy.spec.js` | scenarios > metrics > search > should see metrics in recent items in global search', 'created_at': datetime.datetime(2025, 1, 23, 19, 38, 25, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 19:25:47 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/92133_tests-3e8f4fe2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52620?repo=metabase/metabase&commitHash=3e8f4fe2001d5f72e56f38fd9b7d3d69ee8d18b5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/12-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52620?repo=metabase/metabase&commitHash=3e8f4fe2001d5f72e56f38fd9b7d3d69ee8d18b5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/8-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52620?repo=metabase/metabase&commitHash=3e8f4fe2001d5f72e56f38fd9b7d3d69ee8d18b5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52620?repo=metabase/metabase&commitHash=3e8f4fe2001d5f72e56f38fd9b7d3d69ee8d18b5&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>microseconds-test</code> | No table 'incidents' found in the Redshift database 'toucan-ms-incidents'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52620?repo=metabase/metabase&commitHash=3e8f4fe2001d5f72e56f38fd9b7d3d69ee8d18b5&utm_source=gh-comment&runConclusion=FAILURE&runId=fddb26c7-6220-5783-a5d0-1786bc65834c) |
| <code>is-empty-not-empty-with-not-emptyable-args-test</code> | No table 'checkins' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52620?repo=metabase/metabase&commitHash=3e8f4fe2001d5f72e56f38fd9b7d3d69ee8d18b5&utm_source=gh-comment&runConclusion=FAILURE&runId=0fb9e0ef-ad93-54fe-a251-1fd63f890912) |
| <code>is-empty-not-empty-with-not-emptyable-args-test-3</code> | No table 'checkins' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52620?repo=metabase/metabase&commitHash=3e8f4fe2001d5f72e56f38fd9b7d3d69ee8d18b5&utm_source=gh-comment&runConclusion=FAILURE&runId=8ae4ec83-1e1f-565f-9ee8-92bc0d3f150e) |
| <code>is-empty-not-empty-with-not-emptyable-args-test-2</code> | No table 'checkins' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52620?repo=metabase/metabase&commitHash=3e8f4fe2001d5f72e56f38fd9b7d3d69ee8d18b5&utm_source=gh-comment&runConclusion=FAILURE&runId=3e3b8cdd-035a-574b-9919-4e08c63c7442) |

[... and 8 more](https://app.trunk.io/metabase/flaky-tests/pr/52620?repo=metabase/metabase&commitHash=3e8f4fe2001d5f72e56f38fd9b7d3d69ee8d18b5&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > metrics > search should be able to search for metrics in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52620?repo=metabase/metabase&commitHash=3e8f4fe2001d5f72e56f38fd9b7d3d69ee8d18b5&utm_source=gh-comment&runConclusion=FAILURE&runId=8adabafb-f7f5-5a34-ba2e-2be3f5c005e0) |
| <code>scenarios > metrics > search should be able to search for metrics on the search page</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52620?repo=metabase/metabase&commitHash=3e8f4fe2001d5f72e56f38fd9b7d3d69ee8d18b5&utm_source=gh-comment&runConclusion=FAILURE&runId=49b48267-e9e4-558c-a5bd-a562ffc70d20) |
| <code>scenarios > metrics > search should see metrics in recent items in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52620?repo=metabase/metabase&commitHash=3e8f4fe2001d5f72e56f38fd9b7d3d69ee8d18b5&utm_source=gh-comment&runConclusion=FAILURE&runId=b3a807ec-68a4-555d-812b-13dfb11e9ebf) |
| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find a button with the name ""Done"" after 4 seconds of waiting. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52620?repo=metabase/metabase&commitHash=3e8f4fe2001d5f72e56f38fd9b7d3d69ee8d18b5&utm_source=gh-comment&runConclusion=FAILURE&runId=61f0abc5-debb-51c2-9d78-222ae5999d34) |

[... and 4 more](https://app.trunk.io/metabase/flaky-tests/pr/52620?repo=metabase/metabase&commitHash=3e8f4fe2001d5f72e56f38fd9b7d3d69ee8d18b5&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52620?repo=metabase/metabase&commitHash=3e8f4fe2001d5f72e56f38fd9b7d3d69ee8d18b5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-23 19:38:25 UTC): ## e2e tests failed on `3e8f4fe2001d5f72e56f38fd9b7d3d69ee8d18b5-3`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12936519770?pr=52620)

  File | Test Name
  ---- | ---------
  `metrics-search.cy.spec.js` | scenarios > metrics > search > should see metrics in recent items in global search

"
2807641494,pull_request,closed,,"🤖 backported ""Do not ignore full_stacktrace on import""",#52580,github-automation-metabase,2025-01-23 18:38:35+00:00,"['wotbrew', 'github-automation-metabase']",2025-01-24 13:07:43+00:00,2025-01-24 13:07:42+00:00,https://github.com/metabase/metabase/pull/52619,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2610839458, 'issue_id': 2807641494, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/100961_tests-dc9a4db4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52619?repo=metabase/metabase&commitHash=dc9a4db4fa4d102ead1024442a030cb0e1d98a5f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52619?repo=metabase/metabase&commitHash=dc9a4db4fa4d102ead1024442a030cb0e1d98a5f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52619?repo=metabase/metabase&commitHash=dc9a4db4fa4d102ead1024442a030cb0e1d98a5f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52619?repo=metabase/metabase&commitHash=dc9a4db4fa4d102ead1024442a030cb0e1d98a5f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:329:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\\#'sync.fingerprint/max-refingerprint-field... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52619?repo=metabase/metabase&commitHash=dc9a4db4fa4d102ead1024442a030cb0e1d98a5f&utm_source=gh-comment&runConclusion=FAILURE&runId=0d89f280-a0ad-5282-9d6b-9aef84f3bdd8) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52619?repo=metabase/metabase&commitHash=dc9a4db4fa4d102ead1024442a030cb0e1d98a5f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 23, 19, 27, 12, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 19:27:12 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/100961_tests-dc9a4db4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52619?repo=metabase/metabase&commitHash=dc9a4db4fa4d102ead1024442a030cb0e1d98a5f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52619?repo=metabase/metabase&commitHash=dc9a4db4fa4d102ead1024442a030cb0e1d98a5f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52619?repo=metabase/metabase&commitHash=dc9a4db4fa4d102ead1024442a030cb0e1d98a5f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52619?repo=metabase/metabase&commitHash=dc9a4db4fa4d102ead1024442a030cb0e1d98a5f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:329:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerprint-field... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52619?repo=metabase/metabase&commitHash=dc9a4db4fa4d102ead1024442a030cb0e1d98a5f&utm_source=gh-comment&runConclusion=FAILURE&runId=0d89f280-a0ad-5282-9d6b-9aef84f3bdd8) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52619?repo=metabase/metabase&commitHash=dc9a4db4fa4d102ead1024442a030cb0e1d98a5f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2807619661,pull_request,closed,,"🤖 backported ""Add repro for ""Cannot filter on enum fields on dashboards""""",#52602,github-automation-metabase,2025-01-23 18:25:44+00:00,"['ranquild', 'github-automation-metabase']",2025-01-23 19:46:51+00:00,2025-01-23 19:13:53+00:00,https://github.com/metabase/metabase/pull/52618,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2610705208, 'issue_id': 2807619661, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `d469aef1892f830ca0939d570ec55e1d628b815b-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12935626589?pr=52618)\n\n  File | Test Name\n  ---- | ---------\n  `api-keys.cy.spec.ts` | scenarios > admin > settings > API keys > should show an error when a previously used key name is submitted', 'created_at': datetime.datetime(2025, 1, 23, 18, 44, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610837886, 'issue_id': 2807619661, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3493_tests-d469aef1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52618?repo=metabase/metabase&commitHash=d469aef1892f830ca0939d570ec55e1d628b815b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52618?repo=metabase/metabase&commitHash=d469aef1892f830ca0939d570ec55e1d628b815b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52618?repo=metabase/metabase&commitHash=d469aef1892f830ca0939d570ec55e1d628b815b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52618?repo=metabase/metabase&commitHash=d469aef1892f830ca0939d570ec55e1d628b815b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>converting question to a native query (metabase\\#15946, metabase\\#32121, metabase\\#38181) should work for both simple and nested questions based on...</code> | The expected text was not found in the element after 4 seconds, containing \'Small Marble Shoes\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52618?repo=metabase/metabase&commitHash=d469aef1892f830ca0939d570ec55e1d628b815b&utm_source=gh-comment&runConclusion=FAILURE&runId=e21ee41f-af27-58da-9840-d82a4d8d1762) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find a button with the name ""Done"" after 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52618?repo=metabase/metabase&commitHash=d469aef1892f830ca0939d570ec55e1d628b815b&utm_source=gh-comment&runConclusion=FAILURE&runId=a93a255d-137d-537c-b759-7a5e9b2da9b0) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52618?repo=metabase/metabase&commitHash=d469aef1892f830ca0939d570ec55e1d628b815b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 19, 26, 19, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-23 18:44:30 UTC): ## e2e tests failed on `d469aef1892f830ca0939d570ec55e1d628b815b-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12935626589?pr=52618)

  File | Test Name
  ---- | ---------
  `api-keys.cy.spec.ts` | scenarios > admin > settings > API keys > should show an error when a previously used key name is submitted

trunk-io[bot] on (2025-01-23 19:26:19 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3493_tests-d469aef1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52618?repo=metabase/metabase&commitHash=d469aef1892f830ca0939d570ec55e1d628b815b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52618?repo=metabase/metabase&commitHash=d469aef1892f830ca0939d570ec55e1d628b815b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52618?repo=metabase/metabase&commitHash=d469aef1892f830ca0939d570ec55e1d628b815b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52618?repo=metabase/metabase&commitHash=d469aef1892f830ca0939d570ec55e1d628b815b&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>converting question to a native query (metabase\#15946, metabase\#32121, metabase\#38181) should work for both simple and nested questions based on...</code> | The expected text was not found in the element after 4 seconds, containing 'Small Marble Shoes'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52618?repo=metabase/metabase&commitHash=d469aef1892f830ca0939d570ec55e1d628b815b&utm_source=gh-comment&runConclusion=FAILURE&runId=e21ee41f-af27-58da-9840-d82a4d8d1762) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find a button with the name ""Done"" after 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52618?repo=metabase/metabase&commitHash=d469aef1892f830ca0939d570ec55e1d628b815b&utm_source=gh-comment&runConclusion=FAILURE&runId=a93a255d-137d-537c-b759-7a5e9b2da9b0) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52618?repo=metabase/metabase&commitHash=d469aef1892f830ca0939d570ec55e1d628b815b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2807590233,pull_request,closed,,docs - add link to list of tz database time zones,See https://github.com/metabase/metabase/pull/52603,jeff-bruemmer,2025-01-23 18:10:15+00:00,['jeff-bruemmer'],2025-01-23 19:07:11+00:00,2025-01-23 19:04:20+00:00,https://github.com/metabase/metabase/pull/52617,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2807588507,pull_request,closed,,Close clause popovers when dnd is active,"Fixes https://github.com/metabase/metabase/issues/48922

How to verify:
- Open a question with multiple filters
- Go to notebook and click on one of the filters to open the filter pick
- Now reorder filter clauses with drag-n-drop without closing the popover
- The popover should be closed automatically",ranquild,2025-01-23 18:09:18+00:00,['ranquild'],2025-01-24 14:21:14+00:00,2025-01-24 14:21:11+00:00,https://github.com/metabase/metabase/pull/52616,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2610831730, 'issue_id': 2807588507, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13383_tests-0f5946d1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52616?repo=metabase/metabase&commitHash=0f5946d1127087e829cdbec25794e3ae5c225353&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52616?repo=metabase/metabase&commitHash=0f5946d1127087e829cdbec25794e3ae5c225353&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52616?repo=metabase/metabase&commitHash=0f5946d1127087e829cdbec25794e3ae5c225353&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52616?repo=metabase/metabase&commitHash=0f5946d1127087e829cdbec25794e3ae5c225353&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52616?repo=metabase/metabase&commitHash=0f5946d1127087e829cdbec25794e3ae5c225353&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 19, 22, 51, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 19:22:51 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13383_tests-0f5946d1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52616?repo=metabase/metabase&commitHash=0f5946d1127087e829cdbec25794e3ae5c225353&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52616?repo=metabase/metabase&commitHash=0f5946d1127087e829cdbec25794e3ae5c225353&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52616?repo=metabase/metabase&commitHash=0f5946d1127087e829cdbec25794e3ae5c225353&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52616?repo=metabase/metabase&commitHash=0f5946d1127087e829cdbec25794e3ae5c225353&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52616?repo=metabase/metabase&commitHash=0f5946d1127087e829cdbec25794e3ae5c225353&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2807572171,pull_request,closed,,Re-enable the filter-records tool,"It turns out that a fair number of our test cases rely on this tool, and they worked before, so it might be stable enough.
",metamben,2025-01-23 18:00:35+00:00,['metamben'],2025-01-23 19:20:54+00:00,2025-01-23 18:01:50+00:00,https://github.com/metabase/metabase/pull/52615,"[('.Team/Querying', ''), ('Metabot/Tools', 'Tools that are agnostic of the LLM framework itself, could be reused for notifications framework als')]","[{'comment_id': 2610631371, 'issue_id': 2807572171, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `c793f8d14f82704413f6935696eb1a42d5e27c9c-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12935198748?pr=52615)\n\n  File | Test Name\n  ---- | ---------\n  `official-collections.cy.spec.js` | official collections > token expired or removed > should not display official collection icon anymore', 'created_at': datetime.datetime(2025, 1, 23, 18, 19, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610763579, 'issue_id': 2807572171, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/113178_tests-8a0134e2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52615?repo=metabase/metabase&commitHash=8a0134e246c7e4c81b21000b474877d63b7db5cd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52615?repo=metabase/metabase&commitHash=8a0134e246c7e4c81b21000b474877d63b7db5cd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52615?repo=metabase/metabase&commitHash=8a0134e246c7e4c81b21000b474877d63b7db5cd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52615?repo=metabase/metabase&commitHash=8a0134e246c7e4c81b21000b474877d63b7db5cd&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>check-can-connect-before-sync-test</code> | The expected response from the POST /api/database/:id/sync\\_schema endpoint timed out after 3 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52615?repo=metabase/metabase&commitHash=8a0134e246c7e4c81b21000b474877d63b7db5cd&utm_source=gh-comment&runConclusion=FAILURE&runId=655b4152-ade6-5e5a-ae2c-9006fd6569e8) |\n| <code>issue 36669 should be able to change question data source to raw data after selecting saved question (metabase\\#36669)</code> | Unable to find an element with the text ""Orders 36669"" within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52615?repo=metabase/metabase&commitHash=8a0134e246c7e4c81b21000b474877d63b7db5cd&utm_source=gh-comment&runConclusion=FAILURE&runId=a796bf69-9dfc-53e6-9594-14d3610708b8) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>official collections token expired or removed should not display official collection icon anymore</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52615?repo=metabase/metabase&commitHash=8a0134e246c7e4c81b21000b474877d63b7db5cd&utm_source=gh-comment&runConclusion=FAILURE&runId=0345a676-1a43-5cd0-ba2c-21ca272b15a5) |\n| <code>official collections premium token with paid features displays official badge throughout the application</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52615?repo=metabase/metabase&commitHash=8a0134e246c7e4c81b21000b474877d63b7db5cd&utm_source=gh-comment&runConclusion=FAILURE&runId=71877bb4-4ea2-5c8c-82f3-d4818f4ace9f) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52615?repo=metabase/metabase&commitHash=8a0134e246c7e4c81b21000b474877d63b7db5cd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 18, 52, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-23 18:19:47 UTC): ## e2e tests failed on `c793f8d14f82704413f6935696eb1a42d5e27c9c-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12935198748?pr=52615)

  File | Test Name
  ---- | ---------
  `official-collections.cy.spec.js` | official collections > token expired or removed > should not display official collection icon anymore

trunk-io[bot] on (2025-01-23 18:52:00 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/113178_tests-8a0134e2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52615?repo=metabase/metabase&commitHash=8a0134e246c7e4c81b21000b474877d63b7db5cd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52615?repo=metabase/metabase&commitHash=8a0134e246c7e4c81b21000b474877d63b7db5cd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52615?repo=metabase/metabase&commitHash=8a0134e246c7e4c81b21000b474877d63b7db5cd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52615?repo=metabase/metabase&commitHash=8a0134e246c7e4c81b21000b474877d63b7db5cd&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>check-can-connect-before-sync-test</code> | The expected response from the POST /api/database/:id/sync\_schema endpoint timed out after 3 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52615?repo=metabase/metabase&commitHash=8a0134e246c7e4c81b21000b474877d63b7db5cd&utm_source=gh-comment&runConclusion=FAILURE&runId=655b4152-ade6-5e5a-ae2c-9006fd6569e8) |
| <code>issue 36669 should be able to change question data source to raw data after selecting saved question (metabase\#36669)</code> | Unable to find an element with the text ""Orders 36669"" within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52615?repo=metabase/metabase&commitHash=8a0134e246c7e4c81b21000b474877d63b7db5cd&utm_source=gh-comment&runConclusion=FAILURE&runId=a796bf69-9dfc-53e6-9594-14d3610708b8) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>official collections token expired or removed should not display official collection icon anymore</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52615?repo=metabase/metabase&commitHash=8a0134e246c7e4c81b21000b474877d63b7db5cd&utm_source=gh-comment&runConclusion=FAILURE&runId=0345a676-1a43-5cd0-ba2c-21ca272b15a5) |
| <code>official collections premium token with paid features displays official badge throughout the application</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52615?repo=metabase/metabase&commitHash=8a0134e246c7e4c81b21000b474877d63b7db5cd&utm_source=gh-comment&runConclusion=FAILURE&runId=71877bb4-4ea2-5c8c-82f3-d4818f4ace9f) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52615?repo=metabase/metabase&commitHash=8a0134e246c7e4c81b21000b474877d63b7db5cd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2807552771,pull_request,closed,,"🤖 backported ""Remove an external link from convert-timezone description""",#52603,github-automation-metabase,2025-01-23 17:53:21+00:00,"['ranquild', 'github-automation-metabase']",2025-01-23 19:18:59+00:00,2025-01-23 18:25:31+00:00,https://github.com/metabase/metabase/pull/52614,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2610784239, 'issue_id': 2807552771, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13675_tests-8a781acb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52614?repo=metabase/metabase&commitHash=8a781acbd116d250810d48bbaec5ef69bea194d0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52614?repo=metabase/metabase&commitHash=8a781acbd116d250810d48bbaec5ef69bea194d0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52614?repo=metabase/metabase&commitHash=8a781acbd116d250810d48bbaec5ef69bea194d0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52614?repo=metabase/metabase&commitHash=8a781acbd116d250810d48bbaec5ef69bea194d0&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52614?repo=metabase/metabase&commitHash=8a781acbd116d250810d48bbaec5ef69bea194d0&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 18, 59, 19, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 18:59:19 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13675_tests-8a781acb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52614?repo=metabase/metabase&commitHash=8a781acbd116d250810d48bbaec5ef69bea194d0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52614?repo=metabase/metabase&commitHash=8a781acbd116d250810d48bbaec5ef69bea194d0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52614?repo=metabase/metabase&commitHash=8a781acbd116d250810d48bbaec5ef69bea194d0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52614?repo=metabase/metabase&commitHash=8a781acbd116d250810d48bbaec5ef69bea194d0&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52614?repo=metabase/metabase&commitHash=8a781acbd116d250810d48bbaec5ef69bea194d0&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2807526737,pull_request,closed,,Stop checking that parameter names are kebab-case,"Having different variants for the same parameter is a burden, because there are multiple places where conversions should happen. This PR enables snake case parameters, so dummy tool parameters don't have to be converted back and forth.
",metamben,2025-01-23 17:39:53+00:00,['metamben'],2025-01-23 19:21:59+00:00,2025-01-23 17:59:15+00:00,https://github.com/metabase/metabase/pull/52613,"[('.Team/Querying', ''), ('Metabot/Tools', 'Tools that are agnostic of the LLM framework itself, could be reused for notifications framework als')]","[{'comment_id': 2610579321, 'issue_id': 2807526737, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `91a47636f9c3d89303d2af23ce689d72aede49e2-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12934893682?pr=52613)\n\n  File | Test Name\n  ---- | ---------\n  `browse.cy.spec.ts` | scenarios > browse > metrics > verified metrics > on enterprise > should respect the user setting on wether or not to only show verified metrics', 'created_at': datetime.datetime(2025, 1, 23, 17, 55, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610637802, 'issue_id': 2807526737, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/7353_tests-53b8926c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52613?repo=metabase/metabase&commitHash=53b8926cbc07065c9bfc7a6ab656d45349710996&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52613?repo=metabase/metabase&commitHash=53b8926cbc07065c9bfc7a6ab656d45349710996&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52613?repo=metabase/metabase&commitHash=53b8926cbc07065c9bfc7a6ab656d45349710996&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52613?repo=metabase/metabase&commitHash=53b8926cbc07065c9bfc7a6ab656d45349710996&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 16559 should always show the most recent revision (metabase\\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52613?repo=metabase/metabase&commitHash=53b8926cbc07065c9bfc7a6ab656d45349710996&utm_source=gh-comment&runConclusion=FAILURE&runId=44fc5c65-5c88-526b-9dfb-4f0520fa35e1) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > browse > metrics verified metrics on enterprise should respect the user setting on wether or not to only show verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the expected time. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52613?repo=metabase/metabase&commitHash=53b8926cbc07065c9bfc7a6ab656d45349710996&utm_source=gh-comment&runConclusion=FAILURE&runId=b8e120fd-f4bd-55f4-b430-d360978da917) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52613?repo=metabase/metabase&commitHash=53b8926cbc07065c9bfc7a6ab656d45349710996&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 18, 23, 8, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-23 17:55:59 UTC): ## e2e tests failed on `91a47636f9c3d89303d2af23ce689d72aede49e2-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12934893682?pr=52613)

  File | Test Name
  ---- | ---------
  `browse.cy.spec.ts` | scenarios > browse > metrics > verified metrics > on enterprise > should respect the user setting on wether or not to only show verified metrics

trunk-io[bot] on (2025-01-23 18:23:08 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/7353_tests-53b8926c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52613?repo=metabase/metabase&commitHash=53b8926cbc07065c9bfc7a6ab656d45349710996&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52613?repo=metabase/metabase&commitHash=53b8926cbc07065c9bfc7a6ab656d45349710996&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52613?repo=metabase/metabase&commitHash=53b8926cbc07065c9bfc7a6ab656d45349710996&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52613?repo=metabase/metabase&commitHash=53b8926cbc07065c9bfc7a6ab656d45349710996&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 16559 should always show the most recent revision (metabase\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52613?repo=metabase/metabase&commitHash=53b8926cbc07065c9bfc7a6ab656d45349710996&utm_source=gh-comment&runConclusion=FAILURE&runId=44fc5c65-5c88-526b-9dfb-4f0520fa35e1) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > browse > metrics verified metrics on enterprise should respect the user setting on wether or not to only show verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the expected time. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52613?repo=metabase/metabase&commitHash=53b8926cbc07065c9bfc7a6ab656d45349710996&utm_source=gh-comment&runConclusion=FAILURE&runId=b8e120fd-f4bd-55f4-b430-d360978da917) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52613?repo=metabase/metabase&commitHash=53b8926cbc07065c9bfc7a6ab656d45349710996&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2807425043,pull_request,closed,,"🤖 backported ""Allow passing aggregation functions to coalesce""",#52505,github-automation-metabase,2025-01-23 16:52:42+00:00,"['wzimrin', 'github-automation-metabase']",2025-01-23 19:21:04+00:00,2025-01-23 18:58:39+00:00,https://github.com/metabase/metabase/pull/52609,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2610576759, 'issue_id': 2807425043, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/130858_tests-e3b7435d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52609?repo=metabase/metabase&commitHash=e3b7435d42175c901daa256d72a9f78a6c9eda0f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52609?repo=metabase/metabase&commitHash=e3b7435d42175c901daa256d72a9f78a6c9eda0f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52609?repo=metabase/metabase&commitHash=e3b7435d42175c901daa256d72a9f78a6c9eda0f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52609?repo=metabase/metabase&commitHash=e3b7435d42175c901daa256d72a9f78a6c9eda0f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>check-can-connect-before-sync-test</code> | The expected response from the POST /api/database/:id/sync\\_schema endpoint timed out after 3 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52609?repo=metabase/metabase&commitHash=e3b7435d42175c901daa256d72a9f78a6c9eda0f&utm_source=gh-comment&runConclusion=FAILURE&runId=7f88612d-c975-5f3f-90b9-434a91fb806a) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52609?repo=metabase/metabase&commitHash=e3b7435d42175c901daa256d72a9f78a6c9eda0f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 17, 55, 7, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 17:55:07 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/130858_tests-e3b7435d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52609?repo=metabase/metabase&commitHash=e3b7435d42175c901daa256d72a9f78a6c9eda0f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52609?repo=metabase/metabase&commitHash=e3b7435d42175c901daa256d72a9f78a6c9eda0f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52609?repo=metabase/metabase&commitHash=e3b7435d42175c901daa256d72a9f78a6c9eda0f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52609?repo=metabase/metabase&commitHash=e3b7435d42175c901daa256d72a9f78a6c9eda0f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>check-can-connect-before-sync-test</code> | The expected response from the POST /api/database/:id/sync\_schema endpoint timed out after 3 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52609?repo=metabase/metabase&commitHash=e3b7435d42175c901daa256d72a9f78a6c9eda0f&utm_source=gh-comment&runConclusion=FAILURE&runId=7f88612d-c975-5f3f-90b9-434a91fb806a) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52609?repo=metabase/metabase&commitHash=e3b7435d42175c901daa256d72a9f78a6c9eda0f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2807378326,pull_request,open,,On csv upload allow column promotion from boolean to int / float,"Closes https://github.com/metabase/metabase/issues/48662

### Description

Currently, a .csv column containing int values 0 and 1 will be mapped to a boolean column.

If a user then uploads a second .csv (append or replace) containing integer values outside of 0 or 1 they receive an error on import (e.g '2' is not recognizable as a boolean).

This PR permits boolean columns to be migrated to integer or float columns when encountering input outside their range

Quirks/observations on interaction between this and existing coercion / narrowing / widening behaviour in regards to floats:
 
- boolean columns can now promote to float columns
- boolean representable floats 1.0, 0.0 will widen the column to a float
   - one could (mistakenly IMO) expect a kind of transitivity in regards to the `*float-or-int*` + int coercion behaviour, maintaining a boolean column.
- integer representable floats such as '2.0' and '42.0' will also widen the column to a float
   - this seems very reasonable, just pointing it out

Changes confirmed to work for H2, MySQL, Postgres, and Clickhouse cloud. 

- Clickhouse cloud was tested manually and by running the new tests against a trial cloud instance
- Redshift does not support the new promotions, should yield the same 'X is not of type Y' style error message
- Postgres has some additional mechanisms via `USING` to get boolean to bigint and float to work, as postgres does not want to `CAST` those columns automatically

### How to verify

1. Upload a .csv `col\n0`, get a boolean column with the value `false`.
2. Append or replace with a .csv `col\n2`, column should be promoted to an int with values `0,2`.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",wotbrew,2025-01-23 16:32:38+00:00,['wotbrew'],2025-02-03 11:14:06+00:00,,https://github.com/metabase/metabase/pull/52607,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2612501118, 'issue_id': 2807378326, 'author': 'crisptrutski', 'body': 'LGTM!', 'created_at': datetime.datetime(2025, 1, 24, 13, 12, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612727787, 'issue_id': 2807378326, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/104948_tests-3566ab5b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52607?repo=metabase/metabase&commitHash=3566ab5b97905e6263ef85f413f85e675484f5c9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52607?repo=metabase/metabase&commitHash=3566ab5b97905e6263ef85f413f85e675484f5c9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52607?repo=metabase/metabase&commitHash=3566ab5b97905e6263ef85f413f85e675484f5c9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52607?repo=metabase/metabase&commitHash=3566ab5b97905e6263ef85f413f85e675484f5c9&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52607?repo=metabase/metabase&commitHash=3566ab5b97905e6263ef85f413f85e675484f5c9&utm_source=gh-comment&runConclusion=FAILURE&runId=e8799eb2-7d53-559f-a198-4c0b475a99db) |\n| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and \'Browse databases\' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52607?repo=metabase/metabase&commitHash=3566ab5b97905e6263ef85f413f85e675484f5c9&utm_source=gh-comment&runConclusion=FAILURE&runId=58accf4d-8733-5611-a274-5ebf873f625b) |\n| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52607?repo=metabase/metabase&commitHash=3566ab5b97905e6263ef85f413f85e675484f5c9&utm_source=gh-comment&runConclusion=FAILURE&runId=99b1556a-e881-57ca-9b93-874e7dd32147) |\n| <code>scenarios > model indexes should not reload the model for record in the same model</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52607?repo=metabase/metabase&commitHash=3566ab5b97905e6263ef85f413f85e675484f5c9&utm_source=gh-comment&runConclusion=FAILURE&runId=fea27342-3441-5271-9c2d-adcb0cb05f15) |\n\n[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52607?repo=metabase/metabase&commitHash=3566ab5b97905e6263ef85f413f85e675484f5c9&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52607?repo=metabase/metabase&commitHash=3566ab5b97905e6263ef85f413f85e675484f5c9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 24, 14, 55, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612978314, 'issue_id': 2807378326, 'author': 'wotbrew', 'body': 'As expected, driver fails. Will pick it up again next week.', 'created_at': datetime.datetime(2025, 1, 24, 16, 53, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615183208, 'issue_id': 2807378326, 'author': 'crisptrutski', 'body': ""Seems like H2 and MySQL schema migration works already? Postgres looks like it'll be simple enough. Have some trepidation about Redshift.\r\n\r\nA very important driver not covered by our CI is Clickhouse, as that's whats used for Cloud customers that buy attached storage. Clickhouse maintain that community driver themselves, but unfortunately this functionality is not tested in their CI either. What I've done in the past is run the tests manually myself. The upload tests so far have passed against their local development server version, but to be sure we should run it against a cloud instance as well."", 'created_at': datetime.datetime(2025, 1, 27, 9, 2, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615184793, 'issue_id': 2807378326, 'author': 'crisptrutski', 'body': 'An idea: force drivers to declare which migrations they support, and land this change with Clickhouse and potentially redshift disabling this relaxation for now.', 'created_at': datetime.datetime(2025, 1, 27, 9, 3, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630508208, 'issue_id': 2807378326, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `3566ab5b97905e6263ef85f413f85e675484f5c9-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13110912173?pr=52607)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)\n`model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model\n`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette\n`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link\n`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results"", 'created_at': datetime.datetime(2025, 2, 3, 10, 12, 55, tzinfo=datetime.timezone.utc)}]","crisptrutski on (2025-01-24 13:12:18 UTC): LGTM!

trunk-io[bot] on (2025-01-24 14:55:20 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/104948_tests-3566ab5b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52607?repo=metabase/metabase&commitHash=3566ab5b97905e6263ef85f413f85e675484f5c9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52607?repo=metabase/metabase&commitHash=3566ab5b97905e6263ef85f413f85e675484f5c9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52607?repo=metabase/metabase&commitHash=3566ab5b97905e6263ef85f413f85e675484f5c9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52607?repo=metabase/metabase&commitHash=3566ab5b97905e6263ef85f413f85e675484f5c9&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52607?repo=metabase/metabase&commitHash=3566ab5b97905e6263ef85f413f85e675484f5c9&utm_source=gh-comment&runConclusion=FAILURE&runId=e8799eb2-7d53-559f-a198-4c0b475a99db) |
| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and 'Browse databases' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52607?repo=metabase/metabase&commitHash=3566ab5b97905e6263ef85f413f85e675484f5c9&utm_source=gh-comment&runConclusion=FAILURE&runId=58accf4d-8733-5611-a274-5ebf873f625b) |
| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52607?repo=metabase/metabase&commitHash=3566ab5b97905e6263ef85f413f85e675484f5c9&utm_source=gh-comment&runConclusion=FAILURE&runId=99b1556a-e881-57ca-9b93-874e7dd32147) |
| <code>scenarios > model indexes should not reload the model for record in the same model</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52607?repo=metabase/metabase&commitHash=3566ab5b97905e6263ef85f413f85e675484f5c9&utm_source=gh-comment&runConclusion=FAILURE&runId=fea27342-3441-5271-9c2d-adcb0cb05f15) |

[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52607?repo=metabase/metabase&commitHash=3566ab5b97905e6263ef85f413f85e675484f5c9&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52607?repo=metabase/metabase&commitHash=3566ab5b97905e6263ef85f413f85e675484f5c9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

wotbrew (Issue Creator) on (2025-01-24 16:53:59 UTC): As expected, driver fails. Will pick it up again next week.

crisptrutski on (2025-01-27 09:02:21 UTC): Seems like H2 and MySQL schema migration works already? Postgres looks like it'll be simple enough. Have some trepidation about Redshift.

A very important driver not covered by our CI is Clickhouse, as that's whats used for Cloud customers that buy attached storage. Clickhouse maintain that community driver themselves, but unfortunately this functionality is not tested in their CI either. What I've done in the past is run the tests manually myself. The upload tests so far have passed against their local development server version, but to be sure we should run it against a cloud instance as well.

crisptrutski on (2025-01-27 09:03:04 UTC): An idea: force drivers to declare which migrations they support, and land this change with Clickhouse and potentially redshift disabling this relaxation for now.

github-actions[bot] on (2025-02-03 10:12:55 UTC): ## e2e tests failed on `3566ab5b97905e6263ef85f413f85e675484f5c9-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13110912173?pr=52607)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)
`model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model
`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette
`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link
`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results

"
2807367874,pull_request,closed,,Test: Oracle compares dates (no time) correctly,"Closes https://github.com/metabase/metabase/issues/49878

### Description

Issue https://github.com/metabase/metabase/issues/49878, back in November, was that Oracle was not comparing date-times correctly when compared to a single date without time. I was able to reproduce it in `v0.51.3` (reported in issue), but could not reproduce on master.

Just to be safe, I created tests that fail on `v0.51.3` that now pass on master. The tests cover two cases with field filters in native SQL queries that compare a datetime to a single date:

* Single Date
* All Options

### Note

Since this is a test only, I recommend not backporting because the test will fail on some prior releases.",ericnormand,2025-01-23 16:28:14+00:00,['ericnormand'],2025-01-24 00:17:43+00:00,2025-01-23 23:23:17+00:00,https://github.com/metabase/metabase/pull/52606,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2610532240, 'issue_id': 2807367874, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/115829_tests-6ec28cb5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52606?repo=metabase/metabase&commitHash=6ec28cb57dd1438ddf125aa121e15c4ba7c5e393&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52606?repo=metabase/metabase&commitHash=6ec28cb57dd1438ddf125aa121e15c4ba7c5e393&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52606?repo=metabase/metabase&commitHash=6ec28cb57dd1438ddf125aa121e15c4ba7c5e393&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52606?repo=metabase/metabase&commitHash=6ec28cb57dd1438ddf125aa121e15c4ba7c5e393&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>check-can-connect-before-sync-test</code> | Database sync failed because the database was deleted before checking if it exists. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52606?repo=metabase/metabase&commitHash=6ec28cb57dd1438ddf125aa121e15c4ba7c5e393&utm_source=gh-comment&runConclusion=FAILURE&runId=6feca072-5033-5db2-bfa2-e583b449b3df) |\n| <code>get-database-can-upload-test</code> | The schema ""metabase\\_cache\\_234b1\\_229"" was dropped by a concurrent transaction. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52606?repo=metabase/metabase&commitHash=6ec28cb57dd1438ddf125aa121e15c4ba7c5e393&utm_source=gh-comment&runConclusion=FAILURE&runId=50e64dc2-68e3-55d7-acc8-0d018ee69160) |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:326:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\\#\'sync.fingerprint/max-refingerp... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52606?repo=metabase/metabase&commitHash=6ec28cb57dd1438ddf125aa121e15c4ba7c5e393&utm_source=gh-comment&runConclusion=FAILURE&runId=bf11018f-d879-579e-8d4a-eb80ba9704d4) |\n| <code>e2e-storage-ingestion-test</code> | Expected entity to match, but actual entity has unexpected table\\_id values. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52606?repo=metabase/metabase&commitHash=6ec28cb57dd1438ddf125aa121e15c4ba7c5e393&utm_source=gh-comment&runConclusion=FAILURE&runId=2b52c04a-19fd-536a-ad17-1dcfbe9be4d2) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52606?repo=metabase/metabase&commitHash=6ec28cb57dd1438ddf125aa121e15c4ba7c5e393&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 17, 35, 12, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 17:35:12 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/115829_tests-6ec28cb5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52606?repo=metabase/metabase&commitHash=6ec28cb57dd1438ddf125aa121e15c4ba7c5e393&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52606?repo=metabase/metabase&commitHash=6ec28cb57dd1438ddf125aa121e15c4ba7c5e393&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52606?repo=metabase/metabase&commitHash=6ec28cb57dd1438ddf125aa121e15c4ba7c5e393&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52606?repo=metabase/metabase&commitHash=6ec28cb57dd1438ddf125aa121e15c4ba7c5e393&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>check-can-connect-before-sync-test</code> | Database sync failed because the database was deleted before checking if it exists. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52606?repo=metabase/metabase&commitHash=6ec28cb57dd1438ddf125aa121e15c4ba7c5e393&utm_source=gh-comment&runConclusion=FAILURE&runId=6feca072-5033-5db2-bfa2-e583b449b3df) |
| <code>get-database-can-upload-test</code> | The schema ""metabase\_cache\_234b1\_229"" was dropped by a concurrent transaction. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52606?repo=metabase/metabase&commitHash=6ec28cb57dd1438ddf125aa121e15c4ba7c5e393&utm_source=gh-comment&runConclusion=FAILURE&runId=50e64dc2-68e3-55d7-acc8-0d018ee69160) |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:326:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerp... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52606?repo=metabase/metabase&commitHash=6ec28cb57dd1438ddf125aa121e15c4ba7c5e393&utm_source=gh-comment&runConclusion=FAILURE&runId=bf11018f-d879-579e-8d4a-eb80ba9704d4) |
| <code>e2e-storage-ingestion-test</code> | Expected entity to match, but actual entity has unexpected table\_id values. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52606?repo=metabase/metabase&commitHash=6ec28cb57dd1438ddf125aa121e15c4ba7c5e393&utm_source=gh-comment&runConclusion=FAILURE&runId=2b52c04a-19fd-536a-ad17-1dcfbe9be4d2) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52606?repo=metabase/metabase&commitHash=6ec28cb57dd1438ddf125aa121e15c4ba7c5e393&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2807332237,pull_request,closed,,wip - just testing something out,,npretto,2025-01-23 16:14:41+00:00,['npretto'],2025-02-04 14:54:16+00:00,2025-01-28 09:26:56+00:00,https://github.com/metabase/metabase/pull/52605,"[('.Team/Embedding', '')]","[{'comment_id': 2610320449, 'issue_id': 2807332237, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `32512adc332438c22f50f7d3028670bfd0e7ad97-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12933386349?pr=52605)\n\n  File | Test Name\n  ---- | ---------\n  `reproductions.cy.spec.js` | issue 32963 > should pick sensible display for model based questions (metabase#32963)', 'created_at': datetime.datetime(2025, 1, 23, 16, 28, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610494676, 'issue_id': 2807332237, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13382_tests-32512adc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52605?repo=metabase/metabase&commitHash=32512adc332438c22f50f7d3028670bfd0e7ad97&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/13-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52605?repo=metabase/metabase&commitHash=32512adc332438c22f50f7d3028670bfd0e7ad97&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52605?repo=metabase/metabase&commitHash=32512adc332438c22f50f7d3028670bfd0e7ad97&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52605?repo=metabase/metabase&commitHash=32512adc332438c22f50f7d3028670bfd0e7ad97&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 32963 should pick sensible display for model based questions (metabase\\#32963)</code> | The test timed out while trying to find a button with the name ""Done"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52605?repo=metabase/metabase&commitHash=32512adc332438c22f50f7d3028670bfd0e7ad97&utm_source=gh-comment&runConclusion=FAILURE&runId=61fff448-bc74-5410-ae38-7b670102b0d1) |\n| <code>scenarios > models metadata native models metadata overwrites should allow drills on FK columns</code> | The test timed out while trying to find an element with data-testid ""object-detail"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52605?repo=metabase/metabase&commitHash=32512adc332438c22f50f7d3028670bfd0e7ad97&utm_source=gh-comment&runConclusion=FAILURE&runId=6cf5cc57-0556-5e3b-84a8-7294da04e99f) |\n| <code>scenarios > models > revision history should allow reverting to a saved question state and back into a model again</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52605?repo=metabase/metabase&commitHash=32512adc332438c22f50f7d3028670bfd0e7ad97&utm_source=gh-comment&runConclusion=FAILURE&runId=00f6222d-c710-5ac0-bf5d-dae314dd75c9) |\n| <code>scenarios > models simple mode can create a question using table click actions</code> | The expected container was not an Element, Document, or DocumentFragment, but was undefined. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52605?repo=metabase/metabase&commitHash=32512adc332438c22f50f7d3028670bfd0e7ad97&utm_source=gh-comment&runConclusion=FAILURE&runId=be90e6c5-dfe5-5e49-9fb4-c5485dcb50b5) |\n\n[... and 9 more](https://app.trunk.io/metabase/flaky-tests/pr/52605?repo=metabase/metabase&commitHash=32512adc332438c22f50f7d3028670bfd0e7ad97&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>question loading changes document title should verify document title changes while loading a slow question (metabase\\#40051)</code> | The expected text \'Doing science... · Metabase\' was not received within 4000ms, causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52605?repo=metabase/metabase&commitHash=32512adc332438c22f50f7d3028670bfd0e7ad97&utm_source=gh-comment&runConclusion=FAILURE&runId=e1afbca7-67d8-50af-ac29-8bc1d9b1efef) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52605?repo=metabase/metabase&commitHash=32512adc332438c22f50f7d3028670bfd0e7ad97&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 17, 26, 23, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-23 16:28:17 UTC): ## e2e tests failed on `32512adc332438c22f50f7d3028670bfd0e7ad97-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12933386349?pr=52605)

  File | Test Name
  ---- | ---------
  `reproductions.cy.spec.js` | issue 32963 > should pick sensible display for model based questions (metabase#32963)

trunk-io[bot] on (2025-01-23 17:26:23 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13382_tests-32512adc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52605?repo=metabase/metabase&commitHash=32512adc332438c22f50f7d3028670bfd0e7ad97&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/13-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52605?repo=metabase/metabase&commitHash=32512adc332438c22f50f7d3028670bfd0e7ad97&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52605?repo=metabase/metabase&commitHash=32512adc332438c22f50f7d3028670bfd0e7ad97&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52605?repo=metabase/metabase&commitHash=32512adc332438c22f50f7d3028670bfd0e7ad97&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 32963 should pick sensible display for model based questions (metabase\#32963)</code> | The test timed out while trying to find a button with the name ""Done"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52605?repo=metabase/metabase&commitHash=32512adc332438c22f50f7d3028670bfd0e7ad97&utm_source=gh-comment&runConclusion=FAILURE&runId=61fff448-bc74-5410-ae38-7b670102b0d1) |
| <code>scenarios > models metadata native models metadata overwrites should allow drills on FK columns</code> | The test timed out while trying to find an element with data-testid ""object-detail"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52605?repo=metabase/metabase&commitHash=32512adc332438c22f50f7d3028670bfd0e7ad97&utm_source=gh-comment&runConclusion=FAILURE&runId=6cf5cc57-0556-5e3b-84a8-7294da04e99f) |
| <code>scenarios > models > revision history should allow reverting to a saved question state and back into a model again</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52605?repo=metabase/metabase&commitHash=32512adc332438c22f50f7d3028670bfd0e7ad97&utm_source=gh-comment&runConclusion=FAILURE&runId=00f6222d-c710-5ac0-bf5d-dae314dd75c9) |
| <code>scenarios > models simple mode can create a question using table click actions</code> | The expected container was not an Element, Document, or DocumentFragment, but was undefined. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52605?repo=metabase/metabase&commitHash=32512adc332438c22f50f7d3028670bfd0e7ad97&utm_source=gh-comment&runConclusion=FAILURE&runId=be90e6c5-dfe5-5e49-9fb4-c5485dcb50b5) |

[... and 9 more](https://app.trunk.io/metabase/flaky-tests/pr/52605?repo=metabase/metabase&commitHash=32512adc332438c22f50f7d3028670bfd0e7ad97&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>question loading changes document title should verify document title changes while loading a slow question (metabase\#40051)</code> | The expected text 'Doing science... · Metabase' was not received within 4000ms, causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52605?repo=metabase/metabase&commitHash=32512adc332438c22f50f7d3028670bfd0e7ad97&utm_source=gh-comment&runConclusion=FAILURE&runId=e1afbca7-67d8-50af-ac29-8bc1d9b1efef) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52605?repo=metabase/metabase&commitHash=32512adc332438c22f50f7d3028670bfd0e7ad97&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2807271768,pull_request,closed,,"🤖 backported ""improve rules around unscoped-selectors rule""",#52509,github-automation-metabase,2025-01-23 15:50:33+00:00,"['filiphric', 'github-automation-metabase']",2025-01-23 17:37:04+00:00,2025-01-23 16:38:09+00:00,https://github.com/metabase/metabase/pull/52604,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2610259796, 'issue_id': 2807271768, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `38986d975f394032e7d3df33dab1762bc782e015-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12932926319?pr=52604)\n\n  File | Test Name\n  ---- | ---------\n  `api-keys.cy.spec.ts` | scenarios > admin > settings > API keys > should show an error when a previously used key name is submitted', 'created_at': datetime.datetime(2025, 1, 23, 16, 13, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610412750, 'issue_id': 2807271768, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3694_tests-38986d97-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52604?repo=metabase/metabase&commitHash=38986d975f394032e7d3df33dab1762bc782e015&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52604?repo=metabase/metabase&commitHash=38986d975f394032e7d3df33dab1762bc782e015&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52604?repo=metabase/metabase&commitHash=38986d975f394032e7d3df33dab1762bc782e015&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52604?repo=metabase/metabase&commitHash=38986d975f394032e7d3df33dab1762bc782e015&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find a button with the name ""Done"" after 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52604?repo=metabase/metabase&commitHash=38986d975f394032e7d3df33dab1762bc782e015&utm_source=gh-comment&runConclusion=FAILURE&runId=92853035-616c-5702-bca8-1eebda11d524) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52604?repo=metabase/metabase&commitHash=38986d975f394032e7d3df33dab1762bc782e015&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 16, 54, 20, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-23 16:13:02 UTC): ## e2e tests failed on `38986d975f394032e7d3df33dab1762bc782e015-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12932926319?pr=52604)

  File | Test Name
  ---- | ---------
  `api-keys.cy.spec.ts` | scenarios > admin > settings > API keys > should show an error when a previously used key name is submitted

trunk-io[bot] on (2025-01-23 16:54:20 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3694_tests-38986d97-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52604?repo=metabase/metabase&commitHash=38986d975f394032e7d3df33dab1762bc782e015&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52604?repo=metabase/metabase&commitHash=38986d975f394032e7d3df33dab1762bc782e015&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52604?repo=metabase/metabase&commitHash=38986d975f394032e7d3df33dab1762bc782e015&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52604?repo=metabase/metabase&commitHash=38986d975f394032e7d3df33dab1762bc782e015&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find a button with the name ""Done"" after 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52604?repo=metabase/metabase&commitHash=38986d975f394032e7d3df33dab1762bc782e015&utm_source=gh-comment&runConclusion=FAILURE&runId=92853035-616c-5702-bca8-1eebda11d524) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52604?repo=metabase/metabase&commitHash=38986d975f394032e7d3df33dab1762bc782e015&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2807257999,pull_request,closed,,Remove an external link from convert-timezone description,"Fixes https://github.com/metabase/metabase/issues/27184

How to verify:
- Add a DB that works with `convertTimezone`. Our QA instance of postgres would work.
- New -> Question -> Select a table from this DB
- Custom column -> `convertTimezone`
- See the description in the popover - there is no extra link now.

Before
<img width=""441"" alt=""207141730-652d28a1-1e21-4c91-8a40-8806c6682b36"" src=""https://github.com/user-attachments/assets/ed6ca329-bb95-41df-ad1f-9554084278b0"" />

After
<img width=""555"" alt=""Screenshot 2025-01-23 at 10 44 06"" src=""https://github.com/user-attachments/assets/5e1bcf28-d95f-43f1-bcab-adf9e72156ef"" />
",ranquild,2025-01-23 15:45:07+00:00,['ranquild'],2025-01-23 17:52:26+00:00,2025-01-23 17:52:24+00:00,https://github.com/metabase/metabase/pull/52603,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2610201644, 'issue_id': 2807257999, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `a500f30d1fe6ae2e7573905277306c3d69befef1-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12932825448?pr=52603)\n\n  File | Test Name\n  ---- | ---------\n  `sql-filters-source.cy.spec.js` | scenarios > filters > sql filters > values source > structured question source > should properly cache parameter values api calls', 'created_at': datetime.datetime(2025, 1, 23, 15, 57, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610412983, 'issue_id': 2807257999, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3683_tests-a500f30d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52603?repo=metabase/metabase&commitHash=a500f30d1fe6ae2e7573905277306c3d69befef1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52603?repo=metabase/metabase&commitHash=a500f30d1fe6ae2e7573905277306c3d69befef1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52603?repo=metabase/metabase&commitHash=a500f30d1fe6ae2e7573905277306c3d69befef1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52603?repo=metabase/metabase&commitHash=a500f30d1fe6ae2e7573905277306c3d69befef1&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > filters > sql filters > values source structured question source should properly cache parameter values api calls</code> | The expected array length was 1, but it was 2, causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52603?repo=metabase/metabase&commitHash=a500f30d1fe6ae2e7573905277306c3d69befef1&utm_source=gh-comment&runConclusion=FAILURE&runId=84fee06c-7aff-5845-933e-4fc83f457b2d) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52603?repo=metabase/metabase&commitHash=a500f30d1fe6ae2e7573905277306c3d69befef1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 16, 54, 27, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-23 15:57:59 UTC): ## e2e tests failed on `a500f30d1fe6ae2e7573905277306c3d69befef1-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12932825448?pr=52603)

  File | Test Name
  ---- | ---------
  `sql-filters-source.cy.spec.js` | scenarios > filters > sql filters > values source > structured question source > should properly cache parameter values api calls

trunk-io[bot] on (2025-01-23 16:54:27 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3683_tests-a500f30d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52603?repo=metabase/metabase&commitHash=a500f30d1fe6ae2e7573905277306c3d69befef1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52603?repo=metabase/metabase&commitHash=a500f30d1fe6ae2e7573905277306c3d69befef1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52603?repo=metabase/metabase&commitHash=a500f30d1fe6ae2e7573905277306c3d69befef1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52603?repo=metabase/metabase&commitHash=a500f30d1fe6ae2e7573905277306c3d69befef1&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > filters > sql filters > values source structured question source should properly cache parameter values api calls</code> | The expected array length was 1, but it was 2, causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52603?repo=metabase/metabase&commitHash=a500f30d1fe6ae2e7573905277306c3d69befef1&utm_source=gh-comment&runConclusion=FAILURE&runId=84fee06c-7aff-5845-933e-4fc83f457b2d) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52603?repo=metabase/metabase&commitHash=a500f30d1fe6ae2e7573905277306c3d69befef1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2807212706,pull_request,closed,,"Add repro for ""Cannot filter on enum fields on dashboards""","Closes https://github.com/metabase/metabase/issues/40396

The bug existed in v49 because of `isString` and `isCategory` checks. `isString` is `false` for enums; there is a proper `isStringOrStringLike` helper that should be used instead. It was fixed in v51. I didn't find any e2e test with dashboard filters and native database enums, so adding one now.",ranquild,2025-01-23 15:28:55+00:00,['ranquild'],2025-01-23 18:24:49+00:00,2025-01-23 18:24:47+00:00,https://github.com/metabase/metabase/pull/52602,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2610154281, 'issue_id': 2807212706, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `f7d466b4a6e52d175b4c4e819e8ced99506408ff-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12932510402?pr=52602)\n\n  File | Test Name\n  ---- | ---------\n  `entity-picker.cy.spec.ts` | (_flaky_) scenarios > organization > entity picker > collection picker > should show dashboards in personal collections when apropriate, even if there are no sub collections', 'created_at': datetime.datetime(2025, 1, 23, 15, 42, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610411238, 'issue_id': 2807212706, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3762_tests-f7d466b4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52602?repo=metabase/metabase&commitHash=f7d466b4a6e52d175b4c4e819e8ced99506408ff&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52602?repo=metabase/metabase&commitHash=f7d466b4a6e52d175b4c4e819e8ced99506408ff&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52602?repo=metabase/metabase&commitHash=f7d466b4a6e52d175b4c4e819e8ced99506408ff&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52602?repo=metabase/metabase&commitHash=f7d466b4a6e52d175b4c4e819e8ced99506408ff&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52602?repo=metabase/metabase&commitHash=f7d466b4a6e52d175b4c4e819e8ced99506408ff&utm_source=gh-comment&runConclusion=FAILURE&runId=152e20a3-d27c-53cd-ab44-97d153d5c257) |\n| <code>Write Actions on Dashboards (postgres) adding and executing actions adds a custom query action to a dashboard and runs it</code> | The element with value \'1\' was not found within 4000ms, causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52602?repo=metabase/metabase&commitHash=f7d466b4a6e52d175b4c4e819e8ced99506408ff&utm_source=gh-comment&runConclusion=FAILURE&runId=24ee58f1-20c1-565b-a302-8fd3900173c3) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52602?repo=metabase/metabase&commitHash=f7d466b4a6e52d175b4c4e819e8ced99506408ff&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 16, 53, 38, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-23 15:42:34 UTC): ## e2e tests failed on `f7d466b4a6e52d175b4c4e819e8ced99506408ff-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12932510402?pr=52602)

  File | Test Name
  ---- | ---------
  `entity-picker.cy.spec.ts` | (_flaky_) scenarios > organization > entity picker > collection picker > should show dashboards in personal collections when apropriate, even if there are no sub collections

trunk-io[bot] on (2025-01-23 16:53:38 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3762_tests-f7d466b4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52602?repo=metabase/metabase&commitHash=f7d466b4a6e52d175b4c4e819e8ced99506408ff&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52602?repo=metabase/metabase&commitHash=f7d466b4a6e52d175b4c4e819e8ced99506408ff&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52602?repo=metabase/metabase&commitHash=f7d466b4a6e52d175b4c4e819e8ced99506408ff&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52602?repo=metabase/metabase&commitHash=f7d466b4a6e52d175b4c4e819e8ced99506408ff&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52602?repo=metabase/metabase&commitHash=f7d466b4a6e52d175b4c4e819e8ced99506408ff&utm_source=gh-comment&runConclusion=FAILURE&runId=152e20a3-d27c-53cd-ab44-97d153d5c257) |
| <code>Write Actions on Dashboards (postgres) adding and executing actions adds a custom query action to a dashboard and runs it</code> | The element with value '1' was not found within 4000ms, causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52602?repo=metabase/metabase&commitHash=f7d466b4a6e52d175b4c4e819e8ced99506408ff&utm_source=gh-comment&runConclusion=FAILURE&runId=24ee58f1-20c1-565b-a302-8fd3900173c3) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52602?repo=metabase/metabase&commitHash=f7d466b4a6e52d175b4c4e819e8ced99506408ff&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2807158045,pull_request,closed,,Always schedule new trigger,"If a trigger is somehow deleted, without deleting the job, our initialization is not self-healing.

This should fix that.",crisptrutski,2025-01-23 15:07:59+00:00,['crisptrutski'],2025-01-24 07:29:48+00:00,2025-01-24 06:50:39+00:00,https://github.com/metabase/metabase/pull/52600,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2610185079, 'issue_id': 2807158045, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/143852_tests-da09b8d5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52600?repo=metabase/metabase&commitHash=da09b8d554bd3f779d0ebc03a3d52b87b2e788af&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52600?repo=metabase/metabase&commitHash=da09b8d554bd3f779d0ebc03a3d52b87b2e788af&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52600?repo=metabase/metabase&commitHash=da09b8d554bd3f779d0ebc03a3d52b87b2e788af&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52600?repo=metabase/metabase&commitHash=da09b8d554bd3f779d0ebc03a3d52b87b2e788af&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>survive-fingerprinting-errors</code> | Query execution failed due to a user request to cancel the statement. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52600?repo=metabase/metabase&commitHash=da09b8d554bd3f779d0ebc03a3d52b87b2e788af&utm_source=gh-comment&runConclusion=FAILURE&runId=97dcce6e-3082-5ff8-9d0a-408017f09c52) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>e2e-storage-ingestion-test</code> | Expected entity to be equal to the result of extracting one field from another, but actual entity was different. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52600?repo=metabase/metabase&commitHash=da09b8d554bd3f779d0ebc03a3d52b87b2e788af&utm_source=gh-comment&runConclusion=FAILURE&runId=0b7d8111-7a30-5642-a14a-c9edeaba86f5) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52600?repo=metabase/metabase&commitHash=da09b8d554bd3f779d0ebc03a3d52b87b2e788af&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 15, 52, 27, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 15:52:27 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/143852_tests-da09b8d5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52600?repo=metabase/metabase&commitHash=da09b8d554bd3f779d0ebc03a3d52b87b2e788af&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52600?repo=metabase/metabase&commitHash=da09b8d554bd3f779d0ebc03a3d52b87b2e788af&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52600?repo=metabase/metabase&commitHash=da09b8d554bd3f779d0ebc03a3d52b87b2e788af&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52600?repo=metabase/metabase&commitHash=da09b8d554bd3f779d0ebc03a3d52b87b2e788af&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>survive-fingerprinting-errors</code> | Query execution failed due to a user request to cancel the statement. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52600?repo=metabase/metabase&commitHash=da09b8d554bd3f779d0ebc03a3d52b87b2e788af&utm_source=gh-comment&runConclusion=FAILURE&runId=97dcce6e-3082-5ff8-9d0a-408017f09c52) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>e2e-storage-ingestion-test</code> | Expected entity to be equal to the result of extracting one field from another, but actual entity was different. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52600?repo=metabase/metabase&commitHash=da09b8d554bd3f779d0ebc03a3d52b87b2e788af&utm_source=gh-comment&runConclusion=FAILURE&runId=0b7d8111-7a30-5642-a14a-c9edeaba86f5) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52600?repo=metabase/metabase&commitHash=da09b8d554bd3f779d0ebc03a3d52b87b2e788af&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2807141497,pull_request,closed,,Consistently generate and look for query_id and not query-id,,metamben,2025-01-23 15:01:39+00:00,['metamben'],2025-01-23 16:14:47+00:00,2025-01-23 15:04:19+00:00,https://github.com/metabase/metabase/pull/52599,"[('Metabot/Tools', 'Tools that are agnostic of the LLM framework itself, could be reused for notifications framework als')]","[{'comment_id': 2610171749, 'issue_id': 2807141497, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/113178_tests-3e48fcfb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52599?repo=metabase/metabase&commitHash=3e48fcfb5be20aa2d9b5861963414d87115dac8b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52599?repo=metabase/metabase&commitHash=3e48fcfb5be20aa2d9b5861963414d87115dac8b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52599?repo=metabase/metabase&commitHash=3e48fcfb5be20aa2d9b5861963414d87115dac8b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52599?repo=metabase/metabase&commitHash=3e48fcfb5be20aa2d9b5861963414d87115dac8b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52599?repo=metabase/metabase&commitHash=3e48fcfb5be20aa2d9b5861963414d87115dac8b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 15, 48, 53, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 15:48:53 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/113178_tests-3e48fcfb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52599?repo=metabase/metabase&commitHash=3e48fcfb5be20aa2d9b5861963414d87115dac8b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52599?repo=metabase/metabase&commitHash=3e48fcfb5be20aa2d9b5861963414d87115dac8b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52599?repo=metabase/metabase&commitHash=3e48fcfb5be20aa2d9b5861963414d87115dac8b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52599?repo=metabase/metabase&commitHash=3e48fcfb5be20aa2d9b5861963414d87115dac8b&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52599?repo=metabase/metabase&commitHash=3e48fcfb5be20aa2d9b5861963414d87115dac8b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2807115591,pull_request,closed,,Switched to non-canvas approach to measure text for Scalar,"Closes #51082

### Description

Measuring text to dynamically adjust the font size in Scalar dashboard card was done using `canvas.getContext(""2d"").measureText()`. This gives back inconsistent values in Safari, resulting in the value being cropped like a regular string. I've switched to using `span.clientWidth` instead, which seems to give better results.

### How to verify

Describe the steps to verify that the changes are working as expected.

On `master`, follow the steps described in #51082 until you replciate the issue, then switch to this branch without modifying the dashboard. The value should be rounded properly instead of cropped.

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",lorem--ipsum,2025-01-23 14:51:52+00:00,['lorem--ipsum'],2025-01-30 10:35:40+00:00,2025-01-30 10:35:39+00:00,https://github.com/metabase/metabase/pull/52598,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2615232331, 'issue_id': 2807115591, 'author': 'lorem--ipsum', 'body': 'The loki tests are legitimately failing, the code I changed affects the PivotTable. However it seems that text measurement is simply slightly more generous (i.e. text is measured as being a tiny bit larger than before).', 'created_at': datetime.datetime(2025, 1, 27, 9, 25, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615800277, 'issue_id': 2807115591, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/22981_tests-caccf6da-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52598?repo=metabase/metabase&commitHash=caccf6da50d1e81a2d7a3c7a1e9041cdfbfd97e3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52598?repo=metabase/metabase&commitHash=caccf6da50d1e81a2d7a3c7a1e9041cdfbfd97e3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52598?repo=metabase/metabase&commitHash=caccf6da50d1e81a2d7a3c7a1e9041cdfbfd97e3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52598?repo=metabase/metabase&commitHash=caccf6da50d1e81a2d7a3c7a1e9041cdfbfd97e3&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 29304 display: scalar should render smart scalar with correct size on the first render (metabase\\#29304)</code> | The test timed out while trying to find an element with data-testid ""scalar-value"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52598?repo=metabase/metabase&commitHash=caccf6da50d1e81a2d7a3c7a1e9041cdfbfd97e3&utm_source=gh-comment&runConclusion=FAILURE&runId=7bda3005-abfa-5737-b283-c03a7e0303e1) |\n| <code>issue 29304 display: scalar should render smart scalar with correct size on the first render (metabase\\#29304)</code> | The test timed out while trying to find an element with data-testid ""scalar-value"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52598?repo=metabase/metabase&commitHash=caccf6da50d1e81a2d7a3c7a1e9041cdfbfd97e3&utm_source=gh-comment&runConclusion=FAILURE&runId=d351fbde-1882-5dd1-b5c1-73ea70d9dea9) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > questions > entity id support /question/entity/${entity\\_id}/notebook should redirect to /question/${id}/notebook</code> | The expected URL did not include the expected path within the given timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52598?repo=metabase/metabase&commitHash=caccf6da50d1e81a2d7a3c7a1e9041cdfbfd97e3&utm_source=gh-comment&runConclusion=FAILURE&runId=8ffd2f27-a90f-5a85-8a19-afc14b85c1de) |\n| <code>scenarios > questions > entity id support /question/entity/${entity\\_id} should redirect to /question/${id}</code> | The test timed out while trying to find an element with data-testid ""saved-question-header-title"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52598?repo=metabase/metabase&commitHash=caccf6da50d1e81a2d7a3c7a1e9041cdfbfd97e3&utm_source=gh-comment&runConclusion=FAILURE&runId=2c1940bf-2d9c-5bf0-80df-d0ec0971ec78) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52598?repo=metabase/metabase&commitHash=caccf6da50d1e81a2d7a3c7a1e9041cdfbfd97e3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 27, 13, 43, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618527268, 'issue_id': 2807115591, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff a034598d144231befa096575de675d9ff723ae6a...caccf6da50d1e81a2d7a3c7a1e9041cdfbfd97e3.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/lib/text.unit.spec.ts<br>frontend/src/metabase/visualizations/visualizations/PivotTable/utils.unit.spec.ts |', 'created_at': datetime.datetime(2025, 1, 28, 10, 2, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621160072, 'issue_id': 2807115591, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `caccf6da50d1e81a2d7a3c7a1e9041cdfbfd97e3-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13028474932?pr=52598)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-card-reproductions.cy.spec.js` | issue 29304 > display: scalar > should render smart scalar with correct size on the first render (metabase#29304)', 'created_at': datetime.datetime(2025, 1, 29, 9, 51, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2624113330, 'issue_id': 2807115591, 'author': 'lorem--ipsum', 'body': ""Closing this, the scope of changes is too broad given the original bug, and it's not even sure we can fix it deterministically."", 'created_at': datetime.datetime(2025, 1, 30, 10, 35, 39, tzinfo=datetime.timezone.utc)}]","lorem--ipsum (Issue Creator) on (2025-01-27 09:25:24 UTC): The loki tests are legitimately failing, the code I changed affects the PivotTable. However it seems that text measurement is simply slightly more generous (i.e. text is measured as being a tiny bit larger than before).

trunk-io[bot] on (2025-01-27 13:43:36 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/22981_tests-caccf6da-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52598?repo=metabase/metabase&commitHash=caccf6da50d1e81a2d7a3c7a1e9041cdfbfd97e3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52598?repo=metabase/metabase&commitHash=caccf6da50d1e81a2d7a3c7a1e9041cdfbfd97e3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52598?repo=metabase/metabase&commitHash=caccf6da50d1e81a2d7a3c7a1e9041cdfbfd97e3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52598?repo=metabase/metabase&commitHash=caccf6da50d1e81a2d7a3c7a1e9041cdfbfd97e3&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 29304 display: scalar should render smart scalar with correct size on the first render (metabase\#29304)</code> | The test timed out while trying to find an element with data-testid ""scalar-value"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52598?repo=metabase/metabase&commitHash=caccf6da50d1e81a2d7a3c7a1e9041cdfbfd97e3&utm_source=gh-comment&runConclusion=FAILURE&runId=7bda3005-abfa-5737-b283-c03a7e0303e1) |
| <code>issue 29304 display: scalar should render smart scalar with correct size on the first render (metabase\#29304)</code> | The test timed out while trying to find an element with data-testid ""scalar-value"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52598?repo=metabase/metabase&commitHash=caccf6da50d1e81a2d7a3c7a1e9041cdfbfd97e3&utm_source=gh-comment&runConclusion=FAILURE&runId=d351fbde-1882-5dd1-b5c1-73ea70d9dea9) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > questions > entity id support /question/entity/${entity\_id}/notebook should redirect to /question/${id}/notebook</code> | The expected URL did not include the expected path within the given timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52598?repo=metabase/metabase&commitHash=caccf6da50d1e81a2d7a3c7a1e9041cdfbfd97e3&utm_source=gh-comment&runConclusion=FAILURE&runId=8ffd2f27-a90f-5a85-8a19-afc14b85c1de) |
| <code>scenarios > questions > entity id support /question/entity/${entity\_id} should redirect to /question/${id}</code> | The test timed out while trying to find an element with data-testid ""saved-question-header-title"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52598?repo=metabase/metabase&commitHash=caccf6da50d1e81a2d7a3c7a1e9041cdfbfd97e3&utm_source=gh-comment&runConclusion=FAILURE&runId=2c1940bf-2d9c-5bf0-80df-d0ec0971ec78) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52598?repo=metabase/metabase&commitHash=caccf6da50d1e81a2d7a3c7a1e9041cdfbfd97e3&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-28 10:02:56 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff a034598d144231befa096575de675d9ff723ae6a...caccf6da50d1e81a2d7a3c7a1e9041cdfbfd97e3.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/lib/text.unit.spec.ts<br>frontend/src/metabase/visualizations/visualizations/PivotTable/utils.unit.spec.ts |

github-actions[bot] on (2025-01-29 09:51:35 UTC): ## e2e tests failed on `caccf6da50d1e81a2d7a3c7a1e9041cdfbfd97e3-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13028474932?pr=52598)

  File | Test Name
  ---- | ---------
  `dashboard-card-reproductions.cy.spec.js` | issue 29304 > display: scalar > should render smart scalar with correct size on the first render (metabase#29304)

lorem--ipsum (Issue Creator) on (2025-01-30 10:35:39 UTC): Closing this, the scope of changes is too broad given the original bug, and it's not even sure we can fix it deterministically.

"
2807005817,pull_request,closed,,Force adding reindex trigger,"Somehow the search `reindex` trigger stopped firing mid december. Nothing about the task has changed since november.

There is no trace of the trigger in the stats quartz tables.

We had a similar issue with the `update` task, so this copies the same brute force fix.",crisptrutski,2025-01-23 14:07:44+00:00,['crisptrutski'],2025-01-24 12:44:55+00:00,2025-01-24 12:44:55+00:00,https://github.com/metabase/metabase/pull/52596,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2609939407, 'issue_id': 2807005817, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `b17c3a08fd335f7788fff7f68214ef770b89cf84-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12930959678?pr=52596)\n\n  File | Test Name\n  ---- | ---------\n  `sql-filters-source.cy.spec.js` | scenarios > filters > sql filters > values source > structured question source > should properly cache parameter values api calls', 'created_at': datetime.datetime(2025, 1, 23, 14, 22, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610005876, 'issue_id': 2807005817, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/115364_tests-b17c3a08-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52596?repo=metabase/metabase&commitHash=b17c3a08fd335f7788fff7f68214ef770b89cf84&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52596?repo=metabase/metabase&commitHash=b17c3a08fd335f7788fff7f68214ef770b89cf84&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52596?repo=metabase/metabase&commitHash=b17c3a08fd335f7788fff7f68214ef770b89cf84&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52596?repo=metabase/metabase&commitHash=b17c3a08fd335f7788fff7f68214ef770b89cf84&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52596?repo=metabase/metabase&commitHash=b17c3a08fd335f7788fff7f68214ef770b89cf84&utm_source=gh-comment&runConclusion=FAILURE&runId=4813e7b6-627e-5aaf-9f41-18c70d10e1f6) |\n| <code>scenarios > filters > sql filters > values source structured question source should properly cache parameter values api calls</code> | The expected array length was 1, but it was 2, causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52596?repo=metabase/metabase&commitHash=b17c3a08fd335f7788fff7f68214ef770b89cf84&utm_source=gh-comment&runConclusion=FAILURE&runId=941e00bc-dfe3-5275-9d21-34facc0e56ee) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52596?repo=metabase/metabase&commitHash=b17c3a08fd335f7788fff7f68214ef770b89cf84&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 14, 47, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612447747, 'issue_id': 2807005817, 'author': 'crisptrutski', 'body': 'Superseded by https://github.com/metabase/metabase/pull/52600, which fixes the problem more generally.', 'created_at': datetime.datetime(2025, 1, 24, 12, 44, 53, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-23 14:22:11 UTC): ## e2e tests failed on `b17c3a08fd335f7788fff7f68214ef770b89cf84-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12930959678?pr=52596)

  File | Test Name
  ---- | ---------
  `sql-filters-source.cy.spec.js` | scenarios > filters > sql filters > values source > structured question source > should properly cache parameter values api calls

trunk-io[bot] on (2025-01-23 14:47:07 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/115364_tests-b17c3a08-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52596?repo=metabase/metabase&commitHash=b17c3a08fd335f7788fff7f68214ef770b89cf84&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52596?repo=metabase/metabase&commitHash=b17c3a08fd335f7788fff7f68214ef770b89cf84&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52596?repo=metabase/metabase&commitHash=b17c3a08fd335f7788fff7f68214ef770b89cf84&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52596?repo=metabase/metabase&commitHash=b17c3a08fd335f7788fff7f68214ef770b89cf84&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52596?repo=metabase/metabase&commitHash=b17c3a08fd335f7788fff7f68214ef770b89cf84&utm_source=gh-comment&runConclusion=FAILURE&runId=4813e7b6-627e-5aaf-9f41-18c70d10e1f6) |
| <code>scenarios > filters > sql filters > values source structured question source should properly cache parameter values api calls</code> | The expected array length was 1, but it was 2, causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52596?repo=metabase/metabase&commitHash=b17c3a08fd335f7788fff7f68214ef770b89cf84&utm_source=gh-comment&runConclusion=FAILURE&runId=941e00bc-dfe3-5275-9d21-34facc0e56ee) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52596?repo=metabase/metabase&commitHash=b17c3a08fd335f7788fff7f68214ef770b89cf84&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

crisptrutski (Issue Creator) on (2025-01-24 12:44:53 UTC): Superseded by https://github.com/metabase/metabase/pull/52600, which fixes the problem more generally.

"
2806967596,pull_request,closed,,Fix - Wrong value shown in the filter modal,"Fixes #48319

### Description

The issue prevailed for [all types of filters except date](https://github.com/metabase/metabase/blob/10bf40c323d921eba3663f9eb0234acdbf44b67f/frontend/src/metabase/querying/filters/components/FilterModal/ColumnFilterSection/ColumnFilterSection.tsx#L40-L58) (i.e. booleans, coordinates, ""default"", number, string, time).
It was not only about the filter values, but also the filter operator.

### How to verify

Follow repro steps for all types of filters except date: booleans, coordinates, ""default"", number, string, time.

### Demo

Before:

https://github.com/user-attachments/assets/00185a5f-9a9c-4105-aa4a-0313f9bdef53

After:

https://github.com/user-attachments/assets/31cd5de0-88d0-470e-b509-b7dbe2caf33e


",kamilmielnik,2025-01-23 13:51:53+00:00,['kamilmielnik'],2025-01-29 07:24:45+00:00,2025-01-29 07:24:42+00:00,https://github.com/metabase/metabase/pull/52594,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2610002386, 'issue_id': 2806967596, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13473_tests-2dc877ad-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52594?repo=metabase/metabase&commitHash=2dc877ad757d0cbb87867685c6792630570975a9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52594?repo=metabase/metabase&commitHash=2dc877ad757d0cbb87867685c6792630570975a9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52594?repo=metabase/metabase&commitHash=2dc877ad757d0cbb87867685c6792630570975a9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52594?repo=metabase/metabase&commitHash=2dc877ad757d0cbb87867685c6792630570975a9&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52594?repo=metabase/metabase&commitHash=2dc877ad757d0cbb87867685c6792630570975a9&utm_source=gh-comment&runConclusion=FAILURE&runId=8b264e06-64ce-5195-81d2-3fb5ceab6b8d) |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52594?repo=metabase/metabase&commitHash=2dc877ad757d0cbb87867685c6792630570975a9&utm_source=gh-comment&runConclusion=FAILURE&runId=e246d66b-efff-55e3-831b-7982f1a523c5) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52594?repo=metabase/metabase&commitHash=2dc877ad757d0cbb87867685c6792630570975a9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 14, 45, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616020187, 'issue_id': 2806967596, 'author': 'kamilmielnik', 'body': '> @kamilmielnik wdyt about using `searchText` for `key`?\r\n\r\nI personally consider this a hack and try to avoid it.\r\nIt would make this PR a ton shorter though.\r\n\r\n@ranquild WDYT about it? :)', 'created_at': datetime.datetime(2025, 1, 27, 15, 9, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616025491, 'issue_id': 2806967596, 'author': 'ranquild', 'body': ""@kamilmielnik I think if we could use it somewhere higher in the tree it would be okay. With a basic test that it works. For me it's not a hack vs not-a-hack but some functionality that we need to support, i.e. state reset with every filter"", 'created_at': datetime.datetime(2025, 1, 27, 15, 11, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616027352, 'issue_id': 2806967596, 'author': 'kamilmielnik', 'body': ""> @kamilmielnik I think if we could use it somewhere higher in the tree it would be okay. With a basic test that it works\r\n\r\nI'll look into it"", 'created_at': datetime.datetime(2025, 1, 27, 15, 12, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616345882, 'issue_id': 2806967596, 'author': 'ranquild', 'body': '@kamilmielnik actually take a look at this https://github.com/metabase/metabase/blob/a7b8f79b031eefeff5b3b0c8f8f40bcb7fd2e005/frontend/src/metabase/querying/filters/hooks/use-filter-modal/use-filter-modal.ts#L50 We should probably increment the version key when search changes', 'created_at': datetime.datetime(2025, 1, 27, 16, 50, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618287408, 'issue_id': 2806967596, 'author': 'kamilmielnik', 'body': '> @kamilmielnik actually take a look at this\r\n> \r\n> https://github.com/metabase/metabase/blob/a7b8f79b031eefeff5b3b0c8f8f40bcb7fd2e005/frontend/src/metabase/querying/filters/hooks/use-filter-modal/use-filter-modal.ts#L50\r\n> \r\n> We should probably increment the version key when search changes\r\n\r\nAh, great catch!\r\n\r\nGiven how [_astonished_](https://en.wikipedia.org/wiki/Principle_of_least_astonishment) I am by this, I have:\r\n- renamed `version` to `remountKey` to make the purpose more apparent\r\n- sprinkled some comments on top\r\n- added a test for the existing `key` hack which kicked in when clearing all filters', 'created_at': datetime.datetime(2025, 1, 28, 8, 40, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618302083, 'issue_id': 2806967596, 'author': 'romeovs', 'body': '> wdyt about using searchText for key?\r\n\r\nThis was my first reflex too.', 'created_at': datetime.datetime(2025, 1, 28, 8, 43, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619073064, 'issue_id': 2806967596, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `2dc877ad757d0cbb87867685c6792630570975a9-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13011698373?pr=52594)\n\n  File | Test Name\n  ---- | ---------\n  `entity-picker.cy.spec.ts` | (_flaky_) scenarios > organization > entity picker > collection picker > should show dashboards in personal collections when apropriate, even if there are no sub collections', 'created_at': datetime.datetime(2025, 1, 28, 13, 54, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 14:45:47 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13473_tests-2dc877ad-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52594?repo=metabase/metabase&commitHash=2dc877ad757d0cbb87867685c6792630570975a9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52594?repo=metabase/metabase&commitHash=2dc877ad757d0cbb87867685c6792630570975a9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52594?repo=metabase/metabase&commitHash=2dc877ad757d0cbb87867685c6792630570975a9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52594?repo=metabase/metabase&commitHash=2dc877ad757d0cbb87867685c6792630570975a9&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52594?repo=metabase/metabase&commitHash=2dc877ad757d0cbb87867685c6792630570975a9&utm_source=gh-comment&runConclusion=FAILURE&runId=8b264e06-64ce-5195-81d2-3fb5ceab6b8d) |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52594?repo=metabase/metabase&commitHash=2dc877ad757d0cbb87867685c6792630570975a9&utm_source=gh-comment&runConclusion=FAILURE&runId=e246d66b-efff-55e3-831b-7982f1a523c5) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52594?repo=metabase/metabase&commitHash=2dc877ad757d0cbb87867685c6792630570975a9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

kamilmielnik (Issue Creator) on (2025-01-27 15:09:42 UTC): I personally consider this a hack and try to avoid it.
It would make this PR a ton shorter though.

@ranquild WDYT about it? :)

ranquild on (2025-01-27 15:11:43 UTC): @kamilmielnik I think if we could use it somewhere higher in the tree it would be okay. With a basic test that it works. For me it's not a hack vs not-a-hack but some functionality that we need to support, i.e. state reset with every filter

kamilmielnik (Issue Creator) on (2025-01-27 15:12:25 UTC): I'll look into it

ranquild on (2025-01-27 16:50:33 UTC): @kamilmielnik actually take a look at this https://github.com/metabase/metabase/blob/a7b8f79b031eefeff5b3b0c8f8f40bcb7fd2e005/frontend/src/metabase/querying/filters/hooks/use-filter-modal/use-filter-modal.ts#L50 We should probably increment the version key when search changes

kamilmielnik (Issue Creator) on (2025-01-28 08:40:08 UTC): Ah, great catch!

Given how [_astonished_](https://en.wikipedia.org/wiki/Principle_of_least_astonishment) I am by this, I have:
- renamed `version` to `remountKey` to make the purpose more apparent
- sprinkled some comments on top
- added a test for the existing `key` hack which kicked in when clearing all filters

romeovs on (2025-01-28 08:43:46 UTC): This was my first reflex too.

github-actions[bot] on (2025-01-28 13:54:00 UTC): ## e2e tests failed on `2dc877ad757d0cbb87867685c6792630570975a9-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13011698373?pr=52594)

  File | Test Name
  ---- | ---------
  `entity-picker.cy.spec.ts` | (_flaky_) scenarios > organization > entity picker > collection picker > should show dashboards in personal collections when apropriate, even if there are no sub collections

"
2806959140,pull_request,closed,,"🤖 backported ""Quarantine more flaky tests 😓""","  #52589
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-23 13:48:17+00:00,"['iethree', 'github-automation-metabase']",2025-01-27 16:57:36+00:00,2025-01-27 16:57:36+00:00,https://github.com/metabase/metabase/pull/52593,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2610040043, 'issue_id': 2806959140, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/54_tests-3c8a5a62-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52593?repo=metabase/metabase&commitHash=3c8a5a62c2090b1b1a7afc408046a127fc78d4c7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52593?repo=metabase/metabase&commitHash=3c8a5a62c2090b1b1a7afc408046a127fc78d4c7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52593?repo=metabase/metabase&commitHash=3c8a5a62c2090b1b1a7afc408046a127fc78d4c7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52593?repo=metabase/metabase&commitHash=3c8a5a62c2090b1b1a7afc408046a127fc78d4c7&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52593?repo=metabase/metabase&commitHash=3c8a5a62c2090b1b1a7afc408046a127fc78d4c7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 14, 59, 34, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 14:59:34 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/54_tests-3c8a5a62-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52593?repo=metabase/metabase&commitHash=3c8a5a62c2090b1b1a7afc408046a127fc78d4c7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52593?repo=metabase/metabase&commitHash=3c8a5a62c2090b1b1a7afc408046a127fc78d4c7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52593?repo=metabase/metabase&commitHash=3c8a5a62c2090b1b1a7afc408046a127fc78d4c7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52593?repo=metabase/metabase&commitHash=3c8a5a62c2090b1b1a7afc408046a127fc78d4c7&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52593?repo=metabase/metabase&commitHash=3c8a5a62c2090b1b1a7afc408046a127fc78d4c7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2806891713,pull_request,closed,,Fix flaky date-string->range driver test,"Closes https://linear.app/metabase-inc/issue/ENG-14350/investigate-date-string-range-flake

### Description

The `date-string->range` function calls `now (t/local-date-time)` itself. Both calls in a test are usually very close but once in a while they differ by enough that they round to different seconds:
```
; from date-string->range: #t ""2025-01-23T13:05:52.712148""
; from date-string->range: #t ""2025-01-23T13:05:53.603516""
; results: {:start 2025-01-23T13:05:53, :end 2025-01-23T13:06:50} {:start 2025-01-23T13:05:54, :end 2025-01-23T13:06:51}
; args: next58seconds next58seconds-from-0weeks
; FAIL
```
We can use `(mt/with-clock)` and then both calls in a test use the same time:
```
; from date-string->range: #t ""2025-01-23T13:07:11.083553""
; from date-string->range: #t ""2025-01-23T13:07:11.083553""
; results: {:start 2025-01-23T13:07:09, :end 2025-01-23T13:07:10} {:start 2025-01-23T13:07:09, :end 2025-01-23T13:07:10}
; args: past2seconds past2seconds-from-0years
```

### How to verify

Describe the steps to verify that the changes are working as expected.

1. Run the `date-string->range-spec-test` test many times (i.e. 10,000,000) without the changes and observe a failure.
2. Run the `date-string->range-spec-test` test many times (i.e. 10,000,000) with the changes and observe no failures.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",rileythomp,2025-01-23 13:19:11+00:00,['rileythomp'],2025-01-27 15:54:24+00:00,2025-01-24 19:13:53+00:00,https://github.com/metabase/metabase/pull/52590,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Drivers', '')]","[{'comment_id': 2609922325, 'issue_id': 2806891713, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/102849_tests-f2040764-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52590?repo=metabase/metabase&commitHash=f2040764b07bbe187fef68b5a8ecc080231e0437&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52590?repo=metabase/metabase&commitHash=f2040764b07bbe187fef68b5a8ecc080231e0437&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/29-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52590?repo=metabase/metabase&commitHash=f2040764b07bbe187fef68b5a8ecc080231e0437&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52590?repo=metabase/metabase&commitHash=f2040764b07bbe187fef68b5a8ecc080231e0437&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>describe-database-sanity-check-test</code> | The expected table does not exist in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52590?repo=metabase/metabase&commitHash=f2040764b07bbe187fef68b5a8ecc080231e0437&utm_source=gh-comment&runConclusion=FAILURE&runId=8ec8dc47-f97f-5869-8dfb-8e8db15c435c) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>update-timeline-event-test</code> | The expected timestamp was not equal to the actual timestamp when updating a timeline event. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52590?repo=metabase/metabase&commitHash=f2040764b07bbe187fef68b5a8ecc080231e0437&utm_source=gh-comment&runConclusion=FAILURE&runId=77b37ab7-28f2-55d3-a087-b778f77a5b2c) |\n| <code>boolean-parameter-values-test</code> | Transaction was aborted, and query execution was canceled due to user request. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52590?repo=metabase/metabase&commitHash=f2040764b07bbe187fef68b5a8ecc080231e0437&utm_source=gh-comment&runConclusion=FAILURE&runId=414def73-4ab1-5160-885d-8642e632c661) |\n| <code>default-value-card-query-test</code> | Transaction was aborted, and query was canceled due to user request. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52590?repo=metabase/metabase&commitHash=f2040764b07bbe187fef68b5a8ecc080231e0437&utm_source=gh-comment&runConclusion=FAILURE&runId=b96c7297-7469-5d8b-8ba0-e9b8528149a3) |\n| <code>dashcard-test</code> | Transaction was aborted, and query execution was canceled due to user request. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52590?repo=metabase/metabase&commitHash=f2040764b07bbe187fef68b5a8ecc080231e0437&utm_source=gh-comment&runConclusion=FAILURE&runId=5d6145f1-77bf-50f3-9b4f-861613b1a63e) |\n\n[... and 25 more](https://app.trunk.io/metabase/flaky-tests/pr/52590?repo=metabase/metabase&commitHash=f2040764b07bbe187fef68b5a8ecc080231e0437&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52590?repo=metabase/metabase&commitHash=f2040764b07bbe187fef68b5a8ecc080231e0437&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 14, 16, 17, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 14:16:17 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/102849_tests-f2040764-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52590?repo=metabase/metabase&commitHash=f2040764b07bbe187fef68b5a8ecc080231e0437&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52590?repo=metabase/metabase&commitHash=f2040764b07bbe187fef68b5a8ecc080231e0437&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/29-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52590?repo=metabase/metabase&commitHash=f2040764b07bbe187fef68b5a8ecc080231e0437&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52590?repo=metabase/metabase&commitHash=f2040764b07bbe187fef68b5a8ecc080231e0437&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>describe-database-sanity-check-test</code> | The expected table does not exist in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52590?repo=metabase/metabase&commitHash=f2040764b07bbe187fef68b5a8ecc080231e0437&utm_source=gh-comment&runConclusion=FAILURE&runId=8ec8dc47-f97f-5869-8dfb-8e8db15c435c) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>update-timeline-event-test</code> | The expected timestamp was not equal to the actual timestamp when updating a timeline event. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52590?repo=metabase/metabase&commitHash=f2040764b07bbe187fef68b5a8ecc080231e0437&utm_source=gh-comment&runConclusion=FAILURE&runId=77b37ab7-28f2-55d3-a087-b778f77a5b2c) |
| <code>boolean-parameter-values-test</code> | Transaction was aborted, and query execution was canceled due to user request. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52590?repo=metabase/metabase&commitHash=f2040764b07bbe187fef68b5a8ecc080231e0437&utm_source=gh-comment&runConclusion=FAILURE&runId=414def73-4ab1-5160-885d-8642e632c661) |
| <code>default-value-card-query-test</code> | Transaction was aborted, and query was canceled due to user request. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52590?repo=metabase/metabase&commitHash=f2040764b07bbe187fef68b5a8ecc080231e0437&utm_source=gh-comment&runConclusion=FAILURE&runId=b96c7297-7469-5d8b-8ba0-e9b8528149a3) |
| <code>dashcard-test</code> | Transaction was aborted, and query execution was canceled due to user request. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52590?repo=metabase/metabase&commitHash=f2040764b07bbe187fef68b5a8ecc080231e0437&utm_source=gh-comment&runConclusion=FAILURE&runId=5d6145f1-77bf-50f3-9b4f-861613b1a63e) |

[... and 25 more](https://app.trunk.io/metabase/flaky-tests/pr/52590?repo=metabase/metabase&commitHash=f2040764b07bbe187fef68b5a8ecc080231e0437&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52590?repo=metabase/metabase&commitHash=f2040764b07bbe187fef68b5a8ecc080231e0437&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2806883644,pull_request,closed,,Quarantine more flaky tests 😓,Move flaky tests to quarantine to unblock PRs,iethree,2025-01-23 13:15:36+00:00,['iethree'],2025-01-27 22:10:40+00:00,2025-01-23 13:47:19+00:00,https://github.com/metabase/metabase/pull/52589,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2609853770, 'issue_id': 2806883644, 'author': 'iethree', 'body': 'everything passed the first time. no flakes, even in the flaky job 🤦\u200d♀️', 'created_at': datetime.datetime(2025, 1, 23, 13, 47, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609862699, 'issue_id': 2806883644, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3683_tests-38a02715-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52589?repo=metabase/metabase&commitHash=38a02715ddeca8533536bee587f14738a2cd6abd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52589?repo=metabase/metabase&commitHash=38a02715ddeca8533536bee587f14738a2cd6abd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52589?repo=metabase/metabase&commitHash=38a02715ddeca8533536bee587f14738a2cd6abd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52589?repo=metabase/metabase&commitHash=38a02715ddeca8533536bee587f14738a2cd6abd&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52589?repo=metabase/metabase&commitHash=38a02715ddeca8533536bee587f14738a2cd6abd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 13, 51, 23, tzinfo=datetime.timezone.utc)}]","iethree (Issue Creator) on (2025-01-23 13:47:12 UTC): everything passed the first time. no flakes, even in the flaky job 🤦‍♀️

trunk-io[bot] on (2025-01-23 13:51:23 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3683_tests-38a02715-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52589?repo=metabase/metabase&commitHash=38a02715ddeca8533536bee587f14738a2cd6abd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52589?repo=metabase/metabase&commitHash=38a02715ddeca8533536bee587f14738a2cd6abd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52589?repo=metabase/metabase&commitHash=38a02715ddeca8533536bee587f14738a2cd6abd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52589?repo=metabase/metabase&commitHash=38a02715ddeca8533536bee587f14738a2cd6abd&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52589?repo=metabase/metabase&commitHash=38a02715ddeca8533536bee587f14738a2cd6abd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2806753747,pull_request,closed,,Sets the proper autofocus when navigating to a specific setting through the hash,"Closes #52439

### Description

When programmatically navigating to an admin setting, the setting is supposed to be highlighted, focused and scrolled into view. The autofocus part would not work properly because the first setting in the tab always had the autofocus. This is now fixed.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. Set viewport height to 1326px
2. New > Dashboard
3. Add an iframe, use https://example.com and click ""Done""
4. You should see ""example.com can not be embedded in iframe cards."" message
5. Click the ""allowed domains list"" link below.
6. General Settings page opens
7. ""Allowed domains"" should be focused and scrolled into view

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",lorem--ipsum,2025-01-23 12:15:34+00:00,['lorem--ipsum'],2025-01-29 06:23:37+00:00,2025-01-29 06:23:35+00:00,https://github.com/metabase/metabase/pull/52588,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2609737631, 'issue_id': 2806753747, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13098_tests-8c56e732-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52588?repo=metabase/metabase&commitHash=8c56e73231e02b4d7f2ba20c5fa008fd739e5d68&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52588?repo=metabase/metabase&commitHash=8c56e73231e02b4d7f2ba20c5fa008fd739e5d68&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52588?repo=metabase/metabase&commitHash=8c56e73231e02b4d7f2ba20c5fa008fd739e5d68&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52588?repo=metabase/metabase&commitHash=8c56e73231e02b4d7f2ba20c5fa008fd739e5d68&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52588?repo=metabase/metabase&commitHash=8c56e73231e02b4d7f2ba20c5fa008fd739e5d68&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 12, 54, 3, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 12:54:03 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13098_tests-8c56e732-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52588?repo=metabase/metabase&commitHash=8c56e73231e02b4d7f2ba20c5fa008fd739e5d68&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52588?repo=metabase/metabase&commitHash=8c56e73231e02b4d7f2ba20c5fa008fd739e5d68&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52588?repo=metabase/metabase&commitHash=8c56e73231e02b4d7f2ba20c5fa008fd739e5d68&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52588?repo=metabase/metabase&commitHash=8c56e73231e02b4d7f2ba20c5fa008fd739e5d68&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52588?repo=metabase/metabase&commitHash=8c56e73231e02b4d7f2ba20c5fa008fd739e5d68&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2806623508,pull_request,closed,,"🤖 backported ""Fix dashboard subscription sometimes shows empty result""","  #52571
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-23 11:14:16+00:00,"['qnkhuat', 'github-automation-metabase']",2025-01-23 17:41:17+00:00,2025-01-23 16:46:53+00:00,https://github.com/metabase/metabase/pull/52586,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2609668764, 'issue_id': 2806623508, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/102515_tests-f55b093b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52586?repo=metabase/metabase&commitHash=f55b093bfa5d592507983c0ca033ec82c2727242&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52586?repo=metabase/metabase&commitHash=f55b093bfa5d592507983c0ca033ec82c2727242&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52586?repo=metabase/metabase&commitHash=f55b093bfa5d592507983c0ca033ec82c2727242&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52586?repo=metabase/metabase&commitHash=f55b093bfa5d592507983c0ca033ec82c2727242&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>not-null-test</code> | The query result set was closed before it could be processed. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52586?repo=metabase/metabase&commitHash=f55b093bfa5d592507983c0ca033ec82c2727242&utm_source=gh-comment&runConclusion=FAILURE&runId=5cb1def9-6b13-5e0a-a3b1-9fee4ec9068e) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52586?repo=metabase/metabase&commitHash=f55b093bfa5d592507983c0ca033ec82c2727242&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 12, 19, 48, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 12:19:48 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/102515_tests-f55b093b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52586?repo=metabase/metabase&commitHash=f55b093bfa5d592507983c0ca033ec82c2727242&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52586?repo=metabase/metabase&commitHash=f55b093bfa5d592507983c0ca033ec82c2727242&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52586?repo=metabase/metabase&commitHash=f55b093bfa5d592507983c0ca033ec82c2727242&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52586?repo=metabase/metabase&commitHash=f55b093bfa5d592507983c0ca033ec82c2727242&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>not-null-test</code> | The query result set was closed before it could be processed. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52586?repo=metabase/metabase&commitHash=f55b093bfa5d592507983c0ca033ec82c2727242&utm_source=gh-comment&runConclusion=FAILURE&runId=5cb1def9-6b13-5e0a-a3b1-9fee4ec9068e) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52586?repo=metabase/metabase&commitHash=f55b093bfa5d592507983c0ca033ec82c2727242&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2806540361,pull_request,closed,,Added missing Metric mention,I'm pretty sure Metrics were missing from that list,thebiglabasky,2025-01-23 10:37:43+00:00,['thebiglabasky'],2025-01-27 22:10:07+00:00,2025-01-27 15:31:01+00:00,https://github.com/metabase/metabase/pull/52584,"[('Type:Documentation', ''), ('no-backport', 'Do not backport this PR to any branch')]",[],
2806496969,pull_request,closed,,Fix remaining e2e tests for New Search on v52,"We don't want to actually change the default, its just to switch the e2e tests over in CI, to nail down any last issues.

I think by default we want 52 to keep testing Old Search in CI, as its the default.",crisptrutski,2025-01-23 10:19:00+00:00,['crisptrutski'],2025-01-24 13:09:00+00:00,2025-01-24 13:07:21+00:00,https://github.com/metabase/metabase/pull/52583,"[('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2609484776, 'issue_id': 2806496969, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120815_tests-8c6ce968-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52583?repo=metabase/metabase&commitHash=8c6ce9681f04eb6d241b4cbd30c232c9759ee98f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52583?repo=metabase/metabase&commitHash=8c6ce9681f04eb6d241b4cbd30c232c9759ee98f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52583?repo=metabase/metabase&commitHash=8c6ce9681f04eb6d241b4cbd30c232c9759ee98f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52583?repo=metabase/metabase&commitHash=8c6ce9681f04eb6d241b4cbd30c232c9759ee98f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find a button with the name ""Done"" after 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52583?repo=metabase/metabase&commitHash=8c6ce9681f04eb6d241b4cbd30c232c9759ee98f&utm_source=gh-comment&runConclusion=FAILURE&runId=56437a7b-5653-5d4e-91dd-d169bfe75d95) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>datetime-binning-options-test-3</code> | Deadlock found when trying to get lock; try restarting transaction | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52583?repo=metabase/metabase&commitHash=8c6ce9681f04eb6d241b4cbd30c232c9759ee98f&utm_source=gh-comment&runConclusion=FAILURE&runId=73f99653-6c9c-5263-a4b0-0f809d6a1c79) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52583?repo=metabase/metabase&commitHash=8c6ce9681f04eb6d241b4cbd30c232c9759ee98f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 10, 49, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609972375, 'issue_id': 2806496969, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `8c6ce9681f04eb6d241b4cbd30c232c9759ee98f-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12931009805?pr=52583)\n\n  File | Test Name\n  ---- | ---------\n  `api-keys.cy.spec.ts` | scenarios > admin > settings > API keys > should show an error when a previously used key name is submitted', 'created_at': datetime.datetime(2025, 1, 23, 14, 35, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612491997, 'issue_id': 2806496969, 'author': 'crisptrutski', 'body': ""Can't reproduce the failures 🤷 \r\n\r\nThe two cases had been a metric and an action not showing up in search respectively.\r\n\r\nThey may have been timing issues - the search being made before the index had been updated in the background."", 'created_at': datetime.datetime(2025, 1, 24, 13, 7, 21, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 10:49:30 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120815_tests-8c6ce968-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52583?repo=metabase/metabase&commitHash=8c6ce9681f04eb6d241b4cbd30c232c9759ee98f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52583?repo=metabase/metabase&commitHash=8c6ce9681f04eb6d241b4cbd30c232c9759ee98f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52583?repo=metabase/metabase&commitHash=8c6ce9681f04eb6d241b4cbd30c232c9759ee98f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52583?repo=metabase/metabase&commitHash=8c6ce9681f04eb6d241b4cbd30c232c9759ee98f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find a button with the name ""Done"" after 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52583?repo=metabase/metabase&commitHash=8c6ce9681f04eb6d241b4cbd30c232c9759ee98f&utm_source=gh-comment&runConclusion=FAILURE&runId=56437a7b-5653-5d4e-91dd-d169bfe75d95) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>datetime-binning-options-test-3</code> | Deadlock found when trying to get lock; try restarting transaction | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52583?repo=metabase/metabase&commitHash=8c6ce9681f04eb6d241b4cbd30c232c9759ee98f&utm_source=gh-comment&runConclusion=FAILURE&runId=73f99653-6c9c-5263-a4b0-0f809d6a1c79) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52583?repo=metabase/metabase&commitHash=8c6ce9681f04eb6d241b4cbd30c232c9759ee98f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-23 14:35:52 UTC): ## e2e tests failed on `8c6ce9681f04eb6d241b4cbd30c232c9759ee98f-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12931009805?pr=52583)

  File | Test Name
  ---- | ---------
  `api-keys.cy.spec.ts` | scenarios > admin > settings > API keys > should show an error when a previously used key name is submitted

crisptrutski (Issue Creator) on (2025-01-24 13:07:21 UTC): Can't reproduce the failures 🤷 

The two cases had been a metric and an action not showing up in search respectively.

They may have been timing issues - the search being made before the index had been updated in the background.

"
2806477189,pull_request,closed,,Move weight updates to a PUT,"Some churn here about whether we want to be RESTful or convenient, added champions for both opinions as reviewers 😄 

If we have an easy to use OpenAPI page which autopopulates auth, then we wouldn't have to choose 🌈 ",crisptrutski,2025-01-23 10:10:20+00:00,['crisptrutski'],2025-01-27 13:53:52+00:00,2025-01-24 14:34:40+00:00,https://github.com/metabase/metabase/pull/52582,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2609472650, 'issue_id': 2806477189, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/118132_tests-40dc6627-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52582?repo=metabase/metabase&commitHash=40dc66272e5d27557a3b8de27f8972a35b08a301&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52582?repo=metabase/metabase&commitHash=40dc66272e5d27557a3b8de27f8972a35b08a301&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52582?repo=metabase/metabase&commitHash=40dc66272e5d27557a3b8de27f8972a35b08a301&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52582?repo=metabase/metabase&commitHash=40dc66272e5d27557a3b8de27f8972a35b08a301&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, but expected stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52582?repo=metabase/metabase&commitHash=40dc66272e5d27557a3b8de27f8972a35b08a301&utm_source=gh-comment&runConclusion=FAILURE&runId=004345f3-8b6f-5130-aea0-5f69ca71ab93) |\n| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution for the given input. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52582?repo=metabase/metabase&commitHash=40dc66272e5d27557a3b8de27f8972a35b08a301&utm_source=gh-comment&runConclusion=FAILURE&runId=8c3b0424-065f-525b-975a-2035b9acc626) |\n| <code>e2e-storage-ingestion-test</code> | Expected a specific entity, but got a different one, with mismatched fields. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52582?repo=metabase/metabase&commitHash=40dc66272e5d27557a3b8de27f8972a35b08a301&utm_source=gh-comment&runConclusion=FAILURE&runId=8044c969-7f4e-5fff-84ce-cec6b9de0812) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52582?repo=metabase/metabase&commitHash=40dc66272e5d27557a3b8de27f8972a35b08a301&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 10, 44, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610133199, 'issue_id': 2806477189, 'author': 'piranha', 'body': '🤷', 'created_at': datetime.datetime(2025, 1, 23, 15, 34, 41, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 10:44:15 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/118132_tests-40dc6627-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52582?repo=metabase/metabase&commitHash=40dc66272e5d27557a3b8de27f8972a35b08a301&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52582?repo=metabase/metabase&commitHash=40dc66272e5d27557a3b8de27f8972a35b08a301&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52582?repo=metabase/metabase&commitHash=40dc66272e5d27557a3b8de27f8972a35b08a301&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52582?repo=metabase/metabase&commitHash=40dc66272e5d27557a3b8de27f8972a35b08a301&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, but expected stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52582?repo=metabase/metabase&commitHash=40dc66272e5d27557a3b8de27f8972a35b08a301&utm_source=gh-comment&runConclusion=FAILURE&runId=004345f3-8b6f-5130-aea0-5f69ca71ab93) |
| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution for the given input. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52582?repo=metabase/metabase&commitHash=40dc66272e5d27557a3b8de27f8972a35b08a301&utm_source=gh-comment&runConclusion=FAILURE&runId=8c3b0424-065f-525b-975a-2035b9acc626) |
| <code>e2e-storage-ingestion-test</code> | Expected a specific entity, but got a different one, with mismatched fields. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52582?repo=metabase/metabase&commitHash=40dc66272e5d27557a3b8de27f8972a35b08a301&utm_source=gh-comment&runConclusion=FAILURE&runId=8044c969-7f4e-5fff-84ce-cec6b9de0812) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52582?repo=metabase/metabase&commitHash=40dc66272e5d27557a3b8de27f8972a35b08a301&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

piranha on (2025-01-23 15:34:41 UTC): 🤷

"
2806421490,pull_request,closed,,Simplify and shorten upload table names,"Closes: https://github.com/metabase/metabase/issues/52116

Note that of icu4j was already a dependency, via graalvm. 

We have just made it explicit now, ~~and updated to the latest version.~~ ([upgrading version breaks rendering](https://github.com/metabase/metabase/actions/runs/12926546646/job/36049844305?pr=52581))

```
org.graalvm.js/js 22.3.5
  . org.graalvm.regex/regex 22.3.5
    . org.graalvm.truffle/truffle-api 22.3.5
    . com.ibm.icu/icu4j 71.1
  . org.graalvm.truffle/truffle-api 22.3.5
    . org.graalvm.sdk/graal-sdk 22.3.5
  . org.graalvm.sdk/graal-sdk 22.3.5
  . com.ibm.icu/icu4j 71.1
```",crisptrutski,2025-01-23 09:45:56+00:00,['crisptrutski'],2025-01-24 14:12:46+00:00,2025-01-24 13:33:59+00:00,https://github.com/metabase/metabase/pull/52581,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2609418912, 'issue_id': 2806421490, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/125133_tests-abe5d8a8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52581?repo=metabase/metabase&commitHash=abe5d8a8ad1d939415241bdf9180b45e60fd5389&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52581?repo=metabase/metabase&commitHash=abe5d8a8ad1d939415241bdf9180b45e60fd5389&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52581?repo=metabase/metabase&commitHash=abe5d8a8ad1d939415241bdf9180b45e60fd5389&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52581?repo=metabase/metabase&commitHash=abe5d8a8ad1d939415241bdf9180b45e60fd5389&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>later-page-fetch-throws-test</code> | BigQuery query failed to fetch a later page, expected an exception but got none. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52581?repo=metabase/metabase&commitHash=abe5d8a8ad1d939415241bdf9180b45e60fd5389&utm_source=gh-comment&runConclusion=FAILURE&runId=60c716f6-029e-5855-8438-e7f517cc7cf3) |\n| <code>scenarios > browse (EE) /browse/models allows models to be filtered, on an enterprise instance</code> | Unable to find an accessible element with the role ""heading"" and name ""Model 1"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52581?repo=metabase/metabase&commitHash=abe5d8a8ad1d939415241bdf9180b45e60fd5389&utm_source=gh-comment&runConclusion=FAILURE&runId=0646301e-26a6-527c-a473-18dea4d0fea9) |\n| <code>scenarios > native question > data reference sidebar should show models</code> | Unable to find an element with the text ""2 models"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52581?repo=metabase/metabase&commitHash=abe5d8a8ad1d939415241bdf9180b45e60fd5389&utm_source=gh-comment&runConclusion=FAILURE&runId=1b92df04-4794-56e5-a2b9-c2801ad1efae) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > metrics > search should see metrics in recent items in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52581?repo=metabase/metabase&commitHash=abe5d8a8ad1d939415241bdf9180b45e60fd5389&utm_source=gh-comment&runConclusion=FAILURE&runId=d6ba982e-6b14-57f7-9610-37490b855ff3) |\n| <code>scenarios > metrics > search should be able to search for metrics on the search page</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52581?repo=metabase/metabase&commitHash=abe5d8a8ad1d939415241bdf9180b45e60fd5389&utm_source=gh-comment&runConclusion=FAILURE&runId=d9553cf8-7569-5d00-afab-dcc89cd18fd7) |\n| <code>scenarios > metrics > search should be able to search for metrics in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52581?repo=metabase/metabase&commitHash=abe5d8a8ad1d939415241bdf9180b45e60fd5389&utm_source=gh-comment&runConclusion=FAILURE&runId=7ed678a1-0bc6-5d2f-b295-22d5a88703cd) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52581?repo=metabase/metabase&commitHash=abe5d8a8ad1d939415241bdf9180b45e60fd5389&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 10, 19, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609457312, 'issue_id': 2806421490, 'author': 'crisptrutski', 'body': 'This breaks `metabase.channel.render.body-test/multiseries-dashcard-render-filters-test`, and superficially I have no idea why.', 'created_at': datetime.datetime(2025, 1, 23, 10, 37, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612451488, 'issue_id': 2806421490, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `abe5d8a8ad1d939415241bdf9180b45e60fd5389-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12949649051?pr=52581)\n\n  File | Test Name\n  ---- | ---------\n  `metrics-search.cy.spec.js` | scenarios > metrics > search > should see metrics in recent items in global search', 'created_at': datetime.datetime(2025, 1, 24, 12, 46, 46, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 10:19:40 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/125133_tests-abe5d8a8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52581?repo=metabase/metabase&commitHash=abe5d8a8ad1d939415241bdf9180b45e60fd5389&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52581?repo=metabase/metabase&commitHash=abe5d8a8ad1d939415241bdf9180b45e60fd5389&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52581?repo=metabase/metabase&commitHash=abe5d8a8ad1d939415241bdf9180b45e60fd5389&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52581?repo=metabase/metabase&commitHash=abe5d8a8ad1d939415241bdf9180b45e60fd5389&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>later-page-fetch-throws-test</code> | BigQuery query failed to fetch a later page, expected an exception but got none. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52581?repo=metabase/metabase&commitHash=abe5d8a8ad1d939415241bdf9180b45e60fd5389&utm_source=gh-comment&runConclusion=FAILURE&runId=60c716f6-029e-5855-8438-e7f517cc7cf3) |
| <code>scenarios > browse (EE) /browse/models allows models to be filtered, on an enterprise instance</code> | Unable to find an accessible element with the role ""heading"" and name ""Model 1"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52581?repo=metabase/metabase&commitHash=abe5d8a8ad1d939415241bdf9180b45e60fd5389&utm_source=gh-comment&runConclusion=FAILURE&runId=0646301e-26a6-527c-a473-18dea4d0fea9) |
| <code>scenarios > native question > data reference sidebar should show models</code> | Unable to find an element with the text ""2 models"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52581?repo=metabase/metabase&commitHash=abe5d8a8ad1d939415241bdf9180b45e60fd5389&utm_source=gh-comment&runConclusion=FAILURE&runId=1b92df04-4794-56e5-a2b9-c2801ad1efae) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > metrics > search should see metrics in recent items in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52581?repo=metabase/metabase&commitHash=abe5d8a8ad1d939415241bdf9180b45e60fd5389&utm_source=gh-comment&runConclusion=FAILURE&runId=d6ba982e-6b14-57f7-9610-37490b855ff3) |
| <code>scenarios > metrics > search should be able to search for metrics on the search page</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52581?repo=metabase/metabase&commitHash=abe5d8a8ad1d939415241bdf9180b45e60fd5389&utm_source=gh-comment&runConclusion=FAILURE&runId=d9553cf8-7569-5d00-afab-dcc89cd18fd7) |
| <code>scenarios > metrics > search should be able to search for metrics in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52581?repo=metabase/metabase&commitHash=abe5d8a8ad1d939415241bdf9180b45e60fd5389&utm_source=gh-comment&runConclusion=FAILURE&runId=7ed678a1-0bc6-5d2f-b295-22d5a88703cd) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52581?repo=metabase/metabase&commitHash=abe5d8a8ad1d939415241bdf9180b45e60fd5389&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

crisptrutski (Issue Creator) on (2025-01-23 10:37:13 UTC): This breaks `metabase.channel.render.body-test/multiseries-dashcard-render-filters-test`, and superficially I have no idea why.

github-actions[bot] on (2025-01-24 12:46:46 UTC): ## e2e tests failed on `abe5d8a8ad1d939415241bdf9180b45e60fd5389-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12949649051?pr=52581)

  File | Test Name
  ---- | ---------
  `metrics-search.cy.spec.js` | scenarios > metrics > search > should see metrics in recent items in global search

"
2806346779,pull_request,closed,,Do not ignore full_stacktrace on import,"
### Description

The `full_stacktrace` parameter to `/api/ee/serialization/import` did not work. It was not passed through to the `unpack&import` call. This PR passes it

No test as unsure whether worth it in this instance. Please comment if you'd like a test? (I'd imagine something that makes an api call, with-redef an exception, check logs for stack frames)",wotbrew,2025-01-23 09:14:23+00:00,['wotbrew'],2025-01-24 13:08:11+00:00,2025-01-23 18:37:46+00:00,https://github.com/metabase/metabase/pull/52580,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2609338507, 'issue_id': 2806346779, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/115055_tests-6c9775b6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52580?repo=metabase/metabase&commitHash=6c9775b6f72bc19c0a6d3ec25b6662f3b92f1874&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/285-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52580?repo=metabase/metabase&commitHash=6c9775b6f72bc19c0a6d3ec25b6662f3b92f1874&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52580?repo=metabase/metabase&commitHash=6c9775b6f72bc19c0a6d3ec25b6662f3b92f1874&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52580?repo=metabase/metabase&commitHash=6c9775b6f72bc19c0a6d3ec25b6662f3b92f1874&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52580?repo=metabase/metabase&commitHash=6c9775b6f72bc19c0a6d3ec25b6662f3b92f1874&utm_source=gh-comment&runConclusion=FAILURE&runId=11f31870-58e7-50d7-b057-2c00e93a9bb5) |\n| <code>sort-by-unnamed-aggregate-expression-test</code> | Connection to Hive database was refused, preventing query execution. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52580?repo=metabase/metabase&commitHash=6c9775b6f72bc19c0a6d3ec25b6662f3b92f1874&utm_source=gh-comment&runConclusion=FAILURE&runId=92c6cc51-d4f8-5cf5-90c7-a6c3a57546f1) |\n| <code>multilevel-nested-questions-with-joins</code> | Connection to Hive database was refused. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52580?repo=metabase/metabase&commitHash=6c9775b6f72bc19c0a6d3ec25b6662f3b92f1874&utm_source=gh-comment&runConclusion=FAILURE&runId=f053d173-7d11-5dea-96eb-a1808b8f45f7) |\n| <code>all-fields-datetime-field-test</code> | Connection to Hive database was reset, preventing query execution. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52580?repo=metabase/metabase&commitHash=6c9775b6f72bc19c0a6d3ec25b6662f3b92f1874&utm_source=gh-comment&runConclusion=FAILURE&runId=144e56d3-d687-5cea-960d-b515663ad5e1) |\n\n[... and 281 more](https://app.trunk.io/metabase/flaky-tests/pr/52580?repo=metabase/metabase&commitHash=6c9775b6f72bc19c0a6d3ec25b6662f3b92f1874&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\#24966)</code> | The \'body\' property was accessed on an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52580?repo=metabase/metabase&commitHash=6c9775b6f72bc19c0a6d3ec25b6662f3b92f1874&utm_source=gh-comment&runConclusion=FAILURE&runId=8ea8734a-8d6c-5f66-ad61-6969116f4b9c) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52580?repo=metabase/metabase&commitHash=6c9775b6f72bc19c0a6d3ec25b6662f3b92f1874&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 9, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610205076, 'issue_id': 2806346779, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `6c9775b6f72bc19c0a6d3ec25b6662f3b92f1874-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12932803296?pr=52580)\n\n  File | Test Name\n  ---- | ---------\n  `entity-picker.cy.spec.ts` | (_flaky_) scenarios > organization > entity picker > collection picker > should show dashboards in personal collections when apropriate, even if there are no sub collections', 'created_at': datetime.datetime(2025, 1, 23, 15, 59, 20, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 09:44:00 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/115055_tests-6c9775b6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52580?repo=metabase/metabase&commitHash=6c9775b6f72bc19c0a6d3ec25b6662f3b92f1874&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/285-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52580?repo=metabase/metabase&commitHash=6c9775b6f72bc19c0a6d3ec25b6662f3b92f1874&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52580?repo=metabase/metabase&commitHash=6c9775b6f72bc19c0a6d3ec25b6662f3b92f1874&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52580?repo=metabase/metabase&commitHash=6c9775b6f72bc19c0a6d3ec25b6662f3b92f1874&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52580?repo=metabase/metabase&commitHash=6c9775b6f72bc19c0a6d3ec25b6662f3b92f1874&utm_source=gh-comment&runConclusion=FAILURE&runId=11f31870-58e7-50d7-b057-2c00e93a9bb5) |
| <code>sort-by-unnamed-aggregate-expression-test</code> | Connection to Hive database was refused, preventing query execution. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52580?repo=metabase/metabase&commitHash=6c9775b6f72bc19c0a6d3ec25b6662f3b92f1874&utm_source=gh-comment&runConclusion=FAILURE&runId=92c6cc51-d4f8-5cf5-90c7-a6c3a57546f1) |
| <code>multilevel-nested-questions-with-joins</code> | Connection to Hive database was refused. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52580?repo=metabase/metabase&commitHash=6c9775b6f72bc19c0a6d3ec25b6662f3b92f1874&utm_source=gh-comment&runConclusion=FAILURE&runId=f053d173-7d11-5dea-96eb-a1808b8f45f7) |
| <code>all-fields-datetime-field-test</code> | Connection to Hive database was reset, preventing query execution. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52580?repo=metabase/metabase&commitHash=6c9775b6f72bc19c0a6d3ec25b6662f3b92f1874&utm_source=gh-comment&runConclusion=FAILURE&runId=144e56d3-d687-5cea-960d-b515663ad5e1) |

[... and 281 more](https://app.trunk.io/metabase/flaky-tests/pr/52580?repo=metabase/metabase&commitHash=6c9775b6f72bc19c0a6d3ec25b6662f3b92f1874&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52580?repo=metabase/metabase&commitHash=6c9775b6f72bc19c0a6d3ec25b6662f3b92f1874&utm_source=gh-comment&runConclusion=FAILURE&runId=8ea8734a-8d6c-5f66-ad61-6969116f4b9c) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52580?repo=metabase/metabase&commitHash=6c9775b6f72bc19c0a6d3ec25b6662f3b92f1874&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-23 15:59:20 UTC): ## e2e tests failed on `6c9775b6f72bc19c0a6d3ec25b6662f3b92f1874-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12932803296?pr=52580)

  File | Test Name
  ---- | ---------
  `entity-picker.cy.spec.ts` | (_flaky_) scenarios > organization > entity picker > collection picker > should show dashboards in personal collections when apropriate, even if there are no sub collections

"
2806318398,pull_request,closed,,"🤖 backported ""Trim tab names on blur (closes #50797)""",#52397,github-automation-metabase,2025-01-23 09:03:11+00:00,"['lorem--ipsum', 'github-automation-metabase']",2025-01-29 10:10:14+00:00,2025-01-29 09:30:33+00:00,https://github.com/metabase/metabase/pull/52579,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2609348841, 'issue_id': 2806318398, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13688_tests-2fb7c837-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52579?repo=metabase/metabase&commitHash=2fb7c8374f02ea1a6687d511074a8487de77f810&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52579?repo=metabase/metabase&commitHash=2fb7c8374f02ea1a6687d511074a8487de77f810&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52579?repo=metabase/metabase&commitHash=2fb7c8374f02ea1a6687d511074a8487de77f810&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52579?repo=metabase/metabase&commitHash=2fb7c8374f02ea1a6687d511074a8487de77f810&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52579?repo=metabase/metabase&commitHash=2fb7c8374f02ea1a6687d511074a8487de77f810&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 9, 48, 37, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 09:48:37 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13688_tests-2fb7c837-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52579?repo=metabase/metabase&commitHash=2fb7c8374f02ea1a6687d511074a8487de77f810&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52579?repo=metabase/metabase&commitHash=2fb7c8374f02ea1a6687d511074a8487de77f810&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52579?repo=metabase/metabase&commitHash=2fb7c8374f02ea1a6687d511074a8487de77f810&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52579?repo=metabase/metabase&commitHash=2fb7c8374f02ea1a6687d511074a8487de77f810&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52579?repo=metabase/metabase&commitHash=2fb7c8374f02ea1a6687d511074a8487de77f810&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2806303170,pull_request,closed,,"🤖 backported ""ci(sdk): skip flaky tooltip test on ci""",#52577,github-automation-metabase,2025-01-23 08:56:03+00:00,"['heypoom', 'github-automation-metabase']",2025-01-23 09:48:26+00:00,2025-01-23 08:57:43+00:00,https://github.com/metabase/metabase/pull/52578,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2609348410, 'issue_id': 2806303170, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/54_tests-bb6222da-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52578?repo=metabase/metabase&commitHash=bb6222da4e13ad9a13e543fa1e23a0373cfef800&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52578?repo=metabase/metabase&commitHash=bb6222da4e13ad9a13e543fa1e23a0373cfef800&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52578?repo=metabase/metabase&commitHash=bb6222da4e13ad9a13e543fa1e23a0373cfef800&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52578?repo=metabase/metabase&commitHash=bb6222da4e13ad9a13e543fa1e23a0373cfef800&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52578?repo=metabase/metabase&commitHash=bb6222da4e13ad9a13e543fa1e23a0373cfef800&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 9, 48, 25, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 09:48:25 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/54_tests-bb6222da-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52578?repo=metabase/metabase&commitHash=bb6222da4e13ad9a13e543fa1e23a0373cfef800&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52578?repo=metabase/metabase&commitHash=bb6222da4e13ad9a13e543fa1e23a0373cfef800&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52578?repo=metabase/metabase&commitHash=bb6222da4e13ad9a13e543fa1e23a0373cfef800&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52578?repo=metabase/metabase&commitHash=bb6222da4e13ad9a13e543fa1e23a0373cfef800&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52578?repo=metabase/metabase&commitHash=bb6222da4e13ad9a13e543fa1e23a0373cfef800&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2806292406,pull_request,closed,,ci(sdk): skip flaky tooltip test on ci,"I ran this test locally 20+ times and it never flaked, and it is flaking on CI for some reason.

> My disappointment is immeasurable and my day is ruined :(
",heypoom,2025-01-23 08:50:59+00:00,['heypoom'],2025-01-23 08:58:11+00:00,2025-01-23 08:55:05+00:00,https://github.com/metabase/metabase/pull/52577,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2609196281, 'issue_id': 2806292406, 'author': 'heypoom', 'body': 'cc @sanex3339 thanks for reporting!', 'created_at': datetime.datetime(2025, 1, 23, 8, 51, 43, tzinfo=datetime.timezone.utc)}]","heypoom (Issue Creator) on (2025-01-23 08:51:43 UTC): cc @sanex3339 thanks for reporting!

"
2806241272,pull_request,closed,,"🤖 backported ""Register prometheus endpoint metrics""",#52534,github-automation-metabase,2025-01-23 08:25:10+00:00,"['crisptrutski', 'github-automation-metabase']",2025-01-23 09:44:20+00:00,2025-01-23 08:59:38+00:00,https://github.com/metabase/metabase/pull/52576,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2609258906, 'issue_id': 2806241272, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/119161_tests-b177023b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52576?repo=metabase/metabase&commitHash=b177023bce0c4f4c6e540df3795515bc28719747&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52576?repo=metabase/metabase&commitHash=b177023bce0c4f4c6e540df3795515bc28719747&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52576?repo=metabase/metabase&commitHash=b177023bce0c4f4c6e540df3795515bc28719747&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52576?repo=metabase/metabase&commitHash=b177023bce0c4f4c6e540df3795515bc28719747&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding-sdk > tooltip-reproductions should render tooltips below the screen's height</code> | The expected value was false, but the actual value was true. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52576?repo=metabase/metabase&commitHash=b177023bce0c4f4c6e540df3795515bc28719747&utm_source=gh-comment&runConclusion=FAILURE&runId=85a3f4b8-5312-5660-8266-1482d17dc46d) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>geographic-coordinates-formatting-test</code> | Longitude and latitude columns should format correctly on export. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52576?repo=metabase/metabase&commitHash=b177023bce0c4f4c6e540df3795515bc28719747&utm_source=gh-comment&runConclusion=FAILURE&runId=22fbef31-d603-5047-92cb-719d90b85ee9) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52576?repo=metabase/metabase&commitHash=b177023bce0c4f4c6e540df3795515bc28719747&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 23, 9, 14, 43, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 09:14:43 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/119161_tests-b177023b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52576?repo=metabase/metabase&commitHash=b177023bce0c4f4c6e540df3795515bc28719747&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52576?repo=metabase/metabase&commitHash=b177023bce0c4f4c6e540df3795515bc28719747&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52576?repo=metabase/metabase&commitHash=b177023bce0c4f4c6e540df3795515bc28719747&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52576?repo=metabase/metabase&commitHash=b177023bce0c4f4c6e540df3795515bc28719747&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding-sdk > tooltip-reproductions should render tooltips below the screen's height</code> | The expected value was false, but the actual value was true. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52576?repo=metabase/metabase&commitHash=b177023bce0c4f4c6e540df3795515bc28719747&utm_source=gh-comment&runConclusion=FAILURE&runId=85a3f4b8-5312-5660-8266-1482d17dc46d) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>geographic-coordinates-formatting-test</code> | Longitude and latitude columns should format correctly on export. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52576?repo=metabase/metabase&commitHash=b177023bce0c4f4c6e540df3795515bc28719747&utm_source=gh-comment&runConclusion=FAILURE&runId=22fbef31-d603-5047-92cb-719d90b85ee9) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52576?repo=metabase/metabase&commitHash=b177023bce0c4f4c6e540df3795515bc28719747&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2806014408,pull_request,closed,,Revert public.clj changes from 52490 to fix downloads,"Reverts #52490's `public.clj` as instructed by @camsaul to fix public links with file extensions and downloads in public dashboards being fully broken

> I think for now to unblock you can revert the changes to public.clj from my PR (you can leave the changes to macros.clj in there)

Cam's PR is ""no-backport"" so we don't need to backport it.

See this [Slack thread](https://metaboat.slack.com/archives/C0645JP1W81/p1737600068608569).
",heypoom,2025-01-23 06:11:26+00:00,['heypoom'],2025-01-27 22:10:42+00:00,2025-01-23 06:53:43+00:00,https://github.com/metabase/metabase/pull/52574,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', '')]","[{'comment_id': 2608982505, 'issue_id': 2806014408, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/128023_tests-5fb47013-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52574?repo=metabase/metabase&commitHash=5fb470138ef00cb5efcdedeab2db7327fb3bc94b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52574?repo=metabase/metabase&commitHash=5fb470138ef00cb5efcdedeab2db7327fb3bc94b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52574?repo=metabase/metabase&commitHash=5fb470138ef00cb5efcdedeab2db7327fb3bc94b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52574?repo=metabase/metabase&commitHash=5fb470138ef00cb5efcdedeab2db7327fb3bc94b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52574?repo=metabase/metabase&commitHash=5fb470138ef00cb5efcdedeab2db7327fb3bc94b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 6, 42, 30, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 06:42:30 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/128023_tests-5fb47013-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52574?repo=metabase/metabase&commitHash=5fb470138ef00cb5efcdedeab2db7327fb3bc94b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52574?repo=metabase/metabase&commitHash=5fb470138ef00cb5efcdedeab2db7327fb3bc94b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52574?repo=metabase/metabase&commitHash=5fb470138ef00cb5efcdedeab2db7327fb3bc94b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52574?repo=metabase/metabase&commitHash=5fb470138ef00cb5efcdedeab2db7327fb3bc94b&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52574?repo=metabase/metabase&commitHash=5fb470138ef00cb5efcdedeab2db7327fb3bc94b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2805991553,pull_request,closed,,"🤖 backported ""fix(sdk): fix save question form's cancel button height""",#52504,github-automation-metabase,2025-01-23 05:56:17+00:00,"['heypoom', 'github-automation-metabase']",2025-01-27 14:50:39+00:00,2025-01-27 14:50:37+00:00,https://github.com/metabase/metabase/pull/52573,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2608988532, 'issue_id': 2805991553, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13649_tests-f68797b3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52573?repo=metabase/metabase&commitHash=f68797b3941d7f58e7f2d227fceab38f7ecf8571&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52573?repo=metabase/metabase&commitHash=f68797b3941d7f58e7f2d227fceab38f7ecf8571&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52573?repo=metabase/metabase&commitHash=f68797b3941d7f58e7f2d227fceab38f7ecf8571&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52573?repo=metabase/metabase&commitHash=f68797b3941d7f58e7f2d227fceab38f7ecf8571&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52573?repo=metabase/metabase&commitHash=f68797b3941d7f58e7f2d227fceab38f7ecf8571&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 6, 46, 7, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 06:46:07 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13649_tests-f68797b3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52573?repo=metabase/metabase&commitHash=f68797b3941d7f58e7f2d227fceab38f7ecf8571&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52573?repo=metabase/metabase&commitHash=f68797b3941d7f58e7f2d227fceab38f7ecf8571&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52573?repo=metabase/metabase&commitHash=f68797b3941d7f58e7f2d227fceab38f7ecf8571&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52573?repo=metabase/metabase&commitHash=f68797b3941d7f58e7f2d227fceab38f7ecf8571&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52573?repo=metabase/metabase&commitHash=f68797b3941d7f58e7f2d227fceab38f7ecf8571&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2805991493,pull_request,closed,,"🤖 backported ""fix(sdk): echarts tooltip is cut off below the viewport height""",#52310,github-automation-metabase,2025-01-23 05:56:14+00:00,"['heypoom', 'github-automation-metabase']",2025-01-23 07:11:33+00:00,2025-01-23 06:34:38+00:00,https://github.com/metabase/metabase/pull/52572,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2608926201, 'issue_id': 2805991493, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 5cdc67c64f2a9726b4d88a9be2ff9f99a1a57050...6eb5cb01b3f12c89fd314673b21fd09b2a4ab084.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/echarts/tooltip/index.tsx |', 'created_at': datetime.datetime(2025, 1, 23, 5, 57, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608982017, 'issue_id': 2805991493, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51879_tests-6eb5cb01-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52572?repo=metabase/metabase&commitHash=6eb5cb01b3f12c89fd314673b21fd09b2a4ab084&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52572?repo=metabase/metabase&commitHash=6eb5cb01b3f12c89fd314673b21fd09b2a4ab084&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52572?repo=metabase/metabase&commitHash=6eb5cb01b3f12c89fd314673b21fd09b2a4ab084&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52572?repo=metabase/metabase&commitHash=6eb5cb01b3f12c89fd314673b21fd09b2a4ab084&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding-sdk > tooltip-reproductions should render tooltips below the screen's height</code> | The expected value was false, but the actual value was true. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52572?repo=metabase/metabase&commitHash=6eb5cb01b3f12c89fd314673b21fd09b2a4ab084&utm_source=gh-comment&runConclusion=FAILURE&runId=73853370-968e-524a-ab6a-54906dfa139f) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52572?repo=metabase/metabase&commitHash=6eb5cb01b3f12c89fd314673b21fd09b2a4ab084&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 23, 6, 42, 3, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-23 05:57:39 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 5cdc67c64f2a9726b4d88a9be2ff9f99a1a57050...6eb5cb01b3f12c89fd314673b21fd09b2a4ab084.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/echarts/tooltip/index.tsx |

trunk-io[bot] on (2025-01-23 06:42:03 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51879_tests-6eb5cb01-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52572?repo=metabase/metabase&commitHash=6eb5cb01b3f12c89fd314673b21fd09b2a4ab084&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52572?repo=metabase/metabase&commitHash=6eb5cb01b3f12c89fd314673b21fd09b2a4ab084&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52572?repo=metabase/metabase&commitHash=6eb5cb01b3f12c89fd314673b21fd09b2a4ab084&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52572?repo=metabase/metabase&commitHash=6eb5cb01b3f12c89fd314673b21fd09b2a4ab084&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding-sdk > tooltip-reproductions should render tooltips below the screen's height</code> | The expected value was false, but the actual value was true. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52572?repo=metabase/metabase&commitHash=6eb5cb01b3f12c89fd314673b21fd09b2a4ab084&utm_source=gh-comment&runConclusion=FAILURE&runId=73853370-968e-524a-ab6a-54906dfa139f) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52572?repo=metabase/metabase&commitHash=6eb5cb01b3f12c89fd314673b21fd09b2a4ab084&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2805928587,pull_request,closed,,Fix dashboard subscription sometimes shows empty result,"Fixes https://github.com/metabase/metabase/issues/52467

In https://github.com/metabase/metabase/pull/51708, we've changed it so that when sending dashboard subscription, we save the results to disk to reduce memory usage. 

The file we saved to disk has a default TIL of 5 minutes, after this the file will automatically get removed. This caused the bug because for big dashboard, it often takes > 5 minutes to finish the whole pipeline.

In hindsight this is a bad design, so I've changed it so that we cleaned it up manually.",qnkhuat,2025-01-23 05:07:33+00:00,['qnkhuat'],2025-01-23 12:07:00+00:00,2025-01-23 11:13:25+00:00,https://github.com/metabase/metabase/pull/52571,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2608910629, 'issue_id': 2805928587, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/115040_tests-73652bd7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52571?repo=metabase/metabase&commitHash=73652bd7e94240b16cdc75ac128f4a126e7cec66&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52571?repo=metabase/metabase&commitHash=73652bd7e94240b16cdc75ac128f4a126e7cec66&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52571?repo=metabase/metabase&commitHash=73652bd7e94240b16cdc75ac128f4a126e7cec66&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52571?repo=metabase/metabase&commitHash=73652bd7e94240b16cdc75ac128f4a126e7cec66&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>get-database-can-upload-test</code> | The schema ""metabase\\_cache\\_2649b\\_1"" was dropped by a concurrent transaction. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52571?repo=metabase/metabase&commitHash=73652bd7e94240b16cdc75ac128f4a126e7cec66&utm_source=gh-comment&runConclusion=FAILURE&runId=b1dcff56-ec17-52c8-b78a-02d623025329) |\n| <code>Write Actions on Dashboards (mysql) adding and executing actions adds a custom query action to a dashboard and runs it</code> | The expected value 55 was not equal to the actual value 0. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52571?repo=metabase/metabase&commitHash=73652bd7e94240b16cdc75ac128f4a126e7cec66&utm_source=gh-comment&runConclusion=FAILURE&runId=bf6b4f78-1390-5a2e-b15b-2e7675a90118) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and \'Browse databases\' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52571?repo=metabase/metabase&commitHash=73652bd7e94240b16cdc75ac128f4a126e7cec66&utm_source=gh-comment&runConclusion=FAILURE&runId=04173b41-f92b-55f1-91f5-9327ccc3ed48) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52571?repo=metabase/metabase&commitHash=73652bd7e94240b16cdc75ac128f4a126e7cec66&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 5, 43, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609464060, 'issue_id': 2805928587, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `73652bd7e94240b16cdc75ac128f4a126e7cec66-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12927216215?pr=52571)\n\n  File | Test Name\n  ---- | ---------\n  `reproductions-1.cy.spec.js` | issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link"", 'created_at': datetime.datetime(2025, 1, 23, 10, 40, 14, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 05:43:46 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/115040_tests-73652bd7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52571?repo=metabase/metabase&commitHash=73652bd7e94240b16cdc75ac128f4a126e7cec66&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52571?repo=metabase/metabase&commitHash=73652bd7e94240b16cdc75ac128f4a126e7cec66&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52571?repo=metabase/metabase&commitHash=73652bd7e94240b16cdc75ac128f4a126e7cec66&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52571?repo=metabase/metabase&commitHash=73652bd7e94240b16cdc75ac128f4a126e7cec66&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>get-database-can-upload-test</code> | The schema ""metabase\_cache\_2649b\_1"" was dropped by a concurrent transaction. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52571?repo=metabase/metabase&commitHash=73652bd7e94240b16cdc75ac128f4a126e7cec66&utm_source=gh-comment&runConclusion=FAILURE&runId=b1dcff56-ec17-52c8-b78a-02d623025329) |
| <code>Write Actions on Dashboards (mysql) adding and executing actions adds a custom query action to a dashboard and runs it</code> | The expected value 55 was not equal to the actual value 0. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52571?repo=metabase/metabase&commitHash=73652bd7e94240b16cdc75ac128f4a126e7cec66&utm_source=gh-comment&runConclusion=FAILURE&runId=bf6b4f78-1390-5a2e-b15b-2e7675a90118) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and 'Browse databases' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52571?repo=metabase/metabase&commitHash=73652bd7e94240b16cdc75ac128f4a126e7cec66&utm_source=gh-comment&runConclusion=FAILURE&runId=04173b41-f92b-55f1-91f5-9327ccc3ed48) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52571?repo=metabase/metabase&commitHash=73652bd7e94240b16cdc75ac128f4a126e7cec66&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-23 10:40:14 UTC): ## e2e tests failed on `73652bd7e94240b16cdc75ac128f4a126e7cec66-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12927216215?pr=52571)

  File | Test Name
  ---- | ---------
  `reproductions-1.cy.spec.js` | issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link

"
2805802727,pull_request,closed,,Auto-rewrite defendpoint forms in session.clj,,camsaul,2025-01-23 03:17:27+00:00,['camsaul'],2025-01-27 22:10:09+00:00,2025-01-25 03:02:15+00:00,https://github.com/metabase/metabase/pull/52570,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2608782764, 'issue_id': 2805802727, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/73919_tests-0a54b9b6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52570?repo=metabase/metabase&commitHash=0a54b9b666b0e9eb0834e100f574b75eb693aed7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/9-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52570?repo=metabase/metabase&commitHash=0a54b9b666b0e9eb0834e100f574b75eb693aed7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52570?repo=metabase/metabase&commitHash=0a54b9b666b0e9eb0834e100f574b75eb693aed7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52570?repo=metabase/metabase&commitHash=0a54b9b666b0e9eb0834e100f574b75eb693aed7&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>get-database-can-upload-test</code> | The schema ""metabase\\_cache\\_64497\\_50"" was dropped by a concurrent transaction. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52570?repo=metabase/metabase&commitHash=0a54b9b666b0e9eb0834e100f574b75eb693aed7&utm_source=gh-comment&runConclusion=FAILURE&runId=2bb3b0ae-7e72-595e-9aa3-2297f7e6ff7f) |\n| <code>microseconds-test</code> | No table \'incidents\' found in the Redshift database \'toucan-ms-incidents\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52570?repo=metabase/metabase&commitHash=0a54b9b666b0e9eb0834e100f574b75eb693aed7&utm_source=gh-comment&runConclusion=FAILURE&runId=6f0c86b7-5b72-5fdc-a2bb-3636c37efe2f) |\n| <code>append-with-really-long-names-test</code> | The schema ""metabase\\_cache\\_4e4b1\\_142"" was dropped by a concurrent transaction. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52570?repo=metabase/metabase&commitHash=0a54b9b666b0e9eb0834e100f574b75eb693aed7&utm_source=gh-comment&runConclusion=FAILURE&runId=b0474868-8e4f-5dcd-9ee2-280d91b2c7b0) |\n| <code>get-database-can-upload-test</code> | The schema ""metabase\\_cache\\_d84ae\\_229"" was dropped by a concurrent transaction. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52570?repo=metabase/metabase&commitHash=0a54b9b666b0e9eb0834e100f574b75eb693aed7&utm_source=gh-comment&runConclusion=FAILURE&runId=2afb756c-3c82-5a16-996f-be5900ea76be) |\n\n[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52570?repo=metabase/metabase&commitHash=0a54b9b666b0e9eb0834e100f574b75eb693aed7&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 16559 should always show the most recent revision (metabase\\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52570?repo=metabase/metabase&commitHash=0a54b9b666b0e9eb0834e100f574b75eb693aed7&utm_source=gh-comment&runConclusion=FAILURE&runId=c29ad981-ce25-5bf4-8fe5-4a6d78793cab) |\n| <code>redshift-types-test</code> | The Redshift database connection failed because the relation ""2025\\_01\\_24\\_ebe1f7c5\\_d5a4\\_49dd\\_b92b\\_5da704d8739f\\_schema.zkmjccinjtgndmliahpk""... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52570?repo=metabase/metabase&commitHash=0a54b9b666b0e9eb0834e100f574b75eb693aed7&utm_source=gh-comment&runConclusion=FAILURE&runId=61d91896-623e-5cff-8f8b-8d8fc5523e7a) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52570?repo=metabase/metabase&commitHash=0a54b9b666b0e9eb0834e100f574b75eb693aed7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 3, 42, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613446384, 'issue_id': 2805802727, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `0a54b9b666b0e9eb0834e100f574b75eb693aed7-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12958138601?pr=52570)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)', 'created_at': datetime.datetime(2025, 1, 24, 21, 55, 48, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 03:42:38 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/73919_tests-0a54b9b6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52570?repo=metabase/metabase&commitHash=0a54b9b666b0e9eb0834e100f574b75eb693aed7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/9-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52570?repo=metabase/metabase&commitHash=0a54b9b666b0e9eb0834e100f574b75eb693aed7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52570?repo=metabase/metabase&commitHash=0a54b9b666b0e9eb0834e100f574b75eb693aed7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52570?repo=metabase/metabase&commitHash=0a54b9b666b0e9eb0834e100f574b75eb693aed7&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>get-database-can-upload-test</code> | The schema ""metabase\_cache\_64497\_50"" was dropped by a concurrent transaction. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52570?repo=metabase/metabase&commitHash=0a54b9b666b0e9eb0834e100f574b75eb693aed7&utm_source=gh-comment&runConclusion=FAILURE&runId=2bb3b0ae-7e72-595e-9aa3-2297f7e6ff7f) |
| <code>microseconds-test</code> | No table 'incidents' found in the Redshift database 'toucan-ms-incidents'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52570?repo=metabase/metabase&commitHash=0a54b9b666b0e9eb0834e100f574b75eb693aed7&utm_source=gh-comment&runConclusion=FAILURE&runId=6f0c86b7-5b72-5fdc-a2bb-3636c37efe2f) |
| <code>append-with-really-long-names-test</code> | The schema ""metabase\_cache\_4e4b1\_142"" was dropped by a concurrent transaction. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52570?repo=metabase/metabase&commitHash=0a54b9b666b0e9eb0834e100f574b75eb693aed7&utm_source=gh-comment&runConclusion=FAILURE&runId=b0474868-8e4f-5dcd-9ee2-280d91b2c7b0) |
| <code>get-database-can-upload-test</code> | The schema ""metabase\_cache\_d84ae\_229"" was dropped by a concurrent transaction. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52570?repo=metabase/metabase&commitHash=0a54b9b666b0e9eb0834e100f574b75eb693aed7&utm_source=gh-comment&runConclusion=FAILURE&runId=2afb756c-3c82-5a16-996f-be5900ea76be) |

[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52570?repo=metabase/metabase&commitHash=0a54b9b666b0e9eb0834e100f574b75eb693aed7&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 16559 should always show the most recent revision (metabase\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52570?repo=metabase/metabase&commitHash=0a54b9b666b0e9eb0834e100f574b75eb693aed7&utm_source=gh-comment&runConclusion=FAILURE&runId=c29ad981-ce25-5bf4-8fe5-4a6d78793cab) |
| <code>redshift-types-test</code> | The Redshift database connection failed because the relation ""2025\_01\_24\_ebe1f7c5\_d5a4\_49dd\_b92b\_5da704d8739f\_schema.zkmjccinjtgndmliahpk""... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52570?repo=metabase/metabase&commitHash=0a54b9b666b0e9eb0834e100f574b75eb693aed7&utm_source=gh-comment&runConclusion=FAILURE&runId=61d91896-623e-5cff-8f8b-8d8fc5523e7a) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52570?repo=metabase/metabase&commitHash=0a54b9b666b0e9eb0834e100f574b75eb693aed7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-24 21:55:48 UTC): ## e2e tests failed on `0a54b9b666b0e9eb0834e100f574b75eb693aed7-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12958138601?pr=52570)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)

"
2805715915,pull_request,closed,,Auto-rewrite defendpoint forms in card.clj,,camsaul,2025-01-23 01:57:15+00:00,['camsaul'],2025-01-29 23:23:48+00:00,2025-01-28 00:24:39+00:00,https://github.com/metabase/metabase/pull/52569,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DevEx', '')]","[{'comment_id': 2608711163, 'issue_id': 2805715915, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/95047_tests-a8ebed4c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52569?repo=metabase/metabase&commitHash=a8ebed4cb7e4817c27d3bd80862012b66b188f84&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52569?repo=metabase/metabase&commitHash=a8ebed4cb7e4817c27d3bd80862012b66b188f84&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52569?repo=metabase/metabase&commitHash=a8ebed4cb7e4817c27d3bd80862012b66b188f84&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52569?repo=metabase/metabase&commitHash=a8ebed4cb7e4817c27d3bd80862012b66b188f84&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 51020 when primary key is not called \'id\' ""before each"" hook for ""should pass primary key attribute to execute action endpoint when it\'s popu...</code> | Unable to find an element with the text ""Foo"" during a ""before each"" hook, which timed out after 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52569?repo=metabase/metabase&commitHash=a8ebed4cb7e4817c27d3bd80862012b66b188f84&utm_source=gh-comment&runConclusion=FAILURE&runId=6656843a-5824-5e63-9aa2-84981cba2e79) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52569?repo=metabase/metabase&commitHash=a8ebed4cb7e4817c27d3bd80862012b66b188f84&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 2, 23, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617214618, 'issue_id': 2805715915, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `a8ebed4cb7e4817c27d3bd80862012b66b188f84-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13000477864?pr=52569)\n\n  File | Test Name\n  ---- | ---------\n  `actions-reproductions.cy.spec.js` | issue 51020 > when primary key is not called 'id' > should pass primary key attribute to execute action endpoint when it's populated with click behavior or URL (metabase#51020)"", 'created_at': datetime.datetime(2025, 1, 27, 23, 54, 26, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 02:23:50 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/95047_tests-a8ebed4c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52569?repo=metabase/metabase&commitHash=a8ebed4cb7e4817c27d3bd80862012b66b188f84&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52569?repo=metabase/metabase&commitHash=a8ebed4cb7e4817c27d3bd80862012b66b188f84&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52569?repo=metabase/metabase&commitHash=a8ebed4cb7e4817c27d3bd80862012b66b188f84&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52569?repo=metabase/metabase&commitHash=a8ebed4cb7e4817c27d3bd80862012b66b188f84&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 51020 when primary key is not called 'id' ""before each"" hook for ""should pass primary key attribute to execute action endpoint when it's popu...</code> | Unable to find an element with the text ""Foo"" during a ""before each"" hook, which timed out after 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52569?repo=metabase/metabase&commitHash=a8ebed4cb7e4817c27d3bd80862012b66b188f84&utm_source=gh-comment&runConclusion=FAILURE&runId=6656843a-5824-5e63-9aa2-84981cba2e79) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52569?repo=metabase/metabase&commitHash=a8ebed4cb7e4817c27d3bd80862012b66b188f84&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-27 23:54:26 UTC): ## e2e tests failed on `a8ebed4cb7e4817c27d3bd80862012b66b188f84-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13000477864?pr=52569)

  File | Test Name
  ---- | ---------
  `actions-reproductions.cy.spec.js` | issue 51020 > when primary key is not called 'id' > should pass primary key attribute to execute action endpoint when it's populated with click behavior or URL (metabase#51020)

"
2805665384,pull_request,closed,,Auto-rewrite defendpoint forms in slack.clj,,camsaul,2025-01-23 01:06:36+00:00,['camsaul'],2025-01-27 22:10:29+00:00,2025-01-24 01:55:02+00:00,https://github.com/metabase/metabase/pull/52568,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2608645145, 'issue_id': 2805665384, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `fdf6ed136e3122df226c2263d3804c2a793a4a8c-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12920134656?pr=52568)\n\n  File | Test Name\n  ---- | ---------\n  `metrics-dashboard.cy.spec.js` | scenarios > metrics > dashboard > should be possible to add metrics to a dashboard', 'created_at': datetime.datetime(2025, 1, 23, 1, 23, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608670916, 'issue_id': 2805665384, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/116618_tests-fdf6ed13-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52568?repo=metabase/metabase&commitHash=fdf6ed136e3122df226c2263d3804c2a793a4a8c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/21-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52568?repo=metabase/metabase&commitHash=fdf6ed136e3122df226c2263d3804c2a793a4a8c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52568?repo=metabase/metabase&commitHash=fdf6ed136e3122df226c2263d3804c2a793a4a8c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52568?repo=metabase/metabase&commitHash=fdf6ed136e3122df226c2263d3804c2a793a4a8c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>describe-fields-or-table-test</code> | No Table 'bird-count' found in Redshift database 'daily-bird-counts (redshift)' | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52568?repo=metabase/metabase&commitHash=fdf6ed136e3122df226c2263d3804c2a793a4a8c&utm_source=gh-comment&runConclusion=FAILURE&runId=9045ca45-1521-5f71-8c05-1f8a367d838f) |\n| <code>unix-timestamp-test</code> | No Table 'timestamps' found for Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52568?repo=metabase/metabase&commitHash=fdf6ed136e3122df226c2263d3804c2a793a4a8c&utm_source=gh-comment&runConclusion=FAILURE&runId=0dad0ca9-0709-5e33-bc83-853dd73b658d) |\n| <code>nulls-and-zeroes-test-6</code> | No table 'bird-count' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52568?repo=metabase/metabase&commitHash=fdf6ed136e3122df226c2263d3804c2a793a4a8c&utm_source=gh-comment&runConclusion=FAILURE&runId=baf64cda-d0f7-558e-acd4-d5f46fb342a5) |\n| <code>nulls-and-zeroes-test-7</code> | No table 'bird-count' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52568?repo=metabase/metabase&commitHash=fdf6ed136e3122df226c2263d3804c2a793a4a8c&utm_source=gh-comment&runConclusion=FAILURE&runId=1e789dd1-e8ee-5114-ae11-5eb92e789fda) |\n\n[... and 17 more](https://app.trunk.io/metabase/flaky-tests/pr/52568?repo=metabase/metabase&commitHash=fdf6ed136e3122df226c2263d3804c2a793a4a8c&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52568?repo=metabase/metabase&commitHash=fdf6ed136e3122df226c2263d3804c2a793a4a8c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 23, 1, 49, 37, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-23 01:23:39 UTC): ## e2e tests failed on `fdf6ed136e3122df226c2263d3804c2a793a4a8c-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12920134656?pr=52568)

  File | Test Name
  ---- | ---------
  `metrics-dashboard.cy.spec.js` | scenarios > metrics > dashboard > should be possible to add metrics to a dashboard

trunk-io[bot] on (2025-01-23 01:49:37 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/116618_tests-fdf6ed13-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52568?repo=metabase/metabase&commitHash=fdf6ed136e3122df226c2263d3804c2a793a4a8c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/21-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52568?repo=metabase/metabase&commitHash=fdf6ed136e3122df226c2263d3804c2a793a4a8c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52568?repo=metabase/metabase&commitHash=fdf6ed136e3122df226c2263d3804c2a793a4a8c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52568?repo=metabase/metabase&commitHash=fdf6ed136e3122df226c2263d3804c2a793a4a8c&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>describe-fields-or-table-test</code> | No Table 'bird-count' found in Redshift database 'daily-bird-counts (redshift)' | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52568?repo=metabase/metabase&commitHash=fdf6ed136e3122df226c2263d3804c2a793a4a8c&utm_source=gh-comment&runConclusion=FAILURE&runId=9045ca45-1521-5f71-8c05-1f8a367d838f) |
| <code>unix-timestamp-test</code> | No Table 'timestamps' found for Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52568?repo=metabase/metabase&commitHash=fdf6ed136e3122df226c2263d3804c2a793a4a8c&utm_source=gh-comment&runConclusion=FAILURE&runId=0dad0ca9-0709-5e33-bc83-853dd73b658d) |
| <code>nulls-and-zeroes-test-6</code> | No table 'bird-count' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52568?repo=metabase/metabase&commitHash=fdf6ed136e3122df226c2263d3804c2a793a4a8c&utm_source=gh-comment&runConclusion=FAILURE&runId=baf64cda-d0f7-558e-acd4-d5f46fb342a5) |
| <code>nulls-and-zeroes-test-7</code> | No table 'bird-count' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52568?repo=metabase/metabase&commitHash=fdf6ed136e3122df226c2263d3804c2a793a4a8c&utm_source=gh-comment&runConclusion=FAILURE&runId=1e789dd1-e8ee-5114-ae11-5eb92e789fda) |

[... and 17 more](https://app.trunk.io/metabase/flaky-tests/pr/52568?repo=metabase/metabase&commitHash=fdf6ed136e3122df226c2263d3804c2a793a4a8c&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52568?repo=metabase/metabase&commitHash=fdf6ed136e3122df226c2263d3804c2a793a4a8c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2805595633,pull_request,closed,,Auto-rewrite defendpoint forms in embed.clj,,camsaul,2025-01-23 00:13:34+00:00,['camsaul'],2025-01-27 22:10:30+00:00,2025-01-24 01:47:03+00:00,https://github.com/metabase/metabase/pull/52567,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2608578099, 'issue_id': 2805595633, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `db1ca3e973fa7ae33433a29d8bfefa53845e5a32-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12919483550?pr=52567)\n\n  File | Test Name\n  ---- | ---------\n  `official-collections.cy.spec.js` | official collections > token expired or removed > should not display official collection icon anymore', 'created_at': datetime.datetime(2025, 1, 23, 0, 32, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608634122, 'issue_id': 2805595633, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/11618_tests-db1ca3e9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52567?repo=metabase/metabase&commitHash=db1ca3e973fa7ae33433a29d8bfefa53845e5a32&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/5-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52567?repo=metabase/metabase&commitHash=db1ca3e973fa7ae33433a29d8bfefa53845e5a32&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/15-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52567?repo=metabase/metabase&commitHash=db1ca3e973fa7ae33433a29d8bfefa53845e5a32&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52567?repo=metabase/metabase&commitHash=db1ca3e973fa7ae33433a29d8bfefa53845e5a32&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>append-with-really-long-names-test</code> | The schema ""metabase\\_cache\\_3c4a4\\_229"" was dropped by a concurrent transaction. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52567?repo=metabase/metabase&commitHash=db1ca3e973fa7ae33433a29d8bfefa53845e5a32&utm_source=gh-comment&runConclusion=FAILURE&runId=da2e530c-b1ab-5a24-9a41-3d832c3959a7) |\n| <code>with-upload-table!-and-do-with-uploaded-example-csv!-test</code> | The Redshift table does not exist, causing an error when trying to describe the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52567?repo=metabase/metabase&commitHash=db1ca3e973fa7ae33433a29d8bfefa53845e5a32&utm_source=gh-comment&runConclusion=FAILURE&runId=8b6ebda2-347e-5c51-b87c-7a65680d18ed) |\n| <code>describe-database-sanity-check-test</code> | The Redshift schema does not exist, causing a failure in database description. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52567?repo=metabase/metabase&commitHash=db1ca3e973fa7ae33433a29d8bfefa53845e5a32&utm_source=gh-comment&runConclusion=FAILURE&runId=4388bbef-2b16-5f79-b418-92b66e257f39) |\n| <code>yyyymmddhhmmss-dates</code> | No table \'times\' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52567?repo=metabase/metabase&commitHash=db1ca3e973fa7ae33433a29d8bfefa53845e5a32&utm_source=gh-comment&runConclusion=FAILURE&runId=0ed6577e-f0cc-5706-a2a8-ac08ce9e56ec) |\n\n[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52567?repo=metabase/metabase&commitHash=db1ca3e973fa7ae33433a29d8bfefa53845e5a32&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>breakout-on-fk-field-test</code> | No table \'cities\' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52567?repo=metabase/metabase&commitHash=db1ca3e973fa7ae33433a29d8bfefa53845e5a32&utm_source=gh-comment&runConclusion=FAILURE&runId=ca422271-15b8-57f8-b3b2-0382c6c69e54) |\n| <code>iso-8601-text-fields</code> | No table \'times\' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52567?repo=metabase/metabase&commitHash=db1ca3e973fa7ae33433a29d8bfefa53845e5a32&utm_source=gh-comment&runConclusion=FAILURE&runId=35fedab2-6e6f-5ca5-92f9-7ba0739f6e0c) |\n| <code>fk-field-in-fields-test</code> | The test failed because the table \'sightings\' was not found in the Redshift database \'tupac-sightings\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52567?repo=metabase/metabase&commitHash=db1ca3e973fa7ae33433a29d8bfefa53845e5a32&utm_source=gh-comment&runConclusion=FAILURE&runId=d48649d6-b825-52ce-8d74-f970fd5c80f1) |\n| <code>iso-8601-text-fields-should-be-queryable-date-test</code> | No table \'times\' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52567?repo=metabase/metabase&commitHash=db1ca3e973fa7ae33433a29d8bfefa53845e5a32&utm_source=gh-comment&runConclusion=FAILURE&runId=ccfa2b3b-59de-5a4b-8190-d75dafa9a41e) |\n\n[... and 11 more](https://app.trunk.io/metabase/flaky-tests/pr/52567?repo=metabase/metabase&commitHash=db1ca3e973fa7ae33433a29d8bfefa53845e5a32&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52567?repo=metabase/metabase&commitHash=db1ca3e973fa7ae33433a29d8bfefa53845e5a32&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 1, 12, 1, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-23 00:32:36 UTC): ## e2e tests failed on `db1ca3e973fa7ae33433a29d8bfefa53845e5a32-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12919483550?pr=52567)

  File | Test Name
  ---- | ---------
  `official-collections.cy.spec.js` | official collections > token expired or removed > should not display official collection icon anymore

trunk-io[bot] on (2025-01-23 01:12:01 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/11618_tests-db1ca3e9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52567?repo=metabase/metabase&commitHash=db1ca3e973fa7ae33433a29d8bfefa53845e5a32&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/5-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52567?repo=metabase/metabase&commitHash=db1ca3e973fa7ae33433a29d8bfefa53845e5a32&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/15-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52567?repo=metabase/metabase&commitHash=db1ca3e973fa7ae33433a29d8bfefa53845e5a32&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52567?repo=metabase/metabase&commitHash=db1ca3e973fa7ae33433a29d8bfefa53845e5a32&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>append-with-really-long-names-test</code> | The schema ""metabase\_cache\_3c4a4\_229"" was dropped by a concurrent transaction. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52567?repo=metabase/metabase&commitHash=db1ca3e973fa7ae33433a29d8bfefa53845e5a32&utm_source=gh-comment&runConclusion=FAILURE&runId=da2e530c-b1ab-5a24-9a41-3d832c3959a7) |
| <code>with-upload-table!-and-do-with-uploaded-example-csv!-test</code> | The Redshift table does not exist, causing an error when trying to describe the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52567?repo=metabase/metabase&commitHash=db1ca3e973fa7ae33433a29d8bfefa53845e5a32&utm_source=gh-comment&runConclusion=FAILURE&runId=8b6ebda2-347e-5c51-b87c-7a65680d18ed) |
| <code>describe-database-sanity-check-test</code> | The Redshift schema does not exist, causing a failure in database description. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52567?repo=metabase/metabase&commitHash=db1ca3e973fa7ae33433a29d8bfefa53845e5a32&utm_source=gh-comment&runConclusion=FAILURE&runId=4388bbef-2b16-5f79-b418-92b66e257f39) |
| <code>yyyymmddhhmmss-dates</code> | No table 'times' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52567?repo=metabase/metabase&commitHash=db1ca3e973fa7ae33433a29d8bfefa53845e5a32&utm_source=gh-comment&runConclusion=FAILURE&runId=0ed6577e-f0cc-5706-a2a8-ac08ce9e56ec) |

[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52567?repo=metabase/metabase&commitHash=db1ca3e973fa7ae33433a29d8bfefa53845e5a32&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>breakout-on-fk-field-test</code> | No table 'cities' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52567?repo=metabase/metabase&commitHash=db1ca3e973fa7ae33433a29d8bfefa53845e5a32&utm_source=gh-comment&runConclusion=FAILURE&runId=ca422271-15b8-57f8-b3b2-0382c6c69e54) |
| <code>iso-8601-text-fields</code> | No table 'times' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52567?repo=metabase/metabase&commitHash=db1ca3e973fa7ae33433a29d8bfefa53845e5a32&utm_source=gh-comment&runConclusion=FAILURE&runId=35fedab2-6e6f-5ca5-92f9-7ba0739f6e0c) |
| <code>fk-field-in-fields-test</code> | The test failed because the table 'sightings' was not found in the Redshift database 'tupac-sightings'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52567?repo=metabase/metabase&commitHash=db1ca3e973fa7ae33433a29d8bfefa53845e5a32&utm_source=gh-comment&runConclusion=FAILURE&runId=d48649d6-b825-52ce-8d74-f970fd5c80f1) |
| <code>iso-8601-text-fields-should-be-queryable-date-test</code> | No table 'times' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52567?repo=metabase/metabase&commitHash=db1ca3e973fa7ae33433a29d8bfefa53845e5a32&utm_source=gh-comment&runConclusion=FAILURE&runId=ccfa2b3b-59de-5a4b-8190-d75dafa9a41e) |

[... and 11 more](https://app.trunk.io/metabase/flaky-tests/pr/52567?repo=metabase/metabase&commitHash=db1ca3e973fa7ae33433a29d8bfefa53845e5a32&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52567?repo=metabase/metabase&commitHash=db1ca3e973fa7ae33433a29d8bfefa53845e5a32&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2805563681,pull_request,closed,,Auto-rewrite defendpoint forms in preview_embed.clj,,camsaul,2025-01-22 23:46:18+00:00,['camsaul'],2025-01-27 22:10:34+00:00,2025-01-23 20:54:57+00:00,https://github.com/metabase/metabase/pull/52566,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2608521677, 'issue_id': 2805563681, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `507ce47240e99d5fb96416df1a2f124a52c5cae6-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12919187019?pr=52566)\n\n  File | Test Name\n  ---- | ---------\n  `entity-picker.cy.spec.ts` | scenarios > organization > entity picker > dashboard picker > should not allow local search for `all personal collections`', 'created_at': datetime.datetime(2025, 1, 23, 0, 3, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608634171, 'issue_id': 2805563681, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/49710_tests-507ce472-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52566?repo=metabase/metabase&commitHash=507ce47240e99d5fb96416df1a2f124a52c5cae6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/14-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52566?repo=metabase/metabase&commitHash=507ce47240e99d5fb96416df1a2f124a52c5cae6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52566?repo=metabase/metabase&commitHash=507ce47240e99d5fb96416df1a2f124a52c5cae6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52566?repo=metabase/metabase&commitHash=507ce47240e99d5fb96416df1a2f124a52c5cae6&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>unix-timestamp-test</code> | No Table \'timestamps\' found for Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52566?repo=metabase/metabase&commitHash=507ce47240e99d5fb96416df1a2f124a52c5cae6&utm_source=gh-comment&runConclusion=FAILURE&runId=8379e7bf-98a6-5a33-98fc-d152a905b65e) |\n| <code>update-invalidate-model-cache-test</code> | No Table \'venues\' found for Redshift database \'test-data (redshift)\' | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52566?repo=metabase/metabase&commitHash=507ce47240e99d5fb96416df1a2f124a52c5cae6&utm_source=gh-comment&runConclusion=FAILURE&runId=1477a685-c458-5b33-bee1-6d41c6069f68) |\n| <code>is-empty-not-empty-test-4</code> | The :not-empty filter did not work as expected, returning an error because the table \'airport\' was not found. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52566?repo=metabase/metabase&commitHash=507ce47240e99d5fb96416df1a2f124a52c5cae6&utm_source=gh-comment&runConclusion=FAILURE&runId=0b271b43-1646-5d2e-bd5d-df132c40d2ff) |\n| <code>get-database-can-upload-test</code> | The schema ""metabase\\_cache\\_3c48c\\_1"" was dropped by a concurrent transaction. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52566?repo=metabase/metabase&commitHash=507ce47240e99d5fb96416df1a2f124a52c5cae6&utm_source=gh-comment&runConclusion=FAILURE&runId=e2919b33-6e72-5c5c-a880-5cec125716fd) |\n\n[... and 10 more](https://app.trunk.io/metabase/flaky-tests/pr/52566?repo=metabase/metabase&commitHash=507ce47240e99d5fb96416df1a2f124a52c5cae6&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>describe-database-exclude-metabase-cache-test</code> | The Redshift database query failed because the relation ""2025\\_01\\_23\\_16e91b57\\_5997\\_4478\\_94c5\\_b79d6c6793ef\\_schema.mzfysnfyirymcyrhlhkm"" does... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52566?repo=metabase/metabase&commitHash=507ce47240e99d5fb96416df1a2f124a52c5cae6&utm_source=gh-comment&runConclusion=FAILURE&runId=0058d335-3d84-5db8-862d-eb055fdca2d9) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52566?repo=metabase/metabase&commitHash=507ce47240e99d5fb96416df1a2f124a52c5cae6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 1, 12, 3, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-23 00:03:19 UTC): ## e2e tests failed on `507ce47240e99d5fb96416df1a2f124a52c5cae6-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12919187019?pr=52566)

  File | Test Name
  ---- | ---------
  `entity-picker.cy.spec.ts` | scenarios > organization > entity picker > dashboard picker > should not allow local search for `all personal collections`

trunk-io[bot] on (2025-01-23 01:12:03 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/49710_tests-507ce472-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52566?repo=metabase/metabase&commitHash=507ce47240e99d5fb96416df1a2f124a52c5cae6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/14-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52566?repo=metabase/metabase&commitHash=507ce47240e99d5fb96416df1a2f124a52c5cae6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52566?repo=metabase/metabase&commitHash=507ce47240e99d5fb96416df1a2f124a52c5cae6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52566?repo=metabase/metabase&commitHash=507ce47240e99d5fb96416df1a2f124a52c5cae6&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>unix-timestamp-test</code> | No Table 'timestamps' found for Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52566?repo=metabase/metabase&commitHash=507ce47240e99d5fb96416df1a2f124a52c5cae6&utm_source=gh-comment&runConclusion=FAILURE&runId=8379e7bf-98a6-5a33-98fc-d152a905b65e) |
| <code>update-invalidate-model-cache-test</code> | No Table 'venues' found for Redshift database 'test-data (redshift)' | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52566?repo=metabase/metabase&commitHash=507ce47240e99d5fb96416df1a2f124a52c5cae6&utm_source=gh-comment&runConclusion=FAILURE&runId=1477a685-c458-5b33-bee1-6d41c6069f68) |
| <code>is-empty-not-empty-test-4</code> | The :not-empty filter did not work as expected, returning an error because the table 'airport' was not found. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52566?repo=metabase/metabase&commitHash=507ce47240e99d5fb96416df1a2f124a52c5cae6&utm_source=gh-comment&runConclusion=FAILURE&runId=0b271b43-1646-5d2e-bd5d-df132c40d2ff) |
| <code>get-database-can-upload-test</code> | The schema ""metabase\_cache\_3c48c\_1"" was dropped by a concurrent transaction. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52566?repo=metabase/metabase&commitHash=507ce47240e99d5fb96416df1a2f124a52c5cae6&utm_source=gh-comment&runConclusion=FAILURE&runId=e2919b33-6e72-5c5c-a880-5cec125716fd) |

[... and 10 more](https://app.trunk.io/metabase/flaky-tests/pr/52566?repo=metabase/metabase&commitHash=507ce47240e99d5fb96416df1a2f124a52c5cae6&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>describe-database-exclude-metabase-cache-test</code> | The Redshift database query failed because the relation ""2025\_01\_23\_16e91b57\_5997\_4478\_94c5\_b79d6c6793ef\_schema.mzfysnfyirymcyrhlhkm"" does... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52566?repo=metabase/metabase&commitHash=507ce47240e99d5fb96416df1a2f124a52c5cae6&utm_source=gh-comment&runConclusion=FAILURE&runId=0058d335-3d84-5db8-862d-eb055fdca2d9) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52566?repo=metabase/metabase&commitHash=507ce47240e99d5fb96416df1a2f124a52c5cae6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2805560799,pull_request,closed,,Auto-rewrite defendpoint forms in ldap.clj,,camsaul,2025-01-22 23:43:06+00:00,['camsaul'],2025-01-28 00:18:10+00:00,2025-01-27 23:40:54+00:00,https://github.com/metabase/metabase/pull/52565,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DevEx', '')]","[{'comment_id': 2608634088, 'issue_id': 2805560799, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/94660_tests-feee49ac-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52565?repo=metabase/metabase&commitHash=feee49ac64923649703cdaa8797b0c995f2403bb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52565?repo=metabase/metabase&commitHash=feee49ac64923649703cdaa8797b0c995f2403bb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52565?repo=metabase/metabase&commitHash=feee49ac64923649703cdaa8797b0c995f2403bb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52565?repo=metabase/metabase&commitHash=feee49ac64923649703cdaa8797b0c995f2403bb&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>delete-dimension-permissions-test</code> | Deadlock found when trying to get lock; try restarting transaction | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52565?repo=metabase/metabase&commitHash=feee49ac64923649703cdaa8797b0c995f2403bb&utm_source=gh-comment&runConclusion=FAILURE&runId=f86a42a0-e288-5294-a757-8c76f41446de) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52565?repo=metabase/metabase&commitHash=feee49ac64923649703cdaa8797b0c995f2403bb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 1, 11, 59, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 01:11:59 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/94660_tests-feee49ac-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52565?repo=metabase/metabase&commitHash=feee49ac64923649703cdaa8797b0c995f2403bb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52565?repo=metabase/metabase&commitHash=feee49ac64923649703cdaa8797b0c995f2403bb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52565?repo=metabase/metabase&commitHash=feee49ac64923649703cdaa8797b0c995f2403bb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52565?repo=metabase/metabase&commitHash=feee49ac64923649703cdaa8797b0c995f2403bb&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>delete-dimension-permissions-test</code> | Deadlock found when trying to get lock; try restarting transaction | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52565?repo=metabase/metabase&commitHash=feee49ac64923649703cdaa8797b0c995f2403bb&utm_source=gh-comment&runConclusion=FAILURE&runId=f86a42a0-e288-5294-a757-8c76f41446de) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52565?repo=metabase/metabase&commitHash=feee49ac64923649703cdaa8797b0c995f2403bb&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2805555343,pull_request,closed,,Auto-rewrite defendpoint forms in timeline.clj,,camsaul,2025-01-22 23:38:05+00:00,['camsaul'],2025-01-27 22:10:28+00:00,2025-01-24 03:06:20+00:00,https://github.com/metabase/metabase/pull/52564,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2608518120, 'issue_id': 2805555343, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `a4b4c346033d9c8917edfbdf4599623b1e7b9dd2-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12919103165?pr=52564)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | issue 16559 > should always show the most recent revision (metabase#16559)', 'created_at': datetime.datetime(2025, 1, 23, 0, 0, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608641571, 'issue_id': 2805555343, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/83119_tests-a4b4c346-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52564?repo=metabase/metabase&commitHash=a4b4c346033d9c8917edfbdf4599623b1e7b9dd2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/56-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52564?repo=metabase/metabase&commitHash=a4b4c346033d9c8917edfbdf4599623b1e7b9dd2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52564?repo=metabase/metabase&commitHash=a4b4c346033d9c8917edfbdf4599623b1e7b9dd2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52564?repo=metabase/metabase&commitHash=a4b4c346033d9c8917edfbdf4599623b1e7b9dd2&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>group-by-default-test-2</code> | No table 'incidents' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52564?repo=metabase/metabase&commitHash=a4b4c346033d9c8917edfbdf4599623b1e7b9dd2&utm_source=gh-comment&runConclusion=FAILURE&runId=033c161b-1c9e-5fa4-803f-cbff97de432b) |\n| <code>fk-field-in-fields-test</code> | The test failed because the table 'sightings' was not found in the Redshift database 'tupac-sightings'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52564?repo=metabase/metabase&commitHash=a4b4c346033d9c8917edfbdf4599623b1e7b9dd2&utm_source=gh-comment&runConclusion=FAILURE&runId=ab38599b-7e56-506b-96b2-5bac49ac7c51) |\n| <code>is-empty-not-empty-with-not-emptyable-args-test</code> | No table 'checkins' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52564?repo=metabase/metabase&commitHash=a4b4c346033d9c8917edfbdf4599623b1e7b9dd2&utm_source=gh-comment&runConclusion=FAILURE&runId=01bc59f8-fc3c-5812-a5fc-8e6d8d05c04d) |\n| <code>substitute-native-parameters-test</code> | No table 'sightings' found in the redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52564?repo=metabase/metabase&commitHash=a4b4c346033d9c8917edfbdf4599623b1e7b9dd2&utm_source=gh-comment&runConclusion=FAILURE&runId=626f46f2-db38-5902-b663-170f728237a4) |\n\n[... and 52 more](https://app.trunk.io/metabase/flaky-tests/pr/52564?repo=metabase/metabase&commitHash=a4b4c346033d9c8917edfbdf4599623b1e7b9dd2&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52564?repo=metabase/metabase&commitHash=a4b4c346033d9c8917edfbdf4599623b1e7b9dd2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 23, 1, 19, 52, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-23 00:00:07 UTC): ## e2e tests failed on `a4b4c346033d9c8917edfbdf4599623b1e7b9dd2-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12919103165?pr=52564)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | issue 16559 > should always show the most recent revision (metabase#16559)

trunk-io[bot] on (2025-01-23 01:19:52 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/83119_tests-a4b4c346-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52564?repo=metabase/metabase&commitHash=a4b4c346033d9c8917edfbdf4599623b1e7b9dd2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/56-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52564?repo=metabase/metabase&commitHash=a4b4c346033d9c8917edfbdf4599623b1e7b9dd2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52564?repo=metabase/metabase&commitHash=a4b4c346033d9c8917edfbdf4599623b1e7b9dd2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52564?repo=metabase/metabase&commitHash=a4b4c346033d9c8917edfbdf4599623b1e7b9dd2&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>group-by-default-test-2</code> | No table 'incidents' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52564?repo=metabase/metabase&commitHash=a4b4c346033d9c8917edfbdf4599623b1e7b9dd2&utm_source=gh-comment&runConclusion=FAILURE&runId=033c161b-1c9e-5fa4-803f-cbff97de432b) |
| <code>fk-field-in-fields-test</code> | The test failed because the table 'sightings' was not found in the Redshift database 'tupac-sightings'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52564?repo=metabase/metabase&commitHash=a4b4c346033d9c8917edfbdf4599623b1e7b9dd2&utm_source=gh-comment&runConclusion=FAILURE&runId=ab38599b-7e56-506b-96b2-5bac49ac7c51) |
| <code>is-empty-not-empty-with-not-emptyable-args-test</code> | No table 'checkins' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52564?repo=metabase/metabase&commitHash=a4b4c346033d9c8917edfbdf4599623b1e7b9dd2&utm_source=gh-comment&runConclusion=FAILURE&runId=01bc59f8-fc3c-5812-a5fc-8e6d8d05c04d) |
| <code>substitute-native-parameters-test</code> | No table 'sightings' found in the redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52564?repo=metabase/metabase&commitHash=a4b4c346033d9c8917edfbdf4599623b1e7b9dd2&utm_source=gh-comment&runConclusion=FAILURE&runId=626f46f2-db38-5902-b663-170f728237a4) |

[... and 52 more](https://app.trunk.io/metabase/flaky-tests/pr/52564?repo=metabase/metabase&commitHash=a4b4c346033d9c8917edfbdf4599623b1e7b9dd2&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52564?repo=metabase/metabase&commitHash=a4b4c346033d9c8917edfbdf4599623b1e7b9dd2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2805555224,pull_request,closed,,Auto-rewrite defendpoint forms in setting.clj,,camsaul,2025-01-22 23:37:58+00:00,['camsaul'],2025-01-27 22:10:34+00:00,2025-01-23 20:52:19+00:00,https://github.com/metabase/metabase/pull/52563,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2608514430, 'issue_id': 2805555224, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `47554b74bd85d6ae56cc91c42572489712e4431d-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12919102228?pr=52563)\n\n  File | Test Name\n  ---- | ---------\n  `permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)', 'created_at': datetime.datetime(2025, 1, 22, 23, 56, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608634421, 'issue_id': 2805555224, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/83405_tests-47554b74-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52563?repo=metabase/metabase&commitHash=47554b74bd85d6ae56cc91c42572489712e4431d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/108-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52563?repo=metabase/metabase&commitHash=47554b74bd85d6ae56cc91c42572489712e4431d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52563?repo=metabase/metabase&commitHash=47554b74bd85d6ae56cc91c42572489712e4431d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52563?repo=metabase/metabase&commitHash=47554b74bd85d6ae56cc91c42572489712e4431d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>update-invalidate-model-cache-test</code> | No Table \'venues\' found for Redshift database \'test-data (redshift)\' | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52563?repo=metabase/metabase&commitHash=47554b74bd85d6ae56cc91c42572489712e4431d&utm_source=gh-comment&runConclusion=FAILURE&runId=1c032263-f83c-569e-8b8b-c6b157fd353c) |\n| <code>count-of-grouping-test-4</code> | No table \'checkins\' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52563?repo=metabase/metabase&commitHash=47554b74bd85d6ae56cc91c42572489712e4431d&utm_source=gh-comment&runConclusion=FAILURE&runId=6171cf97-adee-5253-8551-e23321adbb83) |\n| <code>relative-time-interval-test</code> | No table \'checkins\' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52563?repo=metabase/metabase&commitHash=47554b74bd85d6ae56cc91c42572489712e4431d&utm_source=gh-comment&runConclusion=FAILURE&runId=ca8e1bf1-65de-550d-ad2c-6bcb0f01f079) |\n| <code>e2e-test-5</code> | No Table \'venues\' found for :redshift Database 24 \'test-data (redshift)\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52563?repo=metabase/metabase&commitHash=47554b74bd85d6ae56cc91c42572489712e4431d&utm_source=gh-comment&runConclusion=FAILURE&runId=6d6dc324-0a65-577c-8238-268d91f06b4f) |\n\n[... and 104 more](https://app.trunk.io/metabase/flaky-tests/pr/52563?repo=metabase/metabase&commitHash=47554b74bd85d6ae56cc91c42572489712e4431d&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>describe-database-exclude-metabase-cache-test</code> | No Table \'users\' found for Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52563?repo=metabase/metabase&commitHash=47554b74bd85d6ae56cc91c42572489712e4431d&utm_source=gh-comment&runConclusion=FAILURE&runId=9b32e2f9-c5d8-5e6f-ae59-8a2fb58be0f3) |\n| <code>redshift-lbv-sync-error-test</code> | The Redshift database query failed because the relation ""2025\\_01\\_22\\_ea60e061\\_c91f\\_49cb\\_9361\\_1370f090fcb1\\_schema.etykunfkrqlewypkkmxi"" does... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52563?repo=metabase/metabase&commitHash=47554b74bd85d6ae56cc91c42572489712e4431d&utm_source=gh-comment&runConclusion=FAILURE&runId=ef94e3eb-099b-53f9-bbb9-8e43cd7418b9) |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\#24966)</code> | The \'body\' property was accessed on an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52563?repo=metabase/metabase&commitHash=47554b74bd85d6ae56cc91c42572489712e4431d&utm_source=gh-comment&runConclusion=FAILURE&runId=161a62dc-92b9-55cc-8b60-f229d46f9b78) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52563?repo=metabase/metabase&commitHash=47554b74bd85d6ae56cc91c42572489712e4431d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 1, 12, 18, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-22 23:56:23 UTC): ## e2e tests failed on `47554b74bd85d6ae56cc91c42572489712e4431d-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12919102228?pr=52563)

  File | Test Name
  ---- | ---------
  `permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)

trunk-io[bot] on (2025-01-23 01:12:18 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/83405_tests-47554b74-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52563?repo=metabase/metabase&commitHash=47554b74bd85d6ae56cc91c42572489712e4431d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/108-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52563?repo=metabase/metabase&commitHash=47554b74bd85d6ae56cc91c42572489712e4431d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52563?repo=metabase/metabase&commitHash=47554b74bd85d6ae56cc91c42572489712e4431d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52563?repo=metabase/metabase&commitHash=47554b74bd85d6ae56cc91c42572489712e4431d&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>update-invalidate-model-cache-test</code> | No Table 'venues' found for Redshift database 'test-data (redshift)' | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52563?repo=metabase/metabase&commitHash=47554b74bd85d6ae56cc91c42572489712e4431d&utm_source=gh-comment&runConclusion=FAILURE&runId=1c032263-f83c-569e-8b8b-c6b157fd353c) |
| <code>count-of-grouping-test-4</code> | No table 'checkins' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52563?repo=metabase/metabase&commitHash=47554b74bd85d6ae56cc91c42572489712e4431d&utm_source=gh-comment&runConclusion=FAILURE&runId=6171cf97-adee-5253-8551-e23321adbb83) |
| <code>relative-time-interval-test</code> | No table 'checkins' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52563?repo=metabase/metabase&commitHash=47554b74bd85d6ae56cc91c42572489712e4431d&utm_source=gh-comment&runConclusion=FAILURE&runId=ca8e1bf1-65de-550d-ad2c-6bcb0f01f079) |
| <code>e2e-test-5</code> | No Table 'venues' found for :redshift Database 24 'test-data (redshift)'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52563?repo=metabase/metabase&commitHash=47554b74bd85d6ae56cc91c42572489712e4431d&utm_source=gh-comment&runConclusion=FAILURE&runId=6d6dc324-0a65-577c-8238-268d91f06b4f) |

[... and 104 more](https://app.trunk.io/metabase/flaky-tests/pr/52563?repo=metabase/metabase&commitHash=47554b74bd85d6ae56cc91c42572489712e4431d&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>describe-database-exclude-metabase-cache-test</code> | No Table 'users' found for Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52563?repo=metabase/metabase&commitHash=47554b74bd85d6ae56cc91c42572489712e4431d&utm_source=gh-comment&runConclusion=FAILURE&runId=9b32e2f9-c5d8-5e6f-ae59-8a2fb58be0f3) |
| <code>redshift-lbv-sync-error-test</code> | The Redshift database query failed because the relation ""2025\_01\_22\_ea60e061\_c91f\_49cb\_9361\_1370f090fcb1\_schema.etykunfkrqlewypkkmxi"" does... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52563?repo=metabase/metabase&commitHash=47554b74bd85d6ae56cc91c42572489712e4431d&utm_source=gh-comment&runConclusion=FAILURE&runId=ef94e3eb-099b-53f9-bbb9-8e43cd7418b9) |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52563?repo=metabase/metabase&commitHash=47554b74bd85d6ae56cc91c42572489712e4431d&utm_source=gh-comment&runConclusion=FAILURE&runId=161a62dc-92b9-55cc-8b60-f229d46f9b78) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52563?repo=metabase/metabase&commitHash=47554b74bd85d6ae56cc91c42572489712e4431d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2805553028,pull_request,closed,,Auto-rewrite defendpoint forms in persist.clj,,camsaul,2025-01-22 23:35:39+00:00,['camsaul'],2025-01-27 22:10:25+00:00,2025-01-24 03:06:54+00:00,https://github.com/metabase/metabase/pull/52562,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2608599839, 'issue_id': 2805553028, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `caf9c5a8dafda97487ce89c9b6c84bc642d6598a-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12919746682?pr=52562)\n\n  File | Test Name\n  ---- | ---------\n  `document-title.cy.spec.js` | question loading changes document title > should verify document title changes while loading a slow question (metabase#40051)', 'created_at': datetime.datetime(2025, 1, 23, 0, 48, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608675768, 'issue_id': 2805553028, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/114751_tests-caf9c5a8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52562?repo=metabase/metabase&commitHash=caf9c5a8dafda97487ce89c9b6c84bc642d6598a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/14-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52562?repo=metabase/metabase&commitHash=caf9c5a8dafda97487ce89c9b6c84bc642d6598a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52562?repo=metabase/metabase&commitHash=caf9c5a8dafda97487ce89c9b6c84bc642d6598a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52562?repo=metabase/metabase&commitHash=caf9c5a8dafda97487ce89c9b6c84bc642d6598a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>test-ssh-tunnel-connection</code> | No table \'venues\' found for Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52562?repo=metabase/metabase&commitHash=caf9c5a8dafda97487ce89c9b6c84bc642d6598a&utm_source=gh-comment&runConclusion=FAILURE&runId=cab17a3a-05cb-542c-958a-37587bf8930f) |\n| <code>iso-8601-text-fields-should-be-queryable-date-test</code> | No table \'times\' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52562?repo=metabase/metabase&commitHash=caf9c5a8dafda97487ce89c9b6c84bc642d6598a&utm_source=gh-comment&runConclusion=FAILURE&runId=7db3fb85-70e2-52cb-a77f-7ad1aad71ee5) |\n| <code>iso-8601-text-fields</code> | No table \'times\' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52562?repo=metabase/metabase&commitHash=caf9c5a8dafda97487ce89c9b6c84bc642d6598a&utm_source=gh-comment&runConclusion=FAILURE&runId=a537cc6d-72e5-5da0-a0ee-eb4433855afe) |\n| <code>breakout-on-fk-field-test</code> | No table \'cities\' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52562?repo=metabase/metabase&commitHash=caf9c5a8dafda97487ce89c9b6c84bc642d6598a&utm_source=gh-comment&runConclusion=FAILURE&runId=c31b3aa0-b779-517a-8f49-c9177845c9f6) |\n\n[... and 10 more](https://app.trunk.io/metabase/flaky-tests/pr/52562?repo=metabase/metabase&commitHash=caf9c5a8dafda97487ce89c9b6c84bc642d6598a&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 16559 should always show the most recent revision (metabase\\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52562?repo=metabase/metabase&commitHash=caf9c5a8dafda97487ce89c9b6c84bc642d6598a&utm_source=gh-comment&runConclusion=FAILURE&runId=455d6a1f-4839-5abf-af4d-50cef3589d3f) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52562?repo=metabase/metabase&commitHash=caf9c5a8dafda97487ce89c9b6c84bc642d6598a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 1, 54, 42, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-23 00:48:21 UTC): ## e2e tests failed on `caf9c5a8dafda97487ce89c9b6c84bc642d6598a-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12919746682?pr=52562)

  File | Test Name
  ---- | ---------
  `document-title.cy.spec.js` | question loading changes document title > should verify document title changes while loading a slow question (metabase#40051)

trunk-io[bot] on (2025-01-23 01:54:42 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/114751_tests-caf9c5a8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52562?repo=metabase/metabase&commitHash=caf9c5a8dafda97487ce89c9b6c84bc642d6598a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/14-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52562?repo=metabase/metabase&commitHash=caf9c5a8dafda97487ce89c9b6c84bc642d6598a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52562?repo=metabase/metabase&commitHash=caf9c5a8dafda97487ce89c9b6c84bc642d6598a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52562?repo=metabase/metabase&commitHash=caf9c5a8dafda97487ce89c9b6c84bc642d6598a&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>test-ssh-tunnel-connection</code> | No table 'venues' found for Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52562?repo=metabase/metabase&commitHash=caf9c5a8dafda97487ce89c9b6c84bc642d6598a&utm_source=gh-comment&runConclusion=FAILURE&runId=cab17a3a-05cb-542c-958a-37587bf8930f) |
| <code>iso-8601-text-fields-should-be-queryable-date-test</code> | No table 'times' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52562?repo=metabase/metabase&commitHash=caf9c5a8dafda97487ce89c9b6c84bc642d6598a&utm_source=gh-comment&runConclusion=FAILURE&runId=7db3fb85-70e2-52cb-a77f-7ad1aad71ee5) |
| <code>iso-8601-text-fields</code> | No table 'times' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52562?repo=metabase/metabase&commitHash=caf9c5a8dafda97487ce89c9b6c84bc642d6598a&utm_source=gh-comment&runConclusion=FAILURE&runId=a537cc6d-72e5-5da0-a0ee-eb4433855afe) |
| <code>breakout-on-fk-field-test</code> | No table 'cities' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52562?repo=metabase/metabase&commitHash=caf9c5a8dafda97487ce89c9b6c84bc642d6598a&utm_source=gh-comment&runConclusion=FAILURE&runId=c31b3aa0-b779-517a-8f49-c9177845c9f6) |

[... and 10 more](https://app.trunk.io/metabase/flaky-tests/pr/52562?repo=metabase/metabase&commitHash=caf9c5a8dafda97487ce89c9b6c84bc642d6598a&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 16559 should always show the most recent revision (metabase\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52562?repo=metabase/metabase&commitHash=caf9c5a8dafda97487ce89c9b6c84bc642d6598a&utm_source=gh-comment&runConclusion=FAILURE&runId=455d6a1f-4839-5abf-af4d-50cef3589d3f) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52562?repo=metabase/metabase&commitHash=caf9c5a8dafda97487ce89c9b6c84bc642d6598a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2805551278,pull_request,closed,,Auto-rewrite defendpoint forms in native_query_snippet.clj,,camsaul,2025-01-22 23:33:55+00:00,['camsaul'],2025-01-27 22:10:35+00:00,2025-01-23 20:47:15+00:00,https://github.com/metabase/metabase/pull/52561,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2608635067, 'issue_id': 2805551278, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/85855_tests-cfd7d7f5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52561?repo=metabase/metabase&commitHash=cfd7d7f50740eca4e0cad35632bfd3994b9cd667&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52561?repo=metabase/metabase&commitHash=cfd7d7f50740eca4e0cad35632bfd3994b9cd667&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52561?repo=metabase/metabase&commitHash=cfd7d7f50740eca4e0cad35632bfd3994b9cd667&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52561?repo=metabase/metabase&commitHash=cfd7d7f50740eca4e0cad35632bfd3994b9cd667&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>datetime-diff-time-zones-test</code> | No Table 'times' found for Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52561?repo=metabase/metabase&commitHash=cfd7d7f50740eca4e0cad35632bfd3994b9cd667&utm_source=gh-comment&runConclusion=FAILURE&runId=9f37c4a0-7d3b-5ec8-b2a7-2a12f7e7d18a) |\n| <code>ignore-parameters-for-unparameterized-native-query-test</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52561?repo=metabase/metabase&commitHash=cfd7d7f50740eca4e0cad35632bfd3994b9cd667&utm_source=gh-comment&runConclusion=FAILURE&runId=305144c7-d9c8-5d01-ba6e-0443427266e1) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dataset-with-custom-composite-pk-test</code> | No table 'songs' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52561?repo=metabase/metabase&commitHash=cfd7d7f50740eca4e0cad35632bfd3994b9cd667&utm_source=gh-comment&runConclusion=FAILURE&runId=c1a3498c-3047-5c4c-bd14-877abc1d4670) |\n| <code>supports-schemas-matches-describe-database-test</code> | The Redshift database does not have a table with the specified schema. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52561?repo=metabase/metabase&commitHash=cfd7d7f50740eca4e0cad35632bfd3994b9cd667&utm_source=gh-comment&runConclusion=FAILURE&runId=c67db344-7b52-5748-b065-f0553eb4cbd2) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52561?repo=metabase/metabase&commitHash=cfd7d7f50740eca4e0cad35632bfd3994b9cd667&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 23, 1, 12, 57, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 01:12:57 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/85855_tests-cfd7d7f5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52561?repo=metabase/metabase&commitHash=cfd7d7f50740eca4e0cad35632bfd3994b9cd667&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52561?repo=metabase/metabase&commitHash=cfd7d7f50740eca4e0cad35632bfd3994b9cd667&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52561?repo=metabase/metabase&commitHash=cfd7d7f50740eca4e0cad35632bfd3994b9cd667&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52561?repo=metabase/metabase&commitHash=cfd7d7f50740eca4e0cad35632bfd3994b9cd667&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>datetime-diff-time-zones-test</code> | No Table 'times' found for Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52561?repo=metabase/metabase&commitHash=cfd7d7f50740eca4e0cad35632bfd3994b9cd667&utm_source=gh-comment&runConclusion=FAILURE&runId=9f37c4a0-7d3b-5ec8-b2a7-2a12f7e7d18a) |
| <code>ignore-parameters-for-unparameterized-native-query-test</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52561?repo=metabase/metabase&commitHash=cfd7d7f50740eca4e0cad35632bfd3994b9cd667&utm_source=gh-comment&runConclusion=FAILURE&runId=305144c7-d9c8-5d01-ba6e-0443427266e1) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dataset-with-custom-composite-pk-test</code> | No table 'songs' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52561?repo=metabase/metabase&commitHash=cfd7d7f50740eca4e0cad35632bfd3994b9cd667&utm_source=gh-comment&runConclusion=FAILURE&runId=c1a3498c-3047-5c4c-bd14-877abc1d4670) |
| <code>supports-schemas-matches-describe-database-test</code> | The Redshift database does not have a table with the specified schema. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52561?repo=metabase/metabase&commitHash=cfd7d7f50740eca4e0cad35632bfd3994b9cd667&utm_source=gh-comment&runConclusion=FAILURE&runId=c67db344-7b52-5748-b065-f0553eb4cbd2) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52561?repo=metabase/metabase&commitHash=cfd7d7f50740eca4e0cad35632bfd3994b9cd667&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2805546582,pull_request,closed,,Auto-rewrite defendpoint forms in timeline_event.clj,,camsaul,2025-01-22 23:29:17+00:00,['camsaul'],2025-01-27 22:10:32+00:00,2025-01-24 00:43:24+00:00,https://github.com/metabase/metabase/pull/52560,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2608641729, 'issue_id': 2805546582, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/85843_tests-e51ef16a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52560?repo=metabase/metabase&commitHash=e51ef16a0108324254b98e1f069c9775db21f7d9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/73-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52560?repo=metabase/metabase&commitHash=e51ef16a0108324254b98e1f069c9775db21f7d9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52560?repo=metabase/metabase&commitHash=e51ef16a0108324254b98e1f069c9775db21f7d9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52560?repo=metabase/metabase&commitHash=e51ef16a0108324254b98e1f069c9775db21f7d9&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>update-invalidate-model-cache-test</code> | No Table 'venues' found for Redshift database 'test-data (redshift)' | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52560?repo=metabase/metabase&commitHash=e51ef16a0108324254b98e1f069c9775db21f7d9&utm_source=gh-comment&runConclusion=FAILURE&runId=6f4e92c8-1c22-5951-ae26-dd114ced5d91) |\n| <code>bin-nested-queries-default-binning-test</code> | Unable to bin Field without a min/max value (missing or incomplete fingerprint). | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52560?repo=metabase/metabase&commitHash=e51ef16a0108324254b98e1f069c9775db21f7d9&utm_source=gh-comment&runConclusion=FAILURE&runId=46ca213a-db24-5533-8431-334967586ff8) |\n| <code>splice-parameters-mbql-string-param-test</code> | No table 'venues' found in Redshift database 'test-data (redshift)' | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52560?repo=metabase/metabase&commitHash=e51ef16a0108324254b98e1f069c9775db21f7d9&utm_source=gh-comment&runConclusion=FAILURE&runId=643f96bf-d9f9-5745-b7ec-4999209f82a1) |\n| <code>datetime-fields-are-untouched-when-exported</code> | The expected result of the parse-and-sort-csv function does not match the actual result. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52560?repo=metabase/metabase&commitHash=e51ef16a0108324254b98e1f069c9775db21f7d9&utm_source=gh-comment&runConclusion=FAILURE&runId=7b23d5c8-4cc7-5f43-8e0a-731787b62ff6) |\n\n[... and 69 more](https://app.trunk.io/metabase/flaky-tests/pr/52560?repo=metabase/metabase&commitHash=e51ef16a0108324254b98e1f069c9775db21f7d9&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52560?repo=metabase/metabase&commitHash=e51ef16a0108324254b98e1f069c9775db21f7d9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 23, 1, 20, 3, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 01:20:03 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/85843_tests-e51ef16a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52560?repo=metabase/metabase&commitHash=e51ef16a0108324254b98e1f069c9775db21f7d9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/73-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52560?repo=metabase/metabase&commitHash=e51ef16a0108324254b98e1f069c9775db21f7d9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52560?repo=metabase/metabase&commitHash=e51ef16a0108324254b98e1f069c9775db21f7d9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52560?repo=metabase/metabase&commitHash=e51ef16a0108324254b98e1f069c9775db21f7d9&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>update-invalidate-model-cache-test</code> | No Table 'venues' found for Redshift database 'test-data (redshift)' | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52560?repo=metabase/metabase&commitHash=e51ef16a0108324254b98e1f069c9775db21f7d9&utm_source=gh-comment&runConclusion=FAILURE&runId=6f4e92c8-1c22-5951-ae26-dd114ced5d91) |
| <code>bin-nested-queries-default-binning-test</code> | Unable to bin Field without a min/max value (missing or incomplete fingerprint). | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52560?repo=metabase/metabase&commitHash=e51ef16a0108324254b98e1f069c9775db21f7d9&utm_source=gh-comment&runConclusion=FAILURE&runId=46ca213a-db24-5533-8431-334967586ff8) |
| <code>splice-parameters-mbql-string-param-test</code> | No table 'venues' found in Redshift database 'test-data (redshift)' | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52560?repo=metabase/metabase&commitHash=e51ef16a0108324254b98e1f069c9775db21f7d9&utm_source=gh-comment&runConclusion=FAILURE&runId=643f96bf-d9f9-5745-b7ec-4999209f82a1) |
| <code>datetime-fields-are-untouched-when-exported</code> | The expected result of the parse-and-sort-csv function does not match the actual result. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52560?repo=metabase/metabase&commitHash=e51ef16a0108324254b98e1f069c9775db21f7d9&utm_source=gh-comment&runConclusion=FAILURE&runId=7b23d5c8-4cc7-5f43-8e0a-731787b62ff6) |

[... and 69 more](https://app.trunk.io/metabase/flaky-tests/pr/52560?repo=metabase/metabase&commitHash=e51ef16a0108324254b98e1f069c9775db21f7d9&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52560?repo=metabase/metabase&commitHash=e51ef16a0108324254b98e1f069c9775db21f7d9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2805530738,pull_request,closed,,Auto-rewrite defendpoint forms in segment.clj,,camsaul,2025-01-22 23:16:00+00:00,['camsaul'],2025-01-27 22:10:32+00:00,2025-01-24 00:43:57+00:00,https://github.com/metabase/metabase/pull/52559,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2608477081, 'issue_id': 2805530738, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `261924283ee7fb2e9915bedc3b7dad99a3093d9d-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12918847290?pr=52559)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can share a dashboard card via public link', 'created_at': datetime.datetime(2025, 1, 22, 23, 28, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608546730, 'issue_id': 2805530738, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/81657_tests-26192428-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52559?repo=metabase/metabase&commitHash=261924283ee7fb2e9915bedc3b7dad99a3093d9d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/7-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52559?repo=metabase/metabase&commitHash=261924283ee7fb2e9915bedc3b7dad99a3093d9d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/6-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52559?repo=metabase/metabase&commitHash=261924283ee7fb2e9915bedc3b7dad99a3093d9d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52559?repo=metabase/metabase&commitHash=261924283ee7fb2e9915bedc3b7dad99a3093d9d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>inner-join-test</code> | The query failed because the table 'bird' was not found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52559?repo=metabase/metabase&commitHash=261924283ee7fb2e9915bedc3b7dad99a3093d9d&utm_source=gh-comment&runConclusion=FAILURE&runId=f0f1e414-d40c-52eb-bd3a-eb99003b23dc) |\n| <code>test-ssh-tunnel-connection</code> | No table 'venues' found for Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52559?repo=metabase/metabase&commitHash=261924283ee7fb2e9915bedc3b7dad99a3093d9d&utm_source=gh-comment&runConclusion=FAILURE&runId=8ebb91d6-7e3b-5e1f-9cde-75092a7538cf) |\n| <code>right-outer-join-test</code> | The query failed because the table 'bird' was not found in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52559?repo=metabase/metabase&commitHash=261924283ee7fb2e9915bedc3b7dad99a3093d9d&utm_source=gh-comment&runConclusion=FAILURE&runId=0c25a39a-ccd8-5083-95b5-1090d1f819f1) |\n| <code>include-no-fields-test</code> | No table 'flock' found in the database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52559?repo=metabase/metabase&commitHash=261924283ee7fb2e9915bedc3b7dad99a3093d9d&utm_source=gh-comment&runConclusion=FAILURE&runId=03fff3b7-9a28-5bec-8908-688384e60702) |\n\n[... and 3 more](https://app.trunk.io/metabase/flaky-tests/pr/52559?repo=metabase/metabase&commitHash=261924283ee7fb2e9915bedc3b7dad99a3093d9d&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>iso-8601-text-fields</code> | No table 'times' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52559?repo=metabase/metabase&commitHash=261924283ee7fb2e9915bedc3b7dad99a3093d9d&utm_source=gh-comment&runConclusion=FAILURE&runId=ee7fa8cc-4554-56aa-af3a-7c829208a3ba) |\n| <code>yyyymmddhhmmss-binary-dates</code> | No table 'times' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52559?repo=metabase/metabase&commitHash=261924283ee7fb2e9915bedc3b7dad99a3093d9d&utm_source=gh-comment&runConclusion=FAILURE&runId=f5005c05-764d-5bd8-ab37-bb9d45b27b0b) |\n| <code>left-outer-join-test</code> | No table 'bird' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52559?repo=metabase/metabase&commitHash=261924283ee7fb2e9915bedc3b7dad99a3093d9d&utm_source=gh-comment&runConclusion=FAILURE&runId=85d45830-5ff8-5f85-8da9-dd5158850493) |\n| <code>iso-8601-text-fields-should-be-queryable-date-test</code> | No table 'times' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52559?repo=metabase/metabase&commitHash=261924283ee7fb2e9915bedc3b7dad99a3093d9d&utm_source=gh-comment&runConclusion=FAILURE&runId=398f47af-6e82-5575-b522-c301a1914cad) |\n\n[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/52559?repo=metabase/metabase&commitHash=261924283ee7fb2e9915bedc3b7dad99a3093d9d&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52559?repo=metabase/metabase&commitHash=261924283ee7fb2e9915bedc3b7dad99a3093d9d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 23, 0, 16, 33, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-22 23:28:41 UTC): ## e2e tests failed on `261924283ee7fb2e9915bedc3b7dad99a3093d9d-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12918847290?pr=52559)

  File | Test Name
  ---- | ---------
  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can share a dashboard card via public link

trunk-io[bot] on (2025-01-23 00:16:33 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/81657_tests-26192428-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52559?repo=metabase/metabase&commitHash=261924283ee7fb2e9915bedc3b7dad99a3093d9d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/7-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52559?repo=metabase/metabase&commitHash=261924283ee7fb2e9915bedc3b7dad99a3093d9d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/6-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52559?repo=metabase/metabase&commitHash=261924283ee7fb2e9915bedc3b7dad99a3093d9d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52559?repo=metabase/metabase&commitHash=261924283ee7fb2e9915bedc3b7dad99a3093d9d&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>inner-join-test</code> | The query failed because the table 'bird' was not found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52559?repo=metabase/metabase&commitHash=261924283ee7fb2e9915bedc3b7dad99a3093d9d&utm_source=gh-comment&runConclusion=FAILURE&runId=f0f1e414-d40c-52eb-bd3a-eb99003b23dc) |
| <code>test-ssh-tunnel-connection</code> | No table 'venues' found for Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52559?repo=metabase/metabase&commitHash=261924283ee7fb2e9915bedc3b7dad99a3093d9d&utm_source=gh-comment&runConclusion=FAILURE&runId=8ebb91d6-7e3b-5e1f-9cde-75092a7538cf) |
| <code>right-outer-join-test</code> | The query failed because the table 'bird' was not found in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52559?repo=metabase/metabase&commitHash=261924283ee7fb2e9915bedc3b7dad99a3093d9d&utm_source=gh-comment&runConclusion=FAILURE&runId=0c25a39a-ccd8-5083-95b5-1090d1f819f1) |
| <code>include-no-fields-test</code> | No table 'flock' found in the database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52559?repo=metabase/metabase&commitHash=261924283ee7fb2e9915bedc3b7dad99a3093d9d&utm_source=gh-comment&runConclusion=FAILURE&runId=03fff3b7-9a28-5bec-8908-688384e60702) |

[... and 3 more](https://app.trunk.io/metabase/flaky-tests/pr/52559?repo=metabase/metabase&commitHash=261924283ee7fb2e9915bedc3b7dad99a3093d9d&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>iso-8601-text-fields</code> | No table 'times' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52559?repo=metabase/metabase&commitHash=261924283ee7fb2e9915bedc3b7dad99a3093d9d&utm_source=gh-comment&runConclusion=FAILURE&runId=ee7fa8cc-4554-56aa-af3a-7c829208a3ba) |
| <code>yyyymmddhhmmss-binary-dates</code> | No table 'times' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52559?repo=metabase/metabase&commitHash=261924283ee7fb2e9915bedc3b7dad99a3093d9d&utm_source=gh-comment&runConclusion=FAILURE&runId=f5005c05-764d-5bd8-ab37-bb9d45b27b0b) |
| <code>left-outer-join-test</code> | No table 'bird' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52559?repo=metabase/metabase&commitHash=261924283ee7fb2e9915bedc3b7dad99a3093d9d&utm_source=gh-comment&runConclusion=FAILURE&runId=85d45830-5ff8-5f85-8da9-dd5158850493) |
| <code>iso-8601-text-fields-should-be-queryable-date-test</code> | No table 'times' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52559?repo=metabase/metabase&commitHash=261924283ee7fb2e9915bedc3b7dad99a3093d9d&utm_source=gh-comment&runConclusion=FAILURE&runId=398f47af-6e82-5575-b522-c301a1914cad) |

[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/52559?repo=metabase/metabase&commitHash=261924283ee7fb2e9915bedc3b7dad99a3093d9d&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52559?repo=metabase/metabase&commitHash=261924283ee7fb2e9915bedc3b7dad99a3093d9d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2805529235,pull_request,closed,,Auto-rewrite defendpoint forms in task.clj,,camsaul,2025-01-22 23:14:27+00:00,['camsaul'],2025-01-27 22:10:29+00:00,2025-01-24 02:07:33+00:00,https://github.com/metabase/metabase/pull/52558,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2608479074, 'issue_id': 2805529235, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `adcef2454e76eac2f825145713db1917322d885b-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12918828006?pr=52558)\n\n  File | Test Name\n  ---- | ---------\n  `official-collections.cy.spec.js` | official collections > token expired or removed > should not display official collection icon anymore', 'created_at': datetime.datetime(2025, 1, 22, 23, 30, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608557064, 'issue_id': 2805529235, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/85574_tests-adcef245-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52558?repo=metabase/metabase&commitHash=adcef2454e76eac2f825145713db1917322d885b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/442-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52558?repo=metabase/metabase&commitHash=adcef2454e76eac2f825145713db1917322d885b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52558?repo=metabase/metabase&commitHash=adcef2454e76eac2f825145713db1917322d885b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52558?repo=metabase/metabase&commitHash=adcef2454e76eac2f825145713db1917322d885b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>template-tag-number-param-test</code> | No table \'venues\' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52558?repo=metabase/metabase&commitHash=adcef2454e76eac2f825145713db1917322d885b&utm_source=gh-comment&runConclusion=FAILURE&runId=109b097d-c6ea-5fdd-bfff-8f36f174c9e8) |\n| <code>full-join-test</code> | No table \'bird\' found in the Redshift database \'bird-flocks (redshift)\' | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52558?repo=metabase/metabase&commitHash=adcef2454e76eac2f825145713db1917322d885b&utm_source=gh-comment&runConclusion=FAILURE&runId=3f73204a-a849-5c5c-a5cf-ee14a3d7eac4) |\n| <code>offset-expression-test</code> | No table \'orders\' found in the Redshift database \'test-data (redshift)\' | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52558?repo=metabase/metabase&commitHash=adcef2454e76eac2f825145713db1917322d885b&utm_source=gh-comment&runConclusion=FAILURE&runId=1a107cb5-17c6-5286-b7da-edbd99132033) |\n| <code>use-correct-source-alias-for-fields-from-joins-test</code> | No table \'products\' found in Redshift database \'test-data (redshift)\' | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52558?repo=metabase/metabase&commitHash=adcef2454e76eac2f825145713db1917322d885b&utm_source=gh-comment&runConclusion=FAILURE&runId=b38d2dc9-59ae-569f-8875-4589d9c4fa2f) |\n\n[... and 438 more](https://app.trunk.io/metabase/flaky-tests/pr/52558?repo=metabase/metabase&commitHash=adcef2454e76eac2f825145713db1917322d885b&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 16559 should always show the most recent revision (metabase\\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52558?repo=metabase/metabase&commitHash=adcef2454e76eac2f825145713db1917322d885b&utm_source=gh-comment&runConclusion=FAILURE&runId=b32752d0-06f8-5c2d-8c66-d0e62cd8cca4) |\n| <code>e2e-storage-ingestion-test</code> | Expected entity to match, but actual entity has unexpected table\\_id and name values. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52558?repo=metabase/metabase&commitHash=adcef2454e76eac2f825145713db1917322d885b&utm_source=gh-comment&runConclusion=FAILURE&runId=744e64ee-defa-5d13-84ab-02c3a1bdb1b2) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52558?repo=metabase/metabase&commitHash=adcef2454e76eac2f825145713db1917322d885b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 0, 19, 11, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-22 23:30:35 UTC): ## e2e tests failed on `adcef2454e76eac2f825145713db1917322d885b-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12918828006?pr=52558)

  File | Test Name
  ---- | ---------
  `official-collections.cy.spec.js` | official collections > token expired or removed > should not display official collection icon anymore

trunk-io[bot] on (2025-01-23 00:19:11 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/85574_tests-adcef245-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52558?repo=metabase/metabase&commitHash=adcef2454e76eac2f825145713db1917322d885b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/442-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52558?repo=metabase/metabase&commitHash=adcef2454e76eac2f825145713db1917322d885b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52558?repo=metabase/metabase&commitHash=adcef2454e76eac2f825145713db1917322d885b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52558?repo=metabase/metabase&commitHash=adcef2454e76eac2f825145713db1917322d885b&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>template-tag-number-param-test</code> | No table 'venues' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52558?repo=metabase/metabase&commitHash=adcef2454e76eac2f825145713db1917322d885b&utm_source=gh-comment&runConclusion=FAILURE&runId=109b097d-c6ea-5fdd-bfff-8f36f174c9e8) |
| <code>full-join-test</code> | No table 'bird' found in the Redshift database 'bird-flocks (redshift)' | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52558?repo=metabase/metabase&commitHash=adcef2454e76eac2f825145713db1917322d885b&utm_source=gh-comment&runConclusion=FAILURE&runId=3f73204a-a849-5c5c-a5cf-ee14a3d7eac4) |
| <code>offset-expression-test</code> | No table 'orders' found in the Redshift database 'test-data (redshift)' | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52558?repo=metabase/metabase&commitHash=adcef2454e76eac2f825145713db1917322d885b&utm_source=gh-comment&runConclusion=FAILURE&runId=1a107cb5-17c6-5286-b7da-edbd99132033) |
| <code>use-correct-source-alias-for-fields-from-joins-test</code> | No table 'products' found in Redshift database 'test-data (redshift)' | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52558?repo=metabase/metabase&commitHash=adcef2454e76eac2f825145713db1917322d885b&utm_source=gh-comment&runConclusion=FAILURE&runId=b38d2dc9-59ae-569f-8875-4589d9c4fa2f) |

[... and 438 more](https://app.trunk.io/metabase/flaky-tests/pr/52558?repo=metabase/metabase&commitHash=adcef2454e76eac2f825145713db1917322d885b&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 16559 should always show the most recent revision (metabase\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52558?repo=metabase/metabase&commitHash=adcef2454e76eac2f825145713db1917322d885b&utm_source=gh-comment&runConclusion=FAILURE&runId=b32752d0-06f8-5c2d-8c66-d0e62cd8cca4) |
| <code>e2e-storage-ingestion-test</code> | Expected entity to match, but actual entity has unexpected table\_id and name values. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52558?repo=metabase/metabase&commitHash=adcef2454e76eac2f825145713db1917322d885b&utm_source=gh-comment&runConclusion=FAILURE&runId=744e64ee-defa-5d13-84ab-02c3a1bdb1b2) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52558?repo=metabase/metabase&commitHash=adcef2454e76eac2f825145713db1917322d885b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2805527278,pull_request,closed,,Auto-rewrite defendpoint forms in model_index.clj,,camsaul,2025-01-22 23:12:39+00:00,['camsaul'],2025-01-27 22:10:36+00:00,2025-01-23 20:40:06+00:00,https://github.com/metabase/metabase/pull/52557,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2608479017, 'issue_id': 2805527278, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `c1dbf8fd34ab59b582dfc4cbf85ba3361ffee47b-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12918804405?pr=52557)\n\n  File | Test Name\n  ---- | ---------\n  `search.cy.spec.js` | scenarios > search > universal search > should not overflow container if results contain descriptions with large unborken strings', 'created_at': datetime.datetime(2025, 1, 22, 23, 30, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608548466, 'issue_id': 2805527278, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/82804_tests-c1dbf8fd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52557?repo=metabase/metabase&commitHash=c1dbf8fd34ab59b582dfc4cbf85ba3361ffee47b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52557?repo=metabase/metabase&commitHash=c1dbf8fd34ab59b582dfc4cbf85ba3361ffee47b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52557?repo=metabase/metabase&commitHash=c1dbf8fd34ab59b582dfc4cbf85ba3361ffee47b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52557?repo=metabase/metabase&commitHash=c1dbf8fd34ab59b582dfc4cbf85ba3361ffee47b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52557?repo=metabase/metabase&commitHash=c1dbf8fd34ab59b582dfc4cbf85ba3361ffee47b&utm_source=gh-comment&runConclusion=FAILURE&runId=55e3e850-fe45-5d70-934b-7d218600e29a) |\n| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52557?repo=metabase/metabase&commitHash=c1dbf8fd34ab59b582dfc4cbf85ba3361ffee47b&utm_source=gh-comment&runConclusion=FAILURE&runId=45346e12-5616-5b2a-a66f-e9a5af491859) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52557?repo=metabase/metabase&commitHash=c1dbf8fd34ab59b582dfc4cbf85ba3361ffee47b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 0, 17, 16, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-22 23:30:31 UTC): ## e2e tests failed on `c1dbf8fd34ab59b582dfc4cbf85ba3361ffee47b-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12918804405?pr=52557)

  File | Test Name
  ---- | ---------
  `search.cy.spec.js` | scenarios > search > universal search > should not overflow container if results contain descriptions with large unborken strings

trunk-io[bot] on (2025-01-23 00:17:16 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/82804_tests-c1dbf8fd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52557?repo=metabase/metabase&commitHash=c1dbf8fd34ab59b582dfc4cbf85ba3361ffee47b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52557?repo=metabase/metabase&commitHash=c1dbf8fd34ab59b582dfc4cbf85ba3361ffee47b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52557?repo=metabase/metabase&commitHash=c1dbf8fd34ab59b582dfc4cbf85ba3361ffee47b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52557?repo=metabase/metabase&commitHash=c1dbf8fd34ab59b582dfc4cbf85ba3361ffee47b&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52557?repo=metabase/metabase&commitHash=c1dbf8fd34ab59b582dfc4cbf85ba3361ffee47b&utm_source=gh-comment&runConclusion=FAILURE&runId=55e3e850-fe45-5d70-934b-7d218600e29a) |
| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52557?repo=metabase/metabase&commitHash=c1dbf8fd34ab59b582dfc4cbf85ba3361ffee47b&utm_source=gh-comment&runConclusion=FAILURE&runId=45346e12-5616-5b2a-a66f-e9a5af491859) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52557?repo=metabase/metabase&commitHash=c1dbf8fd34ab59b582dfc4cbf85ba3361ffee47b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2805525602,pull_request,closed,,Prevent converting :structured-content to JSON twice,,metamben,2025-01-22 23:10:57+00:00,['metamben'],2025-01-23 13:54:23+00:00,2025-01-23 13:54:21+00:00,https://github.com/metabase/metabase/pull/52556,"[('Metabot/Tools', 'Tools that are agnostic of the LLM framework itself, could be reused for notifications framework als')]","[{'comment_id': 2608571111, 'issue_id': 2805525602, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/65163_tests-c20e6ef3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52556?repo=metabase/metabase&commitHash=c20e6ef3a6c671e7069d8a9fdf95fbf2b1177413&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52556?repo=metabase/metabase&commitHash=c20e6ef3a6c671e7069d8a9fdf95fbf2b1177413&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52556?repo=metabase/metabase&commitHash=c20e6ef3a6c671e7069d8a9fdf95fbf2b1177413&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52556?repo=metabase/metabase&commitHash=c20e6ef3a6c671e7069d8a9fdf95fbf2b1177413&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52556?repo=metabase/metabase&commitHash=c20e6ef3a6c671e7069d8a9fdf95fbf2b1177413&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 0, 28, 35, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 00:28:35 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/65163_tests-c20e6ef3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52556?repo=metabase/metabase&commitHash=c20e6ef3a6c671e7069d8a9fdf95fbf2b1177413&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52556?repo=metabase/metabase&commitHash=c20e6ef3a6c671e7069d8a9fdf95fbf2b1177413&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52556?repo=metabase/metabase&commitHash=c20e6ef3a6c671e7069d8a9fdf95fbf2b1177413&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52556?repo=metabase/metabase&commitHash=c20e6ef3a6c671e7069d8a9fdf95fbf2b1177413&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52556?repo=metabase/metabase&commitHash=c20e6ef3a6c671e7069d8a9fdf95fbf2b1177413&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2805513244,pull_request,closed,,feat(sdk): Add option to remove dashboard footer,"Adds the `showFooter` prop to the `InteractiveDashboard` and `StaticDashboard` SDK components. This feature will allow users to hide all of the action buttons at the bottom of the page, so functions like refreshing and downloading won't be available to users. 

This change affects the `PublicAndEmbeddedDashboard`, so adding this prop as a URL parameter is relatively easy as well if we ever want to do that.",oisincoveney,2025-01-22 23:00:46+00:00,['oisincoveney'],2025-01-30 22:36:00+00:00,2025-01-30 01:25:24+00:00,https://github.com/metabase/metabase/pull/52555,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2608440952, 'issue_id': 2805513244, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@oisincoveney You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2025, 1, 22, 23, 1, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608569900, 'issue_id': 2805513244, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13412_tests-99f793c5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52555?repo=metabase/metabase&commitHash=99f793c5a6587360d00952400d2e26e02d84652a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/9-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52555?repo=metabase/metabase&commitHash=99f793c5a6587360d00952400d2e26e02d84652a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/28-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52555?repo=metabase/metabase&commitHash=99f793c5a6587360d00952400d2e26e02d84652a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52555?repo=metabase/metabase&commitHash=99f793c5a6587360d00952400d2e26e02d84652a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > premium > content verification premium token with paid features non-admin user should be able to see that a question has been verified...</code> | The test timed out while trying to find an element with the text ""Orders, Count"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52555?repo=metabase/metabase&commitHash=99f793c5a6587360d00952400d2e26e02d84652a&utm_source=gh-comment&runConclusion=FAILURE&runId=d483e34e-c892-58fe-8436-2860d53af7e7) |\n| <code>scenarios > premium > content verification premium token with paid features non-admin user should be able to see that a dashboard has been verified...</code> | The expected element \\`.Icon-verified\\_filled\\` was not found within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52555?repo=metabase/metabase&commitHash=99f793c5a6587360d00952400d2e26e02d84652a&utm_source=gh-comment&runConclusion=FAILURE&runId=5f76d3ba-0624-5c66-bc33-2281acb125f9) |\n| <code>scenarios > premium > content verification premium token with paid features an admin should be able to verify and unverify a dashboard</code> | The element \\`.Icon-verified\\_filled\\` was not found within 4000ms, causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52555?repo=metabase/metabase&commitHash=99f793c5a6587360d00952400d2e26e02d84652a&utm_source=gh-comment&runConclusion=FAILURE&runId=dd9e5358-3d15-5fca-9835-31afd7268a26) |\n| <code>scenarios > premium > content verification premium token with paid features an admin should be able to verify and unverify a saved question</code> | The element \\`.Icon-verified\\_filled\\` was not found within 4000ms, causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52555?repo=metabase/metabase&commitHash=99f793c5a6587360d00952400d2e26e02d84652a&utm_source=gh-comment&runConclusion=FAILURE&runId=20b8a2d3-448a-5e22-b0c6-25bd01b9040f) |\n\n[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52555?repo=metabase/metabase&commitHash=99f793c5a6587360d00952400d2e26e02d84652a&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > browse > metrics verified metrics on enterprise should show the verified metrics filter when there are verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52555?repo=metabase/metabase&commitHash=99f793c5a6587360d00952400d2e26e02d84652a&utm_source=gh-comment&runConclusion=FAILURE&runId=79a3bdfe-6057-53b9-a908-07c589b443d1) |\n| <code>scenarios > browse > metrics verified metrics on enterprise should respect the user setting on wether or not to only show verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52555?repo=metabase/metabase&commitHash=99f793c5a6587360d00952400d2e26e02d84652a&utm_source=gh-comment&runConclusion=FAILURE&runId=5c0edbe3-973f-5523-a6e3-45da2c4f59b9) |\n| <code>scenarios > browse > metrics dot menu when the user does not have write access should be possible to bookmark a metrics from the dot menu</code> | Unable to find a label with the text ""Table of metrics"" within the expected time. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52555?repo=metabase/metabase&commitHash=99f793c5a6587360d00952400d2e26e02d84652a&utm_source=gh-comment&runConclusion=FAILURE&runId=406cf354-96f4-59c4-ac09-95cb778040d5) |\n| <code>scenarios > browse > metrics dot menu when the user does not have write access should be possible to navigate to the collection from the dot menu</code> | Unable to find a label with the text \'Table of metrics\' within the expected time. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52555?repo=metabase/metabase&commitHash=99f793c5a6587360d00952400d2e26e02d84652a&utm_source=gh-comment&runConclusion=FAILURE&runId=7ca5741e-16d0-5ecb-875d-a07d08c9b80d) |\n\n[... and 24 more](https://app.trunk.io/metabase/flaky-tests/pr/52555?repo=metabase/metabase&commitHash=99f793c5a6587360d00952400d2e26e02d84652a&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52555?repo=metabase/metabase&commitHash=99f793c5a6587360d00952400d2e26e02d84652a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 0, 28, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622786512, 'issue_id': 2805513244, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `99f793c5a6587360d00952400d2e26e02d84652a-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13039697489?pr=52555)\n\n  File | Test Name\n  ---- | ---------\n  `browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > can browse metrics\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should navigate to the metric when clicking a metric title\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should navigate to that collection when clicking a collection title\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should open the collections in a new tab when alt-clicking a metric\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should render truncated markdown in the table\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should be possible to sort the metrics\n`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to bookmark a metrics from the dot menu\n`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to navigate to the collection from the dot menu\n`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to trash a metric from the dot menu when the user has write access\n`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > when the user does not have write access > should not be possible to trash a metric from the dot menu when the user does not have write access\nand more... | and more...', 'created_at': datetime.datetime(2025, 1, 29, 20, 34, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623316545, 'issue_id': 2805513244, 'author': 'oisincoveney', 'body': '@metabase-bot backport release-x.52.x', 'created_at': datetime.datetime(2025, 1, 30, 1, 26, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625740929, 'issue_id': 2805513244, 'author': 'github-actions[bot]', 'body': '🚀 This should also be released by [v0.53](https://github.com/metabase/metabase/milestone/287)', 'created_at': datetime.datetime(2025, 1, 30, 22, 35, 59, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-22 23:01:05 UTC): <!---conventional commit reminder comment ID-->
@oisincoveney You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

trunk-io[bot] on (2025-01-23 00:28:14 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13412_tests-99f793c5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52555?repo=metabase/metabase&commitHash=99f793c5a6587360d00952400d2e26e02d84652a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/9-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52555?repo=metabase/metabase&commitHash=99f793c5a6587360d00952400d2e26e02d84652a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/28-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52555?repo=metabase/metabase&commitHash=99f793c5a6587360d00952400d2e26e02d84652a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52555?repo=metabase/metabase&commitHash=99f793c5a6587360d00952400d2e26e02d84652a&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > premium > content verification premium token with paid features non-admin user should be able to see that a question has been verified...</code> | The test timed out while trying to find an element with the text ""Orders, Count"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52555?repo=metabase/metabase&commitHash=99f793c5a6587360d00952400d2e26e02d84652a&utm_source=gh-comment&runConclusion=FAILURE&runId=d483e34e-c892-58fe-8436-2860d53af7e7) |
| <code>scenarios > premium > content verification premium token with paid features non-admin user should be able to see that a dashboard has been verified...</code> | The expected element \`.Icon-verified\_filled\` was not found within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52555?repo=metabase/metabase&commitHash=99f793c5a6587360d00952400d2e26e02d84652a&utm_source=gh-comment&runConclusion=FAILURE&runId=5f76d3ba-0624-5c66-bc33-2281acb125f9) |
| <code>scenarios > premium > content verification premium token with paid features an admin should be able to verify and unverify a dashboard</code> | The element \`.Icon-verified\_filled\` was not found within 4000ms, causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52555?repo=metabase/metabase&commitHash=99f793c5a6587360d00952400d2e26e02d84652a&utm_source=gh-comment&runConclusion=FAILURE&runId=dd9e5358-3d15-5fca-9835-31afd7268a26) |
| <code>scenarios > premium > content verification premium token with paid features an admin should be able to verify and unverify a saved question</code> | The element \`.Icon-verified\_filled\` was not found within 4000ms, causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52555?repo=metabase/metabase&commitHash=99f793c5a6587360d00952400d2e26e02d84652a&utm_source=gh-comment&runConclusion=FAILURE&runId=20b8a2d3-448a-5e22-b0c6-25bd01b9040f) |

[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/52555?repo=metabase/metabase&commitHash=99f793c5a6587360d00952400d2e26e02d84652a&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > browse > metrics verified metrics on enterprise should show the verified metrics filter when there are verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52555?repo=metabase/metabase&commitHash=99f793c5a6587360d00952400d2e26e02d84652a&utm_source=gh-comment&runConclusion=FAILURE&runId=79a3bdfe-6057-53b9-a908-07c589b443d1) |
| <code>scenarios > browse > metrics verified metrics on enterprise should respect the user setting on wether or not to only show verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52555?repo=metabase/metabase&commitHash=99f793c5a6587360d00952400d2e26e02d84652a&utm_source=gh-comment&runConclusion=FAILURE&runId=5c0edbe3-973f-5523-a6e3-45da2c4f59b9) |
| <code>scenarios > browse > metrics dot menu when the user does not have write access should be possible to bookmark a metrics from the dot menu</code> | Unable to find a label with the text ""Table of metrics"" within the expected time. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52555?repo=metabase/metabase&commitHash=99f793c5a6587360d00952400d2e26e02d84652a&utm_source=gh-comment&runConclusion=FAILURE&runId=406cf354-96f4-59c4-ac09-95cb778040d5) |
| <code>scenarios > browse > metrics dot menu when the user does not have write access should be possible to navigate to the collection from the dot menu</code> | Unable to find a label with the text 'Table of metrics' within the expected time. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52555?repo=metabase/metabase&commitHash=99f793c5a6587360d00952400d2e26e02d84652a&utm_source=gh-comment&runConclusion=FAILURE&runId=7ca5741e-16d0-5ecb-875d-a07d08c9b80d) |

[... and 24 more](https://app.trunk.io/metabase/flaky-tests/pr/52555?repo=metabase/metabase&commitHash=99f793c5a6587360d00952400d2e26e02d84652a&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52555?repo=metabase/metabase&commitHash=99f793c5a6587360d00952400d2e26e02d84652a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-29 20:34:45 UTC): ## e2e tests failed on `99f793c5a6587360d00952400d2e26e02d84652a-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13039697489?pr=52555)

  File | Test Name
  ---- | ---------
  `browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > can browse metrics
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should navigate to the metric when clicking a metric title
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should navigate to that collection when clicking a collection title
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should open the collections in a new tab when alt-clicking a metric
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should render truncated markdown in the table
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should be possible to sort the metrics
`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to bookmark a metrics from the dot menu
`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to navigate to the collection from the dot menu
`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to trash a metric from the dot menu when the user has write access
`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > when the user does not have write access > should not be possible to trash a metric from the dot menu when the user does not have write access
and more... | and more...

oisincoveney (Issue Creator) on (2025-01-30 01:26:51 UTC): @metabase-bot backport release-x.52.x

github-actions[bot] on (2025-01-30 22:35:59 UTC): 🚀 This should also be released by [v0.53](https://github.com/metabase/metabase/milestone/287)

"
2805474391,pull_request,closed,,"🤖 backported ""Fixes bug where scaled column is not respected in xlsx exports (#50518)""",#52482,github-automation-metabase,2025-01-22 22:27:16+00:00,"['tsplude', 'github-automation-metabase']",2025-01-28 23:03:01+00:00,2025-01-28 22:07:25+00:00,https://github.com/metabase/metabase/pull/52554,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2620156964, 'issue_id': 2805474391, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/79346_tests-36a8902b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52554?repo=metabase/metabase&commitHash=36a8902b68c35ab43490e37d49398ce62d014cfa&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52554?repo=metabase/metabase&commitHash=36a8902b68c35ab43490e37d49398ce62d014cfa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52554?repo=metabase/metabase&commitHash=36a8902b68c35ab43490e37d49398ce62d014cfa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52554?repo=metabase/metabase&commitHash=36a8902b68c35ab43490e37d49398ce62d014cfa&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52554?repo=metabase/metabase&commitHash=36a8902b68c35ab43490e37d49398ce62d014cfa&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 22, 9, 12, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-28 22:09:12 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/79346_tests-36a8902b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52554?repo=metabase/metabase&commitHash=36a8902b68c35ab43490e37d49398ce62d014cfa&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52554?repo=metabase/metabase&commitHash=36a8902b68c35ab43490e37d49398ce62d014cfa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52554?repo=metabase/metabase&commitHash=36a8902b68c35ab43490e37d49398ce62d014cfa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52554?repo=metabase/metabase&commitHash=36a8902b68c35ab43490e37d49398ce62d014cfa&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52554?repo=metabase/metabase&commitHash=36a8902b68c35ab43490e37d49398ce62d014cfa&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2805460686,pull_request,closed,,Add reproduction for issue #49433,Closes #49433 ,lbrdnk,2025-01-22 22:16:25+00:00,['lbrdnk'],2025-01-23 09:29:39+00:00,2025-01-23 09:29:37+00:00,https://github.com/metabase/metabase/pull/52553,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2608451706, 'issue_id': 2805460686, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/1903_tests-a8173ce5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52553?repo=metabase/metabase&commitHash=a8173ce5660515d64d2b4141a1b50cafcc898d4f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52553?repo=metabase/metabase&commitHash=a8173ce5660515d64d2b4141a1b50cafcc898d4f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52553?repo=metabase/metabase&commitHash=a8173ce5660515d64d2b4141a1b50cafcc898d4f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52553?repo=metabase/metabase&commitHash=a8173ce5660515d64d2b4141a1b50cafcc898d4f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52553?repo=metabase/metabase&commitHash=a8173ce5660515d64d2b4141a1b50cafcc898d4f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 23, 7, 38, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 23:07:38 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/1903_tests-a8173ce5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52553?repo=metabase/metabase&commitHash=a8173ce5660515d64d2b4141a1b50cafcc898d4f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52553?repo=metabase/metabase&commitHash=a8173ce5660515d64d2b4141a1b50cafcc898d4f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52553?repo=metabase/metabase&commitHash=a8173ce5660515d64d2b4141a1b50cafcc898d4f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52553?repo=metabase/metabase&commitHash=a8173ce5660515d64d2b4141a1b50cafcc898d4f&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52553?repo=metabase/metabase&commitHash=a8173ce5660515d64d2b4141a1b50cafcc898d4f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2805405018,pull_request,closed,,Auto-rewrite defendpoint forms in dataset.clj,,camsaul,2025-01-22 21:43:49+00:00,['camsaul'],2025-01-30 00:42:20+00:00,2025-01-27 23:02:31+00:00,https://github.com/metabase/metabase/pull/52552,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DevEx', '')]","[{'comment_id': 2608441359, 'issue_id': 2805405018, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/95155_tests-24ee89f5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52552?repo=metabase/metabase&commitHash=24ee89f5d0ed387a931275d1232a413c9822a49a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52552?repo=metabase/metabase&commitHash=24ee89f5d0ed387a931275d1232a413c9822a49a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52552?repo=metabase/metabase&commitHash=24ee89f5d0ed387a931275d1232a413c9822a49a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52552?repo=metabase/metabase&commitHash=24ee89f5d0ed387a931275d1232a413c9822a49a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>describe-view-fields</code> | Table 'orders\\_v' not found in AmazonDataCatalog. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52552?repo=metabase/metabase&commitHash=24ee89f5d0ed387a931275d1232a413c9822a49a&utm_source=gh-comment&runConclusion=FAILURE&runId=49ae489b-a5ad-573d-ab3e-d146d70b9f67) |\n| <code>e2e-storage-ingestion-test</code> | Expected entity to match the expected value, but actual value was different. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52552?repo=metabase/metabase&commitHash=24ee89f5d0ed387a931275d1232a413c9822a49a&utm_source=gh-comment&runConclusion=FAILURE&runId=2fbf6334-e765-50c5-a7e8-cb623d063fae) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52552?repo=metabase/metabase&commitHash=24ee89f5d0ed387a931275d1232a413c9822a49a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 22, 23, 1, 24, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 23:01:24 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/95155_tests-24ee89f5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52552?repo=metabase/metabase&commitHash=24ee89f5d0ed387a931275d1232a413c9822a49a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52552?repo=metabase/metabase&commitHash=24ee89f5d0ed387a931275d1232a413c9822a49a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52552?repo=metabase/metabase&commitHash=24ee89f5d0ed387a931275d1232a413c9822a49a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52552?repo=metabase/metabase&commitHash=24ee89f5d0ed387a931275d1232a413c9822a49a&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>describe-view-fields</code> | Table 'orders\_v' not found in AmazonDataCatalog. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52552?repo=metabase/metabase&commitHash=24ee89f5d0ed387a931275d1232a413c9822a49a&utm_source=gh-comment&runConclusion=FAILURE&runId=49ae489b-a5ad-573d-ab3e-d146d70b9f67) |
| <code>e2e-storage-ingestion-test</code> | Expected entity to match the expected value, but actual value was different. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52552?repo=metabase/metabase&commitHash=24ee89f5d0ed387a931275d1232a413c9822a49a&utm_source=gh-comment&runConclusion=FAILURE&runId=2fbf6334-e765-50c5-a7e8-cb623d063fae) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52552?repo=metabase/metabase&commitHash=24ee89f5d0ed387a931275d1232a413c9822a49a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2805397184,pull_request,closed,,Avoid cartesian products in pivot csv exports,"Likely resolves https://github.com/metabase/metabase/issues/49977

This PR optimizes pivoted CSV exports by avoiding generating Cartesian products of all row and column values and instead building the result rows and columns as tree structures from the actual data. These are accumulated in the `:row-paths` and `:col-paths` keys in the pivot data structure returned by `init-pivot`.

This mirrors the approach taken by the frontend, which doesn't see equivalent performance issues as the backend: https://github.com/metabase/metabase/blob/abad978404a78c111f14414648c401636f0b7dad/frontend/src/metabase/lib/data_grid.js#L53-L55

The trees are built as nested `ordered-map`s (with `ordered-set`s to accumulate the leaf values) so that we don't lose the ordering from the original data, since this is the order of the output rows if no alternate ordering is provided. (I'm not sure if this is the best default behavior, since this ordering is pretty arbitrary, but for now I'm just trying to match the frontend).

Then, in `sort-path-tree` we traverse the tree and convert each level to a `sorted-map` or `sorted-set` as needed, based on the pivot settings. Finally, we enumerate every path from the root to a leaf to get the ultimate `row-combos` and `col-combos` which manifest as actual rows/columns in the CSV.

I've also made some tweaks to the surrounding code to ensure that column and row ordering is respected, and to handle some other edge cases. And I've added some unit tests for new helper functions, and tweaked the expected output of other tests to be more correct. There's a lot more cleanup and further optimization that can be done here but I'm trying to keep the changes relatively focused so that we can resolve the main source of perf problems.",noahmoss,2025-01-22 21:38:29+00:00,['noahmoss'],2025-01-27 17:37:10+00:00,2025-01-27 17:37:07+00:00,https://github.com/metabase/metabase/pull/52551,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2608324442, 'issue_id': 2805397184, 'author': 'noahmoss', 'body': '* **#52551** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52551?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52551?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 22, 21, 38, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608444899, 'issue_id': 2805397184, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/109172_tests-4cb8b8bf-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52551?repo=metabase/metabase&commitHash=4cb8b8bf7239c06c59e68e4e1fc1e98a1080353f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52551?repo=metabase/metabase&commitHash=4cb8b8bf7239c06c59e68e4e1fc1e98a1080353f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52551?repo=metabase/metabase&commitHash=4cb8b8bf7239c06c59e68e4e1fc1e98a1080353f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52551?repo=metabase/metabase&commitHash=4cb8b8bf7239c06c59e68e4e1fc1e98a1080353f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52551?repo=metabase/metabase&commitHash=4cb8b8bf7239c06c59e68e4e1fc1e98a1080353f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 23, 4, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613015825, 'issue_id': 2805397184, 'author': 'alexander-yakushev', 'body': ""Amazing job diffusing the cartesian explosion! I left a couple of comments. It looks like this will significantly reduce the memory watermark during the export. Once this PR is merged, I'll do the measurements and add my improvements on top."", 'created_at': datetime.datetime(2025, 1, 24, 17, 12, 42, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2025-01-22 21:38:46 UTC): * **#52551** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52551?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52551?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2025-01-22 23:04:13 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/109172_tests-4cb8b8bf-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52551?repo=metabase/metabase&commitHash=4cb8b8bf7239c06c59e68e4e1fc1e98a1080353f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52551?repo=metabase/metabase&commitHash=4cb8b8bf7239c06c59e68e4e1fc1e98a1080353f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52551?repo=metabase/metabase&commitHash=4cb8b8bf7239c06c59e68e4e1fc1e98a1080353f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52551?repo=metabase/metabase&commitHash=4cb8b8bf7239c06c59e68e4e1fc1e98a1080353f&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52551?repo=metabase/metabase&commitHash=4cb8b8bf7239c06c59e68e4e1fc1e98a1080353f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

alexander-yakushev on (2025-01-24 17:12:42 UTC): Amazing job diffusing the cartesian explosion! I left a couple of comments. It looks like this will significantly reduce the memory watermark during the export. Once this PR is merged, I'll do the measurements and add my improvements on top.

"
2805395545,pull_request,closed,,Auto-rewrite defendpoint forms in search.clj,,camsaul,2025-01-22 21:37:19+00:00,['camsaul'],2025-01-27 22:10:45+00:00,2025-01-23 03:18:25+00:00,https://github.com/metabase/metabase/pull/52550,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2608438574, 'issue_id': 2805395545, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `0d874e6956e240898cd28dfaf3ec5dd789a7bcc9-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12918450647?pr=52550)\n\n  File | Test Name\n  ---- | ---------\n  `document-title.cy.spec.js` | question loading changes document title > should verify document title changes while loading a slow question (metabase#40051)', 'created_at': datetime.datetime(2025, 1, 22, 22, 59, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608440420, 'issue_id': 2805395545, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/89972_tests-0d874e69-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=0d874e6956e240898cd28dfaf3ec5dd789a7bcc9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/69-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=0d874e6956e240898cd28dfaf3ec5dd789a7bcc9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=0d874e6956e240898cd28dfaf3ec5dd789a7bcc9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=0d874e6956e240898cd28dfaf3ec5dd789a7bcc9&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>e2e-test-13</code> | No Table \'venues\' found for :redshift Database 32 \'test-data (redshift)\' | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=0d874e6956e240898cd28dfaf3ec5dd789a7bcc9&utm_source=gh-comment&runConclusion=FAILURE&runId=10512577-c313-50bd-98a0-66ea89170208) |\n| <code>splice-parameters-mbql-string-param-test</code> | No table \'venues\' found in Redshift database \'test-data (redshift)\' | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=0d874e6956e240898cd28dfaf3ec5dd789a7bcc9&utm_source=gh-comment&runConclusion=FAILURE&runId=a82e5c0c-e785-5644-b23a-0df592d84f7a) |\n| <code>uploads-disabled-for-sandboxed-user-test</code> | No Table \'venues\' found for Redshift database \'test-data (redshift)\' | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=0d874e6956e240898cd28dfaf3ec5dd789a7bcc9&utm_source=gh-comment&runConclusion=FAILURE&runId=a694dad2-1f55-5dc2-af9f-9f94940b8ac9) |\n| <code>binning-default-to-8-test</code> | Unable to bin Field without a min/max value (missing or incomplete fingerprint). | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=0d874e6956e240898cd28dfaf3ec5dd789a7bcc9&utm_source=gh-comment&runConclusion=FAILURE&runId=52d76c43-f955-554c-b85b-72569825258f) |\n\n[... and 65 more](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=0d874e6956e240898cd28dfaf3ec5dd789a7bcc9&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>redshift-types-test</code> | The Redshift database query failed because the relation ""2025\\_01\\_23\\_d472c2c1\\_612e\\_4693\\_bf49\\_662d702b35f6\\_schema.bgzcbrjdmhchgnnuzemp"" does... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=0d874e6956e240898cd28dfaf3ec5dd789a7bcc9&utm_source=gh-comment&runConclusion=FAILURE&runId=f98bba04-4503-552f-8280-5cfe761082f2) |\n| <code>redshift-types-test</code> | The Redshift database connection failed because the specified relation does not exist. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=0d874e6956e240898cd28dfaf3ec5dd789a7bcc9&utm_source=gh-comment&runConclusion=FAILURE&runId=45253f19-cffb-591a-9c42-c83f1c700d41) |\n| <code>scenarios > native question > data reference sidebar should show models</code> | Unable to find an element with the text ""2 models"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=0d874e6956e240898cd28dfaf3ec5dd789a7bcc9&utm_source=gh-comment&runConclusion=FAILURE&runId=256a9bcc-8a8f-5bb6-bec9-4796cddb31bc) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=0d874e6956e240898cd28dfaf3ec5dd789a7bcc9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 23, 0, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608440427, 'issue_id': 2805395545, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/9296_tests-3ac6c605-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=3ac6c6052ee9d4133cfd2f9099d82cc48e3255c2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=3ac6c6052ee9d4133cfd2f9099d82cc48e3255c2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=3ac6c6052ee9d4133cfd2f9099d82cc48e3255c2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=3ac6c6052ee9d4133cfd2f9099d82cc48e3255c2&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>yyyymmddhhmmss-dates</code> | No table 'times' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=3ac6c6052ee9d4133cfd2f9099d82cc48e3255c2&utm_source=gh-comment&runConclusion=FAILURE&runId=632399fd-68a1-528b-8199-dbf5d52be9d3) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=3ac6c6052ee9d4133cfd2f9099d82cc48e3255c2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 22, 23, 0, 39, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-22 22:59:12 UTC): ## e2e tests failed on `0d874e6956e240898cd28dfaf3ec5dd789a7bcc9-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12918450647?pr=52550)

  File | Test Name
  ---- | ---------
  `document-title.cy.spec.js` | question loading changes document title > should verify document title changes while loading a slow question (metabase#40051)

trunk-io[bot] on (2025-01-22 23:00:39 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/89972_tests-0d874e69-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=0d874e6956e240898cd28dfaf3ec5dd789a7bcc9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/69-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=0d874e6956e240898cd28dfaf3ec5dd789a7bcc9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=0d874e6956e240898cd28dfaf3ec5dd789a7bcc9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=0d874e6956e240898cd28dfaf3ec5dd789a7bcc9&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>e2e-test-13</code> | No Table 'venues' found for :redshift Database 32 'test-data (redshift)' | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=0d874e6956e240898cd28dfaf3ec5dd789a7bcc9&utm_source=gh-comment&runConclusion=FAILURE&runId=10512577-c313-50bd-98a0-66ea89170208) |
| <code>splice-parameters-mbql-string-param-test</code> | No table 'venues' found in Redshift database 'test-data (redshift)' | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=0d874e6956e240898cd28dfaf3ec5dd789a7bcc9&utm_source=gh-comment&runConclusion=FAILURE&runId=a82e5c0c-e785-5644-b23a-0df592d84f7a) |
| <code>uploads-disabled-for-sandboxed-user-test</code> | No Table 'venues' found for Redshift database 'test-data (redshift)' | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=0d874e6956e240898cd28dfaf3ec5dd789a7bcc9&utm_source=gh-comment&runConclusion=FAILURE&runId=a694dad2-1f55-5dc2-af9f-9f94940b8ac9) |
| <code>binning-default-to-8-test</code> | Unable to bin Field without a min/max value (missing or incomplete fingerprint). | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=0d874e6956e240898cd28dfaf3ec5dd789a7bcc9&utm_source=gh-comment&runConclusion=FAILURE&runId=52d76c43-f955-554c-b85b-72569825258f) |

[... and 65 more](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=0d874e6956e240898cd28dfaf3ec5dd789a7bcc9&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>redshift-types-test</code> | The Redshift database query failed because the relation ""2025\_01\_23\_d472c2c1\_612e\_4693\_bf49\_662d702b35f6\_schema.bgzcbrjdmhchgnnuzemp"" does... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=0d874e6956e240898cd28dfaf3ec5dd789a7bcc9&utm_source=gh-comment&runConclusion=FAILURE&runId=f98bba04-4503-552f-8280-5cfe761082f2) |
| <code>redshift-types-test</code> | The Redshift database connection failed because the specified relation does not exist. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=0d874e6956e240898cd28dfaf3ec5dd789a7bcc9&utm_source=gh-comment&runConclusion=FAILURE&runId=45253f19-cffb-591a-9c42-c83f1c700d41) |
| <code>scenarios > native question > data reference sidebar should show models</code> | Unable to find an element with the text ""2 models"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=0d874e6956e240898cd28dfaf3ec5dd789a7bcc9&utm_source=gh-comment&runConclusion=FAILURE&runId=256a9bcc-8a8f-5bb6-bec9-4796cddb31bc) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=0d874e6956e240898cd28dfaf3ec5dd789a7bcc9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2025-01-22 23:00:39 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/9296_tests-3ac6c605-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=3ac6c6052ee9d4133cfd2f9099d82cc48e3255c2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=3ac6c6052ee9d4133cfd2f9099d82cc48e3255c2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=3ac6c6052ee9d4133cfd2f9099d82cc48e3255c2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=3ac6c6052ee9d4133cfd2f9099d82cc48e3255c2&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>yyyymmddhhmmss-dates</code> | No table 'times' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=3ac6c6052ee9d4133cfd2f9099d82cc48e3255c2&utm_source=gh-comment&runConclusion=FAILURE&runId=632399fd-68a1-528b-8199-dbf5d52be9d3) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52550?repo=metabase/metabase&commitHash=3ac6c6052ee9d4133cfd2f9099d82cc48e3255c2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2805382894,pull_request,closed,,Auto-rewrite defendpoint forms in pulse.clj,,camsaul,2025-01-22 21:30:20+00:00,['camsaul'],2025-01-27 22:10:44+00:00,2025-01-23 03:50:13+00:00,https://github.com/metabase/metabase/pull/52549,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2608444314, 'issue_id': 2805382894, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/97602_tests-b78b48ff-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52549?repo=metabase/metabase&commitHash=b78b48ff09fd379be6cf5b5fb85193ee317615c7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/339-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52549?repo=metabase/metabase&commitHash=b78b48ff09fd379be6cf5b5fb85193ee317615c7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52549?repo=metabase/metabase&commitHash=b78b48ff09fd379be6cf5b5fb85193ee317615c7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52549?repo=metabase/metabase&commitHash=b78b48ff09fd379be6cf5b5fb85193ee317615c7&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>iso-8601-text-fields</code> | No table 'times' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52549?repo=metabase/metabase&commitHash=b78b48ff09fd379be6cf5b5fb85193ee317615c7&utm_source=gh-comment&runConclusion=FAILURE&runId=ee58788a-98d2-5b71-aa94-5112e8624e5e) |\n| <code>iso-8601-text-fields-should-be-queryable-datetime-test</code> | No table 'times' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52549?repo=metabase/metabase&commitHash=b78b48ff09fd379be6cf5b5fb85193ee317615c7&utm_source=gh-comment&runConclusion=FAILURE&runId=d580c757-3836-51c8-8745-ad3d67b1893e) |\n| <code>is-empty-not-empty-with-not-emptyable-args-test-2</code> | No table 'checkins' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52549?repo=metabase/metabase&commitHash=b78b48ff09fd379be6cf5b5fb85193ee317615c7&utm_source=gh-comment&runConclusion=FAILURE&runId=df309f48-30b2-5409-9967-1e0ebaa9448b) |\n| <code>iso-8601-text-fields-should-be-queryable-date-test</code> | No table 'times' found in the Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52549?repo=metabase/metabase&commitHash=b78b48ff09fd379be6cf5b5fb85193ee317615c7&utm_source=gh-comment&runConclusion=FAILURE&runId=0f13ff8e-93eb-545f-a96d-f08db248ae41) |\n\n[... and 335 more](https://app.trunk.io/metabase/flaky-tests/pr/52549?repo=metabase/metabase&commitHash=b78b48ff09fd379be6cf5b5fb85193ee317615c7&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>describe-database-exclude-metabase-cache-test</code> |  | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52549?repo=metabase/metabase&commitHash=b78b48ff09fd379be6cf5b5fb85193ee317615c7&utm_source=gh-comment&runConclusion=FAILURE&runId=22ee9d66-fe74-5e86-b29c-061fdd983276) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52549?repo=metabase/metabase&commitHash=b78b48ff09fd379be6cf5b5fb85193ee317615c7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 22, 23, 3, 45, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 23:03:45 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/97602_tests-b78b48ff-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52549?repo=metabase/metabase&commitHash=b78b48ff09fd379be6cf5b5fb85193ee317615c7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/339-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52549?repo=metabase/metabase&commitHash=b78b48ff09fd379be6cf5b5fb85193ee317615c7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52549?repo=metabase/metabase&commitHash=b78b48ff09fd379be6cf5b5fb85193ee317615c7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52549?repo=metabase/metabase&commitHash=b78b48ff09fd379be6cf5b5fb85193ee317615c7&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>iso-8601-text-fields</code> | No table 'times' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52549?repo=metabase/metabase&commitHash=b78b48ff09fd379be6cf5b5fb85193ee317615c7&utm_source=gh-comment&runConclusion=FAILURE&runId=ee58788a-98d2-5b71-aa94-5112e8624e5e) |
| <code>iso-8601-text-fields-should-be-queryable-datetime-test</code> | No table 'times' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52549?repo=metabase/metabase&commitHash=b78b48ff09fd379be6cf5b5fb85193ee317615c7&utm_source=gh-comment&runConclusion=FAILURE&runId=d580c757-3836-51c8-8745-ad3d67b1893e) |
| <code>is-empty-not-empty-with-not-emptyable-args-test-2</code> | No table 'checkins' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52549?repo=metabase/metabase&commitHash=b78b48ff09fd379be6cf5b5fb85193ee317615c7&utm_source=gh-comment&runConclusion=FAILURE&runId=df309f48-30b2-5409-9967-1e0ebaa9448b) |
| <code>iso-8601-text-fields-should-be-queryable-date-test</code> | No table 'times' found in the Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52549?repo=metabase/metabase&commitHash=b78b48ff09fd379be6cf5b5fb85193ee317615c7&utm_source=gh-comment&runConclusion=FAILURE&runId=0f13ff8e-93eb-545f-a96d-f08db248ae41) |

[... and 335 more](https://app.trunk.io/metabase/flaky-tests/pr/52549?repo=metabase/metabase&commitHash=b78b48ff09fd379be6cf5b5fb85193ee317615c7&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>describe-database-exclude-metabase-cache-test</code> |  | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52549?repo=metabase/metabase&commitHash=b78b48ff09fd379be6cf5b5fb85193ee317615c7&utm_source=gh-comment&runConclusion=FAILURE&runId=22ee9d66-fe74-5e86-b29c-061fdd983276) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52549?repo=metabase/metabase&commitHash=b78b48ff09fd379be6cf5b5fb85193ee317615c7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2805359375,pull_request,closed,,Limit amount of data stored in the in-memory log,"Closes #52537 

### Description

Limits memory usage in log ring buffer by:
1. Limiting ring size to 250 entries rather than 2500
2. Setting the max length of messages to 4000 chars
3. Setting the max length of stacktrace messages to 500
4. Limiting the length of stacktraces to 20 lines

Originally, I updated the message length to just 250 chars but we found that in the web UI for showing messages, it primarily relied on the ""msg"" key in the logs API. 

Errors on API calls, for example, would show the stacktrace nicely only because the stacktrace was attached to the message with \n-separated lines. There is also some logic in the UI to color the stacktraces within the messages red.

If there was a value in the ""exception"" API response (which is a list of stacktrace lines) the UI would just append all the stacktrace values in the same line as the message with no coloring. This makes them very difficult to see.

So: we left the stacktrace-trimming logic but moved the message eliding to 4000 chars so it should get enough of the stacktrace on it's own as an easy first-fix.

#### Longer Term Fix

The longer-term fix to make is to:
- Find all the places where we in concat the stacktrace onto the message and move the exception itself to be passed to the log function for proper formatting/handling by the log systems
- Update the UI to better format exceptions in the log

I'll make those changes for a future release 


### How to verify

1. See that the max length of the logs in the UI meet the limits

### Checklist

- [X] Tests have been added/updated to cover changes in this PR
",nvoxland,2025-01-22 21:14:48+00:00,['nvoxland'],2025-01-28 01:29:58+00:00,2025-01-28 00:10:55+00:00,https://github.com/metabase/metabase/pull/52548,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2608300303, 'issue_id': 2805359375, 'author': 'dpsutton', 'body': ""I think some screenshots of the logs would be nice. We are stringing the stack frames and i want to make sure that doesn't change their appearance."", 'created_at': datetime.datetime(2025, 1, 22, 21, 24, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608315653, 'issue_id': 2805359375, 'author': 'dpsutton', 'body': 'old: \r\n<img width=""1524"" alt=""image"" src=""https://github.com/user-attachments/assets/82458178-5326-4b69-b503-ade11a2415de"" />\r\n\r\n\r\nnew:\r\n\r\n<img width=""1521"" alt=""image"" src=""https://github.com/user-attachments/assets/52578412-54f9-4b8a-b7fb-a8bbea6a61f7"" />', 'created_at': datetime.datetime(2025, 1, 22, 21, 33, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608343589, 'issue_id': 2805359375, 'author': 'dpsutton', 'body': 'Your tests are failing because we have a log level of fatal when running tests. https://github.com/metabase/metabase/blob/master/test_config/log4j2-test.xml#L10 which is configured here: https://github.com/metabase/metabase/blob/master/src/metabase/core/bootstrap.clj#L14\r\n\r\nThis means these tests which log at an info level are not actually hitting this logger. Two options: add an entry in that xml file for this namespace to lower the logging threshold to what you expect or raise the logging level in these tests. \r\n\r\nOne other consideration, these tests are noisy\r\n\r\n<img width=""1353"" alt=""image"" src=""https://github.com/user-attachments/assets/960d740b-1310-4ea5-a9e4-fc24d4209b4a"" />\r\n\r\nOr _will_ be noisy when they hit a logger in CI\r\n<img width=""820"" alt=""image"" src=""https://github.com/user-attachments/assets/79b12277-3972-483f-b995-8a89fe2ae089"" />', 'created_at': datetime.datetime(2025, 1, 22, 21, 50, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608446965, 'issue_id': 2805359375, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/98039_tests-76556b40-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52548?repo=metabase/metabase&commitHash=76556b40a8bf2c1d3570b7809249a40687e98c98&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52548?repo=metabase/metabase&commitHash=76556b40a8bf2c1d3570b7809249a40687e98c98&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52548?repo=metabase/metabase&commitHash=76556b40a8bf2c1d3570b7809249a40687e98c98&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52548?repo=metabase/metabase&commitHash=76556b40a8bf2c1d3570b7809249a40687e98c98&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>check-can-connect-before-sync-test</code> | The database sync failed to short-circuit and fail when the database was deleted, resulting in a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52548?repo=metabase/metabase&commitHash=76556b40a8bf2c1d3570b7809249a40687e98c98&utm_source=gh-comment&runConclusion=FAILURE&runId=31a19c1b-8387-5bee-aa7a-82c9c9f42bcb) |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52548?repo=metabase/metabase&commitHash=76556b40a8bf2c1d3570b7809249a40687e98c98&utm_source=gh-comment&runConclusion=FAILURE&runId=fde74d2e-c9be-5972-88a2-b0f80bb59453) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52548?repo=metabase/metabase&commitHash=76556b40a8bf2c1d3570b7809249a40687e98c98&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 22, 23, 5, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616766034, 'issue_id': 2805359375, 'author': 'nvoxland', 'body': ""We decided to limit the message to 4000 chars for now becauase there are places where we're storing the stacktrace in the message and the log UI relies on that.\r\n\r\nAfter this PR is merged, I'll create a separate PR that fixes places where we log the exception as part of the message rather than passing it as a separate param and then we can go back to truncating the message to be shorter\r\n\r\n![image](https://github.com/user-attachments/assets/991b68f3-fcd0-481a-a7bc-4c6bb79c7595)"", 'created_at': datetime.datetime(2025, 1, 27, 19, 57, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2616976955, 'issue_id': 2805359375, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `76556b40a8bf2c1d3570b7809249a40687e98c98-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12998786901?pr=52548)\n\n  File | Test Name\n  ---- | ---------\n  `permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)', 'created_at': datetime.datetime(2025, 1, 27, 21, 54, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617434840, 'issue_id': 2805359375, 'author': 'nvoxland', 'body': '@metabase-bot backport release-x.52.x', 'created_at': datetime.datetime(2025, 1, 28, 1, 29, 57, tzinfo=datetime.timezone.utc)}]","dpsutton on (2025-01-22 21:24:29 UTC): I think some screenshots of the logs would be nice. We are stringing the stack frames and i want to make sure that doesn't change their appearance.

dpsutton on (2025-01-22 21:33:40 UTC): old: 
<img width=""1524"" alt=""image"" src=""https://github.com/user-attachments/assets/82458178-5326-4b69-b503-ade11a2415de"" />


new:

<img width=""1521"" alt=""image"" src=""https://github.com/user-attachments/assets/52578412-54f9-4b8a-b7fb-a8bbea6a61f7"" />

dpsutton on (2025-01-22 21:50:38 UTC): Your tests are failing because we have a log level of fatal when running tests. https://github.com/metabase/metabase/blob/master/test_config/log4j2-test.xml#L10 which is configured here: https://github.com/metabase/metabase/blob/master/src/metabase/core/bootstrap.clj#L14

This means these tests which log at an info level are not actually hitting this logger. Two options: add an entry in that xml file for this namespace to lower the logging threshold to what you expect or raise the logging level in these tests. 

One other consideration, these tests are noisy

<img width=""1353"" alt=""image"" src=""https://github.com/user-attachments/assets/960d740b-1310-4ea5-a9e4-fc24d4209b4a"" />

Or _will_ be noisy when they hit a logger in CI
<img width=""820"" alt=""image"" src=""https://github.com/user-attachments/assets/79b12277-3972-483f-b995-8a89fe2ae089"" />

trunk-io[bot] on (2025-01-22 23:05:58 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/98039_tests-76556b40-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52548?repo=metabase/metabase&commitHash=76556b40a8bf2c1d3570b7809249a40687e98c98&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52548?repo=metabase/metabase&commitHash=76556b40a8bf2c1d3570b7809249a40687e98c98&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52548?repo=metabase/metabase&commitHash=76556b40a8bf2c1d3570b7809249a40687e98c98&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52548?repo=metabase/metabase&commitHash=76556b40a8bf2c1d3570b7809249a40687e98c98&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>check-can-connect-before-sync-test</code> | The database sync failed to short-circuit and fail when the database was deleted, resulting in a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52548?repo=metabase/metabase&commitHash=76556b40a8bf2c1d3570b7809249a40687e98c98&utm_source=gh-comment&runConclusion=FAILURE&runId=31a19c1b-8387-5bee-aa7a-82c9c9f42bcb) |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52548?repo=metabase/metabase&commitHash=76556b40a8bf2c1d3570b7809249a40687e98c98&utm_source=gh-comment&runConclusion=FAILURE&runId=fde74d2e-c9be-5972-88a2-b0f80bb59453) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52548?repo=metabase/metabase&commitHash=76556b40a8bf2c1d3570b7809249a40687e98c98&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

nvoxland (Issue Creator) on (2025-01-27 19:57:39 UTC): We decided to limit the message to 4000 chars for now becauase there are places where we're storing the stacktrace in the message and the log UI relies on that.

After this PR is merged, I'll create a separate PR that fixes places where we log the exception as part of the message rather than passing it as a separate param and then we can go back to truncating the message to be shorter

![image](https://github.com/user-attachments/assets/991b68f3-fcd0-481a-a7bc-4c6bb79c7595)

github-actions[bot] on (2025-01-27 21:54:06 UTC): ## e2e tests failed on `76556b40a8bf2c1d3570b7809249a40687e98c98-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12998786901?pr=52548)

  File | Test Name
  ---- | ---------
  `permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)

nvoxland (Issue Creator) on (2025-01-28 01:29:57 UTC): @metabase-bot backport release-x.52.x

"
2805352461,pull_request,closed,,"🤖 backported ""docs - remove paid features docs section""",#52545,github-automation-metabase,2025-01-22 21:10:11+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2025-01-22 21:12:07+00:00,2025-01-22 21:12:06+00:00,https://github.com/metabase/metabase/pull/52547,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2805331143,pull_request,closed,,Disable Metabot's filter-records tool,"Fixes #52499.
",metamben,2025-01-22 20:58:40+00:00,['metamben'],2025-01-22 21:16:06+00:00,2025-01-22 21:16:04+00:00,https://github.com/metabase/metabase/pull/52546,"[('.Team/Querying', ''), ('Metabot/Tools', 'Tools that are agnostic of the LLM framework itself, could be reused for notifications framework als')]","[{'comment_id': 2608286912, 'issue_id': 2805331143, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `b5e7899ca64ac93d4f2bb393fb5a3ea2330c4a25-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12916941018?pr=52546)\n\n  File | Test Name\n  ---- | ---------\n  `native.cy.spec.js` | scenarios > native question > data reference sidebar > should show models', 'created_at': datetime.datetime(2025, 1, 22, 21, 16, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-22 21:16:00 UTC): ## e2e tests failed on `b5e7899ca64ac93d4f2bb393fb5a3ea2330c4a25-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12916941018?pr=52546)

  File | Test Name
  ---- | ---------
  `native.cy.spec.js` | scenarios > native question > data reference sidebar > should show models

"
2805323009,pull_request,closed,,docs - remove paid features docs section,Removing the list of paid features in favor of our pricing page: https://www.metabase.com/pricing/,jeff-bruemmer,2025-01-22 20:54:07+00:00,['jeff-bruemmer'],2025-01-22 21:12:38+00:00,2025-01-22 21:09:14+00:00,https://github.com/metabase/metabase/pull/52545,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2805286023,pull_request,closed,,Auto-rewrite defendpoint forms in field.clj,,camsaul,2025-01-22 20:30:06+00:00,['camsaul'],2025-01-27 22:10:46+00:00,2025-01-23 01:46:38+00:00,https://github.com/metabase/metabase/pull/52544,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2608442142, 'issue_id': 2805286023, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/84280_tests-8935823a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52544?repo=metabase/metabase&commitHash=8935823ab057d3488e3531f9e12155007c137119&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52544?repo=metabase/metabase&commitHash=8935823ab057d3488e3531f9e12155007c137119&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52544?repo=metabase/metabase&commitHash=8935823ab057d3488e3531f9e12155007c137119&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52544?repo=metabase/metabase&commitHash=8935823ab057d3488e3531f9e12155007c137119&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>test-ceil</code> | The query result set was closed before it could be processed. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52544?repo=metabase/metabase&commitHash=8935823ab057d3488e3531f9e12155007c137119&utm_source=gh-comment&runConclusion=FAILURE&runId=0929dc53-a251-56e5-b2f1-ae1cc8ce002d) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52544?repo=metabase/metabase&commitHash=8935823ab057d3488e3531f9e12155007c137119&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 23, 2, 2, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 23:02:02 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/84280_tests-8935823a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52544?repo=metabase/metabase&commitHash=8935823ab057d3488e3531f9e12155007c137119&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52544?repo=metabase/metabase&commitHash=8935823ab057d3488e3531f9e12155007c137119&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52544?repo=metabase/metabase&commitHash=8935823ab057d3488e3531f9e12155007c137119&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52544?repo=metabase/metabase&commitHash=8935823ab057d3488e3531f9e12155007c137119&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>test-ceil</code> | The query result set was closed before it could be processed. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52544?repo=metabase/metabase&commitHash=8935823ab057d3488e3531f9e12155007c137119&utm_source=gh-comment&runConclusion=FAILURE&runId=0929dc53-a251-56e5-b2f1-ae1cc8ce002d) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52544?repo=metabase/metabase&commitHash=8935823ab057d3488e3531f9e12155007c137119&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2805275646,pull_request,closed,,Auto-rewrite defendpoint forms in database.clj,,camsaul,2025-01-22 20:23:35+00:00,['camsaul'],2025-01-27 22:10:39+00:00,2025-01-23 17:21:33+00:00,https://github.com/metabase/metabase/pull/52543,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2608563237, 'issue_id': 2805275646, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/114739_tests-6113ea58-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52543?repo=metabase/metabase&commitHash=6113ea584733cd3ad37f3413b30c9c68250a076b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/12-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52543?repo=metabase/metabase&commitHash=6113ea584733cd3ad37f3413b30c9c68250a076b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52543?repo=metabase/metabase&commitHash=6113ea584733cd3ad37f3413b30c9c68250a076b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52543?repo=metabase/metabase&commitHash=6113ea584733cd3ad37f3413b30c9c68250a076b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>append-with-really-long-names-test</code> | The schema ""metabase\\_cache\\_81493\\_1"" was dropped by a concurrent transaction. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52543?repo=metabase/metabase&commitHash=6113ea584733cd3ad37f3413b30c9c68250a076b&utm_source=gh-comment&runConclusion=FAILURE&runId=148ff745-04b9-5a12-8d3f-5391fb0601cb) |\n| <code>iso-8601-text-fields-should-be-queryable-datetime-test</code> | No table \'times\' found in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52543?repo=metabase/metabase&commitHash=6113ea584733cd3ad37f3413b30c9c68250a076b&utm_source=gh-comment&runConclusion=FAILURE&runId=273a68b4-52bb-53c9-b266-e32135ad80cf) |\n| <code>default-bucketing-test-2</code> | No table \'checkins\' found in the Redshift database \'office-checkins\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52543?repo=metabase/metabase&commitHash=6113ea584733cd3ad37f3413b30c9c68250a076b&utm_source=gh-comment&runConclusion=FAILURE&runId=d9cc46b9-6ddb-5bea-a41f-3ee6973fb0b0) |\n| <code>iso-8601-text-fields</code> | ""No table \'times\' found in Redshift database 263 \'string-times (redshift)\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52543?repo=metabase/metabase&commitHash=6113ea584733cd3ad37f3413b30c9c68250a076b&utm_source=gh-comment&runConclusion=FAILURE&runId=be554859-e20d-5dfc-8771-caa12d318c67) |\n\n[... and 8 more](https://app.trunk.io/metabase/flaky-tests/pr/52543?repo=metabase/metabase&commitHash=6113ea584733cd3ad37f3413b30c9c68250a076b&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52543?repo=metabase/metabase&commitHash=6113ea584733cd3ad37f3413b30c9c68250a076b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 0, 23, 40, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 00:23:40 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/114739_tests-6113ea58-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52543?repo=metabase/metabase&commitHash=6113ea584733cd3ad37f3413b30c9c68250a076b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/12-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52543?repo=metabase/metabase&commitHash=6113ea584733cd3ad37f3413b30c9c68250a076b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52543?repo=metabase/metabase&commitHash=6113ea584733cd3ad37f3413b30c9c68250a076b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52543?repo=metabase/metabase&commitHash=6113ea584733cd3ad37f3413b30c9c68250a076b&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>append-with-really-long-names-test</code> | The schema ""metabase\_cache\_81493\_1"" was dropped by a concurrent transaction. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52543?repo=metabase/metabase&commitHash=6113ea584733cd3ad37f3413b30c9c68250a076b&utm_source=gh-comment&runConclusion=FAILURE&runId=148ff745-04b9-5a12-8d3f-5391fb0601cb) |
| <code>iso-8601-text-fields-should-be-queryable-datetime-test</code> | No table 'times' found in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52543?repo=metabase/metabase&commitHash=6113ea584733cd3ad37f3413b30c9c68250a076b&utm_source=gh-comment&runConclusion=FAILURE&runId=273a68b4-52bb-53c9-b266-e32135ad80cf) |
| <code>default-bucketing-test-2</code> | No table 'checkins' found in the Redshift database 'office-checkins'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52543?repo=metabase/metabase&commitHash=6113ea584733cd3ad37f3413b30c9c68250a076b&utm_source=gh-comment&runConclusion=FAILURE&runId=d9cc46b9-6ddb-5bea-a41f-3ee6973fb0b0) |
| <code>iso-8601-text-fields</code> | ""No table 'times' found in Redshift database 263 'string-times (redshift)'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52543?repo=metabase/metabase&commitHash=6113ea584733cd3ad37f3413b30c9c68250a076b&utm_source=gh-comment&runConclusion=FAILURE&runId=be554859-e20d-5dfc-8771-caa12d318c67) |

[... and 8 more](https://app.trunk.io/metabase/flaky-tests/pr/52543?repo=metabase/metabase&commitHash=6113ea584733cd3ad37f3413b30c9c68250a076b&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52543?repo=metabase/metabase&commitHash=6113ea584733cd3ad37f3413b30c9c68250a076b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2805274820,pull_request,closed,,Auto-rewrite (some) defendpoint forms in session.clj,,camsaul,2025-01-22 20:23:03+00:00,['camsaul'],2025-01-27 22:10:46+00:00,2025-01-22 22:49:00+00:00,https://github.com/metabase/metabase/pull/52542,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2608244885, 'issue_id': 2805274820, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `1840c063e32fb3379843b15c0cbae84675e05bc4-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12916433223?pr=52542)\n\n  File | Test Name\n  ---- | ---------\n  `reproductions-1.cy.spec.js` | issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link"", 'created_at': datetime.datetime(2025, 1, 22, 20, 55, 46, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-22 20:55:46 UTC): ## e2e tests failed on `1840c063e32fb3379843b15c0cbae84675e05bc4-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12916433223?pr=52542)

  File | Test Name
  ---- | ---------
  `reproductions-1.cy.spec.js` | issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link

"
2805258759,pull_request,closed,,Auto-rewrite defendpoint forms in permissions.clj,,camsaul,2025-01-22 20:13:09+00:00,['camsaul'],2025-01-27 22:10:48+00:00,2025-01-22 21:45:46+00:00,https://github.com/metabase/metabase/pull/52541,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2608206308, 'issue_id': 2805258759, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `722943606c7825e9b280fda3ccb793823b6c053c-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12916286934?pr=52541)\n\n  File | Test Name\n  ---- | ---------\n  `reproductions-1.cy.spec.js` | issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link"", 'created_at': datetime.datetime(2025, 1, 22, 20, 32, 6, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-22 20:32:06 UTC): ## e2e tests failed on `722943606c7825e9b280fda3ccb793823b6c053c-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12916286934?pr=52541)

  File | Test Name
  ---- | ---------
  `reproductions-1.cy.spec.js` | issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link

"
2805257696,pull_request,closed,,"🤖 backported ""Fix webhook e2e test setup""",#52538,github-automation-metabase,2025-01-22 20:12:28+00:00,"['iethree', 'github-automation-metabase']",2025-01-27 16:57:36+00:00,2025-01-27 16:57:36+00:00,https://github.com/metabase/metabase/pull/52540,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2610070341, 'issue_id': 2805257696, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3753_tests-673bb174-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52540?repo=metabase/metabase&commitHash=673bb174b5ddcbeb019b77364a80a304d3abdd95&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52540?repo=metabase/metabase&commitHash=673bb174b5ddcbeb019b77364a80a304d3abdd95&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52540?repo=metabase/metabase&commitHash=673bb174b5ddcbeb019b77364a80a304d3abdd95&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52540?repo=metabase/metabase&commitHash=673bb174b5ddcbeb019b77364a80a304d3abdd95&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>45252 should allow using is-null and not-null operators with unsupported data types (metabase\\#45252,metabase\\#38111)</code> | The test timed out while trying to find an element with the text ""Public"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52540?repo=metabase/metabase&commitHash=673bb174b5ddcbeb019b77364a80a304d3abdd95&utm_source=gh-comment&runConclusion=FAILURE&runId=3435e49b-73ba-56fe-ad84-a4c71246c9d3) |\n| <code>45252 should allow using is-null and not-null operators with unsupported data types (metabase\\#45252,metabase\\#38111)</code> | The test timed out while trying to find an element with the text ""Public"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52540?repo=metabase/metabase&commitHash=673bb174b5ddcbeb019b77364a80a304d3abdd95&utm_source=gh-comment&runConclusion=FAILURE&runId=4f333375-e3e5-5bda-84ff-c63294fbc2e7) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52540?repo=metabase/metabase&commitHash=673bb174b5ddcbeb019b77364a80a304d3abdd95&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 15, 10, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610883932, 'issue_id': 2805257696, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `673bb174b5ddcbeb019b77364a80a304d3abdd95-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12936643977?pr=52540)\n\n  File | Test Name\n  ---- | ---------\n  `filters-reproductions.cy.spec.js` | 45252 > should allow using is-null and not-null operators with unsupported data types (metabase#45252,metabase#38111)', 'created_at': datetime.datetime(2025, 1, 23, 19, 50, 55, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 15:10:46 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3753_tests-673bb174-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52540?repo=metabase/metabase&commitHash=673bb174b5ddcbeb019b77364a80a304d3abdd95&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52540?repo=metabase/metabase&commitHash=673bb174b5ddcbeb019b77364a80a304d3abdd95&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52540?repo=metabase/metabase&commitHash=673bb174b5ddcbeb019b77364a80a304d3abdd95&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52540?repo=metabase/metabase&commitHash=673bb174b5ddcbeb019b77364a80a304d3abdd95&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>45252 should allow using is-null and not-null operators with unsupported data types (metabase\#45252,metabase\#38111)</code> | The test timed out while trying to find an element with the text ""Public"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52540?repo=metabase/metabase&commitHash=673bb174b5ddcbeb019b77364a80a304d3abdd95&utm_source=gh-comment&runConclusion=FAILURE&runId=3435e49b-73ba-56fe-ad84-a4c71246c9d3) |
| <code>45252 should allow using is-null and not-null operators with unsupported data types (metabase\#45252,metabase\#38111)</code> | The test timed out while trying to find an element with the text ""Public"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52540?repo=metabase/metabase&commitHash=673bb174b5ddcbeb019b77364a80a304d3abdd95&utm_source=gh-comment&runConclusion=FAILURE&runId=4f333375-e3e5-5bda-84ff-c63294fbc2e7) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52540?repo=metabase/metabase&commitHash=673bb174b5ddcbeb019b77364a80a304d3abdd95&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-23 19:50:55 UTC): ## e2e tests failed on `673bb174b5ddcbeb019b77364a80a304d3abdd95-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12936643977?pr=52540)

  File | Test Name
  ---- | ---------
  `filters-reproductions.cy.spec.js` | 45252 > should allow using is-null and not-null operators with unsupported data types (metabase#45252,metabase#38111)

"
2805256481,pull_request,closed,,Fix Flake: 16559,"### Description

Attempt to fix this flake with better selection and interactivity check on the button. 🤞 

https://app.trunk.io/metabase/flaky-tests/test/e2aa2c50-1b2b-583e-bd47-2d83d588f049?repo=metabase%2Fmetabase

failure image:

![issue 16559 -- should always show the most recent revision (metabase#16559) (failed) (attempt 2)](https://github.com/user-attachments/assets/b94e2bb6-cf77-4c48-bf11-120fa9c728b9)


need to stress test: 
- :x: https://github.com/metabase/metabase/actions/runs/12920508330/job/36032940981
",iethree,2025-01-22 20:11:42+00:00,"['filiphric', 'iethree']",2025-02-05 12:47:31+00:00,2025-02-05 12:01:34+00:00,https://github.com/metabase/metabase/pull/52539,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('flaky-test-fix', ''), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2618211793, 'issue_id': 2805256481, 'author': 'filiphric', 'body': 'I pushed to this PR and [ran stress test](https://github.com/metabase/metabase/actions/runs/12991870018/job/36230421687), it seems that adding an intercept helps solving the dead click problem', 'created_at': datetime.datetime(2025, 1, 28, 8, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2618379758, 'issue_id': 2805256481, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/10429_tests-801d8a0d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52539?repo=metabase/metabase&commitHash=801d8a0d5525c0c742e2a9ae74af4cf579b35a64&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52539?repo=metabase/metabase&commitHash=801d8a0d5525c0c742e2a9ae74af4cf579b35a64&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52539?repo=metabase/metabase&commitHash=801d8a0d5525c0c742e2a9ae74af4cf579b35a64&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52539?repo=metabase/metabase&commitHash=801d8a0d5525c0c742e2a9ae74af4cf579b35a64&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52539?repo=metabase/metabase&commitHash=801d8a0d5525c0c742e2a9ae74af4cf579b35a64&utm_source=gh-comment&runConclusion=FAILURE&runId=873b2f1a-ae4c-5418-bd5a-0a767cd2e244) |\n| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and \'Browse databases\' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52539?repo=metabase/metabase&commitHash=801d8a0d5525c0c742e2a9ae74af4cf579b35a64&utm_source=gh-comment&runConclusion=FAILURE&runId=60878c78-2d24-50bd-9cbe-66d98d68fb2a) |\n| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52539?repo=metabase/metabase&commitHash=801d8a0d5525c0c742e2a9ae74af4cf579b35a64&utm_source=gh-comment&runConclusion=FAILURE&runId=8e0046bd-e2d9-5862-bf7d-bf8809d819fc) |\n| <code>scenarios > model indexes should not reload the model for record in the same model</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52539?repo=metabase/metabase&commitHash=801d8a0d5525c0c742e2a9ae74af4cf579b35a64&utm_source=gh-comment&runConclusion=FAILURE&runId=577bbf55-4bb2-5af8-825d-1806222610cc) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52539?repo=metabase/metabase&commitHash=801d8a0d5525c0c742e2a9ae74af4cf579b35a64&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 28, 9, 12, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2630787633, 'issue_id': 2805256481, 'author': 'filiphric', 'body': '@iethree need a hand with this one?', 'created_at': datetime.datetime(2025, 2, 3, 12, 17, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634930444, 'issue_id': 2805256481, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `801d8a0d5525c0c742e2a9ae74af4cf579b35a64-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13143528496?pr=52539)\n\n  File | Test Name\n  ---- | ---------\n  `model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model\n`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette\n`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link\n`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results"", 'created_at': datetime.datetime(2025, 2, 4, 19, 55, 23, tzinfo=datetime.timezone.utc)}]","filiphric (Assginee) on (2025-01-28 08:22:00 UTC): I pushed to this PR and [ran stress test](https://github.com/metabase/metabase/actions/runs/12991870018/job/36230421687), it seems that adding an intercept helps solving the dead click problem

trunk-io[bot] on (2025-01-28 09:12:39 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/10429_tests-801d8a0d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52539?repo=metabase/metabase&commitHash=801d8a0d5525c0c742e2a9ae74af4cf579b35a64&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52539?repo=metabase/metabase&commitHash=801d8a0d5525c0c742e2a9ae74af4cf579b35a64&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52539?repo=metabase/metabase&commitHash=801d8a0d5525c0c742e2a9ae74af4cf579b35a64&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52539?repo=metabase/metabase&commitHash=801d8a0d5525c0c742e2a9ae74af4cf579b35a64&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52539?repo=metabase/metabase&commitHash=801d8a0d5525c0c742e2a9ae74af4cf579b35a64&utm_source=gh-comment&runConclusion=FAILURE&runId=873b2f1a-ae4c-5418-bd5a-0a767cd2e244) |
| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and 'Browse databases' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52539?repo=metabase/metabase&commitHash=801d8a0d5525c0c742e2a9ae74af4cf579b35a64&utm_source=gh-comment&runConclusion=FAILURE&runId=60878c78-2d24-50bd-9cbe-66d98d68fb2a) |
| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52539?repo=metabase/metabase&commitHash=801d8a0d5525c0c742e2a9ae74af4cf579b35a64&utm_source=gh-comment&runConclusion=FAILURE&runId=8e0046bd-e2d9-5862-bf7d-bf8809d819fc) |
| <code>scenarios > model indexes should not reload the model for record in the same model</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52539?repo=metabase/metabase&commitHash=801d8a0d5525c0c742e2a9ae74af4cf579b35a64&utm_source=gh-comment&runConclusion=FAILURE&runId=577bbf55-4bb2-5af8-825d-1806222610cc) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52539?repo=metabase/metabase&commitHash=801d8a0d5525c0c742e2a9ae74af4cf579b35a64&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

filiphric (Assginee) on (2025-02-03 12:17:38 UTC): @iethree need a hand with this one?

github-actions[bot] on (2025-02-04 19:55:23 UTC): ## e2e tests failed on `801d8a0d5525c0c742e2a9ae74af4cf579b35a64-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13143528496?pr=52539)

  File | Test Name
  ---- | ---------
  `model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model
`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette
`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link
`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results

"
2805207728,pull_request,closed,,Fix webhook e2e test setup,"### Description

This makes our webhook tests work no matter what order they execute. Previously, if we had 2 webhook tests on the same runner, the second would fail, because we assert on the number of webhook requests received.

![Screen Shot 2025-01-22 at 12 41 36 PM](https://github.com/user-attachments/assets/17e41d64-09ed-4658-94e3-bf406ecd0b74)

This adds a helper `H.resetWebhookTester()` that can be called before any webhook tests to get us back to a fresh state.",iethree,2025-01-22 19:43:45+00:00,['iethree'],2025-01-27 22:10:50+00:00,2025-01-22 20:10:24+00:00,https://github.com/metabase/metabase/pull/52538,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]",[],
2805074648,pull_request,closed,,"🤖 backported ""Fix numeric parameter value parsing when there are no connected database fields""",#52484,github-automation-metabase,2025-01-22 18:28:08+00:00,"['ranquild', 'github-automation-metabase']",2025-01-22 23:23:30+00:00,2025-01-22 22:17:55+00:00,https://github.com/metabase/metabase/pull/52536,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2608084011, 'issue_id': 2805074648, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3570_tests-f028e7b2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52536?repo=metabase/metabase&commitHash=f028e7b24747356bf1ef2ed59755b40af3498513&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52536?repo=metabase/metabase&commitHash=f028e7b24747356bf1ef2ed59755b40af3498513&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52536?repo=metabase/metabase&commitHash=f028e7b24747356bf1ef2ed59755b40af3498513&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52536?repo=metabase/metabase&commitHash=f028e7b24747356bf1ef2ed59755b40af3498513&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52536?repo=metabase/metabase&commitHash=f028e7b24747356bf1ef2ed59755b40af3498513&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 19, 24, 7, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 19:24:07 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3570_tests-f028e7b2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52536?repo=metabase/metabase&commitHash=f028e7b24747356bf1ef2ed59755b40af3498513&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52536?repo=metabase/metabase&commitHash=f028e7b24747356bf1ef2ed59755b40af3498513&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52536?repo=metabase/metabase&commitHash=f028e7b24747356bf1ef2ed59755b40af3498513&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52536?repo=metabase/metabase&commitHash=f028e7b24747356bf1ef2ed59755b40af3498513&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52536?repo=metabase/metabase&commitHash=f028e7b24747356bf1ef2ed59755b40af3498513&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2804977172,pull_request,closed,,Ignore result-columns for saved questions,"Fixes #52521.

The result-columns of saved pivot questions are a mess, the names and the effective types don't match the values. Instead of using these columns, we generate the columns from the dataset-query field.

The assumption is that the result-columns for saved questions (but not for models) don't play an important role.
",metamben,2025-01-22 17:37:08+00:00,['metamben'],2025-01-22 21:16:31+00:00,2025-01-22 21:16:29+00:00,https://github.com/metabase/metabase/pull/52535,"[('.Team/Querying', ''), ('Metabot/Tools', 'Tools that are agnostic of the LLM framework itself, could be reused for notifications framework als')]","[{'comment_id': 2607952325, 'issue_id': 2804977172, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/74980_tests-f6f65304-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52535?repo=metabase/metabase&commitHash=f6f6530443976b302c7b6d5f85a3ec0157fe4772&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52535?repo=metabase/metabase&commitHash=f6f6530443976b302c7b6d5f85a3ec0157fe4772&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52535?repo=metabase/metabase&commitHash=f6f6530443976b302c7b6d5f85a3ec0157fe4772&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52535?repo=metabase/metabase&commitHash=f6f6530443976b302c7b6d5f85a3ec0157fe4772&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>e2e-storage-ingestion-test</code> | Expected entity to match, but actual entity has unexpected table\\_id and name. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52535?repo=metabase/metabase&commitHash=f6f6530443976b302c7b6d5f85a3ec0157fe4772&utm_source=gh-comment&runConclusion=FAILURE&runId=92a4f5ab-19cc-51cc-bc71-e4561da47cda) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52535?repo=metabase/metabase&commitHash=f6f6530443976b302c7b6d5f85a3ec0157fe4772&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 18, 20, 49, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 18:20:49 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/74980_tests-f6f65304-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52535?repo=metabase/metabase&commitHash=f6f6530443976b302c7b6d5f85a3ec0157fe4772&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52535?repo=metabase/metabase&commitHash=f6f6530443976b302c7b6d5f85a3ec0157fe4772&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52535?repo=metabase/metabase&commitHash=f6f6530443976b302c7b6d5f85a3ec0157fe4772&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52535?repo=metabase/metabase&commitHash=f6f6530443976b302c7b6d5f85a3ec0157fe4772&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>e2e-storage-ingestion-test</code> | Expected entity to match, but actual entity has unexpected table\_id and name. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52535?repo=metabase/metabase&commitHash=f6f6530443976b302c7b6d5f85a3ec0157fe4772&utm_source=gh-comment&runConclusion=FAILURE&runId=92a4f5ab-19cc-51cc-bc71-e4561da47cda) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52535?repo=metabase/metabase&commitHash=f6f6530443976b302c7b6d5f85a3ec0157fe4772&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2804946577,pull_request,closed,,Register prometheus endpoint metrics,"Without initializing these metrics, we're throwing hidden exceptions when scraping the endpoint. We're also flying blind as far as looking at these diagnostics.

### Before

```
2025-01-22 17:21:01,440 WARN server.HttpChannel :: /favicon.ico
java.lang.AssertionError: Assert failed: (instance? ExceptionCounterChild child)
	at iapetos.collector.exceptions$record_exception_BANG_.invokeStatic(exceptions.clj:70)
	at iapetos.collector.exceptions$record_exception_BANG_.invoke(exceptions.clj:70)
	at iapetos.collector.ring$run_instrumented.invokeStatic(ring.clj:133)
    ...
```

(this is logged even on succesful API calls, at least in dev)

### After

*crickets*

See: [prometheus wrapper docs](https://github.com/clj-commons/iapetos#ring-)",crisptrutski,2025-01-22 17:21:56+00:00,['crisptrutski'],2025-01-23 09:00:45+00:00,2025-01-23 08:24:18+00:00,https://github.com/metabase/metabase/pull/52534,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2607898342, 'issue_id': 2804946577, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `02bf284b01c9adc242e38fca0677d971072b17ac-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12913858878?pr=52534)\n\n  File | Test Name\n  ---- | ---------\n  `permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)', 'created_at': datetime.datetime(2025, 1, 22, 17, 54, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607920617, 'issue_id': 2804946577, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/79266_tests-02bf284b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52534?repo=metabase/metabase&commitHash=02bf284b01c9adc242e38fca0677d971072b17ac&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/6-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52534?repo=metabase/metabase&commitHash=02bf284b01c9adc242e38fca0677d971072b17ac&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52534?repo=metabase/metabase&commitHash=02bf284b01c9adc242e38fca0677d971072b17ac&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52534?repo=metabase/metabase&commitHash=02bf284b01c9adc242e38fca0677d971072b17ac&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\#24966)</code> | The \'body\' property was accessed on an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52534?repo=metabase/metabase&commitHash=02bf284b01c9adc242e38fca0677d971072b17ac&utm_source=gh-comment&runConclusion=FAILURE&runId=7a57e919-5976-56f2-9cd5-37ac54728c15) |\n| <code>comparison-test-5</code> | BigQuery request failed with 503 Service Unavailable error. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52534?repo=metabase/metabase&commitHash=02bf284b01c9adc242e38fca0677d971072b17ac&utm_source=gh-comment&runConclusion=FAILURE&runId=e4c7f7a6-1299-5e55-9155-1ed98aeb4a32) |\n| <code>scenarios > metrics > search should see metrics in recent items in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4 seconds. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52534?repo=metabase/metabase&commitHash=02bf284b01c9adc242e38fca0677d971072b17ac&utm_source=gh-comment&runConclusion=FAILURE&runId=e96b8c90-fcba-588a-8116-38a45b58724c) |\n| <code>scenarios > metrics > search should be able to search for metrics on the search page</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52534?repo=metabase/metabase&commitHash=02bf284b01c9adc242e38fca0677d971072b17ac&utm_source=gh-comment&runConclusion=FAILURE&runId=491fabf1-0b4a-5ab2-bf91-ab557160ed0f) |\n\n[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/52534?repo=metabase/metabase&commitHash=02bf284b01c9adc242e38fca0677d971072b17ac&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52534?repo=metabase/metabase&commitHash=02bf284b01c9adc242e38fca0677d971072b17ac&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 18, 5, 8, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-22 17:54:05 UTC): ## e2e tests failed on `02bf284b01c9adc242e38fca0677d971072b17ac-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12913858878?pr=52534)

  File | Test Name
  ---- | ---------
  `permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)

trunk-io[bot] on (2025-01-22 18:05:08 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/79266_tests-02bf284b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52534?repo=metabase/metabase&commitHash=02bf284b01c9adc242e38fca0677d971072b17ac&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/6-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52534?repo=metabase/metabase&commitHash=02bf284b01c9adc242e38fca0677d971072b17ac&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52534?repo=metabase/metabase&commitHash=02bf284b01c9adc242e38fca0677d971072b17ac&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52534?repo=metabase/metabase&commitHash=02bf284b01c9adc242e38fca0677d971072b17ac&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52534?repo=metabase/metabase&commitHash=02bf284b01c9adc242e38fca0677d971072b17ac&utm_source=gh-comment&runConclusion=FAILURE&runId=7a57e919-5976-56f2-9cd5-37ac54728c15) |
| <code>comparison-test-5</code> | BigQuery request failed with 503 Service Unavailable error. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52534?repo=metabase/metabase&commitHash=02bf284b01c9adc242e38fca0677d971072b17ac&utm_source=gh-comment&runConclusion=FAILURE&runId=e4c7f7a6-1299-5e55-9155-1ed98aeb4a32) |
| <code>scenarios > metrics > search should see metrics in recent items in global search</code> | Unable to find an accessible element with the role ""option"" and name ""Count of orders"" within 4 seconds. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52534?repo=metabase/metabase&commitHash=02bf284b01c9adc242e38fca0677d971072b17ac&utm_source=gh-comment&runConclusion=FAILURE&runId=e96b8c90-fcba-588a-8116-38a45b58724c) |
| <code>scenarios > metrics > search should be able to search for metrics on the search page</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52534?repo=metabase/metabase&commitHash=02bf284b01c9adc242e38fca0677d971072b17ac&utm_source=gh-comment&runConclusion=FAILURE&runId=491fabf1-0b4a-5ab2-bf91-ab557160ed0f) |

[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/52534?repo=metabase/metabase&commitHash=02bf284b01c9adc242e38fca0677d971072b17ac&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52534?repo=metabase/metabase&commitHash=02bf284b01c9adc242e38fca0677d971072b17ac&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2804895917,pull_request,closed,,Paginate the DQ candidates endpoints,,johnswanson,2025-01-22 16:57:25+00:00,['johnswanson'],2025-01-27 22:10:37+00:00,2025-01-23 18:57:01+00:00,https://github.com/metabase/metabase/pull/52533,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2607891144, 'issue_id': 2804895917, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/115445_tests-8988f82a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52533?repo=metabase/metabase&commitHash=8988f82a1ae4e2b5bf36148425cb4b82a4a10d16&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52533?repo=metabase/metabase&commitHash=8988f82a1ae4e2b5bf36148425cb4b82a4a10d16&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52533?repo=metabase/metabase&commitHash=8988f82a1ae4e2b5bf36148425cb4b82a4a10d16&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52533?repo=metabase/metabase&commitHash=8988f82a1ae4e2b5bf36148425cb4b82a4a10d16&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution for the date-string->range-spec-test. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52533?repo=metabase/metabase&commitHash=8988f82a1ae4e2b5bf36148425cb4b82a4a10d16&utm_source=gh-comment&runConclusion=FAILURE&runId=16cb1566-d549-530a-a36d-7b871ca8f76c) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52533?repo=metabase/metabase&commitHash=8988f82a1ae4e2b5bf36148425cb4b82a4a10d16&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 17, 50, 29, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 17:50:29 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/115445_tests-8988f82a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52533?repo=metabase/metabase&commitHash=8988f82a1ae4e2b5bf36148425cb4b82a4a10d16&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52533?repo=metabase/metabase&commitHash=8988f82a1ae4e2b5bf36148425cb4b82a4a10d16&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52533?repo=metabase/metabase&commitHash=8988f82a1ae4e2b5bf36148425cb4b82a4a10d16&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52533?repo=metabase/metabase&commitHash=8988f82a1ae4e2b5bf36148425cb4b82a4a10d16&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution for the date-string->range-spec-test. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52533?repo=metabase/metabase&commitHash=8988f82a1ae4e2b5bf36148425cb4b82a4a10d16&utm_source=gh-comment&runConclusion=FAILURE&runId=16cb1566-d549-530a-a36d-7b871ca8f76c) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52533?repo=metabase/metabase&commitHash=8988f82a1ae4e2b5bf36148425cb4b82a4a10d16&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2804894861,pull_request,closed,,Remove flaky test automation,"This never really worked very well. Now it's just creating noise. 

We can and should resurrect this as part of our project management tool eventually.",iethree,2025-01-22 16:56:55+00:00,['iethree'],2025-01-27 22:10:55+00:00,2025-01-22 17:24:13+00:00,https://github.com/metabase/metabase/pull/52532,"[('.CI & Tests', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team'), ('.Team/DevEx', '')]",[],
2804829195,pull_request,closed,,Exclude `e2e-tests-result` from Slack notifications,Resolves [DEVX-74](https://linear.app/metabase-inc/issue/DEVX-74/exclude-tests-result-and-flaky-tests-from-ci-failure-notifications),nemanjaglumac,2025-01-22 16:27:37+00:00,['nemanjaglumac'],2025-01-27 22:10:53+00:00,2025-01-22 17:50:24+00:00,https://github.com/metabase/metabase/pull/52530,"[('.CI & Tests', ''), ('no-backport', 'Do not backport this PR to any branch')]",[],
2804762911,pull_request,closed,,[WIP] Make public question endpoints work with more than 10 parameters,"Fixes https://github.com/metabase/metabase/issues/51813

As described in the issue, we cannot send parameter objects via the URL. As previously discussed, the solution is to introduce `POST` endpoints to execute public card queries while keeping the old ones for backward compatibility. 

We already have e2e tests for public questions and their download options. But nothing for public pivot tables so I added an e2e test. Also made sure that the new endpoints are covered with at least some BE tests.
",ranquild,2025-01-22 15:58:06+00:00,['ranquild'],2025-01-23 03:34:39+00:00,2025-01-23 03:34:35+00:00,https://github.com/metabase/metabase/pull/52529,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2607809982, 'issue_id': 2804762911, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/122112_tests-b937d225-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52529?repo=metabase/metabase&commitHash=b937d22528cc5375f31375c993e350a3eb9ac194&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52529?repo=metabase/metabase&commitHash=b937d22528cc5375f31375c993e350a3eb9ac194&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52529?repo=metabase/metabase&commitHash=b937d22528cc5375f31375c993e350a3eb9ac194&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52529?repo=metabase/metabase&commitHash=b937d22528cc5375f31375c993e350a3eb9ac194&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>get-database-can-upload-test</code> | The schema ""metabase\\_cache\\_d14a8\\_142"" was dropped by a concurrent transaction. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52529?repo=metabase/metabase&commitHash=b937d22528cc5375f31375c993e350a3eb9ac194&utm_source=gh-comment&runConclusion=FAILURE&runId=e0be2040-15cf-5578-8e9f-5026cf59f9b0) |\n| <code>scenarios > public > question adds filters to url as get params and renders the results correctly (metabase\\#7120, metabase\\#17033, metabase\\#21993)</code> | The expected value 0 did not match the actual value 5. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52529?repo=metabase/metabase&commitHash=b937d22528cc5375f31375c993e350a3eb9ac194&utm_source=gh-comment&runConclusion=FAILURE&runId=719e09aa-d14c-5757-9245-51cca0f09cbe) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52529?repo=metabase/metabase&commitHash=b937d22528cc5375f31375c993e350a3eb9ac194&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 17, 12, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608653646, 'issue_id': 2804762911, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `79fc70f3a14bc1bb4128ca619d100c626c57ad7a-3`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12917561021?pr=52529)\n\n  File | Test Name\n  ---- | ---------\n  `public-question.cy.spec.js` | scenarios > public > question > adds filters to url as get params and renders the results correctly (metabase#7120, metabase#17033, metabase#21993)', 'created_at': datetime.datetime(2025, 1, 23, 1, 32, 13, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 17:12:24 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/122112_tests-b937d225-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52529?repo=metabase/metabase&commitHash=b937d22528cc5375f31375c993e350a3eb9ac194&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52529?repo=metabase/metabase&commitHash=b937d22528cc5375f31375c993e350a3eb9ac194&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52529?repo=metabase/metabase&commitHash=b937d22528cc5375f31375c993e350a3eb9ac194&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52529?repo=metabase/metabase&commitHash=b937d22528cc5375f31375c993e350a3eb9ac194&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>get-database-can-upload-test</code> | The schema ""metabase\_cache\_d14a8\_142"" was dropped by a concurrent transaction. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52529?repo=metabase/metabase&commitHash=b937d22528cc5375f31375c993e350a3eb9ac194&utm_source=gh-comment&runConclusion=FAILURE&runId=e0be2040-15cf-5578-8e9f-5026cf59f9b0) |
| <code>scenarios > public > question adds filters to url as get params and renders the results correctly (metabase\#7120, metabase\#17033, metabase\#21993)</code> | The expected value 0 did not match the actual value 5. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52529?repo=metabase/metabase&commitHash=b937d22528cc5375f31375c993e350a3eb9ac194&utm_source=gh-comment&runConclusion=FAILURE&runId=719e09aa-d14c-5757-9245-51cca0f09cbe) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52529?repo=metabase/metabase&commitHash=b937d22528cc5375f31375c993e350a3eb9ac194&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-23 01:32:13 UTC): ## e2e tests failed on `79fc70f3a14bc1bb4128ca619d100c626c57ad7a-3`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12917561021?pr=52529)

  File | Test Name
  ---- | ---------
  `public-question.cy.spec.js` | scenarios > public > question > adds filters to url as get params and renders the results correctly (metabase#7120, metabase#17033, metabase#21993)

"
2804745406,pull_request,closed,,"Use integers for report_id, strings for table_id",,metamben,2025-01-22 15:50:49+00:00,['metamben'],2025-01-22 17:40:49+00:00,2025-01-22 17:28:11+00:00,https://github.com/metabase/metabase/pull/52528,"[('.Team/Querying', ''), ('Metabot/Tools', 'Tools that are agnostic of the LLM framework itself, could be reused for notifications framework als')]","[{'comment_id': 2607696726, 'issue_id': 2804745406, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/83755_tests-a0343c8e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52528?repo=metabase/metabase&commitHash=a0343c8ee560a7ccfba5b8a66798efbacc443477&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52528?repo=metabase/metabase&commitHash=a0343c8ee560a7ccfba5b8a66798efbacc443477&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52528?repo=metabase/metabase&commitHash=a0343c8ee560a7ccfba5b8a66798efbacc443477&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52528?repo=metabase/metabase&commitHash=a0343c8ee560a7ccfba5b8a66798efbacc443477&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52528?repo=metabase/metabase&commitHash=a0343c8ee560a7ccfba5b8a66798efbacc443477&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 16, 24, 45, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 16:24:45 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/83755_tests-a0343c8e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52528?repo=metabase/metabase&commitHash=a0343c8ee560a7ccfba5b8a66798efbacc443477&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52528?repo=metabase/metabase&commitHash=a0343c8ee560a7ccfba5b8a66798efbacc443477&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52528?repo=metabase/metabase&commitHash=a0343c8ee560a7ccfba5b8a66798efbacc443477&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52528?repo=metabase/metabase&commitHash=a0343c8ee560a7ccfba5b8a66798efbacc443477&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52528?repo=metabase/metabase&commitHash=a0343c8ee560a7ccfba5b8a66798efbacc443477&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2804705086,pull_request,closed,,"🤖 backported ""Better error messages when embedding against oss""",#52445,github-automation-metabase,2025-01-22 15:33:36+00:00,"['dpsutton', 'github-automation-metabase']",2025-01-22 17:33:26+00:00,2025-01-22 16:21:09+00:00,https://github.com/metabase/metabase/pull/52527,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2607682808, 'issue_id': 2804705086, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/75086_tests-36c85093-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52527?repo=metabase/metabase&commitHash=36c850933f38996244fe5cc1fafe3b9442c6896a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52527?repo=metabase/metabase&commitHash=36c850933f38996244fe5cc1fafe3b9442c6896a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52527?repo=metabase/metabase&commitHash=36c850933f38996244fe5cc1fafe3b9442c6896a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52527?repo=metabase/metabase&commitHash=36c850933f38996244fe5cc1fafe3b9442c6896a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>quick-run-through</code> | Unique index or primary key violation occurred during model indexing. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52527?repo=metabase/metabase&commitHash=36c850933f38996244fe5cc1fafe3b9442c6896a&utm_source=gh-comment&runConclusion=FAILURE&runId=9dbe127e-b0e5-58d4-b172-845cf27d5417) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52527?repo=metabase/metabase&commitHash=36c850933f38996244fe5cc1fafe3b9442c6896a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 16, 19, 10, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 16:19:10 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/75086_tests-36c85093-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52527?repo=metabase/metabase&commitHash=36c850933f38996244fe5cc1fafe3b9442c6896a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52527?repo=metabase/metabase&commitHash=36c850933f38996244fe5cc1fafe3b9442c6896a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52527?repo=metabase/metabase&commitHash=36c850933f38996244fe5cc1fafe3b9442c6896a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52527?repo=metabase/metabase&commitHash=36c850933f38996244fe5cc1fafe3b9442c6896a&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>quick-run-through</code> | Unique index or primary key violation occurred during model indexing. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52527?repo=metabase/metabase&commitHash=36c850933f38996244fe5cc1fafe3b9442c6896a&utm_source=gh-comment&runConclusion=FAILURE&runId=9dbe127e-b0e5-58d4-b172-845cf27d5417) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52527?repo=metabase/metabase&commitHash=36c850933f38996244fe5cc1fafe3b9442c6896a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2804693331,pull_request,closed,,Default card title no longer flashes when CPU is slow,"Closes #50044

### Description

Avoids defaulting to the card's first series' name

### How to verify
1) create a dashboard with 1 card
2) change the card name
3) go to the performance section of the browser and make the cpu 4x slower
4) refresh the dashboard and see the card only shows its custom title

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",lorem--ipsum,2025-01-22 15:28:46+00:00,['lorem--ipsum'],2025-01-29 16:40:33+00:00,2025-01-29 16:40:32+00:00,https://github.com/metabase/metabase/pull/52526,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2607559023, 'issue_id': 2804693331, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff a034598d144231befa096575de675d9ff723ae6a...969015f7e0e0c00bac13529c168cb258df797d28.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartCaption.tsx<br>frontend/src/metabase/visualizations/components/ChartCaption.unit.spec.tsx<br>frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx |', 'created_at': datetime.datetime(2025, 1, 22, 15, 30, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607722593, 'issue_id': 2804693331, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/22959_tests-969015f7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52526?repo=metabase/metabase&commitHash=969015f7e0e0c00bac13529c168cb258df797d28&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52526?repo=metabase/metabase&commitHash=969015f7e0e0c00bac13529c168cb258df797d28&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52526?repo=metabase/metabase&commitHash=969015f7e0e0c00bac13529c168cb258df797d28&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52526?repo=metabase/metabase&commitHash=969015f7e0e0c00bac13529c168cb258df797d28&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > dashboard > dashboard back navigation should restore a dashboard with loading cards and re-fetch query data</code> | The test timed out while trying to find an element with the text ""Sleep card"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52526?repo=metabase/metabase&commitHash=969015f7e0e0c00bac13529c168cb258df797d28&utm_source=gh-comment&runConclusion=FAILURE&runId=b42bf469-0d2e-5702-a41e-65a029d8860c) |\n| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52526?repo=metabase/metabase&commitHash=969015f7e0e0c00bac13529c168cb258df797d28&utm_source=gh-comment&runConclusion=FAILURE&runId=3ff1c4ba-9262-5660-a65f-063e24192064) |\n| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52526?repo=metabase/metabase&commitHash=969015f7e0e0c00bac13529c168cb258df797d28&utm_source=gh-comment&runConclusion=FAILURE&runId=2f5faca9-a83e-528d-b8c0-66a3ad7ccf95) |\n| <code>scenarios > dashboard > dashboard back navigation should restore a dashboard with loading cards and re-fetch query data</code> | The test timed out while trying to find an element with the text ""Sleep card"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52526?repo=metabase/metabase&commitHash=969015f7e0e0c00bac13529c168cb258df797d28&utm_source=gh-comment&runConclusion=FAILURE&runId=f0b8218e-13f5-5446-b1a2-17206ac4e960) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52526?repo=metabase/metabase&commitHash=969015f7e0e0c00bac13529c168cb258df797d28&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 16, 35, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2621169149, 'issue_id': 2804693331, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `969015f7e0e0c00bac13529c168cb258df797d28-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13028477330?pr=52526)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-back-navigation.cy.spec.js` | scenarios > dashboard > dashboard back navigation > should restore a dashboard with loading cards and re-fetch query data', 'created_at': datetime.datetime(2025, 1, 29, 9, 55, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622158002, 'issue_id': 2804693331, 'author': 'lorem--ipsum', 'body': 'Closing this as it requires broader changes than initially envisioned, i.e. we would need to change how settings vs. series are loaded at the visualization level.', 'created_at': datetime.datetime(2025, 1, 29, 16, 40, 32, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-22 15:30:24 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff a034598d144231befa096575de675d9ff723ae6a...969015f7e0e0c00bac13529c168cb258df797d28.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartCaption.tsx<br>frontend/src/metabase/visualizations/components/ChartCaption.unit.spec.tsx<br>frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx |

trunk-io[bot] on (2025-01-22 16:35:27 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/22959_tests-969015f7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52526?repo=metabase/metabase&commitHash=969015f7e0e0c00bac13529c168cb258df797d28&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52526?repo=metabase/metabase&commitHash=969015f7e0e0c00bac13529c168cb258df797d28&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52526?repo=metabase/metabase&commitHash=969015f7e0e0c00bac13529c168cb258df797d28&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52526?repo=metabase/metabase&commitHash=969015f7e0e0c00bac13529c168cb258df797d28&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > dashboard > dashboard back navigation should restore a dashboard with loading cards and re-fetch query data</code> | The test timed out while trying to find an element with the text ""Sleep card"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52526?repo=metabase/metabase&commitHash=969015f7e0e0c00bac13529c168cb258df797d28&utm_source=gh-comment&runConclusion=FAILURE&runId=b42bf469-0d2e-5702-a41e-65a029d8860c) |
| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52526?repo=metabase/metabase&commitHash=969015f7e0e0c00bac13529c168cb258df797d28&utm_source=gh-comment&runConclusion=FAILURE&runId=3ff1c4ba-9262-5660-a65f-063e24192064) |
| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52526?repo=metabase/metabase&commitHash=969015f7e0e0c00bac13529c168cb258df797d28&utm_source=gh-comment&runConclusion=FAILURE&runId=2f5faca9-a83e-528d-b8c0-66a3ad7ccf95) |
| <code>scenarios > dashboard > dashboard back navigation should restore a dashboard with loading cards and re-fetch query data</code> | The test timed out while trying to find an element with the text ""Sleep card"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52526?repo=metabase/metabase&commitHash=969015f7e0e0c00bac13529c168cb258df797d28&utm_source=gh-comment&runConclusion=FAILURE&runId=f0b8218e-13f5-5446-b1a2-17206ac4e960) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52526?repo=metabase/metabase&commitHash=969015f7e0e0c00bac13529c168cb258df797d28&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-29 09:55:54 UTC): ## e2e tests failed on `969015f7e0e0c00bac13529c168cb258df797d28-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13028477330?pr=52526)

  File | Test Name
  ---- | ---------
  `dashboard-back-navigation.cy.spec.js` | scenarios > dashboard > dashboard back navigation > should restore a dashboard with loading cards and re-fetch query data

lorem--ipsum (Issue Creator) on (2025-01-29 16:40:32 UTC): Closing this as it requires broader changes than initially envisioned, i.e. we would need to change how settings vs. series are loaded at the visualization level.

"
2804569784,pull_request,open,,Delete indexed model search entries using cascade,"Currently we synchronously update the searchable entities when models are indexed, but the entries are left there if we turn off indexing.

Since there may be millions of these records, its not practical to queue up all their ids, but we can leverage the fact that our index is in the same database.

This won't work for future engines, but we can cross that bridge when we get to it. One idea is to update `search/delete!` to take an arbitrary attr rather than assuming its the id. ",crisptrutski,2025-01-22 14:39:55+00:00,['crisptrutski'],2025-01-23 09:13:30+00:00,,https://github.com/metabase/metabase/pull/52524,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2607530608, 'issue_id': 2804569784, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/85954_tests-24ab1508-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52524?repo=metabase/metabase&commitHash=24ab150807bea0529948a4faebfab0b0624b1373&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/5-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52524?repo=metabase/metabase&commitHash=24ab150807bea0529948a4faebfab0b0624b1373&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52524?repo=metabase/metabase&commitHash=24ab150807bea0529948a4faebfab0b0624b1373&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52524?repo=metabase/metabase&commitHash=24ab150807bea0529948a4faebfab0b0624b1373&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>bookmark-test</code> | A deadlock was detected in the database, causing a transaction to be aborted. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52524?repo=metabase/metabase&commitHash=24ab150807bea0529948a4faebfab0b0624b1373&utm_source=gh-comment&runConclusion=FAILURE&runId=bea0d4e2-c84f-56ad-bd55-6f92103e4b88) |\n| <code>bookmark-test</code> | Deadlock detected in the database, transaction is aborted. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52524?repo=metabase/metabase&commitHash=24ab150807bea0529948a4faebfab0b0624b1373&utm_source=gh-comment&runConclusion=FAILURE&runId=b8a6e2dd-de3f-5e27-a65a-b4bc14917711) |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\#24966)</code> | The \'body\' property was accessed on an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52524?repo=metabase/metabase&commitHash=24ab150807bea0529948a4faebfab0b0624b1373&utm_source=gh-comment&runConclusion=FAILURE&runId=c792d9aa-0eba-5d34-8ea4-090d40a8e119) |\n| <code>user-recency-test</code> | A deadlock was detected in the database, causing a transaction to be aborted. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52524?repo=metabase/metabase&commitHash=24ab150807bea0529948a4faebfab0b0624b1373&utm_source=gh-comment&runConclusion=FAILURE&runId=eb3d2dc1-dcf7-5778-a55d-0baa0adeafd5) |\n\n[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52524?repo=metabase/metabase&commitHash=24ab150807bea0529948a4faebfab0b0624b1373&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > native question > data reference sidebar should show models</code> | Unable to find an element with the text ""2 models"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52524?repo=metabase/metabase&commitHash=24ab150807bea0529948a4faebfab0b0624b1373&utm_source=gh-comment&runConclusion=FAILURE&runId=1950515c-063e-585e-bf7d-714cc5b9dbfa) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52524?repo=metabase/metabase&commitHash=24ab150807bea0529948a4faebfab0b0624b1373&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 15, 19, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607678873, 'issue_id': 2804569784, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `24ab150807bea0529948a4faebfab0b0624b1373-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12912148643?pr=52524)\n\n  File | Test Name\n  ---- | ---------\n  `permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)', 'created_at': datetime.datetime(2025, 1, 22, 16, 17, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607841157, 'issue_id': 2804569784, 'author': 'crisptrutski', 'body': ""Seeing deadlock flakes... that seems new, and I'm worried it's related.\r\n\r\nDon't merge until we've looked in that."", 'created_at': datetime.datetime(2025, 1, 22, 17, 26, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609253274, 'issue_id': 2804569784, 'author': 'crisptrutski', 'body': 'I could go back to the more generic solution of explicitly deleting the rows via a generalize `search/delete!` API which takes the attr to match on, but that was less reliable in my testing.', 'created_at': datetime.datetime(2025, 1, 23, 9, 13, 29, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 15:19:36 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/85954_tests-24ab1508-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52524?repo=metabase/metabase&commitHash=24ab150807bea0529948a4faebfab0b0624b1373&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/5-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52524?repo=metabase/metabase&commitHash=24ab150807bea0529948a4faebfab0b0624b1373&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52524?repo=metabase/metabase&commitHash=24ab150807bea0529948a4faebfab0b0624b1373&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52524?repo=metabase/metabase&commitHash=24ab150807bea0529948a4faebfab0b0624b1373&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>bookmark-test</code> | A deadlock was detected in the database, causing a transaction to be aborted. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52524?repo=metabase/metabase&commitHash=24ab150807bea0529948a4faebfab0b0624b1373&utm_source=gh-comment&runConclusion=FAILURE&runId=bea0d4e2-c84f-56ad-bd55-6f92103e4b88) |
| <code>bookmark-test</code> | Deadlock detected in the database, transaction is aborted. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52524?repo=metabase/metabase&commitHash=24ab150807bea0529948a4faebfab0b0624b1373&utm_source=gh-comment&runConclusion=FAILURE&runId=b8a6e2dd-de3f-5e27-a65a-b4bc14917711) |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52524?repo=metabase/metabase&commitHash=24ab150807bea0529948a4faebfab0b0624b1373&utm_source=gh-comment&runConclusion=FAILURE&runId=c792d9aa-0eba-5d34-8ea4-090d40a8e119) |
| <code>user-recency-test</code> | A deadlock was detected in the database, causing a transaction to be aborted. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52524?repo=metabase/metabase&commitHash=24ab150807bea0529948a4faebfab0b0624b1373&utm_source=gh-comment&runConclusion=FAILURE&runId=eb3d2dc1-dcf7-5778-a55d-0baa0adeafd5) |

[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/52524?repo=metabase/metabase&commitHash=24ab150807bea0529948a4faebfab0b0624b1373&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > native question > data reference sidebar should show models</code> | Unable to find an element with the text ""2 models"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52524?repo=metabase/metabase&commitHash=24ab150807bea0529948a4faebfab0b0624b1373&utm_source=gh-comment&runConclusion=FAILURE&runId=1950515c-063e-585e-bf7d-714cc5b9dbfa) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52524?repo=metabase/metabase&commitHash=24ab150807bea0529948a4faebfab0b0624b1373&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-22 16:17:34 UTC): ## e2e tests failed on `24ab150807bea0529948a4faebfab0b0624b1373-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12912148643?pr=52524)

  File | Test Name
  ---- | ---------
  `permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)

crisptrutski (Issue Creator) on (2025-01-22 17:26:42 UTC): Seeing deadlock flakes... that seems new, and I'm worried it's related.

Don't merge until we've looked in that.

crisptrutski (Issue Creator) on (2025-01-23 09:13:29 UTC): I could go back to the more generic solution of explicitly deleting the rows via a generalize `search/delete!` API which takes the attr to match on, but that was less reliable in my testing.

"
2804446761,pull_request,closed,,Add standalone test for the create-dashboard-subscription tool,,metamben,2025-01-22 13:49:04+00:00,['metamben'],2025-01-22 17:39:07+00:00,2025-01-22 17:27:50+00:00,https://github.com/metabase/metabase/pull/52519,"[('Metabot/Tools', 'Tools that are agnostic of the LLM framework itself, could be reused for notifications framework als')]","[{'comment_id': 2607380068, 'issue_id': 2804446761, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/90453_tests-d1e41da4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52519?repo=metabase/metabase&commitHash=d1e41da4667ef9956d57823484fc469c10bde2cc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52519?repo=metabase/metabase&commitHash=d1e41da4667ef9956d57823484fc469c10bde2cc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52519?repo=metabase/metabase&commitHash=d1e41da4667ef9956d57823484fc469c10bde2cc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52519?repo=metabase/metabase&commitHash=d1e41da4667ef9956d57823484fc469c10bde2cc&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>question loading changes document title should verify document title changes while loading a slow question (metabase\\#40051)</code> | The expected text 'Doing science... · Metabase' was not displayed within 4000ms, causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52519?repo=metabase/metabase&commitHash=d1e41da4667ef9956d57823484fc469c10bde2cc&utm_source=gh-comment&runConclusion=FAILURE&runId=e6934e26-919f-5fc9-aab1-111c271c0fab) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52519?repo=metabase/metabase&commitHash=d1e41da4667ef9956d57823484fc469c10bde2cc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 22, 14, 21, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607657069, 'issue_id': 2804446761, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `d1e41da4667ef9956d57823484fc469c10bde2cc-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12911917163?pr=52519)\n\n  File | Test Name\n  ---- | ---------\n  `document-title.cy.spec.js` | question loading changes document title > should verify document title changes while loading a slow question (metabase#40051)', 'created_at': datetime.datetime(2025, 1, 22, 16, 8, 52, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 14:21:47 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/90453_tests-d1e41da4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52519?repo=metabase/metabase&commitHash=d1e41da4667ef9956d57823484fc469c10bde2cc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52519?repo=metabase/metabase&commitHash=d1e41da4667ef9956d57823484fc469c10bde2cc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52519?repo=metabase/metabase&commitHash=d1e41da4667ef9956d57823484fc469c10bde2cc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52519?repo=metabase/metabase&commitHash=d1e41da4667ef9956d57823484fc469c10bde2cc&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>question loading changes document title should verify document title changes while loading a slow question (metabase\#40051)</code> | The expected text 'Doing science... · Metabase' was not displayed within 4000ms, causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52519?repo=metabase/metabase&commitHash=d1e41da4667ef9956d57823484fc469c10bde2cc&utm_source=gh-comment&runConclusion=FAILURE&runId=e6934e26-919f-5fc9-aab1-111c271c0fab) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52519?repo=metabase/metabase&commitHash=d1e41da4667ef9956d57823484fc469c10bde2cc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-22 16:08:52 UTC): ## e2e tests failed on `d1e41da4667ef9956d57823484fc469c10bde2cc-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12911917163?pr=52519)

  File | Test Name
  ---- | ---------
  `document-title.cy.spec.js` | question loading changes document title > should verify document title changes while loading a slow question (metabase#40051)

"
2804379411,pull_request,closed,,"🤖 backported ""fix flaky test ""","  #52510
",github-automation-metabase,2025-01-22 13:20:37+00:00,"['filiphric', 'github-automation-metabase']",2025-01-23 15:10:41+00:00,2025-01-23 15:10:40+00:00,https://github.com/metabase/metabase/pull/52518,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2607404191, 'issue_id': 2804379411, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3893_tests-53327f37-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52518?repo=metabase/metabase&commitHash=53327f375d48d792f10407f5e34357556c50b464&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52518?repo=metabase/metabase&commitHash=53327f375d48d792f10407f5e34357556c50b464&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52518?repo=metabase/metabase&commitHash=53327f375d48d792f10407f5e34357556c50b464&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52518?repo=metabase/metabase&commitHash=53327f375d48d792f10407f5e34357556c50b464&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\\#37726)</code> | The test timed out while trying to find an element with the text ""Product → Category"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52518?repo=metabase/metabase&commitHash=53327f375d48d792f10407f5e34357556c50b464&utm_source=gh-comment&runConclusion=FAILURE&runId=fb8bdee0-d2a6-5a87-bb2e-6815a4b99321) |\n| <code>scenarios > collections > clean up ee clean up collection modal should be able to clean up stale items</code> | The element <div.emotion-Group-root.emotion-1plzo5d> was expected to not exist in the DOM, but it was found continuously. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52518?repo=metabase/metabase&commitHash=53327f375d48d792f10407f5e34357556c50b464&utm_source=gh-comment&runConclusion=FAILURE&runId=64caaf90-74d6-5343-bc7d-6192f1f8e8f5) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52518?repo=metabase/metabase&commitHash=53327f375d48d792f10407f5e34357556c50b464&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 14, 31, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608031148, 'issue_id': 2804379411, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `53327f375d48d792f10407f5e34357556c50b464-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12914964806?pr=52518)\n\n  File | Test Name\n  ---- | ---------\n  `visualizations-tabular-reproductions.cy.spec.js` | issue 37726 > should not result in an error when you add a column after resizing an existing one (#37726)', 'created_at': datetime.datetime(2025, 1, 22, 18, 57, 56, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 14:31:17 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3893_tests-53327f37-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52518?repo=metabase/metabase&commitHash=53327f375d48d792f10407f5e34357556c50b464&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52518?repo=metabase/metabase&commitHash=53327f375d48d792f10407f5e34357556c50b464&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52518?repo=metabase/metabase&commitHash=53327f375d48d792f10407f5e34357556c50b464&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52518?repo=metabase/metabase&commitHash=53327f375d48d792f10407f5e34357556c50b464&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\#37726)</code> | The test timed out while trying to find an element with the text ""Product → Category"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52518?repo=metabase/metabase&commitHash=53327f375d48d792f10407f5e34357556c50b464&utm_source=gh-comment&runConclusion=FAILURE&runId=fb8bdee0-d2a6-5a87-bb2e-6815a4b99321) |
| <code>scenarios > collections > clean up ee clean up collection modal should be able to clean up stale items</code> | The element <div.emotion-Group-root.emotion-1plzo5d> was expected to not exist in the DOM, but it was found continuously. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52518?repo=metabase/metabase&commitHash=53327f375d48d792f10407f5e34357556c50b464&utm_source=gh-comment&runConclusion=FAILURE&runId=64caaf90-74d6-5343-bc7d-6192f1f8e8f5) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52518?repo=metabase/metabase&commitHash=53327f375d48d792f10407f5e34357556c50b464&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-22 18:57:56 UTC): ## e2e tests failed on `53327f375d48d792f10407f5e34357556c50b464-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12914964806?pr=52518)

  File | Test Name
  ---- | ---------
  `visualizations-tabular-reproductions.cy.spec.js` | issue 37726 > should not result in an error when you add a column after resizing an existing one (#37726)

"
2804345551,pull_request,closed,,Fix blank eid not creating a new entity on load,"Closes https://github.com/metabase/metabase/issues/50106

### Description

The documentation https://www.metabase.com/docs/latest/installation-and-operation/serialization#how-import-works suggests a 'blank' entity_id should result in a new entity being created. 

This lead to issue #50106 in which multiple repeated imports of the same entity (having a null entity_id) would on the 3rd import result in a constraint violation exception.

After discussing with @piranha - I have confirmed the desired behaviour is as documented, additionally we do not think the requirement for removing the `:id` from the `:serdes/meta` is necessary.

Previous behaviour: 

- Import 1
   - the existing entity matched, despite the null entity_id - as looking up the previous entity is based on the `:serdes/meta` `:id`. 
  -  the existing entity is updated to have a null entity_id.
- Import 2 
     - backfill runs, the null entity id is replaced with the identity-hash of the entity.
     - the new entity `:serdes/meta` does not match what is in the app db, so a new entity is created (with a null entity_id)
- Import 3
     - backfill runs, spots the null entity_id and tries again to replace with the identity-hash - failing because the hash already exists.

### How to verify

1. Import a serialized entity containing a null entity_id. 
2. Observe the entity is created
3. Repeat a further 2 or 3 times, you should expect to see new entities be created.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",wotbrew,2025-01-22 13:06:02+00:00,['wotbrew'],2025-01-27 18:37:42+00:00,2025-01-27 18:37:40+00:00,https://github.com/metabase/metabase/pull/52517,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2607371582, 'issue_id': 2804345551, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/113266_tests-da1e5325-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52517?repo=metabase/metabase&commitHash=da1e532540f27448d745d38fb0c499935bb6a2bc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52517?repo=metabase/metabase&commitHash=da1e532540f27448d745d38fb0c499935bb6a2bc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52517?repo=metabase/metabase&commitHash=da1e532540f27448d745d38fb0c499935bb6a2bc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52517?repo=metabase/metabase&commitHash=da1e532540f27448d745d38fb0c499935bb6a2bc&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52517?repo=metabase/metabase&commitHash=da1e532540f27448d745d38fb0c499935bb6a2bc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 14, 18, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607608058, 'issue_id': 2804345551, 'author': 'wotbrew', 'body': ""There is some ambiguity for me in what 'blank' means. Originally I took it to mean entity_id is 'null OR absent from the yaml'. Unfortunately if I implement the fix in those terms (i.e remove the `::not-found`) a bunch of tests break as they assume ingesting entities without an entity_id at all should match local entities using the `:serdes/meta` `:id` as before.\r\n\r\nThat is why the 'new entity' behaviour is only implemented for :entity_id being both present and nil.\r\n\r\nYou might be able to avoid this problem if you respected the coupling between the serdes id and the entity_id. That is to revert to the previous 'both need to be missing' documented behaviour. @piranha was somewhat resistant to that idea, and I do not have enough context to make a good call here.\r\n\r\nHappy to take advice on what to do in this case. Can rework the tests, but equally this may well be acceptable as a fix to the original issue."", 'created_at': datetime.datetime(2025, 1, 22, 15, 49, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609109784, 'issue_id': 2804345551, 'author': 'piranha', 'body': ""To be honest I'm thinking that missing entity-id should be treated the same as null, since I imagine if I was doing that for the sake of duplicating data I'd just delete the line (`grep -v entity_id:` basically) rather than replacing a value with null.\r\n\r\nAs for id in `serdes/meta` my thinking here is that if we have two sources for an identifier it just makes situation way more complicated. We're not actively checking their equality, so why have another place to look up an id? As for tests - maybe I'm mistaken, but with migration from serdes v1 effectively complete we can count on data being consistent enough and we should fix/change/remove those tests.\r\n\r\nI'd love to hear @bshepherdson and @luizarakaki view on those thoughts before proceeding. :)"", 'created_at': datetime.datetime(2025, 1, 23, 8, 7, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610056656, 'issue_id': 2804345551, 'author': 'bshepherdson', 'body': ""> To be honest I'm thinking that missing entity-id should be treated the same as null, since I imagine if I was doing that for the sake of duplicating data I'd just delete the line (`grep -v entity_id:` basically) rather than replacing a value with null.\r\n\r\nI think this is reasonable. If there's any fallback to pulling the id from `:serdes/meta` then I think we can drop it.\r\n \r\n> As for id in `serdes/meta` my thinking here is that if we have two sources for an identifier it just makes situation way more complicated. We're not actively checking their equality, so why have another place to look up an id?\r\n\r\nAs I say, this makes sense. We definitely should not be *removing* the `:serdes/meta`, but we don't need to mine it for a backup `entity_id`.\r\n\r\n> As for tests - maybe I'm mistaken, but with migration from serdes v1 effectively complete we can count on data being consistent enough and we should fix/change/remove those tests.\r\n\r\nThat makes me concerned... I've forgotten what the state of v1 is, though. Did we disable its commands? In what version? I think it should have been unusable for a few major versions before we can drop any compatibility and tests for the upgrade process."", 'created_at': datetime.datetime(2025, 1, 23, 15, 5, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610066391, 'issue_id': 2804345551, 'author': 'piranha', 'body': 'We did not disable commands of serdes v1 and maybe right now is the best time to do that. 😁', 'created_at': datetime.datetime(2025, 1, 23, 15, 9, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613059245, 'issue_id': 2804345551, 'author': 'wotbrew', 'body': ""Good news everyone! I realised I had misunderstood the test issue, and I did not have to change a load of tests after all! it was simply that some loadable entities do not actually have an entity_id (e.g. databases, tables, fields). \r\n\r\nI've changed the logic so that it only applies if we should expect an entity_id in the first place. See `exported-with-entity-id?`. Everything now passes, and the behaviour applies for absent OR null.\r\n\r\nAny comments or feedback on the new changes are welcome!\r\n\r\n@piranha, @bshepherdson what do you think?"", 'created_at': datetime.datetime(2025, 1, 24, 17, 36, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615247345, 'issue_id': 2804345551, 'author': 'wotbrew', 'body': 'Great, thanks for approving!\r\n\r\n@bshepherdson any comments before I merge?', 'created_at': datetime.datetime(2025, 1, 27, 9, 32, 17, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 14:18:19 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/113266_tests-da1e5325-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52517?repo=metabase/metabase&commitHash=da1e532540f27448d745d38fb0c499935bb6a2bc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52517?repo=metabase/metabase&commitHash=da1e532540f27448d745d38fb0c499935bb6a2bc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52517?repo=metabase/metabase&commitHash=da1e532540f27448d745d38fb0c499935bb6a2bc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52517?repo=metabase/metabase&commitHash=da1e532540f27448d745d38fb0c499935bb6a2bc&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52517?repo=metabase/metabase&commitHash=da1e532540f27448d745d38fb0c499935bb6a2bc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

wotbrew (Issue Creator) on (2025-01-22 15:49:55 UTC): There is some ambiguity for me in what 'blank' means. Originally I took it to mean entity_id is 'null OR absent from the yaml'. Unfortunately if I implement the fix in those terms (i.e remove the `::not-found`) a bunch of tests break as they assume ingesting entities without an entity_id at all should match local entities using the `:serdes/meta` `:id` as before.

That is why the 'new entity' behaviour is only implemented for :entity_id being both present and nil.

You might be able to avoid this problem if you respected the coupling between the serdes id and the entity_id. That is to revert to the previous 'both need to be missing' documented behaviour. @piranha was somewhat resistant to that idea, and I do not have enough context to make a good call here.

Happy to take advice on what to do in this case. Can rework the tests, but equally this may well be acceptable as a fix to the original issue.

piranha on (2025-01-23 08:07:20 UTC): To be honest I'm thinking that missing entity-id should be treated the same as null, since I imagine if I was doing that for the sake of duplicating data I'd just delete the line (`grep -v entity_id:` basically) rather than replacing a value with null.

As for id in `serdes/meta` my thinking here is that if we have two sources for an identifier it just makes situation way more complicated. We're not actively checking their equality, so why have another place to look up an id? As for tests - maybe I'm mistaken, but with migration from serdes v1 effectively complete we can count on data being consistent enough and we should fix/change/remove those tests.

I'd love to hear @bshepherdson and @luizarakaki view on those thoughts before proceeding. :)

bshepherdson on (2025-01-23 15:05:34 UTC): I think this is reasonable. If there's any fallback to pulling the id from `:serdes/meta` then I think we can drop it.
 

As I say, this makes sense. We definitely should not be *removing* the `:serdes/meta`, but we don't need to mine it for a backup `entity_id`.


That makes me concerned... I've forgotten what the state of v1 is, though. Did we disable its commands? In what version? I think it should have been unusable for a few major versions before we can drop any compatibility and tests for the upgrade process.

piranha on (2025-01-23 15:09:13 UTC): We did not disable commands of serdes v1 and maybe right now is the best time to do that. 😁

wotbrew (Issue Creator) on (2025-01-24 17:36:04 UTC): Good news everyone! I realised I had misunderstood the test issue, and I did not have to change a load of tests after all! it was simply that some loadable entities do not actually have an entity_id (e.g. databases, tables, fields). 

I've changed the logic so that it only applies if we should expect an entity_id in the first place. See `exported-with-entity-id?`. Everything now passes, and the behaviour applies for absent OR null.

Any comments or feedback on the new changes are welcome!

@piranha, @bshepherdson what do you think?

wotbrew (Issue Creator) on (2025-01-27 09:32:17 UTC): Great, thanks for approving!

@bshepherdson any comments before I merge?

"
2804335978,pull_request,closed,,Exclude DQs from DQ candidate endpoint,"... oops

I also moved the `(= (:collection_id card) (:collection_id dashboard))` check out of `card/sole-dashboard-id`, since it's not really part of being a sole dashboard.",johnswanson,2025-01-22 13:01:43+00:00,['johnswanson'],2025-01-27 22:10:39+00:00,2025-01-23 17:20:54+00:00,https://github.com/metabase/metabase/pull/52516,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2607287873, 'issue_id': 2804335978, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/113084_tests-df070279-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52516?repo=metabase/metabase&commitHash=df070279acab286f19bca764761d345b2c2aab2a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52516?repo=metabase/metabase&commitHash=df070279acab286f19bca764761d345b2c2aab2a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52516?repo=metabase/metabase&commitHash=df070279acab286f19bca764761d345b2c2aab2a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52516?repo=metabase/metabase&commitHash=df070279acab286f19bca764761d345b2c2aab2a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52516?repo=metabase/metabase&commitHash=df070279acab286f19bca764761d345b2c2aab2a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 13, 43, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610185780, 'issue_id': 2804335978, 'author': 'johnswanson', 'body': ""> The logic includes two new features:\r\n> \r\n> * exclude cards already inside dashboards\r\n> * exclude cards whose sole dashboard is _outside_ this collection\r\n> \r\n> We are only testing the former. I think we should add a test for the latter condition as well. This is quite important functionality and tests for this would be useful.\r\n\r\nWe're already [testing this](https://github.com/metabase/metabase/pull/52516/files#diff-a6b09b9ecb5cfb6fb2118db8aa7e7c6f6483f79b4e53860bcc2c5e2697311922R1574-R1586) ([and for the root collection](https://github.com/metabase/metabase/pull/52516/files#diff-a6b09b9ecb5cfb6fb2118db8aa7e7c6f6483f79b4e53860bcc2c5e2697311922L1691-L1703)) - this PR is changing where we're checking that condition but it was already being checked before.\r\n\r\n(I realized that it made no sense for `model.card/sole-dashboard-id` to exclude these dashboards, since it *is* the sole dashboard even if it's in a different collection.)"", 'created_at': datetime.datetime(2025, 1, 23, 15, 52, 40, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 13:43:49 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/113084_tests-df070279-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52516?repo=metabase/metabase&commitHash=df070279acab286f19bca764761d345b2c2aab2a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52516?repo=metabase/metabase&commitHash=df070279acab286f19bca764761d345b2c2aab2a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52516?repo=metabase/metabase&commitHash=df070279acab286f19bca764761d345b2c2aab2a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52516?repo=metabase/metabase&commitHash=df070279acab286f19bca764761d345b2c2aab2a&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52516?repo=metabase/metabase&commitHash=df070279acab286f19bca764761d345b2c2aab2a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

johnswanson (Issue Creator) on (2025-01-23 15:52:40 UTC): We're already [testing this](https://github.com/metabase/metabase/pull/52516/files#diff-a6b09b9ecb5cfb6fb2118db8aa7e7c6f6483f79b4e53860bcc2c5e2697311922R1574-R1586) ([and for the root collection](https://github.com/metabase/metabase/pull/52516/files#diff-a6b09b9ecb5cfb6fb2118db8aa7e7c6f6483f79b4e53860bcc2c5e2697311922L1691-L1703)) - this PR is changing where we're checking that condition but it was already being checked before.

(I realized that it made no sense for `model.card/sole-dashboard-id` to exclude these dashboards, since it *is* the sole dashboard even if it's in a different collection.)

"
2804299665,pull_request,open,,POC Add cypress visual regression tests,"POC: Implements Cypress Visual Regression Testing

Please read the technical description:
https://www.notion.so/metabase/Add-Cypress-visual-regression-testing-18869354c9018040b8e2f3547873fcfb

To run locally use these commands:
- test-visual:cypress-run 
- test-visual:cypress-run-component-sdk
- test-visual:cypress-update 
- test-visual:cypress-update-component-sdk",sanex3339,2025-01-22 12:45:31+00:00,['sanex3339'],2025-01-30 20:59:27+00:00,,https://github.com/metabase/metabase/pull/52515,"[('do not merge', ''), ('.Team/Embedding', '')]","[{'comment_id': 2607288785, 'issue_id': 2804299665, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13578_tests-179c0dee-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52515?repo=metabase/metabase&commitHash=179c0deead7dadbd29129b614793bb870058ded0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52515?repo=metabase/metabase&commitHash=179c0deead7dadbd29129b614793bb870058ded0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/14-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52515?repo=metabase/metabase&commitHash=179c0deead7dadbd29129b614793bb870058ded0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52515?repo=metabase/metabase&commitHash=179c0deead7dadbd29129b614793bb870058ded0&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > browse > metrics verified metrics on enterprise should show the verified metrics filter when there are verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52515?repo=metabase/metabase&commitHash=179c0deead7dadbd29129b614793bb870058ded0&utm_source=gh-comment&runConclusion=FAILURE&runId=c1b2fd2a-3106-5abf-84e8-c62a0b58725d) |\n| <code>scenarios > browse > metrics verified metrics on enterprise should respect the user setting on wether or not to only show verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52515?repo=metabase/metabase&commitHash=179c0deead7dadbd29129b614793bb870058ded0&utm_source=gh-comment&runConclusion=FAILURE&runId=b3bdb836-b3ea-547b-97b9-2923c6b4581f) |\n| <code>scenarios > browse > metrics dot menu when the user does not have write access should not be possible to trash a metric from the dot menu when the...</code> | Unable to find a label with the text ""Table of metrics"" within the expected time. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52515?repo=metabase/metabase&commitHash=179c0deead7dadbd29129b614793bb870058ded0&utm_source=gh-comment&runConclusion=FAILURE&runId=a82aeec6-324a-59cd-98ab-6dd219f8e32e) |\n| <code>scenarios > browse > metrics dot menu when the user does not have write access should be possible to navigate to the collection from the dot menu</code> | Unable to find a label with the text \'Table of metrics\' within the expected time. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52515?repo=metabase/metabase&commitHash=179c0deead7dadbd29129b614793bb870058ded0&utm_source=gh-comment&runConclusion=FAILURE&runId=d2292efe-d6b1-5194-87a7-24c4f3cba041) |\n\n[... and 10 more](https://app.trunk.io/metabase/flaky-tests/pr/52515?repo=metabase/metabase&commitHash=179c0deead7dadbd29129b614793bb870058ded0&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52515?repo=metabase/metabase&commitHash=179c0deead7dadbd29129b614793bb870058ded0&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 13, 44, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608074887, 'issue_id': 2804299665, 'author': 'sanex3339', 'body': '20 stress test runs seems are stable\r\nhttps://github.com/metabase/metabase/actions/runs/12915314966/job/36016896863', 'created_at': datetime.datetime(2025, 1, 22, 19, 18, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2623753908, 'issue_id': 2804299665, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `179c0deead7dadbd29129b614793bb870058ded0-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13047449470?pr=52515)\n\n  File | Test Name\n  ---- | ---------\n  `browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > can browse metrics\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should navigate to the metric when clicking a metric title\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should navigate to that collection when clicking a collection title\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should open the collections in a new tab when alt-clicking a metric\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should render truncated markdown in the table\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should be possible to sort the metrics\n`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to bookmark a metrics from the dot menu\n`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to navigate to the collection from the dot menu\n`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to trash a metric from the dot menu when the user has write access\n`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > when the user does not have write access > should not be possible to trash a metric from the dot menu when the user does not have write access\nand more... | and more...', 'created_at': datetime.datetime(2025, 1, 30, 7, 38, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625429845, 'issue_id': 2804299665, 'author': 'sanex3339', 'body': '> I think my larger concern with this is that we\'re creating an entirely new way of doing cypress testing, and taking on the burden of hundreds of additional lines of cypress setup code (when I think we already have too many). This makes it harder to work with locally, and harder to wrap your mind around when debugging or modifying.\r\n> \r\n> I wonder if there is a better way to integrate this more with the existing cypress entrypoints (`run_cypress_ci.js` and `run_cypress_tests.js`) to make working with them more seamless.\r\n\r\nactually it\'s already uses the current `run_cypress_ci.js`, but inside a container\r\n\r\n```\r\n ""cypress-run-component-sdk"": {\r\n    env: {\r\n      ...baseEnv,\r\n      ...embeddingSdkEnv,\r\n    },\r\n    shouldStartServer: true,\r\n    command: `node e2e/runner/run_cypress_ci.js test ${cypressFlags} ${cypressComponentTestingFlags}`,\r\n  },\r\n```\r\n\r\nBecause the Docker is the core of how tests are running, we need 2 additional stages before tests are actually running:\r\n- preparation: prepare proper cypress flags, env variables, etc. Also we should start the backend, because it should be launched outside of a container.\r\n- building the container in POC (in the final solution, it will be pulled from a registry) and launch \r\n- and then inside the container, we start tests via `run_cypress_ci.js`', 'created_at': datetime.datetime(2025, 1, 30, 19, 48, 31, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 13:44:15 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13578_tests-179c0dee-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52515?repo=metabase/metabase&commitHash=179c0deead7dadbd29129b614793bb870058ded0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52515?repo=metabase/metabase&commitHash=179c0deead7dadbd29129b614793bb870058ded0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/14-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52515?repo=metabase/metabase&commitHash=179c0deead7dadbd29129b614793bb870058ded0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52515?repo=metabase/metabase&commitHash=179c0deead7dadbd29129b614793bb870058ded0&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > browse > metrics verified metrics on enterprise should show the verified metrics filter when there are verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52515?repo=metabase/metabase&commitHash=179c0deead7dadbd29129b614793bb870058ded0&utm_source=gh-comment&runConclusion=FAILURE&runId=c1b2fd2a-3106-5abf-84e8-c62a0b58725d) |
| <code>scenarios > browse > metrics verified metrics on enterprise should respect the user setting on wether or not to only show verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52515?repo=metabase/metabase&commitHash=179c0deead7dadbd29129b614793bb870058ded0&utm_source=gh-comment&runConclusion=FAILURE&runId=b3bdb836-b3ea-547b-97b9-2923c6b4581f) |
| <code>scenarios > browse > metrics dot menu when the user does not have write access should not be possible to trash a metric from the dot menu when the...</code> | Unable to find a label with the text ""Table of metrics"" within the expected time. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52515?repo=metabase/metabase&commitHash=179c0deead7dadbd29129b614793bb870058ded0&utm_source=gh-comment&runConclusion=FAILURE&runId=a82aeec6-324a-59cd-98ab-6dd219f8e32e) |
| <code>scenarios > browse > metrics dot menu when the user does not have write access should be possible to navigate to the collection from the dot menu</code> | Unable to find a label with the text 'Table of metrics' within the expected time. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52515?repo=metabase/metabase&commitHash=179c0deead7dadbd29129b614793bb870058ded0&utm_source=gh-comment&runConclusion=FAILURE&runId=d2292efe-d6b1-5194-87a7-24c4f3cba041) |

[... and 10 more](https://app.trunk.io/metabase/flaky-tests/pr/52515?repo=metabase/metabase&commitHash=179c0deead7dadbd29129b614793bb870058ded0&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52515?repo=metabase/metabase&commitHash=179c0deead7dadbd29129b614793bb870058ded0&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

sanex3339 (Issue Creator) on (2025-01-22 19:18:59 UTC): 20 stress test runs seems are stable
https://github.com/metabase/metabase/actions/runs/12915314966/job/36016896863

github-actions[bot] on (2025-01-30 07:38:24 UTC): ## e2e tests failed on `179c0deead7dadbd29129b614793bb870058ded0-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13047449470?pr=52515)

  File | Test Name
  ---- | ---------
  `browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > can browse metrics
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should navigate to the metric when clicking a metric title
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should navigate to that collection when clicking a collection title
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should open the collections in a new tab when alt-clicking a metric
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should render truncated markdown in the table
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should be possible to sort the metrics
`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to bookmark a metrics from the dot menu
`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to navigate to the collection from the dot menu
`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to trash a metric from the dot menu when the user has write access
`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > when the user does not have write access > should not be possible to trash a metric from the dot menu when the user does not have write access
and more... | and more...

sanex3339 (Issue Creator) on (2025-01-30 19:48:31 UTC): actually it's already uses the current `run_cypress_ci.js`, but inside a container

```
 ""cypress-run-component-sdk"": {
    env: {
      ...baseEnv,
      ...embeddingSdkEnv,
    },
    shouldStartServer: true,
    command: `node e2e/runner/run_cypress_ci.js test ${cypressFlags} ${cypressComponentTestingFlags}`,
  },
```

Because the Docker is the core of how tests are running, we need 2 additional stages before tests are actually running:
- preparation: prepare proper cypress flags, env variables, etc. Also we should start the backend, because it should be launched outside of a container.
- building the container in POC (in the final solution, it will be pulled from a registry) and launch 
- and then inside the container, we start tests via `run_cypress_ci.js`

"
2804296028,pull_request,closed,,"🤖 backported ""Use official docker images for Postgres/Mongo""","  #42870
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-22 12:43:54+00:00,"['johnswanson', 'github-automation-metabase']",2025-02-07 16:19:21+00:00,2025-02-07 16:19:21+00:00,https://github.com/metabase/metabase/pull/52514,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2607239771, 'issue_id': 2804296028, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/54_tests-03aaf57b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52514?repo=metabase/metabase&commitHash=03aaf57bf5106352dca44f840d1942667d8f3a5f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52514?repo=metabase/metabase&commitHash=03aaf57bf5106352dca44f840d1942667d8f3a5f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52514?repo=metabase/metabase&commitHash=03aaf57bf5106352dca44f840d1942667d8f3a5f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52514?repo=metabase/metabase&commitHash=03aaf57bf5106352dca44f840d1942667d8f3a5f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52514?repo=metabase/metabase&commitHash=03aaf57bf5106352dca44f840d1942667d8f3a5f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 13, 22, 46, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 13:22:46 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/54_tests-03aaf57b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52514?repo=metabase/metabase&commitHash=03aaf57bf5106352dca44f840d1942667d8f3a5f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52514?repo=metabase/metabase&commitHash=03aaf57bf5106352dca44f840d1942667d8f3a5f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52514?repo=metabase/metabase&commitHash=03aaf57bf5106352dca44f840d1942667d8f3a5f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52514?repo=metabase/metabase&commitHash=03aaf57bf5106352dca44f840d1942667d8f3a5f&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52514?repo=metabase/metabase&commitHash=03aaf57bf5106352dca44f840d1942667d8f3a5f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2804264824,pull_request,closed,,feat(sdk): apply theming to interactive question modules,"Closes https://github.com/metabase/metabase/issues/52261

### Description

Update the styles of interactive questions to prevent the UI from being broken in dark or custom themes.

- Implements a system to transform colors depending on whether they are in light and dark mode. See [this Notion document](https://www.notion.so/metabase/How-color-and-theming-works-in-the-Embedding-SDK-18969354c901808284d4d4d44a9f0c5e?pvs=6&utm_content=18969354-c901-8082-84d4-d4d44a9f0c5e&utm_campaign=T078VCLCR&n=slack&n=slack_link_unfurl)'s last section for how it works.
- Updates the Storybook to demonstrate the theming changes.
- Adds more spacing when the dashboard's back arrow is present after drilling-down the dashboard.
- Updates the BadgeList to use 40% transparency which works great both for dark and light themes

### Demo

See this [private Loom video](https://www.loom.com/share/1fa93c03f07345f38f06cb2a8e220366?sid=d6e2fb08-b8a4-4ac0-8954-a0d088688fd7) for the demo of each themes (Shoppy and Storybook), as well as an explanation on how the derived color configuration works. It's pretty lightweight.

ProficiencyLabs

![CleanShot 2568-01-28 at 17 51 05@2x](https://github.com/user-attachments/assets/855799f1-7988-45fd-afe0-4044b9a37459)

theStitch

![CleanShot 2568-01-28 at 17 50 47@2x](https://github.com/user-attachments/assets/7a41b54b-c331-44dc-8dbc-2e3092d15c72)

Pug

![CleanShot 2568-01-28 at 17 51 19@2x](https://github.com/user-attachments/assets/65d56955-b2a9-48e2-b4af-44fb5c2dc95b)

The main app's notebook editor should still have correct colors

![CleanShot 2568-01-28 at 21 36 00@2x](https://github.com/user-attachments/assets/e930d749-9026-4e3c-a71a-df01c0b38438)

### How to verify

- Run storybook with `yarn storybook-embedding-sdk`
   - Or, use the Shoppy demo by building with `yarn build-embedding-sdk` and link to your locally built package with `rm -rf node_modules/.vite && rm -rf node_modules/@metabase/ && yarn add file:../metabase/resources/embedding-sdk && env NODE_OPTIONS=--max-old-space-size=7000 yarn dev`
- Explore the `InteractiveQuestion > Default` story, or the pages in Shoppy
- Their colors in both light and dark mode should be correct
- Their hover and disabled states should look correct

### Tests

- [x] Cypress e2e tests to check that dynamic CSS variable generation works",heypoom,2025-01-22 12:29:53+00:00,['heypoom'],2025-02-05 07:38:12+00:00,2025-02-04 13:39:29+00:00,https://github.com/metabase/metabase/pull/52513,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2609957262, 'issue_id': 2804264824, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/23075_tests-83a1922f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52513?repo=metabase/metabase&commitHash=83a1922f2a77c55c411a3c97fe359346e7b90f15&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52513?repo=metabase/metabase&commitHash=83a1922f2a77c55c411a3c97fe359346e7b90f15&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/22-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52513?repo=metabase/metabase&commitHash=83a1922f2a77c55c411a3c97fe359346e7b90f15&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52513?repo=metabase/metabase&commitHash=83a1922f2a77c55c411a3c97fe359346e7b90f15&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52513?repo=metabase/metabase&commitHash=83a1922f2a77c55c411a3c97fe359346e7b90f15&utm_source=gh-comment&runConclusion=FAILURE&runId=c65997fa-d77c-52c7-b656-c3c9f273914d) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52513?repo=metabase/metabase&commitHash=83a1922f2a77c55c411a3c97fe359346e7b90f15&utm_source=gh-comment&runConclusion=FAILURE&runId=f090790d-ceac-5572-8fcf-a420ec0533d8) |\n| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and \'Browse databases\' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52513?repo=metabase/metabase&commitHash=83a1922f2a77c55c411a3c97fe359346e7b90f15&utm_source=gh-comment&runConclusion=FAILURE&runId=41b9da5e-0c6a-583c-bb67-6c45590d7a05) |\n| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52513?repo=metabase/metabase&commitHash=83a1922f2a77c55c411a3c97fe359346e7b90f15&utm_source=gh-comment&runConclusion=FAILURE&runId=db302c31-128a-5ee0-9a1a-3835c142cce9) |\n| <code>scenarios > model indexes should not reload the model for record in the same model</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52513?repo=metabase/metabase&commitHash=83a1922f2a77c55c411a3c97fe359346e7b90f15&utm_source=gh-comment&runConclusion=FAILURE&runId=3667d3b0-3569-5ba1-bda7-82691cdbec5b) |\n\n[... and 18 more](https://app.trunk.io/metabase/flaky-tests/pr/52513?repo=metabase/metabase&commitHash=83a1922f2a77c55c411a3c97fe359346e7b90f15&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52513?repo=metabase/metabase&commitHash=83a1922f2a77c55c411a3c97fe359346e7b90f15&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 23, 14, 29, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2611998804, 'issue_id': 2804264824, 'author': 'heypoom', 'body': 'Putting in ""In Progress"" so I can add more tests', 'created_at': datetime.datetime(2025, 1, 24, 8, 57, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612275640, 'issue_id': 2804264824, 'author': 'WiNloSt', 'body': 'The filter is still unthemed \r\n![image](https://github.com/user-attachments/assets/0ef78ac8-9ea7-479b-be93-3a9bd80b0f69)\r\n\r\nThis is from storybook from this PR. You can test it here http://localhost:6006/?path=/story/embeddingsdk-interactivequestion--default&globals=sdkTheme:stitch', 'created_at': datetime.datetime(2025, 1, 24, 11, 15, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612294315, 'issue_id': 2804264824, 'author': 'WiNloSt', 'body': ""Buttons don't look good when hovered 😢 \r\n\r\n#### Not hovered\r\n![image](https://github.com/user-attachments/assets/2ed2893d-7e7d-4fd4-880f-5d25f61d9547)\r\n\r\n#### Hovered. The colors seem to be derived from the primary color\r\n![image](https://github.com/user-attachments/assets/c71fe4e8-57cd-4378-9217-d406f363058c)\r\n![image](https://github.com/user-attachments/assets/d60d03f3-2ba5-45c7-a8eb-3bc1168547ba)"", 'created_at': datetime.datetime(2025, 1, 24, 11, 26, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612331433, 'issue_id': 2804264824, 'author': 'heypoom', 'body': ""@WiNloSt most of those theme options has a fallback that relies on the existing colors though, and the theme acts as an override. If you run the theme in Storybook (see storybook-themes.tsx), you can see that most of the theme options doesn't even have to be set.\r\n\r\nas for the editor button for example, the Pug and Luminara theme makes use of the different active and border colors. I agree it's getting unwieldy though."", 'created_at': datetime.datetime(2025, 1, 24, 11, 44, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612337905, 'issue_id': 2804264824, 'author': 'WiNloSt', 'body': ""> @WiNloSt most of those theme options has a fallback that relies on the existing colors though, and the theme acts as an override. If you run the theme in Storybook (see storybook-themes.tsx), you can see that most of the theme options doesn't even have to be set.\r\n> \r\n> as for the editor button for example, the Pug and Luminara theme makes use of the different active and border colors. I agree it's getting unwieldy though.\r\n\r\nThat's fair, that creates implicit dependency to the base colors though. Like me, there could be a crazy user try to theme stuff like this which doesn't make sense and the theme won't look good. I mean practically, the colors won't look as drastic as mine, but technically they could use a different color on this button and it will look bad. We should be aware of this and if we think most users would rely on existing colors then that's cool."", 'created_at': datetime.datetime(2025, 1, 24, 11, 48, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2626815532, 'issue_id': 2804264824, 'author': 'WiNloSt', 'body': ""I found that custom expression hasn't been themed.\r\n![image](https://github.com/user-attachments/assets/b7d178c8-90b7-429d-b462-391307ee5071)"", 'created_at': datetime.datetime(2025, 1, 31, 10, 3, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631708759, 'issue_id': 2804264824, 'author': 'heypoom', 'body': '> I found that custom expression hasn\'t been themed.\r\n\r\n@WiNloSt thanks for catching that! Added compatibility in https://github.com/metabase/metabase/pull/52513/commits/9ae187cb3aa31a952667f715fdd1b6112d4476f6\r\n\r\n<img src=""https://github.com/user-attachments/assets/2a21127a-015d-4b80-94d1-8a43a2507a5a"" width=""300"">\r\n\r\n<img src=""https://github.com/user-attachments/assets/89c71813-583a-43cd-a064-0f2f1678cfb7"" width=""300"">\r\n\r\n<img src=""https://github.com/user-attachments/assets/410977b2-09ae-46da-8cee-49700b59d4fd"" width=""300"">', 'created_at': datetime.datetime(2025, 2, 3, 18, 6, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2631733942, 'issue_id': 2804264824, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `83a1922f2a77c55c411a3c97fe359346e7b90f15-7`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13119887507?pr=52513)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)\n`model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model\n`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette\n`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link\n`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results"", 'created_at': datetime.datetime(2025, 2, 3, 18, 18, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633989143, 'issue_id': 2804264824, 'author': 'heypoom', 'body': '@metabase-bot backport release-x.52.x', 'created_at': datetime.datetime(2025, 2, 4, 13, 39, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2633995966, 'issue_id': 2804264824, 'author': 'github-actions[bot]', 'body': '@heypoom something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/13136757595)', 'created_at': datetime.datetime(2025, 2, 4, 13, 41, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634045930, 'issue_id': 2804264824, 'author': 'heypoom', 'body': '@metabase-bot backport release-x.52.x', 'created_at': datetime.datetime(2025, 2, 4, 13, 57, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2634049767, 'issue_id': 2804264824, 'author': 'github-actions[bot]', 'body': '@heypoom Manual conflict resolution is required', 'created_at': datetime.datetime(2025, 2, 4, 13, 58, 39, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 14:29:39 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/23075_tests-83a1922f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52513?repo=metabase/metabase&commitHash=83a1922f2a77c55c411a3c97fe359346e7b90f15&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52513?repo=metabase/metabase&commitHash=83a1922f2a77c55c411a3c97fe359346e7b90f15&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/22-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52513?repo=metabase/metabase&commitHash=83a1922f2a77c55c411a3c97fe359346e7b90f15&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52513?repo=metabase/metabase&commitHash=83a1922f2a77c55c411a3c97fe359346e7b90f15&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52513?repo=metabase/metabase&commitHash=83a1922f2a77c55c411a3c97fe359346e7b90f15&utm_source=gh-comment&runConclusion=FAILURE&runId=c65997fa-d77c-52c7-b656-c3c9f273914d) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52513?repo=metabase/metabase&commitHash=83a1922f2a77c55c411a3c97fe359346e7b90f15&utm_source=gh-comment&runConclusion=FAILURE&runId=f090790d-ceac-5572-8fcf-a420ec0533d8) |
| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and 'Browse databases' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52513?repo=metabase/metabase&commitHash=83a1922f2a77c55c411a3c97fe359346e7b90f15&utm_source=gh-comment&runConclusion=FAILURE&runId=41b9da5e-0c6a-583c-bb67-6c45590d7a05) |
| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52513?repo=metabase/metabase&commitHash=83a1922f2a77c55c411a3c97fe359346e7b90f15&utm_source=gh-comment&runConclusion=FAILURE&runId=db302c31-128a-5ee0-9a1a-3835c142cce9) |
| <code>scenarios > model indexes should not reload the model for record in the same model</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52513?repo=metabase/metabase&commitHash=83a1922f2a77c55c411a3c97fe359346e7b90f15&utm_source=gh-comment&runConclusion=FAILURE&runId=3667d3b0-3569-5ba1-bda7-82691cdbec5b) |

[... and 18 more](https://app.trunk.io/metabase/flaky-tests/pr/52513?repo=metabase/metabase&commitHash=83a1922f2a77c55c411a3c97fe359346e7b90f15&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52513?repo=metabase/metabase&commitHash=83a1922f2a77c55c411a3c97fe359346e7b90f15&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

heypoom (Issue Creator) on (2025-01-24 08:57:45 UTC): Putting in ""In Progress"" so I can add more tests

WiNloSt on (2025-01-24 11:15:33 UTC): The filter is still unthemed 
![image](https://github.com/user-attachments/assets/0ef78ac8-9ea7-479b-be93-3a9bd80b0f69)

This is from storybook from this PR. You can test it here http://localhost:6006/?path=/story/embeddingsdk-interactivequestion--default&globals=sdkTheme:stitch

WiNloSt on (2025-01-24 11:26:02 UTC): Buttons don't look good when hovered 😢 

#### Not hovered
![image](https://github.com/user-attachments/assets/2ed2893d-7e7d-4fd4-880f-5d25f61d9547)

#### Hovered. The colors seem to be derived from the primary color
![image](https://github.com/user-attachments/assets/c71fe4e8-57cd-4378-9217-d406f363058c)
![image](https://github.com/user-attachments/assets/d60d03f3-2ba5-45c7-a8eb-3bc1168547ba)

heypoom (Issue Creator) on (2025-01-24 11:44:32 UTC): @WiNloSt most of those theme options has a fallback that relies on the existing colors though, and the theme acts as an override. If you run the theme in Storybook (see storybook-themes.tsx), you can see that most of the theme options doesn't even have to be set.

as for the editor button for example, the Pug and Luminara theme makes use of the different active and border colors. I agree it's getting unwieldy though.

WiNloSt on (2025-01-24 11:48:22 UTC): That's fair, that creates implicit dependency to the base colors though. Like me, there could be a crazy user try to theme stuff like this which doesn't make sense and the theme won't look good. I mean practically, the colors won't look as drastic as mine, but technically they could use a different color on this button and it will look bad. We should be aware of this and if we think most users would rely on existing colors then that's cool.

WiNloSt on (2025-01-31 10:03:05 UTC): I found that custom expression hasn't been themed.
![image](https://github.com/user-attachments/assets/b7d178c8-90b7-429d-b462-391307ee5071)

heypoom (Issue Creator) on (2025-02-03 18:06:05 UTC): @WiNloSt thanks for catching that! Added compatibility in https://github.com/metabase/metabase/pull/52513/commits/9ae187cb3aa31a952667f715fdd1b6112d4476f6

<img src=""https://github.com/user-attachments/assets/2a21127a-015d-4b80-94d1-8a43a2507a5a"" width=""300"">

<img src=""https://github.com/user-attachments/assets/89c71813-583a-43cd-a064-0f2f1678cfb7"" width=""300"">

<img src=""https://github.com/user-attachments/assets/410977b2-09ae-46da-8cee-49700b59d4fd"" width=""300"">

github-actions[bot] on (2025-02-03 18:18:18 UTC): ## e2e tests failed on `83a1922f2a77c55c411a3c97fe359346e7b90f15-7`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13119887507?pr=52513)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)
`model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model
`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette
`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link
`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results

heypoom (Issue Creator) on (2025-02-04 13:39:40 UTC): @metabase-bot backport release-x.52.x

github-actions[bot] on (2025-02-04 13:41:02 UTC): @heypoom something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/13136757595)

heypoom (Issue Creator) on (2025-02-04 13:57:28 UTC): @metabase-bot backport release-x.52.x

github-actions[bot] on (2025-02-04 13:58:39 UTC): @heypoom Manual conflict resolution is required

"
2804239101,pull_request,closed,,"🤖 backported ""[search] track indexing errors""",#52452,github-automation-metabase,2025-01-22 12:17:54+00:00,"['piranha', 'github-automation-metabase']",2025-01-22 14:46:24+00:00,2025-01-22 12:54:18+00:00,https://github.com/metabase/metabase/pull/52512,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2607154964, 'issue_id': 2804239101, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/4896_tests-d5828551-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52512?repo=metabase/metabase&commitHash=d582855161cb929abe6325d8a5894386f80d569d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52512?repo=metabase/metabase&commitHash=d582855161cb929abe6325d8a5894386f80d569d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52512?repo=metabase/metabase&commitHash=d582855161cb929abe6325d8a5894386f80d569d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52512?repo=metabase/metabase&commitHash=d582855161cb929abe6325d8a5894386f80d569d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52512?repo=metabase/metabase&commitHash=d582855161cb929abe6325d8a5894386f80d569d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 12, 45, 11, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 12:45:11 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/4896_tests-d5828551-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52512?repo=metabase/metabase&commitHash=d582855161cb929abe6325d8a5894386f80d569d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52512?repo=metabase/metabase&commitHash=d582855161cb929abe6325d8a5894386f80d569d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52512?repo=metabase/metabase&commitHash=d582855161cb929abe6325d8a5894386f80d569d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52512?repo=metabase/metabase&commitHash=d582855161cb929abe6325d8a5894386f80d569d&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52512?repo=metabase/metabase&commitHash=d582855161cb929abe6325d8a5894386f80d569d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2804211365,pull_request,closed,,fix flaky test ,"Closes https://linear.app/metabase-inc/issue/DEVX-61/[flaky-test]-scenario-1-issue-17514-scenario-1-should-not-show-the-run
Stress test: https://github.com/metabase/metabase/actions/runs/12907689916

### Description

The problem was actually quite simple, we were clicking on a cell item before the table was fully loaded. Adding an assertion on the table footer that shows number of displayed items fixed it.

I got rid of some eslint warnings in the process",filiphric,2025-01-22 12:05:18+00:00,['filiphric'],2025-01-23 15:11:13+00:00,2025-01-22 13:19:37+00:00,https://github.com/metabase/metabase/pull/52510,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2607104865, 'issue_id': 2804211365, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `e968e2ea6e0f6814e03eaa7b5ab62285f81b226f-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12907808005?pr=52510)\n\n  File | Test Name\n  ---- | ---------\n  `permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)', 'created_at': datetime.datetime(2025, 1, 22, 12, 20, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607162479, 'issue_id': 2804211365, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3737_tests-e968e2ea-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52510?repo=metabase/metabase&commitHash=e968e2ea6e0f6814e03eaa7b5ab62285f81b226f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52510?repo=metabase/metabase&commitHash=e968e2ea6e0f6814e03eaa7b5ab62285f81b226f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52510?repo=metabase/metabase&commitHash=e968e2ea6e0f6814e03eaa7b5ab62285f81b226f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52510?repo=metabase/metabase&commitHash=e968e2ea6e0f6814e03eaa7b5ab62285f81b226f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52510?repo=metabase/metabase&commitHash=e968e2ea6e0f6814e03eaa7b5ab62285f81b226f&utm_source=gh-comment&runConclusion=FAILURE&runId=79359ef8-4c59-5e2f-86ca-cf96e1c7637b) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52510?repo=metabase/metabase&commitHash=e968e2ea6e0f6814e03eaa7b5ab62285f81b226f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 22, 12, 48, 47, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-22 12:20:59 UTC): ## e2e tests failed on `e968e2ea6e0f6814e03eaa7b5ab62285f81b226f-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12907808005?pr=52510)

  File | Test Name
  ---- | ---------
  `permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)

trunk-io[bot] on (2025-01-22 12:48:47 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3737_tests-e968e2ea-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52510?repo=metabase/metabase&commitHash=e968e2ea6e0f6814e03eaa7b5ab62285f81b226f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52510?repo=metabase/metabase&commitHash=e968e2ea6e0f6814e03eaa7b5ab62285f81b226f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52510?repo=metabase/metabase&commitHash=e968e2ea6e0f6814e03eaa7b5ab62285f81b226f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52510?repo=metabase/metabase&commitHash=e968e2ea6e0f6814e03eaa7b5ab62285f81b226f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52510?repo=metabase/metabase&commitHash=e968e2ea6e0f6814e03eaa7b5ab62285f81b226f&utm_source=gh-comment&runConclusion=FAILURE&runId=79359ef8-4c59-5e2f-86ca-cf96e1c7637b) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52510?repo=metabase/metabase&commitHash=e968e2ea6e0f6814e03eaa7b5ab62285f81b226f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2804110990,pull_request,closed,,improve rules around unscoped-selectors rule,"Closes https://linear.app/metabase-inc/issue/DEVX-71/improve-eslint-rules-around-unscoped-selectors

### Description

In general, I think the rule is great, but it could be improved. Current no-unscoped-text-selectors disallows some usage that should be allowed. 

Examples:

```js
cy.contains('.selector', 'text')           // two-argument contains is allowed
cy.get('.selector').contains('text')       // chained contains is allowed
cy.within(() => cy.contains('text'))       // scoped contains is allowed
cy.within(() => cy.findByText('text'))     // scoped findByText is allowed
```

I wrote a [whole blog](https://filiphric.com/contains-an-overlooked-gem-in-cypress) on why cy.contains() gives you selecting superpowers, I think we could utilize them for more stable tests

All in all, this does not soften the rules, we are still scoping our text selector.

### How to verify

1. Open VS code, restart eslint server and try some of the examples above

### Demo
![Screenshot 2025-01-22 at 11 27 12](https://github.com/user-attachments/assets/0b5c8d79-df28-4ea0-adbc-4bc2084a5051)
",filiphric,2025-01-22 11:17:35+00:00,['filiphric'],2025-01-23 16:52:05+00:00,2025-01-23 15:49:41+00:00,https://github.com/metabase/metabase/pull/52509,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2606980897, 'issue_id': 2804110990, 'author': 'nemanjaglumac', 'body': 'Do you have a rule/opinion when to use `cy.get(""a"").contains(""foo"");` vs `cy.get(""a"").should(""contain"", ""foo"");`', 'created_at': datetime.datetime(2025, 1, 22, 11, 24, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607051046, 'issue_id': 2804110990, 'author': 'filiphric', 'body': '> Do you have a rule/opinion when to use `cy.get(""a"").contains(""foo"");` vs `cy.get(""a"").should(""contain"", ""foo"");`\r\n\r\n`cy.contains()`\xa0is a query, its primary role is to select elements. `.should()` is an assertion and primary role is to assert. I think they should be used according to their goal. I’d probably disallow using `cy.contains()`\xa0with no action or assertion after it if I were to be super strict about it.\r\n\r\nto sum up, I’d use `.should(""contain"", text)` whenever checking the text is the end goal, like seeing a notification message or something after I make an interaction. I’d use `cy.contains()`\xa0in cases when I want to interact with an element in some way', 'created_at': datetime.datetime(2025, 1, 22, 11, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607094304, 'issue_id': 2804110990, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13382_tests-9af5b469-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52509?repo=metabase/metabase&commitHash=9af5b46935fe8cd9972e62ef230ea4866c0189fc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52509?repo=metabase/metabase&commitHash=9af5b46935fe8cd9972e62ef230ea4866c0189fc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52509?repo=metabase/metabase&commitHash=9af5b46935fe8cd9972e62ef230ea4866c0189fc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52509?repo=metabase/metabase&commitHash=9af5b46935fe8cd9972e62ef230ea4866c0189fc&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52509?repo=metabase/metabase&commitHash=9af5b46935fe8cd9972e62ef230ea4866c0189fc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 12, 16, 4, tzinfo=datetime.timezone.utc)}]","nemanjaglumac on (2025-01-22 11:24:19 UTC): Do you have a rule/opinion when to use `cy.get(""a"").contains(""foo"");` vs `cy.get(""a"").should(""contain"", ""foo"");`

filiphric (Issue Creator) on (2025-01-22 11:57:00 UTC): `cy.contains()` is a query, its primary role is to select elements. `.should()` is an assertion and primary role is to assert. I think they should be used according to their goal. I’d probably disallow using `cy.contains()` with no action or assertion after it if I were to be super strict about it.

to sum up, I’d use `.should(""contain"", text)` whenever checking the text is the end goal, like seeing a notification message or something after I make an interaction. I’d use `cy.contains()` in cases when I want to interact with an element in some way

trunk-io[bot] on (2025-01-22 12:16:04 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13382_tests-9af5b469-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52509?repo=metabase/metabase&commitHash=9af5b46935fe8cd9972e62ef230ea4866c0189fc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52509?repo=metabase/metabase&commitHash=9af5b46935fe8cd9972e62ef230ea4866c0189fc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52509?repo=metabase/metabase&commitHash=9af5b46935fe8cd9972e62ef230ea4866c0189fc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52509?repo=metabase/metabase&commitHash=9af5b46935fe8cd9972e62ef230ea4866c0189fc&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52509?repo=metabase/metabase&commitHash=9af5b46935fe8cd9972e62ef230ea4866c0189fc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2804108042,pull_request,closed,,docs(sdk): add proficiency labs color scheme to storybook,Adds the ProficiencyLabs color scheme to Storybook. I was testing https://github.com/metabase/metabase/issues/52027 and it would've been helpful to have the same color scheme as in Shoppy's main ProficiencyLabs theme.,heypoom,2025-01-22 11:16:10+00:00,['heypoom'],2025-01-27 22:10:59+00:00,2025-01-22 12:08:05+00:00,https://github.com/metabase/metabase/pull/52507,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', '')]","[{'comment_id': 2607094094, 'issue_id': 2804108042, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13388_tests-16698d42-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52507?repo=metabase/metabase&commitHash=16698d42f1b491fb9ca9ae2fe62aae7aa899b5ef&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52507?repo=metabase/metabase&commitHash=16698d42f1b491fb9ca9ae2fe62aae7aa899b5ef&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52507?repo=metabase/metabase&commitHash=16698d42f1b491fb9ca9ae2fe62aae7aa899b5ef&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52507?repo=metabase/metabase&commitHash=16698d42f1b491fb9ca9ae2fe62aae7aa899b5ef&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52507?repo=metabase/metabase&commitHash=16698d42f1b491fb9ca9ae2fe62aae7aa899b5ef&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 12, 15, 58, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 12:15:58 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13388_tests-16698d42-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52507?repo=metabase/metabase&commitHash=16698d42f1b491fb9ca9ae2fe62aae7aa899b5ef&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52507?repo=metabase/metabase&commitHash=16698d42f1b491fb9ca9ae2fe62aae7aa899b5ef&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52507?repo=metabase/metabase&commitHash=16698d42f1b491fb9ca9ae2fe62aae7aa899b5ef&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52507?repo=metabase/metabase&commitHash=16698d42f1b491fb9ca9ae2fe62aae7aa899b5ef&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52507?repo=metabase/metabase&commitHash=16698d42f1b491fb9ca9ae2fe62aae7aa899b5ef&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2803972467,pull_request,closed,,Allow passing aggregation functions to coalesce,"Closes https://github.com/metabase/metabase/issues/19289

### Description

This was already legal-ish, as [:* 1 [:sum ...]] was a valid argument to coalesce.  However, you couldn't pass in the sum directly.  Under the hood, NumericExpressionArg allowed aggregations, but ExpressionArg didn't.  Presumably, the one is supposed to be a superset of the other, and this change made that actually be true.

### How to verify

Query the sample orders table and aggregate on the custom expression `Sum([Total]) / coalesce(Sum([Discount]), 1)`.  If you can actually run the query, the fix works.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",wzimrin,2025-01-22 10:17:19+00:00,['wzimrin'],2025-01-23 16:51:51+00:00,2025-01-23 16:51:49+00:00,https://github.com/metabase/metabase/pull/52505,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2606899338, 'issue_id': 2803972467, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/137913_tests-1993468d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52505?repo=metabase/metabase&commitHash=1993468d45aed8c08167068aeffce4bb9e53fcab&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52505?repo=metabase/metabase&commitHash=1993468d45aed8c08167068aeffce4bb9e53fcab&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52505?repo=metabase/metabase&commitHash=1993468d45aed8c08167068aeffce4bb9e53fcab&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52505?repo=metabase/metabase&commitHash=1993468d45aed8c08167068aeffce4bb9e53fcab&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52505?repo=metabase/metabase&commitHash=1993468d45aed8c08167068aeffce4bb9e53fcab&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 10, 47, 7, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 10:47:07 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/137913_tests-1993468d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52505?repo=metabase/metabase&commitHash=1993468d45aed8c08167068aeffce4bb9e53fcab&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52505?repo=metabase/metabase&commitHash=1993468d45aed8c08167068aeffce4bb9e53fcab&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52505?repo=metabase/metabase&commitHash=1993468d45aed8c08167068aeffce4bb9e53fcab&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52505?repo=metabase/metabase&commitHash=1993468d45aed8c08167068aeffce4bb9e53fcab&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52505?repo=metabase/metabase&commitHash=1993468d45aed8c08167068aeffce4bb9e53fcab&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2803945185,pull_request,closed,,fix(sdk): fix save question form's cancel button height,"Closes https://github.com/metabase/metabase/issues/50010

### Description

We are mixing the legacy buttons with Mantine buttons, so its height is slightly different. Using Mantine buttons for both fixes the issue. You can reproduce this by creating a questions in the dashboard, then hit ""Save"". You can see the height differs for Cancel and Save.

<img src=""https://github.com/user-attachments/assets/4da0464e-07c6-402f-8593-71c5cbc0c123"" width=""300"">

You can also reproduce this by going to the deployed Shoppy demo at https://embedded-analytics-sdk-demo.metabase.com/admin/analytics/new/from-template

<img src=""https://github.com/user-attachments/assets/f4af9d41-b53e-4fc4-bd20-b4c169cda4fc"" width=""300"">

### How to verify

On the main app:

- Create a questions in the dashboard, then hit ""Save""
- Button height now looks the same.

<img src=""https://github.com/user-attachments/assets/d845fa25-057e-45d0-8cbf-957cc1887355"" width=""300"">
",heypoom,2025-01-22 10:05:28+00:00,['heypoom'],2025-01-23 05:55:28+00:00,2025-01-23 05:55:26+00:00,https://github.com/metabase/metabase/pull/52504,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2606869784, 'issue_id': 2803945185, 'author': 'heypoom', 'body': 'Will add a Storybook story and Loki test for SaveQuestionForm later, but decided not to do it now as it requires a bit of mocking.', 'created_at': datetime.datetime(2025, 1, 22, 10, 34, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606879467, 'issue_id': 2803945185, 'author': 'heypoom', 'body': '@npretto thanks for the reminder! was gonna add AdminWebapp but forgot 🙏🏻', 'created_at': datetime.datetime(2025, 1, 22, 10, 39, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606974572, 'issue_id': 2803945185, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13388_tests-1892095f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52504?repo=metabase/metabase&commitHash=1892095f8b26ab57a320661529f382e95ae59b4b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52504?repo=metabase/metabase&commitHash=1892095f8b26ab57a320661529f382e95ae59b4b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52504?repo=metabase/metabase&commitHash=1892095f8b26ab57a320661529f382e95ae59b4b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52504?repo=metabase/metabase&commitHash=1892095f8b26ab57a320661529f382e95ae59b4b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52504?repo=metabase/metabase&commitHash=1892095f8b26ab57a320661529f382e95ae59b4b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 11, 21, 22, tzinfo=datetime.timezone.utc)}]","heypoom (Issue Creator) on (2025-01-22 10:34:53 UTC): Will add a Storybook story and Loki test for SaveQuestionForm later, but decided not to do it now as it requires a bit of mocking.

heypoom (Issue Creator) on (2025-01-22 10:39:22 UTC): @npretto thanks for the reminder! was gonna add AdminWebapp but forgot 🙏🏻

trunk-io[bot] on (2025-01-22 11:21:22 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13388_tests-1892095f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52504?repo=metabase/metabase&commitHash=1892095f8b26ab57a320661529f382e95ae59b4b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52504?repo=metabase/metabase&commitHash=1892095f8b26ab57a320661529f382e95ae59b4b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52504?repo=metabase/metabase&commitHash=1892095f8b26ab57a320661529f382e95ae59b4b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52504?repo=metabase/metabase&commitHash=1892095f8b26ab57a320661529f382e95ae59b4b&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52504?repo=metabase/metabase&commitHash=1892095f8b26ab57a320661529f382e95ae59b4b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2803897107,pull_request,closed,,"🤖 backported ""Fix - Actions can't be made public""",#52314,github-automation-metabase,2025-01-22 09:45:23+00:00,"['kamilmielnik', 'github-automation-metabase']",2025-01-22 11:14:15+00:00,2025-01-22 10:14:03+00:00,https://github.com/metabase/metabase/pull/52503,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2606836335, 'issue_id': 2803897107, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3695_tests-a62e7b58-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52503?repo=metabase/metabase&commitHash=a62e7b580b17ae8cedb894e2aac33c847fe501e8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52503?repo=metabase/metabase&commitHash=a62e7b580b17ae8cedb894e2aac33c847fe501e8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52503?repo=metabase/metabase&commitHash=a62e7b580b17ae8cedb894e2aac33c847fe501e8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52503?repo=metabase/metabase&commitHash=a62e7b580b17ae8cedb894e2aac33c847fe501e8&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52503?repo=metabase/metabase&commitHash=a62e7b580b17ae8cedb894e2aac33c847fe501e8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 10, 20, 15, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 10:20:15 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3695_tests-a62e7b58-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52503?repo=metabase/metabase&commitHash=a62e7b580b17ae8cedb894e2aac33c847fe501e8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52503?repo=metabase/metabase&commitHash=a62e7b580b17ae8cedb894e2aac33c847fe501e8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52503?repo=metabase/metabase&commitHash=a62e7b580b17ae8cedb894e2aac33c847fe501e8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52503?repo=metabase/metabase&commitHash=a62e7b580b17ae8cedb894e2aac33c847fe501e8&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52503?repo=metabase/metabase&commitHash=a62e7b580b17ae8cedb894e2aac33c847fe501e8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2803888265,pull_request,closed,,[Notification] Fix unable to send test to webhook,"Fixes https://www.notion.so/metabase/Send-now-is-not-sent-to-webhook-destination-18269354c9018040876fe62ea6a08b10?pvs=4

The root cause is that when calling the `POST notification/send` endpoint, FE sends the notification-info that only include id of things such as: channel_id, user_id, template_id etc. This is expected and BE should hydrate those entties, but our hydration methods doesn't work with map, it only works with toucan2 instance, this PR updates to promote the map to a proper toucan2 instance",qnkhuat,2025-01-22 09:41:47+00:00,['qnkhuat'],2025-01-22 15:48:54+00:00,2025-01-22 14:45:30+00:00,https://github.com/metabase/metabase/pull/52502,"[('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2606830134, 'issue_id': 2803888265, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/95102_tests-b7549843-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52502?repo=metabase/metabase&commitHash=b754984319e148b45e9406366e7bff390c5b98fa&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52502?repo=metabase/metabase&commitHash=b754984319e148b45e9406366e7bff390c5b98fa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52502?repo=metabase/metabase&commitHash=b754984319e148b45e9406366e7bff390c5b98fa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52502?repo=metabase/metabase&commitHash=b754984319e148b45e9406366e7bff390c5b98fa&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52502?repo=metabase/metabase&commitHash=b754984319e148b45e9406366e7bff390c5b98fa&utm_source=gh-comment&runConclusion=FAILURE&runId=0d006a08-097c-51e9-9b29-2451ae02721e) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>create-notification-send-you-were-added-email-test</code> | The email notification was sent with incorrect recipients and subject. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52502?repo=metabase/metabase&commitHash=b754984319e148b45e9406366e7bff390c5b98fa&utm_source=gh-comment&runConclusion=FAILURE&runId=9cb4ebed-934f-59a3-b722-dc0163878d0e) |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52502?repo=metabase/metabase&commitHash=b754984319e148b45e9406366e7bff390c5b98fa&utm_source=gh-comment&runConclusion=FAILURE&runId=e847231b-2934-5f9c-a858-94abf2aec873) |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52502?repo=metabase/metabase&commitHash=b754984319e148b45e9406366e7bff390c5b98fa&utm_source=gh-comment&runConclusion=FAILURE&runId=598f2ec9-9339-51ae-8b3d-1080ce43ccf8) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52502?repo=metabase/metabase&commitHash=b754984319e148b45e9406366e7bff390c5b98fa&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 10, 17, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606862886, 'issue_id': 2803888265, 'author': 'KorowkaMu', 'body': 'Ok from the product side. Works as expected.', 'created_at': datetime.datetime(2025, 1, 22, 10, 31, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607420512, 'issue_id': 2803888265, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `b754984319e148b45e9406366e7bff390c5b98fa-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12910243141?pr=52502)\n\n  File | Test Name\n  ---- | ---------\n  `reproductions-1.cy.spec.js` | (_flaky_) issue 17514 > scenario 1 > should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its title (metabase#17514-1)', 'created_at': datetime.datetime(2025, 1, 22, 14, 37, 36, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 10:17:30 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/95102_tests-b7549843-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52502?repo=metabase/metabase&commitHash=b754984319e148b45e9406366e7bff390c5b98fa&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52502?repo=metabase/metabase&commitHash=b754984319e148b45e9406366e7bff390c5b98fa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52502?repo=metabase/metabase&commitHash=b754984319e148b45e9406366e7bff390c5b98fa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52502?repo=metabase/metabase&commitHash=b754984319e148b45e9406366e7bff390c5b98fa&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52502?repo=metabase/metabase&commitHash=b754984319e148b45e9406366e7bff390c5b98fa&utm_source=gh-comment&runConclusion=FAILURE&runId=0d006a08-097c-51e9-9b29-2451ae02721e) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>create-notification-send-you-were-added-email-test</code> | The email notification was sent with incorrect recipients and subject. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52502?repo=metabase/metabase&commitHash=b754984319e148b45e9406366e7bff390c5b98fa&utm_source=gh-comment&runConclusion=FAILURE&runId=9cb4ebed-934f-59a3-b722-dc0163878d0e) |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52502?repo=metabase/metabase&commitHash=b754984319e148b45e9406366e7bff390c5b98fa&utm_source=gh-comment&runConclusion=FAILURE&runId=e847231b-2934-5f9c-a858-94abf2aec873) |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52502?repo=metabase/metabase&commitHash=b754984319e148b45e9406366e7bff390c5b98fa&utm_source=gh-comment&runConclusion=FAILURE&runId=598f2ec9-9339-51ae-8b3d-1080ce43ccf8) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52502?repo=metabase/metabase&commitHash=b754984319e148b45e9406366e7bff390c5b98fa&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

KorowkaMu on (2025-01-22 10:31:44 UTC): Ok from the product side. Works as expected.

github-actions[bot] on (2025-01-22 14:37:36 UTC): ## e2e tests failed on `b754984319e148b45e9406366e7bff390c5b98fa-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12910243141?pr=52502)

  File | Test Name
  ---- | ---------
  `reproductions-1.cy.spec.js` | (_flaky_) issue 17514 > scenario 1 > should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its title (metabase#17514-1)

"
2803880459,pull_request,closed,,"🤖 backported ""Fixes ellipsis button hidden when dash card title is empty string""",#52305,github-automation-metabase,2025-01-22 09:38:23+00:00,"['lorem--ipsum', 'github-automation-metabase']",2025-01-22 11:15:49+00:00,2025-01-22 10:09:34+00:00,https://github.com/metabase/metabase/pull/52501,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2606737781, 'issue_id': 2803880459, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 5aeb9b6f8381ded07253fe748b655e22a5d5c109...562463eb8245ee69f46b9888fdd60deacd23530a.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/visualizations/CartesianChart/CartesianChart.tsx |', 'created_at': datetime.datetime(2025, 1, 22, 9, 40, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606829660, 'issue_id': 2803880459, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51859_tests-562463eb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52501?repo=metabase/metabase&commitHash=562463eb8245ee69f46b9888fdd60deacd23530a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52501?repo=metabase/metabase&commitHash=562463eb8245ee69f46b9888fdd60deacd23530a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52501?repo=metabase/metabase&commitHash=562463eb8245ee69f46b9888fdd60deacd23530a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52501?repo=metabase/metabase&commitHash=562463eb8245ee69f46b9888fdd60deacd23530a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52501?repo=metabase/metabase&commitHash=562463eb8245ee69f46b9888fdd60deacd23530a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 10, 17, 18, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-22 09:40:01 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 5aeb9b6f8381ded07253fe748b655e22a5d5c109...562463eb8245ee69f46b9888fdd60deacd23530a.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/visualizations/CartesianChart/CartesianChart.tsx |

trunk-io[bot] on (2025-01-22 10:17:18 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51859_tests-562463eb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52501?repo=metabase/metabase&commitHash=562463eb8245ee69f46b9888fdd60deacd23530a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52501?repo=metabase/metabase&commitHash=562463eb8245ee69f46b9888fdd60deacd23530a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52501?repo=metabase/metabase&commitHash=562463eb8245ee69f46b9888fdd60deacd23530a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52501?repo=metabase/metabase&commitHash=562463eb8245ee69f46b9888fdd60deacd23530a&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52501?repo=metabase/metabase&commitHash=562463eb8245ee69f46b9888fdd60deacd23530a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2803631612,pull_request,closed,,"🤖 backported ""Repro #7108 - Date fields not displayed on custom remapping""",#52429,github-automation-metabase,2025-01-22 07:40:41+00:00,"['kamilmielnik', 'github-automation-metabase']",2025-01-22 09:13:28+00:00,2025-01-22 08:07:59+00:00,https://github.com/metabase/metabase/pull/52498,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2606573174, 'issue_id': 2803631612, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3695_tests-ff027c85-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52498?repo=metabase/metabase&commitHash=ff027c85e1d306e6cefc607ba5d0b116b5985227&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52498?repo=metabase/metabase&commitHash=ff027c85e1d306e6cefc607ba5d0b116b5985227&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52498?repo=metabase/metabase&commitHash=ff027c85e1d306e6cefc607ba5d0b116b5985227&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52498?repo=metabase/metabase&commitHash=ff027c85e1d306e6cefc607ba5d0b116b5985227&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52498?repo=metabase/metabase&commitHash=ff027c85e1d306e6cefc607ba5d0b116b5985227&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 8, 22, 36, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 08:22:36 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3695_tests-ff027c85-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52498?repo=metabase/metabase&commitHash=ff027c85e1d306e6cefc607ba5d0b116b5985227&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52498?repo=metabase/metabase&commitHash=ff027c85e1d306e6cefc607ba5d0b116b5985227&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52498?repo=metabase/metabase&commitHash=ff027c85e1d306e6cefc607ba5d0b116b5985227&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52498?repo=metabase/metabase&commitHash=ff027c85e1d306e6cefc607ba5d0b116b5985227&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52498?repo=metabase/metabase&commitHash=ff027c85e1d306e6cefc607ba5d0b116b5985227&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2803630885,pull_request,closed,,"🤖 backported ""Fix - Default names for date and number filters are off""",  #52369,github-automation-metabase,2025-01-22 07:40:17+00:00,"['kamilmielnik', 'github-automation-metabase']",2025-01-22 09:22:07+00:00,2025-01-22 08:38:21+00:00,https://github.com/metabase/metabase/pull/52497,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2606552081, 'issue_id': 2803630885, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `df2c1b8b46e70edbfdb9625c33610db3d094b4be-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12903685189?pr=52497)\n\n  File | Test Name\n  ---- | ---------\n  `visualizations-tabular-reproductions.cy.spec.js` | issue 37726 > should not result in an error when you add a column after resizing an existing one (#37726)', 'created_at': datetime.datetime(2025, 1, 22, 8, 11, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606593100, 'issue_id': 2803630885, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51942_tests-df2c1b8b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52497?repo=metabase/metabase&commitHash=df2c1b8b46e70edbfdb9625c33610db3d094b4be&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52497?repo=metabase/metabase&commitHash=df2c1b8b46e70edbfdb9625c33610db3d094b4be&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52497?repo=metabase/metabase&commitHash=df2c1b8b46e70edbfdb9625c33610db3d094b4be&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52497?repo=metabase/metabase&commitHash=df2c1b8b46e70edbfdb9625c33610db3d094b4be&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\\#37726)</code> | The test timed out while trying to find an element with the text ""Product → Category"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52497?repo=metabase/metabase&commitHash=df2c1b8b46e70edbfdb9625c33610db3d094b4be&utm_source=gh-comment&runConclusion=FAILURE&runId=e5fa61cd-2cc5-5eb0-81c3-6cafd3a82fa5) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52497?repo=metabase/metabase&commitHash=df2c1b8b46e70edbfdb9625c33610db3d094b4be&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 8, 33, 6, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-22 08:11:28 UTC): ## e2e tests failed on `df2c1b8b46e70edbfdb9625c33610db3d094b4be-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12903685189?pr=52497)

  File | Test Name
  ---- | ---------
  `visualizations-tabular-reproductions.cy.spec.js` | issue 37726 > should not result in an error when you add a column after resizing an existing one (#37726)

trunk-io[bot] on (2025-01-22 08:33:06 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51942_tests-df2c1b8b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52497?repo=metabase/metabase&commitHash=df2c1b8b46e70edbfdb9625c33610db3d094b4be&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52497?repo=metabase/metabase&commitHash=df2c1b8b46e70edbfdb9625c33610db3d094b4be&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52497?repo=metabase/metabase&commitHash=df2c1b8b46e70edbfdb9625c33610db3d094b4be&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52497?repo=metabase/metabase&commitHash=df2c1b8b46e70edbfdb9625c33610db3d094b4be&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\#37726)</code> | The test timed out while trying to find an element with the text ""Product → Category"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52497?repo=metabase/metabase&commitHash=df2c1b8b46e70edbfdb9625c33610db3d094b4be&utm_source=gh-comment&runConclusion=FAILURE&runId=e5fa61cd-2cc5-5eb0-81c3-6cafd3a82fa5) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52497?repo=metabase/metabase&commitHash=df2c1b8b46e70edbfdb9625c33610db3d094b4be&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2803598128,pull_request,closed,,"🤖 backported ""Using 1 as max value in minibar chart rendering logic if the column i…""","  #51937
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-22 07:21:57+00:00,"['tsplude', 'github-automation-metabase']",2025-01-29 00:30:29+00:00,2025-01-28 23:01:02+00:00,https://github.com/metabase/metabase/pull/52495,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2616578544, 'issue_id': 2803598128, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13833_tests-df49c6b1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52495?repo=metabase/metabase&commitHash=df49c6b1a56c343a343b91d5b437e234cbf1b76e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52495?repo=metabase/metabase&commitHash=df49c6b1a56c343a343b91d5b437e234cbf1b76e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52495?repo=metabase/metabase&commitHash=df49c6b1a56c343a343b91d5b437e234cbf1b76e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52495?repo=metabase/metabase&commitHash=df49c6b1a56c343a343b91d5b437e234cbf1b76e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > dashboard > title drill on various charts titles become actual HTML anchors on focus and on hover</code> | The expected attribute \'href\' with value \'/question/86-line-chart\' was not found in the element \'<a.IiwSx.WrVjG.gDtsD.aAXaA.Ff0pN.emotion-1ymigxu.e... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52495?repo=metabase/metabase&commitHash=df49c6b1a56c343a343b91d5b437e234cbf1b76e&utm_source=gh-comment&runConclusion=FAILURE&runId=5bce32af-b2ba-5b5a-a776-70e95e50db41) |\n| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\\#37726)</code> | The test timed out while trying to find an element with the text ""Product → Category"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52495?repo=metabase/metabase&commitHash=df49c6b1a56c343a343b91d5b437e234cbf1b76e&utm_source=gh-comment&runConclusion=FAILURE&runId=a7345149-6fee-55e1-8e1b-bdfa479a9e4b) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52495?repo=metabase/metabase&commitHash=df49c6b1a56c343a343b91d5b437e234cbf1b76e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 27, 18, 25, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620172228, 'issue_id': 2803598128, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff b9e586dfeacf12ed04d559ba7784eb1f82457eaf...df49c6b1a56c343a343b91d5b437e234cbf1b76e.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/MiniBar.jsx<br>frontend/src/metabase/visualizations/components/MiniBar.unit.spec.js |', 'created_at': datetime.datetime(2025, 1, 28, 22, 19, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2620192550, 'issue_id': 2803598128, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `df49c6b1a56c343a343b91d5b437e234cbf1b76e-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13020584860?pr=52495)\n\n  File | Test Name\n  ---- | ---------\n  `title-drill.cy.spec.js` | scenarios > dashboard > title drill > on various charts > titles become actual HTML anchors on focus and on hover', 'created_at': datetime.datetime(2025, 1, 28, 22, 33, 43, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-27 18:25:17 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13833_tests-df49c6b1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52495?repo=metabase/metabase&commitHash=df49c6b1a56c343a343b91d5b437e234cbf1b76e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52495?repo=metabase/metabase&commitHash=df49c6b1a56c343a343b91d5b437e234cbf1b76e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52495?repo=metabase/metabase&commitHash=df49c6b1a56c343a343b91d5b437e234cbf1b76e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52495?repo=metabase/metabase&commitHash=df49c6b1a56c343a343b91d5b437e234cbf1b76e&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > dashboard > title drill on various charts titles become actual HTML anchors on focus and on hover</code> | The expected attribute 'href' with value '/question/86-line-chart' was not found in the element '<a.IiwSx.WrVjG.gDtsD.aAXaA.Ff0pN.emotion-1ymigxu.e... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52495?repo=metabase/metabase&commitHash=df49c6b1a56c343a343b91d5b437e234cbf1b76e&utm_source=gh-comment&runConclusion=FAILURE&runId=5bce32af-b2ba-5b5a-a776-70e95e50db41) |
| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\#37726)</code> | The test timed out while trying to find an element with the text ""Product → Category"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52495?repo=metabase/metabase&commitHash=df49c6b1a56c343a343b91d5b437e234cbf1b76e&utm_source=gh-comment&runConclusion=FAILURE&runId=a7345149-6fee-55e1-8e1b-bdfa479a9e4b) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52495?repo=metabase/metabase&commitHash=df49c6b1a56c343a343b91d5b437e234cbf1b76e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-28 22:19:24 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff b9e586dfeacf12ed04d559ba7784eb1f82457eaf...df49c6b1a56c343a343b91d5b437e234cbf1b76e.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/MiniBar.jsx<br>frontend/src/metabase/visualizations/components/MiniBar.unit.spec.js |

github-actions[bot] on (2025-01-28 22:33:43 UTC): ## e2e tests failed on `df49c6b1a56c343a343b91d5b437e234cbf1b76e-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13020584860?pr=52495)

  File | Test Name
  ---- | ---------
  `title-drill.cy.spec.js` | scenarios > dashboard > title drill > on various charts > titles become actual HTML anchors on focus and on hover

"
2803557143,pull_request,open,,[Notification] confirmation email when setting up alert,"Fix https://www.notion.so/metabase/Transaction-email-sent-to-the-alert-creator-18269354c9018010bbf1eff8f4812499?pvs=4 

The new alert confirmation email is one of the email we've migrated to system event notification, this PR makes it so that this system event is triggered when we publish :notification-create event.

Part of WRK-2",qnkhuat,2025-01-22 06:57:48+00:00,"['piranha', 'qnkhuat']",2025-02-03 09:12:34+00:00,,https://github.com/metabase/metabase/pull/52494,"[('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2606504726, 'issue_id': 2803557143, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/90516_tests-810900bf-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52494?repo=metabase/metabase&commitHash=810900bf8c210baecd482cd9429dadafedfd7d84&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52494?repo=metabase/metabase&commitHash=810900bf8c210baecd482cd9429dadafedfd7d84&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/8-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52494?repo=metabase/metabase&commitHash=810900bf8c210baecd482cd9429dadafedfd7d84&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52494?repo=metabase/metabase&commitHash=810900bf8c210baecd482cd9429dadafedfd7d84&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>v\\_alerts-test</code> | The recipients in the expected and actual results do not match. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52494?repo=metabase/metabase&commitHash=810900bf8c210baecd482cd9429dadafedfd7d84&utm_source=gh-comment&runConclusion=FAILURE&runId=af0924cd-f21b-55b1-a28f-c3fe78d2ac2c) |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52494?repo=metabase/metabase&commitHash=810900bf8c210baecd482cd9429dadafedfd7d84&utm_source=gh-comment&runConclusion=FAILURE&runId=e92b81de-ee3d-554b-bcca-6675acefad66) |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52494?repo=metabase/metabase&commitHash=810900bf8c210baecd482cd9429dadafedfd7d84&utm_source=gh-comment&runConclusion=FAILURE&runId=eb487ca1-ab8b-5a4a-b09a-bd1526286cc9) |\n| <code>v\\_alerts-test</code> | The recipients in the expected and actual results do not match. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52494?repo=metabase/metabase&commitHash=810900bf8c210baecd482cd9429dadafedfd7d84&utm_source=gh-comment&runConclusion=FAILURE&runId=dd623d3f-54c1-58d4-a0b6-3fe4e082c1b4) |\n\n[... and 4 more](https://app.trunk.io/metabase/flaky-tests/pr/52494?repo=metabase/metabase&commitHash=810900bf8c210baecd482cd9429dadafedfd7d84&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52494?repo=metabase/metabase&commitHash=810900bf8c210baecd482cd9429dadafedfd7d84&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 7, 42, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606810652, 'issue_id': 2803557143, 'author': 'crisptrutski', 'body': 'Oh, not sure if this is ready for review - maybe GH automatically added the reviewer for code owners?\r\n\r\nThis is going to trip us up, maybe we need another prompt that something is ready, rather than looking at reviewers.', 'created_at': datetime.datetime(2025, 1, 22, 10, 9, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606877030, 'issue_id': 2803557143, 'author': 'qnkhuat', 'body': '@crisptrutski yea I should have put ""WIP"" in the PR title and it will skip the request, anw this is ready for review!', 'created_at': datetime.datetime(2025, 1, 22, 10, 38, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606930942, 'issue_id': 2803557143, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `810900bf8c210baecd482cd9429dadafedfd7d84-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12906449986?pr=52494)\n\n  File | Test Name\n  ---- | ---------\n  `api-keys.cy.spec.ts` | scenarios > admin > settings > API keys > should show an error when a previously used key name is submitted', 'created_at': datetime.datetime(2025, 1, 22, 11, 1, 31, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 07:42:41 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/90516_tests-810900bf-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52494?repo=metabase/metabase&commitHash=810900bf8c210baecd482cd9429dadafedfd7d84&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52494?repo=metabase/metabase&commitHash=810900bf8c210baecd482cd9429dadafedfd7d84&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/8-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52494?repo=metabase/metabase&commitHash=810900bf8c210baecd482cd9429dadafedfd7d84&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52494?repo=metabase/metabase&commitHash=810900bf8c210baecd482cd9429dadafedfd7d84&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>v\_alerts-test</code> | The recipients in the expected and actual results do not match. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52494?repo=metabase/metabase&commitHash=810900bf8c210baecd482cd9429dadafedfd7d84&utm_source=gh-comment&runConclusion=FAILURE&runId=af0924cd-f21b-55b1-a28f-c3fe78d2ac2c) |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52494?repo=metabase/metabase&commitHash=810900bf8c210baecd482cd9429dadafedfd7d84&utm_source=gh-comment&runConclusion=FAILURE&runId=e92b81de-ee3d-554b-bcca-6675acefad66) |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52494?repo=metabase/metabase&commitHash=810900bf8c210baecd482cd9429dadafedfd7d84&utm_source=gh-comment&runConclusion=FAILURE&runId=eb487ca1-ab8b-5a4a-b09a-bd1526286cc9) |
| <code>v\_alerts-test</code> | The recipients in the expected and actual results do not match. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52494?repo=metabase/metabase&commitHash=810900bf8c210baecd482cd9429dadafedfd7d84&utm_source=gh-comment&runConclusion=FAILURE&runId=dd623d3f-54c1-58d4-a0b6-3fe4e082c1b4) |

[... and 4 more](https://app.trunk.io/metabase/flaky-tests/pr/52494?repo=metabase/metabase&commitHash=810900bf8c210baecd482cd9429dadafedfd7d84&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52494?repo=metabase/metabase&commitHash=810900bf8c210baecd482cd9429dadafedfd7d84&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

crisptrutski on (2025-01-22 10:09:01 UTC): Oh, not sure if this is ready for review - maybe GH automatically added the reviewer for code owners?

This is going to trip us up, maybe we need another prompt that something is ready, rather than looking at reviewers.

qnkhuat (Issue Creator) on (2025-01-22 10:38:12 UTC): @crisptrutski yea I should have put ""WIP"" in the PR title and it will skip the request, anw this is ready for review!

github-actions[bot] on (2025-01-22 11:01:31 UTC): ## e2e tests failed on `810900bf8c210baecd482cd9429dadafedfd7d84-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12906449986?pr=52494)

  File | Test Name
  ---- | ---------
  `api-keys.cy.spec.ts` | scenarios > admin > settings > API keys > should show an error when a previously used key name is submitted

"
2803451694,pull_request,closed,,Bump undici from 5.28.4 to 5.28.5,"Bumps [undici](https://github.com/nodejs/undici) from 5.28.4 to 5.28.5.
<details>
<summary>Release notes</summary>
<p><em>Sourced from <a href=""https://github.com/nodejs/undici/releases"">undici's releases</a>.</em></p>
<blockquote>
<h2>v5.28.5</h2>
<h1>⚠️ Security Release ⚠️</h1>
<p>Fixes CVE CVE-2025-22150 <a href=""https://github.com/nodejs/undici/security/advisories/GHSA-c76h-2ccp-4975"">https://github.com/nodejs/undici/security/advisories/GHSA-c76h-2ccp-4975</a> (embargoed until 22-01-2025).</p>
<p><strong>Full Changelog</strong>: <a href=""https://github.com/nodejs/undici/compare/v5.28.4...v5.28.5"">https://github.com/nodejs/undici/compare/v5.28.4...v5.28.5</a></p>
</blockquote>
</details>
<details>
<summary>Commits</summary>
<ul>
<li><a href=""https://github.com/nodejs/undici/commit/6139ed2e0c787853243de58ef7c4301b26ca66f2""><code>6139ed2</code></a> Bumped v5.28.5</li>
<li><a href=""https://github.com/nodejs/undici/commit/711e20772764c29f6622ddc937c63b6eefdf07d0""><code>711e207</code></a> Backport of c2d78cd</li>
<li>See full diff in <a href=""https://github.com/nodejs/undici/compare/v5.28.4...v5.28.5"">compare view</a></li>
</ul>
</details>
<br />


[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=undici&package-manager=npm_and_yarn&previous-version=5.28.4&new-version=5.28.5)](https://docs.github.com/en/github/managing-security-vulnerabilities/about-dependabot-security-updates#about-compatibility-scores)

Dependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.

[//]: # (dependabot-automerge-start)
[//]: # (dependabot-automerge-end)

---

<details>
<summary>Dependabot commands and options</summary>
<br />

You can trigger Dependabot actions by commenting on this PR:
- `@dependabot rebase` will rebase this PR
- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it
- `@dependabot merge` will merge this PR after your CI passes on it
- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it
- `@dependabot cancel merge` will cancel a previously requested merge and block automerging
- `@dependabot reopen` will reopen this PR if it is closed
- `@dependabot close` will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually
- `@dependabot show <dependency name> ignore conditions` will show all of the ignore conditions of the specified dependency
- `@dependabot ignore this major version` will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)
- `@dependabot ignore this minor version` will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)
- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)
You can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/metabase/metabase/network/alerts).

</details>",dependabot[bot],2025-01-22 05:51:38+00:00,[],2025-01-24 10:49:18+00:00,2025-01-22 07:46:16+00:00,https://github.com/metabase/metabase/pull/52493,"[('dependencies', None)]","[{'comment_id': 2606510517, 'issue_id': 2803451694, 'author': 'dependabot[bot]', 'body': ""OK, I won't notify you again about this release, but will get in touch when a new version is available. If you'd rather skip all updates until the next major or minor version, let me know by commenting `@dependabot ignore this major version` or `@dependabot ignore this minor version`.\n\nIf you change your mind, just re-open this PR and I'll resolve any conflicts on it."", 'created_at': datetime.datetime(2025, 1, 22, 7, 46, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612175790, 'issue_id': 2803451694, 'author': 'piranha', 'body': '@uladzimirdev why not though? :-)', 'created_at': datetime.datetime(2025, 1, 24, 10, 22, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612226525, 'issue_id': 2803451694, 'author': 'uladzimirdev', 'body': '@piranha it updated other packages as well, so I wanted to update this package manually and forgot to finish this task', 'created_at': datetime.datetime(2025, 1, 24, 10, 48, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612228131, 'issue_id': 2803451694, 'author': 'piranha', 'body': ""Ahhh cool let's do that 😁"", 'created_at': datetime.datetime(2025, 1, 24, 10, 49, 17, tzinfo=datetime.timezone.utc)}]","dependabot[bot] (Issue Creator) on (2025-01-22 07:46:18 UTC): OK, I won't notify you again about this release, but will get in touch when a new version is available. If you'd rather skip all updates until the next major or minor version, let me know by commenting `@dependabot ignore this major version` or `@dependabot ignore this minor version`.

If you change your mind, just re-open this PR and I'll resolve any conflicts on it.

piranha on (2025-01-24 10:22:17 UTC): @uladzimirdev why not though? :-)

uladzimirdev on (2025-01-24 10:48:27 UTC): @piranha it updated other packages as well, so I wanted to update this package manually and forgot to finish this task

piranha on (2025-01-24 10:49:17 UTC): Ahhh cool let's do that 😁

"
2803326514,pull_request,closed,,"🤖 backported ""Fix loader flicker and double scrollbars with the entity framework in Admin -> Data model -> Segments""","  #52411
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-22 04:14:28+00:00,"['ranquild', 'github-automation-metabase']",2025-01-22 16:44:53+00:00,2025-01-22 16:05:50+00:00,https://github.com/metabase/metabase/pull/52492,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2606285232, 'issue_id': 2803326514, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3697_tests-1960aef4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52492?repo=metabase/metabase&commitHash=1960aef4cc3fbc711a8df2d0c0232552e606efb4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52492?repo=metabase/metabase&commitHash=1960aef4cc3fbc711a8df2d0c0232552e606efb4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52492?repo=metabase/metabase&commitHash=1960aef4cc3fbc711a8df2d0c0232552e606efb4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52492?repo=metabase/metabase&commitHash=1960aef4cc3fbc711a8df2d0c0232552e606efb4&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52492?repo=metabase/metabase&commitHash=1960aef4cc3fbc711a8df2d0c0232552e606efb4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 4, 44, 49, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 04:44:49 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3697_tests-1960aef4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52492?repo=metabase/metabase&commitHash=1960aef4cc3fbc711a8df2d0c0232552e606efb4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52492?repo=metabase/metabase&commitHash=1960aef4cc3fbc711a8df2d0c0232552e606efb4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52492?repo=metabase/metabase&commitHash=1960aef4cc3fbc711a8df2d0c0232552e606efb4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52492?repo=metabase/metabase&commitHash=1960aef4cc3fbc711a8df2d0c0232552e606efb4&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52492?repo=metabase/metabase&commitHash=1960aef4cc3fbc711a8df2d0c0232552e606efb4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2803179837,pull_request,closed,,Auto-rewrite defendpoint forms in public.clj,,camsaul,2025-01-22 01:54:33+00:00,['camsaul'],2025-01-27 22:10:52+00:00,2025-01-22 18:43:59+00:00,https://github.com/metabase/metabase/pull/52490,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2606165707, 'issue_id': 2803179837, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/72781_tests-90366e23-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52490?repo=metabase/metabase&commitHash=90366e230f848fca2fecb749253cc933fd9c02f4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52490?repo=metabase/metabase&commitHash=90366e230f848fca2fecb749253cc933fd9c02f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52490?repo=metabase/metabase&commitHash=90366e230f848fca2fecb749253cc933fd9c02f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52490?repo=metabase/metabase&commitHash=90366e230f848fca2fecb749253cc933fd9c02f4&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>question loading changes document title should verify document title changes while loading a slow question (metabase\\#40051)</code> | The expected text 'Doing science... · Metabase' was not displayed within 4000ms, causing a timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52490?repo=metabase/metabase&commitHash=90366e230f848fca2fecb749253cc933fd9c02f4&utm_source=gh-comment&runConclusion=FAILURE&runId=b9bb39f7-3482-58d2-bd57-7af86b4aeaaa) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52490?repo=metabase/metabase&commitHash=90366e230f848fca2fecb749253cc933fd9c02f4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 22, 2, 47, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607888469, 'issue_id': 2803179837, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `90366e230f848fca2fecb749253cc933fd9c02f4-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12913723198?pr=52490)\n\n  File | Test Name\n  ---- | ---------\n  `document-title.cy.spec.js` | question loading changes document title > should verify document title changes while loading a slow question (metabase#40051)', 'created_at': datetime.datetime(2025, 1, 22, 17, 49, 13, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 02:47:36 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/72781_tests-90366e23-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52490?repo=metabase/metabase&commitHash=90366e230f848fca2fecb749253cc933fd9c02f4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52490?repo=metabase/metabase&commitHash=90366e230f848fca2fecb749253cc933fd9c02f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52490?repo=metabase/metabase&commitHash=90366e230f848fca2fecb749253cc933fd9c02f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52490?repo=metabase/metabase&commitHash=90366e230f848fca2fecb749253cc933fd9c02f4&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>question loading changes document title should verify document title changes while loading a slow question (metabase\#40051)</code> | The expected text 'Doing science... · Metabase' was not displayed within 4000ms, causing a timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52490?repo=metabase/metabase&commitHash=90366e230f848fca2fecb749253cc933fd9c02f4&utm_source=gh-comment&runConclusion=FAILURE&runId=b9bb39f7-3482-58d2-bd57-7af86b4aeaaa) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52490?repo=metabase/metabase&commitHash=90366e230f848fca2fecb749253cc933fd9c02f4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-22 17:49:13 UTC): ## e2e tests failed on `90366e230f848fca2fecb749253cc933fd9c02f4-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12913723198?pr=52490)

  File | Test Name
  ---- | ---------
  `document-title.cy.spec.js` | question loading changes document title > should verify document title changes while loading a slow question (metabase#40051)

"
2803168164,pull_request,closed,,Auto-rewrite defendpoint forms in user_key_value.clj,,camsaul,2025-01-22 01:42:00+00:00,['camsaul'],2025-01-27 22:10:51+00:00,2025-01-22 20:05:12+00:00,https://github.com/metabase/metabase/pull/52489,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2606138446, 'issue_id': 2803168164, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/110149_tests-95daa482-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52489?repo=metabase/metabase&commitHash=95daa4824d5eb63098e79ab4547e3e9e3f3aa7c2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52489?repo=metabase/metabase&commitHash=95daa4824d5eb63098e79ab4547e3e9e3f3aa7c2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/6-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52489?repo=metabase/metabase&commitHash=95daa4824d5eb63098e79ab4547e3e9e3f3aa7c2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52489?repo=metabase/metabase&commitHash=95daa4824d5eb63098e79ab4547e3e9e3f3aa7c2&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > organization > entity picker dashboard picker should not allow local search for \\`all personal collections\\`</code> | Unable to find an element with the text ""Admin personal dashboard 1"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52489?repo=metabase/metabase&commitHash=95daa4824d5eb63098e79ab4547e3e9e3f3aa7c2&utm_source=gh-comment&runConclusion=FAILURE&runId=be806934-670b-5f27-837b-04d2e72f106e) |\n| <code>scenarios > organization > entity picker dashboard picker should search for dashboards when there is no access to the root collection</code> | Unable to find an element with the text ""Regular dashboard 1"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52489?repo=metabase/metabase&commitHash=95daa4824d5eb63098e79ab4547e3e9e3f3aa7c2&utm_source=gh-comment&runConclusion=FAILURE&runId=e467675c-7511-5b2c-b52e-47db3f5a0041) |\n| <code>scenarios > organization > entity picker dashboard picker should search for dashboards for a normal user</code> | Unable to find an element with the text ""Root dashboard 1"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52489?repo=metabase/metabase&commitHash=95daa4824d5eb63098e79ab4547e3e9e3f3aa7c2&utm_source=gh-comment&runConclusion=FAILURE&runId=a2aa07d7-0503-5f77-aa84-9fe244245c68) |\n| <code>scenarios > organization > entity picker collection picker should not allow local search for \\`all personal collections\\`</code> | Unable to find an element with the text ""Admin personal collection 1"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52489?repo=metabase/metabase&commitHash=95daa4824d5eb63098e79ab4547e3e9e3f3aa7c2&utm_source=gh-comment&runConclusion=FAILURE&runId=b5305271-e5e5-5b34-b1cc-cecd39bafbc7) |\n\n[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/52489?repo=metabase/metabase&commitHash=95daa4824d5eb63098e79ab4547e3e9e3f3aa7c2&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52489?repo=metabase/metabase&commitHash=95daa4824d5eb63098e79ab4547e3e9e3f3aa7c2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 2, 19, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608069617, 'issue_id': 2803168164, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `95daa4824d5eb63098e79ab4547e3e9e3f3aa7c2-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12915188388?pr=52489)\n\n  File | Test Name\n  ---- | ---------\n  `entity-picker.cy.spec.ts` | scenarios > organization > entity picker > dashboard picker > should not allow local search for `all personal collections`', 'created_at': datetime.datetime(2025, 1, 22, 19, 15, 56, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 02:19:36 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/110149_tests-95daa482-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52489?repo=metabase/metabase&commitHash=95daa4824d5eb63098e79ab4547e3e9e3f3aa7c2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52489?repo=metabase/metabase&commitHash=95daa4824d5eb63098e79ab4547e3e9e3f3aa7c2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/6-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52489?repo=metabase/metabase&commitHash=95daa4824d5eb63098e79ab4547e3e9e3f3aa7c2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52489?repo=metabase/metabase&commitHash=95daa4824d5eb63098e79ab4547e3e9e3f3aa7c2&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > organization > entity picker dashboard picker should not allow local search for \`all personal collections\`</code> | Unable to find an element with the text ""Admin personal dashboard 1"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52489?repo=metabase/metabase&commitHash=95daa4824d5eb63098e79ab4547e3e9e3f3aa7c2&utm_source=gh-comment&runConclusion=FAILURE&runId=be806934-670b-5f27-837b-04d2e72f106e) |
| <code>scenarios > organization > entity picker dashboard picker should search for dashboards when there is no access to the root collection</code> | Unable to find an element with the text ""Regular dashboard 1"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52489?repo=metabase/metabase&commitHash=95daa4824d5eb63098e79ab4547e3e9e3f3aa7c2&utm_source=gh-comment&runConclusion=FAILURE&runId=e467675c-7511-5b2c-b52e-47db3f5a0041) |
| <code>scenarios > organization > entity picker dashboard picker should search for dashboards for a normal user</code> | Unable to find an element with the text ""Root dashboard 1"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52489?repo=metabase/metabase&commitHash=95daa4824d5eb63098e79ab4547e3e9e3f3aa7c2&utm_source=gh-comment&runConclusion=FAILURE&runId=a2aa07d7-0503-5f77-aa84-9fe244245c68) |
| <code>scenarios > organization > entity picker collection picker should not allow local search for \`all personal collections\`</code> | Unable to find an element with the text ""Admin personal collection 1"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52489?repo=metabase/metabase&commitHash=95daa4824d5eb63098e79ab4547e3e9e3f3aa7c2&utm_source=gh-comment&runConclusion=FAILURE&runId=b5305271-e5e5-5b34-b1cc-cecd39bafbc7) |

[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/52489?repo=metabase/metabase&commitHash=95daa4824d5eb63098e79ab4547e3e9e3f3aa7c2&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52489?repo=metabase/metabase&commitHash=95daa4824d5eb63098e79ab4547e3e9e3f3aa7c2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-22 19:15:56 UTC): ## e2e tests failed on `95daa4824d5eb63098e79ab4547e3e9e3f3aa7c2-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12915188388?pr=52489)

  File | Test Name
  ---- | ---------
  `entity-picker.cy.spec.ts` | scenarios > organization > entity picker > dashboard picker > should not allow local search for `all personal collections`

"
2803161909,pull_request,closed,,Auto-rewrite defendpoint forms in user.clj,,camsaul,2025-01-22 01:35:57+00:00,['camsaul'],2025-01-27 22:10:49+00:00,2025-01-22 20:31:52+00:00,https://github.com/metabase/metabase/pull/52488,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2606136666, 'issue_id': 2803161909, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/112288_tests-87ad686c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52488?repo=metabase/metabase&commitHash=87ad686c6b2229017066a698092c931e51521628&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/44-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52488?repo=metabase/metabase&commitHash=87ad686c6b2229017066a698092c931e51521628&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52488?repo=metabase/metabase&commitHash=87ad686c6b2229017066a698092c931e51521628&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52488?repo=metabase/metabase&commitHash=87ad686c6b2229017066a698092c931e51521628&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 25537 should be able to pick a saved model when using a non-english locale (metabase\\#25537)</code> | You do not have permission to execute the query. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52488?repo=metabase/metabase&commitHash=87ad686c6b2229017066a698092c931e51521628&utm_source=gh-comment&runConclusion=FAILURE&runId=b47b371b-2485-5086-8659-b1257ec86811) |\n| <code>issue 33035 databases page should work in a non-default locale (metabase\\#33035)</code> | The test timed out while trying to find an element with the text ""Orders"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52488?repo=metabase/metabase&commitHash=87ad686c6b2229017066a698092c931e51521628&utm_source=gh-comment&runConclusion=FAILURE&runId=d1abceef-1c73-5277-b4bd-e79a5f6794fb) |\n| <code>scenarios > dashboard > parameters in text and heading cards should localize date parameters in the instance locale</code> | The request to update site locale was denied due to lack of permissions. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52488?repo=metabase/metabase&commitHash=87ad686c6b2229017066a698092c931e51521628&utm_source=gh-comment&runConclusion=FAILURE&runId=65d2e8a6-3d4f-5e29-91e5-d97522f8e7db) |\n| <code>scenarios > dashboard > parameters in text and heading cards should translate parameter values into the instance language</code> | Update of site locale failed with 403 Forbidden error. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52488?repo=metabase/metabase&commitHash=87ad686c6b2229017066a698092c931e51521628&utm_source=gh-comment&runConclusion=FAILURE&runId=91b16d67-f27a-571d-90ee-bbfc96fdf26b) |\n\n[... and 40 more](https://app.trunk.io/metabase/flaky-tests/pr/52488?repo=metabase/metabase&commitHash=87ad686c6b2229017066a698092c931e51521628&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52488?repo=metabase/metabase&commitHash=87ad686c6b2229017066a698092c931e51521628&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 2, 17, 42, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 02:17:42 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/112288_tests-87ad686c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52488?repo=metabase/metabase&commitHash=87ad686c6b2229017066a698092c931e51521628&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/44-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52488?repo=metabase/metabase&commitHash=87ad686c6b2229017066a698092c931e51521628&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52488?repo=metabase/metabase&commitHash=87ad686c6b2229017066a698092c931e51521628&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52488?repo=metabase/metabase&commitHash=87ad686c6b2229017066a698092c931e51521628&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 25537 should be able to pick a saved model when using a non-english locale (metabase\#25537)</code> | You do not have permission to execute the query. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52488?repo=metabase/metabase&commitHash=87ad686c6b2229017066a698092c931e51521628&utm_source=gh-comment&runConclusion=FAILURE&runId=b47b371b-2485-5086-8659-b1257ec86811) |
| <code>issue 33035 databases page should work in a non-default locale (metabase\#33035)</code> | The test timed out while trying to find an element with the text ""Orders"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52488?repo=metabase/metabase&commitHash=87ad686c6b2229017066a698092c931e51521628&utm_source=gh-comment&runConclusion=FAILURE&runId=d1abceef-1c73-5277-b4bd-e79a5f6794fb) |
| <code>scenarios > dashboard > parameters in text and heading cards should localize date parameters in the instance locale</code> | The request to update site locale was denied due to lack of permissions. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52488?repo=metabase/metabase&commitHash=87ad686c6b2229017066a698092c931e51521628&utm_source=gh-comment&runConclusion=FAILURE&runId=65d2e8a6-3d4f-5e29-91e5-d97522f8e7db) |
| <code>scenarios > dashboard > parameters in text and heading cards should translate parameter values into the instance language</code> | Update of site locale failed with 403 Forbidden error. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52488?repo=metabase/metabase&commitHash=87ad686c6b2229017066a698092c931e51521628&utm_source=gh-comment&runConclusion=FAILURE&runId=91b16d67-f27a-571d-90ee-bbfc96fdf26b) |

[... and 40 more](https://app.trunk.io/metabase/flaky-tests/pr/52488?repo=metabase/metabase&commitHash=87ad686c6b2229017066a698092c931e51521628&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52488?repo=metabase/metabase&commitHash=87ad686c6b2229017066a698092c931e51521628&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2803160470,pull_request,open,,Use Skeleton loader for the History tab,"![image.png](https://graphite-user-uploaded-assets-prod.s3.amazonaws.com/utGnP2ljFMMNOgi82vVn/d27e870d-1dd7-4641-a0e8-6c1f9fcb9ab6.png)

",rafpaf,2025-01-22 01:34:46+00:00,['rafpaf'],2025-01-23 09:15:37+00:00,,https://github.com/metabase/metabase/pull/52487,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2606092262, 'issue_id': 2803160470, 'author': 'rafpaf', 'body': '* **#52487** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52487?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52487?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* **#52057** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52057?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 3 other dependent PRs ([#52354](https://github.com/metabase/metabase/pull/52354) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52354?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#52413](https://github.com/metabase/metabase/pull/52413) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52413?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#52460](https://github.com/metabase/metabase/pull/52460) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52460?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>)\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 22, 1, 35, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606136562, 'issue_id': 2803160470, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/1421_tests-70edd6e8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52487?repo=metabase/metabase&commitHash=70edd6e848417b043f076ea2682a0de2d7248f65&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/8-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52487?repo=metabase/metabase&commitHash=70edd6e848417b043f076ea2682a0de2d7248f65&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52487?repo=metabase/metabase&commitHash=70edd6e848417b043f076ea2682a0de2d7248f65&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52487?repo=metabase/metabase&commitHash=70edd6e848417b043f076ea2682a0de2d7248f65&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>formatting > whitelabel image uploads custom illustrations no data illustration should allow display the selected illustration at relevant places</code> | The \\`cy.wait()\\` command timed out waiting for the first request to the route \\`cardQuery86\\`, but no request was made. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52487?repo=metabase/metabase&commitHash=70edd6e848417b043f076ea2682a0de2d7248f65&utm_source=gh-comment&runConclusion=FAILURE&runId=feecad7d-2c38-580a-8029-b36c13782a82) |\n| <code>scenarios > premium > content verification premium token with paid features non-admin user should be able to see that a question has been verified...</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52487?repo=metabase/metabase&commitHash=70edd6e848417b043f076ea2682a0de2d7248f65&utm_source=gh-comment&runConclusion=FAILURE&runId=1786923c-2f04-5743-bc6a-5ef4877a5314) |\n| <code>scenarios > premium > content verification premium token with paid features non-admin user should be able to see that a dashboard has been verified...</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52487?repo=metabase/metabase&commitHash=70edd6e848417b043f076ea2682a0de2d7248f65&utm_source=gh-comment&runConclusion=FAILURE&runId=9a76e5c6-22a1-54cf-86a1-116a3fdbfd48) |\n| <code>scenarios > premium > content verification premium token with paid features an admin should be able to verify and unverify a saved question</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52487?repo=metabase/metabase&commitHash=70edd6e848417b043f076ea2682a0de2d7248f65&utm_source=gh-comment&runConclusion=FAILURE&runId=b82c98c1-fed0-541d-884b-9ded772ea9c8) |\n\n[... and 4 more](https://app.trunk.io/metabase/flaky-tests/pr/52487?repo=metabase/metabase&commitHash=70edd6e848417b043f076ea2682a0de2d7248f65&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52487?repo=metabase/metabase&commitHash=70edd6e848417b043f076ea2682a0de2d7248f65&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 2, 17, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607506240, 'issue_id': 2803160470, 'author': 'graphite-app[bot]', 'body': '### Graphite Automations\n<details><summary><a href=""https://app.graphite.dev/automations/?org=metabase&ruleId=Yrh2LAyyUc6276rpQngn&ref=gt-automation-github-comment"">""Warn authors when publishing large PRs""</a> took an action on this PR • (01/22/25)</summary><p>1 teammate was notified to this PR based on Raphael Krut-Landau\'s automation.</p></details>', 'created_at': datetime.datetime(2025, 1, 22, 15, 10, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607523793, 'issue_id': 2803160470, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 1ba4aba2d094eb45799a9963c294a21b0ed27b00...5a56f74283da7f0678c45820e766dac80a54cea0.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/feedback/Loader/Loader.tsx<br>frontend/src/metabase/ui/components/feedback/Loader/index.ts |', 'created_at': datetime.datetime(2025, 1, 22, 15, 16, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608312410, 'issue_id': 2803160470, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@rafpaf You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2025, 1, 22, 21, 31, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608344192, 'issue_id': 2803160470, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `5a56f74283da7f0678c45820e766dac80a54cea0-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12917436406?pr=52487)\n\n  File | Test Name\n  ---- | ---------\n  `whitelabel.cy.spec.js` | formatting > whitelabel > image uploads > custom illustrations > no data illustration > should allow display the selected illustration at relevant places', 'created_at': datetime.datetime(2025, 1, 22, 21, 50, 57, tzinfo=datetime.timezone.utc)}]","rafpaf (Issue Creator) on (2025-01-22 01:35:05 UTC): * **#52487** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52487?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52487?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* **#52057** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52057?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 3 other dependent PRs ([#52354](https://github.com/metabase/metabase/pull/52354) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52354?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#52413](https://github.com/metabase/metabase/pull/52413) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52413?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#52460](https://github.com/metabase/metabase/pull/52460) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52460?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>)
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2025-01-22 02:17:34 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/1421_tests-70edd6e8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52487?repo=metabase/metabase&commitHash=70edd6e848417b043f076ea2682a0de2d7248f65&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/8-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52487?repo=metabase/metabase&commitHash=70edd6e848417b043f076ea2682a0de2d7248f65&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52487?repo=metabase/metabase&commitHash=70edd6e848417b043f076ea2682a0de2d7248f65&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52487?repo=metabase/metabase&commitHash=70edd6e848417b043f076ea2682a0de2d7248f65&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>formatting > whitelabel image uploads custom illustrations no data illustration should allow display the selected illustration at relevant places</code> | The \`cy.wait()\` command timed out waiting for the first request to the route \`cardQuery86\`, but no request was made. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52487?repo=metabase/metabase&commitHash=70edd6e848417b043f076ea2682a0de2d7248f65&utm_source=gh-comment&runConclusion=FAILURE&runId=feecad7d-2c38-580a-8029-b36c13782a82) |
| <code>scenarios > premium > content verification premium token with paid features non-admin user should be able to see that a question has been verified...</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52487?repo=metabase/metabase&commitHash=70edd6e848417b043f076ea2682a0de2d7248f65&utm_source=gh-comment&runConclusion=FAILURE&runId=1786923c-2f04-5743-bc6a-5ef4877a5314) |
| <code>scenarios > premium > content verification premium token with paid features non-admin user should be able to see that a dashboard has been verified...</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52487?repo=metabase/metabase&commitHash=70edd6e848417b043f076ea2682a0de2d7248f65&utm_source=gh-comment&runConclusion=FAILURE&runId=9a76e5c6-22a1-54cf-86a1-116a3fdbfd48) |
| <code>scenarios > premium > content verification premium token with paid features an admin should be able to verify and unverify a saved question</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52487?repo=metabase/metabase&commitHash=70edd6e848417b043f076ea2682a0de2d7248f65&utm_source=gh-comment&runConclusion=FAILURE&runId=b82c98c1-fed0-541d-884b-9ded772ea9c8) |

[... and 4 more](https://app.trunk.io/metabase/flaky-tests/pr/52487?repo=metabase/metabase&commitHash=70edd6e848417b043f076ea2682a0de2d7248f65&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52487?repo=metabase/metabase&commitHash=70edd6e848417b043f076ea2682a0de2d7248f65&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

graphite-app[bot] on (2025-01-22 15:10:11 UTC): ### Graphite Automations
<details><summary><a href=""https://app.graphite.dev/automations/?org=metabase&ruleId=Yrh2LAyyUc6276rpQngn&ref=gt-automation-github-comment"">""Warn authors when publishing large PRs""</a> took an action on this PR • (01/22/25)</summary><p>1 teammate was notified to this PR based on Raphael Krut-Landau's automation.</p></details>

github-actions[bot] on (2025-01-22 15:16:55 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 1ba4aba2d094eb45799a9963c294a21b0ed27b00...5a56f74283da7f0678c45820e766dac80a54cea0.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/feedback/Loader/Loader.tsx<br>frontend/src/metabase/ui/components/feedback/Loader/index.ts |

github-actions[bot] on (2025-01-22 21:31:58 UTC): <!---conventional commit reminder comment ID-->
@rafpaf You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

github-actions[bot] on (2025-01-22 21:50:57 UTC): ## e2e tests failed on `5a56f74283da7f0678c45820e766dac80a54cea0-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12917436406?pr=52487)

  File | Test Name
  ---- | ---------
  `whitelabel.cy.spec.js` | formatting > whitelabel > image uploads > custom illustrations > no data illustration > should allow display the selected illustration at relevant places

"
2803158888,pull_request,closed,,Auto-rewrite defendpoint forms in util.clj,,camsaul,2025-01-22 01:33:20+00:00,['camsaul'],2025-01-27 22:10:43+00:00,2025-01-23 03:50:46+00:00,https://github.com/metabase/metabase/pull/52486,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2606136918, 'issue_id': 2803158888, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/89865_tests-d603c9da-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52486?repo=metabase/metabase&commitHash=d603c9da3c22dc18ed7e95aa41061e6b1de908b7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/43-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52486?repo=metabase/metabase&commitHash=d603c9da3c22dc18ed7e95aa41061e6b1de908b7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52486?repo=metabase/metabase&commitHash=d603c9da3c22dc18ed7e95aa41061e6b1de908b7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52486?repo=metabase/metabase&commitHash=d603c9da3c22dc18ed7e95aa41061e6b1de908b7&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>default-bucketing-test-3</code> | Automatic bucketing failed when using compound filter clauses in Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52486?repo=metabase/metabase&commitHash=d603c9da3c22dc18ed7e95aa41061e6b1de908b7&utm_source=gh-comment&runConclusion=FAILURE&runId=5152e880-efd5-5b79-ae45-92dab116fd22) |\n| <code>field-filter-param-test-2</code> | No table \'places\' found in Redshift database \'places-cam-likes\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52486?repo=metabase/metabase&commitHash=d603c9da3c22dc18ed7e95aa41061e6b1de908b7&utm_source=gh-comment&runConclusion=FAILURE&runId=526e185b-1929-5443-afca-a772be09eb83) |\n| <code>default-bucketing-test-2</code> | No table \'checkins\' found in the Redshift database \'office-checkins\'. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52486?repo=metabase/metabase&commitHash=d603c9da3c22dc18ed7e95aa41061e6b1de908b7&utm_source=gh-comment&runConclusion=FAILURE&runId=0c7c19f3-3db6-548a-9477-6d5e1e8049fb) |\n| <code>test-ssh-tunnel-reconnection</code> | No table \'venues\' found for Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52486?repo=metabase/metabase&commitHash=d603c9da3c22dc18ed7e95aa41061e6b1de908b7&utm_source=gh-comment&runConclusion=FAILURE&runId=cd16b2e1-d56e-56f1-af2c-473fac6cf670) |\n\n[... and 39 more](https://app.trunk.io/metabase/flaky-tests/pr/52486?repo=metabase/metabase&commitHash=d603c9da3c22dc18ed7e95aa41061e6b1de908b7&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>redshift-types-test</code> | The Redshift database query failed because the relation ""2025\\_01\\_22\\_c0ff6548\\_6448\\_481a\\_a411\\_90200d6c025f\\_schema.qooemaforgmjcvnobesb"" does... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52486?repo=metabase/metabase&commitHash=d603c9da3c22dc18ed7e95aa41061e6b1de908b7&utm_source=gh-comment&runConclusion=FAILURE&runId=0299f03c-b11f-5f88-864f-948981c07dbb) |\n| <code>describe-database-exclude-metabase-cache-test</code> | No Table \'users\' found for Redshift database. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52486?repo=metabase/metabase&commitHash=d603c9da3c22dc18ed7e95aa41061e6b1de908b7&utm_source=gh-comment&runConclusion=FAILURE&runId=e39a27f9-830b-5131-8c4c-d562b31f3f46) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52486?repo=metabase/metabase&commitHash=d603c9da3c22dc18ed7e95aa41061e6b1de908b7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 2, 17, 59, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 02:17:59 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/89865_tests-d603c9da-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52486?repo=metabase/metabase&commitHash=d603c9da3c22dc18ed7e95aa41061e6b1de908b7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/43-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52486?repo=metabase/metabase&commitHash=d603c9da3c22dc18ed7e95aa41061e6b1de908b7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52486?repo=metabase/metabase&commitHash=d603c9da3c22dc18ed7e95aa41061e6b1de908b7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52486?repo=metabase/metabase&commitHash=d603c9da3c22dc18ed7e95aa41061e6b1de908b7&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>default-bucketing-test-3</code> | Automatic bucketing failed when using compound filter clauses in Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52486?repo=metabase/metabase&commitHash=d603c9da3c22dc18ed7e95aa41061e6b1de908b7&utm_source=gh-comment&runConclusion=FAILURE&runId=5152e880-efd5-5b79-ae45-92dab116fd22) |
| <code>field-filter-param-test-2</code> | No table 'places' found in Redshift database 'places-cam-likes'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52486?repo=metabase/metabase&commitHash=d603c9da3c22dc18ed7e95aa41061e6b1de908b7&utm_source=gh-comment&runConclusion=FAILURE&runId=526e185b-1929-5443-afca-a772be09eb83) |
| <code>default-bucketing-test-2</code> | No table 'checkins' found in the Redshift database 'office-checkins'. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52486?repo=metabase/metabase&commitHash=d603c9da3c22dc18ed7e95aa41061e6b1de908b7&utm_source=gh-comment&runConclusion=FAILURE&runId=0c7c19f3-3db6-548a-9477-6d5e1e8049fb) |
| <code>test-ssh-tunnel-reconnection</code> | No table 'venues' found for Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52486?repo=metabase/metabase&commitHash=d603c9da3c22dc18ed7e95aa41061e6b1de908b7&utm_source=gh-comment&runConclusion=FAILURE&runId=cd16b2e1-d56e-56f1-af2c-473fac6cf670) |

[... and 39 more](https://app.trunk.io/metabase/flaky-tests/pr/52486?repo=metabase/metabase&commitHash=d603c9da3c22dc18ed7e95aa41061e6b1de908b7&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>redshift-types-test</code> | The Redshift database query failed because the relation ""2025\_01\_22\_c0ff6548\_6448\_481a\_a411\_90200d6c025f\_schema.qooemaforgmjcvnobesb"" does... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52486?repo=metabase/metabase&commitHash=d603c9da3c22dc18ed7e95aa41061e6b1de908b7&utm_source=gh-comment&runConclusion=FAILURE&runId=0299f03c-b11f-5f88-864f-948981c07dbb) |
| <code>describe-database-exclude-metabase-cache-test</code> | No Table 'users' found for Redshift database. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52486?repo=metabase/metabase&commitHash=d603c9da3c22dc18ed7e95aa41061e6b1de908b7&utm_source=gh-comment&runConclusion=FAILURE&runId=e39a27f9-830b-5131-8c4c-d562b31f3f46) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52486?repo=metabase/metabase&commitHash=d603c9da3c22dc18ed7e95aa41061e6b1de908b7&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2803157940,pull_request,closed,,Disable drill thrus for native queries with template-tag variables ,"Closes #49051

### Description

Disable drill thrus in `lib.drill-thru/available-drill-thus` if the query has `:template-tag` variables attached. Template tags of type `:snippet` and `:card` are still allowed.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New SQL query -> Sample Database -> `SELECT * FROM ORDERS WHERE TOTAL > {{Total}}`
2. Run and save the question
3. Click on one of the cell values or column headers in table viz
4. No drill thrus should appear
5. Edit the query to remove the template tag variable.
6. Optionally add snippets or card references like so:
    * `SELECT * FROM {{#123-my-card}} WHERE {{snippet:my snippet}}`
7. Save and run the query
8. Drill thrus should now be available

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",appleby,2025-01-22 01:32:28+00:00,['appleby'],2025-01-24 16:31:09+00:00,2025-01-24 16:31:07+00:00,https://github.com/metabase/metabase/pull/52485,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2606138746, 'issue_id': 2803157940, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/102197_tests-5ada9493-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52485?repo=metabase/metabase&commitHash=5ada9493ec764d3f89b7767fcf9c9aba5cdcf9e8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52485?repo=metabase/metabase&commitHash=5ada9493ec764d3f89b7767fcf9c9aba5cdcf9e8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52485?repo=metabase/metabase&commitHash=5ada9493ec764d3f89b7767fcf9c9aba5cdcf9e8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52485?repo=metabase/metabase&commitHash=5ada9493ec764d3f89b7767fcf9c9aba5cdcf9e8&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > model indexes should be able to search model index values and visit detail records</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52485?repo=metabase/metabase&commitHash=5ada9493ec764d3f89b7767fcf9c9aba5cdcf9e8&utm_source=gh-comment&runConclusion=FAILURE&runId=cdfb7708-ab33-5a8b-9684-aecc349bd18b) |\n| <code>scenarios > model indexes should be able to see details of a record outside the first 2000</code> | Unable to find an accessible element with the role ""option"" and name ""Anais Zieme"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52485?repo=metabase/metabase&commitHash=5ada9493ec764d3f89b7767fcf9c9aba5cdcf9e8&utm_source=gh-comment&runConclusion=FAILURE&runId=b9dce167-0088-5b67-ba23-986ffd99c964) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52485?repo=metabase/metabase&commitHash=5ada9493ec764d3f89b7767fcf9c9aba5cdcf9e8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 2, 19, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2611403311, 'issue_id': 2803157940, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `5ada9493ec764d3f89b7767fcf9c9aba5cdcf9e8-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12941775116?pr=52485)\n\n  File | Test Name\n  ---- | ---------\n  `model-indexes.cy.spec.js` | scenarios > model indexes > should be able to see details of a record outside the first 2000', 'created_at': datetime.datetime(2025, 1, 24, 2, 20, 22, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 02:19:53 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/102197_tests-5ada9493-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52485?repo=metabase/metabase&commitHash=5ada9493ec764d3f89b7767fcf9c9aba5cdcf9e8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52485?repo=metabase/metabase&commitHash=5ada9493ec764d3f89b7767fcf9c9aba5cdcf9e8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52485?repo=metabase/metabase&commitHash=5ada9493ec764d3f89b7767fcf9c9aba5cdcf9e8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52485?repo=metabase/metabase&commitHash=5ada9493ec764d3f89b7767fcf9c9aba5cdcf9e8&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > model indexes should be able to search model index values and visit detail records</code> | Unable to find an accessible element with the role ""option"" and name ""Small Marble Shoes"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52485?repo=metabase/metabase&commitHash=5ada9493ec764d3f89b7767fcf9c9aba5cdcf9e8&utm_source=gh-comment&runConclusion=FAILURE&runId=cdfb7708-ab33-5a8b-9684-aecc349bd18b) |
| <code>scenarios > model indexes should be able to see details of a record outside the first 2000</code> | Unable to find an accessible element with the role ""option"" and name ""Anais Zieme"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52485?repo=metabase/metabase&commitHash=5ada9493ec764d3f89b7767fcf9c9aba5cdcf9e8&utm_source=gh-comment&runConclusion=FAILURE&runId=b9dce167-0088-5b67-ba23-986ffd99c964) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52485?repo=metabase/metabase&commitHash=5ada9493ec764d3f89b7767fcf9c9aba5cdcf9e8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-24 02:20:22 UTC): ## e2e tests failed on `5ada9493ec764d3f89b7767fcf9c9aba5cdcf9e8-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12941775116?pr=52485)

  File | Test Name
  ---- | ---------
  `model-indexes.cy.spec.js` | scenarios > model indexes > should be able to see details of a record outside the first 2000

"
2803097160,pull_request,closed,,Fix numeric parameter value parsing when there are no connected database fields,"Fixes https://github.com/metabase/metabase/issues/51058

How to verify:
- Create a new SQL query `SELECT ID, RATING FROM PRODUCTS [[WHERE RATING = {{rating}}]]`. Make `Rating` a `number` parameter. Save it.
- Create a new dashboard with the question above. Add a `Number` / `Equal to` parameter and connect it to `Rating`.
- Setup a click behavior on the `ID` column. It should update the dashboard filter.
- Save the dashboard.
- After clicking on ID column values, the filter should be properly updated and the query executed.

Before
<img width=""1324"" alt=""Screenshot 2025-01-22 at 11 36 47"" src=""https://github.com/user-attachments/assets/7c7bd692-08c8-4e15-be12-739454c4e3e4"" />

After
<img width=""793"" alt=""Screenshot 2025-01-22 at 11 36 12"" src=""https://github.com/user-attachments/assets/41674b2e-8254-4063-b7cf-e5ca3366c644"" />
",ranquild,2025-01-22 00:35:29+00:00,['ranquild'],2025-01-22 19:15:46+00:00,2025-01-22 18:27:15+00:00,https://github.com/metabase/metabase/pull/52484,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2606075519, 'issue_id': 2803097160, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/41189_tests-d2b656a8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52484?repo=metabase/metabase&commitHash=d2b656a8cfddd33efecd9e6acc2e3966dd61e2e6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52484?repo=metabase/metabase&commitHash=d2b656a8cfddd33efecd9e6acc2e3966dd61e2e6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52484?repo=metabase/metabase&commitHash=d2b656a8cfddd33efecd9e6acc2e3966dd61e2e6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52484?repo=metabase/metabase&commitHash=d2b656a8cfddd33efecd9e6acc2e3966dd61e2e6&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52484?repo=metabase/metabase&commitHash=d2b656a8cfddd33efecd9e6acc2e3966dd61e2e6&utm_source=gh-comment&runConclusion=FAILURE&runId=fa595e9b-7c07-5e32-a621-c2da88173a15) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52484?repo=metabase/metabase&commitHash=d2b656a8cfddd33efecd9e6acc2e3966dd61e2e6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 1, 18, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607938028, 'issue_id': 2803097160, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `d2b656a8cfddd33efecd9e6acc2e3966dd61e2e6-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12914262747?pr=52484)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can share a dashboard card via public link', 'created_at': datetime.datetime(2025, 1, 22, 18, 13, 55, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 01:18:53 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/41189_tests-d2b656a8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52484?repo=metabase/metabase&commitHash=d2b656a8cfddd33efecd9e6acc2e3966dd61e2e6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52484?repo=metabase/metabase&commitHash=d2b656a8cfddd33efecd9e6acc2e3966dd61e2e6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52484?repo=metabase/metabase&commitHash=d2b656a8cfddd33efecd9e6acc2e3966dd61e2e6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52484?repo=metabase/metabase&commitHash=d2b656a8cfddd33efecd9e6acc2e3966dd61e2e6&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52484?repo=metabase/metabase&commitHash=d2b656a8cfddd33efecd9e6acc2e3966dd61e2e6&utm_source=gh-comment&runConclusion=FAILURE&runId=fa595e9b-7c07-5e32-a621-c2da88173a15) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52484?repo=metabase/metabase&commitHash=d2b656a8cfddd33efecd9e6acc2e3966dd61e2e6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-22 18:13:55 UTC): ## e2e tests failed on `d2b656a8cfddd33efecd9e6acc2e3966dd61e2e6-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12914262747?pr=52484)

  File | Test Name
  ---- | ---------
  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can share a dashboard card via public link

"
2803052396,pull_request,closed,,Fixes bug where scaled column is not respected in xlsx exports (#50518),"Closes #50518 

Column settings coming into xlsx streaming writer (which is a map that maps maps to maps...) uses column name in some cases:
```
{#:metabase.models.visualization-settings{:column-name ""TAX""} #:metabase.models.visualization-settings{:scale 0}}
```
Before this change, we were trying to use the column id and falling back to the column name in the absence of an id for grabbing the appropriate col settings. This change fixes the column setting keying logic to properly look for settings using the column ID and if that returns falsey then use the column name.",tsplude,2025-01-21 23:54:14+00:00,['tsplude'],2025-01-22 22:56:16+00:00,2025-01-22 22:26:19+00:00,https://github.com/metabase/metabase/pull/52482,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2606043205, 'issue_id': 2803052396, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/114942_tests-e65516c4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52482?repo=metabase/metabase&commitHash=e65516c41e92ae8344c59490fc532b4fceaad723&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52482?repo=metabase/metabase&commitHash=e65516c41e92ae8344c59490fc532b4fceaad723&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52482?repo=metabase/metabase&commitHash=e65516c41e92ae8344c59490fc532b4fceaad723&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52482?repo=metabase/metabase&commitHash=e65516c41e92ae8344c59490fc532b4fceaad723&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution for the test case. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52482?repo=metabase/metabase&commitHash=e65516c41e92ae8344c59490fc532b4fceaad723&utm_source=gh-comment&runConclusion=FAILURE&runId=d3d4e94a-fddb-5424-bded-699d123447c4) |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, but expected stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52482?repo=metabase/metabase&commitHash=e65516c41e92ae8344c59490fc532b4fceaad723&utm_source=gh-comment&runConclusion=FAILURE&runId=959e65b6-f67d-59ef-a777-6347dc386b7a) |\n| <code>e2e-storage-ingestion-test</code> | Expected entity to be equal to the result of extracting one field from another entity, but actual entity was different. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52482?repo=metabase/metabase&commitHash=e65516c41e92ae8344c59490fc532b4fceaad723&utm_source=gh-comment&runConclusion=FAILURE&runId=b38f3f3b-e98b-5976-8ae1-334721673f10) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52482?repo=metabase/metabase&commitHash=e65516c41e92ae8344c59490fc532b4fceaad723&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 0, 49, 25, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 00:49:25 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/114942_tests-e65516c4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52482?repo=metabase/metabase&commitHash=e65516c41e92ae8344c59490fc532b4fceaad723&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52482?repo=metabase/metabase&commitHash=e65516c41e92ae8344c59490fc532b4fceaad723&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52482?repo=metabase/metabase&commitHash=e65516c41e92ae8344c59490fc532b4fceaad723&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52482?repo=metabase/metabase&commitHash=e65516c41e92ae8344c59490fc532b4fceaad723&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution for the test case. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52482?repo=metabase/metabase&commitHash=e65516c41e92ae8344c59490fc532b4fceaad723&utm_source=gh-comment&runConclusion=FAILURE&runId=d3d4e94a-fddb-5424-bded-699d123447c4) |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, but expected stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52482?repo=metabase/metabase&commitHash=e65516c41e92ae8344c59490fc532b4fceaad723&utm_source=gh-comment&runConclusion=FAILURE&runId=959e65b6-f67d-59ef-a777-6347dc386b7a) |
| <code>e2e-storage-ingestion-test</code> | Expected entity to be equal to the result of extracting one field from another entity, but actual entity was different. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52482?repo=metabase/metabase&commitHash=e65516c41e92ae8344c59490fc532b4fceaad723&utm_source=gh-comment&runConclusion=FAILURE&runId=b38f3f3b-e98b-5976-8ae1-334721673f10) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52482?repo=metabase/metabase&commitHash=e65516c41e92ae8344c59490fc532b4fceaad723&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2803048793,pull_request,closed,,Auto-rewrite defendpoint forms in dashboard.clj,Fixes #52760,camsaul,2025-01-21 23:50:53+00:00,['camsaul'],2025-01-27 23:34:56+00:00,2025-01-27 23:06:07+00:00,https://github.com/metabase/metabase/pull/52481,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DevEx', '')]","[{'comment_id': 2606032132, 'issue_id': 2803048793, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/97253_tests-5d5c55a5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52481?repo=metabase/metabase&commitHash=5d5c55a5f496370802da199aa8c038b346b796fc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/287-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52481?repo=metabase/metabase&commitHash=5d5c55a5f496370802da199aa8c038b346b796fc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52481?repo=metabase/metabase&commitHash=5d5c55a5f496370802da199aa8c038b346b796fc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52481?repo=metabase/metabase&commitHash=5d5c55a5f496370802da199aa8c038b346b796fc&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>supports-schemas-matches-describe-database-test</code> | The Redshift database does not have a schema with a table. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52481?repo=metabase/metabase&commitHash=5d5c55a5f496370802da199aa8c038b346b796fc&utm_source=gh-comment&runConclusion=FAILURE&runId=485d1f8a-c564-5fa6-aed5-f283afed4e02) |\n| <code>question loading changes document title should verify document title changes while loading a slow question (metabase\\#40051)</code> | The expected text \'Doing science... · Metabase\' was not matched with the actual text \'Question · Metabase\' within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52481?repo=metabase/metabase&commitHash=5d5c55a5f496370802da199aa8c038b346b796fc&utm_source=gh-comment&runConclusion=FAILURE&runId=35d61b09-0422-5ab1-be8c-ddab4ece0462) |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52481?repo=metabase/metabase&commitHash=5d5c55a5f496370802da199aa8c038b346b796fc&utm_source=gh-comment&runConclusion=FAILURE&runId=45133e2c-c3f1-52c9-952f-97020f51fa68) |\n| <code>floating-point-division-test</code> | Connection to Hive database was refused. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52481?repo=metabase/metabase&commitHash=5d5c55a5f496370802da199aa8c038b346b796fc&utm_source=gh-comment&runConclusion=FAILURE&runId=b09ecfe3-28e3-522a-b77c-2ff425fba038) |\n\n[... and 283 more](https://app.trunk.io/metabase/flaky-tests/pr/52481?repo=metabase/metabase&commitHash=5d5c55a5f496370802da199aa8c038b346b796fc&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52481?repo=metabase/metabase&commitHash=5d5c55a5f496370802da199aa8c038b346b796fc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 0, 39, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2617021682, 'issue_id': 2803048793, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `5d5c55a5f496370802da199aa8c038b346b796fc-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12999236526?pr=52481)\n\n  File | Test Name\n  ---- | ---------\n  `document-title.cy.spec.js` | question loading changes document title > should verify document title changes while loading a slow question (metabase#40051)', 'created_at': datetime.datetime(2025, 1, 27, 22, 22, 11, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 00:39:08 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/97253_tests-5d5c55a5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52481?repo=metabase/metabase&commitHash=5d5c55a5f496370802da199aa8c038b346b796fc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/287-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52481?repo=metabase/metabase&commitHash=5d5c55a5f496370802da199aa8c038b346b796fc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52481?repo=metabase/metabase&commitHash=5d5c55a5f496370802da199aa8c038b346b796fc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52481?repo=metabase/metabase&commitHash=5d5c55a5f496370802da199aa8c038b346b796fc&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>supports-schemas-matches-describe-database-test</code> | The Redshift database does not have a schema with a table. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52481?repo=metabase/metabase&commitHash=5d5c55a5f496370802da199aa8c038b346b796fc&utm_source=gh-comment&runConclusion=FAILURE&runId=485d1f8a-c564-5fa6-aed5-f283afed4e02) |
| <code>question loading changes document title should verify document title changes while loading a slow question (metabase\#40051)</code> | The expected text 'Doing science... · Metabase' was not matched with the actual text 'Question · Metabase' within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52481?repo=metabase/metabase&commitHash=5d5c55a5f496370802da199aa8c038b346b796fc&utm_source=gh-comment&runConclusion=FAILURE&runId=35d61b09-0422-5ab1-be8c-ddab4ece0462) |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52481?repo=metabase/metabase&commitHash=5d5c55a5f496370802da199aa8c038b346b796fc&utm_source=gh-comment&runConclusion=FAILURE&runId=45133e2c-c3f1-52c9-952f-97020f51fa68) |
| <code>floating-point-division-test</code> | Connection to Hive database was refused. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52481?repo=metabase/metabase&commitHash=5d5c55a5f496370802da199aa8c038b346b796fc&utm_source=gh-comment&runConclusion=FAILURE&runId=b09ecfe3-28e3-522a-b77c-2ff425fba038) |

[... and 283 more](https://app.trunk.io/metabase/flaky-tests/pr/52481?repo=metabase/metabase&commitHash=5d5c55a5f496370802da199aa8c038b346b796fc&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52481?repo=metabase/metabase&commitHash=5d5c55a5f496370802da199aa8c038b346b796fc&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-27 22:22:11 UTC): ## e2e tests failed on `5d5c55a5f496370802da199aa8c038b346b796fc-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12999236526?pr=52481)

  File | Test Name
  ---- | ---------
  `document-title.cy.spec.js` | question loading changes document title > should verify document title changes while loading a slow question (metabase#40051)

"
2803044382,pull_request,closed,,"🤖 backported ""Update keyboard command palette nav to support ctrl + enter""",#52285,github-automation-metabase,2025-01-21 23:46:37+00:00,"['npfitz', 'github-automation-metabase']",2025-01-27 15:14:10+00:00,2025-01-27 15:14:09+00:00,https://github.com/metabase/metabase/pull/52480,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2606052394, 'issue_id': 2803044382, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/23580_tests-6c5b6ee1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52480?repo=metabase/metabase&commitHash=6c5b6ee182c14c7ec8b5386cbb0920f0d384293e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52480?repo=metabase/metabase&commitHash=6c5b6ee182c14c7ec8b5386cbb0920f0d384293e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52480?repo=metabase/metabase&commitHash=6c5b6ee182c14c7ec8b5386cbb0920f0d384293e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52480?repo=metabase/metabase&commitHash=6c5b6ee182c14c7ec8b5386cbb0920f0d384293e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>useIsParameterPanelSticky sets isStickyStateChanging to true and false before and after isSticky is changed</code> | failure\\_text: Error: expect(received).toBe(expected) // Object.is equalityExpected: trueReceived: false    at Object.toBe (/home/runner/work/metab... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52480?repo=metabase/metabase&commitHash=6c5b6ee182c14c7ec8b5386cbb0920f0d384293e&utm_source=gh-comment&runConclusion=FAILURE&runId=1b4fe3d6-8469-5316-8da3-4e56dfadc88b) |\n| <code>useIsParameterPanelSticky sets isStickyStateChanging to true and false before and after isSticky is changed</code> | failure\\_text: Error: expect(received).toBe(expected) // Object.is equalityExpected: trueReceived: false    at Object.toBe (/home/runner/work/metab... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52480?repo=metabase/metabase&commitHash=6c5b6ee182c14c7ec8b5386cbb0920f0d384293e&utm_source=gh-comment&runConclusion=FAILURE&runId=caba5764-8856-5d06-acec-514da512dd94) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>BucketPickerPopover should collapse after popover is closed</code> | The element is not visible because it is null. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52480?repo=metabase/metabase&commitHash=6c5b6ee182c14c7ec8b5386cbb0920f0d384293e&utm_source=gh-comment&runConclusion=FAILURE&runId=1a35beef-cc27-5687-8063-0b7cff1fa8ab) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52480?repo=metabase/metabase&commitHash=6c5b6ee182c14c7ec8b5386cbb0920f0d384293e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 0, 57, 33, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 00:57:33 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/23580_tests-6c5b6ee1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52480?repo=metabase/metabase&commitHash=6c5b6ee182c14c7ec8b5386cbb0920f0d384293e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52480?repo=metabase/metabase&commitHash=6c5b6ee182c14c7ec8b5386cbb0920f0d384293e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52480?repo=metabase/metabase&commitHash=6c5b6ee182c14c7ec8b5386cbb0920f0d384293e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52480?repo=metabase/metabase&commitHash=6c5b6ee182c14c7ec8b5386cbb0920f0d384293e&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>useIsParameterPanelSticky sets isStickyStateChanging to true and false before and after isSticky is changed</code> | failure\_text: Error: expect(received).toBe(expected) // Object.is equalityExpected: trueReceived: false    at Object.toBe (/home/runner/work/metab... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52480?repo=metabase/metabase&commitHash=6c5b6ee182c14c7ec8b5386cbb0920f0d384293e&utm_source=gh-comment&runConclusion=FAILURE&runId=1b4fe3d6-8469-5316-8da3-4e56dfadc88b) |
| <code>useIsParameterPanelSticky sets isStickyStateChanging to true and false before and after isSticky is changed</code> | failure\_text: Error: expect(received).toBe(expected) // Object.is equalityExpected: trueReceived: false    at Object.toBe (/home/runner/work/metab... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52480?repo=metabase/metabase&commitHash=6c5b6ee182c14c7ec8b5386cbb0920f0d384293e&utm_source=gh-comment&runConclusion=FAILURE&runId=caba5764-8856-5d06-acec-514da512dd94) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>BucketPickerPopover should collapse after popover is closed</code> | The element is not visible because it is null. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52480?repo=metabase/metabase&commitHash=6c5b6ee182c14c7ec8b5386cbb0920f0d384293e&utm_source=gh-comment&runConclusion=FAILURE&runId=1a35beef-cc27-5687-8063-0b7cff1fa8ab) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52480?repo=metabase/metabase&commitHash=6c5b6ee182c14c7ec8b5386cbb0920f0d384293e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2803033144,pull_request,closed,,Auto-rewrite defendpoint forms in collection.clj,,camsaul,2025-01-21 23:35:20+00:00,['camsaul'],2025-01-27 22:11:01+00:00,2025-01-22 01:29:29+00:00,https://github.com/metabase/metabase/pull/52479,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2606006981, 'issue_id': 2803033144, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `bf3f85f89e9dda181605d4a7fa1dc0116706aa45-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12898224822?pr=52479)\n\n  File | Test Name\n  ---- | ---------\n  `reproductions-1.cy.spec.js` | (_flaky_) issue 17514 > scenario 1 > should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its title (metabase#17514-1)', 'created_at': datetime.datetime(2025, 1, 22, 0, 17, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606017428, 'issue_id': 2803033144, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/114118_tests-bf3f85f8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52479?repo=metabase/metabase&commitHash=bf3f85f89e9dda181605d4a7fa1dc0116706aa45&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52479?repo=metabase/metabase&commitHash=bf3f85f89e9dda181605d4a7fa1dc0116706aa45&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52479?repo=metabase/metabase&commitHash=bf3f85f89e9dda181605d4a7fa1dc0116706aa45&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52479?repo=metabase/metabase&commitHash=bf3f85f89e9dda181605d4a7fa1dc0116706aa45&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>get-database-can-upload-test</code> | The schema ""2025\\_01\\_20\\_af25eb29\\_5e8f\\_4309\\_aec3\\_d93f1649b86a\\_schema"" was dropped by a concurrent transaction. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52479?repo=metabase/metabase&commitHash=bf3f85f89e9dda181605d4a7fa1dc0116706aa45&utm_source=gh-comment&runConclusion=FAILURE&runId=d6ed06b1-93fc-5bc9-b4ac-a30c910cad5c) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52479?repo=metabase/metabase&commitHash=bf3f85f89e9dda181605d4a7fa1dc0116706aa45&utm_source=gh-comment&runConclusion=FAILURE&runId=fb807a23-6989-5c58-a004-3f7c18ed8571) |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52479?repo=metabase/metabase&commitHash=bf3f85f89e9dda181605d4a7fa1dc0116706aa45&utm_source=gh-comment&runConclusion=FAILURE&runId=053c1799-2457-514c-8fce-ecd54a0b900d) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52479?repo=metabase/metabase&commitHash=bf3f85f89e9dda181605d4a7fa1dc0116706aa45&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 0, 26, 17, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-22 00:17:54 UTC): ## e2e tests failed on `bf3f85f89e9dda181605d4a7fa1dc0116706aa45-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12898224822?pr=52479)

  File | Test Name
  ---- | ---------
  `reproductions-1.cy.spec.js` | (_flaky_) issue 17514 > scenario 1 > should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its title (metabase#17514-1)

trunk-io[bot] on (2025-01-22 00:26:17 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/114118_tests-bf3f85f8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52479?repo=metabase/metabase&commitHash=bf3f85f89e9dda181605d4a7fa1dc0116706aa45&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52479?repo=metabase/metabase&commitHash=bf3f85f89e9dda181605d4a7fa1dc0116706aa45&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52479?repo=metabase/metabase&commitHash=bf3f85f89e9dda181605d4a7fa1dc0116706aa45&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52479?repo=metabase/metabase&commitHash=bf3f85f89e9dda181605d4a7fa1dc0116706aa45&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>get-database-can-upload-test</code> | The schema ""2025\_01\_20\_af25eb29\_5e8f\_4309\_aec3\_d93f1649b86a\_schema"" was dropped by a concurrent transaction. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52479?repo=metabase/metabase&commitHash=bf3f85f89e9dda181605d4a7fa1dc0116706aa45&utm_source=gh-comment&runConclusion=FAILURE&runId=d6ed06b1-93fc-5bc9-b4ac-a30c910cad5c) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52479?repo=metabase/metabase&commitHash=bf3f85f89e9dda181605d4a7fa1dc0116706aa45&utm_source=gh-comment&runConclusion=FAILURE&runId=fb807a23-6989-5c58-a004-3f7c18ed8571) |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52479?repo=metabase/metabase&commitHash=bf3f85f89e9dda181605d4a7fa1dc0116706aa45&utm_source=gh-comment&runConclusion=FAILURE&runId=053c1799-2457-514c-8fce-ecd54a0b900d) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52479?repo=metabase/metabase&commitHash=bf3f85f89e9dda181605d4a7fa1dc0116706aa45&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2803028568,pull_request,closed,,Auto-rewrite defendpoint forms in cloud_migration.clj,,camsaul,2025-01-21 23:31:50+00:00,['camsaul'],2025-01-27 22:10:53+00:00,2025-01-22 17:38:42+00:00,https://github.com/metabase/metabase/pull/52478,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2605976491, 'issue_id': 2803028568, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `fac81c44a55245ee34f91d913af1f21c763f45b1-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12897881656?pr=52478)\n\n  File | Test Name\n  ---- | ---------\n  `pie_chart.cy.spec.js` | scenarios > visualizations > pie chart > should mute items in legend when hovering (metabase#29224)', 'created_at': datetime.datetime(2025, 1, 21, 23, 52, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606017155, 'issue_id': 2803028568, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/75911_tests-fac81c44-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52478?repo=metabase/metabase&commitHash=fac81c44a55245ee34f91d913af1f21c763f45b1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/383-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52478?repo=metabase/metabase&commitHash=fac81c44a55245ee34f91d913af1f21c763f45b1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52478?repo=metabase/metabase&commitHash=fac81c44a55245ee34f91d913af1f21c763f45b1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52478?repo=metabase/metabase&commitHash=fac81c44a55245ee34f91d913af1f21c763f45b1&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>offset-expression-test</code> | Connection to Hive database refused, preventing query execution. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52478?repo=metabase/metabase&commitHash=fac81c44a55245ee34f91d913af1f21c763f45b1&utm_source=gh-comment&runConclusion=FAILURE&runId=fdecefd7-b940-57c6-b546-70ddab352a4c) |\n| <code>filter-test</code> | Connection to Hive database was refused. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52478?repo=metabase/metabase&commitHash=fac81c44a55245ee34f91d913af1f21c763f45b1&utm_source=gh-comment&runConclusion=FAILURE&runId=7ee91446-6a45-53f4-b266-793483efe2ec) |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:324:sparksqlrefingerprints up to a limitexpected: (<= @\\#'sync.fingerprint/max-refingerprint-field-count attem... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52478?repo=metabase/metabase&commitHash=fac81c44a55245ee34f91d913af1f21c763f45b1&utm_source=gh-comment&runConclusion=FAILURE&runId=ea3f6344-ac2d-5ea2-a26b-edcbe76d93fd) |\n| <code>join-against-query-with-implicit-joins-test</code> | Socket connection was closed by peer, preventing query execution. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52478?repo=metabase/metabase&commitHash=fac81c44a55245ee34f91d913af1f21c763f45b1&utm_source=gh-comment&runConclusion=FAILURE&runId=60ac047f-c4e4-564a-abef-1a6efa8ed687) |\n\n[... and 379 more](https://app.trunk.io/metabase/flaky-tests/pr/52478?repo=metabase/metabase&commitHash=fac81c44a55245ee34f91d913af1f21c763f45b1&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>describe-database-sanity-check-test</code> | The specified Redshift table does not exist, causing a failure in database synchronization. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52478?repo=metabase/metabase&commitHash=fac81c44a55245ee34f91d913af1f21c763f45b1&utm_source=gh-comment&runConclusion=FAILURE&runId=c811e59d-5fa3-5678-9aea-f4cdfd7b1488) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52478?repo=metabase/metabase&commitHash=fac81c44a55245ee34f91d913af1f21c763f45b1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 22, 0, 26, 4, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-21 23:52:14 UTC): ## e2e tests failed on `fac81c44a55245ee34f91d913af1f21c763f45b1-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12897881656?pr=52478)

  File | Test Name
  ---- | ---------
  `pie_chart.cy.spec.js` | scenarios > visualizations > pie chart > should mute items in legend when hovering (metabase#29224)

trunk-io[bot] on (2025-01-22 00:26:04 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/75911_tests-fac81c44-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52478?repo=metabase/metabase&commitHash=fac81c44a55245ee34f91d913af1f21c763f45b1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/383-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52478?repo=metabase/metabase&commitHash=fac81c44a55245ee34f91d913af1f21c763f45b1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52478?repo=metabase/metabase&commitHash=fac81c44a55245ee34f91d913af1f21c763f45b1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52478?repo=metabase/metabase&commitHash=fac81c44a55245ee34f91d913af1f21c763f45b1&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>offset-expression-test</code> | Connection to Hive database refused, preventing query execution. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52478?repo=metabase/metabase&commitHash=fac81c44a55245ee34f91d913af1f21c763f45b1&utm_source=gh-comment&runConclusion=FAILURE&runId=fdecefd7-b940-57c6-b546-70ddab352a4c) |
| <code>filter-test</code> | Connection to Hive database was refused. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52478?repo=metabase/metabase&commitHash=fac81c44a55245ee34f91d913af1f21c763f45b1&utm_source=gh-comment&runConclusion=FAILURE&runId=7ee91446-6a45-53f4-b266-793483efe2ec) |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:324:sparksqlrefingerprints up to a limitexpected: (<= @\#'sync.fingerprint/max-refingerprint-field-count attem... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52478?repo=metabase/metabase&commitHash=fac81c44a55245ee34f91d913af1f21c763f45b1&utm_source=gh-comment&runConclusion=FAILURE&runId=ea3f6344-ac2d-5ea2-a26b-edcbe76d93fd) |
| <code>join-against-query-with-implicit-joins-test</code> | Socket connection was closed by peer, preventing query execution. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52478?repo=metabase/metabase&commitHash=fac81c44a55245ee34f91d913af1f21c763f45b1&utm_source=gh-comment&runConclusion=FAILURE&runId=60ac047f-c4e4-564a-abef-1a6efa8ed687) |

[... and 379 more](https://app.trunk.io/metabase/flaky-tests/pr/52478?repo=metabase/metabase&commitHash=fac81c44a55245ee34f91d913af1f21c763f45b1&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>describe-database-sanity-check-test</code> | The specified Redshift table does not exist, causing a failure in database synchronization. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52478?repo=metabase/metabase&commitHash=fac81c44a55245ee34f91d913af1f21c763f45b1&utm_source=gh-comment&runConclusion=FAILURE&runId=c811e59d-5fa3-5678-9aea-f4cdfd7b1488) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52478?repo=metabase/metabase&commitHash=fac81c44a55245ee34f91d913af1f21c763f45b1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2803025726,pull_request,closed,,Auto-rewrite defendpoint forms in cards.clj,,camsaul,2025-01-21 23:29:23+00:00,['camsaul'],2025-01-27 22:11:01+00:00,2025-01-22 00:30:02+00:00,https://github.com/metabase/metabase/pull/52477,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2606017156, 'issue_id': 2803025726, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/66125_tests-2dec931e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52477?repo=metabase/metabase&commitHash=2dec931e24ea77fe7afab114b3663498597222d2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52477?repo=metabase/metabase&commitHash=2dec931e24ea77fe7afab114b3663498597222d2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52477?repo=metabase/metabase&commitHash=2dec931e24ea77fe7afab114b3663498597222d2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52477?repo=metabase/metabase&commitHash=2dec931e24ea77fe7afab114b3663498597222d2&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52477?repo=metabase/metabase&commitHash=2dec931e24ea77fe7afab114b3663498597222d2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 0, 26, 4, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 00:26:04 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/66125_tests-2dec931e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52477?repo=metabase/metabase&commitHash=2dec931e24ea77fe7afab114b3663498597222d2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52477?repo=metabase/metabase&commitHash=2dec931e24ea77fe7afab114b3663498597222d2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52477?repo=metabase/metabase&commitHash=2dec931e24ea77fe7afab114b3663498597222d2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52477?repo=metabase/metabase&commitHash=2dec931e24ea77fe7afab114b3663498597222d2&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52477?repo=metabase/metabase&commitHash=2dec931e24ea77fe7afab114b3663498597222d2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2803010529,pull_request,closed,,Auto-rewrite defendpoint forms in cache.clj,,camsaul,2025-01-21 23:17:46+00:00,['camsaul'],2025-01-27 22:10:51+00:00,2025-01-22 19:50:34+00:00,https://github.com/metabase/metabase/pull/52476,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2605972068, 'issue_id': 2803010529, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/110322_tests-2144b35b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52476?repo=metabase/metabase&commitHash=2144b35b81ae7f1df8e903f744c4c931e753eab6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52476?repo=metabase/metabase&commitHash=2144b35b81ae7f1df8e903f744c4c931e753eab6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52476?repo=metabase/metabase&commitHash=2144b35b81ae7f1df8e903f744c4c931e753eab6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52476?repo=metabase/metabase&commitHash=2144b35b81ae7f1df8e903f744c4c931e753eab6&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52476?repo=metabase/metabase&commitHash=2144b35b81ae7f1df8e903f744c4c931e753eab6&utm_source=gh-comment&runConclusion=FAILURE&runId=e440ccca-9803-5a97-a914-b538fdbc25e2) |\n| <code>embedding-sdk-info-saves-query-execution</code> | Timeout after 100ms while waiting for embedding client and version. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52476?repo=metabase/metabase&commitHash=2144b35b81ae7f1df8e903f744c4c931e753eab6&utm_source=gh-comment&runConclusion=FAILURE&runId=00d5afcb-ed22-51d7-8ea8-0404c1185b97) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52476?repo=metabase/metabase&commitHash=2144b35b81ae7f1df8e903f744c4c931e753eab6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 21, 23, 48, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608080135, 'issue_id': 2803010529, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `2144b35b81ae7f1df8e903f744c4c931e753eab6-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12915257362?pr=52476)\n\n  File | Test Name\n  ---- | ---------\n  `saved.cy.spec.js` | scenarios > question > saved > alerts > should allow you to test a webhook', 'created_at': datetime.datetime(2025, 1, 22, 19, 21, 55, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-21 23:48:08 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/110322_tests-2144b35b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52476?repo=metabase/metabase&commitHash=2144b35b81ae7f1df8e903f744c4c931e753eab6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52476?repo=metabase/metabase&commitHash=2144b35b81ae7f1df8e903f744c4c931e753eab6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52476?repo=metabase/metabase&commitHash=2144b35b81ae7f1df8e903f744c4c931e753eab6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52476?repo=metabase/metabase&commitHash=2144b35b81ae7f1df8e903f744c4c931e753eab6&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52476?repo=metabase/metabase&commitHash=2144b35b81ae7f1df8e903f744c4c931e753eab6&utm_source=gh-comment&runConclusion=FAILURE&runId=e440ccca-9803-5a97-a914-b538fdbc25e2) |
| <code>embedding-sdk-info-saves-query-execution</code> | Timeout after 100ms while waiting for embedding client and version. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52476?repo=metabase/metabase&commitHash=2144b35b81ae7f1df8e903f744c4c931e753eab6&utm_source=gh-comment&runConclusion=FAILURE&runId=00d5afcb-ed22-51d7-8ea8-0404c1185b97) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52476?repo=metabase/metabase&commitHash=2144b35b81ae7f1df8e903f744c4c931e753eab6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-22 19:21:55 UTC): ## e2e tests failed on `2144b35b81ae7f1df8e903f744c4c931e753eab6-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12915257362?pr=52476)

  File | Test Name
  ---- | ---------
  `saved.cy.spec.js` | scenarios > question > saved > alerts > should allow you to test a webhook

"
2803009888,pull_request,closed,,Convert `LoadingAndErrorWrapper` to TS,"_backporting because this is part of an SDK bug fix_

This will help me with the type checking of [Start looking for all instances of ExplicitSize findDOMNode](https://github.com/metabase/metabase/pull/52253#top).

I also converted the default imports/exports to named ones using grep so that's why this looks so big. [The main file of concern is here](https://github.com/metabase/metabase/pull/52475/files#diff-1d94f07ecf1190f5156683c3dab0dec8ddd5631d67f451280ae39f2d725bcecd)

Nothing has changed, CI should pass as normal.",oisincoveney,2025-01-21 23:17:10+00:00,['oisincoveney'],2025-01-30 21:24:19+00:00,2025-01-24 15:37:40+00:00,https://github.com/metabase/metabase/pull/52475,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2605937585, 'issue_id': 2803009888, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff ee22e2895f1c4e8f3ce6def8ef5781a45c8b26d3...bd077f55da6d00c42ddfb0d4dfa5cc667d440eb8.\n\nNo notifications.', 'created_at': datetime.datetime(2025, 1, 21, 23, 18, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606021658, 'issue_id': 2803009888, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/41504_tests-bd077f55-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52475?repo=metabase/metabase&commitHash=bd077f55da6d00c42ddfb0d4dfa5cc667d440eb8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52475?repo=metabase/metabase&commitHash=bd077f55da6d00c42ddfb0d4dfa5cc667d440eb8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52475?repo=metabase/metabase&commitHash=bd077f55da6d00c42ddfb0d4dfa5cc667d440eb8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52475?repo=metabase/metabase&commitHash=bd077f55da6d00c42ddfb0d4dfa5cc667d440eb8&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52475?repo=metabase/metabase&commitHash=bd077f55da6d00c42ddfb0d4dfa5cc667d440eb8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 0, 29, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606076307, 'issue_id': 2803009888, 'author': 'rafpaf', 'body': ""fwiw there's a `DelayedLoadingAndErrorWrapper` that I think is meant to eventually supersede this one\n\nI have a backburnered project to overhaul this component and the `Delayed` version. But porting it to TS now, if it's easy, seems like a good thing to do."", 'created_at': datetime.datetime(2025, 1, 22, 1, 19, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606079915, 'issue_id': 2803009888, 'author': 'oisincoveney', 'body': ""> fwiw there's a `DelayedLoadingAndErrorWrapper` that I think is meant to eventually supersede this one\n> \n> I have a backburnered project to overhaul this component and the `Delayed` version. But porting it to TS now, if it's easy, seems like a good thing to do.\n\nAh, gotcha. I think for the bug I'm trying to solve, the types would be really nice (if not sorely needed) on this and I don't think it's too much work"", 'created_at': datetime.datetime(2025, 1, 22, 1, 23, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606140962, 'issue_id': 2803009888, 'author': 'oisincoveney', 'body': 'This change is part of the following stack:\n\n- #52475 ◀\n    - #52253\n\n<sub>Change managed by [git-spice](https://abhinav.github.io/git-spice/).</sub>\n<!-- gs:navigation comment -->', 'created_at': datetime.datetime(2025, 1, 22, 2, 22, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625626318, 'issue_id': 2803009888, 'author': 'github-actions[bot]', 'body': '🚀 This should also be released by [v0.53](https://github.com/metabase/metabase/milestone/287)', 'created_at': datetime.datetime(2025, 1, 30, 21, 24, 18, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-21 23:18:43 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff ee22e2895f1c4e8f3ce6def8ef5781a45c8b26d3...bd077f55da6d00c42ddfb0d4dfa5cc667d440eb8.

No notifications.

trunk-io[bot] on (2025-01-22 00:29:46 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/41504_tests-bd077f55-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52475?repo=metabase/metabase&commitHash=bd077f55da6d00c42ddfb0d4dfa5cc667d440eb8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52475?repo=metabase/metabase&commitHash=bd077f55da6d00c42ddfb0d4dfa5cc667d440eb8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52475?repo=metabase/metabase&commitHash=bd077f55da6d00c42ddfb0d4dfa5cc667d440eb8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52475?repo=metabase/metabase&commitHash=bd077f55da6d00c42ddfb0d4dfa5cc667d440eb8&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52475?repo=metabase/metabase&commitHash=bd077f55da6d00c42ddfb0d4dfa5cc667d440eb8&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

rafpaf on (2025-01-22 01:19:36 UTC): fwiw there's a `DelayedLoadingAndErrorWrapper` that I think is meant to eventually supersede this one

I have a backburnered project to overhaul this component and the `Delayed` version. But porting it to TS now, if it's easy, seems like a good thing to do.

oisincoveney (Issue Creator) on (2025-01-22 01:23:06 UTC): Ah, gotcha. I think for the bug I'm trying to solve, the types would be really nice (if not sorely needed) on this and I don't think it's too much work

oisincoveney (Issue Creator) on (2025-01-22 02:22:20 UTC): This change is part of the following stack:

- #52475 ◀
    - #52253

<sub>Change managed by [git-spice](https://abhinav.github.io/git-spice/).</sub>
<!-- gs:navigation comment -->

github-actions[bot] on (2025-01-30 21:24:18 UTC): 🚀 This should also be released by [v0.53](https://github.com/metabase/metabase/milestone/287)

"
2802976415,pull_request,closed,,Auto-rewrite defendpoint forms in activity.clj,,camsaul,2025-01-21 22:49:30+00:00,['camsaul'],2025-01-27 22:11:02+00:00,2025-01-21 23:48:43+00:00,https://github.com/metabase/metabase/pull/52474,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2605943640, 'issue_id': 2802976415, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/112275_tests-db601036-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52474?repo=metabase/metabase&commitHash=db6010362e9f004dabcb45072a119b2a3cd92146&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52474?repo=metabase/metabase&commitHash=db6010362e9f004dabcb45072a119b2a3cd92146&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52474?repo=metabase/metabase&commitHash=db6010362e9f004dabcb45072a119b2a3cd92146&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52474?repo=metabase/metabase&commitHash=db6010362e9f004dabcb45072a119b2a3cd92146&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52474?repo=metabase/metabase&commitHash=db6010362e9f004dabcb45072a119b2a3cd92146&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 21, 23, 23, 55, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-21 23:23:55 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/112275_tests-db601036-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52474?repo=metabase/metabase&commitHash=db6010362e9f004dabcb45072a119b2a3cd92146&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52474?repo=metabase/metabase&commitHash=db6010362e9f004dabcb45072a119b2a3cd92146&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52474?repo=metabase/metabase&commitHash=db6010362e9f004dabcb45072a119b2a3cd92146&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52474?repo=metabase/metabase&commitHash=db6010362e9f004dabcb45072a119b2a3cd92146&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52474?repo=metabase/metabase&commitHash=db6010362e9f004dabcb45072a119b2a3cd92146&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2802963024,pull_request,closed,,Defendpoint 2 misc fixes,"1. Auto-rewrite `dev` tooling now adds require automatically
2. Fix `defendpoint` 2 macroexpansion for endpoints that have route params but no regexes associated with them",camsaul,2025-01-21 22:38:53+00:00,['camsaul'],2025-01-27 22:11:02+00:00,2025-01-22 00:29:44+00:00,https://github.com/metabase/metabase/pull/52473,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2605936981, 'issue_id': 2802963024, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/68198_tests-9376d0ba-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52473?repo=metabase/metabase&commitHash=9376d0ba7ff1b5c43abc5018dbb8faff07280a13&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52473?repo=metabase/metabase&commitHash=9376d0ba7ff1b5c43abc5018dbb8faff07280a13&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52473?repo=metabase/metabase&commitHash=9376d0ba7ff1b5c43abc5018dbb8faff07280a13&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52473?repo=metabase/metabase&commitHash=9376d0ba7ff1b5c43abc5018dbb8faff07280a13&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:326:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\\#'sync.fingerprint/max-refingerprint-field... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52473?repo=metabase/metabase&commitHash=9376d0ba7ff1b5c43abc5018dbb8faff07280a13&utm_source=gh-comment&runConclusion=FAILURE&runId=44ac2564-85df-582a-a387-67c7477906b1) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>e2e-storage-ingestion-test</code> | The expected and actual values are not equal, indicating a mismatch in the expected and actual states of the entity. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52473?repo=metabase/metabase&commitHash=9376d0ba7ff1b5c43abc5018dbb8faff07280a13&utm_source=gh-comment&runConclusion=FAILURE&runId=1e0df7a6-947e-5a5a-a38f-5a2a8da168c5) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52473?repo=metabase/metabase&commitHash=9376d0ba7ff1b5c43abc5018dbb8faff07280a13&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 21, 23, 18, 16, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-21 23:18:16 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/68198_tests-9376d0ba-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52473?repo=metabase/metabase&commitHash=9376d0ba7ff1b5c43abc5018dbb8faff07280a13&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52473?repo=metabase/metabase&commitHash=9376d0ba7ff1b5c43abc5018dbb8faff07280a13&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52473?repo=metabase/metabase&commitHash=9376d0ba7ff1b5c43abc5018dbb8faff07280a13&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52473?repo=metabase/metabase&commitHash=9376d0ba7ff1b5c43abc5018dbb8faff07280a13&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:326:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerprint-field... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52473?repo=metabase/metabase&commitHash=9376d0ba7ff1b5c43abc5018dbb8faff07280a13&utm_source=gh-comment&runConclusion=FAILURE&runId=44ac2564-85df-582a-a387-67c7477906b1) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>e2e-storage-ingestion-test</code> | The expected and actual values are not equal, indicating a mismatch in the expected and actual states of the entity. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52473?repo=metabase/metabase&commitHash=9376d0ba7ff1b5c43abc5018dbb8faff07280a13&utm_source=gh-comment&runConclusion=FAILURE&runId=1e0df7a6-947e-5a5a-a38f-5a2a8da168c5) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52473?repo=metabase/metabase&commitHash=9376d0ba7ff1b5c43abc5018dbb8faff07280a13&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2802940014,pull_request,closed,,Auto-rewrite defendpoint forms in bookmark.clj,,camsaul,2025-01-21 22:23:57+00:00,['camsaul'],2025-01-27 22:10:54+00:00,2025-01-22 17:38:03+00:00,https://github.com/metabase/metabase/pull/52472,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2605881393, 'issue_id': 2802940014, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `aac05e9b4047e24df5b5886bd215b26f4066416f-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12897014714?pr=52472)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard.cy.spec.js` | scenarios > dashboard > create > adding question to one dashboard shouldn't affect previously visited unrelated dashboards (metabase#26826)"", 'created_at': datetime.datetime(2025, 1, 21, 22, 36, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605918614, 'issue_id': 2802940014, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/112275_tests-aac05e9b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52472?repo=metabase/metabase&commitHash=aac05e9b4047e24df5b5886bd215b26f4066416f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52472?repo=metabase/metabase&commitHash=aac05e9b4047e24df5b5886bd215b26f4066416f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52472?repo=metabase/metabase&commitHash=aac05e9b4047e24df5b5886bd215b26f4066416f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52472?repo=metabase/metabase&commitHash=aac05e9b4047e24df5b5886bd215b26f4066416f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > dashboard create adding question to one dashboard shouldn't affect previously visited unrelated dashboards (metabase\\#26826)</code> | The \\`cy.wait()\\` command timed out waiting for the first request to the route \\`saveDashboard-saveDashboardCards\\`, but no request was made. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52472?repo=metabase/metabase&commitHash=aac05e9b4047e24df5b5886bd215b26f4066416f&utm_source=gh-comment&runConclusion=FAILURE&runId=2eeb044f-f249-5f8d-9cb6-5087f1371a4b) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52472?repo=metabase/metabase&commitHash=aac05e9b4047e24df5b5886bd215b26f4066416f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 21, 23, 3, 47, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-21 22:36:55 UTC): ## e2e tests failed on `aac05e9b4047e24df5b5886bd215b26f4066416f-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12897014714?pr=52472)

  File | Test Name
  ---- | ---------
  `dashboard.cy.spec.js` | scenarios > dashboard > create > adding question to one dashboard shouldn't affect previously visited unrelated dashboards (metabase#26826)

trunk-io[bot] on (2025-01-21 23:03:47 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/112275_tests-aac05e9b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52472?repo=metabase/metabase&commitHash=aac05e9b4047e24df5b5886bd215b26f4066416f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52472?repo=metabase/metabase&commitHash=aac05e9b4047e24df5b5886bd215b26f4066416f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52472?repo=metabase/metabase&commitHash=aac05e9b4047e24df5b5886bd215b26f4066416f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52472?repo=metabase/metabase&commitHash=aac05e9b4047e24df5b5886bd215b26f4066416f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > dashboard create adding question to one dashboard shouldn't affect previously visited unrelated dashboards (metabase\#26826)</code> | The \`cy.wait()\` command timed out waiting for the first request to the route \`saveDashboard-saveDashboardCards\`, but no request was made. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52472?repo=metabase/metabase&commitHash=aac05e9b4047e24df5b5886bd215b26f4066416f&utm_source=gh-comment&runConclusion=FAILURE&runId=2eeb044f-f249-5f8d-9cb6-5087f1371a4b) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52472?repo=metabase/metabase&commitHash=aac05e9b4047e24df5b5886bd215b26f4066416f&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2802937304,pull_request,closed,,Auto-rewrite defendpoint forms in automagic_dashboards.clj,,camsaul,2025-01-21 22:22:13+00:00,['camsaul'],2025-01-27 22:10:49+00:00,2025-01-22 20:33:00+00:00,https://github.com/metabase/metabase/pull/52471,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2605944267, 'issue_id': 2802937304, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/112288_tests-f12719bc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52471?repo=metabase/metabase&commitHash=f12719bca5be6e16d0a5be2cca125b8f768a2891&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52471?repo=metabase/metabase&commitHash=f12719bca5be6e16d0a5be2cca125b8f768a2891&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52471?repo=metabase/metabase&commitHash=f12719bca5be6e16d0a5be2cca125b8f768a2891&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52471?repo=metabase/metabase&commitHash=f12719bca5be6e16d0a5be2cca125b8f768a2891&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52471?repo=metabase/metabase&commitHash=f12719bca5be6e16d0a5be2cca125b8f768a2891&utm_source=gh-comment&runConclusion=FAILURE&runId=69c342da-caa9-547c-b582-48d736bfa22a) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:326:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\\#'sync.fingerprint/max-refingerp... | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52471?repo=metabase/metabase&commitHash=f12719bca5be6e16d0a5be2cca125b8f768a2891&utm_source=gh-comment&runConclusion=FAILURE&runId=76efd08c-6f8b-58ba-8e80-a9fb54e56894) |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52471?repo=metabase/metabase&commitHash=f12719bca5be6e16d0a5be2cca125b8f768a2891&utm_source=gh-comment&runConclusion=FAILURE&runId=bd658873-6513-521a-bca3-fe5bc733958d) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52471?repo=metabase/metabase&commitHash=f12719bca5be6e16d0a5be2cca125b8f768a2891&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 21, 23, 24, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606237652, 'issue_id': 2802937304, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `f12719bca5be6e16d0a5be2cca125b8f768a2891-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12900772262?pr=52471)\n\n  File | Test Name\n  ---- | ---------\n  `permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)', 'created_at': datetime.datetime(2025, 1, 22, 4, 0, 28, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-21 23:24:28 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/112288_tests-f12719bc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52471?repo=metabase/metabase&commitHash=f12719bca5be6e16d0a5be2cca125b8f768a2891&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52471?repo=metabase/metabase&commitHash=f12719bca5be6e16d0a5be2cca125b8f768a2891&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52471?repo=metabase/metabase&commitHash=f12719bca5be6e16d0a5be2cca125b8f768a2891&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52471?repo=metabase/metabase&commitHash=f12719bca5be6e16d0a5be2cca125b8f768a2891&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52471?repo=metabase/metabase&commitHash=f12719bca5be6e16d0a5be2cca125b8f768a2891&utm_source=gh-comment&runConclusion=FAILURE&runId=69c342da-caa9-547c-b582-48d736bfa22a) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:326:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerp... | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52471?repo=metabase/metabase&commitHash=f12719bca5be6e16d0a5be2cca125b8f768a2891&utm_source=gh-comment&runConclusion=FAILURE&runId=76efd08c-6f8b-58ba-8e80-a9fb54e56894) |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52471?repo=metabase/metabase&commitHash=f12719bca5be6e16d0a5be2cca125b8f768a2891&utm_source=gh-comment&runConclusion=FAILURE&runId=bd658873-6513-521a-bca3-fe5bc733958d) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52471?repo=metabase/metabase&commitHash=f12719bca5be6e16d0a5be2cca125b8f768a2891&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-22 04:00:28 UTC): ## e2e tests failed on `f12719bca5be6e16d0a5be2cca125b8f768a2891-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12900772262?pr=52471)

  File | Test Name
  ---- | ---------
  `permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)

"
2802924251,pull_request,closed,,Auto-rewrite defendpoint forms in src/metabase/api/api_key.clj,,camsaul,2025-01-21 22:14:31+00:00,['camsaul'],2025-01-27 22:10:54+00:00,2025-01-22 17:37:00+00:00,https://github.com/metabase/metabase/pull/52470,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2605902835, 'issue_id': 2802924251, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/140971_tests-79477aee-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52470?repo=metabase/metabase&commitHash=79477aee83361ccb207f66dd2b377e3c33beb118&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52470?repo=metabase/metabase&commitHash=79477aee83361ccb207f66dd2b377e3c33beb118&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52470?repo=metabase/metabase&commitHash=79477aee83361ccb207f66dd2b377e3c33beb118&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52470?repo=metabase/metabase&commitHash=79477aee83361ccb207f66dd2b377e3c33beb118&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52470?repo=metabase/metabase&commitHash=79477aee83361ccb207f66dd2b377e3c33beb118&utm_source=gh-comment&runConclusion=FAILURE&runId=b53912bd-5796-5688-a3c5-de60188f837c) |\n| <code>e2e-storage-ingestion-test</code> | The expected and actual values are not equal, indicating a mismatch in the expected and actual data. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52470?repo=metabase/metabase&commitHash=79477aee83361ccb207f66dd2b377e3c33beb118&utm_source=gh-comment&runConclusion=FAILURE&runId=3a18585e-fec9-52f1-9195-44fe6da8788a) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52470?repo=metabase/metabase&commitHash=79477aee83361ccb207f66dd2b377e3c33beb118&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 21, 22, 52, 11, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-21 22:52:11 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/140971_tests-79477aee-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52470?repo=metabase/metabase&commitHash=79477aee83361ccb207f66dd2b377e3c33beb118&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52470?repo=metabase/metabase&commitHash=79477aee83361ccb207f66dd2b377e3c33beb118&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52470?repo=metabase/metabase&commitHash=79477aee83361ccb207f66dd2b377e3c33beb118&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52470?repo=metabase/metabase&commitHash=79477aee83361ccb207f66dd2b377e3c33beb118&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52470?repo=metabase/metabase&commitHash=79477aee83361ccb207f66dd2b377e3c33beb118&utm_source=gh-comment&runConclusion=FAILURE&runId=b53912bd-5796-5688-a3c5-de60188f837c) |
| <code>e2e-storage-ingestion-test</code> | The expected and actual values are not equal, indicating a mismatch in the expected and actual data. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52470?repo=metabase/metabase&commitHash=79477aee83361ccb207f66dd2b377e3c33beb118&utm_source=gh-comment&runConclusion=FAILURE&runId=3a18585e-fec9-52f1-9195-44fe6da8788a) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52470?repo=metabase/metabase&commitHash=79477aee83361ccb207f66dd2b377e3c33beb118&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2802902208,pull_request,closed,,Auto-rewrite defendpoints part 2,Follow on to #52294,camsaul,2025-01-21 22:02:09+00:00,['camsaul'],2025-01-21 23:19:49+00:00,2025-01-21 22:04:03+00:00,https://github.com/metabase/metabase/pull/52469,"[('.Team/DevEx', '')]","[{'comment_id': 2605832203, 'issue_id': 2802902208, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff c787d19b45d8eaf05ac5d05d79210a7cef632ccd...c46a48face59e913d305e2515530600e3847b46d.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/LeafletMarkerPinMap.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingSegmentedControl/ChartSettingSegmentedControl.tsx<br>frontend/src/metabase/visualizations/components/settings/ColumnItem/ColumnItem.tsx<br>frontend/src/metabase/visualizations/components/settings/ColumnItem/ColumnItem.unit.spec.tsx<br>frontend/src/metabase/visualizations/lib/action.js<br>frontend/src/metabase/visualizations/lib/settings/graph.js<br>frontend/src/metabase/visualizations/shared/settings/cartesian-chart.ts<br>frontend/src/metabase/visualizations/visualizations/Table.tsx |\n| @kdoh | frontend/src/metabase/ui/components/buttons/Button/Button.stories.tsx<br>frontend/src/metabase/ui/components/buttons/Button/Button.styled.tsx<br>frontend/src/metabase/ui/components/icons/Icon/icons/index.ts<br>frontend/src/metabase/ui/components/icons/Icon/icons/pencil_lines.svg<br>frontend/src/metabase/ui/components/inputs/Autocomplete/Autocomplete.styled.tsx<br>frontend/src/metabase/ui/components/inputs/DateInput/DateInput.styled.tsx<br>frontend/src/metabase/ui/components/inputs/MultiSelect/MultiSelect.styled.tsx<br>frontend/src/metabase/ui/components/inputs/Select/Select.styled.tsx<br>frontend/src/metabase/ui/components/inputs/TextInput/TextInput.styled.tsx<br>frontend/src/metabase/ui/components/inputs/Textarea/Textarea.styled.tsx<br>frontend/src/metabase/ui/components/inputs/TimeInput/TimeInput.styled.tsx<br>frontend/src/metabase/ui/components/overlays/Modal/Modal.styled.tsx |', 'created_at': datetime.datetime(2025, 1, 21, 22, 3, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605852656, 'issue_id': 2802902208, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `c46a48face59e913d305e2515530600e3847b46d-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12896683716?pr=52469)\n\n  File | Test Name\n  ---- | ---------\n  `reproductions-1.cy.spec.js` | (_flaky_) issue 17514 > scenario 1 > should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its title (metabase#17514-1)', 'created_at': datetime.datetime(2025, 1, 21, 22, 17, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605901508, 'issue_id': 2802902208, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/84480_tests-b1e84930-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52469?repo=metabase/metabase&commitHash=b1e84930a2c516cce6b8c37975fa2e6a59a1b4ad&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52469?repo=metabase/metabase&commitHash=b1e84930a2c516cce6b8c37975fa2e6a59a1b4ad&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52469?repo=metabase/metabase&commitHash=b1e84930a2c516cce6b8c37975fa2e6a59a1b4ad&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52469?repo=metabase/metabase&commitHash=b1e84930a2c516cce6b8c37975fa2e6a59a1b4ad&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52469?repo=metabase/metabase&commitHash=b1e84930a2c516cce6b8c37975fa2e6a59a1b4ad&utm_source=gh-comment&runConclusion=FAILURE&runId=a6be820d-2d25-539b-b204-23392a700b6c) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52469?repo=metabase/metabase&commitHash=b1e84930a2c516cce6b8c37975fa2e6a59a1b4ad&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 21, 22, 51, 11, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-21 22:03:43 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff c787d19b45d8eaf05ac5d05d79210a7cef632ccd...c46a48face59e913d305e2515530600e3847b46d.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/LeafletMarkerPinMap.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingSegmentedControl/ChartSettingSegmentedControl.tsx<br>frontend/src/metabase/visualizations/components/settings/ColumnItem/ColumnItem.tsx<br>frontend/src/metabase/visualizations/components/settings/ColumnItem/ColumnItem.unit.spec.tsx<br>frontend/src/metabase/visualizations/lib/action.js<br>frontend/src/metabase/visualizations/lib/settings/graph.js<br>frontend/src/metabase/visualizations/shared/settings/cartesian-chart.ts<br>frontend/src/metabase/visualizations/visualizations/Table.tsx |
| @kdoh | frontend/src/metabase/ui/components/buttons/Button/Button.stories.tsx<br>frontend/src/metabase/ui/components/buttons/Button/Button.styled.tsx<br>frontend/src/metabase/ui/components/icons/Icon/icons/index.ts<br>frontend/src/metabase/ui/components/icons/Icon/icons/pencil_lines.svg<br>frontend/src/metabase/ui/components/inputs/Autocomplete/Autocomplete.styled.tsx<br>frontend/src/metabase/ui/components/inputs/DateInput/DateInput.styled.tsx<br>frontend/src/metabase/ui/components/inputs/MultiSelect/MultiSelect.styled.tsx<br>frontend/src/metabase/ui/components/inputs/Select/Select.styled.tsx<br>frontend/src/metabase/ui/components/inputs/TextInput/TextInput.styled.tsx<br>frontend/src/metabase/ui/components/inputs/Textarea/Textarea.styled.tsx<br>frontend/src/metabase/ui/components/inputs/TimeInput/TimeInput.styled.tsx<br>frontend/src/metabase/ui/components/overlays/Modal/Modal.styled.tsx |

github-actions[bot] on (2025-01-21 22:17:08 UTC): ## e2e tests failed on `c46a48face59e913d305e2515530600e3847b46d-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12896683716?pr=52469)

  File | Test Name
  ---- | ---------
  `reproductions-1.cy.spec.js` | (_flaky_) issue 17514 > scenario 1 > should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its title (metabase#17514-1)

trunk-io[bot] on (2025-01-21 22:51:11 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/84480_tests-b1e84930-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52469?repo=metabase/metabase&commitHash=b1e84930a2c516cce6b8c37975fa2e6a59a1b4ad&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52469?repo=metabase/metabase&commitHash=b1e84930a2c516cce6b8c37975fa2e6a59a1b4ad&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52469?repo=metabase/metabase&commitHash=b1e84930a2c516cce6b8c37975fa2e6a59a1b4ad&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52469?repo=metabase/metabase&commitHash=b1e84930a2c516cce6b8c37975fa2e6a59a1b4ad&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52469?repo=metabase/metabase&commitHash=b1e84930a2c516cce6b8c37975fa2e6a59a1b4ad&utm_source=gh-comment&runConclusion=FAILURE&runId=a6be820d-2d25-539b-b204-23392a700b6c) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52469?repo=metabase/metabase&commitHash=b1e84930a2c516cce6b8c37975fa2e6a59a1b4ad&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2802692010,pull_request,closed,,xrays create dashboard questions,"First commit is tiny, and just turns the created questions into dashboard questions (hiding them from the collection picker).

Second commit: before, for an admin we'd create a structure like:

```
- Our analytics
  - Automatically Generated Dashboards
    - A look at Accounts
      - Dashboard
      - Card 1
      - Card 2
      - ...
```

Or, for regular users, a structure like:

```
- Your personal collection
  - A look at Accounts
    - Dashboard (A look at Accounts)
    - Card 1
    - ...
```

Now, we'll create the following structure:

```
- Our Analytics (OR Your personal collection, for non-admins)
  - Automatically Generated Dashboards
    - Dashboard (A look at Accounts)
```

Other autogenerated dashboards will be placed alongside.
",johnswanson,2025-01-21 19:57:03+00:00,['johnswanson'],2025-02-07 15:34:36+00:00,2025-02-07 15:11:25+00:00,https://github.com/metabase/metabase/pull/52462,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2605712817, 'issue_id': 2802692010, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/95099_tests-90346c9c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52462?repo=metabase/metabase&commitHash=90346c9c529f97e2c8e13db4b213991471d24c2a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52462?repo=metabase/metabase&commitHash=90346c9c529f97e2c8e13db4b213991471d24c2a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52462?repo=metabase/metabase&commitHash=90346c9c529f97e2c8e13db4b213991471d24c2a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52462?repo=metabase/metabase&commitHash=90346c9c529f97e2c8e13db4b213991471d24c2a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52462?repo=metabase/metabase&commitHash=90346c9c529f97e2c8e13db4b213991471d24c2a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 21, 20, 51, 19, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-21 20:51:19 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/95099_tests-90346c9c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52462?repo=metabase/metabase&commitHash=90346c9c529f97e2c8e13db4b213991471d24c2a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52462?repo=metabase/metabase&commitHash=90346c9c529f97e2c8e13db4b213991471d24c2a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52462?repo=metabase/metabase&commitHash=90346c9c529f97e2c8e13db4b213991471d24c2a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52462?repo=metabase/metabase&commitHash=90346c9c529f97e2c8e13db4b213991471d24c2a&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52462?repo=metabase/metabase&commitHash=90346c9c529f97e2c8e13db4b213991471d24c2a&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2802565804,pull_request,closed,,"🤖 backported ""fix: update labels in the exclude date options""",  #52389,github-automation-metabase,2025-01-21 18:44:18+00:00,"['uladzimirdev', 'github-automation-metabase']",2025-01-23 07:45:44+00:00,2025-01-23 07:45:43+00:00,https://github.com/metabase/metabase/pull/52461,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2605602394, 'issue_id': 2802565804, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13637_tests-9c8d681d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52461?repo=metabase/metabase&commitHash=9c8d681da249065e19e2e099b1ac6a0ee44a70c6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52461?repo=metabase/metabase&commitHash=9c8d681da249065e19e2e099b1ac6a0ee44a70c6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52461?repo=metabase/metabase&commitHash=9c8d681da249065e19e2e099b1ac6a0ee44a70c6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52461?repo=metabase/metabase&commitHash=9c8d681da249065e19e2e099b1ac6a0ee44a70c6&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52461?repo=metabase/metabase&commitHash=9c8d681da249065e19e2e099b1ac6a0ee44a70c6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 21, 19, 48, 14, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-21 19:48:14 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13637_tests-9c8d681d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52461?repo=metabase/metabase&commitHash=9c8d681da249065e19e2e099b1ac6a0ee44a70c6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52461?repo=metabase/metabase&commitHash=9c8d681da249065e19e2e099b1ac6a0ee44a70c6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52461?repo=metabase/metabase&commitHash=9c8d681da249065e19e2e099b1ac6a0ee44a70c6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52461?repo=metabase/metabase&commitHash=9c8d681da249065e19e2e099b1ac6a0ee44a70c6&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52461?repo=metabase/metabase&commitHash=9c8d681da249065e19e2e099b1ac6a0ee44a70c6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2802530643,pull_request,closed,,[Deets in Sheets] Design review branch,,rafpaf,2025-01-21 18:24:58+00:00,['rafpaf'],2025-02-04 17:32:48+00:00,2025-01-22 11:26:43+00:00,https://github.com/metabase/metabase/pull/52460,"[('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2605452591, 'issue_id': 2802530643, 'author': 'rafpaf', 'body': '> [!WARNING]\n> <b>This pull request is not mergeable via GitHub because a downstack PR is open. Once all requirements are satisfied, merge this PR as a stack <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52460?utm_source=stack-comment-downstack-mergeability-warning"" >on Graphite</a>.</b>\n> <a href=""https://graphite.dev/docs/merge-pull-requests"">Learn more</a>\n\n* **#52460** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52460?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52460?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* **#52057** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52057?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 3 other dependent PRs ([#52354](https://github.com/metabase/metabase/pull/52354) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52354?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#52413](https://github.com/metabase/metabase/pull/52413) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52413?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#52487](https://github.com/metabase/metabase/pull/52487) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52487?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>)\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 21, 18, 25, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605461838, 'issue_id': 2802530643, 'author': 'graphite-app[bot]', 'body': '### Graphite Automations\n<details><summary><a href=""https://app.graphite.dev/automations/?org=metabase&ruleId=Yrh2LAyyUc6276rpQngn&ref=gt-automation-github-comment"">""Warn authors when publishing large PRs""</a> took an action on this PR • (01/21/25)</summary><p>1 teammate was notified to this PR based on Raphael Krut-Landau\'s automation.</p></details>', 'created_at': datetime.datetime(2025, 1, 21, 18, 30, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605546670, 'issue_id': 2802530643, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13340_tests-267bb9d9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52460?repo=metabase/metabase&commitHash=267bb9d95e7897a91ca778df330da98f713cb8e2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/46-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52460?repo=metabase/metabase&commitHash=267bb9d95e7897a91ca778df330da98f713cb8e2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52460?repo=metabase/metabase&commitHash=267bb9d95e7897a91ca778df330da98f713cb8e2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52460?repo=metabase/metabase&commitHash=267bb9d95e7897a91ca778df330da98f713cb8e2&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 34574 should accept markdown for model description and render it properly (metabase\\#34574)</code> | Unable to find an accessible element with the role ""link"" and name ""Actions"" after 4000ms timeout. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52460?repo=metabase/metabase&commitHash=267bb9d95e7897a91ca778df330da98f713cb8e2&utm_source=gh-comment&runConclusion=FAILURE&runId=7f1ed144-5453-53d8-a49e-e6e53d969b86) |\n| <code>QuestionInfoSidebar actions link is shown for models</code> | The element was expected to have an attribute ""href"" with value ""/model/1-abc/detail"", but it was null. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52460?repo=metabase/metabase&commitHash=267bb9d95e7897a91ca778df330da98f713cb8e2&utm_source=gh-comment&runConclusion=FAILURE&runId=e7dcdf93-2966-55a2-bbd8-fe98ba74178f) |\n| <code>ModelActions native model core actions section doesn\'t allow to archive an implicit action</code> | Unable to find an accessible element with the role ""listitem"" and name ""Create"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52460?repo=metabase/metabase&commitHash=267bb9d95e7897a91ca778df330da98f713cb8e2&utm_source=gh-comment&runConclusion=FAILURE&runId=aa7940a1-b001-56bd-8e6e-ca187af5d00a) |\n| <code>ModelActions native model read-only permissions doesn\'t allow to archive actions</code> | Unable to find an accessible element with the role ""listitem"" and name ""Query Action Mock"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52460?repo=metabase/metabase&commitHash=267bb9d95e7897a91ca778df330da98f713cb8e2&utm_source=gh-comment&runConclusion=FAILURE&runId=757154da-b601-5b31-94a6-85946c2126de) |\n\n[... and 42 more](https://app.trunk.io/metabase/flaky-tests/pr/52460?repo=metabase/metabase&commitHash=267bb9d95e7897a91ca778df330da98f713cb8e2&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52460?repo=metabase/metabase&commitHash=267bb9d95e7897a91ca778df330da98f713cb8e2&utm_source=gh-comment&runConclusion=FAILURE&runId=f854a3ff-8cb6-5904-96c8-696c22215419) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52460?repo=metabase/metabase&commitHash=267bb9d95e7897a91ca778df330da98f713cb8e2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 21, 19, 17, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605600602, 'issue_id': 2802530643, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `267bb9d95e7897a91ca778df330da98f713cb8e2-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12894445679?pr=52460)\n\n  File | Test Name\n  ---- | ---------\n  `saved.cy.spec.js` | scenarios > question > saved > alerts > should allow you to test a webhook', 'created_at': datetime.datetime(2025, 1, 21, 19, 47, 12, tzinfo=datetime.timezone.utc)}]","rafpaf (Issue Creator) on (2025-01-21 18:25:21 UTC): * **#52460** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52460?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> 👈 <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52460?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* **#52057** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52057?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 3 other dependent PRs ([#52354](https://github.com/metabase/metabase/pull/52354) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52354?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#52413](https://github.com/metabase/metabase/pull/52413) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52413?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#52487](https://github.com/metabase/metabase/pull/52487) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/52487?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>)
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

graphite-app[bot] on (2025-01-21 18:30:11 UTC): ### Graphite Automations
<details><summary><a href=""https://app.graphite.dev/automations/?org=metabase&ruleId=Yrh2LAyyUc6276rpQngn&ref=gt-automation-github-comment"">""Warn authors when publishing large PRs""</a> took an action on this PR • (01/21/25)</summary><p>1 teammate was notified to this PR based on Raphael Krut-Landau's automation.</p></details>

trunk-io[bot] on (2025-01-21 19:17:06 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13340_tests-267bb9d9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52460?repo=metabase/metabase&commitHash=267bb9d95e7897a91ca778df330da98f713cb8e2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/46-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52460?repo=metabase/metabase&commitHash=267bb9d95e7897a91ca778df330da98f713cb8e2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52460?repo=metabase/metabase&commitHash=267bb9d95e7897a91ca778df330da98f713cb8e2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52460?repo=metabase/metabase&commitHash=267bb9d95e7897a91ca778df330da98f713cb8e2&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 34574 should accept markdown for model description and render it properly (metabase\#34574)</code> | Unable to find an accessible element with the role ""link"" and name ""Actions"" after 4000ms timeout. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52460?repo=metabase/metabase&commitHash=267bb9d95e7897a91ca778df330da98f713cb8e2&utm_source=gh-comment&runConclusion=FAILURE&runId=7f1ed144-5453-53d8-a49e-e6e53d969b86) |
| <code>QuestionInfoSidebar actions link is shown for models</code> | The element was expected to have an attribute ""href"" with value ""/model/1-abc/detail"", but it was null. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52460?repo=metabase/metabase&commitHash=267bb9d95e7897a91ca778df330da98f713cb8e2&utm_source=gh-comment&runConclusion=FAILURE&runId=e7dcdf93-2966-55a2-bbd8-fe98ba74178f) |
| <code>ModelActions native model core actions section doesn't allow to archive an implicit action</code> | Unable to find an accessible element with the role ""listitem"" and name ""Create"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52460?repo=metabase/metabase&commitHash=267bb9d95e7897a91ca778df330da98f713cb8e2&utm_source=gh-comment&runConclusion=FAILURE&runId=aa7940a1-b001-56bd-8e6e-ca187af5d00a) |
| <code>ModelActions native model read-only permissions doesn't allow to archive actions</code> | Unable to find an accessible element with the role ""listitem"" and name ""Query Action Mock"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52460?repo=metabase/metabase&commitHash=267bb9d95e7897a91ca778df330da98f713cb8e2&utm_source=gh-comment&runConclusion=FAILURE&runId=757154da-b601-5b31-94a6-85946c2126de) |

[... and 42 more](https://app.trunk.io/metabase/flaky-tests/pr/52460?repo=metabase/metabase&commitHash=267bb9d95e7897a91ca778df330da98f713cb8e2&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52460?repo=metabase/metabase&commitHash=267bb9d95e7897a91ca778df330da98f713cb8e2&utm_source=gh-comment&runConclusion=FAILURE&runId=f854a3ff-8cb6-5904-96c8-696c22215419) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52460?repo=metabase/metabase&commitHash=267bb9d95e7897a91ca778df330da98f713cb8e2&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-21 19:47:12 UTC): ## e2e tests failed on `267bb9d95e7897a91ca778df330da98f713cb8e2-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12894445679?pr=52460)

  File | Test Name
  ---- | ---------
  `saved.cy.spec.js` | scenarios > question > saved > alerts > should allow you to test a webhook

"
2802496268,pull_request,closed,,"🤖 backported ""docs - specify enterprise only for SDK""",#52151,github-automation-metabase,2025-01-21 18:05:53+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2025-01-21 21:51:37+00:00,2025-01-21 20:53:42+00:00,https://github.com/metabase/metabase/pull/52459,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2605518857, 'issue_id': 2802496268, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/54_tests-df168c08-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52459?repo=metabase/metabase&commitHash=df168c082d12250d4f2e2702f1f5e4d78a2b5c8d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52459?repo=metabase/metabase&commitHash=df168c082d12250d4f2e2702f1f5e4d78a2b5c8d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52459?repo=metabase/metabase&commitHash=df168c082d12250d4f2e2702f1f5e4d78a2b5c8d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52459?repo=metabase/metabase&commitHash=df168c082d12250d4f2e2702f1f5e4d78a2b5c8d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52459?repo=metabase/metabase&commitHash=df168c082d12250d4f2e2702f1f5e4d78a2b5c8d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 21, 19, 1, 17, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-21 19:01:17 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/54_tests-df168c08-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52459?repo=metabase/metabase&commitHash=df168c082d12250d4f2e2702f1f5e4d78a2b5c8d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52459?repo=metabase/metabase&commitHash=df168c082d12250d4f2e2702f1f5e4d78a2b5c8d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52459?repo=metabase/metabase&commitHash=df168c082d12250d4f2e2702f1f5e4d78a2b5c8d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52459?repo=metabase/metabase&commitHash=df168c082d12250d4f2e2702f1f5e4d78a2b5c8d&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52459?repo=metabase/metabase&commitHash=df168c082d12250d4f2e2702f1f5e4d78a2b5c8d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2802412401,pull_request,closed,,docs - iframe and link variables,"Documents parameters for link and iframe cards.

I waffled on the repetition here; there's an argument for making a separate page to discuss variables for text, link, and iframe cards, but there some nuance between them, so I figured I'd document the params in-line with the features for now.",jeff-bruemmer,2025-01-21 17:20:52+00:00,['jeff-bruemmer'],2025-01-27 22:11:09+00:00,2025-01-21 17:59:13+00:00,https://github.com/metabase/metabase/pull/52457,"[('Type:Documentation', ''), ('no-backport', 'Do not backport this PR to any branch')]",[],
2802375748,pull_request,closed,,"Prevent Dashboard from reloading when clicking move, duplicate, and trash options in context menu","### Description

**Issue:**
Fixes a bug that was introduced in #51229 causing the page to reload when clicking on the ""Move"", ""Duplicate"", and ""Move to trash"" options in the dashboard's context menu.

**Repro:**
https://metaboat.slack.com/archives/C064EB1UE5P/p1737474757635759?thread_ts=1737474488.248789&cid=C064EB1UE5P

**Fix:**
This PR uses our react router `Link` instead of a native `a` tag to avoid doing a page refresh.

Note: Some extra work had to go into forwarding refs correctly to make Mantine hover states work correctly.
",sloansparger,2025-01-21 17:03:21+00:00,['sloansparger'],2025-01-27 22:11:08+00:00,2025-01-21 19:14:46+00:00,https://github.com/metabase/metabase/pull/52456,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2605386180, 'issue_id': 2802375748, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13396_tests-3b42bf05-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52456?repo=metabase/metabase&commitHash=3b42bf0525a9b7ea9ac1e9fd16c87877d0c9036d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52456?repo=metabase/metabase&commitHash=3b42bf0525a9b7ea9ac1e9fd16c87877d0c9036d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52456?repo=metabase/metabase&commitHash=3b42bf0525a9b7ea9ac1e9fd16c87877d0c9036d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52456?repo=metabase/metabase&commitHash=3b42bf0525a9b7ea9ac1e9fd16c87877d0c9036d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52456?repo=metabase/metabase&commitHash=3b42bf0525a9b7ea9ac1e9fd16c87877d0c9036d&utm_source=gh-comment&runConclusion=FAILURE&runId=f77816b3-01d0-5232-99ea-90b6e4d58d4b) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52456?repo=metabase/metabase&commitHash=3b42bf0525a9b7ea9ac1e9fd16c87877d0c9036d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 21, 17, 50, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605409141, 'issue_id': 2802375748, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `3b42bf0525a9b7ea9ac1e9fd16c87877d0c9036d-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12892830036?pr=52456)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can share a dashboard card via public link', 'created_at': datetime.datetime(2025, 1, 21, 18, 2, 41, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-21 17:50:49 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13396_tests-3b42bf05-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52456?repo=metabase/metabase&commitHash=3b42bf0525a9b7ea9ac1e9fd16c87877d0c9036d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52456?repo=metabase/metabase&commitHash=3b42bf0525a9b7ea9ac1e9fd16c87877d0c9036d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52456?repo=metabase/metabase&commitHash=3b42bf0525a9b7ea9ac1e9fd16c87877d0c9036d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52456?repo=metabase/metabase&commitHash=3b42bf0525a9b7ea9ac1e9fd16c87877d0c9036d&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52456?repo=metabase/metabase&commitHash=3b42bf0525a9b7ea9ac1e9fd16c87877d0c9036d&utm_source=gh-comment&runConclusion=FAILURE&runId=f77816b3-01d0-5232-99ea-90b6e4d58d4b) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52456?repo=metabase/metabase&commitHash=3b42bf0525a9b7ea9ac1e9fd16c87877d0c9036d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-21 18:02:41 UTC): ## e2e tests failed on `3b42bf0525a9b7ea9ac1e9fd16c87877d0c9036d-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12892830036?pr=52456)

  File | Test Name
  ---- | ---------
  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can share a dashboard card via public link

"
2802303022,pull_request,closed,,Fix ultra wide tooltips (closes #52199),"Closes #52199

### Description

Avoids that longs description in tooltips spill over the viewport's width:
![Image](https://github.com/user-attachments/assets/e78066bd-9048-4810-9d12-aa1d02515e3e)

### How to verify

1. Create a new dashboard and save it
2. Add this description to it:
```
This is a very very very very very very very very very very long dashboard description. Boy, I sure hope it does not overflow the screen when it's displayed in a tooltip. The only thing that would make it worse is if the text didn't wrap. 
```
3. Edit dashboard
4. Add a link to this very dashboard
5. Save dashboard
6. Change viewport width to 1000px or less
7. Hover the ""i"" icon in the link
",lorem--ipsum,2025-01-21 16:29:33+00:00,['lorem--ipsum'],2025-01-29 13:03:16+00:00,2025-01-29 06:23:48+00:00,https://github.com/metabase/metabase/pull/52455,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2607032303, 'issue_id': 2802303022, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff c177bbcee70fb34a12284f22b3f1b92faac6d174...ce2c7e2fe87bad170ef16b7aabb9ab8c2374b72c.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/visualizations/LinkViz/EntityDisplay.tsx<br>frontend/src/metabase/visualizations/visualizations/LinkViz/LinkViz.unit.spec.tsx |\n| @kdoh | frontend/src/metabase/ui/components/icons/Icon/Icon.tsx |', 'created_at': datetime.datetime(2025, 1, 22, 11, 48, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2607102901, 'issue_id': 2802303022, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13098_tests-ce2c7e2f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52455?repo=metabase/metabase&commitHash=ce2c7e2fe87bad170ef16b7aabb9ab8c2374b72c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52455?repo=metabase/metabase&commitHash=ce2c7e2fe87bad170ef16b7aabb9ab8c2374b72c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52455?repo=metabase/metabase&commitHash=ce2c7e2fe87bad170ef16b7aabb9ab8c2374b72c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52455?repo=metabase/metabase&commitHash=ce2c7e2fe87bad170ef16b7aabb9ab8c2374b72c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52455?repo=metabase/metabase&commitHash=ce2c7e2fe87bad170ef16b7aabb9ab8c2374b72c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 12, 20, 1, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-22 11:48:10 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff c177bbcee70fb34a12284f22b3f1b92faac6d174...ce2c7e2fe87bad170ef16b7aabb9ab8c2374b72c.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/visualizations/LinkViz/EntityDisplay.tsx<br>frontend/src/metabase/visualizations/visualizations/LinkViz/LinkViz.unit.spec.tsx |
| @kdoh | frontend/src/metabase/ui/components/icons/Icon/Icon.tsx |

trunk-io[bot] on (2025-01-22 12:20:01 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13098_tests-ce2c7e2f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52455?repo=metabase/metabase&commitHash=ce2c7e2fe87bad170ef16b7aabb9ab8c2374b72c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52455?repo=metabase/metabase&commitHash=ce2c7e2fe87bad170ef16b7aabb9ab8c2374b72c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52455?repo=metabase/metabase&commitHash=ce2c7e2fe87bad170ef16b7aabb9ab8c2374b72c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52455?repo=metabase/metabase&commitHash=ce2c7e2fe87bad170ef16b7aabb9ab8c2374b72c&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52455?repo=metabase/metabase&commitHash=ce2c7e2fe87bad170ef16b7aabb9ab8c2374b72c&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2802267389,pull_request,closed,,"🤖 backported ""[db-pool] Retry acquiring the connection one in tests to reduce flakiness""",#52360,github-automation-metabase,2025-01-21 16:13:24+00:00,"['alexander-yakushev', 'github-automation-metabase']",2025-01-21 17:49:16+00:00,2025-01-21 16:47:43+00:00,https://github.com/metabase/metabase/pull/52454,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2605256845, 'issue_id': 2802267389, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120770_tests-fa68de63-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52454?repo=metabase/metabase&commitHash=fa68de638b49e6c2a4137e63e4b3bf99ce402d17&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52454?repo=metabase/metabase&commitHash=fa68de638b49e6c2a4137e63e4b3bf99ce402d17&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52454?repo=metabase/metabase&commitHash=fa68de638b49e6c2a4137e63e4b3bf99ce402d17&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52454?repo=metabase/metabase&commitHash=fa68de638b49e6c2a4137e63e4b3bf99ce402d17&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52454?repo=metabase/metabase&commitHash=fa68de638b49e6c2a4137e63e4b3bf99ce402d17&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 21, 16, 51, 57, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-21 16:51:57 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120770_tests-fa68de63-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52454?repo=metabase/metabase&commitHash=fa68de638b49e6c2a4137e63e4b3bf99ce402d17&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52454?repo=metabase/metabase&commitHash=fa68de638b49e6c2a4137e63e4b3bf99ce402d17&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52454?repo=metabase/metabase&commitHash=fa68de638b49e6c2a4137e63e4b3bf99ce402d17&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52454?repo=metabase/metabase&commitHash=fa68de638b49e6c2a4137e63e4b3bf99ce402d17&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52454?repo=metabase/metabase&commitHash=fa68de638b49e6c2a4137e63e4b3bf99ce402d17&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2802263299,pull_request,open,,"🤖 backported ""Bump HoneySQL""","  #52359
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-21 16:11:33+00:00,"['alexander-yakushev', 'github-automation-metabase']",2025-01-21 16:11:34+00:00,,https://github.com/metabase/metabase/pull/52453,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2802238796,pull_request,closed,,[search] track indexing errors,,piranha,2025-01-21 16:01:14+00:00,['piranha'],2025-01-22 12:54:48+00:00,2025-01-22 12:17:00+00:00,https://github.com/metabase/metabase/pull/52452,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2605258685, 'issue_id': 2802238796, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/112291_tests-6f43e94d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52452?repo=metabase/metabase&commitHash=6f43e94da411a0668736faad6bec3a0f000dcfcd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52452?repo=metabase/metabase&commitHash=6f43e94da411a0668736faad6bec3a0f000dcfcd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52452?repo=metabase/metabase&commitHash=6f43e94da411a0668736faad6bec3a0f000dcfcd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52452?repo=metabase/metabase&commitHash=6f43e94da411a0668736faad6bec3a0f000dcfcd&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52452?repo=metabase/metabase&commitHash=6f43e94da411a0668736faad6bec3a0f000dcfcd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 21, 16, 52, 44, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-21 16:52:44 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/112291_tests-6f43e94d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52452?repo=metabase/metabase&commitHash=6f43e94da411a0668736faad6bec3a0f000dcfcd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52452?repo=metabase/metabase&commitHash=6f43e94da411a0668736faad6bec3a0f000dcfcd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52452?repo=metabase/metabase&commitHash=6f43e94da411a0668736faad6bec3a0f000dcfcd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52452?repo=metabase/metabase&commitHash=6f43e94da411a0668736faad6bec3a0f000dcfcd&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52452?repo=metabase/metabase&commitHash=6f43e94da411a0668736faad6bec3a0f000dcfcd&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2802193949,pull_request,closed,,Disable invite-user tool,,metamben,2025-01-21 15:42:14+00:00,['metamben'],2025-01-21 17:35:20+00:00,2025-01-21 17:35:18+00:00,https://github.com/metabase/metabase/pull/52450,"[('Metabot/General', 'General Metabot AI')]","[{'comment_id': 2605191036, 'issue_id': 2802193949, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/101158_tests-57ba06af-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52450?repo=metabase/metabase&commitHash=57ba06af093d8ea4ea1b110096af7d2c85f4b616&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52450?repo=metabase/metabase&commitHash=57ba06af093d8ea4ea1b110096af7d2c85f4b616&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52450?repo=metabase/metabase&commitHash=57ba06af093d8ea4ea1b110096af7d2c85f4b616&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52450?repo=metabase/metabase&commitHash=57ba06af093d8ea4ea1b110096af7d2c85f4b616&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, but expected stage numbers. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52450?repo=metabase/metabase&commitHash=57ba06af093d8ea4ea1b110096af7d2c85f4b616&utm_source=gh-comment&runConclusion=FAILURE&runId=6a91e55c-8191-5f79-800d-74e529880f43) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52450?repo=metabase/metabase&commitHash=57ba06af093d8ea4ea1b110096af7d2c85f4b616&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 21, 16, 24, 4, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-21 16:24:04 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/101158_tests-57ba06af-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52450?repo=metabase/metabase&commitHash=57ba06af093d8ea4ea1b110096af7d2c85f4b616&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52450?repo=metabase/metabase&commitHash=57ba06af093d8ea4ea1b110096af7d2c85f4b616&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52450?repo=metabase/metabase&commitHash=57ba06af093d8ea4ea1b110096af7d2c85f4b616&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52450?repo=metabase/metabase&commitHash=57ba06af093d8ea4ea1b110096af7d2c85f4b616&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, but expected stage numbers. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52450?repo=metabase/metabase&commitHash=57ba06af093d8ea4ea1b110096af7d2c85f4b616&utm_source=gh-comment&runConclusion=FAILURE&runId=6a91e55c-8191-5f79-800d-74e529880f43) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52450?repo=metabase/metabase&commitHash=57ba06af093d8ea4ea1b110096af7d2c85f4b616&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2802192369,pull_request,closed,,"🤖 backported ""fix(sdk): add theme change transition to the root element""","  #52427
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-21 15:41:42+00:00,"['sanex3339', 'github-automation-metabase']",2025-01-21 18:06:50+00:00,2025-01-21 17:16:53+00:00,https://github.com/metabase/metabase/pull/52449,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2605206832, 'issue_id': 2802192369, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13637_tests-b11f39a8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52449?repo=metabase/metabase&commitHash=b11f39a8682f5eb5a23c82c1f0ecb49bd0dce105&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52449?repo=metabase/metabase&commitHash=b11f39a8682f5eb5a23c82c1f0ecb49bd0dce105&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52449?repo=metabase/metabase&commitHash=b11f39a8682f5eb5a23c82c1f0ecb49bd0dce105&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52449?repo=metabase/metabase&commitHash=b11f39a8682f5eb5a23c82c1f0ecb49bd0dce105&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52449?repo=metabase/metabase&commitHash=b11f39a8682f5eb5a23c82c1f0ecb49bd0dce105&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 21, 16, 30, 40, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-21 16:30:40 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13637_tests-b11f39a8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52449?repo=metabase/metabase&commitHash=b11f39a8682f5eb5a23c82c1f0ecb49bd0dce105&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52449?repo=metabase/metabase&commitHash=b11f39a8682f5eb5a23c82c1f0ecb49bd0dce105&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52449?repo=metabase/metabase&commitHash=b11f39a8682f5eb5a23c82c1f0ecb49bd0dce105&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52449?repo=metabase/metabase&commitHash=b11f39a8682f5eb5a23c82c1f0ecb49bd0dce105&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52449?repo=metabase/metabase&commitHash=b11f39a8682f5eb5a23c82c1f0ecb49bd0dce105&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2802155318,pull_request,closed,,refactor(sdk): refactor use-embed-font hook,"Followup for https://github.com/metabase/metabase/pull/52368

Refactors the `use-embed-font`:
- The hook now does not return anything because its result is not used anywhere.
- It handles `hash` parsing to simplify its usage across multiple places


# How to verify:
- we can rely on recently added Cypress tests

### Manual testing
- Create any question or open an existing one
- Click the Sharing/Embed
- Select the Static embedding
- Select the Look and feel tab and click preview
- Now select any font via the Font dropdown
- Font should be changed in the preview window

Repeat this with the embed `dashboard` preview as well",sanex3339,2025-01-21 15:26:06+00:00,['sanex3339'],2025-01-24 11:07:26+00:00,2025-01-24 10:38:04+00:00,https://github.com/metabase/metabase/pull/52447,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2605041421, 'issue_id': 2802155318, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@sanex3339 You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2025, 1, 21, 15, 26, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605185664, 'issue_id': 2802155318, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3677_tests-bb1e8b5a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52447?repo=metabase/metabase&commitHash=bb1e8b5a2424b447e65e49b45e11b51968649977&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52447?repo=metabase/metabase&commitHash=bb1e8b5a2424b447e65e49b45e11b51968649977&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52447?repo=metabase/metabase&commitHash=bb1e8b5a2424b447e65e49b45e11b51968649977&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52447?repo=metabase/metabase&commitHash=bb1e8b5a2424b447e65e49b45e11b51968649977&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52447?repo=metabase/metabase&commitHash=bb1e8b5a2424b447e65e49b45e11b51968649977&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 21, 16, 21, 47, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-21 15:26:46 UTC): <!---conventional commit reminder comment ID-->
@sanex3339 You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

trunk-io[bot] on (2025-01-21 16:21:47 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3677_tests-bb1e8b5a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52447?repo=metabase/metabase&commitHash=bb1e8b5a2424b447e65e49b45e11b51968649977&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52447?repo=metabase/metabase&commitHash=bb1e8b5a2424b447e65e49b45e11b51968649977&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52447?repo=metabase/metabase&commitHash=bb1e8b5a2424b447e65e49b45e11b51968649977&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52447?repo=metabase/metabase&commitHash=bb1e8b5a2424b447e65e49b45e11b51968649977&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52447?repo=metabase/metabase&commitHash=bb1e8b5a2424b447e65e49b45e11b51968649977&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2802154696,pull_request,closed,,"🤖 backported ""More reindexing up into the restore snapshot API""",#52442,github-automation-metabase,2025-01-21 15:25:51+00:00,"['crisptrutski', 'github-automation-metabase']",2025-01-22 11:14:11+00:00,2025-01-22 10:36:59+00:00,https://github.com/metabase/metabase/pull/52446,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2606836141, 'issue_id': 2802154696, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120783_tests-04c8118e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52446?repo=metabase/metabase&commitHash=04c8118e82de2abb27af91931f73dabd21ea634e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52446?repo=metabase/metabase&commitHash=04c8118e82de2abb27af91931f73dabd21ea634e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52446?repo=metabase/metabase&commitHash=04c8118e82de2abb27af91931f73dabd21ea634e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52446?repo=metabase/metabase&commitHash=04c8118e82de2abb27af91931f73dabd21ea634e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52446?repo=metabase/metabase&commitHash=04c8118e82de2abb27af91931f73dabd21ea634e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 22, 10, 20, 11, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 10:20:11 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120783_tests-04c8118e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52446?repo=metabase/metabase&commitHash=04c8118e82de2abb27af91931f73dabd21ea634e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52446?repo=metabase/metabase&commitHash=04c8118e82de2abb27af91931f73dabd21ea634e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52446?repo=metabase/metabase&commitHash=04c8118e82de2abb27af91931f73dabd21ea634e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52446?repo=metabase/metabase&commitHash=04c8118e82de2abb27af91931f73dabd21ea634e&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52446?repo=metabase/metabase&commitHash=04c8118e82de2abb27af91931f73dabd21ea634e&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2802133827,pull_request,closed,,Better error messages when embedding against oss,"Fixes #51972

Error message in oss:
```
❯ http get localhost:3000/auth/sso/ -pb
{
    ""message"": ""The auth/sso endpoint only exists in enterprise builds"",
    ""status"": ""ee-build-required""
}
```

Working endpoint on ee (but an error message about what it needs)

```
❯ http post localhost:3000/auth/sso/logout -pb
{
    ""errors"": {
        ""cookies"": ""map where {metabase.SESSION -> <map where {:value -> <value must be a non-blank string.>}>}""
    },
    ""specific-errors"": {
        ""cookies"": {
            ""metabase.SESSION"": [
                ""missing required key, received: nil""
            ]
        }
    }
}
```

Running tests:

```
;; without enterprise on classpath
clj -X:dev:test :only metabase.server.auth-wrapper-test

Running tests in metabase.server.auth-wrapper-test
Ran 1 tests in 3.761 seconds
4 assertions, 0 failures, 0 errors.
{:test 1, :pass 4, :fail 0, :error 0, :type :summary, :duration 3760.932417, :single-threaded 1}
Ran 0 tests in parallel, 1 single-threaded.
All tests passed.

;; with enterprise on classpath
clj -X:dev:ee:test :only metabase.server.auth-wrapper-test
0 assertions, 0 failures, 0 errors.
{:test 1, :pass 0, :fail 0, :error 0, :type :summary, :duration 3705.00675, :single-threaded 1}
Ran 0 tests in parallel, 1 single-threaded.
All tests passed.
```

with enterprise has 0 assertions

But most importantly, when embedding against 0.52.5:
<img width=""1507"" alt=""image"" src=""https://github.com/user-attachments/assets/a2d65015-b6a7-454c-9054-bb3cc09d5906"" />
 And now after the change:
<img width=""1507"" alt=""image"" src=""https://github.com/user-attachments/assets/7aab96c8-98a3-4e7f-a616-c77620b113d0"" />

Screenshots from https://github.com/metabase/metabase-angular-react-sdk-embedding-sample
",dpsutton,2025-01-21 15:17:14+00:00,['dpsutton'],2025-01-22 15:32:47+00:00,2025-01-22 15:32:44+00:00,https://github.com/metabase/metabase/pull/52445,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2605055765, 'issue_id': 2802133827, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `730dbac0f0c7c688c6f05228225533e86de0f8b0-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12890029314?pr=52445)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can share a dashboard card via public link', 'created_at': datetime.datetime(2025, 1, 21, 15, 32, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605107222, 'issue_id': 2802133827, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/107667_tests-730dbac0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52445?repo=metabase/metabase&commitHash=730dbac0f0c7c688c6f05228225533e86de0f8b0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52445?repo=metabase/metabase&commitHash=730dbac0f0c7c688c6f05228225533e86de0f8b0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52445?repo=metabase/metabase&commitHash=730dbac0f0c7c688c6f05228225533e86de0f8b0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52445?repo=metabase/metabase&commitHash=730dbac0f0c7c688c6f05228225533e86de0f8b0&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>xray-dashboards-work-test</code> | A deadlock was detected while executing a query, causing the transaction to fail. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52445?repo=metabase/metabase&commitHash=730dbac0f0c7c688c6f05228225533e86de0f8b0&utm_source=gh-comment&runConclusion=FAILURE&runId=379c7c89-1245-5a76-b6c1-ccfecf16309b) |\n| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52445?repo=metabase/metabase&commitHash=730dbac0f0c7c688c6f05228225533e86de0f8b0&utm_source=gh-comment&runConclusion=FAILURE&runId=9dc41d60-61ee-5785-a0f9-45990a8d4b31) |\n| <code>dont-analyze-hidden-tables-test</code> | Query execution was canceled due to user request, causing a transaction to be aborted. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52445?repo=metabase/metabase&commitHash=730dbac0f0c7c688c6f05228225533e86de0f8b0&utm_source=gh-comment&runConclusion=FAILURE&runId=a21acc5e-1328-51fe-9822-022b9b68c382) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52445?repo=metabase/metabase&commitHash=730dbac0f0c7c688c6f05228225533e86de0f8b0&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 21, 15, 52, 39, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-21 15:32:23 UTC): ## e2e tests failed on `730dbac0f0c7c688c6f05228225533e86de0f8b0-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12890029314?pr=52445)

  File | Test Name
  ---- | ---------
  `dashboard-questions.cy.spec.js` | (_flaky_) Dashboard > Dashboard Questions > admin > can share a dashboard card via public link

trunk-io[bot] on (2025-01-21 15:52:39 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/107667_tests-730dbac0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52445?repo=metabase/metabase&commitHash=730dbac0f0c7c688c6f05228225533e86de0f8b0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52445?repo=metabase/metabase&commitHash=730dbac0f0c7c688c6f05228225533e86de0f8b0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52445?repo=metabase/metabase&commitHash=730dbac0f0c7c688c6f05228225533e86de0f8b0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52445?repo=metabase/metabase&commitHash=730dbac0f0c7c688c6f05228225533e86de0f8b0&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>xray-dashboards-work-test</code> | A deadlock was detected while executing a query, causing the transaction to fail. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52445?repo=metabase/metabase&commitHash=730dbac0f0c7c688c6f05228225533e86de0f8b0&utm_source=gh-comment&runConclusion=FAILURE&runId=379c7c89-1245-5a76-b6c1-ccfecf16309b) |
| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52445?repo=metabase/metabase&commitHash=730dbac0f0c7c688c6f05228225533e86de0f8b0&utm_source=gh-comment&runConclusion=FAILURE&runId=9dc41d60-61ee-5785-a0f9-45990a8d4b31) |
| <code>dont-analyze-hidden-tables-test</code> | Query execution was canceled due to user request, causing a transaction to be aborted. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52445?repo=metabase/metabase&commitHash=730dbac0f0c7c688c6f05228225533e86de0f8b0&utm_source=gh-comment&runConclusion=FAILURE&runId=a21acc5e-1328-51fe-9822-022b9b68c382) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52445?repo=metabase/metabase&commitHash=730dbac0f0c7c688c6f05228225533e86de0f8b0&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2802107157,pull_request,closed,,"🤖 backported ""Add an order by to the batched truncation""",#52417,github-automation-metabase,2025-01-21 15:06:53+00:00,"['dpsutton', 'github-automation-metabase']",2025-01-21 16:44:54+00:00,2025-01-21 15:56:23+00:00,https://github.com/metabase/metabase/pull/52444,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2605023994, 'issue_id': 2802107157, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `8d6182d7b92e015da5e2b43ab85edb3b657debc5-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12889825867?pr=52444)\n\n  File | Test Name\n  ---- | ---------\n  `permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)', 'created_at': datetime.datetime(2025, 1, 21, 15, 20, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605103031, 'issue_id': 2802107157, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/73188_tests-8d6182d7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52444?repo=metabase/metabase&commitHash=8d6182d7b92e015da5e2b43ab85edb3b657debc5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52444?repo=metabase/metabase&commitHash=8d6182d7b92e015da5e2b43ab85edb3b657debc5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52444?repo=metabase/metabase&commitHash=8d6182d7b92e015da5e2b43ab85edb3b657debc5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52444?repo=metabase/metabase&commitHash=8d6182d7b92e015da5e2b43ab85edb3b657debc5&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52444?repo=metabase/metabase&commitHash=8d6182d7b92e015da5e2b43ab85edb3b657debc5&utm_source=gh-comment&runConclusion=FAILURE&runId=c209b99c-eac5-57d6-bacc-6f050306a302) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52444?repo=metabase/metabase&commitHash=8d6182d7b92e015da5e2b43ab85edb3b657debc5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 21, 15, 50, 58, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-21 15:20:23 UTC): ## e2e tests failed on `8d6182d7b92e015da5e2b43ab85edb3b657debc5-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12889825867?pr=52444)

  File | Test Name
  ---- | ---------
  `permissions-reproductions.cy.spec.js` | issue 24966 > should correctly fetch field values for a filter when native question is used for sandboxing (metabase#24966)

trunk-io[bot] on (2025-01-21 15:50:58 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/73188_tests-8d6182d7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52444?repo=metabase/metabase&commitHash=8d6182d7b92e015da5e2b43ab85edb3b657debc5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52444?repo=metabase/metabase&commitHash=8d6182d7b92e015da5e2b43ab85edb3b657debc5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52444?repo=metabase/metabase&commitHash=8d6182d7b92e015da5e2b43ab85edb3b657debc5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52444?repo=metabase/metabase&commitHash=8d6182d7b92e015da5e2b43ab85edb3b657debc5&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52444?repo=metabase/metabase&commitHash=8d6182d7b92e015da5e2b43ab85edb3b657debc5&utm_source=gh-comment&runConclusion=FAILURE&runId=c209b99c-eac5-57d6-bacc-6f050306a302) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52444?repo=metabase/metabase&commitHash=8d6182d7b92e015da5e2b43ab85edb3b657debc5&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2802095901,pull_request,closed,,"🤖 backported ""Fix passing a font for static embedded question""","  #52368
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-21 15:02:11+00:00,"['sanex3339', 'github-automation-metabase']",2025-01-23 08:50:34+00:00,2025-01-23 08:50:32+00:00,https://github.com/metabase/metabase/pull/52443,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2609174786, 'issue_id': 2802095901, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13650_tests-cffce07e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52443?repo=metabase/metabase&commitHash=cffce07e1d4b6c8014b3a82a23084c275527c910&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52443?repo=metabase/metabase&commitHash=cffce07e1d4b6c8014b3a82a23084c275527c910&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52443?repo=metabase/metabase&commitHash=cffce07e1d4b6c8014b3a82a23084c275527c910&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52443?repo=metabase/metabase&commitHash=cffce07e1d4b6c8014b3a82a23084c275527c910&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding-sdk > tooltip-reproductions should render tooltips below the screen's height</code> | The expected value was false, but the actual value was true. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52443?repo=metabase/metabase&commitHash=cffce07e1d4b6c8014b3a82a23084c275527c910&utm_source=gh-comment&runConclusion=FAILURE&runId=6e68f374-a5e1-54c0-9991-a2261763e284) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52443?repo=metabase/metabase&commitHash=cffce07e1d4b6c8014b3a82a23084c275527c910&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 23, 8, 41, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609174787, 'issue_id': 2802095901, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13650_tests-cffce07e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52443?repo=metabase/metabase&commitHash=cffce07e1d4b6c8014b3a82a23084c275527c910&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52443?repo=metabase/metabase&commitHash=cffce07e1d4b6c8014b3a82a23084c275527c910&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52443?repo=metabase/metabase&commitHash=cffce07e1d4b6c8014b3a82a23084c275527c910&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52443?repo=metabase/metabase&commitHash=cffce07e1d4b6c8014b3a82a23084c275527c910&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding-sdk > tooltip-reproductions should render tooltips below the screen's height</code> | The expected value was false, but the actual value was true. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52443?repo=metabase/metabase&commitHash=cffce07e1d4b6c8014b3a82a23084c275527c910&utm_source=gh-comment&runConclusion=FAILURE&runId=6e68f374-a5e1-54c0-9991-a2261763e284) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52443?repo=metabase/metabase&commitHash=cffce07e1d4b6c8014b3a82a23084c275527c910&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 23, 8, 41, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2609191947, 'issue_id': 2802095901, 'author': 'sanex3339', 'body': ""> [![Static Badge](https://camo.githubusercontent.com/90a2196736ef0d2702ecceedf76a2616a9d5a64677b6e3bc5036753335150791/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f31333635305f74657374732d63666663653037652d707572706c65)](https://app.trunk.io/metabase/flaky-tests/pr/52443?repo=metabase/metabase&commitHash=cffce07e1d4b6c8014b3a82a23084c275527c910&utm_source=gh-comment) \u2002 [![Static Badge](https://camo.githubusercontent.com/2c48f321f01509f805aec904b18c262ad305c0a6ec26788fd028c58e23d9650d/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f312d6661696c65642d6372696d736f6e)](https://app.trunk.io/metabase/flaky-tests/pr/52443?repo=metabase/metabase&commitHash=cffce07e1d4b6c8014b3a82a23084c275527c910&utm_source=gh-comment&runConclusion=FAILURE) \u2002 [![Static Badge](https://camo.githubusercontent.com/e1ba95235055aed8940bb0206ff6278a7d4acaae5ebd056a1ad4e60375a34d4d/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f302d666c616b792d726564)](https://app.trunk.io/metabase/flaky-tests/pr/52443?repo=metabase/metabase&commitHash=cffce07e1d4b6c8014b3a82a23084c275527c910&utm_source=gh-comment&runConclusion=FAILURE) \u2002 [![Static Badge](https://camo.githubusercontent.com/783b26b3139988ebdc0fcc03351e569a600354dfa0714aa70dd48ae25fb67c06/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f302d71756172616e74696e65642d79656c6c6f77)](https://app.trunk.io/metabase/flaky-tests/pr/52443?repo=metabase/metabase&commitHash=cffce07e1d4b6c8014b3a82a23084c275527c910&utm_source=gh-comment&runConclusion=QUARANTINED)\r\n> \r\n> Failed Test\tFailure Summary\tLogs\r\n> `scenarios > embedding-sdk > tooltip-reproductions should render tooltips below the screen's height`\tThe expected value was false, but the actual value was true.\t[Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52443?repo=metabase/metabase&commitHash=cffce07e1d4b6c8014b3a82a23084c275527c910&utm_source=gh-comment&runConclusion=FAILURE&runId=6e68f374-a5e1-54c0-9991-a2261763e284)\r\n> [View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52443?repo=metabase/metabase&commitHash=cffce07e1d4b6c8014b3a82a23084c275527c910&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\r\n\r\nNot related to my changes"", 'created_at': datetime.datetime(2025, 1, 23, 8, 49, 38, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-23 08:41:15 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13650_tests-cffce07e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52443?repo=metabase/metabase&commitHash=cffce07e1d4b6c8014b3a82a23084c275527c910&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52443?repo=metabase/metabase&commitHash=cffce07e1d4b6c8014b3a82a23084c275527c910&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52443?repo=metabase/metabase&commitHash=cffce07e1d4b6c8014b3a82a23084c275527c910&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52443?repo=metabase/metabase&commitHash=cffce07e1d4b6c8014b3a82a23084c275527c910&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding-sdk > tooltip-reproductions should render tooltips below the screen's height</code> | The expected value was false, but the actual value was true. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52443?repo=metabase/metabase&commitHash=cffce07e1d4b6c8014b3a82a23084c275527c910&utm_source=gh-comment&runConclusion=FAILURE&runId=6e68f374-a5e1-54c0-9991-a2261763e284) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52443?repo=metabase/metabase&commitHash=cffce07e1d4b6c8014b3a82a23084c275527c910&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2025-01-23 08:41:15 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13650_tests-cffce07e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52443?repo=metabase/metabase&commitHash=cffce07e1d4b6c8014b3a82a23084c275527c910&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52443?repo=metabase/metabase&commitHash=cffce07e1d4b6c8014b3a82a23084c275527c910&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52443?repo=metabase/metabase&commitHash=cffce07e1d4b6c8014b3a82a23084c275527c910&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52443?repo=metabase/metabase&commitHash=cffce07e1d4b6c8014b3a82a23084c275527c910&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding-sdk > tooltip-reproductions should render tooltips below the screen's height</code> | The expected value was false, but the actual value was true. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52443?repo=metabase/metabase&commitHash=cffce07e1d4b6c8014b3a82a23084c275527c910&utm_source=gh-comment&runConclusion=FAILURE&runId=6e68f374-a5e1-54c0-9991-a2261763e284) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52443?repo=metabase/metabase&commitHash=cffce07e1d4b6c8014b3a82a23084c275527c910&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

sanex3339 (Assginee) on (2025-01-23 08:49:38 UTC): Not related to my changes

"
2802082183,pull_request,closed,,More reindexing up into the restore snapshot API,"Fix minor bug in testing helper.

We want re-indexing to happen exactly once, but it was accidentally inside a loop. So it could be happen 0 or N times, not what we want.

Also moved it up to the API, as in our unit tests we run this function with an empty appdb, missing the search index metadata table.",crisptrutski,2025-01-21 14:56:45+00:00,['crisptrutski'],2025-01-22 10:37:29+00:00,2025-01-21 15:24:57+00:00,https://github.com/metabase/metabase/pull/52442,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2605066594, 'issue_id': 2802082183, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/124348_tests-ffa07685-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52442?repo=metabase/metabase&commitHash=ffa076858505a1f833bdf89d788fe7742937a3a1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52442?repo=metabase/metabase&commitHash=ffa076858505a1f833bdf89d788fe7742937a3a1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52442?repo=metabase/metabase&commitHash=ffa076858505a1f833bdf89d788fe7742937a3a1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52442?repo=metabase/metabase&commitHash=ffa076858505a1f833bdf89d788fe7742937a3a1&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52442?repo=metabase/metabase&commitHash=ffa076858505a1f833bdf89d788fe7742937a3a1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 21, 15, 36, 30, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-21 15:36:30 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/124348_tests-ffa07685-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52442?repo=metabase/metabase&commitHash=ffa076858505a1f833bdf89d788fe7742937a3a1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52442?repo=metabase/metabase&commitHash=ffa076858505a1f833bdf89d788fe7742937a3a1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52442?repo=metabase/metabase&commitHash=ffa076858505a1f833bdf89d788fe7742937a3a1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52442?repo=metabase/metabase&commitHash=ffa076858505a1f833bdf89d788fe7742937a3a1&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52442?repo=metabase/metabase&commitHash=ffa076858505a1f833bdf89d788fe7742937a3a1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2802063779,pull_request,closed,,chore(qb): drop useless divider,"### Description

Remove divider, [context](https://metaboat.slack.com/archives/C0645JP1W81/p1737398368845839)

### Before
![image](https://github.com/user-attachments/assets/4499ec2b-f1b9-4e41-96d8-7eee7cf00063)

### After

<img width=""1061"" alt=""Screenshot 2025-01-21 at 17 49 56"" src=""https://github.com/user-attachments/assets/b79adddb-2e87-416f-9638-70a9eb06301f"" />
",uladzimirdev,2025-01-21 14:49:19+00:00,['uladzimirdev'],2025-01-27 22:11:08+00:00,2025-01-21 18:47:33+00:00,https://github.com/metabase/metabase/pull/52441,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2604978476, 'issue_id': 2802063779, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `f4fe46ff3e9d9babb40037744a528a1dfc20ca58-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12889495739?pr=52441)\n\n  File | Test Name\n  ---- | ---------\n  `reproductions-1.cy.spec.js` | (_flaky_) issue 17514 > scenario 1 > should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its title (metabase#17514-1)', 'created_at': datetime.datetime(2025, 1, 21, 15, 3, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605102387, 'issue_id': 2802063779, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3675_tests-f4fe46ff-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52441?repo=metabase/metabase&commitHash=f4fe46ff3e9d9babb40037744a528a1dfc20ca58&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52441?repo=metabase/metabase&commitHash=f4fe46ff3e9d9babb40037744a528a1dfc20ca58&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52441?repo=metabase/metabase&commitHash=f4fe46ff3e9d9babb40037744a528a1dfc20ca58&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52441?repo=metabase/metabase&commitHash=f4fe46ff3e9d9babb40037744a528a1dfc20ca58&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52441?repo=metabase/metabase&commitHash=f4fe46ff3e9d9babb40037744a528a1dfc20ca58&utm_source=gh-comment&runConclusion=FAILURE&runId=d13ae322-2bb0-59b0-9303-60f032d43af8) |\n| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52441?repo=metabase/metabase&commitHash=f4fe46ff3e9d9babb40037744a528a1dfc20ca58&utm_source=gh-comment&runConclusion=FAILURE&runId=1bb27f71-702a-5ad1-bd3b-0c56f25afa75) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52441?repo=metabase/metabase&commitHash=f4fe46ff3e9d9babb40037744a528a1dfc20ca58&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 21, 15, 50, 43, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-21 15:03:04 UTC): ## e2e tests failed on `f4fe46ff3e9d9babb40037744a528a1dfc20ca58-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12889495739?pr=52441)

  File | Test Name
  ---- | ---------
  `reproductions-1.cy.spec.js` | (_flaky_) issue 17514 > scenario 1 > should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its title (metabase#17514-1)

trunk-io[bot] on (2025-01-21 15:50:43 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3675_tests-f4fe46ff-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52441?repo=metabase/metabase&commitHash=f4fe46ff3e9d9babb40037744a528a1dfc20ca58&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52441?repo=metabase/metabase&commitHash=f4fe46ff3e9d9babb40037744a528a1dfc20ca58&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52441?repo=metabase/metabase&commitHash=f4fe46ff3e9d9babb40037744a528a1dfc20ca58&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52441?repo=metabase/metabase&commitHash=f4fe46ff3e9d9babb40037744a528a1dfc20ca58&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52441?repo=metabase/metabase&commitHash=f4fe46ff3e9d9babb40037744a528a1dfc20ca58&utm_source=gh-comment&runConclusion=FAILURE&runId=d13ae322-2bb0-59b0-9303-60f032d43af8) |
| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52441?repo=metabase/metabase&commitHash=f4fe46ff3e9d9babb40037744a528a1dfc20ca58&utm_source=gh-comment&runConclusion=FAILURE&runId=1bb27f71-702a-5ad1-bd3b-0c56f25afa75) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52441?repo=metabase/metabase&commitHash=f4fe46ff3e9d9babb40037744a528a1dfc20ca58&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2802052282,pull_request,closed,,fix: use white color for icon on hover,"Closes https://github.com/metabase/metabase/issues/52434

### Description

Fixes close icon color


### Demo

https://github.com/user-attachments/assets/2f2497ee-e861-4f0d-b420-b670c6b0ac14



### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",uladzimirdev,2025-01-21 14:44:39+00:00,['uladzimirdev'],2025-01-21 20:02:53+00:00,2025-01-21 19:14:50+00:00,https://github.com/metabase/metabase/pull/52440,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2605116249, 'issue_id': 2802052282, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13376_tests-6b860022-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52440?repo=metabase/metabase&commitHash=6b860022ba78018fc4b1f1d20380dca19c5bc3e4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52440?repo=metabase/metabase&commitHash=6b860022ba78018fc4b1f1d20380dca19c5bc3e4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52440?repo=metabase/metabase&commitHash=6b860022ba78018fc4b1f1d20380dca19c5bc3e4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52440?repo=metabase/metabase&commitHash=6b860022ba78018fc4b1f1d20380dca19c5bc3e4&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52440?repo=metabase/metabase&commitHash=6b860022ba78018fc4b1f1d20380dca19c5bc3e4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 21, 15, 55, 56, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-21 15:55:56 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13376_tests-6b860022-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52440?repo=metabase/metabase&commitHash=6b860022ba78018fc4b1f1d20380dca19c5bc3e4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52440?repo=metabase/metabase&commitHash=6b860022ba78018fc4b1f1d20380dca19c5bc3e4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52440?repo=metabase/metabase&commitHash=6b860022ba78018fc4b1f1d20380dca19c5bc3e4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52440?repo=metabase/metabase&commitHash=6b860022ba78018fc4b1f1d20380dca19c5bc3e4&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52440?repo=metabase/metabase&commitHash=6b860022ba78018fc4b1f1d20380dca19c5bc3e4&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2802027635,pull_request,closed,,"🤖 backported ""Add `overflow:auto` to `Autocomplete` component""",#52409,github-automation-metabase,2025-01-21 14:34:44+00:00,"['oisincoveney', 'github-automation-metabase']",2025-01-21 15:53:42+00:00,2025-01-21 15:17:02+00:00,https://github.com/metabase/metabase/pull/52437,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2604908882, 'issue_id': 2802027635, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 3c764ab2f491849706bcebe88dbb7f169525dfef...ef6565dc014613b973b3c78ed7ac00337ff861c1.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/inputs/Autocomplete/Autocomplete.styled.tsx |', 'created_at': datetime.datetime(2025, 1, 21, 14, 36, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604950625, 'issue_id': 2802027635, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `ef6565dc014613b973b3c78ed7ac00337ff861c1-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12889220818?pr=52437)\n\n  File | Test Name\n  ---- | ---------\n  `native-reproductions.cy.spec.js` | issue 34330 > should only call the autocompleter with all text typed (metabase#34330)', 'created_at': datetime.datetime(2025, 1, 21, 14, 52, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605026105, 'issue_id': 2802027635, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/32038_tests-ef6565dc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52437?repo=metabase/metabase&commitHash=ef6565dc014613b973b3c78ed7ac00337ff861c1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52437?repo=metabase/metabase&commitHash=ef6565dc014613b973b3c78ed7ac00337ff861c1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52437?repo=metabase/metabase&commitHash=ef6565dc014613b973b3c78ed7ac00337ff861c1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52437?repo=metabase/metabase&commitHash=ef6565dc014613b973b3c78ed7ac00337ff861c1&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 34330 should only call the autocompleter with all text typed (metabase\\#34330)</code> | cy.wait() timed out waiting for the first request to the route 'autocomplete' to occur, but no request ever occurred. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52437?repo=metabase/metabase&commitHash=ef6565dc014613b973b3c78ed7ac00337ff861c1&utm_source=gh-comment&runConclusion=FAILURE&runId=bf2989fe-1f74-5722-a99a-1eacd7f90045) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52437?repo=metabase/metabase&commitHash=ef6565dc014613b973b3c78ed7ac00337ff861c1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 21, 15, 21, 13, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-21 14:36:20 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 3c764ab2f491849706bcebe88dbb7f169525dfef...ef6565dc014613b973b3c78ed7ac00337ff861c1.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/inputs/Autocomplete/Autocomplete.styled.tsx |

github-actions[bot] on (2025-01-21 14:52:27 UTC): ## e2e tests failed on `ef6565dc014613b973b3c78ed7ac00337ff861c1-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12889220818?pr=52437)

  File | Test Name
  ---- | ---------
  `native-reproductions.cy.spec.js` | issue 34330 > should only call the autocompleter with all text typed (metabase#34330)

trunk-io[bot] on (2025-01-21 15:21:13 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/32038_tests-ef6565dc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52437?repo=metabase/metabase&commitHash=ef6565dc014613b973b3c78ed7ac00337ff861c1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52437?repo=metabase/metabase&commitHash=ef6565dc014613b973b3c78ed7ac00337ff861c1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52437?repo=metabase/metabase&commitHash=ef6565dc014613b973b3c78ed7ac00337ff861c1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52437?repo=metabase/metabase&commitHash=ef6565dc014613b973b3c78ed7ac00337ff861c1&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 34330 should only call the autocompleter with all text typed (metabase\#34330)</code> | cy.wait() timed out waiting for the first request to the route 'autocomplete' to occur, but no request ever occurred. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52437?repo=metabase/metabase&commitHash=ef6565dc014613b973b3c78ed7ac00337ff861c1&utm_source=gh-comment&runConclusion=FAILURE&runId=bf2989fe-1f74-5722-a99a-1eacd7f90045) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52437?repo=metabase/metabase&commitHash=ef6565dc014613b973b3c78ed7ac00337ff861c1&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2802006220,pull_request,open,,Metabot v3 PoC,"Feature branch PR, do not merge to `master`.",metamben,2025-01-21 14:26:07+00:00,['metamben'],2025-02-08 01:14:27+00:00,,https://github.com/metabase/metabase/pull/52436,"[('Metabot/General', 'General Metabot AI'), ('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2604886136, 'issue_id': 2802006220, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 07967d1d548b889ddb86fefb822e5c13325f553e...60b85b61ace7f477ac1ade8dab61af09fbebe3a8.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/icons/Icon/icons/index.ts<br>frontend/src/metabase/ui/components/icons/Icon/icons/metabot.svg |', 'created_at': datetime.datetime(2025, 1, 21, 14, 27, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2605023220, 'issue_id': 2802006220, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/104243_tests-e51023ca-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52436?repo=metabase/metabase&commitHash=e51023ca43aa5ce5867fbce74a53fffd67de9c1d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52436?repo=metabase/metabase&commitHash=e51023ca43aa5ce5867fbce74a53fffd67de9c1d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52436?repo=metabase/metabase&commitHash=e51023ca43aa5ce5867fbce74a53fffd67de9c1d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52436?repo=metabase/metabase&commitHash=e51023ca43aa5ce5867fbce74a53fffd67de9c1d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > native > ai sql fixer should be able to fix SQL with AI</code> | cy.wait() timed out waiting for the first request to the route 'fixSql' to occur, but no request ever occurred. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52436?repo=metabase/metabase&commitHash=e51023ca43aa5ce5867fbce74a53fffd67de9c1d&utm_source=gh-comment&runConclusion=FAILURE&runId=bf7e04aa-c1d2-5784-b34f-d1ebf30f09e9) |\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52436?repo=metabase/metabase&commitHash=e51023ca43aa5ce5867fbce74a53fffd67de9c1d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 21, 15, 20, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2644339218, 'issue_id': 2802006220, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `e51023ca43aa5ce5867fbce74a53fffd67de9c1d-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13209818691?pr=52436)\n\n  File | Test Name\n  ---- | ---------\n  `ai-sql-fixer.cy.spec.ts` | scenarios > native > ai sql fixer > should be able to fix SQL with AI', 'created_at': datetime.datetime(2025, 2, 7, 23, 50, 52, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-21 14:27:42 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 07967d1d548b889ddb86fefb822e5c13325f553e...60b85b61ace7f477ac1ade8dab61af09fbebe3a8.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/icons/Icon/icons/index.ts<br>frontend/src/metabase/ui/components/icons/Icon/icons/metabot.svg |

trunk-io[bot] on (2025-01-21 15:20:03 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/104243_tests-e51023ca-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52436?repo=metabase/metabase&commitHash=e51023ca43aa5ce5867fbce74a53fffd67de9c1d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52436?repo=metabase/metabase&commitHash=e51023ca43aa5ce5867fbce74a53fffd67de9c1d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52436?repo=metabase/metabase&commitHash=e51023ca43aa5ce5867fbce74a53fffd67de9c1d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52436?repo=metabase/metabase&commitHash=e51023ca43aa5ce5867fbce74a53fffd67de9c1d&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > native > ai sql fixer should be able to fix SQL with AI</code> | cy.wait() timed out waiting for the first request to the route 'fixSql' to occur, but no request ever occurred. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52436?repo=metabase/metabase&commitHash=e51023ca43aa5ce5867fbce74a53fffd67de9c1d&utm_source=gh-comment&runConclusion=FAILURE&runId=bf7e04aa-c1d2-5784-b34f-d1ebf30f09e9) |
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52436?repo=metabase/metabase&commitHash=e51023ca43aa5ce5867fbce74a53fffd67de9c1d&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-02-07 23:50:52 UTC): ## e2e tests failed on `e51023ca43aa5ce5867fbce74a53fffd67de9c1d-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13209818691?pr=52436)

  File | Test Name
  ---- | ---------
  `ai-sql-fixer.cy.spec.ts` | scenarios > native > ai sql fixer > should be able to fix SQL with AI

"
2801991814,pull_request,closed,,"🤖 backported ""bump loki diff tolerance""",#52408,github-automation-metabase,2025-01-21 14:20:15+00:00,"['alxnddr', 'github-automation-metabase']",2025-01-21 15:29:39+00:00,2025-01-21 14:21:46+00:00,https://github.com/metabase/metabase/pull/52435,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2605048699, 'issue_id': 2801991814, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/54_tests-3c85b435-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52435?repo=metabase/metabase&commitHash=3c85b4355e716d59258e484dbeef287729382a51&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52435?repo=metabase/metabase&commitHash=3c85b4355e716d59258e484dbeef287729382a51&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52435?repo=metabase/metabase&commitHash=3c85b4355e716d59258e484dbeef287729382a51&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52435?repo=metabase/metabase&commitHash=3c85b4355e716d59258e484dbeef287729382a51&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52435?repo=metabase/metabase&commitHash=3c85b4355e716d59258e484dbeef287729382a51&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 21, 15, 29, 37, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-21 15:29:37 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/54_tests-3c85b435-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52435?repo=metabase/metabase&commitHash=3c85b4355e716d59258e484dbeef287729382a51&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52435?repo=metabase/metabase&commitHash=3c85b4355e716d59258e484dbeef287729382a51&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52435?repo=metabase/metabase&commitHash=3c85b4355e716d59258e484dbeef287729382a51&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52435?repo=metabase/metabase&commitHash=3c85b4355e716d59258e484dbeef287729382a51&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52435?repo=metabase/metabase&commitHash=3c85b4355e716d59258e484dbeef287729382a51&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2801858605,pull_request,closed,,"🤖 backported ""Drop clj linting and formatting from pre-commit hooks""",#41602,github-automation-metabase,2025-01-21 13:28:03+00:00,"['uladzimirdev', 'github-automation-metabase']",2025-01-21 14:44:53+00:00,2025-01-21 13:33:05+00:00,https://github.com/metabase/metabase/pull/52433,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2604751366, 'issue_id': 2801858605, 'author': 'uladzimirdev', 'body': 'no need to be backported', 'created_at': datetime.datetime(2025, 1, 21, 13, 33, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604858423, 'issue_id': 2801858605, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13637_tests-16cc9a2e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52433?repo=metabase/metabase&commitHash=16cc9a2e4e6d3bce1e6e76d16246fb67e129545b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52433?repo=metabase/metabase&commitHash=16cc9a2e4e6d3bce1e6e76d16246fb67e129545b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52433?repo=metabase/metabase&commitHash=16cc9a2e4e6d3bce1e6e76d16246fb67e129545b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52433?repo=metabase/metabase&commitHash=16cc9a2e4e6d3bce1e6e76d16246fb67e129545b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52433?repo=metabase/metabase&commitHash=16cc9a2e4e6d3bce1e6e76d16246fb67e129545b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 21, 14, 16, 56, tzinfo=datetime.timezone.utc)}]","uladzimirdev (Assginee) on (2025-01-21 13:33:24 UTC): no need to be backported

trunk-io[bot] on (2025-01-21 14:16:56 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13637_tests-16cc9a2e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52433?repo=metabase/metabase&commitHash=16cc9a2e4e6d3bce1e6e76d16246fb67e129545b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52433?repo=metabase/metabase&commitHash=16cc9a2e4e6d3bce1e6e76d16246fb67e129545b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52433?repo=metabase/metabase&commitHash=16cc9a2e4e6d3bce1e6e76d16246fb67e129545b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52433?repo=metabase/metabase&commitHash=16cc9a2e4e6d3bce1e6e76d16246fb67e129545b&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52433?repo=metabase/metabase&commitHash=16cc9a2e4e6d3bce1e6e76d16246fb67e129545b&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2801812712,pull_request,closed,,add rule to prevent unsafe element filtering,"Closes https://linear.app/metabase-inc/issue/DEVX-58/add-eslint-rule-for-flaky-usage-of-last-and-eq-commands

### Description

Using cy.get('elem').last() is risky, because Cypress will select an element as soon as it finds one. This can lead to flaky results, because selected elements might not render all at once. At least a soft assertion should be required, or element should be properly targeted. This PR adds a rule that will throw a warning when either `.last()` or `.eq()` with negative  is used.

### How to verify

1. Checkout this branch
2. Restart Eslint server if needed
3. Open any test that uses `.last()` command to see eslint warning or run lint

### More details
there are certain situations where this rule might come off as annoying, but as described above, it’s quite necessary to make sure that we target the right element when multiple are present. One case where the rule might feel awkward could be in helpers. Let’s say you have a helper like this:

```js
getNotebookStep(""summarize"", { stage, index })
    .findByTestId(""aggregate-step"")
    .findAllByTestId(""notebook-cell-item"")
    .last()
    .click();
```

this triggers the eslint rule even in cases where we might be looking for the first element. we still want to be safe and prevent a flaky usage. the rewriting of this helper might look like this:

```diff
getNotebookStep(""summarize"", { stage, index })
    .findByTestId(""aggregate-step"")
    .findAllByTestId(""notebook-cell-item"")
+ .should('have.length.at.least', index + 1)
    .last()
    .click();
```
",filiphric,2025-01-21 13:10:07+00:00,['filiphric'],2025-01-30 08:28:47+00:00,2025-01-28 15:22:25+00:00,https://github.com/metabase/metabase/pull/52432,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2604714525, 'issue_id': 2801812712, 'author': 'npretto', 'body': ""We have `--max-warnings 0` in both ci and pre-commit, so I think we'll have to update the PR with a buch of `// eslint-ignore-next-line` if we want to merge it"", 'created_at': datetime.datetime(2025, 1, 21, 13, 18, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604736701, 'issue_id': 2801812712, 'author': 'filiphric', 'body': ""> We have `--max-warnings 0` in both ci and pre-commit, so I think we'll have to update the PR with a buch of `// eslint-ignore-next-line` if we want to merge it\r\n\r\nYup, I thought how to mitigate this. pre-commit is not a problem, because sommit does not contain any of these errors. the lint step is a bit trickier. I wanted to add max warnings for the e2e in `package.json, or just straight up go fixing everything. It’s about 300 warnings. btw. why even use warnings when we allow zero? that’s what the errors are supposed to do. I understand we want to keep them at minimum but then changes like these face unnecessary hurdles"", 'created_at': datetime.datetime(2025, 1, 21, 13, 27, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604788919, 'issue_id': 2801812712, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13473_tests-347f93bf-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52432?repo=metabase/metabase&commitHash=347f93bfc6bc68de12c8d773fbd87b436fe38037&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52432?repo=metabase/metabase&commitHash=347f93bfc6bc68de12c8d773fbd87b436fe38037&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52432?repo=metabase/metabase&commitHash=347f93bfc6bc68de12c8d773fbd87b436fe38037&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52432?repo=metabase/metabase&commitHash=347f93bfc6bc68de12c8d773fbd87b436fe38037&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52432?repo=metabase/metabase&commitHash=347f93bfc6bc68de12c8d773fbd87b436fe38037&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 21, 13, 48, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2606667159, 'issue_id': 2801812712, 'author': 'npretto', 'body': ""> why even use warnings when we allow zero? that’s what the errors are supposed to do. I understand we want to keep them at minimum but then changes like these face unnecessary hurdles\r\n\r\nI would agree with allowing warnings, the way we're treating them now it's like they are errors. I think this was discussed briefly on a FE meeting but there wasn't agreement on it.\r\nFeel free to propose this either via an RFC or on the frontend channel"", 'created_at': datetime.datetime(2025, 1, 22, 9, 8, 43, tzinfo=datetime.timezone.utc)}]","npretto on (2025-01-21 13:18:43 UTC): We have `--max-warnings 0` in both ci and pre-commit, so I think we'll have to update the PR with a buch of `// eslint-ignore-next-line` if we want to merge it

filiphric (Issue Creator) on (2025-01-21 13:27:29 UTC): Yup, I thought how to mitigate this. pre-commit is not a problem, because sommit does not contain any of these errors. the lint step is a bit trickier. I wanted to add max warnings for the e2e in `package.json, or just straight up go fixing everything. It’s about 300 warnings. btw. why even use warnings when we allow zero? that’s what the errors are supposed to do. I understand we want to keep them at minimum but then changes like these face unnecessary hurdles

trunk-io[bot] on (2025-01-21 13:48:54 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13473_tests-347f93bf-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52432?repo=metabase/metabase&commitHash=347f93bfc6bc68de12c8d773fbd87b436fe38037&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52432?repo=metabase/metabase&commitHash=347f93bfc6bc68de12c8d773fbd87b436fe38037&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52432?repo=metabase/metabase&commitHash=347f93bfc6bc68de12c8d773fbd87b436fe38037&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52432?repo=metabase/metabase&commitHash=347f93bfc6bc68de12c8d773fbd87b436fe38037&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52432?repo=metabase/metabase&commitHash=347f93bfc6bc68de12c8d773fbd87b436fe38037&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

npretto on (2025-01-22 09:08:43 UTC): I would agree with allowing warnings, the way we're treating them now it's like they are errors. I think this was discussed briefly on a FE meeting but there wasn't agreement on it.
Feel free to propose this either via an RFC or on the frontend channel

"
2801774887,pull_request,open,,[Notification] Quartz trigger management,"In https://github.com/metabase/metabase/pull/50724 we've migrated the alerts from pulse tables to notification tables, but we haven't migrated the quartz triggers for them yet.

So in this PR we change in so that:
- on migrate up:
  - migrate alerts from pulse table to notification table
  - delete all the send pulse triggers
  - And then on startup new send notification triggers are created by running [[metabase.task.notification/InitNotificationTriggers]] job once. This job is idempotent
- on migrate down:
  - we delete all the notifications
  - delete the [[metabase.task.send-pulses/InitSendPulseTriggers]] job so that when instance startup, this job is run again so that it iterates all existing alerts and re-creates the send pulse triggers. This job is idempotent.

Part of WRK-2",qnkhuat,2025-01-21 12:55:21+00:00,"['crisptrutski', 'qnkhuat']",2025-02-03 05:42:33+00:00,,https://github.com/metabase/metabase/pull/52431,"[('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2604723075, 'issue_id': 2801774887, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/95448_tests-150b88dd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52431?repo=metabase/metabase&commitHash=150b88dd8dbde3023aa16633d6d54b801447e780&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52431?repo=metabase/metabase&commitHash=150b88dd8dbde3023aa16633d6d54b801447e780&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/290-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52431?repo=metabase/metabase&commitHash=150b88dd8dbde3023aa16633d6d54b801447e780&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52431?repo=metabase/metabase&commitHash=150b88dd8dbde3023aa16633d6d54b801447e780&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52431?repo=metabase/metabase&commitHash=150b88dd8dbde3023aa16633d6d54b801447e780&utm_source=gh-comment&runConclusion=FAILURE&runId=49875e2a-242e-5c3f-842a-8268513c171e) |\n| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and \'Browse databases\' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52431?repo=metabase/metabase&commitHash=150b88dd8dbde3023aa16633d6d54b801447e780&utm_source=gh-comment&runConclusion=FAILURE&runId=46a9f09e-74b0-563c-9373-3464d196a884) |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52431?repo=metabase/metabase&commitHash=150b88dd8dbde3023aa16633d6d54b801447e780&utm_source=gh-comment&runConclusion=FAILURE&runId=d15110d2-e726-5c03-9410-6a8027f9c2da) |\n| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs\xa0↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52431?repo=metabase/metabase&commitHash=150b88dd8dbde3023aa16633d6d54b801447e780&utm_source=gh-comment&runConclusion=FAILURE&runId=01a57315-d53c-5be2-a423-405dbaa11993) |\n\n[... and 286 more](https://app.trunk.io/metabase/flaky-tests/pr/52431?repo=metabase/metabase&commitHash=150b88dd8dbde3023aa16633d6d54b801447e780&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52431?repo=metabase/metabase&commitHash=150b88dd8dbde3023aa16633d6d54b801447e780&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 21, 13, 22, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629889752, 'issue_id': 2801774887, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `150b88dd8dbde3023aa16633d6d54b801447e780-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13106279029?pr=52431)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)\n`model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model\n`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette\n`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link\n`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results"", 'created_at': datetime.datetime(2025, 2, 3, 4, 28, 43, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-21 13:22:12 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/95448_tests-150b88dd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52431?repo=metabase/metabase&commitHash=150b88dd8dbde3023aa16633d6d54b801447e780&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52431?repo=metabase/metabase&commitHash=150b88dd8dbde3023aa16633d6d54b801447e780&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/290-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52431?repo=metabase/metabase&commitHash=150b88dd8dbde3023aa16633d6d54b801447e780&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52431?repo=metabase/metabase&commitHash=150b88dd8dbde3023aa16633d6d54b801447e780&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52431?repo=metabase/metabase&commitHash=150b88dd8dbde3023aa16633d6d54b801447e780&utm_source=gh-comment&runConclusion=FAILURE&runId=49875e2a-242e-5c3f-842a-8268513c171e) |
| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and 'Browse databases' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52431?repo=metabase/metabase&commitHash=150b88dd8dbde3023aa16633d6d54b801447e780&utm_source=gh-comment&runConclusion=FAILURE&runId=46a9f09e-74b0-563c-9373-3464d196a884) |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52431?repo=metabase/metabase&commitHash=150b88dd8dbde3023aa16633d6d54b801447e780&utm_source=gh-comment&runConclusion=FAILURE&runId=d15110d2-e726-5c03-9410-6a8027f9c2da) |
| <code>command palette should render a searchable command palette</code> | Unable to find an accessible element with the role ""option"" and name ""Orders, Count"" within a certain time limit. | [Logs ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52431?repo=metabase/metabase&commitHash=150b88dd8dbde3023aa16633d6d54b801447e780&utm_source=gh-comment&runConclusion=FAILURE&runId=01a57315-d53c-5be2-a423-405dbaa11993) |

[... and 286 more](https://app.trunk.io/metabase/flaky-tests/pr/52431?repo=metabase/metabase&commitHash=150b88dd8dbde3023aa16633d6d54b801447e780&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52431?repo=metabase/metabase&commitHash=150b88dd8dbde3023aa16633d6d54b801447e780&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-02-03 04:28:43 UTC): ## e2e tests failed on `150b88dd8dbde3023aa16633d6d54b801447e780-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13106279029?pr=52431)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)
`model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model
`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette
`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link
`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results

"
2801748971,pull_request,closed,,Repro #7108 - Date fields not displayed on custom remapping,"Closes #7108

### Description

Bug was already fixed, just adding a repro.

### How to verify

CI is green.",kamilmielnik,2025-01-21 12:44:57+00:00,['kamilmielnik'],2025-01-22 07:39:50+00:00,2025-01-22 07:39:49+00:00,https://github.com/metabase/metabase/pull/52429,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2604735275, 'issue_id': 2801748971, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3676_tests-5a7ccf4d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52429?repo=metabase/metabase&commitHash=5a7ccf4d90ec5fd0ca54655cfb0257848fa0cfa9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52429?repo=metabase/metabase&commitHash=5a7ccf4d90ec5fd0ca54655cfb0257848fa0cfa9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52429?repo=metabase/metabase&commitHash=5a7ccf4d90ec5fd0ca54655cfb0257848fa0cfa9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52429?repo=metabase/metabase&commitHash=5a7ccf4d90ec5fd0ca54655cfb0257848fa0cfa9&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52429?repo=metabase/metabase&commitHash=5a7ccf4d90ec5fd0ca54655cfb0257848fa0cfa9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 21, 13, 26, 56, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-21 13:26:56 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3676_tests-5a7ccf4d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52429?repo=metabase/metabase&commitHash=5a7ccf4d90ec5fd0ca54655cfb0257848fa0cfa9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52429?repo=metabase/metabase&commitHash=5a7ccf4d90ec5fd0ca54655cfb0257848fa0cfa9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52429?repo=metabase/metabase&commitHash=5a7ccf4d90ec5fd0ca54655cfb0257848fa0cfa9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52429?repo=metabase/metabase&commitHash=5a7ccf4d90ec5fd0ca54655cfb0257848fa0cfa9&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52429?repo=metabase/metabase&commitHash=5a7ccf4d90ec5fd0ca54655cfb0257848fa0cfa9&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2801565103,pull_request,closed,,fix(sdk): add theme change transition to the root element,"Add theme change transition to the root element of the SDK
This PR is the follow-up of https://github.com/metabase/metabase/pull/52259 with SDK-related code

We need it to smoothly change background color on the root element of SDK with the `mb-wrapper` class.

# How to verify
- build the SDK
- connect it to an app
- the root element of SDK with `mb-wrapper` class should have the `transition` property",sanex3339,2025-01-21 11:35:34+00:00,['sanex3339'],2025-01-21 17:17:20+00:00,2025-01-21 15:40:03+00:00,https://github.com/metabase/metabase/pull/52427,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2604564322, 'issue_id': 2801565103, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13358_tests-c63fd320-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52427?repo=metabase/metabase&commitHash=c63fd320b6763c1eb23a9c3da6227538d8c822c6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52427?repo=metabase/metabase&commitHash=c63fd320b6763c1eb23a9c3da6227538d8c822c6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52427?repo=metabase/metabase&commitHash=c63fd320b6763c1eb23a9c3da6227538d8c822c6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52427?repo=metabase/metabase&commitHash=c63fd320b6763c1eb23a9c3da6227538d8c822c6&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52427?repo=metabase/metabase&commitHash=c63fd320b6763c1eb23a9c3da6227538d8c822c6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 21, 12, 14, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2604564328, 'issue_id': 2801565103, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13232_tests-c63fd320-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52427?repo=metabase/metabase&commitHash=c63fd320b6763c1eb23a9c3da6227538d8c822c6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52427?repo=metabase/metabase&commitHash=c63fd320b6763c1eb23a9c3da6227538d8c822c6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52427?repo=metabase/metabase&commitHash=c63fd320b6763c1eb23a9c3da6227538d8c822c6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52427?repo=metabase/metabase&commitHash=c63fd320b6763c1eb23a9c3da6227538d8c822c6&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52427?repo=metabase/metabase&commitHash=c63fd320b6763c1eb23a9c3da6227538d8c822c6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 21, 12, 14, 35, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-21 12:14:34 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13358_tests-c63fd320-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52427?repo=metabase/metabase&commitHash=c63fd320b6763c1eb23a9c3da6227538d8c822c6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52427?repo=metabase/metabase&commitHash=c63fd320b6763c1eb23a9c3da6227538d8c822c6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52427?repo=metabase/metabase&commitHash=c63fd320b6763c1eb23a9c3da6227538d8c822c6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52427?repo=metabase/metabase&commitHash=c63fd320b6763c1eb23a9c3da6227538d8c822c6&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52427?repo=metabase/metabase&commitHash=c63fd320b6763c1eb23a9c3da6227538d8c822c6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2025-01-21 12:14:35 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13232_tests-c63fd320-purple)](https://app.trunk.io/metabase/flaky-tests/pr/52427?repo=metabase/metabase&commitHash=c63fd320b6763c1eb23a9c3da6227538d8c822c6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/52427?repo=metabase/metabase&commitHash=c63fd320b6763c1eb23a9c3da6227538d8c822c6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/52427?repo=metabase/metabase&commitHash=c63fd320b6763c1eb23a9c3da6227538d8c822c6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/52427?repo=metabase/metabase&commitHash=c63fd320b6763c1eb23a9c3da6227538d8c822c6&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ↗︎](https://app.trunk.io/metabase/flaky-tests/pr/52427?repo=metabase/metabase&commitHash=c63fd320b6763c1eb23a9c3da6227538d8c822c6&utm_source=gh-comment) ⋅ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
