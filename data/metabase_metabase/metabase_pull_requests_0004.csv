id,type,state,state_reason,title,body,author,created_at,assignees,updated_at,closed_at,url,labels,comments_list,comment_thread
2777826186,pull_request,closed,,feat(qb): update header button styling,"[Epic](https://github.com/metabase/metabase/issues/47911)
[design](https://www.figma.com/design/mbfL6bqmoS1K00vFR3bhnp/Notebook-usability-improvements?node-id=1-286&p=f&t=aITf41DbBWzV1CgH-0)

### Description

Update styling of the buttons
- add icons
- update variant
- update icon button sizes and hover styles
- update buttons in the notebook editor

### Demo






https://github.com/user-attachments/assets/bd4c165a-8db7-496a-80ea-a6dd12d2ff88







",uladzimirdev,2025-01-09 13:19:30+00:00,['uladzimirdev'],2025-01-27 22:11:21+00:00,2025-01-17 20:50:02+00:00,https://github.com/metabase/metabase/pull/51905,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', ''), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2580140523, 'issue_id': 2777826186, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 9a2676013af3718fee766522023b44ff492c426e...93b3f2e6a335fa98c15c707f3812a82559c62d0d.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/icons/Icon/icons/index.ts<br>frontend/src/metabase/ui/components/icons/Icon/icons/pencil_lines.svg |', 'created_at': datetime.datetime(2025, 1, 9, 13, 21, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580324789, 'issue_id': 2777826186, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/40798_tests-93b3f2e6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51905?repo=metabase/metabase&commitHash=93b3f2e6a335fa98c15c707f3812a82559c62d0d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51905?repo=metabase/metabase&commitHash=93b3f2e6a335fa98c15c707f3812a82559c62d0d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51905?repo=metabase/metabase&commitHash=93b3f2e6a335fa98c15c707f3812a82559c62d0d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51905?repo=metabase/metabase&commitHash=93b3f2e6a335fa98c15c707f3812a82559c62d0d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > dashboard create adding question to one dashboard shouldn\'t affect previously visited unrelated dashboards (metabase\\#26826)</code> | The \\`cy.wait()\\` command timed out waiting for the first request to the \'saveDashboard-saveDashboardCards\' route, indicating that no request was m... | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51905?repo=metabase/metabase&commitHash=93b3f2e6a335fa98c15c707f3812a82559c62d0d&utm_source=gh-comment&runConclusion=FAILURE&runId=75ff7eda-9fb8-54f0-afd2-53e0b1f61d3f) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51905?repo=metabase/metabase&commitHash=93b3f2e6a335fa98c15c707f3812a82559c62d0d&utm_source=gh-comment&runConclusion=FAILURE&runId=acae749a-f7ac-53b5-bb20-133b2c1793c0) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51905?repo=metabase/metabase&commitHash=93b3f2e6a335fa98c15c707f3812a82559c62d0d&utm_source=gh-comment&runConclusion=FAILURE&runId=93d99d2c-e1d8-59f3-8305-ba003a3a137d) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51905?repo=metabase/metabase&commitHash=93b3f2e6a335fa98c15c707f3812a82559c62d0d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 14, 15, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2596095986, 'issue_id': 2777826186, 'author': 'uladzimirdev', 'body': ""@ranquild it's been there for Filter button since https://github.com/metabase/metabase/pull/46984"", 'created_at': datetime.datetime(2025, 1, 16, 15, 55, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2596098023, 'issue_id': 2777826186, 'author': 'ranquild', 'body': '@uladzimirdev have someone asked you explicitly to add transitions to other buttons?', 'created_at': datetime.datetime(2025, 1, 16, 15, 56, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2596153571, 'issue_id': 2777826186, 'author': 'uladzimirdev', 'body': ""@ranquild no, but on stats only Editor button doesn't have this transition applied"", 'created_at': datetime.datetime(2025, 1, 16, 16, 18, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2598770766, 'issue_id': 2777826186, 'author': 'github-actions[bot]', 'body': 'üëã Deploying a preview environment for commit 93b3f2e6a335fa98c15c707f3812a82559c62d0d.\n‚úÖ Preview:\n    https://pr51905.coredev.metabase.com\nüóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2025, 1, 17, 16, 47, 34, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-09 13:21:10 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 9a2676013af3718fee766522023b44ff492c426e...93b3f2e6a335fa98c15c707f3812a82559c62d0d.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/icons/Icon/icons/index.ts<br>frontend/src/metabase/ui/components/icons/Icon/icons/pencil_lines.svg |

trunk-io[bot] on (2025-01-09 14:15:24 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/40798_tests-93b3f2e6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51905?repo=metabase/metabase&commitHash=93b3f2e6a335fa98c15c707f3812a82559c62d0d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51905?repo=metabase/metabase&commitHash=93b3f2e6a335fa98c15c707f3812a82559c62d0d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51905?repo=metabase/metabase&commitHash=93b3f2e6a335fa98c15c707f3812a82559c62d0d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51905?repo=metabase/metabase&commitHash=93b3f2e6a335fa98c15c707f3812a82559c62d0d&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > dashboard create adding question to one dashboard shouldn't affect previously visited unrelated dashboards (metabase\#26826)</code> | The \`cy.wait()\` command timed out waiting for the first request to the 'saveDashboard-saveDashboardCards' route, indicating that no request was m... | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51905?repo=metabase/metabase&commitHash=93b3f2e6a335fa98c15c707f3812a82559c62d0d&utm_source=gh-comment&runConclusion=FAILURE&runId=75ff7eda-9fb8-54f0-afd2-53e0b1f61d3f) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51905?repo=metabase/metabase&commitHash=93b3f2e6a335fa98c15c707f3812a82559c62d0d&utm_source=gh-comment&runConclusion=FAILURE&runId=acae749a-f7ac-53b5-bb20-133b2c1793c0) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51905?repo=metabase/metabase&commitHash=93b3f2e6a335fa98c15c707f3812a82559c62d0d&utm_source=gh-comment&runConclusion=FAILURE&runId=93d99d2c-e1d8-59f3-8305-ba003a3a137d) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51905?repo=metabase/metabase&commitHash=93b3f2e6a335fa98c15c707f3812a82559c62d0d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

uladzimirdev (Issue Creator) on (2025-01-16 15:55:21 UTC): @ranquild it's been there for Filter button since https://github.com/metabase/metabase/pull/46984

ranquild on (2025-01-16 15:56:12 UTC): @uladzimirdev have someone asked you explicitly to add transitions to other buttons?

uladzimirdev (Issue Creator) on (2025-01-16 16:18:54 UTC): @ranquild no, but on stats only Editor button doesn't have this transition applied

github-actions[bot] on (2025-01-17 16:47:34 UTC): üëã Deploying a preview environment for commit 93b3f2e6a335fa98c15c707f3812a82559c62d0d.
‚úÖ Preview:
    https://pr51905.coredev.metabase.com
üóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

"
2777611864,pull_request,closed,,chore(qb): cleanup unused code,"[Epic](https://github.com/metabase/metabase/issues/47911)

### Description

cleanup unused code",uladzimirdev,2025-01-09 11:52:15+00:00,['uladzimirdev'],2025-01-27 22:12:12+00:00,2025-01-10 12:53:24+00:00,https://github.com/metabase/metabase/pull/51903,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2579968703, 'issue_id': 2777611864, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 08f0bf86aabcd3c3f6874aea3bda5cb408b7adaa...9b09f3b0014e65ef1354182eb45274e11e7a23cb.\n\nNo notifications.', 'created_at': datetime.datetime(2025, 1, 9, 11, 53, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580060076, 'issue_id': 2777611864, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13171_tests-9b09f3b0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51903?repo=metabase/metabase&commitHash=9b09f3b0014e65ef1354182eb45274e11e7a23cb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51903?repo=metabase/metabase&commitHash=9b09f3b0014e65ef1354182eb45274e11e7a23cb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51903?repo=metabase/metabase&commitHash=9b09f3b0014e65ef1354182eb45274e11e7a23cb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51903?repo=metabase/metabase&commitHash=9b09f3b0014e65ef1354182eb45274e11e7a23cb&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51903?repo=metabase/metabase&commitHash=9b09f3b0014e65ef1354182eb45274e11e7a23cb&utm_source=gh-comment&runConclusion=FAILURE&runId=1c7d1ea8-b7a5-597e-add1-1beb73ad65dc) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51903?repo=metabase/metabase&commitHash=9b09f3b0014e65ef1354182eb45274e11e7a23cb&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 12, 41, 5, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-09 11:53:47 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 08f0bf86aabcd3c3f6874aea3bda5cb408b7adaa...9b09f3b0014e65ef1354182eb45274e11e7a23cb.

No notifications.

trunk-io[bot] on (2025-01-09 12:41:05 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13171_tests-9b09f3b0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51903?repo=metabase/metabase&commitHash=9b09f3b0014e65ef1354182eb45274e11e7a23cb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51903?repo=metabase/metabase&commitHash=9b09f3b0014e65ef1354182eb45274e11e7a23cb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51903?repo=metabase/metabase&commitHash=9b09f3b0014e65ef1354182eb45274e11e7a23cb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51903?repo=metabase/metabase&commitHash=9b09f3b0014e65ef1354182eb45274e11e7a23cb&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51903?repo=metabase/metabase&commitHash=9b09f3b0014e65ef1354182eb45274e11e7a23cb&utm_source=gh-comment&runConclusion=FAILURE&runId=1c7d1ea8-b7a5-597e-add1-1beb73ad65dc) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51903?repo=metabase/metabase&commitHash=9b09f3b0014e65ef1354182eb45274e11e7a23cb&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2777442215,pull_request,closed,,Upgrade hive-jdbc dependency,"Closes https://github.com/metabase/metabase/issues/49735

This PR upgrades `hive-jdbc` to version `4.0.1`, the standalone distribution. Original exclusions were removed due to negligible size difference of the driver JAR. Using `du -shc`, driver with exclusions was 42MB, while with no exclusions 43MB. The original 3.x with exclusions was 10MB.  ",lbrdnk,2025-01-09 10:34:07+00:00,['lbrdnk'],2025-01-10 17:33:05+00:00,2025-01-10 17:30:02+00:00,https://github.com/metabase/metabase/pull/51902,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2579878068, 'issue_id': 2777442215, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/161441_tests-b3c0b45a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51902?repo=metabase/metabase&commitHash=b3c0b45a2c602d9db22d3c5650679aa03bc02b97&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51902?repo=metabase/metabase&commitHash=b3c0b45a2c602d9db22d3c5650679aa03bc02b97&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/13-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51902?repo=metabase/metabase&commitHash=b3c0b45a2c602d9db22d3c5650679aa03bc02b97&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51902?repo=metabase/metabase&commitHash=b3c0b45a2c602d9db22d3c5650679aa03bc02b97&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51902?repo=metabase/metabase&commitHash=b3c0b45a2c602d9db22d3c5650679aa03bc02b97&utm_source=gh-comment&runConclusion=FAILURE&runId=e25dfb3e-1cea-54e6-9b6d-c63d099c875b) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51902?repo=metabase/metabase&commitHash=b3c0b45a2c602d9db22d3c5650679aa03bc02b97&utm_source=gh-comment&runConclusion=FAILURE&runId=32bf1e1e-8e3d-5e07-ac6b-8af0fad35ee8) |\n| <code>issue 16886 shouldn\'t remove parts of the query when choosing \'Run selected text\' (metabase\\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51902?repo=metabase/metabase&commitHash=b3c0b45a2c602d9db22d3c5650679aa03bc02b97&utm_source=gh-comment&runConclusion=FAILURE&runId=df9b0bd6-17c6-51fd-a856-07ad484ee83c) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51902?repo=metabase/metabase&commitHash=b3c0b45a2c602d9db22d3c5650679aa03bc02b97&utm_source=gh-comment&runConclusion=FAILURE&runId=acf90b5e-df4b-5898-abea-c2b19841067b) |\n| <code>issue 16886 shouldn\'t remove parts of the query when choosing \'Run selected text\' (metabase\\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51902?repo=metabase/metabase&commitHash=b3c0b45a2c602d9db22d3c5650679aa03bc02b97&utm_source=gh-comment&runConclusion=FAILURE&runId=df3144d0-5906-591a-bcf9-1637bbdffb57) |\n\n[... and 9 more](https://app.trunk.io/metabase/flaky-tests/pr/51902?repo=metabase/metabase&commitHash=b3c0b45a2c602d9db22d3c5650679aa03bc02b97&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51902?repo=metabase/metabase&commitHash=b3c0b45a2c602d9db22d3c5650679aa03bc02b97&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 11, 15, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-09 11:15:00 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/161441_tests-b3c0b45a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51902?repo=metabase/metabase&commitHash=b3c0b45a2c602d9db22d3c5650679aa03bc02b97&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51902?repo=metabase/metabase&commitHash=b3c0b45a2c602d9db22d3c5650679aa03bc02b97&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/13-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51902?repo=metabase/metabase&commitHash=b3c0b45a2c602d9db22d3c5650679aa03bc02b97&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51902?repo=metabase/metabase&commitHash=b3c0b45a2c602d9db22d3c5650679aa03bc02b97&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51902?repo=metabase/metabase&commitHash=b3c0b45a2c602d9db22d3c5650679aa03bc02b97&utm_source=gh-comment&runConclusion=FAILURE&runId=e25dfb3e-1cea-54e6-9b6d-c63d099c875b) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51902?repo=metabase/metabase&commitHash=b3c0b45a2c602d9db22d3c5650679aa03bc02b97&utm_source=gh-comment&runConclusion=FAILURE&runId=32bf1e1e-8e3d-5e07-ac6b-8af0fad35ee8) |
| <code>issue 16886 shouldn't remove parts of the query when choosing 'Run selected text' (metabase\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51902?repo=metabase/metabase&commitHash=b3c0b45a2c602d9db22d3c5650679aa03bc02b97&utm_source=gh-comment&runConclusion=FAILURE&runId=df9b0bd6-17c6-51fd-a856-07ad484ee83c) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51902?repo=metabase/metabase&commitHash=b3c0b45a2c602d9db22d3c5650679aa03bc02b97&utm_source=gh-comment&runConclusion=FAILURE&runId=acf90b5e-df4b-5898-abea-c2b19841067b) |
| <code>issue 16886 shouldn't remove parts of the query when choosing 'Run selected text' (metabase\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51902?repo=metabase/metabase&commitHash=b3c0b45a2c602d9db22d3c5650679aa03bc02b97&utm_source=gh-comment&runConclusion=FAILURE&runId=df3144d0-5906-591a-bcf9-1637bbdffb57) |

[... and 9 more](https://app.trunk.io/metabase/flaky-tests/pr/51902?repo=metabase/metabase&commitHash=b3c0b45a2c602d9db22d3c5650679aa03bc02b97&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51902?repo=metabase/metabase&commitHash=b3c0b45a2c602d9db22d3c5650679aa03bc02b97&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2777340016,pull_request,closed,,Backport Databricks M2M auth to 52,This PR is a backport of https://github.com/metabase/metabase/pull/51476 (auth) and https://github.com/metabase/metabase/pull/51693 (test). Bump of Databricks (that's present on master already) had to be also added to make the m2m work.,lbrdnk,2025-01-09 09:49:26+00:00,['lbrdnk'],2025-01-13 20:59:07+00:00,2025-01-13 20:58:38+00:00,https://github.com/metabase/metabase/pull/51900,"[('.Team/Querying', ''), ('was-backported', 'apply this to PRs that are themselves backports'), ('Database/Databricks', ''), ('.Team/Drivers', '')]","[{'comment_id': 2579693135, 'issue_id': 2777340016, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120334_tests-0c007c39-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51900?repo=metabase/metabase&commitHash=0c007c3935998eeec927a56e62fbae71b642f307&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51900?repo=metabase/metabase&commitHash=0c007c3935998eeec927a56e62fbae71b642f307&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51900?repo=metabase/metabase&commitHash=0c007c3935998eeec927a56e62fbae71b642f307&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51900?repo=metabase/metabase&commitHash=0c007c3935998eeec927a56e62fbae71b642f307&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51900?repo=metabase/metabase&commitHash=0c007c3935998eeec927a56e62fbae71b642f307&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 10, 14, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-09 10:14:00 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120334_tests-0c007c39-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51900?repo=metabase/metabase&commitHash=0c007c3935998eeec927a56e62fbae71b642f307&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51900?repo=metabase/metabase&commitHash=0c007c3935998eeec927a56e62fbae71b642f307&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51900?repo=metabase/metabase&commitHash=0c007c3935998eeec927a56e62fbae71b642f307&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51900?repo=metabase/metabase&commitHash=0c007c3935998eeec927a56e62fbae71b642f307&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51900?repo=metabase/metabase&commitHash=0c007c3935998eeec927a56e62fbae71b642f307&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2777306981,pull_request,closed,,Ensure with-dynamic-redefs is only used with functions,"The trick we use for dynamic re-definitions only works for functions. This is mentioned in the docstring, but here we add some validation to help save time when people trip over this.",crisptrutski,2025-01-09 09:37:11+00:00,['crisptrutski'],2025-01-27 22:12:03+00:00,2025-01-13 10:10:25+00:00,https://github.com/metabase/metabase/pull/51899,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2579684722, 'issue_id': 2777306981, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/118801_tests-c42fc9cd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51899?repo=metabase/metabase&commitHash=c42fc9cdcdbc9dac5c543e34e4247e21ebd4098d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51899?repo=metabase/metabase&commitHash=c42fc9cdcdbc9dac5c543e34e4247e21ebd4098d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51899?repo=metabase/metabase&commitHash=c42fc9cdcdbc9dac5c543e34e4247e21ebd4098d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51899?repo=metabase/metabase&commitHash=c42fc9cdcdbc9dac5c543e34e4247e21ebd4098d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51899?repo=metabase/metabase&commitHash=c42fc9cdcdbc9dac5c543e34e4247e21ebd4098d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 10, 11, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579684754, 'issue_id': 2777306981, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/25251_tests-15e1cbd1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51899?repo=metabase/metabase&commitHash=15e1cbd1a86b30de71bfd6f05afb219ebae109e9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51899?repo=metabase/metabase&commitHash=15e1cbd1a86b30de71bfd6f05afb219ebae109e9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51899?repo=metabase/metabase&commitHash=15e1cbd1a86b30de71bfd6f05afb219ebae109e9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51899?repo=metabase/metabase&commitHash=15e1cbd1a86b30de71bfd6f05afb219ebae109e9&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51899?repo=metabase/metabase&commitHash=15e1cbd1a86b30de71bfd6f05afb219ebae109e9&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 10, 11, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2586618457, 'issue_id': 2777306981, 'author': 'crisptrutski', 'body': ""> do you think we should rename it too `with-dynamic-fn-redefs` so it's extra clear?\r\n\r\nDefinitely. I had balked at how many places needed updating, but with cljfmt to realign everything it actually wasn't so bad."", 'created_at': datetime.datetime(2025, 1, 13, 9, 39, 21, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-09 10:11:46 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/118801_tests-c42fc9cd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51899?repo=metabase/metabase&commitHash=c42fc9cdcdbc9dac5c543e34e4247e21ebd4098d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51899?repo=metabase/metabase&commitHash=c42fc9cdcdbc9dac5c543e34e4247e21ebd4098d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51899?repo=metabase/metabase&commitHash=c42fc9cdcdbc9dac5c543e34e4247e21ebd4098d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51899?repo=metabase/metabase&commitHash=c42fc9cdcdbc9dac5c543e34e4247e21ebd4098d&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51899?repo=metabase/metabase&commitHash=c42fc9cdcdbc9dac5c543e34e4247e21ebd4098d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2025-01-09 10:11:46 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/25251_tests-15e1cbd1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51899?repo=metabase/metabase&commitHash=15e1cbd1a86b30de71bfd6f05afb219ebae109e9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51899?repo=metabase/metabase&commitHash=15e1cbd1a86b30de71bfd6f05afb219ebae109e9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51899?repo=metabase/metabase&commitHash=15e1cbd1a86b30de71bfd6f05afb219ebae109e9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51899?repo=metabase/metabase&commitHash=15e1cbd1a86b30de71bfd6f05afb219ebae109e9&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51899?repo=metabase/metabase&commitHash=15e1cbd1a86b30de71bfd6f05afb219ebae109e9&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

crisptrutski (Issue Creator) on (2025-01-13 09:39:21 UTC): Definitely. I had balked at how many places needed updating, but with cljfmt to realign everything it actually wasn't so bad.

"
2776828277,pull_request,closed,,"Revert ""[Notification] add spec update tests (#51630)""","This reverts commit f7437fb0928f8f131255859312d30557dec47f74.

> [!IMPORTANT]
> For those employed by Metabase: if you are merging into master, please add either a `backport` or a `no-backport` label to this PR. You will not be able to merge until you do this step. Refer to the section [Do I need to backport this PR?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#89f80d6f17714a0198aeb66c0efd1b71) in the Metabase Branching Strategy document for more details. If you're not employed by Metabase, this section does not apply to you, and the label will be taken care of by your reviewer.

> **Warning**
>
> If that is your first contribution to Metabase, please sign the [Contributor License Agreement](https://docs.google.com/a/metabase.com/forms/d/1oV38o7b9ONFSwuzwmERRMi9SYrhYeOrkbmNaq9pOJ_E/viewform) (unless it's a tiny documentation change). Also, if you're attempting to fix a translation issue, please submit your changes to our [POEditor project](https://poeditor.com/join/project/ynjQmwSsGh) instead of opening a PR.

Closes https://github.com/metabase/metabase/issues/[issue_number]

### Description

Describe the overall approach and the problem being solved.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> ...
2. ...

### Demo

_Upload a demo video or before/after screenshots if sensible or remove the section_

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",qnkhuat,2025-01-09 04:48:42+00:00,['qnkhuat'],2025-01-09 06:11:18+00:00,2025-01-09 04:48:50+00:00,https://github.com/metabase/metabase/pull/51896,"[('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2579196152, 'issue_id': 2776828277, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/122536_tests-cbb4b6ae-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51896?repo=metabase/metabase&commitHash=cbb4b6aeaa163069e3b64a60080c5a0dcadb6e35&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51896?repo=metabase/metabase&commitHash=cbb4b6aeaa163069e3b64a60080c5a0dcadb6e35&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51896?repo=metabase/metabase&commitHash=cbb4b6aeaa163069e3b64a60080c5a0dcadb6e35&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51896?repo=metabase/metabase&commitHash=cbb4b6aeaa163069e3b64a60080c5a0dcadb6e35&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51896?repo=metabase/metabase&commitHash=cbb4b6aeaa163069e3b64a60080c5a0dcadb6e35&utm_source=gh-comment&runConclusion=FAILURE&runId=bc47e91f-d1e3-50f7-851b-c2ac4102b51e) |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51896?repo=metabase/metabase&commitHash=cbb4b6aeaa163069e3b64a60080c5a0dcadb6e35&utm_source=gh-comment&runConclusion=FAILURE&runId=907d4cd8-a8b9-59f7-a46c-5c16c4f8618a) |\n| <code>extraction-function-datetime-test</code> | The query result set was closed, preventing the extraction of the year from a datetime column. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51896?repo=metabase/metabase&commitHash=cbb4b6aeaa163069e3b64a60080c5a0dcadb6e35&utm_source=gh-comment&runConclusion=FAILURE&runId=88dca337-360a-515b-ac4f-6991e946d5e2) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51896?repo=metabase/metabase&commitHash=cbb4b6aeaa163069e3b64a60080c5a0dcadb6e35&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 5, 13, 31, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-09 05:13:31 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/122536_tests-cbb4b6ae-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51896?repo=metabase/metabase&commitHash=cbb4b6aeaa163069e3b64a60080c5a0dcadb6e35&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51896?repo=metabase/metabase&commitHash=cbb4b6aeaa163069e3b64a60080c5a0dcadb6e35&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51896?repo=metabase/metabase&commitHash=cbb4b6aeaa163069e3b64a60080c5a0dcadb6e35&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51896?repo=metabase/metabase&commitHash=cbb4b6aeaa163069e3b64a60080c5a0dcadb6e35&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51896?repo=metabase/metabase&commitHash=cbb4b6aeaa163069e3b64a60080c5a0dcadb6e35&utm_source=gh-comment&runConclusion=FAILURE&runId=bc47e91f-d1e3-50f7-851b-c2ac4102b51e) |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51896?repo=metabase/metabase&commitHash=cbb4b6aeaa163069e3b64a60080c5a0dcadb6e35&utm_source=gh-comment&runConclusion=FAILURE&runId=907d4cd8-a8b9-59f7-a46c-5c16c4f8618a) |
| <code>extraction-function-datetime-test</code> | The query result set was closed, preventing the extraction of the year from a datetime column. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51896?repo=metabase/metabase&commitHash=cbb4b6aeaa163069e3b64a60080c5a0dcadb6e35&utm_source=gh-comment&runConclusion=FAILURE&runId=88dca337-360a-515b-ac4f-6991e946d5e2) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51896?repo=metabase/metabase&commitHash=cbb4b6aeaa163069e3b64a60080c5a0dcadb6e35&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2776763915,pull_request,closed,,Try partitioning backend tests,"The [current slowest backend job](https://stats.metabase.com/question#eyJkYXRhc2V0X3F1ZXJ5Ijp7ImRhdGFiYXNlIjoyNiwidHlwZSI6InF1ZXJ5IiwicXVlcnkiOnsibGltaXQiOjEwLCJicmVha291dCI6W1siZmllbGQiLCJuYW1lIix7ImJhc2UtdHlwZSI6InR5cGUvVGV4dCJ9XV0sIm9yZGVyLWJ5IjpbWyJkZXNjIixbImFnZ3JlZ2F0aW9uIiwwXV1dLCJhZ2dyZWdhdGlvbiI6W1sibWVkaWFuIixbImZpZWxkIiwibWludXRlc190b19jb21wbGV0ZSIseyJiYXNlLXR5cGUiOiJ0eXBlL0RlY2ltYWwifV1dXSwic291cmNlLXRhYmxlIjoiY2FyZF9fMTMzMzYiLCJhZ2dyZWdhdGlvbi1pZGVudHMiOnsiMCI6ImFnZ3JlZ2F0aW9uXzB3cVJvelVnQWdiek9UTFQxMmJtTkAwX18wIn0sImJyZWFrb3V0LWlkZW50cyI6eyIwIjoiYnJlYWtvdXRfMHdxUm96VWdBZ2J6T1RMVDEyYm1OQDBfXzAifSwiZmlsdGVyIjpbImFuZCIsWyJ0aW1lLWludGVydmFsIixbImZpZWxkIiwiY3JlYXRlZF9hdCIseyJiYXNlLXR5cGUiOiJ0eXBlL0RhdGVUaW1lV2l0aExvY2FsVFoifV0sLTcsImRheSJdLFsiPiIsWyJmaWVsZCIsIm1pbnV0ZXNfdG9fY29tcGxldGUiLHsiYmFzZS10eXBlIjoidHlwZS9EZWNpbWFsIn1dLDFdLFsiY29udGFpbnMiLFsiZmllbGQiLCJuYW1lIix7ImJhc2UtdHlwZSI6InR5cGUvVGV4dCJ9XSwiYmUtdGVzdHMtIix7ImNhc2Utc2Vuc2l0aXZlIjpmYWxzZX1dLFsiPSIsWyJmaWVsZCIsImJyYW5jaCIseyJiYXNlLXR5cGUiOiJ0eXBlL1RleHQifV0sIm1hc3RlciJdXX19LCJkaXNwbGF5Ijoicm93IiwiZGlzcGxheUlzTG9ja2VkIjp0cnVlLCJwYXJhbWV0ZXJzIjpbXSwidmlzdWFsaXphdGlvbl9zZXR0aW5ncyI6eyJ0YWJsZS5waXZvdCI6ZmFsc2UsInRhYmxlLmNlbGxfY29sdW1uIjoibWVkaWFuIiwiZ3JhcGguc2hvd192YWx1ZXMiOnRydWUsImdyYXBoLmRpbWVuc2lvbnMiOlsibmFtZSJdLCJncmFwaC5tZXRyaWNzIjpbIm1lZGlhbiJdfSwib3JpZ2luYWxfY2FyZF9pZCI6MTgwMTIsInR5cGUiOiJxdWVzdGlvbiJ9) is `be-tests-java-11-ee` so see if we can speed it up a bit by partitioning it into two jobs. 

Note that this is going to mess up the GH required jobs checks so this isn't ready to merge until I deal with that (hopefully by coming up with some sort of dummy job that we can use going forward instead of making each individual job required or not)",camsaul,2025-01-09 03:39:27+00:00,['camsaul'],2025-01-13 23:22:21+00:00,2025-01-13 23:22:18+00:00,https://github.com/metabase/metabase/pull/51895,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2579146214, 'issue_id': 2776763915, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/108751_tests-c82cb79d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51895?repo=metabase/metabase&commitHash=c82cb79dcc1f176afda03ed6dd6539f8239c074c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51895?repo=metabase/metabase&commitHash=c82cb79dcc1f176afda03ed6dd6539f8239c074c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/15-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51895?repo=metabase/metabase&commitHash=c82cb79dcc1f176afda03ed6dd6539f8239c074c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51895?repo=metabase/metabase&commitHash=c82cb79dcc1f176afda03ed6dd6539f8239c074c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>list-users-test</code> | failure\\_text: api\\_test.clj:141With premium token features = \\#{""scim""}Setting :scim-enabled = trueFetch deactivated user by emailexpected: (= 1 (... | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51895?repo=metabase/metabase&commitHash=c82cb79dcc1f176afda03ed6dd6539f8239c074c&utm_source=gh-comment&runConclusion=FAILURE&runId=9d638bfd-b7e8-5d36-8199-e010adca5a9d) |\n| <code>->id-test</code> | The expected value was not a positive integer. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51895?repo=metabase/metabase&commitHash=c82cb79dcc1f176afda03ed6dd6539f8239c074c&utm_source=gh-comment&runConclusion=FAILURE&runId=a989c6bd-f32a-53ba-b34a-b53b1becca46) |\n| <code>->id-test</code> | The expected value is a map with a positive integer, but the actual value is not. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51895?repo=metabase/metabase&commitHash=c82cb79dcc1f176afda03ed6dd6539f8239c074c&utm_source=gh-comment&runConclusion=FAILURE&runId=449a0ba6-8c6a-57c9-8019-af31a38dad76) |\n| <code>->id-test</code> | The expected value was not a positive integer. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51895?repo=metabase/metabase&commitHash=c82cb79dcc1f176afda03ed6dd6539f8239c074c&utm_source=gh-comment&runConclusion=FAILURE&runId=7169c74c-f337-55a4-ad72-924b311aec58) |\n\n[... and 11 more](https://app.trunk.io/metabase/flaky-tests/pr/51895?repo=metabase/metabase&commitHash=c82cb79dcc1f176afda03ed6dd6539f8239c074c&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51895?repo=metabase/metabase&commitHash=c82cb79dcc1f176afda03ed6dd6539f8239c074c&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 4, 12, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579164473, 'issue_id': 2776763915, 'author': 'camsaul', 'body': ""Unfortunately not a huge change, the ~30 minute job is now one ~24 minute job and one ~11 minute job. I might look into other ways to split this more evenly, or even see if I can run the static viz tests separately so we don't need to waste a ton of time building the frontend on every test run. Or maybe it's ok to only build static viz and run those tests on OSS test runs ü§î"", 'created_at': datetime.datetime(2025, 1, 9, 4, 36, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2585043133, 'issue_id': 2776763915, 'author': 'camsaul', 'body': 'ok now we got one ~24 minute job and one ~9 minute job, (driver tests are a little faster since we can skip building the FE)... we can probably split that ~24 minute job up into two partitions maybe.', 'created_at': datetime.datetime(2025, 1, 11, 3, 22, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2588438060, 'issue_id': 2776763915, 'author': 'camsaul', 'body': ""Closing this in favor of #52069 and a few other PRs... once that one and #52065 land I'll open a new PR to try this again"", 'created_at': datetime.datetime(2025, 1, 13, 23, 22, 14, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-09 04:12:38 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/108751_tests-c82cb79d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51895?repo=metabase/metabase&commitHash=c82cb79dcc1f176afda03ed6dd6539f8239c074c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51895?repo=metabase/metabase&commitHash=c82cb79dcc1f176afda03ed6dd6539f8239c074c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/15-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51895?repo=metabase/metabase&commitHash=c82cb79dcc1f176afda03ed6dd6539f8239c074c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51895?repo=metabase/metabase&commitHash=c82cb79dcc1f176afda03ed6dd6539f8239c074c&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>list-users-test</code> | failure\_text: api\_test.clj:141With premium token features = \#{""scim""}Setting :scim-enabled = trueFetch deactivated user by emailexpected: (= 1 (... | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51895?repo=metabase/metabase&commitHash=c82cb79dcc1f176afda03ed6dd6539f8239c074c&utm_source=gh-comment&runConclusion=FAILURE&runId=9d638bfd-b7e8-5d36-8199-e010adca5a9d) |
| <code>->id-test</code> | The expected value was not a positive integer. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51895?repo=metabase/metabase&commitHash=c82cb79dcc1f176afda03ed6dd6539f8239c074c&utm_source=gh-comment&runConclusion=FAILURE&runId=a989c6bd-f32a-53ba-b34a-b53b1becca46) |
| <code>->id-test</code> | The expected value is a map with a positive integer, but the actual value is not. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51895?repo=metabase/metabase&commitHash=c82cb79dcc1f176afda03ed6dd6539f8239c074c&utm_source=gh-comment&runConclusion=FAILURE&runId=449a0ba6-8c6a-57c9-8019-af31a38dad76) |
| <code>->id-test</code> | The expected value was not a positive integer. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51895?repo=metabase/metabase&commitHash=c82cb79dcc1f176afda03ed6dd6539f8239c074c&utm_source=gh-comment&runConclusion=FAILURE&runId=7169c74c-f337-55a4-ad72-924b311aec58) |

[... and 11 more](https://app.trunk.io/metabase/flaky-tests/pr/51895?repo=metabase/metabase&commitHash=c82cb79dcc1f176afda03ed6dd6539f8239c074c&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51895?repo=metabase/metabase&commitHash=c82cb79dcc1f176afda03ed6dd6539f8239c074c&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

camsaul (Issue Creator) on (2025-01-09 04:36:07 UTC): Unfortunately not a huge change, the ~30 minute job is now one ~24 minute job and one ~11 minute job. I might look into other ways to split this more evenly, or even see if I can run the static viz tests separately so we don't need to waste a ton of time building the frontend on every test run. Or maybe it's ok to only build static viz and run those tests on OSS test runs ü§î

camsaul (Issue Creator) on (2025-01-11 03:22:53 UTC): ok now we got one ~24 minute job and one ~9 minute job, (driver tests are a little faster since we can skip building the FE)... we can probably split that ~24 minute job up into two partitions maybe.

camsaul (Issue Creator) on (2025-01-13 23:22:14 UTC): Closing this in favor of #52069 and a few other PRs... once that one and #52065 land I'll open a new PR to try this again

"
2776717719,pull_request,closed,,allow disabling table pivot when new columns were added,"Closes https://github.com/metabase/metabase/issues/9874

### Description

Our Table viz (not pivot table) supports pivoting when there is 3 columns precisely. However, after enabling this pivoting if users added more columns the pivoting remained enabled but the toggle got hidden. This PR makes the toggle visible so it is possible to turn it off.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",alxnddr,2025-01-09 02:47:40+00:00,['alxnddr'],2025-01-10 19:07:05+00:00,2025-01-10 18:13:05+00:00,https://github.com/metabase/metabase/pull/51893,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2581705019, 'issue_id': 2776717719, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13251_tests-c0a0c64a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51893?repo=metabase/metabase&commitHash=c0a0c64a576802c76bb0a0fba426fc457a41eb82&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51893?repo=metabase/metabase&commitHash=c0a0c64a576802c76bb0a0fba426fc457a41eb82&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51893?repo=metabase/metabase&commitHash=c0a0c64a576802c76bb0a0fba426fc457a41eb82&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51893?repo=metabase/metabase&commitHash=c0a0c64a576802c76bb0a0fba426fc457a41eb82&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native lets you create and run a SQL question</code> | The test timed out waiting for the content \'18,760\' to appear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51893?repo=metabase/metabase&commitHash=c0a0c64a576802c76bb0a0fba426fc457a41eb82&utm_source=gh-comment&runConclusion=FAILURE&runId=35d8615e-303f-5044-8a55-b1c575b485cc) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51893?repo=metabase/metabase&commitHash=c0a0c64a576802c76bb0a0fba426fc457a41eb82&utm_source=gh-comment&runConclusion=FAILURE&runId=99ec1ee6-2509-5ad9-8796-88ae9edfa404) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51893?repo=metabase/metabase&commitHash=c0a0c64a576802c76bb0a0fba426fc457a41eb82&utm_source=gh-comment&runConclusion=FAILURE&runId=5227b471-0d36-5097-aac8-5d0445b6c2ce) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51893?repo=metabase/metabase&commitHash=c0a0c64a576802c76bb0a0fba426fc457a41eb82&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 10, 4, 11, 40, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-10 04:11:40 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13251_tests-c0a0c64a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51893?repo=metabase/metabase&commitHash=c0a0c64a576802c76bb0a0fba426fc457a41eb82&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51893?repo=metabase/metabase&commitHash=c0a0c64a576802c76bb0a0fba426fc457a41eb82&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51893?repo=metabase/metabase&commitHash=c0a0c64a576802c76bb0a0fba426fc457a41eb82&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51893?repo=metabase/metabase&commitHash=c0a0c64a576802c76bb0a0fba426fc457a41eb82&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native lets you create and run a SQL question</code> | The test timed out waiting for the content '18,760' to appear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51893?repo=metabase/metabase&commitHash=c0a0c64a576802c76bb0a0fba426fc457a41eb82&utm_source=gh-comment&runConclusion=FAILURE&runId=35d8615e-303f-5044-8a55-b1c575b485cc) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51893?repo=metabase/metabase&commitHash=c0a0c64a576802c76bb0a0fba426fc457a41eb82&utm_source=gh-comment&runConclusion=FAILURE&runId=99ec1ee6-2509-5ad9-8796-88ae9edfa404) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51893?repo=metabase/metabase&commitHash=c0a0c64a576802c76bb0a0fba426fc457a41eb82&utm_source=gh-comment&runConclusion=FAILURE&runId=5227b471-0d36-5097-aac8-5d0445b6c2ce) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51893?repo=metabase/metabase&commitHash=c0a0c64a576802c76bb0a0fba426fc457a41eb82&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2776680062,pull_request,closed,,Fix formatting of month-of-year when there are 53 weeks in the year,"Fixes https://github.com/metabase/metabase/issues/51777

How to verify:
- New -> Question -> Orders
- Summarize -> Count
- Breakout -> Created At -> Week of Year
- Visualize as a bar chart
- However over the last bar. It should say it's for the 53rd week
- Switch to table viz. It should correctly display the value as 53rd as well.

<img width=""437"" alt=""Screenshot 2025-01-08 at 21 05 21"" src=""https://github.com/user-attachments/assets/ed49d4fc-8399-4f69-8ad2-640ab0025e96"" />
<img width=""508"" alt=""Screenshot 2025-01-08 at 21 05 25"" src=""https://github.com/user-attachments/assets/59cb974f-a0f6-4533-88f1-55b0e850ca6c"" />
",ranquild,2025-01-09 02:09:18+00:00,['ranquild'],2025-01-09 19:27:10+00:00,2025-01-09 19:01:58+00:00,https://github.com/metabase/metabase/pull/51892,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2580808883, 'issue_id': 2776680062, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/52028_tests-8e352ba7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51892?repo=metabase/metabase&commitHash=8e352ba7329b12dd46313dce915756228fdc9cf8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51892?repo=metabase/metabase&commitHash=8e352ba7329b12dd46313dce915756228fdc9cf8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51892?repo=metabase/metabase&commitHash=8e352ba7329b12dd46313dce915756228fdc9cf8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51892?repo=metabase/metabase&commitHash=8e352ba7329b12dd46313dce915756228fdc9cf8&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native can save a question with no rows</code> | The test timed out waiting for the expected content \'No results!\' to appear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51892?repo=metabase/metabase&commitHash=8e352ba7329b12dd46313dce915756228fdc9cf8&utm_source=gh-comment&runConclusion=FAILURE&runId=d6930e1f-7b95-5576-96d5-3db0eb8ffa03) |\n| <code>scenarios > question > native should handle template tags</code> | The test timed out waiting for the expected content \'Showing 168 rows\' to appear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51892?repo=metabase/metabase&commitHash=8e352ba7329b12dd46313dce915756228fdc9cf8&utm_source=gh-comment&runConclusion=FAILURE&runId=9a2ce6dd-b186-53b8-9d36-da0915f7df38) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51892?repo=metabase/metabase&commitHash=8e352ba7329b12dd46313dce915756228fdc9cf8&utm_source=gh-comment&runConclusion=FAILURE&runId=e05062bc-b7d6-5a68-ac8f-f0781dac38db) |\n| <code>issue 16886 shouldn\'t remove parts of the query when choosing \'Run selected text\' (metabase\\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51892?repo=metabase/metabase&commitHash=8e352ba7329b12dd46313dce915756228fdc9cf8&utm_source=gh-comment&runConclusion=FAILURE&runId=4c103de3-a8ad-5046-bffd-9bb653ba3c44) |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51892?repo=metabase/metabase&commitHash=8e352ba7329b12dd46313dce915756228fdc9cf8&utm_source=gh-comment&runConclusion=FAILURE&runId=99131e17-b923-525d-966d-e2bc96f0ccbe) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51892?repo=metabase/metabase&commitHash=8e352ba7329b12dd46313dce915756228fdc9cf8&utm_source=gh-comment&runConclusion=FAILURE&runId=2a95e175-377a-51db-ae2d-ac04f1306312) |\n\n[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/51892?repo=metabase/metabase&commitHash=8e352ba7329b12dd46313dce915756228fdc9cf8&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51892?repo=metabase/metabase&commitHash=8e352ba7329b12dd46313dce915756228fdc9cf8&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 16, 53, 23, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-09 16:53:23 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/52028_tests-8e352ba7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51892?repo=metabase/metabase&commitHash=8e352ba7329b12dd46313dce915756228fdc9cf8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51892?repo=metabase/metabase&commitHash=8e352ba7329b12dd46313dce915756228fdc9cf8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51892?repo=metabase/metabase&commitHash=8e352ba7329b12dd46313dce915756228fdc9cf8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51892?repo=metabase/metabase&commitHash=8e352ba7329b12dd46313dce915756228fdc9cf8&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native can save a question with no rows</code> | The test timed out waiting for the expected content 'No results!' to appear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51892?repo=metabase/metabase&commitHash=8e352ba7329b12dd46313dce915756228fdc9cf8&utm_source=gh-comment&runConclusion=FAILURE&runId=d6930e1f-7b95-5576-96d5-3db0eb8ffa03) |
| <code>scenarios > question > native should handle template tags</code> | The test timed out waiting for the expected content 'Showing 168 rows' to appear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51892?repo=metabase/metabase&commitHash=8e352ba7329b12dd46313dce915756228fdc9cf8&utm_source=gh-comment&runConclusion=FAILURE&runId=9a2ce6dd-b186-53b8-9d36-da0915f7df38) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51892?repo=metabase/metabase&commitHash=8e352ba7329b12dd46313dce915756228fdc9cf8&utm_source=gh-comment&runConclusion=FAILURE&runId=e05062bc-b7d6-5a68-ac8f-f0781dac38db) |
| <code>issue 16886 shouldn't remove parts of the query when choosing 'Run selected text' (metabase\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51892?repo=metabase/metabase&commitHash=8e352ba7329b12dd46313dce915756228fdc9cf8&utm_source=gh-comment&runConclusion=FAILURE&runId=4c103de3-a8ad-5046-bffd-9bb653ba3c44) |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51892?repo=metabase/metabase&commitHash=8e352ba7329b12dd46313dce915756228fdc9cf8&utm_source=gh-comment&runConclusion=FAILURE&runId=99131e17-b923-525d-966d-e2bc96f0ccbe) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51892?repo=metabase/metabase&commitHash=8e352ba7329b12dd46313dce915756228fdc9cf8&utm_source=gh-comment&runConclusion=FAILURE&runId=2a95e175-377a-51db-ae2d-ac04f1306312) |

[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/51892?repo=metabase/metabase&commitHash=8e352ba7329b12dd46313dce915756228fdc9cf8&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51892?repo=metabase/metabase&commitHash=8e352ba7329b12dd46313dce915756228fdc9cf8&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2776657292,pull_request,closed,,Fix zoom-in.geographic drill thru for multi-stage queries,"### Description

Fix the `zoom-in.geographic` drill thru for queries with a filter stage after the aggregations.

Related to https://github.com/metabase/metabase/issues/46932

~~This is currently diffing against [appleby-quick-filter-for-mutlistage-queries](https://github.com/metabase/metabase/tree/appleby-quick-filter-for-mutlistage-queries) because the tests depend on a test helper added there. Once #51807 merges I will rebase this onto master.~~

### How to verify

* New question: People
* summarize: Count by State
* Add filter stage after summarize, e.g. Count > 1
* Visualize
* Click on a cell in the ""count"" column
* ""Zoom in"" drill through should appear in the context menu
* Select the ""Zoom in"" drill: should add a new filter for the State and binned breakouts added for latitude / longitude

### Demo

![Screenshot 2025-01-08 at 5 17 43‚ÄØPM](https://github.com/user-attachments/assets/84bdda36-c343-40d0-824a-faf76d13b185)

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",appleby,2025-01-09 01:18:28+00:00,['appleby'],2025-01-10 23:53:12+00:00,2025-01-10 20:36:15+00:00,https://github.com/metabase/metabase/pull/51891,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2579037755, 'issue_id': 2776657292, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/132316_tests-afba6786-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51891?repo=metabase/metabase&commitHash=afba67868402eeec23cfbeabd8c1cdf0ef757a01&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51891?repo=metabase/metabase&commitHash=afba67868402eeec23cfbeabd8c1cdf0ef757a01&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/8-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51891?repo=metabase/metabase&commitHash=afba67868402eeec23cfbeabd8c1cdf0ef757a01&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51891?repo=metabase/metabase&commitHash=afba67868402eeec23cfbeabd8c1cdf0ef757a01&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51891?repo=metabase/metabase&commitHash=afba67868402eeec23cfbeabd8c1cdf0ef757a01&utm_source=gh-comment&runConclusion=FAILURE&runId=0962c429-ed1e-5466-922a-325bbea42740) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51891?repo=metabase/metabase&commitHash=afba67868402eeec23cfbeabd8c1cdf0ef757a01&utm_source=gh-comment&runConclusion=FAILURE&runId=d0d90587-b873-5611-a92c-7841db2f059f) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51891?repo=metabase/metabase&commitHash=afba67868402eeec23cfbeabd8c1cdf0ef757a01&utm_source=gh-comment&runConclusion=FAILURE&runId=ac97a4cb-4e04-540f-abc3-b6853f8fe149) |\n| <code>issue 16886 shouldn\'t remove parts of the query when choosing \'Run selected text\' (metabase\\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51891?repo=metabase/metabase&commitHash=afba67868402eeec23cfbeabd8c1cdf0ef757a01&utm_source=gh-comment&runConclusion=FAILURE&runId=0862c4f9-079f-56d8-a01e-8a3d22f49a5d) |\n\n[... and 4 more](https://app.trunk.io/metabase/flaky-tests/pr/51891?repo=metabase/metabase&commitHash=afba67868402eeec23cfbeabd8c1cdf0ef757a01&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51891?repo=metabase/metabase&commitHash=afba67868402eeec23cfbeabd8c1cdf0ef757a01&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 2, 13, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2584079269, 'issue_id': 2776657292, 'author': 'appleby', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2025, 1, 10, 20, 39, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2584085056, 'issue_id': 2776657292, 'author': 'github-actions[bot]', 'body': '@appleby something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12716894010)', 'created_at': datetime.datetime(2025, 1, 10, 20, 41, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2584455296, 'issue_id': 2776657292, 'author': 'appleby', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2025, 1, 10, 22, 6, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2584929369, 'issue_id': 2776657292, 'author': 'github-actions[bot]', 'body': 'üöÄ This should also be released by [v0.52.6](https://github.com/metabase/metabase/milestone/298)', 'created_at': datetime.datetime(2025, 1, 10, 23, 53, 11, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-09 02:13:20 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/132316_tests-afba6786-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51891?repo=metabase/metabase&commitHash=afba67868402eeec23cfbeabd8c1cdf0ef757a01&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51891?repo=metabase/metabase&commitHash=afba67868402eeec23cfbeabd8c1cdf0ef757a01&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/8-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51891?repo=metabase/metabase&commitHash=afba67868402eeec23cfbeabd8c1cdf0ef757a01&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51891?repo=metabase/metabase&commitHash=afba67868402eeec23cfbeabd8c1cdf0ef757a01&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51891?repo=metabase/metabase&commitHash=afba67868402eeec23cfbeabd8c1cdf0ef757a01&utm_source=gh-comment&runConclusion=FAILURE&runId=0962c429-ed1e-5466-922a-325bbea42740) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51891?repo=metabase/metabase&commitHash=afba67868402eeec23cfbeabd8c1cdf0ef757a01&utm_source=gh-comment&runConclusion=FAILURE&runId=d0d90587-b873-5611-a92c-7841db2f059f) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51891?repo=metabase/metabase&commitHash=afba67868402eeec23cfbeabd8c1cdf0ef757a01&utm_source=gh-comment&runConclusion=FAILURE&runId=ac97a4cb-4e04-540f-abc3-b6853f8fe149) |
| <code>issue 16886 shouldn't remove parts of the query when choosing 'Run selected text' (metabase\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51891?repo=metabase/metabase&commitHash=afba67868402eeec23cfbeabd8c1cdf0ef757a01&utm_source=gh-comment&runConclusion=FAILURE&runId=0862c4f9-079f-56d8-a01e-8a3d22f49a5d) |

[... and 4 more](https://app.trunk.io/metabase/flaky-tests/pr/51891?repo=metabase/metabase&commitHash=afba67868402eeec23cfbeabd8c1cdf0ef757a01&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51891?repo=metabase/metabase&commitHash=afba67868402eeec23cfbeabd8c1cdf0ef757a01&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

appleby (Issue Creator) on (2025-01-10 20:39:57 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2025-01-10 20:41:12 UTC): @appleby something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12716894010)

appleby (Issue Creator) on (2025-01-10 22:06:06 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2025-01-10 23:53:11 UTC): üöÄ This should also be released by [v0.52.6](https://github.com/metabase/metabase/milestone/298)

"
2776589287,pull_request,closed,,Enabling mouse wheel scroll zooming for leaflet maps,"Closes #9437 

- Enable scroll wheel zooming on leaflet maps
- Adjusts wheelPxPerZoomLevel to increase zoom speed via scrolling",tsplude,2025-01-09 00:22:07+00:00,['tsplude'],2025-01-14 23:46:15+00:00,2025-01-14 22:59:58+00:00,https://github.com/metabase/metabase/pull/51888,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2581144660, 'issue_id': 2776589287, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 914cc8f725576cfc939dd546aef803a15e97c085...0ff53b7232b1fbe62a8648683c280a06f9c662c1.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/LeafletMap.jsx |', 'created_at': datetime.datetime(2025, 1, 9, 19, 59, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581239640, 'issue_id': 2776589287, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13284_tests-0ff53b72-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51888?repo=metabase/metabase&commitHash=0ff53b7232b1fbe62a8648683c280a06f9c662c1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51888?repo=metabase/metabase&commitHash=0ff53b7232b1fbe62a8648683c280a06f9c662c1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51888?repo=metabase/metabase&commitHash=0ff53b7232b1fbe62a8648683c280a06f9c662c1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51888?repo=metabase/metabase&commitHash=0ff53b7232b1fbe62a8648683c280a06f9c662c1&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51888?repo=metabase/metabase&commitHash=0ff53b7232b1fbe62a8648683c280a06f9c662c1&utm_source=gh-comment&runConclusion=FAILURE&runId=07c5dee5-eef8-5d34-8176-f56200fbbe07) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51888?repo=metabase/metabase&commitHash=0ff53b7232b1fbe62a8648683c280a06f9c662c1&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 21, 1, 43, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-09 19:59:53 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 914cc8f725576cfc939dd546aef803a15e97c085...0ff53b7232b1fbe62a8648683c280a06f9c662c1.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/LeafletMap.jsx |

trunk-io[bot] on (2025-01-09 21:01:43 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13284_tests-0ff53b72-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51888?repo=metabase/metabase&commitHash=0ff53b7232b1fbe62a8648683c280a06f9c662c1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51888?repo=metabase/metabase&commitHash=0ff53b7232b1fbe62a8648683c280a06f9c662c1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51888?repo=metabase/metabase&commitHash=0ff53b7232b1fbe62a8648683c280a06f9c662c1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51888?repo=metabase/metabase&commitHash=0ff53b7232b1fbe62a8648683c280a06f9c662c1&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51888?repo=metabase/metabase&commitHash=0ff53b7232b1fbe62a8648683c280a06f9c662c1&utm_source=gh-comment&runConclusion=FAILURE&runId=07c5dee5-eef8-5d34-8176-f56200fbbe07) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51888?repo=metabase/metabase&commitHash=0ff53b7232b1fbe62a8648683c280a06f9c662c1&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2776557288,pull_request,closed,,"ü§ñ backported ""Actions preprocess queries before compiling""",#51724,github-automation-metabase,2025-01-08 23:53:38+00:00,"['wzimrin', 'github-automation-metabase']",2025-01-09 01:15:53+00:00,2025-01-09 00:45:05+00:00,https://github.com/metabase/metabase/pull/51887,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2578960544, 'issue_id': 2776557288, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/122263_tests-8ee1ea11-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51887?repo=metabase/metabase&commitHash=8ee1ea11bcf203865de2a3806882d714ab7fa9bf&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51887?repo=metabase/metabase&commitHash=8ee1ea11bcf203865de2a3806882d714ab7fa9bf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51887?repo=metabase/metabase&commitHash=8ee1ea11bcf203865de2a3806882d714ab7fa9bf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51887?repo=metabase/metabase&commitHash=8ee1ea11bcf203865de2a3806882d714ab7fa9bf&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>get-database-can-upload-test</code> | The query execution failed because the table 'awsdatacatalog.v2\\_test\\_data.orders\\_v' does not exist in the AWS Athena database. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51887?repo=metabase/metabase&commitHash=8ee1ea11bcf203865de2a3806882d714ab7fa9bf&utm_source=gh-comment&runConclusion=FAILURE&runId=d3c2c182-c3f4-5b0e-b6c1-ac53584a2713) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51887?repo=metabase/metabase&commitHash=8ee1ea11bcf203865de2a3806882d714ab7fa9bf&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 9, 0, 41, 23, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-09 00:41:23 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/122263_tests-8ee1ea11-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51887?repo=metabase/metabase&commitHash=8ee1ea11bcf203865de2a3806882d714ab7fa9bf&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51887?repo=metabase/metabase&commitHash=8ee1ea11bcf203865de2a3806882d714ab7fa9bf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51887?repo=metabase/metabase&commitHash=8ee1ea11bcf203865de2a3806882d714ab7fa9bf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51887?repo=metabase/metabase&commitHash=8ee1ea11bcf203865de2a3806882d714ab7fa9bf&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>get-database-can-upload-test</code> | The query execution failed because the table 'awsdatacatalog.v2\_test\_data.orders\_v' does not exist in the AWS Athena database. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51887?repo=metabase/metabase&commitHash=8ee1ea11bcf203865de2a3806882d714ab7fa9bf&utm_source=gh-comment&runConclusion=FAILURE&runId=d3c2c182-c3f4-5b0e-b6c1-ac53584a2713) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51887?repo=metabase/metabase&commitHash=8ee1ea11bcf203865de2a3806882d714ab7fa9bf&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2776551770,pull_request,closed,,Setting alignment to top for icons in subscription and alert emails,"Closes #18791

- Changing vertical alignment of icons in subscription and alert emails to be `top` so they're not vertically aligned with the dashboard / question title when these text wrap (see example below)

<details>
<summary>Subscription (Before)</summary>
<img width=""594"" alt=""image"" src=""https://github.com/user-attachments/assets/aa873cc8-23c6-4626-9421-be12e5363af9"" />
</details>
<details>
<summary>Subscription (After)</summary>
<img width=""594"" alt=""image"" src=""https://github.com/user-attachments/assets/f61bd7ea-5a70-4b47-a85c-5864ea9ae1a4"" />
</details>
<details>
<summary>Alert (Before)</summary>
<img width=""598"" alt=""image"" src=""https://github.com/user-attachments/assets/8ca5f072-955f-4fae-a0b3-9f0f559c08c6"" />
</details>
<details>
<summary>Alert (After)</summary>
<img width=""601"" alt=""image"" src=""https://github.com/user-attachments/assets/e3d408b2-cb3d-4e35-a57c-85485e398dda"" />
</details>",tsplude,2025-01-08 23:48:03+00:00,['tsplude'],2025-01-09 20:03:03+00:00,2025-01-09 20:03:00+00:00,https://github.com/metabase/metabase/pull/51886,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2578954571, 'issue_id': 2776551770, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/122221_tests-9961e313-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51886?repo=metabase/metabase&commitHash=9961e31339d7722a76bf25970a0572d617fe375e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51886?repo=metabase/metabase&commitHash=9961e31339d7722a76bf25970a0572d617fe375e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51886?repo=metabase/metabase&commitHash=9961e31339d7722a76bf25970a0572d617fe375e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51886?repo=metabase/metabase&commitHash=9961e31339d7722a76bf25970a0572d617fe375e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51886?repo=metabase/metabase&commitHash=9961e31339d7722a76bf25970a0572d617fe375e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 0, 35, 22, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-09 00:35:22 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/122221_tests-9961e313-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51886?repo=metabase/metabase&commitHash=9961e31339d7722a76bf25970a0572d617fe375e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51886?repo=metabase/metabase&commitHash=9961e31339d7722a76bf25970a0572d617fe375e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51886?repo=metabase/metabase&commitHash=9961e31339d7722a76bf25970a0572d617fe375e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51886?repo=metabase/metabase&commitHash=9961e31339d7722a76bf25970a0572d617fe375e&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51886?repo=metabase/metabase&commitHash=9961e31339d7722a76bf25970a0572d617fe375e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2776545809,pull_request,closed,,CI Failure notice improvements,"### Description

1. Adds a github api call to get job details for failing workflow
2. If the only failing job is the flaky tests job, don't notify slack
3. Otherwise, adds job names and links to the failure slack message

![Screen Shot 2025-01-08 at 4 23 58 PM](https://github.com/user-attachments/assets/df1ecdfb-7adc-47b7-a0f0-36660b403aba)

(this is prep for actually tagging people on slack and making them sort out any failures caused by their merges)
",iethree,2025-01-08 23:40:59+00:00,['iethree'],2025-01-27 22:12:16+00:00,2025-01-09 14:48:02+00:00,https://github.com/metabase/metabase/pull/51885,"[('.CI & Tests', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]",[],
2776535327,pull_request,closed,,Don't build FE for driver tests that don't need it; shave 2 minutes off of driver tests,"We don't need it anymore since we don't run static viz tests for individual drivers anymore. Well we still need it for MySQL and Postgres app DB tests.

Also: 
- consolidate the MySQL/MariaDB job configs 
- Try adding a new ""driver tests summary"" workflow with a job that passes if the drivers workflow passes or fails if it fails (if this works as expected then we can make this job the only job required in GH actions which will make splitting up driver tests more in the future much easier)",camsaul,2025-01-08 23:31:38+00:00,['camsaul'],2025-01-27 22:12:14+00:00,2025-01-09 17:08:07+00:00,https://github.com/metabase/metabase/pull/51884,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2578942883, 'issue_id': 2776535327, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/130301_tests-577d6d2b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51884?repo=metabase/metabase&commitHash=577d6d2b1f5b37785ee744acc055df2f56e046c3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51884?repo=metabase/metabase&commitHash=577d6d2b1f5b37785ee744acc055df2f56e046c3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51884?repo=metabase/metabase&commitHash=577d6d2b1f5b37785ee744acc055df2f56e046c3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51884?repo=metabase/metabase&commitHash=577d6d2b1f5b37785ee744acc055df2f56e046c3&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>xray-dashboards-work-test</code> | A deadlock was detected in the database, preventing the query from completing. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51884?repo=metabase/metabase&commitHash=577d6d2b1f5b37785ee744acc055df2f56e046c3&utm_source=gh-comment&runConclusion=FAILURE&runId=3423a50d-a157-5c06-9893-75b3618bde01) |\n| <code>e2e-storage-ingestion-test</code> | Expected entity to match, but actual entity has unexpected table\\_id and name values. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51884?repo=metabase/metabase&commitHash=577d6d2b1f5b37785ee744acc055df2f56e046c3&utm_source=gh-comment&runConclusion=FAILURE&runId=1656f1f2-8ac8-51a7-acac-0dbd2c902321) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51884?repo=metabase/metabase&commitHash=577d6d2b1f5b37785ee744acc055df2f56e046c3&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 0, 26, 44, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-09 00:26:44 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/130301_tests-577d6d2b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51884?repo=metabase/metabase&commitHash=577d6d2b1f5b37785ee744acc055df2f56e046c3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51884?repo=metabase/metabase&commitHash=577d6d2b1f5b37785ee744acc055df2f56e046c3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51884?repo=metabase/metabase&commitHash=577d6d2b1f5b37785ee744acc055df2f56e046c3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51884?repo=metabase/metabase&commitHash=577d6d2b1f5b37785ee744acc055df2f56e046c3&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>xray-dashboards-work-test</code> | A deadlock was detected in the database, preventing the query from completing. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51884?repo=metabase/metabase&commitHash=577d6d2b1f5b37785ee744acc055df2f56e046c3&utm_source=gh-comment&runConclusion=FAILURE&runId=3423a50d-a157-5c06-9893-75b3618bde01) |
| <code>e2e-storage-ingestion-test</code> | Expected entity to match, but actual entity has unexpected table\_id and name values. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51884?repo=metabase/metabase&commitHash=577d6d2b1f5b37785ee744acc055df2f56e046c3&utm_source=gh-comment&runConclusion=FAILURE&runId=1656f1f2-8ac8-51a7-acac-0dbd2c902321) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51884?repo=metabase/metabase&commitHash=577d6d2b1f5b37785ee744acc055df2f56e046c3&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2776530043,pull_request,closed,,Make sync timezone log human readable,"Closes https://github.com/metabase/metabase/issues/46867

### Description

Moves the sync timezone log to after the string conversion. 

Notes:

~~1. `sync-timezone!` will log the SQLServer driver response as is  (""Z""), but converts it to ""UTC"" when updating the database. Should we make it so that the log and DB values are the same?~~

2. The Mongo driver returns nil. Should it return UTC based on the [Mongo docs](https://www.mongodb.com/docs/v4.4/tutorial/model-time-data/)?

### How to verify

Start an instance of Metabase with a SQLServer database

```
dev=> (metabase.sync.sync-metadata.sync-timezone/sync-timezone! (t2/select-one :model/Database 15))
2025-01-09 21:18:14,722 INFO sync-metadata.sync-timezone :: :sqlserver database 15 default timezone is ""UTC""
{:timezone-id ""UTC""}
```

The log should be a quoted string and not a Java object.

### Demo

![Screenshot 2025-01-08 at 5 45 36‚ÄØPM](https://github.com/user-attachments/assets/ec614bb2-264e-438a-ba9f-d24969739e36)

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",rileythomp,2025-01-08 23:26:56+00:00,['rileythomp'],2025-01-10 21:10:37+00:00,2025-01-10 20:06:21+00:00,https://github.com/metabase/metabase/pull/51883,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Drivers', '')]","[{'comment_id': 2581268585, 'issue_id': 2776530043, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/122404_tests-e8e4eb29-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51883?repo=metabase/metabase&commitHash=e8e4eb290650ebc827d43104965475a67b34af22&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51883?repo=metabase/metabase&commitHash=e8e4eb290650ebc827d43104965475a67b34af22&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51883?repo=metabase/metabase&commitHash=e8e4eb290650ebc827d43104965475a67b34af22&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51883?repo=metabase/metabase&commitHash=e8e4eb290650ebc827d43104965475a67b34af22&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51883?repo=metabase/metabase&commitHash=e8e4eb290650ebc827d43104965475a67b34af22&utm_source=gh-comment&runConclusion=FAILURE&runId=7e466c8d-92d4-5827-ae1e-b7e8239c6591) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51883?repo=metabase/metabase&commitHash=e8e4eb290650ebc827d43104965475a67b34af22&utm_source=gh-comment&runConclusion=FAILURE&runId=2ef3ff80-d927-5c79-8847-0c1a5823ca48) |\n| <code>issue 16886 shouldn\'t remove parts of the query when choosing \'Run selected text\' (metabase\\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51883?repo=metabase/metabase&commitHash=e8e4eb290650ebc827d43104965475a67b34af22&utm_source=gh-comment&runConclusion=FAILURE&runId=520cb3a3-d573-5277-bd30-f126fd04b391) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51883?repo=metabase/metabase&commitHash=e8e4eb290650ebc827d43104965475a67b34af22&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 21, 20, 47, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-09 21:20:47 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/122404_tests-e8e4eb29-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51883?repo=metabase/metabase&commitHash=e8e4eb290650ebc827d43104965475a67b34af22&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51883?repo=metabase/metabase&commitHash=e8e4eb290650ebc827d43104965475a67b34af22&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51883?repo=metabase/metabase&commitHash=e8e4eb290650ebc827d43104965475a67b34af22&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51883?repo=metabase/metabase&commitHash=e8e4eb290650ebc827d43104965475a67b34af22&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51883?repo=metabase/metabase&commitHash=e8e4eb290650ebc827d43104965475a67b34af22&utm_source=gh-comment&runConclusion=FAILURE&runId=7e466c8d-92d4-5827-ae1e-b7e8239c6591) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51883?repo=metabase/metabase&commitHash=e8e4eb290650ebc827d43104965475a67b34af22&utm_source=gh-comment&runConclusion=FAILURE&runId=2ef3ff80-d927-5c79-8847-0c1a5823ca48) |
| <code>issue 16886 shouldn't remove parts of the query when choosing 'Run selected text' (metabase\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51883?repo=metabase/metabase&commitHash=e8e4eb290650ebc827d43104965475a67b34af22&utm_source=gh-comment&runConclusion=FAILURE&runId=520cb3a3-d573-5277-bd30-f126fd04b391) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51883?repo=metabase/metabase&commitHash=e8e4eb290650ebc827d43104965475a67b34af22&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2776500593,pull_request,closed,,[User KV] Add FE APIs for working with the user key value store,"### Description

Adds FE API endpoints and a helper hook for working with the new user key value store. This PR lays the groundwork for being able to build UIs that need to persist small bits of arbitrary data.

Also props to @npfitz for [his prior art](https://github.com/metabase/metabase/commit/0924e88f75d22e134274b19a797b6f46c6cbbcb3#diff-7ce64a29f125bb2c425efaa1b494d4a1655559da57b73346b6c22d3db2c3d245R90). He's a giant and I'm standing on his shoulders.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",sloansparger,2025-01-08 22:58:23+00:00,['sloansparger'],2025-01-27 22:11:52+00:00,2025-01-14 17:07:42+00:00,https://github.com/metabase/metabase/pull/51882,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2583302319, 'issue_id': 2776500593, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/40755_tests-e3188014-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51882?repo=metabase/metabase&commitHash=e31880141a52193812a6c05b86b30799a338bfac&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51882?repo=metabase/metabase&commitHash=e31880141a52193812a6c05b86b30799a338bfac&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51882?repo=metabase/metabase&commitHash=e31880141a52193812a6c05b86b30799a338bfac&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51882?repo=metabase/metabase&commitHash=e31880141a52193812a6c05b86b30799a338bfac&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51882?repo=metabase/metabase&commitHash=e31880141a52193812a6c05b86b30799a338bfac&utm_source=gh-comment&runConclusion=FAILURE&runId=49c37d42-d628-5756-a956-dd236223341b) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51882?repo=metabase/metabase&commitHash=e31880141a52193812a6c05b86b30799a338bfac&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 10, 17, 19, 31, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-10 17:19:31 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/40755_tests-e3188014-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51882?repo=metabase/metabase&commitHash=e31880141a52193812a6c05b86b30799a338bfac&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51882?repo=metabase/metabase&commitHash=e31880141a52193812a6c05b86b30799a338bfac&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51882?repo=metabase/metabase&commitHash=e31880141a52193812a6c05b86b30799a338bfac&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51882?repo=metabase/metabase&commitHash=e31880141a52193812a6c05b86b30799a338bfac&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51882?repo=metabase/metabase&commitHash=e31880141a52193812a6c05b86b30799a338bfac&utm_source=gh-comment&runConclusion=FAILURE&runId=49c37d42-d628-5756-a956-dd236223341b) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51882?repo=metabase/metabase&commitHash=e31880141a52193812a6c05b86b30799a338bfac&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2776487175,pull_request,closed,,add comment,,escherize,2025-01-08 22:45:51+00:00,['escherize'],2025-02-04 18:13:20+00:00,2025-01-13 17:15:50+00:00,https://github.com/metabase/metabase/pull/51881,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2581024260, 'issue_id': 2776487175, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/34837_tests-18d4c948-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51881?repo=metabase/metabase&commitHash=18d4c948b3f0032bd69d37cbf4151f637ac3412d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51881?repo=metabase/metabase&commitHash=18d4c948b3f0032bd69d37cbf4151f637ac3412d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51881?repo=metabase/metabase&commitHash=18d4c948b3f0032bd69d37cbf4151f637ac3412d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51881?repo=metabase/metabase&commitHash=18d4c948b3f0032bd69d37cbf4151f637ac3412d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51881?repo=metabase/metabase&commitHash=18d4c948b3f0032bd69d37cbf4151f637ac3412d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 18, 47, 7, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-09 18:47:07 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/34837_tests-18d4c948-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51881?repo=metabase/metabase&commitHash=18d4c948b3f0032bd69d37cbf4151f637ac3412d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51881?repo=metabase/metabase&commitHash=18d4c948b3f0032bd69d37cbf4151f637ac3412d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51881?repo=metabase/metabase&commitHash=18d4c948b3f0032bd69d37cbf4151f637ac3412d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51881?repo=metabase/metabase&commitHash=18d4c948b3f0032bd69d37cbf4151f637ac3412d&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51881?repo=metabase/metabase&commitHash=18d4c948b3f0032bd69d37cbf4151f637ac3412d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2776482430,pull_request,closed,,Dont escape chars of header dashcards,"Closes #42057

- Stop escaping special characters in header dashcards
  - This was breaking when the header contains a url as the markdown / HTML renderer was inserting the escaped url string into an `href` which would fail

More context [here](https://github.com/metabase/metabase/issues/42057#issuecomment-2578560645)
",tsplude,2025-01-08 22:41:41+00:00,['tsplude'],2025-01-10 01:22:35+00:00,2025-01-10 01:22:33+00:00,https://github.com/metabase/metabase/pull/51880,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2581549820, 'issue_id': 2776482430, 'author': 'tsplude', 'body': 'I did test this before and after the change with and without both urls as well as the full list of escaped chars as listed [here](https://github.com/metabase/metabase/blob/1ea72c0b6466400781c938bde11f9895d15d90f5/src/metabase/models/params/shared.cljc#L132)\r\n\r\nWhat also is interesting is the existence of [this](https://github.com/metabase/metabase/blob/1ea72c0b6466400781c938bde11f9895d15d90f5/src/metabase/notification/payload/execute.clj#L115), which agrees that header cards should not escape characters\r\n\r\nI spoke to @adam-james-v offline regarding the last part - header cards don\'t actually render markdown syntax so I think this was just a slight misunderstanding but a worthwhile thought experiment none the less\r\n\r\n<details>\r\n<summary>Example subscription email header after the change</summary>\r\n<img width=""595"" alt=""image"" src=""https://github.com/user-attachments/assets/394b14d6-722b-42d4-85f1-e308af8bc464"" />\r\n</details>', 'created_at': datetime.datetime(2025, 1, 10, 1, 21, 1, tzinfo=datetime.timezone.utc)}]","tsplude (Issue Creator) on (2025-01-10 01:21:01 UTC): I did test this before and after the change with and without both urls as well as the full list of escaped chars as listed [here](https://github.com/metabase/metabase/blob/1ea72c0b6466400781c938bde11f9895d15d90f5/src/metabase/models/params/shared.cljc#L132)

What also is interesting is the existence of [this](https://github.com/metabase/metabase/blob/1ea72c0b6466400781c938bde11f9895d15d90f5/src/metabase/notification/payload/execute.clj#L115), which agrees that header cards should not escape characters

I spoke to @adam-james-v offline regarding the last part - header cards don't actually render markdown syntax so I think this was just a slight misunderstanding but a worthwhile thought experiment none the less

<details>
<summary>Example subscription email header after the change</summary>
<img width=""595"" alt=""image"" src=""https://github.com/user-attachments/assets/394b14d6-722b-42d4-85f1-e308af8bc464"" />
</details>

"
2776470520,pull_request,closed,,Turn mudefn off in test,,escherize,2025-01-08 22:31:39+00:00,['escherize'],2025-01-27 23:12:21+00:00,2025-01-27 23:12:21+00:00,https://github.com/metabase/metabase/pull/51879,"[('do not merge', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]",[],
2776464409,pull_request,closed,,fix(sdk): Ensure that styles within the custom expression editor still work,"The issue stems from the popover being a TippyPopover (and therefore not transferring the styles). To solve this, I've used the Mantine text and CSS classes where applicable, and added a reset for the `ul` class which was adding bullet points on SDK components.


Before:
<img width=""286"" alt=""image"" src=""https://github.com/user-attachments/assets/ce9414f0-607b-470b-ab61-cec5ba392456"" />

<img width=""192"" alt=""image"" src=""https://github.com/user-attachments/assets/7be5cd70-6e3f-403b-af0a-b6c486208ec1"" />


After:

<img width=""489"" alt=""image"" src=""https://github.com/user-attachments/assets/d24fd37a-dd4b-41ed-be1a-970b47e854c2"" />

_**The popover needs to be sorted but I'd like to do that in a different PR**_
<img width=""179"" alt=""image"" src=""https://github.com/user-attachments/assets/8518eedc-0e98-4c92-8539-e6c027e5f94d"" />
",oisincoveney,2025-01-08 22:26:26+00:00,['oisincoveney'],2025-01-15 22:34:18+00:00,2025-01-10 17:08:01+00:00,https://github.com/metabase/metabase/pull/51878,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', '')]","[{'comment_id': 2578791387, 'issue_id': 2776464409, 'author': 'oisincoveney', 'body': 'This change is part of the following stack:\n\n- #51878 ‚óÄ\n\n<sub>Change managed by [git-spice](https://abhinav.github.io/git-spice/).</sub>\n<!-- gs:navigation comment -->', 'created_at': datetime.datetime(2025, 1, 8, 22, 26, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578796171, 'issue_id': 2776464409, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 69bbddbb310a15cfd21a70fbccd3a12747bf1516...d2de7cd79d472e3fcc1d7dc78ef8e3e486c5db22.\n\nNo notifications.', 'created_at': datetime.datetime(2025, 1, 8, 22, 27, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579018051, 'issue_id': 2776464409, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13168_tests-d2de7cd7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51878?repo=metabase/metabase&commitHash=d2de7cd79d472e3fcc1d7dc78ef8e3e486c5db22&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51878?repo=metabase/metabase&commitHash=d2de7cd79d472e3fcc1d7dc78ef8e3e486c5db22&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51878?repo=metabase/metabase&commitHash=d2de7cd79d472e3fcc1d7dc78ef8e3e486c5db22&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51878?repo=metabase/metabase&commitHash=d2de7cd79d472e3fcc1d7dc78ef8e3e486c5db22&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 16886 shouldn\'t remove parts of the query when choosing \'Run selected text\' (metabase\\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51878?repo=metabase/metabase&commitHash=d2de7cd79d472e3fcc1d7dc78ef8e3e486c5db22&utm_source=gh-comment&runConclusion=FAILURE&runId=f0638732-9842-585b-875a-07d63f05806a) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51878?repo=metabase/metabase&commitHash=d2de7cd79d472e3fcc1d7dc78ef8e3e486c5db22&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 2, 0, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583531304, 'issue_id': 2776464409, 'author': 'oisincoveney', 'body': '@metabase-bot backport release-x.52.x', 'created_at': datetime.datetime(2025, 1, 10, 18, 36, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583535022, 'issue_id': 2776464409, 'author': 'github-actions[bot]', 'body': '@oisincoveney Manual conflict resolution is required', 'created_at': datetime.datetime(2025, 1, 10, 18, 37, 19, tzinfo=datetime.timezone.utc)}]","oisincoveney (Issue Creator) on (2025-01-08 22:26:27 UTC): This change is part of the following stack:

- #51878 ‚óÄ

<sub>Change managed by [git-spice](https://abhinav.github.io/git-spice/).</sub>
<!-- gs:navigation comment -->

github-actions[bot] on (2025-01-08 22:27:56 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 69bbddbb310a15cfd21a70fbccd3a12747bf1516...d2de7cd79d472e3fcc1d7dc78ef8e3e486c5db22.

No notifications.

trunk-io[bot] on (2025-01-09 02:00:35 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13168_tests-d2de7cd7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51878?repo=metabase/metabase&commitHash=d2de7cd79d472e3fcc1d7dc78ef8e3e486c5db22&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51878?repo=metabase/metabase&commitHash=d2de7cd79d472e3fcc1d7dc78ef8e3e486c5db22&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51878?repo=metabase/metabase&commitHash=d2de7cd79d472e3fcc1d7dc78ef8e3e486c5db22&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51878?repo=metabase/metabase&commitHash=d2de7cd79d472e3fcc1d7dc78ef8e3e486c5db22&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 16886 shouldn't remove parts of the query when choosing 'Run selected text' (metabase\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51878?repo=metabase/metabase&commitHash=d2de7cd79d472e3fcc1d7dc78ef8e3e486c5db22&utm_source=gh-comment&runConclusion=FAILURE&runId=f0638732-9842-585b-875a-07d63f05806a) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51878?repo=metabase/metabase&commitHash=d2de7cd79d472e3fcc1d7dc78ef8e3e486c5db22&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

oisincoveney (Issue Creator) on (2025-01-10 18:36:12 UTC): @metabase-bot backport release-x.52.x

github-actions[bot] on (2025-01-10 18:37:19 UTC): @oisincoveney Manual conflict resolution is required

"
2776373348,pull_request,closed,,Build on 8 core github runner,"trying again after some other perf improvements

result: 30s to 1 minute faster. (took 6 minutes, other tests take 6:30 - 7min)",iethree,2025-01-08 21:21:47+00:00,['iethree'],2025-01-10 23:46:00+00:00,2025-01-10 23:46:00+00:00,https://github.com/metabase/metabase/pull/51877,"[('.CI & Tests', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]",[],
2776364317,pull_request,closed,,Test self-hosted github actions runners ü§û ,"ü§û 

github 8-core: https://github.com/metabase/metabase/pull/52161",iethree,2025-01-08 21:15:56+00:00,['iethree'],2025-01-23 14:06:13+00:00,2025-01-23 14:06:13+00:00,https://github.com/metabase/metabase/pull/51876,"[('.CI & Tests', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2578964456, 'issue_id': 2776364317, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/6_tests-53d26a3a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51876?repo=metabase/metabase&commitHash=53d26a3a39caad7530a30a047884a4d19f8edcd1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/6-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51876?repo=metabase/metabase&commitHash=53d26a3a39caad7530a30a047884a4d19f8edcd1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51876?repo=metabase/metabase&commitHash=53d26a3a39caad7530a30a047884a4d19f8edcd1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51876?repo=metabase/metabase&commitHash=53d26a3a39caad7530a30a047884a4d19f8edcd1&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > admin > settings > user provisioning scim settings management ""before each"" hook for ""should be able to setup and manage scim feature""</code> | The request to restore default failed with a 404 Not Found error. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51876?repo=metabase/metabase&commitHash=53d26a3a39caad7530a30a047884a4d19f8edcd1&utm_source=gh-comment&runConclusion=FAILURE&runId=963f7f21-5d2d-50a0-82ee-c8304669c862) |\n| <code>scenarios > admin > settings > authentication page layout ee ""before each"" hook for ""should implement a tab layout for enterprise customers""</code> | The request to restore default failed with a 404 Not Found error. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51876?repo=metabase/metabase&commitHash=53d26a3a39caad7530a30a047884a4d19f8edcd1&utm_source=gh-comment&runConclusion=FAILURE&runId=8a7b3501-b8f7-5868-9c82-5a05d98f7fef) |\n| <code>scenarios > question > snippets (EE) ""before each"" hook for ""admin user can create a snippet (metabase\\#21581)""</code> | The request to http://localhost:4000/api/testing/restore/default failed with 404 Not Found status code. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51876?repo=metabase/metabase&commitHash=53d26a3a39caad7530a30a047884a4d19f8edcd1&utm_source=gh-comment&runConclusion=FAILURE&runId=8d0d92d9-825a-5309-905e-2390256a879c) |\n| <code>server clock ""before each"" hook for ""can advance the server clock by one day""</code> | The request to http://localhost:4000/api/testing/restore/default failed with 404 Not Found status code. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51876?repo=metabase/metabase&commitHash=53d26a3a39caad7530a30a047884a4d19f8edcd1&utm_source=gh-comment&runConclusion=FAILURE&runId=7aaa9055-bf8c-5465-ae97-0f6b76073dbf) |\n\n[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/51876?repo=metabase/metabase&commitHash=53d26a3a39caad7530a30a047884a4d19f8edcd1&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51876?repo=metabase/metabase&commitHash=53d26a3a39caad7530a30a047884a4d19f8edcd1&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 9, 0, 45, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603354565, 'issue_id': 2776364317, 'author': 'iethree', 'body': ""for now, at least, it seems that any performance gains from faster runners are overshadowed by a slower cache (Because it's in a different cloud). Not sure we have the appetite for setting up a tangled web of caches right now"", 'created_at': datetime.datetime(2025, 1, 20, 23, 25, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2608146037, 'issue_id': 2776364317, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `53d26a3a39caad7530a30a047884a4d19f8edcd1-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12915892297?pr=51876)\n\n  File | Test Name\n  ---- | ---------\n  `metrics-dashboard.cy.spec.js` | scenarios > metrics > dashboard > should be possible to add metrics to a dashboard', 'created_at': datetime.datetime(2025, 1, 22, 19, 58, 9, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-09 00:45:53 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/6_tests-53d26a3a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51876?repo=metabase/metabase&commitHash=53d26a3a39caad7530a30a047884a4d19f8edcd1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/6-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51876?repo=metabase/metabase&commitHash=53d26a3a39caad7530a30a047884a4d19f8edcd1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51876?repo=metabase/metabase&commitHash=53d26a3a39caad7530a30a047884a4d19f8edcd1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51876?repo=metabase/metabase&commitHash=53d26a3a39caad7530a30a047884a4d19f8edcd1&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > admin > settings > user provisioning scim settings management ""before each"" hook for ""should be able to setup and manage scim feature""</code> | The request to restore default failed with a 404 Not Found error. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51876?repo=metabase/metabase&commitHash=53d26a3a39caad7530a30a047884a4d19f8edcd1&utm_source=gh-comment&runConclusion=FAILURE&runId=963f7f21-5d2d-50a0-82ee-c8304669c862) |
| <code>scenarios > admin > settings > authentication page layout ee ""before each"" hook for ""should implement a tab layout for enterprise customers""</code> | The request to restore default failed with a 404 Not Found error. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51876?repo=metabase/metabase&commitHash=53d26a3a39caad7530a30a047884a4d19f8edcd1&utm_source=gh-comment&runConclusion=FAILURE&runId=8a7b3501-b8f7-5868-9c82-5a05d98f7fef) |
| <code>scenarios > question > snippets (EE) ""before each"" hook for ""admin user can create a snippet (metabase\#21581)""</code> | The request to http://localhost:4000/api/testing/restore/default failed with 404 Not Found status code. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51876?repo=metabase/metabase&commitHash=53d26a3a39caad7530a30a047884a4d19f8edcd1&utm_source=gh-comment&runConclusion=FAILURE&runId=8d0d92d9-825a-5309-905e-2390256a879c) |
| <code>server clock ""before each"" hook for ""can advance the server clock by one day""</code> | The request to http://localhost:4000/api/testing/restore/default failed with 404 Not Found status code. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51876?repo=metabase/metabase&commitHash=53d26a3a39caad7530a30a047884a4d19f8edcd1&utm_source=gh-comment&runConclusion=FAILURE&runId=7aaa9055-bf8c-5465-ae97-0f6b76073dbf) |

[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/51876?repo=metabase/metabase&commitHash=53d26a3a39caad7530a30a047884a4d19f8edcd1&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51876?repo=metabase/metabase&commitHash=53d26a3a39caad7530a30a047884a4d19f8edcd1&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

iethree (Issue Creator) on (2025-01-20 23:25:42 UTC): for now, at least, it seems that any performance gains from faster runners are overshadowed by a slower cache (Because it's in a different cloud). Not sure we have the appetite for setting up a tangled web of caches right now

github-actions[bot] on (2025-01-22 19:58:09 UTC): ## e2e tests failed on `53d26a3a39caad7530a30a047884a4d19f8edcd1-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12915892297?pr=51876)

  File | Test Name
  ---- | ---------
  `metrics-dashboard.cy.spec.js` | scenarios > metrics > dashboard > should be possible to add metrics to a dashboard

"
2776338841,pull_request,closed,,Properly tag external db tests,"part of ENG-9172

(mostly whitespace changes)

Properly tag tests that require an external DB with `@external`. This is prep for isolating these tests on separate runners so we don't have to unnecessarily spin up docker containers on runners that don't need them. (saving ~30 seconds per runner)

",iethree,2025-01-08 20:59:29+00:00,['iethree'],2025-01-27 22:10:36+00:00,2025-01-23 20:46:30+00:00,https://github.com/metabase/metabase/pull/51875,"[('.CI & Tests', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2584962843, 'issue_id': 2776338841, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3684_tests-0e372f53-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51875?repo=metabase/metabase&commitHash=0e372f53a248cf0036ae22c57dcc443083d7210b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51875?repo=metabase/metabase&commitHash=0e372f53a248cf0036ae22c57dcc443083d7210b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51875?repo=metabase/metabase&commitHash=0e372f53a248cf0036ae22c57dcc443083d7210b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51875?repo=metabase/metabase&commitHash=0e372f53a248cf0036ae22c57dcc443083d7210b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 16559 should always show the most recent revision (metabase\\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51875?repo=metabase/metabase&commitHash=0e372f53a248cf0036ae22c57dcc443083d7210b&utm_source=gh-comment&runConclusion=FAILURE&runId=ee23566c-5102-5aef-8753-7df5bab516bd) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51875?repo=metabase/metabase&commitHash=0e372f53a248cf0036ae22c57dcc443083d7210b&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 11, 0, 44, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610963115, 'issue_id': 2776338841, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `0e372f53a248cf0036ae22c57dcc443083d7210b-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12937399159?pr=51875)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)', 'created_at': datetime.datetime(2025, 1, 23, 20, 34, 53, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-11 00:44:30 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3684_tests-0e372f53-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51875?repo=metabase/metabase&commitHash=0e372f53a248cf0036ae22c57dcc443083d7210b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51875?repo=metabase/metabase&commitHash=0e372f53a248cf0036ae22c57dcc443083d7210b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51875?repo=metabase/metabase&commitHash=0e372f53a248cf0036ae22c57dcc443083d7210b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51875?repo=metabase/metabase&commitHash=0e372f53a248cf0036ae22c57dcc443083d7210b&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 16559 should always show the most recent revision (metabase\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51875?repo=metabase/metabase&commitHash=0e372f53a248cf0036ae22c57dcc443083d7210b&utm_source=gh-comment&runConclusion=FAILURE&runId=ee23566c-5102-5aef-8753-7df5bab516bd) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51875?repo=metabase/metabase&commitHash=0e372f53a248cf0036ae22c57dcc443083d7210b&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-23 20:34:53 UTC): ## e2e tests failed on `0e372f53a248cf0036ae22c57dcc443083d7210b-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12937399159?pr=51875)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)

"
2776282394,pull_request,closed,,New command to generate static `index.html` page for OpenAPI/Scalar API documentation,"Part of #51873

This command adds an updated

```
clojure -M:ee:doc api-documentation
```

which spits out `target/doc/index.html` with OpenAPI + Scalar API documentation for our REST API:

![image](https://github.com/user-attachments/assets/da4238cf-8517-418b-81ed-b6901895b555)

The goal is to completely replace the old `api-documentation` command with some version of this in the near future. This PR is here so we can start figuring out how to make it happen",camsaul,2025-01-08 20:28:05+00:00,['camsaul'],2025-01-27 22:12:05+00:00,2025-01-11 02:46:02+00:00,https://github.com/metabase/metabase/pull/51872,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2578604098, 'issue_id': 2776282394, 'author': 'camsaul', 'body': 'If someone wants to play around with the [Scalar configuration](https://github.com/scalar/scalar/blob/main/documentation/configuration.md) you can edit this map\r\n\r\nhttps://github.com/metabase/metabase/pull/51872/files#diff-aa0597263fccb746515ff7e95ee70b32a966849269e310c44bbcb7c9c43896ccR25-R26', 'created_at': datetime.datetime(2025, 1, 8, 20, 32, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578689489, 'issue_id': 2776282394, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/128910_tests-9122a770-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51872?repo=metabase/metabase&commitHash=9122a770eb49bc5245dc16f63e497adf5087a2d7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51872?repo=metabase/metabase&commitHash=9122a770eb49bc5245dc16f63e497adf5087a2d7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51872?repo=metabase/metabase&commitHash=9122a770eb49bc5245dc16f63e497adf5087a2d7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51872?repo=metabase/metabase&commitHash=9122a770eb49bc5245dc16f63e497adf5087a2d7&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>xray-dashboards-work-test</code> | A deadlock was detected in the database while updating a record in the ""report\\_card"" table. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51872?repo=metabase/metabase&commitHash=9122a770eb49bc5245dc16f63e497adf5087a2d7&utm_source=gh-comment&runConclusion=FAILURE&runId=ac52ed48-0577-5611-b359-e7e292c9eefb) |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, but expected stage numbers. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51872?repo=metabase/metabase&commitHash=9122a770eb49bc5245dc16f63e497adf5087a2d7&utm_source=gh-comment&runConclusion=FAILURE&runId=5526ef6c-a71e-544f-82fc-acbda0142fc4) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51872?repo=metabase/metabase&commitHash=9122a770eb49bc5245dc16f63e497adf5087a2d7&utm_source=gh-comment&runConclusion=FAILURE&runId=85c56011-2664-5397-b968-ca9acd56e953) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51872?repo=metabase/metabase&commitHash=9122a770eb49bc5245dc16f63e497adf5087a2d7&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 8, 21, 19, 49, tzinfo=datetime.timezone.utc)}]","camsaul (Issue Creator) on (2025-01-08 20:32:54 UTC): If someone wants to play around with the [Scalar configuration](https://github.com/scalar/scalar/blob/main/documentation/configuration.md) you can edit this map

https://github.com/metabase/metabase/pull/51872/files#diff-aa0597263fccb746515ff7e95ee70b32a966849269e310c44bbcb7c9c43896ccR25-R26

trunk-io[bot] on (2025-01-08 21:19:49 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/128910_tests-9122a770-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51872?repo=metabase/metabase&commitHash=9122a770eb49bc5245dc16f63e497adf5087a2d7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51872?repo=metabase/metabase&commitHash=9122a770eb49bc5245dc16f63e497adf5087a2d7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51872?repo=metabase/metabase&commitHash=9122a770eb49bc5245dc16f63e497adf5087a2d7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51872?repo=metabase/metabase&commitHash=9122a770eb49bc5245dc16f63e497adf5087a2d7&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>xray-dashboards-work-test</code> | A deadlock was detected in the database while updating a record in the ""report\_card"" table. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51872?repo=metabase/metabase&commitHash=9122a770eb49bc5245dc16f63e497adf5087a2d7&utm_source=gh-comment&runConclusion=FAILURE&runId=ac52ed48-0577-5611-b359-e7e292c9eefb) |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, but expected stage numbers. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51872?repo=metabase/metabase&commitHash=9122a770eb49bc5245dc16f63e497adf5087a2d7&utm_source=gh-comment&runConclusion=FAILURE&runId=5526ef6c-a71e-544f-82fc-acbda0142fc4) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51872?repo=metabase/metabase&commitHash=9122a770eb49bc5245dc16f63e497adf5087a2d7&utm_source=gh-comment&runConclusion=FAILURE&runId=85c56011-2664-5397-b968-ca9acd56e953) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51872?repo=metabase/metabase&commitHash=9122a770eb49bc5245dc16f63e497adf5087a2d7&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2775997364,pull_request,closed,,"ü§ñ backported ""docs - link updates""","  #51870
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-08 17:59:44+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2025-01-09 19:26:55+00:00,2025-01-09 19:26:53+00:00,https://github.com/metabase/metabase/pull/51871,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2775972355,pull_request,closed,,docs - link updates,Removes some extraneous slashes from URLs.,jeff-bruemmer,2025-01-08 17:46:38+00:00,['jeff-bruemmer'],2025-01-09 19:27:20+00:00,2025-01-08 17:58:52+00:00,https://github.com/metabase/metabase/pull/51870,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2775944282,pull_request,closed,,Send flakes to jail,"Send a handful of flaky tests to flake jail. (most of the lines are whitespace changes by prettier)

see: 
- https://app.trunk.io/metabase/flaky-tests?repo=metabase/metabase
- https://stats.metabase.com/question/18032-10-flakiest-tests",iethree,2025-01-08 17:32:20+00:00,['iethree'],2025-01-27 22:12:22+00:00,2025-01-08 18:12:30+00:00,https://github.com/metabase/metabase/pull/51869,"[('.CI & Tests', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2578334378, 'issue_id': 2775944282, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3638_tests-102a965d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51869?repo=metabase/metabase&commitHash=102a965d675d6ba7563dec403afb5d92fdf831c9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51869?repo=metabase/metabase&commitHash=102a965d675d6ba7563dec403afb5d92fdf831c9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51869?repo=metabase/metabase&commitHash=102a965d675d6ba7563dec403afb5d92fdf831c9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51869?repo=metabase/metabase&commitHash=102a965d675d6ba7563dec403afb5d92fdf831c9&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51869?repo=metabase/metabase&commitHash=102a965d675d6ba7563dec403afb5d92fdf831c9&utm_source=gh-comment&runConclusion=FAILURE&runId=424d5df5-785c-531b-9511-2fc53e10d3ad) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51869?repo=metabase/metabase&commitHash=102a965d675d6ba7563dec403afb5d92fdf831c9&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 8, 18, 20, 51, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-08 18:20:51 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3638_tests-102a965d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51869?repo=metabase/metabase&commitHash=102a965d675d6ba7563dec403afb5d92fdf831c9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51869?repo=metabase/metabase&commitHash=102a965d675d6ba7563dec403afb5d92fdf831c9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51869?repo=metabase/metabase&commitHash=102a965d675d6ba7563dec403afb5d92fdf831c9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51869?repo=metabase/metabase&commitHash=102a965d675d6ba7563dec403afb5d92fdf831c9&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51869?repo=metabase/metabase&commitHash=102a965d675d6ba7563dec403afb5d92fdf831c9&utm_source=gh-comment&runConclusion=FAILURE&runId=424d5df5-785c-531b-9511-2fc53e10d3ad) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51869?repo=metabase/metabase&commitHash=102a965d675d6ba7563dec403afb5d92fdf831c9&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2775928916,pull_request,closed,,refactor sdk imports,,npretto,2025-01-08 17:24:56+00:00,['npretto'],2025-02-04 14:54:25+00:00,2025-01-13 13:21:42+00:00,https://github.com/metabase/metabase/pull/51868,"[('.Team/Embedding', '')]","[{'comment_id': 2578224583, 'issue_id': 2775928916, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@npretto You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2025, 1, 8, 17, 26, 3, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-08 17:26:03 UTC): <!---conventional commit reminder comment ID-->
@npretto You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

"
2775927269,pull_request,closed,,"ü§ñ backported ""Set key auth as the default auth method, put warning password""",#51249,github-automation-metabase,2025-01-08 17:24:03+00:00,"['snoe', 'github-automation-metabase']",2025-01-08 18:50:04+00:00,2025-01-08 18:02:56+00:00,https://github.com/metabase/metabase/pull/51867,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2578330338, 'issue_id': 2775927269, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/100348_tests-abc9563c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51867?repo=metabase/metabase&commitHash=abc9563c6881db855b231609719d26723e96333a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51867?repo=metabase/metabase&commitHash=abc9563c6881db855b231609719d26723e96333a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51867?repo=metabase/metabase&commitHash=abc9563c6881db855b231609719d26723e96333a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51867?repo=metabase/metabase&commitHash=abc9563c6881db855b231609719d26723e96333a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51867?repo=metabase/metabase&commitHash=abc9563c6881db855b231609719d26723e96333a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 8, 18, 18, 34, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-08 18:18:34 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/100348_tests-abc9563c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51867?repo=metabase/metabase&commitHash=abc9563c6881db855b231609719d26723e96333a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51867?repo=metabase/metabase&commitHash=abc9563c6881db855b231609719d26723e96333a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51867?repo=metabase/metabase&commitHash=abc9563c6881db855b231609719d26723e96333a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51867?repo=metabase/metabase&commitHash=abc9563c6881db855b231609719d26723e96333a&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51867?repo=metabase/metabase&commitHash=abc9563c6881db855b231609719d26723e96333a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2775925929,pull_request,closed,,"ü§ñ backported ""fix: Change pool acquireRetryAttemps to 0""",#51296,github-automation-metabase,2025-01-08 17:23:20+00:00,"['snoe', 'github-automation-metabase']",2025-01-08 19:09:20+00:00,2025-01-08 18:03:46+00:00,https://github.com/metabase/metabase/pull/51866,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2578337269, 'issue_id': 2775925929, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/100376_tests-670388b0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51866?repo=metabase/metabase&commitHash=670388b0e2d336331ce23cab02bc1e2f6516a69a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51866?repo=metabase/metabase&commitHash=670388b0e2d336331ce23cab02bc1e2f6516a69a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51866?repo=metabase/metabase&commitHash=670388b0e2d336331ce23cab02bc1e2f6516a69a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51866?repo=metabase/metabase&commitHash=670388b0e2d336331ce23cab02bc1e2f6516a69a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51866?repo=metabase/metabase&commitHash=670388b0e2d336331ce23cab02bc1e2f6516a69a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 8, 18, 22, 18, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-08 18:22:18 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/100376_tests-670388b0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51866?repo=metabase/metabase&commitHash=670388b0e2d336331ce23cab02bc1e2f6516a69a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51866?repo=metabase/metabase&commitHash=670388b0e2d336331ce23cab02bc1e2f6516a69a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51866?repo=metabase/metabase&commitHash=670388b0e2d336331ce23cab02bc1e2f6516a69a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51866?repo=metabase/metabase&commitHash=670388b0e2d336331ce23cab02bc1e2f6516a69a&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51866?repo=metabase/metabase&commitHash=670388b0e2d336331ce23cab02bc1e2f6516a69a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2775861247,pull_request,closed,,[search] mysql support for appdb engine,Mysql support for appdb engine,piranha,2025-01-08 16:49:05+00:00,['piranha'],2025-01-27 10:19:48+00:00,2025-01-22 13:21:10+00:00,https://github.com/metabase/metabase/pull/51864,"[('Organization/Search', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2589958085, 'issue_id': 2775861247, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/113467_tests-ba963c22-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51864?repo=metabase/metabase&commitHash=ba963c22a19805e1530f8ea3cf596acae0abc9e7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51864?repo=metabase/metabase&commitHash=ba963c22a19805e1530f8ea3cf596acae0abc9e7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/890-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51864?repo=metabase/metabase&commitHash=ba963c22a19805e1530f8ea3cf596acae0abc9e7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51864?repo=metabase/metabase&commitHash=ba963c22a19805e1530f8ea3cf596acae0abc9e7&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51864?repo=metabase/metabase&commitHash=ba963c22a19805e1530f8ea3cf596acae0abc9e7&utm_source=gh-comment&runConclusion=FAILURE&runId=ec6eb10e-4f4d-5465-aebc-a9b148c0cd38) |\n| <code>e2e-storage-ingestion-test</code> | Expected entity to match the expected value, but actual value was different. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51864?repo=metabase/metabase&commitHash=ba963c22a19805e1530f8ea3cf596acae0abc9e7&utm_source=gh-comment&runConclusion=FAILURE&runId=d92992f8-a467-5861-bbf2-b5f121b49c34) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>available-models-test</code> | The expected result of the search\\_native\\_query filter did not match the actual result. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51864?repo=metabase/metabase&commitHash=ba963c22a19805e1530f8ea3cf596acae0abc9e7&utm_source=gh-comment&runConclusion=FAILURE&runId=afbccf90-fad4-55e0-a743-f386cfb9fb29) |\n| <code>custom-engine-test</code> | The expected condition was not met, the engine name was not ""search.engine/fulltext"" but was nil. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51864?repo=metabase/metabase&commitHash=ba963c22a19805e1530f8ea3cf596acae0abc9e7&utm_source=gh-comment&runConclusion=FAILURE&runId=1e81174b-da02-54e7-944f-544a2a0b697e) |\n| <code>force-reindex-test</code> | The search query did not return any results, but expected some. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51864?repo=metabase/metabase&commitHash=ba963c22a19805e1530f8ea3cf596acae0abc9e7&utm_source=gh-comment&runConclusion=FAILURE&runId=d71fec81-9d2b-5269-a21b-84f4ee0b3bd2) |\n| <code>custom-engine-test</code> | The expected condition was not met, the engine was not set to ""search.engine/fulltext"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51864?repo=metabase/metabase&commitHash=ba963c22a19805e1530f8ea3cf596acae0abc9e7&utm_source=gh-comment&runConclusion=FAILURE&runId=442937b9-21c1-5c9c-92c5-c271802de505) |\n\n[... and 886 more](https://app.trunk.io/metabase/flaky-tests/pr/51864?repo=metabase/metabase&commitHash=ba963c22a19805e1530f8ea3cf596acae0abc9e7&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51864?repo=metabase/metabase&commitHash=ba963c22a19805e1530f8ea3cf596acae0abc9e7&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 14, 13, 48, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-14 13:48:00 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/113467_tests-ba963c22-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51864?repo=metabase/metabase&commitHash=ba963c22a19805e1530f8ea3cf596acae0abc9e7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51864?repo=metabase/metabase&commitHash=ba963c22a19805e1530f8ea3cf596acae0abc9e7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/890-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51864?repo=metabase/metabase&commitHash=ba963c22a19805e1530f8ea3cf596acae0abc9e7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51864?repo=metabase/metabase&commitHash=ba963c22a19805e1530f8ea3cf596acae0abc9e7&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51864?repo=metabase/metabase&commitHash=ba963c22a19805e1530f8ea3cf596acae0abc9e7&utm_source=gh-comment&runConclusion=FAILURE&runId=ec6eb10e-4f4d-5465-aebc-a9b148c0cd38) |
| <code>e2e-storage-ingestion-test</code> | Expected entity to match the expected value, but actual value was different. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51864?repo=metabase/metabase&commitHash=ba963c22a19805e1530f8ea3cf596acae0abc9e7&utm_source=gh-comment&runConclusion=FAILURE&runId=d92992f8-a467-5861-bbf2-b5f121b49c34) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>available-models-test</code> | The expected result of the search\_native\_query filter did not match the actual result. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51864?repo=metabase/metabase&commitHash=ba963c22a19805e1530f8ea3cf596acae0abc9e7&utm_source=gh-comment&runConclusion=FAILURE&runId=afbccf90-fad4-55e0-a743-f386cfb9fb29) |
| <code>custom-engine-test</code> | The expected condition was not met, the engine name was not ""search.engine/fulltext"" but was nil. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51864?repo=metabase/metabase&commitHash=ba963c22a19805e1530f8ea3cf596acae0abc9e7&utm_source=gh-comment&runConclusion=FAILURE&runId=1e81174b-da02-54e7-944f-544a2a0b697e) |
| <code>force-reindex-test</code> | The search query did not return any results, but expected some. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51864?repo=metabase/metabase&commitHash=ba963c22a19805e1530f8ea3cf596acae0abc9e7&utm_source=gh-comment&runConclusion=FAILURE&runId=d71fec81-9d2b-5269-a21b-84f4ee0b3bd2) |
| <code>custom-engine-test</code> | The expected condition was not met, the engine was not set to ""search.engine/fulltext"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51864?repo=metabase/metabase&commitHash=ba963c22a19805e1530f8ea3cf596acae0abc9e7&utm_source=gh-comment&runConclusion=FAILURE&runId=442937b9-21c1-5c9c-92c5-c271802de505) |

[... and 886 more](https://app.trunk.io/metabase/flaky-tests/pr/51864?repo=metabase/metabase&commitHash=ba963c22a19805e1530f8ea3cf596acae0abc9e7&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51864?repo=metabase/metabase&commitHash=ba963c22a19805e1530f8ea3cf596acae0abc9e7&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2775772307,pull_request,closed,,Backport serialization user fix (#51816) to 50,Backport of https://github.com/metabase/metabase/pull/51816 to 50,noahmoss,2025-01-08 16:07:34+00:00,['noahmoss'],2025-01-08 20:56:49+00:00,2025-01-08 20:56:22+00:00,https://github.com/metabase/metabase/pull/51862,"[('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2578160765, 'issue_id': 2775772307, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/163041_tests-18b52740-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51862?repo=metabase/metabase&commitHash=18b527400e19b7d483335ec8b25d41c7f26c534e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/24-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51862?repo=metabase/metabase&commitHash=18b527400e19b7d483335ec8b25d41c7f26c534e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51862?repo=metabase/metabase&commitHash=18b527400e19b7d483335ec8b25d41c7f26c534e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51862?repo=metabase/metabase&commitHash=18b527400e19b7d483335ec8b25d41c7f26c534e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > dashboard > filters > date should work when set through the filter widget</code> | Unable to find an element with the text '51.19' after 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51862?repo=metabase/metabase&commitHash=18b527400e19b7d483335ec8b25d41c7f26c534e&utm_source=gh-comment&runConclusion=FAILURE&runId=ce94f330-d35a-586a-a395-43d9003d7567) |\n| <code>scenarios > public > question user with no permissions should be able to view public questions</code> | The test timed out waiting for the element with class 'pdIed.emotion-12ccyt3.e1h7b1g10' to contain the text 'Winner'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51862?repo=metabase/metabase&commitHash=18b527400e19b7d483335ec8b25d41c7f26c534e&utm_source=gh-comment&runConclusion=FAILURE&runId=62f1a53d-fbce-5fa2-9e8d-e8128e5af851) |\n| <code>scenarios > public > question admin user should be able to view public questions</code> | The test timed out waiting for the element with class 'pdIed.emotion-12ccyt3.e1h7b1g10' to contain the text 'Winner'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51862?repo=metabase/metabase&commitHash=18b527400e19b7d483335ec8b25d41c7f26c534e&utm_source=gh-comment&runConclusion=FAILURE&runId=d82ac452-2328-5ef6-a53b-f721893d9fbb) |\n| <code>scenarios > public > question adds filters to url as get params and renders the results correctly (metabase\\#7120, metabase\\#17033, metabase\\#21993)</code> | The test timed out waiting for the element with class 'pdIed.emotion-1avyp1d' to contain the text 'Winner'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51862?repo=metabase/metabase&commitHash=18b527400e19b7d483335ec8b25d41c7f26c534e&utm_source=gh-comment&runConclusion=FAILURE&runId=902334f7-0284-593e-a335-e21d5f0f1eb7) |\n\n[... and 20 more](https://app.trunk.io/metabase/flaky-tests/pr/51862?repo=metabase/metabase&commitHash=18b527400e19b7d483335ec8b25d41c7f26c534e&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51862?repo=metabase/metabase&commitHash=18b527400e19b7d483335ec8b25d41c7f26c534e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 8, 16, 54, 24, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-08 16:54:24 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/163041_tests-18b52740-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51862?repo=metabase/metabase&commitHash=18b527400e19b7d483335ec8b25d41c7f26c534e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/24-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51862?repo=metabase/metabase&commitHash=18b527400e19b7d483335ec8b25d41c7f26c534e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51862?repo=metabase/metabase&commitHash=18b527400e19b7d483335ec8b25d41c7f26c534e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51862?repo=metabase/metabase&commitHash=18b527400e19b7d483335ec8b25d41c7f26c534e&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > dashboard > filters > date should work when set through the filter widget</code> | Unable to find an element with the text '51.19' after 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51862?repo=metabase/metabase&commitHash=18b527400e19b7d483335ec8b25d41c7f26c534e&utm_source=gh-comment&runConclusion=FAILURE&runId=ce94f330-d35a-586a-a395-43d9003d7567) |
| <code>scenarios > public > question user with no permissions should be able to view public questions</code> | The test timed out waiting for the element with class 'pdIed.emotion-12ccyt3.e1h7b1g10' to contain the text 'Winner'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51862?repo=metabase/metabase&commitHash=18b527400e19b7d483335ec8b25d41c7f26c534e&utm_source=gh-comment&runConclusion=FAILURE&runId=62f1a53d-fbce-5fa2-9e8d-e8128e5af851) |
| <code>scenarios > public > question admin user should be able to view public questions</code> | The test timed out waiting for the element with class 'pdIed.emotion-12ccyt3.e1h7b1g10' to contain the text 'Winner'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51862?repo=metabase/metabase&commitHash=18b527400e19b7d483335ec8b25d41c7f26c534e&utm_source=gh-comment&runConclusion=FAILURE&runId=d82ac452-2328-5ef6-a53b-f721893d9fbb) |
| <code>scenarios > public > question adds filters to url as get params and renders the results correctly (metabase\#7120, metabase\#17033, metabase\#21993)</code> | The test timed out waiting for the element with class 'pdIed.emotion-1avyp1d' to contain the text 'Winner'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51862?repo=metabase/metabase&commitHash=18b527400e19b7d483335ec8b25d41c7f26c534e&utm_source=gh-comment&runConclusion=FAILURE&runId=902334f7-0284-593e-a335-e21d5f0f1eb7) |

[... and 20 more](https://app.trunk.io/metabase/flaky-tests/pr/51862?repo=metabase/metabase&commitHash=18b527400e19b7d483335ec8b25d41c7f26c534e&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51862?repo=metabase/metabase&commitHash=18b527400e19b7d483335ec8b25d41c7f26c534e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2775767886,pull_request,closed,,Backport serialization user fix (#51816) to 51,Backport of https://github.com/metabase/metabase/pull/51816 to 51,noahmoss,2025-01-08 16:05:31+00:00,['noahmoss'],2025-01-08 18:13:32+00:00,2025-01-08 17:15:22+00:00,https://github.com/metabase/metabase/pull/51861,"[('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2578155197, 'issue_id': 2775767886, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/102880_tests-8aa5dcab-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51861?repo=metabase/metabase&commitHash=8aa5dcab4d380f38dc33b2743066aa81ffbe8ccc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51861?repo=metabase/metabase&commitHash=8aa5dcab4d380f38dc33b2743066aa81ffbe8ccc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51861?repo=metabase/metabase&commitHash=8aa5dcab4d380f38dc33b2743066aa81ffbe8ccc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51861?repo=metabase/metabase&commitHash=8aa5dcab4d380f38dc33b2743066aa81ffbe8ccc&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>get-database-can-upload-test</code> | The table or view 'test-data.orders\\_v' cannot be found. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51861?repo=metabase/metabase&commitHash=8aa5dcab4d380f38dc33b2743066aa81ffbe8ccc&utm_source=gh-comment&runConclusion=FAILURE&runId=4f84cf19-f538-576f-8567-5d1e9bdb5ac0) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51861?repo=metabase/metabase&commitHash=8aa5dcab4d380f38dc33b2743066aa81ffbe8ccc&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 8, 16, 51, 43, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-08 16:51:43 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/102880_tests-8aa5dcab-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51861?repo=metabase/metabase&commitHash=8aa5dcab4d380f38dc33b2743066aa81ffbe8ccc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51861?repo=metabase/metabase&commitHash=8aa5dcab4d380f38dc33b2743066aa81ffbe8ccc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51861?repo=metabase/metabase&commitHash=8aa5dcab4d380f38dc33b2743066aa81ffbe8ccc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51861?repo=metabase/metabase&commitHash=8aa5dcab4d380f38dc33b2743066aa81ffbe8ccc&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>get-database-can-upload-test</code> | The table or view 'test-data.orders\_v' cannot be found. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51861?repo=metabase/metabase&commitHash=8aa5dcab4d380f38dc33b2743066aa81ffbe8ccc&utm_source=gh-comment&runConclusion=FAILURE&runId=4f84cf19-f538-576f-8567-5d1e9bdb5ac0) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51861?repo=metabase/metabase&commitHash=8aa5dcab4d380f38dc33b2743066aa81ffbe8ccc&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2775736249,pull_request,closed,,"ü§ñ backported ""Create serialization users as inactive""","  #51816
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-08 15:51:38+00:00,"['noahmoss', 'github-automation-metabase']",2025-01-08 18:12:34+00:00,2025-01-08 17:15:47+00:00,https://github.com/metabase/metabase/pull/51860,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2578151004, 'issue_id': 2775736249, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120204_tests-141e59a3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51860?repo=metabase/metabase&commitHash=141e59a3b91459700709a370e793bf66181fa1d3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51860?repo=metabase/metabase&commitHash=141e59a3b91459700709a370e793bf66181fa1d3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51860?repo=metabase/metabase&commitHash=141e59a3b91459700709a370e793bf66181fa1d3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51860?repo=metabase/metabase&commitHash=141e59a3b91459700709a370e793bf66181fa1d3&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they were missing. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51860?repo=metabase/metabase&commitHash=141e59a3b91459700709a370e793bf66181fa1d3&utm_source=gh-comment&runConclusion=FAILURE&runId=028f9c1e-82fb-54e3-9671-71c3ad5306c9) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51860?repo=metabase/metabase&commitHash=141e59a3b91459700709a370e793bf66181fa1d3&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 8, 16, 49, 49, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-08 16:49:49 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120204_tests-141e59a3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51860?repo=metabase/metabase&commitHash=141e59a3b91459700709a370e793bf66181fa1d3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51860?repo=metabase/metabase&commitHash=141e59a3b91459700709a370e793bf66181fa1d3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51860?repo=metabase/metabase&commitHash=141e59a3b91459700709a370e793bf66181fa1d3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51860?repo=metabase/metabase&commitHash=141e59a3b91459700709a370e793bf66181fa1d3&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they were missing. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51860?repo=metabase/metabase&commitHash=141e59a3b91459700709a370e793bf66181fa1d3&utm_source=gh-comment&runConclusion=FAILURE&runId=028f9c1e-82fb-54e3-9671-71c3ad5306c9) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51860?repo=metabase/metabase&commitHash=141e59a3b91459700709a370e793bf66181fa1d3&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2775590808,pull_request,closed,,Move embedding menu items into rest actions menu,"Part of https://github.com/metabase/metabase/issues/50766

### Description

1. This moves embedding / sharing actions into a common question / dashboard actions menu.
1. Then the first change leaves existing menu with a single item - ""Alerts"" in case of a question, and ""Subscriptions"" in case of a dashboard. So, we refactor those to be action buttons instead of a menu.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. Check a question - it should have a single action button to manage alerts instead of menu. Embedding actions (Public link, Embed) should be moved to three dots menu.
2. Check dashboard - same as for question, but here we have subscriptions instead of alerts.

### Demo

https://www.loom.com/share/c55e4b3ef58d4f0196f41232314f1c8a

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",deniskaber,2025-01-08 14:49:57+00:00,['deniskaber'],2025-01-14 22:07:58+00:00,2025-01-14 22:07:23+00:00,https://github.com/metabase/metabase/pull/51859,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2578033413, 'issue_id': 2775590808, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13513_tests-799115f2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51859?repo=metabase/metabase&commitHash=799115f2d616d53e3ac10cabc5c9174f2a077aaf&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51859?repo=metabase/metabase&commitHash=799115f2d616d53e3ac10cabc5c9174f2a077aaf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/9-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51859?repo=metabase/metabase&commitHash=799115f2d616d53e3ac10cabc5c9174f2a077aaf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51859?repo=metabase/metabase&commitHash=799115f2d616d53e3ac10cabc5c9174f2a077aaf&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native should handle template tags</code> | The test timed out waiting for the expected content \'Showing 168 rows\' to appear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51859?repo=metabase/metabase&commitHash=799115f2d616d53e3ac10cabc5c9174f2a077aaf&utm_source=gh-comment&runConclusion=FAILURE&runId=db930cb2-8e1e-530e-8498-ce67869f32d7) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 16886 shouldn\'t remove parts of the query when choosing \'Run selected text\' (metabase\\#16886)</code> | The test timed out while trying to find an element with data-testid ""scalar-value"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51859?repo=metabase/metabase&commitHash=799115f2d616d53e3ac10cabc5c9174f2a077aaf&utm_source=gh-comment&runConclusion=FAILURE&runId=c2fca7fa-8111-504a-9da4-6223cbcd5003) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51859?repo=metabase/metabase&commitHash=799115f2d616d53e3ac10cabc5c9174f2a077aaf&utm_source=gh-comment&runConclusion=FAILURE&runId=0d59aca6-f244-5401-81aa-8d689161fc82) |\n| <code>issue 16886 shouldn\'t remove parts of the query when choosing \'Run selected text\' (metabase\\#16886)</code> | The test timed out while trying to find an element with data-testid ""scalar-value"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51859?repo=metabase/metabase&commitHash=799115f2d616d53e3ac10cabc5c9174f2a077aaf&utm_source=gh-comment&runConclusion=FAILURE&runId=23242ee1-c6a5-508e-8aee-e9ac1b82361b) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51859?repo=metabase/metabase&commitHash=799115f2d616d53e3ac10cabc5c9174f2a077aaf&utm_source=gh-comment&runConclusion=FAILURE&runId=c7610c95-258e-5555-b7e9-224d5ffa3d97) |\n\n[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/51859?repo=metabase/metabase&commitHash=799115f2d616d53e3ac10cabc5c9174f2a077aaf&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51859?repo=metabase/metabase&commitHash=799115f2d616d53e3ac10cabc5c9174f2a077aaf&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 8, 15, 58, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2591201756, 'issue_id': 2775590808, 'author': 'deniskaber', 'body': 'We decided not to proceed with this change for now.', 'created_at': datetime.datetime(2025, 1, 14, 22, 7, 56, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-08 15:58:37 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13513_tests-799115f2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51859?repo=metabase/metabase&commitHash=799115f2d616d53e3ac10cabc5c9174f2a077aaf&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51859?repo=metabase/metabase&commitHash=799115f2d616d53e3ac10cabc5c9174f2a077aaf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/9-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51859?repo=metabase/metabase&commitHash=799115f2d616d53e3ac10cabc5c9174f2a077aaf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51859?repo=metabase/metabase&commitHash=799115f2d616d53e3ac10cabc5c9174f2a077aaf&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native should handle template tags</code> | The test timed out waiting for the expected content 'Showing 168 rows' to appear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51859?repo=metabase/metabase&commitHash=799115f2d616d53e3ac10cabc5c9174f2a077aaf&utm_source=gh-comment&runConclusion=FAILURE&runId=db930cb2-8e1e-530e-8498-ce67869f32d7) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 16886 shouldn't remove parts of the query when choosing 'Run selected text' (metabase\#16886)</code> | The test timed out while trying to find an element with data-testid ""scalar-value"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51859?repo=metabase/metabase&commitHash=799115f2d616d53e3ac10cabc5c9174f2a077aaf&utm_source=gh-comment&runConclusion=FAILURE&runId=c2fca7fa-8111-504a-9da4-6223cbcd5003) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51859?repo=metabase/metabase&commitHash=799115f2d616d53e3ac10cabc5c9174f2a077aaf&utm_source=gh-comment&runConclusion=FAILURE&runId=0d59aca6-f244-5401-81aa-8d689161fc82) |
| <code>issue 16886 shouldn't remove parts of the query when choosing 'Run selected text' (metabase\#16886)</code> | The test timed out while trying to find an element with data-testid ""scalar-value"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51859?repo=metabase/metabase&commitHash=799115f2d616d53e3ac10cabc5c9174f2a077aaf&utm_source=gh-comment&runConclusion=FAILURE&runId=23242ee1-c6a5-508e-8aee-e9ac1b82361b) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51859?repo=metabase/metabase&commitHash=799115f2d616d53e3ac10cabc5c9174f2a077aaf&utm_source=gh-comment&runConclusion=FAILURE&runId=c7610c95-258e-5555-b7e9-224d5ffa3d97) |

[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/51859?repo=metabase/metabase&commitHash=799115f2d616d53e3ac10cabc5c9174f2a077aaf&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51859?repo=metabase/metabase&commitHash=799115f2d616d53e3ac10cabc5c9174f2a077aaf&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

deniskaber (Issue Creator) on (2025-01-14 22:07:56 UTC): We decided not to proceed with this change for now.

"
2775582329,pull_request,closed,,[WIP] Remove the old `EntityListLoader` and clean up,"Closes #50325

### How to verify

CI is green.",kamilmielnik,2025-01-08 14:46:21+00:00,['kamilmielnik'],2025-01-10 14:54:00+00:00,2025-01-10 14:52:37+00:00,https://github.com/metabase/metabase/pull/51858,"[('do not merge', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2577939948, 'issue_id': 2775582329, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/52009_tests-59d226ec-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51858?repo=metabase/metabase&commitHash=59d226ec5d132b28c873ebdad424fd8b801567eb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/19-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51858?repo=metabase/metabase&commitHash=59d226ec5d132b28c873ebdad424fd8b801567eb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51858?repo=metabase/metabase&commitHash=59d226ec5d132b28c873ebdad424fd8b801567eb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51858?repo=metabase/metabase&commitHash=59d226ec5d132b28c873ebdad424fd8b801567eb&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>collection permissions item management curate access nodata user archive should be able to archive/unarchive question (metabase\\#15253)</code> | Unable to find an element with the text ""Orders"" after 4000ms, possibly due to broken or multiple elements. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51858?repo=metabase/metabase&commitHash=59d226ec5d132b28c873ebdad424fd8b801567eb&utm_source=gh-comment&runConclusion=FAILURE&runId=9f6dbd74-d9f0-5f8c-ba97-754e0b590061) |\n| <code>collection permissions item management curate access nodata user archive should be able to archive/unarchive dashboard</code> | Unable to find an element with the text ""Orders in a dashboard"" in a specified time. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51858?repo=metabase/metabase&commitHash=59d226ec5d132b28c873ebdad424fd8b801567eb&utm_source=gh-comment&runConclusion=FAILURE&runId=5cc807d4-69ef-5ea1-97b9-b407fe71ccb5) |\n| <code>collection permissions item management curate access nodata user move should let a user move/undo move a question</code> | The element with class ""emotion-Text-root.emotion-48pq6d"" was expected to not exist in the DOM, but it was found continuously. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51858?repo=metabase/metabase&commitHash=59d226ec5d132b28c873ebdad424fd8b801567eb&utm_source=gh-comment&runConclusion=FAILURE&runId=3def0852-acd3-536a-b11c-2e3a98fbdbd8) |\n| <code>collection permissions item management curate access nodata user move should let a user move/undo move a dashboard</code> | The element with class \'emotion-Text-root.emotion-48pq6d\' was expected to not exist in the DOM, but it was found continuously. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51858?repo=metabase/metabase&commitHash=59d226ec5d132b28c873ebdad424fd8b801567eb&utm_source=gh-comment&runConclusion=FAILURE&runId=51ede4b3-8658-523c-9dfd-4c655ddfe21d) |\n\n[... and 15 more](https://app.trunk.io/metabase/flaky-tests/pr/51858?repo=metabase/metabase&commitHash=59d226ec5d132b28c873ebdad424fd8b801567eb&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native lets you create and run a SQL question</code> | The test timed out waiting for the content \'18,760\' to appear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51858?repo=metabase/metabase&commitHash=59d226ec5d132b28c873ebdad424fd8b801567eb&utm_source=gh-comment&runConclusion=FAILURE&runId=8f037f58-81e1-5ce9-a5c3-0893414941e6) |\n| <code>issue 16886 shouldn\'t remove parts of the query when choosing \'Run selected text\' (metabase\\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51858?repo=metabase/metabase&commitHash=59d226ec5d132b28c873ebdad424fd8b801567eb&utm_source=gh-comment&runConclusion=FAILURE&runId=07b61577-3289-5977-88b4-928becc622ef) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51858?repo=metabase/metabase&commitHash=59d226ec5d132b28c873ebdad424fd8b801567eb&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 8, 15, 21, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580165185, 'issue_id': 2775582329, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@kamilmielnik You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2025, 1, 9, 13, 32, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582891377, 'issue_id': 2775582329, 'author': 'kamilmielnik', 'body': 'Closing in favor of #51963', 'created_at': datetime.datetime(2025, 1, 10, 14, 54, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-08 15:21:07 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/52009_tests-59d226ec-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51858?repo=metabase/metabase&commitHash=59d226ec5d132b28c873ebdad424fd8b801567eb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/19-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51858?repo=metabase/metabase&commitHash=59d226ec5d132b28c873ebdad424fd8b801567eb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51858?repo=metabase/metabase&commitHash=59d226ec5d132b28c873ebdad424fd8b801567eb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51858?repo=metabase/metabase&commitHash=59d226ec5d132b28c873ebdad424fd8b801567eb&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>collection permissions item management curate access nodata user archive should be able to archive/unarchive question (metabase\#15253)</code> | Unable to find an element with the text ""Orders"" after 4000ms, possibly due to broken or multiple elements. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51858?repo=metabase/metabase&commitHash=59d226ec5d132b28c873ebdad424fd8b801567eb&utm_source=gh-comment&runConclusion=FAILURE&runId=9f6dbd74-d9f0-5f8c-ba97-754e0b590061) |
| <code>collection permissions item management curate access nodata user archive should be able to archive/unarchive dashboard</code> | Unable to find an element with the text ""Orders in a dashboard"" in a specified time. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51858?repo=metabase/metabase&commitHash=59d226ec5d132b28c873ebdad424fd8b801567eb&utm_source=gh-comment&runConclusion=FAILURE&runId=5cc807d4-69ef-5ea1-97b9-b407fe71ccb5) |
| <code>collection permissions item management curate access nodata user move should let a user move/undo move a question</code> | The element with class ""emotion-Text-root.emotion-48pq6d"" was expected to not exist in the DOM, but it was found continuously. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51858?repo=metabase/metabase&commitHash=59d226ec5d132b28c873ebdad424fd8b801567eb&utm_source=gh-comment&runConclusion=FAILURE&runId=3def0852-acd3-536a-b11c-2e3a98fbdbd8) |
| <code>collection permissions item management curate access nodata user move should let a user move/undo move a dashboard</code> | The element with class 'emotion-Text-root.emotion-48pq6d' was expected to not exist in the DOM, but it was found continuously. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51858?repo=metabase/metabase&commitHash=59d226ec5d132b28c873ebdad424fd8b801567eb&utm_source=gh-comment&runConclusion=FAILURE&runId=51ede4b3-8658-523c-9dfd-4c655ddfe21d) |

[... and 15 more](https://app.trunk.io/metabase/flaky-tests/pr/51858?repo=metabase/metabase&commitHash=59d226ec5d132b28c873ebdad424fd8b801567eb&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native lets you create and run a SQL question</code> | The test timed out waiting for the content '18,760' to appear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51858?repo=metabase/metabase&commitHash=59d226ec5d132b28c873ebdad424fd8b801567eb&utm_source=gh-comment&runConclusion=FAILURE&runId=8f037f58-81e1-5ce9-a5c3-0893414941e6) |
| <code>issue 16886 shouldn't remove parts of the query when choosing 'Run selected text' (metabase\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51858?repo=metabase/metabase&commitHash=59d226ec5d132b28c873ebdad424fd8b801567eb&utm_source=gh-comment&runConclusion=FAILURE&runId=07b61577-3289-5977-88b4-928becc622ef) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51858?repo=metabase/metabase&commitHash=59d226ec5d132b28c873ebdad424fd8b801567eb&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-09 13:32:51 UTC): <!---conventional commit reminder comment ID-->
@kamilmielnik You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

kamilmielnik (Issue Creator) on (2025-01-10 14:54:00 UTC): Closing in favor of #51963

"
2775550590,pull_request,open,,Make HoverCard keyboard-accessible,"Contributes to closing #51652

According to the Mantine [documentation](https://mantine.dev/core/hover-card/#accessibility), the `HoverCard` component ""cannot be activated with keyboard,"" and we should ""use it to display only additional information that is not required to understand the context."" However, we do use this component to display crucial information. For the sake of accessibility, let's tweak it so that the dropdown appears when the target is focused.

- [x] Tests have been added/updated to cover changes in this PR

## An example: Column headers

| Old |
| ---- | 
| ![Kapture 2025-01-08 at 10 05 31](https://github.com/user-attachments/assets/42c4e485-8ffe-4c10-a0d7-e0a027cd3e59) |

| New |
| ---- |
| ![Kapture 2025-01-08 at 10 07 39](https://github.com/user-attachments/assets/fe29417c-f769-42ce-966a-5e34aa8bc267) |

## Another example: The filter modal

| Old |
| ---- |
| ![Kapture 2025-01-08 at 09 46 54](https://github.com/user-attachments/assets/377a6974-0e7d-4694-a72f-ae4197a8b9d7) |

| New |
| ---- |
| ![Kapture 2025-01-08 at 10 02 38](https://github.com/user-attachments/assets/1b812d01-c40f-4b9f-adcb-62e44a8fc796) |	

(In the GIF above, after the target is focused, there is a brief delay before the dropdown appears. This is due to the way the filter modal's column info icons are configured. Typically there will be no delay.)
",rafpaf,2025-01-08 14:33:00+00:00,['rafpaf'],2025-01-21 01:20:46+00:00,,https://github.com/metabase/metabase/pull/51857,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2577820598, 'issue_id': 2775550590, 'author': 'rafpaf', 'body': '* **#51857** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51857?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51857?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 8, 14, 33, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577837448, 'issue_id': 2775550590, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff cd9e7c663455b34990cb27a6b556c8a515731a66...1298c1acee05383c300b6cf76137ace90dbca77c.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/overlays/HoverCard/HoverCard.unit.spec.tsx<br>frontend/src/metabase/ui/components/overlays/HoverCard/index.tsx |', 'created_at': datetime.datetime(2025, 1, 8, 14, 40, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577923630, 'issue_id': 2775550590, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/41047_tests-1298c1ac-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51857?repo=metabase/metabase&commitHash=1298c1acee05383c300b6cf76137ace90dbca77c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51857?repo=metabase/metabase&commitHash=1298c1acee05383c300b6cf76137ace90dbca77c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51857?repo=metabase/metabase&commitHash=1298c1acee05383c300b6cf76137ace90dbca77c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51857?repo=metabase/metabase&commitHash=1298c1acee05383c300b6cf76137ace90dbca77c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>impersonated permission admins impersonated users have limited access</code> | The \\`runNativeQuery\\` method timed out waiting for the first request to the 'dataset' route. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51857?repo=metabase/metabase&commitHash=1298c1acee05383c300b6cf76137ace90dbca77c&utm_source=gh-comment&runConclusion=FAILURE&runId=43c25fef-d2c5-5d29-baa3-2f278688aebf) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51857?repo=metabase/metabase&commitHash=1298c1acee05383c300b6cf76137ace90dbca77c&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 8, 15, 15, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603414285, 'issue_id': 2775550590, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `1298c1acee05383c300b6cf76137ace90dbca77c-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12877694685?pr=51857)\n\n  File | Test Name\n  ---- | ---------\n  `impersonated.cy.spec.js` | impersonated permission > admins > impersonated users > have limited access', 'created_at': datetime.datetime(2025, 1, 21, 0, 42, 52, tzinfo=datetime.timezone.utc)}]","rafpaf (Issue Creator) on (2025-01-08 14:33:23 UTC): * **#51857** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51857?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51857?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

github-actions[bot] on (2025-01-08 14:40:10 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff cd9e7c663455b34990cb27a6b556c8a515731a66...1298c1acee05383c300b6cf76137ace90dbca77c.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/overlays/HoverCard/HoverCard.unit.spec.tsx<br>frontend/src/metabase/ui/components/overlays/HoverCard/index.tsx |

trunk-io[bot] on (2025-01-08 15:15:13 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/41047_tests-1298c1ac-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51857?repo=metabase/metabase&commitHash=1298c1acee05383c300b6cf76137ace90dbca77c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51857?repo=metabase/metabase&commitHash=1298c1acee05383c300b6cf76137ace90dbca77c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51857?repo=metabase/metabase&commitHash=1298c1acee05383c300b6cf76137ace90dbca77c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51857?repo=metabase/metabase&commitHash=1298c1acee05383c300b6cf76137ace90dbca77c&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>impersonated permission admins impersonated users have limited access</code> | The \`runNativeQuery\` method timed out waiting for the first request to the 'dataset' route. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51857?repo=metabase/metabase&commitHash=1298c1acee05383c300b6cf76137ace90dbca77c&utm_source=gh-comment&runConclusion=FAILURE&runId=43c25fef-d2c5-5d29-baa3-2f278688aebf) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51857?repo=metabase/metabase&commitHash=1298c1acee05383c300b6cf76137ace90dbca77c&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-21 00:42:52 UTC): ## e2e tests failed on `1298c1acee05383c300b6cf76137ace90dbca77c-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12877694685?pr=51857)

  File | Test Name
  ---- | ---------
  `impersonated.cy.spec.js` | impersonated permission > admins > impersonated users > have limited access

"
2775370590,pull_request,closed,,"ü§ñ backported ""perf: Optimize metabase.formatter/strip-trailing-zeroes""",#51774,github-automation-metabase,2025-01-08 13:14:54+00:00,"['alexander-yakushev', 'github-automation-metabase']",2025-01-22 08:43:08+00:00,2025-01-22 07:50:53+00:00,https://github.com/metabase/metabase/pull/51855,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2577731420, 'issue_id': 2775370590, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120782_tests-05ce20bb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51855?repo=metabase/metabase&commitHash=05ce20bb32317bd1367ab0490cde72f1b8ef74ed&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51855?repo=metabase/metabase&commitHash=05ce20bb32317bd1367ab0490cde72f1b8ef74ed&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51855?repo=metabase/metabase&commitHash=05ce20bb32317bd1367ab0490cde72f1b8ef74ed&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51855?repo=metabase/metabase&commitHash=05ce20bb32317bd1367ab0490cde72f1b8ef74ed&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51855?repo=metabase/metabase&commitHash=05ce20bb32317bd1367ab0490cde72f1b8ef74ed&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 8, 13, 55, 38, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-08 13:55:38 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120782_tests-05ce20bb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51855?repo=metabase/metabase&commitHash=05ce20bb32317bd1367ab0490cde72f1b8ef74ed&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51855?repo=metabase/metabase&commitHash=05ce20bb32317bd1367ab0490cde72f1b8ef74ed&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51855?repo=metabase/metabase&commitHash=05ce20bb32317bd1367ab0490cde72f1b8ef74ed&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51855?repo=metabase/metabase&commitHash=05ce20bb32317bd1367ab0490cde72f1b8ef74ed&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51855?repo=metabase/metabase&commitHash=05ce20bb32317bd1367ab0490cde72f1b8ef74ed&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2775211940,pull_request,open,,[Notification] Publish events,"Publish events and audit it: `notification-create, notification-update, notification-unsubscribe`

Also updates the `v_alerts` to read from notification tables, instead of pulse.

Part of WRK-2",qnkhuat,2025-01-08 11:58:31+00:00,"['crisptrutski', 'qnkhuat']",2025-02-03 05:42:07+00:00,,https://github.com/metabase/metabase/pull/51852,"[('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2577581865, 'issue_id': 2775211940, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/95472_tests-bb19ebdf-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51852?repo=metabase/metabase&commitHash=bb19ebdfe3b683768cd16f45b193f3445c27bf2f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51852?repo=metabase/metabase&commitHash=bb19ebdfe3b683768cd16f45b193f3445c27bf2f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/9-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51852?repo=metabase/metabase&commitHash=bb19ebdfe3b683768cd16f45b193f3445c27bf2f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51852?repo=metabase/metabase&commitHash=bb19ebdfe3b683768cd16f45b193f3445c27bf2f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>official collections token expired or removed should not display official collection icon anymore</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51852?repo=metabase/metabase&commitHash=bb19ebdfe3b683768cd16f45b193f3445c27bf2f&utm_source=gh-comment&runConclusion=FAILURE&runId=20161a64-e5c7-5f4d-8694-cde53dceacda) |\n| <code>official collections premium token with paid features displays official badge throughout the application</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51852?repo=metabase/metabase&commitHash=bb19ebdfe3b683768cd16f45b193f3445c27bf2f&utm_source=gh-comment&runConclusion=FAILURE&runId=3aa51d19-89ee-55ad-98a9-4ea4af94b7f9) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>create-notification-send-you-were-added-email-test</code> | The email notification was sent with incorrect recipients and subject. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51852?repo=metabase/metabase&commitHash=bb19ebdfe3b683768cd16f45b193f3445c27bf2f&utm_source=gh-comment&runConclusion=FAILURE&runId=f1ca583a-27ff-57b7-8e45-71809d6d1e97) |\n| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51852?repo=metabase/metabase&commitHash=bb19ebdfe3b683768cd16f45b193f3445c27bf2f&utm_source=gh-comment&runConclusion=FAILURE&runId=0e6329c2-b9bf-5376-a22f-8f2548053d9e) |\n| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and \'Browse databases\' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51852?repo=metabase/metabase&commitHash=bb19ebdfe3b683768cd16f45b193f3445c27bf2f&utm_source=gh-comment&runConclusion=FAILURE&runId=85063ae9-02b7-55b0-b67d-41d06d9e7a4e) |\n| <code>v\\_alerts-test</code> | The recipients in the expected and actual results do not match. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51852?repo=metabase/metabase&commitHash=bb19ebdfe3b683768cd16f45b193f3445c27bf2f&utm_source=gh-comment&runConclusion=FAILURE&runId=6a3072cb-7bab-53b8-9108-0b0a7f715509) |\n\n[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/51852?repo=metabase/metabase&commitHash=bb19ebdfe3b683768cd16f45b193f3445c27bf2f&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51852?repo=metabase/metabase&commitHash=bb19ebdfe3b683768cd16f45b193f3445c27bf2f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 8, 12, 41, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2629891745, 'issue_id': 2775211940, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `bb19ebdfe3b683768cd16f45b193f3445c27bf2f-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13106294055?pr=51852)\n\n  File | Test Name\n  ---- | ---------\n  `model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model\n`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette\n`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link\n`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results\n`official-collections.cy.spec.js` | official collections > premium token with paid features > displays official badge throughout the application\n`official-collections.cy.spec.js` | official collections > token expired or removed > should not display official collection icon anymore"", 'created_at': datetime.datetime(2025, 2, 3, 4, 30, 50, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-08 12:41:55 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/95472_tests-bb19ebdf-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51852?repo=metabase/metabase&commitHash=bb19ebdfe3b683768cd16f45b193f3445c27bf2f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51852?repo=metabase/metabase&commitHash=bb19ebdfe3b683768cd16f45b193f3445c27bf2f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/9-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51852?repo=metabase/metabase&commitHash=bb19ebdfe3b683768cd16f45b193f3445c27bf2f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51852?repo=metabase/metabase&commitHash=bb19ebdfe3b683768cd16f45b193f3445c27bf2f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>official collections token expired or removed should not display official collection icon anymore</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51852?repo=metabase/metabase&commitHash=bb19ebdfe3b683768cd16f45b193f3445c27bf2f&utm_source=gh-comment&runConclusion=FAILURE&runId=20161a64-e5c7-5f4d-8694-cde53dceacda) |
| <code>official collections premium token with paid features displays official badge throughout the application</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51852?repo=metabase/metabase&commitHash=bb19ebdfe3b683768cd16f45b193f3445c27bf2f&utm_source=gh-comment&runConclusion=FAILURE&runId=3aa51d19-89ee-55ad-98a9-4ea4af94b7f9) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>create-notification-send-you-were-added-email-test</code> | The email notification was sent with incorrect recipients and subject. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51852?repo=metabase/metabase&commitHash=bb19ebdfe3b683768cd16f45b193f3445c27bf2f&utm_source=gh-comment&runConclusion=FAILURE&runId=f1ca583a-27ff-57b7-8e45-71809d6d1e97) |
| <code>scenarios > search should allow users to paginate results</code> | Unable to find an accessible element with the role ""option"" and name ""/View and filter/"" within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51852?repo=metabase/metabase&commitHash=bb19ebdfe3b683768cd16f45b193f3445c27bf2f&utm_source=gh-comment&runConclusion=FAILURE&runId=0e6329c2-b9bf-5376-a22f-8f2548053d9e) |
| <code>issues 11914, 18978, 18977, 23857 should not display query editing controls and 'Browse databases' link</code> | The test timed out while trying to find an element with the text ""Repro"" in the UI. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51852?repo=metabase/metabase&commitHash=bb19ebdfe3b683768cd16f45b193f3445c27bf2f&utm_source=gh-comment&runConclusion=FAILURE&runId=85063ae9-02b7-55b0-b67d-41d06d9e7a4e) |
| <code>v\_alerts-test</code> | The recipients in the expected and actual results do not match. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51852?repo=metabase/metabase&commitHash=bb19ebdfe3b683768cd16f45b193f3445c27bf2f&utm_source=gh-comment&runConclusion=FAILURE&runId=6a3072cb-7bab-53b8-9108-0b0a7f715509) |

[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/51852?repo=metabase/metabase&commitHash=bb19ebdfe3b683768cd16f45b193f3445c27bf2f&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51852?repo=metabase/metabase&commitHash=bb19ebdfe3b683768cd16f45b193f3445c27bf2f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-02-03 04:30:50 UTC): ## e2e tests failed on `bb19ebdfe3b683768cd16f45b193f3445c27bf2f-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13106294055?pr=51852)

  File | Test Name
  ---- | ---------
  `model-indexes.cy.spec.js` | (_flaky_) scenarios > model indexes > should not reload the model for record in the same model
`command-palette.cy.spec.js` | (_flaky_) command palette > should render a searchable command palette
`reproductions-1.cy.spec.js` | (_flaky_) issues 11914, 18978, 18977, 23857 > should not display query editing controls and 'Browse databases' link
`search-pagination.cy.spec.js` | (_flaky_) scenarios > search > should allow users to paginate results
`official-collections.cy.spec.js` | official collections > premium token with paid features > displays official badge throughout the application
`official-collections.cy.spec.js` | official collections > token expired or removed > should not display official collection icon anymore

"
2775143802,pull_request,closed,,Use isFetching instead of isLoading,"Depends on https://github.com/metabase/metabase/pull/51496

### Description
Temporary PR to run CI.",kamilmielnik,2025-01-08 11:24:41+00:00,['kamilmielnik'],2025-01-08 12:28:23+00:00,2025-01-08 12:00:30+00:00,https://github.com/metabase/metabase/pull/51849,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2577501629, 'issue_id': 2775143802, 'author': 'kamilmielnik', 'body': 'Whoah, lots of failures here. Abandoning.', 'created_at': datetime.datetime(2025, 1, 8, 12, 0, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577521325, 'issue_id': 2775143802, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/42409_tests-dfe6f19d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51849?repo=metabase/metabase&commitHash=dfe6f19dc4354349f78001e69e04659835fba292&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/29-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51849?repo=metabase/metabase&commitHash=dfe6f19dc4354349f78001e69e04659835fba292&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51849?repo=metabase/metabase&commitHash=dfe6f19dc4354349f78001e69e04659835fba292&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51849?repo=metabase/metabase&commitHash=dfe6f19dc4354349f78001e69e04659835fba292&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Write actions on model detail page (mysql) should allow public sharing of actions and execution of public actions</code> | Unable to find a label with the text \'Public action form URL\' within 4 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51849?repo=metabase/metabase&commitHash=dfe6f19dc4354349f78001e69e04659835fba292&utm_source=gh-comment&runConclusion=FAILURE&runId=d1290893-feb3-5183-9f29-cbb7f51f6226) |\n| <code>Write actions on model detail page (mysql) should allow implicit action execution from the model details page</code> | Unable to find an accessible element with the role ""listitem"" and name ""Create"" after 4000ms timeout. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51849?repo=metabase/metabase&commitHash=dfe6f19dc4354349f78001e69e04659835fba292&utm_source=gh-comment&runConclusion=FAILURE&runId=8607c37e-ab11-58d6-ba12-655d4fb9e3f5) |\n| <code>Write actions on model detail page (mysql) should allow public sharing of query action and execution</code> | Unable to find a label with the text \'Public action form URL\' within 4 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51849?repo=metabase/metabase&commitHash=dfe6f19dc4354349f78001e69e04659835fba292&utm_source=gh-comment&runConclusion=FAILURE&runId=f475ffc6-7a3a-5ef5-a71b-844dccae3a46) |\n| <code>Write actions on model detail page (mysql) should allow query action execution from the model details page</code> | Unable to find an accessible element with the role ""listitem"" and name ""Demo Action"" within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51849?repo=metabase/metabase&commitHash=dfe6f19dc4354349f78001e69e04659835fba292&utm_source=gh-comment&runConclusion=FAILURE&runId=eebcdeca-bf4c-5c16-aa7f-4243714569d4) |\n\n[... and 25 more](https://app.trunk.io/metabase/flaky-tests/pr/51849?repo=metabase/metabase&commitHash=dfe6f19dc4354349f78001e69e04659835fba292&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51849?repo=metabase/metabase&commitHash=dfe6f19dc4354349f78001e69e04659835fba292&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 8, 12, 11, 8, tzinfo=datetime.timezone.utc)}]","kamilmielnik (Issue Creator) on (2025-01-08 12:00:54 UTC): Whoah, lots of failures here. Abandoning.

trunk-io[bot] on (2025-01-08 12:11:08 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/42409_tests-dfe6f19d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51849?repo=metabase/metabase&commitHash=dfe6f19dc4354349f78001e69e04659835fba292&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/29-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51849?repo=metabase/metabase&commitHash=dfe6f19dc4354349f78001e69e04659835fba292&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51849?repo=metabase/metabase&commitHash=dfe6f19dc4354349f78001e69e04659835fba292&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51849?repo=metabase/metabase&commitHash=dfe6f19dc4354349f78001e69e04659835fba292&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Write actions on model detail page (mysql) should allow public sharing of actions and execution of public actions</code> | Unable to find a label with the text 'Public action form URL' within 4 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51849?repo=metabase/metabase&commitHash=dfe6f19dc4354349f78001e69e04659835fba292&utm_source=gh-comment&runConclusion=FAILURE&runId=d1290893-feb3-5183-9f29-cbb7f51f6226) |
| <code>Write actions on model detail page (mysql) should allow implicit action execution from the model details page</code> | Unable to find an accessible element with the role ""listitem"" and name ""Create"" after 4000ms timeout. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51849?repo=metabase/metabase&commitHash=dfe6f19dc4354349f78001e69e04659835fba292&utm_source=gh-comment&runConclusion=FAILURE&runId=8607c37e-ab11-58d6-ba12-655d4fb9e3f5) |
| <code>Write actions on model detail page (mysql) should allow public sharing of query action and execution</code> | Unable to find a label with the text 'Public action form URL' within 4 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51849?repo=metabase/metabase&commitHash=dfe6f19dc4354349f78001e69e04659835fba292&utm_source=gh-comment&runConclusion=FAILURE&runId=f475ffc6-7a3a-5ef5-a71b-844dccae3a46) |
| <code>Write actions on model detail page (mysql) should allow query action execution from the model details page</code> | Unable to find an accessible element with the role ""listitem"" and name ""Demo Action"" within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51849?repo=metabase/metabase&commitHash=dfe6f19dc4354349f78001e69e04659835fba292&utm_source=gh-comment&runConclusion=FAILURE&runId=eebcdeca-bf4c-5c16-aa7f-4243714569d4) |

[... and 25 more](https://app.trunk.io/metabase/flaky-tests/pr/51849?repo=metabase/metabase&commitHash=dfe6f19dc4354349f78001e69e04659835fba292&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51849?repo=metabase/metabase&commitHash=dfe6f19dc4354349f78001e69e04659835fba292&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2775126139,pull_request,closed,,Port snippet collections to use new `EntityListLoaderRtkQuery`,"Depends on https://github.com/metabase/metabase/pull/51496

### Description
Temporary PR to run CI for one specific entity.",kamilmielnik,2025-01-08 11:15:31+00:00,['kamilmielnik'],2025-01-08 13:53:10+00:00,2025-01-08 12:11:04+00:00,https://github.com/metabase/metabase/pull/51847,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2577473381, 'issue_id': 2775126139, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51957_tests-7453f6ab-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51847?repo=metabase/metabase&commitHash=7453f6ab043ebaad7036153f3532aa7609ca9b5f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51847?repo=metabase/metabase&commitHash=7453f6ab043ebaad7036153f3532aa7609ca9b5f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51847?repo=metabase/metabase&commitHash=7453f6ab043ebaad7036153f3532aa7609ca9b5f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51847?repo=metabase/metabase&commitHash=7453f6ab043ebaad7036153f3532aa7609ca9b5f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51847?repo=metabase/metabase&commitHash=7453f6ab043ebaad7036153f3532aa7609ca9b5f&utm_source=gh-comment&runConclusion=FAILURE&runId=1ab71944-229a-5842-bf3c-d5c4834548b1) |\n| <code>issue 34330 should only call the autocompleter with all text typed (metabase\\#34330)</code> | The \\`cy.wait()\\` command timed out waiting for the first request to the route \'autocomplete\' to occur, but no request was made. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51847?repo=metabase/metabase&commitHash=7453f6ab043ebaad7036153f3532aa7609ca9b5f&utm_source=gh-comment&runConclusion=FAILURE&runId=79472c31-19a0-5ed4-8f61-334213fa9e1d) |\n| <code>issue 34330 should call the autocompleter when backspacing to a 1-character prefix(metabase\\#34330)</code> | The \\`cy.wait()\\` command timed out waiting for the first request to the route \'autocomplete\', but no request was made. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51847?repo=metabase/metabase&commitHash=7453f6ab043ebaad7036153f3532aa7609ca9b5f&utm_source=gh-comment&runConclusion=FAILURE&runId=a646e631-09a3-515b-8fd7-ef5f358ee772) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51847?repo=metabase/metabase&commitHash=7453f6ab043ebaad7036153f3532aa7609ca9b5f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 8, 11, 45, 1, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-08 11:45:01 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51957_tests-7453f6ab-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51847?repo=metabase/metabase&commitHash=7453f6ab043ebaad7036153f3532aa7609ca9b5f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51847?repo=metabase/metabase&commitHash=7453f6ab043ebaad7036153f3532aa7609ca9b5f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51847?repo=metabase/metabase&commitHash=7453f6ab043ebaad7036153f3532aa7609ca9b5f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51847?repo=metabase/metabase&commitHash=7453f6ab043ebaad7036153f3532aa7609ca9b5f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51847?repo=metabase/metabase&commitHash=7453f6ab043ebaad7036153f3532aa7609ca9b5f&utm_source=gh-comment&runConclusion=FAILURE&runId=1ab71944-229a-5842-bf3c-d5c4834548b1) |
| <code>issue 34330 should only call the autocompleter with all text typed (metabase\#34330)</code> | The \`cy.wait()\` command timed out waiting for the first request to the route 'autocomplete' to occur, but no request was made. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51847?repo=metabase/metabase&commitHash=7453f6ab043ebaad7036153f3532aa7609ca9b5f&utm_source=gh-comment&runConclusion=FAILURE&runId=79472c31-19a0-5ed4-8f61-334213fa9e1d) |
| <code>issue 34330 should call the autocompleter when backspacing to a 1-character prefix(metabase\#34330)</code> | The \`cy.wait()\` command timed out waiting for the first request to the route 'autocomplete', but no request was made. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51847?repo=metabase/metabase&commitHash=7453f6ab043ebaad7036153f3532aa7609ca9b5f&utm_source=gh-comment&runConclusion=FAILURE&runId=a646e631-09a3-515b-8fd7-ef5f358ee772) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51847?repo=metabase/metabase&commitHash=7453f6ab043ebaad7036153f3532aa7609ca9b5f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2774647229,pull_request,closed,,"ü§ñ backported ""chore(e2e): create helpers for viz settings and viz type buttons""","  #51674
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-08 08:24:47+00:00,"['uladzimirdev', 'github-automation-metabase']",2025-01-08 18:59:01+00:00,2025-01-08 18:58:59+00:00,https://github.com/metabase/metabase/pull/51844,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2577158245, 'issue_id': 2774647229, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3412_tests-7a965843-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51844?repo=metabase/metabase&commitHash=7a9658435d5fca90c05c5e200a7d173fe6539c30&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51844?repo=metabase/metabase&commitHash=7a9658435d5fca90c05c5e200a7d173fe6539c30&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51844?repo=metabase/metabase&commitHash=7a9658435d5fca90c05c5e200a7d173fe6539c30&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51844?repo=metabase/metabase&commitHash=7a9658435d5fca90c05c5e200a7d173fe6539c30&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51844?repo=metabase/metabase&commitHash=7a9658435d5fca90c05c5e200a7d173fe6539c30&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 8, 9, 10, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577642585, 'issue_id': 2774647229, 'author': 'filiphric', 'body': 'I‚Äôm having really hard time finding justification for this change. I think did not really improve the test suite, in fact I‚Äôd argue the exact opposite. Making an abstraction for a simple ""select and click"" action is unnecessary. I know the argument for these kinds of abstractions is that once something changes, we only have to make change in one place instead of 95 others, but that‚Äôs a poor argument.\r\n\r\nThere are couple of problems:\r\n- as I pointed out [here](https://metaboat.slack.com/archives/C0669P4AF9N/p1735661009926409),  whenever we are creating a helper, we are bloating each individual spec, adding more and more wait time \r\n- instead of finding the selector on page and making the test readable, we are creating an abstraction that developer has to know about when they want to write a new test. devs should find selector on the app that they are testing and not in the helpers folder\r\n- if in the future we decide to edit this helper because of flakiness or some other problem in a single test, we are essentially affecting 95 other test without direct knowledge. if another helper uses this helper method, we are affecting the whole test suite\r\n- there are many cases where we have a helper that was created some time ago, but as time went by, new tests are not using it, because developers don‚Äôt remember to do so (and even if they did, it would be impossible to find it)\r\n\r\nIt‚Äôs probably worth having a discussion on this helper approach altogether. In my opinion this creates more problems than it solves. We had a discussion with @iethree yesterday, but I‚Äôd love to open this with wider team\r\n\r\nEDIT: I just realized I‚Äôm very late with this comment as this is now travelling to release branch but I still think we should discuss this', 'created_at': datetime.datetime(2025, 1, 8, 13, 13, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577755285, 'issue_id': 2774647229, 'author': 'uladzimirdev', 'body': ""@filiphric problems you're describing are very well known and were discussed multiple times. But with you with a fresh mind we can iterate over it again. I personally don't like useless abstractions. At the same time I did this specific change to simplify main refactoring and reduce the size of the diff, if I changed 30 files in another PR, it would be really hard to follow."", 'created_at': datetime.datetime(2025, 1, 8, 14, 5, 23, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-08 09:10:36 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3412_tests-7a965843-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51844?repo=metabase/metabase&commitHash=7a9658435d5fca90c05c5e200a7d173fe6539c30&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51844?repo=metabase/metabase&commitHash=7a9658435d5fca90c05c5e200a7d173fe6539c30&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51844?repo=metabase/metabase&commitHash=7a9658435d5fca90c05c5e200a7d173fe6539c30&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51844?repo=metabase/metabase&commitHash=7a9658435d5fca90c05c5e200a7d173fe6539c30&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51844?repo=metabase/metabase&commitHash=7a9658435d5fca90c05c5e200a7d173fe6539c30&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

filiphric on (2025-01-08 13:13:12 UTC): I‚Äôm having really hard time finding justification for this change. I think did not really improve the test suite, in fact I‚Äôd argue the exact opposite. Making an abstraction for a simple ""select and click"" action is unnecessary. I know the argument for these kinds of abstractions is that once something changes, we only have to make change in one place instead of 95 others, but that‚Äôs a poor argument.

There are couple of problems:
- as I pointed out [here](https://metaboat.slack.com/archives/C0669P4AF9N/p1735661009926409),  whenever we are creating a helper, we are bloating each individual spec, adding more and more wait time 
- instead of finding the selector on page and making the test readable, we are creating an abstraction that developer has to know about when they want to write a new test. devs should find selector on the app that they are testing and not in the helpers folder
- if in the future we decide to edit this helper because of flakiness or some other problem in a single test, we are essentially affecting 95 other test without direct knowledge. if another helper uses this helper method, we are affecting the whole test suite
- there are many cases where we have a helper that was created some time ago, but as time went by, new tests are not using it, because developers don‚Äôt remember to do so (and even if they did, it would be impossible to find it)

It‚Äôs probably worth having a discussion on this helper approach altogether. In my opinion this creates more problems than it solves. We had a discussion with @iethree yesterday, but I‚Äôd love to open this with wider team

EDIT: I just realized I‚Äôm very late with this comment as this is now travelling to release branch but I still think we should discuss this

uladzimirdev (Assginee) on (2025-01-08 14:05:23 UTC): @filiphric problems you're describing are very well known and were discussed multiple times. But with you with a fresh mind we can iterate over it again. I personally don't like useless abstractions. At the same time I did this specific change to simplify main refactoring and reduce the size of the diff, if I changed 30 files in another PR, it would be really hard to follow.

"
2774334714,pull_request,closed,,"ü§ñ backported ""Convert aggregation order-bys to reference by index instead of uuid before hashing""","  #51800
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-08 05:28:49+00:00,"['wzimrin', 'github-automation-metabase']",2025-01-10 17:19:18+00:00,2025-01-10 16:29:27+00:00,https://github.com/metabase/metabase/pull/51841,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2576838437, 'issue_id': 2774334714, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/130230_tests-faeaed94-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51841?repo=metabase/metabase&commitHash=faeaed94cd386546526a1a52cc4da579e3a67c55&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51841?repo=metabase/metabase&commitHash=faeaed94cd386546526a1a52cc4da579e3a67c55&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51841?repo=metabase/metabase&commitHash=faeaed94cd386546526a1a52cc4da579e3a67c55&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51841?repo=metabase/metabase&commitHash=faeaed94cd386546526a1a52cc4da579e3a67c55&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>extract-nested-efficient-test</code> | Expected and actual instances of Dashboard do not match. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51841?repo=metabase/metabase&commitHash=faeaed94cd386546526a1a52cc4da579e3a67c55&utm_source=gh-comment&runConclusion=FAILURE&runId=575306f4-bdb3-5815-8d93-478c014d098c) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51841?repo=metabase/metabase&commitHash=faeaed94cd386546526a1a52cc4da579e3a67c55&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 8, 6, 19, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-08 06:19:00 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/130230_tests-faeaed94-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51841?repo=metabase/metabase&commitHash=faeaed94cd386546526a1a52cc4da579e3a67c55&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51841?repo=metabase/metabase&commitHash=faeaed94cd386546526a1a52cc4da579e3a67c55&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51841?repo=metabase/metabase&commitHash=faeaed94cd386546526a1a52cc4da579e3a67c55&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51841?repo=metabase/metabase&commitHash=faeaed94cd386546526a1a52cc4da579e3a67c55&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>extract-nested-efficient-test</code> | Expected and actual instances of Dashboard do not match. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51841?repo=metabase/metabase&commitHash=faeaed94cd386546526a1a52cc4da579e3a67c55&utm_source=gh-comment&runConclusion=FAILURE&runId=575306f4-bdb3-5815-8d93-478c014d098c) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51841?repo=metabase/metabase&commitHash=faeaed94cd386546526a1a52cc4da579e3a67c55&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2773943892,pull_request,closed,,Correct docstring for series,Minor nitpicks on some endpoint docstrings,paoliniluis,2025-01-07 23:41:28+00:00,['paoliniluis'],2025-01-09 22:51:41+00:00,2025-01-09 22:15:35+00:00,https://github.com/metabase/metabase/pull/51840,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2576463977, 'issue_id': 2773943892, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/115984_tests-b0e694b6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51840?repo=metabase/metabase&commitHash=b0e694b6445712000f2a8226a87bcf37376923ac&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51840?repo=metabase/metabase&commitHash=b0e694b6445712000f2a8226a87bcf37376923ac&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51840?repo=metabase/metabase&commitHash=b0e694b6445712000f2a8226a87bcf37376923ac&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51840?repo=metabase/metabase&commitHash=b0e694b6445712000f2a8226a87bcf37376923ac&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51840?repo=metabase/metabase&commitHash=b0e694b6445712000f2a8226a87bcf37376923ac&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 8, 0, 16, 46, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-08 00:16:46 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/115984_tests-b0e694b6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51840?repo=metabase/metabase&commitHash=b0e694b6445712000f2a8226a87bcf37376923ac&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51840?repo=metabase/metabase&commitHash=b0e694b6445712000f2a8226a87bcf37376923ac&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51840?repo=metabase/metabase&commitHash=b0e694b6445712000f2a8226a87bcf37376923ac&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51840?repo=metabase/metabase&commitHash=b0e694b6445712000f2a8226a87bcf37376923ac&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51840?repo=metabase/metabase&commitHash=b0e694b6445712000f2a8226a87bcf37376923ac&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2773880356,pull_request,closed,,Don't truncate 'Generate Key' label,"Before:

<img width=""545"" alt=""image"" src=""https://github.com/user-attachments/assets/6bf3a494-ee25-4c11-b5db-788ec7d87a8e"" />


After:

<img width=""567"" alt=""image"" src=""https://github.com/user-attachments/assets/1a0c7ae1-a262-4251-a7d0-47e3519852c4"" />
",oisincoveney,2025-01-07 22:37:48+00:00,['oisincoveney'],2025-01-27 22:12:28+00:00,2025-01-08 00:11:33+00:00,https://github.com/metabase/metabase/pull/51838,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', '')]","[{'comment_id': 2576360677, 'issue_id': 2773880356, 'author': 'oisincoveney', 'body': 'This change is part of the following stack:\n\n- #51838 ‚óÄ\n\n<sub>Change managed by [git-spice](https://abhinav.github.io/git-spice/).</sub>\n<!-- gs:navigation comment -->', 'created_at': datetime.datetime(2025, 1, 7, 22, 37, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576425994, 'issue_id': 2773880356, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13182_tests-cd33f77a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51838?repo=metabase/metabase&commitHash=cd33f77adc357a3d512bdaab8d74721af480d095&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51838?repo=metabase/metabase&commitHash=cd33f77adc357a3d512bdaab8d74721af480d095&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51838?repo=metabase/metabase&commitHash=cd33f77adc357a3d512bdaab8d74721af480d095&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51838?repo=metabase/metabase&commitHash=cd33f77adc357a3d512bdaab8d74721af480d095&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 34330 should call the autocompleter when backspacing to a 1-character prefix(metabase\\#34330)</code> | The \\`cy.wait()\\` command timed out waiting for the first request to the route 'autocomplete', but no request was made. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51838?repo=metabase/metabase&commitHash=cd33f77adc357a3d512bdaab8d74721af480d095&utm_source=gh-comment&runConclusion=FAILURE&runId=b7f35985-3fa3-5da7-91a0-3051665ffa66) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51838?repo=metabase/metabase&commitHash=cd33f77adc357a3d512bdaab8d74721af480d095&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 7, 23, 35, 56, tzinfo=datetime.timezone.utc)}]","oisincoveney (Issue Creator) on (2025-01-07 22:37:50 UTC): This change is part of the following stack:

- #51838 ‚óÄ

<sub>Change managed by [git-spice](https://abhinav.github.io/git-spice/).</sub>
<!-- gs:navigation comment -->

trunk-io[bot] on (2025-01-07 23:35:56 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13182_tests-cd33f77a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51838?repo=metabase/metabase&commitHash=cd33f77adc357a3d512bdaab8d74721af480d095&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51838?repo=metabase/metabase&commitHash=cd33f77adc357a3d512bdaab8d74721af480d095&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51838?repo=metabase/metabase&commitHash=cd33f77adc357a3d512bdaab8d74721af480d095&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51838?repo=metabase/metabase&commitHash=cd33f77adc357a3d512bdaab8d74721af480d095&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 34330 should call the autocompleter when backspacing to a 1-character prefix(metabase\#34330)</code> | The \`cy.wait()\` command timed out waiting for the first request to the route 'autocomplete', but no request was made. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51838?repo=metabase/metabase&commitHash=cd33f77adc357a3d512bdaab8d74721af480d095&utm_source=gh-comment&runConclusion=FAILURE&runId=b7f35985-3fa3-5da7-91a0-3051665ffa66) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51838?repo=metabase/metabase&commitHash=cd33f77adc357a3d512bdaab8d74721af480d095&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2773829084,pull_request,closed,,Add rileythomp to team files,"### Description

Adds rileythomp to team files

Note: The whitespace changes are due to my editor auto-formatting, let me know if those changes should be reverted. 
",rileythomp,2025-01-07 22:02:30+00:00,['rileythomp'],2025-01-27 22:12:29+00:00,2025-01-07 22:19:43+00:00,https://github.com/metabase/metabase/pull/51837,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Drivers', '')]",[],
2773746510,pull_request,closed,,"ü§ñ backported ""Cache logins in e2e tests""",#51715,github-automation-metabase,2025-01-07 21:13:30+00:00,"['iethree', 'github-automation-metabase']",2025-01-07 22:43:42+00:00,2025-01-07 22:04:02+00:00,https://github.com/metabase/metabase/pull/51835,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2576296565, 'issue_id': 2773746510, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3411_tests-b8750a6d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51835?repo=metabase/metabase&commitHash=b8750a6d9c7195f35e2009c51d1d811c51680a41&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51835?repo=metabase/metabase&commitHash=b8750a6d9c7195f35e2009c51d1d811c51680a41&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51835?repo=metabase/metabase&commitHash=b8750a6d9c7195f35e2009c51d1d811c51680a41&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51835?repo=metabase/metabase&commitHash=b8750a6d9c7195f35e2009c51d1d811c51680a41&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 34330 should only call the autocompleter with all text typed (metabase\\#34330)</code> | The \\`cy.wait()\\` command timed out waiting for the first request to the route \\`autocomplete\\` to occur. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51835?repo=metabase/metabase&commitHash=b8750a6d9c7195f35e2009c51d1d811c51680a41&utm_source=gh-comment&runConclusion=FAILURE&runId=3cbed9bb-a832-5eba-b7dd-a7a0990bb846) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51835?repo=metabase/metabase&commitHash=b8750a6d9c7195f35e2009c51d1d811c51680a41&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 7, 21, 54, 46, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-07 21:54:46 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3411_tests-b8750a6d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51835?repo=metabase/metabase&commitHash=b8750a6d9c7195f35e2009c51d1d811c51680a41&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51835?repo=metabase/metabase&commitHash=b8750a6d9c7195f35e2009c51d1d811c51680a41&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51835?repo=metabase/metabase&commitHash=b8750a6d9c7195f35e2009c51d1d811c51680a41&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51835?repo=metabase/metabase&commitHash=b8750a6d9c7195f35e2009c51d1d811c51680a41&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 34330 should only call the autocompleter with all text typed (metabase\#34330)</code> | The \`cy.wait()\` command timed out waiting for the first request to the route \`autocomplete\` to occur. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51835?repo=metabase/metabase&commitHash=b8750a6d9c7195f35e2009c51d1d811c51680a41&utm_source=gh-comment&runConclusion=FAILURE&runId=3cbed9bb-a832-5eba-b7dd-a7a0990bb846) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51835?repo=metabase/metabase&commitHash=b8750a6d9c7195f35e2009c51d1d811c51680a41&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2773742392,pull_request,closed,,"ü§ñ backported ""Make JWT provider URI optional""",#51832,github-automation-metabase,2025-01-07 21:11:04+00:00,"['iethree', 'github-automation-metabase']",2025-01-07 23:48:25+00:00,2025-01-07 23:11:30+00:00,https://github.com/metabase/metabase/pull/51834,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2576290785, 'issue_id': 2773742392, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/132102_tests-42c34472-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51834?repo=metabase/metabase&commitHash=42c34472edd83ab470bcf7309dddb17ee674f194&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51834?repo=metabase/metabase&commitHash=42c34472edd83ab470bcf7309dddb17ee674f194&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51834?repo=metabase/metabase&commitHash=42c34472edd83ab470bcf7309dddb17ee674f194&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51834?repo=metabase/metabase&commitHash=42c34472edd83ab470bcf7309dddb17ee674f194&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:329:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\\#'sync.fingerprint/max-refingerp... | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51834?repo=metabase/metabase&commitHash=42c34472edd83ab470bcf7309dddb17ee674f194&utm_source=gh-comment&runConclusion=FAILURE&runId=6407cbf8-d182-5854-9c82-656c799ef46f) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51834?repo=metabase/metabase&commitHash=42c34472edd83ab470bcf7309dddb17ee674f194&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 7, 21, 50, 32, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-07 21:50:32 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/132102_tests-42c34472-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51834?repo=metabase/metabase&commitHash=42c34472edd83ab470bcf7309dddb17ee674f194&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51834?repo=metabase/metabase&commitHash=42c34472edd83ab470bcf7309dddb17ee674f194&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51834?repo=metabase/metabase&commitHash=42c34472edd83ab470bcf7309dddb17ee674f194&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51834?repo=metabase/metabase&commitHash=42c34472edd83ab470bcf7309dddb17ee674f194&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:329:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerp... | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51834?repo=metabase/metabase&commitHash=42c34472edd83ab470bcf7309dddb17ee674f194&utm_source=gh-comment&runConclusion=FAILURE&runId=6407cbf8-d182-5854-9c82-656c799ef46f) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51834?repo=metabase/metabase&commitHash=42c34472edd83ab470bcf7309dddb17ee674f194&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2773669289,pull_request,closed,,Make JWT provider URI optional,"Closes #51826 

Makes the JWT Provider UI setting optional to enable JWT auth, since we don't use that field for the embedding SDK

![Screen Shot 2025-01-07 at 1 09 24 PM](https://github.com/user-attachments/assets/ac052f8b-0aa8-4c2b-90ac-1033f7cc2014)
![Screen Shot 2025-01-07 at 12 57 49 PM](https://github.com/user-attachments/assets/b3f04183-c048-4930-8526-1e161edade6f)

- [x] Tested!",iethree,2025-01-07 20:23:04+00:00,['iethree'],2025-01-08 10:17:24+00:00,2025-01-07 21:10:10+00:00,https://github.com/metabase/metabase/pull/51832,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2576221741, 'issue_id': 2773669289, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/108710_tests-3be1f804-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51832?repo=metabase/metabase&commitHash=3be1f804f3d04ad0c513432b780983dd1b31292e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51832?repo=metabase/metabase&commitHash=3be1f804f3d04ad0c513432b780983dd1b31292e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51832?repo=metabase/metabase&commitHash=3be1f804f3d04ad0c513432b780983dd1b31292e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51832?repo=metabase/metabase&commitHash=3be1f804f3d04ad0c513432b780983dd1b31292e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51832?repo=metabase/metabase&commitHash=3be1f804f3d04ad0c513432b780983dd1b31292e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 7, 21, 7, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577305734, 'issue_id': 2773669289, 'author': 'tsmacdonald', 'body': 'Clojure looks flawless to me :+1:', 'created_at': datetime.datetime(2025, 1, 8, 10, 17, 22, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-07 21:07:22 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/108710_tests-3be1f804-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51832?repo=metabase/metabase&commitHash=3be1f804f3d04ad0c513432b780983dd1b31292e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51832?repo=metabase/metabase&commitHash=3be1f804f3d04ad0c513432b780983dd1b31292e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51832?repo=metabase/metabase&commitHash=3be1f804f3d04ad0c513432b780983dd1b31292e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51832?repo=metabase/metabase&commitHash=3be1f804f3d04ad0c513432b780983dd1b31292e&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51832?repo=metabase/metabase&commitHash=3be1f804f3d04ad0c513432b780983dd1b31292e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

tsmacdonald on (2025-01-08 10:17:22 UTC): Clojure looks flawless to me :+1:

"
2773650734,pull_request,closed,,"ü§ñ backported ""docs - relocate contributing file""",#51764,github-automation-metabase,2025-01-07 20:10:48+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2025-01-07 21:12:49+00:00,2025-01-07 20:13:07+00:00,https://github.com/metabase/metabase/pull/51831,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2576229482, 'issue_id': 2773650734, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/24_tests-c6110e37-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51831?repo=metabase/metabase&commitHash=c6110e37f4087eb0afc195a4e9fa7dcadb45a38d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51831?repo=metabase/metabase&commitHash=c6110e37f4087eb0afc195a4e9fa7dcadb45a38d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51831?repo=metabase/metabase&commitHash=c6110e37f4087eb0afc195a4e9fa7dcadb45a38d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51831?repo=metabase/metabase&commitHash=c6110e37f4087eb0afc195a4e9fa7dcadb45a38d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51831?repo=metabase/metabase&commitHash=c6110e37f4087eb0afc195a4e9fa7dcadb45a38d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 7, 21, 12, 48, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-07 21:12:48 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/24_tests-c6110e37-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51831?repo=metabase/metabase&commitHash=c6110e37f4087eb0afc195a4e9fa7dcadb45a38d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51831?repo=metabase/metabase&commitHash=c6110e37f4087eb0afc195a4e9fa7dcadb45a38d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51831?repo=metabase/metabase&commitHash=c6110e37f4087eb0afc195a4e9fa7dcadb45a38d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51831?repo=metabase/metabase&commitHash=c6110e37f4087eb0afc195a4e9fa7dcadb45a38d&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51831?repo=metabase/metabase&commitHash=c6110e37f4087eb0afc195a4e9fa7dcadb45a38d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2773629059,pull_request,closed,,"ü§ñ backported ""Convert ChartSettingFieldsPartition to mantine""",#51223,github-automation-metabase,2025-01-07 19:57:47+00:00,"['oisincoveney', 'github-automation-metabase']",2025-01-07 23:45:23+00:00,2025-01-07 22:50:12+00:00,https://github.com/metabase/metabase/pull/51827,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2576119514, 'issue_id': 2773629059, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 425b0d57aaaa8a58678ce12536f416097d315c0a...dea75da8ca35c1c094fb59b34a37aeaf5589163f.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/settings/ChartSettingFieldsPartition.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingFieldsPartition.styled.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingFieldsPartition.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingFieldsPartition.unit.spec.js<br>frontend/src/metabase/visualizations/lib/settings.js<br>frontend/src/metabase/visualizations/visualizations/PivotTable/partitions.tsx |', 'created_at': datetime.datetime(2025, 1, 7, 19, 59, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576191359, 'issue_id': 2773629059, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51459_tests-dea75da8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51827?repo=metabase/metabase&commitHash=dea75da8ca35c1c094fb59b34a37aeaf5589163f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51827?repo=metabase/metabase&commitHash=dea75da8ca35c1c094fb59b34a37aeaf5589163f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51827?repo=metabase/metabase&commitHash=dea75da8ca35c1c094fb59b34a37aeaf5589163f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51827?repo=metabase/metabase&commitHash=dea75da8ca35c1c094fb59b34a37aeaf5589163f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51827?repo=metabase/metabase&commitHash=dea75da8ca35c1c094fb59b34a37aeaf5589163f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 7, 20, 47, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576191368, 'issue_id': 2773629059, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51332_tests-6d7f8caa-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51827?repo=metabase/metabase&commitHash=6d7f8caa0284c554fec3f8c63a8a626317f4de3c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51827?repo=metabase/metabase&commitHash=6d7f8caa0284c554fec3f8c63a8a626317f4de3c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51827?repo=metabase/metabase&commitHash=6d7f8caa0284c554fec3f8c63a8a626317f4de3c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51827?repo=metabase/metabase&commitHash=6d7f8caa0284c554fec3f8c63a8a626317f4de3c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51827?repo=metabase/metabase&commitHash=6d7f8caa0284c554fec3f8c63a8a626317f4de3c&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 7, 20, 47, 17, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-07 19:59:38 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 425b0d57aaaa8a58678ce12536f416097d315c0a...dea75da8ca35c1c094fb59b34a37aeaf5589163f.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/settings/ChartSettingFieldsPartition.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingFieldsPartition.styled.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingFieldsPartition.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingFieldsPartition.unit.spec.js<br>frontend/src/metabase/visualizations/lib/settings.js<br>frontend/src/metabase/visualizations/visualizations/PivotTable/partitions.tsx |

trunk-io[bot] on (2025-01-07 20:47:17 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51459_tests-dea75da8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51827?repo=metabase/metabase&commitHash=dea75da8ca35c1c094fb59b34a37aeaf5589163f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51827?repo=metabase/metabase&commitHash=dea75da8ca35c1c094fb59b34a37aeaf5589163f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51827?repo=metabase/metabase&commitHash=dea75da8ca35c1c094fb59b34a37aeaf5589163f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51827?repo=metabase/metabase&commitHash=dea75da8ca35c1c094fb59b34a37aeaf5589163f&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51827?repo=metabase/metabase&commitHash=dea75da8ca35c1c094fb59b34a37aeaf5589163f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2025-01-07 20:47:17 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51332_tests-6d7f8caa-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51827?repo=metabase/metabase&commitHash=6d7f8caa0284c554fec3f8c63a8a626317f4de3c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51827?repo=metabase/metabase&commitHash=6d7f8caa0284c554fec3f8c63a8a626317f4de3c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51827?repo=metabase/metabase&commitHash=6d7f8caa0284c554fec3f8c63a8a626317f4de3c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51827?repo=metabase/metabase&commitHash=6d7f8caa0284c554fec3f8c63a8a626317f4de3c&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51827?repo=metabase/metabase&commitHash=6d7f8caa0284c554fec3f8c63a8a626317f4de3c&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2773545672,pull_request,closed,,"ü§ñ backported ""Small a11y improvements""",#51577,github-automation-metabase,2025-01-07 19:07:27+00:00,"['rafpaf', 'github-automation-metabase']",2025-01-07 20:39:47+00:00,2025-01-07 19:49:13+00:00,https://github.com/metabase/metabase/pull/51825,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2576032970, 'issue_id': 2773545672, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 0368036c27ff32ecf9d05ee4e71f280d9d7933a3...d050a12ab9062a042af54ff308e77dcaca679eef.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/legend/LegendLabel.module.css |', 'created_at': datetime.datetime(2025, 1, 7, 19, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576101696, 'issue_id': 2773545672, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51459_tests-d050a12a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51825?repo=metabase/metabase&commitHash=d050a12ab9062a042af54ff308e77dcaca679eef&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51825?repo=metabase/metabase&commitHash=d050a12ab9062a042af54ff308e77dcaca679eef&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51825?repo=metabase/metabase&commitHash=d050a12ab9062a042af54ff308e77dcaca679eef&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51825?repo=metabase/metabase&commitHash=d050a12ab9062a042af54ff308e77dcaca679eef&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51825?repo=metabase/metabase&commitHash=d050a12ab9062a042af54ff308e77dcaca679eef&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 7, 19, 48, 18, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-07 19:09:00 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 0368036c27ff32ecf9d05ee4e71f280d9d7933a3...d050a12ab9062a042af54ff308e77dcaca679eef.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/legend/LegendLabel.module.css |

trunk-io[bot] on (2025-01-07 19:48:18 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51459_tests-d050a12a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51825?repo=metabase/metabase&commitHash=d050a12ab9062a042af54ff308e77dcaca679eef&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51825?repo=metabase/metabase&commitHash=d050a12ab9062a042af54ff308e77dcaca679eef&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51825?repo=metabase/metabase&commitHash=d050a12ab9062a042af54ff308e77dcaca679eef&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51825?repo=metabase/metabase&commitHash=d050a12ab9062a042af54ff308e77dcaca679eef&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51825?repo=metabase/metabase&commitHash=d050a12ab9062a042af54ff308e77dcaca679eef&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2773518331,pull_request,closed,,"ü§ñ backported ""docs - note on bigquery structs""",#51822,github-automation-metabase,2025-01-07 18:50:28+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2025-01-07 19:56:59+00:00,2025-01-07 18:52:41+00:00,https://github.com/metabase/metabase/pull/51824,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2576115392, 'issue_id': 2773518331, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/24_tests-a2fa78a7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51824?repo=metabase/metabase&commitHash=a2fa78a735371bf5ae37a9dbf4cbac390a140030&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51824?repo=metabase/metabase&commitHash=a2fa78a735371bf5ae37a9dbf4cbac390a140030&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51824?repo=metabase/metabase&commitHash=a2fa78a735371bf5ae37a9dbf4cbac390a140030&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51824?repo=metabase/metabase&commitHash=a2fa78a735371bf5ae37a9dbf4cbac390a140030&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51824?repo=metabase/metabase&commitHash=a2fa78a735371bf5ae37a9dbf4cbac390a140030&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 7, 19, 56, 58, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-07 19:56:58 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/24_tests-a2fa78a7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51824?repo=metabase/metabase&commitHash=a2fa78a735371bf5ae37a9dbf4cbac390a140030&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51824?repo=metabase/metabase&commitHash=a2fa78a735371bf5ae37a9dbf4cbac390a140030&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51824?repo=metabase/metabase&commitHash=a2fa78a735371bf5ae37a9dbf4cbac390a140030&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51824?repo=metabase/metabase&commitHash=a2fa78a735371bf5ae37a9dbf4cbac390a140030&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51824?repo=metabase/metabase&commitHash=a2fa78a735371bf5ae37a9dbf4cbac390a140030&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2773507241,pull_request,closed,,Hide preemptive caching toggle for root config,"Quick fix for an issue noticed by Arakaki ‚Äì¬†we only want to show the preemptive caching toggle for questions and dashboards, which I was previously doing by checking that `targetModel` isn't `database`. But `targetModel` is `root` for the ""Default policy"" config. So I've flipped the check around to make it more explicit, and added extra test cases.",noahmoss,2025-01-07 18:44:44+00:00,['noahmoss'],2025-01-27 22:12:29+00:00,2025-01-07 20:26:15+00:00,https://github.com/metabase/metabase/pull/51823,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2575994490, 'issue_id': 2773507241, 'author': 'noahmoss', 'body': '* **#51823** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51823?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51823?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 7, 18, 45, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576049197, 'issue_id': 2773507241, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13181_tests-d49cf2d2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51823?repo=metabase/metabase&commitHash=d49cf2d2c7bb5b09de946cb2b1d34cdf79a6ac38&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51823?repo=metabase/metabase&commitHash=d49cf2d2c7bb5b09de946cb2b1d34cdf79a6ac38&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51823?repo=metabase/metabase&commitHash=d49cf2d2c7bb5b09de946cb2b1d34cdf79a6ac38&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51823?repo=metabase/metabase&commitHash=d49cf2d2c7bb5b09de946cb2b1d34cdf79a6ac38&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\\#37726)</code> | The test timed out while trying to find an element with the text ""Product ‚Üí Category"" in the UI. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51823?repo=metabase/metabase&commitHash=d49cf2d2c7bb5b09de946cb2b1d34cdf79a6ac38&utm_source=gh-comment&runConclusion=FAILURE&runId=72f97598-d717-58af-864f-71390db62ef7) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51823?repo=metabase/metabase&commitHash=d49cf2d2c7bb5b09de946cb2b1d34cdf79a6ac38&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 7, 19, 18, 38, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2025-01-07 18:45:09 UTC): * **#51823** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51823?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51823?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2025-01-07 19:18:38 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13181_tests-d49cf2d2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51823?repo=metabase/metabase&commitHash=d49cf2d2c7bb5b09de946cb2b1d34cdf79a6ac38&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51823?repo=metabase/metabase&commitHash=d49cf2d2c7bb5b09de946cb2b1d34cdf79a6ac38&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51823?repo=metabase/metabase&commitHash=d49cf2d2c7bb5b09de946cb2b1d34cdf79a6ac38&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51823?repo=metabase/metabase&commitHash=d49cf2d2c7bb5b09de946cb2b1d34cdf79a6ac38&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\#37726)</code> | The test timed out while trying to find an element with the text ""Product ‚Üí Category"" in the UI. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51823?repo=metabase/metabase&commitHash=d49cf2d2c7bb5b09de946cb2b1d34cdf79a6ac38&utm_source=gh-comment&runConclusion=FAILURE&runId=72f97598-d717-58af-864f-71390db62ef7) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51823?repo=metabase/metabase&commitHash=d49cf2d2c7bb5b09de946cb2b1d34cdf79a6ac38&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2773451065,pull_request,closed,,docs - note on bigquery structs,"Clarifies support for nested fields in BigQuery.

Context: https://metaboat.slack.com/archives/C01R1JY03J4/p1736183127717349",jeff-bruemmer,2025-01-07 18:09:35+00:00,['jeff-bruemmer'],2025-01-07 18:53:08+00:00,2025-01-07 18:49:01+00:00,https://github.com/metabase/metabase/pull/51822,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2773400638,pull_request,closed,,"ü§ñ backported ""docs - mb-disable-scheduler""",#51812,github-automation-metabase,2025-01-07 17:39:13+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2025-01-07 19:15:53+00:00,2025-01-07 18:13:28+00:00,https://github.com/metabase/metabase/pull/51820,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2575959776, 'issue_id': 2773400638, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120203_tests-e8b75f80-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51820?repo=metabase/metabase&commitHash=e8b75f8038b299f2a9c5cbc7894e0a2c4a724e5f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51820?repo=metabase/metabase&commitHash=e8b75f8038b299f2a9c5cbc7894e0a2c4a724e5f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51820?repo=metabase/metabase&commitHash=e8b75f8038b299f2a9c5cbc7894e0a2c4a724e5f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51820?repo=metabase/metabase&commitHash=e8b75f8038b299f2a9c5cbc7894e0a2c4a724e5f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51820?repo=metabase/metabase&commitHash=e8b75f8038b299f2a9c5cbc7894e0a2c4a724e5f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 7, 18, 23, 51, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-07 18:23:51 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120203_tests-e8b75f80-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51820?repo=metabase/metabase&commitHash=e8b75f8038b299f2a9c5cbc7894e0a2c4a724e5f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51820?repo=metabase/metabase&commitHash=e8b75f8038b299f2a9c5cbc7894e0a2c4a724e5f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51820?repo=metabase/metabase&commitHash=e8b75f8038b299f2a9c5cbc7894e0a2c4a724e5f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51820?repo=metabase/metabase&commitHash=e8b75f8038b299f2a9c5cbc7894e0a2c4a724e5f&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51820?repo=metabase/metabase&commitHash=e8b75f8038b299f2a9c5cbc7894e0a2c4a724e5f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2773387497,pull_request,closed,,"ü§ñ backported ""docs - add enterprise-only key to SDK blockquote""",#51815,github-automation-metabase,2025-01-07 17:31:26+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2025-01-08 15:12:51+00:00,2025-01-08 14:01:00+00:00,https://github.com/metabase/metabase/pull/51819,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2577917618, 'issue_id': 2773387497, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/24_tests-42152b2f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51819?repo=metabase/metabase&commitHash=42152b2f45c54f8d76e73ea90f96f5dcf6b3ce1b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51819?repo=metabase/metabase&commitHash=42152b2f45c54f8d76e73ea90f96f5dcf6b3ce1b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51819?repo=metabase/metabase&commitHash=42152b2f45c54f8d76e73ea90f96f5dcf6b3ce1b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51819?repo=metabase/metabase&commitHash=42152b2f45c54f8d76e73ea90f96f5dcf6b3ce1b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51819?repo=metabase/metabase&commitHash=42152b2f45c54f8d76e73ea90f96f5dcf6b3ce1b&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 8, 15, 12, 49, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-08 15:12:49 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/24_tests-42152b2f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51819?repo=metabase/metabase&commitHash=42152b2f45c54f8d76e73ea90f96f5dcf6b3ce1b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51819?repo=metabase/metabase&commitHash=42152b2f45c54f8d76e73ea90f96f5dcf6b3ce1b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51819?repo=metabase/metabase&commitHash=42152b2f45c54f8d76e73ea90f96f5dcf6b3ce1b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51819?repo=metabase/metabase&commitHash=42152b2f45c54f8d76e73ea90f96f5dcf6b3ce1b&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51819?repo=metabase/metabase&commitHash=42152b2f45c54f8d76e73ea90f96f5dcf6b3ce1b&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2773380160,pull_request,closed,,fix parameter placeholder encoding on iframe urls,"### Description

[Slack report](https://metaboat.slack.com/archives/C064QMXEV9N/p1736264341622549)

For iframe cards we replace sharing with embedding urls for services like Loom. However, when doing so, `new URL(...).toString();` was used which encoded the url. This broke parameters as placeholders `{{id}}` were replaced with `%7B%7Bid%7D%7D`

### How to verify

- New Dashboard
- Add an iframe dashboard card, enter `https://www.loom.com/share/{{id}}` to it
- Add a parameter, ensure you can attach it to the card
- Ensure parameter values are used to construct the url

### Demo

Edit mode
<img width=""569"" alt=""Screenshot 2025-01-07 at 4 02 25‚ÄØPM"" src=""https://github.com/user-attachments/assets/41069f77-e270-4f38-9cc4-011bb35248f5"" />

View mode
<img width=""672"" alt=""Screenshot 2025-01-07 at 4 02 01‚ÄØPM"" src=""https://github.com/user-attachments/assets/da4621bc-cc17-41b8-9555-5427b03e31ee"" />

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",alxnddr,2025-01-07 17:26:59+00:00,['alxnddr'],2025-01-27 22:12:26+00:00,2025-01-08 14:37:07+00:00,https://github.com/metabase/metabase/pull/51818,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2576386185, 'issue_id': 2773380160, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51962_tests-8267883b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51818?repo=metabase/metabase&commitHash=8267883b63cc268f4fb98b81dc35cde2a15ad836&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51818?repo=metabase/metabase&commitHash=8267883b63cc268f4fb98b81dc35cde2a15ad836&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51818?repo=metabase/metabase&commitHash=8267883b63cc268f4fb98b81dc35cde2a15ad836&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51818?repo=metabase/metabase&commitHash=8267883b63cc268f4fb98b81dc35cde2a15ad836&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 34330 should call the autocompleter when backspacing to a 1-character prefix(metabase\\#34330)</code> | The \\`cy.wait()\\` command timed out waiting for the first request to the route 'autocomplete', but no request was made. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51818?repo=metabase/metabase&commitHash=8267883b63cc268f4fb98b81dc35cde2a15ad836&utm_source=gh-comment&runConclusion=FAILURE&runId=8cd9be34-7f4f-5e33-ac8c-9a04e6c616e9) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51818?repo=metabase/metabase&commitHash=8267883b63cc268f4fb98b81dc35cde2a15ad836&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 7, 22, 57, 34, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-07 22:57:34 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51962_tests-8267883b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51818?repo=metabase/metabase&commitHash=8267883b63cc268f4fb98b81dc35cde2a15ad836&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51818?repo=metabase/metabase&commitHash=8267883b63cc268f4fb98b81dc35cde2a15ad836&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51818?repo=metabase/metabase&commitHash=8267883b63cc268f4fb98b81dc35cde2a15ad836&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51818?repo=metabase/metabase&commitHash=8267883b63cc268f4fb98b81dc35cde2a15ad836&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 34330 should call the autocompleter when backspacing to a 1-character prefix(metabase\#34330)</code> | The \`cy.wait()\` command timed out waiting for the first request to the route 'autocomplete', but no request was made. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51818?repo=metabase/metabase&commitHash=8267883b63cc268f4fb98b81dc35cde2a15ad836&utm_source=gh-comment&runConclusion=FAILURE&runId=8cd9be34-7f4f-5e33-ac8c-9a04e6c616e9) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51818?repo=metabase/metabase&commitHash=8267883b63cc268f4fb98b81dc35cde2a15ad836&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2773359067,pull_request,closed,,[WIP] Native test fix 29786,Stress test https://github.com/metabase/metabase/actions/runs/12656102778,ranquild,2025-01-07 17:15:11+00:00,['ranquild'],2025-01-27 14:49:06+00:00,2025-01-27 14:49:01+00:00,https://github.com/metabase/metabase/pull/51817,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2575946052, 'issue_id': 2773359067, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3637_tests-0aec9735-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51817?repo=metabase/metabase&commitHash=0aec973554f2fb7c4b741a830050ba4b5e69575f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51817?repo=metabase/metabase&commitHash=0aec973554f2fb7c4b741a830050ba4b5e69575f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51817?repo=metabase/metabase&commitHash=0aec973554f2fb7c4b741a830050ba4b5e69575f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51817?repo=metabase/metabase&commitHash=0aec973554f2fb7c4b741a830050ba4b5e69575f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 29786 should allow using field filters with null schema (metabase\\#29786)</code> | Unable to find an element with the text ""Widget"" within the given time limit. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51817?repo=metabase/metabase&commitHash=0aec973554f2fb7c4b741a830050ba4b5e69575f&utm_source=gh-comment&runConclusion=FAILURE&runId=4be5ed3e-8503-50d6-bca3-a79051b0e120) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51817?repo=metabase/metabase&commitHash=0aec973554f2fb7c4b741a830050ba4b5e69575f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 7, 18, 15, 44, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-07 18:15:44 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3637_tests-0aec9735-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51817?repo=metabase/metabase&commitHash=0aec973554f2fb7c4b741a830050ba4b5e69575f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51817?repo=metabase/metabase&commitHash=0aec973554f2fb7c4b741a830050ba4b5e69575f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51817?repo=metabase/metabase&commitHash=0aec973554f2fb7c4b741a830050ba4b5e69575f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51817?repo=metabase/metabase&commitHash=0aec973554f2fb7c4b741a830050ba4b5e69575f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 29786 should allow using field filters with null schema (metabase\#29786)</code> | Unable to find an element with the text ""Widget"" within the given time limit. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51817?repo=metabase/metabase&commitHash=0aec973554f2fb7c4b741a830050ba4b5e69575f&utm_source=gh-comment&runConclusion=FAILURE&runId=4be5ed3e-8503-50d6-bca3-a79051b0e120) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51817?repo=metabase/metabase&commitHash=0aec973554f2fb7c4b741a830050ba4b5e69575f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2773202938,pull_request,closed,,Create serialization users as inactive,"Ensure auto-created users during serialization load have `:is_active false`

Closes https://github.com/metabase/metabase/issues/51801",noahmoss,2025-01-07 16:05:28+00:00,['noahmoss'],2025-01-08 15:50:43+00:00,2025-01-08 15:50:43+00:00,https://github.com/metabase/metabase/pull/51816,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2575667417, 'issue_id': 2773202938, 'author': 'noahmoss', 'body': '* **#51816** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51816?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51816?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 7, 16, 5, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575771526, 'issue_id': 2773202938, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/101976_tests-f44b7e43-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51816?repo=metabase/metabase&commitHash=f44b7e43434c5840907bac66990bdb14717fbdf8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51816?repo=metabase/metabase&commitHash=f44b7e43434c5840907bac66990bdb14717fbdf8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51816?repo=metabase/metabase&commitHash=f44b7e43434c5840907bac66990bdb14717fbdf8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51816?repo=metabase/metabase&commitHash=f44b7e43434c5840907bac66990bdb14717fbdf8&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they were missing. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51816?repo=metabase/metabase&commitHash=f44b7e43434c5840907bac66990bdb14717fbdf8&utm_source=gh-comment&runConclusion=FAILURE&runId=e07e6f59-9d9c-56c0-9a3a-3f26a0224d4f) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51816?repo=metabase/metabase&commitHash=f44b7e43434c5840907bac66990bdb14717fbdf8&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 7, 16, 46, 7, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2025-01-07 16:05:47 UTC): * **#51816** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51816?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51816?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2025-01-07 16:46:07 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/101976_tests-f44b7e43-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51816?repo=metabase/metabase&commitHash=f44b7e43434c5840907bac66990bdb14717fbdf8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51816?repo=metabase/metabase&commitHash=f44b7e43434c5840907bac66990bdb14717fbdf8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51816?repo=metabase/metabase&commitHash=f44b7e43434c5840907bac66990bdb14717fbdf8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51816?repo=metabase/metabase&commitHash=f44b7e43434c5840907bac66990bdb14717fbdf8&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they were missing. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51816?repo=metabase/metabase&commitHash=f44b7e43434c5840907bac66990bdb14717fbdf8&utm_source=gh-comment&runConclusion=FAILURE&runId=e07e6f59-9d9c-56c0-9a3a-3f26a0224d4f) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51816?repo=metabase/metabase&commitHash=f44b7e43434c5840907bac66990bdb14717fbdf8&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2773117014,pull_request,closed,,docs - add enterprise-only key to SDK blockquote,"Like it says on the tin.

Context: https://metaboat.slack.com/archives/C021BPRNNBT/p1736171894496769.",jeff-bruemmer,2025-01-07 15:27:14+00:00,['jeff-bruemmer'],2025-01-08 14:01:26+00:00,2025-01-07 17:30:30+00:00,https://github.com/metabase/metabase/pull/51815,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2773105682,pull_request,closed,,"ü§ñ backported ""Handle exception in rollback better""",#51675,github-automation-metabase,2025-01-07 15:21:58+00:00,"['nvoxland', 'github-automation-metabase']",2025-01-07 16:45:35+00:00,2025-01-07 16:01:41+00:00,https://github.com/metabase/metabase/pull/51814,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2575699358, 'issue_id': 2773105682, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120210_tests-9591d1e6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51814?repo=metabase/metabase&commitHash=9591d1e60306aa654e83d2111d7859fe1fc2b6f4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51814?repo=metabase/metabase&commitHash=9591d1e60306aa654e83d2111d7859fe1fc2b6f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51814?repo=metabase/metabase&commitHash=9591d1e60306aa654e83d2111d7859fe1fc2b6f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51814?repo=metabase/metabase&commitHash=9591d1e60306aa654e83d2111d7859fe1fc2b6f4&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>describe-view-fields</code> | The expected and actual values of non-view-fields and view-fields are not equal. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51814?repo=metabase/metabase&commitHash=9591d1e60306aa654e83d2111d7859fe1fc2b6f4&utm_source=gh-comment&runConclusion=FAILURE&runId=196f4030-8a75-5b0b-ab32-5e42caac49b7) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51814?repo=metabase/metabase&commitHash=9591d1e60306aa654e83d2111d7859fe1fc2b6f4&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 7, 16, 17, 2, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-07 16:17:02 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120210_tests-9591d1e6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51814?repo=metabase/metabase&commitHash=9591d1e60306aa654e83d2111d7859fe1fc2b6f4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51814?repo=metabase/metabase&commitHash=9591d1e60306aa654e83d2111d7859fe1fc2b6f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51814?repo=metabase/metabase&commitHash=9591d1e60306aa654e83d2111d7859fe1fc2b6f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51814?repo=metabase/metabase&commitHash=9591d1e60306aa654e83d2111d7859fe1fc2b6f4&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>describe-view-fields</code> | The expected and actual values of non-view-fields and view-fields are not equal. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51814?repo=metabase/metabase&commitHash=9591d1e60306aa654e83d2111d7859fe1fc2b6f4&utm_source=gh-comment&runConclusion=FAILURE&runId=196f4030-8a75-5b0b-ab32-5e42caac49b7) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51814?repo=metabase/metabase&commitHash=9591d1e60306aa654e83d2111d7859fe1fc2b6f4&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2773019293,pull_request,closed,,docs - mb-disable-scheduler,"Adds entry for the `MB_DISABLE_SCHEDULER` environment variable. This env var isn't set up as a `defsetting`, hence it's added to the other env vars doc.

Closes https://github.com/metabase/metabase/issues/38746",jeff-bruemmer,2025-01-07 14:44:39+00:00,['jeff-bruemmer'],2025-01-07 17:45:35+00:00,2025-01-07 17:38:18+00:00,https://github.com/metabase/metabase/pull/51812,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2575545994, 'issue_id': 2773019293, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/84688_tests-69a9a83d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51812?repo=metabase/metabase&commitHash=69a9a83d640c4c88f054ab5b0bec67d3ecf9d3dd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51812?repo=metabase/metabase&commitHash=69a9a83d640c4c88f054ab5b0bec67d3ecf9d3dd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51812?repo=metabase/metabase&commitHash=69a9a83d640c4c88f054ab5b0bec67d3ecf9d3dd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51812?repo=metabase/metabase&commitHash=69a9a83d640c4c88f054ab5b0bec67d3ecf9d3dd&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\\#37726)</code> | The test timed out while trying to find an element with the text ""Product ‚Üí Category"" in the UI. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51812?repo=metabase/metabase&commitHash=69a9a83d640c4c88f054ab5b0bec67d3ecf9d3dd&utm_source=gh-comment&runConclusion=FAILURE&runId=7b65dca8-193b-5b38-967e-fe549113dce4) |\n| <code>order-by-test</code> | The query result set was closed, preventing further processing. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51812?repo=metabase/metabase&commitHash=69a9a83d640c4c88f054ab5b0bec67d3ecf9d3dd&utm_source=gh-comment&runConclusion=FAILURE&runId=7bdff563-7bc8-570c-8db3-25c66b455c75) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51812?repo=metabase/metabase&commitHash=69a9a83d640c4c88f054ab5b0bec67d3ecf9d3dd&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 7, 15, 14, 3, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-07 15:14:03 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/84688_tests-69a9a83d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51812?repo=metabase/metabase&commitHash=69a9a83d640c4c88f054ab5b0bec67d3ecf9d3dd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51812?repo=metabase/metabase&commitHash=69a9a83d640c4c88f054ab5b0bec67d3ecf9d3dd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51812?repo=metabase/metabase&commitHash=69a9a83d640c4c88f054ab5b0bec67d3ecf9d3dd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51812?repo=metabase/metabase&commitHash=69a9a83d640c4c88f054ab5b0bec67d3ecf9d3dd&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\#37726)</code> | The test timed out while trying to find an element with the text ""Product ‚Üí Category"" in the UI. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51812?repo=metabase/metabase&commitHash=69a9a83d640c4c88f054ab5b0bec67d3ecf9d3dd&utm_source=gh-comment&runConclusion=FAILURE&runId=7b65dca8-193b-5b38-967e-fe549113dce4) |
| <code>order-by-test</code> | The query result set was closed, preventing further processing. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51812?repo=metabase/metabase&commitHash=69a9a83d640c4c88f054ab5b0bec67d3ecf9d3dd&utm_source=gh-comment&runConclusion=FAILURE&runId=7bdff563-7bc8-570c-8db3-25c66b455c75) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51812?repo=metabase/metabase&commitHash=69a9a83d640c4c88f054ab5b0bec67d3ecf9d3dd&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2771898942,pull_request,open,,Fix using toucan2 with symbols,"this [thread](https://metaboat.slack.com/archives/C064EB1UE5P/p1735942983367769) reminded me that it's possible to use symbol for toucan models. So this PR is attempt to remove ""most"" of the usage. 

I've wrote a linter to detect these and fix it from there, the linter is not complete as it gives false positive results so I won't commit it (you can see it [here](https://github.com/metabase/metabase/pull/51809/commits/bd50f0ac26619ac07f6b94449c17dbe4502fedae))

Also made the resolver throw in dev if you use a symbol to stop people for using it in the future.",qnkhuat,2025-01-07 04:56:16+00:00,['qnkhuat'],2025-01-13 12:50:34+00:00,,https://github.com/metabase/metabase/pull/51809,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2574440325, 'issue_id': 2771898942, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/122442_tests-126f4738-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51809?repo=metabase/metabase&commitHash=126f47382ff47eb92b572a5c9a8e24ff15645234&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51809?repo=metabase/metabase&commitHash=126f47382ff47eb92b572a5c9a8e24ff15645234&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/8-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51809?repo=metabase/metabase&commitHash=126f47382ff47eb92b572a5c9a8e24ff15645234&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51809?repo=metabase/metabase&commitHash=126f47382ff47eb92b572a5c9a8e24ff15645234&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>revisions-can-be-created-concurrently</code> | The count of Revisions did not match the expected value, with 2 actual and 3 expected. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51809?repo=metabase/metabase&commitHash=126f47382ff47eb92b572a5c9a8e24ff15645234&utm_source=gh-comment&runConclusion=FAILURE&runId=d0ca5e74-3dee-505c-89fd-dc87329e6088) |\n| <code>revisions-can-be-created-concurrently</code> | The count of Revisions with a specific model\\_id did not match the expected value. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51809?repo=metabase/metabase&commitHash=126f47382ff47eb92b572a5c9a8e24ff15645234&utm_source=gh-comment&runConclusion=FAILURE&runId=0e519c03-3300-5000-9a95-c459cbba40cd) |\n| <code>xray-dashboards-work-test</code> | Unique index or primary key violation when inserting data into the database. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51809?repo=metabase/metabase&commitHash=126f47382ff47eb92b572a5c9a8e24ff15645234&utm_source=gh-comment&runConclusion=FAILURE&runId=35c0d9a6-2a74-5b18-8df4-5fffdad8fa42) |\n| <code>revisions-can-be-created-concurrently</code> | The count of Revisions did not match the expected value. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51809?repo=metabase/metabase&commitHash=126f47382ff47eb92b572a5c9a8e24ff15645234&utm_source=gh-comment&runConclusion=FAILURE&runId=06076b3d-ef0e-5587-b720-1ea6110536b6) |\n\n[... and 4 more](https://app.trunk.io/metabase/flaky-tests/pr/51809?repo=metabase/metabase&commitHash=126f47382ff47eb92b572a5c9a8e24ff15645234&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51809?repo=metabase/metabase&commitHash=126f47382ff47eb92b572a5c9a8e24ff15645234&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 7, 5, 47, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-07 05:47:00 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/122442_tests-126f4738-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51809?repo=metabase/metabase&commitHash=126f47382ff47eb92b572a5c9a8e24ff15645234&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51809?repo=metabase/metabase&commitHash=126f47382ff47eb92b572a5c9a8e24ff15645234&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/8-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51809?repo=metabase/metabase&commitHash=126f47382ff47eb92b572a5c9a8e24ff15645234&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51809?repo=metabase/metabase&commitHash=126f47382ff47eb92b572a5c9a8e24ff15645234&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>revisions-can-be-created-concurrently</code> | The count of Revisions did not match the expected value, with 2 actual and 3 expected. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51809?repo=metabase/metabase&commitHash=126f47382ff47eb92b572a5c9a8e24ff15645234&utm_source=gh-comment&runConclusion=FAILURE&runId=d0ca5e74-3dee-505c-89fd-dc87329e6088) |
| <code>revisions-can-be-created-concurrently</code> | The count of Revisions with a specific model\_id did not match the expected value. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51809?repo=metabase/metabase&commitHash=126f47382ff47eb92b572a5c9a8e24ff15645234&utm_source=gh-comment&runConclusion=FAILURE&runId=0e519c03-3300-5000-9a95-c459cbba40cd) |
| <code>xray-dashboards-work-test</code> | Unique index or primary key violation when inserting data into the database. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51809?repo=metabase/metabase&commitHash=126f47382ff47eb92b572a5c9a8e24ff15645234&utm_source=gh-comment&runConclusion=FAILURE&runId=35c0d9a6-2a74-5b18-8df4-5fffdad8fa42) |
| <code>revisions-can-be-created-concurrently</code> | The count of Revisions did not match the expected value. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51809?repo=metabase/metabase&commitHash=126f47382ff47eb92b572a5c9a8e24ff15645234&utm_source=gh-comment&runConclusion=FAILURE&runId=06076b3d-ef0e-5587-b720-1ea6110536b6) |

[... and 4 more](https://app.trunk.io/metabase/flaky-tests/pr/51809?repo=metabase/metabase&commitHash=126f47382ff47eb92b572a5c9a8e24ff15645234&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51809?repo=metabase/metabase&commitHash=126f47382ff47eb92b572a5c9a8e24ff15645234&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2771798609,pull_request,closed,,Consolidate numeric type system checks,"Epic https://github.com/metabase/metabase/issues/51799
Follow up for https://github.com/metabase/metabase/pull/51796
Related to https://github.com/metabase/metabase/issues/44431

Before:
- `isNumber` is `true` when the effective type is `type/Number` **and** either there is no semantic type or it's derived from `type/Number` as well. So for all PKs and FKs `isNumber` is false.
- `isNumeric` is `true` when the effective type is `type/Number` **or** the semantic type is `type/Number`. So `isNumeric` is true in more cases than `isNumber`.
- MySQL users rely on the fact that they can do numeric operations and aggregations with numbers stored as strings. We had several high priority bugs when we broke this behavior before, so we cannot drop this. MySQL users assign numeric semantic types for string fields to make Metabase use them as numbers. This whole hack works because of how `isNumeric` is implemented.

Now:
- Only one `isNumeric` function that works as before. MySQL hack is preserved.
- `isNumber` usages are replaced with `isNumeric`. PKs and FKs are ignored explicitly where needed. 

Unfortunately it's not possible to remove the hack from `isNumeric` without adding a coercion strategy, but we can at least have just 1 function.
",ranquild,2025-01-07 03:08:09+00:00,['ranquild'],2025-01-27 22:12:25+00:00,2025-01-08 14:57:34+00:00,https://github.com/metabase/metabase/pull/51808,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2574335581, 'issue_id': 2771798609, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/133675_tests-48ec273e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51808?repo=metabase/metabase&commitHash=48ec273e3bf27d5279acaf937ff57147cf3628d3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51808?repo=metabase/metabase&commitHash=48ec273e3bf27d5279acaf937ff57147cf3628d3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51808?repo=metabase/metabase&commitHash=48ec273e3bf27d5279acaf937ff57147cf3628d3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51808?repo=metabase/metabase&commitHash=48ec273e3bf27d5279acaf937ff57147cf3628d3&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51808?repo=metabase/metabase&commitHash=48ec273e3bf27d5279acaf937ff57147cf3628d3&utm_source=gh-comment&runConclusion=FAILURE&runId=a55b98e9-09ec-5b2a-bbef-0f33ec4c430b) |\n| <code>describe-view-fields</code> | The expected and actual values of non-view-fields and view-fields are not equal. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51808?repo=metabase/metabase&commitHash=48ec273e3bf27d5279acaf937ff57147cf3628d3&utm_source=gh-comment&runConclusion=FAILURE&runId=2ad161c7-aa10-5c2d-b5dd-fa94a09c6ea4) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51808?repo=metabase/metabase&commitHash=48ec273e3bf27d5279acaf937ff57147cf3628d3&utm_source=gh-comment&runConclusion=FAILURE&runId=604a3870-b90e-5f06-82c6-d9478e6d272b) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51808?repo=metabase/metabase&commitHash=48ec273e3bf27d5279acaf937ff57147cf3628d3&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 7, 3, 45, 5, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-07 03:45:05 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/133675_tests-48ec273e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51808?repo=metabase/metabase&commitHash=48ec273e3bf27d5279acaf937ff57147cf3628d3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51808?repo=metabase/metabase&commitHash=48ec273e3bf27d5279acaf937ff57147cf3628d3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51808?repo=metabase/metabase&commitHash=48ec273e3bf27d5279acaf937ff57147cf3628d3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51808?repo=metabase/metabase&commitHash=48ec273e3bf27d5279acaf937ff57147cf3628d3&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51808?repo=metabase/metabase&commitHash=48ec273e3bf27d5279acaf937ff57147cf3628d3&utm_source=gh-comment&runConclusion=FAILURE&runId=a55b98e9-09ec-5b2a-bbef-0f33ec4c430b) |
| <code>describe-view-fields</code> | The expected and actual values of non-view-fields and view-fields are not equal. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51808?repo=metabase/metabase&commitHash=48ec273e3bf27d5279acaf937ff57147cf3628d3&utm_source=gh-comment&runConclusion=FAILURE&runId=2ad161c7-aa10-5c2d-b5dd-fa94a09c6ea4) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51808?repo=metabase/metabase&commitHash=48ec273e3bf27d5279acaf937ff57147cf3628d3&utm_source=gh-comment&runConclusion=FAILURE&runId=604a3870-b90e-5f06-82c6-d9478e6d272b) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51808?repo=metabase/metabase&commitHash=48ec273e3bf27d5279acaf937ff57147cf3628d3&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2771763516,pull_request,closed,,Fix quick-filter drill thru for multi-stage queries,"### Description

Fix the quick-filter drill thru for queries with a filter stage after the aggregations.

Related to https://github.com/metabase/metabase/issues/46932

### How to verify

* New question: Orders
* summarize: Count by Created At: Month
* Add filter stage after summarize, e.g. Count > 1
* Visualize
* Select Table viz
* Click on a cell in the ""count"" column
* ""Filter by this value"" drill through should appear in the context menu
* Select the ""Filter by this value"" drill: should add a new filter for the value and should *not* append a new stage since one already exists after the aggregation.

### Demo

![Screenshot 2025-01-06 at 6 26 02‚ÄØPM](https://github.com/user-attachments/assets/3557dbd6-e395-43b9-a13c-ba7381fc945a)


### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",appleby,2025-01-07 02:26:45+00:00,['appleby'],2025-01-10 19:11:33+00:00,2025-01-10 18:08:01+00:00,https://github.com/metabase/metabase/pull/51807,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2574311230, 'issue_id': 2771763516, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/142799_tests-d9d34a0d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51807?repo=metabase/metabase&commitHash=d9d34a0decb2b5fa8f97aecdac1f78c18d69fb8d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51807?repo=metabase/metabase&commitHash=d9d34a0decb2b5fa8f97aecdac1f78c18d69fb8d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51807?repo=metabase/metabase&commitHash=d9d34a0decb2b5fa8f97aecdac1f78c18d69fb8d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51807?repo=metabase/metabase&commitHash=d9d34a0decb2b5fa8f97aecdac1f78c18d69fb8d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>extract-nested-efficient-test</code> | Expected and actual instances of Dashboard do not match. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51807?repo=metabase/metabase&commitHash=d9d34a0decb2b5fa8f97aecdac1f78c18d69fb8d&utm_source=gh-comment&runConclusion=FAILURE&runId=c3845132-31da-5aaf-ab74-3cd4ff591d5b) |\n| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | Unable to find an element with the text ""Filter by this value"" within 4 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51807?repo=metabase/metabase&commitHash=d9d34a0decb2b5fa8f97aecdac1f78c18d69fb8d&utm_source=gh-comment&runConclusion=FAILURE&runId=1211dc0e-3dec-5279-9447-5d67da89d663) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>xray-dashboards-work-test</code> | A deadlock was detected in the database, preventing the update of a record. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51807?repo=metabase/metabase&commitHash=d9d34a0decb2b5fa8f97aecdac1f78c18d69fb8d&utm_source=gh-comment&runConclusion=FAILURE&runId=13395d50-a25f-596e-a213-252be50ccb62) |\n| <code>xray-dashboards-work-test</code> | A deadlock was detected in the database, preventing a query from completing. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51807?repo=metabase/metabase&commitHash=d9d34a0decb2b5fa8f97aecdac1f78c18d69fb8d&utm_source=gh-comment&runConclusion=FAILURE&runId=4c0471a4-5aa3-56fb-b660-d55d0b84c3fc) |\n| <code>e2e-storage-ingestion-test</code> | Expected entity to match the expected value, but actual value was different. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51807?repo=metabase/metabase&commitHash=d9d34a0decb2b5fa8f97aecdac1f78c18d69fb8d&utm_source=gh-comment&runConclusion=FAILURE&runId=2aa8f8b4-a43a-53da-97c6-f52bb6a159c6) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51807?repo=metabase/metabase&commitHash=d9d34a0decb2b5fa8f97aecdac1f78c18d69fb8d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 7, 3, 15, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583548814, 'issue_id': 2771763516, 'author': 'appleby', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2025, 1, 10, 18, 41, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583661975, 'issue_id': 2771763516, 'author': 'github-actions[bot]', 'body': 'üöÄ This should also be released by [v0.52.6](https://github.com/metabase/metabase/milestone/298)', 'created_at': datetime.datetime(2025, 1, 10, 19, 11, 32, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-07 03:15:14 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/142799_tests-d9d34a0d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51807?repo=metabase/metabase&commitHash=d9d34a0decb2b5fa8f97aecdac1f78c18d69fb8d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51807?repo=metabase/metabase&commitHash=d9d34a0decb2b5fa8f97aecdac1f78c18d69fb8d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51807?repo=metabase/metabase&commitHash=d9d34a0decb2b5fa8f97aecdac1f78c18d69fb8d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51807?repo=metabase/metabase&commitHash=d9d34a0decb2b5fa8f97aecdac1f78c18d69fb8d&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>extract-nested-efficient-test</code> | Expected and actual instances of Dashboard do not match. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51807?repo=metabase/metabase&commitHash=d9d34a0decb2b5fa8f97aecdac1f78c18d69fb8d&utm_source=gh-comment&runConclusion=FAILURE&runId=c3845132-31da-5aaf-ab74-3cd4ff591d5b) |
| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | Unable to find an element with the text ""Filter by this value"" within 4 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51807?repo=metabase/metabase&commitHash=d9d34a0decb2b5fa8f97aecdac1f78c18d69fb8d&utm_source=gh-comment&runConclusion=FAILURE&runId=1211dc0e-3dec-5279-9447-5d67da89d663) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>xray-dashboards-work-test</code> | A deadlock was detected in the database, preventing the update of a record. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51807?repo=metabase/metabase&commitHash=d9d34a0decb2b5fa8f97aecdac1f78c18d69fb8d&utm_source=gh-comment&runConclusion=FAILURE&runId=13395d50-a25f-596e-a213-252be50ccb62) |
| <code>xray-dashboards-work-test</code> | A deadlock was detected in the database, preventing a query from completing. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51807?repo=metabase/metabase&commitHash=d9d34a0decb2b5fa8f97aecdac1f78c18d69fb8d&utm_source=gh-comment&runConclusion=FAILURE&runId=4c0471a4-5aa3-56fb-b660-d55d0b84c3fc) |
| <code>e2e-storage-ingestion-test</code> | Expected entity to match the expected value, but actual value was different. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51807?repo=metabase/metabase&commitHash=d9d34a0decb2b5fa8f97aecdac1f78c18d69fb8d&utm_source=gh-comment&runConclusion=FAILURE&runId=2aa8f8b4-a43a-53da-97c6-f52bb6a159c6) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51807?repo=metabase/metabase&commitHash=d9d34a0decb2b5fa8f97aecdac1f78c18d69fb8d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

appleby (Issue Creator) on (2025-01-10 18:41:03 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2025-01-10 19:11:32 UTC): üöÄ This should also be released by [v0.52.6](https://github.com/metabase/metabase/milestone/298)

"
2771736596,pull_request,closed,,"ü§ñ backported ""Update setting table name reference to :model/setting""",#51783,github-automation-metabase,2025-01-07 01:52:46+00:00,"['nvoxland', 'github-automation-metabase']",2025-01-16 00:20:47+00:00,2025-01-15 23:44:13+00:00,https://github.com/metabase/metabase/pull/51806,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2574276346, 'issue_id': 2771736596, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/107092_tests-0088f62a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51806?repo=metabase/metabase&commitHash=0088f62a9feba83dd838e2d6750ea7881d330565&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51806?repo=metabase/metabase&commitHash=0088f62a9feba83dd838e2d6750ea7881d330565&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51806?repo=metabase/metabase&commitHash=0088f62a9feba83dd838e2d6750ea7881d330565&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51806?repo=metabase/metabase&commitHash=0088f62a9feba83dd838e2d6750ea7881d330565&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 34330 should call the autocompleter when backspacing to a 1-character prefix(metabase\\#34330)</code> | The \\`cy.wait()\\` command timed out waiting for the first request to the route 'autocomplete' and no request ever occurred. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51806?repo=metabase/metabase&commitHash=0088f62a9feba83dd838e2d6750ea7881d330565&utm_source=gh-comment&runConclusion=FAILURE&runId=129c89c0-9b14-52d6-a79a-1e830a24a7f7) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboard card fetching should pass same dashboard\\_load\\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51806?repo=metabase/metabase&commitHash=0088f62a9feba83dd838e2d6750ea7881d330565&utm_source=gh-comment&runConclusion=FAILURE&runId=5d149a99-155f-5e1a-af90-6145a2476de2) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51806?repo=metabase/metabase&commitHash=0088f62a9feba83dd838e2d6750ea7881d330565&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 7, 2, 32, 24, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-07 02:32:24 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/107092_tests-0088f62a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51806?repo=metabase/metabase&commitHash=0088f62a9feba83dd838e2d6750ea7881d330565&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51806?repo=metabase/metabase&commitHash=0088f62a9feba83dd838e2d6750ea7881d330565&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51806?repo=metabase/metabase&commitHash=0088f62a9feba83dd838e2d6750ea7881d330565&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51806?repo=metabase/metabase&commitHash=0088f62a9feba83dd838e2d6750ea7881d330565&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 34330 should call the autocompleter when backspacing to a 1-character prefix(metabase\#34330)</code> | The \`cy.wait()\` command timed out waiting for the first request to the route 'autocomplete' and no request ever occurred. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51806?repo=metabase/metabase&commitHash=0088f62a9feba83dd838e2d6750ea7881d330565&utm_source=gh-comment&runConclusion=FAILURE&runId=129c89c0-9b14-52d6-a79a-1e830a24a7f7) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboard card fetching should pass same dashboard\_load\_id to every query to enable metadata cache sharing</code> | The request to create a dashboard failed due to an unauthorized response. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51806?repo=metabase/metabase&commitHash=0088f62a9feba83dd838e2d6750ea7881d330565&utm_source=gh-comment&runConclusion=FAILURE&runId=5d149a99-155f-5e1a-af90-6145a2476de2) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51806?repo=metabase/metabase&commitHash=0088f62a9feba83dd838e2d6750ea7881d330565&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2771701974,pull_request,closed,,"When duplicating a dashboard, persist the :width setting","Closes #44640 

- Persist width setting on dashboards when making a duplicate / copy",tsplude,2025-01-07 01:10:10+00:00,['tsplude'],2025-01-17 21:58:52+00:00,2025-01-17 21:23:02+00:00,https://github.com/metabase/metabase/pull/51805,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2574235359, 'issue_id': 2771701974, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/113462_tests-48048bcf-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51805?repo=metabase/metabase&commitHash=48048bcf9574b4eda35501db803d910903a39024&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51805?repo=metabase/metabase&commitHash=48048bcf9574b4eda35501db803d910903a39024&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51805?repo=metabase/metabase&commitHash=48048bcf9574b4eda35501db803d910903a39024&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51805?repo=metabase/metabase&commitHash=48048bcf9574b4eda35501db803d910903a39024&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dont-analyze-hidden-tables-test</code> | Query execution failed due to an aborted transaction, possibly caused by a previous error. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51805?repo=metabase/metabase&commitHash=48048bcf9574b4eda35501db803d910903a39024&utm_source=gh-comment&runConclusion=FAILURE&runId=95b36b14-5ef6-5b6e-8f8c-e7ef7a59a789) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51805?repo=metabase/metabase&commitHash=48048bcf9574b4eda35501db803d910903a39024&utm_source=gh-comment&runConclusion=FAILURE&runId=47f46be2-d541-5710-9cee-f09fe8f7f302) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51805?repo=metabase/metabase&commitHash=48048bcf9574b4eda35501db803d910903a39024&utm_source=gh-comment&runConclusion=FAILURE&runId=2ce5c258-2303-58df-bd04-5ec83aba5fca) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51805?repo=metabase/metabase&commitHash=48048bcf9574b4eda35501db803d910903a39024&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 7, 1, 46, 20, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-07 01:46:20 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/113462_tests-48048bcf-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51805?repo=metabase/metabase&commitHash=48048bcf9574b4eda35501db803d910903a39024&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51805?repo=metabase/metabase&commitHash=48048bcf9574b4eda35501db803d910903a39024&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51805?repo=metabase/metabase&commitHash=48048bcf9574b4eda35501db803d910903a39024&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51805?repo=metabase/metabase&commitHash=48048bcf9574b4eda35501db803d910903a39024&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dont-analyze-hidden-tables-test</code> | Query execution failed due to an aborted transaction, possibly caused by a previous error. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51805?repo=metabase/metabase&commitHash=48048bcf9574b4eda35501db803d910903a39024&utm_source=gh-comment&runConclusion=FAILURE&runId=95b36b14-5ef6-5b6e-8f8c-e7ef7a59a789) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51805?repo=metabase/metabase&commitHash=48048bcf9574b4eda35501db803d910903a39024&utm_source=gh-comment&runConclusion=FAILURE&runId=47f46be2-d541-5710-9cee-f09fe8f7f302) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51805?repo=metabase/metabase&commitHash=48048bcf9574b4eda35501db803d910903a39024&utm_source=gh-comment&runConclusion=FAILURE&runId=2ce5c258-2303-58df-bd04-5ec83aba5fca) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51805?repo=metabase/metabase&commitHash=48048bcf9574b4eda35501db803d910903a39024&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2771648412,pull_request,closed,,[Cards in Dashboards] Auto-scroll to new dashboard questions,"Part of https://github.com/metabase/metabase/issues/50176

### Description

When a dashboard question is added to a dashboard or a question is moved into a dashboard, the dashboard will not auto-scroll the the newly added dashcard. This PR also adds smooth scrolling to adding existing cards.

### How to verify

Follow the flows in the demo videos linked below

### Demo

Add DQ flow
https://github.com/user-attachments/assets/2d47eacd-6a7f-4a22-ac5b-489e55e9e583

Move DQ flow
https://github.com/user-attachments/assets/95d7e610-9a5a-46a8-ae26-20e06339b739

Add existing card animation
https://github.com/user-attachments/assets/1a16fd2f-3a8d-4316-95a3-545161c06ac5

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",sloansparger,2025-01-07 00:04:32+00:00,['sloansparger'],2025-01-27 22:11:50+00:00,2025-01-14 19:37:18+00:00,https://github.com/metabase/metabase/pull/51804,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2574180118, 'issue_id': 2771648412, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/106335_tests-d95f4c6e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51804?repo=metabase/metabase&commitHash=d95f4c6eb947344233db81479ebad22b58a8e6bb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51804?repo=metabase/metabase&commitHash=d95f4c6eb947344233db81479ebad22b58a8e6bb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51804?repo=metabase/metabase&commitHash=d95f4c6eb947344233db81479ebad22b58a8e6bb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51804?repo=metabase/metabase&commitHash=d95f4c6eb947344233db81479ebad22b58a8e6bb&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Write actions on model detail page (postgres) should allow public sharing of query action and execution</code> | The element with test ID \'form-field-container\' containing \'New Status\' was not found within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51804?repo=metabase/metabase&commitHash=d95f4c6eb947344233db81479ebad22b58a8e6bb&utm_source=gh-comment&runConclusion=FAILURE&runId=61bd1369-5df2-5aea-9fbc-8ef1d6be42a4) |\n| <code>scenarios > metrics > collection should be possible to add and remove a metric from bookmarks</code> | The expected element with class \\`.popover[data-state~=\'visible\'],[data-element-id=mantine-popover]\\` was not found within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51804?repo=metabase/metabase&commitHash=d95f4c6eb947344233db81479ebad22b58a8e6bb&utm_source=gh-comment&runConclusion=FAILURE&runId=2e08df0c-bfac-5ac6-b8e4-cca1cc3c9d34) |\n| <code>e2e-storage-ingestion-test</code> | Expected entity to be equal to the result of extracting one field from a collection, but actual entity was different. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51804?repo=metabase/metabase&commitHash=d95f4c6eb947344233db81479ebad22b58a8e6bb&utm_source=gh-comment&runConclusion=FAILURE&runId=81c9e3bb-4ffa-5ffe-8068-e794a2c1547b) |\n| <code>xray-dashboards-work-test</code> | Unique index or primary key violation occurred during database operation. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51804?repo=metabase/metabase&commitHash=d95f4c6eb947344233db81479ebad22b58a8e6bb&utm_source=gh-comment&runConclusion=FAILURE&runId=27f54bdc-1cab-51f1-a04a-81824b93f1f1) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51804?repo=metabase/metabase&commitHash=d95f4c6eb947344233db81479ebad22b58a8e6bb&utm_source=gh-comment&runConclusion=FAILURE&runId=5c5a3d29-8066-5f69-9c63-9de9e9255138) |\n| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51804?repo=metabase/metabase&commitHash=d95f4c6eb947344233db81479ebad22b58a8e6bb&utm_source=gh-comment&runConclusion=FAILURE&runId=9489e441-05e4-5d85-b266-06234fb3bb14) |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51804?repo=metabase/metabase&commitHash=d95f4c6eb947344233db81479ebad22b58a8e6bb&utm_source=gh-comment&runConclusion=FAILURE&runId=7ff74bb1-a423-5859-bcc7-20ba066c55a4) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51804?repo=metabase/metabase&commitHash=d95f4c6eb947344233db81479ebad22b58a8e6bb&utm_source=gh-comment&runConclusion=FAILURE&runId=14092f94-127a-563e-b7ec-984a99b19624) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51804?repo=metabase/metabase&commitHash=d95f4c6eb947344233db81479ebad22b58a8e6bb&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 7, 0, 44, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576522186, 'issue_id': 2771648412, 'author': 'rafpaf', 'body': 'Nice one! I left a couple `nit` comments.', 'created_at': datetime.datetime(2025, 1, 8, 1, 20, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576523723, 'issue_id': 2771648412, 'author': 'rafpaf', 'body': '![image.png](https://graphite-user-uploaded-assets-prod.s3.amazonaws.com/utGnP2ljFMMNOgi82vVn/05066a5b-b74e-4f13-93c2-9a9b21c243f1.png)\n\nOttoscroll', 'created_at': datetime.datetime(2025, 1, 8, 1, 22, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583570584, 'issue_id': 2771648412, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@sloansparger You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2025, 1, 10, 18, 47, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2583574751, 'issue_id': 2771648412, 'author': 'sloansparger', 'body': ""@rafpaf i changed my solution enough that i'm dismissing your approval"", 'created_at': datetime.datetime(2025, 1, 10, 18, 48, 54, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-07 00:44:58 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/106335_tests-d95f4c6e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51804?repo=metabase/metabase&commitHash=d95f4c6eb947344233db81479ebad22b58a8e6bb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51804?repo=metabase/metabase&commitHash=d95f4c6eb947344233db81479ebad22b58a8e6bb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51804?repo=metabase/metabase&commitHash=d95f4c6eb947344233db81479ebad22b58a8e6bb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51804?repo=metabase/metabase&commitHash=d95f4c6eb947344233db81479ebad22b58a8e6bb&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Write actions on model detail page (postgres) should allow public sharing of query action and execution</code> | The element with test ID 'form-field-container' containing 'New Status' was not found within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51804?repo=metabase/metabase&commitHash=d95f4c6eb947344233db81479ebad22b58a8e6bb&utm_source=gh-comment&runConclusion=FAILURE&runId=61bd1369-5df2-5aea-9fbc-8ef1d6be42a4) |
| <code>scenarios > metrics > collection should be possible to add and remove a metric from bookmarks</code> | The expected element with class \`.popover[data-state~='visible'],[data-element-id=mantine-popover]\` was not found within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51804?repo=metabase/metabase&commitHash=d95f4c6eb947344233db81479ebad22b58a8e6bb&utm_source=gh-comment&runConclusion=FAILURE&runId=2e08df0c-bfac-5ac6-b8e4-cca1cc3c9d34) |
| <code>e2e-storage-ingestion-test</code> | Expected entity to be equal to the result of extracting one field from a collection, but actual entity was different. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51804?repo=metabase/metabase&commitHash=d95f4c6eb947344233db81479ebad22b58a8e6bb&utm_source=gh-comment&runConclusion=FAILURE&runId=81c9e3bb-4ffa-5ffe-8068-e794a2c1547b) |
| <code>xray-dashboards-work-test</code> | Unique index or primary key violation occurred during database operation. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51804?repo=metabase/metabase&commitHash=d95f4c6eb947344233db81479ebad22b58a8e6bb&utm_source=gh-comment&runConclusion=FAILURE&runId=27f54bdc-1cab-51f1-a04a-81824b93f1f1) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51804?repo=metabase/metabase&commitHash=d95f4c6eb947344233db81479ebad22b58a8e6bb&utm_source=gh-comment&runConclusion=FAILURE&runId=5c5a3d29-8066-5f69-9c63-9de9e9255138) |
| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51804?repo=metabase/metabase&commitHash=d95f4c6eb947344233db81479ebad22b58a8e6bb&utm_source=gh-comment&runConclusion=FAILURE&runId=9489e441-05e4-5d85-b266-06234fb3bb14) |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51804?repo=metabase/metabase&commitHash=d95f4c6eb947344233db81479ebad22b58a8e6bb&utm_source=gh-comment&runConclusion=FAILURE&runId=7ff74bb1-a423-5859-bcc7-20ba066c55a4) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51804?repo=metabase/metabase&commitHash=d95f4c6eb947344233db81479ebad22b58a8e6bb&utm_source=gh-comment&runConclusion=FAILURE&runId=14092f94-127a-563e-b7ec-984a99b19624) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51804?repo=metabase/metabase&commitHash=d95f4c6eb947344233db81479ebad22b58a8e6bb&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

rafpaf on (2025-01-08 01:20:38 UTC): Nice one! I left a couple `nit` comments.

rafpaf on (2025-01-08 01:22:26 UTC): ![image.png](https://graphite-user-uploaded-assets-prod.s3.amazonaws.com/utGnP2ljFMMNOgi82vVn/05066a5b-b74e-4f13-93c2-9a9b21c243f1.png)

Ottoscroll

github-actions[bot] on (2025-01-10 18:47:47 UTC): <!---conventional commit reminder comment ID-->
@sloansparger You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

sloansparger (Issue Creator) on (2025-01-10 18:48:54 UTC): @rafpaf i changed my solution enough that i'm dismissing your approval

"
2771593301,pull_request,closed,,Encrypt cache,"### Description

Encrypts `results` in the query_cache table

This does not use the normal encryption functions because we want to support streaming of data out of that column.

The stream-based formatting uses a header of 32 bytes describing the encryption scheme + the 16 byte initialization vector, before encrypting the rest with `AES/CBC/PKCS5Padding`

Data can be encrypted and decrypted via streams using that mechanism, or encrypted/decrypted as byte arrays with the same mechanism to support streaming later even if the data at the time does not support it.

The `rotate-encryption-key` and `remove-encryption` commands, as well as the general server ""enable encryption by setting the env variable"" logic will all keep the query_cache results in sync with whatever the encryption configuration is.

### How to verify

1. Configure a dashboard to be cached
2. Verify the data changes depending on the encryption setting

### Checklist

- [X] Tests have been added/updated to cover changes in this PR
",nvoxland,2025-01-06 23:06:04+00:00,['nvoxland'],2025-01-27 22:12:01+00:00,2025-01-13 17:19:58+00:00,https://github.com/metabase/metabase/pull/51803,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2574123271, 'issue_id': 2771593301, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/122495_tests-f6a11ccb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51803?repo=metabase/metabase&commitHash=f6a11ccbf44dc5a635a5abf2a5a391a9a779d07e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51803?repo=metabase/metabase&commitHash=f6a11ccbf44dc5a635a5abf2a5a391a9a779d07e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51803?repo=metabase/metabase&commitHash=f6a11ccbf44dc5a635a5abf2a5a391a9a779d07e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51803?repo=metabase/metabase&commitHash=f6a11ccbf44dc5a635a5abf2a5a391a9a779d07e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51803?repo=metabase/metabase&commitHash=f6a11ccbf44dc5a635a5abf2a5a391a9a779d07e&utm_source=gh-comment&runConclusion=FAILURE&runId=f2aadd12-b0fa-5601-9126-82bfd814a26d) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51803?repo=metabase/metabase&commitHash=f6a11ccbf44dc5a635a5abf2a5a391a9a779d07e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 6, 23, 44, 17, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-06 23:44:17 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/122495_tests-f6a11ccb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51803?repo=metabase/metabase&commitHash=f6a11ccbf44dc5a635a5abf2a5a391a9a779d07e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51803?repo=metabase/metabase&commitHash=f6a11ccbf44dc5a635a5abf2a5a391a9a779d07e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51803?repo=metabase/metabase&commitHash=f6a11ccbf44dc5a635a5abf2a5a391a9a779d07e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51803?repo=metabase/metabase&commitHash=f6a11ccbf44dc5a635a5abf2a5a391a9a779d07e&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51803?repo=metabase/metabase&commitHash=f6a11ccbf44dc5a635a5abf2a5a391a9a779d07e&utm_source=gh-comment&runConclusion=FAILURE&runId=f2aadd12-b0fa-5601-9126-82bfd814a26d) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51803?repo=metabase/metabase&commitHash=f6a11ccbf44dc5a635a5abf2a5a391a9a779d07e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2771527770,pull_request,closed,,[refs] Clean up backfill warnings on cards at startup,"### Description

These warnings started with #50100, because the `sweep-query-analysis`
tasks had under-populated Toucan 2 queries against `:model/Card`.

### How to verify

Start Metabase at the command line or the REPL; observe there are no longer
any ""Best-effort backfill"" warnings.

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",bshepherdson,2025-01-06 22:07:05+00:00,['bshepherdson'],2025-01-27 22:12:25+00:00,2025-01-08 15:40:02+00:00,https://github.com/metabase/metabase/pull/51802,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2574011406, 'issue_id': 2771527770, 'author': 'bshepherdson', 'body': '* **#51802** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51802?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51802?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 6, 22, 7, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574059410, 'issue_id': 2771527770, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/123949_tests-ced1f57d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51802?repo=metabase/metabase&commitHash=ced1f57d7b076d9e40a0b5966202965c124da952&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51802?repo=metabase/metabase&commitHash=ced1f57d7b076d9e40a0b5966202965c124da952&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51802?repo=metabase/metabase&commitHash=ced1f57d7b076d9e40a0b5966202965c124da952&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51802?repo=metabase/metabase&commitHash=ced1f57d7b076d9e40a0b5966202965c124da952&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>datetime-binning-options-test-3</code> | Deadlock found when trying to get lock; try restarting transaction | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51802?repo=metabase/metabase&commitHash=ced1f57d7b076d9e40a0b5966202965c124da952&utm_source=gh-comment&runConclusion=FAILURE&runId=cef871cf-aa3c-558b-bcfe-e002bddd3425) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\\#37726)</code> | The test timed out while trying to find an element with the text ""Product ‚Üí Category"" in the UI. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51802?repo=metabase/metabase&commitHash=ced1f57d7b076d9e40a0b5966202965c124da952&utm_source=gh-comment&runConclusion=FAILURE&runId=a6846a8c-5b89-519d-80bd-80fb18dbfc25) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51802?repo=metabase/metabase&commitHash=ced1f57d7b076d9e40a0b5966202965c124da952&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 6, 22, 47, 11, tzinfo=datetime.timezone.utc)}]","bshepherdson (Issue Creator) on (2025-01-06 22:07:20 UTC): * **#51802** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51802?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51802?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2025-01-06 22:47:11 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/123949_tests-ced1f57d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51802?repo=metabase/metabase&commitHash=ced1f57d7b076d9e40a0b5966202965c124da952&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51802?repo=metabase/metabase&commitHash=ced1f57d7b076d9e40a0b5966202965c124da952&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51802?repo=metabase/metabase&commitHash=ced1f57d7b076d9e40a0b5966202965c124da952&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51802?repo=metabase/metabase&commitHash=ced1f57d7b076d9e40a0b5966202965c124da952&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>datetime-binning-options-test-3</code> | Deadlock found when trying to get lock; try restarting transaction | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51802?repo=metabase/metabase&commitHash=ced1f57d7b076d9e40a0b5966202965c124da952&utm_source=gh-comment&runConclusion=FAILURE&runId=cef871cf-aa3c-558b-bcfe-e002bddd3425) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\#37726)</code> | The test timed out while trying to find an element with the text ""Product ‚Üí Category"" in the UI. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51802?repo=metabase/metabase&commitHash=ced1f57d7b076d9e40a0b5966202965c124da952&utm_source=gh-comment&runConclusion=FAILURE&runId=a6846a8c-5b89-519d-80bd-80fb18dbfc25) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51802?repo=metabase/metabase&commitHash=ced1f57d7b076d9e40a0b5966202965c124da952&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2771479585,pull_request,closed,,Convert aggregation order-bys to reference by index instead of uuid before hashing,"Closes https://github.com/metabase/metabase/issues/51672

### Description

When you order by an aggregation, mbql v2 references the aggregation by uuid.  However, that makes the query hash to a different value each time, because you get a different uuid each time you hash it.  Converting the query to reference by index during the hashing process fixes this.

### How to verify

- Go to http://localhost:3000/question/21-best-selling-products
- Add a ""sort by count"" and save
- Get the results
- Refresh the page and verify that the cache was used

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",wzimrin,2025-01-06 21:30:28+00:00,['wzimrin'],2025-01-08 05:43:55+00:00,2025-01-08 05:27:52+00:00,https://github.com/metabase/metabase/pull/51800,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2574023784, 'issue_id': 2771479585, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/131825_tests-2da14833-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51800?repo=metabase/metabase&commitHash=2da148335460a67231db2656884011a8f30a451a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51800?repo=metabase/metabase&commitHash=2da148335460a67231db2656884011a8f30a451a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51800?repo=metabase/metabase&commitHash=2da148335460a67231db2656884011a8f30a451a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51800?repo=metabase/metabase&commitHash=2da148335460a67231db2656884011a8f30a451a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51800?repo=metabase/metabase&commitHash=2da148335460a67231db2656884011a8f30a451a&utm_source=gh-comment&runConclusion=FAILURE&runId=c2f96179-fb48-5382-83ef-4d81d73fa4d5) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51800?repo=metabase/metabase&commitHash=2da148335460a67231db2656884011a8f30a451a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 6, 22, 17, 27, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-06 22:17:27 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/131825_tests-2da14833-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51800?repo=metabase/metabase&commitHash=2da148335460a67231db2656884011a8f30a451a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51800?repo=metabase/metabase&commitHash=2da148335460a67231db2656884011a8f30a451a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51800?repo=metabase/metabase&commitHash=2da148335460a67231db2656884011a8f30a451a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51800?repo=metabase/metabase&commitHash=2da148335460a67231db2656884011a8f30a451a&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51800?repo=metabase/metabase&commitHash=2da148335460a67231db2656884011a8f30a451a&utm_source=gh-comment&runConclusion=FAILURE&runId=c2f96179-fb48-5382-83ef-4d81d73fa4d5) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51800?repo=metabase/metabase&commitHash=2da148335460a67231db2656884011a8f30a451a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2771465364,pull_request,closed,,Remove disabled `compare-aggregations` drill,The drill was disabled long time ago. We agreed that this is a wrong approach and we will not re-enable it again.,ranquild,2025-01-06 21:19:48+00:00,['ranquild'],2025-01-27 22:12:35+00:00,2025-01-07 14:52:50+00:00,https://github.com/metabase/metabase/pull/51798,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2573946635, 'issue_id': 2771465364, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@ranquild You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2025, 1, 6, 21, 20, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573948383, 'issue_id': 2771465364, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 9ff67b56fce4d6dc8c0a85432719e6fc080daa01...165c08d87eaecad45c65d47dd9508a20c659c1ee.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/click-actions/actions/CompareAggregationsAction/CompareAggregationsAction.tsx<br>frontend/src/metabase/visualizations/click-actions/actions/CompareAggregationsAction/index.ts<br>frontend/src/metabase/visualizations/click-actions/modes/DefaultMode.ts<br>frontend/src/metabase/visualizations/click-actions/modes/EmbeddingSdkMode.ts<br>frontend/src/metabase/visualizations/components/ClickActions/utils.ts<br>frontend/src/metabase/visualizations/types/click-actions.ts |', 'created_at': datetime.datetime(2025, 1, 6, 21, 21, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573989334, 'issue_id': 2771465364, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/104027_tests-165c08d8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51798?repo=metabase/metabase&commitHash=165c08d87eaecad45c65d47dd9508a20c659c1ee&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51798?repo=metabase/metabase&commitHash=165c08d87eaecad45c65d47dd9508a20c659c1ee&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51798?repo=metabase/metabase&commitHash=165c08d87eaecad45c65d47dd9508a20c659c1ee&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51798?repo=metabase/metabase&commitHash=165c08d87eaecad45c65d47dd9508a20c659c1ee&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>sync-test</code> | The expected database schema does not match the actual schema returned by \\`driver/describe-database\\`. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51798?repo=metabase/metabase&commitHash=165c08d87eaecad45c65d47dd9508a20c659c1ee&utm_source=gh-comment&runConclusion=FAILURE&runId=b06532dd-81c9-57c3-ad63-661cb9340cd7) |\n| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find an accessible element with the role ""button"" and name ""Done"" after 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51798?repo=metabase/metabase&commitHash=165c08d87eaecad45c65d47dd9508a20c659c1ee&utm_source=gh-comment&runConclusion=FAILURE&runId=d5683a82-5bb6-5c62-bfc7-63f9f7b2a4af) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51798?repo=metabase/metabase&commitHash=165c08d87eaecad45c65d47dd9508a20c659c1ee&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 6, 21, 50, 29, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-06 21:20:13 UTC): <!---conventional commit reminder comment ID-->
@ranquild You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

github-actions[bot] on (2025-01-06 21:21:24 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 9ff67b56fce4d6dc8c0a85432719e6fc080daa01...165c08d87eaecad45c65d47dd9508a20c659c1ee.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/click-actions/actions/CompareAggregationsAction/CompareAggregationsAction.tsx<br>frontend/src/metabase/visualizations/click-actions/actions/CompareAggregationsAction/index.ts<br>frontend/src/metabase/visualizations/click-actions/modes/DefaultMode.ts<br>frontend/src/metabase/visualizations/click-actions/modes/EmbeddingSdkMode.ts<br>frontend/src/metabase/visualizations/components/ClickActions/utils.ts<br>frontend/src/metabase/visualizations/types/click-actions.ts |

trunk-io[bot] on (2025-01-06 21:50:29 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/104027_tests-165c08d8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51798?repo=metabase/metabase&commitHash=165c08d87eaecad45c65d47dd9508a20c659c1ee&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51798?repo=metabase/metabase&commitHash=165c08d87eaecad45c65d47dd9508a20c659c1ee&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51798?repo=metabase/metabase&commitHash=165c08d87eaecad45c65d47dd9508a20c659c1ee&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51798?repo=metabase/metabase&commitHash=165c08d87eaecad45c65d47dd9508a20c659c1ee&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>sync-test</code> | The expected database schema does not match the actual schema returned by \`driver/describe-database\`. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51798?repo=metabase/metabase&commitHash=165c08d87eaecad45c65d47dd9508a20c659c1ee&utm_source=gh-comment&runConclusion=FAILURE&runId=b06532dd-81c9-57c3-ad63-661cb9340cd7) |
| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find an accessible element with the role ""button"" and name ""Done"" after 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51798?repo=metabase/metabase&commitHash=165c08d87eaecad45c65d47dd9508a20c659c1ee&utm_source=gh-comment&runConclusion=FAILURE&runId=d5683a82-5bb6-5c62-bfc7-63f9f7b2a4af) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51798?repo=metabase/metabase&commitHash=165c08d87eaecad45c65d47dd9508a20c659c1ee&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2771422053,pull_request,closed,,"Fix string, temporal, category type check functions","Epic https://github.com/metabase/metabase/issues/51799

#### `string?`
Before:
- Was `true` for `type/Text` **effective** type OR `type/Text`, `type/Category` **semantic** types. 
- Known hacks - people used it to make boolean columns work in dashboards.

Now:
- Checks for `type/Text` **effective** type only.
- Dashboards were updated to explicitly check for `type/Category` and `type/Boolean`.

#### `temporal?`
Before:
- Was `true` for `type/Temporal` **effective** OR **semantic** types. A column with a temporal extraction unit (e.g. `Month of Year`) was considered temporal despite being an integer column. Any column can become temporal with changes to the semantic type in Admin.

Now:
- Checks for `type/Temporal` **effective** type only. Places that relied on `original-effective-type` on the FE were updated.

#### `category?`
Before:
- Was `true` for `type/Boolean` **effective** type or `type/Category` or `type/Address` **semantic** types.

Now:
- Checks for `type/Category` **semantic** type only. Places that needed booleans were updated to check for them explicitly. 

Note that `number?` and `numeric?` are still broken.

How to verify:
- Mostly internal change. This is already tested. The goal is make the API clean, explicit, and straightforward.
- Dashboard mapping to boolean columns should work (there are tests for this already).",ranquild,2025-01-06 20:48:41+00:00,['ranquild'],2025-01-27 22:12:34+00:00,2025-01-07 14:55:15+00:00,https://github.com/metabase/metabase/pull/51796,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2573956409, 'issue_id': 2771422053, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/133402_tests-5e5d7c10-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51796?repo=metabase/metabase&commitHash=5e5d7c106e62106ba4dc6e1ef2a0762d7027f209&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51796?repo=metabase/metabase&commitHash=5e5d7c106e62106ba4dc6e1ef2a0762d7027f209&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51796?repo=metabase/metabase&commitHash=5e5d7c106e62106ba4dc6e1ef2a0762d7027f209&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51796?repo=metabase/metabase&commitHash=5e5d7c106e62106ba4dc6e1ef2a0762d7027f209&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, but expected stage numbers. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51796?repo=metabase/metabase&commitHash=5e5d7c106e62106ba4dc6e1ef2a0762d7027f209&utm_source=gh-comment&runConclusion=FAILURE&runId=9fad2e3f-8fc2-5733-a4fe-5f72e7d8bde4) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51796?repo=metabase/metabase&commitHash=5e5d7c106e62106ba4dc6e1ef2a0762d7027f209&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 6, 21, 27, 16, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-06 21:27:16 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/133402_tests-5e5d7c10-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51796?repo=metabase/metabase&commitHash=5e5d7c106e62106ba4dc6e1ef2a0762d7027f209&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51796?repo=metabase/metabase&commitHash=5e5d7c106e62106ba4dc6e1ef2a0762d7027f209&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51796?repo=metabase/metabase&commitHash=5e5d7c106e62106ba4dc6e1ef2a0762d7027f209&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51796?repo=metabase/metabase&commitHash=5e5d7c106e62106ba4dc6e1ef2a0762d7027f209&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, but expected stage numbers. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51796?repo=metabase/metabase&commitHash=5e5d7c106e62106ba4dc6e1ef2a0762d7027f209&utm_source=gh-comment&runConclusion=FAILURE&runId=9fad2e3f-8fc2-5733-a4fe-5f72e7d8bde4) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51796?repo=metabase/metabase&commitHash=5e5d7c106e62106ba4dc6e1ef2a0762d7027f209&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2771379272,pull_request,closed,,Update API dox,"Update the API documentation by running 

```
clojure -M:ee:doc api-documentation
```

The main reason I'm doing this now is that I'm overhauling the dox generation code in #51559 and don't want a bunch of random changes like these in that PR ",camsaul,2025-01-06 20:20:38+00:00,['camsaul'],2025-01-27 22:12:37+00:00,2025-01-06 21:48:07+00:00,https://github.com/metabase/metabase/pull/51795,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]",[],
2771363614,pull_request,open,,Trim dashboard tab names and replace with default if just whitespace,WIP,tsplude,2025-01-06 20:09:49+00:00,['tsplude'],2025-01-06 20:10:11+00:00,,https://github.com/metabase/metabase/pull/51794,"[('.Team/DashViz', 'Dashboard and Viz team')]",[],
2771318041,pull_request,closed,,"ü§ñ backported ""Fix `FormTextInput` styling""","  #51721
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-06 19:41:18+00:00,"['sloansparger', 'github-automation-metabase']",2025-01-06 23:59:59+00:00,2025-01-06 23:59:59+00:00,https://github.com/metabase/metabase/pull/51792,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2573892545, 'issue_id': 2771318041, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/24_tests-99e04ecb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51792?repo=metabase/metabase&commitHash=99e04ecb3702a1243558f3dbefc5935549bdcc1e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51792?repo=metabase/metabase&commitHash=99e04ecb3702a1243558f3dbefc5935549bdcc1e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51792?repo=metabase/metabase&commitHash=99e04ecb3702a1243558f3dbefc5935549bdcc1e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51792?repo=metabase/metabase&commitHash=99e04ecb3702a1243558f3dbefc5935549bdcc1e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51792?repo=metabase/metabase&commitHash=99e04ecb3702a1243558f3dbefc5935549bdcc1e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 6, 20, 43, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574137770, 'issue_id': 2771318041, 'author': 'sloansparger', 'body': ""I shouldn't have backported this, it's not needed."", 'created_at': datetime.datetime(2025, 1, 6, 23, 59, 59, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-06 20:43:43 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/24_tests-99e04ecb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51792?repo=metabase/metabase&commitHash=99e04ecb3702a1243558f3dbefc5935549bdcc1e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51792?repo=metabase/metabase&commitHash=99e04ecb3702a1243558f3dbefc5935549bdcc1e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51792?repo=metabase/metabase&commitHash=99e04ecb3702a1243558f3dbefc5935549bdcc1e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51792?repo=metabase/metabase&commitHash=99e04ecb3702a1243558f3dbefc5935549bdcc1e&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51792?repo=metabase/metabase&commitHash=99e04ecb3702a1243558f3dbefc5935549bdcc1e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

sloansparger (Assginee) on (2025-01-06 23:59:59 UTC): I shouldn't have backported this, it's not needed.

"
2771226486,pull_request,closed,,Fix flaky unit test of JoinStep,A test in JoinStep was flaking locally. Let's use findBy queries to avoid this.,rafpaf,2025-01-06 18:39:30+00:00,['rafpaf'],2025-01-27 22:12:33+00:00,2025-01-07 18:07:18+00:00,https://github.com/metabase/metabase/pull/51789,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2573693463, 'issue_id': 2771226486, 'author': 'rafpaf', 'body': '* **#51789** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51789?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51789?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 6, 18, 39, 54, tzinfo=datetime.timezone.utc)}]","rafpaf (Issue Creator) on (2025-01-06 18:39:54 UTC): * **#51789** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51789?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51789?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

"
2771203735,pull_request,closed,,"Change label from ""Filter by this date"" to ""Filter by this date and time"" for quick filter drills for datetime columns","Closes https://github.com/metabase/metabase/issues/51172
See comment https://github.com/metabase/metabase/issues/51172#issuecomment-2538438313

How to verify:
- Open `People` table
- Click on cells for `Birth Date` and `Created At` columns

Date:
<img width=""218"" alt=""Screenshot 2025-01-06 at 13 25 41"" src=""https://github.com/user-attachments/assets/b744a95c-d179-4105-a3f4-28e46e04ec8d"" />

DateTime:
<img width=""216"" alt=""Screenshot 2025-01-06 at 13 25 48"" src=""https://github.com/user-attachments/assets/872588d1-c762-4426-b04d-bbd5c3615282"" />
",ranquild,2025-01-06 18:25:14+00:00,['ranquild'],2025-01-07 14:53:49+00:00,2025-01-07 14:53:45+00:00,https://github.com/metabase/metabase/pull/51788,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2573752134, 'issue_id': 2771203735, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/16973_tests-a4ce8177-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51788?repo=metabase/metabase&commitHash=a4ce81772560c4402688281ed192ed322ff4ecd7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/172-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51788?repo=metabase/metabase&commitHash=a4ce81772560c4402688281ed192ed322ff4ecd7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/22-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51788?repo=metabase/metabase&commitHash=a4ce81772560c4402688281ed192ed322ff4ecd7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51788?repo=metabase/metabase&commitHash=a4ce81772560c4402688281ed192ed322ff4ecd7&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 8490 ""before each"" hook for ""static embeddings with \\`\\#locale\\` should show translate the loading message (metabase\\#50182)""</code> | The request to set premium embedding token timed out after 30 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51788?repo=metabase/metabase&commitHash=a4ce81772560c4402688281ed192ed322ff4ecd7&utm_source=gh-comment&runConclusion=FAILURE&runId=9a2f7f89-9138-5fb7-b512-2e1d91b8ffdf) |\n| <code>issue 24966 ""before each"" hook for ""should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\#24966)""</code> | The request to set premium embedding token timed out after 30 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51788?repo=metabase/metabase&commitHash=a4ce81772560c4402688281ed192ed322ff4ecd7&utm_source=gh-comment&runConclusion=FAILURE&runId=4dc3564d-9587-5e27-835f-59597b58745f) |\n| <code>scenarios > dashboard > subscriptions EE email subscriptions ""before each"" hook for ""should only show current user in recipients dropdown if \\`user...</code> | The request to set premium embedding token timed out after 30 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51788?repo=metabase/metabase&commitHash=a4ce81772560c4402688281ed192ed322ff4ecd7&utm_source=gh-comment&runConclusion=FAILURE&runId=c704085b-39ac-5be1-8199-34bee62b80a0) |\n| <code>scenarios > admin > permissions > view data > legacy no self-service ""before each"" hook for ""\'no self service\' should only be an option if it is th...</code> | The request to set premium embedding token timed out after 30 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51788?repo=metabase/metabase&commitHash=a4ce81772560c4402688281ed192ed322ff4ecd7&utm_source=gh-comment&runConclusion=FAILURE&runId=3854ea59-2c16-5fa9-af0b-1959defab390) |\n\n[... and 168 more](https://app.trunk.io/metabase/flaky-tests/pr/51788?repo=metabase/metabase&commitHash=a4ce81772560c4402688281ed192ed322ff4ecd7&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\\#37726)</code> | The test timed out while trying to find an element with the text ""Product ‚Üí Category"" in the UI. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51788?repo=metabase/metabase&commitHash=a4ce81772560c4402688281ed192ed322ff4ecd7&utm_source=gh-comment&runConclusion=FAILURE&runId=0d1c1d51-e5cb-5af7-9c9f-5b79206c46d4) |\n| <code>scenarios > admin > license and billing store info should not show license input for cloud-hosted instances</code> | The request to set premium embedding token timed out after 30 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51788?repo=metabase/metabase&commitHash=a4ce81772560c4402688281ed192ed322ff4ecd7&utm_source=gh-comment&runConclusion=FAILURE&runId=4735eaf3-4b37-5e89-9dc7-f1a5d2f89479) |\n| <code>scenarios > admin > license and billing store info should show the user store info for an self-hosted instance managed by the store</code> | The request to set premium embedding token timed out after 30 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51788?repo=metabase/metabase&commitHash=a4ce81772560c4402688281ed192ed322ff4ecd7&utm_source=gh-comment&runConclusion=FAILURE&runId=fdc2c273-7a08-57f2-a2b4-c24af53fb74b) |\n| <code>scenarios > home > homepage after content creation EE should display popular items for a new user</code> | The request to set premium embedding token timed out after 30 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51788?repo=metabase/metabase&commitHash=a4ce81772560c4402688281ed192ed322ff4ecd7&utm_source=gh-comment&runConclusion=FAILURE&runId=f919efdc-485c-5554-bc86-ba7afd02fdfc) |\n\n[... and 18 more](https://app.trunk.io/metabase/flaky-tests/pr/51788?repo=metabase/metabase&commitHash=a4ce81772560c4402688281ed192ed322ff4ecd7&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51788?repo=metabase/metabase&commitHash=a4ce81772560c4402688281ed192ed322ff4ecd7&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 6, 19, 16, 31, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-06 19:16:31 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/16973_tests-a4ce8177-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51788?repo=metabase/metabase&commitHash=a4ce81772560c4402688281ed192ed322ff4ecd7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/172-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51788?repo=metabase/metabase&commitHash=a4ce81772560c4402688281ed192ed322ff4ecd7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/22-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51788?repo=metabase/metabase&commitHash=a4ce81772560c4402688281ed192ed322ff4ecd7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51788?repo=metabase/metabase&commitHash=a4ce81772560c4402688281ed192ed322ff4ecd7&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 8490 ""before each"" hook for ""static embeddings with \`\#locale\` should show translate the loading message (metabase\#50182)""</code> | The request to set premium embedding token timed out after 30 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51788?repo=metabase/metabase&commitHash=a4ce81772560c4402688281ed192ed322ff4ecd7&utm_source=gh-comment&runConclusion=FAILURE&runId=9a2f7f89-9138-5fb7-b512-2e1d91b8ffdf) |
| <code>issue 24966 ""before each"" hook for ""should correctly fetch field values for a filter when native question is used for sandboxing (metabase\#24966)""</code> | The request to set premium embedding token timed out after 30 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51788?repo=metabase/metabase&commitHash=a4ce81772560c4402688281ed192ed322ff4ecd7&utm_source=gh-comment&runConclusion=FAILURE&runId=4dc3564d-9587-5e27-835f-59597b58745f) |
| <code>scenarios > dashboard > subscriptions EE email subscriptions ""before each"" hook for ""should only show current user in recipients dropdown if \`user...</code> | The request to set premium embedding token timed out after 30 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51788?repo=metabase/metabase&commitHash=a4ce81772560c4402688281ed192ed322ff4ecd7&utm_source=gh-comment&runConclusion=FAILURE&runId=c704085b-39ac-5be1-8199-34bee62b80a0) |
| <code>scenarios > admin > permissions > view data > legacy no self-service ""before each"" hook for ""'no self service' should only be an option if it is th...</code> | The request to set premium embedding token timed out after 30 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51788?repo=metabase/metabase&commitHash=a4ce81772560c4402688281ed192ed322ff4ecd7&utm_source=gh-comment&runConclusion=FAILURE&runId=3854ea59-2c16-5fa9-af0b-1959defab390) |

[... and 168 more](https://app.trunk.io/metabase/flaky-tests/pr/51788?repo=metabase/metabase&commitHash=a4ce81772560c4402688281ed192ed322ff4ecd7&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\#37726)</code> | The test timed out while trying to find an element with the text ""Product ‚Üí Category"" in the UI. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51788?repo=metabase/metabase&commitHash=a4ce81772560c4402688281ed192ed322ff4ecd7&utm_source=gh-comment&runConclusion=FAILURE&runId=0d1c1d51-e5cb-5af7-9c9f-5b79206c46d4) |
| <code>scenarios > admin > license and billing store info should not show license input for cloud-hosted instances</code> | The request to set premium embedding token timed out after 30 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51788?repo=metabase/metabase&commitHash=a4ce81772560c4402688281ed192ed322ff4ecd7&utm_source=gh-comment&runConclusion=FAILURE&runId=4735eaf3-4b37-5e89-9dc7-f1a5d2f89479) |
| <code>scenarios > admin > license and billing store info should show the user store info for an self-hosted instance managed by the store</code> | The request to set premium embedding token timed out after 30 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51788?repo=metabase/metabase&commitHash=a4ce81772560c4402688281ed192ed322ff4ecd7&utm_source=gh-comment&runConclusion=FAILURE&runId=fdc2c273-7a08-57f2-a2b4-c24af53fb74b) |
| <code>scenarios > home > homepage after content creation EE should display popular items for a new user</code> | The request to set premium embedding token timed out after 30 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51788?repo=metabase/metabase&commitHash=a4ce81772560c4402688281ed192ed322ff4ecd7&utm_source=gh-comment&runConclusion=FAILURE&runId=f919efdc-485c-5554-bc86-ba7afd02fdfc) |

[... and 18 more](https://app.trunk.io/metabase/flaky-tests/pr/51788?repo=metabase/metabase&commitHash=a4ce81772560c4402688281ed192ed322ff4ecd7&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51788?repo=metabase/metabase&commitHash=a4ce81772560c4402688281ed192ed322ff4ecd7&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2771059328,pull_request,closed,,"ü§ñ backported ""docs - links""","  #51784
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-06 16:56:52+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2025-01-06 18:28:50+00:00,2025-01-06 17:15:14+00:00,https://github.com/metabase/metabase/pull/51785,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2573635451, 'issue_id': 2771059328, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/24_tests-06f64991-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51785?repo=metabase/metabase&commitHash=06f6499110c1fbdafb8d59dfcc4d7f5687cf1c18&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51785?repo=metabase/metabase&commitHash=06f6499110c1fbdafb8d59dfcc4d7f5687cf1c18&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51785?repo=metabase/metabase&commitHash=06f6499110c1fbdafb8d59dfcc4d7f5687cf1c18&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51785?repo=metabase/metabase&commitHash=06f6499110c1fbdafb8d59dfcc4d7f5687cf1c18&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51785?repo=metabase/metabase&commitHash=06f6499110c1fbdafb8d59dfcc4d7f5687cf1c18&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 6, 18, 4, 5, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-06 18:04:05 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/24_tests-06f64991-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51785?repo=metabase/metabase&commitHash=06f6499110c1fbdafb8d59dfcc4d7f5687cf1c18&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51785?repo=metabase/metabase&commitHash=06f6499110c1fbdafb8d59dfcc4d7f5687cf1c18&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51785?repo=metabase/metabase&commitHash=06f6499110c1fbdafb8d59dfcc4d7f5687cf1c18&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51785?repo=metabase/metabase&commitHash=06f6499110c1fbdafb8d59dfcc4d7f5687cf1c18&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51785?repo=metabase/metabase&commitHash=06f6499110c1fbdafb8d59dfcc4d7f5687cf1c18&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2771053127,pull_request,closed,,docs - links,Updates/removes some links.,jeff-bruemmer,2025-01-06 16:53:19+00:00,['jeff-bruemmer'],2025-01-06 17:15:42+00:00,2025-01-06 16:56:02+00:00,https://github.com/metabase/metabase/pull/51784,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2771037113,pull_request,closed,,Update setting table name reference to :model/setting,"### Description

Recent changes in master broke the `rotate-encryption-key` command by having it look for ""Settings"" as a table name, rather than the correctly-cased ""settings"" or ""SETTINGS"".

This updates the table references to be a version better handled by tucan. 

### How to verify

Run the `rotate-encryption-key` CLI command. Prior to the change, it failed with a SQL error

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR",nvoxland,2025-01-06 16:44:35+00:00,['nvoxland'],2025-01-15 23:44:39+00:00,2025-01-07 01:51:53+00:00,https://github.com/metabase/metabase/pull/51783,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2573555133, 'issue_id': 2771037113, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/108791_tests-57d94028-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51783?repo=metabase/metabase&commitHash=57d94028384abdecbf7c20900750340ddd2e3e92&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51783?repo=metabase/metabase&commitHash=57d94028384abdecbf7c20900750340ddd2e3e92&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51783?repo=metabase/metabase&commitHash=57d94028384abdecbf7c20900750340ddd2e3e92&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51783?repo=metabase/metabase&commitHash=57d94028384abdecbf7c20900750340ddd2e3e92&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 21452 should not fire POST request after every character during display name change (metabase\\#21452)</code> | The test timed out while trying to find an element with data-testid ""echarts-tooltip"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51783?repo=metabase/metabase&commitHash=57d94028384abdecbf7c20900750340ddd2e3e92&utm_source=gh-comment&runConclusion=FAILURE&runId=cc46d14d-2c6e-5c1c-8cc3-27a0f2789e84) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51783?repo=metabase/metabase&commitHash=57d94028384abdecbf7c20900750340ddd2e3e92&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 6, 17, 17, 2, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-06 17:17:02 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/108791_tests-57d94028-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51783?repo=metabase/metabase&commitHash=57d94028384abdecbf7c20900750340ddd2e3e92&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51783?repo=metabase/metabase&commitHash=57d94028384abdecbf7c20900750340ddd2e3e92&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51783?repo=metabase/metabase&commitHash=57d94028384abdecbf7c20900750340ddd2e3e92&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51783?repo=metabase/metabase&commitHash=57d94028384abdecbf7c20900750340ddd2e3e92&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 21452 should not fire POST request after every character during display name change (metabase\#21452)</code> | The test timed out while trying to find an element with data-testid ""echarts-tooltip"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51783?repo=metabase/metabase&commitHash=57d94028384abdecbf7c20900750340ddd2e3e92&utm_source=gh-comment&runConclusion=FAILURE&runId=cc46d14d-2c6e-5c1c-8cc3-27a0f2789e84) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51783?repo=metabase/metabase&commitHash=57d94028384abdecbf7c20900750340ddd2e3e92&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2771036980,pull_request,closed,,Relative date filter widget in parameters,"Closes https://github.com/metabase/metabase/issues/50477

Follow up for https://github.com/metabase/metabase/pull/51770. Last PR in the series of DatePicker changes. Replaces the deprecated component for selecting relative date filters with a new mantine-based implementation. 

How to verify:
- Add a `date/relative` filter to a dashboard and connect it to a card
- Make sure that all options work

Before:
<img width=""526"" alt=""Screenshot 2025-01-06 at 11 12 27"" src=""https://github.com/user-attachments/assets/76749761-61b7-4e40-9334-c40cc315cb18"" />

Now:
<img width=""390"" alt=""Screenshot 2025-01-06 at 13 32 28"" src=""https://github.com/user-attachments/assets/a5960fed-89e9-4ae2-b7ba-a68bccc32e01"" />

",ranquild,2025-01-06 16:44:30+00:00,['ranquild'],2025-01-07 14:54:29+00:00,2025-01-07 14:54:23+00:00,https://github.com/metabase/metabase/pull/51782,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2573495979, 'issue_id': 2771036980, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff a1d1f1b1baae941f6912f3bd88be04e92e2f8d3f...b459064682bcb73d595af37cade7a8365d7ab166.\n\nNo notifications.', 'created_at': datetime.datetime(2025, 1, 6, 16, 46, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573560549, 'issue_id': 2771036980, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13204_tests-b4590646-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51782?repo=metabase/metabase&commitHash=b459064682bcb73d595af37cade7a8365d7ab166&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51782?repo=metabase/metabase&commitHash=b459064682bcb73d595af37cade7a8365d7ab166&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51782?repo=metabase/metabase&commitHash=b459064682bcb73d595af37cade7a8365d7ab166&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51782?repo=metabase/metabase&commitHash=b459064682bcb73d595af37cade7a8365d7ab166&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51782?repo=metabase/metabase&commitHash=b459064682bcb73d595af37cade7a8365d7ab166&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 6, 17, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573677990, 'issue_id': 2771036980, 'author': 'AlessioLaiso', 'body': 'This worked well in my testing, but aesthetically it looks worse. The larger text is fine, but can we make the items taller like they were before, changing them from 16 to 32px?', 'created_at': datetime.datetime(2025, 1, 6, 18, 30, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573683227, 'issue_id': 2771036980, 'author': 'ranquild', 'body': '@AlessioLaiso I removed `compact` flag for our buttons. Does it look better now? I think this is 40px which is how our buttons work by default. I can adjust the padding if we are okay with a small deviation from our design system. \r\n\r\n<img width=""390"" alt=""Screenshot 2025-01-06 at 13 32 28"" src=""https://github.com/user-attachments/assets/c7c0923c-f5a5-4fd6-9faa-0a2abd3a956d"" />', 'created_at': datetime.datetime(2025, 1, 6, 18, 33, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573687753, 'issue_id': 2771036980, 'author': 'AlessioLaiso', 'body': '@ranquild Yes, it looks good now. 32 will be included as an additional option in the upcoming button refresh, but we can keep 40 for this.', 'created_at': datetime.datetime(2025, 1, 6, 18, 36, 22, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-06 16:46:05 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff a1d1f1b1baae941f6912f3bd88be04e92e2f8d3f...b459064682bcb73d595af37cade7a8365d7ab166.

No notifications.

trunk-io[bot] on (2025-01-06 17:20:00 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13204_tests-b4590646-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51782?repo=metabase/metabase&commitHash=b459064682bcb73d595af37cade7a8365d7ab166&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51782?repo=metabase/metabase&commitHash=b459064682bcb73d595af37cade7a8365d7ab166&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51782?repo=metabase/metabase&commitHash=b459064682bcb73d595af37cade7a8365d7ab166&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51782?repo=metabase/metabase&commitHash=b459064682bcb73d595af37cade7a8365d7ab166&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51782?repo=metabase/metabase&commitHash=b459064682bcb73d595af37cade7a8365d7ab166&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

AlessioLaiso on (2025-01-06 18:30:21 UTC): This worked well in my testing, but aesthetically it looks worse. The larger text is fine, but can we make the items taller like they were before, changing them from 16 to 32px?

ranquild (Issue Creator) on (2025-01-06 18:33:26 UTC): @AlessioLaiso I removed `compact` flag for our buttons. Does it look better now? I think this is 40px which is how our buttons work by default. I can adjust the padding if we are okay with a small deviation from our design system. 

<img width=""390"" alt=""Screenshot 2025-01-06 at 13 32 28"" src=""https://github.com/user-attachments/assets/c7c0923c-f5a5-4fd6-9faa-0a2abd3a956d"" />

AlessioLaiso on (2025-01-06 18:36:22 UTC): @ranquild Yes, it looks good now. 32 will be included as an additional option in the upcoming button refresh, but we can keep 40 for this.

"
2770978977,pull_request,closed,,"ü§ñ backported ""put field usage behind a feature flag and turn it off by default""",#51677,github-automation-metabase,2025-01-06 16:11:49+00:00,"['qnkhuat', 'github-automation-metabase']",2025-01-07 04:55:54+00:00,2025-01-07 04:25:49+00:00,https://github.com/metabase/metabase/pull/51781,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2573497227, 'issue_id': 2770978977, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120198_tests-106916ec-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51781?repo=metabase/metabase&commitHash=106916ec94b323ce8fb8c1c6496fb5478baa290e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51781?repo=metabase/metabase&commitHash=106916ec94b323ce8fb8c1c6496fb5478baa290e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51781?repo=metabase/metabase&commitHash=106916ec94b323ce8fb8c1c6496fb5478baa290e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51781?repo=metabase/metabase&commitHash=106916ec94b323ce8fb8c1c6496fb5478baa290e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51781?repo=metabase/metabase&commitHash=106916ec94b323ce8fb8c1c6496fb5478baa290e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 6, 16, 46, 40, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-06 16:46:40 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120198_tests-106916ec-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51781?repo=metabase/metabase&commitHash=106916ec94b323ce8fb8c1c6496fb5478baa290e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51781?repo=metabase/metabase&commitHash=106916ec94b323ce8fb8c1c6496fb5478baa290e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51781?repo=metabase/metabase&commitHash=106916ec94b323ce8fb8c1c6496fb5478baa290e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51781?repo=metabase/metabase&commitHash=106916ec94b323ce8fb8c1c6496fb5478baa290e&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51781?repo=metabase/metabase&commitHash=106916ec94b323ce8fb8c1c6496fb5478baa290e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2770947728,pull_request,closed,,Update Loki snapshots for 2025 in release-x.51.x branch,"Like https://github.com/metabase/metabase/pull/51727, https://github.com/metabase/metabase/pull/51768, but targeting the release-x.51.x branch, since https://github.com/metabase/metabase/pull/51661 wasn't backported.
",appleby,2025-01-06 15:55:17+00:00,['appleby'],2025-01-06 18:43:31+00:00,2025-01-06 18:43:03+00:00,https://github.com/metabase/metabase/pull/51780,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', ''), ('loki-update', '')]",[],
2770571334,pull_request,closed,,[Notification] PoC data provider,"This is another approach to solve the same issue with memory usage during sending notification: https://github.com/metabase/metabase/pull/51708

This implementation has the same performance with #51708, the only difference is in the API. This introduces a data provider for notification payload instead.",qnkhuat,2025-01-06 12:36:56+00:00,['qnkhuat'],2025-01-09 02:49:55+00:00,2025-01-09 02:49:55+00:00,https://github.com/metabase/metabase/pull/51778,"[('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2573087299, 'issue_id': 2770571334, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/131635_tests-24e7e8a2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51778?repo=metabase/metabase&commitHash=24e7e8a2ada201ed47d7f3d7e136ff531cda0cca&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/316-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51778?repo=metabase/metabase&commitHash=24e7e8a2ada201ed47d7f3d7e136ff531cda0cca&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51778?repo=metabase/metabase&commitHash=24e7e8a2ada201ed47d7f3d7e136ff531cda0cca&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51778?repo=metabase/metabase&commitHash=24e7e8a2ada201ed47d7f3d7e136ff531cda0cca&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>user-attributes-test</code> | Pulse sandboxing failed, expected 22 rows but got 2. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51778?repo=metabase/metabase&commitHash=24e7e8a2ada201ed47d7f3d7e136ff531cda0cca&utm_source=gh-comment&runConclusion=FAILURE&runId=1a27bccd-f094-55a5-98ad-dabda5285ac7) |\n| <code>pulse-permissions-test</code> | Pulses were not sent with the correct permissions, expected user 'crowberto' but actual user was 'metabase.notification.payload.data-provider/ref'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51778?repo=metabase/metabase&commitHash=24e7e8a2ada201ed47d7f3d7e136ff531cda0cca&utm_source=gh-comment&runConclusion=FAILURE&runId=dc3acd29-b022-5efe-8e47-d7d1de885df6) |\n| <code>above-goal-alert-test</code> | The expected email message did not match the actual message sent. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51778?repo=metabase/metabase&commitHash=24e7e8a2ada201ed47d7f3d7e136ff531cda0cca&utm_source=gh-comment&runConclusion=FAILURE&runId=af8cea63-8ed1-5b48-87b6-c3f1e541290a) |\n| <code>no-native-perms-test</code> | A native query on a dashboard executes successfully even if the subscription creator does not have native query permissions. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51778?repo=metabase/metabase&commitHash=24e7e8a2ada201ed47d7f3d7e136ff531cda0cca&utm_source=gh-comment&runConclusion=FAILURE&runId=41ac5046-d679-54e4-afa9-5baf6f3429d8) |\n\n[... and 312 more](https://app.trunk.io/metabase/flaky-tests/pr/51778?repo=metabase/metabase&commitHash=24e7e8a2ada201ed47d7f3d7e136ff531cda0cca&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>xray-dashboards-work-test</code> | A deadlock was detected in the database, preventing the query from executing. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51778?repo=metabase/metabase&commitHash=24e7e8a2ada201ed47d7f3d7e136ff531cda0cca&utm_source=gh-comment&runConclusion=FAILURE&runId=49277874-0d29-5759-85c1-384001fccde8) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51778?repo=metabase/metabase&commitHash=24e7e8a2ada201ed47d7f3d7e136ff531cda0cca&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 6, 13, 13, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579074793, 'issue_id': 2770571334, 'author': 'qnkhuat', 'body': 'Close in favor of https://github.com/metabase/metabase/pull/51708', 'created_at': datetime.datetime(2025, 1, 9, 2, 49, 55, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-06 13:13:44 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/131635_tests-24e7e8a2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51778?repo=metabase/metabase&commitHash=24e7e8a2ada201ed47d7f3d7e136ff531cda0cca&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/316-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51778?repo=metabase/metabase&commitHash=24e7e8a2ada201ed47d7f3d7e136ff531cda0cca&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51778?repo=metabase/metabase&commitHash=24e7e8a2ada201ed47d7f3d7e136ff531cda0cca&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51778?repo=metabase/metabase&commitHash=24e7e8a2ada201ed47d7f3d7e136ff531cda0cca&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>user-attributes-test</code> | Pulse sandboxing failed, expected 22 rows but got 2. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51778?repo=metabase/metabase&commitHash=24e7e8a2ada201ed47d7f3d7e136ff531cda0cca&utm_source=gh-comment&runConclusion=FAILURE&runId=1a27bccd-f094-55a5-98ad-dabda5285ac7) |
| <code>pulse-permissions-test</code> | Pulses were not sent with the correct permissions, expected user 'crowberto' but actual user was 'metabase.notification.payload.data-provider/ref'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51778?repo=metabase/metabase&commitHash=24e7e8a2ada201ed47d7f3d7e136ff531cda0cca&utm_source=gh-comment&runConclusion=FAILURE&runId=dc3acd29-b022-5efe-8e47-d7d1de885df6) |
| <code>above-goal-alert-test</code> | The expected email message did not match the actual message sent. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51778?repo=metabase/metabase&commitHash=24e7e8a2ada201ed47d7f3d7e136ff531cda0cca&utm_source=gh-comment&runConclusion=FAILURE&runId=af8cea63-8ed1-5b48-87b6-c3f1e541290a) |
| <code>no-native-perms-test</code> | A native query on a dashboard executes successfully even if the subscription creator does not have native query permissions. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51778?repo=metabase/metabase&commitHash=24e7e8a2ada201ed47d7f3d7e136ff531cda0cca&utm_source=gh-comment&runConclusion=FAILURE&runId=41ac5046-d679-54e4-afa9-5baf6f3429d8) |

[... and 312 more](https://app.trunk.io/metabase/flaky-tests/pr/51778?repo=metabase/metabase&commitHash=24e7e8a2ada201ed47d7f3d7e136ff531cda0cca&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>xray-dashboards-work-test</code> | A deadlock was detected in the database, preventing the query from executing. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51778?repo=metabase/metabase&commitHash=24e7e8a2ada201ed47d7f3d7e136ff531cda0cca&utm_source=gh-comment&runConclusion=FAILURE&runId=49277874-0d29-5759-85c1-384001fccde8) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51778?repo=metabase/metabase&commitHash=24e7e8a2ada201ed47d7f3d7e136ff531cda0cca&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

qnkhuat (Issue Creator) on (2025-01-09 02:49:55 UTC): Close in favor of https://github.com/metabase/metabase/pull/51708

"
2769303303,pull_request,closed,,perf: Optimize metabase.formatter/strip-trailing-zeroes,"This function is invoked quite a lot when generating reports (and, I think, when displaying the values too). I've noticed it taking a noticeable amount of time when running export tests.

The optimization makes sure that we use precompiled regexes when dealing with common decimal separators (`.`, `,`) and only revert to runtime-compile the regex otherwise. I also use a single str/replace instead of doing splits twice (those allocate plenty of extra garbage).",alexander-yakushev,2025-01-05 14:36:00+00:00,['alexander-yakushev'],2025-01-22 07:51:19+00:00,2025-01-08 13:13:55+00:00,https://github.com/metabase/metabase/pull/51774,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2571657742, 'issue_id': 2769303303, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/122443_tests-b94d974d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51774?repo=metabase/metabase&commitHash=b94d974da9c87f4ae487b2aa9cebde32feefe82a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51774?repo=metabase/metabase&commitHash=b94d974da9c87f4ae487b2aa9cebde32feefe82a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51774?repo=metabase/metabase&commitHash=b94d974da9c87f4ae487b2aa9cebde32feefe82a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51774?repo=metabase/metabase&commitHash=b94d974da9c87f4ae487b2aa9cebde32feefe82a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 29786 should allow using field filters with null schema (metabase\\#29786)</code> | The \\`cy.click()\\` command failed because the button is disabled. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51774?repo=metabase/metabase&commitHash=b94d974da9c87f4ae487b2aa9cebde32feefe82a&utm_source=gh-comment&runConclusion=FAILURE&runId=969eb9df-154f-522d-a9ad-e00e67b1122d) |\n| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51774?repo=metabase/metabase&commitHash=b94d974da9c87f4ae487b2aa9cebde32feefe82a&utm_source=gh-comment&runConclusion=FAILURE&runId=019c75bb-35c5-5624-a962-8f4c1d708718) |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51774?repo=metabase/metabase&commitHash=b94d974da9c87f4ae487b2aa9cebde32feefe82a&utm_source=gh-comment&runConclusion=FAILURE&runId=2395193f-7895-583d-a7b1-cc175b683e21) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51774?repo=metabase/metabase&commitHash=b94d974da9c87f4ae487b2aa9cebde32feefe82a&utm_source=gh-comment&runConclusion=FAILURE&runId=9720e376-9fb5-5537-ac40-de1fef514c84) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51774?repo=metabase/metabase&commitHash=b94d974da9c87f4ae487b2aa9cebde32feefe82a&utm_source=gh-comment&runConclusion=FAILURE&runId=2349cfec-83d6-5a05-aea1-e689011b9879) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51774?repo=metabase/metabase&commitHash=b94d974da9c87f4ae487b2aa9cebde32feefe82a&utm_source=gh-comment&runConclusion=FAILURE&runId=0528ba4f-9dcd-5053-91dc-4f656119fefb) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51774?repo=metabase/metabase&commitHash=b94d974da9c87f4ae487b2aa9cebde32feefe82a&utm_source=gh-comment&runConclusion=FAILURE&runId=d174ed6d-9061-56ad-bd8e-7d4f3228bda9) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51774?repo=metabase/metabase&commitHash=b94d974da9c87f4ae487b2aa9cebde32feefe82a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 5, 15, 9, 47, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-05 15:09:47 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/122443_tests-b94d974d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51774?repo=metabase/metabase&commitHash=b94d974da9c87f4ae487b2aa9cebde32feefe82a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51774?repo=metabase/metabase&commitHash=b94d974da9c87f4ae487b2aa9cebde32feefe82a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51774?repo=metabase/metabase&commitHash=b94d974da9c87f4ae487b2aa9cebde32feefe82a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51774?repo=metabase/metabase&commitHash=b94d974da9c87f4ae487b2aa9cebde32feefe82a&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 29786 should allow using field filters with null schema (metabase\#29786)</code> | The \`cy.click()\` command failed because the button is disabled. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51774?repo=metabase/metabase&commitHash=b94d974da9c87f4ae487b2aa9cebde32feefe82a&utm_source=gh-comment&runConclusion=FAILURE&runId=969eb9df-154f-522d-a9ad-e00e67b1122d) |
| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51774?repo=metabase/metabase&commitHash=b94d974da9c87f4ae487b2aa9cebde32feefe82a&utm_source=gh-comment&runConclusion=FAILURE&runId=019c75bb-35c5-5624-a962-8f4c1d708718) |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51774?repo=metabase/metabase&commitHash=b94d974da9c87f4ae487b2aa9cebde32feefe82a&utm_source=gh-comment&runConclusion=FAILURE&runId=2395193f-7895-583d-a7b1-cc175b683e21) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51774?repo=metabase/metabase&commitHash=b94d974da9c87f4ae487b2aa9cebde32feefe82a&utm_source=gh-comment&runConclusion=FAILURE&runId=9720e376-9fb5-5537-ac40-de1fef514c84) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51774?repo=metabase/metabase&commitHash=b94d974da9c87f4ae487b2aa9cebde32feefe82a&utm_source=gh-comment&runConclusion=FAILURE&runId=2349cfec-83d6-5a05-aea1-e689011b9879) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51774?repo=metabase/metabase&commitHash=b94d974da9c87f4ae487b2aa9cebde32feefe82a&utm_source=gh-comment&runConclusion=FAILURE&runId=0528ba4f-9dcd-5053-91dc-4f656119fefb) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51774?repo=metabase/metabase&commitHash=b94d974da9c87f4ae487b2aa9cebde32feefe82a&utm_source=gh-comment&runConclusion=FAILURE&runId=d174ed6d-9061-56ad-bd8e-7d4f3228bda9) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51774?repo=metabase/metabase&commitHash=b94d974da9c87f4ae487b2aa9cebde32feefe82a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2769295879,pull_request,closed,,"ü§ñ backported ""[svg] Limit the lifetime of a cached Truffle JS object to sidestep apparent memory leaks""","  #51685
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-05 14:17:18+00:00,"['alexander-yakushev', 'github-automation-metabase']",2025-01-06 13:04:49+00:00,2025-01-06 13:04:47+00:00,https://github.com/metabase/metabase/pull/51773,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2571648896, 'issue_id': 2769295879, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/123814_tests-33272fa8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51773?repo=metabase/metabase&commitHash=33272fa8f3574ec193a47f1bf0d7e296d862eb90&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51773?repo=metabase/metabase&commitHash=33272fa8f3574ec193a47f1bf0d7e296d862eb90&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51773?repo=metabase/metabase&commitHash=33272fa8f3574ec193a47f1bf0d7e296d862eb90&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51773?repo=metabase/metabase&commitHash=33272fa8f3574ec193a47f1bf0d7e296d862eb90&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>datetime-binning-options-test-3</code> | SAVEPOINT 7c0bda31-ded5-4870-8fa0-7a3370e774a8 does not exist | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51773?repo=metabase/metabase&commitHash=33272fa8f3574ec193a47f1bf0d7e296d862eb90&utm_source=gh-comment&runConclusion=FAILURE&runId=2a47cb16-2d2a-58cf-94a3-f26986efc03a) |\n| <code>public-queries-are-counted-test</code> | Timeout after 300ms while fetching a public Card. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51773?repo=metabase/metabase&commitHash=33272fa8f3574ec193a47f1bf0d7e296d862eb90&utm_source=gh-comment&runConclusion=FAILURE&runId=93c1d6ad-9973-5d0e-8716-582383fe8639) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51773?repo=metabase/metabase&commitHash=33272fa8f3574ec193a47f1bf0d7e296d862eb90&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 5, 14, 40, 3, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-05 14:40:03 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/123814_tests-33272fa8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51773?repo=metabase/metabase&commitHash=33272fa8f3574ec193a47f1bf0d7e296d862eb90&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51773?repo=metabase/metabase&commitHash=33272fa8f3574ec193a47f1bf0d7e296d862eb90&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51773?repo=metabase/metabase&commitHash=33272fa8f3574ec193a47f1bf0d7e296d862eb90&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51773?repo=metabase/metabase&commitHash=33272fa8f3574ec193a47f1bf0d7e296d862eb90&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>datetime-binning-options-test-3</code> | SAVEPOINT 7c0bda31-ded5-4870-8fa0-7a3370e774a8 does not exist | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51773?repo=metabase/metabase&commitHash=33272fa8f3574ec193a47f1bf0d7e296d862eb90&utm_source=gh-comment&runConclusion=FAILURE&runId=2a47cb16-2d2a-58cf-94a3-f26986efc03a) |
| <code>public-queries-are-counted-test</code> | Timeout after 300ms while fetching a public Card. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51773?repo=metabase/metabase&commitHash=33272fa8f3574ec193a47f1bf0d7e296d862eb90&utm_source=gh-comment&runConclusion=FAILURE&runId=93c1d6ad-9973-5d0e-8716-582383fe8639) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51773?repo=metabase/metabase&commitHash=33272fa8f3574ec193a47f1bf0d7e296d862eb90&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2769276248,pull_request,open,,WIP: Try out experimental Toucan2 that uses conj! as the default pipe‚Ä¶,"_WIP/EXPERIMENTAL_
",alexander-yakushev,2025-01-05 13:30:32+00:00,['alexander-yakushev'],2025-01-05 15:20:44+00:00,,https://github.com/metabase/metabase/pull/51772,[],"[{'comment_id': 2571639599, 'issue_id': 2769276248, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/130002_tests-5d6d7488-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51772?repo=metabase/metabase&commitHash=5d6d748861bb4f4485cdfae12c93860673dbd59a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51772?repo=metabase/metabase&commitHash=5d6d748861bb4f4485cdfae12c93860673dbd59a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51772?repo=metabase/metabase&commitHash=5d6d748861bb4f4485cdfae12c93860673dbd59a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51772?repo=metabase/metabase&commitHash=5d6d748861bb4f4485cdfae12c93860673dbd59a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>memoize-never-evicts-test</code> | The generator couldn't satisfy a predicate after 10 tries. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51772?repo=metabase/metabase&commitHash=5d6d748861bb4f4485cdfae12c93860673dbd59a&utm_source=gh-comment&runConclusion=FAILURE&runId=954a181a-e2a7-57ca-baea-07951493d4b4) |\n| <code>get-table-test-2</code> | SAVEPOINT 945f399d-4747-4a2b-87f4-ea2b652cfb18 does not exist | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51772?repo=metabase/metabase&commitHash=5d6d748861bb4f4485cdfae12c93860673dbd59a&utm_source=gh-comment&runConclusion=FAILURE&runId=84bd5a84-298d-5fb4-9903-42a522c3a523) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51772?repo=metabase/metabase&commitHash=5d6d748861bb4f4485cdfae12c93860673dbd59a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 5, 14, 9, 32, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-05 14:09:32 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/130002_tests-5d6d7488-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51772?repo=metabase/metabase&commitHash=5d6d748861bb4f4485cdfae12c93860673dbd59a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51772?repo=metabase/metabase&commitHash=5d6d748861bb4f4485cdfae12c93860673dbd59a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51772?repo=metabase/metabase&commitHash=5d6d748861bb4f4485cdfae12c93860673dbd59a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51772?repo=metabase/metabase&commitHash=5d6d748861bb4f4485cdfae12c93860673dbd59a&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>memoize-never-evicts-test</code> | The generator couldn't satisfy a predicate after 10 tries. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51772?repo=metabase/metabase&commitHash=5d6d748861bb4f4485cdfae12c93860673dbd59a&utm_source=gh-comment&runConclusion=FAILURE&runId=954a181a-e2a7-57ca-baea-07951493d4b4) |
| <code>get-table-test-2</code> | SAVEPOINT 945f399d-4747-4a2b-87f4-ea2b652cfb18 does not exist | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51772?repo=metabase/metabase&commitHash=5d6d748861bb4f4485cdfae12c93860673dbd59a&utm_source=gh-comment&runConclusion=FAILURE&runId=84bd5a84-298d-5fb4-9903-42a522c3a523) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51772?repo=metabase/metabase&commitHash=5d6d748861bb4f4485cdfae12c93860673dbd59a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2768421593,pull_request,closed,,Quarter picker in parameters,"Closes https://github.com/metabase/metabase/issues/26386

Uses `QuarterPicker` in parameter widgets; similar to `MonthPicker`. 

<img width=""1115"" alt=""Screenshot 2025-01-03 at 23 52 36"" src=""https://github.com/user-attachments/assets/30d9bdb9-af2f-4db3-9af0-18435bfeff6f"" />
",ranquild,2025-01-04 04:50:48+00:00,['ranquild'],2025-01-07 16:13:59+00:00,2025-01-07 16:07:15+00:00,https://github.com/metabase/metabase/pull/51770,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2571305784, 'issue_id': 2768421593, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff c1bf4fb520cbf94a57c580fa0868382d2b0a67a3...8fb317d579a3cd33b43e91ef18006fc2d7de067b.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/inputs/Calendar/Calendar.styled.tsx<br>frontend/src/metabase/ui/components/inputs/DatePicker/DatePicker.styled.tsx<br>frontend/src/metabase/ui/components/inputs/MonthPicker/MonthPicker.mdx<br>frontend/src/metabase/ui/components/inputs/MonthPicker/MonthPicker.stories.tsx<br>frontend/src/metabase/ui/components/inputs/MonthPicker/MonthPicker.styled.tsx<br>frontend/src/metabase/ui/components/inputs/QuarterPicker/QuarterPicker.mdx<br>frontend/src/metabase/ui/components/inputs/QuarterPicker/QuarterPicker.module.css<br>frontend/src/metabase/ui/components/inputs/QuarterPicker/QuarterPicker.stories.tsx<br>frontend/src/metabase/ui/components/inputs/QuarterPicker/QuarterPicker.tsx<br>frontend/src/metabase/ui/components/inputs/QuarterPicker/QuarterPicker.unit.spec.tsx<br>frontend/src/metabase/ui/components/inputs/QuarterPicker/index.ts<br>frontend/src/metabase/ui/components/inputs/index.ts |', 'created_at': datetime.datetime(2025, 1, 4, 13, 30, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2571314990, 'issue_id': 2768421593, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51944_tests-8fb317d5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51770?repo=metabase/metabase&commitHash=8fb317d579a3cd33b43e91ef18006fc2d7de067b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51770?repo=metabase/metabase&commitHash=8fb317d579a3cd33b43e91ef18006fc2d7de067b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51770?repo=metabase/metabase&commitHash=8fb317d579a3cd33b43e91ef18006fc2d7de067b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51770?repo=metabase/metabase&commitHash=8fb317d579a3cd33b43e91ef18006fc2d7de067b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51770?repo=metabase/metabase&commitHash=8fb317d579a3cd33b43e91ef18006fc2d7de067b&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 4, 14, 9, 13, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-04 13:30:33 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff c1bf4fb520cbf94a57c580fa0868382d2b0a67a3...8fb317d579a3cd33b43e91ef18006fc2d7de067b.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/inputs/Calendar/Calendar.styled.tsx<br>frontend/src/metabase/ui/components/inputs/DatePicker/DatePicker.styled.tsx<br>frontend/src/metabase/ui/components/inputs/MonthPicker/MonthPicker.mdx<br>frontend/src/metabase/ui/components/inputs/MonthPicker/MonthPicker.stories.tsx<br>frontend/src/metabase/ui/components/inputs/MonthPicker/MonthPicker.styled.tsx<br>frontend/src/metabase/ui/components/inputs/QuarterPicker/QuarterPicker.mdx<br>frontend/src/metabase/ui/components/inputs/QuarterPicker/QuarterPicker.module.css<br>frontend/src/metabase/ui/components/inputs/QuarterPicker/QuarterPicker.stories.tsx<br>frontend/src/metabase/ui/components/inputs/QuarterPicker/QuarterPicker.tsx<br>frontend/src/metabase/ui/components/inputs/QuarterPicker/QuarterPicker.unit.spec.tsx<br>frontend/src/metabase/ui/components/inputs/QuarterPicker/index.ts<br>frontend/src/metabase/ui/components/inputs/index.ts |

trunk-io[bot] on (2025-01-04 14:09:13 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51944_tests-8fb317d5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51770?repo=metabase/metabase&commitHash=8fb317d579a3cd33b43e91ef18006fc2d7de067b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51770?repo=metabase/metabase&commitHash=8fb317d579a3cd33b43e91ef18006fc2d7de067b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51770?repo=metabase/metabase&commitHash=8fb317d579a3cd33b43e91ef18006fc2d7de067b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51770?repo=metabase/metabase&commitHash=8fb317d579a3cd33b43e91ef18006fc2d7de067b&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51770?repo=metabase/metabase&commitHash=8fb317d579a3cd33b43e91ef18006fc2d7de067b&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2768367588,pull_request,closed,,"ü§ñ backported ""Fix the zoom-in.binning drill thru for multi-stage queries""",#51489,github-automation-metabase,2025-01-04 02:15:23+00:00,"['appleby', 'github-automation-metabase']",2025-01-06 23:52:46+00:00,2025-01-06 22:30:30+00:00,https://github.com/metabase/metabase/pull/51769,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2570008157, 'issue_id': 2768367588, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff f5f885123c0ee8974ac055b2bc7e579753bd4de5...2c438e1dfe0df8c7c64d6e15ee8b5d7dbe931aae.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/lib/table.js |', 'created_at': datetime.datetime(2025, 1, 4, 2, 16, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2570016008, 'issue_id': 2768367588, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/60532_tests-7a033082-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51769?repo=metabase/metabase&commitHash=7a03308230718df212ddb4424c42e8803497a69c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51769?repo=metabase/metabase&commitHash=7a03308230718df212ddb4424c42e8803497a69c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51769?repo=metabase/metabase&commitHash=7a03308230718df212ddb4424c42e8803497a69c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51769?repo=metabase/metabase&commitHash=7a03308230718df212ddb4424c42e8803497a69c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > collections > clean up ee clean up collection modal should be able to clean up stale items</code> | The element <div.emotion-Group-root.emotion-1plzo5d> was expected to not exist in the DOM, but it was found continuously. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51769?repo=metabase/metabase&commitHash=7a03308230718df212ddb4424c42e8803497a69c&utm_source=gh-comment&runConclusion=FAILURE&runId=9ccab09d-272c-5a83-bd12-269a03ac682e) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51769?repo=metabase/metabase&commitHash=7a03308230718df212ddb4424c42e8803497a69c&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 4, 2, 39, 20, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-04 02:16:55 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff f5f885123c0ee8974ac055b2bc7e579753bd4de5...2c438e1dfe0df8c7c64d6e15ee8b5d7dbe931aae.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/lib/table.js |

trunk-io[bot] on (2025-01-04 02:39:20 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/60532_tests-7a033082-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51769?repo=metabase/metabase&commitHash=7a03308230718df212ddb4424c42e8803497a69c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51769?repo=metabase/metabase&commitHash=7a03308230718df212ddb4424c42e8803497a69c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51769?repo=metabase/metabase&commitHash=7a03308230718df212ddb4424c42e8803497a69c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51769?repo=metabase/metabase&commitHash=7a03308230718df212ddb4424c42e8803497a69c&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > collections > clean up ee clean up collection modal should be able to clean up stale items</code> | The element <div.emotion-Group-root.emotion-1plzo5d> was expected to not exist in the DOM, but it was found continuously. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51769?repo=metabase/metabase&commitHash=7a03308230718df212ddb4424c42e8803497a69c&utm_source=gh-comment&runConclusion=FAILURE&runId=9ccab09d-272c-5a83-bd12-269a03ac682e) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51769?repo=metabase/metabase&commitHash=7a03308230718df212ddb4424c42e8803497a69c&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2768363076,pull_request,closed,,Update Loki snapshots for 2025 in release-x.52.x branch,"Like https://github.com/metabase/metabase/pull/51727, but targeting the release-x.52.x branch, since https://github.com/metabase/metabase/pull/51661 wasn't backported. ",appleby,2025-01-04 02:03:52+00:00,['appleby'],2025-01-07 05:57:05+00:00,2025-01-06 16:07:49+00:00,https://github.com/metabase/metabase/pull/51768,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2570016760, 'issue_id': 2768363076, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/24_tests-48ab4551-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51768?repo=metabase/metabase&commitHash=48ab4551a7e30a4d3ea0974372c936b1d9eee3fc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51768?repo=metabase/metabase&commitHash=48ab4551a7e30a4d3ea0974372c936b1d9eee3fc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51768?repo=metabase/metabase&commitHash=48ab4551a7e30a4d3ea0974372c936b1d9eee3fc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51768?repo=metabase/metabase&commitHash=48ab4551a7e30a4d3ea0974372c936b1d9eee3fc&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51768?repo=metabase/metabase&commitHash=48ab4551a7e30a4d3ea0974372c936b1d9eee3fc&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 4, 2, 42, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573376536, 'issue_id': 2768363076, 'author': 'appleby', 'body': '> I don\'t mind the extra snapshots, since I know our workflow doesn\'t give easy access to just update the necessary snapshots.\r\n> \r\n> At glance, the first 4 snapshots definitely require changing, but the rest don\'t seem to change at all according to my human eyes. If possible, I\'d encourage you to try taking out snapshots that don\'t visually change and see if the PR still pass since that will make it less likely to cause conflicts for other snapshots. Imagine different PRs updating the same snapshots, but they don\'t look any difference, then there would be a conflict.\r\n\r\nThanks @WiNloSt, I was wondering about that as well in [my original PR](https://github.com/metabase/metabase/pull/51727#discussion_r1901407807). I will go ahead and remove the ""unchanged"" files.\r\n\r\nOn the one hand, more files in the diff means more chance of conflict if someone else has real updates to those files, but on the other hand if you remove them, will they keep appearing in the diff and need to be removed any time anyone tries to update the snapshots? I was hoping that by committing them, the next update would be ""clean"".', 'created_at': datetime.datetime(2025, 1, 6, 15, 43, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574449608, 'issue_id': 2768363076, 'author': 'WiNloSt', 'body': '> I was hoping that by committing them, the next update would be ""clean"".\r\n\r\nFrom my time with Loki, it\'s never clean. You could always get different snapshots that look exactly the same.', 'created_at': datetime.datetime(2025, 1, 7, 5, 57, 4, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-04 02:42:05 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/24_tests-48ab4551-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51768?repo=metabase/metabase&commitHash=48ab4551a7e30a4d3ea0974372c936b1d9eee3fc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51768?repo=metabase/metabase&commitHash=48ab4551a7e30a4d3ea0974372c936b1d9eee3fc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51768?repo=metabase/metabase&commitHash=48ab4551a7e30a4d3ea0974372c936b1d9eee3fc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51768?repo=metabase/metabase&commitHash=48ab4551a7e30a4d3ea0974372c936b1d9eee3fc&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51768?repo=metabase/metabase&commitHash=48ab4551a7e30a4d3ea0974372c936b1d9eee3fc&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

appleby (Issue Creator) on (2025-01-06 15:43:40 UTC): Thanks @WiNloSt, I was wondering about that as well in [my original PR](https://github.com/metabase/metabase/pull/51727#discussion_r1901407807). I will go ahead and remove the ""unchanged"" files.

On the one hand, more files in the diff means more chance of conflict if someone else has real updates to those files, but on the other hand if you remove them, will they keep appearing in the diff and need to be removed any time anyone tries to update the snapshots? I was hoping that by committing them, the next update would be ""clean"".

WiNloSt on (2025-01-07 05:57:04 UTC): From my time with Loki, it's never clean. You could always get different snapshots that look exactly the same.

"
2768353977,pull_request,closed,,"ü§ñ backported ""Fix compare-aggregations drill for multi-stage queries""",#51608,github-automation-metabase,2025-01-04 01:39:32+00:00,"['appleby', 'github-automation-metabase']",2025-01-06 21:01:18+00:00,2025-01-06 19:42:33+00:00,https://github.com/metabase/metabase/pull/51767,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2570006036, 'issue_id': 2768353977, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/20707_tests-11fd3a96-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51767?repo=metabase/metabase&commitHash=11fd3a968b76818116c6216644b32c099149298d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51767?repo=metabase/metabase&commitHash=11fd3a968b76818116c6216644b32c099149298d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51767?repo=metabase/metabase&commitHash=11fd3a968b76818116c6216644b32c099149298d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51767?repo=metabase/metabase&commitHash=11fd3a968b76818116c6216644b32c099149298d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51767?repo=metabase/metabase&commitHash=11fd3a968b76818116c6216644b32c099149298d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 4, 2, 10, 23, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-04 02:10:23 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/20707_tests-11fd3a96-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51767?repo=metabase/metabase&commitHash=11fd3a968b76818116c6216644b32c099149298d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51767?repo=metabase/metabase&commitHash=11fd3a968b76818116c6216644b32c099149298d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51767?repo=metabase/metabase&commitHash=11fd3a968b76818116c6216644b32c099149298d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51767?repo=metabase/metabase&commitHash=11fd3a968b76818116c6216644b32c099149298d&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51767?repo=metabase/metabase&commitHash=11fd3a968b76818116c6216644b32c099149298d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2768225999,pull_request,closed,,New deactivated_at field on users,"Adds a `deactivated_at` column on users, and updates/clears it accordingly when users are deactivated or reactivated.

Closes https://github.com/metabase/metabase/issues/51728",noahmoss,2025-01-03 21:58:07+00:00,['noahmoss'],2025-01-09 20:43:22+00:00,2025-01-09 19:51:56+00:00,https://github.com/metabase/metabase/pull/51765,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2569869497, 'issue_id': 2768225999, 'author': 'noahmoss', 'body': '* **#51765** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51765?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51765?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 3, 21, 58, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569906558, 'issue_id': 2768225999, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/127430_tests-ec462cc6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51765?repo=metabase/metabase&commitHash=ec462cc69c006cb929bc5f47694ccba080347613&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51765?repo=metabase/metabase&commitHash=ec462cc69c006cb929bc5f47694ccba080347613&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/8-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51765?repo=metabase/metabase&commitHash=ec462cc69c006cb929bc5f47694ccba080347613&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51765?repo=metabase/metabase&commitHash=ec462cc69c006cb929bc5f47694ccba080347613&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find an accessible element with the role ""button"" and name ""Done"" after 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51765?repo=metabase/metabase&commitHash=ec462cc69c006cb929bc5f47694ccba080347613&utm_source=gh-comment&runConclusion=FAILURE&runId=da68e588-5929-558a-807f-1382dd1f1c2a) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51765?repo=metabase/metabase&commitHash=ec462cc69c006cb929bc5f47694ccba080347613&utm_source=gh-comment&runConclusion=FAILURE&runId=517ef4fd-69af-523b-a284-9bc31d832b79) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51765?repo=metabase/metabase&commitHash=ec462cc69c006cb929bc5f47694ccba080347613&utm_source=gh-comment&runConclusion=FAILURE&runId=19ad585f-1f59-5d51-98bf-eb1f793116cf) |\n| <code>issue 16886 shouldn\'t remove parts of the query when choosing \'Run selected text\' (metabase\\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51765?repo=metabase/metabase&commitHash=ec462cc69c006cb929bc5f47694ccba080347613&utm_source=gh-comment&runConclusion=FAILURE&runId=7c5597c3-ee3e-56b2-a57c-5b855edf9efa) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51765?repo=metabase/metabase&commitHash=ec462cc69c006cb929bc5f47694ccba080347613&utm_source=gh-comment&runConclusion=FAILURE&runId=40c28e8a-5d0c-5897-9ccd-37dd58483d24) |\n\n[... and 4 more](https://app.trunk.io/metabase/flaky-tests/pr/51765?repo=metabase/metabase&commitHash=ec462cc69c006cb929bc5f47694ccba080347613&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51765?repo=metabase/metabase&commitHash=ec462cc69c006cb929bc5f47694ccba080347613&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 3, 22, 48, 48, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2025-01-03 21:58:24 UTC): * **#51765** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51765?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51765?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2025-01-03 22:48:48 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/127430_tests-ec462cc6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51765?repo=metabase/metabase&commitHash=ec462cc69c006cb929bc5f47694ccba080347613&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51765?repo=metabase/metabase&commitHash=ec462cc69c006cb929bc5f47694ccba080347613&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/8-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51765?repo=metabase/metabase&commitHash=ec462cc69c006cb929bc5f47694ccba080347613&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51765?repo=metabase/metabase&commitHash=ec462cc69c006cb929bc5f47694ccba080347613&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find an accessible element with the role ""button"" and name ""Done"" after 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51765?repo=metabase/metabase&commitHash=ec462cc69c006cb929bc5f47694ccba080347613&utm_source=gh-comment&runConclusion=FAILURE&runId=da68e588-5929-558a-807f-1382dd1f1c2a) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51765?repo=metabase/metabase&commitHash=ec462cc69c006cb929bc5f47694ccba080347613&utm_source=gh-comment&runConclusion=FAILURE&runId=517ef4fd-69af-523b-a284-9bc31d832b79) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51765?repo=metabase/metabase&commitHash=ec462cc69c006cb929bc5f47694ccba080347613&utm_source=gh-comment&runConclusion=FAILURE&runId=19ad585f-1f59-5d51-98bf-eb1f793116cf) |
| <code>issue 16886 shouldn't remove parts of the query when choosing 'Run selected text' (metabase\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51765?repo=metabase/metabase&commitHash=ec462cc69c006cb929bc5f47694ccba080347613&utm_source=gh-comment&runConclusion=FAILURE&runId=7c5597c3-ee3e-56b2-a57c-5b855edf9efa) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51765?repo=metabase/metabase&commitHash=ec462cc69c006cb929bc5f47694ccba080347613&utm_source=gh-comment&runConclusion=FAILURE&runId=40c28e8a-5d0c-5897-9ccd-37dd58483d24) |

[... and 4 more](https://app.trunk.io/metabase/flaky-tests/pr/51765?repo=metabase/metabase&commitHash=ec462cc69c006cb929bc5f47694ccba080347613&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51765?repo=metabase/metabase&commitHash=ec462cc69c006cb929bc5f47694ccba080347613&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2768215528,pull_request,closed,,docs - relocate contributing file,Closes https://github.com/metabase/metabase/issues/27454.,jeff-bruemmer,2025-01-03 21:45:09+00:00,['jeff-bruemmer'],2025-01-07 20:09:51+00:00,2025-01-07 20:09:49+00:00,https://github.com/metabase/metabase/pull/51764,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2768201100,pull_request,closed,,docs - add note about live api docs,Adds note about live OpenAPI docs to generated docs.,jeff-bruemmer,2025-01-03 21:32:21+00:00,['jeff-bruemmer'],2025-01-06 21:50:08+00:00,2025-01-06 21:48:48+00:00,https://github.com/metabase/metabase/pull/51759,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2569884897, 'issue_id': 2768201100, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/122184_tests-675a47d3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51759?repo=metabase/metabase&commitHash=675a47d3141929d692a272fbc55a0bc1fe3f28ad&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/13-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51759?repo=metabase/metabase&commitHash=675a47d3141929d692a272fbc55a0bc1fe3f28ad&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51759?repo=metabase/metabase&commitHash=675a47d3141929d692a272fbc55a0bc1fe3f28ad&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51759?repo=metabase/metabase&commitHash=675a47d3141929d692a272fbc55a0bc1fe3f28ad&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>endpoint-page-test</code> | Expected and actual values do not match for the endpoint documentation. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51759?repo=metabase/metabase&commitHash=675a47d3141929d692a272fbc55a0bc1fe3f28ad&utm_source=gh-comment&runConclusion=FAILURE&runId=f47536bb-6a52-543a-98d4-0a4480107d5b) |\n| <code>endpoint-page-test</code> | Expected and actual values do not match for the endpoint documentation. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51759?repo=metabase/metabase&commitHash=675a47d3141929d692a272fbc55a0bc1fe3f28ad&utm_source=gh-comment&runConclusion=FAILURE&runId=ede7203c-2450-526e-a83b-68802874e0eb) |\n| <code>endpoint-page-test</code> | Expected and actual values do not match for the endpoint documentation. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51759?repo=metabase/metabase&commitHash=675a47d3141929d692a272fbc55a0bc1fe3f28ad&utm_source=gh-comment&runConclusion=FAILURE&runId=a53809ea-9d50-5e1c-abbc-7bea851aaab9) |\n| <code>endpoint-page-test</code> | Expected and actual values do not match for the endpoint documentation. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51759?repo=metabase/metabase&commitHash=675a47d3141929d692a272fbc55a0bc1fe3f28ad&utm_source=gh-comment&runConclusion=FAILURE&runId=4192ddec-81a7-54a4-afe4-551f2c31e86e) |\n\n[... and 9 more](https://app.trunk.io/metabase/flaky-tests/pr/51759?repo=metabase/metabase&commitHash=675a47d3141929d692a272fbc55a0bc1fe3f28ad&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:327:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\\#'sync.fingerprint/max-refingerp... | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51759?repo=metabase/metabase&commitHash=675a47d3141929d692a272fbc55a0bc1fe3f28ad&utm_source=gh-comment&runConclusion=FAILURE&runId=956e2f78-bf24-5dee-b2ac-65d8cc738fd9) |\n| <code>count-of-grouping-test</code> | The count of checkins in a minute does not match the expected value. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51759?repo=metabase/metabase&commitHash=675a47d3141929d692a272fbc55a0bc1fe3f28ad&utm_source=gh-comment&runConclusion=FAILURE&runId=bf086d67-66f4-5755-80d9-f705a6f97fdd) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51759?repo=metabase/metabase&commitHash=675a47d3141929d692a272fbc55a0bc1fe3f28ad&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 3, 22, 18, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573987315, 'issue_id': 2768201100, 'author': 'jeff-bruemmer', 'body': 'Closing in favor of https://github.com/metabase/metabase/pull/51559', 'created_at': datetime.datetime(2025, 1, 6, 21, 48, 58, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-03 22:18:05 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/122184_tests-675a47d3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51759?repo=metabase/metabase&commitHash=675a47d3141929d692a272fbc55a0bc1fe3f28ad&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/13-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51759?repo=metabase/metabase&commitHash=675a47d3141929d692a272fbc55a0bc1fe3f28ad&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51759?repo=metabase/metabase&commitHash=675a47d3141929d692a272fbc55a0bc1fe3f28ad&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51759?repo=metabase/metabase&commitHash=675a47d3141929d692a272fbc55a0bc1fe3f28ad&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>endpoint-page-test</code> | Expected and actual values do not match for the endpoint documentation. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51759?repo=metabase/metabase&commitHash=675a47d3141929d692a272fbc55a0bc1fe3f28ad&utm_source=gh-comment&runConclusion=FAILURE&runId=f47536bb-6a52-543a-98d4-0a4480107d5b) |
| <code>endpoint-page-test</code> | Expected and actual values do not match for the endpoint documentation. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51759?repo=metabase/metabase&commitHash=675a47d3141929d692a272fbc55a0bc1fe3f28ad&utm_source=gh-comment&runConclusion=FAILURE&runId=ede7203c-2450-526e-a83b-68802874e0eb) |
| <code>endpoint-page-test</code> | Expected and actual values do not match for the endpoint documentation. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51759?repo=metabase/metabase&commitHash=675a47d3141929d692a272fbc55a0bc1fe3f28ad&utm_source=gh-comment&runConclusion=FAILURE&runId=a53809ea-9d50-5e1c-abbc-7bea851aaab9) |
| <code>endpoint-page-test</code> | Expected and actual values do not match for the endpoint documentation. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51759?repo=metabase/metabase&commitHash=675a47d3141929d692a272fbc55a0bc1fe3f28ad&utm_source=gh-comment&runConclusion=FAILURE&runId=4192ddec-81a7-54a4-afe4-551f2c31e86e) |

[... and 9 more](https://app.trunk.io/metabase/flaky-tests/pr/51759?repo=metabase/metabase&commitHash=675a47d3141929d692a272fbc55a0bc1fe3f28ad&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:327:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerp... | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51759?repo=metabase/metabase&commitHash=675a47d3141929d692a272fbc55a0bc1fe3f28ad&utm_source=gh-comment&runConclusion=FAILURE&runId=956e2f78-bf24-5dee-b2ac-65d8cc738fd9) |
| <code>count-of-grouping-test</code> | The count of checkins in a minute does not match the expected value. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51759?repo=metabase/metabase&commitHash=675a47d3141929d692a272fbc55a0bc1fe3f28ad&utm_source=gh-comment&runConclusion=FAILURE&runId=bf086d67-66f4-5755-80d9-f705a6f97fdd) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51759?repo=metabase/metabase&commitHash=675a47d3141929d692a272fbc55a0bc1fe3f28ad&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

jeff-bruemmer (Issue Creator) on (2025-01-06 21:48:58 UTC): Closing in favor of https://github.com/metabase/metabase/pull/51559

"
2768173910,pull_request,closed,,"ü§ñ backported ""Fix compare-aggregations drill for multi-stage queries""",#51608,github-automation-metabase,2025-01-03 21:06:00+00:00,"['appleby', 'github-automation-metabase']",2025-01-03 22:46:19+00:00,2025-01-03 21:48:14+00:00,https://github.com/metabase/metabase/pull/51754,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2569865286, 'issue_id': 2768173910, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/130056_tests-988bc717-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51754?repo=metabase/metabase&commitHash=988bc71731a0e2ac2df97330fc5f885c88f4aed0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51754?repo=metabase/metabase&commitHash=988bc71731a0e2ac2df97330fc5f885c88f4aed0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51754?repo=metabase/metabase&commitHash=988bc71731a0e2ac2df97330fc5f885c88f4aed0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51754?repo=metabase/metabase&commitHash=988bc71731a0e2ac2df97330fc5f885c88f4aed0&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>CollectionPicker should render the path back to personal collection</code> | The element was expected to have a ""data-active"" attribute with value ""true"", but it was null. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51754?repo=metabase/metabase&commitHash=988bc71731a0e2ac2df97330fc5f885c88f4aed0&utm_source=gh-comment&runConclusion=FAILURE&runId=4fd1cb35-4115-5e8a-9f9d-60e613936b2e) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51754?repo=metabase/metabase&commitHash=988bc71731a0e2ac2df97330fc5f885c88f4aed0&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 3, 21, 53, 11, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-03 21:53:11 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/130056_tests-988bc717-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51754?repo=metabase/metabase&commitHash=988bc71731a0e2ac2df97330fc5f885c88f4aed0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51754?repo=metabase/metabase&commitHash=988bc71731a0e2ac2df97330fc5f885c88f4aed0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51754?repo=metabase/metabase&commitHash=988bc71731a0e2ac2df97330fc5f885c88f4aed0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51754?repo=metabase/metabase&commitHash=988bc71731a0e2ac2df97330fc5f885c88f4aed0&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>CollectionPicker should render the path back to personal collection</code> | The element was expected to have a ""data-active"" attribute with value ""true"", but it was null. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51754?repo=metabase/metabase&commitHash=988bc71731a0e2ac2df97330fc5f885c88f4aed0&utm_source=gh-comment&runConclusion=FAILURE&runId=4fd1cb35-4115-5e8a-9f9d-60e613936b2e) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51754?repo=metabase/metabase&commitHash=988bc71731a0e2ac2df97330fc5f885c88f4aed0&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2768172340,pull_request,closed,,"ü§ñ backported ""Fix the zoom-in.binning drill thru for multi-stage queries""",#51489,github-automation-metabase,2025-01-03 21:04:25+00:00,"['appleby', 'github-automation-metabase']",2025-01-06 17:46:09+00:00,2025-01-06 16:51:29+00:00,https://github.com/metabase/metabase/pull/51753,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2569818023, 'issue_id': 2768172340, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 865d4c2efe12d880dc5cf2ee2cf7e919bc3e4678...00956ffd0cae6210373d70cce4a84f0ccea6e76b.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/lib/table.js |', 'created_at': datetime.datetime(2025, 1, 3, 21, 5, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569867654, 'issue_id': 2768172340, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/130092_tests-00956ffd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51753?repo=metabase/metabase&commitHash=00956ffd0cae6210373d70cce4a84f0ccea6e76b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51753?repo=metabase/metabase&commitHash=00956ffd0cae6210373d70cce4a84f0ccea6e76b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51753?repo=metabase/metabase&commitHash=00956ffd0cae6210373d70cce4a84f0ccea6e76b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51753?repo=metabase/metabase&commitHash=00956ffd0cae6210373d70cce4a84f0ccea6e76b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51753?repo=metabase/metabase&commitHash=00956ffd0cae6210373d70cce4a84f0ccea6e76b&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 3, 21, 56, 5, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2025-01-03 21:05:53 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 865d4c2efe12d880dc5cf2ee2cf7e919bc3e4678...00956ffd0cae6210373d70cce4a84f0ccea6e76b.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/lib/table.js |

trunk-io[bot] on (2025-01-03 21:56:05 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/130092_tests-00956ffd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51753?repo=metabase/metabase&commitHash=00956ffd0cae6210373d70cce4a84f0ccea6e76b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51753?repo=metabase/metabase&commitHash=00956ffd0cae6210373d70cce4a84f0ccea6e76b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51753?repo=metabase/metabase&commitHash=00956ffd0cae6210373d70cce4a84f0ccea6e76b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51753?repo=metabase/metabase&commitHash=00956ffd0cae6210373d70cce4a84f0ccea6e76b&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51753?repo=metabase/metabase&commitHash=00956ffd0cae6210373d70cce4a84f0ccea6e76b&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2768113957,pull_request,closed,,"ü§ñ backported ""docs - separate google sign-in and ldap docs""","  #51746
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2025-01-03 20:11:10+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2025-01-06 15:32:10+00:00,2025-01-06 14:52:24+00:00,https://github.com/metabase/metabase/pull/51750,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2573256117, 'issue_id': 2768113957, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/24_tests-1ddeef4e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51750?repo=metabase/metabase&commitHash=1ddeef4e7fcfae0253840fc6ddd0e90aaace20cf&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51750?repo=metabase/metabase&commitHash=1ddeef4e7fcfae0253840fc6ddd0e90aaace20cf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51750?repo=metabase/metabase&commitHash=1ddeef4e7fcfae0253840fc6ddd0e90aaace20cf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51750?repo=metabase/metabase&commitHash=1ddeef4e7fcfae0253840fc6ddd0e90aaace20cf&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51750?repo=metabase/metabase&commitHash=1ddeef4e7fcfae0253840fc6ddd0e90aaace20cf&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 6, 14, 43, 17, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-06 14:43:17 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/24_tests-1ddeef4e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51750?repo=metabase/metabase&commitHash=1ddeef4e7fcfae0253840fc6ddd0e90aaace20cf&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51750?repo=metabase/metabase&commitHash=1ddeef4e7fcfae0253840fc6ddd0e90aaace20cf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51750?repo=metabase/metabase&commitHash=1ddeef4e7fcfae0253840fc6ddd0e90aaace20cf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51750?repo=metabase/metabase&commitHash=1ddeef4e7fcfae0253840fc6ddd0e90aaace20cf&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51750?repo=metabase/metabase&commitHash=1ddeef4e7fcfae0253840fc6ddd0e90aaace20cf&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2768058413,pull_request,closed,,Fix Kondo linter for with-temp and add linters for Malli explain/validate,"I found some broken/missing Kondo linters and fixed them. 

- There was a linter that told people to use `mt/with-temp` instead of `t2.with-temp/with-temp` (for consistency I guess, even tho the former is just a Potemkin alias to the latter) but it was broken, so I fixed it and fixed the lint errors.
- Add discouraged-var linters telling you to use the versions of Malli `explain`/`explainer`/`validate`/`validator` in `metabase.util.malli.registry`, since those have built-in caching and the normal versions do not. 
- Add a new custom linter that warns if you are using `me/humanize` in combination with `validate` -- this does not work. You need to use it in combination with `explain`. Fix a lot of buggy code that was doing the wrong thing

This PR will speed up performance for ""traditional"" defendpoint a bit, since it was using uncached Malli validation to check parameters (ü§Æ) ",camsaul,2025-01-03 19:22:20+00:00,[],2025-01-27 22:12:19+00:00,2025-01-09 00:04:38+00:00,https://github.com/metabase/metabase/pull/51747,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2578381345, 'issue_id': 2768058413, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/8777_tests-1adccbd4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51747?repo=metabase/metabase&commitHash=1adccbd45bb04954a6d42899ca824a8dbd3e5fe7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51747?repo=metabase/metabase&commitHash=1adccbd45bb04954a6d42899ca824a8dbd3e5fe7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51747?repo=metabase/metabase&commitHash=1adccbd45bb04954a6d42899ca824a8dbd3e5fe7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51747?repo=metabase/metabase&commitHash=1adccbd45bb04954a6d42899ca824a8dbd3e5fe7&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51747?repo=metabase/metabase&commitHash=1adccbd45bb04954a6d42899ca824a8dbd3e5fe7&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 8, 18, 48, 9, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-08 18:48:09 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/8777_tests-1adccbd4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51747?repo=metabase/metabase&commitHash=1adccbd45bb04954a6d42899ca824a8dbd3e5fe7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51747?repo=metabase/metabase&commitHash=1adccbd45bb04954a6d42899ca824a8dbd3e5fe7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51747?repo=metabase/metabase&commitHash=1adccbd45bb04954a6d42899ca824a8dbd3e5fe7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51747?repo=metabase/metabase&commitHash=1adccbd45bb04954a6d42899ca824a8dbd3e5fe7&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51747?repo=metabase/metabase&commitHash=1adccbd45bb04954a6d42899ca824a8dbd3e5fe7&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2768024147,pull_request,closed,,docs - separate google sign-in and ldap docs,Breaks up the Google Sign-in and LDAP docs into separate pages. Added some additional edits as well.,jeff-bruemmer,2025-01-03 18:52:19+00:00,['jeff-bruemmer'],2025-01-06 14:52:50+00:00,2025-01-03 20:10:15+00:00,https://github.com/metabase/metabase/pull/51746,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2767988689,pull_request,closed,,[Cards in Dashboards] Allow creating dashboards from entity picker,"Part of #50176

### Description

This PR adds the option to create a dashboard from the Collection Picker when picking a save location for questions. Additionally, this PR updates the create dashboard button for the Dashboard Picker for consistency.

### How to verify

Positive test:
- Create a new question, try saving it
- Chose where to save it from the Save Question modal
- Navigate to the `Browse` tab
- See new 'New dashboard' button in the bottom left of the modal in addition to the updated 'New collection' button

Negative test:
- Create a new model, going through the same flow as above
- Navigate to the `Collections` tab
- See that only the 'New collection' button exists

### Demo

Question:
![CleanShot 2025-01-03 at 12 20 03@2x](https://github.com/user-attachments/assets/4d7a2398-14f0-412d-8bd9-a3199f9e3624)

Model:
![CleanShot 2025-01-03 at 12 19 08@2x](https://github.com/user-attachments/assets/7e79a6a5-1dac-49c1-935b-af9cb6a43584)

Updated dashboard picker to collection picker:
![CleanShot 2025-01-03 at 12 23 02@2x](https://github.com/user-attachments/assets/46ac4776-af20-447b-8ac9-69b24fd07b79)

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",sloansparger,2025-01-03 18:20:57+00:00,['sloansparger'],2025-01-27 22:12:07+00:00,2025-01-10 18:41:01+00:00,https://github.com/metabase/metabase/pull/51745,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2569905888, 'issue_id': 2767988689, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/4035_tests-4df38c99-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51745?repo=metabase/metabase&commitHash=4df38c9988a4d24cbd0eb8a038f671e2634ee509&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51745?repo=metabase/metabase&commitHash=4df38c9988a4d24cbd0eb8a038f671e2634ee509&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/8-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51745?repo=metabase/metabase&commitHash=4df38c9988a4d24cbd0eb8a038f671e2634ee509&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51745?repo=metabase/metabase&commitHash=4df38c9988a4d24cbd0eb8a038f671e2634ee509&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51745?repo=metabase/metabase&commitHash=4df38c9988a4d24cbd0eb8a038f671e2634ee509&utm_source=gh-comment&runConclusion=FAILURE&runId=bd280ec8-c846-5099-96e0-9beecfec3613) |\n| <code>issue 16886 shouldn\'t remove parts of the query when choosing \'Run selected text\' (metabase\\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51745?repo=metabase/metabase&commitHash=4df38c9988a4d24cbd0eb8a038f671e2634ee509&utm_source=gh-comment&runConclusion=FAILURE&runId=8238ea52-93bc-51e8-b2c9-b7268507cc4a) |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | Unable to find an element with the text ""View details"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51745?repo=metabase/metabase&commitHash=4df38c9988a4d24cbd0eb8a038f671e2634ee509&utm_source=gh-comment&runConclusion=FAILURE&runId=a5c134a8-9c7c-5477-aac1-35cc415ed050) |\n| <code>scenarios > question > native displays an error when running selected text</code> | The test timed out waiting for the expected content \'Table ""ORD"" not found\' in the response. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51745?repo=metabase/metabase&commitHash=4df38c9988a4d24cbd0eb8a038f671e2634ee509&utm_source=gh-comment&runConclusion=FAILURE&runId=50cf0f5c-857a-5dee-8901-d9058095d19a) |\n\n[... and 4 more](https://app.trunk.io/metabase/flaky-tests/pr/51745?repo=metabase/metabase&commitHash=4df38c9988a4d24cbd0eb8a038f671e2634ee509&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51745?repo=metabase/metabase&commitHash=4df38c9988a4d24cbd0eb8a038f671e2634ee509&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 3, 22, 47, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582924445, 'issue_id': 2767988689, 'author': 'sloansparger', 'body': ""@rafpaf if you're fine with it, can I do this in a follow-up PR? this is already the case with collections created on the go today unfortunately."", 'created_at': datetime.datetime(2025, 1, 10, 15, 10, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582935054, 'issue_id': 2767988689, 'author': 'rafpaf', 'body': 'not a blocker, but maybe worth addressing briefly in a follow-up: with the on-the-go modal open, `esc` closes the top two modals in the stack', 'created_at': datetime.datetime(2025, 1, 10, 15, 15, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582952304, 'issue_id': 2767988689, 'author': 'sloansparger', 'body': '@rafpaf good news is another open PR of mine has the `esc` fix', 'created_at': datetime.datetime(2025, 1, 10, 15, 23, 38, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-03 22:47:42 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/4035_tests-4df38c99-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51745?repo=metabase/metabase&commitHash=4df38c9988a4d24cbd0eb8a038f671e2634ee509&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51745?repo=metabase/metabase&commitHash=4df38c9988a4d24cbd0eb8a038f671e2634ee509&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/8-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51745?repo=metabase/metabase&commitHash=4df38c9988a4d24cbd0eb8a038f671e2634ee509&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51745?repo=metabase/metabase&commitHash=4df38c9988a4d24cbd0eb8a038f671e2634ee509&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51745?repo=metabase/metabase&commitHash=4df38c9988a4d24cbd0eb8a038f671e2634ee509&utm_source=gh-comment&runConclusion=FAILURE&runId=bd280ec8-c846-5099-96e0-9beecfec3613) |
| <code>issue 16886 shouldn't remove parts of the query when choosing 'Run selected text' (metabase\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51745?repo=metabase/metabase&commitHash=4df38c9988a4d24cbd0eb8a038f671e2634ee509&utm_source=gh-comment&runConclusion=FAILURE&runId=8238ea52-93bc-51e8-b2c9-b7268507cc4a) |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | Unable to find an element with the text ""View details"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51745?repo=metabase/metabase&commitHash=4df38c9988a4d24cbd0eb8a038f671e2634ee509&utm_source=gh-comment&runConclusion=FAILURE&runId=a5c134a8-9c7c-5477-aac1-35cc415ed050) |
| <code>scenarios > question > native displays an error when running selected text</code> | The test timed out waiting for the expected content 'Table ""ORD"" not found' in the response. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51745?repo=metabase/metabase&commitHash=4df38c9988a4d24cbd0eb8a038f671e2634ee509&utm_source=gh-comment&runConclusion=FAILURE&runId=50cf0f5c-857a-5dee-8901-d9058095d19a) |

[... and 4 more](https://app.trunk.io/metabase/flaky-tests/pr/51745?repo=metabase/metabase&commitHash=4df38c9988a4d24cbd0eb8a038f671e2634ee509&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51745?repo=metabase/metabase&commitHash=4df38c9988a4d24cbd0eb8a038f671e2634ee509&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

sloansparger (Issue Creator) on (2025-01-10 15:10:14 UTC): @rafpaf if you're fine with it, can I do this in a follow-up PR? this is already the case with collections created on the go today unfortunately.

rafpaf on (2025-01-10 15:15:16 UTC): not a blocker, but maybe worth addressing briefly in a follow-up: with the on-the-go modal open, `esc` closes the top two modals in the stack

sloansparger (Issue Creator) on (2025-01-10 15:23:38 UTC): @rafpaf good news is another open PR of mine has the `esc` fix

"
2767926325,pull_request,closed,,[Cards in Dashboards] Fix focus getting lost in nested Save question modals,"Part of #50176

### Description

If a user opened the entity picker from the save question modal and closed it via an escape key press, they could not close the parent Save question modal with another escape key press. This PR fixes that.

### How to verify

1. Go to save question modal
2. Click on input to save where to save your question
3. Press escape (entity picker should go away)
4. Press escape again (save question modal should not also go away)

### Demo

https://github.com/user-attachments/assets/987d7ee7-df6f-40b4-9b41-e6782ccad32c

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",sloansparger,2025-01-03 17:27:21+00:00,['sloansparger'],2025-01-27 22:12:11+00:00,2025-01-10 15:30:17+00:00,https://github.com/metabase/metabase/pull/51743,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2569639845, 'issue_id': 2767926325, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13185_tests-a9b6b6a3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51743?repo=metabase/metabase&commitHash=a9b6b6a3b9011589718106fa5c2f906c9b656c54&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51743?repo=metabase/metabase&commitHash=a9b6b6a3b9011589718106fa5c2f906c9b656c54&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51743?repo=metabase/metabase&commitHash=a9b6b6a3b9011589718106fa5c2f906c9b656c54&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51743?repo=metabase/metabase&commitHash=a9b6b6a3b9011589718106fa5c2f906c9b656c54&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51743?repo=metabase/metabase&commitHash=a9b6b6a3b9011589718106fa5c2f906c9b656c54&utm_source=gh-comment&runConclusion=FAILURE&runId=1be54caa-ed02-5e28-8949-acd00ba63759) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51743?repo=metabase/metabase&commitHash=a9b6b6a3b9011589718106fa5c2f906c9b656c54&utm_source=gh-comment&runConclusion=FAILURE&runId=1b400a09-a7ed-5abf-89b6-b3ffc4cc4bab) |\n| <code>scenarios > visualizations > pie chart should mute items in legend when hovering (metabase\\#29224)</code> | The expected attribute 'aria-current' with value 'true' was not found in an HTML element. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51743?repo=metabase/metabase&commitHash=a9b6b6a3b9011589718106fa5c2f906c9b656c54&utm_source=gh-comment&runConclusion=FAILURE&runId=d8f8b4e2-5b2c-54a4-beea-8482815ff915) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51743?repo=metabase/metabase&commitHash=a9b6b6a3b9011589718106fa5c2f906c9b656c54&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 3, 18, 21, 20, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-03 18:21:20 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13185_tests-a9b6b6a3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51743?repo=metabase/metabase&commitHash=a9b6b6a3b9011589718106fa5c2f906c9b656c54&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51743?repo=metabase/metabase&commitHash=a9b6b6a3b9011589718106fa5c2f906c9b656c54&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51743?repo=metabase/metabase&commitHash=a9b6b6a3b9011589718106fa5c2f906c9b656c54&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51743?repo=metabase/metabase&commitHash=a9b6b6a3b9011589718106fa5c2f906c9b656c54&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51743?repo=metabase/metabase&commitHash=a9b6b6a3b9011589718106fa5c2f906c9b656c54&utm_source=gh-comment&runConclusion=FAILURE&runId=1be54caa-ed02-5e28-8949-acd00ba63759) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51743?repo=metabase/metabase&commitHash=a9b6b6a3b9011589718106fa5c2f906c9b656c54&utm_source=gh-comment&runConclusion=FAILURE&runId=1b400a09-a7ed-5abf-89b6-b3ffc4cc4bab) |
| <code>scenarios > visualizations > pie chart should mute items in legend when hovering (metabase\#29224)</code> | The expected attribute 'aria-current' with value 'true' was not found in an HTML element. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51743?repo=metabase/metabase&commitHash=a9b6b6a3b9011589718106fa5c2f906c9b656c54&utm_source=gh-comment&runConclusion=FAILURE&runId=d8f8b4e2-5b2c-54a4-beea-8482815ff915) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51743?repo=metabase/metabase&commitHash=a9b6b6a3b9011589718106fa5c2f906c9b656c54&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2767781820,pull_request,closed,,"ü§ñ backported ""Enable N-parallelism for e2e tests""","  #51433

‚úÖ  Conflicts resolved",github-automation-metabase,2025-01-03 15:40:06+00:00,"['iethree', 'github-automation-metabase']",2025-01-07 16:43:28+00:00,2025-01-07 16:43:26+00:00,https://github.com/metabase/metabase/pull/51740,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2569496462, 'issue_id': 2767781820, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3411_tests-c9d899db-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51740?repo=metabase/metabase&commitHash=c9d899db865f4ce889dd10e3e73f45a17fba0e8d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51740?repo=metabase/metabase&commitHash=c9d899db865f4ce889dd10e3e73f45a17fba0e8d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51740?repo=metabase/metabase&commitHash=c9d899db865f4ce889dd10e3e73f45a17fba0e8d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51740?repo=metabase/metabase&commitHash=c9d899db865f4ce889dd10e3e73f45a17fba0e8d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51740?repo=metabase/metabase&commitHash=c9d899db865f4ce889dd10e3e73f45a17fba0e8d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 3, 16, 25, 50, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-03 16:25:50 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3411_tests-c9d899db-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51740?repo=metabase/metabase&commitHash=c9d899db865f4ce889dd10e3e73f45a17fba0e8d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51740?repo=metabase/metabase&commitHash=c9d899db865f4ce889dd10e3e73f45a17fba0e8d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51740?repo=metabase/metabase&commitHash=c9d899db865f4ce889dd10e3e73f45a17fba0e8d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51740?repo=metabase/metabase&commitHash=c9d899db865f4ce889dd10e3e73f45a17fba0e8d&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51740?repo=metabase/metabase&commitHash=c9d899db865f4ce889dd10e3e73f45a17fba0e8d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2767726999,pull_request,closed,,"ü§ñ backported ""dopcs - add link to support matrix""",#51737,github-automation-metabase,2025-01-03 15:06:30+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2025-01-03 15:08:31+00:00,2025-01-03 15:08:30+00:00,https://github.com/metabase/metabase/pull/51739,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2767712265,pull_request,closed,,dopcs - add link to support matrix,Adds link to JDBC driver support matrix for SQL server.,jeff-bruemmer,2025-01-03 14:56:25+00:00,['jeff-bruemmer'],2025-01-03 15:08:59+00:00,2025-01-03 15:05:35+00:00,https://github.com/metabase/metabase/pull/51737,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2767611127,pull_request,closed,,feat: improve display of <img> in `TableInteractive` component,,Rhmaric,2025-01-03 13:51:08+00:00,[],2025-01-03 13:51:46+00:00,2025-01-03 13:51:46+00:00,https://github.com/metabase/metabase/pull/51736,[],[],
2767541035,pull_request,closed,,[Notification] PoC Map disk,,qnkhuat,2025-01-03 13:00:23+00:00,['qnkhuat'],2025-01-09 02:49:48+00:00,2025-01-09 02:49:48+00:00,https://github.com/metabase/metabase/pull/51734,"[('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2569237729, 'issue_id': 2767541035, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/131659_tests-92ba6943-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51734?repo=metabase/metabase&commitHash=92ba6943dd73bdb7c65769f2c2c3f7ecb28d1994&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51734?repo=metabase/metabase&commitHash=92ba6943dd73bdb7c65769f2c2c3f7ecb28d1994&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51734?repo=metabase/metabase&commitHash=92ba6943dd73bdb7c65769f2c2c3f7ecb28d1994&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51734?repo=metabase/metabase&commitHash=92ba6943dd73bdb7c65769f2c2c3f7ecb28d1994&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>xray-dashboards-work-test</code> | A deadlock was detected in the database while updating a tuple in the ""report\\_card"" relation. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51734?repo=metabase/metabase&commitHash=92ba6943dd73bdb7c65769f2c2c3f7ecb28d1994&utm_source=gh-comment&runConclusion=FAILURE&runId=e82c4560-2915-57ae-8fc5-a22c3ee877f0) |\n| <code>e2e-storage-ingestion-test</code> | Expected entity to match the expected value, but actual value was different. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51734?repo=metabase/metabase&commitHash=92ba6943dd73bdb7c65769f2c2c3f7ecb28d1994&utm_source=gh-comment&runConclusion=FAILURE&runId=557bea5d-aa7a-5216-a5f0-9059fc9dceca) |\n| <code>issue 16886 shouldn\'t remove parts of the query when choosing \'Run selected text\' (metabase\\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51734?repo=metabase/metabase&commitHash=92ba6943dd73bdb7c65769f2c2c3f7ecb28d1994&utm_source=gh-comment&runConclusion=FAILURE&runId=734355b2-fcf7-5da7-9d9a-d86006d674fe) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51734?repo=metabase/metabase&commitHash=92ba6943dd73bdb7c65769f2c2c3f7ecb28d1994&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 3, 13, 40, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579074689, 'issue_id': 2767541035, 'author': 'qnkhuat', 'body': 'Close in favor of https://github.com/metabase/metabase/pull/51708', 'created_at': datetime.datetime(2025, 1, 9, 2, 49, 48, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-03 13:40:11 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/131659_tests-92ba6943-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51734?repo=metabase/metabase&commitHash=92ba6943dd73bdb7c65769f2c2c3f7ecb28d1994&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51734?repo=metabase/metabase&commitHash=92ba6943dd73bdb7c65769f2c2c3f7ecb28d1994&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51734?repo=metabase/metabase&commitHash=92ba6943dd73bdb7c65769f2c2c3f7ecb28d1994&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51734?repo=metabase/metabase&commitHash=92ba6943dd73bdb7c65769f2c2c3f7ecb28d1994&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>xray-dashboards-work-test</code> | A deadlock was detected in the database while updating a tuple in the ""report\_card"" relation. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51734?repo=metabase/metabase&commitHash=92ba6943dd73bdb7c65769f2c2c3f7ecb28d1994&utm_source=gh-comment&runConclusion=FAILURE&runId=e82c4560-2915-57ae-8fc5-a22c3ee877f0) |
| <code>e2e-storage-ingestion-test</code> | Expected entity to match the expected value, but actual value was different. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51734?repo=metabase/metabase&commitHash=92ba6943dd73bdb7c65769f2c2c3f7ecb28d1994&utm_source=gh-comment&runConclusion=FAILURE&runId=557bea5d-aa7a-5216-a5f0-9059fc9dceca) |
| <code>issue 16886 shouldn't remove parts of the query when choosing 'Run selected text' (metabase\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51734?repo=metabase/metabase&commitHash=92ba6943dd73bdb7c65769f2c2c3f7ecb28d1994&utm_source=gh-comment&runConclusion=FAILURE&runId=734355b2-fcf7-5da7-9d9a-d86006d674fe) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51734?repo=metabase/metabase&commitHash=92ba6943dd73bdb7c65769f2c2c3f7ecb28d1994&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

qnkhuat (Issue Creator) on (2025-01-09 02:49:48 UTC): Close in favor of https://github.com/metabase/metabase/pull/51708

"
2767323711,pull_request,closed,,Update urls,"Closes https://github.com/metabase/metabase/issues/49791

Updated links. Tested manually
",NevRA,2025-01-03 10:19:53+00:00,['NevRA'],2025-01-03 12:16:43+00:00,2025-01-03 11:51:53+00:00,https://github.com/metabase/metabase/pull/51732,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2569060918, 'issue_id': 2767323711, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13304_tests-34313c99-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51732?repo=metabase/metabase&commitHash=34313c99adee036518f926b71120eaa756f7850c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51732?repo=metabase/metabase&commitHash=34313c99adee036518f926b71120eaa756f7850c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51732?repo=metabase/metabase&commitHash=34313c99adee036518f926b71120eaa756f7850c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51732?repo=metabase/metabase&commitHash=34313c99adee036518f926b71120eaa756f7850c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51732?repo=metabase/metabase&commitHash=34313c99adee036518f926b71120eaa756f7850c&utm_source=gh-comment&runConclusion=FAILURE&runId=db1daacd-7333-5d1f-b1ce-603f2f0a212b) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51732?repo=metabase/metabase&commitHash=34313c99adee036518f926b71120eaa756f7850c&utm_source=gh-comment&runConclusion=FAILURE&runId=45bd4e75-e025-5cb4-b18d-35a2e3ae11af) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51732?repo=metabase/metabase&commitHash=34313c99adee036518f926b71120eaa756f7850c&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 3, 11, 11, 17, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-03 11:11:17 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13304_tests-34313c99-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51732?repo=metabase/metabase&commitHash=34313c99adee036518f926b71120eaa756f7850c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51732?repo=metabase/metabase&commitHash=34313c99adee036518f926b71120eaa756f7850c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51732?repo=metabase/metabase&commitHash=34313c99adee036518f926b71120eaa756f7850c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51732?repo=metabase/metabase&commitHash=34313c99adee036518f926b71120eaa756f7850c&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51732?repo=metabase/metabase&commitHash=34313c99adee036518f926b71120eaa756f7850c&utm_source=gh-comment&runConclusion=FAILURE&runId=db1daacd-7333-5d1f-b1ce-603f2f0a212b) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51732?repo=metabase/metabase&commitHash=34313c99adee036518f926b71120eaa756f7850c&utm_source=gh-comment&runConclusion=FAILURE&runId=45bd4e75-e025-5cb4-b18d-35a2e3ae11af) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51732?repo=metabase/metabase&commitHash=34313c99adee036518f926b71120eaa756f7850c&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2766864346,pull_request,open,,Query Limits Do Not Override Download Row Limits,"Fixes: #51620

Prior to this change, if a user set a limit in a query to, say 20 rows, but the MB_DOWNLOAD_ROW_LIMIT was 10, the download would contain 20 rows (the limit from the query). This is not the intended behaviour, so this PR fixes the logic in the middleware that applies the row limits.

It IS intended that the MB_DOWNLOAD_ROW_LIMIT can exceed the max-query-rows limit. Why? because it is sometimes desirable to download a CSV with more rows than the max-limit, which is actually derived from Excel's max. row limit, not necessarily a deliberate choice. This use case may be uncommon, but was partly the reason for the addition of the MB_DOWNLOAD_ROW_LIMIT env. var in the first place, so that behaviour is preserved.
",adam-james-v,2025-01-03 01:46:32+00:00,['adam-james-v'],2025-01-03 01:48:57+00:00,,https://github.com/metabase/metabase/pull/51729,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]",[],
2766840193,pull_request,closed,,Update Loki snapshots for 2025,"### Description

Ask CI to update the Loki Date Filter dropdown snapshot for 2025.

### How to verify

Run Loki tests locally or see recent failing CI run here:

https://github.com/metabase/metabase/actions/runs/12589606152/job/35089717192?pr=51608

### Demo

Loki tests are currently failing with diff that looks like

![chrome_laptop_embed_PublicOrEmbeddedDashboardView_filters_Light_Theme_Date_Filter_Quarter_Year_Dropdown](https://github.com/user-attachments/assets/9f4b288a-3cc1-43c2-9881-14efa31f9af4)

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",appleby,2025-01-03 01:01:13+00:00,['appleby'],2025-01-06 18:43:20+00:00,2025-01-04 01:50:22+00:00,https://github.com/metabase/metabase/pull/51727,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2568589297, 'issue_id': 2766840193, 'author': 'appleby', 'body': 'First time updating Loki tests. I just pushed an empty commit and added the `loki-update` label. Let me know if I need to do anything else.', 'created_at': datetime.datetime(2025, 1, 3, 1, 30, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569624413, 'issue_id': 2766840193, 'author': 'appleby', 'body': 'Already fixed in https://github.com/metabase/metabase/pull/51661', 'created_at': datetime.datetime(2025, 1, 3, 18, 7, 5, tzinfo=datetime.timezone.utc)}]","appleby (Issue Creator) on (2025-01-03 01:30:35 UTC): First time updating Loki tests. I just pushed an empty commit and added the `loki-update` label. Let me know if I need to do anything else.

appleby (Issue Creator) on (2025-01-03 18:07:05 UTC): Already fixed in https://github.com/metabase/metabase/pull/51661

"
2766701290,pull_request,closed,,Actions preprocess queries before compiling,"We need to preprocess queries (and use the results) to ensure that we properly cast arguments in where clauses

Closes https://github.com/metabase/metabase/issues/47139

### Description

The original issue was happening because we weren't converting the arguments in the where clause to uuids and then trying to compare a string to a uuid.  To fix this, we need to preprocess the query, which checks the types of arguments and annotates things so that when we generate the sql, it will convert things appropriately.  However, preprocessing also includes limit parameters, which we need to eliminate if we want to generate valid sql.

### How to verify

Follow the steps in the issue

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",wzimrin,2025-01-02 22:03:11+00:00,['wzimrin'],2025-01-09 00:50:11+00:00,2025-01-08 23:52:45+00:00,https://github.com/metabase/metabase/pull/51724,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2569568455, 'issue_id': 2766701290, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/101061_tests-3df203ae-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51724?repo=metabase/metabase&commitHash=3df203aefba6f1aba7dac0698f91704d71ee4fdc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51724?repo=metabase/metabase&commitHash=3df203aefba6f1aba7dac0698f91704d71ee4fdc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51724?repo=metabase/metabase&commitHash=3df203aefba6f1aba7dac0698f91704d71ee4fdc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51724?repo=metabase/metabase&commitHash=3df203aefba6f1aba7dac0698f91704d71ee4fdc&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51724?repo=metabase/metabase&commitHash=3df203aefba6f1aba7dac0698f91704d71ee4fdc&utm_source=gh-comment&runConclusion=FAILURE&runId=18f28656-1894-5245-ab7d-deb23c4c08fe) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51724?repo=metabase/metabase&commitHash=3df203aefba6f1aba7dac0698f91704d71ee4fdc&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 3, 17, 20, 51, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-03 17:20:51 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/101061_tests-3df203ae-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51724?repo=metabase/metabase&commitHash=3df203aefba6f1aba7dac0698f91704d71ee4fdc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51724?repo=metabase/metabase&commitHash=3df203aefba6f1aba7dac0698f91704d71ee4fdc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51724?repo=metabase/metabase&commitHash=3df203aefba6f1aba7dac0698f91704d71ee4fdc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51724?repo=metabase/metabase&commitHash=3df203aefba6f1aba7dac0698f91704d71ee4fdc&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51724?repo=metabase/metabase&commitHash=3df203aefba6f1aba7dac0698f91704d71ee4fdc&utm_source=gh-comment&runConclusion=FAILURE&runId=18f28656-1894-5245-ab7d-deb23c4c08fe) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51724?repo=metabase/metabase&commitHash=3df203aefba6f1aba7dac0698f91704d71ee4fdc&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2766675789,pull_request,closed,,"ü§ñ backported ""üçæ  üéÜ Happy new year e2e test fixes üéÜ  üçæ """,#51720,github-automation-metabase,2025-01-02 21:37:48+00:00,"['iethree', 'github-automation-metabase']",2025-01-02 23:44:14+00:00,2025-01-02 22:57:13+00:00,https://github.com/metabase/metabase/pull/51723,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2568454194, 'issue_id': 2766675789, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3418_tests-03950884-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51723?repo=metabase/metabase&commitHash=0395088467a0cdbddc2b7b27987a2f8bc2644b20&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51723?repo=metabase/metabase&commitHash=0395088467a0cdbddc2b7b27987a2f8bc2644b20&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51723?repo=metabase/metabase&commitHash=0395088467a0cdbddc2b7b27987a2f8bc2644b20&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51723?repo=metabase/metabase&commitHash=0395088467a0cdbddc2b7b27987a2f8bc2644b20&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51723?repo=metabase/metabase&commitHash=0395088467a0cdbddc2b7b27987a2f8bc2644b20&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 2, 22, 22, 8, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-02 22:22:08 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3418_tests-03950884-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51723?repo=metabase/metabase&commitHash=0395088467a0cdbddc2b7b27987a2f8bc2644b20&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51723?repo=metabase/metabase&commitHash=0395088467a0cdbddc2b7b27987a2f8bc2644b20&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51723?repo=metabase/metabase&commitHash=0395088467a0cdbddc2b7b27987a2f8bc2644b20&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51723?repo=metabase/metabase&commitHash=0395088467a0cdbddc2b7b27987a2f8bc2644b20&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51723?repo=metabase/metabase&commitHash=0395088467a0cdbddc2b7b27987a2f8bc2644b20&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2766671244,pull_request,closed,,"ü§ñ backported ""üçæ  üéÜ Happy new year e2e test fixes üéÜ  üçæ ""","  #51720

‚úÖ  conflict resolved",github-automation-metabase,2025-01-02 21:32:55+00:00,"['iethree', 'github-automation-metabase']",2025-01-02 23:03:44+00:00,2025-01-02 22:17:27+00:00,https://github.com/metabase/metabase/pull/51722,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2568456709, 'issue_id': 2766671244, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3518_tests-bd908dd9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51722?repo=metabase/metabase&commitHash=bd908dd95f9882c23f8f7494acc76c02ae388183&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51722?repo=metabase/metabase&commitHash=bd908dd95f9882c23f8f7494acc76c02ae388183&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51722?repo=metabase/metabase&commitHash=bd908dd95f9882c23f8f7494acc76c02ae388183&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51722?repo=metabase/metabase&commitHash=bd908dd95f9882c23f8f7494acc76c02ae388183&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51722?repo=metabase/metabase&commitHash=bd908dd95f9882c23f8f7494acc76c02ae388183&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 2, 22, 25, 11, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-02 22:25:11 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3518_tests-bd908dd9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51722?repo=metabase/metabase&commitHash=bd908dd95f9882c23f8f7494acc76c02ae388183&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51722?repo=metabase/metabase&commitHash=bd908dd95f9882c23f8f7494acc76c02ae388183&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51722?repo=metabase/metabase&commitHash=bd908dd95f9882c23f8f7494acc76c02ae388183&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51722?repo=metabase/metabase&commitHash=bd908dd95f9882c23f8f7494acc76c02ae388183&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51722?repo=metabase/metabase&commitHash=bd908dd95f9882c23f8f7494acc76c02ae388183&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2766654330,pull_request,closed,,Fix `FormTextInput` styling,"### Description

#51395 introduced a mistake where we'd show an empty error state after our `FormTextInput` had been touched when there was no error. This PR fixes that.

### Demo

Before
![CleanShot 2025-01-02 at 15 13 16@2x](https://github.com/user-attachments/assets/0da127f1-a251-4bfc-a71b-82503292c1cc)

After
![CleanShot 2025-01-02 at 15 13 31@2x](https://github.com/user-attachments/assets/5e62404a-dfdf-488a-ae5f-d245dde652f2)",sloansparger,2025-01-02 21:17:24+00:00,['sloansparger'],2025-01-27 22:12:38+00:00,2025-01-06 19:39:32+00:00,https://github.com/metabase/metabase/pull/51721,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2568431589, 'issue_id': 2766654330, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13247_tests-e67a31f4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51721?repo=metabase/metabase&commitHash=e67a31f4cebf234d042ad76bcbd91534e4880877&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51721?repo=metabase/metabase&commitHash=e67a31f4cebf234d042ad76bcbd91534e4880877&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51721?repo=metabase/metabase&commitHash=e67a31f4cebf234d042ad76bcbd91534e4880877&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51721?repo=metabase/metabase&commitHash=e67a31f4cebf234d042ad76bcbd91534e4880877&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51721?repo=metabase/metabase&commitHash=e67a31f4cebf234d042ad76bcbd91534e4880877&utm_source=gh-comment&runConclusion=FAILURE&runId=f62350e1-64fa-5fa6-9ca8-c69985fd5669) |\n| <code>issue 16886 shouldn\'t remove parts of the query when choosing \'Run selected text\' (metabase\\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51721?repo=metabase/metabase&commitHash=e67a31f4cebf234d042ad76bcbd91534e4880877&utm_source=gh-comment&runConclusion=FAILURE&runId=61e4924a-213e-5017-9294-18181d13d993) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51721?repo=metabase/metabase&commitHash=e67a31f4cebf234d042ad76bcbd91534e4880877&utm_source=gh-comment&runConclusion=FAILURE&runId=4e161d0e-5347-5ae6-a152-8d56b8c0fa9b) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51721?repo=metabase/metabase&commitHash=e67a31f4cebf234d042ad76bcbd91534e4880877&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 2, 21, 57, 43, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-02 21:57:43 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13247_tests-e67a31f4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51721?repo=metabase/metabase&commitHash=e67a31f4cebf234d042ad76bcbd91534e4880877&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51721?repo=metabase/metabase&commitHash=e67a31f4cebf234d042ad76bcbd91534e4880877&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51721?repo=metabase/metabase&commitHash=e67a31f4cebf234d042ad76bcbd91534e4880877&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51721?repo=metabase/metabase&commitHash=e67a31f4cebf234d042ad76bcbd91534e4880877&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51721?repo=metabase/metabase&commitHash=e67a31f4cebf234d042ad76bcbd91534e4880877&utm_source=gh-comment&runConclusion=FAILURE&runId=f62350e1-64fa-5fa6-9ca8-c69985fd5669) |
| <code>issue 16886 shouldn't remove parts of the query when choosing 'Run selected text' (metabase\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51721?repo=metabase/metabase&commitHash=e67a31f4cebf234d042ad76bcbd91534e4880877&utm_source=gh-comment&runConclusion=FAILURE&runId=61e4924a-213e-5017-9294-18181d13d993) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51721?repo=metabase/metabase&commitHash=e67a31f4cebf234d042ad76bcbd91534e4880877&utm_source=gh-comment&runConclusion=FAILURE&runId=4e161d0e-5347-5ae6-a152-8d56b8c0fa9b) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51721?repo=metabase/metabase&commitHash=e67a31f4cebf234d042ad76bcbd91534e4880877&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2766604741,pull_request,closed,,üçæ  üéÜ Happy new year e2e test fixes üéÜ  üçæ ,Fixing a handful of tests that rely on relative date filters that stopped working when 2024 rolled over to 2025. üôÉ ,iethree,2025-01-02 20:28:44+00:00,['iethree'],2025-01-02 22:57:40+00:00,2025-01-02 21:31:29+00:00,https://github.com/metabase/metabase/pull/51720,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2568406054, 'issue_id': 2766604741, 'author': 'iethree', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2025, 1, 2, 21, 31, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568407144, 'issue_id': 2766604741, 'author': 'github-actions[bot]', 'body': '@iethree Manual conflict resolution is required', 'created_at': datetime.datetime(2025, 1, 2, 21, 32, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568410691, 'issue_id': 2766604741, 'author': 'iethree', 'body': '@metabase-bot backport release-x.52.x', 'created_at': datetime.datetime(2025, 1, 2, 21, 36, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568423820, 'issue_id': 2766604741, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3748_tests-8bdd9495-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51720?repo=metabase/metabase&commitHash=8bdd9495ab97940c8da99078cb1418120f9f7aa5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51720?repo=metabase/metabase&commitHash=8bdd9495ab97940c8da99078cb1418120f9f7aa5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51720?repo=metabase/metabase&commitHash=8bdd9495ab97940c8da99078cb1418120f9f7aa5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51720?repo=metabase/metabase&commitHash=8bdd9495ab97940c8da99078cb1418120f9f7aa5&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\\#37726)</code> | The test timed out while trying to find an element with the text ""Product ‚Üí Category"" in the UI. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51720?repo=metabase/metabase&commitHash=8bdd9495ab97940c8da99078cb1418120f9f7aa5&utm_source=gh-comment&runConclusion=FAILURE&runId=9b59c791-c6a7-5586-8f70-5e373e161293) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51720?repo=metabase/metabase&commitHash=8bdd9495ab97940c8da99078cb1418120f9f7aa5&utm_source=gh-comment&runConclusion=FAILURE&runId=53502c24-3f88-5ae6-ad57-44995413a2f4) |\n| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51720?repo=metabase/metabase&commitHash=8bdd9495ab97940c8da99078cb1418120f9f7aa5&utm_source=gh-comment&runConclusion=FAILURE&runId=e0ce13a5-71d9-58b7-89fa-75a3baf95199) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51720?repo=metabase/metabase&commitHash=8bdd9495ab97940c8da99078cb1418120f9f7aa5&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 2, 21, 49, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568492616, 'issue_id': 2766604741, 'author': 'github-actions[bot]', 'body': 'üöÄ This should also be released by [v0.52.5](https://github.com/metabase/metabase/milestone/296)', 'created_at': datetime.datetime(2025, 1, 2, 22, 57, 39, tzinfo=datetime.timezone.utc)}]","iethree (Issue Creator) on (2025-01-02 21:31:51 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2025-01-02 21:32:58 UTC): @iethree Manual conflict resolution is required

iethree (Issue Creator) on (2025-01-02 21:36:39 UTC): @metabase-bot backport release-x.52.x

trunk-io[bot] on (2025-01-02 21:49:52 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3748_tests-8bdd9495-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51720?repo=metabase/metabase&commitHash=8bdd9495ab97940c8da99078cb1418120f9f7aa5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51720?repo=metabase/metabase&commitHash=8bdd9495ab97940c8da99078cb1418120f9f7aa5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51720?repo=metabase/metabase&commitHash=8bdd9495ab97940c8da99078cb1418120f9f7aa5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51720?repo=metabase/metabase&commitHash=8bdd9495ab97940c8da99078cb1418120f9f7aa5&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\#37726)</code> | The test timed out while trying to find an element with the text ""Product ‚Üí Category"" in the UI. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51720?repo=metabase/metabase&commitHash=8bdd9495ab97940c8da99078cb1418120f9f7aa5&utm_source=gh-comment&runConclusion=FAILURE&runId=9b59c791-c6a7-5586-8f70-5e373e161293) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51720?repo=metabase/metabase&commitHash=8bdd9495ab97940c8da99078cb1418120f9f7aa5&utm_source=gh-comment&runConclusion=FAILURE&runId=53502c24-3f88-5ae6-ad57-44995413a2f4) |
| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | The test timed out while trying to find an element with the text ""Filter by this value"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51720?repo=metabase/metabase&commitHash=8bdd9495ab97940c8da99078cb1418120f9f7aa5&utm_source=gh-comment&runConclusion=FAILURE&runId=e0ce13a5-71d9-58b7-89fa-75a3baf95199) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51720?repo=metabase/metabase&commitHash=8bdd9495ab97940c8da99078cb1418120f9f7aa5&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-02 22:57:39 UTC): üöÄ This should also be released by [v0.52.5](https://github.com/metabase/metabase/milestone/296)

"
2766560042,pull_request,closed,,docs - in function for custom expressions,Documents `in` function.,jeff-bruemmer,2025-01-02 19:52:50+00:00,['jeff-bruemmer'],2025-01-27 22:12:32+00:00,2025-01-07 20:14:14+00:00,https://github.com/metabase/metabase/pull/51719,"[('Type:Documentation', ''), ('no-backport', 'Do not backport this PR to any branch')]",[],
2766555615,pull_request,closed,,docs: fix alert links,copy-paste gone wrong in #51697 ,alexyarosh,2025-01-02 19:48:49+00:00,['alexyarosh'],2025-01-02 20:09:50+00:00,2025-01-02 20:09:23+00:00,https://github.com/metabase/metabase/pull/51718,"[('Type:Documentation', ''), ('no-backport', 'Do not backport this PR to any branch')]",[],
2766535431,pull_request,closed,,Remove deprecated `enable-enhancements?`,"Quick follow-on to https://github.com/metabase/metabase/pull/51700. `enable-enhancements?` is deprecated, and the only remaining usage can be replaced with `enable-snippet-collections?`.",noahmoss,2025-01-02 19:30:17+00:00,['noahmoss'],2025-01-14 16:57:06+00:00,2025-01-14 16:56:57+00:00,https://github.com/metabase/metabase/pull/51716,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2568269658, 'issue_id': 2766535431, 'author': 'noahmoss', 'body': '* **#51716** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51716?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51716?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* **#51700** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51700?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2025, 1, 2, 19, 30, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568323715, 'issue_id': 2766535431, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/132441_tests-0b9f74f2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51716?repo=metabase/metabase&commitHash=0b9f74f2273345be88dc6f4014f3bdfbd3c68011&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51716?repo=metabase/metabase&commitHash=0b9f74f2273345be88dc6f4014f3bdfbd3c68011&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/7-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51716?repo=metabase/metabase&commitHash=0b9f74f2273345be88dc6f4014f3bdfbd3c68011&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51716?repo=metabase/metabase&commitHash=0b9f74f2273345be88dc6f4014f3bdfbd3c68011&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > dashboard > dashboard cards > click behavior line chart allows setting dashboard without filters as custom destination and changing it...</code> | The expected condition \'true\' was not met, and the actual value was \'false\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51716?repo=metabase/metabase&commitHash=0b9f74f2273345be88dc6f4014f3bdfbd3c68011&utm_source=gh-comment&runConclusion=FAILURE&runId=c042894c-dc34-5519-8473-83bc98b988ff) |\n| <code>scenarios > dashboard > dashboard cards > click behavior line chart allows setting dashboard without filters as custom destination and changing it...</code> | The expected condition \'true\' was not met, and the actual value was \'false\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51716?repo=metabase/metabase&commitHash=0b9f74f2273345be88dc6f4014f3bdfbd3c68011&utm_source=gh-comment&runConclusion=FAILURE&runId=fb8d60cb-b0e0-5b82-bbab-fed94cbd9963) |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51716?repo=metabase/metabase&commitHash=0b9f74f2273345be88dc6f4014f3bdfbd3c68011&utm_source=gh-comment&runConclusion=FAILURE&runId=c27c4043-f571-5aee-aa4c-d266bd860231) |\n| <code>scenarios > dashboard > dashboard cards > click behavior line chart allows setting dashboard without filters as custom destination and changing it...</code> | The expected condition \'true\' was not met, and the actual value was \'false\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51716?repo=metabase/metabase&commitHash=0b9f74f2273345be88dc6f4014f3bdfbd3c68011&utm_source=gh-comment&runConclusion=FAILURE&runId=0a20e903-3225-5a0c-bd3f-4627e23223ca) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51716?repo=metabase/metabase&commitHash=0b9f74f2273345be88dc6f4014f3bdfbd3c68011&utm_source=gh-comment&runConclusion=FAILURE&runId=8c44b4f9-d652-5e91-8dcf-b9b90fdeec7b) |\n| <code>issue 16886 shouldn\'t remove parts of the query when choosing \'Run selected text\' (metabase\\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51716?repo=metabase/metabase&commitHash=0b9f74f2273345be88dc6f4014f3bdfbd3c68011&utm_source=gh-comment&runConclusion=FAILURE&runId=e004d708-6962-5272-bd93-bc529e6de372) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51716?repo=metabase/metabase&commitHash=0b9f74f2273345be88dc6f4014f3bdfbd3c68011&utm_source=gh-comment&runConclusion=FAILURE&runId=a1a721bb-f930-56e4-85c4-346b12438333) |\n| <code>issue 16886 shouldn\'t remove parts of the query when choosing \'Run selected text\' (metabase\\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51716?repo=metabase/metabase&commitHash=0b9f74f2273345be88dc6f4014f3bdfbd3c68011&utm_source=gh-comment&runConclusion=FAILURE&runId=04852f32-69b8-5df6-9e2a-1e1294b31a50) |\n\n[... and 3 more](https://app.trunk.io/metabase/flaky-tests/pr/51716?repo=metabase/metabase&commitHash=0b9f74f2273345be88dc6f4014f3bdfbd3c68011&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51716?repo=metabase/metabase&commitHash=0b9f74f2273345be88dc6f4014f3bdfbd3c68011&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 2, 20, 20, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2590565330, 'issue_id': 2766535431, 'author': 'noahmoss', 'body': 'Closing for now since this ended up being more complex than expected', 'created_at': datetime.datetime(2025, 1, 14, 16, 56, 57, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2025-01-02 19:30:41 UTC): * **#51716** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51716?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51716?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* **#51700** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51700?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2025-01-02 20:20:18 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/132441_tests-0b9f74f2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51716?repo=metabase/metabase&commitHash=0b9f74f2273345be88dc6f4014f3bdfbd3c68011&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51716?repo=metabase/metabase&commitHash=0b9f74f2273345be88dc6f4014f3bdfbd3c68011&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/7-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51716?repo=metabase/metabase&commitHash=0b9f74f2273345be88dc6f4014f3bdfbd3c68011&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51716?repo=metabase/metabase&commitHash=0b9f74f2273345be88dc6f4014f3bdfbd3c68011&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > dashboard > dashboard cards > click behavior line chart allows setting dashboard without filters as custom destination and changing it...</code> | The expected condition 'true' was not met, and the actual value was 'false'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51716?repo=metabase/metabase&commitHash=0b9f74f2273345be88dc6f4014f3bdfbd3c68011&utm_source=gh-comment&runConclusion=FAILURE&runId=c042894c-dc34-5519-8473-83bc98b988ff) |
| <code>scenarios > dashboard > dashboard cards > click behavior line chart allows setting dashboard without filters as custom destination and changing it...</code> | The expected condition 'true' was not met, and the actual value was 'false'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51716?repo=metabase/metabase&commitHash=0b9f74f2273345be88dc6f4014f3bdfbd3c68011&utm_source=gh-comment&runConclusion=FAILURE&runId=fb8d60cb-b0e0-5b82-bbab-fed94cbd9963) |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51716?repo=metabase/metabase&commitHash=0b9f74f2273345be88dc6f4014f3bdfbd3c68011&utm_source=gh-comment&runConclusion=FAILURE&runId=c27c4043-f571-5aee-aa4c-d266bd860231) |
| <code>scenarios > dashboard > dashboard cards > click behavior line chart allows setting dashboard without filters as custom destination and changing it...</code> | The expected condition 'true' was not met, and the actual value was 'false'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51716?repo=metabase/metabase&commitHash=0b9f74f2273345be88dc6f4014f3bdfbd3c68011&utm_source=gh-comment&runConclusion=FAILURE&runId=0a20e903-3225-5a0c-bd3f-4627e23223ca) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51716?repo=metabase/metabase&commitHash=0b9f74f2273345be88dc6f4014f3bdfbd3c68011&utm_source=gh-comment&runConclusion=FAILURE&runId=8c44b4f9-d652-5e91-8dcf-b9b90fdeec7b) |
| <code>issue 16886 shouldn't remove parts of the query when choosing 'Run selected text' (metabase\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51716?repo=metabase/metabase&commitHash=0b9f74f2273345be88dc6f4014f3bdfbd3c68011&utm_source=gh-comment&runConclusion=FAILURE&runId=e004d708-6962-5272-bd93-bc529e6de372) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51716?repo=metabase/metabase&commitHash=0b9f74f2273345be88dc6f4014f3bdfbd3c68011&utm_source=gh-comment&runConclusion=FAILURE&runId=a1a721bb-f930-56e4-85c4-346b12438333) |
| <code>issue 16886 shouldn't remove parts of the query when choosing 'Run selected text' (metabase\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51716?repo=metabase/metabase&commitHash=0b9f74f2273345be88dc6f4014f3bdfbd3c68011&utm_source=gh-comment&runConclusion=FAILURE&runId=04852f32-69b8-5df6-9e2a-1e1294b31a50) |

[... and 3 more](https://app.trunk.io/metabase/flaky-tests/pr/51716?repo=metabase/metabase&commitHash=0b9f74f2273345be88dc6f4014f3bdfbd3c68011&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51716?repo=metabase/metabase&commitHash=0b9f74f2273345be88dc6f4014f3bdfbd3c68011&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

noahmoss (Issue Creator) on (2025-01-14 16:56:57 UTC): Closing for now since this ended up being more complex than expected

"
2766535101,pull_request,closed,,Cache logins in e2e tests,"ENG-9250

### Description

Instead of spending ~150ms logging in for every test, let's save session ids as part of our snapshotting process, and then just set cookies manually to log in (~10ms).

",iethree,2025-01-02 19:29:58+00:00,['iethree'],2025-01-07 22:04:36+00:00,2025-01-07 21:12:32+00:00,https://github.com/metabase/metabase/pull/51715,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2568423304, 'issue_id': 2766535101, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3699_tests-723aef5b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51715?repo=metabase/metabase&commitHash=723aef5b5ad230b5888323747f12ec50a1d23c2e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51715?repo=metabase/metabase&commitHash=723aef5b5ad230b5888323747f12ec50a1d23c2e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51715?repo=metabase/metabase&commitHash=723aef5b5ad230b5888323747f12ec50a1d23c2e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51715?repo=metabase/metabase&commitHash=723aef5b5ad230b5888323747f12ec50a1d23c2e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native should handle template tags</code> | The test timed out waiting for the expected content 'Showing 168 rows' to appear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51715?repo=metabase/metabase&commitHash=723aef5b5ad230b5888323747f12ec50a1d23c2e&utm_source=gh-comment&runConclusion=FAILURE&runId=aa3d248f-f391-557e-832c-c7e5221a119a) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51715?repo=metabase/metabase&commitHash=723aef5b5ad230b5888323747f12ec50a1d23c2e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 2, 21, 49, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569447600, 'issue_id': 2766535101, 'author': 'iethree', 'body': ""> This seems like it should work, but why go through all this length when you can just use `cy.session()`?\r\n\r\nI didn't know about `cy.session` I think I could make it work with that, but I'll still need to do some caching to the file system to be able to preserve the session IDs from the cache job, which runs in a different process than the rest of tests."", 'created_at': datetime.datetime(2025, 1, 3, 15, 50, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569470400, 'issue_id': 2766535101, 'author': 'filiphric', 'body': ""Maybe we could chat about this, I don't think I fully understand the limitation but I wo√∫d like to"", 'created_at': datetime.datetime(2025, 1, 3, 16, 6, 37, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-02 21:49:23 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3699_tests-723aef5b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51715?repo=metabase/metabase&commitHash=723aef5b5ad230b5888323747f12ec50a1d23c2e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51715?repo=metabase/metabase&commitHash=723aef5b5ad230b5888323747f12ec50a1d23c2e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51715?repo=metabase/metabase&commitHash=723aef5b5ad230b5888323747f12ec50a1d23c2e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51715?repo=metabase/metabase&commitHash=723aef5b5ad230b5888323747f12ec50a1d23c2e&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native should handle template tags</code> | The test timed out waiting for the expected content 'Showing 168 rows' to appear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51715?repo=metabase/metabase&commitHash=723aef5b5ad230b5888323747f12ec50a1d23c2e&utm_source=gh-comment&runConclusion=FAILURE&runId=aa3d248f-f391-557e-832c-c7e5221a119a) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51715?repo=metabase/metabase&commitHash=723aef5b5ad230b5888323747f12ec50a1d23c2e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

iethree (Issue Creator) on (2025-01-03 15:50:04 UTC): I didn't know about `cy.session` I think I could make it work with that, but I'll still need to do some caching to the file system to be able to preserve the session IDs from the cache job, which runs in a different process than the rest of tests.

filiphric on (2025-01-03 16:06:37 UTC): Maybe we could chat about this, I don't think I fully understand the limitation but I wo√∫d like to

"
2766424218,pull_request,closed,,Secret handling in details,"Secret handling in details was very confusing. This PR consolidates most of the logic into models.secret around toucan2 lifecycles of model/Database.

Some of the problems fixed here:
 - path and value confusion. It was possible to swap between uploaded files and file-paths and end up with the uploaded file being treated as a file-path and leaking to users in logs, APIs, and UIs.
 - Unclear management of secret properties in details. The responsibility for taking in secrets in details, saving to a Secret, and then ensuring those incoming secrets do not get saved in details was spread out all over the place. This made it possible to save a secret-value in details.
 - Unclear hydration of secret values for connection testing. How a driver was supposed to get a secret and which properties might be in details was unclear and inconsistent. Often mangling strings and files returned by Secret api was necessary.
 - Encoding problems. Uploaded files were being mangled by taking bytes into a string and back to bytes to save. Ensure that the bytes given are the bytes saved.
",snoe,2025-01-02 17:59:12+00:00,['snoe'],2025-01-20 20:29:02+00:00,2025-01-15 17:00:27+00:00,https://github.com/metabase/metabase/pull/51714,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Drivers', '')]","[{'comment_id': 2568218127, 'issue_id': 2766424218, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/122581_tests-c0e35ac6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51714?repo=metabase/metabase&commitHash=c0e35ac6840e57f4968739b3e7c47076c91dc828&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51714?repo=metabase/metabase&commitHash=c0e35ac6840e57f4968739b3e7c47076c91dc828&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51714?repo=metabase/metabase&commitHash=c0e35ac6840e57f4968739b3e7c47076c91dc828&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51714?repo=metabase/metabase&commitHash=c0e35ac6840e57f4968739b3e7c47076c91dc828&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51714?repo=metabase/metabase&commitHash=c0e35ac6840e57f4968739b3e7c47076c91dc828&utm_source=gh-comment&runConclusion=FAILURE&runId=5113da71-7ee9-509a-8102-a5e0fceb1a11) |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51714?repo=metabase/metabase&commitHash=c0e35ac6840e57f4968739b3e7c47076c91dc828&utm_source=gh-comment&runConclusion=FAILURE&runId=318f389d-4360-5f04-9af2-3f5b689c9c4c) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51714?repo=metabase/metabase&commitHash=c0e35ac6840e57f4968739b3e7c47076c91dc828&utm_source=gh-comment&runConclusion=FAILURE&runId=c25ae387-aaae-5845-ba7b-0155736e9152) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51714?repo=metabase/metabase&commitHash=c0e35ac6840e57f4968739b3e7c47076c91dc828&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 2, 18, 50, 12, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-02 18:50:12 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/122581_tests-c0e35ac6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51714?repo=metabase/metabase&commitHash=c0e35ac6840e57f4968739b3e7c47076c91dc828&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51714?repo=metabase/metabase&commitHash=c0e35ac6840e57f4968739b3e7c47076c91dc828&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51714?repo=metabase/metabase&commitHash=c0e35ac6840e57f4968739b3e7c47076c91dc828&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51714?repo=metabase/metabase&commitHash=c0e35ac6840e57f4968739b3e7c47076c91dc828&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51714?repo=metabase/metabase&commitHash=c0e35ac6840e57f4968739b3e7c47076c91dc828&utm_source=gh-comment&runConclusion=FAILURE&runId=5113da71-7ee9-509a-8102-a5e0fceb1a11) |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51714?repo=metabase/metabase&commitHash=c0e35ac6840e57f4968739b3e7c47076c91dc828&utm_source=gh-comment&runConclusion=FAILURE&runId=318f389d-4360-5f04-9af2-3f5b689c9c4c) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51714?repo=metabase/metabase&commitHash=c0e35ac6840e57f4968739b3e7c47076c91dc828&utm_source=gh-comment&runConclusion=FAILURE&runId=c25ae387-aaae-5845-ba7b-0155736e9152) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51714?repo=metabase/metabase&commitHash=c0e35ac6840e57f4968739b3e7c47076c91dc828&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2766379272,pull_request,open,,Improvements to new feature request to slack integration,"- Acts on issue open, not label, to make it less noisy
- Includes creator name
- Improves message formatting",brunobergher,2025-01-02 17:21:18+00:00,['brunobergher'],2025-01-02 17:22:14+00:00,,https://github.com/metabase/metabase/pull/51713,[],[],
2766133428,pull_request,closed,,Workflow: Slack Notification for New Feature Requests,"Tells the PMs when new feature requests come in.

### Checklist

Tests don't apply.
",brunobergher,2025-01-02 14:33:16+00:00,['brunobergher'],2025-01-27 22:12:40+00:00,2025-01-02 16:42:00+00:00,https://github.com/metabase/metabase/pull/51709,"[('.CI & Tests', ''), ('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2567876908, 'issue_id': 2766133428, 'author': 'brunobergher', 'body': '@perivamsi can please you hook me up with a webhook URL for `SLACK_FEATURE_REQUEST_TRIAGE_WEBHOOK_URL`?', 'created_at': datetime.datetime(2025, 1, 2, 14, 40, 50, tzinfo=datetime.timezone.utc)}]","brunobergher (Issue Creator) on (2025-01-02 14:40:50 UTC): @perivamsi can please you hook me up with a webhook URL for `SLACK_FEATURE_REQUEST_TRIAGE_WEBHOOK_URL`?

"
2766119904,pull_request,closed,,[Notification] reduce memory footprint,"Part 2 of tech doc: https://www.notion.so/metabase/Send-pulse-OOM-15969354c90180a3a43edde37a9298e5?pvs=4

Reduce memory usage when sending dashboard subscription by moving the cards data to disk.

Some results when running with 1GB heap.
Before:  OOM at ~125 cards. The whole `notification-payload` takes 275MB. Take 6.8s to send.
After:  OOM at ~210 cards. But 125 cards now take 14.9s seconds, and the `notification-payload` now takes `4.1MB`.

```
;; run this with -J-Xmx1g will OOM
(ns oom-send-notification
  {:clj-kondo/config '{:linters :ignore}}
  (:require
   [clojure.java.shell :as sh]
   [metabase.models.pulse :as models.pulse]
   [metabase.pulse.core :as pulse]
   [metabase.test :as mt]
   [metabase.util :as u]
   [metabase.util.log :as log]
   [toucan2.core :as t2]
   [toucan2.tools.with-temp :as t2.with-temp]))

(defn create-cards
  [n]
  (let [tables    (t2/select :model/Table :db_id (t2/select-one-pk :model/Database :is_sample true))
        get-table (fn [i] (nth tables (mod i (count tables))))]
    (t2/insert-returning-instances! :model/Card (for [i (range n)
                                                      :let [table (get-table i)]]
                                                  (merge
                                                   (t2.with-temp/with-temp-defaults :model/Card)
                                                   {:table_id (:id table)
                                                    :type     ""model""
                                                    :name     (format ""Model %d with table %s"" i (:name table))
                                                    :dataset_query {:database (:db_id table)
                                                                    :type     :query
                                                                    :query    {:source-table (:id table)}}})))))

(defn create-dashboard-cards
  [dashboard-id cards]
  (t2/insert-returning-instances! :model/DashboardCard (for [card cards]
                                                         (merge
                                                          (t2.with-temp/with-temp-defaults :model/DashboardCard)
                                                          {:dashboard_id dashboard-id
                                                           :card_id      (:id card)}))))

(defn make-big-dashboard
  [n-dashcards]
  (let [dashboard-id (t2/insert-returning-pk! :model/Dashboard (t2.with-temp/with-temp-defaults :model/Dashboard))]
    (create-dashboard-cards dashboard-id (create-cards n-dashcards))
    dashboard-id))

(defn create-dashboard-sub
  [n-dashcards]
  (let [dashboard-id (t2/insert-returning-pk! :model/Dashboard (t2.with-temp/with-temp-defaults :model/Dashboard))
        cards        (create-cards n-dashcards)
        dashboard-cards (create-dashboard-cards dashboard-id cards)
        pulse-cards   (map (fn [dashcard]
                             {:id                (:card_id dashcard)
                              :include_csv       false
                              :include_xls       false
                              :format_rows       false
                              :pivot_results     false
                              :dashboard_card_id (:id dashcard)})
                           dashboard-cards)
        pulse (models.pulse/create-pulse! pulse-cards
                                          [{:channel_type ""email""
                                            :enabled true
                                            :recipients [{:id (mt/user->id :crowberto)}]
                                            :schedule_type ""weekly""
                                            :schedule_hour 8
                                            :schedule_day  ""mon""}]
                                          {:name ""sup""
                                           :creator_id (mt/user->id :crowberto)
                                           :dashboard_id dashboard-id})]

    {:dashboard_id dashboard-id
     :pulse_id     (:id pulse)}))

(comment
  (System/gc)
  (mt/id)
  ;; 120 will oom with 1gb (4.1MiB vs 272.7 MiB)
  ;; 210 is fine with 1gb
  ;; old: 125 in 6.8s
  ;; new: 125 in 14.9s
  (def ids (create-dashboard-sub 125))
  (time
   (pulse/send-pulse! (t2/select-one :model/Pulse (:pulse_id ids)))))
```",qnkhuat,2025-01-02 14:24:31+00:00,['qnkhuat'],2025-01-13 05:50:19+00:00,2025-01-13 02:51:21+00:00,https://github.com/metabase/metabase/pull/51708,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2567912650, 'issue_id': 2766119904, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/128835_tests-22cc44e1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51708?repo=metabase/metabase&commitHash=22cc44e1b6090b9664856db6c72a6b12a69b0634&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51708?repo=metabase/metabase&commitHash=22cc44e1b6090b9664856db6c72a6b12a69b0634&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51708?repo=metabase/metabase&commitHash=22cc44e1b6090b9664856db6c72a6b12a69b0634&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51708?repo=metabase/metabase&commitHash=22cc44e1b6090b9664856db6c72a6b12a69b0634&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | The expected element \\`.Icon-arrow\\_down\\` was not found within the timeout of 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51708?repo=metabase/metabase&commitHash=22cc44e1b6090b9664856db6c72a6b12a69b0634&utm_source=gh-comment&runConclusion=FAILURE&runId=f9031e2b-d182-5595-95da-801dec7789be) |\n| <code>xray-dashboards-work-test</code> | Unique index or primary key violation occurred during database insertion. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51708?repo=metabase/metabase&commitHash=22cc44e1b6090b9664856db6c72a6b12a69b0634&utm_source=gh-comment&runConclusion=FAILURE&runId=02ed0dde-db7e-531f-9e6c-3e7d3e8cf548) |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51708?repo=metabase/metabase&commitHash=22cc44e1b6090b9664856db6c72a6b12a69b0634&utm_source=gh-comment&runConclusion=FAILURE&runId=90530d6e-de67-5d16-8850-3f04ee7ca8e3) |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\#24966)</code> | The \'body\' property was accessed on an undefined object. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51708?repo=metabase/metabase&commitHash=22cc44e1b6090b9664856db6c72a6b12a69b0634&utm_source=gh-comment&runConclusion=FAILURE&runId=e1c4d8ae-c258-5a6e-a675-b5d73220387a) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51708?repo=metabase/metabase&commitHash=22cc44e1b6090b9664856db6c72a6b12a69b0634&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 2, 15, 4, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577168054, 'issue_id': 2766119904, 'author': 'piranha', 'body': '@crisptrutski we\'ve discussed better approaches for a few days ‚Äî I for instance think that having some ""special"" value deep inside the map is hostile to a user. But given we\'re not making channels public for everyone to write and there are quite a few questions about the better approach we\'ve decided to do the smallest change possible to see if it actually helps on prod, and then get back to the API structuring later.', 'created_at': datetime.datetime(2025, 1, 8, 9, 14, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577209689, 'issue_id': 2766119904, 'author': 'qnkhuat', 'body': ""@crisptrutski yes I'm not happy with the API either, we also explored with a couple of different approaches https://github.com/metabase/metabase/pull/51734, https://github.com/metabase/metabase/pull/51778 but haven't gotten a satisfied approach. \r\n\r\nI think we'll have to rethinking how channel consume `notification-payload` so that it's more predictable and stable. but that's the problem for another day."", 'created_at': datetime.datetime(2025, 1, 8, 9, 34, 47, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-02 15:04:47 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/128835_tests-22cc44e1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51708?repo=metabase/metabase&commitHash=22cc44e1b6090b9664856db6c72a6b12a69b0634&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51708?repo=metabase/metabase&commitHash=22cc44e1b6090b9664856db6c72a6b12a69b0634&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51708?repo=metabase/metabase&commitHash=22cc44e1b6090b9664856db6c72a6b12a69b0634&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51708?repo=metabase/metabase&commitHash=22cc44e1b6090b9664856db6c72a6b12a69b0634&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | The expected element \`.Icon-arrow\_down\` was not found within the timeout of 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51708?repo=metabase/metabase&commitHash=22cc44e1b6090b9664856db6c72a6b12a69b0634&utm_source=gh-comment&runConclusion=FAILURE&runId=f9031e2b-d182-5595-95da-801dec7789be) |
| <code>xray-dashboards-work-test</code> | Unique index or primary key violation occurred during database insertion. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51708?repo=metabase/metabase&commitHash=22cc44e1b6090b9664856db6c72a6b12a69b0634&utm_source=gh-comment&runConclusion=FAILURE&runId=02ed0dde-db7e-531f-9e6c-3e7d3e8cf548) |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51708?repo=metabase/metabase&commitHash=22cc44e1b6090b9664856db6c72a6b12a69b0634&utm_source=gh-comment&runConclusion=FAILURE&runId=90530d6e-de67-5d16-8850-3f04ee7ca8e3) |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51708?repo=metabase/metabase&commitHash=22cc44e1b6090b9664856db6c72a6b12a69b0634&utm_source=gh-comment&runConclusion=FAILURE&runId=e1c4d8ae-c258-5a6e-a675-b5d73220387a) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51708?repo=metabase/metabase&commitHash=22cc44e1b6090b9664856db6c72a6b12a69b0634&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

piranha on (2025-01-08 09:14:48 UTC): @crisptrutski we've discussed better approaches for a few days ‚Äî I for instance think that having some ""special"" value deep inside the map is hostile to a user. But given we're not making channels public for everyone to write and there are quite a few questions about the better approach we've decided to do the smallest change possible to see if it actually helps on prod, and then get back to the API structuring later.

qnkhuat (Issue Creator) on (2025-01-08 09:34:47 UTC): @crisptrutski yes I'm not happy with the API either, we also explored with a couple of different approaches https://github.com/metabase/metabase/pull/51734, https://github.com/metabase/metabase/pull/51778 but haven't gotten a satisfied approach. 

I think we'll have to rethinking how channel consume `notification-payload` so that it's more predictable and stable. but that's the problem for another day.

"
2765993053,pull_request,closed,,Remove deprecated open native editor helper,"### Description

Removes deprecated openNativeEditor helper from all instances. This change also adds some functionality to the `H.startNewNativeQuestion();` helper such as specifying `collection_id` and display type (e.g. `table` or `scalar`)

### How to verify

running all tests without failure should be enough of a verification

- [x] Tests have been added/updated to cover changes in this PR
",filiphric,2025-01-02 12:59:08+00:00,['filiphric'],2025-01-27 22:11:19+00:00,2025-01-20 12:57:38+00:00,https://github.com/metabase/metabase/pull/51707,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2567793231, 'issue_id': 2765993053, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3673_tests-059de7c4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51707?repo=metabase/metabase&commitHash=059de7c4ff87bf299957c543533e5e0d226a2e9f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51707?repo=metabase/metabase&commitHash=059de7c4ff87bf299957c543533e5e0d226a2e9f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51707?repo=metabase/metabase&commitHash=059de7c4ff87bf299957c543533e5e0d226a2e9f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51707?repo=metabase/metabase&commitHash=059de7c4ff87bf299957c543533e5e0d226a2e9f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51707?repo=metabase/metabase&commitHash=059de7c4ff87bf299957c543533e5e0d226a2e9f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 2, 13, 41, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575856699, 'issue_id': 2765993053, 'author': 'rafpaf', 'body': '@filiphric I guess I should wait for CI to be green before reviewing this, but let me know if an earlier review would be helpful', 'created_at': datetime.datetime(2025, 1, 7, 17, 27, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2587084831, 'issue_id': 2765993053, 'author': 'filiphric', 'body': '> @filiphric I guess I should wait for CI to be green before reviewing this, but let me know if an earlier review would be helpful\r\n\r\nIt looks like all is good except this test: `should allow using field filters with null schema (metabase#29786)` I‚Äôve tried multiple things but it still seems to be failing, and only on CI. I cannot replicate this locally even when I run this test multiple times. There seems to be some data problem because filters do not show at all in the screenshots, but I have no problem seeing them locally. Any help appreciated.', 'created_at': datetime.datetime(2025, 1, 13, 13, 18, 38, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-02 13:41:29 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3673_tests-059de7c4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51707?repo=metabase/metabase&commitHash=059de7c4ff87bf299957c543533e5e0d226a2e9f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51707?repo=metabase/metabase&commitHash=059de7c4ff87bf299957c543533e5e0d226a2e9f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51707?repo=metabase/metabase&commitHash=059de7c4ff87bf299957c543533e5e0d226a2e9f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51707?repo=metabase/metabase&commitHash=059de7c4ff87bf299957c543533e5e0d226a2e9f&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51707?repo=metabase/metabase&commitHash=059de7c4ff87bf299957c543533e5e0d226a2e9f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

rafpaf on (2025-01-07 17:27:58 UTC): @filiphric I guess I should wait for CI to be green before reviewing this, but let me know if an earlier review would be helpful

filiphric (Issue Creator) on (2025-01-13 13:18:38 UTC): It looks like all is good except this test: `should allow using field filters with null schema (metabase#29786)` I‚Äôve tried multiple things but it still seems to be failing, and only on CI. I cannot replicate this locally even when I run this test multiple times. There seems to be some data problem because filters do not show at all in the screenshots, but I have no problem seeing them locally. Any help appreciated.

"
2765832179,pull_request,closed,,XLSX Export truncate String cells to 32767 chars,"Fixes https://github.com/metabase/metabase/issues/42115

### Description

Truncate String cells to 32767 on XLSX export to avoid errors

### How to verify

1. make a field with a long long long text over 32767 chars
2. export it to xlsx
3. can open it normally

### Demo
![1](https://github.com/user-attachments/assets/f3f8e15d-09ae-4939-a214-174562229bfd)
![3](https://github.com/user-attachments/assets/c94c95fb-3eb6-4adc-9f96-4d64d488e5a0)
![2](https://github.com/user-attachments/assets/06f222cb-2541-480e-a354-23f4cdb01c5e)

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",givemesomefaces,2025-01-02 11:02:26+00:00,[],2025-01-24 21:54:04+00:00,2025-01-24 21:46:26+00:00,https://github.com/metabase/metabase/pull/51706,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2603000926, 'issue_id': 2765832179, 'author': 'givemesomefaces', 'body': ""> Hi @givemesomefaces, thank you for your contribution! And apologies in the delay in getting a review.\r\n> \r\n> If you could address my comments and add a new test case in `metabase.query-processor.streaming.xlsx-test`, this should be good to merge. I'm also happy to take this over and make the changes myself if you'd prefer.\r\n\r\n@noahmoss Hi, Thank you for your review. I completely understand that reviews are too many and can take time. And I am so glad you did review this. I'll follow your suggestions and just need a little time :)"", 'created_at': datetime.datetime(2025, 1, 20, 17, 59, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612514558, 'issue_id': 2765832179, 'author': 'givemesomefaces', 'body': 'Hi, @noahmoss please review this again when you have time, thank you.', 'created_at': datetime.datetime(2025, 1, 24, 13, 19, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2612842653, 'issue_id': 2765832179, 'author': 'noahmoss', 'body': ""@givemesomefaces I've opened a clone of this PR [here](https://github.com/metabase/metabase/pull/52670) to allow CI to run, per our internal policies. Whenever that PR is green we can merge it."", 'created_at': datetime.datetime(2025, 1, 24, 15, 48, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613444245, 'issue_id': 2765832179, 'author': 'noahmoss', 'body': '@metabase-bot backport release-x.52.x', 'created_at': datetime.datetime(2025, 1, 24, 21, 54, 2, tzinfo=datetime.timezone.utc)}]","givemesomefaces (Issue Creator) on (2025-01-20 17:59:07 UTC): @noahmoss Hi, Thank you for your review. I completely understand that reviews are too many and can take time. And I am so glad you did review this. I'll follow your suggestions and just need a little time :)

givemesomefaces (Issue Creator) on (2025-01-24 13:19:13 UTC): Hi, @noahmoss please review this again when you have time, thank you.

noahmoss on (2025-01-24 15:48:22 UTC): @givemesomefaces I've opened a clone of this PR [here](https://github.com/metabase/metabase/pull/52670) to allow CI to run, per our internal policies. Whenever that PR is green we can merge it.

noahmoss on (2025-01-24 21:54:02 UTC): @metabase-bot backport release-x.52.x

"
2764528078,pull_request,closed,,"ü§ñ backported ""split up query stage e2e test file""","  #51583

‚úÖ  Conflict Resolved",github-automation-metabase,2024-12-31 16:35:02+00:00,"['iethree', 'github-automation-metabase']",2025-01-03 17:47:09+00:00,2025-01-03 17:26:33+00:00,https://github.com/metabase/metabase/pull/51705,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2566605951, 'issue_id': 2764528078, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3418_tests-891f48e7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51705?repo=metabase/metabase&commitHash=891f48e765452c928aa6fadcac2f128024806acd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51705?repo=metabase/metabase&commitHash=891f48e765452c928aa6fadcac2f128024806acd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51705?repo=metabase/metabase&commitHash=891f48e765452c928aa6fadcac2f128024806acd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51705?repo=metabase/metabase&commitHash=891f48e765452c928aa6fadcac2f128024806acd&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51705?repo=metabase/metabase&commitHash=891f48e765452c928aa6fadcac2f128024806acd&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 31, 17, 18, 40, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-31 17:18:40 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3418_tests-891f48e7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51705?repo=metabase/metabase&commitHash=891f48e765452c928aa6fadcac2f128024806acd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51705?repo=metabase/metabase&commitHash=891f48e765452c928aa6fadcac2f128024806acd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51705?repo=metabase/metabase&commitHash=891f48e765452c928aa6fadcac2f128024806acd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51705?repo=metabase/metabase&commitHash=891f48e765452c928aa6fadcac2f128024806acd&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51705?repo=metabase/metabase&commitHash=891f48e765452c928aa6fadcac2f128024806acd&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2764431553,pull_request,closed,,WIP: Remove reprecated open native editor helper,"### Description

Removes deprecated `openNativeEditor` helper from all instances.

WIP: need to make sure all tests are passing
",filiphric,2024-12-31 14:29:40+00:00,['filiphric'],2025-01-02 10:24:49+00:00,2025-01-02 10:24:49+00:00,https://github.com/metabase/metabase/pull/51703,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2566523289, 'issue_id': 2764431553, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3642_tests-697bc7dd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51703?repo=metabase/metabase&commitHash=697bc7ddfd77e8f79a3c34c54a5c0a25940fbe6f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/11-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51703?repo=metabase/metabase&commitHash=697bc7ddfd77e8f79a3c34c54a5c0a25940fbe6f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51703?repo=metabase/metabase&commitHash=697bc7ddfd77e8f79a3c34c54a5c0a25940fbe6f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51703?repo=metabase/metabase&commitHash=697bc7ddfd77e8f79a3c34c54a5c0a25940fbe6f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > snippets should let you edit snippet</code> | The expected element \\`.Icon-snippet\\` was not found within 4000ms in the \\`<div.ace\\_content>\\` element. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51703?repo=metabase/metabase&commitHash=697bc7ddfd77e8f79a3c34c54a5c0a25940fbe6f&utm_source=gh-comment&runConclusion=FAILURE&runId=849a46d4-41c2-5a94-af03-595b2e9cd7a0) |\n| <code>scenarios > visualizations > table should show field metadata hovercards for native query tables</code> | The test timed out while trying to find an element with data-testid ""cell-data"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51703?repo=metabase/metabase&commitHash=697bc7ddfd77e8f79a3c34c54a5c0a25940fbe6f&utm_source=gh-comment&runConclusion=FAILURE&runId=eeb5c17e-4c54-5c9e-9f6a-3fefc3334bb1) |\n| <code>scenarios > filters > sql filters > field filter None should let you change the field filter type to something else and restore the filter widget (...</code> | Unable to find an element with the text ""111 Leupp Road"" within 4 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51703?repo=metabase/metabase&commitHash=697bc7ddfd77e8f79a3c34c54a5c0a25940fbe6f&utm_source=gh-comment&runConclusion=FAILURE&runId=3dba644b-4462-56d7-8f6b-34fa7ea018d8) |\n| <code>scenarios > filters > sql filters > field filter ID filter should work when set initially as default value and then through the filter widget</code> | Unable to find an element with the text ""Small Marble Shoes"" within 4 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51703?repo=metabase/metabase&commitHash=697bc7ddfd77e8f79a3c34c54a5c0a25940fbe6f&utm_source=gh-comment&runConclusion=FAILURE&runId=248ff94b-8c4a-5316-8d58-7607a47bb19e) |\n\n[... and 7 more](https://app.trunk.io/metabase/flaky-tests/pr/51703?repo=metabase/metabase&commitHash=697bc7ddfd77e8f79a3c34c54a5c0a25940fbe6f&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51703?repo=metabase/metabase&commitHash=697bc7ddfd77e8f79a3c34c54a5c0a25940fbe6f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 31, 15, 9, 45, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-31 15:09:45 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3642_tests-697bc7dd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51703?repo=metabase/metabase&commitHash=697bc7ddfd77e8f79a3c34c54a5c0a25940fbe6f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/11-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51703?repo=metabase/metabase&commitHash=697bc7ddfd77e8f79a3c34c54a5c0a25940fbe6f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51703?repo=metabase/metabase&commitHash=697bc7ddfd77e8f79a3c34c54a5c0a25940fbe6f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51703?repo=metabase/metabase&commitHash=697bc7ddfd77e8f79a3c34c54a5c0a25940fbe6f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > snippets should let you edit snippet</code> | The expected element \`.Icon-snippet\` was not found within 4000ms in the \`<div.ace\_content>\` element. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51703?repo=metabase/metabase&commitHash=697bc7ddfd77e8f79a3c34c54a5c0a25940fbe6f&utm_source=gh-comment&runConclusion=FAILURE&runId=849a46d4-41c2-5a94-af03-595b2e9cd7a0) |
| <code>scenarios > visualizations > table should show field metadata hovercards for native query tables</code> | The test timed out while trying to find an element with data-testid ""cell-data"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51703?repo=metabase/metabase&commitHash=697bc7ddfd77e8f79a3c34c54a5c0a25940fbe6f&utm_source=gh-comment&runConclusion=FAILURE&runId=eeb5c17e-4c54-5c9e-9f6a-3fefc3334bb1) |
| <code>scenarios > filters > sql filters > field filter None should let you change the field filter type to something else and restore the filter widget (...</code> | Unable to find an element with the text ""111 Leupp Road"" within 4 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51703?repo=metabase/metabase&commitHash=697bc7ddfd77e8f79a3c34c54a5c0a25940fbe6f&utm_source=gh-comment&runConclusion=FAILURE&runId=3dba644b-4462-56d7-8f6b-34fa7ea018d8) |
| <code>scenarios > filters > sql filters > field filter ID filter should work when set initially as default value and then through the filter widget</code> | Unable to find an element with the text ""Small Marble Shoes"" within 4 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51703?repo=metabase/metabase&commitHash=697bc7ddfd77e8f79a3c34c54a5c0a25940fbe6f&utm_source=gh-comment&runConclusion=FAILURE&runId=248ff94b-8c4a-5316-8d58-7607a47bb19e) |

[... and 7 more](https://app.trunk.io/metabase/flaky-tests/pr/51703?repo=metabase/metabase&commitHash=697bc7ddfd77e8f79a3c34c54a5c0a25940fbe6f&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51703?repo=metabase/metabase&commitHash=697bc7ddfd77e8f79a3c34c54a5c0a25940fbe6f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2764303757,pull_request,closed,,Fix typo,,metamben,2024-12-31 12:03:04+00:00,['metamben'],2024-12-31 13:14:19+00:00,2024-12-31 12:03:26+00:00,https://github.com/metabase/metabase/pull/51702,"[('Metabot/General', 'General Metabot AI'), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2566417085, 'issue_id': 2764303757, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/122051_tests-64b4c67b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51702?repo=metabase/metabase&commitHash=64b4c67b4a5209873e9fd99aa8fbc3c7babe9ab1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51702?repo=metabase/metabase&commitHash=64b4c67b4a5209873e9fd99aa8fbc3c7babe9ab1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51702?repo=metabase/metabase&commitHash=64b4c67b4a5209873e9fd99aa8fbc3c7babe9ab1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51702?repo=metabase/metabase&commitHash=64b4c67b4a5209873e9fd99aa8fbc3c7babe9ab1&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native should be able to add new columns after hiding some (metabase\\#15393)</code> | The test timed out while trying to find an element with data-testid ""draggable-item-HIDDEN"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51702?repo=metabase/metabase&commitHash=64b4c67b4a5209873e9fd99aa8fbc3c7babe9ab1&utm_source=gh-comment&runConclusion=FAILURE&runId=b8304e0e-c349-5162-b5fa-8510766103c5) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:327:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\\#\'sync.fingerprint/max-refingerp... | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51702?repo=metabase/metabase&commitHash=64b4c67b4a5209873e9fd99aa8fbc3c7babe9ab1&utm_source=gh-comment&runConclusion=FAILURE&runId=257d6aa5-d0fe-5c75-a325-79686d8cefa0) |\n| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find a button with the name ""Done"" after 4 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51702?repo=metabase/metabase&commitHash=64b4c67b4a5209873e9fd99aa8fbc3c7babe9ab1&utm_source=gh-comment&runConclusion=FAILURE&runId=3d147e2e-7f8c-533a-9c41-372c2c236591) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51702?repo=metabase/metabase&commitHash=64b4c67b4a5209873e9fd99aa8fbc3c7babe9ab1&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 31, 12, 40, 19, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-31 12:40:19 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/122051_tests-64b4c67b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51702?repo=metabase/metabase&commitHash=64b4c67b4a5209873e9fd99aa8fbc3c7babe9ab1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51702?repo=metabase/metabase&commitHash=64b4c67b4a5209873e9fd99aa8fbc3c7babe9ab1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51702?repo=metabase/metabase&commitHash=64b4c67b4a5209873e9fd99aa8fbc3c7babe9ab1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51702?repo=metabase/metabase&commitHash=64b4c67b4a5209873e9fd99aa8fbc3c7babe9ab1&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native should be able to add new columns after hiding some (metabase\#15393)</code> | The test timed out while trying to find an element with data-testid ""draggable-item-HIDDEN"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51702?repo=metabase/metabase&commitHash=64b4c67b4a5209873e9fd99aa8fbc3c7babe9ab1&utm_source=gh-comment&runConclusion=FAILURE&runId=b8304e0e-c349-5162-b5fa-8510766103c5) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:327:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerp... | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51702?repo=metabase/metabase&commitHash=64b4c67b4a5209873e9fd99aa8fbc3c7babe9ab1&utm_source=gh-comment&runConclusion=FAILURE&runId=257d6aa5-d0fe-5c75-a325-79686d8cefa0) |
| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find a button with the name ""Done"" after 4 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51702?repo=metabase/metabase&commitHash=64b4c67b4a5209873e9fd99aa8fbc3c7babe9ab1&utm_source=gh-comment&runConclusion=FAILURE&runId=3d147e2e-7f8c-533a-9c41-372c2c236591) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51702?repo=metabase/metabase&commitHash=64b4c67b4a5209873e9fd99aa8fbc3c7babe9ab1&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2763757458,pull_request,closed,,Premium features module + reorganization,"This PR reorganizes and creates a new API namespace for premium features code.

Previously, almost all code related to token checks and feature flags was in `metabase.public-settings.premium-features`. 

Now, it has this structure:
* `metabase.premium-features.core` -> API namespace. Contains reexports of vars from the other two namespaces, as well as the `define-premium-feature` macro and all of the feature definitions.
* `metabase.premium-features.token-check` -> code related to the token check API request, airgapped tokens, associated caching, and some helper functions/defsettings
* `metabase.premium-features.defenterprise` -> the `defenterprise` macro definition

Tests are also reorganized accordingly.

Also included some misc pieces of whitespace fixes, code cleanup, etc, but everything should be a no-op functionality-wise.",noahmoss,2024-12-30 22:29:13+00:00,['noahmoss'],2025-01-27 22:12:20+00:00,2025-01-08 22:20:14+00:00,https://github.com/metabase/metabase/pull/51700,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2565972464, 'issue_id': 2763757458, 'author': 'noahmoss', 'body': '* **#51716** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51716?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#51700** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51700?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51700?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 12, 30, 22, 29, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568109405, 'issue_id': 2763757458, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/122112_tests-39ffeeb3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51700?repo=metabase/metabase&commitHash=39ffeeb34ef8f88ff89dd957c64ebc0de78a4823&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51700?repo=metabase/metabase&commitHash=39ffeeb34ef8f88ff89dd957c64ebc0de78a4823&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51700?repo=metabase/metabase&commitHash=39ffeeb34ef8f88ff89dd957c64ebc0de78a4823&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51700?repo=metabase/metabase&commitHash=39ffeeb34ef8f88ff89dd957c64ebc0de78a4823&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51700?repo=metabase/metabase&commitHash=39ffeeb34ef8f88ff89dd957c64ebc0de78a4823&utm_source=gh-comment&runConclusion=FAILURE&runId=68207c59-8cf8-5594-a643-35bddcaa606e) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51700?repo=metabase/metabase&commitHash=39ffeeb34ef8f88ff89dd957c64ebc0de78a4823&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 2, 17, 18, 23, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2024-12-30 22:29:30 UTC): * **#51716** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51716?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#51700** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51700?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51700?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2025-01-02 17:18:23 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/122112_tests-39ffeeb3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51700?repo=metabase/metabase&commitHash=39ffeeb34ef8f88ff89dd957c64ebc0de78a4823&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51700?repo=metabase/metabase&commitHash=39ffeeb34ef8f88ff89dd957c64ebc0de78a4823&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51700?repo=metabase/metabase&commitHash=39ffeeb34ef8f88ff89dd957c64ebc0de78a4823&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51700?repo=metabase/metabase&commitHash=39ffeeb34ef8f88ff89dd957c64ebc0de78a4823&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51700?repo=metabase/metabase&commitHash=39ffeeb34ef8f88ff89dd957c64ebc0de78a4823&utm_source=gh-comment&runConclusion=FAILURE&runId=68207c59-8cf8-5594-a643-35bddcaa606e) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51700?repo=metabase/metabase&commitHash=39ffeeb34ef8f88ff89dd957c64ebc0de78a4823&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2763733759,pull_request,closed,,chore: upgrade storybook to v8,"### Description

Upgrade storybook to v8

- updated some flaky screenshots
- simplified ci job
- updated types
- registered visualizations and added a way to register multiple visualizations in storybook
- replaced `@storybook/testing-library` with `@storybook/test`

Pros:
- node_modules size reduced:  `1518Mb -> 1304Mb`
- time at CI to install node_modules: `1:59 -> 1:40`
- storybook provides many small chunks instead of 2 heavy with all stories combined

| Before | After |
|--------|--------|
| <img width=""663"" alt=""Screenshot 2025-01-22 at 20 46 05"" src=""https://github.com/user-attachments/assets/3360074d-697b-486b-8aff-def2b1fc537c"" />  | <img width=""654"" alt=""Screenshot 2025-01-22 at 20 46 18"" src=""https://github.com/user-attachments/assets/275533e9-e764-4383-baab-86244a711f57"" /> | 






Cons:
- some loki screenshots flake",uladzimirdev,2024-12-30 21:53:07+00:00,['uladzimirdev'],2025-01-27 22:10:37+00:00,2025-01-23 20:15:12+00:00,https://github.com/metabase/metabase/pull/51699,"[('no-backport', 'Do not backport this PR to any branch'), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458'), ('chromatic', '')]","[{'comment_id': 2566129518, 'issue_id': 2763733759, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff b188dafad9fa240d55bee8b16da5670c937d5ed9...0a6061cce4b25517baf0e96da0f2857c7c709bf5.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/TableSimple/TableSimple.stories.tsx<br>frontend/src/metabase/visualizations/index.ts |\n| @kdoh | frontend/src/metabase/ui/components/buttons/Button/Button.stories.tsx<br>frontend/src/metabase/ui/components/inputs/Radio/Radio.stories.mdx<br>frontend/src/metabase/ui/components/typography/Code/Code.stories.tsx |', 'created_at': datetime.datetime(2024, 12, 31, 4, 48, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578145802, 'issue_id': 2763733759, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/18476_tests-0a6061cc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51699?repo=metabase/metabase&commitHash=0a6061cce4b25517baf0e96da0f2857c7c709bf5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51699?repo=metabase/metabase&commitHash=0a6061cce4b25517baf0e96da0f2857c7c709bf5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51699?repo=metabase/metabase&commitHash=0a6061cce4b25517baf0e96da0f2857c7c709bf5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51699?repo=metabase/metabase&commitHash=0a6061cce4b25517baf0e96da0f2857c7c709bf5&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Dashboard > Dashboard Questions admin can find dashboard questions in the search</code> | The test timed out while trying to find an element with the text ""Total Orders Dashboard Question"" in the UI. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51699?repo=metabase/metabase&commitHash=0a6061cce4b25517baf0e96da0f2857c7c709bf5&utm_source=gh-comment&runConclusion=FAILURE&runId=4074f170-0dcd-576e-8736-40fc23aa0baf) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51699?repo=metabase/metabase&commitHash=0a6061cce4b25517baf0e96da0f2857c7c709bf5&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 8, 16, 47, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2580168217, 'issue_id': 2763733759, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@uladzimirdev You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2025, 1, 9, 13, 33, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610870527, 'issue_id': 2763733759, 'author': 'github-actions[bot]', 'body': 'üëã Deploying a preview environment for commit 0a6061cce4b25517baf0e96da0f2857c7c709bf5.\n‚úÖ Preview:\n    https://pr51699.coredev.metabase.com\nüóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2025, 1, 23, 19, 43, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610883796, 'issue_id': 2763733759, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `0a6061cce4b25517baf0e96da0f2857c7c709bf5-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12936588987?pr=51699)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-questions.cy.spec.js` | Dashboard > Dashboard Questions > admin > can find dashboard questions in the search', 'created_at': datetime.datetime(2025, 1, 23, 19, 50, 51, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-12-31 04:48:17 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff b188dafad9fa240d55bee8b16da5670c937d5ed9...0a6061cce4b25517baf0e96da0f2857c7c709bf5.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/TableSimple/TableSimple.stories.tsx<br>frontend/src/metabase/visualizations/index.ts |
| @kdoh | frontend/src/metabase/ui/components/buttons/Button/Button.stories.tsx<br>frontend/src/metabase/ui/components/inputs/Radio/Radio.stories.mdx<br>frontend/src/metabase/ui/components/typography/Code/Code.stories.tsx |

trunk-io[bot] on (2025-01-08 16:47:20 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/18476_tests-0a6061cc-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51699?repo=metabase/metabase&commitHash=0a6061cce4b25517baf0e96da0f2857c7c709bf5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51699?repo=metabase/metabase&commitHash=0a6061cce4b25517baf0e96da0f2857c7c709bf5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51699?repo=metabase/metabase&commitHash=0a6061cce4b25517baf0e96da0f2857c7c709bf5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51699?repo=metabase/metabase&commitHash=0a6061cce4b25517baf0e96da0f2857c7c709bf5&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Dashboard > Dashboard Questions admin can find dashboard questions in the search</code> | The test timed out while trying to find an element with the text ""Total Orders Dashboard Question"" in the UI. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51699?repo=metabase/metabase&commitHash=0a6061cce4b25517baf0e96da0f2857c7c709bf5&utm_source=gh-comment&runConclusion=FAILURE&runId=4074f170-0dcd-576e-8736-40fc23aa0baf) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51699?repo=metabase/metabase&commitHash=0a6061cce4b25517baf0e96da0f2857c7c709bf5&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-09 13:33:43 UTC): <!---conventional commit reminder comment ID-->
@uladzimirdev You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

github-actions[bot] on (2025-01-23 19:43:37 UTC): üëã Deploying a preview environment for commit 0a6061cce4b25517baf0e96da0f2857c7c709bf5.
‚úÖ Preview:
    https://pr51699.coredev.metabase.com
üóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

github-actions[bot] on (2025-01-23 19:50:51 UTC): ## e2e tests failed on `0a6061cce4b25517baf0e96da0f2857c7c709bf5-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12936588987?pr=51699)

  File | Test Name
  ---- | ---------
  `dashboard-questions.cy.spec.js` | Dashboard > Dashboard Questions > admin > can find dashboard questions in the search

"
2763608841,pull_request,closed,,Distinguish structured and textual tool results,I don't like guessing if a tool result should be serialized when sending to the LLM or if it should be parsed when digging in the history. This PR lets the tools themselves specify what kind of result they produce. Structured results are serialized before sent to the LLM. (I could also imagine (and prefer) always returning a textual `message` and and a structured `details` if the LLM can work with that.),metamben,2024-12-30 19:24:07+00:00,['metamben'],2025-01-16 12:58:35+00:00,2025-01-16 12:58:33+00:00,https://github.com/metabase/metabase/pull/51698,"[('Metabot/General', 'General Metabot AI'), ('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2565854321, 'issue_id': 2763608841, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/113564_tests-1257053f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51698?repo=metabase/metabase&commitHash=1257053f0f1ce898cf947c695b0797337c48c986&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51698?repo=metabase/metabase&commitHash=1257053f0f1ce898cf947c695b0797337c48c986&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51698?repo=metabase/metabase&commitHash=1257053f0f1ce898cf947c695b0797337c48c986&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51698?repo=metabase/metabase&commitHash=1257053f0f1ce898cf947c695b0797337c48c986&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution for the date range, resulting in a false result. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51698?repo=metabase/metabase&commitHash=1257053f0f1ce898cf947c695b0797337c48c986&utm_source=gh-comment&runConclusion=FAILURE&runId=da1f2068-b495-5452-8a5f-6abd016f647f) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51698?repo=metabase/metabase&commitHash=1257053f0f1ce898cf947c695b0797337c48c986&utm_source=gh-comment&runConclusion=FAILURE&runId=5d2c6cba-0567-545a-97c4-bc00ac00c111) |\n| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution for the test case ""past20seconds"" ""past20seconds-from-0years"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51698?repo=metabase/metabase&commitHash=1257053f0f1ce898cf947c695b0797337c48c986&utm_source=gh-comment&runConclusion=FAILURE&runId=b693bbf1-7991-520c-8d59-168718385085) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51698?repo=metabase/metabase&commitHash=1257053f0f1ce898cf947c695b0797337c48c986&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 30, 19, 43, 17, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-30 19:43:17 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/113564_tests-1257053f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51698?repo=metabase/metabase&commitHash=1257053f0f1ce898cf947c695b0797337c48c986&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51698?repo=metabase/metabase&commitHash=1257053f0f1ce898cf947c695b0797337c48c986&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51698?repo=metabase/metabase&commitHash=1257053f0f1ce898cf947c695b0797337c48c986&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51698?repo=metabase/metabase&commitHash=1257053f0f1ce898cf947c695b0797337c48c986&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution for the date range, resulting in a false result. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51698?repo=metabase/metabase&commitHash=1257053f0f1ce898cf947c695b0797337c48c986&utm_source=gh-comment&runConclusion=FAILURE&runId=da1f2068-b495-5452-8a5f-6abd016f647f) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51698?repo=metabase/metabase&commitHash=1257053f0f1ce898cf947c695b0797337c48c986&utm_source=gh-comment&runConclusion=FAILURE&runId=5d2c6cba-0567-545a-97c4-bc00ac00c111) |
| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution for the test case ""past20seconds"" ""past20seconds-from-0years"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51698?repo=metabase/metabase&commitHash=1257053f0f1ce898cf947c695b0797337c48c986&utm_source=gh-comment&runConclusion=FAILURE&runId=b693bbf1-7991-520c-8d59-168718385085) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51698?repo=metabase/metabase&commitHash=1257053f0f1ce898cf947c695b0797337c48c986&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2763547300,pull_request,closed,,docs: bell icon v52,"Closes #51694 

Fix bell icon mention and prettify other stuff. This only fixes on current release branch - `master` docs in #51696 , because we reorg'd question docs on master.

Will need to be double backported to v51, as the change was introduced then (note that the user in #51694 is using v51)",alexyarosh,2024-12-30 18:18:06+00:00,['alexyarosh'],2025-01-02 16:38:31+00:00,2024-12-31 16:26:13+00:00,https://github.com/metabase/metabase/pull/51697,"[('Type:Documentation', ''), ('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2568053602, 'issue_id': 2763547300, 'author': 'alexyarosh', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2025, 1, 2, 16, 37, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568055324, 'issue_id': 2763547300, 'author': 'github-actions[bot]', 'body': '@alexyarosh something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12585636034)', 'created_at': datetime.datetime(2025, 1, 2, 16, 38, 30, tzinfo=datetime.timezone.utc)}]","alexyarosh (Issue Creator) on (2025-01-02 16:37:13 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2025-01-02 16:38:30 UTC): @alexyarosh something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12585636034)

"
2763536241,pull_request,closed,,Docs: bell icon - master version,"Fix bell icon mention and prettify other stuff. 

Related to #51694 . 

This only fixes on `master` - `latest` docs in #51697 , because we reorg'd question docs.

Note that the way alerts are handled is likely to change in v53 so the entire doc will be revised then.
",alexyarosh,2024-12-30 18:06:53+00:00,['alexyarosh'],2025-01-27 22:12:42+00:00,2024-12-31 16:26:32+00:00,https://github.com/metabase/metabase/pull/51696,"[('Type:Documentation', ''), ('no-backport', 'Do not backport this PR to any branch')]",[],
2763374583,pull_request,closed,,Add test for m2m authentication on Databricks,This PR adds test for external contribution https://github.com/metabase/metabase/pull/51476.,lbrdnk,2024-12-30 15:35:52+00:00,['lbrdnk'],2025-01-27 22:12:43+00:00,2024-12-30 19:11:44+00:00,https://github.com/metabase/metabase/pull/51693,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2565674282, 'issue_id': 2763374583, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/156965_tests-3360075d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51693?repo=metabase/metabase&commitHash=3360075d1709d04233fce852735624b5e8292acc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51693?repo=metabase/metabase&commitHash=3360075d1709d04233fce852735624b5e8292acc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51693?repo=metabase/metabase&commitHash=3360075d1709d04233fce852735624b5e8292acc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51693?repo=metabase/metabase&commitHash=3360075d1709d04233fce852735624b5e8292acc&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>supports?-failure-test-2</code> | The \\`supports?\\` function took longer than the timeout, returning \\`false\\` instead of \\`true\\`. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51693?repo=metabase/metabase&commitHash=3360075d1709d04233fce852735624b5e8292acc&utm_source=gh-comment&runConclusion=FAILURE&runId=bdfbabf7-ea78-591b-a9ed-fa5a66545c86) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51693?repo=metabase/metabase&commitHash=3360075d1709d04233fce852735624b5e8292acc&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 30, 16, 14, 49, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-30 16:14:49 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/156965_tests-3360075d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51693?repo=metabase/metabase&commitHash=3360075d1709d04233fce852735624b5e8292acc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51693?repo=metabase/metabase&commitHash=3360075d1709d04233fce852735624b5e8292acc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51693?repo=metabase/metabase&commitHash=3360075d1709d04233fce852735624b5e8292acc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51693?repo=metabase/metabase&commitHash=3360075d1709d04233fce852735624b5e8292acc&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>supports?-failure-test-2</code> | The \`supports?\` function took longer than the timeout, returning \`false\` instead of \`true\`. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51693?repo=metabase/metabase&commitHash=3360075d1709d04233fce852735624b5e8292acc&utm_source=gh-comment&runConclusion=FAILURE&runId=bdfbabf7-ea78-591b-a9ed-fa5a66545c86) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51693?repo=metabase/metabase&commitHash=3360075d1709d04233fce852735624b5e8292acc&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2763249381,pull_request,open,,Change the wording of the reset password legend,Fixes https://github.com/metabase/metabase/issues/12987,paoliniluis,2024-12-30 13:58:05+00:00,['paoliniluis'],2024-12-30 16:33:56+00:00,,https://github.com/metabase/metabase/pull/51692,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2565568755, 'issue_id': 2763249381, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/170146_tests-fd05f185-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51692?repo=metabase/metabase&commitHash=fd05f185f2d2aa0286c72520e2ae7487162473b0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51692?repo=metabase/metabase&commitHash=fd05f185f2d2aa0286c72520e2ae7487162473b0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51692?repo=metabase/metabase&commitHash=fd05f185f2d2aa0286c72520e2ae7487162473b0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51692?repo=metabase/metabase&commitHash=fd05f185f2d2aa0286c72520e2ae7487162473b0&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>e2e-storage-ingestion-test</code> | Expected entity to be equal to the result of extracting a field from a collection, but actual entity was different. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51692?repo=metabase/metabase&commitHash=fd05f185f2d2aa0286c72520e2ae7487162473b0&utm_source=gh-comment&runConclusion=FAILURE&runId=157ead9a-a530-5bc4-a670-cade20a68e52) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51692?repo=metabase/metabase&commitHash=fd05f185f2d2aa0286c72520e2ae7487162473b0&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 30, 14, 41, 50, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-30 14:41:50 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/170146_tests-fd05f185-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51692?repo=metabase/metabase&commitHash=fd05f185f2d2aa0286c72520e2ae7487162473b0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51692?repo=metabase/metabase&commitHash=fd05f185f2d2aa0286c72520e2ae7487162473b0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51692?repo=metabase/metabase&commitHash=fd05f185f2d2aa0286c72520e2ae7487162473b0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51692?repo=metabase/metabase&commitHash=fd05f185f2d2aa0286c72520e2ae7487162473b0&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>e2e-storage-ingestion-test</code> | Expected entity to be equal to the result of extracting a field from a collection, but actual entity was different. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51692?repo=metabase/metabase&commitHash=fd05f185f2d2aa0286c72520e2ae7487162473b0&utm_source=gh-comment&runConclusion=FAILURE&runId=157ead9a-a530-5bc4-a670-cade20a68e52) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51692?repo=metabase/metabase&commitHash=fd05f185f2d2aa0286c72520e2ae7487162473b0&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2763197720,pull_request,open,,[WIP] group helpers in UI,"### Description

I find working with helpers very complicated, especially with debugging. This change wraps every helper with an undocumented ""groupStart"" option, which will visually group all the commands in helpers for better orientation in abstractions. This is similar to what commands such as cy.within() or cy.session() have going on. Feedbacks are appreciated.

### How to verify

Pretty much just open any test and you‚Äôll see the effect. One small caveat - if helper doesn‚Äôt have a return statement it will show the helper in the Cypress timeline, but it will not show the visual grouping of commands inside the helper. Thought of adding an eslint rule for this, but don‚Äôt want to overdo it (I have played with it and stashed it on the side)

### Demo
![Screenshot 2024-12-30 at 14 08 25](https://github.com/user-attachments/assets/e9128d25-540f-4713-b5c6-1326842ab6f1)
![Screenshot 2024-12-30 at 14 08 12](https://github.com/user-attachments/assets/3ebd19d9-ccd1-47b5-8e52-79cd78c9e6e2)

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",filiphric,2024-12-30 13:15:44+00:00,['filiphric'],2025-02-07 13:17:04+00:00,,https://github.com/metabase/metabase/pull/51691,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2565503844, 'issue_id': 2763197720, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3681_tests-53a661a2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51691?repo=metabase/metabase&commitHash=53a661a2bfb951af0b0311aaf55834ac58295392&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/142-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51691?repo=metabase/metabase&commitHash=53a661a2bfb951af0b0311aaf55834ac58295392&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51691?repo=metabase/metabase&commitHash=53a661a2bfb951af0b0311aaf55834ac58295392&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51691?repo=metabase/metabase&commitHash=53a661a2bfb951af0b0311aaf55834ac58295392&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > settings resetting state should reset modal state when navigating away</code> | The test timed out while trying to find an element with the text ""Yes please!"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51691?repo=metabase/metabase&commitHash=53a661a2bfb951af0b0311aaf55834ac58295392&utm_source=gh-comment&runConclusion=FAILURE&runId=99151ccd-32dc-50be-a0b4-28a615107228) |\n| <code>scenarios > question > bookmarks should add, update bookmark name when question name is updated, then remove bookmark from question page</code> | The expected element was found in the DOM continuously, which is contrary to the expectation. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51691?repo=metabase/metabase&commitHash=53a661a2bfb951af0b0311aaf55834ac58295392&utm_source=gh-comment&runConclusion=FAILURE&runId=18a018d0-26a4-5bfb-99c1-398756b305d5) |\n| <code>Public dashboards/questions downloads (results and export as pdf) Public dashboards \\#downloads=false should disable both PDF downloads and dashcar...</code> | The test timed out while trying to find an element with data-testid ""dashcard-menu"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51691?repo=metabase/metabase&commitHash=53a661a2bfb951af0b0311aaf55834ac58295392&utm_source=gh-comment&runConclusion=FAILURE&runId=48c3f970-dad5-5343-a251-0ca69e2f8bab) |\n| <code>issue 14957 should save a question before query has been executed (metabase\\#14957)</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51691?repo=metabase/metabase&commitHash=53a661a2bfb951af0b0311aaf55834ac58295392&utm_source=gh-comment&runConclusion=FAILURE&runId=aea13ace-cd51-5839-8313-9d439bb2eebe) |\n\n[... and 138 more](https://app.trunk.io/metabase/flaky-tests/pr/51691?repo=metabase/metabase&commitHash=53a661a2bfb951af0b0311aaf55834ac58295392&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > legend should toggle series visibility in the query builder</code> | The expected element with fill color \\#F9D45C was not found within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51691?repo=metabase/metabase&commitHash=53a661a2bfb951af0b0311aaf55834ac58295392&utm_source=gh-comment&runConclusion=FAILURE&runId=1c7231d8-d281-5432-89e3-848fff6488c2) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51691?repo=metabase/metabase&commitHash=53a661a2bfb951af0b0311aaf55834ac58295392&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 30, 13, 44, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582436821, 'issue_id': 2763197720, 'author': 'filiphric', 'body': 'After digging a little deeper I‚Äôve found out that the approach I chose is pretty much impossible. I wanted to wrap all command helpers in a group, but the inconsistency with which we are using helpers is a huge blocker. the biggest problem by far (and not only for this PR) is that we do a lot of wrapping of single selector. I‚Äô‚Äôd strongly recommend to remove this immediately. they create naming problem, massively decrease performance and contribute to spaghettification of our helpers.\r\n\r\nas a small win, I‚Äôll introduce a softer wrapping method that will at least show the helper names in the timeline, although I‚Äôm worried that in case of ""single-selector-helpers"" this might not be all that helpful.', 'created_at': datetime.datetime(2025, 1, 10, 11, 2, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642777399, 'issue_id': 2763197720, 'author': 'github-actions[bot]', 'body': ""## e2e tests failed on `53a661a2bfb951af0b0311aaf55834ac58295392-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13199558374?pr=51691)\n\n  File | Test Name\n  ---- | ---------\n  `interactive-embedding.cy.spec.js` | scenarios > embedding > full app > home page navigation > should hide the top nav when nothing is shown\n`interactive-embedding.cy.spec.js` | scenarios > embedding > full app > home page navigation > should hide the top nav by an explicit param\n`subscriptions.cy.spec.js` | scenarios > dashboard > subscriptions > sidebar toggling behavior > should allow toggling the sidebar\n`reproductions-3.cy.spec.js` | issue 32625, issue 31635 > should remove dependent clauses when a clause is removed (metabase#32625, metabase#31635)\n`dashboard.cy.spec.js` | scenarios > dashboard > should be possible to scroll vertically after fullscreen layer is closed (metabase#15596)\n`interactive-embedding.cy.spec.js` | scenarios > embedding > full app > browse data > should hide the top nav when nothing is shown\n`models.cy.spec.js` | scenarios > models > changes model's display to table\n`native-filters-reproductions.cy.spec.js` | issue 12581 > should correctly display a revision state after a restore (metabase#12581)\n`embedding-reproductions.cy.spec.js` | (_flaky_) issue 27643 > should allow a dashboard filter to map to a boolean field filter parameter (metabase#27643) > in static embedding and in public dashboard scenarios (metabase#27643-1)\n`reproductions-3.cy.spec.js` | issue 38176 > restoring a question to a previous version should preserve the variables (metabase#38176)\nand more... | and more..."", 'created_at': datetime.datetime(2025, 2, 7, 12, 21, 38, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-30 13:44:04 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3681_tests-53a661a2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51691?repo=metabase/metabase&commitHash=53a661a2bfb951af0b0311aaf55834ac58295392&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/142-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51691?repo=metabase/metabase&commitHash=53a661a2bfb951af0b0311aaf55834ac58295392&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51691?repo=metabase/metabase&commitHash=53a661a2bfb951af0b0311aaf55834ac58295392&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51691?repo=metabase/metabase&commitHash=53a661a2bfb951af0b0311aaf55834ac58295392&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > settings resetting state should reset modal state when navigating away</code> | The test timed out while trying to find an element with the text ""Yes please!"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51691?repo=metabase/metabase&commitHash=53a661a2bfb951af0b0311aaf55834ac58295392&utm_source=gh-comment&runConclusion=FAILURE&runId=99151ccd-32dc-50be-a0b4-28a615107228) |
| <code>scenarios > question > bookmarks should add, update bookmark name when question name is updated, then remove bookmark from question page</code> | The expected element was found in the DOM continuously, which is contrary to the expectation. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51691?repo=metabase/metabase&commitHash=53a661a2bfb951af0b0311aaf55834ac58295392&utm_source=gh-comment&runConclusion=FAILURE&runId=18a018d0-26a4-5bfb-99c1-398756b305d5) |
| <code>Public dashboards/questions downloads (results and export as pdf) Public dashboards \#downloads=false should disable both PDF downloads and dashcar...</code> | The test timed out while trying to find an element with data-testid ""dashcard-menu"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51691?repo=metabase/metabase&commitHash=53a661a2bfb951af0b0311aaf55834ac58295392&utm_source=gh-comment&runConclusion=FAILURE&runId=48c3f970-dad5-5343-a251-0ca69e2f8bab) |
| <code>issue 14957 should save a question before query has been executed (metabase\#14957)</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51691?repo=metabase/metabase&commitHash=53a661a2bfb951af0b0311aaf55834ac58295392&utm_source=gh-comment&runConclusion=FAILURE&runId=aea13ace-cd51-5839-8313-9d439bb2eebe) |

[... and 138 more](https://app.trunk.io/metabase/flaky-tests/pr/51691?repo=metabase/metabase&commitHash=53a661a2bfb951af0b0311aaf55834ac58295392&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > legend should toggle series visibility in the query builder</code> | The expected element with fill color \#F9D45C was not found within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51691?repo=metabase/metabase&commitHash=53a661a2bfb951af0b0311aaf55834ac58295392&utm_source=gh-comment&runConclusion=FAILURE&runId=1c7231d8-d281-5432-89e3-848fff6488c2) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51691?repo=metabase/metabase&commitHash=53a661a2bfb951af0b0311aaf55834ac58295392&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

filiphric (Issue Creator) on (2025-01-10 11:02:39 UTC): After digging a little deeper I‚Äôve found out that the approach I chose is pretty much impossible. I wanted to wrap all command helpers in a group, but the inconsistency with which we are using helpers is a huge blocker. the biggest problem by far (and not only for this PR) is that we do a lot of wrapping of single selector. I‚Äô‚Äôd strongly recommend to remove this immediately. they create naming problem, massively decrease performance and contribute to spaghettification of our helpers.

as a small win, I‚Äôll introduce a softer wrapping method that will at least show the helper names in the timeline, although I‚Äôm worried that in case of ""single-selector-helpers"" this might not be all that helpful.

github-actions[bot] on (2025-02-07 12:21:38 UTC): ## e2e tests failed on `53a661a2bfb951af0b0311aaf55834ac58295392-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13199558374?pr=51691)

  File | Test Name
  ---- | ---------
  `interactive-embedding.cy.spec.js` | scenarios > embedding > full app > home page navigation > should hide the top nav when nothing is shown
`interactive-embedding.cy.spec.js` | scenarios > embedding > full app > home page navigation > should hide the top nav by an explicit param
`subscriptions.cy.spec.js` | scenarios > dashboard > subscriptions > sidebar toggling behavior > should allow toggling the sidebar
`reproductions-3.cy.spec.js` | issue 32625, issue 31635 > should remove dependent clauses when a clause is removed (metabase#32625, metabase#31635)
`dashboard.cy.spec.js` | scenarios > dashboard > should be possible to scroll vertically after fullscreen layer is closed (metabase#15596)
`interactive-embedding.cy.spec.js` | scenarios > embedding > full app > browse data > should hide the top nav when nothing is shown
`models.cy.spec.js` | scenarios > models > changes model's display to table
`native-filters-reproductions.cy.spec.js` | issue 12581 > should correctly display a revision state after a restore (metabase#12581)
`embedding-reproductions.cy.spec.js` | (_flaky_) issue 27643 > should allow a dashboard filter to map to a boolean field filter parameter (metabase#27643) > in static embedding and in public dashboard scenarios (metabase#27643-1)
`reproductions-3.cy.spec.js` | issue 38176 > restoring a question to a previous version should preserve the variables (metabase#38176)
and more... | and more...

"
2762859322,pull_request,closed,,"ü§ñ backported ""Fix method definitions in Databricks driver""",#51473,github-automation-metabase,2024-12-30 08:46:25+00:00,"['lbrdnk', 'github-automation-metabase']",2024-12-30 10:15:30+00:00,2024-12-30 09:14:25+00:00,https://github.com/metabase/metabase/pull/51689,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2565216019, 'issue_id': 2762859322, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/48199_tests-f48f9f7a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51689?repo=metabase/metabase&commitHash=f48f9f7a795010b101087bb983d940907453049d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51689?repo=metabase/metabase&commitHash=f48f9f7a795010b101087bb983d940907453049d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51689?repo=metabase/metabase&commitHash=f48f9f7a795010b101087bb983d940907453049d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51689?repo=metabase/metabase&commitHash=f48f9f7a795010b101087bb983d940907453049d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51689?repo=metabase/metabase&commitHash=f48f9f7a795010b101087bb983d940907453049d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 30, 9, 10, 47, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-30 09:10:47 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/48199_tests-f48f9f7a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51689?repo=metabase/metabase&commitHash=f48f9f7a795010b101087bb983d940907453049d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51689?repo=metabase/metabase&commitHash=f48f9f7a795010b101087bb983d940907453049d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51689?repo=metabase/metabase&commitHash=f48f9f7a795010b101087bb983d940907453049d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51689?repo=metabase/metabase&commitHash=f48f9f7a795010b101087bb983d940907453049d&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51689?repo=metabase/metabase&commitHash=f48f9f7a795010b101087bb983d940907453049d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2762843918,pull_request,closed,,[Notification] Transaction emails,"Epic: https://github.com/metabase/metabase/issues/50766

In the old APIs we:
- send ""you were added to an alert"" when a recipient is added to an alert or an alert is unarchived
- send ""you were removed from an alert"" when a recipient is removed from an alert or when an alert is archived

This PR makes sure the new notification API do the same with a modification in that we'll no longer send multiple emails if mutliple recipients were added/removed, instead we'll group them into one single email and use bcc ([context](https://metaboat.slack.com/archives/C07318NQ5M2/p1735545176538119?thread_ts=1735209813.861129&cid=C07318NQ5M2))",qnkhuat,2024-12-30 08:31:54+00:00,['qnkhuat'],2025-01-09 04:42:17+00:00,2025-01-09 03:19:20+00:00,https://github.com/metabase/metabase/pull/51688,"[('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2565215886, 'issue_id': 2762843918, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/122656_tests-d264d3bb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51688?repo=metabase/metabase&commitHash=d264d3bb2ed51a5b679699ec431b774fc1fac9ab&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/36-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51688?repo=metabase/metabase&commitHash=d264d3bb2ed51a5b679699ec431b774fc1fac9ab&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51688?repo=metabase/metabase&commitHash=d264d3bb2ed51a5b679699ec431b774fc1fac9ab&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51688?repo=metabase/metabase&commitHash=d264d3bb2ed51a5b679699ec431b774fc1fac9ab&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>basic-line-graph-test</code> | Expected email to match the actual email, but the actual email was different. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51688?repo=metabase/metabase&commitHash=d264d3bb2ed51a5b679699ec431b774fc1fac9ab&utm_source=gh-comment&runConclusion=FAILURE&runId=5805bb6e-8709-54d9-a97e-765a7bbbbb55) |\n| <code>send-condition-below-goal-test</code> | Expected email to match, but actual email does not match the expected format. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51688?repo=metabase/metabase&commitHash=d264d3bb2ed51a5b679699ec431b774fc1fac9ab&utm_source=gh-comment&runConclusion=FAILURE&runId=f2a68a0b-22cf-58c0-ad56-54afdb9e97ca) |\n| <code>send-condition-above-goal-test</code> | Expected email to be constructed differently, but actual email does not match the expected format. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51688?repo=metabase/metabase&commitHash=d264d3bb2ed51a5b679699ec431b774fc1fac9ab&utm_source=gh-comment&runConclusion=FAILURE&runId=57830792-00f0-5ed1-8230-665915d98ee0) |\n| <code>basic-line-graph-test</code> | Expected email construction did not match the actual email construction. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51688?repo=metabase/metabase&commitHash=d264d3bb2ed51a5b679699ec431b774fc1fac9ab&utm_source=gh-comment&runConclusion=FAILURE&runId=53df3f51-4860-5c58-84b0-232fd9e565fd) |\n\n[... and 32 more](https://app.trunk.io/metabase/flaky-tests/pr/51688?repo=metabase/metabase&commitHash=d264d3bb2ed51a5b679699ec431b774fc1fac9ab&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51688?repo=metabase/metabase&commitHash=d264d3bb2ed51a5b679699ec431b774fc1fac9ab&utm_source=gh-comment&runConclusion=FAILURE&runId=babcf348-4c8b-5c71-b2a4-da0521d1cf5b) |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51688?repo=metabase/metabase&commitHash=d264d3bb2ed51a5b679699ec431b774fc1fac9ab&utm_source=gh-comment&runConclusion=FAILURE&runId=34473262-8ae0-5d24-bfe2-9c1b25206dd6) |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51688?repo=metabase/metabase&commitHash=d264d3bb2ed51a5b679699ec431b774fc1fac9ab&utm_source=gh-comment&runConclusion=FAILURE&runId=dcfa9aff-2152-512f-8049-1ff524897950) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51688?repo=metabase/metabase&commitHash=d264d3bb2ed51a5b679699ec431b774fc1fac9ab&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 30, 9, 10, 38, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-30 09:10:38 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/122656_tests-d264d3bb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51688?repo=metabase/metabase&commitHash=d264d3bb2ed51a5b679699ec431b774fc1fac9ab&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/36-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51688?repo=metabase/metabase&commitHash=d264d3bb2ed51a5b679699ec431b774fc1fac9ab&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51688?repo=metabase/metabase&commitHash=d264d3bb2ed51a5b679699ec431b774fc1fac9ab&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51688?repo=metabase/metabase&commitHash=d264d3bb2ed51a5b679699ec431b774fc1fac9ab&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>basic-line-graph-test</code> | Expected email to match the actual email, but the actual email was different. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51688?repo=metabase/metabase&commitHash=d264d3bb2ed51a5b679699ec431b774fc1fac9ab&utm_source=gh-comment&runConclusion=FAILURE&runId=5805bb6e-8709-54d9-a97e-765a7bbbbb55) |
| <code>send-condition-below-goal-test</code> | Expected email to match, but actual email does not match the expected format. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51688?repo=metabase/metabase&commitHash=d264d3bb2ed51a5b679699ec431b774fc1fac9ab&utm_source=gh-comment&runConclusion=FAILURE&runId=f2a68a0b-22cf-58c0-ad56-54afdb9e97ca) |
| <code>send-condition-above-goal-test</code> | Expected email to be constructed differently, but actual email does not match the expected format. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51688?repo=metabase/metabase&commitHash=d264d3bb2ed51a5b679699ec431b774fc1fac9ab&utm_source=gh-comment&runConclusion=FAILURE&runId=57830792-00f0-5ed1-8230-665915d98ee0) |
| <code>basic-line-graph-test</code> | Expected email construction did not match the actual email construction. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51688?repo=metabase/metabase&commitHash=d264d3bb2ed51a5b679699ec431b774fc1fac9ab&utm_source=gh-comment&runConclusion=FAILURE&runId=53df3f51-4860-5c58-84b0-232fd9e565fd) |

[... and 32 more](https://app.trunk.io/metabase/flaky-tests/pr/51688?repo=metabase/metabase&commitHash=d264d3bb2ed51a5b679699ec431b774fc1fac9ab&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51688?repo=metabase/metabase&commitHash=d264d3bb2ed51a5b679699ec431b774fc1fac9ab&utm_source=gh-comment&runConclusion=FAILURE&runId=babcf348-4c8b-5c71-b2a4-da0521d1cf5b) |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51688?repo=metabase/metabase&commitHash=d264d3bb2ed51a5b679699ec431b774fc1fac9ab&utm_source=gh-comment&runConclusion=FAILURE&runId=34473262-8ae0-5d24-bfe2-9c1b25206dd6) |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51688?repo=metabase/metabase&commitHash=d264d3bb2ed51a5b679699ec431b774fc1fac9ab&utm_source=gh-comment&runConclusion=FAILURE&runId=dcfa9aff-2152-512f-8049-1ff524897950) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51688?repo=metabase/metabase&commitHash=d264d3bb2ed51a5b679699ec431b774fc1fac9ab&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2762405036,pull_request,open,,Fix for empty tooltip shown when save button is disabled ,"Closes #51035 
### How to verify

1. Open your account and create a new question
2. Select Sample Dataset -> Orders
4. Hover over the Save button when it's enabled - no tooltip should appear


### Demo

https://github.com/user-attachments/assets/c4c1afd2-c62c-4887-9882-ad991b8c43c6


### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",dbarabashh,2024-12-29 21:04:51+00:00,[],2025-01-07 11:46:16+00:00,,https://github.com/metabase/metabase/pull/51687,[],"[{'comment_id': 2575017606, 'issue_id': 2762405036, 'author': 'dbarabashh', 'body': 'hi @kamilmielnik, sure, i can add tests, but i didn\'t quite understand the part about ""it contains unnecessarily large amount of changes""', 'created_at': datetime.datetime(2025, 1, 7, 11, 10, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2575085309, 'issue_id': 2762405036, 'author': 'kamilmielnik', 'body': '> hi @kamilmielnik, sure, i can add tests, but i didn\'t quite understand the part about ""it contains unnecessarily large amount of changes""\r\n\r\nThe fix requires changing [1 line of code](https://github.com/metabase/metabase/pull/51687#issuecomment-2575017606) (+ formatting). Extracting `SaveQuestionButton` component is not necessary and I do have some comments about this. It would be simpler to focus this PR solely on the fix.', 'created_at': datetime.datetime(2025, 1, 7, 11, 46, 14, tzinfo=datetime.timezone.utc)}]","dbarabashh (Issue Creator) on (2025-01-07 11:10:55 UTC): hi @kamilmielnik, sure, i can add tests, but i didn't quite understand the part about ""it contains unnecessarily large amount of changes""

kamilmielnik on (2025-01-07 11:46:14 UTC): The fix requires changing [1 line of code](https://github.com/metabase/metabase/pull/51687#issuecomment-2575017606) (+ formatting). Extracting `SaveQuestionButton` component is not necessary and I do have some comments about this. It would be simpler to focus this PR solely on the fix.

"
2761644930,pull_request,closed,,[svg] Limit the lifetime of a cached Truffle JS object to sidestep apparent memory leaks,"https://github.com/metabase/metabase/issues/50726 hints that there can be a memory leak inside Truffle JS engine object. I couldn't reproduce the leak locally, but I assume it is possible. Since we are unlikely to dig inside the implementation to address or at least understand the leak, our second best bet is not to retain the engine object forever. Currently, the reusable engine is kept in a timeless delay. Ideally, we would want the lifetime of the reused engine to be tied to some finite event, like a request or a trigger. But it appears to me that `metabase.channel.render.js.svg` has multiple users and hence multiple entrypoints; so, it will be cumbersome to rewrite this API so that callers have to set up the engine explicitly.

The proposed band-aid replaces the regular `delay` with a custom `delay-with-ttl`. Think of it as of a cache with TTL but for a single value only and which guarantees that only one thread will compute the value concurrently. I've set the TTL to be 1 hour which is completely arbitrary and might not prevent the leak from inflating too much in some cases (when there are a lot of subscriptions?). I suppose the TTL can be reduced to 5-10 minutes without becoming too expensive.
",alexander-yakushev,2024-12-28 09:24:40+00:00,['alexander-yakushev'],2025-01-06 13:05:13+00:00,2025-01-05 14:16:29+00:00,https://github.com/metabase/metabase/pull/51685,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2564281689, 'issue_id': 2761644930, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/122380_tests-9a37202b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51685?repo=metabase/metabase&commitHash=9a37202b8b8fb0b77621f11af5a1f1055d5e2f24&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51685?repo=metabase/metabase&commitHash=9a37202b8b8fb0b77621f11af5a1f1055d5e2f24&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51685?repo=metabase/metabase&commitHash=9a37202b8b8fb0b77621f11af5a1f1055d5e2f24&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51685?repo=metabase/metabase&commitHash=9a37202b8b8fb0b77621f11af5a1f1055d5e2f24&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51685?repo=metabase/metabase&commitHash=9a37202b8b8fb0b77621f11af5a1f1055d5e2f24&utm_source=gh-comment&runConclusion=FAILURE&runId=4c142303-635e-576f-97ff-61c28e8b3733) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51685?repo=metabase/metabase&commitHash=9a37202b8b8fb0b77621f11af5a1f1055d5e2f24&utm_source=gh-comment&runConclusion=FAILURE&runId=17de947e-69c4-5c99-bd27-02a1fb96d1b4) |\n| <code>scenarios > visualizations > pie chart should mute items in legend when hovering (metabase\\#29224)</code> | The expected attribute 'aria-current' with value 'true' was not found in an HTML element. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51685?repo=metabase/metabase&commitHash=9a37202b8b8fb0b77621f11af5a1f1055d5e2f24&utm_source=gh-comment&runConclusion=FAILURE&runId=73b6a4af-2a4a-51f6-982d-b0e0e0db19b9) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > collections > clean up ee clean up collection modal should be able to clean up stale items</code> | The element <div.emotion-Group-root.emotion-1plzo5d> was expected to not exist in the DOM, but it was found continuously. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51685?repo=metabase/metabase&commitHash=9a37202b8b8fb0b77621f11af5a1f1055d5e2f24&utm_source=gh-comment&runConclusion=FAILURE&runId=57e6b143-b2a1-5ff6-b4c8-7fcf486d2bb5) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51685?repo=metabase/metabase&commitHash=9a37202b8b8fb0b77621f11af5a1f1055d5e2f24&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 28, 9, 38, 27, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-28 09:38:27 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/122380_tests-9a37202b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51685?repo=metabase/metabase&commitHash=9a37202b8b8fb0b77621f11af5a1f1055d5e2f24&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51685?repo=metabase/metabase&commitHash=9a37202b8b8fb0b77621f11af5a1f1055d5e2f24&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51685?repo=metabase/metabase&commitHash=9a37202b8b8fb0b77621f11af5a1f1055d5e2f24&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51685?repo=metabase/metabase&commitHash=9a37202b8b8fb0b77621f11af5a1f1055d5e2f24&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51685?repo=metabase/metabase&commitHash=9a37202b8b8fb0b77621f11af5a1f1055d5e2f24&utm_source=gh-comment&runConclusion=FAILURE&runId=4c142303-635e-576f-97ff-61c28e8b3733) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51685?repo=metabase/metabase&commitHash=9a37202b8b8fb0b77621f11af5a1f1055d5e2f24&utm_source=gh-comment&runConclusion=FAILURE&runId=17de947e-69c4-5c99-bd27-02a1fb96d1b4) |
| <code>scenarios > visualizations > pie chart should mute items in legend when hovering (metabase\#29224)</code> | The expected attribute 'aria-current' with value 'true' was not found in an HTML element. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51685?repo=metabase/metabase&commitHash=9a37202b8b8fb0b77621f11af5a1f1055d5e2f24&utm_source=gh-comment&runConclusion=FAILURE&runId=73b6a4af-2a4a-51f6-982d-b0e0e0db19b9) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > collections > clean up ee clean up collection modal should be able to clean up stale items</code> | The element <div.emotion-Group-root.emotion-1plzo5d> was expected to not exist in the DOM, but it was found continuously. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51685?repo=metabase/metabase&commitHash=9a37202b8b8fb0b77621f11af5a1f1055d5e2f24&utm_source=gh-comment&runConclusion=FAILURE&runId=57e6b143-b2a1-5ff6-b4c8-7fcf486d2bb5) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51685?repo=metabase/metabase&commitHash=9a37202b8b8fb0b77621f11af5a1f1055d5e2f24&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2761259876,pull_request,closed,,Preemptive caching FE,"* Preemptive caching FE: adds a switch to the `StrategyForm` component for questions and dashboards to enable preemptive caching (via a `refresh_automatically` boolean property)
* Updated the backend API & schemas to persist this value
* Adds a Cypress test

<img width=""458"" alt=""image"" src=""https://github.com/user-attachments/assets/e5017bb9-fe44-4dec-8bef-8770f0f2ab68"" />
",noahmoss,2024-12-27 20:44:59+00:00,['noahmoss'],2025-01-27 22:12:37+00:00,2025-01-06 21:29:58+00:00,https://github.com/metabase/metabase/pull/51684,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2564020910, 'issue_id': 2761259876, 'author': 'noahmoss', 'body': '* **#51684** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51684?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51684?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 12, 27, 20, 45, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568426165, 'issue_id': 2761259876, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/136776_tests-3f246cd3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51684?repo=metabase/metabase&commitHash=3f246cd3de0c8fef7fa74e12bd263a4c944dc6ec&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51684?repo=metabase/metabase&commitHash=3f246cd3de0c8fef7fa74e12bd263a4c944dc6ec&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51684?repo=metabase/metabase&commitHash=3f246cd3de0c8fef7fa74e12bd263a4c944dc6ec&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51684?repo=metabase/metabase&commitHash=3f246cd3de0c8fef7fa74e12bd263a4c944dc6ec&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they were missing. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51684?repo=metabase/metabase&commitHash=3f246cd3de0c8fef7fa74e12bd263a4c944dc6ec&utm_source=gh-comment&runConclusion=FAILURE&runId=b07cb4fd-40b2-5918-9b9f-5ee21145452e) |\n| <code>e2e-storage-ingestion-test</code> | Expected entity to match the expected value, but actual value was different. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51684?repo=metabase/metabase&commitHash=3f246cd3de0c8fef7fa74e12bd263a4c944dc6ec&utm_source=gh-comment&runConclusion=FAILURE&runId=dc1e499b-ec8d-5a56-a5d4-7d82093ef59b) |\n| <code>e2e-storage-ingestion-test</code> | Expected entity to match, but actual entity has unexpected table\\_id values. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51684?repo=metabase/metabase&commitHash=3f246cd3de0c8fef7fa74e12bd263a4c944dc6ec&utm_source=gh-comment&runConclusion=FAILURE&runId=7d87a58d-8e7b-5c93-ab8c-5435fc29d514) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51684?repo=metabase/metabase&commitHash=3f246cd3de0c8fef7fa74e12bd263a4c944dc6ec&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 2, 21, 52, 23, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2024-12-27 20:45:20 UTC): * **#51684** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51684?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51684?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2025-01-02 21:52:23 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/136776_tests-3f246cd3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51684?repo=metabase/metabase&commitHash=3f246cd3de0c8fef7fa74e12bd263a4c944dc6ec&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51684?repo=metabase/metabase&commitHash=3f246cd3de0c8fef7fa74e12bd263a4c944dc6ec&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51684?repo=metabase/metabase&commitHash=3f246cd3de0c8fef7fa74e12bd263a4c944dc6ec&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51684?repo=metabase/metabase&commitHash=3f246cd3de0c8fef7fa74e12bd263a4c944dc6ec&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they were missing. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51684?repo=metabase/metabase&commitHash=3f246cd3de0c8fef7fa74e12bd263a4c944dc6ec&utm_source=gh-comment&runConclusion=FAILURE&runId=b07cb4fd-40b2-5918-9b9f-5ee21145452e) |
| <code>e2e-storage-ingestion-test</code> | Expected entity to match the expected value, but actual value was different. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51684?repo=metabase/metabase&commitHash=3f246cd3de0c8fef7fa74e12bd263a4c944dc6ec&utm_source=gh-comment&runConclusion=FAILURE&runId=dc1e499b-ec8d-5a56-a5d4-7d82093ef59b) |
| <code>e2e-storage-ingestion-test</code> | Expected entity to match, but actual entity has unexpected table\_id values. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51684?repo=metabase/metabase&commitHash=3f246cd3de0c8fef7fa74e12bd263a4c944dc6ec&utm_source=gh-comment&runConclusion=FAILURE&runId=7d87a58d-8e7b-5c93-ab8c-5435fc29d514) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51684?repo=metabase/metabase&commitHash=3f246cd3de0c8fef7fa74e12bd263a4c944dc6ec&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2760991043,pull_request,closed,,"ü§ñ backported ""Ensure collections' effective_location is batch hydrated when hydrating effective_parent""","  #51673
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2024-12-27 15:09:24+00:00,"['noahmoss', 'github-automation-metabase']",2024-12-27 16:36:43+00:00,2024-12-27 15:55:21+00:00,https://github.com/metabase/metabase/pull/51682,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2563812325, 'issue_id': 2760991043, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120114_tests-73ce3e52-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51682?repo=metabase/metabase&commitHash=73ce3e52e55bc03adcc92039ea785588072c20ec&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51682?repo=metabase/metabase&commitHash=73ce3e52e55bc03adcc92039ea785588072c20ec&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51682?repo=metabase/metabase&commitHash=73ce3e52e55bc03adcc92039ea785588072c20ec&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51682?repo=metabase/metabase&commitHash=73ce3e52e55bc03adcc92039ea785588072c20ec&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51682?repo=metabase/metabase&commitHash=73ce3e52e55bc03adcc92039ea785588072c20ec&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 27, 15, 39, 54, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-27 15:39:54 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120114_tests-73ce3e52-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51682?repo=metabase/metabase&commitHash=73ce3e52e55bc03adcc92039ea785588072c20ec&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51682?repo=metabase/metabase&commitHash=73ce3e52e55bc03adcc92039ea785588072c20ec&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51682?repo=metabase/metabase&commitHash=73ce3e52e55bc03adcc92039ea785588072c20ec&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51682?repo=metabase/metabase&commitHash=73ce3e52e55bc03adcc92039ea785588072c20ec&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51682?repo=metabase/metabase&commitHash=73ce3e52e55bc03adcc92039ea785588072c20ec&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2760937653,pull_request,open,,Sketch of the create-alert tool,"No schema for the `create-alert` tool has been defined yet, but I expect it to be similar to that of the `create-dashboard-subscription` tool. For now, it's in the namespace of the `create-dashboard-subscription` tool. We can rename that namespace when we the `create-alter` tool spec becomes available.

This change also adds permission checks, so it should eventually be merged even if we remove the create-alert tool.

",metamben,2024-12-27 14:16:04+00:00,['metamben'],2025-01-21 14:08:46+00:00,,https://github.com/metabase/metabase/pull/51681,"[('Metabot/General', 'General Metabot AI'), ('no-backport', 'Do not backport this PR to any branch')]",[],
2760372603,pull_request,closed,,put field usage behind a feature flag and turn it off by default,"it's generating too much noise without getting used, so disable it by default

context: https://metaboat.slack.com/archives/C0641E4PB9B/p1735272546005879",qnkhuat,2024-12-27 04:21:10+00:00,['qnkhuat'],2025-01-07 04:26:17+00:00,2025-01-06 16:10:45+00:00,https://github.com/metabase/metabase/pull/51677,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2563310118, 'issue_id': 2760372603, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/122208_tests-6ee2f168-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51677?repo=metabase/metabase&commitHash=6ee2f168d2b671e0ce6d354865da45e9d797692d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51677?repo=metabase/metabase&commitHash=6ee2f168d2b671e0ce6d354865da45e9d797692d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51677?repo=metabase/metabase&commitHash=6ee2f168d2b671e0ce6d354865da45e9d797692d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51677?repo=metabase/metabase&commitHash=6ee2f168d2b671e0ce6d354865da45e9d797692d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51677?repo=metabase/metabase&commitHash=6ee2f168d2b671e0ce6d354865da45e9d797692d&utm_source=gh-comment&runConclusion=FAILURE&runId=711f3d11-e4c2-541c-a9e8-6b81484fc3e5) |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51677?repo=metabase/metabase&commitHash=6ee2f168d2b671e0ce6d354865da45e9d797692d&utm_source=gh-comment&runConclusion=FAILURE&runId=64c36c6e-9524-53ee-a63b-98bef5195844) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51677?repo=metabase/metabase&commitHash=6ee2f168d2b671e0ce6d354865da45e9d797692d&utm_source=gh-comment&runConclusion=FAILURE&runId=ac3f236d-beac-5fc7-a4a0-f55acc3421c9) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51677?repo=metabase/metabase&commitHash=6ee2f168d2b671e0ce6d354865da45e9d797692d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 27, 4, 46, 10, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-27 04:46:10 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/122208_tests-6ee2f168-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51677?repo=metabase/metabase&commitHash=6ee2f168d2b671e0ce6d354865da45e9d797692d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51677?repo=metabase/metabase&commitHash=6ee2f168d2b671e0ce6d354865da45e9d797692d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51677?repo=metabase/metabase&commitHash=6ee2f168d2b671e0ce6d354865da45e9d797692d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51677?repo=metabase/metabase&commitHash=6ee2f168d2b671e0ce6d354865da45e9d797692d&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51677?repo=metabase/metabase&commitHash=6ee2f168d2b671e0ce6d354865da45e9d797692d&utm_source=gh-comment&runConclusion=FAILURE&runId=711f3d11-e4c2-541c-a9e8-6b81484fc3e5) |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51677?repo=metabase/metabase&commitHash=6ee2f168d2b671e0ce6d354865da45e9d797692d&utm_source=gh-comment&runConclusion=FAILURE&runId=64c36c6e-9524-53ee-a63b-98bef5195844) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51677?repo=metabase/metabase&commitHash=6ee2f168d2b671e0ce6d354865da45e9d797692d&utm_source=gh-comment&runConclusion=FAILURE&runId=ac3f236d-beac-5fc7-a4a0-f55acc3421c9) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51677?repo=metabase/metabase&commitHash=6ee2f168d2b671e0ce6d354865da45e9d797692d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2760358672,pull_request,closed,,[Notification] Create notification API use current user as creator,,qnkhuat,2024-12-27 03:59:09+00:00,['qnkhuat'],2025-01-07 15:46:46+00:00,2025-01-07 15:46:44+00:00,https://github.com/metabase/metabase/pull/51676,"[('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2563307153, 'issue_id': 2760358672, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/122018_tests-48069925-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51676?repo=metabase/metabase&commitHash=480699252cbe3ce8c3c519cb32f15f436aa4a029&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51676?repo=metabase/metabase&commitHash=480699252cbe3ce8c3c519cb32f15f436aa4a029&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51676?repo=metabase/metabase&commitHash=480699252cbe3ce8c3c519cb32f15f436aa4a029&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51676?repo=metabase/metabase&commitHash=480699252cbe3ce8c3c519cb32f15f436aa4a029&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51676?repo=metabase/metabase&commitHash=480699252cbe3ce8c3c519cb32f15f436aa4a029&utm_source=gh-comment&runConclusion=FAILURE&runId=5435f0de-1474-50dd-8c66-8700ba2bd023) |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51676?repo=metabase/metabase&commitHash=480699252cbe3ce8c3c519cb32f15f436aa4a029&utm_source=gh-comment&runConclusion=FAILURE&runId=cf01177a-320e-552c-81d5-1d796db7540b) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51676?repo=metabase/metabase&commitHash=480699252cbe3ce8c3c519cb32f15f436aa4a029&utm_source=gh-comment&runConclusion=FAILURE&runId=8956ac91-1bee-5e56-aca7-f46fc096f2bd) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51676?repo=metabase/metabase&commitHash=480699252cbe3ce8c3c519cb32f15f436aa4a029&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 27, 4, 40, 1, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-27 04:40:01 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/122018_tests-48069925-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51676?repo=metabase/metabase&commitHash=480699252cbe3ce8c3c519cb32f15f436aa4a029&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51676?repo=metabase/metabase&commitHash=480699252cbe3ce8c3c519cb32f15f436aa4a029&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51676?repo=metabase/metabase&commitHash=480699252cbe3ce8c3c519cb32f15f436aa4a029&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51676?repo=metabase/metabase&commitHash=480699252cbe3ce8c3c519cb32f15f436aa4a029&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51676?repo=metabase/metabase&commitHash=480699252cbe3ce8c3c519cb32f15f436aa4a029&utm_source=gh-comment&runConclusion=FAILURE&runId=5435f0de-1474-50dd-8c66-8700ba2bd023) |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51676?repo=metabase/metabase&commitHash=480699252cbe3ce8c3c519cb32f15f436aa4a029&utm_source=gh-comment&runConclusion=FAILURE&runId=cf01177a-320e-552c-81d5-1d796db7540b) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51676?repo=metabase/metabase&commitHash=480699252cbe3ce8c3c519cb32f15f436aa4a029&utm_source=gh-comment&runConclusion=FAILURE&runId=8956ac91-1bee-5e56-aca7-f46fc096f2bd) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51676?repo=metabase/metabase&commitHash=480699252cbe3ce8c3c519cb32f15f436aa4a029&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2760157256,pull_request,closed,,Handle exception in rollback better,"### Description

If the rollback call fails during error handling, the original error is lost. For example, troubleshooting #46111 seems like it would be easier with this PR.

This catches the exception in rollback and rethrows an error with both the actual error and the rollback error in it

### How to verify

Need to have a rollback call that fails for some reason. 


### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",nvoxland,2024-12-26 21:27:45+00:00,['nvoxland'],2025-01-09 22:14:16+00:00,2025-01-07 15:20:59+00:00,https://github.com/metabase/metabase/pull/51675,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2563132546, 'issue_id': 2760157256, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/128687_tests-a4fc23ea-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51675?repo=metabase/metabase&commitHash=a4fc23eac21381e81beb7572b7500b2bac5b8708&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51675?repo=metabase/metabase&commitHash=a4fc23eac21381e81beb7572b7500b2bac5b8708&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51675?repo=metabase/metabase&commitHash=a4fc23eac21381e81beb7572b7500b2bac5b8708&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51675?repo=metabase/metabase&commitHash=a4fc23eac21381e81beb7572b7500b2bac5b8708&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>dashboards-for-cards-works</code> | The expected response from the API did not match the actual response, because the dashboard is unreadable. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51675?repo=metabase/metabase&commitHash=a4fc23eac21381e81beb7572b7500b2bac5b8708&utm_source=gh-comment&runConclusion=FAILURE&runId=9e4c6e3e-8e5b-51fd-b33e-0b82da5fd004) |\n| <code>e2e-storage-ingestion-test</code> | The expected and actual values do not match for the \'Field\' entity. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51675?repo=metabase/metabase&commitHash=a4fc23eac21381e81beb7572b7500b2bac5b8708&utm_source=gh-comment&runConclusion=FAILURE&runId=3b119ba4-f39b-546d-ad8a-93eb46db3f76) |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51675?repo=metabase/metabase&commitHash=a4fc23eac21381e81beb7572b7500b2bac5b8708&utm_source=gh-comment&runConclusion=FAILURE&runId=212c4d38-cabf-5321-bbe3-ee8751c7da83) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51675?repo=metabase/metabase&commitHash=a4fc23eac21381e81beb7572b7500b2bac5b8708&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 26, 22, 13, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2581342057, 'issue_id': 2760157256, 'author': 'paoliniluis', 'body': 'Fixes https://github.com/metabase/metabase/issues/46111', 'created_at': datetime.datetime(2025, 1, 9, 22, 14, 14, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-26 22:13:37 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/128687_tests-a4fc23ea-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51675?repo=metabase/metabase&commitHash=a4fc23eac21381e81beb7572b7500b2bac5b8708&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51675?repo=metabase/metabase&commitHash=a4fc23eac21381e81beb7572b7500b2bac5b8708&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51675?repo=metabase/metabase&commitHash=a4fc23eac21381e81beb7572b7500b2bac5b8708&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51675?repo=metabase/metabase&commitHash=a4fc23eac21381e81beb7572b7500b2bac5b8708&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>dashboards-for-cards-works</code> | The expected response from the API did not match the actual response, because the dashboard is unreadable. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51675?repo=metabase/metabase&commitHash=a4fc23eac21381e81beb7572b7500b2bac5b8708&utm_source=gh-comment&runConclusion=FAILURE&runId=9e4c6e3e-8e5b-51fd-b33e-0b82da5fd004) |
| <code>e2e-storage-ingestion-test</code> | The expected and actual values do not match for the 'Field' entity. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51675?repo=metabase/metabase&commitHash=a4fc23eac21381e81beb7572b7500b2bac5b8708&utm_source=gh-comment&runConclusion=FAILURE&runId=3b119ba4-f39b-546d-ad8a-93eb46db3f76) |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51675?repo=metabase/metabase&commitHash=a4fc23eac21381e81beb7572b7500b2bac5b8708&utm_source=gh-comment&runConclusion=FAILURE&runId=212c4d38-cabf-5321-bbe3-ee8751c7da83) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51675?repo=metabase/metabase&commitHash=a4fc23eac21381e81beb7572b7500b2bac5b8708&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

paoliniluis on (2025-01-09 22:14:14 UTC): Fixes https://github.com/metabase/metabase/issues/46111

"
2760142516,pull_request,closed,,chore(e2e): create helpers for viz settings and viz type buttons,"### Description

Pre-requisite for further changes in scope of [Epic](https://github.com/metabase/metabase/issues/47911)

### How to verify

tests pass

",uladzimirdev,2024-12-26 21:03:04+00:00,['uladzimirdev'],2025-01-27 22:12:27+00:00,2025-01-08 08:23:56+00:00,https://github.com/metabase/metabase/pull/51674,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2563116422, 'issue_id': 2760142516, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3700_tests-f1ef563e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51674?repo=metabase/metabase&commitHash=f1ef563e1e48728f7ca5d8f31dc9ccde1a07b3ac&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51674?repo=metabase/metabase&commitHash=f1ef563e1e48728f7ca5d8f31dc9ccde1a07b3ac&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51674?repo=metabase/metabase&commitHash=f1ef563e1e48728f7ca5d8f31dc9ccde1a07b3ac&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51674?repo=metabase/metabase&commitHash=f1ef563e1e48728f7ca5d8f31dc9ccde1a07b3ac&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native should handle template tags</code> | The test timed out waiting for the expected content 'Showing 168 rows' to appear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51674?repo=metabase/metabase&commitHash=f1ef563e1e48728f7ca5d8f31dc9ccde1a07b3ac&utm_source=gh-comment&runConclusion=FAILURE&runId=5e6e5af4-35b3-571c-bb40-fa19df70a130) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51674?repo=metabase/metabase&commitHash=f1ef563e1e48728f7ca5d8f31dc9ccde1a07b3ac&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 26, 21, 40, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2563116424, 'issue_id': 2760142516, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3029_tests-b1876a09-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51674?repo=metabase/metabase&commitHash=b1876a09d1ecae2da42c2df7276dc9f9f557345c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51674?repo=metabase/metabase&commitHash=b1876a09d1ecae2da42c2df7276dc9f9f557345c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51674?repo=metabase/metabase&commitHash=b1876a09d1ecae2da42c2df7276dc9f9f557345c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51674?repo=metabase/metabase&commitHash=b1876a09d1ecae2da42c2df7276dc9f9f557345c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51674?repo=metabase/metabase&commitHash=b1876a09d1ecae2da42c2df7276dc9f9f557345c&utm_source=gh-comment&runConclusion=FAILURE&runId=7484befc-21b1-5a68-b3b4-91e84ea03138) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51674?repo=metabase/metabase&commitHash=b1876a09d1ecae2da42c2df7276dc9f9f557345c&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 26, 21, 40, 7, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-26 21:40:07 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3700_tests-f1ef563e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51674?repo=metabase/metabase&commitHash=f1ef563e1e48728f7ca5d8f31dc9ccde1a07b3ac&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51674?repo=metabase/metabase&commitHash=f1ef563e1e48728f7ca5d8f31dc9ccde1a07b3ac&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51674?repo=metabase/metabase&commitHash=f1ef563e1e48728f7ca5d8f31dc9ccde1a07b3ac&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51674?repo=metabase/metabase&commitHash=f1ef563e1e48728f7ca5d8f31dc9ccde1a07b3ac&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native should handle template tags</code> | The test timed out waiting for the expected content 'Showing 168 rows' to appear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51674?repo=metabase/metabase&commitHash=f1ef563e1e48728f7ca5d8f31dc9ccde1a07b3ac&utm_source=gh-comment&runConclusion=FAILURE&runId=5e6e5af4-35b3-571c-bb40-fa19df70a130) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51674?repo=metabase/metabase&commitHash=f1ef563e1e48728f7ca5d8f31dc9ccde1a07b3ac&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-12-26 21:40:07 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3029_tests-b1876a09-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51674?repo=metabase/metabase&commitHash=b1876a09d1ecae2da42c2df7276dc9f9f557345c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51674?repo=metabase/metabase&commitHash=b1876a09d1ecae2da42c2df7276dc9f9f557345c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51674?repo=metabase/metabase&commitHash=b1876a09d1ecae2da42c2df7276dc9f9f557345c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51674?repo=metabase/metabase&commitHash=b1876a09d1ecae2da42c2df7276dc9f9f557345c&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51674?repo=metabase/metabase&commitHash=b1876a09d1ecae2da42c2df7276dc9f9f557345c&utm_source=gh-comment&runConclusion=FAILURE&runId=7484befc-21b1-5a68-b3b4-91e84ea03138) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51674?repo=metabase/metabase&commitHash=b1876a09d1ecae2da42c2df7276dc9f9f557345c&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2760129113,pull_request,closed,,Ensure collections' effective_location is batch hydrated when hydrating effective_parent,"Discovered this while investigating https://github.com/metabase/metabase/issues/51560, but I'm not sure if this fully fixes the slowdown reported there. Perhaps not, since it's not related to how many groups a user is in.

When batch-hydrating `:effective_parent` on a list of collections (e.g. when listing the children of a collection) we need to first hydrate `:effective_location`. This is a batched hydration method but for some reason we were doing this individually for each collection instead of passing the entire list into the hydration method.

The `:effective_location` method still processes each collection individually, and `visible-collection-ids` is memoized for the duration of the request, so this isn't an N+1 DB query situation. But I think the t2 hydration logic and the memoization machinery is a non-negligible amount of overhead when there are many collections. 

This cuts the response time for `GET /api/collection/root/items` down from 2 seconds to 200 ms for a case where there are ~6500 subcollections in a single collection. ",noahmoss,2024-12-26 20:41:53+00:00,['noahmoss'],2024-12-27 15:57:47+00:00,2024-12-27 15:08:34+00:00,https://github.com/metabase/metabase/pull/51673,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2563087895, 'issue_id': 2760129113, 'author': 'noahmoss', 'body': '* **#51673** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51673?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51673?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 12, 26, 20, 42, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2563116517, 'issue_id': 2760129113, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/129649_tests-25961603-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51673?repo=metabase/metabase&commitHash=2596160397641346bf8213aa44eeed9470d3cf49&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/99-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51673?repo=metabase/metabase&commitHash=2596160397641346bf8213aa44eeed9470d3cf49&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51673?repo=metabase/metabase&commitHash=2596160397641346bf8213aa44eeed9470d3cf49&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51673?repo=metabase/metabase&commitHash=2596160397641346bf8213aa44eeed9470d3cf49&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:329:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\\#\'sync.fingerprint/max-refingerprint-field... | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51673?repo=metabase/metabase&commitHash=2596160397641346bf8213aa44eeed9470d3cf49&utm_source=gh-comment&runConclusion=FAILURE&runId=a37fba1b-043e-56a1-bda8-c550e862cc3c) |\n| <code>template-tag-number-param-test</code> | Connection to Hive database was refused. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51673?repo=metabase/metabase&commitHash=2596160397641346bf8213aa44eeed9470d3cf49&utm_source=gh-comment&runConclusion=FAILURE&runId=48b246a0-ae32-5896-b157-b27315b2ce50) |\n| <code>metric-test</code> | Connection to the database was refused, preventing the query from being executed. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51673?repo=metabase/metabase&commitHash=2596160397641346bf8213aa44eeed9470d3cf49&utm_source=gh-comment&runConclusion=FAILURE&runId=be6fab82-7c39-5b15-b6c8-4a07b0c0cd99) |\n| <code>test-length</code> | Connection to Hive database refused, preventing query execution. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51673?repo=metabase/metabase&commitHash=2596160397641346bf8213aa44eeed9470d3cf49&utm_source=gh-comment&runConclusion=FAILURE&runId=9b34fb64-19e3-5956-b9db-fbdc6f8ff68c) |\n\n[... and 95 more](https://app.trunk.io/metabase/flaky-tests/pr/51673?repo=metabase/metabase&commitHash=2596160397641346bf8213aa44eeed9470d3cf49&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51673?repo=metabase/metabase&commitHash=2596160397641346bf8213aa44eeed9470d3cf49&utm_source=gh-comment&runConclusion=FAILURE&runId=6724bd3f-55fc-51d3-8660-27671daa7c29) |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51673?repo=metabase/metabase&commitHash=2596160397641346bf8213aa44eeed9470d3cf49&utm_source=gh-comment&runConclusion=FAILURE&runId=212f1768-ea4a-59e1-9ac1-62540fe25770) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51673?repo=metabase/metabase&commitHash=2596160397641346bf8213aa44eeed9470d3cf49&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 26, 21, 40, 20, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2024-12-26 20:42:10 UTC): * **#51673** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51673?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51673?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2024-12-26 21:40:20 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/129649_tests-25961603-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51673?repo=metabase/metabase&commitHash=2596160397641346bf8213aa44eeed9470d3cf49&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/99-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51673?repo=metabase/metabase&commitHash=2596160397641346bf8213aa44eeed9470d3cf49&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51673?repo=metabase/metabase&commitHash=2596160397641346bf8213aa44eeed9470d3cf49&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51673?repo=metabase/metabase&commitHash=2596160397641346bf8213aa44eeed9470d3cf49&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:329:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerprint-field... | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51673?repo=metabase/metabase&commitHash=2596160397641346bf8213aa44eeed9470d3cf49&utm_source=gh-comment&runConclusion=FAILURE&runId=a37fba1b-043e-56a1-bda8-c550e862cc3c) |
| <code>template-tag-number-param-test</code> | Connection to Hive database was refused. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51673?repo=metabase/metabase&commitHash=2596160397641346bf8213aa44eeed9470d3cf49&utm_source=gh-comment&runConclusion=FAILURE&runId=48b246a0-ae32-5896-b157-b27315b2ce50) |
| <code>metric-test</code> | Connection to the database was refused, preventing the query from being executed. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51673?repo=metabase/metabase&commitHash=2596160397641346bf8213aa44eeed9470d3cf49&utm_source=gh-comment&runConclusion=FAILURE&runId=be6fab82-7c39-5b15-b6c8-4a07b0c0cd99) |
| <code>test-length</code> | Connection to Hive database refused, preventing query execution. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51673?repo=metabase/metabase&commitHash=2596160397641346bf8213aa44eeed9470d3cf49&utm_source=gh-comment&runConclusion=FAILURE&runId=9b34fb64-19e3-5956-b9db-fbdc6f8ff68c) |

[... and 95 more](https://app.trunk.io/metabase/flaky-tests/pr/51673?repo=metabase/metabase&commitHash=2596160397641346bf8213aa44eeed9470d3cf49&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51673?repo=metabase/metabase&commitHash=2596160397641346bf8213aa44eeed9470d3cf49&utm_source=gh-comment&runConclusion=FAILURE&runId=6724bd3f-55fc-51d3-8660-27671daa7c29) |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51673?repo=metabase/metabase&commitHash=2596160397641346bf8213aa44eeed9470d3cf49&utm_source=gh-comment&runConclusion=FAILURE&runId=212f1768-ea4a-59e1-9ac1-62540fe25770) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51673?repo=metabase/metabase&commitHash=2596160397641346bf8213aa44eeed9470d3cf49&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2760081905,pull_request,closed,,feat(QB): combine chart type selector with viz settings sidebar,"[Epic](https://github.com/metabase/metabase/issues/47911)

### Description

Combine chart type and viz settings sidebars

### Demo



https://github.com/user-attachments/assets/3f61bb10-aa7c-4d2a-9f4c-8764c31ad9de

",uladzimirdev,2024-12-26 19:33:57+00:00,['uladzimirdev'],2025-01-27 22:12:17+00:00,2025-01-09 12:10:51+00:00,https://github.com/metabase/metabase/pull/51671,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', ''), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2563050459, 'issue_id': 2760081905, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 9afbb6d62c67ddc824cdf22580e66cdd3e0a2489...ac59325c4c8d266170fff43eac6d52416a392d16.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/BaseChartSettings.styled.tsx<br>frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/BaseChartSettings.tsx<br>frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/BaseChartSettings.unit.spec.tsx<br>frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/hooks.ts<br>frontend/src/metabase/visualizations/components/ChartSettings/QuestionChartSettings/QuestionChartSettings.tsx<br>frontend/src/metabase/visualizations/visualizations/Map/Map.jsx |', 'created_at': datetime.datetime(2024, 12, 26, 19, 35, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2563072975, 'issue_id': 2760081905, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13319_tests-ac59325c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51671?repo=metabase/metabase&commitHash=ac59325c4c8d266170fff43eac6d52416a392d16&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51671?repo=metabase/metabase&commitHash=ac59325c4c8d266170fff43eac6d52416a392d16&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51671?repo=metabase/metabase&commitHash=ac59325c4c8d266170fff43eac6d52416a392d16&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51671?repo=metabase/metabase&commitHash=ac59325c4c8d266170fff43eac6d52416a392d16&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | Unable to find an element with the text ""View details"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51671?repo=metabase/metabase&commitHash=ac59325c4c8d266170fff43eac6d52416a392d16&utm_source=gh-comment&runConclusion=FAILURE&runId=3c249370-87a7-5e73-8d3f-a49af8387384) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51671?repo=metabase/metabase&commitHash=ac59325c4c8d266170fff43eac6d52416a392d16&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 26, 20, 14, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2565909537, 'issue_id': 2760081905, 'author': 'mngr', 'body': '[localhost-1735592169372.log](https://github.com/user-attachments/files/18277713/localhost-1735592169372.log)\r\nA lot of errors in the js console in this branch, not sure if it relates to the changes\r\nOther than that looks fine üôå', 'created_at': datetime.datetime(2024, 12, 30, 20, 58, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579916794, 'issue_id': 2760081905, 'author': 'github-actions[bot]', 'body': 'üëã Deploying a preview environment for commit ac59325c4c8d266170fff43eac6d52416a392d16.\n‚úÖ Preview:\n    https://pr51671.coredev.metabase.com\nüóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2025, 1, 9, 11, 30, 44, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-12-26 19:35:25 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 9afbb6d62c67ddc824cdf22580e66cdd3e0a2489...ac59325c4c8d266170fff43eac6d52416a392d16.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/BaseChartSettings.styled.tsx<br>frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/BaseChartSettings.tsx<br>frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/BaseChartSettings.unit.spec.tsx<br>frontend/src/metabase/visualizations/components/ChartSettings/BaseChartSettings/hooks.ts<br>frontend/src/metabase/visualizations/components/ChartSettings/QuestionChartSettings/QuestionChartSettings.tsx<br>frontend/src/metabase/visualizations/visualizations/Map/Map.jsx |

trunk-io[bot] on (2024-12-26 20:14:50 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13319_tests-ac59325c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51671?repo=metabase/metabase&commitHash=ac59325c4c8d266170fff43eac6d52416a392d16&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51671?repo=metabase/metabase&commitHash=ac59325c4c8d266170fff43eac6d52416a392d16&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51671?repo=metabase/metabase&commitHash=ac59325c4c8d266170fff43eac6d52416a392d16&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51671?repo=metabase/metabase&commitHash=ac59325c4c8d266170fff43eac6d52416a392d16&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | Unable to find an element with the text ""View details"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51671?repo=metabase/metabase&commitHash=ac59325c4c8d266170fff43eac6d52416a392d16&utm_source=gh-comment&runConclusion=FAILURE&runId=3c249370-87a7-5e73-8d3f-a49af8387384) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51671?repo=metabase/metabase&commitHash=ac59325c4c8d266170fff43eac6d52416a392d16&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

mngr on (2024-12-30 20:58:50 UTC): [localhost-1735592169372.log](https://github.com/user-attachments/files/18277713/localhost-1735592169372.log)
A lot of errors in the js console in this branch, not sure if it relates to the changes
Other than that looks fine üôå

github-actions[bot] on (2025-01-09 11:30:44 UTC): üëã Deploying a preview environment for commit ac59325c4c8d266170fff43eac6d52416a392d16.
‚úÖ Preview:
    https://pr51671.coredev.metabase.com
üóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

"
2760081150,pull_request,closed,,feat(QB): make viz icon stable independently from the viz type,"[Epic](https://github.com/metabase/metabase/issues/47911)

### Description

Make viz settings icon static as per [design](https://www.figma.com/design/mbfL6bqmoS1K00vFR3bhnp/Notebook-usability-improvements?node-id=1-286&p=f&t=vlO2hDvmu0Q8wpi1-0), dynamic icon will be moved to the left ""visualization"" button in https://github.com/metabase/metabase/pull/51671

### How to verify

if you change visualization, the icon in the bottom center control stays the same

### Demo

https://github.com/user-attachments/assets/1e2eeefc-a929-4f7b-8a94-a61f47f3efd9


",uladzimirdev,2024-12-26 19:32:51+00:00,['uladzimirdev'],2025-01-27 22:12:27+00:00,2025-01-08 12:59:27+00:00,https://github.com/metabase/metabase/pull/51670,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', ''), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2563071301, 'issue_id': 2760081150, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13182_tests-8ac24683-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51670?repo=metabase/metabase&commitHash=8ac2468324b1bb88471e43003e825261a47969f2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51670?repo=metabase/metabase&commitHash=8ac2468324b1bb88471e43003e825261a47969f2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51670?repo=metabase/metabase&commitHash=8ac2468324b1bb88471e43003e825261a47969f2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51670?repo=metabase/metabase&commitHash=8ac2468324b1bb88471e43003e825261a47969f2&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51670?repo=metabase/metabase&commitHash=8ac2468324b1bb88471e43003e825261a47969f2&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 26, 20, 11, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2567983155, 'issue_id': 2760081150, 'author': 'mngr', 'body': ""@AlessioLaiso I don't remember us deciding to do so. Did we?"", 'created_at': datetime.datetime(2025, 1, 2, 15, 50, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573176119, 'issue_id': 2760081150, 'author': 'AlessioLaiso', 'body': '@mngr Yes, this is based on the internal feedback we received in December.', 'created_at': datetime.datetime(2025, 1, 6, 14, 2, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577098717, 'issue_id': 2760081150, 'author': 'github-actions[bot]', 'body': 'üëã Deploying a preview environment for commit 8ac2468324b1bb88471e43003e825261a47969f2.\n‚úÖ Preview:\n    https://pr51670.coredev.metabase.com\nüóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2025, 1, 8, 8, 45, 24, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-26 20:11:49 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13182_tests-8ac24683-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51670?repo=metabase/metabase&commitHash=8ac2468324b1bb88471e43003e825261a47969f2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51670?repo=metabase/metabase&commitHash=8ac2468324b1bb88471e43003e825261a47969f2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51670?repo=metabase/metabase&commitHash=8ac2468324b1bb88471e43003e825261a47969f2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51670?repo=metabase/metabase&commitHash=8ac2468324b1bb88471e43003e825261a47969f2&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51670?repo=metabase/metabase&commitHash=8ac2468324b1bb88471e43003e825261a47969f2&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

mngr on (2025-01-02 15:50:06 UTC): @AlessioLaiso I don't remember us deciding to do so. Did we?

AlessioLaiso on (2025-01-06 14:02:48 UTC): @mngr Yes, this is based on the internal feedback we received in December.

github-actions[bot] on (2025-01-08 08:45:24 UTC): üëã Deploying a preview environment for commit 8ac2468324b1bb88471e43003e825261a47969f2.
‚úÖ Preview:
    https://pr51670.coredev.metabase.com
üóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

"
2760065208,pull_request,closed,,Use NanoIDs instead of field IDs for the LLM,"We don't want to send our real field IDs to the LLM because they're kind of a mess. Instead, just send the LLM nanoIDs and then find the *actual* field in the history.

A little messy and inefficient, but it's a small diff and it works.
",johnswanson,2024-12-26 19:10:00+00:00,['johnswanson'],2025-02-04 15:10:00+00:00,2024-12-27 19:23:42+00:00,https://github.com/metabase/metabase/pull/51669,"[('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2563970124, 'issue_id': 2760065208, 'author': 'johnswanson', 'body': 'Closed in favor of https://github.com/metabase/metabase/pull/51606', 'created_at': datetime.datetime(2024, 12, 27, 19, 23, 42, tzinfo=datetime.timezone.utc)}]","johnswanson (Issue Creator) on (2024-12-27 19:23:42 UTC): Closed in favor of https://github.com/metabase/metabase/pull/51606

"
2759853247,pull_request,closed,,"ü§ñ backported ""perf: Make registered? and initialized? checks faster for already initialized drivers""",#51023,github-automation-metabase,2024-12-26 14:47:58+00:00,"['camsaul', 'github-automation-metabase']",2024-12-26 16:16:03+00:00,2024-12-26 15:45:33+00:00,https://github.com/metabase/metabase/pull/51668,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2562876255, 'issue_id': 2759853247, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120277_tests-b412735e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51668?repo=metabase/metabase&commitHash=b412735ec24c1439903ed68e8172416ff803c6f5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51668?repo=metabase/metabase&commitHash=b412735ec24c1439903ed68e8172416ff803c6f5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51668?repo=metabase/metabase&commitHash=b412735ec24c1439903ed68e8172416ff803c6f5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51668?repo=metabase/metabase&commitHash=b412735ec24c1439903ed68e8172416ff803c6f5&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > collections > clean up ee clean up collection modal should be able to clean up stale items</code> | The element <div.emotion-Group-root.emotion-1plzo5d> was expected to not exist in the DOM, but it was found continuously. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51668?repo=metabase/metabase&commitHash=b412735ec24c1439903ed68e8172416ff803c6f5&utm_source=gh-comment&runConclusion=FAILURE&runId=6adcd7f7-7145-557d-b56b-5716a8e61cf4) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51668?repo=metabase/metabase&commitHash=b412735ec24c1439903ed68e8172416ff803c6f5&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 26, 15, 11, 43, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-26 15:11:43 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120277_tests-b412735e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51668?repo=metabase/metabase&commitHash=b412735ec24c1439903ed68e8172416ff803c6f5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51668?repo=metabase/metabase&commitHash=b412735ec24c1439903ed68e8172416ff803c6f5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51668?repo=metabase/metabase&commitHash=b412735ec24c1439903ed68e8172416ff803c6f5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51668?repo=metabase/metabase&commitHash=b412735ec24c1439903ed68e8172416ff803c6f5&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > collections > clean up ee clean up collection modal should be able to clean up stale items</code> | The element <div.emotion-Group-root.emotion-1plzo5d> was expected to not exist in the DOM, but it was found continuously. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51668?repo=metabase/metabase&commitHash=b412735ec24c1439903ed68e8172416ff803c6f5&utm_source=gh-comment&runConclusion=FAILURE&runId=6adcd7f7-7145-557d-b56b-5716a8e61cf4) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51668?repo=metabase/metabase&commitHash=b412735ec24c1439903ed68e8172416ff803c6f5&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2759821456,pull_request,closed,,chore: node 22,"> [!IMPORTANT]
> For those employed by Metabase: if you are merging into master, please add either a `backport` or a `no-backport` label to this PR. You will not be able to merge until you do this step. Refer to the section [Do I need to backport this PR?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#89f80d6f17714a0198aeb66c0efd1b71) in the Metabase Branching Strategy document for more details. If you're not employed by Metabase, this section does not apply to you, and the label will be taken care of by your reviewer.

> **Warning**
>
> If that is your first contribution to Metabase, please sign the [Contributor License Agreement](https://docs.google.com/a/metabase.com/forms/d/1oV38o7b9ONFSwuzwmERRMi9SYrhYeOrkbmNaq9pOJ_E/viewform) (unless it's a tiny documentation change). Also, if you're attempting to fix a translation issue, please submit your changes to our [POEditor project](https://poeditor.com/join/project/ynjQmwSsGh) instead of opening a PR.

Closes https://github.com/metabase/metabase/issues/[issue_number]

### Description

Describe the overall approach and the problem being solved.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> ...
2. ...

### Demo

_Upload a demo video or before/after screenshots if sensible or remove the section_

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",uladzimirdev,2024-12-26 14:13:10+00:00,['uladzimirdev'],2025-02-03 11:28:05+00:00,2025-02-03 11:28:05+00:00,https://github.com/metabase/metabase/pull/51667,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2562843723, 'issue_id': 2759821456, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3602_tests-628a0d6d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51667?repo=metabase/metabase&commitHash=628a0d6db181cc204f8d460985bd044ab549a11b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51667?repo=metabase/metabase&commitHash=628a0d6db181cc204f8d460985bd044ab549a11b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51667?repo=metabase/metabase&commitHash=628a0d6db181cc204f8d460985bd044ab549a11b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51667?repo=metabase/metabase&commitHash=628a0d6db181cc204f8d460985bd044ab549a11b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51667?repo=metabase/metabase&commitHash=628a0d6db181cc204f8d460985bd044ab549a11b&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 26, 14, 42, 41, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-26 14:42:41 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3602_tests-628a0d6d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51667?repo=metabase/metabase&commitHash=628a0d6db181cc204f8d460985bd044ab549a11b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51667?repo=metabase/metabase&commitHash=628a0d6db181cc204f8d460985bd044ab549a11b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51667?repo=metabase/metabase&commitHash=628a0d6db181cc204f8d460985bd044ab549a11b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51667?repo=metabase/metabase&commitHash=628a0d6db181cc204f8d460985bd044ab549a11b&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51667?repo=metabase/metabase&commitHash=628a0d6db181cc204f8d460985bd044ab549a11b&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2759719977,pull_request,closed,,feat(QB): change visual style of the buttons so that they all look active,"[Epic](https://github.com/metabase/metabase/issues/47911)

### Description

remove transparent style from the buttons

> Change the visual style of the buttons so that they all look active instead of 3 active ones (Join data, Filter and Summarize) + other disabled ones

### Demo


https://github.com/user-attachments/assets/939f7ed9-5019-430c-adda-0970d7aeeef6

",uladzimirdev,2024-12-26 12:36:49+00:00,['uladzimirdev'],2025-01-27 22:12:21+00:00,2025-01-08 21:09:13+00:00,https://github.com/metabase/metabase/pull/51666,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', ''), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2562692143, 'issue_id': 2759719977, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13291_tests-fbac5e7a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51666?repo=metabase/metabase&commitHash=fbac5e7a443d0a0c23d7f77dc1478e707fa22538&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51666?repo=metabase/metabase&commitHash=fbac5e7a443d0a0c23d7f77dc1478e707fa22538&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51666?repo=metabase/metabase&commitHash=fbac5e7a443d0a0c23d7f77dc1478e707fa22538&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51666?repo=metabase/metabase&commitHash=fbac5e7a443d0a0c23d7f77dc1478e707fa22538&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 42957 does not show collections that contain models from different tabs (metabase\\#42957)</code> | The element <div.emotion-xg7kom> was not expected to be in the DOM, but it was found continuously. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51666?repo=metabase/metabase&commitHash=fbac5e7a443d0a0c23d7f77dc1478e707fa22538&utm_source=gh-comment&runConclusion=FAILURE&runId=f563ebeb-4c86-5e18-932d-171c0954e1ae) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51666?repo=metabase/metabase&commitHash=fbac5e7a443d0a0c23d7f77dc1478e707fa22538&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 26, 13, 9, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577430119, 'issue_id': 2759719977, 'author': 'uladzimirdev', 'body': '> * Background ‚Üí orion-10\r\n\r\n@AlessioLaiso I just realized that in figma we use `orion-5`', 'created_at': datetime.datetime(2025, 1, 8, 11, 21, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577590269, 'issue_id': 2759719977, 'author': 'uladzimirdev', 'body': '@AlessioLaiso does it look better? \r\n\r\n\r\nhttps://github.com/user-attachments/assets/2ac56b9b-bd54-41a5-9980-8124ce4c7eda', 'created_at': datetime.datetime(2025, 1, 8, 12, 46, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577879259, 'issue_id': 2759719977, 'author': 'AlessioLaiso', 'body': '@uladzimirdev Yes, better!', 'created_at': datetime.datetime(2025, 1, 8, 14, 57, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578423236, 'issue_id': 2759719977, 'author': 'github-actions[bot]', 'body': 'üëã Deploying a preview environment for commit fbac5e7a443d0a0c23d7f77dc1478e707fa22538.\n‚úÖ Preview:\n    https://pr51666.coredev.metabase.com\nüóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2025, 1, 8, 19, 7, 18, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-26 13:09:47 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13291_tests-fbac5e7a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51666?repo=metabase/metabase&commitHash=fbac5e7a443d0a0c23d7f77dc1478e707fa22538&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51666?repo=metabase/metabase&commitHash=fbac5e7a443d0a0c23d7f77dc1478e707fa22538&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51666?repo=metabase/metabase&commitHash=fbac5e7a443d0a0c23d7f77dc1478e707fa22538&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51666?repo=metabase/metabase&commitHash=fbac5e7a443d0a0c23d7f77dc1478e707fa22538&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 42957 does not show collections that contain models from different tabs (metabase\#42957)</code> | The element <div.emotion-xg7kom> was not expected to be in the DOM, but it was found continuously. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51666?repo=metabase/metabase&commitHash=fbac5e7a443d0a0c23d7f77dc1478e707fa22538&utm_source=gh-comment&runConclusion=FAILURE&runId=f563ebeb-4c86-5e18-932d-171c0954e1ae) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51666?repo=metabase/metabase&commitHash=fbac5e7a443d0a0c23d7f77dc1478e707fa22538&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

uladzimirdev (Issue Creator) on (2025-01-08 11:21:18 UTC): @AlessioLaiso I just realized that in figma we use `orion-5`

uladzimirdev (Issue Creator) on (2025-01-08 12:46:31 UTC): @AlessioLaiso does it look better? 


https://github.com/user-attachments/assets/2ac56b9b-bd54-41a5-9980-8124ce4c7eda

AlessioLaiso on (2025-01-08 14:57:55 UTC): @uladzimirdev Yes, better!

github-actions[bot] on (2025-01-08 19:07:18 UTC): üëã Deploying a preview environment for commit fbac5e7a443d0a0c23d7f77dc1478e707fa22538.
‚úÖ Preview:
    https://pr51666.coredev.metabase.com
üóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

"
2759087889,pull_request,closed,,Remove the unused and deprecated `fetch-mock-jest`,"https://www.npmjs.com/package/fetch-mock-jest

<img width=""1205"" alt=""image"" src=""https://github.com/user-attachments/assets/482c3ca1-c623-41d9-9ca6-6790b27217d1"" />
",nemanjaglumac,2024-12-25 20:49:53+00:00,['nemanjaglumac'],2025-01-27 22:12:44+00:00,2024-12-26 11:43:53+00:00,https://github.com/metabase/metabase/pull/51663,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2562005155, 'issue_id': 2759087889, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13245_tests-2460ed48-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51663?repo=metabase/metabase&commitHash=2460ed48627ebfe8a59038d0b649e78b6364a531&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51663?repo=metabase/metabase&commitHash=2460ed48627ebfe8a59038d0b649e78b6364a531&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51663?repo=metabase/metabase&commitHash=2460ed48627ebfe8a59038d0b649e78b6364a531&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51663?repo=metabase/metabase&commitHash=2460ed48627ebfe8a59038d0b649e78b6364a531&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 16886 shouldn\'t remove parts of the query when choosing \'Run selected text\' (metabase\\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51663?repo=metabase/metabase&commitHash=2460ed48627ebfe8a59038d0b649e78b6364a531&utm_source=gh-comment&runConclusion=FAILURE&runId=1c4215be-bad1-54ab-8124-7617c27e8a35) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51663?repo=metabase/metabase&commitHash=2460ed48627ebfe8a59038d0b649e78b6364a531&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 25, 21, 38, 57, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-25 21:38:57 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13245_tests-2460ed48-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51663?repo=metabase/metabase&commitHash=2460ed48627ebfe8a59038d0b649e78b6364a531&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51663?repo=metabase/metabase&commitHash=2460ed48627ebfe8a59038d0b649e78b6364a531&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51663?repo=metabase/metabase&commitHash=2460ed48627ebfe8a59038d0b649e78b6364a531&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51663?repo=metabase/metabase&commitHash=2460ed48627ebfe8a59038d0b649e78b6364a531&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 16886 shouldn't remove parts of the query when choosing 'Run selected text' (metabase\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51663?repo=metabase/metabase&commitHash=2460ed48627ebfe8a59038d0b649e78b6364a531&utm_source=gh-comment&runConclusion=FAILURE&runId=1c4215be-bad1-54ab-8124-7617c27e8a35) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51663?repo=metabase/metabase&commitHash=2460ed48627ebfe8a59038d0b649e78b6364a531&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2758815987,pull_request,closed,,Properly report unknown users from create-dashboard-subscription,,metamben,2024-12-25 13:42:39+00:00,['metamben'],2025-01-13 14:41:28+00:00,2025-01-13 14:41:26+00:00,https://github.com/metabase/metabase/pull/51662,"[('Metabot/General', 'General Metabot AI'), ('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2561905436, 'issue_id': 2758815987, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/126625_tests-8c1e2c0e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51662?repo=metabase/metabase&commitHash=8c1e2c0e8983cdd19c71c43b6e25cf1344e953c2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51662?repo=metabase/metabase&commitHash=8c1e2c0e8983cdd19c71c43b6e25cf1344e953c2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51662?repo=metabase/metabase&commitHash=8c1e2c0e8983cdd19c71c43b6e25cf1344e953c2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51662?repo=metabase/metabase&commitHash=8c1e2c0e8983cdd19c71c43b6e25cf1344e953c2&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>extract-nested-efficient-test</code> | Expected and actual values do not match for Dashboard objects. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51662?repo=metabase/metabase&commitHash=8c1e2c0e8983cdd19c71c43b6e25cf1344e953c2&utm_source=gh-comment&runConclusion=FAILURE&runId=08444c9d-6863-50bb-962a-d189ae4c2c39) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51662?repo=metabase/metabase&commitHash=8c1e2c0e8983cdd19c71c43b6e25cf1344e953c2&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 25, 14, 9, 29, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-25 14:09:29 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/126625_tests-8c1e2c0e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51662?repo=metabase/metabase&commitHash=8c1e2c0e8983cdd19c71c43b6e25cf1344e953c2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51662?repo=metabase/metabase&commitHash=8c1e2c0e8983cdd19c71c43b6e25cf1344e953c2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51662?repo=metabase/metabase&commitHash=8c1e2c0e8983cdd19c71c43b6e25cf1344e953c2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51662?repo=metabase/metabase&commitHash=8c1e2c0e8983cdd19c71c43b6e25cf1344e953c2&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>extract-nested-efficient-test</code> | Expected and actual values do not match for Dashboard objects. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51662?repo=metabase/metabase&commitHash=8c1e2c0e8983cdd19c71c43b6e25cf1344e953c2&utm_source=gh-comment&runConclusion=FAILURE&runId=08444c9d-6863-50bb-962a-d189ae4c2c39) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51662?repo=metabase/metabase&commitHash=8c1e2c0e8983cdd19c71c43b6e25cf1344e953c2&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2758753067,pull_request,closed,,Fix static embedding missing dark theme on some date widgets,"Closes https://github.com/metabase/metabase/issues/51658

### Description

Fix dark theme regression on static embedding after being introduced by #51596 and #51645

### How to verify

1. Check all static embedding snapshots under `.loki/reference/chrome_laptop_embed_PublicOrEmbedded` and see if all snapshots looks okay on dark theme.

### Note
There is [one flaky test](https://github.com/metabase/metabase/actions/runs/12493072042/job/34863088164?pr=51661) (reran 4 times to get it to pass), but I don't think this PR introduces it
- master: [failed 8/20 times](https://github.com/metabase/metabase/actions/runs/12493991325/job/34863099779#step:9:153)
- This PR: [failed 10/20 times](https://github.com/metabase/metabase/actions/runs/12493994904/job/34863106017#step:9:156)

the difference is within the margin of error.

### Demo

See the Loki snapshot changes in the PR diff

#### Before
- ![image](https://github.com/user-attachments/assets/df32b3f8-7121-4f1e-bf5a-3bd4fa17a297)
- ![image](https://github.com/user-attachments/assets/21628001-da31-43db-8616-8fc1128acd29)
- ![image](https://github.com/user-attachments/assets/fa40b91c-386c-4e96-8b19-a27649fb56d8)
- ![image](https://github.com/user-attachments/assets/68f98dc1-33d7-420c-8a20-8907d7c3f0a0)
- ![image](https://github.com/user-attachments/assets/1be35b9c-5bf6-4f3a-a117-aa892bf92e75)
- ![image](https://github.com/user-attachments/assets/6afdd1a4-2015-4279-80ae-23fdbd3dfba0)
- ![image](https://github.com/user-attachments/assets/cf030a92-e46a-424d-8036-35a76fe90210)
- ![image](https://github.com/user-attachments/assets/db217a14-7971-472c-b814-215e8257ab58)
- ![image](https://github.com/user-attachments/assets/aa576088-5729-4d57-954f-967352ec73d5)
- ![image](https://github.com/user-attachments/assets/a42c336a-4373-4f81-827c-1e5b923b715c)
- ![image](https://github.com/user-attachments/assets/6411f15b-f785-4244-869f-30b12d213edf)
- ![image](https://github.com/user-attachments/assets/2a4a65b4-e7cc-459e-a3ee-7baed9d69dc6)


### Checklist

- [x] Tests have been added/updated to cover changes in this PR (Loki)
",WiNloSt,2024-12-25 11:40:47+00:00,['WiNloSt'],2025-01-03 09:13:59+00:00,2025-01-03 09:13:57+00:00,https://github.com/metabase/metabase/pull/51661,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', '')]","[{'comment_id': 2561853485, 'issue_id': 2758753067, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff fe13ca685912aa3cde89a7a7e8c0d4698cf9d060...7382b4b01c04b9c43c6a04a8062ae713ffaab50c.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/buttons/Button/Button.styled.tsx<br>frontend/src/metabase/ui/components/buttons/PopoverBackButton/PopoverBackButton.tsx<br>frontend/src/metabase/ui/components/inputs/Calendar/Calendar.styled.tsx<br>frontend/src/metabase/ui/components/inputs/DateInput/DateInput.styled.tsx<br>frontend/src/metabase/ui/components/inputs/DatePicker/DatePicker.styled.tsx<br>frontend/src/metabase/ui/components/inputs/Input/Input.styled.tsx<br>frontend/src/metabase/ui/components/inputs/MonthPicker/MonthPicker.styled.tsx<br>frontend/src/metabase/ui/components/inputs/Switch/Switch.styled.tsx<br>frontend/src/metabase/ui/components/inputs/TextInput/TextInput.styled.tsx<br>frontend/src/metabase/ui/components/inputs/TimeInput/TimeInput.styled.tsx<br>frontend/src/metabase/ui/components/navigation/Tabs/Tabs.styled.tsx<br>frontend/src/metabase/ui/components/utils/Divider/Divider.styled.tsx |', 'created_at': datetime.datetime(2024, 12, 25, 11, 42, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2561864556, 'issue_id': 2758753067, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51962_tests-7382b4b0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51661?repo=metabase/metabase&commitHash=7382b4b01c04b9c43c6a04a8062ae713ffaab50c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51661?repo=metabase/metabase&commitHash=7382b4b01c04b9c43c6a04a8062ae713ffaab50c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51661?repo=metabase/metabase&commitHash=7382b4b01c04b9c43c6a04a8062ae713ffaab50c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51661?repo=metabase/metabase&commitHash=7382b4b01c04b9c43c6a04a8062ae713ffaab50c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51661?repo=metabase/metabase&commitHash=7382b4b01c04b9c43c6a04a8062ae713ffaab50c&utm_source=gh-comment&runConclusion=FAILURE&runId=39b41937-b081-58a7-98bb-7293cc1250e6) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51661?repo=metabase/metabase&commitHash=7382b4b01c04b9c43c6a04a8062ae713ffaab50c&utm_source=gh-comment&runConclusion=FAILURE&runId=98846adc-1d91-57ec-9f13-e24939cef2d6) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51661?repo=metabase/metabase&commitHash=7382b4b01c04b9c43c6a04a8062ae713ffaab50c&utm_source=gh-comment&runConclusion=FAILURE&runId=b61eb6ad-33e3-51cc-afc3-2be0953158da) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51661?repo=metabase/metabase&commitHash=7382b4b01c04b9c43c6a04a8062ae713ffaab50c&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 25, 12, 12, 8, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-12-25 11:42:13 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff fe13ca685912aa3cde89a7a7e8c0d4698cf9d060...7382b4b01c04b9c43c6a04a8062ae713ffaab50c.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/buttons/Button/Button.styled.tsx<br>frontend/src/metabase/ui/components/buttons/PopoverBackButton/PopoverBackButton.tsx<br>frontend/src/metabase/ui/components/inputs/Calendar/Calendar.styled.tsx<br>frontend/src/metabase/ui/components/inputs/DateInput/DateInput.styled.tsx<br>frontend/src/metabase/ui/components/inputs/DatePicker/DatePicker.styled.tsx<br>frontend/src/metabase/ui/components/inputs/Input/Input.styled.tsx<br>frontend/src/metabase/ui/components/inputs/MonthPicker/MonthPicker.styled.tsx<br>frontend/src/metabase/ui/components/inputs/Switch/Switch.styled.tsx<br>frontend/src/metabase/ui/components/inputs/TextInput/TextInput.styled.tsx<br>frontend/src/metabase/ui/components/inputs/TimeInput/TimeInput.styled.tsx<br>frontend/src/metabase/ui/components/navigation/Tabs/Tabs.styled.tsx<br>frontend/src/metabase/ui/components/utils/Divider/Divider.styled.tsx |

trunk-io[bot] on (2024-12-25 12:12:08 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51962_tests-7382b4b0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51661?repo=metabase/metabase&commitHash=7382b4b01c04b9c43c6a04a8062ae713ffaab50c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51661?repo=metabase/metabase&commitHash=7382b4b01c04b9c43c6a04a8062ae713ffaab50c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51661?repo=metabase/metabase&commitHash=7382b4b01c04b9c43c6a04a8062ae713ffaab50c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51661?repo=metabase/metabase&commitHash=7382b4b01c04b9c43c6a04a8062ae713ffaab50c&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51661?repo=metabase/metabase&commitHash=7382b4b01c04b9c43c6a04a8062ae713ffaab50c&utm_source=gh-comment&runConclusion=FAILURE&runId=39b41937-b081-58a7-98bb-7293cc1250e6) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51661?repo=metabase/metabase&commitHash=7382b4b01c04b9c43c6a04a8062ae713ffaab50c&utm_source=gh-comment&runConclusion=FAILURE&runId=98846adc-1d91-57ec-9f13-e24939cef2d6) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51661?repo=metabase/metabase&commitHash=7382b4b01c04b9c43c6a04a8062ae713ffaab50c&utm_source=gh-comment&runConclusion=FAILURE&runId=b61eb6ad-33e3-51cc-afc3-2be0953158da) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51661?repo=metabase/metabase&commitHash=7382b4b01c04b9c43c6a04a8062ae713ffaab50c&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2758740233,pull_request,closed,,toucan2 consistent model alias,"Replace all the old toucan1 var like card/Card with the toucan2 keywords like :model/Card.


replacement was done by lsp",qnkhuat,2024-12-25 11:16:05+00:00,['qnkhuat'],2025-01-27 22:12:42+00:00,2024-12-31 05:35:35+00:00,https://github.com/metabase/metabase/pull/51660,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2561885761, 'issue_id': 2758740233, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/125578_tests-070b497f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51660?repo=metabase/metabase&commitHash=070b497f2cae1e57e7c21b9f165f78f04cf0a037&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51660?repo=metabase/metabase&commitHash=070b497f2cae1e57e7c21b9f165f78f04cf0a037&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51660?repo=metabase/metabase&commitHash=070b497f2cae1e57e7c21b9f165f78f04cf0a037&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51660?repo=metabase/metabase&commitHash=070b497f2cae1e57e7c21b9f165f78f04cf0a037&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51660?repo=metabase/metabase&commitHash=070b497f2cae1e57e7c21b9f165f78f04cf0a037&utm_source=gh-comment&runConclusion=FAILURE&runId=9d0b8515-5101-53d7-b638-7ec2671c3ff6) |\n| <code>bin-width-test</code> | The query result set was closed unexpectedly, preventing further processing. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51660?repo=metabase/metabase&commitHash=070b497f2cae1e57e7c21b9f165f78f04cf0a037&utm_source=gh-comment&runConclusion=FAILURE&runId=f5372ce3-595b-5e2a-93c9-bfb38926b07c) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, but expected stage numbers. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51660?repo=metabase/metabase&commitHash=070b497f2cae1e57e7c21b9f165f78f04cf0a037&utm_source=gh-comment&runConclusion=FAILURE&runId=815c7de8-4178-59c1-9593-958dc4911fd6) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51660?repo=metabase/metabase&commitHash=070b497f2cae1e57e7c21b9f165f78f04cf0a037&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 25, 13, 10, 51, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-25 13:10:51 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/125578_tests-070b497f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51660?repo=metabase/metabase&commitHash=070b497f2cae1e57e7c21b9f165f78f04cf0a037&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51660?repo=metabase/metabase&commitHash=070b497f2cae1e57e7c21b9f165f78f04cf0a037&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51660?repo=metabase/metabase&commitHash=070b497f2cae1e57e7c21b9f165f78f04cf0a037&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51660?repo=metabase/metabase&commitHash=070b497f2cae1e57e7c21b9f165f78f04cf0a037&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51660?repo=metabase/metabase&commitHash=070b497f2cae1e57e7c21b9f165f78f04cf0a037&utm_source=gh-comment&runConclusion=FAILURE&runId=9d0b8515-5101-53d7-b638-7ec2671c3ff6) |
| <code>bin-width-test</code> | The query result set was closed unexpectedly, preventing further processing. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51660?repo=metabase/metabase&commitHash=070b497f2cae1e57e7c21b9f165f78f04cf0a037&utm_source=gh-comment&runConclusion=FAILURE&runId=f5372ce3-595b-5e2a-93c9-bfb38926b07c) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, but expected stage numbers. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51660?repo=metabase/metabase&commitHash=070b497f2cae1e57e7c21b9f165f78f04cf0a037&utm_source=gh-comment&runConclusion=FAILURE&runId=815c7de8-4178-59c1-9593-958dc4911fd6) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51660?repo=metabase/metabase&commitHash=070b497f2cae1e57e7c21b9f165f78f04cf0a037&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2758484945,pull_request,closed,,[Notification] module readme,"Let me know if this readme is helpful

Epic: https://github.com/metabase/metabase/issues/50766",qnkhuat,2024-12-25 04:37:40+00:00,['qnkhuat'],2025-01-09 05:04:50+00:00,2025-01-09 05:04:22+00:00,https://github.com/metabase/metabase/pull/51657,"[('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2561616148, 'issue_id': 2758484945, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/118867_tests-4085e17b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51657?repo=metabase/metabase&commitHash=4085e17b7bf0c5c6102618f258e86b90371a9c51&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51657?repo=metabase/metabase&commitHash=4085e17b7bf0c5c6102618f258e86b90371a9c51&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51657?repo=metabase/metabase&commitHash=4085e17b7bf0c5c6102618f258e86b90371a9c51&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51657?repo=metabase/metabase&commitHash=4085e17b7bf0c5c6102618f258e86b90371a9c51&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51657?repo=metabase/metabase&commitHash=4085e17b7bf0c5c6102618f258e86b90371a9c51&utm_source=gh-comment&runConclusion=FAILURE&runId=f8b90dc8-a013-5e1c-a628-ae5e59cfe90d) |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51657?repo=metabase/metabase&commitHash=4085e17b7bf0c5c6102618f258e86b90371a9c51&utm_source=gh-comment&runConclusion=FAILURE&runId=5ce497de-5957-58f4-b2ae-c45c1b793c0e) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51657?repo=metabase/metabase&commitHash=4085e17b7bf0c5c6102618f258e86b90371a9c51&utm_source=gh-comment&runConclusion=FAILURE&runId=6d64fb4f-b49d-5e69-8640-176adb5a58a8) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51657?repo=metabase/metabase&commitHash=4085e17b7bf0c5c6102618f258e86b90371a9c51&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 25, 5, 10, 9, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-25 05:10:09 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/118867_tests-4085e17b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51657?repo=metabase/metabase&commitHash=4085e17b7bf0c5c6102618f258e86b90371a9c51&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51657?repo=metabase/metabase&commitHash=4085e17b7bf0c5c6102618f258e86b90371a9c51&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51657?repo=metabase/metabase&commitHash=4085e17b7bf0c5c6102618f258e86b90371a9c51&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51657?repo=metabase/metabase&commitHash=4085e17b7bf0c5c6102618f258e86b90371a9c51&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51657?repo=metabase/metabase&commitHash=4085e17b7bf0c5c6102618f258e86b90371a9c51&utm_source=gh-comment&runConclusion=FAILURE&runId=f8b90dc8-a013-5e1c-a628-ae5e59cfe90d) |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51657?repo=metabase/metabase&commitHash=4085e17b7bf0c5c6102618f258e86b90371a9c51&utm_source=gh-comment&runConclusion=FAILURE&runId=5ce497de-5957-58f4-b2ae-c45c1b793c0e) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51657?repo=metabase/metabase&commitHash=4085e17b7bf0c5c6102618f258e86b90371a9c51&utm_source=gh-comment&runConclusion=FAILURE&runId=6d64fb4f-b49d-5e69-8640-176adb5a58a8) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51657?repo=metabase/metabase&commitHash=4085e17b7bf0c5c6102618f258e86b90371a9c51&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2758334180,pull_request,closed,,Improve Table visualization,"### Description

Introduces an improved table visualization with more functionality.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> ...
2. ...

### Demo

https://github.com/user-attachments/assets/f59cc4ff-a7f4-46d9-aea9-76ab15d31742

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",alxnddr,2024-12-24 22:33:04+00:00,['alxnddr'],2025-01-14 02:59:35+00:00,2025-01-14 02:59:35+00:00,https://github.com/metabase/metabase/pull/51656,"[('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2588809990, 'issue_id': 2758334180, 'author': 'alxnddr', 'body': 'Closing in favor of https://github.com/metabase/metabase/pull/52081', 'created_at': datetime.datetime(2025, 1, 14, 2, 59, 35, tzinfo=datetime.timezone.utc)}]","alxnddr (Issue Creator) on (2025-01-14 02:59:35 UTC): Closing in favor of https://github.com/metabase/metabase/pull/52081

"
2758171564,pull_request,closed,,chore(QB): show small Join and CC icons for aggregation without breakout,"[Epic](https://github.com/metabase/metabase/issues/47911)

### Description

> Show small Join data and Custom column buttons when there is an aggregation without breakouts in the last query stage, allow to add these steps in that case

### Demo




https://github.com/user-attachments/assets/01dc00a0-cb40-439e-8ba7-d6f1016efbff

",uladzimirdev,2024-12-24 17:55:49+00:00,['uladzimirdev'],2025-01-27 22:12:17+00:00,2025-01-09 11:15:09+00:00,https://github.com/metabase/metabase/pull/51655,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', ''), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2561409082, 'issue_id': 2758171564, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13189_tests-a97186a5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51655?repo=metabase/metabase&commitHash=a97186a5b239d34f19ce3fcaf4c258b5ecae9570&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51655?repo=metabase/metabase&commitHash=a97186a5b239d34f19ce3fcaf4c258b5ecae9570&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51655?repo=metabase/metabase&commitHash=a97186a5b239d34f19ce3fcaf4c258b5ecae9570&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51655?repo=metabase/metabase&commitHash=a97186a5b239d34f19ce3fcaf4c258b5ecae9570&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | Unable to find an element with the text ""Filter by this value"" within 4 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51655?repo=metabase/metabase&commitHash=a97186a5b239d34f19ce3fcaf4c258b5ecae9570&utm_source=gh-comment&runConclusion=FAILURE&runId=c3e8bd0e-32c3-5230-b193-3e50701903d3) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51655?repo=metabase/metabase&commitHash=a97186a5b239d34f19ce3fcaf4c258b5ecae9570&utm_source=gh-comment&runConclusion=FAILURE&runId=a64b872a-d1b5-5898-b480-2baeadaf0eb2) |\n| <code>issue 16886 shouldn\'t remove parts of the query when choosing \'Run selected text\' (metabase\\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51655?repo=metabase/metabase&commitHash=a97186a5b239d34f19ce3fcaf4c258b5ecae9570&utm_source=gh-comment&runConclusion=FAILURE&runId=c42c0e34-f1f1-5b1c-9fe6-5097c4ad65b4) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51655?repo=metabase/metabase&commitHash=a97186a5b239d34f19ce3fcaf4c258b5ecae9570&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 24, 20, 41, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579823182, 'issue_id': 2758171564, 'author': 'github-actions[bot]', 'body': 'üëã Deploying a preview environment for commit a97186a5b239d34f19ce3fcaf4c258b5ecae9570.\n‚úÖ Preview:\n    https://pr51655.coredev.metabase.com\nüóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2025, 1, 9, 10, 51, 15, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-24 20:41:35 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13189_tests-a97186a5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51655?repo=metabase/metabase&commitHash=a97186a5b239d34f19ce3fcaf4c258b5ecae9570&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51655?repo=metabase/metabase&commitHash=a97186a5b239d34f19ce3fcaf4c258b5ecae9570&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51655?repo=metabase/metabase&commitHash=a97186a5b239d34f19ce3fcaf4c258b5ecae9570&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51655?repo=metabase/metabase&commitHash=a97186a5b239d34f19ce3fcaf4c258b5ecae9570&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 17514 scenario 1 should not show the run overlay when we apply dashboard filter on a question with removed column and then click through its...</code> | Unable to find an element with the text ""Filter by this value"" within 4 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51655?repo=metabase/metabase&commitHash=a97186a5b239d34f19ce3fcaf4c258b5ecae9570&utm_source=gh-comment&runConclusion=FAILURE&runId=c3e8bd0e-32c3-5230-b193-3e50701903d3) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51655?repo=metabase/metabase&commitHash=a97186a5b239d34f19ce3fcaf4c258b5ecae9570&utm_source=gh-comment&runConclusion=FAILURE&runId=a64b872a-d1b5-5898-b480-2baeadaf0eb2) |
| <code>issue 16886 shouldn't remove parts of the query when choosing 'Run selected text' (metabase\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51655?repo=metabase/metabase&commitHash=a97186a5b239d34f19ce3fcaf4c258b5ecae9570&utm_source=gh-comment&runConclusion=FAILURE&runId=c42c0e34-f1f1-5b1c-9fe6-5097c4ad65b4) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51655?repo=metabase/metabase&commitHash=a97186a5b239d34f19ce3fcaf4c258b5ecae9570&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-09 10:51:15 UTC): üëã Deploying a preview environment for commit a97186a5b239d34f19ce3fcaf4c258b5ecae9570.
‚úÖ Preview:
    https://pr51655.coredev.metabase.com
üóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

"
2757854443,pull_request,closed,,chore: drop a duplicated test,"### Description

Drops a duplicated test (exactly same test is in two files) and fix a name of another test

<img width=""1016"" alt=""image"" src=""https://github.com/user-attachments/assets/58f14055-16f4-46fb-95af-f7cb109cbb63"" />
",uladzimirdev,2024-12-24 14:12:03+00:00,['uladzimirdev'],2025-01-27 22:12:40+00:00,2025-01-02 21:05:07+00:00,https://github.com/metabase/metabase/pull/51653,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2561205454, 'issue_id': 2757854443, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3816_tests-bb64ef9a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51653?repo=metabase/metabase&commitHash=bb64ef9ac628fd03c18caca2028c8945944bbe64&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51653?repo=metabase/metabase&commitHash=bb64ef9ac628fd03c18caca2028c8945944bbe64&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51653?repo=metabase/metabase&commitHash=bb64ef9ac628fd03c18caca2028c8945944bbe64&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51653?repo=metabase/metabase&commitHash=bb64ef9ac628fd03c18caca2028c8945944bbe64&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51653?repo=metabase/metabase&commitHash=bb64ef9ac628fd03c18caca2028c8945944bbe64&utm_source=gh-comment&runConclusion=FAILURE&runId=930c8322-b3a3-5269-ac3f-90d1764a8512) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51653?repo=metabase/metabase&commitHash=bb64ef9ac628fd03c18caca2028c8945944bbe64&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 24, 14, 53, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568426774, 'issue_id': 2757854443, 'author': 'iethree', 'body': '@metabase-bot backport release-x.52.x', 'created_at': datetime.datetime(2025, 1, 2, 21, 53, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2568427964, 'issue_id': 2757854443, 'author': 'github-actions[bot]', 'body': '@iethree something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12589281853)', 'created_at': datetime.datetime(2025, 1, 2, 21, 54, 14, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-24 14:53:38 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3816_tests-bb64ef9a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51653?repo=metabase/metabase&commitHash=bb64ef9ac628fd03c18caca2028c8945944bbe64&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51653?repo=metabase/metabase&commitHash=bb64ef9ac628fd03c18caca2028c8945944bbe64&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51653?repo=metabase/metabase&commitHash=bb64ef9ac628fd03c18caca2028c8945944bbe64&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51653?repo=metabase/metabase&commitHash=bb64ef9ac628fd03c18caca2028c8945944bbe64&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51653?repo=metabase/metabase&commitHash=bb64ef9ac628fd03c18caca2028c8945944bbe64&utm_source=gh-comment&runConclusion=FAILURE&runId=930c8322-b3a3-5269-ac3f-90d1764a8512) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51653?repo=metabase/metabase&commitHash=bb64ef9ac628fd03c18caca2028c8945944bbe64&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

iethree on (2025-01-02 21:53:01 UTC): @metabase-bot backport release-x.52.x

github-actions[bot] on (2025-01-02 21:54:14 UTC): @iethree something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12589281853)

"
2757842263,pull_request,closed,,feat(QB): update view sql/hide sql button style,"[Epic](https://github.com/metabase/metabase/issues/47911)

### Description

> - Add View SQL / Hide SQL text to the SQL preview button instead of the tooltip.
    - View query / Hide query in case of non-SQL


### Demo

https://github.com/user-attachments/assets/9a10f351-acad-40a3-8ba1-78dcfdda740d


",uladzimirdev,2024-12-24 14:01:06+00:00,['uladzimirdev'],2025-01-27 22:12:44+00:00,2024-12-28 12:37:45+00:00,https://github.com/metabase/metabase/pull/51651,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', ''), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2561195941, 'issue_id': 2757842263, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13293_tests-810fa3ab-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51651?repo=metabase/metabase&commitHash=810fa3ab3b615e739cc3c88d09cbb4df84e4611e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51651?repo=metabase/metabase&commitHash=810fa3ab3b615e739cc3c88d09cbb4df84e4611e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51651?repo=metabase/metabase&commitHash=810fa3ab3b615e739cc3c88d09cbb4df84e4611e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51651?repo=metabase/metabase&commitHash=810fa3ab3b615e739cc3c88d09cbb4df84e4611e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The element with data-testid ""item-picker-level-1"" was not found within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51651?repo=metabase/metabase&commitHash=810fa3ab3b615e739cc3c88d09cbb4df84e4611e&utm_source=gh-comment&runConclusion=FAILURE&runId=5591900e-db53-59ff-91ba-75c1757aeaf8) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51651?repo=metabase/metabase&commitHash=810fa3ab3b615e739cc3c88d09cbb4df84e4611e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 24, 14, 41, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2564017655, 'issue_id': 2757842263, 'author': 'github-actions[bot]', 'body': 'üëã Deploying a preview environment for commit 810fa3ab3b615e739cc3c88d09cbb4df84e4611e.\n‚úÖ Preview:\n    https://pr51651.coredev.metabase.com\nüóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2024, 12, 27, 20, 38, 54, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-24 14:41:48 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13293_tests-810fa3ab-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51651?repo=metabase/metabase&commitHash=810fa3ab3b615e739cc3c88d09cbb4df84e4611e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51651?repo=metabase/metabase&commitHash=810fa3ab3b615e739cc3c88d09cbb4df84e4611e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51651?repo=metabase/metabase&commitHash=810fa3ab3b615e739cc3c88d09cbb4df84e4611e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51651?repo=metabase/metabase&commitHash=810fa3ab3b615e739cc3c88d09cbb4df84e4611e&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The element with data-testid ""item-picker-level-1"" was not found within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51651?repo=metabase/metabase&commitHash=810fa3ab3b615e739cc3c88d09cbb4df84e4611e&utm_source=gh-comment&runConclusion=FAILURE&runId=5591900e-db53-59ff-91ba-75c1757aeaf8) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51651?repo=metabase/metabase&commitHash=810fa3ab3b615e739cc3c88d09cbb4df84e4611e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2024-12-27 20:38:54 UTC): üëã Deploying a preview environment for commit 810fa3ab3b615e739cc3c88d09cbb4df84e4611e.
‚úÖ Preview:
    https://pr51651.coredev.metabase.com
üóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

"
2757822177,pull_request,closed,,feat(QB): rename last to previous in date filters,"[Epic](https://github.com/metabase/metabase/issues/47911)

### Description

Only rename ""last"" to ""previous"" in filters

> Change Last to Previous everywhere in the filters ‚Äî this is what happens and shown in fact when you apply such filters

### Demo

https://github.com/user-attachments/assets/b8762511-b848-48b0-b62f-92b971b26a19




",uladzimirdev,2024-12-24 13:42:47+00:00,['uladzimirdev'],2025-01-27 22:12:24+00:00,2025-01-08 16:09:20+00:00,https://github.com/metabase/metabase/pull/51650,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', ''), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2561170764, 'issue_id': 2757822177, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51957_tests-a58a57d9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51650?repo=metabase/metabase&commitHash=a58a57d929649823c399dab5438c097407d9d449&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51650?repo=metabase/metabase&commitHash=a58a57d929649823c399dab5438c097407d9d449&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51650?repo=metabase/metabase&commitHash=a58a57d929649823c399dab5438c097407d9d449&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51650?repo=metabase/metabase&commitHash=a58a57d929649823c399dab5438c097407d9d449&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > pie chart should mute items in legend when hovering (metabase\\#29224)</code> | The expected attribute 'aria-current' with value 'true' was not found in an HTML element. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51650?repo=metabase/metabase&commitHash=a58a57d929649823c399dab5438c097407d9d449&utm_source=gh-comment&runConclusion=FAILURE&runId=41e2dcbf-2698-5698-b8be-28813ae66901) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51650?repo=metabase/metabase&commitHash=a58a57d929649823c399dab5438c097407d9d449&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 24, 14, 11, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577834711, 'issue_id': 2757822177, 'author': 'github-actions[bot]', 'body': 'üëã Deploying a preview environment for commit a58a57d929649823c399dab5438c097407d9d449.\n‚úÖ Preview:\n    https://pr51650.coredev.metabase.com\nüóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2025, 1, 8, 14, 38, 59, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-24 14:11:54 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51957_tests-a58a57d9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51650?repo=metabase/metabase&commitHash=a58a57d929649823c399dab5438c097407d9d449&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51650?repo=metabase/metabase&commitHash=a58a57d929649823c399dab5438c097407d9d449&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51650?repo=metabase/metabase&commitHash=a58a57d929649823c399dab5438c097407d9d449&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51650?repo=metabase/metabase&commitHash=a58a57d929649823c399dab5438c097407d9d449&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > pie chart should mute items in legend when hovering (metabase\#29224)</code> | The expected attribute 'aria-current' with value 'true' was not found in an HTML element. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51650?repo=metabase/metabase&commitHash=a58a57d929649823c399dab5438c097407d9d449&utm_source=gh-comment&runConclusion=FAILURE&runId=41e2dcbf-2698-5698-b8be-28813ae66901) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51650?repo=metabase/metabase&commitHash=a58a57d929649823c399dab5438c097407d9d449&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-08 14:38:59 UTC): üëã Deploying a preview environment for commit a58a57d929649823c399dab5438c097407d9d449.
‚úÖ Preview:
    https://pr51650.coredev.metabase.com
üóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

"
2757495983,pull_request,closed,,[Notification] management api,"Epic: https://github.com/metabase/metabase/issues/50766

Add 2 apis:
- GET /api/notification to get a list of notifications. Available parameters:
  - creator_id: filter by notification's creator id
  - card_id: return all notifications for a card
  - recipient_id: return all notifications that the user is the recipient
  - include_inactive: set to true to includes inactive notifications
 - POST /api/notification/:id/unsubscribe: unsubscribe the current user if they're an email recipient of the given notification
",qnkhuat,2024-12-24 09:35:55+00:00,['qnkhuat'],2025-01-14 01:20:42+00:00,2025-01-14 01:20:40+00:00,https://github.com/metabase/metabase/pull/51649,"[('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2560940134, 'issue_id': 2757495983, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/122656_tests-1c67d563-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51649?repo=metabase/metabase&commitHash=1c67d563cae08790c293384d017310bbd993f82c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51649?repo=metabase/metabase&commitHash=1c67d563cae08790c293384d017310bbd993f82c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51649?repo=metabase/metabase&commitHash=1c67d563cae08790c293384d017310bbd993f82c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51649?repo=metabase/metabase&commitHash=1c67d563cae08790c293384d017310bbd993f82c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:327:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\\#'sync.fingerprint/max-refingerp... | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51649?repo=metabase/metabase&commitHash=1c67d563cae08790c293384d017310bbd993f82c&utm_source=gh-comment&runConclusion=FAILURE&runId=365d161d-c50c-5eed-937d-77b5a9a78b69) |\n| <code>create-notification-send-you-were-added-email-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51649?repo=metabase/metabase&commitHash=1c67d563cae08790c293384d017310bbd993f82c&utm_source=gh-comment&runConclusion=FAILURE&runId=b6c8f238-0de3-5504-bc19-bea824d5b626) |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51649?repo=metabase/metabase&commitHash=1c67d563cae08790c293384d017310bbd993f82c&utm_source=gh-comment&runConclusion=FAILURE&runId=6e4217ce-d099-5fef-9fc9-6cfb21719c9b) |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51649?repo=metabase/metabase&commitHash=1c67d563cae08790c293384d017310bbd993f82c&utm_source=gh-comment&runConclusion=FAILURE&runId=c078b72b-83b6-52e2-9982-5a8577bfceaf) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51649?repo=metabase/metabase&commitHash=1c67d563cae08790c293384d017310bbd993f82c&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 24, 10, 9, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2579142308, 'issue_id': 2757495983, 'author': 'qnkhuat', 'body': ""@crisptrutski sorry I just merged [#51688](https://github.com/metabase/metabase/pull/51688) into this branch so it's a bit noisy. you can check the new 3 commits to see what's changed."", 'created_at': datetime.datetime(2025, 1, 9, 4, 7, 41, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-24 10:09:51 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/122656_tests-1c67d563-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51649?repo=metabase/metabase&commitHash=1c67d563cae08790c293384d017310bbd993f82c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51649?repo=metabase/metabase&commitHash=1c67d563cae08790c293384d017310bbd993f82c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51649?repo=metabase/metabase&commitHash=1c67d563cae08790c293384d017310bbd993f82c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51649?repo=metabase/metabase&commitHash=1c67d563cae08790c293384d017310bbd993f82c&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:327:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerp... | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51649?repo=metabase/metabase&commitHash=1c67d563cae08790c293384d017310bbd993f82c&utm_source=gh-comment&runConclusion=FAILURE&runId=365d161d-c50c-5eed-937d-77b5a9a78b69) |
| <code>create-notification-send-you-were-added-email-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51649?repo=metabase/metabase&commitHash=1c67d563cae08790c293384d017310bbd993f82c&utm_source=gh-comment&runConclusion=FAILURE&runId=b6c8f238-0de3-5504-bc19-bea824d5b626) |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51649?repo=metabase/metabase&commitHash=1c67d563cae08790c293384d017310bbd993f82c&utm_source=gh-comment&runConclusion=FAILURE&runId=6e4217ce-d099-5fef-9fc9-6cfb21719c9b) |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51649?repo=metabase/metabase&commitHash=1c67d563cae08790c293384d017310bbd993f82c&utm_source=gh-comment&runConclusion=FAILURE&runId=c078b72b-83b6-52e2-9982-5a8577bfceaf) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51649?repo=metabase/metabase&commitHash=1c67d563cae08790c293384d017310bbd993f82c&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

qnkhuat (Issue Creator) on (2025-01-09 04:07:41 UTC): @crisptrutski sorry I just merged [#51688](https://github.com/metabase/metabase/pull/51688) into this branch so it's a bit noisy. you can check the new 3 commits to see what's changed.

"
2757107508,pull_request,closed,,"Manualy backport of ""Partial rollback of FieldValuesWidget to v50 (#51183)"" to 51",Manual backport of #51183,romeovs,2024-12-24 03:34:54+00:00,['romeovs'],2025-01-02 15:51:41+00:00,2025-01-02 15:51:39+00:00,https://github.com/metabase/metabase/pull/51648,"[('was-backported', 'apply this to PRs that are themselves backports'), ('loki-update', '')]","[{'comment_id': 2560619407, 'issue_id': 2757107508, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13485_tests-6390b9ce-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51648?repo=metabase/metabase&commitHash=6390b9ce51d5bbc46b976bb7db6e4433876663ef&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51648?repo=metabase/metabase&commitHash=6390b9ce51d5bbc46b976bb7db6e4433876663ef&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51648?repo=metabase/metabase&commitHash=6390b9ce51d5bbc46b976bb7db6e4433876663ef&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51648?repo=metabase/metabase&commitHash=6390b9ce51d5bbc46b976bb7db6e4433876663ef&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51648?repo=metabase/metabase&commitHash=6390b9ce51d5bbc46b976bb7db6e4433876663ef&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 24, 4, 11, 54, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-24 04:11:54 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13485_tests-6390b9ce-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51648?repo=metabase/metabase&commitHash=6390b9ce51d5bbc46b976bb7db6e4433876663ef&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51648?repo=metabase/metabase&commitHash=6390b9ce51d5bbc46b976bb7db6e4433876663ef&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51648?repo=metabase/metabase&commitHash=6390b9ce51d5bbc46b976bb7db6e4433876663ef&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51648?repo=metabase/metabase&commitHash=6390b9ce51d5bbc46b976bb7db6e4433876663ef&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51648?repo=metabase/metabase&commitHash=6390b9ce51d5bbc46b976bb7db6e4433876663ef&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2756777671,pull_request,open,,50766 Alerts new ux,"Part of  https://github.com/metabase/metabase/issues/50766

### Description

We want to migrate Question alerts to use new API and prepare UI for multiple delivery channels.

Check [this epic](https://github.com/metabase/metabase/issues/50766) for more details.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. Open existing question
2. Click ""Share"" icon button, then ""Create an alert"" or ""Edit alerts""
3. Modals should have new UI. It should use the new API.


1. Go to Settings > Account Settings > Notifications
2. Check list of notifications you're subscribed to. It should use the new API.

### Demo

https://www.loom.com/share/51a553e617d84b26974999fe4d5455e2

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",deniskaber,2024-12-23 22:06:19+00:00,['deniskaber'],2025-01-31 23:07:53+00:00,,https://github.com/metabase/metabase/pull/51647,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2593611158, 'issue_id': 2756777671, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/103296_tests-2f6cffb2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51647?repo=metabase/metabase&commitHash=2f6cffb2bcaed90194f54a49886b5483fb4ad830&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/11-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51647?repo=metabase/metabase&commitHash=2f6cffb2bcaed90194f54a49886b5483fb4ad830&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51647?repo=metabase/metabase&commitHash=2f6cffb2bcaed90194f54a49886b5483fb4ad830&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51647?repo=metabase/metabase&commitHash=2f6cffb2bcaed90194f54a49886b5483fb4ad830&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51647?repo=metabase/metabase&commitHash=2f6cffb2bcaed90194f54a49886b5483fb4ad830&utm_source=gh-comment&runConclusion=FAILURE&runId=83279a40-f04c-5eaa-bbfb-ec6c5ed0bfb4) |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51647?repo=metabase/metabase&commitHash=2f6cffb2bcaed90194f54a49886b5483fb4ad830&utm_source=gh-comment&runConclusion=FAILURE&runId=184b07de-0313-573d-a314-266dbce0d0b0) |\n| <code>alert-first-run-only-test</code> | Pulse was not deleted as expected, expected \\`false\\` but got \\`true\\`. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51647?repo=metabase/metabase&commitHash=2f6cffb2bcaed90194f54a49886b5483fb4ad830&utm_source=gh-comment&runConclusion=FAILURE&runId=d1f69e3c-a9b3-5b0a-b945-1ba37004f983) |\n| <code>alert-first-run-only-test</code> | Pulse was not deleted as expected, expected \\`false\\` but got \\`true\\`. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51647?repo=metabase/metabase&commitHash=2f6cffb2bcaed90194f54a49886b5483fb4ad830&utm_source=gh-comment&runConclusion=FAILURE&runId=07a44800-76c6-519b-9cb1-131877c41f78) |\n\n[... and 7 more](https://app.trunk.io/metabase/flaky-tests/pr/51647?repo=metabase/metabase&commitHash=2f6cffb2bcaed90194f54a49886b5483fb4ad830&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>sync-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51647?repo=metabase/metabase&commitHash=2f6cffb2bcaed90194f54a49886b5483fb4ad830&utm_source=gh-comment&runConclusion=FAILURE&runId=80a6ebb6-1a98-54b1-9f61-849b21d26604) |\n| <code>create-notification-send-you-were-added-email-test</code> | The email notification was sent with incorrect recipients and subject. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51647?repo=metabase/metabase&commitHash=2f6cffb2bcaed90194f54a49886b5483fb4ad830&utm_source=gh-comment&runConclusion=FAILURE&runId=1bc2958d-c960-5ac3-908a-43a0a169fb4e) |\n| <code>e2e-storage-ingestion-test</code> | Expected entity to match the expected value, but actual value was different. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51647?repo=metabase/metabase&commitHash=2f6cffb2bcaed90194f54a49886b5483fb4ad830&utm_source=gh-comment&runConclusion=FAILURE&runId=744ad831-7d2f-5847-8e2a-ed1eb77931ad) |\n| <code>e2e-storage-ingestion-test</code> | Expected and actual values did not match for a field in a database, with a mismatch in the table\\_id and name fields. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51647?repo=metabase/metabase&commitHash=2f6cffb2bcaed90194f54a49886b5483fb4ad830&utm_source=gh-comment&runConclusion=FAILURE&runId=886898b2-6226-5b36-a9de-44d604879e53) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51647?repo=metabase/metabase&commitHash=2f6cffb2bcaed90194f54a49886b5483fb4ad830&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 15, 18, 3, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2597011229, 'issue_id': 2756777671, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff a034598d144231befa096575de675d9ff723ae6a...9ef0f0e32c865e164f7f747f1a6d229f172666cc.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/icons/Icon/icons/index.ts<br>frontend/src/metabase/ui/components/icons/Icon/icons/unsubscribe.svg<br>frontend/src/metabase/ui/components/icons/Icon/icons/webhook.svg<br>src/metabase/channel/email/_notification_card_condition.hbs<br>src/metabase/channel/email/alert.hbs<br>src/metabase/channel/email/card_notification_archived.hbs<br>src/metabase/channel/email/card_notification_changed_stopped.hbs<br>src/metabase/channel/email/messages.clj<br>src/metabase/channel/email/notification_card.hbs<br>src/metabase/channel/email/notification_card_unsubscribed.hbs<br>src/metabase/channel/email/notification_card_you_were_added.hbs<br>src/metabase/channel/email/notification_card_you_were_removed.hbs |', 'created_at': datetime.datetime(2025, 1, 16, 22, 9, 52, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-15 18:03:56 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/103296_tests-2f6cffb2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51647?repo=metabase/metabase&commitHash=2f6cffb2bcaed90194f54a49886b5483fb4ad830&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/11-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51647?repo=metabase/metabase&commitHash=2f6cffb2bcaed90194f54a49886b5483fb4ad830&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51647?repo=metabase/metabase&commitHash=2f6cffb2bcaed90194f54a49886b5483fb4ad830&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51647?repo=metabase/metabase&commitHash=2f6cffb2bcaed90194f54a49886b5483fb4ad830&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51647?repo=metabase/metabase&commitHash=2f6cffb2bcaed90194f54a49886b5483fb4ad830&utm_source=gh-comment&runConclusion=FAILURE&runId=83279a40-f04c-5eaa-bbfb-ec6c5ed0bfb4) |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51647?repo=metabase/metabase&commitHash=2f6cffb2bcaed90194f54a49886b5483fb4ad830&utm_source=gh-comment&runConclusion=FAILURE&runId=184b07de-0313-573d-a314-266dbce0d0b0) |
| <code>alert-first-run-only-test</code> | Pulse was not deleted as expected, expected \`false\` but got \`true\`. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51647?repo=metabase/metabase&commitHash=2f6cffb2bcaed90194f54a49886b5483fb4ad830&utm_source=gh-comment&runConclusion=FAILURE&runId=d1f69e3c-a9b3-5b0a-b945-1ba37004f983) |
| <code>alert-first-run-only-test</code> | Pulse was not deleted as expected, expected \`false\` but got \`true\`. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51647?repo=metabase/metabase&commitHash=2f6cffb2bcaed90194f54a49886b5483fb4ad830&utm_source=gh-comment&runConclusion=FAILURE&runId=07a44800-76c6-519b-9cb1-131877c41f78) |

[... and 7 more](https://app.trunk.io/metabase/flaky-tests/pr/51647?repo=metabase/metabase&commitHash=2f6cffb2bcaed90194f54a49886b5483fb4ad830&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>sync-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51647?repo=metabase/metabase&commitHash=2f6cffb2bcaed90194f54a49886b5483fb4ad830&utm_source=gh-comment&runConclusion=FAILURE&runId=80a6ebb6-1a98-54b1-9f61-849b21d26604) |
| <code>create-notification-send-you-were-added-email-test</code> | The email notification was sent with incorrect recipients and subject. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51647?repo=metabase/metabase&commitHash=2f6cffb2bcaed90194f54a49886b5483fb4ad830&utm_source=gh-comment&runConclusion=FAILURE&runId=1bc2958d-c960-5ac3-908a-43a0a169fb4e) |
| <code>e2e-storage-ingestion-test</code> | Expected entity to match the expected value, but actual value was different. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51647?repo=metabase/metabase&commitHash=2f6cffb2bcaed90194f54a49886b5483fb4ad830&utm_source=gh-comment&runConclusion=FAILURE&runId=744ad831-7d2f-5847-8e2a-ed1eb77931ad) |
| <code>e2e-storage-ingestion-test</code> | Expected and actual values did not match for a field in a database, with a mismatch in the table\_id and name fields. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51647?repo=metabase/metabase&commitHash=2f6cffb2bcaed90194f54a49886b5483fb4ad830&utm_source=gh-comment&runConclusion=FAILURE&runId=886898b2-6226-5b36-a9de-44d604879e53) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51647?repo=metabase/metabase&commitHash=2f6cffb2bcaed90194f54a49886b5483fb4ad830&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-16 22:09:52 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff a034598d144231befa096575de675d9ff723ae6a...9ef0f0e32c865e164f7f747f1a6d229f172666cc.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/icons/Icon/icons/index.ts<br>frontend/src/metabase/ui/components/icons/Icon/icons/unsubscribe.svg<br>frontend/src/metabase/ui/components/icons/Icon/icons/webhook.svg<br>src/metabase/channel/email/_notification_card_condition.hbs<br>src/metabase/channel/email/alert.hbs<br>src/metabase/channel/email/card_notification_archived.hbs<br>src/metabase/channel/email/card_notification_changed_stopped.hbs<br>src/metabase/channel/email/messages.clj<br>src/metabase/channel/email/notification_card.hbs<br>src/metabase/channel/email/notification_card_unsubscribed.hbs<br>src/metabase/channel/email/notification_card_you_were_added.hbs<br>src/metabase/channel/email/notification_card_you_were_removed.hbs |

"
2756683091,pull_request,closed,,"ü§ñ backported ""Fix glitching series on hover in Safari""","  #51611
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2024-12-23 20:34:07+00:00,"['alxnddr', 'github-automation-metabase']",2024-12-24 01:14:18+00:00,2024-12-24 01:14:17+00:00,https://github.com/metabase/metabase/pull/51646,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2560306277, 'issue_id': 2756683091, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51418_tests-aa0fb84d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51646?repo=metabase/metabase&commitHash=aa0fb84daf3de0857a60c98eb24aaa4da03eb49e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51646?repo=metabase/metabase&commitHash=aa0fb84daf3de0857a60c98eb24aaa4da03eb49e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51646?repo=metabase/metabase&commitHash=aa0fb84daf3de0857a60c98eb24aaa4da03eb49e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51646?repo=metabase/metabase&commitHash=aa0fb84daf3de0857a60c98eb24aaa4da03eb49e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51646?repo=metabase/metabase&commitHash=aa0fb84daf3de0857a60c98eb24aaa4da03eb49e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 23, 21, 16, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 2560320774, 'issue_id': 2756683091, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff ed4a7bf7950205da6d51e09dad76899adc0b58bd...aa0fb84daf3de0857a60c98eb24aaa4da03eb49e.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/visualizations/CartesianChart/CartesianChart.tsx |', 'created_at': datetime.datetime(2024, 12, 23, 21, 33, 20, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-23 21:16:44 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51418_tests-aa0fb84d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51646?repo=metabase/metabase&commitHash=aa0fb84daf3de0857a60c98eb24aaa4da03eb49e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51646?repo=metabase/metabase&commitHash=aa0fb84daf3de0857a60c98eb24aaa4da03eb49e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51646?repo=metabase/metabase&commitHash=aa0fb84daf3de0857a60c98eb24aaa4da03eb49e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51646?repo=metabase/metabase&commitHash=aa0fb84daf3de0857a60c98eb24aaa4da03eb49e&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51646?repo=metabase/metabase&commitHash=aa0fb84daf3de0857a60c98eb24aaa4da03eb49e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2024-12-23 21:33:20 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff ed4a7bf7950205da6d51e09dad76899adc0b58bd...aa0fb84daf3de0857a60c98eb24aaa4da03eb49e.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/visualizations/CartesianChart/CartesianChart.tsx |

"
2756646053,pull_request,closed,,Use MonthPicker from mantine for dashboard parameters to enable selection of months in the future ,"How to verify:
- Edit dashboard
- Filter -> Date Picker -> Month and Year -> Connect to a card
- Click on the filter widget -> Click on the year -> Select a year in the future -> Select a month
- Click on the filter widget again. The month should be selected

<img width=""352"" alt=""Screenshot 2024-12-23 at 14 58 48"" src=""https://github.com/user-attachments/assets/36c2780a-6f27-4cac-b24f-4486b125b2ab"" />
",ranquild,2024-12-23 19:59:47+00:00,['ranquild'],2025-01-27 22:12:45+00:00,2024-12-24 21:49:16+00:00,https://github.com/metabase/metabase/pull/51645,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2560298714, 'issue_id': 2756646053, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 670ee259063fae4d86023150fdf3f63e1e1e0061...2ea8558e2f76a906f4aa6cd123f6bee05875700e.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/inputs/MonthPicker/MonthPicker.mdx<br>frontend/src/metabase/ui/components/inputs/MonthPicker/MonthPicker.stories.tsx<br>frontend/src/metabase/ui/components/inputs/MonthPicker/MonthPicker.styled.tsx<br>frontend/src/metabase/ui/components/inputs/MonthPicker/index.ts<br>frontend/src/metabase/ui/components/inputs/index.ts<br>frontend/src/metabase/ui/theme.ts |', 'created_at': datetime.datetime(2024, 12, 23, 21, 8, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2560330143, 'issue_id': 2756646053, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/52017_tests-2ea8558e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51645?repo=metabase/metabase&commitHash=2ea8558e2f76a906f4aa6cd123f6bee05875700e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51645?repo=metabase/metabase&commitHash=2ea8558e2f76a906f4aa6cd123f6bee05875700e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51645?repo=metabase/metabase&commitHash=2ea8558e2f76a906f4aa6cd123f6bee05875700e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51645?repo=metabase/metabase&commitHash=2ea8558e2f76a906f4aa6cd123f6bee05875700e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>question loading changes document title should verify document title changes while loading a slow question (metabase\\#40051)</code> | The expected text 'Doing science... ¬∑ Metabase' was not displayed within 4000ms, causing a timeout. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51645?repo=metabase/metabase&commitHash=2ea8558e2f76a906f4aa6cd123f6bee05875700e&utm_source=gh-comment&runConclusion=FAILURE&runId=00bfe095-44bd-5bf2-af1f-54f1af720db7) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51645?repo=metabase/metabase&commitHash=2ea8558e2f76a906f4aa6cd123f6bee05875700e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 23, 21, 43, 37, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-12-23 21:08:16 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 670ee259063fae4d86023150fdf3f63e1e1e0061...2ea8558e2f76a906f4aa6cd123f6bee05875700e.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/inputs/MonthPicker/MonthPicker.mdx<br>frontend/src/metabase/ui/components/inputs/MonthPicker/MonthPicker.stories.tsx<br>frontend/src/metabase/ui/components/inputs/MonthPicker/MonthPicker.styled.tsx<br>frontend/src/metabase/ui/components/inputs/MonthPicker/index.ts<br>frontend/src/metabase/ui/components/inputs/index.ts<br>frontend/src/metabase/ui/theme.ts |

trunk-io[bot] on (2024-12-23 21:43:37 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/52017_tests-2ea8558e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51645?repo=metabase/metabase&commitHash=2ea8558e2f76a906f4aa6cd123f6bee05875700e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51645?repo=metabase/metabase&commitHash=2ea8558e2f76a906f4aa6cd123f6bee05875700e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51645?repo=metabase/metabase&commitHash=2ea8558e2f76a906f4aa6cd123f6bee05875700e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51645?repo=metabase/metabase&commitHash=2ea8558e2f76a906f4aa6cd123f6bee05875700e&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>question loading changes document title should verify document title changes while loading a slow question (metabase\#40051)</code> | The expected text 'Doing science... ¬∑ Metabase' was not displayed within 4000ms, causing a timeout. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51645?repo=metabase/metabase&commitHash=2ea8558e2f76a906f4aa6cd123f6bee05875700e&utm_source=gh-comment&runConclusion=FAILURE&runId=00bfe095-44bd-5bf2-af1f-54f1af720db7) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51645?repo=metabase/metabase&commitHash=2ea8558e2f76a906f4aa6cd123f6bee05875700e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2756593062,pull_request,closed,,"ü§ñ backported ""docs - env vars in config files""",#51642,github-automation-metabase,2024-12-23 19:15:13+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2025-01-02 15:26:56+00:00,2025-01-02 14:21:41+00:00,https://github.com/metabase/metabase/pull/51643,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2560227007, 'issue_id': 2756593062, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/24_tests-18c4b150-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51643?repo=metabase/metabase&commitHash=18c4b150c1ed69c5ef0437138743502b25a1f662&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51643?repo=metabase/metabase&commitHash=18c4b150c1ed69c5ef0437138743502b25a1f662&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51643?repo=metabase/metabase&commitHash=18c4b150c1ed69c5ef0437138743502b25a1f662&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51643?repo=metabase/metabase&commitHash=18c4b150c1ed69c5ef0437138743502b25a1f662&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51643?repo=metabase/metabase&commitHash=18c4b150c1ed69c5ef0437138743502b25a1f662&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 23, 19, 53, 59, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-23 19:53:59 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/24_tests-18c4b150-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51643?repo=metabase/metabase&commitHash=18c4b150c1ed69c5ef0437138743502b25a1f662&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51643?repo=metabase/metabase&commitHash=18c4b150c1ed69c5ef0437138743502b25a1f662&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51643?repo=metabase/metabase&commitHash=18c4b150c1ed69c5ef0437138743502b25a1f662&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51643?repo=metabase/metabase&commitHash=18c4b150c1ed69c5ef0437138743502b25a1f662&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51643?repo=metabase/metabase&commitHash=18c4b150c1ed69c5ef0437138743502b25a1f662&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2756588191,pull_request,closed,,docs - env vars in config files,"Specify `{{{ env-var }}}` support for config files. Triple braces to handle passwords with `{{`. Double braces should still work, but we might as well always recommend triple.

Related: https://github.com/metabase/metabase/pull/51129",jeff-bruemmer,2024-12-23 19:11:27+00:00,['jeff-bruemmer'],2025-01-02 14:22:08+00:00,2024-12-23 19:14:18+00:00,https://github.com/metabase/metabase/pull/51642,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2756561654,pull_request,open,,chore/try cypress split for ci parallelization,"Running CI for external contribution #51637

**Trial PR Information**

*This PR is submitted as part of my application process to demonstrate my understanding to optimize the Metabase test automation flows. I appreciate your consideration and look forward to contributing to the project. (Murat Ozcan)*


### Description

This PR enhances the existing End-to-End (E2E) testing workflow by integrating **Cypress Split** to parallelize Cypress test execution across multiple containers. By distributing the Cypress tests into **33 parallel containers**, the goal is to try to reduce the total time required for E2E test runs by evening out the time CI machines take. Currently the machines are utilized in varying amounts, changing between 8 and 36 minutes. If we can bring that down to an even 15 minutes - or 20, then total time saved from CI will go down significantly.

#### Key Changes

1. **Introduced `e2e-tests-split` Job**
   - **Purpose:** Utilizes Cypress Split to distribute the test specs evenly across parallel containers.
   - **Details:**
     - Configures environment variables specific to Cypress Split (`SPLIT` and `SPLIT_INDEX`).
     - Ensures each container runs a unique subset of Cypress tests, optimizing resource utilization and reducing overall test execution time.

2. **Created an alternative Workflow for e2e CI performance comparison**
   - **Adjustments:**
     - Updated dependencies and job sequencing to accommodate the new parallel testing strategy.
     - Ensured compatibility with existing jobs such as `build`, `files-changed`, and `e2e-matrix-builder`.


### Demo (TODO)

*Insert Screenshot and links comparing before and after.*

[before](https://github.com/metabase/metabase/actions/runs/12470395203)
after - TODO

### Checklist

- [x] **Tests Added/Updated:** Ensured that tests cover the new Cypress Split setup.
- [x] **Documentation Updated:** Updated workflow documentation to reflect the new parallel testing strategy.
- [x] **Workflow Verification:** Verified that the workflow runs successfully with Cypress Split.
- [x] **Compatibility Ensured:** Confirmed compatibility with existing E2E testing workflows.
- [x] **Security Reviewed:** Assessed security implications of parallel test execution and artifact uploads.

### Notes

- **Cypress Split Configuration:** Each `e2e-tests-split` job instance is assigned a unique `SPLIT_INDEX` to ensure that tests are evenly distributed without duplication.
  
- **Artifact Management:** Test results and Cypress artifacts are uploaded per container to facilitate easier debugging and result aggregation.",perivamsi,2024-12-23 18:47:53+00:00,['perivamsi'],2024-12-27 12:41:33+00:00,,https://github.com/metabase/metabase/pull/51640,"[('do not merge', ''), ('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2560233808, 'issue_id': 2756561654, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13370_tests-8f5614e0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51640?repo=metabase/metabase&commitHash=8f5614e06ab77e15126fdb763e155a048e6fddf1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/6-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51640?repo=metabase/metabase&commitHash=8f5614e06ab77e15126fdb763e155a048e6fddf1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51640?repo=metabase/metabase&commitHash=8f5614e06ab77e15126fdb763e155a048e6fddf1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51640?repo=metabase/metabase&commitHash=8f5614e06ab77e15126fdb763e155a048e6fddf1&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>should create questions</code> | The test timed out while trying to find an element with the text ""Large Purchases"" in the UI. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51640?repo=metabase/metabase&commitHash=8f5614e06ab77e15126fdb763e155a048e6fddf1&utm_source=gh-comment&runConclusion=FAILURE&runId=c71cedba-197b-5334-b406-faae9c677f1a) |\n| <code>should configure data model settings</code> | The expected element \\`.AdminList\\` was not found within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51640?repo=metabase/metabase&commitHash=8f5614e06ab77e15126fdb763e155a048e6fddf1&utm_source=gh-comment&runConclusion=FAILURE&runId=188241d0-4134-5807-8552-e905802e4683) |\n| <code>setup on  should set up metabase</code> | The \'/auth/login\' URL did not match the expected \'/setup\' URL after 4000ms of waiting. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51640?repo=metabase/metabase&commitHash=8f5614e06ab77e15126fdb763e155a048e6fddf1&utm_source=gh-comment&runConclusion=FAILURE&runId=87617176-f8ed-5829-a32d-050c105266da) |\n| <code>scenarios > navigation > navbar OSS should be open when visiting home with a custom home page configured</code> | The navigation to \'http://localhost:4000/dashboard/9\' timed out after 4000ms and did not include the expected \'question\' content. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51640?repo=metabase/metabase&commitHash=8f5614e06ab77e15126fdb763e155a048e6fddf1&utm_source=gh-comment&runConclusion=FAILURE&runId=4a3c1a8b-a3b7-5c4a-bea8-5ba601f773e8) |\n\n[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/51640?repo=metabase/metabase&commitHash=8f5614e06ab77e15126fdb763e155a048e6fddf1&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>server clock can advance the server clock by one day</code> | The authentication failed with 401 Unauthorized status code due to incorrect password. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51640?repo=metabase/metabase&commitHash=8f5614e06ab77e15126fdb763e155a048e6fddf1&utm_source=gh-comment&runConclusion=FAILURE&runId=0fc62e2b-b835-5516-b97d-1bb1a6176aa8) |\n| <code>scenarios > embedding-sdk > static-dashboard should show dashboard content</code> | The Cypress test failed to connect to the web server at http://localhost:6006 due to a connection refused error. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51640?repo=metabase/metabase&commitHash=8f5614e06ab77e15126fdb763e155a048e6fddf1&utm_source=gh-comment&runConclusion=FAILURE&runId=a4fbb653-b573-56bb-90d5-45a4b7defb1a) |\n| <code>scenarios > embedding-sdk > static-dashboard should not render dashboard when embedding SDK is not enabled</code> | The Cypress test failed to connect to the web server at http://localhost:6006 due to a connection refused error. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51640?repo=metabase/metabase&commitHash=8f5614e06ab77e15126fdb763e155a048e6fddf1&utm_source=gh-comment&runConclusion=FAILURE&runId=f978d75c-9cd5-58ae-993d-52448d13b975) |\n| <code>scenarios > embedding-sdk > static-dashboard should show dashboard content</code> | DNS resolution for my-site.local failed, preventing the request to be made. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51640?repo=metabase/metabase&commitHash=8f5614e06ab77e15126fdb763e155a048e6fddf1&utm_source=gh-comment&runConclusion=FAILURE&runId=c2df02bd-1b7c-5054-ab5a-7281eb6ce963) |\n\n[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/51640?repo=metabase/metabase&commitHash=8f5614e06ab77e15126fdb763e155a048e6fddf1&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51640?repo=metabase/metabase&commitHash=8f5614e06ab77e15126fdb763e155a048e6fddf1&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 23, 20, 1, 7, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-23 20:01:07 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13370_tests-8f5614e0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51640?repo=metabase/metabase&commitHash=8f5614e06ab77e15126fdb763e155a048e6fddf1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/6-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51640?repo=metabase/metabase&commitHash=8f5614e06ab77e15126fdb763e155a048e6fddf1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51640?repo=metabase/metabase&commitHash=8f5614e06ab77e15126fdb763e155a048e6fddf1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51640?repo=metabase/metabase&commitHash=8f5614e06ab77e15126fdb763e155a048e6fddf1&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>should create questions</code> | The test timed out while trying to find an element with the text ""Large Purchases"" in the UI. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51640?repo=metabase/metabase&commitHash=8f5614e06ab77e15126fdb763e155a048e6fddf1&utm_source=gh-comment&runConclusion=FAILURE&runId=c71cedba-197b-5334-b406-faae9c677f1a) |
| <code>should configure data model settings</code> | The expected element \`.AdminList\` was not found within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51640?repo=metabase/metabase&commitHash=8f5614e06ab77e15126fdb763e155a048e6fddf1&utm_source=gh-comment&runConclusion=FAILURE&runId=188241d0-4134-5807-8552-e905802e4683) |
| <code>setup on  should set up metabase</code> | The '/auth/login' URL did not match the expected '/setup' URL after 4000ms of waiting. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51640?repo=metabase/metabase&commitHash=8f5614e06ab77e15126fdb763e155a048e6fddf1&utm_source=gh-comment&runConclusion=FAILURE&runId=87617176-f8ed-5829-a32d-050c105266da) |
| <code>scenarios > navigation > navbar OSS should be open when visiting home with a custom home page configured</code> | The navigation to 'http://localhost:4000/dashboard/9' timed out after 4000ms and did not include the expected 'question' content. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51640?repo=metabase/metabase&commitHash=8f5614e06ab77e15126fdb763e155a048e6fddf1&utm_source=gh-comment&runConclusion=FAILURE&runId=4a3c1a8b-a3b7-5c4a-bea8-5ba601f773e8) |

[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/51640?repo=metabase/metabase&commitHash=8f5614e06ab77e15126fdb763e155a048e6fddf1&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>server clock can advance the server clock by one day</code> | The authentication failed with 401 Unauthorized status code due to incorrect password. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51640?repo=metabase/metabase&commitHash=8f5614e06ab77e15126fdb763e155a048e6fddf1&utm_source=gh-comment&runConclusion=FAILURE&runId=0fc62e2b-b835-5516-b97d-1bb1a6176aa8) |
| <code>scenarios > embedding-sdk > static-dashboard should show dashboard content</code> | The Cypress test failed to connect to the web server at http://localhost:6006 due to a connection refused error. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51640?repo=metabase/metabase&commitHash=8f5614e06ab77e15126fdb763e155a048e6fddf1&utm_source=gh-comment&runConclusion=FAILURE&runId=a4fbb653-b573-56bb-90d5-45a4b7defb1a) |
| <code>scenarios > embedding-sdk > static-dashboard should not render dashboard when embedding SDK is not enabled</code> | The Cypress test failed to connect to the web server at http://localhost:6006 due to a connection refused error. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51640?repo=metabase/metabase&commitHash=8f5614e06ab77e15126fdb763e155a048e6fddf1&utm_source=gh-comment&runConclusion=FAILURE&runId=f978d75c-9cd5-58ae-993d-52448d13b975) |
| <code>scenarios > embedding-sdk > static-dashboard should show dashboard content</code> | DNS resolution for my-site.local failed, preventing the request to be made. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51640?repo=metabase/metabase&commitHash=8f5614e06ab77e15126fdb763e155a048e6fddf1&utm_source=gh-comment&runConclusion=FAILURE&runId=c2df02bd-1b7c-5054-ab5a-7281eb6ce963) |

[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/51640?repo=metabase/metabase&commitHash=8f5614e06ab77e15126fdb763e155a048e6fddf1&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51640?repo=metabase/metabase&commitHash=8f5614e06ab77e15126fdb763e155a048e6fddf1&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2756537610,pull_request,closed,,Fix typo,"Fix a typo, which could go unnoticed for a long time, since, apparently, `:lib/type` `:metadata/metric` is never set without `:type` being set to `:metric`. Still, I think any of these to justifies treating the card as a metric card even if I don't know how only one of them could be present.",metamben,2024-12-23 18:26:57+00:00,['metamben'],2025-01-27 22:12:46+00:00,2024-12-23 21:38:21+00:00,https://github.com/metabase/metabase/pull/51638,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2560187554, 'issue_id': 2756537610, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/143513_tests-37827d47-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51638?repo=metabase/metabase&commitHash=37827d4789b0a32c77a9c6b83e2f3057f355aaab&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51638?repo=metabase/metabase&commitHash=37827d4789b0a32c77a9c6b83e2f3057f355aaab&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51638?repo=metabase/metabase&commitHash=37827d4789b0a32c77a9c6b83e2f3057f355aaab&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51638?repo=metabase/metabase&commitHash=37827d4789b0a32c77a9c6b83e2f3057f355aaab&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>e2e-storage-ingestion-test</code> | Expected entity to be equal to the result of extracting one field from another, but actual value is not equal. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51638?repo=metabase/metabase&commitHash=37827d4789b0a32c77a9c6b83e2f3057f355aaab&utm_source=gh-comment&runConclusion=FAILURE&runId=9f3c7569-085f-5cd9-8c20-bd0db4ee7525) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51638?repo=metabase/metabase&commitHash=37827d4789b0a32c77a9c6b83e2f3057f355aaab&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 23, 19, 16, 27, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-23 19:16:27 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/143513_tests-37827d47-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51638?repo=metabase/metabase&commitHash=37827d4789b0a32c77a9c6b83e2f3057f355aaab&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51638?repo=metabase/metabase&commitHash=37827d4789b0a32c77a9c6b83e2f3057f355aaab&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51638?repo=metabase/metabase&commitHash=37827d4789b0a32c77a9c6b83e2f3057f355aaab&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51638?repo=metabase/metabase&commitHash=37827d4789b0a32c77a9c6b83e2f3057f355aaab&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>e2e-storage-ingestion-test</code> | Expected entity to be equal to the result of extracting one field from another, but actual value is not equal. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51638?repo=metabase/metabase&commitHash=37827d4789b0a32c77a9c6b83e2f3057f355aaab&utm_source=gh-comment&runConclusion=FAILURE&runId=9f3c7569-085f-5cd9-8c20-bd0db4ee7525) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51638?repo=metabase/metabase&commitHash=37827d4789b0a32c77a9c6b83e2f3057f355aaab&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2756508967,pull_request,closed,,chore: try cypress split for ci parallelization,"**Trial PR Information**

*This PR is submitted as part of my application process to demonstrate my understanding to optimize the Metabase test automation flows. I appreciate your consideration and look forward to contributing to the project.*


### Description

This PR enhances the existing End-to-End (E2E) testing workflow by integrating **Cypress Split** to parallelize Cypress test execution across multiple containers. By distributing the Cypress tests into **33 parallel containers**, the goal is to significantly reduce the total time required for E2E test runs by evening out the time CI machines take. Currently the machines are utilized in varying amounts, changing between 8 and 36 minutes. If we can bring that down to an even 15 minutes - or 20, then total time saved from CI will go down significantly.

#### Key Changes

1. **Added `prepare-split` Job**
   - **Purpose:** Sets up the environment for running Cypress tests in parallel by defining the total number of containers (`totalContainers: 33`).
   - **Details:**
     - Outputs the `totalContainers` value used for parallel execution.

2. **Introduced `e2e-tests-split` Job**
   - **Purpose:** Utilizes Cypress Split to distribute the test specs evenly across 33 parallel containers.
   - **Details:**
     - Configures environment variables specific to Cypress Split (`SPLIT` and `SPLIT_INDEX`).
     - Ensures each container runs a unique subset of Cypress tests, optimizing resource utilization and reducing overall test execution time.

3. **Modified Existing Workflow**
   - **Adjustments:**
     - Updated dependencies and job sequencing to accommodate the new parallel testing strategy.
     - Ensured compatibility with existing jobs such as `build`, `files-changed`, and `e2e-matrix-builder`.
   - **Environment Variables:**
     - Added Cypress-specific environment variables to support parallel execution.
     - Configured artifact uploads to handle results from multiple containers effectively.

### How to Verify

To ensure that the integration of Cypress Split is functioning correctly and that tests are being distributed across multiple containers as intended, follow these verification steps:

1. **Trigger the Workflow**
   - **Action:** Push a commit to the `master` branch or create a pull request targeting `master` or any `release-**` branch.

2. **Monitor Workflow Execution**
   - **Action:** Navigate to the **Actions** tab in your GitHub repository.
   - **Verification:** Locate the **E2E Tests (Cypress Split)** workflow run.

3. **Verify Parallel Execution**
   - **Action:** Check the `e2e-tests-split` job.
   - **Verification:**
     - Confirm that **33 parallel containers** (`cypress-split-index-0` to `cypress-split-index-32`) are initiated.
     - Ensure each container is executing a distinct subset of Cypress tests without overlaps or omissions.

4. **Review Test Results**
   - **Action:** After the workflow completes, verify that all Cypress tests have been executed.
   - **Verification:** Check the **Upload Test Results** step for each container to ensure results are correctly aggregated and uploaded.

5. **Analyze Performance Improvements**
   - **Action:** Compare the total execution time of E2E tests before and after integrating Cypress Split.
   - **Verification:** Confirm a noticeable reduction in the overall duration of the E2E testing phase.

6. **Handle Failures**
   - **Action:** Intentionally introduce a failing Cypress test.
   - **Verification:** 
     - Ensure that artifacts are correctly uploaded upon failure.
     - Confirm that failure logs and Cypress recordings are available for debugging.

### Demo (TODO)

*Insert Screenshot and links comparing before and after.*

[before](https://github.com/metabase/metabase/actions/runs/12470395203)
after - TODO

### Checklist

- [x] **Tests Added/Updated:** Ensured that tests cover the new Cypress Split setup.
- [x] **Documentation Updated:** Updated workflow documentation to reflect the new parallel testing strategy.
- [x] **Workflow Verification:** Verified that the workflow runs successfully with Cypress Split.
- [x] **Compatibility Ensured:** Confirmed compatibility with existing E2E testing workflows.
- [x] **Security Reviewed:** Assessed security implications of parallel test execution and artifact uploads.

### Notes

- **Total Containers:** The `prepare-split` job sets `totalContainers` to `33`, determining the number of parallel Cypress containers.
  
- **Cypress Split Configuration:** Each `e2e-tests-split` job instance is assigned a unique `SPLIT_INDEX` to ensure that tests are evenly distributed without duplication.
  
- **Artifact Management:** Test results and Cypress artifacts are uploaded per container to facilitate easier debugging and result aggregation.

Feel free to adjust the `totalContainers` value based on your CI resources and desired parallelism level. Additionally, ensure that your Cypress configuration supports parallel execution and that your tests are designed to run independently without shared state conflicts.",muratkeremozcan,2024-12-23 18:03:03+00:00,[],2024-12-24 21:28:09+00:00,2024-12-24 21:28:09+00:00,https://github.com/metabase/metabase/pull/51637,[],[],
2756443681,pull_request,closed,,"ü§ñ backported ""feat(sdk): make editable dashboard grid border color themeable""",#51060,github-automation-metabase,2024-12-23 17:10:23+00:00,"['heypoom', 'github-automation-metabase']",2025-01-10 13:36:51+00:00,2025-01-10 13:36:50+00:00,https://github.com/metabase/metabase/pull/51636,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2560090061, 'issue_id': 2756443681, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13485_tests-7a8ac079-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51636?repo=metabase/metabase&commitHash=7a8ac079640948842f193bc128ab324b9e71aaf5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51636?repo=metabase/metabase&commitHash=7a8ac079640948842f193bc128ab324b9e71aaf5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51636?repo=metabase/metabase&commitHash=7a8ac079640948842f193bc128ab324b9e71aaf5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51636?repo=metabase/metabase&commitHash=7a8ac079640948842f193bc128ab324b9e71aaf5&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51636?repo=metabase/metabase&commitHash=7a8ac079640948842f193bc128ab324b9e71aaf5&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 23, 17, 46, 5, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-23 17:46:05 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13485_tests-7a8ac079-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51636?repo=metabase/metabase&commitHash=7a8ac079640948842f193bc128ab324b9e71aaf5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51636?repo=metabase/metabase&commitHash=7a8ac079640948842f193bc128ab324b9e71aaf5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51636?repo=metabase/metabase&commitHash=7a8ac079640948842f193bc128ab324b9e71aaf5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51636?repo=metabase/metabase&commitHash=7a8ac079640948842f193bc128ab324b9e71aaf5&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51636?repo=metabase/metabase&commitHash=7a8ac079640948842f193bc128ab324b9e71aaf5&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2756442130,pull_request,closed,,"ü§ñ backported ""feat(sdk): make editable dashboard grid border color themeable""",#51060,github-automation-metabase,2024-12-23 17:09:08+00:00,"['heypoom', 'github-automation-metabase']",2024-12-23 18:29:57+00:00,2024-12-23 17:48:52+00:00,https://github.com/metabase/metabase/pull/51635,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2560090637, 'issue_id': 2756442130, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13312_tests-07990ee9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51635?repo=metabase/metabase&commitHash=07990ee9fd20021c011d3520ded5ab4c566b808a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51635?repo=metabase/metabase&commitHash=07990ee9fd20021c011d3520ded5ab4c566b808a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51635?repo=metabase/metabase&commitHash=07990ee9fd20021c011d3520ded5ab4c566b808a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51635?repo=metabase/metabase&commitHash=07990ee9fd20021c011d3520ded5ab4c566b808a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51635?repo=metabase/metabase&commitHash=07990ee9fd20021c011d3520ded5ab4c566b808a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 23, 17, 46, 35, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-23 17:46:35 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13312_tests-07990ee9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51635?repo=metabase/metabase&commitHash=07990ee9fd20021c011d3520ded5ab4c566b808a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51635?repo=metabase/metabase&commitHash=07990ee9fd20021c011d3520ded5ab4c566b808a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51635?repo=metabase/metabase&commitHash=07990ee9fd20021c011d3520ded5ab4c566b808a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51635?repo=metabase/metabase&commitHash=07990ee9fd20021c011d3520ded5ab4c566b808a&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51635?repo=metabase/metabase&commitHash=07990ee9fd20021c011d3520ded5ab4c566b808a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2756437616,pull_request,closed,,"ü§ñ backported ""docs(sdk): fix initial parameter props name in dashboards""",#51625,github-automation-metabase,2024-12-23 17:07:11+00:00,"['heypoom', 'github-automation-metabase']",2024-12-23 17:59:00+00:00,2024-12-23 17:08:16+00:00,https://github.com/metabase/metabase/pull/51634,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2560104136, 'issue_id': 2756437616, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/24_tests-8d95adc9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51634?repo=metabase/metabase&commitHash=8d95adc90713f6536bb87b7d613c63b950b1f924&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51634?repo=metabase/metabase&commitHash=8d95adc90713f6536bb87b7d613c63b950b1f924&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51634?repo=metabase/metabase&commitHash=8d95adc90713f6536bb87b7d613c63b950b1f924&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51634?repo=metabase/metabase&commitHash=8d95adc90713f6536bb87b7d613c63b950b1f924&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51634?repo=metabase/metabase&commitHash=8d95adc90713f6536bb87b7d613c63b950b1f924&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 23, 17, 58, 59, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-23 17:58:59 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/24_tests-8d95adc9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51634?repo=metabase/metabase&commitHash=8d95adc90713f6536bb87b7d613c63b950b1f924&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51634?repo=metabase/metabase&commitHash=8d95adc90713f6536bb87b7d613c63b950b1f924&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51634?repo=metabase/metabase&commitHash=8d95adc90713f6536bb87b7d613c63b950b1f924&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51634?repo=metabase/metabase&commitHash=8d95adc90713f6536bb87b7d613c63b950b1f924&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51634?repo=metabase/metabase&commitHash=8d95adc90713f6536bb87b7d613c63b950b1f924&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2756435668,pull_request,closed,,"ü§ñ backported ""docs(sdk): fix initial parameter props name in dashboards""",#51625,github-automation-metabase,2024-12-23 17:05:44+00:00,"['heypoom', 'github-automation-metabase']",2024-12-23 17:52:27+00:00,2024-12-23 17:07:52+00:00,https://github.com/metabase/metabase/pull/51633,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2560097019, 'issue_id': 2756435668, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/24_tests-9bd0d2cf-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51633?repo=metabase/metabase&commitHash=9bd0d2cf60140bd0bcccdc90771950207ec0819d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51633?repo=metabase/metabase&commitHash=9bd0d2cf60140bd0bcccdc90771950207ec0819d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51633?repo=metabase/metabase&commitHash=9bd0d2cf60140bd0bcccdc90771950207ec0819d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51633?repo=metabase/metabase&commitHash=9bd0d2cf60140bd0bcccdc90771950207ec0819d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51633?repo=metabase/metabase&commitHash=9bd0d2cf60140bd0bcccdc90771950207ec0819d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 23, 17, 52, 26, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-23 17:52:26 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/24_tests-9bd0d2cf-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51633?repo=metabase/metabase&commitHash=9bd0d2cf60140bd0bcccdc90771950207ec0819d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51633?repo=metabase/metabase&commitHash=9bd0d2cf60140bd0bcccdc90771950207ec0819d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51633?repo=metabase/metabase&commitHash=9bd0d2cf60140bd0bcccdc90771950207ec0819d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51633?repo=metabase/metabase&commitHash=9bd0d2cf60140bd0bcccdc90771950207ec0819d&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51633?repo=metabase/metabase&commitHash=9bd0d2cf60140bd0bcccdc90771950207ec0819d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2756324189,pull_request,closed,,Replace ACE with CodeMirror in the native query editor,"Closes https://github.com/metabase/metabase/issues/50249
Closes #48712

Replaces ACE with CodeMirror for the native expression editor.

This PR should be at feature-parity with the existing ACE implementation.


There is one implementation detail we might need to keep an eye on with big Metabase installs.

In the past we've had [issues](https://github.com/metabase/metabase/issues/30588) where the autocomplete endpoint gets called too often and creates high CPU usage. To combat this, we've added debouncing to the autocompleter, but the implementation for that was fraught with buggy behaviour, as well as not fully solving the issue in the first place (since users could type slowly).

CodeMirror comes with debouncing out of the box, but has another mechanism that could help here: the autocompleter reuses the results from previous calls where it can and filters them on the frontend instead of calling the backend again. This should result in much fewer calls to the back end, while keeping the autocomplete feel responsive.",romeovs,2024-12-23 15:53:50+00:00,['romeovs'],2025-01-29 18:00:36+00:00,2025-01-29 17:39:22+00:00,https://github.com/metabase/metabase/pull/51632,"[('no-backport', 'Do not backport this PR to any branch'), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2560477377, 'issue_id': 2756324189, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/106863_tests-6a2922b5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51632?repo=metabase/metabase&commitHash=6a2922b5a0e26ababd076ecdb23b3da0b74f3632&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/29-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51632?repo=metabase/metabase&commitHash=6a2922b5a0e26ababd076ecdb23b3da0b74f3632&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51632?repo=metabase/metabase&commitHash=6a2922b5a0e26ababd076ecdb23b3da0b74f3632&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51632?repo=metabase/metabase&commitHash=6a2922b5a0e26ababd076ecdb23b3da0b74f3632&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > browse > metrics verified metrics on enterprise should show the verified metrics filter when there are verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51632?repo=metabase/metabase&commitHash=6a2922b5a0e26ababd076ecdb23b3da0b74f3632&utm_source=gh-comment&runConclusion=FAILURE&runId=d7648fe4-10c4-51ed-9027-e98ce9e84050) |\n| <code>scenarios > browse > metrics verified metrics on enterprise should respect the user setting on wether or not to only show verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51632?repo=metabase/metabase&commitHash=6a2922b5a0e26ababd076ecdb23b3da0b74f3632&utm_source=gh-comment&runConclusion=FAILURE&runId=11d20c75-33b6-5ad7-8787-ad439518b40a) |\n| <code>scenarios > browse > metrics dot menu when the user does not have write access should be possible to navigate to the collection from the dot menu</code> | Unable to find a label with the text \'Table of metrics\' within the expected time. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51632?repo=metabase/metabase&commitHash=6a2922b5a0e26ababd076ecdb23b3da0b74f3632&utm_source=gh-comment&runConclusion=FAILURE&runId=46b94088-9e33-5334-94f2-fc7052a09bd0) |\n| <code>scenarios > browse > metrics dot menu when the user does not have write access should be possible to bookmark a metrics from the dot menu</code> | Unable to find a label with the text ""Table of metrics"" within the expected time. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51632?repo=metabase/metabase&commitHash=6a2922b5a0e26ababd076ecdb23b3da0b74f3632&utm_source=gh-comment&runConclusion=FAILURE&runId=f567516e-0ba3-5069-90d6-7af419b726a3) |\n\n[... and 25 more](https://app.trunk.io/metabase/flaky-tests/pr/51632?repo=metabase/metabase&commitHash=6a2922b5a0e26ababd076ecdb23b3da0b74f3632&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>sync-test</code> | The expected database schema does not match the actual schema returned by \\`driver/describe-database\\`. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51632?repo=metabase/metabase&commitHash=6a2922b5a0e26ababd076ecdb23b3da0b74f3632&utm_source=gh-comment&runConclusion=FAILURE&runId=c3f35e3f-ab6c-534e-a536-4d2a6193d60d) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51632?repo=metabase/metabase&commitHash=6a2922b5a0e26ababd076ecdb23b3da0b74f3632&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 24, 0, 41, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615853925, 'issue_id': 2756324189, 'author': 'romeovs', 'body': 'This PR now includes commits from https://github.com/metabase/metabase/pull/52321.\r\n\r\nReviewers, please have a look at the following commits which make the completions work fully on MongoDB and add tests for it: [commit range](https://github.com/metabase/metabase/pull/51632/files/c181e9bce025dde286488d2283cabd67c7f17a71..4373f04fd9818f7a1b4cc774f963347dc996a40e).', 'created_at': datetime.datetime(2025, 1, 27, 14, 5, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622136892, 'issue_id': 2756324189, 'author': 'github-actions[bot]', 'body': 'üëã Deploying a preview environment for commit 6a2922b5a0e26ababd076ecdb23b3da0b74f3632.\n‚úÖ Preview:\n    https://pr51632.coredev.metabase.com\nüóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2025, 1, 29, 16, 32, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2622153709, 'issue_id': 2756324189, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `6a2922b5a0e26ababd076ecdb23b3da0b74f3632-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13035707285?pr=51632)\n\n  File | Test Name\n  ---- | ---------\n  `browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > can browse metrics\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should navigate to the metric when clicking a metric title\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should navigate to that collection when clicking a collection title\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should open the collections in a new tab when alt-clicking a metric\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should render truncated markdown in the table\n`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should be possible to sort the metrics\n`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to bookmark a metrics from the dot menu\n`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to navigate to the collection from the dot menu\n`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to trash a metric from the dot menu when the user has write access\n`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > when the user does not have write access > should not be possible to trash a metric from the dot menu when the user does not have write access\nand more... | and more...', 'created_at': datetime.datetime(2025, 1, 29, 16, 38, 55, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-24 00:41:14 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/106863_tests-6a2922b5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51632?repo=metabase/metabase&commitHash=6a2922b5a0e26ababd076ecdb23b3da0b74f3632&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/29-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51632?repo=metabase/metabase&commitHash=6a2922b5a0e26ababd076ecdb23b3da0b74f3632&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51632?repo=metabase/metabase&commitHash=6a2922b5a0e26ababd076ecdb23b3da0b74f3632&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51632?repo=metabase/metabase&commitHash=6a2922b5a0e26ababd076ecdb23b3da0b74f3632&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > browse > metrics verified metrics on enterprise should show the verified metrics filter when there are verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51632?repo=metabase/metabase&commitHash=6a2922b5a0e26ababd076ecdb23b3da0b74f3632&utm_source=gh-comment&runConclusion=FAILURE&runId=d7648fe4-10c4-51ed-9027-e98ce9e84050) |
| <code>scenarios > browse > metrics verified metrics on enterprise should respect the user setting on wether or not to only show verified metrics</code> | Unable to find a label with the text ""Table of metrics"" within the given time limit. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51632?repo=metabase/metabase&commitHash=6a2922b5a0e26ababd076ecdb23b3da0b74f3632&utm_source=gh-comment&runConclusion=FAILURE&runId=11d20c75-33b6-5ad7-8787-ad439518b40a) |
| <code>scenarios > browse > metrics dot menu when the user does not have write access should be possible to navigate to the collection from the dot menu</code> | Unable to find a label with the text 'Table of metrics' within the expected time. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51632?repo=metabase/metabase&commitHash=6a2922b5a0e26ababd076ecdb23b3da0b74f3632&utm_source=gh-comment&runConclusion=FAILURE&runId=46b94088-9e33-5334-94f2-fc7052a09bd0) |
| <code>scenarios > browse > metrics dot menu when the user does not have write access should be possible to bookmark a metrics from the dot menu</code> | Unable to find a label with the text ""Table of metrics"" within the expected time. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51632?repo=metabase/metabase&commitHash=6a2922b5a0e26ababd076ecdb23b3da0b74f3632&utm_source=gh-comment&runConclusion=FAILURE&runId=f567516e-0ba3-5069-90d6-7af419b726a3) |

[... and 25 more](https://app.trunk.io/metabase/flaky-tests/pr/51632?repo=metabase/metabase&commitHash=6a2922b5a0e26ababd076ecdb23b3da0b74f3632&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>sync-test</code> | The expected database schema does not match the actual schema returned by \`driver/describe-database\`. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51632?repo=metabase/metabase&commitHash=6a2922b5a0e26ababd076ecdb23b3da0b74f3632&utm_source=gh-comment&runConclusion=FAILURE&runId=c3f35e3f-ab6c-534e-a536-4d2a6193d60d) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51632?repo=metabase/metabase&commitHash=6a2922b5a0e26ababd076ecdb23b3da0b74f3632&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

romeovs (Issue Creator) on (2025-01-27 14:05:29 UTC): This PR now includes commits from https://github.com/metabase/metabase/pull/52321.

Reviewers, please have a look at the following commits which make the completions work fully on MongoDB and add tests for it: [commit range](https://github.com/metabase/metabase/pull/51632/files/c181e9bce025dde286488d2283cabd67c7f17a71..4373f04fd9818f7a1b4cc774f963347dc996a40e).

github-actions[bot] on (2025-01-29 16:32:43 UTC): üëã Deploying a preview environment for commit 6a2922b5a0e26ababd076ecdb23b3da0b74f3632.
‚úÖ Preview:
    https://pr51632.coredev.metabase.com
üóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

github-actions[bot] on (2025-01-29 16:38:55 UTC): ## e2e tests failed on `6a2922b5a0e26ababd076ecdb23b3da0b74f3632-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13035707285?pr=51632)

  File | Test Name
  ---- | ---------
  `browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > can browse metrics
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should navigate to the metric when clicking a metric title
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should navigate to that collection when clicking a collection title
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should open the collections in a new tab when alt-clicking a metric
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should render truncated markdown in the table
`browse.cy.spec.ts` | scenarios > browse > metrics > multiple metrics > should be possible to sort the metrics
`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to bookmark a metrics from the dot menu
`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to navigate to the collection from the dot menu
`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > should be possible to trash a metric from the dot menu when the user has write access
`browse.cy.spec.ts` | scenarios > browse > metrics > dot menu > when the user does not have write access > should not be possible to trash a metric from the dot menu when the user does not have write access
and more... | and more...

"
2756286368,pull_request,closed,,"ü§ñ backported ""Partial rollback of FieldValuesWidget to v50""","  #51183
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2024-12-23 15:31:06+00:00,"['romeovs', 'github-automation-metabase']",2025-01-20 13:03:40+00:00,2025-01-20 13:03:37+00:00,https://github.com/metabase/metabase/pull/51631,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2559976419, 'issue_id': 2756286368, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13712_tests-a289b707-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51631?repo=metabase/metabase&commitHash=a289b707bf9d5e10ff8c3dccbb53e3012770f85e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51631?repo=metabase/metabase&commitHash=a289b707bf9d5e10ff8c3dccbb53e3012770f85e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51631?repo=metabase/metabase&commitHash=a289b707bf9d5e10ff8c3dccbb53e3012770f85e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51631?repo=metabase/metabase&commitHash=a289b707bf9d5e10ff8c3dccbb53e3012770f85e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\\#37726)</code> | The test timed out while trying to find an element with the text ""Product ‚Üí Category"" in the UI. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51631?repo=metabase/metabase&commitHash=a289b707bf9d5e10ff8c3dccbb53e3012770f85e&utm_source=gh-comment&runConclusion=FAILURE&runId=ab8ff846-95fd-57de-800e-1e724e47aad8) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51631?repo=metabase/metabase&commitHash=a289b707bf9d5e10ff8c3dccbb53e3012770f85e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 23, 16, 19, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2601722631, 'issue_id': 2756286368, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `a289b707bf9d5e10ff8c3dccbb53e3012770f85e-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12863585948?pr=51631)\n\n  File | Test Name\n  ---- | ---------\n  `visualizations-tabular-reproductions.cy.spec.js` | issue 37726 > should not result in an error when you add a column after resizing an existing one (#37726)', 'created_at': datetime.datetime(2025, 1, 20, 8, 22, 11, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-23 16:19:47 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13712_tests-a289b707-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51631?repo=metabase/metabase&commitHash=a289b707bf9d5e10ff8c3dccbb53e3012770f85e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51631?repo=metabase/metabase&commitHash=a289b707bf9d5e10ff8c3dccbb53e3012770f85e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51631?repo=metabase/metabase&commitHash=a289b707bf9d5e10ff8c3dccbb53e3012770f85e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51631?repo=metabase/metabase&commitHash=a289b707bf9d5e10ff8c3dccbb53e3012770f85e&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\#37726)</code> | The test timed out while trying to find an element with the text ""Product ‚Üí Category"" in the UI. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51631?repo=metabase/metabase&commitHash=a289b707bf9d5e10ff8c3dccbb53e3012770f85e&utm_source=gh-comment&runConclusion=FAILURE&runId=ab8ff846-95fd-57de-800e-1e724e47aad8) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51631?repo=metabase/metabase&commitHash=a289b707bf9d5e10ff8c3dccbb53e3012770f85e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-20 08:22:11 UTC): ## e2e tests failed on `a289b707bf9d5e10ff8c3dccbb53e3012770f85e-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12863585948?pr=51631)

  File | Test Name
  ---- | ---------
  `visualizations-tabular-reproductions.cy.spec.js` | issue 37726 > should not result in an error when you add a column after resizing an existing one (#37726)

"
2756253616,pull_request,closed,,[Notification] add spec update tests,,qnkhuat,2024-12-23 15:10:45+00:00,['qnkhuat'],2025-01-14 01:22:47+00:00,2025-01-09 04:48:00+00:00,https://github.com/metabase/metabase/pull/51630,"[('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2559927793, 'issue_id': 2756253616, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/122692_tests-d7d66d9b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51630?repo=metabase/metabase&commitHash=d7d66d9bf1ec60e77709161ce0ae6bfb77164644&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51630?repo=metabase/metabase&commitHash=d7d66d9bf1ec60e77709161ce0ae6bfb77164644&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51630?repo=metabase/metabase&commitHash=d7d66d9bf1ec60e77709161ce0ae6bfb77164644&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51630?repo=metabase/metabase&commitHash=d7d66d9bf1ec60e77709161ce0ae6bfb77164644&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>xray-dashboards-work-test</code> | A deadlock was detected in the database, preventing the query from executing. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51630?repo=metabase/metabase&commitHash=d7d66d9bf1ec60e77709161ce0ae6bfb77164644&utm_source=gh-comment&runConclusion=FAILURE&runId=7a8624ec-9718-57ee-8951-c67023f7e16a) |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51630?repo=metabase/metabase&commitHash=d7d66d9bf1ec60e77709161ce0ae6bfb77164644&utm_source=gh-comment&runConclusion=FAILURE&runId=93ca8e34-6cb4-5af9-a510-2877adb4f8e6) |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51630?repo=metabase/metabase&commitHash=d7d66d9bf1ec60e77709161ce0ae6bfb77164644&utm_source=gh-comment&runConclusion=FAILURE&runId=cca56565-42e2-5ea3-bc72-e82d6439c5c0) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51630?repo=metabase/metabase&commitHash=d7d66d9bf1ec60e77709161ce0ae6bfb77164644&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 23, 15, 43, 33, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-23 15:43:33 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/122692_tests-d7d66d9b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51630?repo=metabase/metabase&commitHash=d7d66d9bf1ec60e77709161ce0ae6bfb77164644&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51630?repo=metabase/metabase&commitHash=d7d66d9bf1ec60e77709161ce0ae6bfb77164644&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51630?repo=metabase/metabase&commitHash=d7d66d9bf1ec60e77709161ce0ae6bfb77164644&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51630?repo=metabase/metabase&commitHash=d7d66d9bf1ec60e77709161ce0ae6bfb77164644&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>xray-dashboards-work-test</code> | A deadlock was detected in the database, preventing the query from executing. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51630?repo=metabase/metabase&commitHash=d7d66d9bf1ec60e77709161ce0ae6bfb77164644&utm_source=gh-comment&runConclusion=FAILURE&runId=7a8624ec-9718-57ee-8951-c67023f7e16a) |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51630?repo=metabase/metabase&commitHash=d7d66d9bf1ec60e77709161ce0ae6bfb77164644&utm_source=gh-comment&runConclusion=FAILURE&runId=93ca8e34-6cb4-5af9-a510-2877adb4f8e6) |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51630?repo=metabase/metabase&commitHash=d7d66d9bf1ec60e77709161ce0ae6bfb77164644&utm_source=gh-comment&runConclusion=FAILURE&runId=cca56565-42e2-5ea3-bc72-e82d6439c5c0) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51630?repo=metabase/metabase&commitHash=d7d66d9bf1ec60e77709161ce0ae6bfb77164644&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2755927525,pull_request,closed,,chore: enable local cache for cljs,"### Description

It's been discussed that cljs live reload is used by a few devs, at the same time it's a blocker for using local cache of cljs between branches.

### How to verify

`yarn build-hot` runs a server without cljs live reload
`yarn build-hot-be` runs a server with cljs live reload, as `build-hot` used to do
",uladzimirdev,2024-12-23 12:02:31+00:00,['uladzimirdev'],2025-02-03 11:28:09+00:00,2025-02-03 11:28:09+00:00,https://github.com/metabase/metabase/pull/51627,"[('.Team/Querying', '')]","[{'comment_id': 2559637646, 'issue_id': 2755927525, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13397_tests-8526272d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51627?repo=metabase/metabase&commitHash=8526272d569909ddf73ae3d9e182bd8e86e2d451&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51627?repo=metabase/metabase&commitHash=8526272d569909ddf73ae3d9e182bd8e86e2d451&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51627?repo=metabase/metabase&commitHash=8526272d569909ddf73ae3d9e182bd8e86e2d451&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51627?repo=metabase/metabase&commitHash=8526272d569909ddf73ae3d9e182bd8e86e2d451&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51627?repo=metabase/metabase&commitHash=8526272d569909ddf73ae3d9e182bd8e86e2d451&utm_source=gh-comment&runConclusion=FAILURE&runId=b97c4bea-6ecc-5a18-b1f8-70a4e1923cba) |\n| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51627?repo=metabase/metabase&commitHash=8526272d569909ddf73ae3d9e182bd8e86e2d451&utm_source=gh-comment&runConclusion=FAILURE&runId=ffc03b88-3558-58fd-8cad-9fe70aa4caab) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51627?repo=metabase/metabase&commitHash=8526272d569909ddf73ae3d9e182bd8e86e2d451&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 23, 12, 41, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2565703937, 'issue_id': 2755927525, 'author': 'bshepherdson', 'body': ""Can you clarify the objective here? I'm not clear what's broken that this is intended to fix."", 'created_at': datetime.datetime(2024, 12, 30, 16, 45, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2565949714, 'issue_id': 2755927525, 'author': 'uladzimirdev', 'body': '@bshepherdson ah, we\'ve discussed it multiple times, [latest](https://metaboat.slack.com/archives/C084XNEPH6K/p1734381838659109). \r\n\r\nin frontend workflow if you stop frontend server and start it again, you have to wait for cljs to rebuild. even if there was no any change from the last run, `dev` or `build-hot` scripts delete old cljs and build new every single time. \r\n\r\nMy change tries to reduce time required to ""rebuild cljs"" to 1-2s using `wireit`. \r\n\r\nSecondly I didn\'t find a way to use wireit with cljs live reload, so I had to disabled it. Overall FE devs do not use cljs live reload and we\'ve discussed it during one of guild calls that disabling cljs live reload is a good thing as it\'s not reliable and not actually used. But having cljs live reload requires browser to perform more work (parsing/evaluating) during local development.', 'created_at': datetime.datetime(2024, 12, 30, 21, 51, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 2613390307, 'issue_id': 2755927525, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `8526272d569909ddf73ae3d9e182bd8e86e2d451-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12957462798?pr=51627)\n\n  File | Test Name\n  ---- | ---------\n  `search.cy.spec.js` | scenarios > search > universal search > should not overflow container if results contain descriptions with large unborken strings', 'created_at': datetime.datetime(2025, 1, 24, 21, 14, 44, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-23 12:41:24 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13397_tests-8526272d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51627?repo=metabase/metabase&commitHash=8526272d569909ddf73ae3d9e182bd8e86e2d451&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51627?repo=metabase/metabase&commitHash=8526272d569909ddf73ae3d9e182bd8e86e2d451&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51627?repo=metabase/metabase&commitHash=8526272d569909ddf73ae3d9e182bd8e86e2d451&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51627?repo=metabase/metabase&commitHash=8526272d569909ddf73ae3d9e182bd8e86e2d451&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > search universal search should render a preview of markdown descriptions</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51627?repo=metabase/metabase&commitHash=8526272d569909ddf73ae3d9e182bd8e86e2d451&utm_source=gh-comment&runConclusion=FAILURE&runId=b97c4bea-6ecc-5a18-b1f8-70a4e1923cba) |
| <code>scenarios > search universal search should not overflow container if results contain descriptions with large unborken strings</code> | The test timed out while trying to find an element with data-testid ""result-description"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51627?repo=metabase/metabase&commitHash=8526272d569909ddf73ae3d9e182bd8e86e2d451&utm_source=gh-comment&runConclusion=FAILURE&runId=ffc03b88-3558-58fd-8cad-9fe70aa4caab) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51627?repo=metabase/metabase&commitHash=8526272d569909ddf73ae3d9e182bd8e86e2d451&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

bshepherdson on (2024-12-30 16:45:16 UTC): Can you clarify the objective here? I'm not clear what's broken that this is intended to fix.

uladzimirdev (Issue Creator) on (2024-12-30 21:51:37 UTC): @bshepherdson ah, we've discussed it multiple times, [latest](https://metaboat.slack.com/archives/C084XNEPH6K/p1734381838659109). 

in frontend workflow if you stop frontend server and start it again, you have to wait for cljs to rebuild. even if there was no any change from the last run, `dev` or `build-hot` scripts delete old cljs and build new every single time. 

My change tries to reduce time required to ""rebuild cljs"" to 1-2s using `wireit`. 

Secondly I didn't find a way to use wireit with cljs live reload, so I had to disabled it. Overall FE devs do not use cljs live reload and we've discussed it during one of guild calls that disabling cljs live reload is a good thing as it's not reliable and not actually used. But having cljs live reload requires browser to perform more work (parsing/evaluating) during local development.

github-actions[bot] on (2025-01-24 21:14:44 UTC): ## e2e tests failed on `8526272d569909ddf73ae3d9e182bd8e86e2d451-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12957462798?pr=51627)

  File | Test Name
  ---- | ---------
  `search.cy.spec.js` | scenarios > search > universal search > should not overflow container if results contain descriptions with large unborken strings

"
2755740595,pull_request,closed,,docs(sdk): fix initial parameter props name in dashboards,Use `initialParameters` instead of `initialSqlParameters` in sdk dashboard docs,heypoom,2024-12-23 10:40:40+00:00,['heypoom'],2024-12-23 17:08:48+00:00,2024-12-23 17:04:52+00:00,https://github.com/metabase/metabase/pull/51625,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2560039129, 'issue_id': 2755740595, 'author': 'heypoom', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 12, 23, 17, 5, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2560044212, 'issue_id': 2755740595, 'author': 'github-actions[bot]', 'body': 'üöÄ This should also be released by [v0.52.5](https://github.com/metabase/metabase/milestone/296)', 'created_at': datetime.datetime(2024, 12, 23, 17, 8, 47, tzinfo=datetime.timezone.utc)}]","heypoom (Issue Creator) on (2024-12-23 17:05:18 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-12-23 17:08:47 UTC): üöÄ This should also be released by [v0.52.5](https://github.com/metabase/metabase/milestone/296)

"
2755709789,pull_request,closed,,"ü§ñ backported ""Add description to metric API responses""",#51448,github-automation-metabase,2024-12-23 10:24:43+00:00,"['lbrdnk', 'github-automation-metabase']",2024-12-23 12:19:25+00:00,2024-12-23 10:49:57+00:00,https://github.com/metabase/metabase/pull/51624,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2559422778, 'issue_id': 2755709789, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/52245_tests-7ecb2c25-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51624?repo=metabase/metabase&commitHash=7ecb2c255bf6c2a9485b3402814084c0b22ad293&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51624?repo=metabase/metabase&commitHash=7ecb2c255bf6c2a9485b3402814084c0b22ad293&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51624?repo=metabase/metabase&commitHash=7ecb2c255bf6c2a9485b3402814084c0b22ad293&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51624?repo=metabase/metabase&commitHash=7ecb2c255bf6c2a9485b3402814084c0b22ad293&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:329:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\\#'sync.fingerprint/max-refingerprint-field... | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51624?repo=metabase/metabase&commitHash=7ecb2c255bf6c2a9485b3402814084c0b22ad293&utm_source=gh-comment&runConclusion=FAILURE&runId=1f60ea22-23d3-5493-a381-fc1315db0d4d) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51624?repo=metabase/metabase&commitHash=7ecb2c255bf6c2a9485b3402814084c0b22ad293&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 23, 10, 45, 2, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-23 10:45:02 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/52245_tests-7ecb2c25-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51624?repo=metabase/metabase&commitHash=7ecb2c255bf6c2a9485b3402814084c0b22ad293&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51624?repo=metabase/metabase&commitHash=7ecb2c255bf6c2a9485b3402814084c0b22ad293&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51624?repo=metabase/metabase&commitHash=7ecb2c255bf6c2a9485b3402814084c0b22ad293&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51624?repo=metabase/metabase&commitHash=7ecb2c255bf6c2a9485b3402814084c0b22ad293&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:329:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerprint-field... | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51624?repo=metabase/metabase&commitHash=7ecb2c255bf6c2a9485b3402814084c0b22ad293&utm_source=gh-comment&runConclusion=FAILURE&runId=1f60ea22-23d3-5493-a381-fc1315db0d4d) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51624?repo=metabase/metabase&commitHash=7ecb2c255bf6c2a9485b3402814084c0b22ad293&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2755661443,pull_request,closed,,"ü§ñ backported ""Fix method definitions in Databricks driver""",#51473,github-automation-metabase,2024-12-23 09:56:43+00:00,"['lbrdnk', 'github-automation-metabase']",2024-12-23 22:04:16+00:00,2024-12-23 21:10:12+00:00,https://github.com/metabase/metabase/pull/51623,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2559417516, 'issue_id': 2755661443, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120114_tests-a39fbcf7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51623?repo=metabase/metabase&commitHash=a39fbcf73d761c1cadf5240dfb8ab4dc8a5787f5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51623?repo=metabase/metabase&commitHash=a39fbcf73d761c1cadf5240dfb8ab4dc8a5787f5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51623?repo=metabase/metabase&commitHash=a39fbcf73d761c1cadf5240dfb8ab4dc8a5787f5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51623?repo=metabase/metabase&commitHash=a39fbcf73d761c1cadf5240dfb8ab4dc8a5787f5&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51623?repo=metabase/metabase&commitHash=a39fbcf73d761c1cadf5240dfb8ab4dc8a5787f5&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 23, 10, 42, 9, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-23 10:42:09 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120114_tests-a39fbcf7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51623?repo=metabase/metabase&commitHash=a39fbcf73d761c1cadf5240dfb8ab4dc8a5787f5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51623?repo=metabase/metabase&commitHash=a39fbcf73d761c1cadf5240dfb8ab4dc8a5787f5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51623?repo=metabase/metabase&commitHash=a39fbcf73d761c1cadf5240dfb8ab4dc8a5787f5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51623?repo=metabase/metabase&commitHash=a39fbcf73d761c1cadf5240dfb8ab4dc8a5787f5&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51623?repo=metabase/metabase&commitHash=a39fbcf73d761c1cadf5240dfb8ab4dc8a5787f5&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2755208711,pull_request,closed,,[Notification] Send notification api perms,,qnkhuat,2024-12-23 04:46:49+00:00,['qnkhuat'],2024-12-23 05:52:21+00:00,2024-12-23 04:47:16+00:00,https://github.com/metabase/metabase/pull/51621,"[('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2558923760, 'issue_id': 2755208711, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120405_tests-48d5108e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51621?repo=metabase/metabase&commitHash=48d5108e84b4175e6c12cf13ad1ecffd04f7c785&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51621?repo=metabase/metabase&commitHash=48d5108e84b4175e6c12cf13ad1ecffd04f7c785&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51621?repo=metabase/metabase&commitHash=48d5108e84b4175e6c12cf13ad1ecffd04f7c785&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51621?repo=metabase/metabase&commitHash=48d5108e84b4175e6c12cf13ad1ecffd04f7c785&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native should handle template tags</code> | The test timed out waiting for the expected content 'Showing 168 rows' to appear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51621?repo=metabase/metabase&commitHash=48d5108e84b4175e6c12cf13ad1ecffd04f7c785&utm_source=gh-comment&runConclusion=FAILURE&runId=74016f20-68a9-5601-8ef7-969126ba1845) |\n| <code>quick-run-through</code> | The model index creation failed due to a duplicate key value violating a unique constraint. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51621?repo=metabase/metabase&commitHash=48d5108e84b4175e6c12cf13ad1ecffd04f7c785&utm_source=gh-comment&runConclusion=FAILURE&runId=94e5162e-ce4f-5ca1-90fd-704ca38a9730) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51621?repo=metabase/metabase&commitHash=48d5108e84b4175e6c12cf13ad1ecffd04f7c785&utm_source=gh-comment&runConclusion=FAILURE&runId=06ed6d1b-d43a-5a1f-abf9-346e7629f693) |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51621?repo=metabase/metabase&commitHash=48d5108e84b4175e6c12cf13ad1ecffd04f7c785&utm_source=gh-comment&runConclusion=FAILURE&runId=a2ba6e1d-2f80-57fd-b90d-8cb1618318a7) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51621?repo=metabase/metabase&commitHash=48d5108e84b4175e6c12cf13ad1ecffd04f7c785&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 23, 5, 13, 54, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-23 05:13:54 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120405_tests-48d5108e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51621?repo=metabase/metabase&commitHash=48d5108e84b4175e6c12cf13ad1ecffd04f7c785&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51621?repo=metabase/metabase&commitHash=48d5108e84b4175e6c12cf13ad1ecffd04f7c785&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51621?repo=metabase/metabase&commitHash=48d5108e84b4175e6c12cf13ad1ecffd04f7c785&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51621?repo=metabase/metabase&commitHash=48d5108e84b4175e6c12cf13ad1ecffd04f7c785&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native should handle template tags</code> | The test timed out waiting for the expected content 'Showing 168 rows' to appear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51621?repo=metabase/metabase&commitHash=48d5108e84b4175e6c12cf13ad1ecffd04f7c785&utm_source=gh-comment&runConclusion=FAILURE&runId=74016f20-68a9-5601-8ef7-969126ba1845) |
| <code>quick-run-through</code> | The model index creation failed due to a duplicate key value violating a unique constraint. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51621?repo=metabase/metabase&commitHash=48d5108e84b4175e6c12cf13ad1ecffd04f7c785&utm_source=gh-comment&runConclusion=FAILURE&runId=94e5162e-ce4f-5ca1-90fd-704ca38a9730) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51621?repo=metabase/metabase&commitHash=48d5108e84b4175e6c12cf13ad1ecffd04f7c785&utm_source=gh-comment&runConclusion=FAILURE&runId=06ed6d1b-d43a-5a1f-abf9-346e7629f693) |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51621?repo=metabase/metabase&commitHash=48d5108e84b4175e6c12cf13ad1ecffd04f7c785&utm_source=gh-comment&runConclusion=FAILURE&runId=a2ba6e1d-2f80-57fd-b90d-8cb1618318a7) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51621?repo=metabase/metabase&commitHash=48d5108e84b4175e6c12cf13ad1ecffd04f7c785&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2754336545,pull_request,closed,,[serdes] extract tabId in click_behavior (#51588),"also, somewhat relatedly, create `elide-fk` function to skip pieces of data holding FKs to deleted targets

#51588",piranha,2024-12-21 19:51:15+00:00,['piranha'],2024-12-22 13:05:00+00:00,2024-12-22 13:04:59+00:00,https://github.com/metabase/metabase/pull/51618,"[('.Team/Workflows', 'aka BEC'), ('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2558235077, 'issue_id': 2754336545, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/141594_tests-5a3ef336-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51618?repo=metabase/metabase&commitHash=5a3ef336933228ff4cc8a3b819511a1144b3eb74&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51618?repo=metabase/metabase&commitHash=5a3ef336933228ff4cc8a3b819511a1144b3eb74&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51618?repo=metabase/metabase&commitHash=5a3ef336933228ff4cc8a3b819511a1144b3eb74&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51618?repo=metabase/metabase&commitHash=5a3ef336933228ff4cc8a3b819511a1144b3eb74&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51618?repo=metabase/metabase&commitHash=5a3ef336933228ff4cc8a3b819511a1144b3eb74&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 21, 20, 40, 4, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-21 20:40:04 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/141594_tests-5a3ef336-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51618?repo=metabase/metabase&commitHash=5a3ef336933228ff4cc8a3b819511a1144b3eb74&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51618?repo=metabase/metabase&commitHash=5a3ef336933228ff4cc8a3b819511a1144b3eb74&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51618?repo=metabase/metabase&commitHash=5a3ef336933228ff4cc8a3b819511a1144b3eb74&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51618?repo=metabase/metabase&commitHash=5a3ef336933228ff4cc8a3b819511a1144b3eb74&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51618?repo=metabase/metabase&commitHash=5a3ef336933228ff4cc8a3b819511a1144b3eb74&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2754334147,pull_request,closed,,[serdes] extract tabId in click_behavior (#51588),"also, somewhat relatedly, create `elide-fk` function to skip pieces of data holding FKs to deleted targets

#51588",piranha,2024-12-21 19:44:32+00:00,['piranha'],2024-12-22 13:05:31+00:00,2024-12-22 13:05:30+00:00,https://github.com/metabase/metabase/pull/51617,"[('.Team/Workflows', 'aka BEC'), ('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2558226531, 'issue_id': 2754334147, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/166335_tests-91804ff6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51617?repo=metabase/metabase&commitHash=91804ff64d6a26d0c9c4f65b30a01f4b487026e0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51617?repo=metabase/metabase&commitHash=91804ff64d6a26d0c9c4f65b30a01f4b487026e0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51617?repo=metabase/metabase&commitHash=91804ff64d6a26d0c9c4f65b30a01f4b487026e0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51617?repo=metabase/metabase&commitHash=91804ff64d6a26d0c9c4f65b30a01f4b487026e0&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>deduplicating-bounded-blocking-queue-test</code> | failure\\_text: queue\\_test.clj:88No phantom items are left in the setexpected: (zero? (.size (.-queued-set queue)))  actual: (not (zero? 1)) | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51617?repo=metabase/metabase&commitHash=91804ff64d6a26d0c9c4f65b30a01f4b487026e0&utm_source=gh-comment&runConclusion=FAILURE&runId=ba3d056a-989b-5b76-9f24-d4f6d653954c) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51617?repo=metabase/metabase&commitHash=91804ff64d6a26d0c9c4f65b30a01f4b487026e0&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 21, 20, 10, 14, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-21 20:10:14 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/166335_tests-91804ff6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51617?repo=metabase/metabase&commitHash=91804ff64d6a26d0c9c4f65b30a01f4b487026e0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51617?repo=metabase/metabase&commitHash=91804ff64d6a26d0c9c4f65b30a01f4b487026e0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51617?repo=metabase/metabase&commitHash=91804ff64d6a26d0c9c4f65b30a01f4b487026e0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51617?repo=metabase/metabase&commitHash=91804ff64d6a26d0c9c4f65b30a01f4b487026e0&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>deduplicating-bounded-blocking-queue-test</code> | failure\_text: queue\_test.clj:88No phantom items are left in the setexpected: (zero? (.size (.-queued-set queue)))  actual: (not (zero? 1)) | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51617?repo=metabase/metabase&commitHash=91804ff64d6a26d0c9c4f65b30a01f4b487026e0&utm_source=gh-comment&runConclusion=FAILURE&runId=ba3d056a-989b-5b76-9f24-d4f6d653954c) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51617?repo=metabase/metabase&commitHash=91804ff64d6a26d0c9c4f65b30a01f4b487026e0&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2754325510,pull_request,closed,,[serdes] extract tabId in click_behavior (#51588),#51588,piranha,2024-12-21 19:20:26+00:00,['piranha'],2024-12-22 13:05:22+00:00,2024-12-22 13:05:21+00:00,https://github.com/metabase/metabase/pull/51616,"[('.Team/Workflows', 'aka BEC'), ('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2558217289, 'issue_id': 2754325510, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/137841_tests-17dc374c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51616?repo=metabase/metabase&commitHash=17dc374cb1f1191590522b0b2e657e4770f30fca&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51616?repo=metabase/metabase&commitHash=17dc374cb1f1191590522b0b2e657e4770f30fca&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51616?repo=metabase/metabase&commitHash=17dc374cb1f1191590522b0b2e657e4770f30fca&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51616?repo=metabase/metabase&commitHash=17dc374cb1f1191590522b0b2e657e4770f30fca&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51616?repo=metabase/metabase&commitHash=17dc374cb1f1191590522b0b2e657e4770f30fca&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 21, 19, 39, 10, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-21 19:39:10 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/137841_tests-17dc374c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51616?repo=metabase/metabase&commitHash=17dc374cb1f1191590522b0b2e657e4770f30fca&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51616?repo=metabase/metabase&commitHash=17dc374cb1f1191590522b0b2e657e4770f30fca&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51616?repo=metabase/metabase&commitHash=17dc374cb1f1191590522b0b2e657e4770f30fca&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51616?repo=metabase/metabase&commitHash=17dc374cb1f1191590522b0b2e657e4770f30fca&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51616?repo=metabase/metabase&commitHash=17dc374cb1f1191590522b0b2e657e4770f30fca&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2754318306,pull_request,open,,Fix e2e flake in api-keys.cy.spec.ts,"After all my bluster about stress testing, I didn't stress test this one until now.",rafpaf,2024-12-21 19:01:55+00:00,['rafpaf'],2025-01-17 05:13:22+00:00,,https://github.com/metabase/metabase/pull/51615,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2558206628, 'issue_id': 2754318306, 'author': 'rafpaf', 'body': '* **#51615** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51615?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51615?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 12, 21, 19, 2, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2558224878, 'issue_id': 2754318306, 'author': 'rafpaf', 'body': '<img width=""881"" alt=""image"" src=""https://github.com/user-attachments/assets/cbc6d36a-d82d-41e8-b557-b09773454dc4"" />', 'created_at': datetime.datetime(2024, 12, 21, 20, 4, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2558235009, 'issue_id': 2754318306, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3669_tests-5667c339-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51615?repo=metabase/metabase&commitHash=5667c339cbae2c4ea985337647db5c904af1ecc2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51615?repo=metabase/metabase&commitHash=5667c339cbae2c4ea985337647db5c904af1ecc2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51615?repo=metabase/metabase&commitHash=5667c339cbae2c4ea985337647db5c904af1ecc2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51615?repo=metabase/metabase&commitHash=5667c339cbae2c4ea985337647db5c904af1ecc2&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51615?repo=metabase/metabase&commitHash=5667c339cbae2c4ea985337647db5c904af1ecc2&utm_source=gh-comment&runConclusion=FAILURE&runId=23b2d0fe-c9d1-56f5-8531-346e34d43b4b) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role='dialog'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51615?repo=metabase/metabase&commitHash=5667c339cbae2c4ea985337647db5c904af1ecc2&utm_source=gh-comment&runConclusion=FAILURE&runId=1968df76-e5c5-5704-b92e-9df84d73d9dc) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51615?repo=metabase/metabase&commitHash=5667c339cbae2c4ea985337647db5c904af1ecc2&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 21, 20, 39, 51, tzinfo=datetime.timezone.utc)}]","rafpaf (Issue Creator) on (2024-12-21 19:02:10 UTC): * **#51615** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51615?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51615?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

rafpaf (Issue Creator) on (2024-12-21 20:04:55 UTC): <img width=""881"" alt=""image"" src=""https://github.com/user-attachments/assets/cbc6d36a-d82d-41e8-b557-b09773454dc4"" />

trunk-io[bot] on (2024-12-21 20:39:51 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3669_tests-5667c339-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51615?repo=metabase/metabase&commitHash=5667c339cbae2c4ea985337647db5c904af1ecc2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51615?repo=metabase/metabase&commitHash=5667c339cbae2c4ea985337647db5c904af1ecc2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51615?repo=metabase/metabase&commitHash=5667c339cbae2c4ea985337647db5c904af1ecc2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51615?repo=metabase/metabase&commitHash=5667c339cbae2c4ea985337647db5c904af1ecc2&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51615?repo=metabase/metabase&commitHash=5667c339cbae2c4ea985337647db5c904af1ecc2&utm_source=gh-comment&runConclusion=FAILURE&runId=23b2d0fe-c9d1-56f5-8531-346e34d43b4b) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51615?repo=metabase/metabase&commitHash=5667c339cbae2c4ea985337647db5c904af1ecc2&utm_source=gh-comment&runConclusion=FAILURE&runId=1968df76-e5c5-5704-b92e-9df84d73d9dc) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51615?repo=metabase/metabase&commitHash=5667c339cbae2c4ea985337647db5c904af1ecc2&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2753874431,pull_request,closed,,"ü§ñ backported ""[serdes] extract tabId in click_behavior""",  #51588,github-automation-metabase,2024-12-21 10:08:15+00:00,"['piranha', 'github-automation-metabase']",2024-12-21 12:12:20+00:00,2024-12-21 12:10:49+00:00,https://github.com/metabase/metabase/pull/51613,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2558079659, 'issue_id': 2753874431, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/130005_tests-cb32faa3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51613?repo=metabase/metabase&commitHash=cb32faa376c7887d8718d036dd2907ffef42eef4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51613?repo=metabase/metabase&commitHash=cb32faa376c7887d8718d036dd2907ffef42eef4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51613?repo=metabase/metabase&commitHash=cb32faa376c7887d8718d036dd2907ffef42eef4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51613?repo=metabase/metabase&commitHash=cb32faa376c7887d8718d036dd2907ffef42eef4&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51613?repo=metabase/metabase&commitHash=cb32faa376c7887d8718d036dd2907ffef42eef4&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 21, 10, 40, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2558098876, 'issue_id': 2753874431, 'author': 'piranha', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 12, 21, 12, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2558099177, 'issue_id': 2753874431, 'author': 'github-actions[bot]', 'body': '@piranha something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12445037106)', 'created_at': datetime.datetime(2024, 12, 21, 12, 12, 19, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-21 10:40:43 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/130005_tests-cb32faa3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51613?repo=metabase/metabase&commitHash=cb32faa376c7887d8718d036dd2907ffef42eef4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51613?repo=metabase/metabase&commitHash=cb32faa376c7887d8718d036dd2907ffef42eef4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51613?repo=metabase/metabase&commitHash=cb32faa376c7887d8718d036dd2907ffef42eef4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51613?repo=metabase/metabase&commitHash=cb32faa376c7887d8718d036dd2907ffef42eef4&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51613?repo=metabase/metabase&commitHash=cb32faa376c7887d8718d036dd2907ffef42eef4&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

piranha (Assginee) on (2024-12-21 12:11:00 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-12-21 12:12:19 UTC): @piranha something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12445037106)

"
2753733696,pull_request,closed,,Fix glitching series on hover in Safari,"Closes https://github.com/metabase/metabase/issues/51383

### Description

In Safari on dashboards multiseries line charts have glitches when hovering some of series. It looks like this:

https://github.com/user-attachments/assets/470a7722-4f84-4509-96af-df269bb33c69

After poking around, I found that clip paths cause the problem and their removal eliminates glitches. These clip paths are needed to prevent chart elements go outside of the chart boundary but in our case they never do unless I'm missing something.

An alternative approach would be to enable canvas rendering although it has a couple of downsides:
- If we enable canvas renderer only in Safari, we will ship bigger bundle with two renderers
- If we enable canvas renderer to all browsers, then we need to rework all e2e tests that interact with charts as they query SVG elements to click/hover and with canvas it is not tesable this way

### Checklist

- [n/a] Tests have been added/updated to cover changes in this PR ‚Äî as it is a visual glitch in safari not sure if we can have a reasonable test for this
",alxnddr,2024-12-21 03:46:01+00:00,['alxnddr'],2025-01-30 22:15:15+00:00,2024-12-23 20:32:45+00:00,https://github.com/metabase/metabase/pull/51611,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2560091785, 'issue_id': 2753733696, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51887_tests-8189f04d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51611?repo=metabase/metabase&commitHash=8189f04d363cc6a75f4dd9d408eddaa236f33a57&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51611?repo=metabase/metabase&commitHash=8189f04d363cc6a75f4dd9d408eddaa236f33a57&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51611?repo=metabase/metabase&commitHash=8189f04d363cc6a75f4dd9d408eddaa236f33a57&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51611?repo=metabase/metabase&commitHash=8189f04d363cc6a75f4dd9d408eddaa236f33a57&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51611?repo=metabase/metabase&commitHash=8189f04d363cc6a75f4dd9d408eddaa236f33a57&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 23, 17, 47, 38, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-23 17:47:38 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51887_tests-8189f04d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51611?repo=metabase/metabase&commitHash=8189f04d363cc6a75f4dd9d408eddaa236f33a57&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51611?repo=metabase/metabase&commitHash=8189f04d363cc6a75f4dd9d408eddaa236f33a57&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51611?repo=metabase/metabase&commitHash=8189f04d363cc6a75f4dd9d408eddaa236f33a57&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51611?repo=metabase/metabase&commitHash=8189f04d363cc6a75f4dd9d408eddaa236f33a57&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51611?repo=metabase/metabase&commitHash=8189f04d363cc6a75f4dd9d408eddaa236f33a57&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2753685500,pull_request,closed,,"ü§ñ backported ""Fix summarize-column and summarize-column-by-time drills for multi-stage queries""",#51553,github-automation-metabase,2024-12-21 01:20:37+00:00,"['appleby', 'github-automation-metabase']",2024-12-23 07:27:22+00:00,2024-12-23 07:27:21+00:00,https://github.com/metabase/metabase/pull/51610,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2557943539, 'issue_id': 2753685500, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/113033_tests-4897d208-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51610?repo=metabase/metabase&commitHash=4897d208beda5d5c5281a220ae48a38757b1dcf0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51610?repo=metabase/metabase&commitHash=4897d208beda5d5c5281a220ae48a38757b1dcf0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51610?repo=metabase/metabase&commitHash=4897d208beda5d5c5281a220ae48a38757b1dcf0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51610?repo=metabase/metabase&commitHash=4897d208beda5d5c5281a220ae48a38757b1dcf0&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51610?repo=metabase/metabase&commitHash=4897d208beda5d5c5281a220ae48a38757b1dcf0&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 21, 1, 42, 39, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-21 01:42:39 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/113033_tests-4897d208-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51610?repo=metabase/metabase&commitHash=4897d208beda5d5c5281a220ae48a38757b1dcf0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51610?repo=metabase/metabase&commitHash=4897d208beda5d5c5281a220ae48a38757b1dcf0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51610?repo=metabase/metabase&commitHash=4897d208beda5d5c5281a220ae48a38757b1dcf0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51610?repo=metabase/metabase&commitHash=4897d208beda5d5c5281a220ae48a38757b1dcf0&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51610?repo=metabase/metabase&commitHash=4897d208beda5d5c5281a220ae48a38757b1dcf0&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2753685231,pull_request,closed,,"ü§ñ backported ""Fix summarize-column and summarize-column-by-time drills for multi-stage queries""",#51553,github-automation-metabase,2024-12-21 01:19:54+00:00,"['appleby', 'github-automation-metabase']",2024-12-21 02:40:36+00:00,2024-12-21 02:23:41+00:00,https://github.com/metabase/metabase/pull/51609,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2557943047, 'issue_id': 2753685231, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/133584_tests-9ed1f54d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51609?repo=metabase/metabase&commitHash=9ed1f54d9c32cb066238aee717633e721199d8d0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51609?repo=metabase/metabase&commitHash=9ed1f54d9c32cb066238aee717633e721199d8d0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51609?repo=metabase/metabase&commitHash=9ed1f54d9c32cb066238aee717633e721199d8d0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51609?repo=metabase/metabase&commitHash=9ed1f54d9c32cb066238aee717633e721199d8d0&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:329:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\\#'sync.fingerprint/max-refingerprint-field... | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51609?repo=metabase/metabase&commitHash=9ed1f54d9c32cb066238aee717633e721199d8d0&utm_source=gh-comment&runConclusion=FAILURE&runId=e4eab530-6617-54e5-8b8d-9d37e4b044d5) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, which is expected to have stage numbers. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51609?repo=metabase/metabase&commitHash=9ed1f54d9c32cb066238aee717633e721199d8d0&utm_source=gh-comment&runConclusion=FAILURE&runId=7806b320-cfb8-5748-9176-58f097eb5e1a) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51609?repo=metabase/metabase&commitHash=9ed1f54d9c32cb066238aee717633e721199d8d0&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 21, 1, 41, 12, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-21 01:41:12 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/133584_tests-9ed1f54d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51609?repo=metabase/metabase&commitHash=9ed1f54d9c32cb066238aee717633e721199d8d0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51609?repo=metabase/metabase&commitHash=9ed1f54d9c32cb066238aee717633e721199d8d0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51609?repo=metabase/metabase&commitHash=9ed1f54d9c32cb066238aee717633e721199d8d0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51609?repo=metabase/metabase&commitHash=9ed1f54d9c32cb066238aee717633e721199d8d0&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:329:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerprint-field... | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51609?repo=metabase/metabase&commitHash=9ed1f54d9c32cb066238aee717633e721199d8d0&utm_source=gh-comment&runConclusion=FAILURE&runId=e4eab530-6617-54e5-8b8d-9d37e4b044d5) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, which is expected to have stage numbers. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51609?repo=metabase/metabase&commitHash=9ed1f54d9c32cb066238aee717633e721199d8d0&utm_source=gh-comment&runConclusion=FAILURE&runId=7806b320-cfb8-5748-9176-58f097eb5e1a) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51609?repo=metabase/metabase&commitHash=9ed1f54d9c32cb066238aee717633e721199d8d0&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2753681564,pull_request,closed,,Fix compare-aggregations drill for multi-stage queries,"### Description

Ensure the compare-aggregations drill thru is returned by `available-drill-thrus` when a user clicks on an aggregation column, even if there are additional query stages after the last aggregation / breakout stage.

Relates to: https://github.com/metabase/metabase/issues/46932

### How to verify

This drill thru is currently disabled in the FE, but see new BE tests

### Demo

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",appleby,2024-12-21 01:10:49+00:00,['appleby'],2025-01-06 19:43:01+00:00,2025-01-03 21:05:05+00:00,https://github.com/metabase/metabase/pull/51608,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2557943029, 'issue_id': 2753681564, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/73551_tests-35fef6b1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51608?repo=metabase/metabase&commitHash=35fef6b181acefbc677a502d08ecefc5f147266a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51608?repo=metabase/metabase&commitHash=35fef6b181acefbc677a502d08ecefc5f147266a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51608?repo=metabase/metabase&commitHash=35fef6b181acefbc677a502d08ecefc5f147266a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51608?repo=metabase/metabase&commitHash=35fef6b181acefbc677a502d08ecefc5f147266a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51608?repo=metabase/metabase&commitHash=35fef6b181acefbc677a502d08ecefc5f147266a&utm_source=gh-comment&runConclusion=FAILURE&runId=cde5840a-d4f3-505a-997c-980b2d1b67d5) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51608?repo=metabase/metabase&commitHash=35fef6b181acefbc677a502d08ecefc5f147266a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 21, 1, 41, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2569992696, 'issue_id': 2753681564, 'author': 'appleby', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2025, 1, 4, 1, 38, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573793216, 'issue_id': 2753681564, 'author': 'github-actions[bot]', 'body': 'üöÄ This should also be released by [v0.52.5](https://github.com/metabase/metabase/milestone/296)', 'created_at': datetime.datetime(2025, 1, 6, 19, 43, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-21 01:41:10 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/73551_tests-35fef6b1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51608?repo=metabase/metabase&commitHash=35fef6b181acefbc677a502d08ecefc5f147266a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51608?repo=metabase/metabase&commitHash=35fef6b181acefbc677a502d08ecefc5f147266a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51608?repo=metabase/metabase&commitHash=35fef6b181acefbc677a502d08ecefc5f147266a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51608?repo=metabase/metabase&commitHash=35fef6b181acefbc677a502d08ecefc5f147266a&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51608?repo=metabase/metabase&commitHash=35fef6b181acefbc677a502d08ecefc5f147266a&utm_source=gh-comment&runConclusion=FAILURE&runId=cde5840a-d4f3-505a-997c-980b2d1b67d5) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51608?repo=metabase/metabase&commitHash=35fef6b181acefbc677a502d08ecefc5f147266a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

appleby (Issue Creator) on (2025-01-04 01:38:22 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2025-01-06 19:43:00 UTC): üöÄ This should also be released by [v0.52.5](https://github.com/metabase/metabase/milestone/296)

"
2753679181,pull_request,open,,üöß WIP: Content localization prototype,,rafpaf,2024-12-21 01:04:45+00:00,['rafpaf'],2025-01-16 17:13:36+00:00,,https://github.com/metabase/metabase/pull/51607,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team'), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2557929894, 'issue_id': 2753679181, 'author': 'rafpaf', 'body': '* **#51607** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51607?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51607?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 12, 21, 1, 5, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594452984, 'issue_id': 2753679181, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 46dc35e86b9edd36149d4e2e5fb31203dee10243...e4091c84e4478f21b769e773b4de901397e96773.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartCaption.tsx<br>frontend/src/metabase/visualizations/components/TableInteractive/TableInteractive.jsx<br>frontend/src/metabase/visualizations/components/TableSimple/TableSimple.tsx<br>frontend/src/metabase/visualizations/visualizations/CartesianChart/CartesianChart.tsx |', 'created_at': datetime.datetime(2025, 1, 16, 4, 27, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2594455455, 'issue_id': 2753679181, 'author': 'graphite-app[bot]', 'body': '### Graphite Automations\n<details><summary><a href=""https://app.graphite.dev/automations/?org=metabase&ruleId=Yrh2LAyyUc6276rpQngn&ref=gt-automation-github-comment"">""Warn authors when publishing large PRs""</a> took an action on this PR ‚Ä¢ (01/16/25)</summary><p>1 teammate was notified to this PR based on Raphael Krut-Landau\'s automation.</p></details>', 'created_at': datetime.datetime(2025, 1, 16, 4, 30, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2596099937, 'issue_id': 2753679181, 'author': 'github-actions[bot]', 'body': 'üëã Deploying a preview environment for commit e4091c84e4478f21b769e773b4de901397e96773.\n‚úÖ Preview:\n    https://pr51607.coredev.metabase.com\nüóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2025, 1, 16, 15, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2596155439, 'issue_id': 2753679181, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120278_tests-e4091c84-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51607?repo=metabase/metabase&commitHash=e4091c84e4478f21b769e773b4de901397e96773&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/152-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51607?repo=metabase/metabase&commitHash=e4091c84e4478f21b769e773b4de901397e96773&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51607?repo=metabase/metabase&commitHash=e4091c84e4478f21b769e773b4de901397e96773&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51607?repo=metabase/metabase&commitHash=e4091c84e4478f21b769e773b4de901397e96773&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>extract action url columns Domain</code> | The expected text \'Domain\' was not found in the element, instead \'Birth Date\' was found. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51607?repo=metabase/metabase&commitHash=e4091c84e4478f21b769e773b4de901397e96773&utm_source=gh-comment&runConclusion=FAILURE&runId=783062ee-b7c7-55d4-b5b9-f6afa2655a6f) |\n| <code>extract action url columns Host</code> | The expected text \'Host\' was not found in the element, instead \'Birth Date\' was found. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51607?repo=metabase/metabase&commitHash=e4091c84e4478f21b769e773b4de901397e96773&utm_source=gh-comment&runConclusion=FAILURE&runId=3b169098-b491-5f98-9665-f0eb8e5dad1f) |\n| <code>extract action url columns Subdomain</code> | The expected text \'Subdomain\' was not found in the element, instead \'Birth Date\' was found. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51607?repo=metabase/metabase&commitHash=e4091c84e4478f21b769e773b4de901397e96773&utm_source=gh-comment&runConclusion=FAILURE&runId=96a06682-b49c-5945-93e6-dad0394e3c8a) |\n| <code>Dashboard > Dashboard Questions admin can archive and unarchive a dashboard with cards saved inside it</code> | The test timed out while trying to find an element with data-testid ""archive-banner"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51607?repo=metabase/metabase&commitHash=e4091c84e4478f21b769e773b4de901397e96773&utm_source=gh-comment&runConclusion=FAILURE&runId=aca1ab7d-4457-5a43-ab61-d8d26f19c920) |\n\n[... and 148 more](https://app.trunk.io/metabase/flaky-tests/pr/51607?repo=metabase/metabase&commitHash=e4091c84e4478f21b769e773b4de901397e96773&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51607?repo=metabase/metabase&commitHash=e4091c84e4478f21b769e773b4de901397e96773&utm_source=gh-comment&runConclusion=FAILURE&runId=ee84d577-4a5d-5d8e-afea-071d5b9b76cc) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property \'display: none\', causing a timeout. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51607?repo=metabase/metabase&commitHash=e4091c84e4478f21b769e773b4de901397e96773&utm_source=gh-comment&runConclusion=FAILURE&runId=25f24bd5-b951-54cd-b5ab-6a32caa7d145) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51607?repo=metabase/metabase&commitHash=e4091c84e4478f21b769e773b4de901397e96773&utm_source=gh-comment&runConclusion=FAILURE&runId=0c8aa114-7b27-599d-a7d5-5ae28902b73c) |\n| <code>analyze-unhidden-tables-test</code> | Insert or update operation on \'metabase\\_field\' table failed due to foreign key constraint \'fk\\_field\\_ref\\_table\\_id\' violation. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51607?repo=metabase/metabase&commitHash=e4091c84e4478f21b769e773b4de901397e96773&utm_source=gh-comment&runConclusion=FAILURE&runId=a9256b9c-02bc-5608-943c-69e236470c72) |\n\n[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/51607?repo=metabase/metabase&commitHash=e4091c84e4478f21b769e773b4de901397e96773&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51607?repo=metabase/metabase&commitHash=e4091c84e4478f21b769e773b4de901397e96773&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 16, 16, 19, 44, tzinfo=datetime.timezone.utc)}]","rafpaf (Issue Creator) on (2024-12-21 01:05:01 UTC): * **#51607** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51607?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51607?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

github-actions[bot] on (2025-01-16 04:27:15 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 46dc35e86b9edd36149d4e2e5fb31203dee10243...e4091c84e4478f21b769e773b4de901397e96773.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartCaption.tsx<br>frontend/src/metabase/visualizations/components/TableInteractive/TableInteractive.jsx<br>frontend/src/metabase/visualizations/components/TableSimple/TableSimple.tsx<br>frontend/src/metabase/visualizations/visualizations/CartesianChart/CartesianChart.tsx |

graphite-app[bot] on (2025-01-16 04:30:11 UTC): ### Graphite Automations
<details><summary><a href=""https://app.graphite.dev/automations/?org=metabase&ruleId=Yrh2LAyyUc6276rpQngn&ref=gt-automation-github-comment"">""Warn authors when publishing large PRs""</a> took an action on this PR ‚Ä¢ (01/16/25)</summary><p>1 teammate was notified to this PR based on Raphael Krut-Landau's automation.</p></details>

github-actions[bot] on (2025-01-16 15:57:00 UTC): üëã Deploying a preview environment for commit e4091c84e4478f21b769e773b4de901397e96773.
‚úÖ Preview:
    https://pr51607.coredev.metabase.com
üóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

trunk-io[bot] on (2025-01-16 16:19:44 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120278_tests-e4091c84-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51607?repo=metabase/metabase&commitHash=e4091c84e4478f21b769e773b4de901397e96773&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/152-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51607?repo=metabase/metabase&commitHash=e4091c84e4478f21b769e773b4de901397e96773&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51607?repo=metabase/metabase&commitHash=e4091c84e4478f21b769e773b4de901397e96773&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51607?repo=metabase/metabase&commitHash=e4091c84e4478f21b769e773b4de901397e96773&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>extract action url columns Domain</code> | The expected text 'Domain' was not found in the element, instead 'Birth Date' was found. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51607?repo=metabase/metabase&commitHash=e4091c84e4478f21b769e773b4de901397e96773&utm_source=gh-comment&runConclusion=FAILURE&runId=783062ee-b7c7-55d4-b5b9-f6afa2655a6f) |
| <code>extract action url columns Host</code> | The expected text 'Host' was not found in the element, instead 'Birth Date' was found. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51607?repo=metabase/metabase&commitHash=e4091c84e4478f21b769e773b4de901397e96773&utm_source=gh-comment&runConclusion=FAILURE&runId=3b169098-b491-5f98-9665-f0eb8e5dad1f) |
| <code>extract action url columns Subdomain</code> | The expected text 'Subdomain' was not found in the element, instead 'Birth Date' was found. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51607?repo=metabase/metabase&commitHash=e4091c84e4478f21b769e773b4de901397e96773&utm_source=gh-comment&runConclusion=FAILURE&runId=96a06682-b49c-5945-93e6-dad0394e3c8a) |
| <code>Dashboard > Dashboard Questions admin can archive and unarchive a dashboard with cards saved inside it</code> | The test timed out while trying to find an element with data-testid ""archive-banner"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51607?repo=metabase/metabase&commitHash=e4091c84e4478f21b769e773b4de901397e96773&utm_source=gh-comment&runConclusion=FAILURE&runId=aca1ab7d-4457-5a43-ab61-d8d26f19c920) |

[... and 148 more](https://app.trunk.io/metabase/flaky-tests/pr/51607?repo=metabase/metabase&commitHash=e4091c84e4478f21b769e773b4de901397e96773&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51607?repo=metabase/metabase&commitHash=e4091c84e4478f21b769e773b4de901397e96773&utm_source=gh-comment&runConclusion=FAILURE&runId=ee84d577-4a5d-5d8e-afea-071d5b9b76cc) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The expected element was not visible because it had a CSS property 'display: none', causing a timeout. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51607?repo=metabase/metabase&commitHash=e4091c84e4478f21b769e773b4de901397e96773&utm_source=gh-comment&runConclusion=FAILURE&runId=25f24bd5-b951-54cd-b5ab-6a32caa7d145) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51607?repo=metabase/metabase&commitHash=e4091c84e4478f21b769e773b4de901397e96773&utm_source=gh-comment&runConclusion=FAILURE&runId=0c8aa114-7b27-599d-a7d5-5ae28902b73c) |
| <code>analyze-unhidden-tables-test</code> | Insert or update operation on 'metabase\_field' table failed due to foreign key constraint 'fk\_field\_ref\_table\_id' violation. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51607?repo=metabase/metabase&commitHash=e4091c84e4478f21b769e773b4de901397e96773&utm_source=gh-comment&runConclusion=FAILURE&runId=a9256b9c-02bc-5608-943c-69e236470c72) |

[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/51607?repo=metabase/metabase&commitHash=e4091c84e4478f21b769e773b4de901397e96773&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51607?repo=metabase/metabase&commitHash=e4091c84e4478f21b769e773b4de901397e96773&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2753630050,pull_request,closed,,Generate field_ids by index,,metamben,2024-12-20 23:28:52+00:00,['metamben'],2024-12-31 12:47:58+00:00,2024-12-26 22:04:37+00:00,https://github.com/metabase/metabase/pull/51606,"[('.Team/Querying', '')]","[{'comment_id': 2557906135, 'issue_id': 2753630050, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/122978_tests-6e23c286-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51606?repo=metabase/metabase&commitHash=6e23c286917c310852d515d567d3df063602ac6a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51606?repo=metabase/metabase&commitHash=6e23c286917c310852d515d567d3df063602ac6a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51606?repo=metabase/metabase&commitHash=6e23c286917c310852d515d567d3df063602ac6a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51606?repo=metabase/metabase&commitHash=6e23c286917c310852d515d567d3df063602ac6a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51606?repo=metabase/metabase&commitHash=6e23c286917c310852d515d567d3df063602ac6a&utm_source=gh-comment&runConclusion=FAILURE&runId=7fc57ba5-dcd1-55ec-9b6f-b1bcb3d0410b) |\n| <code>migrate!-test</code> | The progress call during other stages did not match the expected result. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51606?repo=metabase/metabase&commitHash=6e23c286917c310852d515d567d3df063602ac6a&utm_source=gh-comment&runConclusion=FAILURE&runId=41726a27-e059-56c4-b88d-0165ea0ddd91) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51606?repo=metabase/metabase&commitHash=6e23c286917c310852d515d567d3df063602ac6a&utm_source=gh-comment&runConclusion=FAILURE&runId=53ffc4bb-6d1b-5909-b84c-331082db8b2d) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51606?repo=metabase/metabase&commitHash=6e23c286917c310852d515d567d3df063602ac6a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 21, 0, 16, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2563069755, 'issue_id': 2753630050, 'author': 'metamben', 'body': ""> I think this is reasonable but tbh the complexity here is kind of breaking my brain.\r\n\r\nWhat complexity do you mean?\r\n\r\n> The more I play around, the more I like your idea of having an internal history and an explicit transformation step where we take that history and process it into a format fit for the LLM. In other words, have a completely separate `envelope/full-history` function and `envelope/history-for-llm` function, where the latter takes the output of the former and does all the processing we need.\r\n\r\nI think we should eventually produce a schema about the expected output too just like we have a schema about the tool input as it seems important for maintaining agent stability. Given such a schema, we could use Malli's `mt/strip-extra-keys-transformer` to make sure the agent only sees data it is supposed to. I looked around to see if JSON schemas can be transformed to Malli schemas, but it doesn't exist yet: https://github.com/metosin/malli/issues/54. However, we might still be able to compile _our_ JSON schemas to Malli."", 'created_at': datetime.datetime(2024, 12, 26, 20, 9, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2563099027, 'issue_id': 2753630050, 'author': 'johnswanson', 'body': '> > I think this is reasonable but tbh the complexity here is kind of breaking my brain.\r\n> \r\n> What complexity do you mean?\r\n\r\nI guess I have a couple concerns, and to be clear this more saying that the current complexity is confusing, not that your PR is adding confusing complexity.\r\n\r\nRight now I guess we only actually interpret these non-opaque identifiers in one place, which seems safe enough, but I have some fear that we\'ll end up parsing them out elsewhere? I guess it also feels like there\'s a lot of ""stuff"" required to generate a result-column, and a lot of it is pretty confusing. I need to pass in a `field-id-prefix`, but how do I figure out what `field-id-prefix` is the right one for a given column of a given entity? It feels like the caller of `->result-column` needs to understand a lot about the whole system.\r\n\r\n> I think we should eventually produce a schema about the expected too output just like we have a schema about the tool input as it seems important for maintaining agent stability. Given such a schema, we could use Malli\'s mt/strip-extra-keys-transformer to make sure the agent only sees data it is supposed to. I looked around to see if JSON schemas can be transformed to Malli schemas, but it doesn\'t exist yet: https://github.com/metosin/malli/issues/54. However, we might still be able to compile our JSON schemas to Malli.\r\n\r\nLove this idea.', 'created_at': datetime.datetime(2024, 12, 26, 21, 4, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2563127619, 'issue_id': 2753630050, 'author': 'metamben', 'body': ""I'll merge this and think about the abstraction issue you mentioned."", 'created_at': datetime.datetime(2024, 12, 26, 22, 4, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2566421809, 'issue_id': 2753630050, 'author': 'metamben', 'body': '> Right now I guess we only actually interpret these non-opaque identifiers in one place, which seems safe enough, but I have some fear that we\'ll end up parsing them out elsewhere?\r\n\r\nCurrently, they are not parsed anywhere, but prefixes get generated both on the producer and the consumer side.\r\n\r\n> I guess it also feels like there\'s a lot of ""stuff"" required to generate a result-column, and a lot of it is pretty confusing. I need to pass in a field-id-prefix, but how do I figure out what field-id-prefix is the right one for a given column of a given entity? It feels like the caller of ->result-column needs to understand a lot about the whole system.\r\n\r\nWould it be less confusing if instead of the (rather obscure) prefix, both producers and consumers provided the type and the ID of the entity the columns (are expected to) belong to?', 'created_at': datetime.datetime(2024, 12, 31, 12, 47, 57, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-21 00:16:22 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/122978_tests-6e23c286-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51606?repo=metabase/metabase&commitHash=6e23c286917c310852d515d567d3df063602ac6a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51606?repo=metabase/metabase&commitHash=6e23c286917c310852d515d567d3df063602ac6a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51606?repo=metabase/metabase&commitHash=6e23c286917c310852d515d567d3df063602ac6a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51606?repo=metabase/metabase&commitHash=6e23c286917c310852d515d567d3df063602ac6a&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51606?repo=metabase/metabase&commitHash=6e23c286917c310852d515d567d3df063602ac6a&utm_source=gh-comment&runConclusion=FAILURE&runId=7fc57ba5-dcd1-55ec-9b6f-b1bcb3d0410b) |
| <code>migrate!-test</code> | The progress call during other stages did not match the expected result. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51606?repo=metabase/metabase&commitHash=6e23c286917c310852d515d567d3df063602ac6a&utm_source=gh-comment&runConclusion=FAILURE&runId=41726a27-e059-56c4-b88d-0165ea0ddd91) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51606?repo=metabase/metabase&commitHash=6e23c286917c310852d515d567d3df063602ac6a&utm_source=gh-comment&runConclusion=FAILURE&runId=53ffc4bb-6d1b-5909-b84c-331082db8b2d) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51606?repo=metabase/metabase&commitHash=6e23c286917c310852d515d567d3df063602ac6a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

metamben (Issue Creator) on (2024-12-26 20:09:04 UTC): What complexity do you mean?


I think we should eventually produce a schema about the expected output too just like we have a schema about the tool input as it seems important for maintaining agent stability. Given such a schema, we could use Malli's `mt/strip-extra-keys-transformer` to make sure the agent only sees data it is supposed to. I looked around to see if JSON schemas can be transformed to Malli schemas, but it doesn't exist yet: https://github.com/metosin/malli/issues/54. However, we might still be able to compile _our_ JSON schemas to Malli.

johnswanson on (2024-12-26 21:04:13 UTC): I guess I have a couple concerns, and to be clear this more saying that the current complexity is confusing, not that your PR is adding confusing complexity.

Right now I guess we only actually interpret these non-opaque identifiers in one place, which seems safe enough, but I have some fear that we'll end up parsing them out elsewhere? I guess it also feels like there's a lot of ""stuff"" required to generate a result-column, and a lot of it is pretty confusing. I need to pass in a `field-id-prefix`, but how do I figure out what `field-id-prefix` is the right one for a given column of a given entity? It feels like the caller of `->result-column` needs to understand a lot about the whole system.


Love this idea.

metamben (Issue Creator) on (2024-12-26 22:04:24 UTC): I'll merge this and think about the abstraction issue you mentioned.

metamben (Issue Creator) on (2024-12-31 12:47:57 UTC): Currently, they are not parsed anywhere, but prefixes get generated both on the producer and the consumer side.


Would it be less confusing if instead of the (rather obscure) prefix, both producers and consumers provided the type and the ID of the entity the columns (are expected to) belong to?

"
2753621716,pull_request,closed,,Instant e2e test updates,"## Description

This enables a tighter feedback loop for e2e tests failures. You don't need to wait until jobs complete, or watch logs to find out if a test has failed anymore, you'll get an instant PR comment as soon as a test fails like this, and it will aggregate failures across all e2e test suites.

As soon as a new e2e job starts, the comment will get deleted.

![Screen Shot 2025-01-07 at 3 15 44 PM](https://github.com/user-attachments/assets/c8d1ef3f-e375-4139-add7-c1bc36a6eaf6)

TODO: delete with reruns",iethree,2024-12-20 23:19:56+00:00,['iethree'],2025-01-17 22:39:12+00:00,2025-01-17 21:49:36+00:00,https://github.com/metabase/metabase/pull/51605,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2575961590, 'issue_id': 2753621716, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3614_tests-b176bf4d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51605?repo=metabase/metabase&commitHash=b176bf4db4890f91ec98a1bc9e27b38964e68fe4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51605?repo=metabase/metabase&commitHash=b176bf4db4890f91ec98a1bc9e27b38964e68fe4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51605?repo=metabase/metabase&commitHash=b176bf4db4890f91ec98a1bc9e27b38964e68fe4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51605?repo=metabase/metabase&commitHash=b176bf4db4890f91ec98a1bc9e27b38964e68fe4&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51605?repo=metabase/metabase&commitHash=b176bf4db4890f91ec98a1bc9e27b38964e68fe4&utm_source=gh-comment&runConclusion=FAILURE&runId=2682189f-f8e1-56e6-90df-599f6e6d69c4) |\n| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \\`.emotion-Modal-content[role=\'dialog\'],[data-testid=modal]\\` was not found within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51605?repo=metabase/metabase&commitHash=b176bf4db4890f91ec98a1bc9e27b38964e68fe4&utm_source=gh-comment&runConclusion=FAILURE&runId=a721737a-4b8e-5c3f-a12a-1c6f6efc2b1e) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51605?repo=metabase/metabase&commitHash=b176bf4db4890f91ec98a1bc9e27b38964e68fe4&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 7, 18, 24, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2599112975, 'issue_id': 2753621716, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `b176bf4db4890f91ec98a1bc9e27b38964e68fe4-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12835900981?pr=51605)\n\n  File | Test Name\n  ---- | ---------\n  `native.cy.spec.js` | (_flaky_) scenarios > question > native > displays an error', 'created_at': datetime.datetime(2025, 1, 17, 20, 9, 29, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-07 18:24:57 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3614_tests-b176bf4d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51605?repo=metabase/metabase&commitHash=b176bf4db4890f91ec98a1bc9e27b38964e68fe4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51605?repo=metabase/metabase&commitHash=b176bf4db4890f91ec98a1bc9e27b38964e68fe4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51605?repo=metabase/metabase&commitHash=b176bf4db4890f91ec98a1bc9e27b38964e68fe4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51605?repo=metabase/metabase&commitHash=b176bf4db4890f91ec98a1bc9e27b38964e68fe4&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51605?repo=metabase/metabase&commitHash=b176bf4db4890f91ec98a1bc9e27b38964e68fe4&utm_source=gh-comment&runConclusion=FAILURE&runId=2682189f-f8e1-56e6-90df-599f6e6d69c4) |
| <code>Dashboard > Dashboard Questions admin can save a native question to a dashboard</code> | The expected element \`.emotion-Modal-content[role='dialog'],[data-testid=modal]\` was not found within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51605?repo=metabase/metabase&commitHash=b176bf4db4890f91ec98a1bc9e27b38964e68fe4&utm_source=gh-comment&runConclusion=FAILURE&runId=a721737a-4b8e-5c3f-a12a-1c6f6efc2b1e) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51605?repo=metabase/metabase&commitHash=b176bf4db4890f91ec98a1bc9e27b38964e68fe4&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-17 20:09:29 UTC): ## e2e tests failed on `b176bf4db4890f91ec98a1bc9e27b38964e68fe4-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12835900981?pr=51605)

  File | Test Name
  ---- | ---------
  `native.cy.spec.js` | (_flaky_) scenarios > question > native > displays an error

"
2753535435,pull_request,closed,,"ü§ñ backported ""Batch query_execution, audit_log and view_log truncations""",#51490,github-automation-metabase,2024-12-20 21:58:22+00:00,"['noahmoss', 'github-automation-metabase']",2024-12-21 00:35:58+00:00,2024-12-20 22:38:01+00:00,https://github.com/metabase/metabase/pull/51602,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2557853857, 'issue_id': 2753535435, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/4983_tests-49b9a6cb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51602?repo=metabase/metabase&commitHash=49b9a6cb2ef612ba3d9dc0937cb46372b69536e7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51602?repo=metabase/metabase&commitHash=49b9a6cb2ef612ba3d9dc0937cb46372b69536e7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51602?repo=metabase/metabase&commitHash=49b9a6cb2ef612ba3d9dc0937cb46372b69536e7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51602?repo=metabase/metabase&commitHash=49b9a6cb2ef612ba3d9dc0937cb46372b69536e7&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51602?repo=metabase/metabase&commitHash=49b9a6cb2ef612ba3d9dc0937cb46372b69536e7&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 20, 22, 52, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-20 22:52:00 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/4983_tests-49b9a6cb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51602?repo=metabase/metabase&commitHash=49b9a6cb2ef612ba3d9dc0937cb46372b69536e7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51602?repo=metabase/metabase&commitHash=49b9a6cb2ef612ba3d9dc0937cb46372b69536e7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51602?repo=metabase/metabase&commitHash=49b9a6cb2ef612ba3d9dc0937cb46372b69536e7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51602?repo=metabase/metabase&commitHash=49b9a6cb2ef612ba3d9dc0937cb46372b69536e7&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51602?repo=metabase/metabase&commitHash=49b9a6cb2ef612ba3d9dc0937cb46372b69536e7&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2753495465,pull_request,closed,,Don't send queries to llm,"This introduces `envelope/llm-message`, a private function that formats
messages for the LLM. Currently it does two things: removes `query`s and
json-encodes the structured content.

There's also `envelope/llm-history`, which replaces
`envelope/full-history` by providing the full history appropriate for
the LLM (instead of the full ""internal"" history for our own use).",johnswanson,2024-12-20 21:18:15+00:00,['johnswanson'],2025-01-21 18:11:07+00:00,2025-01-21 18:11:05+00:00,https://github.com/metabase/metabase/pull/51599,"[('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2604858129, 'issue_id': 2753495465, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/101084_tests-953c9b42-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51599?repo=metabase/metabase&commitHash=953c9b428bdeebdd50e085bea1974d3589679e6d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/129-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51599?repo=metabase/metabase&commitHash=953c9b428bdeebdd50e085bea1974d3589679e6d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51599?repo=metabase/metabase&commitHash=953c9b428bdeebdd50e085bea1974d3589679e6d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51599?repo=metabase/metabase&commitHash=953c9b428bdeebdd50e085bea1974d3589679e6d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>correct-column-metadata-test-2</code> | Connection to Hive database was refused. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51599?repo=metabase/metabase&commitHash=953c9b428bdeebdd50e085bea1974d3589679e6d&utm_source=gh-comment&runConclusion=FAILURE&runId=40cec3bc-c1dc-5630-8214-3c362e8f3aa5) |\n| <code>datetime-field-literals-in-filters-and-breakouts-test</code> | Failed to acquire a new resource from the database, possibly due to the factory or source being down. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51599?repo=metabase/metabase&commitHash=953c9b428bdeebdd50e085bea1974d3589679e6d&utm_source=gh-comment&runConclusion=FAILURE&runId=b63f61dd-60e3-543a-9169-709156fe5f30) |\n| <code>ids-e2e-test</code> | Connection to Hive database was refused. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51599?repo=metabase/metabase&commitHash=953c9b428bdeebdd50e085bea1974d3589679e6d&utm_source=gh-comment&runConclusion=FAILURE&runId=b4bd6b5b-3655-5fc1-96c5-1677ee77cdec) |\n| <code>legacy-query-normalization-test</code> | Connection to Hive database was refused. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51599?repo=metabase/metabase&commitHash=953c9b428bdeebdd50e085bea1974d3589679e6d&utm_source=gh-comment&runConclusion=FAILURE&runId=30af9722-2149-5d63-b195-26620a0194a7) |\n\n[... and 125 more](https://app.trunk.io/metabase/flaky-tests/pr/51599?repo=metabase/metabase&commitHash=953c9b428bdeebdd50e085bea1974d3589679e6d&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution for the test case. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51599?repo=metabase/metabase&commitHash=953c9b428bdeebdd50e085bea1974d3589679e6d&utm_source=gh-comment&runConclusion=FAILURE&runId=4e54d8a9-2893-5b8d-8a3c-7bf28350e37b) |\n| <code>filter-test</code> | Connection to database refused due to ""Error destroying database"" with a ""Connection refused"" error. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51599?repo=metabase/metabase&commitHash=953c9b428bdeebdd50e085bea1974d3589679e6d&utm_source=gh-comment&runConclusion=FAILURE&runId=db2937db-74c8-5e6d-8d5b-e60b47b366c8) |\n| <code>result-rows-test</code> | Connection to database refused due to ""Error destroying database"" with a ""Connection refused"" error. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51599?repo=metabase/metabase&commitHash=953c9b428bdeebdd50e085bea1974d3589679e6d&utm_source=gh-comment&runConclusion=FAILURE&runId=eebba983-4f12-5137-aa1f-c45687572006) |\n| <code>general-timezone-support-test</code> | Connection to the database was refused when trying to destroy it. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51599?repo=metabase/metabase&commitHash=953c9b428bdeebdd50e085bea1974d3589679e6d&utm_source=gh-comment&runConclusion=FAILURE&runId=4352e8b0-e79c-51c6-a6cb-8aebb284a299) |\n\n[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/51599?repo=metabase/metabase&commitHash=953c9b428bdeebdd50e085bea1974d3589679e6d&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51599?repo=metabase/metabase&commitHash=953c9b428bdeebdd50e085bea1974d3589679e6d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 1, 21, 14, 16, 50, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-21 14:16:50 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/101084_tests-953c9b42-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51599?repo=metabase/metabase&commitHash=953c9b428bdeebdd50e085bea1974d3589679e6d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/129-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51599?repo=metabase/metabase&commitHash=953c9b428bdeebdd50e085bea1974d3589679e6d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/5-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51599?repo=metabase/metabase&commitHash=953c9b428bdeebdd50e085bea1974d3589679e6d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51599?repo=metabase/metabase&commitHash=953c9b428bdeebdd50e085bea1974d3589679e6d&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>correct-column-metadata-test-2</code> | Connection to Hive database was refused. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51599?repo=metabase/metabase&commitHash=953c9b428bdeebdd50e085bea1974d3589679e6d&utm_source=gh-comment&runConclusion=FAILURE&runId=40cec3bc-c1dc-5630-8214-3c362e8f3aa5) |
| <code>datetime-field-literals-in-filters-and-breakouts-test</code> | Failed to acquire a new resource from the database, possibly due to the factory or source being down. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51599?repo=metabase/metabase&commitHash=953c9b428bdeebdd50e085bea1974d3589679e6d&utm_source=gh-comment&runConclusion=FAILURE&runId=b63f61dd-60e3-543a-9169-709156fe5f30) |
| <code>ids-e2e-test</code> | Connection to Hive database was refused. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51599?repo=metabase/metabase&commitHash=953c9b428bdeebdd50e085bea1974d3589679e6d&utm_source=gh-comment&runConclusion=FAILURE&runId=b4bd6b5b-3655-5fc1-96c5-1677ee77cdec) |
| <code>legacy-query-normalization-test</code> | Connection to Hive database was refused. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51599?repo=metabase/metabase&commitHash=953c9b428bdeebdd50e085bea1974d3589679e6d&utm_source=gh-comment&runConclusion=FAILURE&runId=30af9722-2149-5d63-b195-26620a0194a7) |

[... and 125 more](https://app.trunk.io/metabase/flaky-tests/pr/51599?repo=metabase/metabase&commitHash=953c9b428bdeebdd50e085bea1974d3589679e6d&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>date-string->range-spec-test</code> | Shrinking failed to find a satisfying solution for the test case. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51599?repo=metabase/metabase&commitHash=953c9b428bdeebdd50e085bea1974d3589679e6d&utm_source=gh-comment&runConclusion=FAILURE&runId=4e54d8a9-2893-5b8d-8a3c-7bf28350e37b) |
| <code>filter-test</code> | Connection to database refused due to ""Error destroying database"" with a ""Connection refused"" error. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51599?repo=metabase/metabase&commitHash=953c9b428bdeebdd50e085bea1974d3589679e6d&utm_source=gh-comment&runConclusion=FAILURE&runId=db2937db-74c8-5e6d-8d5b-e60b47b366c8) |
| <code>result-rows-test</code> | Connection to database refused due to ""Error destroying database"" with a ""Connection refused"" error. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51599?repo=metabase/metabase&commitHash=953c9b428bdeebdd50e085bea1974d3589679e6d&utm_source=gh-comment&runConclusion=FAILURE&runId=eebba983-4f12-5137-aa1f-c45687572006) |
| <code>general-timezone-support-test</code> | Connection to the database was refused when trying to destroy it. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51599?repo=metabase/metabase&commitHash=953c9b428bdeebdd50e085bea1974d3589679e6d&utm_source=gh-comment&runConclusion=FAILURE&runId=4352e8b0-e79c-51c6-a6cb-8aebb284a299) |

[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/51599?repo=metabase/metabase&commitHash=953c9b428bdeebdd50e085bea1974d3589679e6d&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51599?repo=metabase/metabase&commitHash=953c9b428bdeebdd50e085bea1974d3589679e6d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2753483876,pull_request,closed,,chore: drop unused emotion components,"### Description

followup of https://github.com/metabase/metabase/pull/51574

removes unused emotion components + unused exports of the interfaces",uladzimirdev,2024-12-20 21:07:03+00:00,['uladzimirdev'],2025-01-27 22:12:48+00:00,2024-12-23 10:59:32+00:00,https://github.com/metabase/metabase/pull/51598,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2557718861, 'issue_id': 2753483876, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 5583a5c29aea21de5cd10691f73c5d1cde323ef6...53b64d6aaab34ab8f2e37c5e448210e0dc322626.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettingsWidgetPopover.styled.tsx<br>frontend/src/metabase/visualizations/components/ClickActions/ClickActionsPopover.styled.tsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetailsTable.styled.tsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectRelationships.styled.tsx<br>frontend/src/metabase/visualizations/components/Visualization/Visualization.styled.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingFieldPicker.styled.tsx<br>frontend/src/metabase/visualizations/components/skeletons/ChartSkeleton/ChartSkeleton.styled.tsx<br>frontend/src/metabase/visualizations/components/skeletons/SkeletonCaption/SkeletonCaption.styled.tsx<br>frontend/src/metabase/visualizations/visualizations/Gauge/Gauge.styled.tsx<br>frontend/src/metabase/visualizations/visualizations/IFrameViz/IFrameViz.styled.tsx<br>frontend/src/metabase/visualizations/visualizations/LinkViz/LinkViz.styled.tsx<br>frontend/src/metabase/visualizations/visualizations/Scalar/Scalar.styled.tsx |', 'created_at': datetime.datetime(2024, 12, 20, 21, 8, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2557771897, 'issue_id': 2753483876, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/90291_tests-53b64d6a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51598?repo=metabase/metabase&commitHash=53b64d6aaab34ab8f2e37c5e448210e0dc322626&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51598?repo=metabase/metabase&commitHash=53b64d6aaab34ab8f2e37c5e448210e0dc322626&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51598?repo=metabase/metabase&commitHash=53b64d6aaab34ab8f2e37c5e448210e0dc322626&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51598?repo=metabase/metabase&commitHash=53b64d6aaab34ab8f2e37c5e448210e0dc322626&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native can save a question with no rows</code> | The test timed out waiting for the expected content 'No results!' to appear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51598?repo=metabase/metabase&commitHash=53b64d6aaab34ab8f2e37c5e448210e0dc322626&utm_source=gh-comment&runConclusion=FAILURE&runId=9bff74f4-fee8-5b51-9a9c-ac3619305dac) |\n| <code>scenarios > question > native should be able to add new columns after hiding some (metabase\\#15393)</code> | The test timed out waiting for the element with class 'emotion-hvo6ii' to contain the text '/hidden/i'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51598?repo=metabase/metabase&commitHash=53b64d6aaab34ab8f2e37c5e448210e0dc322626&utm_source=gh-comment&runConclusion=FAILURE&runId=fcc33ced-91c9-5dad-a540-aab297014dd4) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51598?repo=metabase/metabase&commitHash=53b64d6aaab34ab8f2e37c5e448210e0dc322626&utm_source=gh-comment&runConclusion=FAILURE&runId=441dd03e-edad-5ee8-b42c-f4bcccf5e627) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51598?repo=metabase/metabase&commitHash=53b64d6aaab34ab8f2e37c5e448210e0dc322626&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 20, 22, 1, 26, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-12-20 21:08:36 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 5583a5c29aea21de5cd10691f73c5d1cde323ef6...53b64d6aaab34ab8f2e37c5e448210e0dc322626.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettingsWidgetPopover.styled.tsx<br>frontend/src/metabase/visualizations/components/ClickActions/ClickActionsPopover.styled.tsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetailsTable.styled.tsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectRelationships.styled.tsx<br>frontend/src/metabase/visualizations/components/Visualization/Visualization.styled.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingFieldPicker.styled.tsx<br>frontend/src/metabase/visualizations/components/skeletons/ChartSkeleton/ChartSkeleton.styled.tsx<br>frontend/src/metabase/visualizations/components/skeletons/SkeletonCaption/SkeletonCaption.styled.tsx<br>frontend/src/metabase/visualizations/visualizations/Gauge/Gauge.styled.tsx<br>frontend/src/metabase/visualizations/visualizations/IFrameViz/IFrameViz.styled.tsx<br>frontend/src/metabase/visualizations/visualizations/LinkViz/LinkViz.styled.tsx<br>frontend/src/metabase/visualizations/visualizations/Scalar/Scalar.styled.tsx |

trunk-io[bot] on (2024-12-20 22:01:26 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/90291_tests-53b64d6a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51598?repo=metabase/metabase&commitHash=53b64d6aaab34ab8f2e37c5e448210e0dc322626&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51598?repo=metabase/metabase&commitHash=53b64d6aaab34ab8f2e37c5e448210e0dc322626&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51598?repo=metabase/metabase&commitHash=53b64d6aaab34ab8f2e37c5e448210e0dc322626&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51598?repo=metabase/metabase&commitHash=53b64d6aaab34ab8f2e37c5e448210e0dc322626&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native can save a question with no rows</code> | The test timed out waiting for the expected content 'No results!' to appear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51598?repo=metabase/metabase&commitHash=53b64d6aaab34ab8f2e37c5e448210e0dc322626&utm_source=gh-comment&runConclusion=FAILURE&runId=9bff74f4-fee8-5b51-9a9c-ac3619305dac) |
| <code>scenarios > question > native should be able to add new columns after hiding some (metabase\#15393)</code> | The test timed out waiting for the element with class 'emotion-hvo6ii' to contain the text '/hidden/i'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51598?repo=metabase/metabase&commitHash=53b64d6aaab34ab8f2e37c5e448210e0dc322626&utm_source=gh-comment&runConclusion=FAILURE&runId=fcc33ced-91c9-5dad-a540-aab297014dd4) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51598?repo=metabase/metabase&commitHash=53b64d6aaab34ab8f2e37c5e448210e0dc322626&utm_source=gh-comment&runConclusion=FAILURE&runId=441dd03e-edad-5ee8-b42c-f4bcccf5e627) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51598?repo=metabase/metabase&commitHash=53b64d6aaab34ab8f2e37c5e448210e0dc322626&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2753433350,pull_request,closed,,"ü§ñ backported ""ci: Fix be-tests stub""",#51545,github-automation-metabase,2024-12-20 20:20:48+00:00,"['alexander-yakushev', 'github-automation-metabase']",2024-12-20 21:48:10+00:00,2024-12-20 20:51:55+00:00,https://github.com/metabase/metabase/pull/51597,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2557700102, 'issue_id': 2753433350, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/116660_tests-6ebf706f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51597?repo=metabase/metabase&commitHash=6ebf706f918ac80c7b66b0c33d717564e4b657f2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51597?repo=metabase/metabase&commitHash=6ebf706f918ac80c7b66b0c33d717564e4b657f2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51597?repo=metabase/metabase&commitHash=6ebf706f918ac80c7b66b0c33d717564e4b657f2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51597?repo=metabase/metabase&commitHash=6ebf706f918ac80c7b66b0c33d717564e4b657f2&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, but expected stage numbers. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51597?repo=metabase/metabase&commitHash=6ebf706f918ac80c7b66b0c33d717564e4b657f2&utm_source=gh-comment&runConclusion=FAILURE&runId=4a9d80cb-5c81-5c2a-9339-712d47b04178) |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, which is expected to have stage numbers. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51597?repo=metabase/metabase&commitHash=6ebf706f918ac80c7b66b0c33d717564e4b657f2&utm_source=gh-comment&runConclusion=FAILURE&runId=a332087d-100d-5229-bddd-6663ac4335bc) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51597?repo=metabase/metabase&commitHash=6ebf706f918ac80c7b66b0c33d717564e4b657f2&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 20, 20, 51, 8, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-20 20:51:08 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/116660_tests-6ebf706f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51597?repo=metabase/metabase&commitHash=6ebf706f918ac80c7b66b0c33d717564e4b657f2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51597?repo=metabase/metabase&commitHash=6ebf706f918ac80c7b66b0c33d717564e4b657f2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51597?repo=metabase/metabase&commitHash=6ebf706f918ac80c7b66b0c33d717564e4b657f2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51597?repo=metabase/metabase&commitHash=6ebf706f918ac80c7b66b0c33d717564e4b657f2&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, but expected stage numbers. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51597?repo=metabase/metabase&commitHash=6ebf706f918ac80c7b66b0c33d717564e4b657f2&utm_source=gh-comment&runConclusion=FAILURE&runId=4a9d80cb-5c81-5c2a-9339-712d47b04178) |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, which is expected to have stage numbers. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51597?repo=metabase/metabase&commitHash=6ebf706f918ac80c7b66b0c33d717564e4b657f2&utm_source=gh-comment&runConclusion=FAILURE&runId=a332087d-100d-5229-bddd-6663ac4335bc) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51597?repo=metabase/metabase&commitHash=6ebf706f918ac80c7b66b0c33d717564e4b657f2&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2753422893,pull_request,closed,,Replace old DatePicker in dashboard & search parameters,"https://github.com/metabase/metabase/issues/50477

Replaces the old DatePicker in parameters with a modern version from the query builder. There should be no UX changes apart from more ""modern"" components. 

How to verify dashboards:
- Add `Date` -> `All Options` parameter and connect it to a card
- Try to set all possible date filters
- Note that `Is empty` and `Not empty` operators are disabled for dashboards

<img width=""657"" alt=""Screenshot 2024-12-23 at 10 18 34"" src=""https://github.com/user-attachments/assets/70cb98a7-be31-433b-9078-c42f26b88545"" />
<img width=""678"" alt=""Screenshot 2024-12-23 at 10 18 42"" src=""https://github.com/user-attachments/assets/90ad1477-8a8b-427d-815a-9be04cd360ce"" />


How to verify search:
- Search -> View results
- Use date filters on the right
- All date picker options should work
- Note that `Exclude` date filters are disabled for search

<img width=""1728"" alt=""Screenshot 2024-12-20 at 18 25 45"" src=""https://github.com/user-attachments/assets/3d88408f-5e51-48a0-8e24-89c4087a4c2c"" />
<img width=""362"" alt=""Screenshot 2024-12-20 at 18 27 05"" src=""https://github.com/user-attachments/assets/93f785ca-2ac8-4a15-b86f-ff23feeff227"" />
",ranquild,2024-12-20 20:12:21+00:00,['ranquild'],2025-01-27 22:12:45+00:00,2024-12-23 22:09:21+00:00,https://github.com/metabase/metabase/pull/51596,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2557733953, 'issue_id': 2753422893, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/52022_tests-96a6561a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51596?repo=metabase/metabase&commitHash=96a6561a0fbd5cf6111979fe8b7e890a7b16a413&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51596?repo=metabase/metabase&commitHash=96a6561a0fbd5cf6111979fe8b7e890a7b16a413&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51596?repo=metabase/metabase&commitHash=96a6561a0fbd5cf6111979fe8b7e890a7b16a413&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51596?repo=metabase/metabase&commitHash=96a6561a0fbd5cf6111979fe8b7e890a7b16a413&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51596?repo=metabase/metabase&commitHash=96a6561a0fbd5cf6111979fe8b7e890a7b16a413&utm_source=gh-comment&runConclusion=FAILURE&runId=10efa80b-8301-56d5-8b54-de87bf78f3d1) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51596?repo=metabase/metabase&commitHash=96a6561a0fbd5cf6111979fe8b7e890a7b16a413&utm_source=gh-comment&runConclusion=FAILURE&runId=cce47859-9bde-531e-a42f-be518d9950d3) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51596?repo=metabase/metabase&commitHash=96a6561a0fbd5cf6111979fe8b7e890a7b16a413&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 20, 21, 22, 48, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-20 21:22:48 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/52022_tests-96a6561a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51596?repo=metabase/metabase&commitHash=96a6561a0fbd5cf6111979fe8b7e890a7b16a413&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51596?repo=metabase/metabase&commitHash=96a6561a0fbd5cf6111979fe8b7e890a7b16a413&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51596?repo=metabase/metabase&commitHash=96a6561a0fbd5cf6111979fe8b7e890a7b16a413&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51596?repo=metabase/metabase&commitHash=96a6561a0fbd5cf6111979fe8b7e890a7b16a413&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51596?repo=metabase/metabase&commitHash=96a6561a0fbd5cf6111979fe8b7e890a7b16a413&utm_source=gh-comment&runConclusion=FAILURE&runId=10efa80b-8301-56d5-8b54-de87bf78f3d1) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51596?repo=metabase/metabase&commitHash=96a6561a0fbd5cf6111979fe8b7e890a7b16a413&utm_source=gh-comment&runConclusion=FAILURE&runId=cce47859-9bde-531e-a42f-be518d9950d3) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51596?repo=metabase/metabase&commitHash=96a6561a0fbd5cf6111979fe8b7e890a7b16a413&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2753409411,pull_request,closed,,[DO NOT MERGE] Add M2M Oauth to Databricks Driver,Mirror for external contribution #51476.,lbrdnk,2024-12-20 20:00:39+00:00,['lbrdnk'],2024-12-30 17:57:37+00:00,2024-12-30 17:57:37+00:00,https://github.com/metabase/metabase/pull/51595,"[('.Team/Querying', '')]","[{'comment_id': 2557698950, 'issue_id': 2753409411, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/121947_tests-add12df7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51595?repo=metabase/metabase&commitHash=add12df70b863da751d07bb915d9573e377b8105&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51595?repo=metabase/metabase&commitHash=add12df70b863da751d07bb915d9573e377b8105&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51595?repo=metabase/metabase&commitHash=add12df70b863da751d07bb915d9573e377b8105&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51595?repo=metabase/metabase&commitHash=add12df70b863da751d07bb915d9573e377b8105&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>question loading changes document title should verify document title changes while loading a slow question (metabase\\#40051)</code> | The expected text 'Doing science... ¬∑ Metabase' was not displayed within 4000ms, causing a timeout. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51595?repo=metabase/metabase&commitHash=add12df70b863da751d07bb915d9573e377b8105&utm_source=gh-comment&runConclusion=FAILURE&runId=453270ae-d637-5714-89dd-d2caab4ad0e7) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51595?repo=metabase/metabase&commitHash=add12df70b863da751d07bb915d9573e377b8105&utm_source=gh-comment&runConclusion=FAILURE&runId=0652809d-cade-500f-9175-26bcc273a49e) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51595?repo=metabase/metabase&commitHash=add12df70b863da751d07bb915d9573e377b8105&utm_source=gh-comment&runConclusion=FAILURE&runId=167c8c00-4bc1-5b3f-adff-d8b16efe7f97) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51595?repo=metabase/metabase&commitHash=add12df70b863da751d07bb915d9573e377b8105&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 20, 20, 50, 2, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-20 20:50:02 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/121947_tests-add12df7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51595?repo=metabase/metabase&commitHash=add12df70b863da751d07bb915d9573e377b8105&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51595?repo=metabase/metabase&commitHash=add12df70b863da751d07bb915d9573e377b8105&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51595?repo=metabase/metabase&commitHash=add12df70b863da751d07bb915d9573e377b8105&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51595?repo=metabase/metabase&commitHash=add12df70b863da751d07bb915d9573e377b8105&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>question loading changes document title should verify document title changes while loading a slow question (metabase\#40051)</code> | The expected text 'Doing science... ¬∑ Metabase' was not displayed within 4000ms, causing a timeout. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51595?repo=metabase/metabase&commitHash=add12df70b863da751d07bb915d9573e377b8105&utm_source=gh-comment&runConclusion=FAILURE&runId=453270ae-d637-5714-89dd-d2caab4ad0e7) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51595?repo=metabase/metabase&commitHash=add12df70b863da751d07bb915d9573e377b8105&utm_source=gh-comment&runConclusion=FAILURE&runId=0652809d-cade-500f-9175-26bcc273a49e) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51595?repo=metabase/metabase&commitHash=add12df70b863da751d07bb915d9573e377b8105&utm_source=gh-comment&runConclusion=FAILURE&runId=167c8c00-4bc1-5b3f-adff-d8b16efe7f97) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51595?repo=metabase/metabase&commitHash=add12df70b863da751d07bb915d9573e377b8105&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2753399652,pull_request,closed,,"ü§ñ backported ""Add debug logging for chain filter query""",#51481,github-automation-metabase,2024-12-20 19:52:17+00:00,"['lbrdnk', 'github-automation-metabase']",2024-12-20 21:15:00+00:00,2024-12-20 20:32:56+00:00,https://github.com/metabase/metabase/pull/51594,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2557668313, 'issue_id': 2753399652, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/98879_tests-664b0904-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51594?repo=metabase/metabase&commitHash=664b090489c97b42a4d06be47288380ccfbfaecb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51594?repo=metabase/metabase&commitHash=664b090489c97b42a4d06be47288380ccfbfaecb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51594?repo=metabase/metabase&commitHash=664b090489c97b42a4d06be47288380ccfbfaecb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51594?repo=metabase/metabase&commitHash=664b090489c97b42a4d06be47288380ccfbfaecb&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51594?repo=metabase/metabase&commitHash=664b090489c97b42a4d06be47288380ccfbfaecb&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 20, 20, 21, 31, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-20 20:21:31 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/98879_tests-664b0904-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51594?repo=metabase/metabase&commitHash=664b090489c97b42a4d06be47288380ccfbfaecb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51594?repo=metabase/metabase&commitHash=664b090489c97b42a4d06be47288380ccfbfaecb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51594?repo=metabase/metabase&commitHash=664b090489c97b42a4d06be47288380ccfbfaecb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51594?repo=metabase/metabase&commitHash=664b090489c97b42a4d06be47288380ccfbfaecb&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51594?repo=metabase/metabase&commitHash=664b090489c97b42a4d06be47288380ccfbfaecb&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2753399324,pull_request,closed,,"ü§ñ backported ""Add description to metric API responses""",#51448,github-automation-metabase,2024-12-20 19:52:02+00:00,"['lbrdnk', 'github-automation-metabase']",2024-12-20 21:26:21+00:00,2024-12-20 20:34:54+00:00,https://github.com/metabase/metabase/pull/51593,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2557670268, 'issue_id': 2753399324, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/81979_tests-0ee2fc78-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51593?repo=metabase/metabase&commitHash=0ee2fc7872ed4ce950d11f6177ae4f59edee8a36&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51593?repo=metabase/metabase&commitHash=0ee2fc7872ed4ce950d11f6177ae4f59edee8a36&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51593?repo=metabase/metabase&commitHash=0ee2fc7872ed4ce950d11f6177ae4f59edee8a36&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51593?repo=metabase/metabase&commitHash=0ee2fc7872ed4ce950d11f6177ae4f59edee8a36&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51593?repo=metabase/metabase&commitHash=0ee2fc7872ed4ce950d11f6177ae4f59edee8a36&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 20, 20, 23, 8, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-20 20:23:08 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/81979_tests-0ee2fc78-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51593?repo=metabase/metabase&commitHash=0ee2fc7872ed4ce950d11f6177ae4f59edee8a36&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51593?repo=metabase/metabase&commitHash=0ee2fc7872ed4ce950d11f6177ae4f59edee8a36&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51593?repo=metabase/metabase&commitHash=0ee2fc7872ed4ce950d11f6177ae4f59edee8a36&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51593?repo=metabase/metabase&commitHash=0ee2fc7872ed4ce950d11f6177ae4f59edee8a36&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51593?repo=metabase/metabase&commitHash=0ee2fc7872ed4ce950d11f6177ae4f59edee8a36&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2753392998,pull_request,closed,,"ü§ñ backported ""[Cmd Palette] Do not show admin and settings links to users who do not have access""",#50887,github-automation-metabase,2024-12-20 19:46:34+00:00,"['npfitz', 'github-automation-metabase']",2024-12-20 21:01:37+00:00,2024-12-20 20:28:01+00:00,https://github.com/metabase/metabase/pull/51592,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2557680385, 'issue_id': 2753392998, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/21673_tests-4c49a6fa-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51592?repo=metabase/metabase&commitHash=4c49a6faec167e7121762121b8e1ce3a9718541a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51592?repo=metabase/metabase&commitHash=4c49a6faec167e7121762121b8e1ce3a9718541a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51592?repo=metabase/metabase&commitHash=4c49a6faec167e7121762121b8e1ce3a9718541a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51592?repo=metabase/metabase&commitHash=4c49a6faec167e7121762121b8e1ce3a9718541a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51592?repo=metabase/metabase&commitHash=4c49a6faec167e7121762121b8e1ce3a9718541a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 20, 20, 32, 11, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-20 20:32:11 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/21673_tests-4c49a6fa-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51592?repo=metabase/metabase&commitHash=4c49a6faec167e7121762121b8e1ce3a9718541a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51592?repo=metabase/metabase&commitHash=4c49a6faec167e7121762121b8e1ce3a9718541a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51592?repo=metabase/metabase&commitHash=4c49a6faec167e7121762121b8e1ce3a9718541a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51592?repo=metabase/metabase&commitHash=4c49a6faec167e7121762121b8e1ce3a9718541a&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51592?repo=metabase/metabase&commitHash=4c49a6faec167e7121762121b8e1ce3a9718541a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2753329475,pull_request,closed,,chore: remove not used index files,"### Description

followup of https://github.com/metabase/metabase/pull/51574 - drops unused index files",uladzimirdev,2024-12-20 19:07:49+00:00,['uladzimirdev'],2025-01-27 22:12:49+00:00,2024-12-23 10:59:19+00:00,https://github.com/metabase/metabase/pull/51591,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2557574730, 'issue_id': 2753329475, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 5583a5c29aea21de5cd10691f73c5d1cde323ef6...2bac4faa4757635c65e963fea89aada470db6efd.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/TableInteractive/index.ts<br>frontend/src/metabase/visualizations/shared/components/VerticalGoalLine/index.ts |', 'created_at': datetime.datetime(2024, 12, 20, 19, 9, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2557628384, 'issue_id': 2753329475, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13011_tests-2bac4faa-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51591?repo=metabase/metabase&commitHash=2bac4faa4757635c65e963fea89aada470db6efd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51591?repo=metabase/metabase&commitHash=2bac4faa4757635c65e963fea89aada470db6efd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51591?repo=metabase/metabase&commitHash=2bac4faa4757635c65e963fea89aada470db6efd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51591?repo=metabase/metabase&commitHash=2bac4faa4757635c65e963fea89aada470db6efd&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51591?repo=metabase/metabase&commitHash=2bac4faa4757635c65e963fea89aada470db6efd&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 20, 19, 48, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2557741406, 'issue_id': 2753329475, 'author': 'rafpaf', 'body': 'üíò', 'created_at': datetime.datetime(2024, 12, 20, 21, 30, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2558751661, 'issue_id': 2753329475, 'author': 'romeovs', 'body': 'Is there a way we can incorporate this into our lint/build checks?', 'created_at': datetime.datetime(2024, 12, 23, 1, 56, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2559447528, 'issue_id': 2753329475, 'author': 'uladzimirdev', 'body': ""@romeovs yes, there are rules, but it's not a general rule atm, I just removed index files which weren't used at all"", 'created_at': datetime.datetime(2024, 12, 23, 10, 59, 13, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-12-20 19:09:19 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 5583a5c29aea21de5cd10691f73c5d1cde323ef6...2bac4faa4757635c65e963fea89aada470db6efd.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/TableInteractive/index.ts<br>frontend/src/metabase/visualizations/shared/components/VerticalGoalLine/index.ts |

trunk-io[bot] on (2024-12-20 19:48:49 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13011_tests-2bac4faa-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51591?repo=metabase/metabase&commitHash=2bac4faa4757635c65e963fea89aada470db6efd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51591?repo=metabase/metabase&commitHash=2bac4faa4757635c65e963fea89aada470db6efd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51591?repo=metabase/metabase&commitHash=2bac4faa4757635c65e963fea89aada470db6efd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51591?repo=metabase/metabase&commitHash=2bac4faa4757635c65e963fea89aada470db6efd&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51591?repo=metabase/metabase&commitHash=2bac4faa4757635c65e963fea89aada470db6efd&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

rafpaf on (2024-12-20 21:30:07 UTC): üíò

romeovs on (2024-12-23 01:56:31 UTC): Is there a way we can incorporate this into our lint/build checks?

uladzimirdev (Issue Creator) on (2024-12-23 10:59:13 UTC): @romeovs yes, there are rules, but it's not a general rule atm, I just removed index files which weren't used at all

"
2753246614,pull_request,closed,,clean up the cleanup tests,"### Description

Adds assertions that items have actually been moved before we assert on the shape of the post-move UI


Stress Test: 
:x: https://github.com/metabase/metabase/actions/runs/12436468429/job/34724367808
ü§û https://github.com/metabase/metabase/actions/runs/12439068706",iethree,2024-12-20 18:20:38+00:00,['iethree'],2025-01-06 15:07:04+00:00,2025-01-06 15:07:04+00:00,https://github.com/metabase/metabase/pull/51590,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('flaky-test-fix', ''), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2557590893, 'issue_id': 2753246614, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3425_tests-a02b4549-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51590?repo=metabase/metabase&commitHash=a02b4549dfa64165c893b76e110a89ce7b06c912&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51590?repo=metabase/metabase&commitHash=a02b4549dfa64165c893b76e110a89ce7b06c912&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51590?repo=metabase/metabase&commitHash=a02b4549dfa64165c893b76e110a89ce7b06c912&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51590?repo=metabase/metabase&commitHash=a02b4549dfa64165c893b76e110a89ce7b06c912&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51590?repo=metabase/metabase&commitHash=a02b4549dfa64165c893b76e110a89ce7b06c912&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 20, 19, 20, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2573304468, 'issue_id': 2753246614, 'author': 'iethree', 'body': ""didn't work, stopped flaking. üôÉ  ü§∑  üò´"", 'created_at': datetime.datetime(2025, 1, 6, 15, 7, 4, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-20 19:20:23 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3425_tests-a02b4549-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51590?repo=metabase/metabase&commitHash=a02b4549dfa64165c893b76e110a89ce7b06c912&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51590?repo=metabase/metabase&commitHash=a02b4549dfa64165c893b76e110a89ce7b06c912&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51590?repo=metabase/metabase&commitHash=a02b4549dfa64165c893b76e110a89ce7b06c912&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51590?repo=metabase/metabase&commitHash=a02b4549dfa64165c893b76e110a89ce7b06c912&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51590?repo=metabase/metabase&commitHash=a02b4549dfa64165c893b76e110a89ce7b06c912&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

iethree (Issue Creator) on (2025-01-06 15:07:04 UTC): didn't work, stopped flaking. üôÉ  ü§∑  üò´

"
2753212887,pull_request,closed,,[serdes] extract tabId in click_behavior,"also, somewhat relatedly, create `elide-fk` function to skip pieces of data holding FKs to deleted targets

fixes #51018",piranha,2024-12-20 17:58:56+00:00,['piranha'],2024-12-21 10:41:09+00:00,2024-12-21 10:07:24+00:00,https://github.com/metabase/metabase/pull/51588,"[('Operation/Serialization', 'Enterprise contents migration'), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2557572465, 'issue_id': 2753212887, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/132904_tests-f3c9a221-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51588?repo=metabase/metabase&commitHash=f3c9a2215e3a7808192059cd9ff13a71aa6fc4f7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51588?repo=metabase/metabase&commitHash=f3c9a2215e3a7808192059cd9ff13a71aa6fc4f7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51588?repo=metabase/metabase&commitHash=f3c9a2215e3a7808192059cd9ff13a71aa6fc4f7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51588?repo=metabase/metabase&commitHash=f3c9a2215e3a7808192059cd9ff13a71aa6fc4f7&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>revisions-can-be-created-concurrently</code> | The count of Revisions did not match the expected value, with 2 actual and 3 expected. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51588?repo=metabase/metabase&commitHash=f3c9a2215e3a7808192059cd9ff13a71aa6fc4f7&utm_source=gh-comment&runConclusion=FAILURE&runId=8006665a-fd8f-54d9-8d5f-2d108e0d319d) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51588?repo=metabase/metabase&commitHash=f3c9a2215e3a7808192059cd9ff13a71aa6fc4f7&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 20, 19, 7, 24, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-20 19:07:24 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/132904_tests-f3c9a221-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51588?repo=metabase/metabase&commitHash=f3c9a2215e3a7808192059cd9ff13a71aa6fc4f7&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51588?repo=metabase/metabase&commitHash=f3c9a2215e3a7808192059cd9ff13a71aa6fc4f7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51588?repo=metabase/metabase&commitHash=f3c9a2215e3a7808192059cd9ff13a71aa6fc4f7&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51588?repo=metabase/metabase&commitHash=f3c9a2215e3a7808192059cd9ff13a71aa6fc4f7&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>revisions-can-be-created-concurrently</code> | The count of Revisions did not match the expected value, with 2 actual and 3 expected. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51588?repo=metabase/metabase&commitHash=f3c9a2215e3a7808192059cd9ff13a71aa6fc4f7&utm_source=gh-comment&runConclusion=FAILURE&runId=8006665a-fd8f-54d9-8d5f-2d108e0d319d) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51588?repo=metabase/metabase&commitHash=f3c9a2215e3a7808192059cd9ff13a71aa6fc4f7&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2753189137,pull_request,closed,,Date picker cleanup for parameter changes,"Changes:
- Moves `DatePicker` types to `metabase/querying/filters/types` (i.e. top-level) because they would need to be re-used by another module. Same with relevant utils.
- Removes a flag to disable relative datetime filters with offset. Now every date picker usage supports offsets.",ranquild,2024-12-20 17:42:20+00:00,['ranquild'],2025-01-27 22:12:53+00:00,2024-12-20 18:45:31+00:00,https://github.com/metabase/metabase/pull/51587,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2557510185, 'issue_id': 2753189137, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51620_tests-698882d3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51587?repo=metabase/metabase&commitHash=698882d3702829b6e32685acf47d41871617edc5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51587?repo=metabase/metabase&commitHash=698882d3702829b6e32685acf47d41871617edc5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51587?repo=metabase/metabase&commitHash=698882d3702829b6e32685acf47d41871617edc5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51587?repo=metabase/metabase&commitHash=698882d3702829b6e32685acf47d41871617edc5&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51587?repo=metabase/metabase&commitHash=698882d3702829b6e32685acf47d41871617edc5&utm_source=gh-comment&runConclusion=FAILURE&runId=c74079c3-8357-5ca1-8550-13a15216132e) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51587?repo=metabase/metabase&commitHash=698882d3702829b6e32685acf47d41871617edc5&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 20, 18, 22, 56, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-20 18:22:56 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51620_tests-698882d3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51587?repo=metabase/metabase&commitHash=698882d3702829b6e32685acf47d41871617edc5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51587?repo=metabase/metabase&commitHash=698882d3702829b6e32685acf47d41871617edc5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51587?repo=metabase/metabase&commitHash=698882d3702829b6e32685acf47d41871617edc5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51587?repo=metabase/metabase&commitHash=698882d3702829b6e32685acf47d41871617edc5&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51587?repo=metabase/metabase&commitHash=698882d3702829b6e32685acf47d41871617edc5&utm_source=gh-comment&runConclusion=FAILURE&runId=c74079c3-8357-5ca1-8550-13a15216132e) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51587?repo=metabase/metabase&commitHash=698882d3702829b6e32685acf47d41871617edc5&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2753154484,pull_request,closed,,"ü§ñ backported ""Minor refactoring of cancellation-related code""",#49815,github-automation-metabase,2024-12-20 17:23:47+00:00,"['alexander-yakushev', 'github-automation-metabase']",2024-12-20 19:10:28+00:00,2024-12-20 18:32:02+00:00,https://github.com/metabase/metabase/pull/51586,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2557506685, 'issue_id': 2753154484, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/121979_tests-5c90fef7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51586?repo=metabase/metabase&commitHash=5c90fef726eaf2323957c69326f3d216bcaaff81&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51586?repo=metabase/metabase&commitHash=5c90fef726eaf2323957c69326f3d216bcaaff81&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51586?repo=metabase/metabase&commitHash=5c90fef726eaf2323957c69326f3d216bcaaff81&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51586?repo=metabase/metabase&commitHash=5c90fef726eaf2323957c69326f3d216bcaaff81&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 29786 should allow using field filters with null schema (metabase\\#29786)</code> | The \\`cy.click()\\` command failed because the button is disabled. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51586?repo=metabase/metabase&commitHash=5c90fef726eaf2323957c69326f3d216bcaaff81&utm_source=gh-comment&runConclusion=FAILURE&runId=e5f73e5b-390a-52f8-a1ae-9ed506a027b3) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:329:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\\#'sync.fingerprint/max-refingerprint-field... | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51586?repo=metabase/metabase&commitHash=5c90fef726eaf2323957c69326f3d216bcaaff81&utm_source=gh-comment&runConclusion=FAILURE&runId=3b225499-0328-59e8-b0a2-458d41a3185a) |\n| <code>describe-view-fields</code> | The expected non-view fields did not match the actual non-view fields. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51586?repo=metabase/metabase&commitHash=5c90fef726eaf2323957c69326f3d216bcaaff81&utm_source=gh-comment&runConclusion=FAILURE&runId=cb451d65-48b4-5273-9d31-cb889ab32753) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51586?repo=metabase/metabase&commitHash=5c90fef726eaf2323957c69326f3d216bcaaff81&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 20, 18, 20, 51, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-20 18:20:51 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/121979_tests-5c90fef7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51586?repo=metabase/metabase&commitHash=5c90fef726eaf2323957c69326f3d216bcaaff81&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51586?repo=metabase/metabase&commitHash=5c90fef726eaf2323957c69326f3d216bcaaff81&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51586?repo=metabase/metabase&commitHash=5c90fef726eaf2323957c69326f3d216bcaaff81&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51586?repo=metabase/metabase&commitHash=5c90fef726eaf2323957c69326f3d216bcaaff81&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 29786 should allow using field filters with null schema (metabase\#29786)</code> | The \`cy.click()\` command failed because the button is disabled. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51586?repo=metabase/metabase&commitHash=5c90fef726eaf2323957c69326f3d216bcaaff81&utm_source=gh-comment&runConclusion=FAILURE&runId=e5f73e5b-390a-52f8-a1ae-9ed506a027b3) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:329:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerprint-field... | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51586?repo=metabase/metabase&commitHash=5c90fef726eaf2323957c69326f3d216bcaaff81&utm_source=gh-comment&runConclusion=FAILURE&runId=3b225499-0328-59e8-b0a2-458d41a3185a) |
| <code>describe-view-fields</code> | The expected non-view fields did not match the actual non-view fields. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51586?repo=metabase/metabase&commitHash=5c90fef726eaf2323957c69326f3d216bcaaff81&utm_source=gh-comment&runConclusion=FAILURE&runId=cb451d65-48b4-5273-9d31-cb889ab32753) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51586?repo=metabase/metabase&commitHash=5c90fef726eaf2323957c69326f3d216bcaaff81&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2753145569,pull_request,closed,,docs - note on upgrading to pro,"Reassure people that switching JARs will preserve their work.
",jeff-bruemmer,2024-12-20 17:18:17+00:00,['jeff-bruemmer'],2025-02-05 23:04:21+00:00,2025-02-05 23:02:07+00:00,https://github.com/metabase/metabase/pull/51585,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2753054648,pull_request,closed,,"ü§ñ backported ""ci: Only run driver tests when testing Databricks driver""",#51543,github-automation-metabase,2024-12-20 16:23:58+00:00,"['alexander-yakushev', 'github-automation-metabase']",2024-12-20 17:36:28+00:00,2024-12-20 16:56:52+00:00,https://github.com/metabase/metabase/pull/51584,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2557400226, 'issue_id': 2753054648, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/96784_tests-40420a01-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51584?repo=metabase/metabase&commitHash=40420a0174c79a0d21872baf10a098b9026395ad&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51584?repo=metabase/metabase&commitHash=40420a0174c79a0d21872baf10a098b9026395ad&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51584?repo=metabase/metabase&commitHash=40420a0174c79a0d21872baf10a098b9026395ad&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51584?repo=metabase/metabase&commitHash=40420a0174c79a0d21872baf10a098b9026395ad&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51584?repo=metabase/metabase&commitHash=40420a0174c79a0d21872baf10a098b9026395ad&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 20, 17, 7, 14, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-20 17:07:14 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/96784_tests-40420a01-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51584?repo=metabase/metabase&commitHash=40420a0174c79a0d21872baf10a098b9026395ad&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51584?repo=metabase/metabase&commitHash=40420a0174c79a0d21872baf10a098b9026395ad&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51584?repo=metabase/metabase&commitHash=40420a0174c79a0d21872baf10a098b9026395ad&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51584?repo=metabase/metabase&commitHash=40420a0174c79a0d21872baf10a098b9026395ad&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51584?repo=metabase/metabase&commitHash=40420a0174c79a0d21872baf10a098b9026395ad&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2753011561,pull_request,closed,,split up query stage e2e test file,"
Prep for #51433 (it relies on having no single test file taking 20 minutes to run)

### Description

Instead of having a single 3k LoC test file, that takes 20 minutes to run, extracts these tests to a few separate files and puts shared code into a separate file.

",iethree,2024-12-20 15:57:37+00:00,['iethree'],2025-01-03 17:27:00+00:00,2024-12-31 16:34:09+00:00,https://github.com/metabase/metabase/pull/51583,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2557371343, 'issue_id': 2753011561, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3425_tests-c61d0a0c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51583?repo=metabase/metabase&commitHash=c61d0a0cac6ad5bb47fb696deaa76609df1bc79b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51583?repo=metabase/metabase&commitHash=c61d0a0cac6ad5bb47fb696deaa76609df1bc79b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51583?repo=metabase/metabase&commitHash=c61d0a0cac6ad5bb47fb696deaa76609df1bc79b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51583?repo=metabase/metabase&commitHash=c61d0a0cac6ad5bb47fb696deaa76609df1bc79b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51583?repo=metabase/metabase&commitHash=c61d0a0cac6ad5bb47fb696deaa76609df1bc79b&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 20, 16, 48, 22, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-20 16:48:22 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3425_tests-c61d0a0c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51583?repo=metabase/metabase&commitHash=c61d0a0cac6ad5bb47fb696deaa76609df1bc79b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51583?repo=metabase/metabase&commitHash=c61d0a0cac6ad5bb47fb696deaa76609df1bc79b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51583?repo=metabase/metabase&commitHash=c61d0a0cac6ad5bb47fb696deaa76609df1bc79b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51583?repo=metabase/metabase&commitHash=c61d0a0cac6ad5bb47fb696deaa76609df1bc79b&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51583?repo=metabase/metabase&commitHash=c61d0a0cac6ad5bb47fb696deaa76609df1bc79b&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2752998695,pull_request,closed,,"ü§ñ backported ""Pass uuids as strings to SQL Server""",#51484,github-automation-metabase,2024-12-20 15:49:45+00:00,"['wzimrin', 'github-automation-metabase']",2024-12-20 17:27:49+00:00,2024-12-20 16:29:59+00:00,https://github.com/metabase/metabase/pull/51582,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2557323482, 'issue_id': 2752998695, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/6621_tests-d44f87a9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51582?repo=metabase/metabase&commitHash=d44f87a99323c198a466ed7f2328f6ff70439786&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51582?repo=metabase/metabase&commitHash=d44f87a99323c198a466ed7f2328f6ff70439786&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51582?repo=metabase/metabase&commitHash=d44f87a99323c198a466ed7f2328f6ff70439786&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51582?repo=metabase/metabase&commitHash=d44f87a99323c198a466ed7f2328f6ff70439786&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51582?repo=metabase/metabase&commitHash=d44f87a99323c198a466ed7f2328f6ff70439786&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 20, 16, 29, 20, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-20 16:29:20 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/6621_tests-d44f87a9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51582?repo=metabase/metabase&commitHash=d44f87a99323c198a466ed7f2328f6ff70439786&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51582?repo=metabase/metabase&commitHash=d44f87a99323c198a466ed7f2328f6ff70439786&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51582?repo=metabase/metabase&commitHash=d44f87a99323c198a466ed7f2328f6ff70439786&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51582?repo=metabase/metabase&commitHash=d44f87a99323c198a466ed7f2328f6ff70439786&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51582?repo=metabase/metabase&commitHash=d44f87a99323c198a466ed7f2328f6ff70439786&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2752988671,pull_request,closed,,"ü§ñ backported ""fix broken radio buttons in viz settings""",#51558,github-automation-metabase,2024-12-20 15:43:38+00:00,"['alxnddr', 'github-automation-metabase']",2024-12-20 17:13:32+00:00,2024-12-20 16:24:39+00:00,https://github.com/metabase/metabase/pull/51581,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2557251971, 'issue_id': 2752988671, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff e3f81d8275a1f56a9674377c9046560f24e8adb9...418bfc9da3c59d192217237d1f65790b1a6ad36f.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/settings/ChartSettingRadio.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingRadio.unit.spec.tsx |', 'created_at': datetime.datetime(2024, 12, 20, 15, 45, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2557305302, 'issue_id': 2752988671, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/21603_tests-418bfc9d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51581?repo=metabase/metabase&commitHash=418bfc9da3c59d192217237d1f65790b1a6ad36f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51581?repo=metabase/metabase&commitHash=418bfc9da3c59d192217237d1f65790b1a6ad36f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51581?repo=metabase/metabase&commitHash=418bfc9da3c59d192217237d1f65790b1a6ad36f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51581?repo=metabase/metabase&commitHash=418bfc9da3c59d192217237d1f65790b1a6ad36f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51581?repo=metabase/metabase&commitHash=418bfc9da3c59d192217237d1f65790b1a6ad36f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 20, 16, 17, 55, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-12-20 15:45:59 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff e3f81d8275a1f56a9674377c9046560f24e8adb9...418bfc9da3c59d192217237d1f65790b1a6ad36f.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/settings/ChartSettingRadio.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingRadio.unit.spec.tsx |

trunk-io[bot] on (2024-12-20 16:17:55 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/21603_tests-418bfc9d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51581?repo=metabase/metabase&commitHash=418bfc9da3c59d192217237d1f65790b1a6ad36f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51581?repo=metabase/metabase&commitHash=418bfc9da3c59d192217237d1f65790b1a6ad36f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51581?repo=metabase/metabase&commitHash=418bfc9da3c59d192217237d1f65790b1a6ad36f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51581?repo=metabase/metabase&commitHash=418bfc9da3c59d192217237d1f65790b1a6ad36f&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51581?repo=metabase/metabase&commitHash=418bfc9da3c59d192217237d1f65790b1a6ad36f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2752976606,pull_request,closed,,"ü§ñ backported ""Show errors from backend in Create API key modal""",#51395,github-automation-metabase,2024-12-20 15:37:45+00:00,"['rafpaf', 'github-automation-metabase']",2025-01-10 16:34:42+00:00,2025-01-10 15:31:00+00:00,https://github.com/metabase/metabase/pull/51580,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2557306449, 'issue_id': 2752976606, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51615_tests-78c3e1f3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51580?repo=metabase/metabase&commitHash=78c3e1f373d6582b66572288833aeb3f16b5264c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51580?repo=metabase/metabase&commitHash=78c3e1f373d6582b66572288833aeb3f16b5264c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51580?repo=metabase/metabase&commitHash=78c3e1f373d6582b66572288833aeb3f16b5264c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51580?repo=metabase/metabase&commitHash=78c3e1f373d6582b66572288833aeb3f16b5264c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find a button with the name ""Done"" after 4 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51580?repo=metabase/metabase&commitHash=78c3e1f373d6582b66572288833aeb3f16b5264c&utm_source=gh-comment&runConclusion=FAILURE&runId=a2d26763-af51-5404-8b7a-fc6699a57cae) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51580?repo=metabase/metabase&commitHash=78c3e1f373d6582b66572288833aeb3f16b5264c&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 20, 16, 18, 41, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-20 16:18:41 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51615_tests-78c3e1f3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51580?repo=metabase/metabase&commitHash=78c3e1f373d6582b66572288833aeb3f16b5264c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51580?repo=metabase/metabase&commitHash=78c3e1f373d6582b66572288833aeb3f16b5264c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51580?repo=metabase/metabase&commitHash=78c3e1f373d6582b66572288833aeb3f16b5264c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51580?repo=metabase/metabase&commitHash=78c3e1f373d6582b66572288833aeb3f16b5264c&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find a button with the name ""Done"" after 4 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51580?repo=metabase/metabase&commitHash=78c3e1f373d6582b66572288833aeb3f16b5264c&utm_source=gh-comment&runConclusion=FAILURE&runId=a2d26763-af51-5404-8b7a-fc6699a57cae) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51580?repo=metabase/metabase&commitHash=78c3e1f373d6582b66572288833aeb3f16b5264c&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2752957428,pull_request,closed,,"ü§ñ backported ""add tests for support of xx-YY locales in embed/public-links""",#51456,github-automation-metabase,2024-12-20 15:27:21+00:00,"['npretto', 'github-automation-metabase']",2024-12-20 16:49:20+00:00,2024-12-20 16:07:56+00:00,https://github.com/metabase/metabase/pull/51579,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2557305406, 'issue_id': 2752957428, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3413_tests-4fc27c51-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51579?repo=metabase/metabase&commitHash=4fc27c51b702a4f4d99979ef55bfb4467bb91499&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51579?repo=metabase/metabase&commitHash=4fc27c51b702a4f4d99979ef55bfb4467bb91499&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51579?repo=metabase/metabase&commitHash=4fc27c51b702a4f4d99979ef55bfb4467bb91499&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51579?repo=metabase/metabase&commitHash=4fc27c51b702a4f4d99979ef55bfb4467bb91499&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51579?repo=metabase/metabase&commitHash=4fc27c51b702a4f4d99979ef55bfb4467bb91499&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 20, 16, 17, 59, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-20 16:17:59 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3413_tests-4fc27c51-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51579?repo=metabase/metabase&commitHash=4fc27c51b702a4f4d99979ef55bfb4467bb91499&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51579?repo=metabase/metabase&commitHash=4fc27c51b702a4f4d99979ef55bfb4467bb91499&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51579?repo=metabase/metabase&commitHash=4fc27c51b702a4f4d99979ef55bfb4467bb91499&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51579?repo=metabase/metabase&commitHash=4fc27c51b702a4f4d99979ef55bfb4467bb91499&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51579?repo=metabase/metabase&commitHash=4fc27c51b702a4f4d99979ef55bfb4467bb91499&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2752923617,pull_request,closed,,Small a11y improvements,"Let's pick some low-hanging a11y fruit:
* Ensure that links and buttons have focus outlines in dashboards and the entity picker
* Make the navbar not tabbable when it is hidden

### Dashboards

On master, various links in dashboards are not tabbable: that is fixed in this branch.

<img width=""500"" src=""https://graphite-user-uploaded-assets-prod.s3.amazonaws.com/utGnP2ljFMMNOgi82vVn/0f5be5be-11f9-4115-b00c-3998416ff4fd.png"" />

<img width=""500"" alt=""image"" src=""https://github.com/user-attachments/assets/db77b190-a7e2-4d98-b6ec-fae063cd22cc"" />

### Entity picker

On master the outline is not visible on chunky list items in the entity picker:
<img width=500 src=""https://graphite-user-uploaded-assets-prod.s3.amazonaws.com/utGnP2ljFMMNOgi82vVn/55254f8c-3777-42b3-97ea-267553352d1f.gif"" />

### Navbar

On master, all the navbar links are tabbable even when the sidebar is invisible. This makes keyboard use when the sidebar is open pretty frustrating, since you have to tab past a dozen invisible links. In this branch, the sidebar is made invisible when it is closed, so its links are not tabbable.

### Further question

Should the focus outline be darker? I raised the issue in [#design-system](https://metaboat.slack.com/archives/C057WD5L0JG/p1734709044686349)",rafpaf,2024-12-20 15:08:30+00:00,['rafpaf'],2025-01-07 19:49:42+00:00,2025-01-07 19:06:28+00:00,https://github.com/metabase/metabase/pull/51577,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2557187411, 'issue_id': 2752923617, 'author': 'rafpaf', 'body': '* **#51577** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51577?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51577?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 12, 20, 15, 8, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2557190648, 'issue_id': 2752923617, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 5434b36d03054af32b3f25cf4be728c8e2b3e1f6...140ae3909a8b9a0758d23fa435bb6cbb34178036.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/legend/LegendLabel.module.css |', 'created_at': datetime.datetime(2024, 12, 20, 15, 10, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2557259811, 'issue_id': 2752923617, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51907_tests-140ae390-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51577?repo=metabase/metabase&commitHash=140ae3909a8b9a0758d23fa435bb6cbb34178036&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51577?repo=metabase/metabase&commitHash=140ae3909a8b9a0758d23fa435bb6cbb34178036&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51577?repo=metabase/metabase&commitHash=140ae3909a8b9a0758d23fa435bb6cbb34178036&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51577?repo=metabase/metabase&commitHash=140ae3909a8b9a0758d23fa435bb6cbb34178036&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51577?repo=metabase/metabase&commitHash=140ae3909a8b9a0758d23fa435bb6cbb34178036&utm_source=gh-comment&runConclusion=FAILURE&runId=904e6ddc-2998-5fbd-8628-c45b16bfd772) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51577?repo=metabase/metabase&commitHash=140ae3909a8b9a0758d23fa435bb6cbb34178036&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 20, 15, 50, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2576023802, 'issue_id': 2752923617, 'author': 'rafpaf', 'body': '### Merge activity\n\n* **Jan 7, 2:03 PM EST**: A user started a stack merge that includes this pull request via [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/51577).\n* **Jan 7, 2:03 PM EST**: [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/51577) couldn\'t merge this PR because it failed optional checks and ""ignore optional checks"" was not selected.', 'created_at': datetime.datetime(2025, 1, 7, 19, 3, 20, tzinfo=datetime.timezone.utc)}]","rafpaf (Issue Creator) on (2024-12-20 15:08:52 UTC): * **#51577** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51577?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51577?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

github-actions[bot] on (2024-12-20 15:10:47 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 5434b36d03054af32b3f25cf4be728c8e2b3e1f6...140ae3909a8b9a0758d23fa435bb6cbb34178036.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/legend/LegendLabel.module.css |

trunk-io[bot] on (2024-12-20 15:50:50 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51907_tests-140ae390-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51577?repo=metabase/metabase&commitHash=140ae3909a8b9a0758d23fa435bb6cbb34178036&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51577?repo=metabase/metabase&commitHash=140ae3909a8b9a0758d23fa435bb6cbb34178036&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51577?repo=metabase/metabase&commitHash=140ae3909a8b9a0758d23fa435bb6cbb34178036&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51577?repo=metabase/metabase&commitHash=140ae3909a8b9a0758d23fa435bb6cbb34178036&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51577?repo=metabase/metabase&commitHash=140ae3909a8b9a0758d23fa435bb6cbb34178036&utm_source=gh-comment&runConclusion=FAILURE&runId=904e6ddc-2998-5fbd-8628-c45b16bfd772) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51577?repo=metabase/metabase&commitHash=140ae3909a8b9a0758d23fa435bb6cbb34178036&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

rafpaf (Issue Creator) on (2025-01-07 19:03:20 UTC): ### Merge activity

* **Jan 7, 2:03 PM EST**: A user started a stack merge that includes this pull request via [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/51577).
* **Jan 7, 2:03 PM EST**: [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/51577) couldn't merge this PR because it failed optional checks and ""ignore optional checks"" was not selected.

"
2752907503,pull_request,closed,,ci(sdk): bump master to 53-nightly,Bumps the SDK version in `master` to `53-nightly`,heypoom,2024-12-20 14:59:11+00:00,['heypoom'],2025-01-27 22:12:49+00:00,2024-12-23 05:57:35+00:00,https://github.com/metabase/metabase/pull/51575,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', '')]",[],
2752876041,pull_request,closed,,chore: remove unused files,"### Description

drop files 

Result of running knip on our repo",uladzimirdev,2024-12-20 14:41:10+00:00,['uladzimirdev'],2025-01-27 22:12:51+00:00,2024-12-20 21:09:14+00:00,https://github.com/metabase/metabase/pull/51574,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2557143985, 'issue_id': 2752876041, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff bda324e42b76e6b2b6b9e99e5175cc3466fe5ea9...b9f7f2cd09874616660dcc22b94e726d8e67912f.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/click-actions/Mode/constants.ts<br>frontend/src/metabase/visualizations/click-actions/Mode/types.ts<br>frontend/src/metabase/visualizations/click-actions/modes/MetabotMode.ts<br>frontend/src/metabase/visualizations/components/settings/ChartSettingInputNumeric.styled.tsx<br>frontend/src/metabase/visualizations/lib/timelines.js<br>frontend/src/metabase/visualizations/shared/settings/waterfall.ts<br>frontend/src/metabase/visualizations/visualizations/RowChart/utils/series.ts |', 'created_at': datetime.datetime(2024, 12, 20, 14, 42, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2557216583, 'issue_id': 2752876041, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13007_tests-b9f7f2cd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51574?repo=metabase/metabase&commitHash=b9f7f2cd09874616660dcc22b94e726d8e67912f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51574?repo=metabase/metabase&commitHash=b9f7f2cd09874616660dcc22b94e726d8e67912f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51574?repo=metabase/metabase&commitHash=b9f7f2cd09874616660dcc22b94e726d8e67912f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51574?repo=metabase/metabase&commitHash=b9f7f2cd09874616660dcc22b94e726d8e67912f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51574?repo=metabase/metabase&commitHash=b9f7f2cd09874616660dcc22b94e726d8e67912f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 20, 15, 25, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2557463727, 'issue_id': 2752876041, 'author': 'nemanjaglumac', 'body': '![image](https://github.com/user-attachments/assets/bdd0505d-18b5-4130-a25c-f547f020d811)', 'created_at': datetime.datetime(2024, 12, 20, 17, 51, 27, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-12-20 14:42:49 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff bda324e42b76e6b2b6b9e99e5175cc3466fe5ea9...b9f7f2cd09874616660dcc22b94e726d8e67912f.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/click-actions/Mode/constants.ts<br>frontend/src/metabase/visualizations/click-actions/Mode/types.ts<br>frontend/src/metabase/visualizations/click-actions/modes/MetabotMode.ts<br>frontend/src/metabase/visualizations/components/settings/ChartSettingInputNumeric.styled.tsx<br>frontend/src/metabase/visualizations/lib/timelines.js<br>frontend/src/metabase/visualizations/shared/settings/waterfall.ts<br>frontend/src/metabase/visualizations/visualizations/RowChart/utils/series.ts |

trunk-io[bot] on (2024-12-20 15:25:27 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13007_tests-b9f7f2cd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51574?repo=metabase/metabase&commitHash=b9f7f2cd09874616660dcc22b94e726d8e67912f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51574?repo=metabase/metabase&commitHash=b9f7f2cd09874616660dcc22b94e726d8e67912f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51574?repo=metabase/metabase&commitHash=b9f7f2cd09874616660dcc22b94e726d8e67912f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51574?repo=metabase/metabase&commitHash=b9f7f2cd09874616660dcc22b94e726d8e67912f&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51574?repo=metabase/metabase&commitHash=b9f7f2cd09874616660dcc22b94e726d8e67912f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

nemanjaglumac on (2024-12-20 17:51:27 UTC): ![image](https://github.com/user-attachments/assets/bdd0505d-18b5-4130-a25c-f547f020d811)

"
2752857781,pull_request,closed,,Update SDK version to 0.52.6,Update Readme version references and published npm package version to 0.52.6,github-automation-metabase,2024-12-20 14:31:18+00:00,"['heypoom', 'github-automation-metabase']",2024-12-20 15:42:41+00:00,2024-12-20 14:37:19+00:00,https://github.com/metabase/metabase/pull/51573,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2557246381, 'issue_id': 2752857781, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/24_tests-7a5cb388-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51573?repo=metabase/metabase&commitHash=7a5cb388e6c9d9cbcaf0e0b44f55ff9983b5c5de&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51573?repo=metabase/metabase&commitHash=7a5cb388e6c9d9cbcaf0e0b44f55ff9983b5c5de&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51573?repo=metabase/metabase&commitHash=7a5cb388e6c9d9cbcaf0e0b44f55ff9983b5c5de&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51573?repo=metabase/metabase&commitHash=7a5cb388e6c9d9cbcaf0e0b44f55ff9983b5c5de&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51573?repo=metabase/metabase&commitHash=7a5cb388e6c9d9cbcaf0e0b44f55ff9983b5c5de&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 20, 15, 42, 40, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-20 15:42:40 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/24_tests-7a5cb388-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51573?repo=metabase/metabase&commitHash=7a5cb388e6c9d9cbcaf0e0b44f55ff9983b5c5de&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51573?repo=metabase/metabase&commitHash=7a5cb388e6c9d9cbcaf0e0b44f55ff9983b5c5de&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51573?repo=metabase/metabase&commitHash=7a5cb388e6c9d9cbcaf0e0b44f55ff9983b5c5de&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51573?repo=metabase/metabase&commitHash=7a5cb388e6c9d9cbcaf0e0b44f55ff9983b5c5de&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51573?repo=metabase/metabase&commitHash=7a5cb388e6c9d9cbcaf0e0b44f55ff9983b5c5de&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2752824777,pull_request,closed,,"ü§ñ backported ""fix: add supports for xx-YY locales in embed/public-links and sdk""","  #51002
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2024-12-20 14:12:58+00:00,"['npretto', 'github-automation-metabase']",2024-12-20 16:47:22+00:00,2024-12-20 16:34:49+00:00,https://github.com/metabase/metabase/pull/51572,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2557266671, 'issue_id': 2752824777, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/100209_tests-3229ff44-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51572?repo=metabase/metabase&commitHash=3229ff44f0122031897e6107dd05e27349ca74c0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51572?repo=metabase/metabase&commitHash=3229ff44f0122031897e6107dd05e27349ca74c0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51572?repo=metabase/metabase&commitHash=3229ff44f0122031897e6107dd05e27349ca74c0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51572?repo=metabase/metabase&commitHash=3229ff44f0122031897e6107dd05e27349ca74c0&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\\#37726)</code> | The test timed out while trying to find an element with the text ""Product ‚Üí Category"" in the UI. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51572?repo=metabase/metabase&commitHash=3229ff44f0122031897e6107dd05e27349ca74c0&utm_source=gh-comment&runConclusion=FAILURE&runId=b15efee7-c6a1-58b1-ba9e-52dfa36ce919) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51572?repo=metabase/metabase&commitHash=3229ff44f0122031897e6107dd05e27349ca74c0&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 20, 15, 54, 54, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-20 15:54:54 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/100209_tests-3229ff44-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51572?repo=metabase/metabase&commitHash=3229ff44f0122031897e6107dd05e27349ca74c0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51572?repo=metabase/metabase&commitHash=3229ff44f0122031897e6107dd05e27349ca74c0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51572?repo=metabase/metabase&commitHash=3229ff44f0122031897e6107dd05e27349ca74c0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51572?repo=metabase/metabase&commitHash=3229ff44f0122031897e6107dd05e27349ca74c0&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\#37726)</code> | The test timed out while trying to find an element with the text ""Product ‚Üí Category"" in the UI. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51572?repo=metabase/metabase&commitHash=3229ff44f0122031897e6107dd05e27349ca74c0&utm_source=gh-comment&runConclusion=FAILURE&runId=b15efee7-c6a1-58b1-ba9e-52dfa36ce919) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51572?repo=metabase/metabase&commitHash=3229ff44f0122031897e6107dd05e27349ca74c0&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2752823272,pull_request,closed,,"ü§ñ backported ""fix: add supports for xx-YY locales in embed/public-links and sdk""",#51002,github-automation-metabase,2024-12-20 14:12:03+00:00,"['npretto', 'github-automation-metabase']",2024-12-20 15:48:46+00:00,2024-12-20 14:53:20+00:00,https://github.com/metabase/metabase/pull/51571,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2557160064, 'issue_id': 2752823272, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/123815_tests-b315ba23-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51571?repo=metabase/metabase&commitHash=b315ba23d39f2a0b134ef056447d7038efd6873a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51571?repo=metabase/metabase&commitHash=b315ba23d39f2a0b134ef056447d7038efd6873a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51571?repo=metabase/metabase&commitHash=b315ba23d39f2a0b134ef056447d7038efd6873a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51571?repo=metabase/metabase&commitHash=b315ba23d39f2a0b134ef056447d7038efd6873a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, but expected stage numbers. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51571?repo=metabase/metabase&commitHash=b315ba23d39f2a0b134ef056447d7038efd6873a&utm_source=gh-comment&runConclusion=FAILURE&runId=7460f576-9a1a-513f-8d4c-a864486e3699) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51571?repo=metabase/metabase&commitHash=b315ba23d39f2a0b134ef056447d7038efd6873a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 20, 14, 52, 29, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-20 14:52:29 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/123815_tests-b315ba23-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51571?repo=metabase/metabase&commitHash=b315ba23d39f2a0b134ef056447d7038efd6873a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51571?repo=metabase/metabase&commitHash=b315ba23d39f2a0b134ef056447d7038efd6873a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51571?repo=metabase/metabase&commitHash=b315ba23d39f2a0b134ef056447d7038efd6873a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51571?repo=metabase/metabase&commitHash=b315ba23d39f2a0b134ef056447d7038efd6873a&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, but expected stage numbers. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51571?repo=metabase/metabase&commitHash=b315ba23d39f2a0b134ef056447d7038efd6873a&utm_source=gh-comment&runConclusion=FAILURE&runId=7460f576-9a1a-513f-8d4c-a864486e3699) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51571?repo=metabase/metabase&commitHash=b315ba23d39f2a0b134ef056447d7038efd6873a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2752720267,pull_request,closed,,"ü§ñ backported ""[openapi] reduce amount of oneOf/allOf we generate in documentation""",#51495,github-automation-metabase,2024-12-20 13:14:12+00:00,"['piranha', 'github-automation-metabase']",2024-12-20 15:13:07+00:00,2024-12-20 14:12:51+00:00,https://github.com/metabase/metabase/pull/51569,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2557043277, 'issue_id': 2752720267, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/139340_tests-e05ee5c7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51569?repo=metabase/metabase&commitHash=e05ee5c78f092fbb5d57a78c7c243c67d868be36&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51569?repo=metabase/metabase&commitHash=e05ee5c78f092fbb5d57a78c7c243c67d868be36&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51569?repo=metabase/metabase&commitHash=e05ee5c78f092fbb5d57a78c7c243c67d868be36&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51569?repo=metabase/metabase&commitHash=e05ee5c78f092fbb5d57a78c7c243c67d868be36&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:329:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\\#\'sync.fingerprint/max-refingerprint-field... | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51569?repo=metabase/metabase&commitHash=e05ee5c78f092fbb5d57a78c7c243c67d868be36&utm_source=gh-comment&runConclusion=FAILURE&runId=9a729df7-a064-5710-a004-68fc5ad99c2d) |\n| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\\#37726)</code> | The test timed out while trying to find an element with the text ""Product ‚Üí Category"" in the UI. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51569?repo=metabase/metabase&commitHash=e05ee5c78f092fbb5d57a78c7c243c67d868be36&utm_source=gh-comment&runConclusion=FAILURE&runId=a2d2f1ef-7baf-55ff-ac17-86036a434574) |\n| <code>test-case-aggregations-in-breakout</code> | The query result set was closed, preventing further processing. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51569?repo=metabase/metabase&commitHash=e05ee5c78f092fbb5d57a78c7c243c67d868be36&utm_source=gh-comment&runConclusion=FAILURE&runId=28143af7-a5a3-50c6-9d7d-88101c568869) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51569?repo=metabase/metabase&commitHash=e05ee5c78f092fbb5d57a78c7c243c67d868be36&utm_source=gh-comment&runConclusion=FAILURE&runId=cf404db2-4279-51d5-b68b-bfebd17ca2c9) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51569?repo=metabase/metabase&commitHash=e05ee5c78f092fbb5d57a78c7c243c67d868be36&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 20, 13, 42, 40, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-20 13:42:40 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/139340_tests-e05ee5c7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51569?repo=metabase/metabase&commitHash=e05ee5c78f092fbb5d57a78c7c243c67d868be36&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51569?repo=metabase/metabase&commitHash=e05ee5c78f092fbb5d57a78c7c243c67d868be36&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51569?repo=metabase/metabase&commitHash=e05ee5c78f092fbb5d57a78c7c243c67d868be36&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51569?repo=metabase/metabase&commitHash=e05ee5c78f092fbb5d57a78c7c243c67d868be36&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:329:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerprint-field... | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51569?repo=metabase/metabase&commitHash=e05ee5c78f092fbb5d57a78c7c243c67d868be36&utm_source=gh-comment&runConclusion=FAILURE&runId=9a729df7-a064-5710-a004-68fc5ad99c2d) |
| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\#37726)</code> | The test timed out while trying to find an element with the text ""Product ‚Üí Category"" in the UI. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51569?repo=metabase/metabase&commitHash=e05ee5c78f092fbb5d57a78c7c243c67d868be36&utm_source=gh-comment&runConclusion=FAILURE&runId=a2d2f1ef-7baf-55ff-ac17-86036a434574) |
| <code>test-case-aggregations-in-breakout</code> | The query result set was closed, preventing further processing. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51569?repo=metabase/metabase&commitHash=e05ee5c78f092fbb5d57a78c7c243c67d868be36&utm_source=gh-comment&runConclusion=FAILURE&runId=28143af7-a5a3-50c6-9d7d-88101c568869) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51569?repo=metabase/metabase&commitHash=e05ee5c78f092fbb5d57a78c7c243c67d868be36&utm_source=gh-comment&runConclusion=FAILURE&runId=cf404db2-4279-51d5-b68b-bfebd17ca2c9) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51569?repo=metabase/metabase&commitHash=e05ee5c78f092fbb5d57a78c7c243c67d868be36&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2752645987,pull_request,closed,,Port search to use new `EntityListLoaderRtkQuery`,"Depends on #51496

### Description

Temporary PR to run CI for one specific entity.",kamilmielnik,2024-12-20 12:29:53+00:00,['kamilmielnik'],2024-12-20 14:43:12+00:00,2024-12-20 14:43:11+00:00,https://github.com/metabase/metabase/pull/51568,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2556981507, 'issue_id': 2752645987, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51581_tests-283a4120-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51568?repo=metabase/metabase&commitHash=283a4120aed7b292a2f9ecce5880d9bb3b4edcc9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51568?repo=metabase/metabase&commitHash=283a4120aed7b292a2f9ecce5880d9bb3b4edcc9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51568?repo=metabase/metabase&commitHash=283a4120aed7b292a2f9ecce5880d9bb3b4edcc9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51568?repo=metabase/metabase&commitHash=283a4120aed7b292a2f9ecce5880d9bb3b4edcc9&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51568?repo=metabase/metabase&commitHash=283a4120aed7b292a2f9ecce5880d9bb3b4edcc9&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 20, 13, 14, 21, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-20 13:14:21 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51581_tests-283a4120-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51568?repo=metabase/metabase&commitHash=283a4120aed7b292a2f9ecce5880d9bb3b4edcc9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51568?repo=metabase/metabase&commitHash=283a4120aed7b292a2f9ecce5880d9bb3b4edcc9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51568?repo=metabase/metabase&commitHash=283a4120aed7b292a2f9ecce5880d9bb3b4edcc9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51568?repo=metabase/metabase&commitHash=283a4120aed7b292a2f9ecce5880d9bb3b4edcc9&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51568?repo=metabase/metabase&commitHash=283a4120aed7b292a2f9ecce5880d9bb3b4edcc9&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2752610300,pull_request,closed,,"ü§ñ backported ""ci(sdk): make 52 the latest in release workflow""",#51552,github-automation-metabase,2024-12-20 12:08:46+00:00,"['heypoom', 'github-automation-metabase']",2024-12-20 12:52:29+00:00,2024-12-20 12:10:24+00:00,https://github.com/metabase/metabase/pull/51567,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2556948547, 'issue_id': 2752610300, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/23_tests-77796152-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51567?repo=metabase/metabase&commitHash=777961522ecd2c8223f6a878fdb03703c029af2c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51567?repo=metabase/metabase&commitHash=777961522ecd2c8223f6a878fdb03703c029af2c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51567?repo=metabase/metabase&commitHash=777961522ecd2c8223f6a878fdb03703c029af2c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51567?repo=metabase/metabase&commitHash=777961522ecd2c8223f6a878fdb03703c029af2c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51567?repo=metabase/metabase&commitHash=777961522ecd2c8223f6a878fdb03703c029af2c&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 20, 12, 52, 28, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-20 12:52:28 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/23_tests-77796152-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51567?repo=metabase/metabase&commitHash=777961522ecd2c8223f6a878fdb03703c029af2c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51567?repo=metabase/metabase&commitHash=777961522ecd2c8223f6a878fdb03703c029af2c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51567?repo=metabase/metabase&commitHash=777961522ecd2c8223f6a878fdb03703c029af2c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51567?repo=metabase/metabase&commitHash=777961522ecd2c8223f6a878fdb03703c029af2c&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51567?repo=metabase/metabase&commitHash=777961522ecd2c8223f6a878fdb03703c029af2c&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2752582974,pull_request,closed,,chore: replace global icon selector with local,"Closes https://github.com/metabase/metabase/issues/50985

### Description

replace `:global(.Icon)` with local css modules selector

### How to verify

check all places with icons:

<img width=""354"" alt=""image"" src=""https://github.com/user-attachments/assets/3a74f102-2104-48f0-b24e-08aab0baeca9"" />

<br><br><br>

<img width=""187"" alt=""image"" src=""https://github.com/user-attachments/assets/37c81842-057f-4288-a8c4-965c0b1f8e1b"" />
<br><br><br>
<img width=""433"" alt=""image"" src=""https://github.com/user-attachments/assets/d6b520be-b080-48ff-948e-89e84ccaf6c8"" />

etc
",uladzimirdev,2024-12-20 11:54:15+00:00,['uladzimirdev'],2024-12-20 22:12:20+00:00,2024-12-20 22:12:17+00:00,https://github.com/metabase/metabase/pull/51566,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', ''), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2556921805, 'issue_id': 2752582974, 'author': 'github-actions[bot]', 'body': 'üëã Deploying a preview environment for commit 4222ca648ff29cd1ac9cde02fa29802e00381e99.\n‚úÖ Preview:\n    https://pr51566.coredev.metabase.com\nüóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2024, 12, 20, 12, 34, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2556935567, 'issue_id': 2752582974, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51582_tests-4222ca64-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51566?repo=metabase/metabase&commitHash=4222ca648ff29cd1ac9cde02fa29802e00381e99&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51566?repo=metabase/metabase&commitHash=4222ca648ff29cd1ac9cde02fa29802e00381e99&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51566?repo=metabase/metabase&commitHash=4222ca648ff29cd1ac9cde02fa29802e00381e99&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51566?repo=metabase/metabase&commitHash=4222ca648ff29cd1ac9cde02fa29802e00381e99&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51566?repo=metabase/metabase&commitHash=4222ca648ff29cd1ac9cde02fa29802e00381e99&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 20, 12, 43, 56, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-12-20 12:34:10 UTC): üëã Deploying a preview environment for commit 4222ca648ff29cd1ac9cde02fa29802e00381e99.
‚úÖ Preview:
    https://pr51566.coredev.metabase.com
üóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

trunk-io[bot] on (2024-12-20 12:43:56 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51582_tests-4222ca64-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51566?repo=metabase/metabase&commitHash=4222ca648ff29cd1ac9cde02fa29802e00381e99&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51566?repo=metabase/metabase&commitHash=4222ca648ff29cd1ac9cde02fa29802e00381e99&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51566?repo=metabase/metabase&commitHash=4222ca648ff29cd1ac9cde02fa29802e00381e99&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51566?repo=metabase/metabase&commitHash=4222ca648ff29cd1ac9cde02fa29802e00381e99&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51566?repo=metabase/metabase&commitHash=4222ca648ff29cd1ac9cde02fa29802e00381e99&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2752561744,pull_request,open,,Fix typos in the backend code [WIP],"# üéÑ üéÖ  ü™Ñ üéà  üéâ  üéÅ Merry Christmas, Cam! üéÅ üéà üéâ ü™Ñ üéÖ  üéÑ

How it started
```
 codespell src/ -L tru,edn,juxt,trun,eduction | wc -l
     316
```

How it's going
```
codespell src/ -L tru,edn,juxt,trun,eduction | wc -l
      42
```

Out of these 42, some are not typos.
```
src/metabase/util.cljc:357: nd ==> and, 2nd                                                       not a typo
src/metabase/util/currency.cljc:429: Som ==> Some                                                 not a typo
src/metabase/util/currency.cljc:828: Som ==> Some                                                 not a typo
src/metabase/util/currency.cljc:833: som ==> some                                                 not a typo
src/metabase/util/currency.cljc:869: ZAR ==> CZAR                                                 not a typo
src/metabase/util/currency.cljc:874: ZAR ==> CZAR                                                 not a typo
src/metabase/util/i18n/impl.clj:186: caracteres ==> characters                                    not a typo (translation string)
src/metabase/driver/postgres.clj:1066: copyIn ==> copying, copy in                                not a typo
src/metabase/driver/h2/actions.clj:64: identifers ==> identifiers                                 QUESTIONABLE!
src/metabase/driver/common/parameters/dates.clj:163: Decorders ==> Decoders                       meh
src/metabase/driver/postgres/actions.clj:24: identifers ==> identifiers                           QUESTIONABLE!
src/metabase/driver/mysql/actions.clj:49: identifers ==> identifiers                              QUESTIONABLE!
src/metabase/driver/sql/query_processor.clj:1124: identifer ==> identifier                        QUESTIONABLE! (potential bug)
src/metabase/query_analysis/native_query_analyzer/impl.cljc:59: timout ==> timeout                !BUG!
src/metabase/legacy_mbql/schema.cljc:888: pass-thru ==> pass-through, pass through, passthrough   meh
src/metabase/legacy_mbql/util.cljc:589: ags ==> tags, ages                                        Camism (abbreviation for aggregations)
src/metabase/legacy_mbql/util.cljc:590: ags ==> tags, ages                                        Camism (abbreviation for aggregations)
src/metabase/models/dashboard_card.clj:162: serieses ==> series                                   Camism (:))
src/metabase/xrays/automagic_dashboards/names.clj:13: minumum ==> minimum                         Has a FIXME/TODO - handle with care!
src/metabase/xrays/automagic_dashboards/names.clj:18: minumum ==> minimum                         Has a FIXME/TODO - handle with care!
src/metabase/xrays/automagic_dashboards/names.clj:129: nd ==> and, 2nd                            not a typo
src/metabase/lib/aggregation.cljc:427: ags ==> tags, ages                                         Camism (abbreviation for aggregations)
src/metabase/lib/aggregation.cljc:428: ags ==> tags, ages                                         Camism (abbreviation for aggregations)
src/metabase/lib/aggregation.cljc:429: ags ==> tags, ages                                         Camism (abbreviation for aggregations)
src/metabase/lib/field.cljc:428: strat ==> start, strata                                          not a typo (let binding)
src/metabase/lib/field.cljc:429: strat ==> start, strata                                          not a typo (let binding)
src/metabase/lib/field.cljc:431: strat ==> start, strata                                          not a typo (let binding)
src/metabase/lib/query.cljc:268: metdata ==> metadata                                             !BUG!
src/metabase/api/collection.clj:816: typpe ==> type                                               harmless typo (let binding)
src/metabase/api/collection.clj:817: typpe ==> type                                               harmless typo (let binding)
src/metabase/api/collection.clj:818: typpe ==> type                                               harmless typo (let binding)
src/metabase/api/common.clj:39: coersion ==> coercion, conversion                                 ?unsure?
src/metabase/api/common.clj:45: coersion ==> coercion, conversion                                 ?unsure?
src/metabase/api/embed/common.clj:551: parametres ==> parameters                                  !BUG!
src/metabase/analyze/classifiers/name.clj:84: delet ==> delete                                    not a typo (regex)
src/metabase/analyze/classifiers/name.clj:85: delet ==> delete                                    not a typo (regex)
src/metabase/analyze/classifiers/name.clj:86: delet ==> delete                                    not a typo (regex)
src/metabase/analyze/classifiers/name.clj:111: te ==> the, be, we, to                             not a typo (regex)
src/metabase/analyze/classifiers/name.clj:112: te ==> the, be, we, to                             not a typo (regex)
src/metabase/analyze/classifiers/name.clj:113: te ==> the, be, we, to                             not a typo (regex)
src/metabase/analyze/classifiers/name.clj:114: te ==> the, be, we, to                             not a typo (regex)
src/metabase/analyze/classifiers/name.clj:179: checkin ==> checking, check in                     not a typo (function name)
src/metabase/query_processor/streaming/xlsx.clj:5: ative ==> active, native                       not a typo (namespace)
```",nemanjaglumac,2024-12-20 11:41:33+00:00,['nemanjaglumac'],2024-12-21 17:05:15+00:00,,https://github.com/metabase/metabase/pull/51565,[],[],
2752504606,pull_request,closed,,"ü§ñ backported ""Fix non-legible text and icon colors in fullscreen dark mode""",#51538,github-automation-metabase,2024-12-20 11:06:36+00:00,"['heypoom', 'github-automation-metabase']",2024-12-20 12:28:59+00:00,2024-12-20 11:48:15+00:00,https://github.com/metabase/metabase/pull/51563,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2556838257, 'issue_id': 2752504606, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51344_tests-eaf19677-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51563?repo=metabase/metabase&commitHash=eaf19677e2c4256c7bd937c94bed5911e2685ea6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51563?repo=metabase/metabase&commitHash=eaf19677e2c4256c7bd937c94bed5911e2685ea6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51563?repo=metabase/metabase&commitHash=eaf19677e2c4256c7bd937c94bed5911e2685ea6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51563?repo=metabase/metabase&commitHash=eaf19677e2c4256c7bd937c94bed5911e2685ea6&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51563?repo=metabase/metabase&commitHash=eaf19677e2c4256c7bd937c94bed5911e2685ea6&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 20, 11, 42, 35, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-20 11:42:35 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51344_tests-eaf19677-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51563?repo=metabase/metabase&commitHash=eaf19677e2c4256c7bd937c94bed5911e2685ea6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51563?repo=metabase/metabase&commitHash=eaf19677e2c4256c7bd937c94bed5911e2685ea6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51563?repo=metabase/metabase&commitHash=eaf19677e2c4256c7bd937c94bed5911e2685ea6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51563?repo=metabase/metabase&commitHash=eaf19677e2c4256c7bd937c94bed5911e2685ea6&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51563?repo=metabase/metabase&commitHash=eaf19677e2c4256c7bd937c94bed5911e2685ea6&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2752249385,pull_request,closed,,Update SDK npm version 52 to stable,"Npm version is determined from the version specified inside `enterprise/frontend/src/embedding-sdk/package.template.json`.

Since we've [cut gold for 52](https://metaboat.slack.com/archives/C063Q3F1HPF/p1733838766527049?thread_ts=1733838714.654729&cid=C063Q3F1HPF), we should update this version as well.

Other related PRs:
- https://github.com/metabase/metabase/pull/51113
",WiNloSt,2024-12-20 08:51:52+00:00,['WiNloSt'],2025-02-05 06:39:26+00:00,2024-12-20 08:57:30+00:00,https://github.com/metabase/metabase/pull/51562,"[('.Team/Embedding', '')]","[{'comment_id': 2556550803, 'issue_id': 2752249385, 'author': 'heypoom', 'body': '@WiNloSt oops, I think this is a duplicate of https://github.com/metabase/metabase/pull/51551, but no worries', 'created_at': datetime.datetime(2024, 12, 20, 8, 53, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2556557254, 'issue_id': 2752249385, 'author': 'WiNloSt', 'body': ""@heypoom We shouldn't update the workflow directly as we intended the workflow to be run from `master`. Let's merge yours, but take the workflow change to another PR then backport that to all release branches (52 & 51) instead. This is to make sure there's no conflict and keep the workflow file consistent, it shouldn't matter most of the time since we won't likely to run workflow from non `master` anyway, but backporting them is always a good idea."", 'created_at': datetime.datetime(2024, 12, 20, 8, 57, 21, tzinfo=datetime.timezone.utc)}]","heypoom on (2024-12-20 08:53:12 UTC): @WiNloSt oops, I think this is a duplicate of https://github.com/metabase/metabase/pull/51551, but no worries

WiNloSt (Issue Creator) on (2024-12-20 08:57:21 UTC): @heypoom We shouldn't update the workflow directly as we intended the workflow to be run from `master`. Let's merge yours, but take the workflow change to another PR then backport that to all release branches (52 & 51) instead. This is to make sure there's no conflict and keep the workflow file consistent, it shouldn't matter most of the time since we won't likely to run workflow from non `master` anyway, but backporting them is always a good idea.

"
2752187542,pull_request,closed,,[Notification] CRUD api permissions ,"see this message for the rules: https://metaboat.slack.com/archives/C07318NQ5M2/p1734630525977029?thread_ts=1734596426.664419&cid=C07318NQ5M2

Epic: https://github.com/metabase/metabase/issues/50766",qnkhuat,2024-12-20 08:13:05+00:00,['qnkhuat'],2025-01-14 02:39:49+00:00,2025-01-14 01:22:25+00:00,https://github.com/metabase/metabase/pull/51561,"[('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2556534891, 'issue_id': 2752187542, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/122656_tests-d6ff7b10-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51561?repo=metabase/metabase&commitHash=d6ff7b105e1ae70a25c3276125f41d9559ac1969&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51561?repo=metabase/metabase&commitHash=d6ff7b105e1ae70a25c3276125f41d9559ac1969&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51561?repo=metabase/metabase&commitHash=d6ff7b105e1ae70a25c3276125f41d9559ac1969&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51561?repo=metabase/metabase&commitHash=d6ff7b105e1ae70a25c3276125f41d9559ac1969&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native should handle template tags</code> | The test timed out waiting for the expected content 'Showing 168 rows' to appear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51561?repo=metabase/metabase&commitHash=d6ff7b105e1ae70a25c3276125f41d9559ac1969&utm_source=gh-comment&runConclusion=FAILURE&runId=0eb80ff3-0864-501b-9dfe-4ca1192834c0) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51561?repo=metabase/metabase&commitHash=d6ff7b105e1ae70a25c3276125f41d9559ac1969&utm_source=gh-comment&runConclusion=FAILURE&runId=ae67e407-7d8b-56bf-9adf-d533036a0ce2) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51561?repo=metabase/metabase&commitHash=d6ff7b105e1ae70a25c3276125f41d9559ac1969&utm_source=gh-comment&runConclusion=FAILURE&runId=99808684-e049-56b7-8710-9dc7b2bbaf53) |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51561?repo=metabase/metabase&commitHash=d6ff7b105e1ae70a25c3276125f41d9559ac1969&utm_source=gh-comment&runConclusion=FAILURE&runId=49965999-463f-5eb1-ad6a-95d03f010f15) |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51561?repo=metabase/metabase&commitHash=d6ff7b105e1ae70a25c3276125f41d9559ac1969&utm_source=gh-comment&runConclusion=FAILURE&runId=389d08f2-2f06-5dd9-9960-87bc501423e6) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51561?repo=metabase/metabase&commitHash=d6ff7b105e1ae70a25c3276125f41d9559ac1969&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 20, 8, 42, 55, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-20 08:42:55 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/122656_tests-d6ff7b10-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51561?repo=metabase/metabase&commitHash=d6ff7b105e1ae70a25c3276125f41d9559ac1969&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51561?repo=metabase/metabase&commitHash=d6ff7b105e1ae70a25c3276125f41d9559ac1969&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51561?repo=metabase/metabase&commitHash=d6ff7b105e1ae70a25c3276125f41d9559ac1969&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51561?repo=metabase/metabase&commitHash=d6ff7b105e1ae70a25c3276125f41d9559ac1969&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native should handle template tags</code> | The test timed out waiting for the expected content 'Showing 168 rows' to appear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51561?repo=metabase/metabase&commitHash=d6ff7b105e1ae70a25c3276125f41d9559ac1969&utm_source=gh-comment&runConclusion=FAILURE&runId=0eb80ff3-0864-501b-9dfe-4ca1192834c0) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51561?repo=metabase/metabase&commitHash=d6ff7b105e1ae70a25c3276125f41d9559ac1969&utm_source=gh-comment&runConclusion=FAILURE&runId=ae67e407-7d8b-56bf-9adf-d533036a0ce2) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51561?repo=metabase/metabase&commitHash=d6ff7b105e1ae70a25c3276125f41d9559ac1969&utm_source=gh-comment&runConclusion=FAILURE&runId=99808684-e049-56b7-8710-9dc7b2bbaf53) |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51561?repo=metabase/metabase&commitHash=d6ff7b105e1ae70a25c3276125f41d9559ac1969&utm_source=gh-comment&runConclusion=FAILURE&runId=49965999-463f-5eb1-ad6a-95d03f010f15) |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51561?repo=metabase/metabase&commitHash=d6ff7b105e1ae70a25c3276125f41d9559ac1969&utm_source=gh-comment&runConclusion=FAILURE&runId=389d08f2-2f06-5dd9-9960-87bc501423e6) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51561?repo=metabase/metabase&commitHash=d6ff7b105e1ae70a25c3276125f41d9559ac1969&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2751881100,pull_request,closed,,Defendpoint 2.0 ,"This endpoint adds the new Defendpoint 2.0, everything (including custom Kondo linter) is basically implemented and working at this point except for 

- Async version (`defendpoint-async`) for the 2 or 3 endpoints that use it, I will add this in at a later date.
- `^:multipart` support (we have like one or two endpoints that need this, I'll cross that bridge when we get there)
- Escape hatch for endpoints that need to dig into the full request (I'll probably add a `&request` anaphor or something, TBD if and when I come across any endpoints that need it)

See my notes https://www.notion.so/metabase/defendpoint-2-0-16169354c901806ca10cf45be6d91891 from earlier today on some things I wanted to accomplish with this new version

I updated three endpoints in `/api/timeline` as a proof-of-concept.

Tooling is 100x better and syntax is 82x nicer, internals are 3x easier to understand and performance overhead is 10x better.

```clj
(metabase.api.macros/ns-route-fns 'metabase.api.timeline)

;; => {[:post ""/""] #function[metabase.api.timeline/eval146368/f--146308--auto----146372]}

(get (metabase.api.macros/ns-route-fns 'metabase.api.timeline) [:post ""/""])
;; => #function[metabase.api.timeline/eval146368/f--146308--auto----146372]

(let [f (get (metabase.api.macros/ns-route-fns 'metabase.api.timeline) [:post ""/""])]
  (f {:id ""100""}))
;; => Execution error (ExceptionInfo) at metabase.models.collection/check-write-perms-for-collection (collection.clj:1500).
;; => You do not have curate permissions for this Collection.
```",camsaul,2024-12-20 03:58:49+00:00,['camsaul'],2025-01-27 22:12:18+00:00,2025-01-09 01:02:14+00:00,https://github.com/metabase/metabase/pull/51559,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DevEx', '')]","[{'comment_id': 2556276990, 'issue_id': 2751881100, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/115631_tests-e3a39006-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51559?repo=metabase/metabase&commitHash=e3a3900600ef9cd76d97cddd5be5cf03e8cae517&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51559?repo=metabase/metabase&commitHash=e3a3900600ef9cd76d97cddd5be5cf03e8cae517&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51559?repo=metabase/metabase&commitHash=e3a3900600ef9cd76d97cddd5be5cf03e8cae517&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51559?repo=metabase/metabase&commitHash=e3a3900600ef9cd76d97cddd5be5cf03e8cae517&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51559?repo=metabase/metabase&commitHash=e3a3900600ef9cd76d97cddd5be5cf03e8cae517&utm_source=gh-comment&runConclusion=FAILURE&runId=3bbcc9ee-2fb4-5708-a81b-bdd97fe91887) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51559?repo=metabase/metabase&commitHash=e3a3900600ef9cd76d97cddd5be5cf03e8cae517&utm_source=gh-comment&runConclusion=FAILURE&runId=323ad1cf-1bac-5334-a92c-2afc1a28d757) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51559?repo=metabase/metabase&commitHash=e3a3900600ef9cd76d97cddd5be5cf03e8cae517&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 20, 4, 45, 56, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-20 04:45:56 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/115631_tests-e3a39006-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51559?repo=metabase/metabase&commitHash=e3a3900600ef9cd76d97cddd5be5cf03e8cae517&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51559?repo=metabase/metabase&commitHash=e3a3900600ef9cd76d97cddd5be5cf03e8cae517&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51559?repo=metabase/metabase&commitHash=e3a3900600ef9cd76d97cddd5be5cf03e8cae517&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51559?repo=metabase/metabase&commitHash=e3a3900600ef9cd76d97cddd5be5cf03e8cae517&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51559?repo=metabase/metabase&commitHash=e3a3900600ef9cd76d97cddd5be5cf03e8cae517&utm_source=gh-comment&runConclusion=FAILURE&runId=3bbcc9ee-2fb4-5708-a81b-bdd97fe91887) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51559?repo=metabase/metabase&commitHash=e3a3900600ef9cd76d97cddd5be5cf03e8cae517&utm_source=gh-comment&runConclusion=FAILURE&runId=323ad1cf-1bac-5334-a92c-2afc1a28d757) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51559?repo=metabase/metabase&commitHash=e3a3900600ef9cd76d97cddd5be5cf03e8cae517&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2751860564,pull_request,closed,,fix broken radio buttons in viz settings,"Closes https://github.com/metabase/metabase/issues/51521

### Description

Caused by https://github.com/metabase/metabase/pull/51210
A few visualization settings that use Radio to change them have options with `null` value. However, Mantine radio component does not support `null` as a valid value.

### How to verify

1) New: Orders -> Count group by Created At and Product Category
2) Make it a bar chart with two dimensions
3) Change stacking to ""Stack"" and then to ""Don't stack"" ‚Äî ensure it works

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",alxnddr,2024-12-20 03:35:39+00:00,['alxnddr'],2024-12-20 16:16:32+00:00,2024-12-20 15:42:48+00:00,https://github.com/metabase/metabase/pull/51558,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2556250695, 'issue_id': 2751860564, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/48727_tests-132863ed-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51558?repo=metabase/metabase&commitHash=132863ed76ccc8ffd756b5909a4a1bbad3c3348a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51558?repo=metabase/metabase&commitHash=132863ed76ccc8ffd756b5909a4a1bbad3c3348a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51558?repo=metabase/metabase&commitHash=132863ed76ccc8ffd756b5909a4a1bbad3c3348a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51558?repo=metabase/metabase&commitHash=132863ed76ccc8ffd756b5909a4a1bbad3c3348a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>e2e-storage-ingestion-test</code> | Expected entity to match, but actual entity has unexpected table\\_id and dimensions. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51558?repo=metabase/metabase&commitHash=132863ed76ccc8ffd756b5909a4a1bbad3c3348a&utm_source=gh-comment&runConclusion=FAILURE&runId=9f369f86-ce2c-53bf-a350-a14389f0556f) |\n| <code>scenarios > question > native can save a question with no rows</code> | The test timed out waiting for the expected content 'No results!' to appear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51558?repo=metabase/metabase&commitHash=132863ed76ccc8ffd756b5909a4a1bbad3c3348a&utm_source=gh-comment&runConclusion=FAILURE&runId=f9d8a05d-1ebe-52df-94ac-5172e6bf0da6) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51558?repo=metabase/metabase&commitHash=132863ed76ccc8ffd756b5909a4a1bbad3c3348a&utm_source=gh-comment&runConclusion=FAILURE&runId=8ea2b970-8e11-505e-b16e-4ed7143e11fd) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51558?repo=metabase/metabase&commitHash=132863ed76ccc8ffd756b5909a4a1bbad3c3348a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 20, 4, 12, 40, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-20 04:12:40 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/48727_tests-132863ed-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51558?repo=metabase/metabase&commitHash=132863ed76ccc8ffd756b5909a4a1bbad3c3348a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51558?repo=metabase/metabase&commitHash=132863ed76ccc8ffd756b5909a4a1bbad3c3348a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51558?repo=metabase/metabase&commitHash=132863ed76ccc8ffd756b5909a4a1bbad3c3348a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51558?repo=metabase/metabase&commitHash=132863ed76ccc8ffd756b5909a4a1bbad3c3348a&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>e2e-storage-ingestion-test</code> | Expected entity to match, but actual entity has unexpected table\_id and dimensions. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51558?repo=metabase/metabase&commitHash=132863ed76ccc8ffd756b5909a4a1bbad3c3348a&utm_source=gh-comment&runConclusion=FAILURE&runId=9f369f86-ce2c-53bf-a350-a14389f0556f) |
| <code>scenarios > question > native can save a question with no rows</code> | The test timed out waiting for the expected content 'No results!' to appear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51558?repo=metabase/metabase&commitHash=132863ed76ccc8ffd756b5909a4a1bbad3c3348a&utm_source=gh-comment&runConclusion=FAILURE&runId=f9d8a05d-1ebe-52df-94ac-5172e6bf0da6) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51558?repo=metabase/metabase&commitHash=132863ed76ccc8ffd756b5909a4a1bbad3c3348a&utm_source=gh-comment&runConclusion=FAILURE&runId=8ea2b970-8e11-505e-b16e-4ed7143e11fd) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51558?repo=metabase/metabase&commitHash=132863ed76ccc8ffd756b5909a4a1bbad3c3348a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2751627867,pull_request,closed,,[WIP] Test metabase in Dev Mode,"Closes ENG-9211

This is an experiment, it may be slow or flaky or just inadvisable, but I'd like to see how it works.

TODO: run release branch + master tests against the jar if running in dev mode ends up being faster for PRs",iethree,2024-12-19 23:51:55+00:00,['iethree'],2025-01-08 17:24:13+00:00,2025-01-08 17:24:12+00:00,https://github.com/metabase/metabase/pull/51556,"[('.CI & Tests', ''), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2556005546, 'issue_id': 2751627867, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/29_tests-a199b2d7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51556?repo=metabase/metabase&commitHash=a199b2d71c23dcba997d668044032fdc4129a57f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51556?repo=metabase/metabase&commitHash=a199b2d71c23dcba997d668044032fdc4129a57f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51556?repo=metabase/metabase&commitHash=a199b2d71c23dcba997d668044032fdc4129a57f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51556?repo=metabase/metabase&commitHash=a199b2d71c23dcba997d668044032fdc4129a57f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51556?repo=metabase/metabase&commitHash=a199b2d71c23dcba997d668044032fdc4129a57f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 20, 0, 21, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2578220477, 'issue_id': 2751627867, 'author': 'iethree', 'body': 'this is a bad idea üëé', 'created_at': datetime.datetime(2025, 1, 8, 17, 24, 12, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-20 00:21:14 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/29_tests-a199b2d7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51556?repo=metabase/metabase&commitHash=a199b2d71c23dcba997d668044032fdc4129a57f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51556?repo=metabase/metabase&commitHash=a199b2d71c23dcba997d668044032fdc4129a57f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51556?repo=metabase/metabase&commitHash=a199b2d71c23dcba997d668044032fdc4129a57f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51556?repo=metabase/metabase&commitHash=a199b2d71c23dcba997d668044032fdc4129a57f&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51556?repo=metabase/metabase&commitHash=a199b2d71c23dcba997d668044032fdc4129a57f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

iethree (Issue Creator) on (2025-01-08 17:24:12 UTC): this is a bad idea üëé

"
2751551687,pull_request,closed,,"ü§ñ backported ""Bump Toucan2 version""","  #51547
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2024-12-19 22:36:47+00:00,"['alexander-yakushev', 'github-automation-metabase']",2024-12-21 07:57:21+00:00,2024-12-21 07:57:19+00:00,https://github.com/metabase/metabase/pull/51555,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2555955526, 'issue_id': 2751551687, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/123810_tests-d299a798-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51555?repo=metabase/metabase&commitHash=d299a7987d00256cfd7396b557b4db5d2d6c7416&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51555?repo=metabase/metabase&commitHash=d299a7987d00256cfd7396b557b4db5d2d6c7416&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51555?repo=metabase/metabase&commitHash=d299a7987d00256cfd7396b557b4db5d2d6c7416&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51555?repo=metabase/metabase&commitHash=d299a7987d00256cfd7396b557b4db5d2d6c7416&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51555?repo=metabase/metabase&commitHash=d299a7987d00256cfd7396b557b4db5d2d6c7416&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 23, 33, 52, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 23:33:52 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/123810_tests-d299a798-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51555?repo=metabase/metabase&commitHash=d299a7987d00256cfd7396b557b4db5d2d6c7416&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51555?repo=metabase/metabase&commitHash=d299a7987d00256cfd7396b557b4db5d2d6c7416&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51555?repo=metabase/metabase&commitHash=d299a7987d00256cfd7396b557b4db5d2d6c7416&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51555?repo=metabase/metabase&commitHash=d299a7987d00256cfd7396b557b4db5d2d6c7416&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51555?repo=metabase/metabase&commitHash=d299a7987d00256cfd7396b557b4db5d2d6c7416&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2751523149,pull_request,closed,,[Cards in Dashboards] Prevent dashboard from appearing in breadcrumbs when not on a DQ page,"### Description

Noticed an issue when navigating from a dashboard question to another collection that the dashboard would sometimes persist when visiting other items in the same collection, resulting in this:
![CleanShot 2024-12-19 at 15 29 16@2x](https://github.com/user-attachments/assets/05a2c1f8-3079-4365-84d7-b3e63a9a4cf3)

It appears this was introduced by me in #51084.

### How to verify

- Visit a dashboard question
- Navigate directly to a dashboard
- You should no longer see the issue

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",sloansparger,2024-12-19 22:12:55+00:00,['sloansparger'],2025-01-27 22:12:55+00:00,2024-12-20 15:43:22+00:00,https://github.com/metabase/metabase/pull/51554,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2555931898, 'issue_id': 2751523149, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/12988_tests-c22fd89c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51554?repo=metabase/metabase&commitHash=c22fd89c50311f0e18f269eabf95ef9780de124d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51554?repo=metabase/metabase&commitHash=c22fd89c50311f0e18f269eabf95ef9780de124d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51554?repo=metabase/metabase&commitHash=c22fd89c50311f0e18f269eabf95ef9780de124d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51554?repo=metabase/metabase&commitHash=c22fd89c50311f0e18f269eabf95ef9780de124d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51554?repo=metabase/metabase&commitHash=c22fd89c50311f0e18f269eabf95ef9780de124d&utm_source=gh-comment&runConclusion=FAILURE&runId=7a13f10f-3d6a-5ee3-8a8f-7c294a0855a1) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51554?repo=metabase/metabase&commitHash=c22fd89c50311f0e18f269eabf95ef9780de124d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 19, 23, 10, 56, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 23:10:56 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/12988_tests-c22fd89c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51554?repo=metabase/metabase&commitHash=c22fd89c50311f0e18f269eabf95ef9780de124d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51554?repo=metabase/metabase&commitHash=c22fd89c50311f0e18f269eabf95ef9780de124d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51554?repo=metabase/metabase&commitHash=c22fd89c50311f0e18f269eabf95ef9780de124d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51554?repo=metabase/metabase&commitHash=c22fd89c50311f0e18f269eabf95ef9780de124d&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51554?repo=metabase/metabase&commitHash=c22fd89c50311f0e18f269eabf95ef9780de124d&utm_source=gh-comment&runConclusion=FAILURE&runId=7a13f10f-3d6a-5ee3-8a8f-7c294a0855a1) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51554?repo=metabase/metabase&commitHash=c22fd89c50311f0e18f269eabf95ef9780de124d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2751519911,pull_request,closed,,Fix summarize-column and summarize-column-by-time drills for multi-stage queries,"### Description

Ensure the `summarize-column` and `summarize-column-by-time` drill thrus are not returned by `available-drill-thrus` when a user clicks on an aggregation or breakout column, even if there are additional query stages after the last aggregation / breakout stage.

Relates to: https://github.com/metabase/metabase/issues/46932, https://github.com/metabase/metabase/pull/51247

### How to verify

* New question: Orders
* summarize: Count by Created At: Month
* Add filter stage after summarize, e.g. Count > 1
* Visualize
* Select Table viz
* Click on the column header for the Count column
* None of the summarize drill thru options should not appear in the context menu
  * for summarize: ""Distinct values"", ""sum"", ""avg""
  * for summarize by time: ""Sum over time""
* Edit query to remove the summarize stage
* Visualize
* Click on any column header: drill should appear

### Demo

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",appleby,2024-12-19 22:10:21+00:00,['appleby'],2024-12-23 07:27:52+00:00,2024-12-21 01:19:01+00:00,https://github.com/metabase/metabase/pull/51553,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2555923078, 'issue_id': 2751519911, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/140268_tests-ce55d1e0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51553?repo=metabase/metabase&commitHash=ce55d1e095f9c01214e09aff1bc18c16789c3a9e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51553?repo=metabase/metabase&commitHash=ce55d1e095f9c01214e09aff1bc18c16789c3a9e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51553?repo=metabase/metabase&commitHash=ce55d1e095f9c01214e09aff1bc18c16789c3a9e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51553?repo=metabase/metabase&commitHash=ce55d1e095f9c01214e09aff1bc18c16789c3a9e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>question loading changes document title should verify document title changes while loading a slow question (metabase\\#40051)</code> | The expected text 'Doing science... ¬∑ Metabase' was not displayed within 4000ms, causing a timeout. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51553?repo=metabase/metabase&commitHash=ce55d1e095f9c01214e09aff1bc18c16789c3a9e&utm_source=gh-comment&runConclusion=FAILURE&runId=f1b2ed35-c100-5ada-a79c-dc6e31d42b78) |\n| <code>e2e-storage-ingestion-test</code> | Expected entity to be equal to the result of extracting and cleaning a dashboard, but actual entity is different. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51553?repo=metabase/metabase&commitHash=ce55d1e095f9c01214e09aff1bc18c16789c3a9e&utm_source=gh-comment&runConclusion=FAILURE&runId=47d96465-ba8a-5e52-b1b7-49a40018db4c) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51553?repo=metabase/metabase&commitHash=ce55d1e095f9c01214e09aff1bc18c16789c3a9e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 19, 23, 2, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2557935310, 'issue_id': 2751519911, 'author': 'appleby', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 12, 21, 1, 19, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2559066260, 'issue_id': 2751519911, 'author': 'github-actions[bot]', 'body': 'üöÄ This should also be released by [v0.52.4](https://github.com/metabase/metabase/milestone/294)', 'created_at': datetime.datetime(2024, 12, 23, 7, 27, 51, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 23:02:45 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/140268_tests-ce55d1e0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51553?repo=metabase/metabase&commitHash=ce55d1e095f9c01214e09aff1bc18c16789c3a9e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51553?repo=metabase/metabase&commitHash=ce55d1e095f9c01214e09aff1bc18c16789c3a9e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51553?repo=metabase/metabase&commitHash=ce55d1e095f9c01214e09aff1bc18c16789c3a9e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51553?repo=metabase/metabase&commitHash=ce55d1e095f9c01214e09aff1bc18c16789c3a9e&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>question loading changes document title should verify document title changes while loading a slow question (metabase\#40051)</code> | The expected text 'Doing science... ¬∑ Metabase' was not displayed within 4000ms, causing a timeout. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51553?repo=metabase/metabase&commitHash=ce55d1e095f9c01214e09aff1bc18c16789c3a9e&utm_source=gh-comment&runConclusion=FAILURE&runId=f1b2ed35-c100-5ada-a79c-dc6e31d42b78) |
| <code>e2e-storage-ingestion-test</code> | Expected entity to be equal to the result of extracting and cleaning a dashboard, but actual entity is different. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51553?repo=metabase/metabase&commitHash=ce55d1e095f9c01214e09aff1bc18c16789c3a9e&utm_source=gh-comment&runConclusion=FAILURE&runId=47d96465-ba8a-5e52-b1b7-49a40018db4c) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51553?repo=metabase/metabase&commitHash=ce55d1e095f9c01214e09aff1bc18c16789c3a9e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

appleby (Issue Creator) on (2024-12-21 01:19:36 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-12-23 07:27:51 UTC): üöÄ This should also be released by [v0.52.4](https://github.com/metabase/metabase/milestone/294)

"
2751513578,pull_request,closed,,ci(sdk): make 52 the latest in release workflow,Makes Metabase 52 the latest version in the SDK's release workflow.,heypoom,2024-12-19 22:04:51+00:00,['heypoom'],2024-12-20 12:10:52+00:00,2024-12-20 12:07:54+00:00,https://github.com/metabase/metabase/pull/51552,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]",[],
2751509941,pull_request,closed,,ci(sdk): remove the nightly tag from version 52,"Closes https://github.com/metabase/metabase/issues/51525

Reconciles the version number so we can release 52-stable without the `-nightly` tag. Our last npm release has `0.52.5-nightly` in the `52-stable` release channel which is wrong.

The workflow code applies the same version suffix as the previous version, so stable releases mistakenly has a nightly tag. I have pushed the `embedding-sdk-0.52.5` tag manually to reconcile as well.

![CleanShot 2567-12-20 at 04 55 22@2x](https://github.com/user-attachments/assets/957aba77-8976-465a-8de2-ea0b1f9dc870)
",heypoom,2024-12-19 22:01:41+00:00,['heypoom'],2024-12-20 12:05:26+00:00,2024-12-20 12:05:24+00:00,https://github.com/metabase/metabase/pull/51551,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', '')]","[{'comment_id': 2556559891, 'issue_id': 2751509941, 'author': 'heypoom', 'body': '@WiNloSt sounds good, opened workflow update PR in https://github.com/metabase/metabase/pull/51552. Thanks!', 'created_at': datetime.datetime(2024, 12, 20, 8, 59, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2556839998, 'issue_id': 2751509941, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/23_tests-12310c0d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51551?repo=metabase/metabase&commitHash=12310c0d9117973c950bf2d6cc405040a0376967&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51551?repo=metabase/metabase&commitHash=12310c0d9117973c950bf2d6cc405040a0376967&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51551?repo=metabase/metabase&commitHash=12310c0d9117973c950bf2d6cc405040a0376967&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51551?repo=metabase/metabase&commitHash=12310c0d9117973c950bf2d6cc405040a0376967&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51551?repo=metabase/metabase&commitHash=12310c0d9117973c950bf2d6cc405040a0376967&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 20, 11, 43, 48, tzinfo=datetime.timezone.utc)}]","heypoom (Issue Creator) on (2024-12-20 08:59:07 UTC): @WiNloSt sounds good, opened workflow update PR in https://github.com/metabase/metabase/pull/51552. Thanks!

trunk-io[bot] on (2024-12-20 11:43:48 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/23_tests-12310c0d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51551?repo=metabase/metabase&commitHash=12310c0d9117973c950bf2d6cc405040a0376967&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51551?repo=metabase/metabase&commitHash=12310c0d9117973c950bf2d6cc405040a0376967&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51551?repo=metabase/metabase&commitHash=12310c0d9117973c950bf2d6cc405040a0376967&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51551?repo=metabase/metabase&commitHash=12310c0d9117973c950bf2d6cc405040a0376967&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51551?repo=metabase/metabase&commitHash=12310c0d9117973c950bf2d6cc405040a0376967&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2751498281,pull_request,closed,,ci(sdk): reconcile version for releasing 52-stable,(closed),heypoom,2024-12-19 21:52:11+00:00,['heypoom'],2025-02-04 15:20:09+00:00,2024-12-19 22:00:18+00:00,https://github.com/metabase/metabase/pull/51550,"[('.Team/Embedding', '')]",[],
2751472382,pull_request,closed,,Update migration to allow query_execution.parameterized to be null,"Follow-on to https://github.com/metabase/metabase/pull/50816

Removes the `NOT NULL` constraint and default value from the new `query_execution.parameterized` field used by preemptive caching.

It's more correct semantically to not set a value for old query executions. And we won't have to write values for a huge table during the upgrade process.",noahmoss,2024-12-19 21:32:15+00:00,['noahmoss'],2025-01-27 22:12:55+00:00,2024-12-20 15:41:22+00:00,https://github.com/metabase/metabase/pull/51549,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2555809810, 'issue_id': 2751472382, 'author': 'noahmoss', 'body': '* **#51549** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51549?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51549?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 12, 19, 21, 32, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2555922292, 'issue_id': 2751472382, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/125468_tests-6aaf0e43-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51549?repo=metabase/metabase&commitHash=6aaf0e436e939a3ef90384daa115ee2c085e84b6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51549?repo=metabase/metabase&commitHash=6aaf0e436e939a3ef90384daa115ee2c085e84b6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51549?repo=metabase/metabase&commitHash=6aaf0e436e939a3ef90384daa115ee2c085e84b6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51549?repo=metabase/metabase&commitHash=6aaf0e436e939a3ef90384daa115ee2c085e84b6&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native can save a question with no rows</code> | The test timed out waiting for the expected content 'No results!' to appear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51549?repo=metabase/metabase&commitHash=6aaf0e436e939a3ef90384daa115ee2c085e84b6&utm_source=gh-comment&runConclusion=FAILURE&runId=1b44097a-0acf-5273-8a0f-3e4eb1ebf0d6) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51549?repo=metabase/metabase&commitHash=6aaf0e436e939a3ef90384daa115ee2c085e84b6&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 19, 23, 2, 2, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2024-12-19 21:32:30 UTC): * **#51549** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51549?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51549?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2024-12-19 23:02:02 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/125468_tests-6aaf0e43-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51549?repo=metabase/metabase&commitHash=6aaf0e436e939a3ef90384daa115ee2c085e84b6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51549?repo=metabase/metabase&commitHash=6aaf0e436e939a3ef90384daa115ee2c085e84b6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51549?repo=metabase/metabase&commitHash=6aaf0e436e939a3ef90384daa115ee2c085e84b6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51549?repo=metabase/metabase&commitHash=6aaf0e436e939a3ef90384daa115ee2c085e84b6&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native can save a question with no rows</code> | The test timed out waiting for the expected content 'No results!' to appear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51549?repo=metabase/metabase&commitHash=6aaf0e436e939a3ef90384daa115ee2c085e84b6&utm_source=gh-comment&runConclusion=FAILURE&runId=1b44097a-0acf-5273-8a0f-3e4eb1ebf0d6) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51549?repo=metabase/metabase&commitHash=6aaf0e436e939a3ef90384daa115ee2c085e84b6&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2751428437,pull_request,closed,,"ü§ñ backported ""show all columns in scatter tooltip by default""",#51480,github-automation-metabase,2024-12-19 21:06:52+00:00,"['alxnddr', 'github-automation-metabase']",2024-12-19 22:08:59+00:00,2024-12-19 21:15:33+00:00,https://github.com/metabase/metabase/pull/51548,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2555777243, 'issue_id': 2751428437, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 10c7394eb0d8579329496dfaef5053678ded9a96...f657fe74a22346c62bc0178b52525f1d1000c66f.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/lib/settings/graph.js<br>frontend/src/metabase/visualizations/lib/settings/graph.unit.spec.js<br>frontend/src/metabase/visualizations/shared/settings/cartesian-chart.ts |', 'created_at': datetime.datetime(2024, 12, 19, 21, 8, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2555854412, 'issue_id': 2751428437, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/12101_tests-57de2b2d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51548?repo=metabase/metabase&commitHash=57de2b2ddaec9241380a6ba05ac9438864394f80&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51548?repo=metabase/metabase&commitHash=57de2b2ddaec9241380a6ba05ac9438864394f80&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51548?repo=metabase/metabase&commitHash=57de2b2ddaec9241380a6ba05ac9438864394f80&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51548?repo=metabase/metabase&commitHash=57de2b2ddaec9241380a6ba05ac9438864394f80&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51548?repo=metabase/metabase&commitHash=57de2b2ddaec9241380a6ba05ac9438864394f80&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 22, 6, 15, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-12-19 21:08:25 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 10c7394eb0d8579329496dfaef5053678ded9a96...f657fe74a22346c62bc0178b52525f1d1000c66f.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/lib/settings/graph.js<br>frontend/src/metabase/visualizations/lib/settings/graph.unit.spec.js<br>frontend/src/metabase/visualizations/shared/settings/cartesian-chart.ts |

trunk-io[bot] on (2024-12-19 22:06:15 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/12101_tests-57de2b2d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51548?repo=metabase/metabase&commitHash=57de2b2ddaec9241380a6ba05ac9438864394f80&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51548?repo=metabase/metabase&commitHash=57de2b2ddaec9241380a6ba05ac9438864394f80&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51548?repo=metabase/metabase&commitHash=57de2b2ddaec9241380a6ba05ac9438864394f80&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51548?repo=metabase/metabase&commitHash=57de2b2ddaec9241380a6ba05ac9438864394f80&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51548?repo=metabase/metabase&commitHash=57de2b2ddaec9241380a6ba05ac9438864394f80&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2751422054,pull_request,closed,,Bump Toucan2 version,,alexander-yakushev,2024-12-19 21:04:15+00:00,['alexander-yakushev'],2024-12-21 07:57:47+00:00,2024-12-19 22:35:52+00:00,https://github.com/metabase/metabase/pull/51547,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2555837241, 'issue_id': 2751422054, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/84299_tests-6fcb331c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51547?repo=metabase/metabase&commitHash=6fcb331c0719f4689463cb97b736078ae1568de1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51547?repo=metabase/metabase&commitHash=6fcb331c0719f4689463cb97b736078ae1568de1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51547?repo=metabase/metabase&commitHash=6fcb331c0719f4689463cb97b736078ae1568de1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51547?repo=metabase/metabase&commitHash=6fcb331c0719f4689463cb97b736078ae1568de1&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51547?repo=metabase/metabase&commitHash=6fcb331c0719f4689463cb97b736078ae1568de1&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 21, 53, 15, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 21:53:15 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/84299_tests-6fcb331c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51547?repo=metabase/metabase&commitHash=6fcb331c0719f4689463cb97b736078ae1568de1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51547?repo=metabase/metabase&commitHash=6fcb331c0719f4689463cb97b736078ae1568de1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51547?repo=metabase/metabase&commitHash=6fcb331c0719f4689463cb97b736078ae1568de1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51547?repo=metabase/metabase&commitHash=6fcb331c0719f4689463cb97b736078ae1568de1&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51547?repo=metabase/metabase&commitHash=6fcb331c0719f4689463cb97b736078ae1568de1&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2751420911,pull_request,closed,,Improved encryption management,"### Description

Improves the management of database encryption by:
- When initially enabling encryption on an existing database, all existing values that should be encrypted are immediately encrypted
- If a needed MB_ENCRYPTION_SECRET_KEY env variable is not set, halts server startup with a better error message
- If the wrong MB_ENCRYPTION_SECRET_KEY env variable is set, halts server start up with a better error message
- Adds an explicit ""remove-encryption"" CLI command rather than relying on the less-obvious `rotate-encryption-key """"` (which still works)

It also adds a new `remove-encryption` CLI command as a more obvious alternative to `rotate-encryption-key` passing an empty new key.

### How to verify

Check stored data in the following states:
- New server with no MB_ENCRYPTION_SECRET_KEY set **(data unencrypted)**
- Add MB_ENCRYPTION_SECRET_KEY to existing unencrypted database **(data encrypted)**
- Change MB_ENCRYPTION_SECRET_KEY value for existing encrypted server **(error)**
- Run existing encrypted server without MB_ENCRYPTION_SECRET_KEY **(error)**
- New server with MB_ENCRYPTION_SECRET_KEY set **(data encrypted)**
- Call `java -jar metabase.jar remove-encryption` **(data unencrypted)**

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",nvoxland,2024-12-19 21:03:37+00:00,['nvoxland'],2025-01-27 22:12:34+00:00,2025-01-07 16:10:26+00:00,https://github.com/metabase/metabase/pull/51546,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2555842684, 'issue_id': 2751420911, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/122271_tests-1332c37c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51546?repo=metabase/metabase&commitHash=1332c37c26274440cc8745a098f6061ea59bbd7e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51546?repo=metabase/metabase&commitHash=1332c37c26274440cc8745a098f6061ea59bbd7e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51546?repo=metabase/metabase&commitHash=1332c37c26274440cc8745a098f6061ea59bbd7e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51546?repo=metabase/metabase&commitHash=1332c37c26274440cc8745a098f6061ea59bbd7e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > collections > clean up ee clean up collection modal should be able to clean up stale items</code> | The element <div.emotion-Group-root.emotion-1plzo5d> was expected to not exist in the DOM, but it was found continuously. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51546?repo=metabase/metabase&commitHash=1332c37c26274440cc8745a098f6061ea59bbd7e&utm_source=gh-comment&runConclusion=FAILURE&runId=09780884-070d-5cae-8041-1a4e4b7efb7f) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51546?repo=metabase/metabase&commitHash=1332c37c26274440cc8745a098f6061ea59bbd7e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 21, 57, 16, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 21:57:16 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/122271_tests-1332c37c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51546?repo=metabase/metabase&commitHash=1332c37c26274440cc8745a098f6061ea59bbd7e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51546?repo=metabase/metabase&commitHash=1332c37c26274440cc8745a098f6061ea59bbd7e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51546?repo=metabase/metabase&commitHash=1332c37c26274440cc8745a098f6061ea59bbd7e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51546?repo=metabase/metabase&commitHash=1332c37c26274440cc8745a098f6061ea59bbd7e&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > collections > clean up ee clean up collection modal should be able to clean up stale items</code> | The element <div.emotion-Group-root.emotion-1plzo5d> was expected to not exist in the DOM, but it was found continuously. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51546?repo=metabase/metabase&commitHash=1332c37c26274440cc8745a098f6061ea59bbd7e&utm_source=gh-comment&runConclusion=FAILURE&runId=09780884-070d-5cae-8041-1a4e4b7efb7f) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51546?repo=metabase/metabase&commitHash=1332c37c26274440cc8745a098f6061ea59bbd7e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2751418287,pull_request,closed,,ci: Fix be-tests stub,Fix the be-tests-stub not being generated if the be-tests themselves are cancelled (which was the whole point of running it). Not having the fix leads to situations when Github still waits on be-tests jobs that never start because they were skipped.,alexander-yakushev,2024-12-19 21:02:34+00:00,['alexander-yakushev'],2024-12-20 21:08:24+00:00,2024-12-20 20:19:55+00:00,https://github.com/metabase/metabase/pull/51545,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2557590809, 'issue_id': 2751418287, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/119852_tests-9a5aba32-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51545?repo=metabase/metabase&commitHash=9a5aba32bd772becb63662659c40c7bada025bd3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51545?repo=metabase/metabase&commitHash=9a5aba32bd772becb63662659c40c7bada025bd3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51545?repo=metabase/metabase&commitHash=9a5aba32bd772becb63662659c40c7bada025bd3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51545?repo=metabase/metabase&commitHash=9a5aba32bd772becb63662659c40c7bada025bd3&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51545?repo=metabase/metabase&commitHash=9a5aba32bd772becb63662659c40c7bada025bd3&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 20, 19, 20, 19, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-20 19:20:19 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/119852_tests-9a5aba32-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51545?repo=metabase/metabase&commitHash=9a5aba32bd772becb63662659c40c7bada025bd3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51545?repo=metabase/metabase&commitHash=9a5aba32bd772becb63662659c40c7bada025bd3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51545?repo=metabase/metabase&commitHash=9a5aba32bd772becb63662659c40c7bada025bd3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51545?repo=metabase/metabase&commitHash=9a5aba32bd772becb63662659c40c7bada025bd3&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51545?repo=metabase/metabase&commitHash=9a5aba32bd772becb63662659c40c7bada025bd3&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2751412509,pull_request,closed,,"ü§ñ backported ""show all columns in scatter tooltip by default""",#51480,github-automation-metabase,2024-12-19 21:00:07+00:00,"['alxnddr', 'github-automation-metabase']",2024-12-19 22:20:50+00:00,2024-12-19 21:14:17+00:00,https://github.com/metabase/metabase/pull/51544,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2555768919, 'issue_id': 2751412509, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff c2f9e583c58d087f47c01875b20693b0ed9cada4...bd3723735f69c838ec1644b9b5cfcb08b12eed40.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/lib/settings/graph.js<br>frontend/src/metabase/visualizations/lib/settings/graph.unit.spec.js<br>frontend/src/metabase/visualizations/shared/settings/cartesian-chart.ts |', 'created_at': datetime.datetime(2024, 12, 19, 21, 2, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2555837276, 'issue_id': 2751412509, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/21112_tests-f3d1ed8b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51544?repo=metabase/metabase&commitHash=f3d1ed8b3166f151b3744705238b83625e51ca58&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51544?repo=metabase/metabase&commitHash=f3d1ed8b3166f151b3744705238b83625e51ca58&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51544?repo=metabase/metabase&commitHash=f3d1ed8b3166f151b3744705238b83625e51ca58&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51544?repo=metabase/metabase&commitHash=f3d1ed8b3166f151b3744705238b83625e51ca58&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51544?repo=metabase/metabase&commitHash=f3d1ed8b3166f151b3744705238b83625e51ca58&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 21, 53, 16, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-12-19 21:02:42 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff c2f9e583c58d087f47c01875b20693b0ed9cada4...bd3723735f69c838ec1644b9b5cfcb08b12eed40.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/lib/settings/graph.js<br>frontend/src/metabase/visualizations/lib/settings/graph.unit.spec.js<br>frontend/src/metabase/visualizations/shared/settings/cartesian-chart.ts |

trunk-io[bot] on (2024-12-19 21:53:16 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/21112_tests-f3d1ed8b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51544?repo=metabase/metabase&commitHash=f3d1ed8b3166f151b3744705238b83625e51ca58&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51544?repo=metabase/metabase&commitHash=f3d1ed8b3166f151b3744705238b83625e51ca58&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51544?repo=metabase/metabase&commitHash=f3d1ed8b3166f151b3744705238b83625e51ca58&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51544?repo=metabase/metabase&commitHash=f3d1ed8b3166f151b3744705238b83625e51ca58&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51544?repo=metabase/metabase&commitHash=f3d1ed8b3166f151b3744705238b83625e51ca58&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2751369984,pull_request,closed,,ci: Only run driver tests when testing Databricks driver,"I assume it's an oversight that Databricks driver tests runs all the non-driver tests too, even though Databricks cannot be used as an application DB. Am I right with this?
",alexander-yakushev,2024-12-19 20:35:06+00:00,['alexander-yakushev'],2024-12-20 16:57:26+00:00,2024-12-20 16:23:09+00:00,https://github.com/metabase/metabase/pull/51543,"[('backport', 'Automatically create PR on current release branch on merge')]",[],
2751343001,pull_request,closed,,fix: show chevron icon in the bucket picker on hover,"[Epic](https://github.com/metabase/metabase/issues/50983)

### Description

Fixes chevron down icon visibility, related [thread](https://metaboat.slack.com/archives/C063Q3F1HPF/p1734003926692129)

![image](https://github.com/user-attachments/assets/27f6b25f-3e67-43ed-9c15-f7a5a2450e7d)


https://github.com/user-attachments/assets/f7c7a886-c845-42c1-9900-dc9c3e0b9932


",uladzimirdev,2024-12-19 20:22:01+00:00,['uladzimirdev'],2025-01-27 22:12:56+00:00,2024-12-20 11:54:56+00:00,https://github.com/metabase/metabase/pull/51542,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', ''), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2555805590, 'issue_id': 2751343001, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/12986_tests-586c3dad-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51542?repo=metabase/metabase&commitHash=586c3dad91b45b8e0cc6a208d5adb3af5ed7645a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51542?repo=metabase/metabase&commitHash=586c3dad91b45b8e0cc6a208d5adb3af5ed7645a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51542?repo=metabase/metabase&commitHash=586c3dad91b45b8e0cc6a208d5adb3af5ed7645a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51542?repo=metabase/metabase&commitHash=586c3dad91b45b8e0cc6a208d5adb3af5ed7645a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51542?repo=metabase/metabase&commitHash=586c3dad91b45b8e0cc6a208d5adb3af5ed7645a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 21, 29, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2556700766, 'issue_id': 2751343001, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@uladzimirdev You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2024, 12, 20, 10, 19, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2556761710, 'issue_id': 2751343001, 'author': 'github-actions[bot]', 'body': 'üëã Deploying a preview environment for commit 586c3dad91b45b8e0cc6a208d5adb3af5ed7645a.\n‚úÖ Preview:\n    https://pr51542.coredev.metabase.com\nüóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2024, 12, 20, 10, 53, 11, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 21:29:27 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/12986_tests-586c3dad-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51542?repo=metabase/metabase&commitHash=586c3dad91b45b8e0cc6a208d5adb3af5ed7645a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51542?repo=metabase/metabase&commitHash=586c3dad91b45b8e0cc6a208d5adb3af5ed7645a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51542?repo=metabase/metabase&commitHash=586c3dad91b45b8e0cc6a208d5adb3af5ed7645a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51542?repo=metabase/metabase&commitHash=586c3dad91b45b8e0cc6a208d5adb3af5ed7645a&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51542?repo=metabase/metabase&commitHash=586c3dad91b45b8e0cc6a208d5adb3af5ed7645a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2024-12-20 10:19:53 UTC): <!---conventional commit reminder comment ID-->
@uladzimirdev You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

github-actions[bot] on (2024-12-20 10:53:11 UTC): üëã Deploying a preview environment for commit 586c3dad91b45b8e0cc6a208d5adb3af5ed7645a.
‚úÖ Preview:
    https://pr51542.coredev.metabase.com
üóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

"
2751340262,pull_request,closed,,"ü§ñ backported ""Fix instance stats cypress test + ensure it runs in CI""",#51531,github-automation-metabase,2024-12-19 20:20:43+00:00,"['noahmoss', 'github-automation-metabase']",2024-12-23 16:01:34+00:00,2024-12-23 15:07:48+00:00,https://github.com/metabase/metabase/pull/51541,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2555795954, 'issue_id': 2751340262, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120114_tests-bdbfedc2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51541?repo=metabase/metabase&commitHash=bdbfedc2c74e621ec36ab81f164766f54ade3d38&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51541?repo=metabase/metabase&commitHash=bdbfedc2c74e621ec36ab81f164766f54ade3d38&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51541?repo=metabase/metabase&commitHash=bdbfedc2c74e621ec36ab81f164766f54ade3d38&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51541?repo=metabase/metabase&commitHash=bdbfedc2c74e621ec36ab81f164766f54ade3d38&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51541?repo=metabase/metabase&commitHash=bdbfedc2c74e621ec36ab81f164766f54ade3d38&utm_source=gh-comment&runConclusion=FAILURE&runId=705acb6f-232a-5876-b73b-016672a0e571) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51541?repo=metabase/metabase&commitHash=bdbfedc2c74e621ec36ab81f164766f54ade3d38&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 21, 21, 47, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 21:21:47 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120114_tests-bdbfedc2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51541?repo=metabase/metabase&commitHash=bdbfedc2c74e621ec36ab81f164766f54ade3d38&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51541?repo=metabase/metabase&commitHash=bdbfedc2c74e621ec36ab81f164766f54ade3d38&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51541?repo=metabase/metabase&commitHash=bdbfedc2c74e621ec36ab81f164766f54ade3d38&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51541?repo=metabase/metabase&commitHash=bdbfedc2c74e621ec36ab81f164766f54ade3d38&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51541?repo=metabase/metabase&commitHash=bdbfedc2c74e621ec36ab81f164766f54ade3d38&utm_source=gh-comment&runConclusion=FAILURE&runId=705acb6f-232a-5876-b73b-016672a0e571) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51541?repo=metabase/metabase&commitHash=bdbfedc2c74e621ec36ab81f164766f54ade3d38&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2751335623,pull_request,closed,,"ü§ñ backported ""Fix pdf exports issues""",#51491,github-automation-metabase,2024-12-19 20:18:23+00:00,"['alxnddr', 'github-automation-metabase']",2024-12-19 21:48:58+00:00,2024-12-19 21:02:01+00:00,https://github.com/metabase/metabase/pull/51540,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2555702795, 'issue_id': 2751335623, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff d0e4983bf18f2120fe0ba989ac9e9ad412eed2cf...ef0e8186347e7806cfb029a49519476cfd31ceb6.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/lib/save-dashboard-pdf.ts<br>frontend/src/metabase/visualizations/lib/save-dashboard-pdf.unit.spec.ts |', 'created_at': datetime.datetime(2024, 12, 19, 20, 19, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2555804930, 'issue_id': 2751335623, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/21376_tests-ef0e8186-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51540?repo=metabase/metabase&commitHash=ef0e8186347e7806cfb029a49519476cfd31ceb6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51540?repo=metabase/metabase&commitHash=ef0e8186347e7806cfb029a49519476cfd31ceb6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51540?repo=metabase/metabase&commitHash=ef0e8186347e7806cfb029a49519476cfd31ceb6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51540?repo=metabase/metabase&commitHash=ef0e8186347e7806cfb029a49519476cfd31ceb6&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51540?repo=metabase/metabase&commitHash=ef0e8186347e7806cfb029a49519476cfd31ceb6&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 21, 28, 54, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-12-19 20:19:57 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff d0e4983bf18f2120fe0ba989ac9e9ad412eed2cf...ef0e8186347e7806cfb029a49519476cfd31ceb6.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/lib/save-dashboard-pdf.ts<br>frontend/src/metabase/visualizations/lib/save-dashboard-pdf.unit.spec.ts |

trunk-io[bot] on (2024-12-19 21:28:54 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/21376_tests-ef0e8186-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51540?repo=metabase/metabase&commitHash=ef0e8186347e7806cfb029a49519476cfd31ceb6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51540?repo=metabase/metabase&commitHash=ef0e8186347e7806cfb029a49519476cfd31ceb6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51540?repo=metabase/metabase&commitHash=ef0e8186347e7806cfb029a49519476cfd31ceb6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51540?repo=metabase/metabase&commitHash=ef0e8186347e7806cfb029a49519476cfd31ceb6&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51540?repo=metabase/metabase&commitHash=ef0e8186347e7806cfb029a49519476cfd31ceb6&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2751306326,pull_request,closed,,"ü§ñ backported ""[Clean-up] Allow collection clean up banner to be dismissible""",#51434,github-automation-metabase,2024-12-19 20:03:54+00:00,"['sloansparger', 'github-automation-metabase']",2024-12-19 21:45:54+00:00,2024-12-19 20:44:12+00:00,https://github.com/metabase/metabase/pull/51539,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2555752874, 'issue_id': 2751306326, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/111952_tests-32abe8b1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51539?repo=metabase/metabase&commitHash=32abe8b1a77df9a21830e6fbc96e49f422604524&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51539?repo=metabase/metabase&commitHash=32abe8b1a77df9a21830e6fbc96e49f422604524&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51539?repo=metabase/metabase&commitHash=32abe8b1a77df9a21830e6fbc96e49f422604524&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51539?repo=metabase/metabase&commitHash=32abe8b1a77df9a21830e6fbc96e49f422604524&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51539?repo=metabase/metabase&commitHash=32abe8b1a77df9a21830e6fbc96e49f422604524&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 20, 51, 57, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 20:51:57 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/111952_tests-32abe8b1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51539?repo=metabase/metabase&commitHash=32abe8b1a77df9a21830e6fbc96e49f422604524&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51539?repo=metabase/metabase&commitHash=32abe8b1a77df9a21830e6fbc96e49f422604524&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51539?repo=metabase/metabase&commitHash=32abe8b1a77df9a21830e6fbc96e49f422604524&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51539?repo=metabase/metabase&commitHash=32abe8b1a77df9a21830e6fbc96e49f422604524&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51539?repo=metabase/metabase&commitHash=32abe8b1a77df9a21830e6fbc96e49f422604524&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2751266281,pull_request,closed,,Fix non-legible text and icon colors in fullscreen dark mode,"Closes https://github.com/metabase/metabase/issues/51524

### Description

The color of the table text, dashboard title and toolbar icon are not legible in the fullscreen dashboard's dark mode. We should use the same legible color mapping as dark mode in embedding.

### Demo

Before:

![CleanShot 2567-12-20 at 02 36 17@2x](https://github.com/user-attachments/assets/f0aa708e-ce94-4451-8efd-66f945545538)

![CleanShot 2567-12-20 at 02 36 24@2x](https://github.com/user-attachments/assets/c8af4bed-93a8-4a37-932c-ebebfc56dc71)

After:

![CleanShot 2567-12-20 at 02 48 44@2x](https://github.com/user-attachments/assets/9f7a047d-856e-4b4e-b1f8-dd653a63377b)

![CleanShot 2567-12-20 at 02 48 37@2x](https://github.com/user-attachments/assets/8ca7b8bd-abbe-444c-b3fd-591269f3f847)

### How to verify

- Go to a dashboard
- Click on ""Fullscreen""
- Click on ""Dark Mode"" icon
- The above should be legible now. It should be similar to what we have in static embedding's dark mode.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR - E2E
",heypoom,2024-12-19 19:38:09+00:00,['heypoom'],2024-12-20 11:06:45+00:00,2024-12-20 11:05:44+00:00,https://github.com/metabase/metabase/pull/51538,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2555805608, 'issue_id': 2751266281, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/15294_tests-dd2c7153-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51538?repo=metabase/metabase&commitHash=dd2c71539263479a4214df8f7429e6a3b9dfbdc4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51538?repo=metabase/metabase&commitHash=dd2c71539263479a4214df8f7429e6a3b9dfbdc4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51538?repo=metabase/metabase&commitHash=dd2c71539263479a4214df8f7429e6a3b9dfbdc4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51538?repo=metabase/metabase&commitHash=dd2c71539263479a4214df8f7429e6a3b9dfbdc4&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > collections > clean up ee clean up collection modal should be able to clean up stale items</code> | The element <div.emotion-Group-root.emotion-1plzo5d> was expected to not exist in the DOM, but it was found continuously. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51538?repo=metabase/metabase&commitHash=dd2c71539263479a4214df8f7429e6a3b9dfbdc4&utm_source=gh-comment&runConclusion=FAILURE&runId=8ca9cc93-46a1-53f2-b565-a2b0aa76bb91) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51538?repo=metabase/metabase&commitHash=dd2c71539263479a4214df8f7429e6a3b9dfbdc4&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 21, 29, 27, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 21:29:27 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/15294_tests-dd2c7153-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51538?repo=metabase/metabase&commitHash=dd2c71539263479a4214df8f7429e6a3b9dfbdc4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51538?repo=metabase/metabase&commitHash=dd2c71539263479a4214df8f7429e6a3b9dfbdc4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51538?repo=metabase/metabase&commitHash=dd2c71539263479a4214df8f7429e6a3b9dfbdc4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51538?repo=metabase/metabase&commitHash=dd2c71539263479a4214df8f7429e6a3b9dfbdc4&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > collections > clean up ee clean up collection modal should be able to clean up stale items</code> | The element <div.emotion-Group-root.emotion-1plzo5d> was expected to not exist in the DOM, but it was found continuously. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51538?repo=metabase/metabase&commitHash=dd2c71539263479a4214df8f7429e6a3b9dfbdc4&utm_source=gh-comment&runConclusion=FAILURE&runId=8ca9cc93-46a1-53f2-b565-a2b0aa76bb91) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51538?repo=metabase/metabase&commitHash=dd2c71539263479a4214df8f7429e6a3b9dfbdc4&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2751256065,pull_request,closed,,Metabot v3 PoC rebased,,metamben,2024-12-19 19:31:32+00:00,['metamben'],2025-01-21 14:08:49+00:00,2025-01-21 14:08:48+00:00,https://github.com/metabase/metabase/pull/51537,"[('no-backport', 'Do not backport this PR to any branch'), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2555628525, 'issue_id': 2751256065, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 59daec2227a527fc759e6a21ffeac47e1ef97cef...74574ed2aaefc58028c512d22b21cecae0aaf83f.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/icons/Icon/icons/index.ts<br>frontend/src/metabase/ui/components/icons/Icon/icons/metabot.svg |', 'created_at': datetime.datetime(2024, 12, 19, 19, 34, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2557213260, 'issue_id': 2751256065, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/124009_tests-74574ed2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51537?repo=metabase/metabase&commitHash=74574ed2aaefc58028c512d22b21cecae0aaf83f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51537?repo=metabase/metabase&commitHash=74574ed2aaefc58028c512d22b21cecae0aaf83f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51537?repo=metabase/metabase&commitHash=74574ed2aaefc58028c512d22b21cecae0aaf83f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51537?repo=metabase/metabase&commitHash=74574ed2aaefc58028c512d22b21cecae0aaf83f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>date-string->range-spec-test</code> | Shrunk test failed to find a satisfying solution within the given time limit. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51537?repo=metabase/metabase&commitHash=74574ed2aaefc58028c512d22b21cecae0aaf83f&utm_source=gh-comment&runConclusion=FAILURE&runId=8fee68a3-1a60-57ee-92b1-9adf24cb6175) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51537?repo=metabase/metabase&commitHash=74574ed2aaefc58028c512d22b21cecae0aaf83f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 20, 15, 23, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603256074, 'issue_id': 2751256065, 'author': 'github-actions[bot]', 'body': 'üëã Deploying a preview environment for commit 74574ed2aaefc58028c512d22b21cecae0aaf83f.\n‚úÖ Preview:\n    https://pr51537.coredev.metabase.com\nüóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2025, 1, 20, 21, 31, 59, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-12-19 19:34:32 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 59daec2227a527fc759e6a21ffeac47e1ef97cef...74574ed2aaefc58028c512d22b21cecae0aaf83f.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/icons/Icon/icons/index.ts<br>frontend/src/metabase/ui/components/icons/Icon/icons/metabot.svg |

trunk-io[bot] on (2024-12-20 15:23:24 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/124009_tests-74574ed2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51537?repo=metabase/metabase&commitHash=74574ed2aaefc58028c512d22b21cecae0aaf83f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51537?repo=metabase/metabase&commitHash=74574ed2aaefc58028c512d22b21cecae0aaf83f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51537?repo=metabase/metabase&commitHash=74574ed2aaefc58028c512d22b21cecae0aaf83f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51537?repo=metabase/metabase&commitHash=74574ed2aaefc58028c512d22b21cecae0aaf83f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>date-string->range-spec-test</code> | Shrunk test failed to find a satisfying solution within the given time limit. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51537?repo=metabase/metabase&commitHash=74574ed2aaefc58028c512d22b21cecae0aaf83f&utm_source=gh-comment&runConclusion=FAILURE&runId=8fee68a3-1a60-57ee-92b1-9adf24cb6175) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51537?repo=metabase/metabase&commitHash=74574ed2aaefc58028c512d22b21cecae0aaf83f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-20 21:31:59 UTC): üëã Deploying a preview environment for commit 74574ed2aaefc58028c512d22b21cecae0aaf83f.
‚úÖ Preview:
    https://pr51537.coredev.metabase.com
üóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

"
2751247794,pull_request,closed,,Adjust response format for `invite-user`,as discussed here https://metaboat.slack.com/archives/C07SJT1P0ET/p1734616877495879?thread_ts=1734612058.250029&cid=C07SJT1P0ET,johnswanson,2024-12-19 19:26:06+00:00,['johnswanson'],2024-12-27 20:17:25+00:00,2024-12-27 20:17:24+00:00,https://github.com/metabase/metabase/pull/51536,"[('Metabot/General', 'General Metabot AI')]","[{'comment_id': 2555708549, 'issue_id': 2751247794, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/116077_tests-14d05422-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51536?repo=metabase/metabase&commitHash=14d05422c09497750521adb7596bd0a41cbbfff8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/10-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51536?repo=metabase/metabase&commitHash=14d05422c09497750521adb7596bd0a41cbbfff8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51536?repo=metabase/metabase&commitHash=14d05422c09497750521adb7596bd0a41cbbfff8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51536?repo=metabase/metabase&commitHash=14d05422c09497750521adb7596bd0a41cbbfff8&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts ""before each"" hook for ""should allow you to enable a webhook alert""</code> | Cypress request failed with 400 Bad Request status code | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51536?repo=metabase/metabase&commitHash=14d05422c09497750521adb7596bd0a41cbbfff8&utm_source=gh-comment&runConclusion=FAILURE&runId=916c42c7-af01-5726-a914-e4b4b5e877a7) |\n| <code>hydrate-members-tests</code> | The expected and actual results do not match for a user\'s group membership. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51536?repo=metabase/metabase&commitHash=14d05422c09497750521adb7596bd0a41cbbfff8&utm_source=gh-comment&runConclusion=FAILURE&runId=90e46675-53e4-5428-bbc9-3e8fd4d98b6d) |\n| <code>scenarios > alert > email\\_alert should respect email alerts toggled off (metabase\\#12349)</code> | The request to http://localhost:4000/api/channel failed with a 400 Bad Request status code. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51536?repo=metabase/metabase&commitHash=14d05422c09497750521adb7596bd0a41cbbfff8&utm_source=gh-comment&runConclusion=FAILURE&runId=b09427e4-b0d8-5e60-b31e-2b388b87f468) |\n| <code>scenarios > alert with a webhook ""before each"" hook for ""should be able to create and delete alerts with webhooks enabled""</code> | Failed to connect to channel with a 400 Bad Request error. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51536?repo=metabase/metabase&commitHash=14d05422c09497750521adb7596bd0a41cbbfff8&utm_source=gh-comment&runConclusion=FAILURE&runId=27c6c824-cb06-5754-b089-6e39c49de08f) |\n\n[... and 6 more](https://app.trunk.io/metabase/flaky-tests/pr/51536?repo=metabase/metabase&commitHash=14d05422c09497750521adb7596bd0a41cbbfff8&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51536?repo=metabase/metabase&commitHash=14d05422c09497750521adb7596bd0a41cbbfff8&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 20, 23, 35, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 20:23:35 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/116077_tests-14d05422-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51536?repo=metabase/metabase&commitHash=14d05422c09497750521adb7596bd0a41cbbfff8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/10-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51536?repo=metabase/metabase&commitHash=14d05422c09497750521adb7596bd0a41cbbfff8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51536?repo=metabase/metabase&commitHash=14d05422c09497750521adb7596bd0a41cbbfff8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51536?repo=metabase/metabase&commitHash=14d05422c09497750521adb7596bd0a41cbbfff8&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts ""before each"" hook for ""should allow you to enable a webhook alert""</code> | Cypress request failed with 400 Bad Request status code | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51536?repo=metabase/metabase&commitHash=14d05422c09497750521adb7596bd0a41cbbfff8&utm_source=gh-comment&runConclusion=FAILURE&runId=916c42c7-af01-5726-a914-e4b4b5e877a7) |
| <code>hydrate-members-tests</code> | The expected and actual results do not match for a user's group membership. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51536?repo=metabase/metabase&commitHash=14d05422c09497750521adb7596bd0a41cbbfff8&utm_source=gh-comment&runConclusion=FAILURE&runId=90e46675-53e4-5428-bbc9-3e8fd4d98b6d) |
| <code>scenarios > alert > email\_alert should respect email alerts toggled off (metabase\#12349)</code> | The request to http://localhost:4000/api/channel failed with a 400 Bad Request status code. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51536?repo=metabase/metabase&commitHash=14d05422c09497750521adb7596bd0a41cbbfff8&utm_source=gh-comment&runConclusion=FAILURE&runId=b09427e4-b0d8-5e60-b31e-2b388b87f468) |
| <code>scenarios > alert with a webhook ""before each"" hook for ""should be able to create and delete alerts with webhooks enabled""</code> | Failed to connect to channel with a 400 Bad Request error. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51536?repo=metabase/metabase&commitHash=14d05422c09497750521adb7596bd0a41cbbfff8&utm_source=gh-comment&runConclusion=FAILURE&runId=27c6c824-cb06-5754-b089-6e39c49de08f) |

[... and 6 more](https://app.trunk.io/metabase/flaky-tests/pr/51536?repo=metabase/metabase&commitHash=14d05422c09497750521adb7596bd0a41cbbfff8&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51536?repo=metabase/metabase&commitHash=14d05422c09497750521adb7596bd0a41cbbfff8&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2751189090,pull_request,closed,,"ü§ñ backported ""Try a band-aid fix for native editor e2e flakes""",#51528,github-automation-metabase,2024-12-19 18:50:08+00:00,"['nemanjaglumac', 'github-automation-metabase']",2024-12-19 20:21:41+00:00,2024-12-19 19:30:14+00:00,https://github.com/metabase/metabase/pull/51535,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2555658889, 'issue_id': 2751189090, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3406_tests-5333ea82-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51535?repo=metabase/metabase&commitHash=5333ea829749ac77fe3d36d6fc59c41ee9dac50f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51535?repo=metabase/metabase&commitHash=5333ea829749ac77fe3d36d6fc59c41ee9dac50f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51535?repo=metabase/metabase&commitHash=5333ea829749ac77fe3d36d6fc59c41ee9dac50f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51535?repo=metabase/metabase&commitHash=5333ea829749ac77fe3d36d6fc59c41ee9dac50f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51535?repo=metabase/metabase&commitHash=5333ea829749ac77fe3d36d6fc59c41ee9dac50f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 19, 53, 35, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 19:53:35 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3406_tests-5333ea82-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51535?repo=metabase/metabase&commitHash=5333ea829749ac77fe3d36d6fc59c41ee9dac50f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51535?repo=metabase/metabase&commitHash=5333ea829749ac77fe3d36d6fc59c41ee9dac50f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51535?repo=metabase/metabase&commitHash=5333ea829749ac77fe3d36d6fc59c41ee9dac50f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51535?repo=metabase/metabase&commitHash=5333ea829749ac77fe3d36d6fc59c41ee9dac50f&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51535?repo=metabase/metabase&commitHash=5333ea829749ac77fe3d36d6fc59c41ee9dac50f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2751146916,pull_request,closed,,Find outliers tool,"Closes #51639

There are also some unrelated changes I threw in here:

- remove a bit of unnecessary serialization of output (we do this
automatically now)

- delete a stale tool that is no longer part of toolbox v1 (I noticed
the LLM trying to call it)

- some QOL improvements for the REPL namespace, allowing us to start up a REPL with a particular context for testing.",johnswanson,2024-12-19 18:24:41+00:00,['johnswanson'],2024-12-27 21:10:30+00:00,2024-12-27 20:17:41+00:00,https://github.com/metabase/metabase/pull/51534,"[('Metabot/General', 'General Metabot AI')]","[{'comment_id': 2555606816, 'issue_id': 2751146916, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/121660_tests-7393a967-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51534?repo=metabase/metabase&commitHash=7393a967ee20a54f75e1ab77171eb0e1feecd242&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51534?repo=metabase/metabase&commitHash=7393a967ee20a54f75e1ab77171eb0e1feecd242&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51534?repo=metabase/metabase&commitHash=7393a967ee20a54f75e1ab77171eb0e1feecd242&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51534?repo=metabase/metabase&commitHash=7393a967ee20a54f75e1ab77171eb0e1feecd242&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51534?repo=metabase/metabase&commitHash=7393a967ee20a54f75e1ab77171eb0e1feecd242&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 19, 21, 1, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 19:21:01 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/121660_tests-7393a967-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51534?repo=metabase/metabase&commitHash=7393a967ee20a54f75e1ab77171eb0e1feecd242&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51534?repo=metabase/metabase&commitHash=7393a967ee20a54f75e1ab77171eb0e1feecd242&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51534?repo=metabase/metabase&commitHash=7393a967ee20a54f75e1ab77171eb0e1feecd242&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51534?repo=metabase/metabase&commitHash=7393a967ee20a54f75e1ab77171eb0e1feecd242&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51534?repo=metabase/metabase&commitHash=7393a967ee20a54f75e1ab77171eb0e1feecd242&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2751132192,pull_request,closed,,"ü§ñ backported ""Convert ChartSettingSelect to Mantine""",#50977,github-automation-metabase,2024-12-19 18:15:49+00:00,"['oisincoveney', 'github-automation-metabase']",2024-12-19 19:46:26+00:00,2024-12-19 18:57:17+00:00,https://github.com/metabase/metabase/pull/51533,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2555492964, 'issue_id': 2751132192, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 7c859a25bfb9bf7183768df68822bf608341acb6...c7e4a5ce8b334e3c54283d3b8097596a55ae46f8.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettingsWidget.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingActionIcon.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingColorPicker/ChartSettingColorPicker.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingFieldPicker.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingFieldPicker.styled.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingFieldPicker.unit.spec.js<br>frontend/src/metabase/visualizations/components/settings/ChartSettingFieldsPicker.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingFieldsPicker.unit.spec.js<br>frontend/src/metabase/visualizations/components/settings/ChartSettingMessage.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingSelect.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingSelect.styled.tsx<br>frontend/src/metabase/visualizations/lib/settings.js<br>frontend/src/metabase/visualizations/visualizations/BarChart.unit.spec.tsx<br>frontend/src/metabase/visualizations/visualizations/PieChart/DimensionsWidget.tsx |', 'created_at': datetime.datetime(2024, 12, 19, 18, 17, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2555578824, 'issue_id': 2751132192, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51339_tests-c7e4a5ce-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51533?repo=metabase/metabase&commitHash=c7e4a5ce8b334e3c54283d3b8097596a55ae46f8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51533?repo=metabase/metabase&commitHash=c7e4a5ce8b334e3c54283d3b8097596a55ae46f8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51533?repo=metabase/metabase&commitHash=c7e4a5ce8b334e3c54283d3b8097596a55ae46f8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51533?repo=metabase/metabase&commitHash=c7e4a5ce8b334e3c54283d3b8097596a55ae46f8&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51533?repo=metabase/metabase&commitHash=c7e4a5ce8b334e3c54283d3b8097596a55ae46f8&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 19, 6, 26, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-12-19 18:17:25 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 7c859a25bfb9bf7183768df68822bf608341acb6...c7e4a5ce8b334e3c54283d3b8097596a55ae46f8.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettingsWidget.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingActionIcon.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingColorPicker/ChartSettingColorPicker.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingFieldPicker.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingFieldPicker.styled.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingFieldPicker.unit.spec.js<br>frontend/src/metabase/visualizations/components/settings/ChartSettingFieldsPicker.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingFieldsPicker.unit.spec.js<br>frontend/src/metabase/visualizations/components/settings/ChartSettingMessage.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingSelect.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingSelect.styled.tsx<br>frontend/src/metabase/visualizations/lib/settings.js<br>frontend/src/metabase/visualizations/visualizations/BarChart.unit.spec.tsx<br>frontend/src/metabase/visualizations/visualizations/PieChart/DimensionsWidget.tsx |

trunk-io[bot] on (2024-12-19 19:06:26 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51339_tests-c7e4a5ce-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51533?repo=metabase/metabase&commitHash=c7e4a5ce8b334e3c54283d3b8097596a55ae46f8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51533?repo=metabase/metabase&commitHash=c7e4a5ce8b334e3c54283d3b8097596a55ae46f8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51533?repo=metabase/metabase&commitHash=c7e4a5ce8b334e3c54283d3b8097596a55ae46f8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51533?repo=metabase/metabase&commitHash=c7e4a5ce8b334e3c54283d3b8097596a55ae46f8&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51533?repo=metabase/metabase&commitHash=c7e4a5ce8b334e3c54283d3b8097596a55ae46f8&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2751123478,pull_request,closed,,Merge master to metabot-v3-second-try,Not to be merged.,metamben,2024-12-19 18:10:19+00:00,['metamben'],2025-02-04 20:00:23+00:00,2024-12-19 18:59:16+00:00,https://github.com/metabase/metabase/pull/51532,"[('Metabot/General', 'General Metabot AI'), ('.Team/Querying', '')]","[{'comment_id': 2555484119, 'issue_id': 2751123478, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 1b3e6213c7fb36ca12ade51ad79e9bd268a580bf...b392a0de98590a13a15650bd7e75ff4be4599eba.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/click-actions/Mode/Mode.ts<br>frontend/src/metabase/visualizations/click-actions/actions/ColumnFormattingAction/ColumnFormattingAction.tsx<br>frontend/src/metabase/visualizations/click-actions/lib/modes.ts<br>frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.module.css<br>frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.stories.tsx<br>frontend/src/metabase/visualizations/components/ChartWithLegend.jsx<br>frontend/src/metabase/visualizations/components/ChartWithLegend.unit.spec.jsx<br>frontend/src/metabase/visualizations/components/ChoroplethMap.jsx<br>frontend/src/metabase/visualizations/components/ChoroplethMap.unit.spec.js<br>frontend/src/metabase/visualizations/components/ClickActions/ClickActionsPopover.tsx<br>frontend/src/metabase/visualizations/components/ClickActions/ClickActionsView.tsx<br>frontend/src/metabase/visualizations/components/EChartsRenderer/EChartsRenderer.styled.tsx<br>frontend/src/metabase/visualizations/components/LegendVertical.jsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetail.tsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetailsTable.tsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetailsTable.unit.spec.tsx<br>frontend/src/metabase/visualizations/components/TableInteractive/TableInteractive.jsx<br>frontend/src/metabase/visualizations/components/TableInteractive/TableInteractive.module.css<br>frontend/src/metabase/visualizations/components/TableSimple/TableSimple.tsx<br>frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartNestedSettingSeriesMultiple.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartNestedSettingSeriesSingle.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingColorPicker/ChartSettingColorPicker.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingFieldPicker.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingGaugeSegments.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingInput.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingInputGroup.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingInputNumeric.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingMaxCategories.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingRadio.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingRadio.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingSegmentedControl.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingSegmentedControl/ChartSettingSegmentedControl.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingSegmentedControl/ChartSettingSegmentedControl.unit.spec.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingSegmentedControl/index.ts<br>frontend/src/metabase/visualizations/components/settings/ChartSettingSeriesOrder.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingToggle.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingToggle.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingsTableFormatting.jsx<br>frontend/src/metabase/visualizations/components/skeletons/ProgressSkeleton/ProgressSkeleton.styled.tsx<br>frontend/src/metabase/visualizations/echarts/cartesian/chart-measurements/index.ts<br>frontend/src/metabase/visualizations/echarts/cartesian/chart-measurements/types.ts<br>frontend/src/metabase/visualizations/echarts/cartesian/constants/dataset.ts<br>frontend/src/metabase/visualizations/echarts/cartesian/option/series.ts<br>frontend/src/metabase/visualizations/echarts/cartesian/waterfall/model/dataset.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/constants/style.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/layout/index.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/layout/types.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/model/dataset.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/model/dataset.unit.spec.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/model/formatters.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/model/index.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/model/types.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/option/index.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/option/tooltip.tsx<br>frontend/src/metabase/visualizations/echarts/index.ts<br>frontend/src/metabase/visualizations/echarts/pie/model/index.ts<br>frontend/src/metabase/visualizations/echarts/pie/model/types.ts<br>frontend/src/metabase/visualizations/echarts/pie/option.ts<br>frontend/src/metabase/visualizations/echarts/tooltip/index.tsx<br>frontend/src/metabase/visualizations/echarts/types.ts<br>frontend/src/metabase/visualizations/lib/save-dashboard-pdf.ts<br>frontend/src/metabase/visualizations/lib/save-dashboard-pdf.unit.spec.ts<br>frontend/src/metabase/visualizations/lib/settings.js<br>frontend/src/metabase/visualizations/lib/settings/column.js<br>frontend/src/metabase/visualizations/lib/settings/graph.js<br>frontend/src/metabase/visualizations/lib/settings/graph.unit.spec.js<br>frontend/src/metabase/visualizations/lib/settings/utils.js<br>frontend/src/metabase/visualizations/lib/settings/visualization.unit.spec.js<br>frontend/src/metabase/visualizations/lib/table.js<br>frontend/src/metabase/visualizations/lib/utils.js<br>frontend/src/metabase/visualizations/lib/utils.unit.spec.js<br>frontend/src/metabase/visualizations/register.js<br>frontend/src/metabase/visualizations/shared/settings/cartesian-chart.ts<br>frontend/src/metabase/visualizations/types/visualization.ts<br>frontend/src/metabase/visualizations/visualizations/CartesianChart/events.ts<br>frontend/src/metabase/visualizations/visualizations/CartesianChart/use-chart-events.ts<br>frontend/src/metabase/visualizations/visualizations/IFrameViz/IFrameViz.tsx<br>frontend/src/metabase/visualizations/visualizations/IFrameViz/IFrameViz.unit.spec.tsx<br>frontend/src/metabase/visualizations/visualizations/IFrameViz/utils.ts<br>frontend/src/metabase/visualizations/visualizations/IFrameViz/utils.unit.spec.ts<br>frontend/src/metabase/visualizations/visualizations/PieChart/PieChart.tsx<br>frontend/src/metabase/visualizations/visualizations/PieChart/chart-definition.ts<br>frontend/src/metabase/visualizations/visualizations/PieChart/use-chart-events.ts<br>frontend/src/metabase/visualizations/visualizations/PivotTable/PivotTable.tsx<br>frontend/src/metabase/visualizations/visualizations/PivotTable/PivotTableCell.tsx<br>frontend/src/metabase/visualizations/visualizations/PivotTable/settings.ts<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/SankeyChart.stories.tsx<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/SankeyChart.tsx<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/chart-definition.ts<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/chart-definition.unit.spec.ts<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/events.ts<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/events.unit.spec.ts<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/index.ts<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/stories-data/index.ts<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/stories-data/sankey-disconnected-graphs.json<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/stories-data/sankey-edge-labels-auto.json<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/stories-data/sankey-edge-labels-compact.json<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/stories-data/sankey-edge-labels-full.json<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/stories-data/sankey-gray-edges.json<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/stories-data/sankey-node-align-justify.json<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/stories-data/sankey-node-align-left.json<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/stories-data/sankey-node-align-right.json<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/stories-data/sankey-target-color-edges.json<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/stories-data/sankey-unaggregated-data.json<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/stories-data/sankey-with-edges-labels.json<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/utils/cycle-detection.ts<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/utils/cycle-detection.unit.spec.ts<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/SmartScalar.stories.tsx<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/tests/SmartScalar.unit.spec.js<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/tests/test-mocks.ts |\n| @kdoh | frontend/src/metabase/ui/components/feedback/Skeleton/Skeleton.styled.tsx<br>frontend/src/metabase/ui/components/icons/Icon/icons/bug.svg<br>frontend/src/metabase/ui/components/icons/Icon/icons/index.ts<br>frontend/src/metabase/ui/components/icons/Icon/icons/sankey.svg<br>frontend/src/metabase/ui/components/icons/Icon/icons/time_history.svg<br>frontend/src/metabase/ui/components/inputs/Checkbox/Checkbox.styled.tsx<br>frontend/src/metabase/ui/components/inputs/SegmentedControl/SegmentedControl.styled.tsx<br>frontend/src/metabase/ui/components/navigation/NavLink/NavLink.styled.tsx<br>frontend/src/metabase/ui/components/navigation/NavLink/index.ts<br>frontend/src/metabase/ui/components/overlays/HoverCard/HoverCard.styled.tsx<br>frontend/src/metabase/ui/components/overlays/HoverCard/index.tsx<br>frontend/src/metabase/ui/components/overlays/Menu/Menu.styled.tsx<br>frontend/src/metabase/ui/components/overlays/Menu/MenuDropdown/MenuDropdown.tsx<br>frontend/src/metabase/ui/components/overlays/Menu/MenuItem/MenuItem.tsx<br>frontend/src/metabase/ui/components/overlays/Modal/Modal.stories.tsx<br>frontend/src/metabase/ui/components/overlays/Modal/Modal.styled.tsx<br>frontend/src/metabase/ui/components/overlays/Modal/index.ts<br>frontend/src/metabase/ui/components/overlays/Modal/index.tsx<br>frontend/src/metabase/ui/components/overlays/Overlay/Overlay.styled.tsx<br>frontend/src/metabase/ui/components/overlays/Overlay/index.ts<br>frontend/src/metabase/ui/components/overlays/Overlay/index.tsx<br>frontend/src/metabase/ui/components/overlays/Popover/Popover.styled.tsx<br>frontend/src/metabase/ui/components/overlays/Popover/PopoverWithRef.tsx<br>frontend/src/metabase/ui/components/overlays/Popover/index.tsx<br>frontend/src/metabase/ui/components/overlays/Tooltip/Tooltip.styled.tsx<br>frontend/src/metabase/ui/components/typography/List/List.styled.tsx<br>frontend/src/metabase/ui/components/utils/Portal/index.ts<br>frontend/src/metabase/ui/components/utils/Portal/index.tsx<br>frontend/src/metabase/ui/components/utils/PreventEagerPortal/index.tsx<br>frontend/src/metabase/ui/components/utils/index.ts<br>frontend/src/metabase/ui/theme.ts<br>src/metabase/email/alert.hbs<br>src/metabase/email/alert_new_confirmation.hbs<br>src/metabase/email/dashboard_subscription.hbs<br>src/metabase/email/messages.clj<br>src/metabase/email/new_user_invite.hbs<br>src/metabase/email/persisted-model-error.hbs<br>src/metabase/email/result_attachment.clj<br>src/metabase/email/slack_token_error.hbs |', 'created_at': datetime.datetime(2024, 12, 19, 18, 12, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2555641416, 'issue_id': 2751123478, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/9570_tests-b392a0de-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51532?repo=metabase/metabase&commitHash=b392a0de98590a13a15650bd7e75ff4be4599eba&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51532?repo=metabase/metabase&commitHash=b392a0de98590a13a15650bd7e75ff4be4599eba&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51532?repo=metabase/metabase&commitHash=b392a0de98590a13a15650bd7e75ff4be4599eba&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51532?repo=metabase/metabase&commitHash=b392a0de98590a13a15650bd7e75ff4be4599eba&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>metabot ui should not show metabot if the is not signed in user</code> | The maximum call stack size was exceeded, indicating a recursive function call that did not terminate. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51532?repo=metabase/metabase&commitHash=b392a0de98590a13a15650bd7e75ff4be4599eba&utm_source=gh-comment&runConclusion=FAILURE&runId=6a902556-6c60-5bf8-95a4-0740808cfe04) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51532?repo=metabase/metabase&commitHash=b392a0de98590a13a15650bd7e75ff4be4599eba&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 19, 42, 15, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-12-19 18:12:21 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 1b3e6213c7fb36ca12ade51ad79e9bd268a580bf...b392a0de98590a13a15650bd7e75ff4be4599eba.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/click-actions/Mode/Mode.ts<br>frontend/src/metabase/visualizations/click-actions/actions/ColumnFormattingAction/ColumnFormattingAction.tsx<br>frontend/src/metabase/visualizations/click-actions/lib/modes.ts<br>frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.module.css<br>frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.stories.tsx<br>frontend/src/metabase/visualizations/components/ChartWithLegend.jsx<br>frontend/src/metabase/visualizations/components/ChartWithLegend.unit.spec.jsx<br>frontend/src/metabase/visualizations/components/ChoroplethMap.jsx<br>frontend/src/metabase/visualizations/components/ChoroplethMap.unit.spec.js<br>frontend/src/metabase/visualizations/components/ClickActions/ClickActionsPopover.tsx<br>frontend/src/metabase/visualizations/components/ClickActions/ClickActionsView.tsx<br>frontend/src/metabase/visualizations/components/EChartsRenderer/EChartsRenderer.styled.tsx<br>frontend/src/metabase/visualizations/components/LegendVertical.jsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetail.tsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetailsTable.tsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetailsTable.unit.spec.tsx<br>frontend/src/metabase/visualizations/components/TableInteractive/TableInteractive.jsx<br>frontend/src/metabase/visualizations/components/TableInteractive/TableInteractive.module.css<br>frontend/src/metabase/visualizations/components/TableSimple/TableSimple.tsx<br>frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartNestedSettingSeriesMultiple.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartNestedSettingSeriesSingle.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingColorPicker/ChartSettingColorPicker.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingFieldPicker.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingGaugeSegments.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingInput.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingInputGroup.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingInputNumeric.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingMaxCategories.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingRadio.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingRadio.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingSegmentedControl.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingSegmentedControl/ChartSettingSegmentedControl.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingSegmentedControl/ChartSettingSegmentedControl.unit.spec.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingSegmentedControl/index.ts<br>frontend/src/metabase/visualizations/components/settings/ChartSettingSeriesOrder.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingToggle.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingToggle.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingsTableFormatting.jsx<br>frontend/src/metabase/visualizations/components/skeletons/ProgressSkeleton/ProgressSkeleton.styled.tsx<br>frontend/src/metabase/visualizations/echarts/cartesian/chart-measurements/index.ts<br>frontend/src/metabase/visualizations/echarts/cartesian/chart-measurements/types.ts<br>frontend/src/metabase/visualizations/echarts/cartesian/constants/dataset.ts<br>frontend/src/metabase/visualizations/echarts/cartesian/option/series.ts<br>frontend/src/metabase/visualizations/echarts/cartesian/waterfall/model/dataset.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/constants/style.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/layout/index.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/layout/types.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/model/dataset.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/model/dataset.unit.spec.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/model/formatters.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/model/index.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/model/types.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/option/index.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/option/tooltip.tsx<br>frontend/src/metabase/visualizations/echarts/index.ts<br>frontend/src/metabase/visualizations/echarts/pie/model/index.ts<br>frontend/src/metabase/visualizations/echarts/pie/model/types.ts<br>frontend/src/metabase/visualizations/echarts/pie/option.ts<br>frontend/src/metabase/visualizations/echarts/tooltip/index.tsx<br>frontend/src/metabase/visualizations/echarts/types.ts<br>frontend/src/metabase/visualizations/lib/save-dashboard-pdf.ts<br>frontend/src/metabase/visualizations/lib/save-dashboard-pdf.unit.spec.ts<br>frontend/src/metabase/visualizations/lib/settings.js<br>frontend/src/metabase/visualizations/lib/settings/column.js<br>frontend/src/metabase/visualizations/lib/settings/graph.js<br>frontend/src/metabase/visualizations/lib/settings/graph.unit.spec.js<br>frontend/src/metabase/visualizations/lib/settings/utils.js<br>frontend/src/metabase/visualizations/lib/settings/visualization.unit.spec.js<br>frontend/src/metabase/visualizations/lib/table.js<br>frontend/src/metabase/visualizations/lib/utils.js<br>frontend/src/metabase/visualizations/lib/utils.unit.spec.js<br>frontend/src/metabase/visualizations/register.js<br>frontend/src/metabase/visualizations/shared/settings/cartesian-chart.ts<br>frontend/src/metabase/visualizations/types/visualization.ts<br>frontend/src/metabase/visualizations/visualizations/CartesianChart/events.ts<br>frontend/src/metabase/visualizations/visualizations/CartesianChart/use-chart-events.ts<br>frontend/src/metabase/visualizations/visualizations/IFrameViz/IFrameViz.tsx<br>frontend/src/metabase/visualizations/visualizations/IFrameViz/IFrameViz.unit.spec.tsx<br>frontend/src/metabase/visualizations/visualizations/IFrameViz/utils.ts<br>frontend/src/metabase/visualizations/visualizations/IFrameViz/utils.unit.spec.ts<br>frontend/src/metabase/visualizations/visualizations/PieChart/PieChart.tsx<br>frontend/src/metabase/visualizations/visualizations/PieChart/chart-definition.ts<br>frontend/src/metabase/visualizations/visualizations/PieChart/use-chart-events.ts<br>frontend/src/metabase/visualizations/visualizations/PivotTable/PivotTable.tsx<br>frontend/src/metabase/visualizations/visualizations/PivotTable/PivotTableCell.tsx<br>frontend/src/metabase/visualizations/visualizations/PivotTable/settings.ts<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/SankeyChart.stories.tsx<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/SankeyChart.tsx<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/chart-definition.ts<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/chart-definition.unit.spec.ts<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/events.ts<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/events.unit.spec.ts<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/index.ts<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/stories-data/index.ts<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/stories-data/sankey-disconnected-graphs.json<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/stories-data/sankey-edge-labels-auto.json<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/stories-data/sankey-edge-labels-compact.json<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/stories-data/sankey-edge-labels-full.json<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/stories-data/sankey-gray-edges.json<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/stories-data/sankey-node-align-justify.json<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/stories-data/sankey-node-align-left.json<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/stories-data/sankey-node-align-right.json<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/stories-data/sankey-target-color-edges.json<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/stories-data/sankey-unaggregated-data.json<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/stories-data/sankey-with-edges-labels.json<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/utils/cycle-detection.ts<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/utils/cycle-detection.unit.spec.ts<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/SmartScalar.stories.tsx<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/tests/SmartScalar.unit.spec.js<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/tests/test-mocks.ts |
| @kdoh | frontend/src/metabase/ui/components/feedback/Skeleton/Skeleton.styled.tsx<br>frontend/src/metabase/ui/components/icons/Icon/icons/bug.svg<br>frontend/src/metabase/ui/components/icons/Icon/icons/index.ts<br>frontend/src/metabase/ui/components/icons/Icon/icons/sankey.svg<br>frontend/src/metabase/ui/components/icons/Icon/icons/time_history.svg<br>frontend/src/metabase/ui/components/inputs/Checkbox/Checkbox.styled.tsx<br>frontend/src/metabase/ui/components/inputs/SegmentedControl/SegmentedControl.styled.tsx<br>frontend/src/metabase/ui/components/navigation/NavLink/NavLink.styled.tsx<br>frontend/src/metabase/ui/components/navigation/NavLink/index.ts<br>frontend/src/metabase/ui/components/overlays/HoverCard/HoverCard.styled.tsx<br>frontend/src/metabase/ui/components/overlays/HoverCard/index.tsx<br>frontend/src/metabase/ui/components/overlays/Menu/Menu.styled.tsx<br>frontend/src/metabase/ui/components/overlays/Menu/MenuDropdown/MenuDropdown.tsx<br>frontend/src/metabase/ui/components/overlays/Menu/MenuItem/MenuItem.tsx<br>frontend/src/metabase/ui/components/overlays/Modal/Modal.stories.tsx<br>frontend/src/metabase/ui/components/overlays/Modal/Modal.styled.tsx<br>frontend/src/metabase/ui/components/overlays/Modal/index.ts<br>frontend/src/metabase/ui/components/overlays/Modal/index.tsx<br>frontend/src/metabase/ui/components/overlays/Overlay/Overlay.styled.tsx<br>frontend/src/metabase/ui/components/overlays/Overlay/index.ts<br>frontend/src/metabase/ui/components/overlays/Overlay/index.tsx<br>frontend/src/metabase/ui/components/overlays/Popover/Popover.styled.tsx<br>frontend/src/metabase/ui/components/overlays/Popover/PopoverWithRef.tsx<br>frontend/src/metabase/ui/components/overlays/Popover/index.tsx<br>frontend/src/metabase/ui/components/overlays/Tooltip/Tooltip.styled.tsx<br>frontend/src/metabase/ui/components/typography/List/List.styled.tsx<br>frontend/src/metabase/ui/components/utils/Portal/index.ts<br>frontend/src/metabase/ui/components/utils/Portal/index.tsx<br>frontend/src/metabase/ui/components/utils/PreventEagerPortal/index.tsx<br>frontend/src/metabase/ui/components/utils/index.ts<br>frontend/src/metabase/ui/theme.ts<br>src/metabase/email/alert.hbs<br>src/metabase/email/alert_new_confirmation.hbs<br>src/metabase/email/dashboard_subscription.hbs<br>src/metabase/email/messages.clj<br>src/metabase/email/new_user_invite.hbs<br>src/metabase/email/persisted-model-error.hbs<br>src/metabase/email/result_attachment.clj<br>src/metabase/email/slack_token_error.hbs |

trunk-io[bot] on (2024-12-19 19:42:15 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/9570_tests-b392a0de-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51532?repo=metabase/metabase&commitHash=b392a0de98590a13a15650bd7e75ff4be4599eba&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51532?repo=metabase/metabase&commitHash=b392a0de98590a13a15650bd7e75ff4be4599eba&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51532?repo=metabase/metabase&commitHash=b392a0de98590a13a15650bd7e75ff4be4599eba&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51532?repo=metabase/metabase&commitHash=b392a0de98590a13a15650bd7e75ff4be4599eba&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>metabot ui should not show metabot if the is not signed in user</code> | The maximum call stack size was exceeded, indicating a recursive function call that did not terminate. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51532?repo=metabase/metabase&commitHash=b392a0de98590a13a15650bd7e75ff4be4599eba&utm_source=gh-comment&runConclusion=FAILURE&runId=6a902556-6c60-5bf8-95a4-0740808cfe04) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51532?repo=metabase/metabase&commitHash=b392a0de98590a13a15650bd7e75ff4be4599eba&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2751119239,pull_request,closed,,Fix instance stats cypress test + ensure it runs in CI,"Context: https://metaboat.slack.com/archives/C064EB1UE5P/p1734632025761349?thread_ts=1734627251.422309&cid=C064EB1UE5P 

This PR
* Adds the `stats` test directory to the GH actions e2e test matrix so that it actually runs
* Updates `instance-stats-snowplow.cy.spec.js` to use `expectGoodSnowplowEvents` instead of `expectGoodSnowplowEvent` (the correct API now)
* Adds a try/catch around the code that tries to read `/proc/self/cgroup` since that can throw if there aren't read perms for that file (which seems to be the case in CI). This is a best-effort helper function for detecting if we're in a docker container (there doesn't seem to be a 100% reliable method) so if we can't read that file we can just move on.",noahmoss,2024-12-19 18:07:40+00:00,['noahmoss'],2024-12-23 15:08:19+00:00,2024-12-19 20:19:53+00:00,https://github.com/metabase/metabase/pull/51531,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2555476772, 'issue_id': 2751119239, 'author': 'noahmoss', 'body': '* **#51531** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51531?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51531?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 12, 19, 18, 7, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2555558970, 'issue_id': 2751119239, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/125455_tests-7f8e1ae3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51531?repo=metabase/metabase&commitHash=7f8e1ae3dacd4a855e7a91d42a4c65fd74169369&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51531?repo=metabase/metabase&commitHash=7f8e1ae3dacd4a855e7a91d42a4c65fd74169369&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51531?repo=metabase/metabase&commitHash=7f8e1ae3dacd4a855e7a91d42a4c65fd74169369&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51531?repo=metabase/metabase&commitHash=7f8e1ae3dacd4a855e7a91d42a4c65fd74169369&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51531?repo=metabase/metabase&commitHash=7f8e1ae3dacd4a855e7a91d42a4c65fd74169369&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 18, 54, 30, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2024-12-19 18:07:58 UTC): * **#51531** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51531?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51531?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2024-12-19 18:54:30 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/125455_tests-7f8e1ae3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51531?repo=metabase/metabase&commitHash=7f8e1ae3dacd4a855e7a91d42a4c65fd74169369&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51531?repo=metabase/metabase&commitHash=7f8e1ae3dacd4a855e7a91d42a4c65fd74169369&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51531?repo=metabase/metabase&commitHash=7f8e1ae3dacd4a855e7a91d42a4c65fd74169369&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51531?repo=metabase/metabase&commitHash=7f8e1ae3dacd4a855e7a91d42a4c65fd74169369&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51531?repo=metabase/metabase&commitHash=7f8e1ae3dacd4a855e7a91d42a4c65fd74169369&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2751073532,pull_request,closed,,"ü§ñ backported ""quarantine flakes caused by problems with typing in the native editor""",#51520,github-automation-metabase,2024-12-19 17:49:27+00:00,"['alxnddr', 'github-automation-metabase']",2024-12-19 19:16:47+00:00,2024-12-19 18:50:31+00:00,https://github.com/metabase/metabase/pull/51530,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2555573317, 'issue_id': 2751073532, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3574_tests-bc155197-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51530?repo=metabase/metabase&commitHash=bc155197d5c700939858d23abed9a703f7451b30&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51530?repo=metabase/metabase&commitHash=bc155197d5c700939858d23abed9a703f7451b30&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51530?repo=metabase/metabase&commitHash=bc155197d5c700939858d23abed9a703f7451b30&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51530?repo=metabase/metabase&commitHash=bc155197d5c700939858d23abed9a703f7451b30&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > public > question should be able to view public questions with card template tags</code> | The element with data-testid 'cell-data' was not found within 4000ms, causing a timeout. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51530?repo=metabase/metabase&commitHash=bc155197d5c700939858d23abed9a703f7451b30&utm_source=gh-comment&runConclusion=FAILURE&runId=954c2712-eb8b-58e6-b2e1-1a9826200dc1) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51530?repo=metabase/metabase&commitHash=bc155197d5c700939858d23abed9a703f7451b30&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 19, 19, 3, 23, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 19:03:23 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3574_tests-bc155197-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51530?repo=metabase/metabase&commitHash=bc155197d5c700939858d23abed9a703f7451b30&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51530?repo=metabase/metabase&commitHash=bc155197d5c700939858d23abed9a703f7451b30&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51530?repo=metabase/metabase&commitHash=bc155197d5c700939858d23abed9a703f7451b30&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51530?repo=metabase/metabase&commitHash=bc155197d5c700939858d23abed9a703f7451b30&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > public > question should be able to view public questions with card template tags</code> | The element with data-testid 'cell-data' was not found within 4000ms, causing a timeout. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51530?repo=metabase/metabase&commitHash=bc155197d5c700939858d23abed9a703f7451b30&utm_source=gh-comment&runConclusion=FAILURE&runId=954c2712-eb8b-58e6-b2e1-1a9826200dc1) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51530?repo=metabase/metabase&commitHash=bc155197d5c700939858d23abed9a703f7451b30&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2751015794,pull_request,closed,,"ü§ñ backported ""perf: Add fastpaths to url? and email? predicates""",#51522,github-automation-metabase,2024-12-19 17:25:46+00:00,"['alexander-yakushev', 'github-automation-metabase']",2024-12-19 21:14:15+00:00,2024-12-19 21:14:13+00:00,https://github.com/metabase/metabase/pull/51529,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2555505281, 'issue_id': 2751015794, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/135334_tests-a00c0987-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51529?repo=metabase/metabase&commitHash=a00c09876752804209ec96ba8f09e31d9af89bdf&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51529?repo=metabase/metabase&commitHash=a00c09876752804209ec96ba8f09e31d9af89bdf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51529?repo=metabase/metabase&commitHash=a00c09876752804209ec96ba8f09e31d9af89bdf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51529?repo=metabase/metabase&commitHash=a00c09876752804209ec96ba8f09e31d9af89bdf&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they were missing. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51529?repo=metabase/metabase&commitHash=a00c09876752804209ec96ba8f09e31d9af89bdf&utm_source=gh-comment&runConclusion=FAILURE&runId=4f734d00-c195-545e-87a5-8ed7c4dad7f1) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51529?repo=metabase/metabase&commitHash=a00c09876752804209ec96ba8f09e31d9af89bdf&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 18, 24, 38, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 18:24:38 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/135334_tests-a00c0987-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51529?repo=metabase/metabase&commitHash=a00c09876752804209ec96ba8f09e31d9af89bdf&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51529?repo=metabase/metabase&commitHash=a00c09876752804209ec96ba8f09e31d9af89bdf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51529?repo=metabase/metabase&commitHash=a00c09876752804209ec96ba8f09e31d9af89bdf&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51529?repo=metabase/metabase&commitHash=a00c09876752804209ec96ba8f09e31d9af89bdf&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they were missing. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51529?repo=metabase/metabase&commitHash=a00c09876752804209ec96ba8f09e31d9af89bdf&utm_source=gh-comment&runConclusion=FAILURE&runId=4f734d00-c195-545e-87a5-8ed7c4dad7f1) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51529?repo=metabase/metabase&commitHash=a00c09876752804209ec96ba8f09e31d9af89bdf&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2751002921,pull_request,closed,,Try a band-aid fix for native editor e2e flakes,"### What does this PR accomplish?
- Greatly reduces the chance of native-editor-related e2e tests flaking by waiting for the right UI state in order for Cypress to start typing.

The inline comment should be self-explanatory.


> [!NOTE]
> I was planning to remove all instances of `openNativeEditor` and replace them with the `startNewNativeQuestion` but didn't have enough time. Will do that tomorrow. In meantime, this fix should be more than enough to unblock `master`.",nemanjaglumac,2024-12-19 17:21:04+00:00,['nemanjaglumac'],2024-12-19 19:30:44+00:00,2024-12-19 18:49:17+00:00,https://github.com/metabase/metabase/pull/51528,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2555504277, 'issue_id': 2751002921, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3414_tests-2d6a46c7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51528?repo=metabase/metabase&commitHash=2d6a46c7fa9e93f1b736d97f746f8b7cf4d09f4f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51528?repo=metabase/metabase&commitHash=2d6a46c7fa9e93f1b736d97f746f8b7cf4d09f4f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51528?repo=metabase/metabase&commitHash=2d6a46c7fa9e93f1b736d97f746f8b7cf4d09f4f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51528?repo=metabase/metabase&commitHash=2d6a46c7fa9e93f1b736d97f746f8b7cf4d09f4f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51528?repo=metabase/metabase&commitHash=2d6a46c7fa9e93f1b736d97f746f8b7cf4d09f4f&utm_source=gh-comment&runConclusion=FAILURE&runId=1b83c78e-d901-505a-b65e-35d9385af751) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51528?repo=metabase/metabase&commitHash=2d6a46c7fa9e93f1b736d97f746f8b7cf4d09f4f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 18, 23, 58, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 18:23:58 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3414_tests-2d6a46c7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51528?repo=metabase/metabase&commitHash=2d6a46c7fa9e93f1b736d97f746f8b7cf4d09f4f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51528?repo=metabase/metabase&commitHash=2d6a46c7fa9e93f1b736d97f746f8b7cf4d09f4f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51528?repo=metabase/metabase&commitHash=2d6a46c7fa9e93f1b736d97f746f8b7cf4d09f4f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51528?repo=metabase/metabase&commitHash=2d6a46c7fa9e93f1b736d97f746f8b7cf4d09f4f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51528?repo=metabase/metabase&commitHash=2d6a46c7fa9e93f1b736d97f746f8b7cf4d09f4f&utm_source=gh-comment&runConclusion=FAILURE&runId=1b83c78e-d901-505a-b65e-35d9385af751) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51528?repo=metabase/metabase&commitHash=2d6a46c7fa9e93f1b736d97f746f8b7cf4d09f4f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2750990836,pull_request,closed,,"ü§ñ backported ""docs: Updating ""Export dashboard as PDF""""",#51506,github-automation-metabase,2024-12-19 17:16:21+00:00,"['abdhabli', 'github-automation-metabase']",2024-12-19 18:43:56+00:00,2024-12-19 17:17:56+00:00,https://github.com/metabase/metabase/pull/51527,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2555538438, 'issue_id': 2750990836, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/23_tests-59c20cc7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51527?repo=metabase/metabase&commitHash=59c20cc74aca9ad99ab4643281ee20c0ea9e0290&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51527?repo=metabase/metabase&commitHash=59c20cc74aca9ad99ab4643281ee20c0ea9e0290&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51527?repo=metabase/metabase&commitHash=59c20cc74aca9ad99ab4643281ee20c0ea9e0290&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51527?repo=metabase/metabase&commitHash=59c20cc74aca9ad99ab4643281ee20c0ea9e0290&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51527?repo=metabase/metabase&commitHash=59c20cc74aca9ad99ab4643281ee20c0ea9e0290&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 18, 43, 55, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 18:43:55 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/23_tests-59c20cc7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51527?repo=metabase/metabase&commitHash=59c20cc74aca9ad99ab4643281ee20c0ea9e0290&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51527?repo=metabase/metabase&commitHash=59c20cc74aca9ad99ab4643281ee20c0ea9e0290&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51527?repo=metabase/metabase&commitHash=59c20cc74aca9ad99ab4643281ee20c0ea9e0290&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51527?repo=metabase/metabase&commitHash=59c20cc74aca9ad99ab4643281ee20c0ea9e0290&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51527?repo=metabase/metabase&commitHash=59c20cc74aca9ad99ab4643281ee20c0ea9e0290&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2750926103,pull_request,closed,,ci: Cache final H2 app DB scheme when running tests,"This PR is a proof of concept. In some functions that are used in tests for bringing up a fresh H2 app db, It replaces running the whole stack of migrations with running migrations once, dumping the DB content into an SQL file, and then creating the subsequent DBs from that file. If the approach is deemed viable, I'll continue going in that direction and will implement the same logic for Postgres and MySQL app dbs.",alexander-yakushev,2024-12-19 16:52:15+00:00,['alexander-yakushev'],2025-01-31 01:56:17+00:00,2025-01-30 22:58:28+00:00,https://github.com/metabase/metabase/pull/51523,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2555402176, 'issue_id': 2750926103, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/94961_tests-38fc6764-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51523?repo=metabase/metabase&commitHash=38fc676404159b10793823720e2dfb26fdb39447&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51523?repo=metabase/metabase&commitHash=38fc676404159b10793823720e2dfb26fdb39447&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51523?repo=metabase/metabase&commitHash=38fc676404159b10793823720e2dfb26fdb39447&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51523?repo=metabase/metabase&commitHash=38fc676404159b10793823720e2dfb26fdb39447&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51523?repo=metabase/metabase&commitHash=38fc676404159b10793823720e2dfb26fdb39447&utm_source=gh-comment&runConclusion=FAILURE&runId=b7d2678f-d7e2-5e05-be1b-dad172ae153a) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:326:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\\#\'sync.fingerprint/max-refingerprint-field... | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51523?repo=metabase/metabase&commitHash=38fc676404159b10793823720e2dfb26fdb39447&utm_source=gh-comment&runConclusion=FAILURE&runId=780f8432-05a6-5a29-8d51-e25dd565a1ac) |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51523?repo=metabase/metabase&commitHash=38fc676404159b10793823720e2dfb26fdb39447&utm_source=gh-comment&runConclusion=FAILURE&runId=b3625eaf-7a74-5c10-bd10-5f13dca096a0) |\n| <code>issue 16559 should always show the most recent revision (metabase\\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51523?repo=metabase/metabase&commitHash=38fc676404159b10793823720e2dfb26fdb39447&utm_source=gh-comment&runConclusion=FAILURE&runId=92bee7c4-6cbc-5a63-bfb2-5b166f2e6a06) |\n| <code>delete-dimension-permissions-test</code> | Deadlock found when trying to get lock; try restarting transaction | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51523?repo=metabase/metabase&commitHash=38fc676404159b10793823720e2dfb26fdb39447&utm_source=gh-comment&runConclusion=FAILURE&runId=fdbef119-4c4d-55d9-91dc-03cad3a63a8c) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51523?repo=metabase/metabase&commitHash=38fc676404159b10793823720e2dfb26fdb39447&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 17, 52, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2619261936, 'issue_id': 2750926103, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `38fc676404159b10793823720e2dfb26fdb39447-2`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13013105744?pr=51523)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)', 'created_at': datetime.datetime(2025, 1, 28, 15, 3, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2625718476, 'issue_id': 2750926103, 'author': 'alexander-yakushev', 'body': '@camsaul It saves roughly 4 seconds per `with-empty-h2-app-db` invocation. When I was implementing this, I was testing it on `metabase-enterprise.serialization.v2.load-test` namespace, and there I cut down ~30 seconds just from that namespace locally (if I remember correctly). On CI, this number will fluctuate. My main idea is to go forward with this and see if it can easily be done for Postgres/MySQL dbs too ‚Äì\xa0I expect the benefit to be bigger there.', 'created_at': datetime.datetime(2025, 1, 30, 22, 21, 2, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 17:52:22 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/94961_tests-38fc6764-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51523?repo=metabase/metabase&commitHash=38fc676404159b10793823720e2dfb26fdb39447&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51523?repo=metabase/metabase&commitHash=38fc676404159b10793823720e2dfb26fdb39447&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51523?repo=metabase/metabase&commitHash=38fc676404159b10793823720e2dfb26fdb39447&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51523?repo=metabase/metabase&commitHash=38fc676404159b10793823720e2dfb26fdb39447&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51523?repo=metabase/metabase&commitHash=38fc676404159b10793823720e2dfb26fdb39447&utm_source=gh-comment&runConclusion=FAILURE&runId=b7d2678f-d7e2-5e05-be1b-dad172ae153a) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:326:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerprint-field... | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51523?repo=metabase/metabase&commitHash=38fc676404159b10793823720e2dfb26fdb39447&utm_source=gh-comment&runConclusion=FAILURE&runId=780f8432-05a6-5a29-8d51-e25dd565a1ac) |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | After reversing the migration, parameterMappings have no stage numbers, but expected stage numbers. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51523?repo=metabase/metabase&commitHash=38fc676404159b10793823720e2dfb26fdb39447&utm_source=gh-comment&runConclusion=FAILURE&runId=b3625eaf-7a74-5c10-bd10-5f13dca096a0) |
| <code>issue 16559 should always show the most recent revision (metabase\#16559)</code> | The test timed out while trying to find an element with data-testid ""sidesheet"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51523?repo=metabase/metabase&commitHash=38fc676404159b10793823720e2dfb26fdb39447&utm_source=gh-comment&runConclusion=FAILURE&runId=92bee7c4-6cbc-5a63-bfb2-5b166f2e6a06) |
| <code>delete-dimension-permissions-test</code> | Deadlock found when trying to get lock; try restarting transaction | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51523?repo=metabase/metabase&commitHash=38fc676404159b10793823720e2dfb26fdb39447&utm_source=gh-comment&runConclusion=FAILURE&runId=fdbef119-4c4d-55d9-91dc-03cad3a63a8c) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51523?repo=metabase/metabase&commitHash=38fc676404159b10793823720e2dfb26fdb39447&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-28 15:03:54 UTC): ## e2e tests failed on `38fc676404159b10793823720e2dfb26fdb39447-2`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13013105744?pr=51523)

  File | Test Name
  ---- | ---------
  `dashboard-reproductions.cy.spec.js` | (_flaky_) issue 16559 > should always show the most recent revision (metabase#16559)

alexander-yakushev (Issue Creator) on (2025-01-30 22:21:02 UTC): @camsaul It saves roughly 4 seconds per `with-empty-h2-app-db` invocation. When I was implementing this, I was testing it on `metabase-enterprise.serialization.v2.load-test` namespace, and there I cut down ~30 seconds just from that namespace locally (if I remember correctly). On CI, this number will fluctuate. My main idea is to go forward with this and see if it can easily be done for Postgres/MySQL dbs too ‚Äì¬†I expect the benefit to be bigger there.

"
2750846774,pull_request,closed,,perf: Add fastpaths to url? and email? predicates,"`email?` is pretty simple: there is this big, complex regex used for validation, but it obligates `@` to be present. So, checking for `@` inside the string first is a simple way to speed up the whole predicate (1.5us current vs ~20ns optimized).

Similar idea with `url?`, except that Apache UrlValidator tries to create a `java.net.URI` object underneath and throws an exception if the given string is not a URI, and that is incredibly expensive. The fast path helps a great ton here.
",alexander-yakushev,2024-12-19 16:22:07+00:00,['alexander-yakushev'],2024-12-19 21:14:43+00:00,2024-12-19 17:24:55+00:00,https://github.com/metabase/metabase/pull/51522,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2555243243, 'issue_id': 2750846774, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/148498_tests-ab753c71-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51522?repo=metabase/metabase&commitHash=ab753c712add0fc039243e61e60381a682e104fa&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51522?repo=metabase/metabase&commitHash=ab753c712add0fc039243e61e60381a682e104fa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51522?repo=metabase/metabase&commitHash=ab753c712add0fc039243e61e60381a682e104fa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51522?repo=metabase/metabase&commitHash=ab753c712add0fc039243e61e60381a682e104fa&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:329:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\\#'sync.fingerprint/max-refingerp... | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51522?repo=metabase/metabase&commitHash=ab753c712add0fc039243e61e60381a682e104fa&utm_source=gh-comment&runConclusion=FAILURE&runId=64ce4db8-67e3-597b-8d21-220a5f39c398) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>e2e-storage-ingestion-test</code> | Expected entity to match the extracted one, but actual entity was different. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51522?repo=metabase/metabase&commitHash=ab753c712add0fc039243e61e60381a682e104fa&utm_source=gh-comment&runConclusion=FAILURE&runId=75f885ef-67eb-5994-a869-2e645669d265) |\n| <code>e2e-storage-ingestion-test</code> | Expected entity to match the expected value, but actual value was different. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51522?repo=metabase/metabase&commitHash=ab753c712add0fc039243e61e60381a682e104fa&utm_source=gh-comment&runConclusion=FAILURE&runId=02c35f00-058b-5366-9b15-f23603b7a071) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51522?repo=metabase/metabase&commitHash=ab753c712add0fc039243e61e60381a682e104fa&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 19, 17, 22, 56, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 17:22:56 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/148498_tests-ab753c71-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51522?repo=metabase/metabase&commitHash=ab753c712add0fc039243e61e60381a682e104fa&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51522?repo=metabase/metabase&commitHash=ab753c712add0fc039243e61e60381a682e104fa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51522?repo=metabase/metabase&commitHash=ab753c712add0fc039243e61e60381a682e104fa&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51522?repo=metabase/metabase&commitHash=ab753c712add0fc039243e61e60381a682e104fa&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:329:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerp... | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51522?repo=metabase/metabase&commitHash=ab753c712add0fc039243e61e60381a682e104fa&utm_source=gh-comment&runConclusion=FAILURE&runId=64ce4db8-67e3-597b-8d21-220a5f39c398) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>e2e-storage-ingestion-test</code> | Expected entity to match the extracted one, but actual entity was different. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51522?repo=metabase/metabase&commitHash=ab753c712add0fc039243e61e60381a682e104fa&utm_source=gh-comment&runConclusion=FAILURE&runId=75f885ef-67eb-5994-a869-2e645669d265) |
| <code>e2e-storage-ingestion-test</code> | Expected entity to match the expected value, but actual value was different. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51522?repo=metabase/metabase&commitHash=ab753c712add0fc039243e61e60381a682e104fa&utm_source=gh-comment&runConclusion=FAILURE&runId=02c35f00-058b-5366-9b15-f23603b7a071) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51522?repo=metabase/metabase&commitHash=ab753c712add0fc039243e61e60381a682e104fa&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2750689431,pull_request,closed,,quarantine flakes caused by problems with typing in the native editor,Same as https://github.com/metabase/metabase/pull/51510 two waterfall specs flake due to interrupted typing in native query editor caused by unnecessary rerendering.,alxnddr,2024-12-19 15:27:21+00:00,['alxnddr'],2024-12-19 18:51:04+00:00,2024-12-19 17:48:36+00:00,https://github.com/metabase/metabase/pull/51520,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2554904677, 'issue_id': 2750689431, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3711_tests-6c669b9e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51520?repo=metabase/metabase&commitHash=6c669b9ed599f5cc3ce8d03d269b5d0de8bd19f4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51520?repo=metabase/metabase&commitHash=6c669b9ed599f5cc3ce8d03d269b5d0de8bd19f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51520?repo=metabase/metabase&commitHash=6c669b9ed599f5cc3ce8d03d269b5d0de8bd19f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51520?repo=metabase/metabase&commitHash=6c669b9ed599f5cc3ce8d03d269b5d0de8bd19f4&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51520?repo=metabase/metabase&commitHash=6c669b9ed599f5cc3ce8d03d269b5d0de8bd19f4&utm_source=gh-comment&runConclusion=FAILURE&runId=f7e693d3-9f54-5b77-be28-26532c0fcf97) |\n| <code>scenarios > collections > clean up ee clean up collection modal should be able to clean up stale items</code> | The element <div.emotion-Group-root.emotion-1plzo5d> was expected to not exist in the DOM, but it was found continuously. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51520?repo=metabase/metabase&commitHash=6c669b9ed599f5cc3ce8d03d269b5d0de8bd19f4&utm_source=gh-comment&runConclusion=FAILURE&runId=09f31882-35d2-5c0d-a70c-127b315af884) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native should be able to add new columns after hiding some (metabase\\#15393)</code> | The test timed out waiting for the element with class \'emotion-hvo6ii\' to contain the substring \'/hidden/i\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51520?repo=metabase/metabase&commitHash=6c669b9ed599f5cc3ce8d03d269b5d0de8bd19f4&utm_source=gh-comment&runConclusion=FAILURE&runId=0cdb3779-5cb8-5b38-974e-a074b204d8c9) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51520?repo=metabase/metabase&commitHash=6c669b9ed599f5cc3ce8d03d269b5d0de8bd19f4&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 16, 21, 10, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 16:21:10 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3711_tests-6c669b9e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51520?repo=metabase/metabase&commitHash=6c669b9ed599f5cc3ce8d03d269b5d0de8bd19f4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51520?repo=metabase/metabase&commitHash=6c669b9ed599f5cc3ce8d03d269b5d0de8bd19f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51520?repo=metabase/metabase&commitHash=6c669b9ed599f5cc3ce8d03d269b5d0de8bd19f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51520?repo=metabase/metabase&commitHash=6c669b9ed599f5cc3ce8d03d269b5d0de8bd19f4&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51520?repo=metabase/metabase&commitHash=6c669b9ed599f5cc3ce8d03d269b5d0de8bd19f4&utm_source=gh-comment&runConclusion=FAILURE&runId=f7e693d3-9f54-5b77-be28-26532c0fcf97) |
| <code>scenarios > collections > clean up ee clean up collection modal should be able to clean up stale items</code> | The element <div.emotion-Group-root.emotion-1plzo5d> was expected to not exist in the DOM, but it was found continuously. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51520?repo=metabase/metabase&commitHash=6c669b9ed599f5cc3ce8d03d269b5d0de8bd19f4&utm_source=gh-comment&runConclusion=FAILURE&runId=09f31882-35d2-5c0d-a70c-127b315af884) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native should be able to add new columns after hiding some (metabase\#15393)</code> | The test timed out waiting for the element with class 'emotion-hvo6ii' to contain the substring '/hidden/i'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51520?repo=metabase/metabase&commitHash=6c669b9ed599f5cc3ce8d03d269b5d0de8bd19f4&utm_source=gh-comment&runConclusion=FAILURE&runId=0cdb3779-5cb8-5b38-974e-a074b204d8c9) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51520?repo=metabase/metabase&commitHash=6c669b9ed599f5cc3ce8d03d269b5d0de8bd19f4&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2750609440,pull_request,closed,,Port collections to use new `EntityListLoaderRtkQuery`,"Depends on #51496

### Description

Temporary PR to run CI for one specific entity.",kamilmielnik,2024-12-19 14:59:52+00:00,['kamilmielnik'],2025-01-08 12:09:37+00:00,2025-01-08 11:11:02+00:00,https://github.com/metabase/metabase/pull/51519,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2554728519, 'issue_id': 2750609440, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51957_tests-b7cac4c0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51519?repo=metabase/metabase&commitHash=b7cac4c0b19e6897c773a969bac443934161824d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51519?repo=metabase/metabase&commitHash=b7cac4c0b19e6897c773a969bac443934161824d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51519?repo=metabase/metabase&commitHash=b7cac4c0b19e6897c773a969bac443934161824d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51519?repo=metabase/metabase&commitHash=b7cac4c0b19e6897c773a969bac443934161824d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51519?repo=metabase/metabase&commitHash=b7cac4c0b19e6897c773a969bac443934161824d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 15, 47, 42, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 15:47:42 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51957_tests-b7cac4c0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51519?repo=metabase/metabase&commitHash=b7cac4c0b19e6897c773a969bac443934161824d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51519?repo=metabase/metabase&commitHash=b7cac4c0b19e6897c773a969bac443934161824d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51519?repo=metabase/metabase&commitHash=b7cac4c0b19e6897c773a969bac443934161824d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51519?repo=metabase/metabase&commitHash=b7cac4c0b19e6897c773a969bac443934161824d&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51519?repo=metabase/metabase&commitHash=b7cac4c0b19e6897c773a969bac443934161824d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2750592289,pull_request,closed,,Port tables to use new `EntityListLoaderRtkQuery`,"Depends on #51496

### Description

Temporary PR to run CI for one specific entity.",kamilmielnik,2024-12-19 14:54:13+00:00,['kamilmielnik'],2024-12-20 10:46:03+00:00,2024-12-20 09:35:57+00:00,https://github.com/metabase/metabase/pull/51518,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2554723199, 'issue_id': 2750592289, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51581_tests-ebea3460-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51518?repo=metabase/metabase&commitHash=ebea3460dd84b44f56dedf4669192e69978de288&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51518?repo=metabase/metabase&commitHash=ebea3460dd84b44f56dedf4669192e69978de288&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51518?repo=metabase/metabase&commitHash=ebea3460dd84b44f56dedf4669192e69978de288&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51518?repo=metabase/metabase&commitHash=ebea3460dd84b44f56dedf4669192e69978de288&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 42957 does not show collections that contain models from different tabs (metabase\\#42957)</code> | The element <div.emotion-xg7kom> was not expected to be in the DOM, but it was found continuously. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51518?repo=metabase/metabase&commitHash=ebea3460dd84b44f56dedf4669192e69978de288&utm_source=gh-comment&runConclusion=FAILURE&runId=f55e9da6-8253-5cec-9dfe-20a9ad2559b9) |\n| <code>ActionViz > ActionDashcardSettings supports inline edit for implit and query actions</code> | Unable to find an element by test ID ""action-item-Action Un"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51518?repo=metabase/metabase&commitHash=ebea3460dd84b44f56dedf4669192e69978de288&utm_source=gh-comment&runConclusion=FAILURE&runId=225d1857-2a9e-5c87-831f-28ae755aa04f) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51518?repo=metabase/metabase&commitHash=ebea3460dd84b44f56dedf4669192e69978de288&utm_source=gh-comment&runConclusion=FAILURE&runId=96a1e617-9578-5895-b667-9a797b7ce84c) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51518?repo=metabase/metabase&commitHash=ebea3460dd84b44f56dedf4669192e69978de288&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 15, 46, 40, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 15:46:40 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51581_tests-ebea3460-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51518?repo=metabase/metabase&commitHash=ebea3460dd84b44f56dedf4669192e69978de288&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51518?repo=metabase/metabase&commitHash=ebea3460dd84b44f56dedf4669192e69978de288&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51518?repo=metabase/metabase&commitHash=ebea3460dd84b44f56dedf4669192e69978de288&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51518?repo=metabase/metabase&commitHash=ebea3460dd84b44f56dedf4669192e69978de288&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 42957 does not show collections that contain models from different tabs (metabase\#42957)</code> | The element <div.emotion-xg7kom> was not expected to be in the DOM, but it was found continuously. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51518?repo=metabase/metabase&commitHash=ebea3460dd84b44f56dedf4669192e69978de288&utm_source=gh-comment&runConclusion=FAILURE&runId=f55e9da6-8253-5cec-9dfe-20a9ad2559b9) |
| <code>ActionViz > ActionDashcardSettings supports inline edit for implit and query actions</code> | Unable to find an element by test ID ""action-item-Action Un"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51518?repo=metabase/metabase&commitHash=ebea3460dd84b44f56dedf4669192e69978de288&utm_source=gh-comment&runConclusion=FAILURE&runId=225d1857-2a9e-5c87-831f-28ae755aa04f) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51518?repo=metabase/metabase&commitHash=ebea3460dd84b44f56dedf4669192e69978de288&utm_source=gh-comment&runConclusion=FAILURE&runId=96a1e617-9578-5895-b667-9a797b7ce84c) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51518?repo=metabase/metabase&commitHash=ebea3460dd84b44f56dedf4669192e69978de288&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2750586555,pull_request,closed,,"ü§ñ backported ""Quarantine flaky native tests""","  #51510
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2024-12-19 14:52:11+00:00,"['ranquild', 'github-automation-metabase']",2025-01-10 11:29:26+00:00,2025-01-10 11:29:26+00:00,https://github.com/metabase/metabase/pull/51517,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2554827349, 'issue_id': 2750586555, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/23_tests-ffecc4b8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51517?repo=metabase/metabase&commitHash=ffecc4b84507db4c0ad5961f1be04ee3d4fd04d0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51517?repo=metabase/metabase&commitHash=ffecc4b84507db4c0ad5961f1be04ee3d4fd04d0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51517?repo=metabase/metabase&commitHash=ffecc4b84507db4c0ad5961f1be04ee3d4fd04d0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51517?repo=metabase/metabase&commitHash=ffecc4b84507db4c0ad5961f1be04ee3d4fd04d0&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51517?repo=metabase/metabase&commitHash=ffecc4b84507db4c0ad5961f1be04ee3d4fd04d0&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 16, 6, 47, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 16:06:47 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/23_tests-ffecc4b8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51517?repo=metabase/metabase&commitHash=ffecc4b84507db4c0ad5961f1be04ee3d4fd04d0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51517?repo=metabase/metabase&commitHash=ffecc4b84507db4c0ad5961f1be04ee3d4fd04d0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51517?repo=metabase/metabase&commitHash=ffecc4b84507db4c0ad5961f1be04ee3d4fd04d0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51517?repo=metabase/metabase&commitHash=ffecc4b84507db4c0ad5961f1be04ee3d4fd04d0&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51517?repo=metabase/metabase&commitHash=ffecc4b84507db4c0ad5961f1be04ee3d4fd04d0&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2750549673,pull_request,closed,,Port timelines to use new `EntityListLoaderRtkQuery`,"Depends on #51496

### Description

Temporary PR to run CI for one specific entity.",kamilmielnik,2024-12-19 14:39:47+00:00,['kamilmielnik'],2024-12-20 13:38:40+00:00,2024-12-20 12:07:58+00:00,https://github.com/metabase/metabase/pull/51516,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2554557446, 'issue_id': 2750549673, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51581_tests-7e6f5f64-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51516?repo=metabase/metabase&commitHash=7e6f5f644f0a5e013a6f3ef29a0522effe7a7031&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51516?repo=metabase/metabase&commitHash=7e6f5f644f0a5e013a6f3ef29a0522effe7a7031&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51516?repo=metabase/metabase&commitHash=7e6f5f644f0a5e013a6f3ef29a0522effe7a7031&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51516?repo=metabase/metabase&commitHash=7e6f5f644f0a5e013a6f3ef29a0522effe7a7031&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51516?repo=metabase/metabase&commitHash=7e6f5f644f0a5e013a6f3ef29a0522effe7a7031&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 15, 16, 6, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 15:16:06 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51581_tests-7e6f5f64-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51516?repo=metabase/metabase&commitHash=7e6f5f644f0a5e013a6f3ef29a0522effe7a7031&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51516?repo=metabase/metabase&commitHash=7e6f5f644f0a5e013a6f3ef29a0522effe7a7031&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51516?repo=metabase/metabase&commitHash=7e6f5f644f0a5e013a6f3ef29a0522effe7a7031&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51516?repo=metabase/metabase&commitHash=7e6f5f644f0a5e013a6f3ef29a0522effe7a7031&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51516?repo=metabase/metabase&commitHash=7e6f5f644f0a5e013a6f3ef29a0522effe7a7031&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2750525462,pull_request,closed,,Port actions to use new `EntityListLoaderRtkQuery`,"Depends on #51496

### Description

Temporary PR to run CI for one specific entity.",kamilmielnik,2024-12-19 14:31:16+00:00,['kamilmielnik'],2024-12-20 09:19:22+00:00,2024-12-20 09:00:30+00:00,https://github.com/metabase/metabase/pull/51515,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2554555707, 'issue_id': 2750525462, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51581_tests-e174fc2c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51515?repo=metabase/metabase&commitHash=e174fc2c04234518c7d963a617f2910a49465540&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51515?repo=metabase/metabase&commitHash=e174fc2c04234518c7d963a617f2910a49465540&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51515?repo=metabase/metabase&commitHash=e174fc2c04234518c7d963a617f2910a49465540&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51515?repo=metabase/metabase&commitHash=e174fc2c04234518c7d963a617f2910a49465540&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51515?repo=metabase/metabase&commitHash=e174fc2c04234518c7d963a617f2910a49465540&utm_source=gh-comment&runConclusion=FAILURE&runId=41f88bbd-f48a-5619-a4ab-ab72ef30530c) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51515?repo=metabase/metabase&commitHash=e174fc2c04234518c7d963a617f2910a49465540&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 19, 15, 15, 48, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 15:15:48 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51581_tests-e174fc2c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51515?repo=metabase/metabase&commitHash=e174fc2c04234518c7d963a617f2910a49465540&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51515?repo=metabase/metabase&commitHash=e174fc2c04234518c7d963a617f2910a49465540&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51515?repo=metabase/metabase&commitHash=e174fc2c04234518c7d963a617f2910a49465540&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51515?repo=metabase/metabase&commitHash=e174fc2c04234518c7d963a617f2910a49465540&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51515?repo=metabase/metabase&commitHash=e174fc2c04234518c7d963a617f2910a49465540&utm_source=gh-comment&runConclusion=FAILURE&runId=41f88bbd-f48a-5619-a4ab-ab72ef30530c) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51515?repo=metabase/metabase&commitHash=e174fc2c04234518c7d963a617f2910a49465540&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2750513773,pull_request,closed,,Port users to use new `EntityListLoaderRtkQuery`,"Depends on #51496

### Description

Temporary PR to run CI for one specific entity.",kamilmielnik,2024-12-19 14:27:20+00:00,['kamilmielnik'],2024-12-20 15:13:46+00:00,2024-12-20 14:41:44+00:00,https://github.com/metabase/metabase/pull/51514,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2554563207, 'issue_id': 2750513773, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51581_tests-1dcaaf4b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51514?repo=metabase/metabase&commitHash=1dcaaf4b185e6cf70709882be2154b305443ba55&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51514?repo=metabase/metabase&commitHash=1dcaaf4b185e6cf70709882be2154b305443ba55&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51514?repo=metabase/metabase&commitHash=1dcaaf4b185e6cf70709882be2154b305443ba55&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51514?repo=metabase/metabase&commitHash=1dcaaf4b185e6cf70709882be2154b305443ba55&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>ActionViz > ActionDashcardSettings supports inline edit for implit and query actions</code> | Unable to find an element with data-testid ""action-item-Action Un"" in the DOM. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51514?repo=metabase/metabase&commitHash=1dcaaf4b185e6cf70709882be2154b305443ba55&utm_source=gh-comment&runConclusion=FAILURE&runId=38345daa-2127-5bfa-a7dc-cfdb415e003c) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51514?repo=metabase/metabase&commitHash=1dcaaf4b185e6cf70709882be2154b305443ba55&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 15, 17, 12, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 15:17:12 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51581_tests-1dcaaf4b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51514?repo=metabase/metabase&commitHash=1dcaaf4b185e6cf70709882be2154b305443ba55&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51514?repo=metabase/metabase&commitHash=1dcaaf4b185e6cf70709882be2154b305443ba55&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51514?repo=metabase/metabase&commitHash=1dcaaf4b185e6cf70709882be2154b305443ba55&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51514?repo=metabase/metabase&commitHash=1dcaaf4b185e6cf70709882be2154b305443ba55&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>ActionViz > ActionDashcardSettings supports inline edit for implit and query actions</code> | Unable to find an element with data-testid ""action-item-Action Un"" in the DOM. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51514?repo=metabase/metabase&commitHash=1dcaaf4b185e6cf70709882be2154b305443ba55&utm_source=gh-comment&runConclusion=FAILURE&runId=38345daa-2127-5bfa-a7dc-cfdb415e003c) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51514?repo=metabase/metabase&commitHash=1dcaaf4b185e6cf70709882be2154b305443ba55&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2750493926,pull_request,closed,,Port snippets to use new `EntityListLoaderRtkQuery`,"Depends on #51496

### Description

Temporary PR to run CI for one specific entity.",kamilmielnik,2024-12-19 14:21:10+00:00,['kamilmielnik'],2024-12-20 07:49:52+00:00,2024-12-20 07:49:51+00:00,https://github.com/metabase/metabase/pull/51513,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2554554357, 'issue_id': 2750493926, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51556_tests-801398e6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51513?repo=metabase/metabase&commitHash=801398e653f9d41a7aed10dcbd468f4a19746c04&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51513?repo=metabase/metabase&commitHash=801398e653f9d41a7aed10dcbd468f4a19746c04&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51513?repo=metabase/metabase&commitHash=801398e653f9d41a7aed10dcbd468f4a19746c04&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51513?repo=metabase/metabase&commitHash=801398e653f9d41a7aed10dcbd468f4a19746c04&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51513?repo=metabase/metabase&commitHash=801398e653f9d41a7aed10dcbd468f4a19746c04&utm_source=gh-comment&runConclusion=FAILURE&runId=8fbb4060-1c64-50fd-9ee3-e89a4a714d1e) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51513?repo=metabase/metabase&commitHash=801398e653f9d41a7aed10dcbd468f4a19746c04&utm_source=gh-comment&runConclusion=FAILURE&runId=70fdefab-a202-57df-a09b-1067d77b2f31) |\n| <code>issue 34330 should only call the autocompleter with all text typed (metabase\\#34330)</code> | The expected value \'USER\' did not match the actual value \'SER\' in a comparison. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51513?repo=metabase/metabase&commitHash=801398e653f9d41a7aed10dcbd468f4a19746c04&utm_source=gh-comment&runConclusion=FAILURE&runId=b010b257-f40c-5953-9f69-5bf225978125) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51513?repo=metabase/metabase&commitHash=801398e653f9d41a7aed10dcbd468f4a19746c04&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 15, 15, 32, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 15:15:32 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51556_tests-801398e6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51513?repo=metabase/metabase&commitHash=801398e653f9d41a7aed10dcbd468f4a19746c04&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51513?repo=metabase/metabase&commitHash=801398e653f9d41a7aed10dcbd468f4a19746c04&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51513?repo=metabase/metabase&commitHash=801398e653f9d41a7aed10dcbd468f4a19746c04&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51513?repo=metabase/metabase&commitHash=801398e653f9d41a7aed10dcbd468f4a19746c04&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51513?repo=metabase/metabase&commitHash=801398e653f9d41a7aed10dcbd468f4a19746c04&utm_source=gh-comment&runConclusion=FAILURE&runId=8fbb4060-1c64-50fd-9ee3-e89a4a714d1e) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51513?repo=metabase/metabase&commitHash=801398e653f9d41a7aed10dcbd468f4a19746c04&utm_source=gh-comment&runConclusion=FAILURE&runId=70fdefab-a202-57df-a09b-1067d77b2f31) |
| <code>issue 34330 should only call the autocompleter with all text typed (metabase\#34330)</code> | The expected value 'USER' did not match the actual value 'SER' in a comparison. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51513?repo=metabase/metabase&commitHash=801398e653f9d41a7aed10dcbd468f4a19746c04&utm_source=gh-comment&runConclusion=FAILURE&runId=b010b257-f40c-5953-9f69-5bf225978125) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51513?repo=metabase/metabase&commitHash=801398e653f9d41a7aed10dcbd468f4a19746c04&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2750483223,pull_request,closed,,Port segments to use new `EntityListLoaderRtkQuery`,"Depends on #51496

### Description

Temporary PR to run CI for one specific entity.",kamilmielnik,2024-12-19 14:17:58+00:00,['kamilmielnik'],2024-12-20 07:49:41+00:00,2024-12-20 07:49:39+00:00,https://github.com/metabase/metabase/pull/51512,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2554467430, 'issue_id': 2750483223, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51556_tests-23f11fbd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51512?repo=metabase/metabase&commitHash=23f11fbdb5405a005f0c7b1a16c22f8a7816161d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51512?repo=metabase/metabase&commitHash=23f11fbdb5405a005f0c7b1a16c22f8a7816161d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51512?repo=metabase/metabase&commitHash=23f11fbdb5405a005f0c7b1a16c22f8a7816161d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51512?repo=metabase/metabase&commitHash=23f11fbdb5405a005f0c7b1a16c22f8a7816161d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 34330 should call the autocompleter when backspacing to a 1-character prefix(metabase\\#34330)</code> | The \\`cy.wait()\\` command timed out waiting for the first request to the route 'autocomplete', but no request was made. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51512?repo=metabase/metabase&commitHash=23f11fbdb5405a005f0c7b1a16c22f8a7816161d&utm_source=gh-comment&runConclusion=FAILURE&runId=06945bc3-992e-5dae-8b5c-cd2a9dc535c7) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51512?repo=metabase/metabase&commitHash=23f11fbdb5405a005f0c7b1a16c22f8a7816161d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 19, 14, 59, 34, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 14:59:34 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51556_tests-23f11fbd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51512?repo=metabase/metabase&commitHash=23f11fbdb5405a005f0c7b1a16c22f8a7816161d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51512?repo=metabase/metabase&commitHash=23f11fbdb5405a005f0c7b1a16c22f8a7816161d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51512?repo=metabase/metabase&commitHash=23f11fbdb5405a005f0c7b1a16c22f8a7816161d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51512?repo=metabase/metabase&commitHash=23f11fbdb5405a005f0c7b1a16c22f8a7816161d&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 34330 should call the autocompleter when backspacing to a 1-character prefix(metabase\#34330)</code> | The \`cy.wait()\` command timed out waiting for the first request to the route 'autocomplete', but no request was made. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51512?repo=metabase/metabase&commitHash=23f11fbdb5405a005f0c7b1a16c22f8a7816161d&utm_source=gh-comment&runConclusion=FAILURE&runId=06945bc3-992e-5dae-8b5c-cd2a9dc535c7) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51512?repo=metabase/metabase&commitHash=23f11fbdb5405a005f0c7b1a16c22f8a7816161d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2750443185,pull_request,closed,,Port schemas to use new `EntityListLoaderRtkQuery`,"Depends on #51496

### Description

Temporary PR to run CI for one specific entity.",kamilmielnik,2024-12-19 14:05:58+00:00,['kamilmielnik'],2025-01-08 10:12:16+00:00,2025-01-08 09:23:41+00:00,https://github.com/metabase/metabase/pull/51511,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2554400117, 'issue_id': 2750443185, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51957_tests-3a37cddb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51511?repo=metabase/metabase&commitHash=3a37cddb7aabb1217694fd31bd3366754035000b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51511?repo=metabase/metabase&commitHash=3a37cddb7aabb1217694fd31bd3366754035000b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51511?repo=metabase/metabase&commitHash=3a37cddb7aabb1217694fd31bd3366754035000b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51511?repo=metabase/metabase&commitHash=3a37cddb7aabb1217694fd31bd3366754035000b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find a button with the name ""Done"" after 4 seconds of waiting. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51511?repo=metabase/metabase&commitHash=3a37cddb7aabb1217694fd31bd3366754035000b&utm_source=gh-comment&runConclusion=FAILURE&runId=6df01e57-3973-50db-bc07-c5e042d1de76) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51511?repo=metabase/metabase&commitHash=3a37cddb7aabb1217694fd31bd3366754035000b&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 14, 46, 59, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 14:46:59 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51957_tests-3a37cddb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51511?repo=metabase/metabase&commitHash=3a37cddb7aabb1217694fd31bd3366754035000b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51511?repo=metabase/metabase&commitHash=3a37cddb7aabb1217694fd31bd3366754035000b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51511?repo=metabase/metabase&commitHash=3a37cddb7aabb1217694fd31bd3366754035000b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51511?repo=metabase/metabase&commitHash=3a37cddb7aabb1217694fd31bd3366754035000b&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > admin > settings > API keys should show an error when a previously used key name is submitted</code> | Unable to find a button with the name ""Done"" after 4 seconds of waiting. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51511?repo=metabase/metabase&commitHash=3a37cddb7aabb1217694fd31bd3366754035000b&utm_source=gh-comment&runConclusion=FAILURE&runId=6df01e57-3973-50db-bc07-c5e042d1de76) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51511?repo=metabase/metabase&commitHash=3a37cddb7aabb1217694fd31bd3366754035000b&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2750435175,pull_request,closed,,Quarantine flaky native tests,These will now run on the flaky e2e job and be non-blocking,iethree,2024-12-19 14:03:05+00:00,['iethree'],2025-01-27 22:13:00+00:00,2024-12-19 14:51:16+00:00,https://github.com/metabase/metabase/pull/51510,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2554404414, 'issue_id': 2750435175, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3315_tests-7b269394-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51510?repo=metabase/metabase&commitHash=7b269394412c69dd74eb17790dc5f5bdea7b1307&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51510?repo=metabase/metabase&commitHash=7b269394412c69dd74eb17790dc5f5bdea7b1307&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51510?repo=metabase/metabase&commitHash=7b269394412c69dd74eb17790dc5f5bdea7b1307&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51510?repo=metabase/metabase&commitHash=7b269394412c69dd74eb17790dc5f5bdea7b1307&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51510?repo=metabase/metabase&commitHash=7b269394412c69dd74eb17790dc5f5bdea7b1307&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 14, 47, 44, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 14:47:44 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3315_tests-7b269394-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51510?repo=metabase/metabase&commitHash=7b269394412c69dd74eb17790dc5f5bdea7b1307&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51510?repo=metabase/metabase&commitHash=7b269394412c69dd74eb17790dc5f5bdea7b1307&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51510?repo=metabase/metabase&commitHash=7b269394412c69dd74eb17790dc5f5bdea7b1307&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51510?repo=metabase/metabase&commitHash=7b269394412c69dd74eb17790dc5f5bdea7b1307&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51510?repo=metabase/metabase&commitHash=7b269394412c69dd74eb17790dc5f5bdea7b1307&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2750411212,pull_request,closed,,Port revisions to use new `EntityListLoaderRtkQuery`,"Depends on #51496

### Description

Temporary PR to run CI for one specific entity.",kamilmielnik,2024-12-19 13:54:37+00:00,['kamilmielnik'],2024-12-20 07:49:01+00:00,2024-12-20 07:48:59+00:00,https://github.com/metabase/metabase/pull/51509,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2554394640, 'issue_id': 2750411212, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51556_tests-ae076f7c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51509?repo=metabase/metabase&commitHash=ae076f7cd95e425c345124e0780d8ab97c74cdd3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51509?repo=metabase/metabase&commitHash=ae076f7cd95e425c345124e0780d8ab97c74cdd3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51509?repo=metabase/metabase&commitHash=ae076f7cd95e425c345124e0780d8ab97c74cdd3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51509?repo=metabase/metabase&commitHash=ae076f7cd95e425c345124e0780d8ab97c74cdd3&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51509?repo=metabase/metabase&commitHash=ae076f7cd95e425c345124e0780d8ab97c74cdd3&utm_source=gh-comment&runConclusion=FAILURE&runId=6b0fdb87-377f-58d7-ab78-7c616d2dcb92) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51509?repo=metabase/metabase&commitHash=ae076f7cd95e425c345124e0780d8ab97c74cdd3&utm_source=gh-comment&runConclusion=FAILURE&runId=f0542399-3549-5df5-995a-53facabcf41a) |\n| <code>scenarios > question > native should be able to add new columns after hiding some (metabase\\#15393)</code> | The test timed out waiting for the element with the class \'emotion-hvo6ii\' to contain the text \'/hidden/i\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51509?repo=metabase/metabase&commitHash=ae076f7cd95e425c345124e0780d8ab97c74cdd3&utm_source=gh-comment&runConclusion=FAILURE&runId=7ccc195c-1269-5889-b19e-354b4bdecf5b) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51509?repo=metabase/metabase&commitHash=ae076f7cd95e425c345124e0780d8ab97c74cdd3&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 14, 45, 56, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 14:45:56 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51556_tests-ae076f7c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51509?repo=metabase/metabase&commitHash=ae076f7cd95e425c345124e0780d8ab97c74cdd3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51509?repo=metabase/metabase&commitHash=ae076f7cd95e425c345124e0780d8ab97c74cdd3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51509?repo=metabase/metabase&commitHash=ae076f7cd95e425c345124e0780d8ab97c74cdd3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51509?repo=metabase/metabase&commitHash=ae076f7cd95e425c345124e0780d8ab97c74cdd3&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51509?repo=metabase/metabase&commitHash=ae076f7cd95e425c345124e0780d8ab97c74cdd3&utm_source=gh-comment&runConclusion=FAILURE&runId=6b0fdb87-377f-58d7-ab78-7c616d2dcb92) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51509?repo=metabase/metabase&commitHash=ae076f7cd95e425c345124e0780d8ab97c74cdd3&utm_source=gh-comment&runConclusion=FAILURE&runId=f0542399-3549-5df5-995a-53facabcf41a) |
| <code>scenarios > question > native should be able to add new columns after hiding some (metabase\#15393)</code> | The test timed out waiting for the element with the class 'emotion-hvo6ii' to contain the text '/hidden/i'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51509?repo=metabase/metabase&commitHash=ae076f7cd95e425c345124e0780d8ab97c74cdd3&utm_source=gh-comment&runConclusion=FAILURE&runId=7ccc195c-1269-5889-b19e-354b4bdecf5b) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51509?repo=metabase/metabase&commitHash=ae076f7cd95e425c345124e0780d8ab97c74cdd3&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2750402492,pull_request,closed,,Port questions to use new `EntityListLoaderRtkQuery`,"Depends on #51496

### Description

Temporary PR to run CI for one specific entity.",kamilmielnik,2024-12-19 13:51:29+00:00,['kamilmielnik'],2024-12-20 09:18:20+00:00,2024-12-20 08:59:20+00:00,https://github.com/metabase/metabase/pull/51508,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2554394282, 'issue_id': 2750402492, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51581_tests-5c45d313-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51508?repo=metabase/metabase&commitHash=5c45d31322849af775a458e6223b52601630c4b8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51508?repo=metabase/metabase&commitHash=5c45d31322849af775a458e6223b52601630c4b8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51508?repo=metabase/metabase&commitHash=5c45d31322849af775a458e6223b52601630c4b8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51508?repo=metabase/metabase&commitHash=5c45d31322849af775a458e6223b52601630c4b8&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51508?repo=metabase/metabase&commitHash=5c45d31322849af775a458e6223b52601630c4b8&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 14, 45, 51, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 14:45:51 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51581_tests-5c45d313-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51508?repo=metabase/metabase&commitHash=5c45d31322849af775a458e6223b52601630c4b8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51508?repo=metabase/metabase&commitHash=5c45d31322849af775a458e6223b52601630c4b8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51508?repo=metabase/metabase&commitHash=5c45d31322849af775a458e6223b52601630c4b8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51508?repo=metabase/metabase&commitHash=5c45d31322849af775a458e6223b52601630c4b8&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51508?repo=metabase/metabase&commitHash=5c45d31322849af775a458e6223b52601630c4b8&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2750398861,pull_request,closed,,Port pulses to use new `EntityListLoaderRtkQuery`,"Depends on #51496

### Description

Temporary PR to run CI for one specific entity.",kamilmielnik,2024-12-19 13:50:13+00:00,['kamilmielnik'],2024-12-20 07:48:06+00:00,2024-12-20 07:48:05+00:00,https://github.com/metabase/metabase/pull/51507,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2554399407, 'issue_id': 2750398861, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51556_tests-b0c9bae9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51507?repo=metabase/metabase&commitHash=b0c9bae91d6ef9fd9709109e71bb4b523a4339ca&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51507?repo=metabase/metabase&commitHash=b0c9bae91d6ef9fd9709109e71bb4b523a4339ca&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51507?repo=metabase/metabase&commitHash=b0c9bae91d6ef9fd9709109e71bb4b523a4339ca&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51507?repo=metabase/metabase&commitHash=b0c9bae91d6ef9fd9709109e71bb4b523a4339ca&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native should handle template tags</code> | The test timed out waiting for the expected content 'Showing 168 rows' to appear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51507?repo=metabase/metabase&commitHash=b0c9bae91d6ef9fd9709109e71bb4b523a4339ca&utm_source=gh-comment&runConclusion=FAILURE&runId=46dcde9a-d5c9-5dd7-9848-186da2b04e1f) |\n| <code>scenarios > question > native can save a question with no rows</code> | The test timed out waiting for the expected content 'No results!' to appear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51507?repo=metabase/metabase&commitHash=b0c9bae91d6ef9fd9709109e71bb4b523a4339ca&utm_source=gh-comment&runConclusion=FAILURE&runId=72a66c03-6e0b-549a-ba90-5eb6568b7a7d) |\n| <code>scenarios > question > native should be able to add new columns after hiding some (metabase\\#15393)</code> | The test timed out waiting for the element with the class 'emotion-hvo6ii' to contain the text '/hidden/i'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51507?repo=metabase/metabase&commitHash=b0c9bae91d6ef9fd9709109e71bb4b523a4339ca&utm_source=gh-comment&runConclusion=FAILURE&runId=266ef599-5d75-5454-a49f-45fda63b63fb) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51507?repo=metabase/metabase&commitHash=b0c9bae91d6ef9fd9709109e71bb4b523a4339ca&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 19, 14, 46, 48, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 14:46:48 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51556_tests-b0c9bae9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51507?repo=metabase/metabase&commitHash=b0c9bae91d6ef9fd9709109e71bb4b523a4339ca&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51507?repo=metabase/metabase&commitHash=b0c9bae91d6ef9fd9709109e71bb4b523a4339ca&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51507?repo=metabase/metabase&commitHash=b0c9bae91d6ef9fd9709109e71bb4b523a4339ca&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51507?repo=metabase/metabase&commitHash=b0c9bae91d6ef9fd9709109e71bb4b523a4339ca&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native should handle template tags</code> | The test timed out waiting for the expected content 'Showing 168 rows' to appear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51507?repo=metabase/metabase&commitHash=b0c9bae91d6ef9fd9709109e71bb4b523a4339ca&utm_source=gh-comment&runConclusion=FAILURE&runId=46dcde9a-d5c9-5dd7-9848-186da2b04e1f) |
| <code>scenarios > question > native can save a question with no rows</code> | The test timed out waiting for the expected content 'No results!' to appear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51507?repo=metabase/metabase&commitHash=b0c9bae91d6ef9fd9709109e71bb4b523a4339ca&utm_source=gh-comment&runConclusion=FAILURE&runId=72a66c03-6e0b-549a-ba90-5eb6568b7a7d) |
| <code>scenarios > question > native should be able to add new columns after hiding some (metabase\#15393)</code> | The test timed out waiting for the element with the class 'emotion-hvo6ii' to contain the text '/hidden/i'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51507?repo=metabase/metabase&commitHash=b0c9bae91d6ef9fd9709109e71bb4b523a4339ca&utm_source=gh-comment&runConclusion=FAILURE&runId=266ef599-5d75-5454-a49f-45fda63b63fb) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51507?repo=metabase/metabase&commitHash=b0c9bae91d6ef9fd9709109e71bb4b523a4339ca&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2750394809,pull_request,closed,,"docs: Updating ""Export dashboard as PDF""",PDF export is now under the Sharing button.,abdhabli,2024-12-19 13:48:48+00:00,['abdhabli'],2024-12-19 17:18:24+00:00,2024-12-19 17:15:24+00:00,https://github.com/metabase/metabase/pull/51506,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2750394568,pull_request,closed,,Port persisted models to use new `EntityListLoaderRtkQuery`,"Depends on #51496

### Description

Temporary PR to run CI for one specific entity.",kamilmielnik,2024-12-19 13:48:41+00:00,['kamilmielnik'],2024-12-20 07:47:55+00:00,2024-12-20 07:47:53+00:00,https://github.com/metabase/metabase/pull/51505,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2554392558, 'issue_id': 2750394568, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51556_tests-a80be829-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51505?repo=metabase/metabase&commitHash=a80be8291d05cef5c2fa594c70404706bcdf67bb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51505?repo=metabase/metabase&commitHash=a80be8291d05cef5c2fa594c70404706bcdf67bb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51505?repo=metabase/metabase&commitHash=a80be8291d05cef5c2fa594c70404706bcdf67bb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51505?repo=metabase/metabase&commitHash=a80be8291d05cef5c2fa594c70404706bcdf67bb&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native should be able to add new columns after hiding some (metabase\\#15393)</code> | The test timed out waiting for the element with the class \'emotion-hvo6ii\' to contain the text \'/hidden/i\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51505?repo=metabase/metabase&commitHash=a80be8291d05cef5c2fa594c70404706bcdf67bb&utm_source=gh-comment&runConclusion=FAILURE&runId=7f8f478d-ae6c-5d99-bc63-484a20a13b09) |\n| <code>scenarios > question > native displays an error when running selected text</code> | The test timed out waiting for the expected content \'Table ""ORD"" not found\' in the response. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51505?repo=metabase/metabase&commitHash=a80be8291d05cef5c2fa594c70404706bcdf67bb&utm_source=gh-comment&runConclusion=FAILURE&runId=e091d86a-81d8-549f-96d6-cb63c6fedf57) |\n| <code>issue 16886 shouldn\'t remove parts of the query when choosing \'Run selected text\' (metabase\\#16886)</code> | The test timed out while trying to find an element with data-testid ""scalar-value"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51505?repo=metabase/metabase&commitHash=a80be8291d05cef5c2fa594c70404706bcdf67bb&utm_source=gh-comment&runConclusion=FAILURE&runId=cd9314b7-7d17-5923-a6a2-58614d7f3540) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51505?repo=metabase/metabase&commitHash=a80be8291d05cef5c2fa594c70404706bcdf67bb&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 14, 45, 33, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 14:45:33 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51556_tests-a80be829-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51505?repo=metabase/metabase&commitHash=a80be8291d05cef5c2fa594c70404706bcdf67bb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51505?repo=metabase/metabase&commitHash=a80be8291d05cef5c2fa594c70404706bcdf67bb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51505?repo=metabase/metabase&commitHash=a80be8291d05cef5c2fa594c70404706bcdf67bb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51505?repo=metabase/metabase&commitHash=a80be8291d05cef5c2fa594c70404706bcdf67bb&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native should be able to add new columns after hiding some (metabase\#15393)</code> | The test timed out waiting for the element with the class 'emotion-hvo6ii' to contain the text '/hidden/i'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51505?repo=metabase/metabase&commitHash=a80be8291d05cef5c2fa594c70404706bcdf67bb&utm_source=gh-comment&runConclusion=FAILURE&runId=7f8f478d-ae6c-5d99-bc63-484a20a13b09) |
| <code>scenarios > question > native displays an error when running selected text</code> | The test timed out waiting for the expected content 'Table ""ORD"" not found' in the response. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51505?repo=metabase/metabase&commitHash=a80be8291d05cef5c2fa594c70404706bcdf67bb&utm_source=gh-comment&runConclusion=FAILURE&runId=e091d86a-81d8-549f-96d6-cb63c6fedf57) |
| <code>issue 16886 shouldn't remove parts of the query when choosing 'Run selected text' (metabase\#16886)</code> | The test timed out while trying to find an element with data-testid ""scalar-value"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51505?repo=metabase/metabase&commitHash=a80be8291d05cef5c2fa594c70404706bcdf67bb&utm_source=gh-comment&runConclusion=FAILURE&runId=cd9314b7-7d17-5923-a6a2-58614d7f3540) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51505?repo=metabase/metabase&commitHash=a80be8291d05cef5c2fa594c70404706bcdf67bb&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2750389315,pull_request,closed,,Port groups to use new `EntityListLoaderRtkQuery`,"Depends on #51496

### Description

Temporary PR to run CI for one specific entity.",kamilmielnik,2024-12-19 13:46:43+00:00,['kamilmielnik'],2024-12-20 12:19:53+00:00,2024-12-20 12:10:45+00:00,https://github.com/metabase/metabase/pull/51504,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2554229687, 'issue_id': 2750389315, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/61149_tests-bb568297-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51504?repo=metabase/metabase&commitHash=bb568297ebe366573faaccec18175f129f6d278f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51504?repo=metabase/metabase&commitHash=bb568297ebe366573faaccec18175f129f6d278f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51504?repo=metabase/metabase&commitHash=bb568297ebe366573faaccec18175f129f6d278f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51504?repo=metabase/metabase&commitHash=bb568297ebe366573faaccec18175f129f6d278f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>ActionViz > ActionDashcardSettings supports inline edit for implit and query actions</code> | Unable to find an element by test ID ""action-item-Action Un"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51504?repo=metabase/metabase&commitHash=bb568297ebe366573faaccec18175f129f6d278f&utm_source=gh-comment&runConclusion=FAILURE&runId=dbc5da7e-f2e9-58c8-b377-1593f31c5e9a) |\n| <code>ActionViz > ActionDashcardSettings supports inline edit for implit and query actions</code> | Unable to find an element with data-testid ""action-item-Action Un"" in the DOM. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51504?repo=metabase/metabase&commitHash=bb568297ebe366573faaccec18175f129f6d278f&utm_source=gh-comment&runConclusion=FAILURE&runId=6654bcab-0de8-5e9b-bc95-d4242354d686) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51504?repo=metabase/metabase&commitHash=bb568297ebe366573faaccec18175f129f6d278f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 14, 14, 43, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 14:14:43 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/61149_tests-bb568297-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51504?repo=metabase/metabase&commitHash=bb568297ebe366573faaccec18175f129f6d278f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51504?repo=metabase/metabase&commitHash=bb568297ebe366573faaccec18175f129f6d278f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51504?repo=metabase/metabase&commitHash=bb568297ebe366573faaccec18175f129f6d278f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51504?repo=metabase/metabase&commitHash=bb568297ebe366573faaccec18175f129f6d278f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>ActionViz > ActionDashcardSettings supports inline edit for implit and query actions</code> | Unable to find an element by test ID ""action-item-Action Un"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51504?repo=metabase/metabase&commitHash=bb568297ebe366573faaccec18175f129f6d278f&utm_source=gh-comment&runConclusion=FAILURE&runId=dbc5da7e-f2e9-58c8-b377-1593f31c5e9a) |
| <code>ActionViz > ActionDashcardSettings supports inline edit for implit and query actions</code> | Unable to find an element with data-testid ""action-item-Action Un"" in the DOM. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51504?repo=metabase/metabase&commitHash=bb568297ebe366573faaccec18175f129f6d278f&utm_source=gh-comment&runConclusion=FAILURE&runId=6654bcab-0de8-5e9b-bc95-d4242354d686) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51504?repo=metabase/metabase&commitHash=bb568297ebe366573faaccec18175f129f6d278f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2750379791,pull_request,closed,,Port dashboards to use new `EntityListLoaderRtkQuery`,"Depends on #51496

### Description

Temporary PR to run CI for one specific entity.",kamilmielnik,2024-12-19 13:43:19+00:00,['kamilmielnik'],2024-12-20 07:47:40+00:00,2024-12-20 07:47:38+00:00,https://github.com/metabase/metabase/pull/51503,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2554240036, 'issue_id': 2750379791, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51627_tests-c1704b5f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51503?repo=metabase/metabase&commitHash=c1704b5f10752dfc0d895d90f8e890276175414c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51503?repo=metabase/metabase&commitHash=c1704b5f10752dfc0d895d90f8e890276175414c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/6-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51503?repo=metabase/metabase&commitHash=c1704b5f10752dfc0d895d90f8e890276175414c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51503?repo=metabase/metabase&commitHash=c1704b5f10752dfc0d895d90f8e890276175414c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51503?repo=metabase/metabase&commitHash=c1704b5f10752dfc0d895d90f8e890276175414c&utm_source=gh-comment&runConclusion=FAILURE&runId=8980d146-03b9-552a-a623-bdaf4207c9a7) |\n| <code>issue 34330 should call the autocompleter when backspacing to a 1-character prefix(metabase\\#34330)</code> | The \\`cy.wait()\\` command timed out waiting for the first request to the route 'autocomplete', but no request was made. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51503?repo=metabase/metabase&commitHash=c1704b5f10752dfc0d895d90f8e890276175414c&utm_source=gh-comment&runConclusion=FAILURE&runId=1845ec9c-0c4f-5685-8337-0c30b21121a2) |\n| <code>issue 34330 should only call the autocompleter with all text typed (metabase\\#34330)</code> | The expected value 'USER' did not match the actual value 'SER' in a comparison. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51503?repo=metabase/metabase&commitHash=c1704b5f10752dfc0d895d90f8e890276175414c&utm_source=gh-comment&runConclusion=FAILURE&runId=55858b3c-79d8-5261-87c7-485d716feab6) |\n| <code>scenarios > question > native should handle template tags</code> | The test timed out waiting for the expected content 'Showing 168 rows' to appear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51503?repo=metabase/metabase&commitHash=c1704b5f10752dfc0d895d90f8e890276175414c&utm_source=gh-comment&runConclusion=FAILURE&runId=2e9938ff-a57b-5291-8e2e-d3384c4cf6d6) |\n\n[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/51503?repo=metabase/metabase&commitHash=c1704b5f10752dfc0d895d90f8e890276175414c&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51503?repo=metabase/metabase&commitHash=c1704b5f10752dfc0d895d90f8e890276175414c&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 19, 14, 16, 26, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 14:16:26 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51627_tests-c1704b5f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51503?repo=metabase/metabase&commitHash=c1704b5f10752dfc0d895d90f8e890276175414c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51503?repo=metabase/metabase&commitHash=c1704b5f10752dfc0d895d90f8e890276175414c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/6-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51503?repo=metabase/metabase&commitHash=c1704b5f10752dfc0d895d90f8e890276175414c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51503?repo=metabase/metabase&commitHash=c1704b5f10752dfc0d895d90f8e890276175414c&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51503?repo=metabase/metabase&commitHash=c1704b5f10752dfc0d895d90f8e890276175414c&utm_source=gh-comment&runConclusion=FAILURE&runId=8980d146-03b9-552a-a623-bdaf4207c9a7) |
| <code>issue 34330 should call the autocompleter when backspacing to a 1-character prefix(metabase\#34330)</code> | The \`cy.wait()\` command timed out waiting for the first request to the route 'autocomplete', but no request was made. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51503?repo=metabase/metabase&commitHash=c1704b5f10752dfc0d895d90f8e890276175414c&utm_source=gh-comment&runConclusion=FAILURE&runId=1845ec9c-0c4f-5685-8337-0c30b21121a2) |
| <code>issue 34330 should only call the autocompleter with all text typed (metabase\#34330)</code> | The expected value 'USER' did not match the actual value 'SER' in a comparison. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51503?repo=metabase/metabase&commitHash=c1704b5f10752dfc0d895d90f8e890276175414c&utm_source=gh-comment&runConclusion=FAILURE&runId=55858b3c-79d8-5261-87c7-485d716feab6) |
| <code>scenarios > question > native should handle template tags</code> | The test timed out waiting for the expected content 'Showing 168 rows' to appear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51503?repo=metabase/metabase&commitHash=c1704b5f10752dfc0d895d90f8e890276175414c&utm_source=gh-comment&runConclusion=FAILURE&runId=2e9938ff-a57b-5291-8e2e-d3384c4cf6d6) |

[... and 2 more](https://app.trunk.io/metabase/flaky-tests/pr/51503?repo=metabase/metabase&commitHash=c1704b5f10752dfc0d895d90f8e890276175414c&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51503?repo=metabase/metabase&commitHash=c1704b5f10752dfc0d895d90f8e890276175414c&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2750369347,pull_request,closed,,Port bookmarks to use new `EntityListLoaderRtkQuery`,"Depends on #51496

### Description

Temporary PR to run CI for one specific entity.",kamilmielnik,2024-12-19 13:39:28+00:00,['kamilmielnik'],2024-12-20 07:47:30+00:00,2024-12-20 07:47:28+00:00,https://github.com/metabase/metabase/pull/51502,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2554240599, 'issue_id': 2750369347, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51720_tests-c431ed82-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51502?repo=metabase/metabase&commitHash=c431ed82e433201e127bb5a84fdff8286adf7e71&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51502?repo=metabase/metabase&commitHash=c431ed82e433201e127bb5a84fdff8286adf7e71&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/7-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51502?repo=metabase/metabase&commitHash=c431ed82e433201e127bb5a84fdff8286adf7e71&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51502?repo=metabase/metabase&commitHash=c431ed82e433201e127bb5a84fdff8286adf7e71&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 42957 does not show collections that contain models from different tabs (metabase\\#42957)</code> | The element <div.emotion-xg7kom> was not expected to be in the DOM, but it was found continuously. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51502?repo=metabase/metabase&commitHash=c431ed82e433201e127bb5a84fdff8286adf7e71&utm_source=gh-comment&runConclusion=FAILURE&runId=08a13696-b081-5587-a4ff-b43056836dca) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51502?repo=metabase/metabase&commitHash=c431ed82e433201e127bb5a84fdff8286adf7e71&utm_source=gh-comment&runConclusion=FAILURE&runId=716e3b32-7f46-5090-93ef-20c8daeba595) |\n| <code>issue 16886 shouldn\'t remove parts of the query when choosing \'Run selected text\' (metabase\\#16886)</code> | The test timed out while trying to find an element with data-testid ""scalar-value"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51502?repo=metabase/metabase&commitHash=c431ed82e433201e127bb5a84fdff8286adf7e71&utm_source=gh-comment&runConclusion=FAILURE&runId=5bb0c10b-e71f-5ce3-86c2-b9345d82a6fc) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51502?repo=metabase/metabase&commitHash=c431ed82e433201e127bb5a84fdff8286adf7e71&utm_source=gh-comment&runConclusion=FAILURE&runId=d3a280bb-6d2b-5453-ba45-af921e2ec709) |\n| <code>scenarios > question > native displays an error when running selected text</code> | The test timed out waiting for the expected content \'Table ""ORD"" not found\' in the response. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51502?repo=metabase/metabase&commitHash=c431ed82e433201e127bb5a84fdff8286adf7e71&utm_source=gh-comment&runConclusion=FAILURE&runId=a3191209-8a12-5739-b5b9-594fb4bc0a49) |\n\n[... and 3 more](https://app.trunk.io/metabase/flaky-tests/pr/51502?repo=metabase/metabase&commitHash=c431ed82e433201e127bb5a84fdff8286adf7e71&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51502?repo=metabase/metabase&commitHash=c431ed82e433201e127bb5a84fdff8286adf7e71&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 14, 16, 33, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 14:16:33 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51720_tests-c431ed82-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51502?repo=metabase/metabase&commitHash=c431ed82e433201e127bb5a84fdff8286adf7e71&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51502?repo=metabase/metabase&commitHash=c431ed82e433201e127bb5a84fdff8286adf7e71&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/7-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51502?repo=metabase/metabase&commitHash=c431ed82e433201e127bb5a84fdff8286adf7e71&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51502?repo=metabase/metabase&commitHash=c431ed82e433201e127bb5a84fdff8286adf7e71&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 42957 does not show collections that contain models from different tabs (metabase\#42957)</code> | The element <div.emotion-xg7kom> was not expected to be in the DOM, but it was found continuously. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51502?repo=metabase/metabase&commitHash=c431ed82e433201e127bb5a84fdff8286adf7e71&utm_source=gh-comment&runConclusion=FAILURE&runId=08a13696-b081-5587-a4ff-b43056836dca) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51502?repo=metabase/metabase&commitHash=c431ed82e433201e127bb5a84fdff8286adf7e71&utm_source=gh-comment&runConclusion=FAILURE&runId=716e3b32-7f46-5090-93ef-20c8daeba595) |
| <code>issue 16886 shouldn't remove parts of the query when choosing 'Run selected text' (metabase\#16886)</code> | The test timed out while trying to find an element with data-testid ""scalar-value"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51502?repo=metabase/metabase&commitHash=c431ed82e433201e127bb5a84fdff8286adf7e71&utm_source=gh-comment&runConclusion=FAILURE&runId=5bb0c10b-e71f-5ce3-86c2-b9345d82a6fc) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51502?repo=metabase/metabase&commitHash=c431ed82e433201e127bb5a84fdff8286adf7e71&utm_source=gh-comment&runConclusion=FAILURE&runId=d3a280bb-6d2b-5453-ba45-af921e2ec709) |
| <code>scenarios > question > native displays an error when running selected text</code> | The test timed out waiting for the expected content 'Table ""ORD"" not found' in the response. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51502?repo=metabase/metabase&commitHash=c431ed82e433201e127bb5a84fdff8286adf7e71&utm_source=gh-comment&runConclusion=FAILURE&runId=a3191209-8a12-5739-b5b9-594fb4bc0a49) |

[... and 3 more](https://app.trunk.io/metabase/flaky-tests/pr/51502?repo=metabase/metabase&commitHash=c431ed82e433201e127bb5a84fdff8286adf7e71&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51502?repo=metabase/metabase&commitHash=c431ed82e433201e127bb5a84fdff8286adf7e71&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2750323786,pull_request,closed,,Port alerts to use new `EntityListLoaderRtkQuery`,"Depends on #51496

### Description

Temporary PR to run CI for one specific entity.",kamilmielnik,2024-12-19 13:23:45+00:00,['kamilmielnik'],2024-12-20 07:47:19+00:00,2024-12-20 07:47:18+00:00,https://github.com/metabase/metabase/pull/51501,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2554229531, 'issue_id': 2750323786, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51689_tests-dae2ca1a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51501?repo=metabase/metabase&commitHash=dae2ca1a87da963a0cdcc52a0181c50ee0eb4a96&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51501?repo=metabase/metabase&commitHash=dae2ca1a87da963a0cdcc52a0181c50ee0eb4a96&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51501?repo=metabase/metabase&commitHash=dae2ca1a87da963a0cdcc52a0181c50ee0eb4a96&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51501?repo=metabase/metabase&commitHash=dae2ca1a87da963a0cdcc52a0181c50ee0eb4a96&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Write Actions on Dashboards (postgres) adding and executing actions adds a custom query action to a dashboard and runs it</code> | The expected value 55 was not equal to the actual value 0. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51501?repo=metabase/metabase&commitHash=dae2ca1a87da963a0cdcc52a0181c50ee0eb4a96&utm_source=gh-comment&runConclusion=FAILURE&runId=47e55871-ea33-5718-bca8-dc4e520483a0) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51501?repo=metabase/metabase&commitHash=dae2ca1a87da963a0cdcc52a0181c50ee0eb4a96&utm_source=gh-comment&runConclusion=FAILURE&runId=bf40a40e-55e8-5e85-84d0-91f705d57026) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51501?repo=metabase/metabase&commitHash=dae2ca1a87da963a0cdcc52a0181c50ee0eb4a96&utm_source=gh-comment&runConclusion=FAILURE&runId=f9a3fef5-b58e-50eb-81b5-8ecd8e740cc1) |\n| <code>issue 16886 shouldn\'t remove parts of the query when choosing \'Run selected text\' (metabase\\#16886)</code> | The test timed out while trying to find an element with data-testid ""scalar-value"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51501?repo=metabase/metabase&commitHash=dae2ca1a87da963a0cdcc52a0181c50ee0eb4a96&utm_source=gh-comment&runConclusion=FAILURE&runId=ad95dd91-c497-5d0b-9826-f574aa980af7) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51501?repo=metabase/metabase&commitHash=dae2ca1a87da963a0cdcc52a0181c50ee0eb4a96&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 14, 14, 40, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 14:14:40 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51689_tests-dae2ca1a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51501?repo=metabase/metabase&commitHash=dae2ca1a87da963a0cdcc52a0181c50ee0eb4a96&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51501?repo=metabase/metabase&commitHash=dae2ca1a87da963a0cdcc52a0181c50ee0eb4a96&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51501?repo=metabase/metabase&commitHash=dae2ca1a87da963a0cdcc52a0181c50ee0eb4a96&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51501?repo=metabase/metabase&commitHash=dae2ca1a87da963a0cdcc52a0181c50ee0eb4a96&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Write Actions on Dashboards (postgres) adding and executing actions adds a custom query action to a dashboard and runs it</code> | The expected value 55 was not equal to the actual value 0. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51501?repo=metabase/metabase&commitHash=dae2ca1a87da963a0cdcc52a0181c50ee0eb4a96&utm_source=gh-comment&runConclusion=FAILURE&runId=47e55871-ea33-5718-bca8-dc4e520483a0) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51501?repo=metabase/metabase&commitHash=dae2ca1a87da963a0cdcc52a0181c50ee0eb4a96&utm_source=gh-comment&runConclusion=FAILURE&runId=bf40a40e-55e8-5e85-84d0-91f705d57026) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51501?repo=metabase/metabase&commitHash=dae2ca1a87da963a0cdcc52a0181c50ee0eb4a96&utm_source=gh-comment&runConclusion=FAILURE&runId=f9a3fef5-b58e-50eb-81b5-8ecd8e740cc1) |
| <code>issue 16886 shouldn't remove parts of the query when choosing 'Run selected text' (metabase\#16886)</code> | The test timed out while trying to find an element with data-testid ""scalar-value"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51501?repo=metabase/metabase&commitHash=dae2ca1a87da963a0cdcc52a0181c50ee0eb4a96&utm_source=gh-comment&runConclusion=FAILURE&runId=ad95dd91-c497-5d0b-9826-f574aa980af7) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51501?repo=metabase/metabase&commitHash=dae2ca1a87da963a0cdcc52a0181c50ee0eb4a96&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2750187505,pull_request,closed,,"ü§ñ backported ""fix(types): fix type error on textCard in static-dashboard.cy.spec.tsx""",#51450,github-automation-metabase,2024-12-19 12:35:21+00:00,"['npretto', 'github-automation-metabase']",2024-12-19 13:45:57+00:00,2024-12-19 13:15:43+00:00,https://github.com/metabase/metabase/pull/51500,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2553897593, 'issue_id': 2750187505, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3406_tests-6e57771b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51500?repo=metabase/metabase&commitHash=6e57771befca81e86d5d69f31594786062d42f07&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51500?repo=metabase/metabase&commitHash=6e57771befca81e86d5d69f31594786062d42f07&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51500?repo=metabase/metabase&commitHash=6e57771befca81e86d5d69f31594786062d42f07&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51500?repo=metabase/metabase&commitHash=6e57771befca81e86d5d69f31594786062d42f07&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51500?repo=metabase/metabase&commitHash=6e57771befca81e86d5d69f31594786062d42f07&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 13, 14, 3, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 13:14:03 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3406_tests-6e57771b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51500?repo=metabase/metabase&commitHash=6e57771befca81e86d5d69f31594786062d42f07&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51500?repo=metabase/metabase&commitHash=6e57771befca81e86d5d69f31594786062d42f07&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51500?repo=metabase/metabase&commitHash=6e57771befca81e86d5d69f31594786062d42f07&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51500?repo=metabase/metabase&commitHash=6e57771befca81e86d5d69f31594786062d42f07&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51500?repo=metabase/metabase&commitHash=6e57771befca81e86d5d69f31594786062d42f07&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2750186813,pull_request,closed,,"ü§ñ backported ""fix(types): fix type error on textCard in static-dashboard.cy.spec.tsx""",#51450,github-automation-metabase,2024-12-19 12:35:10+00:00,"['npretto', 'github-automation-metabase']",2024-12-19 14:25:08+00:00,2024-12-19 13:03:06+00:00,https://github.com/metabase/metabase/pull/51499,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2553894346, 'issue_id': 2750186813, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/1054_tests-477d8db2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51499?repo=metabase/metabase&commitHash=477d8db2b923db00f0ba665b31c126e520ce2451&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51499?repo=metabase/metabase&commitHash=477d8db2b923db00f0ba665b31c126e520ce2451&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51499?repo=metabase/metabase&commitHash=477d8db2b923db00f0ba665b31c126e520ce2451&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51499?repo=metabase/metabase&commitHash=477d8db2b923db00f0ba665b31c126e520ce2451&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51499?repo=metabase/metabase&commitHash=477d8db2b923db00f0ba665b31c126e520ce2451&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 13, 13, 28, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 13:13:28 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/1054_tests-477d8db2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51499?repo=metabase/metabase&commitHash=477d8db2b923db00f0ba665b31c126e520ce2451&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51499?repo=metabase/metabase&commitHash=477d8db2b923db00f0ba665b31c126e520ce2451&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51499?repo=metabase/metabase&commitHash=477d8db2b923db00f0ba665b31c126e520ce2451&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51499?repo=metabase/metabase&commitHash=477d8db2b923db00f0ba665b31c126e520ce2451&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51499?repo=metabase/metabase&commitHash=477d8db2b923db00f0ba665b31c126e520ce2451&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2750176601,pull_request,closed,,"ü§ñ backported ""add sdk theme selector to storybook + split the storybook sdk config into its own folder""","  #51122
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2024-12-19 12:31:18+00:00,"['npretto', 'github-automation-metabase']",2025-02-04 14:54:30+00:00,2024-12-19 18:18:19+00:00,https://github.com/metabase/metabase/pull/51498,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2553901520, 'issue_id': 2750176601, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13254_tests-0aa4231d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51498?repo=metabase/metabase&commitHash=0aa4231d6536edd58c49749afd23bce5244f200a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51498?repo=metabase/metabase&commitHash=0aa4231d6536edd58c49749afd23bce5244f200a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51498?repo=metabase/metabase&commitHash=0aa4231d6536edd58c49749afd23bce5244f200a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51498?repo=metabase/metabase&commitHash=0aa4231d6536edd58c49749afd23bce5244f200a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51498?repo=metabase/metabase&commitHash=0aa4231d6536edd58c49749afd23bce5244f200a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 13, 14, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2555494295, 'issue_id': 2750176601, 'author': 'npretto', 'body': ""Well i don't actually think we need this backport after all"", 'created_at': datetime.datetime(2024, 12, 19, 18, 18, 19, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 13:14:45 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13254_tests-0aa4231d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51498?repo=metabase/metabase&commitHash=0aa4231d6536edd58c49749afd23bce5244f200a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51498?repo=metabase/metabase&commitHash=0aa4231d6536edd58c49749afd23bce5244f200a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51498?repo=metabase/metabase&commitHash=0aa4231d6536edd58c49749afd23bce5244f200a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51498?repo=metabase/metabase&commitHash=0aa4231d6536edd58c49749afd23bce5244f200a&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51498?repo=metabase/metabase&commitHash=0aa4231d6536edd58c49749afd23bce5244f200a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

npretto (Assginee) on (2024-12-19 18:18:19 UTC): Well i don't actually think we need this backport after all

"
2750175460,pull_request,closed,,"ü§ñ backported ""add sdk theme selector to storybook + split the storybook sdk config into its own folder""",#51122,github-automation-metabase,2024-12-19 12:30:53+00:00,"['npretto', 'github-automation-metabase']",2024-12-19 13:45:40+00:00,2024-12-19 13:29:49+00:00,https://github.com/metabase/metabase/pull/51497,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2553888457, 'issue_id': 2750175460, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13427_tests-1343bd69-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51497?repo=metabase/metabase&commitHash=1343bd69a7b7ff31e6efc57af2bfb981ff83b0e6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51497?repo=metabase/metabase&commitHash=1343bd69a7b7ff31e6efc57af2bfb981ff83b0e6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51497?repo=metabase/metabase&commitHash=1343bd69a7b7ff31e6efc57af2bfb981ff83b0e6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51497?repo=metabase/metabase&commitHash=1343bd69a7b7ff31e6efc57af2bfb981ff83b0e6&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > waterfall scenarios > visualizations > waterfall settings should allow toggling of the total bar</code> | The test timed out while trying to find an element with data-testid ""chart-container"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51497?repo=metabase/metabase&commitHash=1343bd69a7b7ff31e6efc57af2bfb981ff83b0e6&utm_source=gh-comment&runConclusion=FAILURE&runId=8103fc35-344f-5269-b4cf-24c6bddc8def) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51497?repo=metabase/metabase&commitHash=1343bd69a7b7ff31e6efc57af2bfb981ff83b0e6&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 13, 12, 20, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 13:12:20 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13427_tests-1343bd69-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51497?repo=metabase/metabase&commitHash=1343bd69a7b7ff31e6efc57af2bfb981ff83b0e6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51497?repo=metabase/metabase&commitHash=1343bd69a7b7ff31e6efc57af2bfb981ff83b0e6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51497?repo=metabase/metabase&commitHash=1343bd69a7b7ff31e6efc57af2bfb981ff83b0e6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51497?repo=metabase/metabase&commitHash=1343bd69a7b7ff31e6efc57af2bfb981ff83b0e6&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > waterfall scenarios > visualizations > waterfall settings should allow toggling of the total bar</code> | The test timed out while trying to find an element with data-testid ""chart-container"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51497?repo=metabase/metabase&commitHash=1343bd69a7b7ff31e6efc57af2bfb981ff83b0e6&utm_source=gh-comment&runConclusion=FAILURE&runId=8103fc35-344f-5269-b4cf-24c6bddc8def) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51497?repo=metabase/metabase&commitHash=1343bd69a7b7ff31e6efc57af2bfb981ff83b0e6&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2749950236,pull_request,closed,,Port all entities to use new `EntityListLoaderRtkQuery`,"Closes #50324

### Description

#44492 enabled the new `EntityListLoaderRtkQuery` only for Databases.
This PR enables it for the rest of entities.

This PR may break data fetching (if e2e tests didn't cover a given case) and may affect probability of flakes.
After this is merged I'll be closely monitoring CI for a few days (just like [last time](https://github.com/metabase/metabase/pull/50623))

### How to verify

CI is green.",kamilmielnik,2024-12-19 10:59:28+00:00,['kamilmielnik'],2025-01-09 08:00:01+00:00,2025-01-09 07:55:03+00:00,https://github.com/metabase/metabase/pull/51496,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2554553179, 'issue_id': 2749950236, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51998_tests-ffff3d54-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51496?repo=metabase/metabase&commitHash=ffff3d54321832fa44c8c858252949947b08442d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/12-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51496?repo=metabase/metabase&commitHash=ffff3d54321832fa44c8c858252949947b08442d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51496?repo=metabase/metabase&commitHash=ffff3d54321832fa44c8c858252949947b08442d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51496?repo=metabase/metabase&commitHash=ffff3d54321832fa44c8c858252949947b08442d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51496?repo=metabase/metabase&commitHash=ffff3d54321832fa44c8c858252949947b08442d&utm_source=gh-comment&runConclusion=FAILURE&runId=097a020b-0f6b-5943-8c4e-2350d63a07d9) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51496?repo=metabase/metabase&commitHash=ffff3d54321832fa44c8c858252949947b08442d&utm_source=gh-comment&runConclusion=FAILURE&runId=86d86869-1973-508a-a222-3f81a41c885c) |\n| <code>issue 29786 should allow using field filters with null schema (metabase\\#29786)</code> | The \\`cy.click()\\` command failed because the button is disabled. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51496?repo=metabase/metabase&commitHash=ffff3d54321832fa44c8c858252949947b08442d&utm_source=gh-comment&runConclusion=FAILURE&runId=83363bb3-9768-5ab3-8e38-804123228f0f) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51496?repo=metabase/metabase&commitHash=ffff3d54321832fa44c8c858252949947b08442d&utm_source=gh-comment&runConclusion=FAILURE&runId=e1ae806e-a835-5abe-b580-decba92b4273) |\n\n[... and 8 more](https://app.trunk.io/metabase/flaky-tests/pr/51496?repo=metabase/metabase&commitHash=ffff3d54321832fa44c8c858252949947b08442d&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51496?repo=metabase/metabase&commitHash=ffff3d54321832fa44c8c858252949947b08442d&utm_source=gh-comment&runConclusion=FAILURE&runId=4b2b9e8a-ef2e-5b39-85d0-c3edf5a9f3ad) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51496?repo=metabase/metabase&commitHash=ffff3d54321832fa44c8c858252949947b08442d&utm_source=gh-comment&runConclusion=FAILURE&runId=029a2514-9f71-56c2-820c-40e827670a20) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51496?repo=metabase/metabase&commitHash=ffff3d54321832fa44c8c858252949947b08442d&utm_source=gh-comment&runConclusion=FAILURE&runId=3604907d-d121-542d-bee2-0787bc26753e) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51496?repo=metabase/metabase&commitHash=ffff3d54321832fa44c8c858252949947b08442d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 15, 15, 20, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 15:15:20 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51998_tests-ffff3d54-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51496?repo=metabase/metabase&commitHash=ffff3d54321832fa44c8c858252949947b08442d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/12-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51496?repo=metabase/metabase&commitHash=ffff3d54321832fa44c8c858252949947b08442d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51496?repo=metabase/metabase&commitHash=ffff3d54321832fa44c8c858252949947b08442d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51496?repo=metabase/metabase&commitHash=ffff3d54321832fa44c8c858252949947b08442d&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51496?repo=metabase/metabase&commitHash=ffff3d54321832fa44c8c858252949947b08442d&utm_source=gh-comment&runConclusion=FAILURE&runId=097a020b-0f6b-5943-8c4e-2350d63a07d9) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51496?repo=metabase/metabase&commitHash=ffff3d54321832fa44c8c858252949947b08442d&utm_source=gh-comment&runConclusion=FAILURE&runId=86d86869-1973-508a-a222-3f81a41c885c) |
| <code>issue 29786 should allow using field filters with null schema (metabase\#29786)</code> | The \`cy.click()\` command failed because the button is disabled. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51496?repo=metabase/metabase&commitHash=ffff3d54321832fa44c8c858252949947b08442d&utm_source=gh-comment&runConclusion=FAILURE&runId=83363bb3-9768-5ab3-8e38-804123228f0f) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51496?repo=metabase/metabase&commitHash=ffff3d54321832fa44c8c858252949947b08442d&utm_source=gh-comment&runConclusion=FAILURE&runId=e1ae806e-a835-5abe-b580-decba92b4273) |

[... and 8 more](https://app.trunk.io/metabase/flaky-tests/pr/51496?repo=metabase/metabase&commitHash=ffff3d54321832fa44c8c858252949947b08442d&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51496?repo=metabase/metabase&commitHash=ffff3d54321832fa44c8c858252949947b08442d&utm_source=gh-comment&runConclusion=FAILURE&runId=4b2b9e8a-ef2e-5b39-85d0-c3edf5a9f3ad) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51496?repo=metabase/metabase&commitHash=ffff3d54321832fa44c8c858252949947b08442d&utm_source=gh-comment&runConclusion=FAILURE&runId=029a2514-9f71-56c2-820c-40e827670a20) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51496?repo=metabase/metabase&commitHash=ffff3d54321832fa44c8c858252949947b08442d&utm_source=gh-comment&runConclusion=FAILURE&runId=3604907d-d121-542d-bee2-0787bc26753e) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51496?repo=metabase/metabase&commitHash=ffff3d54321832fa44c8c858252949947b08442d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2749812946,pull_request,closed,,[openapi] reduce amount of oneOf/allOf we generate in documentation,"We generate way too many oneOf/allOf crap (because of `[:smth {:optional true} [:maybe ....]]` stuff in our code - maybe we should fix that?), and the OpenAPI doc is really hard to read because of that, since no viewers handle them.

This makes stuff a bit nicer. I think a better solution would be to augment Malli's json-schema generation, but this is already in our code and fast enough so it'll do for now.",piranha,2024-12-19 10:03:24+00:00,['piranha'],2025-01-08 10:13:01+00:00,2024-12-20 13:13:22+00:00,https://github.com/metabase/metabase/pull/51495,"[('Misc/API', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2553386906, 'issue_id': 2749812946, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/136896_tests-c10a0392-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51495?repo=metabase/metabase&commitHash=c10a039215b4b309fe5dd82e3287ed0c6883abf5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51495?repo=metabase/metabase&commitHash=c10a039215b4b309fe5dd82e3287ed0c6883abf5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51495?repo=metabase/metabase&commitHash=c10a039215b4b309fe5dd82e3287ed0c6883abf5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51495?repo=metabase/metabase&commitHash=c10a039215b4b309fe5dd82e3287ed0c6883abf5&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 29786 should allow using field filters with null schema (metabase\\#29786)</code> | The \\`cy.click()\\` command failed because the button is disabled. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51495?repo=metabase/metabase&commitHash=c10a039215b4b309fe5dd82e3287ed0c6883abf5&utm_source=gh-comment&runConclusion=FAILURE&runId=c961d175-7460-5091-857d-d8959a61702c) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51495?repo=metabase/metabase&commitHash=c10a039215b4b309fe5dd82e3287ed0c6883abf5&utm_source=gh-comment&runConclusion=FAILURE&runId=aa0343c8-5292-5a03-b369-c2b512b7518d) |\n| <code>e2e-storage-ingestion-test</code> | Expected entity to match the expected structure, but actual entity has different table\\_id. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51495?repo=metabase/metabase&commitHash=c10a039215b4b309fe5dd82e3287ed0c6883abf5&utm_source=gh-comment&runConclusion=FAILURE&runId=4f9366a2-4ee9-5b37-9ba8-a09b105a8b27) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51495?repo=metabase/metabase&commitHash=c10a039215b4b309fe5dd82e3287ed0c6883abf5&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 10, 42, 4, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 10:42:04 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/136896_tests-c10a0392-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51495?repo=metabase/metabase&commitHash=c10a039215b4b309fe5dd82e3287ed0c6883abf5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51495?repo=metabase/metabase&commitHash=c10a039215b4b309fe5dd82e3287ed0c6883abf5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51495?repo=metabase/metabase&commitHash=c10a039215b4b309fe5dd82e3287ed0c6883abf5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51495?repo=metabase/metabase&commitHash=c10a039215b4b309fe5dd82e3287ed0c6883abf5&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 29786 should allow using field filters with null schema (metabase\#29786)</code> | The \`cy.click()\` command failed because the button is disabled. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51495?repo=metabase/metabase&commitHash=c10a039215b4b309fe5dd82e3287ed0c6883abf5&utm_source=gh-comment&runConclusion=FAILURE&runId=c961d175-7460-5091-857d-d8959a61702c) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51495?repo=metabase/metabase&commitHash=c10a039215b4b309fe5dd82e3287ed0c6883abf5&utm_source=gh-comment&runConclusion=FAILURE&runId=aa0343c8-5292-5a03-b369-c2b512b7518d) |
| <code>e2e-storage-ingestion-test</code> | Expected entity to match the expected structure, but actual entity has different table\_id. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51495?repo=metabase/metabase&commitHash=c10a039215b4b309fe5dd82e3287ed0c6883abf5&utm_source=gh-comment&runConclusion=FAILURE&runId=4f9366a2-4ee9-5b37-9ba8-a09b105a8b27) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51495?repo=metabase/metabase&commitHash=c10a039215b4b309fe5dd82e3287ed0c6883abf5&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2749806800,pull_request,open,,Use CodeMirror in the custom expression editor,"Closes QUE-580, QUE-579, QUE-577, QUE-576, QUE-575

All of these features were part of the POC and are highly interdependent, so it's all coming in one big PR.

The custom expression editor should work just like before, with one big change: the suggestions and help text popovers have been merged into one.

https://github.com/user-attachments/assets/5ea680cd-af7f-46f3-ae7a-c267e4fbeaa7

",romeovs,2024-12-19 10:00:35+00:00,['romeovs'],2025-02-07 13:17:12+00:00,,https://github.com/metabase/metabase/pull/51494,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', ''), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2553386801, 'issue_id': 2749806800, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13721_tests-e194eb0d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51494?repo=metabase/metabase&commitHash=e194eb0d4e8c43044b21f53d2e69018bfb64e3dd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51494?repo=metabase/metabase&commitHash=e194eb0d4e8c43044b21f53d2e69018bfb64e3dd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51494?repo=metabase/metabase&commitHash=e194eb0d4e8c43044b21f53d2e69018bfb64e3dd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51494?repo=metabase/metabase&commitHash=e194eb0d4e8c43044b21f53d2e69018bfb64e3dd&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > custom column > expression shortcuts > extract should be possible to create the same extraction multiple times</code> | The test timed out while trying to find an element with data-testid ""custom-expression-editor-suggestions"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51494?repo=metabase/metabase&commitHash=e194eb0d4e8c43044b21f53d2e69018bfb64e3dd&utm_source=gh-comment&runConclusion=FAILURE&runId=5ff5ef1d-c670-5966-b810-1402a9f02aa7) |\n| <code>scenarios > question > custom column > typing suggestion should always show the help text popover on top of the custom expression widget (metabase\\...</code> | The test timed out while trying to find an element with data-testid ""expression-helper"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51494?repo=metabase/metabase&commitHash=e194eb0d4e8c43044b21f53d2e69018bfb64e3dd&utm_source=gh-comment&runConclusion=FAILURE&runId=1fc8fc3d-eaae-5240-baf7-6acd248c2105) |\n| <code>scenarios > question > custom column > typing suggestion the help text popover should collapse when there is not enough space to render it and the...</code> | The element \'<ul\\#cm-ac-djto>, 1 more...\' was expected to be visible, but it timed out after 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51494?repo=metabase/metabase&commitHash=e194eb0d4e8c43044b21f53d2e69018bfb64e3dd&utm_source=gh-comment&runConclusion=FAILURE&runId=99835d3d-5586-5614-a59a-75966a7d6a54) |\n| <code>issue 17963 should be able to compare two fields using filter expression (metabase\\#17963)</code> | The element \\`.ace\\_text-input\\` was not found within 4000ms, causing a timeout. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51494?repo=metabase/metabase&commitHash=e194eb0d4e8c43044b21f53d2e69018bfb64e3dd&utm_source=gh-comment&runConclusion=FAILURE&runId=24008670-e6ba-5b1e-af53-2346f5c8842f) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51494?repo=metabase/metabase&commitHash=e194eb0d4e8c43044b21f53d2e69018bfb64e3dd&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 10, 42, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642799149, 'issue_id': 2749806800, 'author': 'github-actions[bot]', 'body': 'üëã Deploying a preview environment for commit e194eb0d4e8c43044b21f53d2e69018bfb64e3dd.\n‚úÖ Preview:\n    https://pr51494.coredev.metabase.com\nüóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2025, 2, 7, 12, 33, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2642804936, 'issue_id': 2749806800, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `e194eb0d4e8c43044b21f53d2e69018bfb64e3dd-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13199750607?pr=51494)\n\n  File | Test Name\n  ---- | ---------\n  `reproductions-1.cy.spec.js` | issue 17963 > should be able to compare two fields using filter expression (metabase#17963)\n`cc-typing-suggestion.cy.spec.js` | scenarios > question > custom column > typing suggestion > should always show the help text popover on top of the custom expression widget (metabase#52711)\n`cc-typing-suggestion.cy.spec.js` | scenarios > question > custom column > typing suggestion > the help text popover should collapse when there is not enough space to render it and the completions\n`cc-shortcuts.cy.spec.ts` | scenarios > question > custom column > expression shortcuts > extract > should be possible to create the same extraction multiple times', 'created_at': datetime.datetime(2025, 2, 7, 12, 36, 52, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 10:42:01 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13721_tests-e194eb0d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51494?repo=metabase/metabase&commitHash=e194eb0d4e8c43044b21f53d2e69018bfb64e3dd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51494?repo=metabase/metabase&commitHash=e194eb0d4e8c43044b21f53d2e69018bfb64e3dd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51494?repo=metabase/metabase&commitHash=e194eb0d4e8c43044b21f53d2e69018bfb64e3dd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51494?repo=metabase/metabase&commitHash=e194eb0d4e8c43044b21f53d2e69018bfb64e3dd&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > custom column > expression shortcuts > extract should be possible to create the same extraction multiple times</code> | The test timed out while trying to find an element with data-testid ""custom-expression-editor-suggestions"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51494?repo=metabase/metabase&commitHash=e194eb0d4e8c43044b21f53d2e69018bfb64e3dd&utm_source=gh-comment&runConclusion=FAILURE&runId=5ff5ef1d-c670-5966-b810-1402a9f02aa7) |
| <code>scenarios > question > custom column > typing suggestion should always show the help text popover on top of the custom expression widget (metabase\...</code> | The test timed out while trying to find an element with data-testid ""expression-helper"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51494?repo=metabase/metabase&commitHash=e194eb0d4e8c43044b21f53d2e69018bfb64e3dd&utm_source=gh-comment&runConclusion=FAILURE&runId=1fc8fc3d-eaae-5240-baf7-6acd248c2105) |
| <code>scenarios > question > custom column > typing suggestion the help text popover should collapse when there is not enough space to render it and the...</code> | The element '<ul\#cm-ac-djto>, 1 more...' was expected to be visible, but it timed out after 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51494?repo=metabase/metabase&commitHash=e194eb0d4e8c43044b21f53d2e69018bfb64e3dd&utm_source=gh-comment&runConclusion=FAILURE&runId=99835d3d-5586-5614-a59a-75966a7d6a54) |
| <code>issue 17963 should be able to compare two fields using filter expression (metabase\#17963)</code> | The element \`.ace\_text-input\` was not found within 4000ms, causing a timeout. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51494?repo=metabase/metabase&commitHash=e194eb0d4e8c43044b21f53d2e69018bfb64e3dd&utm_source=gh-comment&runConclusion=FAILURE&runId=24008670-e6ba-5b1e-af53-2346f5c8842f) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51494?repo=metabase/metabase&commitHash=e194eb0d4e8c43044b21f53d2e69018bfb64e3dd&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-02-07 12:33:41 UTC): üëã Deploying a preview environment for commit e194eb0d4e8c43044b21f53d2e69018bfb64e3dd.
‚úÖ Preview:
    https://pr51494.coredev.metabase.com
üóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

github-actions[bot] on (2025-02-07 12:36:52 UTC): ## e2e tests failed on `e194eb0d4e8c43044b21f53d2e69018bfb64e3dd-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13199750607?pr=51494)

  File | Test Name
  ---- | ---------
  `reproductions-1.cy.spec.js` | issue 17963 > should be able to compare two fields using filter expression (metabase#17963)
`cc-typing-suggestion.cy.spec.js` | scenarios > question > custom column > typing suggestion > should always show the help text popover on top of the custom expression widget (metabase#52711)
`cc-typing-suggestion.cy.spec.js` | scenarios > question > custom column > typing suggestion > the help text popover should collapse when there is not enough space to render it and the completions
`cc-shortcuts.cy.spec.ts` | scenarios > question > custom column > expression shortcuts > extract > should be possible to create the same extraction multiple times

"
2749126433,pull_request,closed,,Gsheets integration: more api alignment,,escherize,2024-12-19 02:50:50+00:00,['escherize'],2024-12-19 03:41:11+00:00,2024-12-19 03:06:28+00:00,https://github.com/metabase/metabase/pull/51492,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2552709164, 'issue_id': 2749126433, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/4739_tests-17510f92-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51492?repo=metabase/metabase&commitHash=17510f92c6ad38120906076e40e6c35de4689147&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51492?repo=metabase/metabase&commitHash=17510f92c6ad38120906076e40e6c35de4689147&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51492?repo=metabase/metabase&commitHash=17510f92c6ad38120906076e40e6c35de4689147&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51492?repo=metabase/metabase&commitHash=17510f92c6ad38120906076e40e6c35de4689147&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51492?repo=metabase/metabase&commitHash=17510f92c6ad38120906076e40e6c35de4689147&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 3, 41, 10, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 03:41:10 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/4739_tests-17510f92-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51492?repo=metabase/metabase&commitHash=17510f92c6ad38120906076e40e6c35de4689147&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51492?repo=metabase/metabase&commitHash=17510f92c6ad38120906076e40e6c35de4689147&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51492?repo=metabase/metabase&commitHash=17510f92c6ad38120906076e40e6c35de4689147&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51492?repo=metabase/metabase&commitHash=17510f92c6ad38120906076e40e6c35de4689147&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51492?repo=metabase/metabase&commitHash=17510f92c6ad38120906076e40e6c35de4689147&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2749121168,pull_request,closed,,Fix pdf exports issues,"### Description

#### 1. Short PDF pages are cut off
[Slack convo](https://metaboat.slack.com/archives/C064QMXEV9N/p1734531824224769)

If PDF page split produced a page that has width greater than height, then `jspdf` will changes the dimensions of the page to configured format, in our case default portrait A4 format. This creates a horizontally trimmed page:

<details>
<summary>Trimmed page screenshot</summary>
<img width=""1213"" alt=""Screenshot 2024-12-18 at 9 29 56‚ÄØPM"" src=""https://github.com/user-attachments/assets/09d7197a-fc90-491c-9fcf-ad2e6ab8e2bb"" />
</details>

To avoid this, we could set the page orientation to landscape, however, when printing it would make the page appear rotated due to the landscape mode.

<details>
<summary>Use landscape orientation</summary>
<img width=""1555"" alt=""Screenshot 2024-12-18 at 7 02 53‚ÄØPM"" src=""https://github.com/user-attachments/assets/35dbb5f6-7d24-4742-adc4-224ee592a827"" />
</details>

So the solution I came to is setting the allowed min page height to the width of the document so it is not possible to have pages with width > height.

<details>
<summary>Min page height is width of the document</summary>
<img width=""1213"" alt=""Screenshot 2024-12-18 at 9 35 33‚ÄØPM"" src=""https://github.com/user-attachments/assets/e6594043-9071-429b-a746-d8f077e52f7a"" />
</details>

#### 2. Short PDF pages are cut off

[Slack convo](https://metaboat.slack.com/archives/C064QMXEV9N/p1734551627000219) 
While working on https://github.com/metabase/metabase/pull/49917 I changed the node we select for PDF exports from the container that includes both filters and cards to just grid with cards and I missed adding parameters. The reason behind the change was to not to include empty space around grid, especially on large monitors when fixed dashboard width is enabled.

<details>
<summary>PDF with parameters</summary>
<img width=""1210"" alt=""Screenshot 2024-12-18 at 9 38 46‚ÄØPM"" src=""https://github.com/user-attachments/assets/b7b5cf1d-3562-49ba-98f5-efcffaff0341"" />
</details>

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",alxnddr,2024-12-19 02:45:00+00:00,['alxnddr'],2024-12-19 21:04:23+00:00,2024-12-19 20:17:26+00:00,https://github.com/metabase/metabase/pull/51491,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2552686566, 'issue_id': 2749121168, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51575_tests-8ee6ccab-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51491?repo=metabase/metabase&commitHash=8ee6ccabfc44d6b65b2bc9ffa9ce9cb039cf2993&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51491?repo=metabase/metabase&commitHash=8ee6ccabfc44d6b65b2bc9ffa9ce9cb039cf2993&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51491?repo=metabase/metabase&commitHash=8ee6ccabfc44d6b65b2bc9ffa9ce9cb039cf2993&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51491?repo=metabase/metabase&commitHash=8ee6ccabfc44d6b65b2bc9ffa9ce9cb039cf2993&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51491?repo=metabase/metabase&commitHash=8ee6ccabfc44d6b65b2bc9ffa9ce9cb039cf2993&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 3, 14, 38, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-19 03:14:38 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51575_tests-8ee6ccab-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51491?repo=metabase/metabase&commitHash=8ee6ccabfc44d6b65b2bc9ffa9ce9cb039cf2993&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51491?repo=metabase/metabase&commitHash=8ee6ccabfc44d6b65b2bc9ffa9ce9cb039cf2993&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51491?repo=metabase/metabase&commitHash=8ee6ccabfc44d6b65b2bc9ffa9ce9cb039cf2993&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51491?repo=metabase/metabase&commitHash=8ee6ccabfc44d6b65b2bc9ffa9ce9cb039cf2993&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51491?repo=metabase/metabase&commitHash=8ee6ccabfc44d6b65b2bc9ffa9ce9cb039cf2993&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2749030140,pull_request,closed,,"Batch query_execution, audit_log and view_log truncations","Resolves https://github.com/metabase/metabase/issues/51432

Runs truncation jobs of all audit-related tables in batches instead of a single query that can lock up the tables and slow down the rest of the application. (Particularly relevant for `query_execution` which can get very large, but shouldn't hurt to use this for all the jobs.)

Set the default batch size to 50000 but configurable by env var `MB_AUDIT_TABLE_TRUNCATION_BATCH_SIZE`.",noahmoss,2024-12-19 01:04:48+00:00,['noahmoss'],2024-12-20 22:47:56+00:00,2024-12-20 21:57:31+00:00,https://github.com/metabase/metabase/pull/51490,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2552561741, 'issue_id': 2749030140, 'author': 'noahmoss', 'body': '* **#51490** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51490?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51490?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 12, 19, 1, 5, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2555925218, 'issue_id': 2749030140, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/121658_tests-71c9f25b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51490?repo=metabase/metabase&commitHash=71c9f25b5daad852af255e94a54b72e241d6a54a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51490?repo=metabase/metabase&commitHash=71c9f25b5daad852af255e94a54b72e241d6a54a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51490?repo=metabase/metabase&commitHash=71c9f25b5daad852af255e94a54b72e241d6a54a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51490?repo=metabase/metabase&commitHash=71c9f25b5daad852af255e94a54b72e241d6a54a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51490?repo=metabase/metabase&commitHash=71c9f25b5daad852af255e94a54b72e241d6a54a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 23, 4, 45, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2024-12-19 01:05:04 UTC): * **#51490** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51490?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51490?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2024-12-19 23:04:45 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/121658_tests-71c9f25b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51490?repo=metabase/metabase&commitHash=71c9f25b5daad852af255e94a54b72e241d6a54a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51490?repo=metabase/metabase&commitHash=71c9f25b5daad852af255e94a54b72e241d6a54a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51490?repo=metabase/metabase&commitHash=71c9f25b5daad852af255e94a54b72e241d6a54a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51490?repo=metabase/metabase&commitHash=71c9f25b5daad852af255e94a54b72e241d6a54a&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51490?repo=metabase/metabase&commitHash=71c9f25b5daad852af255e94a54b72e241d6a54a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2748997746,pull_request,closed,,Fix the zoom-in.binning drill thru for multi-stage queries,"### Description

Fix the `zoom-in.binning` drill thru for multi-stage queries, when, for example, the breakout dimensions are not on the final stage. Changes for this drill thru are similar to recents fixes for `zoom-in.timeseries` and `underlying-records` drills.

* Construct dimensions from row data once in `available-drill-thrus`, rather than doing it in each drill that needs it separately. The dimensions must be constructed in `available-drill-thrus` since some drills are expected to `return-drills-for-dimensions?`, but this also has the side benefit of reducing code duplication by lifting the rows->dimensions conversion up into a single place.
* Update the `zoom-in.timeseries` and `underlying-records` drills, which no longer need to convert rows->dimensions themselves.
* Add a new optional keyword arg `:rename-superflous-options?` to `lib.underlying/top-level-column` since `zoom-in.binning` wants to check and preserve the binning options on the top-level column.
* Fix the `zoom-in.binning` drill to also work the breakout column comes from an underlying stage
* Add some tests to `zoom-in-bins-test` to verify that the same drill results are returned for single and multi-stage queries.

Related to https://github.com/metabase/metabase/issues/46932

### How to verify

* New question: Orders
* summarize: Count by Quantity: Auto binned (or num bins)
* Add filter stage after summarize, e.g. Count > 1
* Visualize
* Select Table viz
* Click on a cell
* ""Zoom in"" drill through should appear in the context menu
* Select the ""Zoom in"" drill: results should zoom in to the selected bin

### Demo

#### Before

![Screenshot 2024-12-18 at 3 55 53‚ÄØPM](https://github.com/user-attachments/assets/500da4ff-89ef-4ed4-a1d9-657ae8cee561)

#### After

![Screenshot 2024-12-18 at 3 55 18‚ÄØPM](https://github.com/user-attachments/assets/266d51ef-8ca2-4916-8e53-e84b4fecc304)
![Screenshot 2024-12-18 at 3 57 00‚ÄØPM](https://github.com/user-attachments/assets/c6a4a31f-3ed8-4b26-a312-387ae1b80c62)


### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",appleby,2024-12-19 00:26:37+00:00,['appleby'],2025-01-06 22:31:00+00:00,2025-01-03 21:03:32+00:00,https://github.com/metabase/metabase/pull/51489,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2552524511, 'issue_id': 2748997746, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff ae97cbde23126836c08ae1a738d354759bd9d5cb...dd6ed82d30b4f55accf27ff97dca62ae1f84b9a3.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/lib/table.js |', 'created_at': datetime.datetime(2024, 12, 19, 0, 28, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2552572321, 'issue_id': 2748997746, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/49256_tests-dd6ed82d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51489?repo=metabase/metabase&commitHash=dd6ed82d30b4f55accf27ff97dca62ae1f84b9a3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51489?repo=metabase/metabase&commitHash=dd6ed82d30b4f55accf27ff97dca62ae1f84b9a3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51489?repo=metabase/metabase&commitHash=dd6ed82d30b4f55accf27ff97dca62ae1f84b9a3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51489?repo=metabase/metabase&commitHash=dd6ed82d30b4f55accf27ff97dca62ae1f84b9a3&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51489?repo=metabase/metabase&commitHash=dd6ed82d30b4f55accf27ff97dca62ae1f84b9a3&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 19, 1, 14, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2570007247, 'issue_id': 2748997746, 'author': 'appleby', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2025, 1, 4, 2, 14, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2574040153, 'issue_id': 2748997746, 'author': 'github-actions[bot]', 'body': 'üöÄ This should also be released by [v0.52.5](https://github.com/metabase/metabase/milestone/296)', 'created_at': datetime.datetime(2025, 1, 6, 22, 30, 58, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-12-19 00:28:02 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff ae97cbde23126836c08ae1a738d354759bd9d5cb...dd6ed82d30b4f55accf27ff97dca62ae1f84b9a3.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/lib/table.js |

trunk-io[bot] on (2024-12-19 01:14:49 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/49256_tests-dd6ed82d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51489?repo=metabase/metabase&commitHash=dd6ed82d30b4f55accf27ff97dca62ae1f84b9a3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51489?repo=metabase/metabase&commitHash=dd6ed82d30b4f55accf27ff97dca62ae1f84b9a3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51489?repo=metabase/metabase&commitHash=dd6ed82d30b4f55accf27ff97dca62ae1f84b9a3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51489?repo=metabase/metabase&commitHash=dd6ed82d30b4f55accf27ff97dca62ae1f84b9a3&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51489?repo=metabase/metabase&commitHash=dd6ed82d30b4f55accf27ff97dca62ae1f84b9a3&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

appleby (Issue Creator) on (2025-01-04 02:14:23 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2025-01-06 22:30:58 UTC): üöÄ This should also be released by [v0.52.5](https://github.com/metabase/metabase/milestone/296)

"
2748905215,pull_request,closed,,50766 move embedding menu items,"Part of https://github.com/metabase/metabase/issues/50766

### Description

Describe the overall approach and the problem being solved.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> ...
2. ...

### Demo

_Upload a demo video or before/after screenshots if sensible or remove the section_

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",deniskaber,2024-12-18 23:01:42+00:00,['deniskaber'],2025-01-08 15:14:13+00:00,2025-01-08 14:50:22+00:00,https://github.com/metabase/metabase/pull/51488,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2552478171, 'issue_id': 2748905215, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/131723_tests-91795eeb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=91795eeb84a69c7bc2d7b2a788b4e9aeb271516d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/9-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=91795eeb84a69c7bc2d7b2a788b4e9aeb271516d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=91795eeb84a69c7bc2d7b2a788b4e9aeb271516d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=91795eeb84a69c7bc2d7b2a788b4e9aeb271516d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts should allow you to enable a webhook alert</code> | A button was expected to be enabled, but it was disabled after 4 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=91795eeb84a69c7bc2d7b2a788b4e9aeb271516d&utm_source=gh-comment&runConclusion=FAILURE&runId=1e428efd-2f90-5e1d-b241-f462f582b56e) |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find a button with the name ""Send a test"" within 4 seconds. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=91795eeb84a69c7bc2d7b2a788b4e9aeb271516d&utm_source=gh-comment&runConclusion=FAILURE&runId=84ce9615-1190-5450-bc68-c15464d6d3ff) |\n| <code>scenarios > question > snippets (EE) existing snippet folder shouldn\'t update root permissions when changing permissions on a created folder (metab...</code> | The test timed out while trying to find an element with the text ""Change permissions"" in the UI. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=91795eeb84a69c7bc2d7b2a788b4e9aeb271516d&utm_source=gh-comment&runConclusion=FAILURE&runId=9c569b89-37e0-57d8-bd1b-f92efb8bba85) |\n| <code>issue 47170 should show legible dark mode colors in fullscreen mode (metabase\\#51524)</code> | The test timed out while trying to find an element with data-testid ""sharing-menu-button"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=91795eeb84a69c7bc2d7b2a788b4e9aeb271516d&utm_source=gh-comment&runConclusion=FAILURE&runId=cc793cf3-d41f-58f1-8ecf-28499e37fa58) |\n\n[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=91795eeb84a69c7bc2d7b2a788b4e9aeb271516d&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, but expected stage numbers. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=91795eeb84a69c7bc2d7b2a788b4e9aeb271516d&utm_source=gh-comment&runConclusion=FAILURE&runId=62eb8a66-4b45-5b57-b6a2-4b06f235706d) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=91795eeb84a69c7bc2d7b2a788b4e9aeb271516d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 18, 23, 48, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2552478172, 'issue_id': 2748905215, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/116357_tests-c7e5fcf5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=c7e5fcf510f881f2470eac70d753da493a749852&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/26-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=c7e5fcf510f881f2470eac70d753da493a749852&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=c7e5fcf510f881f2470eac70d753da493a749852&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=c7e5fcf510f881f2470eac70d753da493a749852&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > pivot tables sharing (metabase\\#14447) dashboard should display pivot table in an embed URL</code> | Unable to find an element with the text ""Embed"" within the given time limit. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=c7e5fcf510f881f2470eac70d753da493a749852&utm_source=gh-comment&runConclusion=FAILURE&runId=dde11076-f49b-5571-8b33-11177c753f5b) |\n| <code>scenarios > visualizations > pivot tables sharing (metabase\\#14447) dashboard should display pivot table in a public link</code> | Unable to find an element with the text ""/public link/i"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=c7e5fcf510f881f2470eac70d753da493a749852&utm_source=gh-comment&runConclusion=FAILURE&runId=2ce1d7c7-e7d2-50d4-8e04-df8b26787a77) |\n| <code>scenarios > visualizations > pivot tables sharing (metabase\\#14447) question should display pivot table in an embed URL</code> | Unable to find an element with the text ""Embed"" within the given time limit. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=c7e5fcf510f881f2470eac70d753da493a749852&utm_source=gh-comment&runConclusion=FAILURE&runId=2d3c6281-479e-52d3-9405-ac7eeb79f062) |\n| <code>scenarios > visualizations > pivot tables sharing (metabase\\#14447) question should display pivot table in a public link</code> | Unable to find an element with the text ""/public link/i"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=c7e5fcf510f881f2470eac70d753da493a749852&utm_source=gh-comment&runConclusion=FAILURE&runId=707a1bfe-9336-59df-8923-9947c7e7d0a9) |\n\n[... and 22 more](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=c7e5fcf510f881f2470eac70d753da493a749852&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>public-queries-are-counted-test</code> | Timeout after 300ms while fetching a public Card\'s query count. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=c7e5fcf510f881f2470eac70d753da493a749852&utm_source=gh-comment&runConclusion=FAILURE&runId=54473089-bd21-5a26-8d88-3911d35699ef) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=c7e5fcf510f881f2470eac70d753da493a749852&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 18, 23, 48, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2558903814, 'issue_id': 2748905215, 'author': 'qnkhuat', 'body': ""This probably won't close the epic right? :D"", 'created_at': datetime.datetime(2024, 12, 23, 4, 49, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2577861479, 'issue_id': 2748905215, 'author': 'deniskaber', 'body': 'Closed in favor of https://github.com/metabase/metabase/pull/51859', 'created_at': datetime.datetime(2025, 1, 8, 14, 50, 31, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-18 23:48:45 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/131723_tests-91795eeb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=91795eeb84a69c7bc2d7b2a788b4e9aeb271516d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/9-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=91795eeb84a69c7bc2d7b2a788b4e9aeb271516d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=91795eeb84a69c7bc2d7b2a788b4e9aeb271516d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=91795eeb84a69c7bc2d7b2a788b4e9aeb271516d&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts should allow you to enable a webhook alert</code> | A button was expected to be enabled, but it was disabled after 4 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=91795eeb84a69c7bc2d7b2a788b4e9aeb271516d&utm_source=gh-comment&runConclusion=FAILURE&runId=1e428efd-2f90-5e1d-b241-f462f582b56e) |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find a button with the name ""Send a test"" within 4 seconds. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=91795eeb84a69c7bc2d7b2a788b4e9aeb271516d&utm_source=gh-comment&runConclusion=FAILURE&runId=84ce9615-1190-5450-bc68-c15464d6d3ff) |
| <code>scenarios > question > snippets (EE) existing snippet folder shouldn't update root permissions when changing permissions on a created folder (metab...</code> | The test timed out while trying to find an element with the text ""Change permissions"" in the UI. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=91795eeb84a69c7bc2d7b2a788b4e9aeb271516d&utm_source=gh-comment&runConclusion=FAILURE&runId=9c569b89-37e0-57d8-bd1b-f92efb8bba85) |
| <code>issue 47170 should show legible dark mode colors in fullscreen mode (metabase\#51524)</code> | The test timed out while trying to find an element with data-testid ""sharing-menu-button"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=91795eeb84a69c7bc2d7b2a788b4e9aeb271516d&utm_source=gh-comment&runConclusion=FAILURE&runId=cc793cf3-d41f-58f1-8ecf-28499e37fa58) |

[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=91795eeb84a69c7bc2d7b2a788b4e9aeb271516d&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, but expected stage numbers. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=91795eeb84a69c7bc2d7b2a788b4e9aeb271516d&utm_source=gh-comment&runConclusion=FAILURE&runId=62eb8a66-4b45-5b57-b6a2-4b06f235706d) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=91795eeb84a69c7bc2d7b2a788b4e9aeb271516d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-12-18 23:48:45 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/116357_tests-c7e5fcf5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=c7e5fcf510f881f2470eac70d753da493a749852&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/26-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=c7e5fcf510f881f2470eac70d753da493a749852&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=c7e5fcf510f881f2470eac70d753da493a749852&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=c7e5fcf510f881f2470eac70d753da493a749852&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > pivot tables sharing (metabase\#14447) dashboard should display pivot table in an embed URL</code> | Unable to find an element with the text ""Embed"" within the given time limit. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=c7e5fcf510f881f2470eac70d753da493a749852&utm_source=gh-comment&runConclusion=FAILURE&runId=dde11076-f49b-5571-8b33-11177c753f5b) |
| <code>scenarios > visualizations > pivot tables sharing (metabase\#14447) dashboard should display pivot table in a public link</code> | Unable to find an element with the text ""/public link/i"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=c7e5fcf510f881f2470eac70d753da493a749852&utm_source=gh-comment&runConclusion=FAILURE&runId=2ce1d7c7-e7d2-50d4-8e04-df8b26787a77) |
| <code>scenarios > visualizations > pivot tables sharing (metabase\#14447) question should display pivot table in an embed URL</code> | Unable to find an element with the text ""Embed"" within the given time limit. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=c7e5fcf510f881f2470eac70d753da493a749852&utm_source=gh-comment&runConclusion=FAILURE&runId=2d3c6281-479e-52d3-9405-ac7eeb79f062) |
| <code>scenarios > visualizations > pivot tables sharing (metabase\#14447) question should display pivot table in a public link</code> | Unable to find an element with the text ""/public link/i"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=c7e5fcf510f881f2470eac70d753da493a749852&utm_source=gh-comment&runConclusion=FAILURE&runId=707a1bfe-9336-59df-8923-9947c7e7d0a9) |

[... and 22 more](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=c7e5fcf510f881f2470eac70d753da493a749852&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>public-queries-are-counted-test</code> | Timeout after 300ms while fetching a public Card's query count. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=c7e5fcf510f881f2470eac70d753da493a749852&utm_source=gh-comment&runConclusion=FAILURE&runId=54473089-bd21-5a26-8d88-3911d35699ef) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51488?repo=metabase/metabase&commitHash=c7e5fcf510f881f2470eac70d753da493a749852&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

qnkhuat on (2024-12-23 04:49:57 UTC): This probably won't close the epic right? :D

deniskaber (Issue Creator) on (2025-01-08 14:50:31 UTC): Closed in favor of https://github.com/metabase/metabase/pull/51859

"
2748900384,pull_request,closed,,Don't crash for ignored status codes in embedding responses (#51408),Manual backport of https://github.com/metabase/metabase/pull/51408 to 51 release.,escherize,2024-12-18 22:57:22+00:00,['escherize'],2024-12-19 17:11:24+00:00,2024-12-19 17:10:53+00:00,https://github.com/metabase/metabase/pull/51487,"[('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2552478598, 'issue_id': 2748900384, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/103031_tests-43dcae7d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51487?repo=metabase/metabase&commitHash=43dcae7df698858ee0b922336e2c5da51d5222f2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51487?repo=metabase/metabase&commitHash=43dcae7df698858ee0b922336e2c5da51d5222f2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51487?repo=metabase/metabase&commitHash=43dcae7df698858ee0b922336e2c5da51d5222f2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51487?repo=metabase/metabase&commitHash=43dcae7df698858ee0b922336e2c5da51d5222f2&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51487?repo=metabase/metabase&commitHash=43dcae7df698858ee0b922336e2c5da51d5222f2&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 18, 23, 49, 13, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-18 23:49:13 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/103031_tests-43dcae7d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51487?repo=metabase/metabase&commitHash=43dcae7df698858ee0b922336e2c5da51d5222f2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51487?repo=metabase/metabase&commitHash=43dcae7df698858ee0b922336e2c5da51d5222f2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51487?repo=metabase/metabase&commitHash=43dcae7df698858ee0b922336e2c5da51d5222f2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51487?repo=metabase/metabase&commitHash=43dcae7df698858ee0b922336e2c5da51d5222f2&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51487?repo=metabase/metabase&commitHash=43dcae7df698858ee0b922336e2c5da51d5222f2&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2748889182,pull_request,open,,File Export Prometheus Metrics,WIP,tsplude,2024-12-18 22:46:52+00:00,['tsplude'],2024-12-20 00:04:00+00:00,,https://github.com/metabase/metabase/pull/51486,"[('.Team/DashViz', 'Dashboard and Viz team')]",[],
2748862886,pull_request,closed,,"ü§ñ backported ""Don't crash for ignored status codes in embedding responses""",#51408,github-automation-metabase,2024-12-18 22:24:52+00:00,"['escherize', 'github-automation-metabase']",2024-12-19 17:13:41+00:00,2024-12-19 15:46:14+00:00,https://github.com/metabase/metabase/pull/51485,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2552426397, 'issue_id': 2748862886, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/4693_tests-df4c622f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51485?repo=metabase/metabase&commitHash=df4c622fde76124924f750193b64716e1040573d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51485?repo=metabase/metabase&commitHash=df4c622fde76124924f750193b64716e1040573d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51485?repo=metabase/metabase&commitHash=df4c622fde76124924f750193b64716e1040573d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51485?repo=metabase/metabase&commitHash=df4c622fde76124924f750193b64716e1040573d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51485?repo=metabase/metabase&commitHash=df4c622fde76124924f750193b64716e1040573d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 18, 22, 58, 22, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-18 22:58:22 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/4693_tests-df4c622f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51485?repo=metabase/metabase&commitHash=df4c622fde76124924f750193b64716e1040573d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51485?repo=metabase/metabase&commitHash=df4c622fde76124924f750193b64716e1040573d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51485?repo=metabase/metabase&commitHash=df4c622fde76124924f750193b64716e1040573d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51485?repo=metabase/metabase&commitHash=df4c622fde76124924f750193b64716e1040573d&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51485?repo=metabase/metabase&commitHash=df4c622fde76124924f750193b64716e1040573d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2748848598,pull_request,closed,,Pass uuids as strings to SQL Server,"Closes https://github.com/metabase/metabase/issues/51189

### Description

Azure Synapse doesn't like it when you give it a uuid parameter, even though synapse does support uuids in general. Converting those uuids to strings beforehand fixes this error, and regular SQL Server is also fine with that.

For background, this issue was introduced when we bumped mssql-jdbc from version 12.6.1 to 12.8.1 [here](https://github.com/metabase/metabase/commit/9fe5a85e910081f645bef39b8b4090b038009caa) . The [changelog for 12.7](https://github.com/microsoft/mssql-jdbc/blob/main/CHANGELOG.md) mentions ""Added support for TDSType.GUID"", which is presumably what caused the issue.

### How to verify

If you create some sample data involving uuids in a sql server db, you can at least verify that this change doesn't break regular sql server.  However, verifying that the original bug is fixed requires signing up for azure synapse, which is somewhat more work.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",wzimrin,2024-12-18 22:12:53+00:00,['wzimrin'],2024-12-20 15:48:58+00:00,2024-12-20 15:48:56+00:00,https://github.com/metabase/metabase/pull/51484,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2552416204, 'issue_id': 2748848598, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/127197_tests-38561b17-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51484?repo=metabase/metabase&commitHash=38561b174b12fe93b58af41b6beb2144ed923d0e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51484?repo=metabase/metabase&commitHash=38561b174b12fe93b58af41b6beb2144ed923d0e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51484?repo=metabase/metabase&commitHash=38561b174b12fe93b58af41b6beb2144ed923d0e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51484?repo=metabase/metabase&commitHash=38561b174b12fe93b58af41b6beb2144ed923d0e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they were missing. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51484?repo=metabase/metabase&commitHash=38561b174b12fe93b58af41b6beb2144ed923d0e&utm_source=gh-comment&runConclusion=FAILURE&runId=a000ec71-22be-5df1-98a1-5f94529a80a7) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51484?repo=metabase/metabase&commitHash=38561b174b12fe93b58af41b6beb2144ed923d0e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 18, 22, 48, 51, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-18 22:48:51 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/127197_tests-38561b17-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51484?repo=metabase/metabase&commitHash=38561b174b12fe93b58af41b6beb2144ed923d0e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51484?repo=metabase/metabase&commitHash=38561b174b12fe93b58af41b6beb2144ed923d0e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51484?repo=metabase/metabase&commitHash=38561b174b12fe93b58af41b6beb2144ed923d0e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51484?repo=metabase/metabase&commitHash=38561b174b12fe93b58af41b6beb2144ed923d0e&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they were missing. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51484?repo=metabase/metabase&commitHash=38561b174b12fe93b58af41b6beb2144ed923d0e&utm_source=gh-comment&runConclusion=FAILURE&runId=a000ec71-22be-5df1-98a1-5f94529a80a7) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51484?repo=metabase/metabase&commitHash=38561b174b12fe93b58af41b6beb2144ed923d0e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2748788730,pull_request,closed,,Add user_is_viewing to FE->BE context,"Adds `user_is_viewing` to FE->BE context. Possible options:
- `[{ type: ""question"", id: 1}]`
- `[{ type: ""model"", id: 1}]`
- `[{ type: ""metric"", id: 1}]`
- `[{ type: ""dashboard"", id: 1}]`
- `[{ type: ""adhoc"", query: {database: 1, type: ""query"", query: { ""source-table"": 2 }}}]`

I used `id` and not `ref` here to match other API endpoints but can switch to `ref` if needed.",ranquild,2024-12-18 21:32:54+00:00,['ranquild'],2024-12-19 00:41:25+00:00,2024-12-19 00:41:24+00:00,https://github.com/metabase/metabase/pull/51482,"[('.Team/Querying', '')]","[{'comment_id': 2552378738, 'issue_id': 2748788730, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/125994_tests-c6f74490-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51482?repo=metabase/metabase&commitHash=c6f744906ec1df55af8fe9fe1c22bda3b6a14830&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/10-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51482?repo=metabase/metabase&commitHash=c6f744906ec1df55af8fe9fe1c22bda3b6a14830&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51482?repo=metabase/metabase&commitHash=c6f744906ec1df55af8fe9fe1c22bda3b6a14830&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51482?repo=metabase/metabase&commitHash=c6f744906ec1df55af8fe9fe1c22bda3b6a14830&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts ""before each"" hook for ""should allow you to enable a webhook alert""</code> | Cypress request failed with 400 Bad Request status code. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51482?repo=metabase/metabase&commitHash=c6f744906ec1df55af8fe9fe1c22bda3b6a14830&utm_source=gh-comment&runConclusion=FAILURE&runId=1fcee27a-53b6-5cdc-8f58-45eb51b860a9) |\n| <code>scenarios > alert > email\\_alert should respect email alerts toggled off (metabase\\#12349)</code> | The request to http://localhost:4000/api/channel failed with a 400 Bad Request status code. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51482?repo=metabase/metabase&commitHash=c6f744906ec1df55af8fe9fe1c22bda3b6a14830&utm_source=gh-comment&runConclusion=FAILURE&runId=e4ef6a7e-bad8-5c0a-803e-b46cca6e17bc) |\n| <code>scenarios > alert with a webhook ""before each"" hook for ""should be able to create and delete alerts with webhooks enabled""</code> | Failed to connect to channel with a 400 Bad Request error. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51482?repo=metabase/metabase&commitHash=c6f744906ec1df55af8fe9fe1c22bda3b6a14830&utm_source=gh-comment&runConclusion=FAILURE&runId=a247b5a4-5af8-5278-8676-7c5d9da07aac) |\n| <code>issue 8490 static embeddings should respect \\`\\#locale\\` hash in the URL (metabase\\#8490)</code> | The test timed out while trying to find an element with the text \'4\' and the element might have been detached from the DOM. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51482?repo=metabase/metabase&commitHash=c6f744906ec1df55af8fe9fe1c22bda3b6a14830&utm_source=gh-comment&runConclusion=FAILURE&runId=86129709-8b30-5a75-a91a-0b5141603616) |\n\n[... and 6 more](https://app.trunk.io/metabase/flaky-tests/pr/51482?repo=metabase/metabase&commitHash=c6f744906ec1df55af8fe9fe1c22bda3b6a14830&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>consistent-subset-test</code> | The set of expected results from the legacy-models term does not match the actual results from the search.index/search term. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51482?repo=metabase/metabase&commitHash=c6f744906ec1df55af8fe9fe1c22bda3b6a14830&utm_source=gh-comment&runConclusion=FAILURE&runId=8394c896-8a55-5c42-ba27-453c28f38efd) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51482?repo=metabase/metabase&commitHash=c6f744906ec1df55af8fe9fe1c22bda3b6a14830&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 18, 22, 20, 16, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-18 22:20:16 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/125994_tests-c6f74490-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51482?repo=metabase/metabase&commitHash=c6f744906ec1df55af8fe9fe1c22bda3b6a14830&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/10-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51482?repo=metabase/metabase&commitHash=c6f744906ec1df55af8fe9fe1c22bda3b6a14830&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51482?repo=metabase/metabase&commitHash=c6f744906ec1df55af8fe9fe1c22bda3b6a14830&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51482?repo=metabase/metabase&commitHash=c6f744906ec1df55af8fe9fe1c22bda3b6a14830&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts ""before each"" hook for ""should allow you to enable a webhook alert""</code> | Cypress request failed with 400 Bad Request status code. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51482?repo=metabase/metabase&commitHash=c6f744906ec1df55af8fe9fe1c22bda3b6a14830&utm_source=gh-comment&runConclusion=FAILURE&runId=1fcee27a-53b6-5cdc-8f58-45eb51b860a9) |
| <code>scenarios > alert > email\_alert should respect email alerts toggled off (metabase\#12349)</code> | The request to http://localhost:4000/api/channel failed with a 400 Bad Request status code. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51482?repo=metabase/metabase&commitHash=c6f744906ec1df55af8fe9fe1c22bda3b6a14830&utm_source=gh-comment&runConclusion=FAILURE&runId=e4ef6a7e-bad8-5c0a-803e-b46cca6e17bc) |
| <code>scenarios > alert with a webhook ""before each"" hook for ""should be able to create and delete alerts with webhooks enabled""</code> | Failed to connect to channel with a 400 Bad Request error. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51482?repo=metabase/metabase&commitHash=c6f744906ec1df55af8fe9fe1c22bda3b6a14830&utm_source=gh-comment&runConclusion=FAILURE&runId=a247b5a4-5af8-5278-8676-7c5d9da07aac) |
| <code>issue 8490 static embeddings should respect \`\#locale\` hash in the URL (metabase\#8490)</code> | The test timed out while trying to find an element with the text '4' and the element might have been detached from the DOM. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51482?repo=metabase/metabase&commitHash=c6f744906ec1df55af8fe9fe1c22bda3b6a14830&utm_source=gh-comment&runConclusion=FAILURE&runId=86129709-8b30-5a75-a91a-0b5141603616) |

[... and 6 more](https://app.trunk.io/metabase/flaky-tests/pr/51482?repo=metabase/metabase&commitHash=c6f744906ec1df55af8fe9fe1c22bda3b6a14830&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>consistent-subset-test</code> | The set of expected results from the legacy-models term does not match the actual results from the search.index/search term. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51482?repo=metabase/metabase&commitHash=c6f744906ec1df55af8fe9fe1c22bda3b6a14830&utm_source=gh-comment&runConclusion=FAILURE&runId=8394c896-8a55-5c42-ba27-453c28f38efd) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51482?repo=metabase/metabase&commitHash=c6f744906ec1df55af8fe9fe1c22bda3b6a14830&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2748772966,pull_request,closed,,Add debug logging for chain filter query,Closes https://github.com/metabase/metabase/issues/46888,lbrdnk,2024-12-18 21:21:48+00:00,['lbrdnk'],2024-12-23 10:05:55+00:00,2024-12-20 19:51:25+00:00,https://github.com/metabase/metabase/pull/51481,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2552352069, 'issue_id': 2748772966, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/118771_tests-3c3aaec7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51481?repo=metabase/metabase&commitHash=3c3aaec7109df791d56eb76a200be4fb3f123806&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51481?repo=metabase/metabase&commitHash=3c3aaec7109df791d56eb76a200be4fb3f123806&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51481?repo=metabase/metabase&commitHash=3c3aaec7109df791d56eb76a200be4fb3f123806&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51481?repo=metabase/metabase&commitHash=3c3aaec7109df791d56eb76a200be4fb3f123806&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they were missing. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51481?repo=metabase/metabase&commitHash=3c3aaec7109df791d56eb76a200be4fb3f123806&utm_source=gh-comment&runConclusion=FAILURE&runId=c6c38695-3454-5dd2-ae02-9536c865cc6a) |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:329:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\\#'sync.fingerprint/max-refingerp... | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51481?repo=metabase/metabase&commitHash=3c3aaec7109df791d56eb76a200be4fb3f123806&utm_source=gh-comment&runConclusion=FAILURE&runId=100a0c76-c875-5f69-8e67-bf0ace110f7b) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51481?repo=metabase/metabase&commitHash=3c3aaec7109df791d56eb76a200be4fb3f123806&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 18, 22, 3, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2558567349, 'issue_id': 2748772966, 'author': 'paoliniluis', 'body': ""Thanks for this @lbrdnk!!! been waiting for so long... what's the namespace I should configure?"", 'created_at': datetime.datetime(2024, 12, 22, 19, 25, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2559352601, 'issue_id': 2748772966, 'author': 'lbrdnk', 'body': '@paoliniluis, to view the native query add new logger as follows into `log4j2.xml`.\r\n```\r\n<Logger name=""metabase.models.params.chain-filter"" level=""DEBUG""/>\r\n```', 'created_at': datetime.datetime(2024, 12, 23, 10, 5, 54, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-18 22:03:38 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/118771_tests-3c3aaec7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51481?repo=metabase/metabase&commitHash=3c3aaec7109df791d56eb76a200be4fb3f123806&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51481?repo=metabase/metabase&commitHash=3c3aaec7109df791d56eb76a200be4fb3f123806&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51481?repo=metabase/metabase&commitHash=3c3aaec7109df791d56eb76a200be4fb3f123806&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51481?repo=metabase/metabase&commitHash=3c3aaec7109df791d56eb76a200be4fb3f123806&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they were missing. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51481?repo=metabase/metabase&commitHash=3c3aaec7109df791d56eb76a200be4fb3f123806&utm_source=gh-comment&runConclusion=FAILURE&runId=c6c38695-3454-5dd2-ae02-9536c865cc6a) |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:329:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerp... | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51481?repo=metabase/metabase&commitHash=3c3aaec7109df791d56eb76a200be4fb3f123806&utm_source=gh-comment&runConclusion=FAILURE&runId=100a0c76-c875-5f69-8e67-bf0ace110f7b) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51481?repo=metabase/metabase&commitHash=3c3aaec7109df791d56eb76a200be4fb3f123806&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

paoliniluis on (2024-12-22 19:25:02 UTC): Thanks for this @lbrdnk!!! been waiting for so long... what's the namespace I should configure?

lbrdnk (Issue Creator) on (2024-12-23 10:05:54 UTC): @paoliniluis, to view the native query add new logger as follows into `log4j2.xml`.
```
<Logger name=""metabase.models.params.chain-filter"" level=""DEBUG""/>
```

"
2748723840,pull_request,closed,,show all columns in scatter tooltip by default,"Closes https://github.com/metabase/metabase/issues/51483
[Slack convo](https://metaboat.slack.com/archives/C01LQQ2UW03/p1734548339473699?thread_ts=1734547528.367109&cid=C01LQQ2UW03)

### Description

Starting from v51 the scatter chart tooltip shows only single metric column value. We added possibility of selecting additional columns to show in tooltips, however, for users it is more desired to see all available columns by default.

### How to verify

- New Orders -> 2 summarizations: by Created At and Product: Category
- Change viz type to `scatter`, x-axis: Created At, y-axis: Count
- Hover bubbles
- Ensure the tooltip also shows Product: Category

### Demo

<img width=""338"" alt=""Screenshot 2024-12-18 at 3 48 36‚ÄØPM"" src=""https://github.com/user-attachments/assets/8eff7a2e-3c15-4e68-9b5d-779e9dfc8928"" />

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",alxnddr,2024-12-18 20:48:48+00:00,['alxnddr'],2024-12-19 21:50:06+00:00,2024-12-19 20:59:15+00:00,https://github.com/metabase/metabase/pull/51480,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2552333241, 'issue_id': 2748723840, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/15741_tests-6f2d3012-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51480?repo=metabase/metabase&commitHash=6f2d3012915689d497cc706db92cadf4dff17204&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51480?repo=metabase/metabase&commitHash=6f2d3012915689d497cc706db92cadf4dff17204&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51480?repo=metabase/metabase&commitHash=6f2d3012915689d497cc706db92cadf4dff17204&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51480?repo=metabase/metabase&commitHash=6f2d3012915689d497cc706db92cadf4dff17204&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51480?repo=metabase/metabase&commitHash=6f2d3012915689d497cc706db92cadf4dff17204&utm_source=gh-comment&runConclusion=FAILURE&runId=1604eab7-c7bb-5184-b251-2320d768396b) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51480?repo=metabase/metabase&commitHash=6f2d3012915689d497cc706db92cadf4dff17204&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 18, 21, 52, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2555771992, 'issue_id': 2748723840, 'author': 'alxnddr', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 12, 19, 21, 4, 47, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-18 21:52:28 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/15741_tests-6f2d3012-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51480?repo=metabase/metabase&commitHash=6f2d3012915689d497cc706db92cadf4dff17204&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51480?repo=metabase/metabase&commitHash=6f2d3012915689d497cc706db92cadf4dff17204&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51480?repo=metabase/metabase&commitHash=6f2d3012915689d497cc706db92cadf4dff17204&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51480?repo=metabase/metabase&commitHash=6f2d3012915689d497cc706db92cadf4dff17204&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51480?repo=metabase/metabase&commitHash=6f2d3012915689d497cc706db92cadf4dff17204&utm_source=gh-comment&runConclusion=FAILURE&runId=1604eab7-c7bb-5184-b251-2320d768396b) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51480?repo=metabase/metabase&commitHash=6f2d3012915689d497cc706db92cadf4dff17204&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

alxnddr (Issue Creator) on (2024-12-19 21:04:47 UTC): @metabase-bot backport release-x.51.x

"
2748696459,pull_request,closed,,remove changelog toggle in release notes,Removes the toggle that hides the changelog in the release notes.,jeff-bruemmer,2024-12-18 20:30:07+00:00,['jeff-bruemmer'],2025-01-27 22:12:52+00:00,2024-12-20 20:35:45+00:00,https://github.com/metabase/metabase/pull/51479,"[('no-backport', 'Do not backport this PR to any branch')]",[],
2748644903,pull_request,closed,,Send current_user_time in LLM context,Send `current_user_time` to the agent as specified in [Notion](https://www.notion.so/metabase/Metabot-toolbox-v1-15169354c90180cf92edd3a32f8fc62c?pvs=4#15269354c90180ddaad3c951239df235).,metamben,2024-12-18 19:56:54+00:00,['metamben'],2024-12-18 22:48:04+00:00,2024-12-18 22:14:08+00:00,https://github.com/metabase/metabase/pull/51477,"[('Metabot/General', 'General Metabot AI')]","[{'comment_id': 2552227262, 'issue_id': 2748644903, 'author': 'metamben', 'body': ""> LGTM, assuming we want to do this in the BE and not have it just be sent from the FE. I'm not sure there's a strong reason to do it in one or the other place.\r\n\r\nThe philosophy behind this is to keep the FE as stable as possible and use the BE for translation. I like the time format the FE is sending right now (it's simple, easy to parse, and unambiguous) and the fact the agent/LLM needs something that strange as it does should not be a concern for the FE."", 'created_at': datetime.datetime(2024, 12, 18, 20, 39, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2552286771, 'issue_id': 2748644903, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/118376_tests-eeeb53f3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51477?repo=metabase/metabase&commitHash=eeeb53f3efab7f727b01d40d208902f111c3a1db&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/19-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51477?repo=metabase/metabase&commitHash=eeeb53f3efab7f727b01d40d208902f111c3a1db&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51477?repo=metabase/metabase&commitHash=eeeb53f3efab7f727b01d40d208902f111c3a1db&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51477?repo=metabase/metabase&commitHash=eeeb53f3efab7f727b01d40d208902f111c3a1db&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts ""before each"" hook for ""should allow you to enable a webhook alert""</code> | Cypress request failed with 400 Bad Request status code. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51477?repo=metabase/metabase&commitHash=eeeb53f3efab7f727b01d40d208902f111c3a1db&utm_source=gh-comment&runConclusion=FAILURE&runId=c9dd0e84-2d0f-5620-bc4f-2d85ebb869cd) |\n| <code>scenarios > alert > email\\_alert should respect email alerts toggled off (metabase\\#12349)</code> | The request to http://localhost:4000/api/channel failed with a 400 Bad Request status code. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51477?repo=metabase/metabase&commitHash=eeeb53f3efab7f727b01d40d208902f111c3a1db&utm_source=gh-comment&runConclusion=FAILURE&runId=bc3791eb-1e4b-5f4b-9f0f-5fe9e7e40367) |\n| <code>scenarios > alert with a webhook ""before each"" hook for ""should be able to create and delete alerts with webhooks enabled""</code> | Failed to connect to channel with a 400 Bad Request error. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51477?repo=metabase/metabase&commitHash=eeeb53f3efab7f727b01d40d208902f111c3a1db&utm_source=gh-comment&runConclusion=FAILURE&runId=d0a3dd91-2fc4-53ae-85dd-ca90c0f08ea2) |\n| <code>issue 8490 static embeddings should respect \\`\\#locale\\` hash in the URL (metabase\\#8490)</code> | The test timed out while trying to find an element with the text \'4\' and the element might have been detached from the DOM. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51477?repo=metabase/metabase&commitHash=eeeb53f3efab7f727b01d40d208902f111c3a1db&utm_source=gh-comment&runConclusion=FAILURE&runId=7aa40d03-3ca0-501c-b6ff-6299a77ec29d) |\n\n[... and 15 more](https://app.trunk.io/metabase/flaky-tests/pr/51477?repo=metabase/metabase&commitHash=eeeb53f3efab7f727b01d40d208902f111c3a1db&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>get-table-test-2</code> | SAVEPOINT does not exist | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51477?repo=metabase/metabase&commitHash=eeeb53f3efab7f727b01d40d208902f111c3a1db&utm_source=gh-comment&runConclusion=FAILURE&runId=a80d084f-0bb3-53b4-b683-ebfc0fd1c79d) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51477?repo=metabase/metabase&commitHash=eeeb53f3efab7f727b01d40d208902f111c3a1db&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 18, 21, 19, 6, tzinfo=datetime.timezone.utc)}]","metamben (Issue Creator) on (2024-12-18 20:39:27 UTC): The philosophy behind this is to keep the FE as stable as possible and use the BE for translation. I like the time format the FE is sending right now (it's simple, easy to parse, and unambiguous) and the fact the agent/LLM needs something that strange as it does should not be a concern for the FE.

trunk-io[bot] on (2024-12-18 21:19:06 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/118376_tests-eeeb53f3-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51477?repo=metabase/metabase&commitHash=eeeb53f3efab7f727b01d40d208902f111c3a1db&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/19-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51477?repo=metabase/metabase&commitHash=eeeb53f3efab7f727b01d40d208902f111c3a1db&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51477?repo=metabase/metabase&commitHash=eeeb53f3efab7f727b01d40d208902f111c3a1db&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51477?repo=metabase/metabase&commitHash=eeeb53f3efab7f727b01d40d208902f111c3a1db&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts ""before each"" hook for ""should allow you to enable a webhook alert""</code> | Cypress request failed with 400 Bad Request status code. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51477?repo=metabase/metabase&commitHash=eeeb53f3efab7f727b01d40d208902f111c3a1db&utm_source=gh-comment&runConclusion=FAILURE&runId=c9dd0e84-2d0f-5620-bc4f-2d85ebb869cd) |
| <code>scenarios > alert > email\_alert should respect email alerts toggled off (metabase\#12349)</code> | The request to http://localhost:4000/api/channel failed with a 400 Bad Request status code. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51477?repo=metabase/metabase&commitHash=eeeb53f3efab7f727b01d40d208902f111c3a1db&utm_source=gh-comment&runConclusion=FAILURE&runId=bc3791eb-1e4b-5f4b-9f0f-5fe9e7e40367) |
| <code>scenarios > alert with a webhook ""before each"" hook for ""should be able to create and delete alerts with webhooks enabled""</code> | Failed to connect to channel with a 400 Bad Request error. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51477?repo=metabase/metabase&commitHash=eeeb53f3efab7f727b01d40d208902f111c3a1db&utm_source=gh-comment&runConclusion=FAILURE&runId=d0a3dd91-2fc4-53ae-85dd-ca90c0f08ea2) |
| <code>issue 8490 static embeddings should respect \`\#locale\` hash in the URL (metabase\#8490)</code> | The test timed out while trying to find an element with the text '4' and the element might have been detached from the DOM. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51477?repo=metabase/metabase&commitHash=eeeb53f3efab7f727b01d40d208902f111c3a1db&utm_source=gh-comment&runConclusion=FAILURE&runId=7aa40d03-3ca0-501c-b6ff-6299a77ec29d) |

[... and 15 more](https://app.trunk.io/metabase/flaky-tests/pr/51477?repo=metabase/metabase&commitHash=eeeb53f3efab7f727b01d40d208902f111c3a1db&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>get-table-test-2</code> | SAVEPOINT does not exist | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51477?repo=metabase/metabase&commitHash=eeeb53f3efab7f727b01d40d208902f111c3a1db&utm_source=gh-comment&runConclusion=FAILURE&runId=a80d084f-0bb3-53b4-b683-ebfc0fd1c79d) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51477?repo=metabase/metabase&commitHash=eeeb53f3efab7f727b01d40d208902f111c3a1db&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2748630310,pull_request,closed,,Add M2M Oauth to Databricks Driver,"# Add M2M Oauth to Databricks Driver
Closes https://github.com/metabase/metabase/issues/51276

### Description
This pull request includes updates to the Databricks drivers and its documentation. The changes enhance the connection setup process and provide more detailed guidance on authentication methods and configuration options.

#### Documentation updates:

* [`docs/databases/connections/databricks.md`](diffhunk://#diff-0498b9e0ba7072177771a34a8ebdfddaf0a0af20d4cb4a6dc95eed9540ff6b3dL17-R39): Expanded the host and HTTP path descriptions with examples and added detailed sections on authentication methods, re-running queries, and managing database sync and scan settings. 

#### Driver configuration updates:

* `modules/drivers/databricks/resources/metabase-plugin.yaml`: Updated the driver version to 1.2.0, added placeholders and helper text for various connection properties, and included new options for OAuth M2M authentication.
* `modules/drivers/databricks/src/metabase/driver/databricks.clj`: Modified the connection details to support both personal access tokens and OAuth M2M authentication, with conditional logic to toggle between OAuth M2M and token based auth. M2M being the default.

### Demo
#### Empty, default

<img width=""616"" alt=""image"" src=""https://github.com/user-attachments/assets/f8955c1e-6c42-480b-9b61-0795eed5c333"" />

#### Empty, PAT

<img width=""609"" alt=""image"" src=""https://github.com/user-attachments/assets/c2013a20-588a-419d-8915-0ac54a7913b4"" />


",AlexVialaBellander,2024-12-18 19:48:10+00:00,[],2024-12-30 15:05:41+00:00,2024-12-30 15:05:41+00:00,https://github.com/metabase/metabase/pull/51476,[],"[{'comment_id': 2552238009, 'issue_id': 2748630310, 'author': 'luizarakaki', 'body': ""Thanks @AlexVialaBellander for the PR.\r\n\r\nWe will review it.\r\n\r\nI can see two things that we should do to merge it:\r\n\r\n1. Add tests. Most drivers have a `can-connect?` test.\r\n2. In the UI, we shouldn't show both options. We should show personal token by default and the user can change to use M2M OAuth. This PR has a similar change using the visible-if and a toggle https://github.com/metabase/metabase/pull/51249"", 'created_at': datetime.datetime(2024, 12, 18, 20, 46, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2552339746, 'issue_id': 2748630310, 'author': 'AlexVialaBellander', 'body': ""> Thanks @AlexVialaBellander for the PR.\r\n> \r\n> We will review it.\r\n> \r\n> I can see two things that we should do to merge it:\r\n> \r\n> 1. Add tests. Most drivers have a `can-connect?` test.\r\n> 2. In the UI, we shouldn't show both options. We should show personal token by default and the user can change to use M2M OAuth. This PR has a similar change using the visible-if and a toggle [Set key auth as the default auth method, put warning password\xa0#51249](https://github.com/metabase/metabase/pull/51249)\r\n\r\nHi @luizarakaki, I've added the toggle. Not sure how the tests are supposed to be implemented (admittedly haven't looked either)"", 'created_at': datetime.datetime(2024, 12, 18, 21, 56, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2560305576, 'issue_id': 2748630310, 'author': 'AlexVialaBellander', 'body': '> @AlexVialaBellander, the change looks good! Please address the docs remarks before we proceed to merge.\r\n\r\nAwesome üöÄ Many thanks for the help, I believe I have added the suggestions ‚ù§Ô∏è', 'created_at': datetime.datetime(2024, 12, 23, 21, 15, 57, tzinfo=datetime.timezone.utc)}]","luizarakaki on (2024-12-18 20:46:38 UTC): Thanks @AlexVialaBellander for the PR.

We will review it.

I can see two things that we should do to merge it:

1. Add tests. Most drivers have a `can-connect?` test.
2. In the UI, we shouldn't show both options. We should show personal token by default and the user can change to use M2M OAuth. This PR has a similar change using the visible-if and a toggle https://github.com/metabase/metabase/pull/51249

AlexVialaBellander (Issue Creator) on (2024-12-18 21:56:55 UTC): Hi @luizarakaki, I've added the toggle. Not sure how the tests are supposed to be implemented (admittedly haven't looked either)

AlexVialaBellander (Issue Creator) on (2024-12-23 21:15:57 UTC): Awesome üöÄ Many thanks for the help, I believe I have added the suggestions ‚ù§Ô∏è

"
2748600101,pull_request,closed,,WIP - open to let tests run - entity id support,,npretto,2024-12-18 19:29:54+00:00,['npretto'],2025-02-04 14:54:20+00:00,2025-01-27 09:08:05+00:00,https://github.com/metabase/metabase/pull/51475,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', '')]","[{'comment_id': 2608015297, 'issue_id': 2748600101, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3692_tests-796fb5e7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51475?repo=metabase/metabase&commitHash=796fb5e7437bff6d26da1b34d6260e871f3603a6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51475?repo=metabase/metabase&commitHash=796fb5e7437bff6d26da1b34d6260e871f3603a6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51475?repo=metabase/metabase&commitHash=796fb5e7437bff6d26da1b34d6260e871f3603a6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51475?repo=metabase/metabase&commitHash=796fb5e7437bff6d26da1b34d6260e871f3603a6&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>question loading changes document title should verify document title changes while loading a slow question (metabase\\#40051)</code> | The expected text 'Doing science... ¬∑ Metabase' was not displayed within 4000ms, causing a timeout. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51475?repo=metabase/metabase&commitHash=796fb5e7437bff6d26da1b34d6260e871f3603a6&utm_source=gh-comment&runConclusion=FAILURE&runId=23e30f17-3743-5bde-b92b-c05ea433949f) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51475?repo=metabase/metabase&commitHash=796fb5e7437bff6d26da1b34d6260e871f3603a6&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 22, 18, 49, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2610292593, 'issue_id': 2748600101, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `796fb5e7437bff6d26da1b34d6260e871f3603a6-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/12933065791?pr=51475)\n\n  File | Test Name\n  ---- | ---------\n  `document-title.cy.spec.js` | question loading changes document title > should verify document title changes while loading a slow question (metabase#40051)', 'created_at': datetime.datetime(2025, 1, 23, 16, 21, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2615195289, 'issue_id': 2748600101, 'author': 'npretto', 'body': 'Closing in favor of https://github.com/metabase/metabase/pull/52659', 'created_at': datetime.datetime(2025, 1, 27, 9, 8, 3, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-22 18:49:35 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3692_tests-796fb5e7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51475?repo=metabase/metabase&commitHash=796fb5e7437bff6d26da1b34d6260e871f3603a6&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51475?repo=metabase/metabase&commitHash=796fb5e7437bff6d26da1b34d6260e871f3603a6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51475?repo=metabase/metabase&commitHash=796fb5e7437bff6d26da1b34d6260e871f3603a6&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51475?repo=metabase/metabase&commitHash=796fb5e7437bff6d26da1b34d6260e871f3603a6&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>question loading changes document title should verify document title changes while loading a slow question (metabase\#40051)</code> | The expected text 'Doing science... ¬∑ Metabase' was not displayed within 4000ms, causing a timeout. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51475?repo=metabase/metabase&commitHash=796fb5e7437bff6d26da1b34d6260e871f3603a6&utm_source=gh-comment&runConclusion=FAILURE&runId=23e30f17-3743-5bde-b92b-c05ea433949f) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51475?repo=metabase/metabase&commitHash=796fb5e7437bff6d26da1b34d6260e871f3603a6&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-01-23 16:21:05 UTC): ## e2e tests failed on `796fb5e7437bff6d26da1b34d6260e871f3603a6-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/12933065791?pr=51475)

  File | Test Name
  ---- | ---------
  `document-title.cy.spec.js` | question loading changes document title > should verify document title changes while loading a slow question (metabase#40051)

npretto (Issue Creator) on (2025-01-27 09:08:03 UTC): Closing in favor of https://github.com/metabase/metabase/pull/52659

"
2748592476,pull_request,closed,,Fix method definitions in Databricks driver,"Some sync methods were incorrectly defined, as for parent driver, in Databricks. This PR fixes that.",lbrdnk,2024-12-18 19:25:05+00:00,['lbrdnk'],2024-12-30 09:14:57+00:00,2024-12-23 09:55:50+00:00,https://github.com/metabase/metabase/pull/51473,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2552193200, 'issue_id': 2748592476, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/81360_tests-b9ffeb9f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51473?repo=metabase/metabase&commitHash=b9ffeb9f5d73760fca6032b897ac245e8e095a29&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51473?repo=metabase/metabase&commitHash=b9ffeb9f5d73760fca6032b897ac245e8e095a29&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51473?repo=metabase/metabase&commitHash=b9ffeb9f5d73760fca6032b897ac245e8e095a29&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51473?repo=metabase/metabase&commitHash=b9ffeb9f5d73760fca6032b897ac245e8e095a29&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, but expected stage numbers. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51473?repo=metabase/metabase&commitHash=b9ffeb9f5d73760fca6032b897ac245e8e095a29&utm_source=gh-comment&runConclusion=FAILURE&runId=b143ba52-c743-516b-b21a-19645d323c35) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51473?repo=metabase/metabase&commitHash=b9ffeb9f5d73760fca6032b897ac245e8e095a29&utm_source=gh-comment&runConclusion=FAILURE&runId=ae6b1095-f4a2-5109-8336-52c8aa8db786) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51473?repo=metabase/metabase&commitHash=b9ffeb9f5d73760fca6032b897ac245e8e095a29&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 18, 20, 19, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2553441623, 'issue_id': 2748592476, 'author': 'qnkhuat', 'body': 'do we need some sort of tests here?', 'created_at': datetime.datetime(2024, 12, 19, 11, 10, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2565181613, 'issue_id': 2748592476, 'author': 'lbrdnk', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 12, 30, 8, 45, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2565221030, 'issue_id': 2748592476, 'author': 'github-actions[bot]', 'body': 'üöÄ This should also be released by [v0.52.5](https://github.com/metabase/metabase/milestone/296)', 'created_at': datetime.datetime(2024, 12, 30, 9, 14, 56, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-18 20:19:13 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/81360_tests-b9ffeb9f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51473?repo=metabase/metabase&commitHash=b9ffeb9f5d73760fca6032b897ac245e8e095a29&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51473?repo=metabase/metabase&commitHash=b9ffeb9f5d73760fca6032b897ac245e8e095a29&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51473?repo=metabase/metabase&commitHash=b9ffeb9f5d73760fca6032b897ac245e8e095a29&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51473?repo=metabase/metabase&commitHash=b9ffeb9f5d73760fca6032b897ac245e8e095a29&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, but expected stage numbers. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51473?repo=metabase/metabase&commitHash=b9ffeb9f5d73760fca6032b897ac245e8e095a29&utm_source=gh-comment&runConclusion=FAILURE&runId=b143ba52-c743-516b-b21a-19645d323c35) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51473?repo=metabase/metabase&commitHash=b9ffeb9f5d73760fca6032b897ac245e8e095a29&utm_source=gh-comment&runConclusion=FAILURE&runId=ae6b1095-f4a2-5109-8336-52c8aa8db786) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51473?repo=metabase/metabase&commitHash=b9ffeb9f5d73760fca6032b897ac245e8e095a29&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

qnkhuat on (2024-12-19 11:10:27 UTC): do we need some sort of tests here?

lbrdnk (Issue Creator) on (2024-12-30 08:45:23 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-12-30 09:14:56 UTC): üöÄ This should also be released by [v0.52.5](https://github.com/metabase/metabase/milestone/296)

"
2748537897,pull_request,closed,,Add more binning options for coordinates,"Product doc https://www.notion.so/metabase/Allow-higher-granularities-for-lat-and-lon-binning-14d69354c90180ec8944f4543effd1e9

Adds `0.05`, `0.01`, `0.005` degrees binning options.

How to verify:
- New -> Question -> People
- Breakout -> Latitude -> Binning

<img width=""520"" alt=""Screenshot 2024-12-18 at 14 10 17"" src=""https://github.com/user-attachments/assets/badbf8de-ea27-4b46-8a70-c3d674478d29"" />
<img width=""666"" alt=""Screenshot 2024-12-18 at 14 10 27"" src=""https://github.com/user-attachments/assets/06893abe-ee7f-4a63-a45c-04255f8916be"" />

<img width=""479"" alt=""Screenshot 2024-12-18 at 14 40 40"" src=""https://github.com/user-attachments/assets/a82f0e42-c3d0-409e-b8b8-70d5e3ddba31"" />
",ranquild,2024-12-18 18:58:25+00:00,['ranquild'],2025-01-27 22:12:59+00:00,2024-12-19 17:16:52+00:00,https://github.com/metabase/metabase/pull/51472,"[('.Epic', 'Feature Implementation or Project'), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2552194178, 'issue_id': 2748537897, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/141709_tests-c132aca0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51472?repo=metabase/metabase&commitHash=c132aca053ce7daa54c542bb3f6df5a278634210&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51472?repo=metabase/metabase&commitHash=c132aca053ce7daa54c542bb3f6df5a278634210&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51472?repo=metabase/metabase&commitHash=c132aca053ce7daa54c542bb3f6df5a278634210&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51472?repo=metabase/metabase&commitHash=c132aca053ce7daa54c542bb3f6df5a278634210&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native can save a question with no rows</code> | The test timed out waiting for the expected content 'No results!' to appear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51472?repo=metabase/metabase&commitHash=c132aca053ce7daa54c542bb3f6df5a278634210&utm_source=gh-comment&runConclusion=FAILURE&runId=8362fcb2-2019-5c05-b1d7-202c18f32dc6) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>e2e-storage-ingestion-test</code> | Expected entity to match the expected value, but actual value was different. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51472?repo=metabase/metabase&commitHash=c132aca053ce7daa54c542bb3f6df5a278634210&utm_source=gh-comment&runConclusion=FAILURE&runId=b60e0b21-33fa-5c67-9f5f-7a6f85697342) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51472?repo=metabase/metabase&commitHash=c132aca053ce7daa54c542bb3f6df5a278634210&utm_source=gh-comment&runConclusion=FAILURE&runId=72440149-b0a4-503a-980b-1a8493369c2c) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51472?repo=metabase/metabase&commitHash=c132aca053ce7daa54c542bb3f6df5a278634210&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 18, 20, 19, 55, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-18 20:19:55 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/141709_tests-c132aca0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51472?repo=metabase/metabase&commitHash=c132aca053ce7daa54c542bb3f6df5a278634210&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51472?repo=metabase/metabase&commitHash=c132aca053ce7daa54c542bb3f6df5a278634210&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51472?repo=metabase/metabase&commitHash=c132aca053ce7daa54c542bb3f6df5a278634210&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51472?repo=metabase/metabase&commitHash=c132aca053ce7daa54c542bb3f6df5a278634210&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native can save a question with no rows</code> | The test timed out waiting for the expected content 'No results!' to appear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51472?repo=metabase/metabase&commitHash=c132aca053ce7daa54c542bb3f6df5a278634210&utm_source=gh-comment&runConclusion=FAILURE&runId=8362fcb2-2019-5c05-b1d7-202c18f32dc6) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>e2e-storage-ingestion-test</code> | Expected entity to match the expected value, but actual value was different. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51472?repo=metabase/metabase&commitHash=c132aca053ce7daa54c542bb3f6df5a278634210&utm_source=gh-comment&runConclusion=FAILURE&runId=b60e0b21-33fa-5c67-9f5f-7a6f85697342) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51472?repo=metabase/metabase&commitHash=c132aca053ce7daa54c542bb3f6df5a278634210&utm_source=gh-comment&runConclusion=FAILURE&runId=72440149-b0a4-503a-980b-1a8493369c2c) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51472?repo=metabase/metabase&commitHash=c132aca053ce7daa54c542bb3f6df5a278634210&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2748531745,pull_request,closed,,"ü§ñ backported ""Revert to using secrets.GITHUB_TOKEN for the auto-approve PR step""",#51413,github-automation-metabase,2024-12-18 18:54:38+00:00,"['appleby', 'github-automation-metabase']",2024-12-18 19:05:51+00:00,2024-12-18 19:05:49+00:00,https://github.com/metabase/metabase/pull/51471,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2748489677,pull_request,closed,,Register generate-insights and invite-user,Two tools have been implemented but not registered.,metamben,2024-12-18 18:33:48+00:00,['metamben'],2024-12-18 19:53:30+00:00,2024-12-18 19:53:29+00:00,https://github.com/metabase/metabase/pull/51470,"[('Metabot/General', 'General Metabot AI'), ('.Team/Querying', '')]","[{'comment_id': 2552014543, 'issue_id': 2748489677, 'author': 'johnswanson', 'body': 'We should try to think of a way to autodetect this', 'created_at': datetime.datetime(2024, 12, 18, 18, 34, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2552118043, 'issue_id': 2748489677, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/18024_tests-e3f63eb1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51470?repo=metabase/metabase&commitHash=e3f63eb14aa05376233c6f5b7165991d93da4e3f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51470?repo=metabase/metabase&commitHash=e3f63eb14aa05376233c6f5b7165991d93da4e3f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51470?repo=metabase/metabase&commitHash=e3f63eb14aa05376233c6f5b7165991d93da4e3f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51470?repo=metabase/metabase&commitHash=e3f63eb14aa05376233c6f5b7165991d93da4e3f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51470?repo=metabase/metabase&commitHash=e3f63eb14aa05376233c6f5b7165991d93da4e3f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 18, 19, 33, 44, tzinfo=datetime.timezone.utc)}]","johnswanson on (2024-12-18 18:34:32 UTC): We should try to think of a way to autodetect this

trunk-io[bot] on (2024-12-18 19:33:44 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/18024_tests-e3f63eb1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51470?repo=metabase/metabase&commitHash=e3f63eb14aa05376233c6f5b7165991d93da4e3f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51470?repo=metabase/metabase&commitHash=e3f63eb14aa05376233c6f5b7165991d93da4e3f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51470?repo=metabase/metabase&commitHash=e3f63eb14aa05376233c6f5b7165991d93da4e3f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51470?repo=metabase/metabase&commitHash=e3f63eb14aa05376233c6f5b7165991d93da4e3f&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51470?repo=metabase/metabase&commitHash=e3f63eb14aa05376233c6f5b7165991d93da4e3f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2748461780,pull_request,closed,,Test for metabase-bot backport workflow change,This is just a test PR so I can test the changes in https://github.com/metabase/metabase/pull/51413 without merging to master first,appleby,2024-12-18 18:17:05+00:00,['appleby'],2024-12-18 18:51:41+00:00,2024-12-18 18:22:14+00:00,https://github.com/metabase/metabase/pull/51466,"[('.Team/Querying', '')]","[{'comment_id': 2551990950, 'issue_id': 2748461780, 'author': 'appleby', 'body': '@metabase-bot backport appleby-backport-bot-test-backport-target', 'created_at': datetime.datetime(2024, 12, 18, 18, 21, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2551991561, 'issue_id': 2748461780, 'author': 'github-actions[bot]', 'body': 'The backport command can only be used after the pull request has been merged. Please wait until the PR is merged before attempting to backport.', 'created_at': datetime.datetime(2024, 12, 18, 18, 21, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2551994127, 'issue_id': 2748461780, 'author': 'appleby', 'body': '@metabase-bot backport appleby-backport-bot-test-backport-target', 'created_at': datetime.datetime(2024, 12, 18, 18, 22, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2551996322, 'issue_id': 2748461780, 'author': 'github-actions[bot]', 'body': '@appleby something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12398991744)', 'created_at': datetime.datetime(2024, 12, 18, 18, 24, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2552020265, 'issue_id': 2748461780, 'author': 'appleby', 'body': '@metabase-bot backport appleby-backport-bot-test-backport-target', 'created_at': datetime.datetime(2024, 12, 18, 18, 37, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2552023005, 'issue_id': 2748461780, 'author': 'github-actions[bot]', 'body': '@appleby something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12399222336)', 'created_at': datetime.datetime(2024, 12, 18, 18, 39, 15, tzinfo=datetime.timezone.utc)}]","appleby (Issue Creator) on (2024-12-18 18:21:27 UTC): @metabase-bot backport appleby-backport-bot-test-backport-target

github-actions[bot] on (2024-12-18 18:21:49 UTC): The backport command can only be used after the pull request has been merged. Please wait until the PR is merged before attempting to backport.

appleby (Issue Creator) on (2024-12-18 18:22:57 UTC): @metabase-bot backport appleby-backport-bot-test-backport-target

github-actions[bot] on (2024-12-18 18:24:14 UTC): @appleby something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12398991744)

appleby (Issue Creator) on (2024-12-18 18:37:51 UTC): @metabase-bot backport appleby-backport-bot-test-backport-target

github-actions[bot] on (2024-12-18 18:39:15 UTC): @appleby something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12399222336)

"
2748350539,pull_request,closed,,"ü§ñ backported ""Add field values e2e test""",#51424,github-automation-metabase,2024-12-18 17:11:43+00:00,"['ranquild', 'github-automation-metabase']",2024-12-18 21:39:40+00:00,2024-12-18 19:47:30+00:00,https://github.com/metabase/metabase/pull/51465,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2551932511, 'issue_id': 2748350539, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3552_tests-2e1ec322-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51465?repo=metabase/metabase&commitHash=2e1ec322bfef22daa5448ca3c2381c1fe3b7621a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51465?repo=metabase/metabase&commitHash=2e1ec322bfef22daa5448ca3c2381c1fe3b7621a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51465?repo=metabase/metabase&commitHash=2e1ec322bfef22daa5448ca3c2381c1fe3b7621a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51465?repo=metabase/metabase&commitHash=2e1ec322bfef22daa5448ca3c2381c1fe3b7621a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > waterfall scenarios > visualizations > waterfall settings should allow toggling of the total bar</code> | The test timed out while trying to find an element with data-testid ""chart-container"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51465?repo=metabase/metabase&commitHash=2e1ec322bfef22daa5448ca3c2381c1fe3b7621a&utm_source=gh-comment&runConclusion=FAILURE&runId=99bd0418-85bc-530a-aab6-e05a800a90db) |\n| <code>scenarios > visualizations > waterfall should work with ordinal series and numeric X-axis (metabase\\#15550)</code> | The test timed out waiting for the content \'Select a field\' to appear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51465?repo=metabase/metabase&commitHash=2e1ec322bfef22daa5448ca3c2381c1fe3b7621a&utm_source=gh-comment&runConclusion=FAILURE&runId=24e476a0-1650-5f2f-902b-63e6614c64ef) |\n| <code>scenarios > visualizations > waterfall scenarios > visualizations > waterfall settings should allow toggling of the total bar</code> | The test timed out while trying to find an element with data-testid ""chart-container"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51465?repo=metabase/metabase&commitHash=2e1ec322bfef22daa5448ca3c2381c1fe3b7621a&utm_source=gh-comment&runConclusion=FAILURE&runId=98a59926-cc70-5bee-a160-83a3644fdcb1) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51465?repo=metabase/metabase&commitHash=2e1ec322bfef22daa5448ca3c2381c1fe3b7621a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 18, 17, 48, 17, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-18 17:48:17 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3552_tests-2e1ec322-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51465?repo=metabase/metabase&commitHash=2e1ec322bfef22daa5448ca3c2381c1fe3b7621a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51465?repo=metabase/metabase&commitHash=2e1ec322bfef22daa5448ca3c2381c1fe3b7621a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51465?repo=metabase/metabase&commitHash=2e1ec322bfef22daa5448ca3c2381c1fe3b7621a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51465?repo=metabase/metabase&commitHash=2e1ec322bfef22daa5448ca3c2381c1fe3b7621a&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > waterfall scenarios > visualizations > waterfall settings should allow toggling of the total bar</code> | The test timed out while trying to find an element with data-testid ""chart-container"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51465?repo=metabase/metabase&commitHash=2e1ec322bfef22daa5448ca3c2381c1fe3b7621a&utm_source=gh-comment&runConclusion=FAILURE&runId=99bd0418-85bc-530a-aab6-e05a800a90db) |
| <code>scenarios > visualizations > waterfall should work with ordinal series and numeric X-axis (metabase\#15550)</code> | The test timed out waiting for the content 'Select a field' to appear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51465?repo=metabase/metabase&commitHash=2e1ec322bfef22daa5448ca3c2381c1fe3b7621a&utm_source=gh-comment&runConclusion=FAILURE&runId=24e476a0-1650-5f2f-902b-63e6614c64ef) |
| <code>scenarios > visualizations > waterfall scenarios > visualizations > waterfall settings should allow toggling of the total bar</code> | The test timed out while trying to find an element with data-testid ""chart-container"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51465?repo=metabase/metabase&commitHash=2e1ec322bfef22daa5448ca3c2381c1fe3b7621a&utm_source=gh-comment&runConclusion=FAILURE&runId=98a59926-cc70-5bee-a160-83a3644fdcb1) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51465?repo=metabase/metabase&commitHash=2e1ec322bfef22daa5448ca3c2381c1fe3b7621a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2748303099,pull_request,closed,,"ü§ñ backported ""add percentages to sankey tooltip""",#51193,github-automation-metabase,2024-12-18 16:48:06+00:00,"['alxnddr', 'github-automation-metabase']",2024-12-18 18:29:40+00:00,2024-12-18 17:51:56+00:00,https://github.com/metabase/metabase/pull/51464,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2551817979, 'issue_id': 2748303099, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff b926fa2e6571b2d2e7360d13f4d0fd348b873816...0c94fc38f91f6c2761810e31c71827c617f0437f.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.module.css<br>frontend/src/metabase/visualizations/echarts/graph/sankey/model/dataset.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/model/dataset.unit.spec.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/model/types.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/option/tooltip.tsx<br>frontend/src/metabase/visualizations/echarts/tooltip/index.tsx<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/SankeyChart.tsx<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/events.unit.spec.ts |', 'created_at': datetime.datetime(2024, 12, 18, 16, 49, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2551904815, 'issue_id': 2748303099, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51506_tests-0c94fc38-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51464?repo=metabase/metabase&commitHash=0c94fc38f91f6c2761810e31c71827c617f0437f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51464?repo=metabase/metabase&commitHash=0c94fc38f91f6c2761810e31c71827c617f0437f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51464?repo=metabase/metabase&commitHash=0c94fc38f91f6c2761810e31c71827c617f0437f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51464?repo=metabase/metabase&commitHash=0c94fc38f91f6c2761810e31c71827c617f0437f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > public > question should be able to view public questions with card template tags</code> | The element with data-testid 'cell-data' was not found within 4000ms, causing a timeout. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51464?repo=metabase/metabase&commitHash=0c94fc38f91f6c2761810e31c71827c617f0437f&utm_source=gh-comment&runConclusion=FAILURE&runId=9bbce58e-d9fc-520c-b050-1c2e4721019f) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51464?repo=metabase/metabase&commitHash=0c94fc38f91f6c2761810e31c71827c617f0437f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 18, 17, 33, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-12-18 16:49:36 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff b926fa2e6571b2d2e7360d13f4d0fd348b873816...0c94fc38f91f6c2761810e31c71827c617f0437f.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartTooltip/EChartsTooltip/EChartsTooltip.module.css<br>frontend/src/metabase/visualizations/echarts/graph/sankey/model/dataset.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/model/dataset.unit.spec.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/model/types.ts<br>frontend/src/metabase/visualizations/echarts/graph/sankey/option/tooltip.tsx<br>frontend/src/metabase/visualizations/echarts/tooltip/index.tsx<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/SankeyChart.tsx<br>frontend/src/metabase/visualizations/visualizations/SankeyChart/events.unit.spec.ts |

trunk-io[bot] on (2024-12-18 17:33:00 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51506_tests-0c94fc38-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51464?repo=metabase/metabase&commitHash=0c94fc38f91f6c2761810e31c71827c617f0437f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51464?repo=metabase/metabase&commitHash=0c94fc38f91f6c2761810e31c71827c617f0437f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51464?repo=metabase/metabase&commitHash=0c94fc38f91f6c2761810e31c71827c617f0437f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51464?repo=metabase/metabase&commitHash=0c94fc38f91f6c2761810e31c71827c617f0437f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > public > question should be able to view public questions with card template tags</code> | The element with data-testid 'cell-data' was not found within 4000ms, causing a timeout. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51464?repo=metabase/metabase&commitHash=0c94fc38f91f6c2761810e31c71827c617f0437f&utm_source=gh-comment&runConclusion=FAILURE&runId=9bbce58e-d9fc-520c-b050-1c2e4721019f) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51464?repo=metabase/metabase&commitHash=0c94fc38f91f6c2761810e31c71827c617f0437f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2748294787,pull_request,closed,,"[FE, WIP] Temporal unit params all stages",Epic https://github.com/metabase/metabase/issues/51462,ranquild,2024-12-18 16:44:00+00:00,['ranquild'],2025-01-27 14:49:13+00:00,2025-01-27 14:49:07+00:00,https://github.com/metabase/metabase/pull/51463,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2551882816, 'issue_id': 2748294787, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/99756_tests-982096f4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51463?repo=metabase/metabase&commitHash=982096f471731ca13b56820339ee6156638a451f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/5-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51463?repo=metabase/metabase&commitHash=982096f471731ca13b56820339ee6156638a451f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51463?repo=metabase/metabase&commitHash=982096f471731ca13b56820339ee6156638a451f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51463?repo=metabase/metabase&commitHash=982096f471731ca13b56820339ee6156638a451f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > dashboard > temporal unit parameters multiple stages should apply the parameter with a dependent filter in another stage</code> | The test timed out while trying to find an element with data-testid ""question-row-count"" and then failed to assert the row count. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51463?repo=metabase/metabase&commitHash=982096f471731ca13b56820339ee6156638a451f&utm_source=gh-comment&runConclusion=FAILURE&runId=d81f16ca-3995-5349-a9b3-bfffa2891f4e) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51463?repo=metabase/metabase&commitHash=982096f471731ca13b56820339ee6156638a451f&utm_source=gh-comment&runConclusion=FAILURE&runId=b90fb9d6-1103-5f36-8f48-c64ae675b133) |\n| <code>scenarios > dashboard > temporal unit parameters multiple stages should apply the parameter with a dependent filter in another stage</code> | The test timed out while trying to find an element with data-testid ""question-row-count"" and then failed to assert the row count. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51463?repo=metabase/metabase&commitHash=982096f471731ca13b56820339ee6156638a451f&utm_source=gh-comment&runConclusion=FAILURE&runId=27f1f74e-909a-5f56-b549-31e6f6340139) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51463?repo=metabase/metabase&commitHash=982096f471731ca13b56820339ee6156638a451f&utm_source=gh-comment&runConclusion=FAILURE&runId=50edc810-5198-55ce-9b17-63f8b13f6c6c) |\n\n[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/51463?repo=metabase/metabase&commitHash=982096f471731ca13b56820339ee6156638a451f&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 16886 shouldn\'t remove parts of the query when choosing \'Run selected text\' (metabase\\#16886)</code> | The test timed out while trying to find an element with data-testid ""scalar-value"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51463?repo=metabase/metabase&commitHash=982096f471731ca13b56820339ee6156638a451f&utm_source=gh-comment&runConclusion=FAILURE&runId=dc89ee67-b2b4-5f99-9d1e-eaef35423630) |\n| <code>scenarios > question > native can save a question with no rows</code> | The test timed out waiting for the expected content \'No results!\' to appear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51463?repo=metabase/metabase&commitHash=982096f471731ca13b56820339ee6156638a451f&utm_source=gh-comment&runConclusion=FAILURE&runId=8e45e85a-4cfd-5383-9331-566d17c8faa1) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51463?repo=metabase/metabase&commitHash=982096f471731ca13b56820339ee6156638a451f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 18, 17, 21, 20, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-18 17:21:20 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/99756_tests-982096f4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51463?repo=metabase/metabase&commitHash=982096f471731ca13b56820339ee6156638a451f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/5-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51463?repo=metabase/metabase&commitHash=982096f471731ca13b56820339ee6156638a451f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51463?repo=metabase/metabase&commitHash=982096f471731ca13b56820339ee6156638a451f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51463?repo=metabase/metabase&commitHash=982096f471731ca13b56820339ee6156638a451f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > dashboard > temporal unit parameters multiple stages should apply the parameter with a dependent filter in another stage</code> | The test timed out while trying to find an element with data-testid ""question-row-count"" and then failed to assert the row count. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51463?repo=metabase/metabase&commitHash=982096f471731ca13b56820339ee6156638a451f&utm_source=gh-comment&runConclusion=FAILURE&runId=d81f16ca-3995-5349-a9b3-bfffa2891f4e) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51463?repo=metabase/metabase&commitHash=982096f471731ca13b56820339ee6156638a451f&utm_source=gh-comment&runConclusion=FAILURE&runId=b90fb9d6-1103-5f36-8f48-c64ae675b133) |
| <code>scenarios > dashboard > temporal unit parameters multiple stages should apply the parameter with a dependent filter in another stage</code> | The test timed out while trying to find an element with data-testid ""question-row-count"" and then failed to assert the row count. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51463?repo=metabase/metabase&commitHash=982096f471731ca13b56820339ee6156638a451f&utm_source=gh-comment&runConclusion=FAILURE&runId=27f1f74e-909a-5f56-b549-31e6f6340139) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51463?repo=metabase/metabase&commitHash=982096f471731ca13b56820339ee6156638a451f&utm_source=gh-comment&runConclusion=FAILURE&runId=50edc810-5198-55ce-9b17-63f8b13f6c6c) |

[... and 1 more](https://app.trunk.io/metabase/flaky-tests/pr/51463?repo=metabase/metabase&commitHash=982096f471731ca13b56820339ee6156638a451f&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 16886 shouldn't remove parts of the query when choosing 'Run selected text' (metabase\#16886)</code> | The test timed out while trying to find an element with data-testid ""scalar-value"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51463?repo=metabase/metabase&commitHash=982096f471731ca13b56820339ee6156638a451f&utm_source=gh-comment&runConclusion=FAILURE&runId=dc89ee67-b2b4-5f99-9d1e-eaef35423630) |
| <code>scenarios > question > native can save a question with no rows</code> | The test timed out waiting for the expected content 'No results!' to appear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51463?repo=metabase/metabase&commitHash=982096f471731ca13b56820339ee6156638a451f&utm_source=gh-comment&runConclusion=FAILURE&runId=8e45e85a-4cfd-5383-9331-566d17c8faa1) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51463?repo=metabase/metabase&commitHash=982096f471731ca13b56820339ee6156638a451f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2748198279,pull_request,open,,Add E2E Test for #51386,"Adds an E2E test for #51386. On master, the test fails as the error triggers when trying to download a question within an iframe. With the change in #51386, this test passes.

**Note:** This test is still flaking about 15% of the time. I'm trying to get this down to an (obvious) 0% so if you're reviewing this, keep that in mind.",oisincoveney,2024-12-18 15:59:09+00:00,['oisincoveney'],2025-01-21 16:19:17+00:00,,https://github.com/metabase/metabase/pull/51461,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2551815002, 'issue_id': 2748198279, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3676_tests-ed77f0a2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51461?repo=metabase/metabase&commitHash=ed77f0a2a9c2baf2d41ea4e6f98c05597659735d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51461?repo=metabase/metabase&commitHash=ed77f0a2a9c2baf2d41ea4e6f98c05597659735d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51461?repo=metabase/metabase&commitHash=ed77f0a2a9c2baf2d41ea4e6f98c05597659735d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51461?repo=metabase/metabase&commitHash=ed77f0a2a9c2baf2d41ea4e6f98c05597659735d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51461?repo=metabase/metabase&commitHash=ed77f0a2a9c2baf2d41ea4e6f98c05597659735d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 18, 16, 48, 6, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-18 16:48:06 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3676_tests-ed77f0a2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51461?repo=metabase/metabase&commitHash=ed77f0a2a9c2baf2d41ea4e6f98c05597659735d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51461?repo=metabase/metabase&commitHash=ed77f0a2a9c2baf2d41ea4e6f98c05597659735d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51461?repo=metabase/metabase&commitHash=ed77f0a2a9c2baf2d41ea4e6f98c05597659735d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51461?repo=metabase/metabase&commitHash=ed77f0a2a9c2baf2d41ea4e6f98c05597659735d&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51461?repo=metabase/metabase&commitHash=ed77f0a2a9c2baf2d41ea4e6f98c05597659735d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2748112804,pull_request,closed,,green CI?,"The biggest deletion here is a test that didn't run in CI, where I was playing around with implementing similar tests to what `ai-service` has (e2e test that hit AI service and make assertions about what tool calls it makes). No point in duplicating that here, let's keep that in AI service.

Deleted some completely outdated tests (e.g. testing tools that no longer exist)",johnswanson,2024-12-18 15:24:52+00:00,['johnswanson'],2024-12-18 21:23:31+00:00,2024-12-18 20:23:53+00:00,https://github.com/metabase/metabase/pull/51459,"[('Metabot/General', 'General Metabot AI'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2551745559, 'issue_id': 2748112804, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/122085_tests-94c2dd0c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51459?repo=metabase/metabase&commitHash=94c2dd0ce1fc338a087a28b3c520923966f3759e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/9-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51459?repo=metabase/metabase&commitHash=94c2dd0ce1fc338a087a28b3c520923966f3759e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51459?repo=metabase/metabase&commitHash=94c2dd0ce1fc338a087a28b3c520923966f3759e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51459?repo=metabase/metabase&commitHash=94c2dd0ce1fc338a087a28b3c520923966f3759e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts ""before each"" hook for ""should allow you to enable a webhook alert""</code> | Cypress request failed with 400 Bad Request status code. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51459?repo=metabase/metabase&commitHash=94c2dd0ce1fc338a087a28b3c520923966f3759e&utm_source=gh-comment&runConclusion=FAILURE&runId=e6362027-4fa1-5701-83b0-30ef66bacb57) |\n| <code>scenarios > alert > email\\_alert should respect email alerts toggled off (metabase\\#12349)</code> | The request to http://localhost:4000/api/channel failed with a 400 Bad Request status code. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51459?repo=metabase/metabase&commitHash=94c2dd0ce1fc338a087a28b3c520923966f3759e&utm_source=gh-comment&runConclusion=FAILURE&runId=b87c7f20-0e6b-5c3b-a116-87fcc8fbcfc4) |\n| <code>scenarios > alert with a webhook ""before each"" hook for ""should be able to create and delete alerts with webhooks enabled""</code> | Failed to connect to the channel with a 400 Bad Request error. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51459?repo=metabase/metabase&commitHash=94c2dd0ce1fc338a087a28b3c520923966f3759e&utm_source=gh-comment&runConclusion=FAILURE&runId=73bb44d8-9628-5855-a210-e974b457c169) |\n| <code>issue 8490 static embeddings should respect \\`\\#locale\\` hash in the URL (metabase\\#8490)</code> | The test timed out while trying to find an element with the text \'4\' and the element might have been detached from the DOM. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51459?repo=metabase/metabase&commitHash=94c2dd0ce1fc338a087a28b3c520923966f3759e&utm_source=gh-comment&runConclusion=FAILURE&runId=d248091b-5f04-5798-8977-493892a400d2) |\n\n[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/51459?repo=metabase/metabase&commitHash=94c2dd0ce1fc338a087a28b3c520923966f3759e&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>delay-queue-test</code> | failure\\_text: queue\\_test.clj:92expected: (nil? (queue/take-delayed-batch! q 3 90 0))  actual: (not (nil? [1570323935894 1570323059540])) | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51459?repo=metabase/metabase&commitHash=94c2dd0ce1fc338a087a28b3c520923966f3759e&utm_source=gh-comment&runConclusion=FAILURE&runId=96f06592-4c11-5e0e-a4bc-5512569e1e90) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51459?repo=metabase/metabase&commitHash=94c2dd0ce1fc338a087a28b3c520923966f3759e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 18, 16, 17, 24, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-18 16:17:24 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/122085_tests-94c2dd0c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51459?repo=metabase/metabase&commitHash=94c2dd0ce1fc338a087a28b3c520923966f3759e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/9-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51459?repo=metabase/metabase&commitHash=94c2dd0ce1fc338a087a28b3c520923966f3759e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51459?repo=metabase/metabase&commitHash=94c2dd0ce1fc338a087a28b3c520923966f3759e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51459?repo=metabase/metabase&commitHash=94c2dd0ce1fc338a087a28b3c520923966f3759e&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts ""before each"" hook for ""should allow you to enable a webhook alert""</code> | Cypress request failed with 400 Bad Request status code. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51459?repo=metabase/metabase&commitHash=94c2dd0ce1fc338a087a28b3c520923966f3759e&utm_source=gh-comment&runConclusion=FAILURE&runId=e6362027-4fa1-5701-83b0-30ef66bacb57) |
| <code>scenarios > alert > email\_alert should respect email alerts toggled off (metabase\#12349)</code> | The request to http://localhost:4000/api/channel failed with a 400 Bad Request status code. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51459?repo=metabase/metabase&commitHash=94c2dd0ce1fc338a087a28b3c520923966f3759e&utm_source=gh-comment&runConclusion=FAILURE&runId=b87c7f20-0e6b-5c3b-a116-87fcc8fbcfc4) |
| <code>scenarios > alert with a webhook ""before each"" hook for ""should be able to create and delete alerts with webhooks enabled""</code> | Failed to connect to the channel with a 400 Bad Request error. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51459?repo=metabase/metabase&commitHash=94c2dd0ce1fc338a087a28b3c520923966f3759e&utm_source=gh-comment&runConclusion=FAILURE&runId=73bb44d8-9628-5855-a210-e974b457c169) |
| <code>issue 8490 static embeddings should respect \`\#locale\` hash in the URL (metabase\#8490)</code> | The test timed out while trying to find an element with the text '4' and the element might have been detached from the DOM. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51459?repo=metabase/metabase&commitHash=94c2dd0ce1fc338a087a28b3c520923966f3759e&utm_source=gh-comment&runConclusion=FAILURE&runId=d248091b-5f04-5798-8977-493892a400d2) |

[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/51459?repo=metabase/metabase&commitHash=94c2dd0ce1fc338a087a28b3c520923966f3759e&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>delay-queue-test</code> | failure\_text: queue\_test.clj:92expected: (nil? (queue/take-delayed-batch! q 3 90 0))  actual: (not (nil? [1570323935894 1570323059540])) | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51459?repo=metabase/metabase&commitHash=94c2dd0ce1fc338a087a28b3c520923966f3759e&utm_source=gh-comment&runConclusion=FAILURE&runId=96f06592-4c11-5e0e-a4bc-5512569e1e90) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51459?repo=metabase/metabase&commitHash=94c2dd0ce1fc338a087a28b3c520923966f3759e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2748090462,pull_request,closed,,Update SDK version to 0.51.13,Update Readme version references and published npm package version to 0.51.13,github-automation-metabase,2024-12-18 15:15:45+00:00,"['heypoom', 'github-automation-metabase']",2024-12-18 15:47:06+00:00,2024-12-18 15:16:51+00:00,https://github.com/metabase/metabase/pull/51458,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2551664487, 'issue_id': 2748090462, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/23_tests-a6d89f19-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51458?repo=metabase/metabase&commitHash=a6d89f19b91a249f6964fe355382317065cae4ed&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51458?repo=metabase/metabase&commitHash=a6d89f19b91a249f6964fe355382317065cae4ed&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51458?repo=metabase/metabase&commitHash=a6d89f19b91a249f6964fe355382317065cae4ed&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51458?repo=metabase/metabase&commitHash=a6d89f19b91a249f6964fe355382317065cae4ed&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51458?repo=metabase/metabase&commitHash=a6d89f19b91a249f6964fe355382317065cae4ed&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 18, 15, 47, 5, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-18 15:47:05 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/23_tests-a6d89f19-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51458?repo=metabase/metabase&commitHash=a6d89f19b91a249f6964fe355382317065cae4ed&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51458?repo=metabase/metabase&commitHash=a6d89f19b91a249f6964fe355382317065cae4ed&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51458?repo=metabase/metabase&commitHash=a6d89f19b91a249f6964fe355382317065cae4ed&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51458?repo=metabase/metabase&commitHash=a6d89f19b91a249f6964fe355382317065cae4ed&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51458?repo=metabase/metabase&commitHash=a6d89f19b91a249f6964fe355382317065cae4ed&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2747883288,pull_request,closed,,fix dummy tools,"I broke the dummy tool invocation on my last merge because there was a subtle (logical, but not actually modifying the same lines) merge conflict.",johnswanson,2024-12-18 13:54:11+00:00,['johnswanson'],2024-12-18 15:31:59+00:00,2024-12-18 15:11:43+00:00,https://github.com/metabase/metabase/pull/51457,"[('Metabot/General', 'General Metabot AI'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2551506387, 'issue_id': 2747883288, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/34017_tests-cefae204-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51457?repo=metabase/metabase&commitHash=cefae2040ebd02a235f937faf971492dd1da2f1e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51457?repo=metabase/metabase&commitHash=cefae2040ebd02a235f937faf971492dd1da2f1e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51457?repo=metabase/metabase&commitHash=cefae2040ebd02a235f937faf971492dd1da2f1e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51457?repo=metabase/metabase&commitHash=cefae2040ebd02a235f937faf971492dd1da2f1e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51457?repo=metabase/metabase&commitHash=cefae2040ebd02a235f937faf971492dd1da2f1e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 18, 14, 46, 25, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-18 14:46:25 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/34017_tests-cefae204-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51457?repo=metabase/metabase&commitHash=cefae2040ebd02a235f937faf971492dd1da2f1e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51457?repo=metabase/metabase&commitHash=cefae2040ebd02a235f937faf971492dd1da2f1e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51457?repo=metabase/metabase&commitHash=cefae2040ebd02a235f937faf971492dd1da2f1e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51457?repo=metabase/metabase&commitHash=cefae2040ebd02a235f937faf971492dd1da2f1e&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51457?repo=metabase/metabase&commitHash=cefae2040ebd02a235f937faf971492dd1da2f1e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2747865120,pull_request,closed,,add tests for support of xx-YY locales in embed/public-links,"This PR changes some e2e tests so that they test the fallback logic added in https://github.com/metabase/metabase/pull/51002

",npretto,2024-12-18 13:46:13+00:00,['npretto'],2024-12-20 16:08:27+00:00,2024-12-20 15:26:28+00:00,https://github.com/metabase/metabase/pull/51456,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2551503126, 'issue_id': 2747865120, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3423_tests-c59e447c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51456?repo=metabase/metabase&commitHash=c59e447c2cef4de996157ebc32693f95e0bb1b3b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51456?repo=metabase/metabase&commitHash=c59e447c2cef4de996157ebc32693f95e0bb1b3b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51456?repo=metabase/metabase&commitHash=c59e447c2cef4de996157ebc32693f95e0bb1b3b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51456?repo=metabase/metabase&commitHash=c59e447c2cef4de996157ebc32693f95e0bb1b3b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51456?repo=metabase/metabase&commitHash=c59e447c2cef4de996157ebc32693f95e0bb1b3b&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 18, 14, 45, 3, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-18 14:45:03 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3423_tests-c59e447c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51456?repo=metabase/metabase&commitHash=c59e447c2cef4de996157ebc32693f95e0bb1b3b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51456?repo=metabase/metabase&commitHash=c59e447c2cef4de996157ebc32693f95e0bb1b3b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51456?repo=metabase/metabase&commitHash=c59e447c2cef4de996157ebc32693f95e0bb1b3b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51456?repo=metabase/metabase&commitHash=c59e447c2cef4de996157ebc32693f95e0bb1b3b&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51456?repo=metabase/metabase&commitHash=c59e447c2cef4de996157ebc32693f95e0bb1b3b&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2747834675,pull_request,closed,,"ü§ñ backported ""ci: Trim stacktrace of intentional exceptions thrown during testing""",#51443,github-automation-metabase,2024-12-18 13:32:43+00:00,"['piranha', 'github-automation-metabase']",2024-12-18 15:59:52+00:00,2024-12-18 15:28:43+00:00,https://github.com/metabase/metabase/pull/51455,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2551438549, 'issue_id': 2747834675, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/120426_tests-f9e28ff4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51455?repo=metabase/metabase&commitHash=f9e28ff464fecdca59ec263b915d99a598963e67&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51455?repo=metabase/metabase&commitHash=f9e28ff464fecdca59ec263b915d99a598963e67&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51455?repo=metabase/metabase&commitHash=f9e28ff464fecdca59ec263b915d99a598963e67&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51455?repo=metabase/metabase&commitHash=f9e28ff464fecdca59ec263b915d99a598963e67&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51455?repo=metabase/metabase&commitHash=f9e28ff464fecdca59ec263b915d99a598963e67&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 18, 14, 17, 48, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-18 14:17:48 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/120426_tests-f9e28ff4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51455?repo=metabase/metabase&commitHash=f9e28ff464fecdca59ec263b915d99a598963e67&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51455?repo=metabase/metabase&commitHash=f9e28ff464fecdca59ec263b915d99a598963e67&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51455?repo=metabase/metabase&commitHash=f9e28ff464fecdca59ec263b915d99a598963e67&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51455?repo=metabase/metabase&commitHash=f9e28ff464fecdca59ec263b915d99a598963e67&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51455?repo=metabase/metabase&commitHash=f9e28ff464fecdca59ec263b915d99a598963e67&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2747810338,pull_request,closed,,"ü§ñ backported ""fix(sdk): update define function names in Next.js compat""",#51071,github-automation-metabase,2024-12-18 13:24:12+00:00,"['heypoom', 'github-automation-metabase']",2024-12-18 14:48:51+00:00,2024-12-18 14:09:16+00:00,https://github.com/metabase/metabase/pull/51454,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2551434238, 'issue_id': 2747810338, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13253_tests-db11e837-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51454?repo=metabase/metabase&commitHash=db11e83700ad27d946e389372faaba3d58043f5e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51454?repo=metabase/metabase&commitHash=db11e83700ad27d946e389372faaba3d58043f5e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51454?repo=metabase/metabase&commitHash=db11e83700ad27d946e389372faaba3d58043f5e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51454?repo=metabase/metabase&commitHash=db11e83700ad27d946e389372faaba3d58043f5e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51454?repo=metabase/metabase&commitHash=db11e83700ad27d946e389372faaba3d58043f5e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 18, 14, 15, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2551434245, 'issue_id': 2747810338, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13085_tests-db11e837-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51454?repo=metabase/metabase&commitHash=db11e83700ad27d946e389372faaba3d58043f5e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51454?repo=metabase/metabase&commitHash=db11e83700ad27d946e389372faaba3d58043f5e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51454?repo=metabase/metabase&commitHash=db11e83700ad27d946e389372faaba3d58043f5e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51454?repo=metabase/metabase&commitHash=db11e83700ad27d946e389372faaba3d58043f5e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51454?repo=metabase/metabase&commitHash=db11e83700ad27d946e389372faaba3d58043f5e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 18, 14, 15, 59, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-18 14:15:59 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13253_tests-db11e837-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51454?repo=metabase/metabase&commitHash=db11e83700ad27d946e389372faaba3d58043f5e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51454?repo=metabase/metabase&commitHash=db11e83700ad27d946e389372faaba3d58043f5e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51454?repo=metabase/metabase&commitHash=db11e83700ad27d946e389372faaba3d58043f5e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51454?repo=metabase/metabase&commitHash=db11e83700ad27d946e389372faaba3d58043f5e&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51454?repo=metabase/metabase&commitHash=db11e83700ad27d946e389372faaba3d58043f5e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-12-18 14:15:59 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13085_tests-db11e837-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51454?repo=metabase/metabase&commitHash=db11e83700ad27d946e389372faaba3d58043f5e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51454?repo=metabase/metabase&commitHash=db11e83700ad27d946e389372faaba3d58043f5e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51454?repo=metabase/metabase&commitHash=db11e83700ad27d946e389372faaba3d58043f5e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51454?repo=metabase/metabase&commitHash=db11e83700ad27d946e389372faaba3d58043f5e&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51454?repo=metabase/metabase&commitHash=db11e83700ad27d946e389372faaba3d58043f5e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2747806616,pull_request,closed,,"ü§ñ backported ""fix(sdk): update define function names in Next.js compat""",#51071,github-automation-metabase,2024-12-18 13:22:46+00:00,"['heypoom', 'github-automation-metabase']",2024-12-18 14:51:29+00:00,2024-12-18 14:03:27+00:00,https://github.com/metabase/metabase/pull/51453,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2551435888, 'issue_id': 2747806616, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13280_tests-f1199b2b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51453?repo=metabase/metabase&commitHash=f1199b2bc36137ce3dfe1b241a2236e751c379d4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51453?repo=metabase/metabase&commitHash=f1199b2bc36137ce3dfe1b241a2236e751c379d4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51453?repo=metabase/metabase&commitHash=f1199b2bc36137ce3dfe1b241a2236e751c379d4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51453?repo=metabase/metabase&commitHash=f1199b2bc36137ce3dfe1b241a2236e751c379d4&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51453?repo=metabase/metabase&commitHash=f1199b2bc36137ce3dfe1b241a2236e751c379d4&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 18, 14, 16, 41, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-18 14:16:41 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13280_tests-f1199b2b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51453?repo=metabase/metabase&commitHash=f1199b2bc36137ce3dfe1b241a2236e751c379d4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51453?repo=metabase/metabase&commitHash=f1199b2bc36137ce3dfe1b241a2236e751c379d4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51453?repo=metabase/metabase&commitHash=f1199b2bc36137ce3dfe1b241a2236e751c379d4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51453?repo=metabase/metabase&commitHash=f1199b2bc36137ce3dfe1b241a2236e751c379d4&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51453?repo=metabase/metabase&commitHash=f1199b2bc36137ce3dfe1b241a2236e751c379d4&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2747794733,pull_request,closed,,Implement filter-records,"Implements the `filter-data` tool, registers the `find-metric` tool and adjust some dummy tool core functions to use the new tool call signature.",metamben,2024-12-18 13:17:53+00:00,['metamben'],2024-12-18 18:53:54+00:00,2024-12-18 17:49:17+00:00,https://github.com/metabase/metabase/pull/51452,"[('Metabot/General', 'General Metabot AI')]","[{'comment_id': 2551363969, 'issue_id': 2747794733, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/18024_tests-752e74e2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51452?repo=metabase/metabase&commitHash=752e74e20f05f11e59da1e6d49ad5b48e80b6a0a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51452?repo=metabase/metabase&commitHash=752e74e20f05f11e59da1e6d49ad5b48e80b6a0a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51452?repo=metabase/metabase&commitHash=752e74e20f05f11e59da1e6d49ad5b48e80b6a0a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51452?repo=metabase/metabase&commitHash=752e74e20f05f11e59da1e6d49ad5b48e80b6a0a&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51452?repo=metabase/metabase&commitHash=752e74e20f05f11e59da1e6d49ad5b48e80b6a0a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 18, 13, 44, 31, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-18 13:44:31 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/18024_tests-752e74e2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51452?repo=metabase/metabase&commitHash=752e74e20f05f11e59da1e6d49ad5b48e80b6a0a&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51452?repo=metabase/metabase&commitHash=752e74e20f05f11e59da1e6d49ad5b48e80b6a0a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51452?repo=metabase/metabase&commitHash=752e74e20f05f11e59da1e6d49ad5b48e80b6a0a&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51452?repo=metabase/metabase&commitHash=752e74e20f05f11e59da1e6d49ad5b48e80b6a0a&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51452?repo=metabase/metabase&commitHash=752e74e20f05f11e59da1e6d49ad5b48e80b6a0a&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2747708213,pull_request,closed,,"ü§ñ backported ""docs - fix typo in ""How to find a known bug or limitation""""",#51440,github-automation-metabase,2024-12-18 12:38:14+00:00,"['abdhabli', 'github-automation-metabase']",2024-12-18 13:19:27+00:00,2024-12-18 12:39:48+00:00,https://github.com/metabase/metabase/pull/51451,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2551304473, 'issue_id': 2747708213, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/23_tests-4f06de40-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51451?repo=metabase/metabase&commitHash=4f06de401b61530c569a8def5889b95c1601ae44&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51451?repo=metabase/metabase&commitHash=4f06de401b61530c569a8def5889b95c1601ae44&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51451?repo=metabase/metabase&commitHash=4f06de401b61530c569a8def5889b95c1601ae44&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51451?repo=metabase/metabase&commitHash=4f06de401b61530c569a8def5889b95c1601ae44&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51451?repo=metabase/metabase&commitHash=4f06de401b61530c569a8def5889b95c1601ae44&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 18, 13, 19, 26, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-18 13:19:26 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/23_tests-4f06de40-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51451?repo=metabase/metabase&commitHash=4f06de401b61530c569a8def5889b95c1601ae44&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51451?repo=metabase/metabase&commitHash=4f06de401b61530c569a8def5889b95c1601ae44&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51451?repo=metabase/metabase&commitHash=4f06de401b61530c569a8def5889b95c1601ae44&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51451?repo=metabase/metabase&commitHash=4f06de401b61530c569a8def5889b95c1601ae44&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51451?repo=metabase/metabase&commitHash=4f06de401b61530c569a8def5889b95c1601ae44&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2747705656,pull_request,closed,,fix(types): fix type error on textCard in static-dashboard.cy.spec.tsx,"[This line](https://github.com/metabase/metabase/blob/bb32a4111b9843db72e1eff41ccf11b683ab2d9f/e2e/test-component/scenarios/embedding-sdk/static-dashboard.cy.spec.tsx#L35) had an error on my ide and this fixes it.

Note that [we currently don't run type checks on the e2e files](https://metaboat.slack.com/archives/C505ZNNH4/p1734524638451749) so this wasn't caught in CI",npretto,2024-12-18 12:36:59+00:00,['npretto'],2024-12-19 13:16:10+00:00,2024-12-19 12:34:02+00:00,https://github.com/metabase/metabase/pull/51450,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2551289488, 'issue_id': 2747705656, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3411_tests-890c19b9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51450?repo=metabase/metabase&commitHash=890c19b95f59c9c2edafe254758793b84286efa9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51450?repo=metabase/metabase&commitHash=890c19b95f59c9c2edafe254758793b84286efa9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51450?repo=metabase/metabase&commitHash=890c19b95f59c9c2edafe254758793b84286efa9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51450?repo=metabase/metabase&commitHash=890c19b95f59c9c2edafe254758793b84286efa9&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51450?repo=metabase/metabase&commitHash=890c19b95f59c9c2edafe254758793b84286efa9&utm_source=gh-comment&runConclusion=FAILURE&runId=9e04c381-4844-53a0-ae88-dd5da88b54de) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51450?repo=metabase/metabase&commitHash=890c19b95f59c9c2edafe254758793b84286efa9&utm_source=gh-comment&runConclusion=FAILURE&runId=01c0a4ce-dc74-5edc-9d61-e12932013f79) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51450?repo=metabase/metabase&commitHash=890c19b95f59c9c2edafe254758793b84286efa9&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 18, 13, 12, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2553713120, 'issue_id': 2747705656, 'author': 'npretto', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 12, 19, 12, 34, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2553909881, 'issue_id': 2747705656, 'author': 'github-actions[bot]', 'body': 'üöÄ This should also be released by [v0.52.4](https://github.com/metabase/metabase/milestone/294)', 'created_at': datetime.datetime(2024, 12, 19, 13, 16, 10, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-18 13:12:18 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3411_tests-890c19b9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51450?repo=metabase/metabase&commitHash=890c19b95f59c9c2edafe254758793b84286efa9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51450?repo=metabase/metabase&commitHash=890c19b95f59c9c2edafe254758793b84286efa9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51450?repo=metabase/metabase&commitHash=890c19b95f59c9c2edafe254758793b84286efa9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51450?repo=metabase/metabase&commitHash=890c19b95f59c9c2edafe254758793b84286efa9&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51450?repo=metabase/metabase&commitHash=890c19b95f59c9c2edafe254758793b84286efa9&utm_source=gh-comment&runConclusion=FAILURE&runId=9e04c381-4844-53a0-ae88-dd5da88b54de) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51450?repo=metabase/metabase&commitHash=890c19b95f59c9c2edafe254758793b84286efa9&utm_source=gh-comment&runConclusion=FAILURE&runId=01c0a4ce-dc74-5edc-9d61-e12932013f79) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51450?repo=metabase/metabase&commitHash=890c19b95f59c9c2edafe254758793b84286efa9&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

npretto (Issue Creator) on (2024-12-19 12:34:07 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-12-19 13:16:10 UTC): üöÄ This should also be released by [v0.52.4](https://github.com/metabase/metabase/milestone/294)

"
2747703122,pull_request,closed,,Remove `entity.ListLoader` (approach v1),"Closes #51215

### Description

Goodbye `entity.ListLoader` :wave: 

[Hiding whitespace](https://github.com/user-attachments/assets/0ee827af-2a7e-4ee8-ad85-d8633da484bb) recommended. Removing `entity.ListLoader` helped reduce a lot of nesting in JSX.

Not all `entity.ListLoader` usages could be switched to direct RTK query usages (because other components rely on `entity.ListLoader` populating the Redux store) - I used the deprecated `entity.loadList` in these cases (it's deprecated, but it's _less deprecated_ than the previous approach)

### How to verify

The 8 refactored components work like before (`UploadSettingsForm`, `ModelCacheRefreshJobs`, `CollectionContentView`, `CollectionItemsTable`, `QuestionList`, `SearchResults`, `SavedEntityList`, `SearchApp`).
",kamilmielnik,2024-12-18 12:35:49+00:00,['kamilmielnik'],2025-01-10 14:52:38+00:00,2025-01-10 10:23:30+00:00,https://github.com/metabase/metabase/pull/51449,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2551589817, 'issue_id': 2747703122, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/52009_tests-8f791ce8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51449?repo=metabase/metabase&commitHash=8f791ce8d99efef7281c6c6213dfc4f736476d3b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/21-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51449?repo=metabase/metabase&commitHash=8f791ce8d99efef7281c6c6213dfc4f736476d3b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51449?repo=metabase/metabase&commitHash=8f791ce8d99efef7281c6c6213dfc4f736476d3b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51449?repo=metabase/metabase&commitHash=8f791ce8d99efef7281c6c6213dfc4f736476d3b&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>collection permissions item management curate access nodata user archive should be able to archive/unarchive question (metabase\\#15253)</code> | Unable to find an element with the text ""Orders"" after 4000ms, possibly due to broken or multiple elements. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51449?repo=metabase/metabase&commitHash=8f791ce8d99efef7281c6c6213dfc4f736476d3b&utm_source=gh-comment&runConclusion=FAILURE&runId=57be0811-67ed-5f94-9bc1-a8eac830788e) |\n| <code>collection permissions item management curate access nodata user archive should be able to archive/unarchive dashboard</code> | Unable to find an element with the text ""Orders in a dashboard"" in a specified time. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51449?repo=metabase/metabase&commitHash=8f791ce8d99efef7281c6c6213dfc4f736476d3b&utm_source=gh-comment&runConclusion=FAILURE&runId=14265404-a83d-5bf1-8085-1f35078b8c35) |\n| <code>collection permissions item management curate access nodata user move should let a user move/undo move a question</code> | The element with class ""emotion-Text-root.emotion-48pq6d"" was expected to not exist in the DOM, but it was found continuously. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51449?repo=metabase/metabase&commitHash=8f791ce8d99efef7281c6c6213dfc4f736476d3b&utm_source=gh-comment&runConclusion=FAILURE&runId=732ec7cc-8168-571b-8346-66dc82cf93ac) |\n| <code>collection permissions item management curate access nodata user move should let a user move/undo move a dashboard</code> | The element with class \'emotion-Text-root.emotion-48pq6d\' was expected to not exist in the DOM, but it was found continuously. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51449?repo=metabase/metabase&commitHash=8f791ce8d99efef7281c6c6213dfc4f736476d3b&utm_source=gh-comment&runConclusion=FAILURE&runId=6e4a1e6a-e1d7-584c-949c-aea025511684) |\n\n[... and 17 more](https://app.trunk.io/metabase/flaky-tests/pr/51449?repo=metabase/metabase&commitHash=8f791ce8d99efef7281c6c6213dfc4f736476d3b&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native lets you create and run a SQL question</code> | The test timed out waiting for the content \'18,760\' to appear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51449?repo=metabase/metabase&commitHash=8f791ce8d99efef7281c6c6213dfc4f736476d3b&utm_source=gh-comment&runConclusion=FAILURE&runId=67ebde5c-bb04-5dd4-b142-05a699fe2f76) |\n| <code>issue 16886 shouldn\'t remove parts of the query when choosing \'Run selected text\' (metabase\\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51449?repo=metabase/metabase&commitHash=8f791ce8d99efef7281c6c6213dfc4f736476d3b&utm_source=gh-comment&runConclusion=FAILURE&runId=64821b9f-fd3f-56e1-95ba-5b4ef4d1b314) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51449?repo=metabase/metabase&commitHash=8f791ce8d99efef7281c6c6213dfc4f736476d3b&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 18, 15, 16, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 2551687580, 'issue_id': 2747703122, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@kamilmielnik You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2024, 12, 18, 15, 52, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2582303226, 'issue_id': 2747703122, 'author': 'kamilmielnik', 'body': 'Closing in favor of #51908', 'created_at': datetime.datetime(2025, 1, 10, 10, 23, 30, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-18 15:16:15 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/52009_tests-8f791ce8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51449?repo=metabase/metabase&commitHash=8f791ce8d99efef7281c6c6213dfc4f736476d3b&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/21-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51449?repo=metabase/metabase&commitHash=8f791ce8d99efef7281c6c6213dfc4f736476d3b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51449?repo=metabase/metabase&commitHash=8f791ce8d99efef7281c6c6213dfc4f736476d3b&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51449?repo=metabase/metabase&commitHash=8f791ce8d99efef7281c6c6213dfc4f736476d3b&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>collection permissions item management curate access nodata user archive should be able to archive/unarchive question (metabase\#15253)</code> | Unable to find an element with the text ""Orders"" after 4000ms, possibly due to broken or multiple elements. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51449?repo=metabase/metabase&commitHash=8f791ce8d99efef7281c6c6213dfc4f736476d3b&utm_source=gh-comment&runConclusion=FAILURE&runId=57be0811-67ed-5f94-9bc1-a8eac830788e) |
| <code>collection permissions item management curate access nodata user archive should be able to archive/unarchive dashboard</code> | Unable to find an element with the text ""Orders in a dashboard"" in a specified time. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51449?repo=metabase/metabase&commitHash=8f791ce8d99efef7281c6c6213dfc4f736476d3b&utm_source=gh-comment&runConclusion=FAILURE&runId=14265404-a83d-5bf1-8085-1f35078b8c35) |
| <code>collection permissions item management curate access nodata user move should let a user move/undo move a question</code> | The element with class ""emotion-Text-root.emotion-48pq6d"" was expected to not exist in the DOM, but it was found continuously. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51449?repo=metabase/metabase&commitHash=8f791ce8d99efef7281c6c6213dfc4f736476d3b&utm_source=gh-comment&runConclusion=FAILURE&runId=732ec7cc-8168-571b-8346-66dc82cf93ac) |
| <code>collection permissions item management curate access nodata user move should let a user move/undo move a dashboard</code> | The element with class 'emotion-Text-root.emotion-48pq6d' was expected to not exist in the DOM, but it was found continuously. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51449?repo=metabase/metabase&commitHash=8f791ce8d99efef7281c6c6213dfc4f736476d3b&utm_source=gh-comment&runConclusion=FAILURE&runId=6e4a1e6a-e1d7-584c-949c-aea025511684) |

[... and 17 more](https://app.trunk.io/metabase/flaky-tests/pr/51449?repo=metabase/metabase&commitHash=8f791ce8d99efef7281c6c6213dfc4f736476d3b&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native lets you create and run a SQL question</code> | The test timed out waiting for the content '18,760' to appear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51449?repo=metabase/metabase&commitHash=8f791ce8d99efef7281c6c6213dfc4f736476d3b&utm_source=gh-comment&runConclusion=FAILURE&runId=67ebde5c-bb04-5dd4-b142-05a699fe2f76) |
| <code>issue 16886 shouldn't remove parts of the query when choosing 'Run selected text' (metabase\#16886)</code> | The test timed out waiting for an element with data-testid ""scalar-value"" to be found. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51449?repo=metabase/metabase&commitHash=8f791ce8d99efef7281c6c6213dfc4f736476d3b&utm_source=gh-comment&runConclusion=FAILURE&runId=64821b9f-fd3f-56e1-95ba-5b4ef4d1b314) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51449?repo=metabase/metabase&commitHash=8f791ce8d99efef7281c6c6213dfc4f736476d3b&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2024-12-18 15:52:28 UTC): <!---conventional commit reminder comment ID-->
@kamilmielnik You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

kamilmielnik (Issue Creator) on (2025-01-10 10:23:30 UTC): Closing in favor of #51908

"
2747691379,pull_request,closed,,Add description to metric API responses,"Closes #51303

This PR adds `query_description` key to `:model/Card` for cards of a `:type` `:metric`. Purpose is to provide users what was known in `api/metric` responses as `definition_description`.",lbrdnk,2024-12-18 12:31:35+00:00,['lbrdnk'],2024-12-23 10:23:35+00:00,2024-12-20 19:51:14+00:00,https://github.com/metabase/metabase/pull/51448,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2551291048, 'issue_id': 2747691379, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/130256_tests-ad7068b7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51448?repo=metabase/metabase&commitHash=ad7068b70fd32a2cd55b085beabee012f37c831c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51448?repo=metabase/metabase&commitHash=ad7068b70fd32a2cd55b085beabee012f37c831c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51448?repo=metabase/metabase&commitHash=ad7068b70fd32a2cd55b085beabee012f37c831c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51448?repo=metabase/metabase&commitHash=ad7068b70fd32a2cd55b085beabee012f37c831c&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>skip-analysis-of-fields-with-current-fingerprint-version-test</code> | Insert or update operation on 'metabase\\_field' table failed due to foreign key constraint 'fk\\_field\\_ref\\_table\\_id' violation. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51448?repo=metabase/metabase&commitHash=ad7068b70fd32a2cd55b085beabee012f37c831c&utm_source=gh-comment&runConclusion=FAILURE&runId=b498bc91-b05e-5c11-8d69-3168d9256f98) |\n| <code>analyze-unhidden-tables-test</code> | Insert or update operation on 'metabase\\_field' table failed due to foreign key constraint 'fk\\_field\\_ref\\_table\\_id' violation. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51448?repo=metabase/metabase&commitHash=ad7068b70fd32a2cd55b085beabee012f37c831c&utm_source=gh-comment&runConclusion=FAILURE&runId=bc4f7893-90d4-5a90-b4da-170819fa7f52) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>e2e-storage-ingestion-test</code> | Expected entity to be equal to the result of extracting a field from a collection, but actual entity was different. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51448?repo=metabase/metabase&commitHash=ad7068b70fd32a2cd55b085beabee012f37c831c&utm_source=gh-comment&runConclusion=FAILURE&runId=0a67a94e-8597-582c-b6f3-9d8dfec563d6) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51448?repo=metabase/metabase&commitHash=ad7068b70fd32a2cd55b085beabee012f37c831c&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 18, 13, 13, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2559382060, 'issue_id': 2747691379, 'author': 'lbrdnk', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 12, 23, 10, 23, 34, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-18 13:13:02 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/130256_tests-ad7068b7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51448?repo=metabase/metabase&commitHash=ad7068b70fd32a2cd55b085beabee012f37c831c&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51448?repo=metabase/metabase&commitHash=ad7068b70fd32a2cd55b085beabee012f37c831c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51448?repo=metabase/metabase&commitHash=ad7068b70fd32a2cd55b085beabee012f37c831c&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51448?repo=metabase/metabase&commitHash=ad7068b70fd32a2cd55b085beabee012f37c831c&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>skip-analysis-of-fields-with-current-fingerprint-version-test</code> | Insert or update operation on 'metabase\_field' table failed due to foreign key constraint 'fk\_field\_ref\_table\_id' violation. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51448?repo=metabase/metabase&commitHash=ad7068b70fd32a2cd55b085beabee012f37c831c&utm_source=gh-comment&runConclusion=FAILURE&runId=b498bc91-b05e-5c11-8d69-3168d9256f98) |
| <code>analyze-unhidden-tables-test</code> | Insert or update operation on 'metabase\_field' table failed due to foreign key constraint 'fk\_field\_ref\_table\_id' violation. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51448?repo=metabase/metabase&commitHash=ad7068b70fd32a2cd55b085beabee012f37c831c&utm_source=gh-comment&runConclusion=FAILURE&runId=bc4f7893-90d4-5a90-b4da-170819fa7f52) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>e2e-storage-ingestion-test</code> | Expected entity to be equal to the result of extracting a field from a collection, but actual entity was different. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51448?repo=metabase/metabase&commitHash=ad7068b70fd32a2cd55b085beabee012f37c831c&utm_source=gh-comment&runConclusion=FAILURE&runId=0a67a94e-8597-582c-b6f3-9d8dfec563d6) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51448?repo=metabase/metabase&commitHash=ad7068b70fd32a2cd55b085beabee012f37c831c&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

lbrdnk (Issue Creator) on (2024-12-23 10:23:34 UTC): @metabase-bot backport release-x.51.x

"
2747674778,pull_request,closed,,[Notification] send card notification tests,"Epic: https://github.com/metabase/metabase/issues/50766

Adding tests for notification card, took inspiration from alert tests in `metabase.pulse.send-test`. It covers:
- e2e tests for slack, email, http for card that has static viz and without static viz
- execution permissions tests: card result should use notification's creator tests
- send condition tests
- error handling",qnkhuat,2024-12-18 12:24:25+00:00,['qnkhuat'],2024-12-23 04:47:55+00:00,2024-12-23 03:39:16+00:00,https://github.com/metabase/metabase/pull/51447,"[('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2551290516, 'issue_id': 2747674778, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/125555_tests-c86fd7f4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51447?repo=metabase/metabase&commitHash=c86fd7f4f00064636289da34b47d358e33a1462d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51447?repo=metabase/metabase&commitHash=c86fd7f4f00064636289da34b47d358e33a1462d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51447?repo=metabase/metabase&commitHash=c86fd7f4f00064636289da34b47d358e33a1462d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51447?repo=metabase/metabase&commitHash=c86fd7f4f00064636289da34b47d358e33a1462d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Write actions on model detail page (postgres) should allow query action execution from the model details page</code> | Unable to find a label with the text 'Total' within the given time limit. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51447?repo=metabase/metabase&commitHash=c86fd7f4f00064636289da34b47d358e33a1462d&utm_source=gh-comment&runConclusion=FAILURE&runId=bdd36ec8-09b5-5761-b8ed-c5510d57964b) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in excluded-fks, causing a query to fail. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51447?repo=metabase/metabase&commitHash=c86fd7f4f00064636289da34b47d358e33a1462d&utm_source=gh-comment&runConclusion=FAILURE&runId=267560c1-ad94-5880-8692-f9b469627847) |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in excluded-fks, causing a query to fail. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51447?repo=metabase/metabase&commitHash=c86fd7f4f00064636289da34b47d358e33a1462d&utm_source=gh-comment&runConclusion=FAILURE&runId=2b699248-2296-578f-b70b-ff063dd0ca19) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51447?repo=metabase/metabase&commitHash=c86fd7f4f00064636289da34b47d358e33a1462d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 18, 13, 12, 47, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-18 13:12:47 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/125555_tests-c86fd7f4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51447?repo=metabase/metabase&commitHash=c86fd7f4f00064636289da34b47d358e33a1462d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51447?repo=metabase/metabase&commitHash=c86fd7f4f00064636289da34b47d358e33a1462d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51447?repo=metabase/metabase&commitHash=c86fd7f4f00064636289da34b47d358e33a1462d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51447?repo=metabase/metabase&commitHash=c86fd7f4f00064636289da34b47d358e33a1462d&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Write actions on model detail page (postgres) should allow query action execution from the model details page</code> | Unable to find a label with the text 'Total' within the given time limit. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51447?repo=metabase/metabase&commitHash=c86fd7f4f00064636289da34b47d358e33a1462d&utm_source=gh-comment&runConclusion=FAILURE&runId=bdd36ec8-09b5-5761-b8ed-c5510d57964b) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in excluded-fks, causing a query to fail. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51447?repo=metabase/metabase&commitHash=c86fd7f4f00064636289da34b47d358e33a1462d&utm_source=gh-comment&runConclusion=FAILURE&runId=267560c1-ad94-5880-8692-f9b469627847) |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in excluded-fks, causing a query to fail. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51447?repo=metabase/metabase&commitHash=c86fd7f4f00064636289da34b47d358e33a1462d&utm_source=gh-comment&runConclusion=FAILURE&runId=2b699248-2296-578f-b70b-ff063dd0ca19) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51447?repo=metabase/metabase&commitHash=c86fd7f4f00064636289da34b47d358e33a1462d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2747657831,pull_request,closed,,Sync tool schemas with ai-service,"## Context

The schemas got updated in ai-service and we need to get them back in sync

## What changed

Updated all schemas to have the same state as in ai-service",Somtom,2024-12-18 12:16:24+00:00,['Somtom'],2024-12-18 13:44:24+00:00,2024-12-18 12:38:46+00:00,https://github.com/metabase/metabase/pull/51446,[],"[{'comment_id': 2551239596, 'issue_id': 2747657831, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/42085_tests-7659087b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51446?repo=metabase/metabase&commitHash=7659087b6979559a69ed5762152e78dc9693f9cb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/56-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51446?repo=metabase/metabase&commitHash=7659087b6979559a69ed5762152e78dc9693f9cb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51446?repo=metabase/metabase&commitHash=7659087b6979559a69ed5762152e78dc9693f9cb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51446?repo=metabase/metabase&commitHash=7659087b6979559a69ed5762152e78dc9693f9cb&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts ""before each"" hook for ""should allow you to enable a webhook alert""</code> | Cypress request failed with 400 Bad Request status code. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51446?repo=metabase/metabase&commitHash=7659087b6979559a69ed5762152e78dc9693f9cb&utm_source=gh-comment&runConclusion=FAILURE&runId=b2dbaa25-6e9c-5715-a543-89ced6981ed5) |\n| <code>it-generates-a-reaction</code> | Wrong number of arguments (2) passed to metabase-enterprise.metabot-v3.tools.interface/eval148434/fn--148435. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51446?repo=metabase/metabase&commitHash=7659087b6979559a69ed5762152e78dc9693f9cb&utm_source=gh-comment&runConclusion=FAILURE&runId=fd0908b2-f0f7-5ed8-af80-249240a2150b) |\n| <code>e2e-test</code> | The \\`metabot-v3.api/request\\` function was called with the wrong number of arguments. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51446?repo=metabase/metabase&commitHash=7659087b6979559a69ed5762152e78dc9693f9cb&utm_source=gh-comment&runConclusion=FAILURE&runId=94129265-77eb-5e4f-a2f3-03766b3846ac) |\n| <code>it-is-only-applicable-for-tables</code> | failure\\_text: change\\_table\\_visualization\\_settings\\_test.clj:18expected: (not (tools.interface/\\*tool-applicable?\\* :metabot.tool/change-table-v... | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51446?repo=metabase/metabase&commitHash=7659087b6979559a69ed5762152e78dc9693f9cb&utm_source=gh-comment&runConclusion=FAILURE&runId=a1662e99-1b34-5a45-bb56-37472449e49d) |\n\n[... and 52 more](https://app.trunk.io/metabase/flaky-tests/pr/51446?repo=metabase/metabase&commitHash=7659087b6979559a69ed5762152e78dc9693f9cb&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>delay-queue-test</code> | failure\\_text: queue\\_test.clj:92expected: (nil? (queue/take-delayed-batch! q 3 90 0))  actual: (not (nil? [2478342524315])) | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51446?repo=metabase/metabase&commitHash=7659087b6979559a69ed5762152e78dc9693f9cb&utm_source=gh-comment&runConclusion=FAILURE&runId=20f82b3c-bf1e-5735-bab4-186c2a3e5142) |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:329:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\\#\'sync.fingerprint/max-refingerp... | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51446?repo=metabase/metabase&commitHash=7659087b6979559a69ed5762152e78dc9693f9cb&utm_source=gh-comment&runConclusion=FAILURE&runId=37b326cf-7a6c-5e58-9d2a-bf8db1806166) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51446?repo=metabase/metabase&commitHash=7659087b6979559a69ed5762152e78dc9693f9cb&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 18, 12, 48, 8, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-18 12:48:08 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/42085_tests-7659087b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51446?repo=metabase/metabase&commitHash=7659087b6979559a69ed5762152e78dc9693f9cb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/56-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51446?repo=metabase/metabase&commitHash=7659087b6979559a69ed5762152e78dc9693f9cb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51446?repo=metabase/metabase&commitHash=7659087b6979559a69ed5762152e78dc9693f9cb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51446?repo=metabase/metabase&commitHash=7659087b6979559a69ed5762152e78dc9693f9cb&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts ""before each"" hook for ""should allow you to enable a webhook alert""</code> | Cypress request failed with 400 Bad Request status code. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51446?repo=metabase/metabase&commitHash=7659087b6979559a69ed5762152e78dc9693f9cb&utm_source=gh-comment&runConclusion=FAILURE&runId=b2dbaa25-6e9c-5715-a543-89ced6981ed5) |
| <code>it-generates-a-reaction</code> | Wrong number of arguments (2) passed to metabase-enterprise.metabot-v3.tools.interface/eval148434/fn--148435. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51446?repo=metabase/metabase&commitHash=7659087b6979559a69ed5762152e78dc9693f9cb&utm_source=gh-comment&runConclusion=FAILURE&runId=fd0908b2-f0f7-5ed8-af80-249240a2150b) |
| <code>e2e-test</code> | The \`metabot-v3.api/request\` function was called with the wrong number of arguments. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51446?repo=metabase/metabase&commitHash=7659087b6979559a69ed5762152e78dc9693f9cb&utm_source=gh-comment&runConclusion=FAILURE&runId=94129265-77eb-5e4f-a2f3-03766b3846ac) |
| <code>it-is-only-applicable-for-tables</code> | failure\_text: change\_table\_visualization\_settings\_test.clj:18expected: (not (tools.interface/\*tool-applicable?\* :metabot.tool/change-table-v... | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51446?repo=metabase/metabase&commitHash=7659087b6979559a69ed5762152e78dc9693f9cb&utm_source=gh-comment&runConclusion=FAILURE&runId=a1662e99-1b34-5a45-bb56-37472449e49d) |

[... and 52 more](https://app.trunk.io/metabase/flaky-tests/pr/51446?repo=metabase/metabase&commitHash=7659087b6979559a69ed5762152e78dc9693f9cb&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>delay-queue-test</code> | failure\_text: queue\_test.clj:92expected: (nil? (queue/take-delayed-batch! q 3 90 0))  actual: (not (nil? [2478342524315])) | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51446?repo=metabase/metabase&commitHash=7659087b6979559a69ed5762152e78dc9693f9cb&utm_source=gh-comment&runConclusion=FAILURE&runId=20f82b3c-bf1e-5735-bab4-186c2a3e5142) |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:329:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerp... | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51446?repo=metabase/metabase&commitHash=7659087b6979559a69ed5762152e78dc9693f9cb&utm_source=gh-comment&runConclusion=FAILURE&runId=37b326cf-7a6c-5e58-9d2a-bf8db1806166) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51446?repo=metabase/metabase&commitHash=7659087b6979559a69ed5762152e78dc9693f9cb&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2747607326,pull_request,closed,,"ü§ñ backported ""Convert ChartSettingInputNumeric to Mantine""",#51165,github-automation-metabase,2024-12-18 11:52:34+00:00,"['oisincoveney', 'github-automation-metabase']",2024-12-18 13:28:16+00:00,2024-12-18 12:52:34+00:00,https://github.com/metabase/metabase/pull/51444,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2551129788, 'issue_id': 2747607326, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff f229c492e01ac1c7bce1216089f1ef248fad5066...eb2138ac65ba6a33a2c09d278cf8e4ac175e5ba2.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/settings/ChartSettingInputNumeric.tsx |', 'created_at': datetime.datetime(2024, 12, 18, 11, 54, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2551235306, 'issue_id': 2747607326, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51442_tests-eb2138ac-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51444?repo=metabase/metabase&commitHash=eb2138ac65ba6a33a2c09d278cf8e4ac175e5ba2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51444?repo=metabase/metabase&commitHash=eb2138ac65ba6a33a2c09d278cf8e4ac175e5ba2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51444?repo=metabase/metabase&commitHash=eb2138ac65ba6a33a2c09d278cf8e4ac175e5ba2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51444?repo=metabase/metabase&commitHash=eb2138ac65ba6a33a2c09d278cf8e4ac175e5ba2&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > models listing should allow using models in native queries</code> | The test timed out while trying to find an element with data-testid ""TableInteractive-root"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51444?repo=metabase/metabase&commitHash=eb2138ac65ba6a33a2c09d278cf8e4ac175e5ba2&utm_source=gh-comment&runConclusion=FAILURE&runId=a6ea8f3f-dd5b-57ac-856d-0f4591bc1de5) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51444?repo=metabase/metabase&commitHash=eb2138ac65ba6a33a2c09d278cf8e4ac175e5ba2&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 18, 12, 45, 59, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-12-18 11:54:21 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff f229c492e01ac1c7bce1216089f1ef248fad5066...eb2138ac65ba6a33a2c09d278cf8e4ac175e5ba2.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/settings/ChartSettingInputNumeric.tsx |

trunk-io[bot] on (2024-12-18 12:45:59 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51442_tests-eb2138ac-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51444?repo=metabase/metabase&commitHash=eb2138ac65ba6a33a2c09d278cf8e4ac175e5ba2&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51444?repo=metabase/metabase&commitHash=eb2138ac65ba6a33a2c09d278cf8e4ac175e5ba2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51444?repo=metabase/metabase&commitHash=eb2138ac65ba6a33a2c09d278cf8e4ac175e5ba2&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51444?repo=metabase/metabase&commitHash=eb2138ac65ba6a33a2c09d278cf8e4ac175e5ba2&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > models listing should allow using models in native queries</code> | The test timed out while trying to find an element with data-testid ""TableInteractive-root"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51444?repo=metabase/metabase&commitHash=eb2138ac65ba6a33a2c09d278cf8e4ac175e5ba2&utm_source=gh-comment&runConclusion=FAILURE&runId=a6ea8f3f-dd5b-57ac-856d-0f4591bc1de5) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51444?repo=metabase/metabase&commitHash=eb2138ac65ba6a33a2c09d278cf8e4ac175e5ba2&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2747520703,pull_request,closed,,ci: Trim stacktrace of intentional exceptions thrown during testing,"This removes long scary stacktraces that we throw intentionally during testing and makes it easier to locate the actual failed tests.
",alexander-yakushev,2024-12-18 11:12:21+00:00,['alexander-yakushev'],2024-12-18 15:29:19+00:00,2024-12-18 13:31:45+00:00,https://github.com/metabase/metabase/pull/51443,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2551107548, 'issue_id': 2747520703, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/123851_tests-3cecd687-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51443?repo=metabase/metabase&commitHash=3cecd68790d77bc69aeec43ef50bd49be586668f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51443?repo=metabase/metabase&commitHash=3cecd68790d77bc69aeec43ef50bd49be586668f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/282-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51443?repo=metabase/metabase&commitHash=3cecd68790d77bc69aeec43ef50bd49be586668f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51443?repo=metabase/metabase&commitHash=3cecd68790d77bc69aeec43ef50bd49be586668f&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>metric-test</code> | Connection to Hive database was refused. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51443?repo=metabase/metabase&commitHash=3cecd68790d77bc69aeec43ef50bd49be586668f&utm_source=gh-comment&runConclusion=FAILURE&runId=768f70e3-c80a-5eb8-b94b-32c464fbfe55) |\n| <code>page-test-2</code> | Connection to Hive database was refused. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51443?repo=metabase/metabase&commitHash=3cecd68790d77bc69aeec43ef50bd49be586668f&utm_source=gh-comment&runConclusion=FAILURE&runId=70bcfab3-dc6b-5160-b24a-9e098c742f1e) |\n| <code>join-against-card-source-query-test</code> | Connection to the database was refused, preventing the query from executing. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51443?repo=metabase/metabase&commitHash=3cecd68790d77bc69aeec43ef50bd49be586668f&utm_source=gh-comment&runConclusion=FAILURE&runId=f61ce8d8-bf52-53b2-a91e-e31a1dce32a1) |\n| <code>offset-expression-inside-other-expression-test</code> | Connection to Hive database was refused. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51443?repo=metabase/metabase&commitHash=3cecd68790d77bc69aeec43ef50bd49be586668f&utm_source=gh-comment&runConclusion=FAILURE&runId=0ff26f76-a829-550b-9e50-ef7eb7c16624) |\n\n[... and 278 more](https://app.trunk.io/metabase/flaky-tests/pr/51443?repo=metabase/metabase&commitHash=3cecd68790d77bc69aeec43ef50bd49be586668f&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51443?repo=metabase/metabase&commitHash=3cecd68790d77bc69aeec43ef50bd49be586668f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 18, 11, 43, 19, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-18 11:43:19 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/123851_tests-3cecd687-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51443?repo=metabase/metabase&commitHash=3cecd68790d77bc69aeec43ef50bd49be586668f&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51443?repo=metabase/metabase&commitHash=3cecd68790d77bc69aeec43ef50bd49be586668f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/282-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51443?repo=metabase/metabase&commitHash=3cecd68790d77bc69aeec43ef50bd49be586668f&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51443?repo=metabase/metabase&commitHash=3cecd68790d77bc69aeec43ef50bd49be586668f&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>metric-test</code> | Connection to Hive database was refused. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51443?repo=metabase/metabase&commitHash=3cecd68790d77bc69aeec43ef50bd49be586668f&utm_source=gh-comment&runConclusion=FAILURE&runId=768f70e3-c80a-5eb8-b94b-32c464fbfe55) |
| <code>page-test-2</code> | Connection to Hive database was refused. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51443?repo=metabase/metabase&commitHash=3cecd68790d77bc69aeec43ef50bd49be586668f&utm_source=gh-comment&runConclusion=FAILURE&runId=70bcfab3-dc6b-5160-b24a-9e098c742f1e) |
| <code>join-against-card-source-query-test</code> | Connection to the database was refused, preventing the query from executing. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51443?repo=metabase/metabase&commitHash=3cecd68790d77bc69aeec43ef50bd49be586668f&utm_source=gh-comment&runConclusion=FAILURE&runId=f61ce8d8-bf52-53b2-a91e-e31a1dce32a1) |
| <code>offset-expression-inside-other-expression-test</code> | Connection to Hive database was refused. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51443?repo=metabase/metabase&commitHash=3cecd68790d77bc69aeec43ef50bd49be586668f&utm_source=gh-comment&runConclusion=FAILURE&runId=0ff26f76-a829-550b-9e50-ef7eb7c16624) |

[... and 278 more](https://app.trunk.io/metabase/flaky-tests/pr/51443?repo=metabase/metabase&commitHash=3cecd68790d77bc69aeec43ef50bd49be586668f&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51443?repo=metabase/metabase&commitHash=3cecd68790d77bc69aeec43ef50bd49be586668f&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2747324549,pull_request,closed,,"docs - fix typo in ""How to find a known bug or limitation""",Fixed a small typo,abdhabli,2024-12-18 09:47:48+00:00,['abdhabli'],2024-12-19 12:22:35+00:00,2024-12-18 12:37:15+00:00,https://github.com/metabase/metabase/pull/51440,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2747180372,pull_request,closed,,[Notification] use malli registry,"following the new trend where all malli schemas are resisted using registry, it's nice for REPL development bc we can update the schema without updating the functions that use it",qnkhuat,2024-12-18 08:47:29+00:00,['qnkhuat'],2024-12-23 05:13:41+00:00,2024-12-23 03:43:35+00:00,https://github.com/metabase/metabase/pull/51439,"[('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2550768187, 'issue_id': 2747180372, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/125555_tests-ce03eefd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51439?repo=metabase/metabase&commitHash=ce03eefd8debf0968ab81d011c926f1d51f78ce8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/571-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51439?repo=metabase/metabase&commitHash=ce03eefd8debf0968ab81d011c926f1d51f78ce8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51439?repo=metabase/metabase&commitHash=ce03eefd8debf0968ab81d011c926f1d51f78ce8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51439?repo=metabase/metabase&commitHash=ce03eefd8debf0968ab81d011c926f1d51f78ce8&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>multiple-email-recipients-test</code> | The schema validation failed due to an invalid schema. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51439?repo=metabase/metabase&commitHash=ce03eefd8debf0968ab81d011c926f1d51f78ce8&utm_source=gh-comment&runConclusion=FAILURE&runId=bd87a43c-7576-54ec-bd8c-f3fc675a2b76) |\n| <code>send-notification-by-id-api-test</code> | The schema is invalid due to an error in the Malli schema. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51439?repo=metabase/metabase&commitHash=ce03eefd8debf0968ab81d011c926f1d51f78ce8&utm_source=gh-comment&runConclusion=FAILURE&runId=1637723f-864c-53ad-930d-15e923800e80) |\n| <code>non-user-email-test</code> | The schema validation failed due to an invalid schema. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51439?repo=metabase/metabase&commitHash=ce03eefd8debf0968ab81d011c926f1d51f78ce8&utm_source=gh-comment&runConclusion=FAILURE&runId=cfc068c5-6071-5a38-85bb-e047be9e341c) |\n| <code>create-simple-card-notification-test</code> | The schema is invalid. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51439?repo=metabase/metabase&commitHash=ce03eefd8debf0968ab81d011c926f1d51f78ce8&utm_source=gh-comment&runConclusion=FAILURE&runId=ae3f0e4c-9b58-5325-b6bf-f8ddd26d2d15) |\n\n[... and 567 more](https://app.trunk.io/metabase/flaky-tests/pr/51439?repo=metabase/metabase&commitHash=ce03eefd8debf0968ab81d011c926f1d51f78ce8&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51439?repo=metabase/metabase&commitHash=ce03eefd8debf0968ab81d011c926f1d51f78ce8&utm_source=gh-comment&runConclusion=FAILURE&runId=8469fc1a-8290-5a51-99cf-113adbddb0b1) |\n| <code>fks-are-indexed-test</code> | The index on notification\\_card.card\\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51439?repo=metabase/metabase&commitHash=ce03eefd8debf0968ab81d011c926f1d51f78ce8&utm_source=gh-comment&runConclusion=FAILURE&runId=7529d0a1-ab69-565e-a7a9-52c20f06fee2) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51439?repo=metabase/metabase&commitHash=ce03eefd8debf0968ab81d011c926f1d51f78ce8&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 18, 9, 12, 2, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-18 09:12:02 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/125555_tests-ce03eefd-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51439?repo=metabase/metabase&commitHash=ce03eefd8debf0968ab81d011c926f1d51f78ce8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/571-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51439?repo=metabase/metabase&commitHash=ce03eefd8debf0968ab81d011c926f1d51f78ce8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51439?repo=metabase/metabase&commitHash=ce03eefd8debf0968ab81d011c926f1d51f78ce8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51439?repo=metabase/metabase&commitHash=ce03eefd8debf0968ab81d011c926f1d51f78ce8&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>multiple-email-recipients-test</code> | The schema validation failed due to an invalid schema. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51439?repo=metabase/metabase&commitHash=ce03eefd8debf0968ab81d011c926f1d51f78ce8&utm_source=gh-comment&runConclusion=FAILURE&runId=bd87a43c-7576-54ec-bd8c-f3fc675a2b76) |
| <code>send-notification-by-id-api-test</code> | The schema is invalid due to an error in the Malli schema. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51439?repo=metabase/metabase&commitHash=ce03eefd8debf0968ab81d011c926f1d51f78ce8&utm_source=gh-comment&runConclusion=FAILURE&runId=1637723f-864c-53ad-930d-15e923800e80) |
| <code>non-user-email-test</code> | The schema validation failed due to an invalid schema. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51439?repo=metabase/metabase&commitHash=ce03eefd8debf0968ab81d011c926f1d51f78ce8&utm_source=gh-comment&runConclusion=FAILURE&runId=cfc068c5-6071-5a38-85bb-e047be9e341c) |
| <code>create-simple-card-notification-test</code> | The schema is invalid. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51439?repo=metabase/metabase&commitHash=ce03eefd8debf0968ab81d011c926f1d51f78ce8&utm_source=gh-comment&runConclusion=FAILURE&runId=ae3f0e4c-9b58-5325-b6bf-f8ddd26d2d15) |

[... and 567 more](https://app.trunk.io/metabase/flaky-tests/pr/51439?repo=metabase/metabase&commitHash=ce03eefd8debf0968ab81d011c926f1d51f78ce8&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51439?repo=metabase/metabase&commitHash=ce03eefd8debf0968ab81d011c926f1d51f78ce8&utm_source=gh-comment&runConclusion=FAILURE&runId=8469fc1a-8290-5a51-99cf-113adbddb0b1) |
| <code>fks-are-indexed-test</code> | The index on notification\_card.card\_id is missing or not included in the excluded-fks set, causing a query to fail. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51439?repo=metabase/metabase&commitHash=ce03eefd8debf0968ab81d011c926f1d51f78ce8&utm_source=gh-comment&runConclusion=FAILURE&runId=7529d0a1-ab69-565e-a7a9-52c20f06fee2) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51439?repo=metabase/metabase&commitHash=ce03eefd8debf0968ab81d011c926f1d51f78ce8&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2747104950,pull_request,closed,,tests(jest): add ES module is-absolute-url to the transform ignore,"### Description

added `is-absolute-url` to the transform ignore patterns as it's a ES module. 

caused by https://github.com/metabase/metabase/commit/e1a1e731281663ff2f4595513f7c98dfb6dc47d1#diff-51e4f558fae534656963876761c95b83b6ef5da5103c4adef6768219ed76c2deL14721-L14726

*This change needs to be manually included to https://github.com/metabase/metabase/pull/51429*


### Before that change

<img width=""804"" alt=""image"" src=""https://github.com/user-attachments/assets/c3caed71-0e5f-4844-8684-e00c1246bb47"" />


### After

<img width=""466"" alt=""image"" src=""https://github.com/user-attachments/assets/d52baa06-8e20-4e4a-85d6-4f8b0f457a31"" />
",uladzimirdev,2024-12-18 08:13:31+00:00,['uladzimirdev'],2025-01-27 22:13:07+00:00,2024-12-18 08:49:30+00:00,https://github.com/metabase/metabase/pull/51438,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2550769241, 'issue_id': 2747104950, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/9551_tests-555d517f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51438?repo=metabase/metabase&commitHash=555d517f4e91f8b8f5c0f7cd63407344eec345d4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51438?repo=metabase/metabase&commitHash=555d517f4e91f8b8f5c0f7cd63407344eec345d4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51438?repo=metabase/metabase&commitHash=555d517f4e91f8b8f5c0f7cd63407344eec345d4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51438?repo=metabase/metabase&commitHash=555d517f4e91f8b8f5c0f7cd63407344eec345d4&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51438?repo=metabase/metabase&commitHash=555d517f4e91f8b8f5c0f7cd63407344eec345d4&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 18, 9, 12, 36, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-18 09:12:36 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/9551_tests-555d517f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51438?repo=metabase/metabase&commitHash=555d517f4e91f8b8f5c0f7cd63407344eec345d4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51438?repo=metabase/metabase&commitHash=555d517f4e91f8b8f5c0f7cd63407344eec345d4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51438?repo=metabase/metabase&commitHash=555d517f4e91f8b8f5c0f7cd63407344eec345d4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51438?repo=metabase/metabase&commitHash=555d517f4e91f8b8f5c0f7cd63407344eec345d4&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51438?repo=metabase/metabase&commitHash=555d517f4e91f8b8f5c0f7cd63407344eec345d4&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2746909153,pull_request,closed,,Remove ACE version of the Native editor,Removes all ACE-related code for the Native Editor.,romeovs,2024-12-18 06:28:57+00:00,['romeovs'],2024-12-19 22:29:24+00:00,2024-12-19 22:29:22+00:00,https://github.com/metabase/metabase/pull/51437,"[('.Team/Querying', '')]","[{'comment_id': 2550527834, 'issue_id': 2746909153, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51776_tests-bad215e4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51437?repo=metabase/metabase&commitHash=bad215e415acd249f6878ef505d6691fe1b14af9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51437?repo=metabase/metabase&commitHash=bad215e415acd249f6878ef505d6691fe1b14af9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51437?repo=metabase/metabase&commitHash=bad215e415acd249f6878ef505d6691fe1b14af9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51437?repo=metabase/metabase&commitHash=bad215e415acd249f6878ef505d6691fe1b14af9&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 34330 should only call the autocompleter with all text typed (metabase\\#34330)</code> | The expected value 'USER' was not equal to the actual value 'U'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51437?repo=metabase/metabase&commitHash=bad215e415acd249f6878ef505d6691fe1b14af9&utm_source=gh-comment&runConclusion=FAILURE&runId=a5ddf423-b8bb-5df2-9cec-9584ca0bca78) |\n| <code>issue 34330 should only call the autocompleter with all text typed (metabase\\#34330)</code> | The expected value 'USER' was not equal to the actual value 'U'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51437?repo=metabase/metabase&commitHash=bad215e415acd249f6878ef505d6691fe1b14af9&utm_source=gh-comment&runConclusion=FAILURE&runId=d364a336-40d1-5bca-9919-8ed2ecf483f0) |\n| <code>issue 34330 should only call the autocompleter with all text typed (metabase\\#34330)</code> | The expected value 'USER' was not equal to the actual value 'U'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51437?repo=metabase/metabase&commitHash=bad215e415acd249f6878ef505d6691fe1b14af9&utm_source=gh-comment&runConclusion=FAILURE&runId=f1ea213f-76b3-591f-9f74-b38cbb68a2cf) |\n| <code>issue 34330 should only call the autocompleter with all text typed (metabase\\#34330)</code> | Expected 'USE' to be 'USER' in a comparison. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51437?repo=metabase/metabase&commitHash=bad215e415acd249f6878ef505d6691fe1b14af9&utm_source=gh-comment&runConclusion=FAILURE&runId=8976a805-3ec4-51bf-a740-617881cb0220) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51437?repo=metabase/metabase&commitHash=bad215e415acd249f6878ef505d6691fe1b14af9&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 18, 7, 9, 55, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-18 07:09:55 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51776_tests-bad215e4-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51437?repo=metabase/metabase&commitHash=bad215e415acd249f6878ef505d6691fe1b14af9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51437?repo=metabase/metabase&commitHash=bad215e415acd249f6878ef505d6691fe1b14af9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/4-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51437?repo=metabase/metabase&commitHash=bad215e415acd249f6878ef505d6691fe1b14af9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51437?repo=metabase/metabase&commitHash=bad215e415acd249f6878ef505d6691fe1b14af9&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 34330 should only call the autocompleter with all text typed (metabase\#34330)</code> | The expected value 'USER' was not equal to the actual value 'U'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51437?repo=metabase/metabase&commitHash=bad215e415acd249f6878ef505d6691fe1b14af9&utm_source=gh-comment&runConclusion=FAILURE&runId=a5ddf423-b8bb-5df2-9cec-9584ca0bca78) |
| <code>issue 34330 should only call the autocompleter with all text typed (metabase\#34330)</code> | The expected value 'USER' was not equal to the actual value 'U'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51437?repo=metabase/metabase&commitHash=bad215e415acd249f6878ef505d6691fe1b14af9&utm_source=gh-comment&runConclusion=FAILURE&runId=d364a336-40d1-5bca-9919-8ed2ecf483f0) |
| <code>issue 34330 should only call the autocompleter with all text typed (metabase\#34330)</code> | The expected value 'USER' was not equal to the actual value 'U'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51437?repo=metabase/metabase&commitHash=bad215e415acd249f6878ef505d6691fe1b14af9&utm_source=gh-comment&runConclusion=FAILURE&runId=f1ea213f-76b3-591f-9f74-b38cbb68a2cf) |
| <code>issue 34330 should only call the autocompleter with all text typed (metabase\#34330)</code> | Expected 'USE' to be 'USER' in a comparison. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51437?repo=metabase/metabase&commitHash=bad215e415acd249f6878ef505d6691fe1b14af9&utm_source=gh-comment&runConclusion=FAILURE&runId=8976a805-3ec4-51bf-a740-617881cb0220) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51437?repo=metabase/metabase&commitHash=bad215e415acd249f6878ef505d6691fe1b14af9&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2746631562,pull_request,open,,Google Sheets Integration - Feature Branch,"## Overview

This PR establishes the foundational flow and backend endpoints for **Google Sheets Integration**. The focus of **Milestone 1** is to get the core functionality working, allowing users to connect their Google account, authenticate securely, and set up a Google Drive folder for syncing Google Sheets with the app.

This is gated by the `show-google-sheets-integration` setting, which requires being hosted on cloud, having an attached datawarehouse, and having the etl connections feature. This way we ensure we can test and iterate on the feature safely.

---

## Flow Highlights

1. **Feature Toggle**  
   The ""Connect Google Sheets"" button is shown only when `show-google-sheets-integration` is enabled.

2. **OAuth Authentication**  
   - Users initiate the OAuth flow by clicking the button.  
   - A temporary authentication URL is generated by HM and opened in a new tab for Google OAuth login.

3. **Polling for Status**  
   - The frontend continuously polls the app to check for authentication completion.

4. **Folder Setup**  
   - Users paste a Google Drive folder URL to specify the sync location.
   - The URL is validated, saved, and syncing is initiated upon success.

5. **Sync Confirmation**  
   - The app confirms the folder setup and begins syncing Google Sheets data into the user's attached datawarehouse.

---

## Key Endpoints

### **OAuth Management**

- **POST `/api/gsheets/oauth`**  
  Generates a temporary URL for OAuth authentication.

- **GET `/api/gsheets/oauth`**  
  Checks if OAuth setup is complete.

### **Folder Setup**

- **POST `/api/gsheets/folder`**  
  Registers the Google Drive folder used for syncing.

### **Interesting Settings**

- **GET `/api/setting/show-google-sheets-integration`**  
  Whether or not we even show the option to setup a Google Sheets integration.

- **GET `/api/setting/gsheets`**  
  Gives information about where we are in the OAuth -> Folder setup flow.
  - `nil`: Integration not enabled.
  - `:no-auth`: Integration enabled but not authenticated.
  - `:auth-complete`: Authenticated, no folder connected.
  - `:folder-saved`: Fully set up with a synced folder.

---

## Focus of Milestone 1

- **Core Functionality**:  
  The goal is to ensure all essential components of the integration are operational: OAuth authentication, folder setup, and syncing initiation.

- **Basic Validation**:  
  Minimal validation is implemented to ensure the folder URL is correctly formatted and saved.

---

## Looking Ahead to Milestone 2

Milestone 2 will focus on adding **fit and finish** to the integration, including:

- UI improvements to provide real-time validation and status updates.  
- Enhanced error handling.  
- Optimizations for a smoother user experience.

---

## Why This Matters üí°

With this milestone, we‚Äôre delivering the first functional version of Google Sheets integration. This feature enables seamless connection and syncing, paving the way for future enhancements in usability and reliability.


--- 

## Detailed Steps Milestone 1 flow in Metabase BE+FE:

FE - Metabase Frontend
BE - Metabase Backend
HM - Harbormaster

1. User visits Uploads Settings, and FE checks `show-google-sheets-integration` setting. 
  1.1 if `show-google-sheets-integration` is true, show ""Connect Google Sheets"" button
2. User clicks ""Connect Google Sheets"" button
3. FE calls `POST /api/ee/gsheets/oauth` to get temp-oauth-signin-url
4. MB calls HM to get temp-oauth-signin-url
5. MB returns the temp-oauth-signin-url to FE
6. FE opens a new tab with the temp oauth url
7. while user visits temp-oauth-signin-url and does oauth signin
  7.1 FE begins polling `GET /api/ee/gsheets/oauth`
  7.2 for each of these requests, MB asks HM if the oauth is setup
8. User completes oauth signin
9. FE gets `{:oauth_setup true}` response when polling `GET /api/ee/gsheets/oauth`
10. FE shows modal to accept google drive folder link
11. User pastes in a google drive folder url, and hits submit
12. FE calls `POST /api/gsheets/folder` with the google-drive-folder-url
13. MB forwards the google-drive-folder-url to HM, which sets up the google sheets sync[1] + responds OK
14.  on OK response, MB records the folder-url, and user-id and sets the gsheets status to ""folder-saved"" 
15. User sees a message that the folder is connected
16. HM hits a route on MB to start syncing the attached data warehouse, which syncs their tables.
17. The user can browse their google sheets data :tada:

[1] - this is an involved process that HM is handling

",escherize,2024-12-18 03:08:17+00:00,"['escherize', 'iethree']",2025-02-07 19:20:06+00:00,,https://github.com/metabase/metabase/pull/51436,"[('do not merge', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2643537623, 'issue_id': 2746631562, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/95303_tests-efe424c8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51436?repo=metabase/metabase&commitHash=efe424c83906d17c5535f2018f94621e2e647527&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/36-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51436?repo=metabase/metabase&commitHash=efe424c83906d17c5535f2018f94621e2e647527&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51436?repo=metabase/metabase&commitHash=efe424c83906d17c5535f2018f94621e2e647527&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51436?repo=metabase/metabase&commitHash=efe424c83906d17c5535f2018f94621e2e647527&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > auth > password should reset password via email</code> | The test timed out while trying to find an element with the text ""Send password reset email"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51436?repo=metabase/metabase&commitHash=efe424c83906d17c5535f2018f94621e2e647527&utm_source=gh-comment&runConclusion=FAILURE&runId=a9dd73aa-fc75-557a-84bc-d17eb3b49789) |\n| <code>better onboarding via sidebar Upload CSV for DWH Cannot upload invalid.csv to ""Our analytics"" using DWH</code> | The test timed out while trying to find an element with the text ""Upload CSV"" in the UI. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51436?repo=metabase/metabase&commitHash=efe424c83906d17c5535f2018f94621e2e647527&utm_source=gh-comment&runConclusion=FAILURE&runId=af29e746-761c-5c27-91ac-af554eda77ec) |\n| <code>better onboarding via sidebar Upload CSV for DWH Can upload dog\\_breeds.csv to ""Our analytics"" using DWH</code> | The test timed out while trying to find an element with the text ""Upload CSV"" in the UI. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51436?repo=metabase/metabase&commitHash=efe424c83906d17c5535f2018f94621e2e647527&utm_source=gh-comment&runConclusion=FAILURE&runId=ade5905b-ccaf-5679-8e0a-07f42f719c06) |\n| <code>better onboarding via sidebar Upload CSV for DWH Can upload star\\_wars\\_characters.csv to ""Our analytics"" using DWH</code> | The test timed out while trying to find an element with the text ""Upload CSV"" in the UI. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51436?repo=metabase/metabase&commitHash=efe424c83906d17c5535f2018f94621e2e647527&utm_source=gh-comment&runConclusion=FAILURE&runId=b121aafe-16bb-5802-ae5f-0ca461ee8777) |\n\n[... and 32 more](https://app.trunk.io/metabase/flaky-tests/pr/51436?repo=metabase/metabase&commitHash=efe424c83906d17c5535f2018f94621e2e647527&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > dashboard warn before leave should warn a user before leaving after adding, removed, moving, or duplicating a tab</code> | Unable to find an element with the text ""You\'re editing this dashboard"" within 4000ms, possibly due to text being broken up by multiple elements. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51436?repo=metabase/metabase&commitHash=efe424c83906d17c5535f2018f94621e2e647527&utm_source=gh-comment&runConclusion=FAILURE&runId=c834f686-4b83-56e0-98d8-0719b25c7892) |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:326:postgresrefingerprints up to a limitexpected: (< attempted (+ @\\#\'sync.fingerprint/max-refingerprint-field... | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51436?repo=metabase/metabase&commitHash=efe424c83906d17c5535f2018f94621e2e647527&utm_source=gh-comment&runConclusion=FAILURE&runId=410a6757-17be-5adc-94f1-93f23ff7f127) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51436?repo=metabase/metabase&commitHash=efe424c83906d17c5535f2018f94621e2e647527&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2025, 2, 7, 17, 20, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2643646164, 'issue_id': 2746631562, 'author': 'github-actions[bot]', 'body': '## e2e tests failed on `efe424c83906d17c5535f2018f94621e2e647527-1`\n\n  [e2e test run](https://github.com/metabase/metabase/actions/runs/13205270616?pr=51436)\n\n  File | Test Name\n  ---- | ---------\n  `dashboard.cy.spec.js` | (_flaky_) scenarios > dashboard > warn before leave > should warn a user before leaving after adding, removed, moving, or duplicating a tab\n`click-behavior.cy.spec.js` | scenarios > dashboard > dashboard cards > click behavior > line chart > should fall back to the first tab after target dashboard tab has been removed and there is only 1 tab left\n`user_settings.cy.spec.js` | user > settings > Should show correct translations when a user logs in with a locale that is different from the site locale\n`setup.cy.spec.ts` | scenarios > setup > should send snowplow events\n`sso.cy.spec.js` | scenarios > auth > signin > SSO > OSS > should pass `redirect` search params from Google button screen to email/password screen (metabase#16216)\n`jwt.cy.spec.js` | scenarios > admin > settings > SSO > JWT > should allow to save and enable jwt\n`permissions-reproductions.cy.spec.ts` | issue 39221 > ADMIN: updating user-specific setting should not result in fetching all site settings (metabase#39221)\n`add-initial-data.cy.spec.ts` | better onboarding via sidebar > Upload CSV for DWH > Can upload dog_breeds.csv to ""Our analytics"" using DWH\n`permissions-reproductions.cy.spec.ts` | issue 39221 > NORMAL: updating user-specific setting should not result in fetching all site settings (metabase#39221)\n`signin.cy.spec.js` | scenarios > auth > signin > should redirect to an unsaved question after login\nand more... | and more...', 'created_at': datetime.datetime(2025, 2, 7, 18, 4, 43, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-02-07 17:20:13 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/95303_tests-efe424c8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51436?repo=metabase/metabase&commitHash=efe424c83906d17c5535f2018f94621e2e647527&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/36-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51436?repo=metabase/metabase&commitHash=efe424c83906d17c5535f2018f94621e2e647527&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51436?repo=metabase/metabase&commitHash=efe424c83906d17c5535f2018f94621e2e647527&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51436?repo=metabase/metabase&commitHash=efe424c83906d17c5535f2018f94621e2e647527&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > auth > password should reset password via email</code> | The test timed out while trying to find an element with the text ""Send password reset email"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51436?repo=metabase/metabase&commitHash=efe424c83906d17c5535f2018f94621e2e647527&utm_source=gh-comment&runConclusion=FAILURE&runId=a9dd73aa-fc75-557a-84bc-d17eb3b49789) |
| <code>better onboarding via sidebar Upload CSV for DWH Cannot upload invalid.csv to ""Our analytics"" using DWH</code> | The test timed out while trying to find an element with the text ""Upload CSV"" in the UI. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51436?repo=metabase/metabase&commitHash=efe424c83906d17c5535f2018f94621e2e647527&utm_source=gh-comment&runConclusion=FAILURE&runId=af29e746-761c-5c27-91ac-af554eda77ec) |
| <code>better onboarding via sidebar Upload CSV for DWH Can upload dog\_breeds.csv to ""Our analytics"" using DWH</code> | The test timed out while trying to find an element with the text ""Upload CSV"" in the UI. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51436?repo=metabase/metabase&commitHash=efe424c83906d17c5535f2018f94621e2e647527&utm_source=gh-comment&runConclusion=FAILURE&runId=ade5905b-ccaf-5679-8e0a-07f42f719c06) |
| <code>better onboarding via sidebar Upload CSV for DWH Can upload star\_wars\_characters.csv to ""Our analytics"" using DWH</code> | The test timed out while trying to find an element with the text ""Upload CSV"" in the UI. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51436?repo=metabase/metabase&commitHash=efe424c83906d17c5535f2018f94621e2e647527&utm_source=gh-comment&runConclusion=FAILURE&runId=b121aafe-16bb-5802-ae5f-0ca461ee8777) |

[... and 32 more](https://app.trunk.io/metabase/flaky-tests/pr/51436?repo=metabase/metabase&commitHash=efe424c83906d17c5535f2018f94621e2e647527&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > dashboard warn before leave should warn a user before leaving after adding, removed, moving, or duplicating a tab</code> | Unable to find an element with the text ""You're editing this dashboard"" within 4000ms, possibly due to text being broken up by multiple elements. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51436?repo=metabase/metabase&commitHash=efe424c83906d17c5535f2018f94621e2e647527&utm_source=gh-comment&runConclusion=FAILURE&runId=c834f686-4b83-56e0-98d8-0719b25c7892) |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:326:postgresrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerprint-field... | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51436?repo=metabase/metabase&commitHash=efe424c83906d17c5535f2018f94621e2e647527&utm_source=gh-comment&runConclusion=FAILURE&runId=410a6757-17be-5adc-94f1-93f23ff7f127) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51436?repo=metabase/metabase&commitHash=efe424c83906d17c5535f2018f94621e2e647527&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2025-02-07 18:04:43 UTC): ## e2e tests failed on `efe424c83906d17c5535f2018f94621e2e647527-1`

  [e2e test run](https://github.com/metabase/metabase/actions/runs/13205270616?pr=51436)

  File | Test Name
  ---- | ---------
  `dashboard.cy.spec.js` | (_flaky_) scenarios > dashboard > warn before leave > should warn a user before leaving after adding, removed, moving, or duplicating a tab
`click-behavior.cy.spec.js` | scenarios > dashboard > dashboard cards > click behavior > line chart > should fall back to the first tab after target dashboard tab has been removed and there is only 1 tab left
`user_settings.cy.spec.js` | user > settings > Should show correct translations when a user logs in with a locale that is different from the site locale
`setup.cy.spec.ts` | scenarios > setup > should send snowplow events
`sso.cy.spec.js` | scenarios > auth > signin > SSO > OSS > should pass `redirect` search params from Google button screen to email/password screen (metabase#16216)
`jwt.cy.spec.js` | scenarios > admin > settings > SSO > JWT > should allow to save and enable jwt
`permissions-reproductions.cy.spec.ts` | issue 39221 > ADMIN: updating user-specific setting should not result in fetching all site settings (metabase#39221)
`add-initial-data.cy.spec.ts` | better onboarding via sidebar > Upload CSV for DWH > Can upload dog_breeds.csv to ""Our analytics"" using DWH
`permissions-reproductions.cy.spec.ts` | issue 39221 > NORMAL: updating user-specific setting should not result in fetching all site settings (metabase#39221)
`signin.cy.spec.js` | scenarios > auth > signin > should redirect to an unsaved question after login
and more... | and more...

"
2746270780,pull_request,closed,,[Clean-up] Allow collection clean up banner to be dismissible,"Milestone 1 of #51419

### Description

Adds UI and setting to dismiss the clean up banner when viewing a collection with stale content in it. Dismissing the banner will prevent all banners for all collections from appearing.

Also if the user makes use of the clean up modal, we'll globally dismiss the banner as the user knows how to use the feature.

Aside: Also fixes a stale data bug that would cause the banner to appear on the examples collection when coming from a collection with stale items. Currently this would only affect this single collection, so impact of issue is small.

### How to verify

- View a collection with stale items
- Dismiss the banner
- See the banner is dismissed, persists on reload, and is dismissed for other collections with stale content

### Demo

Globally dismiss banner from the banner (video)
https://github.com/user-attachments/assets/58ebd001-6b2d-4e19-a1ec-d0b475323ac2

Globally dismiss banner by using the feature (video)
https://github.com/user-attachments/assets/23ec5f1d-9895-49ff-860d-e48e112ffba8

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",sloansparger,2024-12-17 22:49:26+00:00,['sloansparger'],2024-12-19 20:44:44+00:00,2024-12-19 20:03:04+00:00,https://github.com/metabase/metabase/pull/51434,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2549856646, 'issue_id': 2746270780, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/274211_tests-983465a0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=983465a0d60d7701aeb24c3019e9d219e6fabb76&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=983465a0d60d7701aeb24c3019e9d219e6fabb76&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=983465a0d60d7701aeb24c3019e9d219e6fabb76&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=983465a0d60d7701aeb24c3019e9d219e6fabb76&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error when running selected text</code> | The test timed out waiting for the expected content \'Table ""ORD"" not found\' in the response. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=983465a0d60d7701aeb24c3019e9d219e6fabb76&utm_source=gh-comment&runConclusion=FAILURE&runId=aa689d1e-b3db-5cf4-a2ca-bd0e174f1adf) |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:329:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\\#\'sync.fingerprint/max-refingerprint-field... | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=983465a0d60d7701aeb24c3019e9d219e6fabb76&utm_source=gh-comment&runConclusion=FAILURE&runId=b873e42e-e9a8-55de-b084-05b088131f25) |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they were missing. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=983465a0d60d7701aeb24c3019e9d219e6fabb76&utm_source=gh-comment&runConclusion=FAILURE&runId=1d528ac3-a99e-5f9f-9771-c7ad343f1970) |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, but expected stage numbers. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=983465a0d60d7701aeb24c3019e9d219e6fabb76&utm_source=gh-comment&runConclusion=FAILURE&runId=177f3682-3df6-5acf-a75c-0ba6eb6bfe0e) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=983465a0d60d7701aeb24c3019e9d219e6fabb76&utm_source=gh-comment&runConclusion=FAILURE&runId=a71fec1f-c7c8-589e-9ef3-6f8b15f79e37) |\n| <code>scenarios > visualizations > legend should toggle series visibility in the query builder</code> | The test timed out waiting for an element with data-testid ""echarts-tooltip"" to appear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=983465a0d60d7701aeb24c3019e9d219e6fabb76&utm_source=gh-comment&runConclusion=FAILURE&runId=970edd8c-ba5b-5f40-917f-f919d870c768) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=983465a0d60d7701aeb24c3019e9d219e6fabb76&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 17, 23, 14, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2549856648, 'issue_id': 2746270780, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/27329_tests-425779ae-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=425779aeaa4dfe3af2134c13666af2db548fb8ab&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=425779aeaa4dfe3af2134c13666af2db548fb8ab&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=425779aeaa4dfe3af2134c13666af2db548fb8ab&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=425779aeaa4dfe3af2134c13666af2db548fb8ab&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>public-queries-are-counted-test</code> | Timeout after 300ms while fetching a public Card's query count. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=425779aeaa4dfe3af2134c13666af2db548fb8ab&utm_source=gh-comment&runConclusion=FAILURE&runId=8be37a6c-4b04-5413-9d71-8f60ef1cc313) |\n| <code>update-field-test</code> | Transaction was aborted, and commands are ignored until the end of the transaction block due to user request. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=425779aeaa4dfe3af2134c13666af2db548fb8ab&utm_source=gh-comment&runConclusion=FAILURE&runId=233570c8-66ee-5ed1-9cd2-36c389f16cc0) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=425779aeaa4dfe3af2134c13666af2db548fb8ab&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 17, 23, 14, 39, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-17 23:14:39 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/274211_tests-983465a0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=983465a0d60d7701aeb24c3019e9d219e6fabb76&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=983465a0d60d7701aeb24c3019e9d219e6fabb76&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=983465a0d60d7701aeb24c3019e9d219e6fabb76&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=983465a0d60d7701aeb24c3019e9d219e6fabb76&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error when running selected text</code> | The test timed out waiting for the expected content 'Table ""ORD"" not found' in the response. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=983465a0d60d7701aeb24c3019e9d219e6fabb76&utm_source=gh-comment&runConclusion=FAILURE&runId=aa689d1e-b3db-5cf4-a2ca-bd0e174f1adf) |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:329:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerprint-field... | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=983465a0d60d7701aeb24c3019e9d219e6fabb76&utm_source=gh-comment&runConclusion=FAILURE&runId=b873e42e-e9a8-55de-b084-05b088131f25) |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they were missing. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=983465a0d60d7701aeb24c3019e9d219e6fabb76&utm_source=gh-comment&runConclusion=FAILURE&runId=1d528ac3-a99e-5f9f-9771-c7ad343f1970) |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, but expected stage numbers. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=983465a0d60d7701aeb24c3019e9d219e6fabb76&utm_source=gh-comment&runConclusion=FAILURE&runId=177f3682-3df6-5acf-a75c-0ba6eb6bfe0e) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=983465a0d60d7701aeb24c3019e9d219e6fabb76&utm_source=gh-comment&runConclusion=FAILURE&runId=a71fec1f-c7c8-589e-9ef3-6f8b15f79e37) |
| <code>scenarios > visualizations > legend should toggle series visibility in the query builder</code> | The test timed out waiting for an element with data-testid ""echarts-tooltip"" to appear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=983465a0d60d7701aeb24c3019e9d219e6fabb76&utm_source=gh-comment&runConclusion=FAILURE&runId=970edd8c-ba5b-5f40-917f-f919d870c768) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=983465a0d60d7701aeb24c3019e9d219e6fabb76&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-12-17 23:14:39 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/27329_tests-425779ae-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=425779aeaa4dfe3af2134c13666af2db548fb8ab&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=425779aeaa4dfe3af2134c13666af2db548fb8ab&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=425779aeaa4dfe3af2134c13666af2db548fb8ab&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=425779aeaa4dfe3af2134c13666af2db548fb8ab&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>public-queries-are-counted-test</code> | Timeout after 300ms while fetching a public Card's query count. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=425779aeaa4dfe3af2134c13666af2db548fb8ab&utm_source=gh-comment&runConclusion=FAILURE&runId=8be37a6c-4b04-5413-9d71-8f60ef1cc313) |
| <code>update-field-test</code> | Transaction was aborted, and commands are ignored until the end of the transaction block due to user request. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=425779aeaa4dfe3af2134c13666af2db548fb8ab&utm_source=gh-comment&runConclusion=FAILURE&runId=233570c8-66ee-5ed1-9cd2-36c389f16cc0) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51434?repo=metabase/metabase&commitHash=425779aeaa4dfe3af2134c13666af2db548fb8ab&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2746199628,pull_request,closed,,Enable N-parallelism for e2e tests,"Closes ENG-9173

Let's make the number of parallel e2e jobs simply depend on a variable so we can ramp parallelism up or down at will.

To take this live we need to
- remove all e2e tests as required checks from master
- add [`e2e-tests-result`](https://github.com/metabase/metabase/actions/runs/12439282604/job/34733697430?pr=51433) as a required check for master",iethree,2024-12-17 22:11:51+00:00,['iethree'],2025-01-07 16:43:53+00:00,2025-01-03 15:23:14+00:00,https://github.com/metabase/metabase/pull/51433,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2550241730, 'issue_id': 2746199628, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3814_tests-e85f6a53-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51433?repo=metabase/metabase&commitHash=e85f6a537d779c7789d9ae0613212d2d96efde90&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51433?repo=metabase/metabase&commitHash=e85f6a537d779c7789d9ae0613212d2d96efde90&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51433?repo=metabase/metabase&commitHash=e85f6a537d779c7789d9ae0613212d2d96efde90&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51433?repo=metabase/metabase&commitHash=e85f6a537d779c7789d9ae0613212d2d96efde90&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51433?repo=metabase/metabase&commitHash=e85f6a537d779c7789d9ae0613212d2d96efde90&utm_source=gh-comment&runConclusion=FAILURE&runId=a3e2f843-21c3-5f88-a39e-bba0d19abf87) |\n| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\\#37726)</code> | The test timed out while trying to find an element with the text ""Product ‚Üí Category"" in the UI. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51433?repo=metabase/metabase&commitHash=e85f6a537d779c7789d9ae0613212d2d96efde90&utm_source=gh-comment&runConclusion=FAILURE&runId=81996758-d83a-500a-864c-8b281b185b32) |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text \'87-a-\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51433?repo=metabase/metabase&commitHash=e85f6a537d779c7789d9ae0613212d2d96efde90&utm_source=gh-comment&runConclusion=FAILURE&runId=b2115f38-66e0-526d-ac37-de0c5de78ef9) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51433?repo=metabase/metabase&commitHash=e85f6a537d779c7789d9ae0613212d2d96efde90&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 18, 3, 33, 9, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-18 03:33:09 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3814_tests-e85f6a53-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51433?repo=metabase/metabase&commitHash=e85f6a537d779c7789d9ae0613212d2d96efde90&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51433?repo=metabase/metabase&commitHash=e85f6a537d779c7789d9ae0613212d2d96efde90&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51433?repo=metabase/metabase&commitHash=e85f6a537d779c7789d9ae0613212d2d96efde90&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51433?repo=metabase/metabase&commitHash=e85f6a537d779c7789d9ae0613212d2d96efde90&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51433?repo=metabase/metabase&commitHash=e85f6a537d779c7789d9ae0613212d2d96efde90&utm_source=gh-comment&runConclusion=FAILURE&runId=a3e2f843-21c3-5f88-a39e-bba0d19abf87) |
| <code>issue 37726 should not result in an error when you add a column after resizing an existing one (\#37726)</code> | The test timed out while trying to find an element with the text ""Product ‚Üí Category"" in the UI. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51433?repo=metabase/metabase&commitHash=e85f6a537d779c7789d9ae0613212d2d96efde90&utm_source=gh-comment&runConclusion=FAILURE&runId=81996758-d83a-500a-864c-8b281b185b32) |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51433?repo=metabase/metabase&commitHash=e85f6a537d779c7789d9ae0613212d2d96efde90&utm_source=gh-comment&runConclusion=FAILURE&runId=b2115f38-66e0-526d-ac37-de0c5de78ef9) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51433?repo=metabase/metabase&commitHash=e85f6a537d779c7789d9ae0613212d2d96efde90&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2746192478,pull_request,closed,,Fix some e2e tests in custom-column and view-data,"This PR fixes some e2e tests that broke when #49442 merged

Running stress tests now. Will paste results as they come in:

### should allow to use `if` function

https://github.com/metabase/metabase/actions/runs/12394723764
![image](https://github.com/user-attachments/assets/2ab59518-5e47-4e75-9371-d0a4c0e0e1a3)

### should allow you to reorder and hide columns in the table header
https://github.com/metabase/metabase/actions/runs/12394798005
![image](https://github.com/user-attachments/assets/d12611ef-2f1b-4e1b-9fbd-54c388c11bfd)

### allows editing sandboxed access in the group focused view
https://github.com/metabase/metabase/actions/runs/12394835744
![image](https://github.com/user-attachments/assets/78cca0c5-9cf4-4b12-bb68-6dda1f69d6af)
",rafpaf,2024-12-17 22:08:41+00:00,['rafpaf'],2025-01-27 22:13:04+00:00,2024-12-18 14:52:03+00:00,https://github.com/metabase/metabase/pull/51431,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2549745363, 'issue_id': 2746192478, 'author': 'rafpaf', 'body': '* **#51431** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51431?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51431?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 12, 17, 22, 9, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2549811807, 'issue_id': 2746192478, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3410_tests-98d131d9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51431?repo=metabase/metabase&commitHash=98d131d91e3942f17f0c4f7570bed21e47870531&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51431?repo=metabase/metabase&commitHash=98d131d91e3942f17f0c4f7570bed21e47870531&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51431?repo=metabase/metabase&commitHash=98d131d91e3942f17f0c4f7570bed21e47870531&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51431?repo=metabase/metabase&commitHash=98d131d91e3942f17f0c4f7570bed21e47870531&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51431?repo=metabase/metabase&commitHash=98d131d91e3942f17f0c4f7570bed21e47870531&utm_source=gh-comment&runConclusion=FAILURE&runId=af851325-0ec4-53b0-9f27-46d4fe030e86) |\n| <code>scenarios > question > native displays an error when running selected text</code> | The test timed out waiting for the expected content \'Table ""ORD"" not found\' in the response. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51431?repo=metabase/metabase&commitHash=98d131d91e3942f17f0c4f7570bed21e47870531&utm_source=gh-comment&runConclusion=FAILURE&runId=ca8c0e73-a515-516d-88ef-656868eebca2) |\n| <code>issue 34330 should call the autocompleter when backspacing to a 1-character prefix(metabase\\#34330)</code> | The \\`cy.wait()\\` command timed out waiting for the first request to the route \'autocomplete\', but no request was made. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51431?repo=metabase/metabase&commitHash=98d131d91e3942f17f0c4f7570bed21e47870531&utm_source=gh-comment&runConclusion=FAILURE&runId=97773095-5883-5d85-9a74-5be7dd80d27b) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native should handle template tags</code> | The test timed out waiting for the expected content \'Showing 168 rows\' to appear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51431?repo=metabase/metabase&commitHash=98d131d91e3942f17f0c4f7570bed21e47870531&utm_source=gh-comment&runConclusion=FAILURE&runId=508bce12-6d04-5d9c-80f4-23995bfc3929) |\n| <code>scenarios > question > native should be able to add new columns after hiding some (metabase\\#15393)</code> | The test timed out waiting for the element with the class \'emotion-hvo6ii\' to contain the text \'/hidden/i\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51431?repo=metabase/metabase&commitHash=98d131d91e3942f17f0c4f7570bed21e47870531&utm_source=gh-comment&runConclusion=FAILURE&runId=d01756ae-54f5-5c67-940b-b5af9507dde9) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51431?repo=metabase/metabase&commitHash=98d131d91e3942f17f0c4f7570bed21e47870531&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 17, 22, 46, 58, tzinfo=datetime.timezone.utc)}]","rafpaf (Issue Creator) on (2024-12-17 22:09:01 UTC): * **#51431** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51431?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51431?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

trunk-io[bot] on (2024-12-17 22:46:58 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3410_tests-98d131d9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51431?repo=metabase/metabase&commitHash=98d131d91e3942f17f0c4f7570bed21e47870531&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51431?repo=metabase/metabase&commitHash=98d131d91e3942f17f0c4f7570bed21e47870531&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51431?repo=metabase/metabase&commitHash=98d131d91e3942f17f0c4f7570bed21e47870531&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51431?repo=metabase/metabase&commitHash=98d131d91e3942f17f0c4f7570bed21e47870531&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51431?repo=metabase/metabase&commitHash=98d131d91e3942f17f0c4f7570bed21e47870531&utm_source=gh-comment&runConclusion=FAILURE&runId=af851325-0ec4-53b0-9f27-46d4fe030e86) |
| <code>scenarios > question > native displays an error when running selected text</code> | The test timed out waiting for the expected content 'Table ""ORD"" not found' in the response. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51431?repo=metabase/metabase&commitHash=98d131d91e3942f17f0c4f7570bed21e47870531&utm_source=gh-comment&runConclusion=FAILURE&runId=ca8c0e73-a515-516d-88ef-656868eebca2) |
| <code>issue 34330 should call the autocompleter when backspacing to a 1-character prefix(metabase\#34330)</code> | The \`cy.wait()\` command timed out waiting for the first request to the route 'autocomplete', but no request was made. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51431?repo=metabase/metabase&commitHash=98d131d91e3942f17f0c4f7570bed21e47870531&utm_source=gh-comment&runConclusion=FAILURE&runId=97773095-5883-5d85-9a74-5be7dd80d27b) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native should handle template tags</code> | The test timed out waiting for the expected content 'Showing 168 rows' to appear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51431?repo=metabase/metabase&commitHash=98d131d91e3942f17f0c4f7570bed21e47870531&utm_source=gh-comment&runConclusion=FAILURE&runId=508bce12-6d04-5d9c-80f4-23995bfc3929) |
| <code>scenarios > question > native should be able to add new columns after hiding some (metabase\#15393)</code> | The test timed out waiting for the element with the class 'emotion-hvo6ii' to contain the text '/hidden/i'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51431?repo=metabase/metabase&commitHash=98d131d91e3942f17f0c4f7570bed21e47870531&utm_source=gh-comment&runConclusion=FAILURE&runId=d01756ae-54f5-5c67-940b-b5af9507dde9) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51431?repo=metabase/metabase&commitHash=98d131d91e3942f17f0c4f7570bed21e47870531&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2746177445,pull_request,closed,,chore: rework querying steps to css modules,"[Epic](https://github.com/metabase/metabase/issues/50983)

### Description

rework steps from querying folder to css modules",uladzimirdev,2024-12-17 22:01:52+00:00,['uladzimirdev'],2025-01-27 22:12:57+00:00,2024-12-19 20:25:07+00:00,https://github.com/metabase/metabase/pull/51430,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', ''), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2549809220, 'issue_id': 2746177445, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/12964_tests-a432bb2a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51430?repo=metabase/metabase&commitHash=a432bb2a42f0230d8fc2e78e8a013b5b9ba9b1fc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51430?repo=metabase/metabase&commitHash=a432bb2a42f0230d8fc2e78e8a013b5b9ba9b1fc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51430?repo=metabase/metabase&commitHash=a432bb2a42f0230d8fc2e78e8a013b5b9ba9b1fc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51430?repo=metabase/metabase&commitHash=a432bb2a42f0230d8fc2e78e8a013b5b9ba9b1fc&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51430?repo=metabase/metabase&commitHash=a432bb2a42f0230d8fc2e78e8a013b5b9ba9b1fc&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 17, 22, 45, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2555120494, 'issue_id': 2746177445, 'author': 'github-actions[bot]', 'body': 'üëã Deploying a preview environment for commit a432bb2a42f0230d8fc2e78e8a013b5b9ba9b1fc.\n‚úÖ Preview:\n    https://pr51430.coredev.metabase.com\nüóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2024, 12, 19, 17, 1, 47, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-17 22:45:05 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/12964_tests-a432bb2a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51430?repo=metabase/metabase&commitHash=a432bb2a42f0230d8fc2e78e8a013b5b9ba9b1fc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51430?repo=metabase/metabase&commitHash=a432bb2a42f0230d8fc2e78e8a013b5b9ba9b1fc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51430?repo=metabase/metabase&commitHash=a432bb2a42f0230d8fc2e78e8a013b5b9ba9b1fc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51430?repo=metabase/metabase&commitHash=a432bb2a42f0230d8fc2e78e8a013b5b9ba9b1fc&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51430?repo=metabase/metabase&commitHash=a432bb2a42f0230d8fc2e78e8a013b5b9ba9b1fc&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

github-actions[bot] on (2024-12-19 17:01:47 UTC): üëã Deploying a preview environment for commit a432bb2a42f0230d8fc2e78e8a013b5b9ba9b1fc.
‚úÖ Preview:
    https://pr51430.coredev.metabase.com
üóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

"
2746159763,pull_request,closed,,"ü§ñ backported ""lychee to lint doc links""",#51422,github-automation-metabase,2024-12-17 21:50:31+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2024-12-18 10:14:23+00:00,2024-12-18 09:54:03+00:00,https://github.com/metabase/metabase/pull/51429,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2549809409, 'issue_id': 2746159763, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13449_tests-beea023c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51429?repo=metabase/metabase&commitHash=beea023c3a4cbbf0480e2f1fd240a68601af3d46&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51429?repo=metabase/metabase&commitHash=beea023c3a4cbbf0480e2f1fd240a68601af3d46&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51429?repo=metabase/metabase&commitHash=beea023c3a4cbbf0480e2f1fd240a68601af3d46&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51429?repo=metabase/metabase&commitHash=beea023c3a4cbbf0480e2f1fd240a68601af3d46&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 29786 should allow using field filters with null schema (metabase\\#29786)</code> | The \\`cy.click()\\` command failed because the button is disabled. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51429?repo=metabase/metabase&commitHash=beea023c3a4cbbf0480e2f1fd240a68601af3d46&utm_source=gh-comment&runConclusion=FAILURE&runId=0698ead6-de28-5dda-96d5-89e029c392da) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > public > question should be able to view public questions with card template tags</code> | The element with data-testid 'cell-data' was not found within 4000ms, causing a timeout. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51429?repo=metabase/metabase&commitHash=beea023c3a4cbbf0480e2f1fd240a68601af3d46&utm_source=gh-comment&runConclusion=FAILURE&runId=fc03104a-afc3-5e16-87a4-84a4da6d3f5b) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51429?repo=metabase/metabase&commitHash=beea023c3a4cbbf0480e2f1fd240a68601af3d46&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 17, 22, 45, 11, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-17 22:45:11 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13449_tests-beea023c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51429?repo=metabase/metabase&commitHash=beea023c3a4cbbf0480e2f1fd240a68601af3d46&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51429?repo=metabase/metabase&commitHash=beea023c3a4cbbf0480e2f1fd240a68601af3d46&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51429?repo=metabase/metabase&commitHash=beea023c3a4cbbf0480e2f1fd240a68601af3d46&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51429?repo=metabase/metabase&commitHash=beea023c3a4cbbf0480e2f1fd240a68601af3d46&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 29786 should allow using field filters with null schema (metabase\#29786)</code> | The \`cy.click()\` command failed because the button is disabled. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51429?repo=metabase/metabase&commitHash=beea023c3a4cbbf0480e2f1fd240a68601af3d46&utm_source=gh-comment&runConclusion=FAILURE&runId=0698ead6-de28-5dda-96d5-89e029c392da) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > public > question should be able to view public questions with card template tags</code> | The element with data-testid 'cell-data' was not found within 4000ms, causing a timeout. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51429?repo=metabase/metabase&commitHash=beea023c3a4cbbf0480e2f1fd240a68601af3d46&utm_source=gh-comment&runConclusion=FAILURE&runId=fc03104a-afc3-5e16-87a4-84a4da6d3f5b) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51429?repo=metabase/metabase&commitHash=beea023c3a4cbbf0480e2f1fd240a68601af3d46&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2746145883,pull_request,closed,,allow parametrized link cards,"[Related product doc](https://www.notion.so/metabase/Support-variables-in-Iframe-and-Link-cards-15a69354c9018075955ded3076735fcd)

### Description

Supports parametrized link dashboard cards.

### How to verify

- Create a dashboard
- Add a link card with a URL like `https://example.com/{{foo}}/{{bar}}`
- Add parameters and connect them to `foo` and `bar` variables
- Change filter values and ensure it changes the link

### Demo

<img width=""391"" alt=""Screenshot 2024-12-17 at 8 49 54‚ÄØPM"" src=""https://github.com/user-attachments/assets/cc0c87ba-22d0-4d7e-822e-0ded9d9b34d3"" />

<img width=""432"" alt=""Screenshot 2024-12-17 at 8 49 47‚ÄØPM"" src=""https://github.com/user-attachments/assets/2bbec700-4d1f-4085-8846-57cd4878a7f6"" />

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",alxnddr,2024-12-17 21:42:19+00:00,['alxnddr'],2025-01-27 22:12:47+00:00,2024-12-23 20:05:14+00:00,https://github.com/metabase/metabase/pull/51428,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2550300203, 'issue_id': 2746145883, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51891_tests-1c6eace8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51428?repo=metabase/metabase&commitHash=1c6eace8ed4a6efeb0553754885e96e0a2ccd2cc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51428?repo=metabase/metabase&commitHash=1c6eace8ed4a6efeb0553754885e96e0a2ccd2cc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51428?repo=metabase/metabase&commitHash=1c6eace8ed4a6efeb0553754885e96e0a2ccd2cc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51428?repo=metabase/metabase&commitHash=1c6eace8ed4a6efeb0553754885e96e0a2ccd2cc&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51428?repo=metabase/metabase&commitHash=1c6eace8ed4a6efeb0553754885e96e0a2ccd2cc&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 18, 4, 21, 11, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-18 04:21:11 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51891_tests-1c6eace8-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51428?repo=metabase/metabase&commitHash=1c6eace8ed4a6efeb0553754885e96e0a2ccd2cc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51428?repo=metabase/metabase&commitHash=1c6eace8ed4a6efeb0553754885e96e0a2ccd2cc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51428?repo=metabase/metabase&commitHash=1c6eace8ed4a6efeb0553754885e96e0a2ccd2cc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51428?repo=metabase/metabase&commitHash=1c6eace8ed4a6efeb0553754885e96e0a2ccd2cc&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51428?repo=metabase/metabase&commitHash=1c6eace8ed4a6efeb0553754885e96e0a2ccd2cc&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2746138299,pull_request,closed,,chore: rework pickers in querying folder to css modules,"[Epic](https://github.com/metabase/metabase/issues/50983)

### Description

rework pickers from querying folder to css modules

### How to verify

we need to click manually through all pickers

### Demo

TBA",uladzimirdev,2024-12-17 21:37:24+00:00,['uladzimirdev'],2025-01-27 22:13:02+00:00,2024-12-19 06:03:18+00:00,https://github.com/metabase/metabase/pull/51427,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', ''), ('PR-Env', 'See https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458')]","[{'comment_id': 2549758019, 'issue_id': 2746138299, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/814_tests-7c87a449-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51427?repo=metabase/metabase&commitHash=7c87a44956e14083be7dc60f9296b3d4940b7324&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51427?repo=metabase/metabase&commitHash=7c87a44956e14083be7dc60f9296b3d4940b7324&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51427?repo=metabase/metabase&commitHash=7c87a44956e14083be7dc60f9296b3d4940b7324&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51427?repo=metabase/metabase&commitHash=7c87a44956e14083be7dc60f9296b3d4940b7324&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51427?repo=metabase/metabase&commitHash=7c87a44956e14083be7dc60f9296b3d4940b7324&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 17, 22, 16, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2552280876, 'issue_id': 2746138299, 'author': 'uladzimirdev', 'body': 'fixed \r\n<img width=""695"" alt=""image"" src=""https://github.com/user-attachments/assets/46ce8f87-f146-43cf-8c69-836033ed6ba4"" />', 'created_at': datetime.datetime(2024, 12, 18, 21, 15, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2552838761, 'issue_id': 2746138299, 'author': 'github-actions[bot]', 'body': 'üëã Deploying a preview environment for commit a12717debd3f28430be5488ba5616c5014226253.\n‚úÖ Preview:\n    https://pr51427.coredev.metabase.com\nüóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)\n<!-- Sticky Pull Request Comment -->', 'created_at': datetime.datetime(2024, 12, 19, 5, 46, 39, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-17 22:16:32 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/814_tests-7c87a449-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51427?repo=metabase/metabase&commitHash=7c87a44956e14083be7dc60f9296b3d4940b7324&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51427?repo=metabase/metabase&commitHash=7c87a44956e14083be7dc60f9296b3d4940b7324&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51427?repo=metabase/metabase&commitHash=7c87a44956e14083be7dc60f9296b3d4940b7324&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51427?repo=metabase/metabase&commitHash=7c87a44956e14083be7dc60f9296b3d4940b7324&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51427?repo=metabase/metabase&commitHash=7c87a44956e14083be7dc60f9296b3d4940b7324&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

uladzimirdev (Issue Creator) on (2024-12-18 21:15:07 UTC): fixed 
<img width=""695"" alt=""image"" src=""https://github.com/user-attachments/assets/46ce8f87-f146-43cf-8c69-836033ed6ba4"" />

github-actions[bot] on (2024-12-19 05:46:39 UTC): üëã Deploying a preview environment for commit a12717debd3f28430be5488ba5616c5014226253.
‚úÖ Preview:
    https://pr51427.coredev.metabase.com
üóíÔ∏è [login instructions](https://www.notion.so/metabase/Ephemeral-PR-Environments-c74a3710c87a460dbf4fc0007a001458)
<!-- Sticky Pull Request Comment -->

"
2746121574,pull_request,open,,make a visualizer search engine to power visualizer endpoint,"WIP

Making a visualizer search engine *prototype* that allows scoring metrics/questions/datasets based on result_metadata.

The visualizer cares about queries like ""Give me all Questions that are compatible with the datasets I'm using right now"". So, establishing some reasonable scoring based on the metadata of cards is worth prototyping here.

I'm doing this prototype using the legacy search engine, but a critical step, should this be the right path forward, will be to move past the legacy search engine's base. This is so that we can use the search index, especially important since the visualizer's queries will tend to 'care about' all questions/metrics/datasets in the instance, which is a lot of stuff to look at. So, a smart index (which should probably be based on the one that the appdb search engine uses) makes sense.

Additionally, this prototype is hacking around my lack of understanding for how to *properly* integrate a new search engine. For example, I've added new keys to the SearchContext schema definition, and this feels incorrect. So, another thing to do past the prototype stage is to integrate it appropriately.",adam-james-v,2024-12-17 21:28:24+00:00,['adam-james-v'],2025-01-10 14:15:40+00:00,,https://github.com/metabase/metabase/pull/51426,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2581581236, 'issue_id': 2746121574, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/39336_tests-c4887df9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51426?repo=metabase/metabase&commitHash=c4887df9699b9231db01f471700db3d636513ad1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/15471-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51426?repo=metabase/metabase&commitHash=c4887df9699b9231db01f471700db3d636513ad1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/13-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51426?repo=metabase/metabase&commitHash=c4887df9699b9231db01f471700db3d636513ad1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51426?repo=metabase/metabase&commitHash=c4887df9699b9231db01f471700db3d636513ad1&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>permissions-test-2</code> | Error occurred while creating a sequence from a reified function. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51426?repo=metabase/metabase&commitHash=c4887df9699b9231db01f471700db3d636513ad1&utm_source=gh-comment&runConclusion=FAILURE&runId=958aa081-3719-5f47-aa71-34e6f17a43fa) |\n| <code>create-new-sso-user-test</code> | No method in multimethod 'reindex!' for dispatch value: :search.engine/visualizer | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51426?repo=metabase/metabase&commitHash=c4887df9699b9231db01f471700db3d636513ad1&utm_source=gh-comment&runConclusion=FAILURE&runId=3b890cc4-1c3a-5180-b926-d34db885f34e) |\n| <code>revert-dashboard-with-tabs-basic-test</code> | Error occurred while creating a sequence from metabase.util$rconcat$reify\\_\\_9134. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51426?repo=metabase/metabase&commitHash=c4887df9699b9231db01f471700db3d636513ad1&utm_source=gh-comment&runConclusion=FAILURE&runId=67294d1e-c2f0-55c4-9371-f74f2b387381) |\n| <code>fall-back-to-hashing-entity-id-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51426?repo=metabase/metabase&commitHash=c4887df9699b9231db01f471700db3d636513ad1&utm_source=gh-comment&runConclusion=FAILURE&runId=cc2b4752-e77e-5f7a-844c-c561720cb3bc) |\n\n[... and 15467 more](https://app.trunk.io/metabase/flaky-tests/pr/51426?repo=metabase/metabase&commitHash=c4887df9699b9231db01f471700db3d636513ad1&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>e2e-storage-ingestion-test</code> | Expected a specific entity, but got a different one. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51426?repo=metabase/metabase&commitHash=c4887df9699b9231db01f471700db3d636513ad1&utm_source=gh-comment&runConclusion=FAILURE&runId=1683f4a2-412d-572e-8c5e-190157fbb7f2) |\n| <code>e2e-storage-ingestion-test</code> | The expected and actual values are not equal, indicating a mismatch in the data. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51426?repo=metabase/metabase&commitHash=c4887df9699b9231db01f471700db3d636513ad1&utm_source=gh-comment&runConclusion=FAILURE&runId=d4b8ed02-d837-50f1-ab25-ef2ad17366a9) |\n| <code>e2e-storage-ingestion-test</code> | The expected and actual values do not match for the 'timeline' entity. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51426?repo=metabase/metabase&commitHash=c4887df9699b9231db01f471700db3d636513ad1&utm_source=gh-comment&runConclusion=FAILURE&runId=d317c6bd-b8ef-5556-8366-8ee27c760d47) |\n| <code>e2e-storage-ingestion-test</code> | The expected and actual values are not equal, which is not expected. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51426?repo=metabase/metabase&commitHash=c4887df9699b9231db01f471700db3d636513ad1&utm_source=gh-comment&runConclusion=FAILURE&runId=744160c4-0032-531e-937c-9fdc8ad597c8) |\n\n[... and 9 more](https://app.trunk.io/metabase/flaky-tests/pr/51426?repo=metabase/metabase&commitHash=c4887df9699b9231db01f471700db3d636513ad1&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51426?repo=metabase/metabase&commitHash=c4887df9699b9231db01f471700db3d636513ad1&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2025, 1, 10, 1, 56, 9, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2025-01-10 01:56:09 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/39336_tests-c4887df9-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51426?repo=metabase/metabase&commitHash=c4887df9699b9231db01f471700db3d636513ad1&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/15471-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51426?repo=metabase/metabase&commitHash=c4887df9699b9231db01f471700db3d636513ad1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/13-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51426?repo=metabase/metabase&commitHash=c4887df9699b9231db01f471700db3d636513ad1&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51426?repo=metabase/metabase&commitHash=c4887df9699b9231db01f471700db3d636513ad1&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>permissions-test-2</code> | Error occurred while creating a sequence from a reified function. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51426?repo=metabase/metabase&commitHash=c4887df9699b9231db01f471700db3d636513ad1&utm_source=gh-comment&runConclusion=FAILURE&runId=958aa081-3719-5f47-aa71-34e6f17a43fa) |
| <code>create-new-sso-user-test</code> | No method in multimethod 'reindex!' for dispatch value: :search.engine/visualizer | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51426?repo=metabase/metabase&commitHash=c4887df9699b9231db01f471700db3d636513ad1&utm_source=gh-comment&runConclusion=FAILURE&runId=3b890cc4-1c3a-5180-b926-d34db885f34e) |
| <code>revert-dashboard-with-tabs-basic-test</code> | Error occurred while creating a sequence from metabase.util$rconcat$reify\_\_9134. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51426?repo=metabase/metabase&commitHash=c4887df9699b9231db01f471700db3d636513ad1&utm_source=gh-comment&runConclusion=FAILURE&runId=67294d1e-c2f0-55c4-9371-f74f2b387381) |
| <code>fall-back-to-hashing-entity-id-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51426?repo=metabase/metabase&commitHash=c4887df9699b9231db01f471700db3d636513ad1&utm_source=gh-comment&runConclusion=FAILURE&runId=cc2b4752-e77e-5f7a-844c-c561720cb3bc) |

[... and 15467 more](https://app.trunk.io/metabase/flaky-tests/pr/51426?repo=metabase/metabase&commitHash=c4887df9699b9231db01f471700db3d636513ad1&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>e2e-storage-ingestion-test</code> | Expected a specific entity, but got a different one. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51426?repo=metabase/metabase&commitHash=c4887df9699b9231db01f471700db3d636513ad1&utm_source=gh-comment&runConclusion=FAILURE&runId=1683f4a2-412d-572e-8c5e-190157fbb7f2) |
| <code>e2e-storage-ingestion-test</code> | The expected and actual values are not equal, indicating a mismatch in the data. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51426?repo=metabase/metabase&commitHash=c4887df9699b9231db01f471700db3d636513ad1&utm_source=gh-comment&runConclusion=FAILURE&runId=d4b8ed02-d837-50f1-ab25-ef2ad17366a9) |
| <code>e2e-storage-ingestion-test</code> | The expected and actual values do not match for the 'timeline' entity. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51426?repo=metabase/metabase&commitHash=c4887df9699b9231db01f471700db3d636513ad1&utm_source=gh-comment&runConclusion=FAILURE&runId=d317c6bd-b8ef-5556-8366-8ee27c760d47) |
| <code>e2e-storage-ingestion-test</code> | The expected and actual values are not equal, which is not expected. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51426?repo=metabase/metabase&commitHash=c4887df9699b9231db01f471700db3d636513ad1&utm_source=gh-comment&runConclusion=FAILURE&runId=744160c4-0032-531e-937c-9fdc8ad597c8) |

[... and 9 more](https://app.trunk.io/metabase/flaky-tests/pr/51426?repo=metabase/metabase&commitHash=c4887df9699b9231db01f471700db3d636513ad1&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51426?repo=metabase/metabase&commitHash=c4887df9699b9231db01f471700db3d636513ad1&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2746042527,pull_request,closed,,Rework flow to allow for a query store,"Dummy tools need to be able to store queries for later use. Right now dummy tools work differently than regular tools: they can only (effectively) return an `output`. They can't change context, they can't return reactions, etc.

I was imagining that when we wanted to add queries to the query store, we'd do so in the `envelope`, and probably do this in a functional way by returning `:queries` or a `:query-id->query` map from the tool call itself. Then, we'd write a function in `envelope` that would basically just store this state for later retrieval.

The issue we had is that (before this commit) we don't actually invoke dummy tools in a way that changes the envelope - we just invoke them as needed before sending the history to the LLM.

So, this PR reworks things a bit:

- we invoke the dummy tool calls once, immediately after creating the envelope

- right now, this only means that we store the results of those tool calls in the env, for later retrieval to send to the LLM when we are actually making a call. (we don't just store the tool calls in normal history, because we don't want to return them to the FE when we respond).

- in the immediate future though, we'll want to *also*, in addition to adding tool `output` to the response, handle other tool results. One thing could be changing the context in response to a dummy tool call - which seems maybe a bit crazy, but on the other hand maybe dummy tool calls should be able to do anything a regular tool call can do?

- more immediately, we'll probably want to handle a new key from tool invocations, `:query-id->query-map`, that will store queries for later retrieval.
",johnswanson,2024-12-17 20:57:27+00:00,['johnswanson'],2024-12-18 14:35:46+00:00,2024-12-18 13:24:15+00:00,https://github.com/metabase/metabase/pull/51425,"[('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2551364105, 'issue_id': 2746042527, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/36028_tests-e48b4944-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51425?repo=metabase/metabase&commitHash=e48b4944cac8b15577bfe14fff9f26750b0f7335&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/42-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51425?repo=metabase/metabase&commitHash=e48b4944cac8b15577bfe14fff9f26750b0f7335&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51425?repo=metabase/metabase&commitHash=e48b4944cac8b15577bfe14fff9f26750b0f7335&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51425?repo=metabase/metabase&commitHash=e48b4944cac8b15577bfe14fff9f26750b0f7335&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts ""before each"" hook for ""should allow you to enable a webhook alert""</code> | Cypress request failed with 400 Bad Request status code. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51425?repo=metabase/metabase&commitHash=e48b4944cac8b15577bfe14fff9f26750b0f7335&utm_source=gh-comment&runConclusion=FAILURE&runId=d26ecca1-584a-56e2-9af0-e0bfdacee6d9) |\n| <code>it-generates-a-reaction</code> | The \':metabot.tool/confirm-invite-user\' tool is not yet implemented. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51425?repo=metabase/metabase&commitHash=e48b4944cac8b15577bfe14fff9f26750b0f7335&utm_source=gh-comment&runConclusion=FAILURE&runId=83daf2e1-ea21-59d9-a87d-9e470bec6650) |\n| <code>it-generates-a-reaction</code> | The \':metabot.tool/change-table-visualization-settings\' tool is not yet implemented. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51425?repo=metabase/metabase&commitHash=e48b4944cac8b15577bfe14fff9f26750b0f7335&utm_source=gh-comment&runConclusion=FAILURE&runId=b515d1ce-2ace-5fe1-a8f9-0724e94e3685) |\n| <code>it-generates-a-reaction</code> | The \':metabot.tool/change-display-type\' tool is not yet implemented. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51425?repo=metabase/metabase&commitHash=e48b4944cac8b15577bfe14fff9f26750b0f7335&utm_source=gh-comment&runConclusion=FAILURE&runId=2f2e4794-0820-5ad9-b4c0-3184841be4c2) |\n\n[... and 38 more](https://app.trunk.io/metabase/flaky-tests/pr/51425?repo=metabase/metabase&commitHash=e48b4944cac8b15577bfe14fff9f26750b0f7335&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51425?repo=metabase/metabase&commitHash=e48b4944cac8b15577bfe14fff9f26750b0f7335&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 18, 13, 44, 35, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-18 13:44:35 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/36028_tests-e48b4944-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51425?repo=metabase/metabase&commitHash=e48b4944cac8b15577bfe14fff9f26750b0f7335&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/42-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51425?repo=metabase/metabase&commitHash=e48b4944cac8b15577bfe14fff9f26750b0f7335&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51425?repo=metabase/metabase&commitHash=e48b4944cac8b15577bfe14fff9f26750b0f7335&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51425?repo=metabase/metabase&commitHash=e48b4944cac8b15577bfe14fff9f26750b0f7335&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts ""before each"" hook for ""should allow you to enable a webhook alert""</code> | Cypress request failed with 400 Bad Request status code. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51425?repo=metabase/metabase&commitHash=e48b4944cac8b15577bfe14fff9f26750b0f7335&utm_source=gh-comment&runConclusion=FAILURE&runId=d26ecca1-584a-56e2-9af0-e0bfdacee6d9) |
| <code>it-generates-a-reaction</code> | The ':metabot.tool/confirm-invite-user' tool is not yet implemented. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51425?repo=metabase/metabase&commitHash=e48b4944cac8b15577bfe14fff9f26750b0f7335&utm_source=gh-comment&runConclusion=FAILURE&runId=83daf2e1-ea21-59d9-a87d-9e470bec6650) |
| <code>it-generates-a-reaction</code> | The ':metabot.tool/change-table-visualization-settings' tool is not yet implemented. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51425?repo=metabase/metabase&commitHash=e48b4944cac8b15577bfe14fff9f26750b0f7335&utm_source=gh-comment&runConclusion=FAILURE&runId=b515d1ce-2ace-5fe1-a8f9-0724e94e3685) |
| <code>it-generates-a-reaction</code> | The ':metabot.tool/change-display-type' tool is not yet implemented. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51425?repo=metabase/metabase&commitHash=e48b4944cac8b15577bfe14fff9f26750b0f7335&utm_source=gh-comment&runConclusion=FAILURE&runId=2f2e4794-0820-5ad9-b4c0-3184841be4c2) |

[... and 38 more](https://app.trunk.io/metabase/flaky-tests/pr/51425?repo=metabase/metabase&commitHash=e48b4944cac8b15577bfe14fff9f26750b0f7335&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51425?repo=metabase/metabase&commitHash=e48b4944cac8b15577bfe14fff9f26750b0f7335&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2745966582,pull_request,closed,,Add field values e2e test,Add a basic e2e test for field values in dashboard filters. See https://metaboat.slack.com/archives/C97M2U8M6/p1734455908631579,ranquild,2024-12-17 20:20:37+00:00,['ranquild'],2024-12-18 19:47:59+00:00,2024-12-18 17:10:49+00:00,https://github.com/metabase/metabase/pull/51424,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2549647597, 'issue_id': 2745966582, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/102_tests-f238e9d6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51424?repo=metabase/metabase&commitHash=f238e9d6c0c03cc4e9420cfe5119980716aa0b71&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51424?repo=metabase/metabase&commitHash=f238e9d6c0c03cc4e9420cfe5119980716aa0b71&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51424?repo=metabase/metabase&commitHash=f238e9d6c0c03cc4e9420cfe5119980716aa0b71&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51424?repo=metabase/metabase&commitHash=f238e9d6c0c03cc4e9420cfe5119980716aa0b71&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51424?repo=metabase/metabase&commitHash=f238e9d6c0c03cc4e9420cfe5119980716aa0b71&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 17, 21, 16, 9, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-17 21:16:09 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/102_tests-f238e9d6-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51424?repo=metabase/metabase&commitHash=f238e9d6c0c03cc4e9420cfe5119980716aa0b71&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51424?repo=metabase/metabase&commitHash=f238e9d6c0c03cc4e9420cfe5119980716aa0b71&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51424?repo=metabase/metabase&commitHash=f238e9d6c0c03cc4e9420cfe5119980716aa0b71&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51424?repo=metabase/metabase&commitHash=f238e9d6c0c03cc4e9420cfe5119980716aa0b71&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51424?repo=metabase/metabase&commitHash=f238e9d6c0c03cc4e9420cfe5119980716aa0b71&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2745914195,pull_request,closed,,Static Viz Start of Week in Subscription Emails,"Closes #49166 

Changes include:
- Passing start of week admin setting down into static viz bundle so that we can update moment and dayjs libraries
- This ultimately fixes bar charts from rendering X axis day labels incorrectly starting at Sunday

<details>
<summary>Question in Metabase (correct)</summary>
<img width=""538"" alt=""image"" src=""https://github.com/user-attachments/assets/c5866cd9-8ac0-4391-8377-474c3b901b28"" />
</details>

<details>
<summary>Email Subscription BEFORE</summary>
<img width=""629"" alt=""image"" src=""https://github.com/user-attachments/assets/795c216e-57cd-4bb1-baa2-56e6b0f423c6"" />
</details>
<details>
<summary>Email Subscription AFTER</summary>
<img width=""631"" alt=""Screenshot 2024-12-17 at 2 40 23‚ÄØPM"" src=""https://github.com/user-attachments/assets/35ed13d3-e33b-41b4-89d0-29e78a191d90"" />
</details>
",tsplude,2024-12-17 19:57:40+00:00,['tsplude'],2025-01-15 01:06:45+00:00,2025-01-15 00:23:12+00:00,https://github.com/metabase/metabase/pull/51423,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2549912006, 'issue_id': 2745914195, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/122531_tests-4e73c045-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51423?repo=metabase/metabase&commitHash=4e73c0455a78a7bf37f7a3a39a5cc5b7be3e3574&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51423?repo=metabase/metabase&commitHash=4e73c0455a78a7bf37f7a3a39a5cc5b7be3e3574&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51423?repo=metabase/metabase&commitHash=4e73c0455a78a7bf37f7a3a39a5cc5b7be3e3574&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51423?repo=metabase/metabase&commitHash=4e73c0455a78a7bf37f7a3a39a5cc5b7be3e3574&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > pie chart should mute items in legend when hovering (metabase\\#29224)</code> | The expected attribute \'aria-current\' with value \'true\' was not found in an HTML element, causing a timeout. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51423?repo=metabase/metabase&commitHash=4e73c0455a78a7bf37f7a3a39a5cc5b7be3e3574&utm_source=gh-comment&runConclusion=FAILURE&runId=1e7c1907-8e0f-500c-850a-311d4161e38a) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > object details handles browsing records by FKs (metabase\\#21756)</code> | Unable to find an element with the text ""View details"" within 4000ms, possibly due to text being broken up by multiple elements. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51423?repo=metabase/metabase&commitHash=4e73c0455a78a7bf37f7a3a39a5cc5b7be3e3574&utm_source=gh-comment&runConclusion=FAILURE&runId=f46d4b9d-94dc-59f9-8bb8-f65e08085ee3) |\n| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content \'Table ""NOT\\_A\\_TABLE"" not found\' in the database. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51423?repo=metabase/metabase&commitHash=4e73c0455a78a7bf37f7a3a39a5cc5b7be3e3574&utm_source=gh-comment&runConclusion=FAILURE&runId=6eba58b5-e114-50cd-823c-b26e85df318e) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51423?repo=metabase/metabase&commitHash=4e73c0455a78a7bf37f7a3a39a5cc5b7be3e3574&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 17, 23, 44, 28, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-17 23:44:28 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/122531_tests-4e73c045-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51423?repo=metabase/metabase&commitHash=4e73c0455a78a7bf37f7a3a39a5cc5b7be3e3574&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51423?repo=metabase/metabase&commitHash=4e73c0455a78a7bf37f7a3a39a5cc5b7be3e3574&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51423?repo=metabase/metabase&commitHash=4e73c0455a78a7bf37f7a3a39a5cc5b7be3e3574&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51423?repo=metabase/metabase&commitHash=4e73c0455a78a7bf37f7a3a39a5cc5b7be3e3574&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > pie chart should mute items in legend when hovering (metabase\#29224)</code> | The expected attribute 'aria-current' with value 'true' was not found in an HTML element, causing a timeout. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51423?repo=metabase/metabase&commitHash=4e73c0455a78a7bf37f7a3a39a5cc5b7be3e3574&utm_source=gh-comment&runConclusion=FAILURE&runId=1e7c1907-8e0f-500c-850a-311d4161e38a) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > object details handles browsing records by FKs (metabase\#21756)</code> | Unable to find an element with the text ""View details"" within 4000ms, possibly due to text being broken up by multiple elements. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51423?repo=metabase/metabase&commitHash=4e73c0455a78a7bf37f7a3a39a5cc5b7be3e3574&utm_source=gh-comment&runConclusion=FAILURE&runId=f46d4b9d-94dc-59f9-8bb8-f65e08085ee3) |
| <code>scenarios > question > native displays an error</code> | The test timed out waiting for the expected content 'Table ""NOT\_A\_TABLE"" not found' in the database. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51423?repo=metabase/metabase&commitHash=4e73c0455a78a7bf37f7a3a39a5cc5b7be3e3574&utm_source=gh-comment&runConclusion=FAILURE&runId=6eba58b5-e114-50cd-823c-b26e85df318e) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51423?repo=metabase/metabase&commitHash=4e73c0455a78a7bf37f7a3a39a5cc5b7be3e3574&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2745878000,pull_request,closed,,lychee to lint doc links,"Replaces the existing markdown-link-check with [Lychee](https://lychee.cli.rs/).

Adds a workflow that runs lychee on our docs once a week. We can increase job frequency if needed, but figured this would be a good starting schedule.

If the link checker finds broken links, it should open an issue and assign it to me.",jeff-bruemmer,2024-12-17 19:40:05+00:00,['jeff-bruemmer'],2024-12-18 09:54:31+00:00,2024-12-17 21:49:20+00:00,https://github.com/metabase/metabase/pull/51422,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2549535618, 'issue_id': 2745878000, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13227_tests-bc591db0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51422?repo=metabase/metabase&commitHash=bc591db01d800f2a18fb8f61744db59bf6784589&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51422?repo=metabase/metabase&commitHash=bc591db01d800f2a18fb8f61744db59bf6784589&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/18-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51422?repo=metabase/metabase&commitHash=bc591db01d800f2a18fb8f61744db59bf6784589&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51422?repo=metabase/metabase&commitHash=bc591db01d800f2a18fb8f61744db59bf6784589&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > custom column should allow to use \\`in\\` and \\`notIn\\` functions</code> | The \\`cy.first()\\` command timed out because the page updated and the element was removed from the DOM. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51422?repo=metabase/metabase&commitHash=bc591db01d800f2a18fb8f61744db59bf6784589&utm_source=gh-comment&runConclusion=FAILURE&runId=15694ad0-e3ff-509f-9dcc-b593deb5ac70) |\n| <code>scenarios > question > custom column should allow to use \\`if\\` function</code> | The \\`cy.first()\\` command timed out because the page updated and the element was removed from the DOM. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51422?repo=metabase/metabase&commitHash=bc591db01d800f2a18fb8f61744db59bf6784589&utm_source=gh-comment&runConclusion=FAILURE&runId=0b4ac7e0-ce1e-5a18-8d8a-89dfde29c224) |\n| <code>scenarios > admin > permissions > view data > blocked (enforcement) should deny view access to a query builder question that makes use of a blocked...</code> | \\`cy.within()\\` can only be called on a single element, but the subject contained 2 elements. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51422?repo=metabase/metabase&commitHash=bc591db01d800f2a18fb8f61744db59bf6784589&utm_source=gh-comment&runConclusion=FAILURE&runId=c190898c-5a5b-52ec-838f-8ecdde7af8c3) |\n| <code>scenarios > admin > permissions > view data > blocked (enforcement) should deny view access to any native question if the user has blocked view dat...</code> | \\`cy.within()\\` can only be called on a single element, but the subject contained 2 elements. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51422?repo=metabase/metabase&commitHash=bc591db01d800f2a18fb8f61744db59bf6784589&utm_source=gh-comment&runConclusion=FAILURE&runId=6778f25b-f733-5c03-96f7-055f11e6843f) |\n\n[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/51422?repo=metabase/metabase&commitHash=bc591db01d800f2a18fb8f61744db59bf6784589&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51422?repo=metabase/metabase&commitHash=bc591db01d800f2a18fb8f61744db59bf6784589&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 17, 20, 20, 36, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-17 20:20:36 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13227_tests-bc591db0-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51422?repo=metabase/metabase&commitHash=bc591db01d800f2a18fb8f61744db59bf6784589&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51422?repo=metabase/metabase&commitHash=bc591db01d800f2a18fb8f61744db59bf6784589&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/18-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51422?repo=metabase/metabase&commitHash=bc591db01d800f2a18fb8f61744db59bf6784589&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51422?repo=metabase/metabase&commitHash=bc591db01d800f2a18fb8f61744db59bf6784589&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > custom column should allow to use \`in\` and \`notIn\` functions</code> | The \`cy.first()\` command timed out because the page updated and the element was removed from the DOM. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51422?repo=metabase/metabase&commitHash=bc591db01d800f2a18fb8f61744db59bf6784589&utm_source=gh-comment&runConclusion=FAILURE&runId=15694ad0-e3ff-509f-9dcc-b593deb5ac70) |
| <code>scenarios > question > custom column should allow to use \`if\` function</code> | The \`cy.first()\` command timed out because the page updated and the element was removed from the DOM. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51422?repo=metabase/metabase&commitHash=bc591db01d800f2a18fb8f61744db59bf6784589&utm_source=gh-comment&runConclusion=FAILURE&runId=0b4ac7e0-ce1e-5a18-8d8a-89dfde29c224) |
| <code>scenarios > admin > permissions > view data > blocked (enforcement) should deny view access to a query builder question that makes use of a blocked...</code> | \`cy.within()\` can only be called on a single element, but the subject contained 2 elements. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51422?repo=metabase/metabase&commitHash=bc591db01d800f2a18fb8f61744db59bf6784589&utm_source=gh-comment&runConclusion=FAILURE&runId=c190898c-5a5b-52ec-838f-8ecdde7af8c3) |
| <code>scenarios > admin > permissions > view data > blocked (enforcement) should deny view access to any native question if the user has blocked view dat...</code> | \`cy.within()\` can only be called on a single element, but the subject contained 2 elements. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51422?repo=metabase/metabase&commitHash=bc591db01d800f2a18fb8f61744db59bf6784589&utm_source=gh-comment&runConclusion=FAILURE&runId=6778f25b-f733-5c03-96f7-055f11e6843f) |

[... and 14 more](https://app.trunk.io/metabase/flaky-tests/pr/51422?repo=metabase/metabase&commitHash=bc591db01d800f2a18fb8f61744db59bf6784589&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51422?repo=metabase/metabase&commitHash=bc591db01d800f2a18fb8f61744db59bf6784589&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2745845969,pull_request,open,,Extracted alerts and subscriptions scope,"Relates to https://github.com/metabase/metabase/issues/50766

### Description

Add differentiation between alerts and subscriptions for Questions.
Add a separate menu item for subscriptions.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> ...
2. ...

### Demo

_Upload a demo video or before/after screenshots if sensible or remove the section_

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",deniskaber,2024-12-17 19:26:32+00:00,['deniskaber'],2024-12-18 14:52:15+00:00,,https://github.com/metabase/metabase/pull/51421,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2549583916, 'issue_id': 2745845969, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/134870_tests-ed0a176c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51421?repo=metabase/metabase&commitHash=ed0a176cc5aba693308aff7367996ffdf2c98190&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/26-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51421?repo=metabase/metabase&commitHash=ed0a176cc5aba693308aff7367996ffdf2c98190&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/9-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51421?repo=metabase/metabase&commitHash=ed0a176cc5aba693308aff7367996ffdf2c98190&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51421?repo=metabase/metabase&commitHash=ed0a176cc5aba693308aff7367996ffdf2c98190&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts should allow you to enable a webhook alert</code> | The test timed out while trying to find an element with the text ""Create alerts"" in the UI. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51421?repo=metabase/metabase&commitHash=ed0a176cc5aba693308aff7367996ffdf2c98190&utm_source=gh-comment&runConclusion=FAILURE&runId=483217d4-6a10-5800-afbe-073083360295) |\n| <code>scenarios > alert > email\\_alert should set up an email alert for newly created question</code> | Unable to find an element with the text ""Create alerts"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51421?repo=metabase/metabase&commitHash=ed0a176cc5aba693308aff7367996ffdf2c98190&utm_source=gh-comment&runConclusion=FAILURE&runId=58bde308-2b53-550f-9cef-1afa488baee2) |\n| <code>scenarios > alert > email\\_alert should respect email alerts toggled off (metabase\\#12349)</code> | Unable to find an element with the text ""Create alerts"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51421?repo=metabase/metabase&commitHash=ed0a176cc5aba693308aff7367996ffdf2c98190&utm_source=gh-comment&runConclusion=FAILURE&runId=db740191-9e26-580c-af69-e50cd3b6728d) |\n| <code>scenarios > alert > email\\_alert should set up an email alert</code> | Unable to find an element with the text ""Create alerts"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51421?repo=metabase/metabase&commitHash=ed0a176cc5aba693308aff7367996ffdf2c98190&utm_source=gh-comment&runConclusion=FAILURE&runId=218138a3-ee2c-5b53-84fb-5bc9afeed4f2) |\n\n[... and 22 more](https://app.trunk.io/metabase/flaky-tests/pr/51421?repo=metabase/metabase&commitHash=ed0a176cc5aba693308aff7367996ffdf2c98190&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | The test timed out while trying to find an element with the text ""Create alerts"" in the UI. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51421?repo=metabase/metabase&commitHash=ed0a176cc5aba693308aff7367996ffdf2c98190&utm_source=gh-comment&runConclusion=FAILURE&runId=fd822463-92c8-5d03-b5bb-948b2ad29c80) |\n| <code>scenarios > admin > permissions > view data > blocked (enforcement) should deny view access to any native question if the user has blocked view dat...</code> | \\`cy.within()\\` can only be called on a single element, but the subject contained 2 elements. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51421?repo=metabase/metabase&commitHash=ed0a176cc5aba693308aff7367996ffdf2c98190&utm_source=gh-comment&runConclusion=FAILURE&runId=00c5f888-5b88-5a2c-9708-17f12d63d68d) |\n| <code>scenarios > admin > permissions > view data > blocked (enforcement) should deny view access to a query builder question that makes use of a blocked...</code> | \\`cy.within()\\` can only be called on a single element, but the subject contained 2 elements. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51421?repo=metabase/metabase&commitHash=ed0a176cc5aba693308aff7367996ffdf2c98190&utm_source=gh-comment&runConclusion=FAILURE&runId=6edc1d9f-2c8f-53b6-930f-ca61a5ca9ed9) |\n| <code>scenarios > admin > permissions > view data > blocked (enforcement) should deny view access to a query builder question that makes use of a blocked...</code> | \\`cy.within()\\` can only be called on a single element, but the subject contained 2 elements. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51421?repo=metabase/metabase&commitHash=ed0a176cc5aba693308aff7367996ffdf2c98190&utm_source=gh-comment&runConclusion=FAILURE&runId=592ff59e-b498-55d8-a5c5-1c22bea44f95) |\n\n[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/51421?repo=metabase/metabase&commitHash=ed0a176cc5aba693308aff7367996ffdf2c98190&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51421?repo=metabase/metabase&commitHash=ed0a176cc5aba693308aff7367996ffdf2c98190&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 17, 20, 42, 29, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-17 20:42:29 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/134870_tests-ed0a176c-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51421?repo=metabase/metabase&commitHash=ed0a176cc5aba693308aff7367996ffdf2c98190&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/26-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51421?repo=metabase/metabase&commitHash=ed0a176cc5aba693308aff7367996ffdf2c98190&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/9-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51421?repo=metabase/metabase&commitHash=ed0a176cc5aba693308aff7367996ffdf2c98190&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51421?repo=metabase/metabase&commitHash=ed0a176cc5aba693308aff7367996ffdf2c98190&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts should allow you to enable a webhook alert</code> | The test timed out while trying to find an element with the text ""Create alerts"" in the UI. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51421?repo=metabase/metabase&commitHash=ed0a176cc5aba693308aff7367996ffdf2c98190&utm_source=gh-comment&runConclusion=FAILURE&runId=483217d4-6a10-5800-afbe-073083360295) |
| <code>scenarios > alert > email\_alert should set up an email alert for newly created question</code> | Unable to find an element with the text ""Create alerts"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51421?repo=metabase/metabase&commitHash=ed0a176cc5aba693308aff7367996ffdf2c98190&utm_source=gh-comment&runConclusion=FAILURE&runId=58bde308-2b53-550f-9cef-1afa488baee2) |
| <code>scenarios > alert > email\_alert should respect email alerts toggled off (metabase\#12349)</code> | Unable to find an element with the text ""Create alerts"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51421?repo=metabase/metabase&commitHash=ed0a176cc5aba693308aff7367996ffdf2c98190&utm_source=gh-comment&runConclusion=FAILURE&runId=db740191-9e26-580c-af69-e50cd3b6728d) |
| <code>scenarios > alert > email\_alert should set up an email alert</code> | Unable to find an element with the text ""Create alerts"" after 4000ms, possibly due to text being broken up by multiple elements. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51421?repo=metabase/metabase&commitHash=ed0a176cc5aba693308aff7367996ffdf2c98190&utm_source=gh-comment&runConclusion=FAILURE&runId=218138a3-ee2c-5b53-84fb-5bc9afeed4f2) |

[... and 22 more](https://app.trunk.io/metabase/flaky-tests/pr/51421?repo=metabase/metabase&commitHash=ed0a176cc5aba693308aff7367996ffdf2c98190&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | The test timed out while trying to find an element with the text ""Create alerts"" in the UI. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51421?repo=metabase/metabase&commitHash=ed0a176cc5aba693308aff7367996ffdf2c98190&utm_source=gh-comment&runConclusion=FAILURE&runId=fd822463-92c8-5d03-b5bb-948b2ad29c80) |
| <code>scenarios > admin > permissions > view data > blocked (enforcement) should deny view access to any native question if the user has blocked view dat...</code> | \`cy.within()\` can only be called on a single element, but the subject contained 2 elements. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51421?repo=metabase/metabase&commitHash=ed0a176cc5aba693308aff7367996ffdf2c98190&utm_source=gh-comment&runConclusion=FAILURE&runId=00c5f888-5b88-5a2c-9708-17f12d63d68d) |
| <code>scenarios > admin > permissions > view data > blocked (enforcement) should deny view access to a query builder question that makes use of a blocked...</code> | \`cy.within()\` can only be called on a single element, but the subject contained 2 elements. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51421?repo=metabase/metabase&commitHash=ed0a176cc5aba693308aff7367996ffdf2c98190&utm_source=gh-comment&runConclusion=FAILURE&runId=6edc1d9f-2c8f-53b6-930f-ca61a5ca9ed9) |
| <code>scenarios > admin > permissions > view data > blocked (enforcement) should deny view access to a query builder question that makes use of a blocked...</code> | \`cy.within()\` can only be called on a single element, but the subject contained 2 elements. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51421?repo=metabase/metabase&commitHash=ed0a176cc5aba693308aff7367996ffdf2c98190&utm_source=gh-comment&runConclusion=FAILURE&runId=592ff59e-b498-55d8-a5c5-1c22bea44f95) |

[... and 5 more](https://app.trunk.io/metabase/flaky-tests/pr/51421?repo=metabase/metabase&commitHash=ed0a176cc5aba693308aff7367996ffdf2c98190&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51421?repo=metabase/metabase&commitHash=ed0a176cc5aba693308aff7367996ffdf2c98190&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2745841802,pull_request,closed,,Implement run-query,"### Description

Implement `run-query` as a dummy tool. This tool has no core implementing the real tool interface, as it is the first to put the query into the history.

It also disables of the context processing implemented in the previous attempts.",metamben,2024-12-17 19:24:06+00:00,['metamben'],2024-12-17 21:55:19+00:00,2024-12-17 21:55:17+00:00,https://github.com/metabase/metabase/pull/51420,"[('.Team/Querying', '')]","[{'comment_id': 2549465822, 'issue_id': 2745841802, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/114474_tests-d94325fa-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51420?repo=metabase/metabase&commitHash=d94325fae0c078d202076a37f37afe0c84d96b95&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/82-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51420?repo=metabase/metabase&commitHash=d94325fae0c078d202076a37f37afe0c84d96b95&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51420?repo=metabase/metabase&commitHash=d94325fae0c078d202076a37f37afe0c84d96b95&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51420?repo=metabase/metabase&commitHash=d94325fae0c078d202076a37f37afe0c84d96b95&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts ""before each"" hook for ""should allow you to enable a webhook alert""</code> | Cypress request failed with 400 Bad Request status code. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51420?repo=metabase/metabase&commitHash=d94325fae0c078d202076a37f37afe0c84d96b95&utm_source=gh-comment&runConclusion=FAILURE&runId=584b196a-7417-51dc-92b4-c4e2b2105051) |\n| <code>it-generates-a-reaction</code> | Wrong number of arguments passed to metabase-enterprise.metabot-v3.tools.interface/eval148434/fn--148435. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51420?repo=metabase/metabase&commitHash=d94325fae0c078d202076a37f37afe0c84d96b95&utm_source=gh-comment&runConclusion=FAILURE&runId=27252044-9b68-51bd-9309-35321032cc7f) |\n| <code>build-request-body-test</code> | The input to the \\`build-request-body\\` function is invalid because it expects a string but received a UUID. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51420?repo=metabase/metabase&commitHash=d94325fae0c078d202076a37f37afe0c84d96b95&utm_source=gh-comment&runConclusion=FAILURE&runId=8476a3e8-e763-55ae-b0c3-6a168f01cec8) |\n| <code>it-generates-a-reaction</code> | Wrong number of arguments passed to metabase-enterprise.metabot-v3.tools.interface/eval148434/fn--148435. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51420?repo=metabase/metabase&commitHash=d94325fae0c078d202076a37f37afe0c84d96b95&utm_source=gh-comment&runConclusion=FAILURE&runId=1a99376f-d5f7-50f4-9ec9-a034386a7086) |\n\n[... and 78 more](https://app.trunk.io/metabase/flaky-tests/pr/51420?repo=metabase/metabase&commitHash=d94325fae0c078d202076a37f37afe0c84d96b95&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:329:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\\#\'sync.fingerprint/max-refingerprint-field... | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51420?repo=metabase/metabase&commitHash=d94325fae0c078d202076a37f37afe0c84d96b95&utm_source=gh-comment&runConclusion=FAILURE&runId=6765a8f8-1b83-5662-a6f0-877939991bed) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51420?repo=metabase/metabase&commitHash=d94325fae0c078d202076a37f37afe0c84d96b95&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 17, 19, 47, 22, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-17 19:47:22 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/114474_tests-d94325fa-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51420?repo=metabase/metabase&commitHash=d94325fae0c078d202076a37f37afe0c84d96b95&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/82-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51420?repo=metabase/metabase&commitHash=d94325fae0c078d202076a37f37afe0c84d96b95&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51420?repo=metabase/metabase&commitHash=d94325fae0c078d202076a37f37afe0c84d96b95&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51420?repo=metabase/metabase&commitHash=d94325fae0c078d202076a37f37afe0c84d96b95&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts ""before each"" hook for ""should allow you to enable a webhook alert""</code> | Cypress request failed with 400 Bad Request status code. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51420?repo=metabase/metabase&commitHash=d94325fae0c078d202076a37f37afe0c84d96b95&utm_source=gh-comment&runConclusion=FAILURE&runId=584b196a-7417-51dc-92b4-c4e2b2105051) |
| <code>it-generates-a-reaction</code> | Wrong number of arguments passed to metabase-enterprise.metabot-v3.tools.interface/eval148434/fn--148435. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51420?repo=metabase/metabase&commitHash=d94325fae0c078d202076a37f37afe0c84d96b95&utm_source=gh-comment&runConclusion=FAILURE&runId=27252044-9b68-51bd-9309-35321032cc7f) |
| <code>build-request-body-test</code> | The input to the \`build-request-body\` function is invalid because it expects a string but received a UUID. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51420?repo=metabase/metabase&commitHash=d94325fae0c078d202076a37f37afe0c84d96b95&utm_source=gh-comment&runConclusion=FAILURE&runId=8476a3e8-e763-55ae-b0c3-6a168f01cec8) |
| <code>it-generates-a-reaction</code> | Wrong number of arguments passed to metabase-enterprise.metabot-v3.tools.interface/eval148434/fn--148435. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51420?repo=metabase/metabase&commitHash=d94325fae0c078d202076a37f37afe0c84d96b95&utm_source=gh-comment&runConclusion=FAILURE&runId=1a99376f-d5f7-50f4-9ec9-a034386a7086) |

[... and 78 more](https://app.trunk.io/metabase/flaky-tests/pr/51420?repo=metabase/metabase&commitHash=d94325fae0c078d202076a37f37afe0c84d96b95&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:329:redshiftrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerprint-field... | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51420?repo=metabase/metabase&commitHash=d94325fae0c078d202076a37f37afe0c84d96b95&utm_source=gh-comment&runConclusion=FAILURE&runId=6765a8f8-1b83-5662-a6f0-877939991bed) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51420?repo=metabase/metabase&commitHash=d94325fae0c078d202076a37f37afe0c84d96b95&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2745766428,pull_request,closed,,"ü§ñ backported ""docs - remove release page""","  #51410
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2024-12-17 18:52:47+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2024-12-19 21:47:59+00:00,2024-12-19 21:47:57+00:00,https://github.com/metabase/metabase/pull/51418,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2549470618, 'issue_id': 2745766428, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/23_tests-112f99e7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51418?repo=metabase/metabase&commitHash=112f99e7635ecad46ebc5c81e95a6d509e691e6d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51418?repo=metabase/metabase&commitHash=112f99e7635ecad46ebc5c81e95a6d509e691e6d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51418?repo=metabase/metabase&commitHash=112f99e7635ecad46ebc5c81e95a6d509e691e6d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51418?repo=metabase/metabase&commitHash=112f99e7635ecad46ebc5c81e95a6d509e691e6d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51418?repo=metabase/metabase&commitHash=112f99e7635ecad46ebc5c81e95a6d509e691e6d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 17, 19, 49, 17, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-17 19:49:17 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/23_tests-112f99e7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51418?repo=metabase/metabase&commitHash=112f99e7635ecad46ebc5c81e95a6d509e691e6d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51418?repo=metabase/metabase&commitHash=112f99e7635ecad46ebc5c81e95a6d509e691e6d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51418?repo=metabase/metabase&commitHash=112f99e7635ecad46ebc5c81e95a6d509e691e6d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51418?repo=metabase/metabase&commitHash=112f99e7635ecad46ebc5c81e95a6d509e691e6d&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51418?repo=metabase/metabase&commitHash=112f99e7635ecad46ebc5c81e95a6d509e691e6d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2745700442,pull_request,closed,,"ü§ñ backported ""Test that we can go back from the notebook editor""",#50972,github-automation-metabase,2024-12-17 18:22:41+00:00,"['rafpaf', 'github-automation-metabase']",2024-12-17 22:38:25+00:00,2024-12-17 22:38:25+00:00,https://github.com/metabase/metabase/pull/51417,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2549394790, 'issue_id': 2745700442, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/3731_tests-449dd96e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51417?repo=metabase/metabase&commitHash=449dd96ec27b55b8f199f8aa2bb400263b4ea270&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51417?repo=metabase/metabase&commitHash=449dd96ec27b55b8f199f8aa2bb400263b4ea270&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51417?repo=metabase/metabase&commitHash=449dd96ec27b55b8f199f8aa2bb400263b4ea270&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51417?repo=metabase/metabase&commitHash=449dd96ec27b55b8f199f8aa2bb400263b4ea270&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > notebook should let the user navigate back (metabase\\#50971)</code> | The element \\`<button class=""jhuKC SJXBn e1cmp2ny0 V83Zw emotion-16cmion ek9oryr0"">...</button>\\` is being covered by another element \\`<div class=... | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51417?repo=metabase/metabase&commitHash=449dd96ec27b55b8f199f8aa2bb400263b4ea270&utm_source=gh-comment&runConclusion=FAILURE&runId=59e9c9da-3f7a-5ed0-931e-456f358e040c) |\n| <code>scenarios > question > notebook should let the user navigate back (metabase\\#50971)</code> | The element \\`<button class=""jhuKC SJXBn e1cmp2ny0 V83Zw emotion-16cmion ek9oryr0"">...</button>\\` is being covered by another element \\`<div class=... | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51417?repo=metabase/metabase&commitHash=449dd96ec27b55b8f199f8aa2bb400263b4ea270&utm_source=gh-comment&runConclusion=FAILURE&runId=d201ec07-351f-5c08-974b-61f193280ac4) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51417?repo=metabase/metabase&commitHash=449dd96ec27b55b8f199f8aa2bb400263b4ea270&utm_source=gh-comment&runConclusion=FAILURE&runId=2b104ffc-0397-594b-82b5-932ddbd53d9b) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51417?repo=metabase/metabase&commitHash=449dd96ec27b55b8f199f8aa2bb400263b4ea270&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 17, 19, 13, 53, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-17 19:13:53 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/3731_tests-449dd96e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51417?repo=metabase/metabase&commitHash=449dd96ec27b55b8f199f8aa2bb400263b4ea270&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51417?repo=metabase/metabase&commitHash=449dd96ec27b55b8f199f8aa2bb400263b4ea270&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51417?repo=metabase/metabase&commitHash=449dd96ec27b55b8f199f8aa2bb400263b4ea270&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51417?repo=metabase/metabase&commitHash=449dd96ec27b55b8f199f8aa2bb400263b4ea270&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > notebook should let the user navigate back (metabase\#50971)</code> | The element \`<button class=""jhuKC SJXBn e1cmp2ny0 V83Zw emotion-16cmion ek9oryr0"">...</button>\` is being covered by another element \`<div class=... | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51417?repo=metabase/metabase&commitHash=449dd96ec27b55b8f199f8aa2bb400263b4ea270&utm_source=gh-comment&runConclusion=FAILURE&runId=59e9c9da-3f7a-5ed0-931e-456f358e040c) |
| <code>scenarios > question > notebook should let the user navigate back (metabase\#50971)</code> | The element \`<button class=""jhuKC SJXBn e1cmp2ny0 V83Zw emotion-16cmion ek9oryr0"">...</button>\` is being covered by another element \`<div class=... | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51417?repo=metabase/metabase&commitHash=449dd96ec27b55b8f199f8aa2bb400263b4ea270&utm_source=gh-comment&runConclusion=FAILURE&runId=d201ec07-351f-5c08-974b-61f193280ac4) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51417?repo=metabase/metabase&commitHash=449dd96ec27b55b8f199f8aa2bb400263b4ea270&utm_source=gh-comment&runConclusion=FAILURE&runId=2b104ffc-0397-594b-82b5-932ddbd53d9b) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51417?repo=metabase/metabase&commitHash=449dd96ec27b55b8f199f8aa2bb400263b4ea270&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2745621903,pull_request,closed,,"ü§ñ backported ""fix(sdk): Control stacking without distinct z-indexes""","  #49442
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2024-12-17 17:49:13+00:00,"['rafpaf', 'github-automation-metabase']",2024-12-17 22:38:12+00:00,2024-12-17 22:38:11+00:00,https://github.com/metabase/metabase/pull/51416,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2745595799,pull_request,closed,,"ü§ñ backported ""fix(sdk): migrate to custom redux context to allow using the sdk on host apps that use redux""","Manual backport of  #51382


The PR was re-created with basically these steps:
```
git cherry-pick 10b82a7b30c50aed6274fb9b21e654c12a35251b

node codemod.js
yarn lint-eslint-pure --fix
yarn prettier --write
git commit --no-verify

git cherry-pick d14b0b8870bd2a26cab2455304ee0eab6f7831f2
git cherry-pick 09a4f60666594eca8bfd56e235502ca887909445
```

This backport had a failing test because some helper names were up to date with master, I had to make an extra commit to update them
",github-automation-metabase,2024-12-17 17:39:31+00:00,"['npretto', 'github-automation-metabase']",2024-12-18 12:12:19+00:00,2024-12-18 12:02:38+00:00,https://github.com/metabase/metabase/pull/51415,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2549237132, 'issue_id': 2745595799, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff c73950b02d5e1d8edba9306815e39cdb5692678e...4c7c884f17a40e6a20e4a653ded62b186f4426fd.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChoroplethMap.jsx<br>frontend/src/metabase/visualizations/components/ClickActions/ClickActionsPopover.tsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetail.tsx<br>frontend/src/metabase/visualizations/components/TableInteractive/TableInteractive.jsx<br>frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx<br>frontend/src/metabase/visualizations/visualizations/PivotTable/PivotTable.tsx |', 'created_at': datetime.datetime(2024, 12, 17, 18, 12, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2549289304, 'issue_id': 2745595799, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/38180_tests-4c7c884f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51415?repo=metabase/metabase&commitHash=4c7c884f17a40e6a20e4a653ded62b186f4426fd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51415?repo=metabase/metabase&commitHash=4c7c884f17a40e6a20e4a653ded62b186f4426fd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51415?repo=metabase/metabase&commitHash=4c7c884f17a40e6a20e4a653ded62b186f4426fd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51415?repo=metabase/metabase&commitHash=4c7c884f17a40e6a20e4a653ded62b186f4426fd&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51415?repo=metabase/metabase&commitHash=4c7c884f17a40e6a20e4a653ded62b186f4426fd&utm_source=gh-comment&runConclusion=FAILURE&runId=408e1313-56c1-5ab4-be46-0bc69d829d9f) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51415?repo=metabase/metabase&commitHash=4c7c884f17a40e6a20e4a653ded62b186f4426fd&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 17, 18, 32, 23, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-12-17 18:12:26 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff c73950b02d5e1d8edba9306815e39cdb5692678e...4c7c884f17a40e6a20e4a653ded62b186f4426fd.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChoroplethMap.jsx<br>frontend/src/metabase/visualizations/components/ClickActions/ClickActionsPopover.tsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetail.tsx<br>frontend/src/metabase/visualizations/components/TableInteractive/TableInteractive.jsx<br>frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx<br>frontend/src/metabase/visualizations/visualizations/PivotTable/PivotTable.tsx |

trunk-io[bot] on (2024-12-17 18:32:23 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/38180_tests-4c7c884f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51415?repo=metabase/metabase&commitHash=4c7c884f17a40e6a20e4a653ded62b186f4426fd&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51415?repo=metabase/metabase&commitHash=4c7c884f17a40e6a20e4a653ded62b186f4426fd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51415?repo=metabase/metabase&commitHash=4c7c884f17a40e6a20e4a653ded62b186f4426fd&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51415?repo=metabase/metabase&commitHash=4c7c884f17a40e6a20e4a653ded62b186f4426fd&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 24966 should correctly fetch field values for a filter when native question is used for sandboxing (metabase\#24966)</code> | The 'body' property was accessed on an undefined object. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51415?repo=metabase/metabase&commitHash=4c7c884f17a40e6a20e4a653ded62b186f4426fd&utm_source=gh-comment&runConclusion=FAILURE&runId=408e1313-56c1-5ab4-be46-0bc69d829d9f) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51415?repo=metabase/metabase&commitHash=4c7c884f17a40e6a20e4a653ded62b186f4426fd&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2745594084,pull_request,closed,,"ü§ñ backported ""fix(sdk): migrate to custom redux context to allow using the sdk on host apps that use redux""","Manual backport of  #51382


The PR was re-created with basically these steps:
```
git cherry-pick 10b82a7b30c50aed6274fb9b21e654c12a35251b

node codemod.js
yarn lint-eslint-pure --fix
yarn prettier --write
git commit --no-verify

git cherry-pick d14b0b8870bd2a26cab2455304ee0eab6f7831f2
git cherry-pick 09a4f60666594eca8bfd56e235502ca887909445
```
",github-automation-metabase,2024-12-17 17:38:54+00:00,"['npretto', 'github-automation-metabase']",2024-12-18 11:48:18+00:00,2024-12-18 11:48:17+00:00,https://github.com/metabase/metabase/pull/51414,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2549197958, 'issue_id': 2745594084, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff ef5c82a27cb56ea3a288d60d50d7542f53199b4a...cebddf1e71da080ceac1e1fa38c9ff3f2820dd34.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChoroplethMap.jsx<br>frontend/src/metabase/visualizations/components/ClickActions/ClickActionsPopover.tsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetail.tsx<br>frontend/src/metabase/visualizations/components/TableInteractive/TableInteractive.jsx<br>frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx<br>frontend/src/metabase/visualizations/visualizations/PivotTable/PivotTable.tsx |', 'created_at': datetime.datetime(2024, 12, 17, 17, 55, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2549317016, 'issue_id': 2745594084, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51309_tests-cebddf1e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51414?repo=metabase/metabase&commitHash=cebddf1e71da080ceac1e1fa38c9ff3f2820dd34&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51414?repo=metabase/metabase&commitHash=cebddf1e71da080ceac1e1fa38c9ff3f2820dd34&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51414?repo=metabase/metabase&commitHash=cebddf1e71da080ceac1e1fa38c9ff3f2820dd34&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51414?repo=metabase/metabase&commitHash=cebddf1e71da080ceac1e1fa38c9ff3f2820dd34&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51414?repo=metabase/metabase&commitHash=cebddf1e71da080ceac1e1fa38c9ff3f2820dd34&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 17, 18, 44, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2549317022, 'issue_id': 2745594084, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51134_tests-cebddf1e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51414?repo=metabase/metabase&commitHash=cebddf1e71da080ceac1e1fa38c9ff3f2820dd34&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51414?repo=metabase/metabase&commitHash=cebddf1e71da080ceac1e1fa38c9ff3f2820dd34&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51414?repo=metabase/metabase&commitHash=cebddf1e71da080ceac1e1fa38c9ff3f2820dd34&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51414?repo=metabase/metabase&commitHash=cebddf1e71da080ceac1e1fa38c9ff3f2820dd34&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51414?repo=metabase/metabase&commitHash=cebddf1e71da080ceac1e1fa38c9ff3f2820dd34&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 17, 18, 44, 36, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-12-17 17:55:40 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff ef5c82a27cb56ea3a288d60d50d7542f53199b4a...cebddf1e71da080ceac1e1fa38c9ff3f2820dd34.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChoroplethMap.jsx<br>frontend/src/metabase/visualizations/components/ClickActions/ClickActionsPopover.tsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetail.tsx<br>frontend/src/metabase/visualizations/components/TableInteractive/TableInteractive.jsx<br>frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx<br>frontend/src/metabase/visualizations/visualizations/PivotTable/PivotTable.tsx |

trunk-io[bot] on (2024-12-17 18:44:36 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51309_tests-cebddf1e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51414?repo=metabase/metabase&commitHash=cebddf1e71da080ceac1e1fa38c9ff3f2820dd34&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51414?repo=metabase/metabase&commitHash=cebddf1e71da080ceac1e1fa38c9ff3f2820dd34&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51414?repo=metabase/metabase&commitHash=cebddf1e71da080ceac1e1fa38c9ff3f2820dd34&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51414?repo=metabase/metabase&commitHash=cebddf1e71da080ceac1e1fa38c9ff3f2820dd34&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51414?repo=metabase/metabase&commitHash=cebddf1e71da080ceac1e1fa38c9ff3f2820dd34&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-12-17 18:44:36 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51134_tests-cebddf1e-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51414?repo=metabase/metabase&commitHash=cebddf1e71da080ceac1e1fa38c9ff3f2820dd34&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51414?repo=metabase/metabase&commitHash=cebddf1e71da080ceac1e1fa38c9ff3f2820dd34&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51414?repo=metabase/metabase&commitHash=cebddf1e71da080ceac1e1fa38c9ff3f2820dd34&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51414?repo=metabase/metabase&commitHash=cebddf1e71da080ceac1e1fa38c9ff3f2820dd34&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51414?repo=metabase/metabase&commitHash=cebddf1e71da080ceac1e1fa38c9ff3f2820dd34&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2745543601,pull_request,closed,,Revert to using secrets.GITHUB_TOKEN for the auto-approve PR step,"### Description

Using `secrets.METABASE_AUTOMATION_USER_TOKEN` causes the auto-approve PR step to fail with an error like

> Can not approve your own pull request

Revert to using `secrets.GITHUB_TOKEN` instead, which matches what the auto-backport.yml workflow does and what this workflow did previously.

Example of a failed auto-approve. The backport PR is created, it just isn't approved or set to auto-merge by the bot.

https://github.com/metabase/metabase/pull/51254#issuecomment-2542248706
https://github.com/metabase/metabase/pull/51299

### How to verify

Actually, I'm not sure how to test CI changes. Was planning to try back porting this PR if it's approved.

### Demo

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",appleby,2024-12-17 17:17:34+00:00,['appleby'],2025-01-27 22:13:03+00:00,2024-12-18 18:51:38+00:00,https://github.com/metabase/metabase/pull/51413,"[('.CI & Tests', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2552048057, 'issue_id': 2745543601, 'author': 'appleby', 'body': '@metabase-bot backport appleby-backport-bot-test-backport-target', 'created_at': datetime.datetime(2024, 12, 18, 18, 53, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2552050582, 'issue_id': 2745543601, 'author': 'github-actions[bot]', 'body': '@appleby something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12399459201)', 'created_at': datetime.datetime(2024, 12, 18, 18, 55, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2552067961, 'issue_id': 2745543601, 'author': 'appleby', 'body': '> @appleby something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12399459201)\r\n\r\nThis test failed to enable auto-merge because my test target branch doesn\'t have required checks enabled. Presumably this would have succeeded if I had targeted an actual release branch.\r\n\r\nThe backport PR was created and auto-approved: https://github.com/metabase/metabase/pull/51471, though I guess it could be that the ""no auto-approvals"" is similarly just not enforced on that branch.', 'created_at': datetime.datetime(2024, 12, 18, 19, 5, 10, tzinfo=datetime.timezone.utc)}]","appleby (Issue Creator) on (2024-12-18 18:53:26 UTC): @metabase-bot backport appleby-backport-bot-test-backport-target

github-actions[bot] on (2024-12-18 18:55:01 UTC): @appleby something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12399459201)

appleby (Issue Creator) on (2024-12-18 19:05:10 UTC): This test failed to enable auto-merge because my test target branch doesn't have required checks enabled. Presumably this would have succeeded if I had targeted an actual release branch.

The backport PR was created and auto-approved: https://github.com/metabase/metabase/pull/51471, though I guess it could be that the ""no auto-approvals"" is similarly just not enforced on that branch.

"
2745480245,pull_request,closed,,"ü§ñ backported ""Avoid frequent setState calls in the add parameter popover in dashboards""",#51373,github-automation-metabase,2024-12-17 16:52:42+00:00,"['ranquild', 'github-automation-metabase']",2024-12-17 18:27:13+00:00,2024-12-17 17:17:56+00:00,https://github.com/metabase/metabase/pull/51412,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2549219342, 'issue_id': 2745480245, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/1103_tests-0bdcff63-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51412?repo=metabase/metabase&commitHash=0bdcff6363360ec392f0f88f2c2cd13f32060679&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51412?repo=metabase/metabase&commitHash=0bdcff6363360ec392f0f88f2c2cd13f32060679&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51412?repo=metabase/metabase&commitHash=0bdcff6363360ec392f0f88f2c2cd13f32060679&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51412?repo=metabase/metabase&commitHash=0bdcff6363360ec392f0f88f2c2cd13f32060679&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51412?repo=metabase/metabase&commitHash=0bdcff6363360ec392f0f88f2c2cd13f32060679&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 17, 18, 5, 31, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-17 18:05:31 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/1103_tests-0bdcff63-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51412?repo=metabase/metabase&commitHash=0bdcff6363360ec392f0f88f2c2cd13f32060679&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51412?repo=metabase/metabase&commitHash=0bdcff6363360ec392f0f88f2c2cd13f32060679&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51412?repo=metabase/metabase&commitHash=0bdcff6363360ec392f0f88f2c2cd13f32060679&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51412?repo=metabase/metabase&commitHash=0bdcff6363360ec392f0f88f2c2cd13f32060679&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51412?repo=metabase/metabase&commitHash=0bdcff6363360ec392f0f88f2c2cd13f32060679&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2745438473,pull_request,closed,,docs - remove release page,Removes page listing releases. We'll instead redirect to https://github.com/metabase/metabase/releases.,jeff-bruemmer,2024-12-17 16:36:42+00:00,['jeff-bruemmer'],2024-12-19 21:48:26+00:00,2024-12-17 18:51:55+00:00,https://github.com/metabase/metabase/pull/51410,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2745430202,pull_request,closed,,Fix: Workaround for translations of Date picker (of type all).,Running CI for external contribution #48980,uladzimirdev,2024-12-17 16:33:51+00:00,['uladzimirdev'],2024-12-18 13:14:56+00:00,2024-12-18 13:14:32+00:00,https://github.com/metabase/metabase/pull/51409,"[('do not merge', ''), ('.Team/Querying', '')]","[{'comment_id': 2549109850, 'issue_id': 2745430202, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51514_tests-1bfb45f1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51409?repo=metabase/metabase&commitHash=1bfb45f173b2d70ac4560bd96996c77a76189679&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/11-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51409?repo=metabase/metabase&commitHash=1bfb45f173b2d70ac4560bd96996c77a76189679&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51409?repo=metabase/metabase&commitHash=1bfb45f173b2d70ac4560bd96996c77a76189679&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51409?repo=metabase/metabase&commitHash=1bfb45f173b2d70ac4560bd96996c77a76189679&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>SearchFilterDateDisplay displays correct title when value is past1days</code> | The test failed because it couldn\'t find an element with the text ""Yesterday"" in the DOM. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51409?repo=metabase/metabase&commitHash=1bfb45f173b2d70ac4560bd96996c77a76189679&utm_source=gh-comment&runConclusion=FAILURE&runId=deaf2758-ff79-52dc-9768-322ccb36f9bd) |\n| <code>SearchFilterDateDisplay displays correct title when value is thisday</code> | The test failed because the text ""Today"" was not found in the DOM. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51409?repo=metabase/metabase&commitHash=1bfb45f173b2d70ac4560bd96996c77a76189679&utm_source=gh-comment&runConclusion=FAILURE&runId=ecf7dec7-beb0-54bd-bcb4-1eff83a10288) |\n| <code>scenarios > search applying search filters last\\_edited\\_at filter should hydrate last\\_edited\\_at=thisday</code> | The test timed out while trying to find an element with the text ""Today"" in the UI. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51409?repo=metabase/metabase&commitHash=1bfb45f173b2d70ac4560bd96996c77a76189679&utm_source=gh-comment&runConclusion=FAILURE&runId=a75d99d4-36e3-5b06-b7e9-c3ed8b5ee32e) |\n| <code>scenarios > search applying search filters last\\_edited\\_at filter should hydrate last\\_edited\\_at=past1days</code> | The test timed out while trying to find an element with the text ""Yesterday"" in the UI. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51409?repo=metabase/metabase&commitHash=1bfb45f173b2d70ac4560bd96996c77a76189679&utm_source=gh-comment&runConclusion=FAILURE&runId=f17c865e-ebb5-54b4-98d0-30652e5e389b) |\n\n[... and 7 more](https://app.trunk.io/metabase/flaky-tests/pr/51409?repo=metabase/metabase&commitHash=1bfb45f173b2d70ac4560bd96996c77a76189679&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51409?repo=metabase/metabase&commitHash=1bfb45f173b2d70ac4560bd96996c77a76189679&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 17, 17, 27, 10, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-17 17:27:10 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51514_tests-1bfb45f1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51409?repo=metabase/metabase&commitHash=1bfb45f173b2d70ac4560bd96996c77a76189679&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/11-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51409?repo=metabase/metabase&commitHash=1bfb45f173b2d70ac4560bd96996c77a76189679&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51409?repo=metabase/metabase&commitHash=1bfb45f173b2d70ac4560bd96996c77a76189679&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51409?repo=metabase/metabase&commitHash=1bfb45f173b2d70ac4560bd96996c77a76189679&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>SearchFilterDateDisplay displays correct title when value is past1days</code> | The test failed because it couldn't find an element with the text ""Yesterday"" in the DOM. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51409?repo=metabase/metabase&commitHash=1bfb45f173b2d70ac4560bd96996c77a76189679&utm_source=gh-comment&runConclusion=FAILURE&runId=deaf2758-ff79-52dc-9768-322ccb36f9bd) |
| <code>SearchFilterDateDisplay displays correct title when value is thisday</code> | The test failed because the text ""Today"" was not found in the DOM. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51409?repo=metabase/metabase&commitHash=1bfb45f173b2d70ac4560bd96996c77a76189679&utm_source=gh-comment&runConclusion=FAILURE&runId=ecf7dec7-beb0-54bd-bcb4-1eff83a10288) |
| <code>scenarios > search applying search filters last\_edited\_at filter should hydrate last\_edited\_at=thisday</code> | The test timed out while trying to find an element with the text ""Today"" in the UI. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51409?repo=metabase/metabase&commitHash=1bfb45f173b2d70ac4560bd96996c77a76189679&utm_source=gh-comment&runConclusion=FAILURE&runId=a75d99d4-36e3-5b06-b7e9-c3ed8b5ee32e) |
| <code>scenarios > search applying search filters last\_edited\_at filter should hydrate last\_edited\_at=past1days</code> | The test timed out while trying to find an element with the text ""Yesterday"" in the UI. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51409?repo=metabase/metabase&commitHash=1bfb45f173b2d70ac4560bd96996c77a76189679&utm_source=gh-comment&runConclusion=FAILURE&runId=f17c865e-ebb5-54b4-98d0-30652e5e389b) |

[... and 7 more](https://app.trunk.io/metabase/flaky-tests/pr/51409?repo=metabase/metabase&commitHash=1bfb45f173b2d70ac4560bd96996c77a76189679&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51409?repo=metabase/metabase&commitHash=1bfb45f173b2d70ac4560bd96996c77a76189679&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2745398841,pull_request,closed,,Don't crash for ignored status codes in embedding responses,"resolves #51386

- short circuit tracking for ignored requests
- add fall-through for ignored embedding requests",escherize,2024-12-17 16:23:16+00:00,['escherize'],2024-12-19 21:00:14+00:00,2024-12-18 22:23:57+00:00,https://github.com/metabase/metabase/pull/51408,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2549023174, 'issue_id': 2745398841, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/128650_tests-985592ea-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51408?repo=metabase/metabase&commitHash=985592ea8dd7c670375f736001b95966c59c73d0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51408?repo=metabase/metabase&commitHash=985592ea8dd7c670375f736001b95966c59c73d0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51408?repo=metabase/metabase&commitHash=985592ea8dd7c670375f736001b95966c59c73d0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51408?repo=metabase/metabase&commitHash=985592ea8dd7c670375f736001b95966c59c73d0&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51408?repo=metabase/metabase&commitHash=985592ea8dd7c670375f736001b95966c59c73d0&utm_source=gh-comment&runConclusion=FAILURE&runId=5cf790bb-6ca5-5d09-91bd-706d96a3787a) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51408?repo=metabase/metabase&commitHash=985592ea8dd7c670375f736001b95966c59c73d0&utm_source=gh-comment&runConclusion=FAILURE&runId=cbc3ba81-f74a-5b3c-a879-931e1f5cd338) |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they were missing. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51408?repo=metabase/metabase&commitHash=985592ea8dd7c670375f736001b95966c59c73d0&utm_source=gh-comment&runConclusion=FAILURE&runId=72cf5d83-fd9c-5c07-bbf9-97c85adfad8e) |\n| <code>datetime-binning-options-test-3</code> | SAVEPOINT does not exist | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51408?repo=metabase/metabase&commitHash=985592ea8dd7c670375f736001b95966c59c73d0&utm_source=gh-comment&runConclusion=FAILURE&runId=f0d364b5-d93b-5b1b-9f99-f5b4248c71bf) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51408?repo=metabase/metabase&commitHash=985592ea8dd7c670375f736001b95966c59c73d0&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 17, 16, 53, 46, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-17 16:53:46 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/128650_tests-985592ea-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51408?repo=metabase/metabase&commitHash=985592ea8dd7c670375f736001b95966c59c73d0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51408?repo=metabase/metabase&commitHash=985592ea8dd7c670375f736001b95966c59c73d0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51408?repo=metabase/metabase&commitHash=985592ea8dd7c670375f736001b95966c59c73d0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51408?repo=metabase/metabase&commitHash=985592ea8dd7c670375f736001b95966c59c73d0&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > organization > entity picker collection picker should show dashboards in personal collections when apropriate, even if there are no sub...</code> | The test timed out while trying to find an element with data-testid ""item-picker-level-1"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51408?repo=metabase/metabase&commitHash=985592ea8dd7c670375f736001b95966c59c73d0&utm_source=gh-comment&runConclusion=FAILURE&runId=5cf790bb-6ca5-5d09-91bd-706d96a3787a) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51408?repo=metabase/metabase&commitHash=985592ea8dd7c670375f736001b95966c59c73d0&utm_source=gh-comment&runConclusion=FAILURE&runId=cbc3ba81-f74a-5b3c-a879-931e1f5cd338) |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they were missing. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51408?repo=metabase/metabase&commitHash=985592ea8dd7c670375f736001b95966c59c73d0&utm_source=gh-comment&runConclusion=FAILURE&runId=72cf5d83-fd9c-5c07-bbf9-97c85adfad8e) |
| <code>datetime-binning-options-test-3</code> | SAVEPOINT does not exist | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51408?repo=metabase/metabase&commitHash=985592ea8dd7c670375f736001b95966c59c73d0&utm_source=gh-comment&runConclusion=FAILURE&runId=f0d364b5-d93b-5b1b-9f99-f5b4248c71bf) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51408?repo=metabase/metabase&commitHash=985592ea8dd7c670375f736001b95966c59c73d0&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2745362734,pull_request,closed,,"ü§ñ backported ""Replace Search Index setting with a table""","  #51338
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2024-12-17 16:09:33+00:00,"['crisptrutski', 'github-automation-metabase']",2024-12-17 18:51:03+00:00,2024-12-17 18:16:15+00:00,https://github.com/metabase/metabase/pull/51407,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2549105480, 'issue_id': 2745362734, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/128569_tests-95d2ddab-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51407?repo=metabase/metabase&commitHash=95d2ddab08b2ea41af4809bb7be9c3ce9de74eb8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51407?repo=metabase/metabase&commitHash=95d2ddab08b2ea41af4809bb7be9c3ce9de74eb8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51407?repo=metabase/metabase&commitHash=95d2ddab08b2ea41af4809bb7be9c3ce9de74eb8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51407?repo=metabase/metabase&commitHash=95d2ddab08b2ea41af4809bb7be9c3ce9de74eb8&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>skip-analysis-of-fields-with-current-fingerprint-version-test</code> | Insert or update operation on \'metabase\\_field\' table failed due to foreign key constraint violation. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51407?repo=metabase/metabase&commitHash=95d2ddab08b2ea41af4809bb7be9c3ce9de74eb8&utm_source=gh-comment&runConclusion=FAILURE&runId=f3e0c5a3-a188-52fa-b2d9-bf1a7069eee8) |\n| <code>analyze-unhidden-tables-test</code> | Insert or update operation on \'metabase\\_field\' table failed due to foreign key constraint \'fk\\_field\\_ref\\_table\\_id\' violation. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51407?repo=metabase/metabase&commitHash=95d2ddab08b2ea41af4809bb7be9c3ce9de74eb8&utm_source=gh-comment&runConclusion=FAILURE&runId=df701ed2-b6fd-52e8-b434-d0f45597a3dd) |\n| <code>scenarios > models listing should allow using models in native queries</code> | The test timed out while trying to find an element with data-testid ""TableInteractive-root"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51407?repo=metabase/metabase&commitHash=95d2ddab08b2ea41af4809bb7be9c3ce9de74eb8&utm_source=gh-comment&runConclusion=FAILURE&runId=17942768-5b3e-5d15-8ed7-c93a703b3da9) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51407?repo=metabase/metabase&commitHash=95d2ddab08b2ea41af4809bb7be9c3ce9de74eb8&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 17, 17, 25, 30, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-17 17:25:30 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/128569_tests-95d2ddab-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51407?repo=metabase/metabase&commitHash=95d2ddab08b2ea41af4809bb7be9c3ce9de74eb8&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51407?repo=metabase/metabase&commitHash=95d2ddab08b2ea41af4809bb7be9c3ce9de74eb8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51407?repo=metabase/metabase&commitHash=95d2ddab08b2ea41af4809bb7be9c3ce9de74eb8&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51407?repo=metabase/metabase&commitHash=95d2ddab08b2ea41af4809bb7be9c3ce9de74eb8&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>skip-analysis-of-fields-with-current-fingerprint-version-test</code> | Insert or update operation on 'metabase\_field' table failed due to foreign key constraint violation. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51407?repo=metabase/metabase&commitHash=95d2ddab08b2ea41af4809bb7be9c3ce9de74eb8&utm_source=gh-comment&runConclusion=FAILURE&runId=f3e0c5a3-a188-52fa-b2d9-bf1a7069eee8) |
| <code>analyze-unhidden-tables-test</code> | Insert or update operation on 'metabase\_field' table failed due to foreign key constraint 'fk\_field\_ref\_table\_id' violation. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51407?repo=metabase/metabase&commitHash=95d2ddab08b2ea41af4809bb7be9c3ce9de74eb8&utm_source=gh-comment&runConclusion=FAILURE&runId=df701ed2-b6fd-52e8-b434-d0f45597a3dd) |
| <code>scenarios > models listing should allow using models in native queries</code> | The test timed out while trying to find an element with data-testid ""TableInteractive-root"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51407?repo=metabase/metabase&commitHash=95d2ddab08b2ea41af4809bb7be9c3ce9de74eb8&utm_source=gh-comment&runConclusion=FAILURE&runId=17942768-5b3e-5d15-8ed7-c93a703b3da9) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51407?repo=metabase/metabase&commitHash=95d2ddab08b2ea41af4809bb7be9c3ce9de74eb8&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2745274185,pull_request,closed,,"ü§ñ backported ""ci(sdk): skip flaky mantine styles test for sdk""",#51404,github-automation-metabase,2024-12-17 15:42:35+00:00,"['heypoom', 'github-automation-metabase']",2024-12-17 16:22:03+00:00,2024-12-17 15:58:46+00:00,https://github.com/metabase/metabase/pull/51406,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2548933086, 'issue_id': 2745274185, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/23_tests-a2876642-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51406?repo=metabase/metabase&commitHash=a2876642f8dc723a5f6a3befee7071c27a96b9ef&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51406?repo=metabase/metabase&commitHash=a2876642f8dc723a5f6a3befee7071c27a96b9ef&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51406?repo=metabase/metabase&commitHash=a2876642f8dc723a5f6a3befee7071c27a96b9ef&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51406?repo=metabase/metabase&commitHash=a2876642f8dc723a5f6a3befee7071c27a96b9ef&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51406?repo=metabase/metabase&commitHash=a2876642f8dc723a5f6a3befee7071c27a96b9ef&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 17, 16, 22, 2, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-17 16:22:02 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/23_tests-a2876642-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51406?repo=metabase/metabase&commitHash=a2876642f8dc723a5f6a3befee7071c27a96b9ef&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51406?repo=metabase/metabase&commitHash=a2876642f8dc723a5f6a3befee7071c27a96b9ef&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51406?repo=metabase/metabase&commitHash=a2876642f8dc723a5f6a3befee7071c27a96b9ef&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51406?repo=metabase/metabase&commitHash=a2876642f8dc723a5f6a3befee7071c27a96b9ef&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51406?repo=metabase/metabase&commitHash=a2876642f8dc723a5f6a3befee7071c27a96b9ef&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2745272403,pull_request,closed,,"ü§ñ backported ""ci(sdk): skip flaky mantine styles test for sdk""",#51404,github-automation-metabase,2024-12-17 15:41:57+00:00,"['heypoom', 'github-automation-metabase']",2024-12-17 15:44:32+00:00,2024-12-17 15:44:31+00:00,https://github.com/metabase/metabase/pull/51405,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2745254047,pull_request,closed,,ci(sdk): skip flaky mantine styles test for sdk,"![CleanShot 2567-12-17 at 22 35 02@2x](https://github.com/user-attachments/assets/087a1258-9a20-4b2e-abb5-575d26bb137b)

this is failing in both master and release-x.52.x branches. let's skip it for now",heypoom,2024-12-17 15:36:08+00:00,['heypoom'],2024-12-17 15:59:14+00:00,2024-12-17 15:40:56+00:00,https://github.com/metabase/metabase/pull/51404,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2548796602, 'issue_id': 2745254047, 'author': 'heypoom', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 12, 17, 15, 41, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2548802396, 'issue_id': 2745254047, 'author': 'github-actions[bot]', 'body': '@heypoom something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12376388227)', 'created_at': datetime.datetime(2024, 12, 17, 15, 43, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 2548857348, 'issue_id': 2745254047, 'author': 'github-actions[bot]', 'body': 'üöÄ This should also be released by [v0.52.4](https://github.com/metabase/metabase/milestone/294)', 'created_at': datetime.datetime(2024, 12, 17, 15, 59, 13, tzinfo=datetime.timezone.utc)}]","heypoom (Issue Creator) on (2024-12-17 15:41:11 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-12-17 15:43:11 UTC): @heypoom something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12376388227)

github-actions[bot] on (2024-12-17 15:59:13 UTC): üöÄ This should also be released by [v0.52.4](https://github.com/metabase/metabase/milestone/294)

"
2745237698,pull_request,closed,,"ü§ñ backported ""Avoid frequent setState calls in the add parameter popover in dashboards""",#51373,github-automation-metabase,2024-12-17 15:29:18+00:00,"['ranquild', 'github-automation-metabase']",2024-12-17 16:55:43+00:00,2024-12-17 16:33:43+00:00,https://github.com/metabase/metabase/pull/51403,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2548925077, 'issue_id': 2745237698, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13081_tests-39d50466-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51403?repo=metabase/metabase&commitHash=39d504660cf99378832b972552c4f6abc78ea5d5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51403?repo=metabase/metabase&commitHash=39d504660cf99378832b972552c4f6abc78ea5d5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51403?repo=metabase/metabase&commitHash=39d504660cf99378832b972552c4f6abc78ea5d5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51403?repo=metabase/metabase&commitHash=39d504660cf99378832b972552c4f6abc78ea5d5&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51403?repo=metabase/metabase&commitHash=39d504660cf99378832b972552c4f6abc78ea5d5&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 17, 16, 19, 6, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-17 16:19:06 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13081_tests-39d50466-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51403?repo=metabase/metabase&commitHash=39d504660cf99378832b972552c4f6abc78ea5d5&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51403?repo=metabase/metabase&commitHash=39d504660cf99378832b972552c4f6abc78ea5d5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51403?repo=metabase/metabase&commitHash=39d504660cf99378832b972552c4f6abc78ea5d5&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51403?repo=metabase/metabase&commitHash=39d504660cf99378832b972552c4f6abc78ea5d5&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51403?repo=metabase/metabase&commitHash=39d504660cf99378832b972552c4f6abc78ea5d5&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2745171975,pull_request,closed,,ci(sdk): re-enable sdk e2e cross version tests for 52 branch,"Re-enables embedding cross version testing for 52 branch. For real this time!

## Why did the workflow fail?

1. We released the SDK from [master](https://github.com/metabase/metabase/actions/workflows/release-embedding-sdk.yml) instead of from `release-x.52.x` and that causes the cross-version tests to break, because it sparsed-checkout from the git tag `embedding-sdk-0.52.4-nightly` and it brings e2e changes from the `master` branch that is inherently incompatible with `release-x.52.x`
2. The `styles-test` tests was flaking most of the time. 

## How did we fix it?

- We bumped the sdk version number in `master` to 52.4 (instead of 52.2), then released `0.52.5-nightly` from `release-x.52.x` to reconcile the e2e tests with the correct version
- We skipped the failing test case for styles testing.

## How to verify

- Run to check: https://github.com/metabase/metabase/actions/runs/12377949070/job/34549820773?pr=51402.
  - Check that the above has green CI.
  - Commit with passing checks: https://github.com/metabase/metabase/pull/51402/commits/d1a688504f909b9beee8c02fcbf4d227184c8481
  - Note that this is done by tricking the workflow into thinking that this branch is ""release-x.52.x"", see https://github.com/metabase/metabase/pull/51402/commits/09026adc45e036d5e060afbb14ad383553b05bc3 for more info.

![CleanShot 2567-12-18 at 00 41 44@2x](https://github.com/user-attachments/assets/770ebec2-6464-4859-9142-6f106a63ca1f)
",heypoom,2024-12-17 15:03:59+00:00,['heypoom'],2024-12-17 18:31:24+00:00,2024-12-17 18:03:07+00:00,https://github.com/metabase/metabase/pull/51402,"[('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2549099350, 'issue_id': 2745171975, 'author': 'heypoom', 'body': ""Just updated the git tag `embedding-sdk-0.52.5-nightly` to point to #51405 (+1 commit), so the styles test should be skipped soon. Cross-version tests sparse checkout e2e test scenarios from that git tag, so a bit of manual work is needed if we don't want to release yet another version of the sdk.\r\n\r\n![CleanShot 2567-12-18 at 00 20 32@2x](https://github.com/user-attachments/assets/4a1ff4c2-ba16-4265-9ef2-86e3d1374079)"", 'created_at': datetime.datetime(2024, 12, 17, 17, 22, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2549287151, 'issue_id': 2745171975, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/23_tests-de0ada92-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51402?repo=metabase/metabase&commitHash=de0ada924d8409626a60a32ea39fda9030e87420&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51402?repo=metabase/metabase&commitHash=de0ada924d8409626a60a32ea39fda9030e87420&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51402?repo=metabase/metabase&commitHash=de0ada924d8409626a60a32ea39fda9030e87420&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51402?repo=metabase/metabase&commitHash=de0ada924d8409626a60a32ea39fda9030e87420&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51402?repo=metabase/metabase&commitHash=de0ada924d8409626a60a32ea39fda9030e87420&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 17, 18, 31, 22, tzinfo=datetime.timezone.utc)}]","heypoom (Issue Creator) on (2024-12-17 17:22:39 UTC): Just updated the git tag `embedding-sdk-0.52.5-nightly` to point to #51405 (+1 commit), so the styles test should be skipped soon. Cross-version tests sparse checkout e2e test scenarios from that git tag, so a bit of manual work is needed if we don't want to release yet another version of the sdk.

![CleanShot 2567-12-18 at 00 20 32@2x](https://github.com/user-attachments/assets/4a1ff4c2-ba16-4265-9ef2-86e3d1374079)

trunk-io[bot] on (2024-12-17 18:31:22 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/23_tests-de0ada92-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51402?repo=metabase/metabase&commitHash=de0ada924d8409626a60a32ea39fda9030e87420&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51402?repo=metabase/metabase&commitHash=de0ada924d8409626a60a32ea39fda9030e87420&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51402?repo=metabase/metabase&commitHash=de0ada924d8409626a60a32ea39fda9030e87420&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51402?repo=metabase/metabase&commitHash=de0ada924d8409626a60a32ea39fda9030e87420&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51402?repo=metabase/metabase&commitHash=de0ada924d8409626a60a32ea39fda9030e87420&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2745122113,pull_request,closed,,Update SDK version to 0.52.5-nightly,Update Readme version references and published npm package version to 0.52.5-nightly,github-automation-metabase,2024-12-17 14:44:22+00:00,"['heypoom', 'github-automation-metabase']",2024-12-17 14:49:24+00:00,2024-12-17 14:48:58+00:00,https://github.com/metabase/metabase/pull/51396,"[('no-backport', 'Do not backport this PR to any branch')]",[],
2745120635,pull_request,closed,,Show errors from backend in Create API key modal,This PR consists of a [PR written by a community contributor](https://github.com/metabase/metabase/pull/47616) ‚Äì @antonhedstrom ‚Äì plus a small change from me ,rafpaf,2024-12-17 14:43:13+00:00,['rafpaf'],2025-01-10 15:31:30+00:00,2024-12-20 15:36:55+00:00,https://github.com/metabase/metabase/pull/51395,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2548830387, 'issue_id': 2745120635, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51603_tests-67140723-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51395?repo=metabase/metabase&commitHash=67140723360be0da8a243fddb61522433e1f2912&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51395?repo=metabase/metabase&commitHash=67140723360be0da8a243fddb61522433e1f2912&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51395?repo=metabase/metabase&commitHash=67140723360be0da8a243fddb61522433e1f2912&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51395?repo=metabase/metabase&commitHash=67140723360be0da8a243fddb61522433e1f2912&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51395?repo=metabase/metabase&commitHash=67140723360be0da8a243fddb61522433e1f2912&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 17, 15, 51, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2557177142, 'issue_id': 2745120635, 'author': 'npfitz', 'body': ""Looks good. I haven't seen the pattern of looking at the response object to render different modals. Also, a bit wary of wrapping the error in the div. We should ensure that it doesn't affect positioning"", 'created_at': datetime.datetime(2024, 12, 20, 15, 2, 33, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-17 15:51:19 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51603_tests-67140723-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51395?repo=metabase/metabase&commitHash=67140723360be0da8a243fddb61522433e1f2912&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51395?repo=metabase/metabase&commitHash=67140723360be0da8a243fddb61522433e1f2912&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51395?repo=metabase/metabase&commitHash=67140723360be0da8a243fddb61522433e1f2912&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51395?repo=metabase/metabase&commitHash=67140723360be0da8a243fddb61522433e1f2912&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51395?repo=metabase/metabase&commitHash=67140723360be0da8a243fddb61522433e1f2912&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

npfitz on (2024-12-20 15:02:33 UTC): Looks good. I haven't seen the pattern of looking at the response object to render different modals. Also, a bit wary of wrapping the error in the div. We should ensure that it doesn't affect positioning

"
2745096370,pull_request,closed,,"ü§ñ backported ""Add story for overlays""","  #49501
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2024-12-17 14:30:07+00:00,"['rafpaf', 'github-automation-metabase']",2024-12-17 16:21:52+00:00,2024-12-17 16:21:52+00:00,https://github.com/metabase/metabase/pull/51394,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2744973914,pull_request,closed,,"ü§ñ backported ""Send pulse asynchronously with a small pool size""","  #51380
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2024-12-17 13:39:28+00:00,"['qnkhuat', 'github-automation-metabase']",2024-12-18 05:12:09+00:00,2024-12-18 04:01:17+00:00,https://github.com/metabase/metabase/pull/51392,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2548582517, 'issue_id': 2744973914, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/129375_tests-252edf45-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51392?repo=metabase/metabase&commitHash=252edf4513accbc33ff1f92b2b4c18f876a0e109&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51392?repo=metabase/metabase&commitHash=252edf4513accbc33ff1f92b2b4c18f876a0e109&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51392?repo=metabase/metabase&commitHash=252edf4513accbc33ff1f92b2b4c18f876a0e109&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51392?repo=metabase/metabase&commitHash=252edf4513accbc33ff1f92b2b4c18f876a0e109&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>issue 16584 should pass parameters when running with \'Run select text\' (metabase\\#16584)</code> | The test timed out while trying to find an element with the placeholder text ""Country"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51392?repo=metabase/metabase&commitHash=252edf4513accbc33ff1f92b2b4c18f876a0e109&utm_source=gh-comment&runConclusion=FAILURE&runId=12b1a483-078f-5bbf-8ef9-519a14b0a7dc) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>datetime-binning-options-test-3</code> | SAVEPOINT does not exist | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51392?repo=metabase/metabase&commitHash=252edf4513accbc33ff1f92b2b4c18f876a0e109&utm_source=gh-comment&runConclusion=FAILURE&runId=d03bb3b4-45dd-557a-8cb1-102849d4d025) |\n| <code>public-queries-are-counted-test</code> | Timeout after 300ms while fetching a public Card. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51392?repo=metabase/metabase&commitHash=252edf4513accbc33ff1f92b2b4c18f876a0e109&utm_source=gh-comment&runConclusion=FAILURE&runId=6a383e0c-08b1-5730-9e56-752f40935e2c) |\n| <code>temporal-extraction-with-filter-expresion-tests</code> | The query result set was closed, preventing further processing. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51392?repo=metabase/metabase&commitHash=252edf4513accbc33ff1f92b2b4c18f876a0e109&utm_source=gh-comment&runConclusion=FAILURE&runId=cf2ffd41-8b1b-5f06-970e-cd647b741bde) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51392?repo=metabase/metabase&commitHash=252edf4513accbc33ff1f92b2b4c18f876a0e109&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 17, 14, 17, 46, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-17 14:17:46 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/129375_tests-252edf45-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51392?repo=metabase/metabase&commitHash=252edf4513accbc33ff1f92b2b4c18f876a0e109&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51392?repo=metabase/metabase&commitHash=252edf4513accbc33ff1f92b2b4c18f876a0e109&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/3-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51392?repo=metabase/metabase&commitHash=252edf4513accbc33ff1f92b2b4c18f876a0e109&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51392?repo=metabase/metabase&commitHash=252edf4513accbc33ff1f92b2b4c18f876a0e109&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>issue 16584 should pass parameters when running with 'Run select text' (metabase\#16584)</code> | The test timed out while trying to find an element with the placeholder text ""Country"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51392?repo=metabase/metabase&commitHash=252edf4513accbc33ff1f92b2b4c18f876a0e109&utm_source=gh-comment&runConclusion=FAILURE&runId=12b1a483-078f-5bbf-8ef9-519a14b0a7dc) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>datetime-binning-options-test-3</code> | SAVEPOINT does not exist | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51392?repo=metabase/metabase&commitHash=252edf4513accbc33ff1f92b2b4c18f876a0e109&utm_source=gh-comment&runConclusion=FAILURE&runId=d03bb3b4-45dd-557a-8cb1-102849d4d025) |
| <code>public-queries-are-counted-test</code> | Timeout after 300ms while fetching a public Card. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51392?repo=metabase/metabase&commitHash=252edf4513accbc33ff1f92b2b4c18f876a0e109&utm_source=gh-comment&runConclusion=FAILURE&runId=6a383e0c-08b1-5730-9e56-752f40935e2c) |
| <code>temporal-extraction-with-filter-expresion-tests</code> | The query result set was closed, preventing further processing. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51392?repo=metabase/metabase&commitHash=252edf4513accbc33ff1f92b2b4c18f876a0e109&utm_source=gh-comment&runConclusion=FAILURE&runId=cf2ffd41-8b1b-5f06-970e-cd647b741bde) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51392?repo=metabase/metabase&commitHash=252edf4513accbc33ff1f92b2b4c18f876a0e109&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2744949045,pull_request,closed,,ci(sdk): reconcile sdk version number in 52 branch with npm,"We have released [v0.52.4-nightly](https://www.npmjs.com/package/@metabase/embedding-sdk-react/v/0.52.4-nightly?activeTab=versions) to NPM by using ""[release from master]( https://github.com/metabase/metabase/actions/workflows/release-embedding-sdk.yml)"", but that broke cross-version tests (see https://github.com/metabase/metabase/pull/51389). This also breaks releasing from `release-x.52.x` from the release workflow as it still understands that 0.52.2 is the latest version:

<img src=""https://github.com/user-attachments/assets/027a96a0-9c52-4c73-8988-be3a1fa3369b"" width=""600"">

Let's bump the version number to `0.52.4-nightly` to match what we have in NPM.
",heypoom,2024-12-17 13:28:29+00:00,['heypoom'],2024-12-17 14:29:00+00:00,2024-12-17 14:28:33+00:00,https://github.com/metabase/metabase/pull/51391,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2548581953, 'issue_id': 2744949045, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/25_tests-3e1c407f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51391?repo=metabase/metabase&commitHash=3e1c407fd5ee518af3d6c70bfdbba9ff1cff4630&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51391?repo=metabase/metabase&commitHash=3e1c407fd5ee518af3d6c70bfdbba9ff1cff4630&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51391?repo=metabase/metabase&commitHash=3e1c407fd5ee518af3d6c70bfdbba9ff1cff4630&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51391?repo=metabase/metabase&commitHash=3e1c407fd5ee518af3d6c70bfdbba9ff1cff4630&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding-sdk > interactive-question can save a question to a pre-defined collection</code> | The expected value of 15 was not found, but null was returned instead. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51391?repo=metabase/metabase&commitHash=3e1c407fd5ee518af3d6c70bfdbba9ff1cff4630&utm_source=gh-comment&runConclusion=FAILURE&runId=ad3375b9-8799-5175-bc3a-aeaf2f1f419b) |\n| <code>scenarios > embedding-sdk > create-question can save a question in a dashboard</code> | The test expected the value \'undefined\' to be equal to 9, but it was not. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51391?repo=metabase/metabase&commitHash=3e1c407fd5ee518af3d6c70bfdbba9ff1cff4630&utm_source=gh-comment&runConclusion=FAILURE&runId=baed62ff-5a50-5e97-8171-3ec5192bea8f) |\n| <code>scenarios > embedding-sdk > create-question can create a question via the CreateQuestion component</code> | The expected value was undefined, but the actual value was null. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51391?repo=metabase/metabase&commitHash=3e1c407fd5ee518af3d6c70bfdbba9ff1cff4630&utm_source=gh-comment&runConclusion=FAILURE&runId=b46535ec-f578-5f6c-a582-b137f3832010) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding-sdk > styles modals and tooltips mantine modals should render with our styles</code> | Unable to find an element with the text ""Our analytics"" within 4000ms, possibly due to broken or multiple elements. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51391?repo=metabase/metabase&commitHash=3e1c407fd5ee518af3d6c70bfdbba9ff1cff4630&utm_source=gh-comment&runConclusion=FAILURE&runId=f064db1a-334a-58ea-8042-b1ea28a69a7a) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51391?repo=metabase/metabase&commitHash=3e1c407fd5ee518af3d6c70bfdbba9ff1cff4630&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 17, 14, 17, 32, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-17 14:17:32 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/25_tests-3e1c407f-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51391?repo=metabase/metabase&commitHash=3e1c407fd5ee518af3d6c70bfdbba9ff1cff4630&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/3-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51391?repo=metabase/metabase&commitHash=3e1c407fd5ee518af3d6c70bfdbba9ff1cff4630&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51391?repo=metabase/metabase&commitHash=3e1c407fd5ee518af3d6c70bfdbba9ff1cff4630&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51391?repo=metabase/metabase&commitHash=3e1c407fd5ee518af3d6c70bfdbba9ff1cff4630&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding-sdk > interactive-question can save a question to a pre-defined collection</code> | The expected value of 15 was not found, but null was returned instead. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51391?repo=metabase/metabase&commitHash=3e1c407fd5ee518af3d6c70bfdbba9ff1cff4630&utm_source=gh-comment&runConclusion=FAILURE&runId=ad3375b9-8799-5175-bc3a-aeaf2f1f419b) |
| <code>scenarios > embedding-sdk > create-question can save a question in a dashboard</code> | The test expected the value 'undefined' to be equal to 9, but it was not. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51391?repo=metabase/metabase&commitHash=3e1c407fd5ee518af3d6c70bfdbba9ff1cff4630&utm_source=gh-comment&runConclusion=FAILURE&runId=baed62ff-5a50-5e97-8171-3ec5192bea8f) |
| <code>scenarios > embedding-sdk > create-question can create a question via the CreateQuestion component</code> | The expected value was undefined, but the actual value was null. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51391?repo=metabase/metabase&commitHash=3e1c407fd5ee518af3d6c70bfdbba9ff1cff4630&utm_source=gh-comment&runConclusion=FAILURE&runId=b46535ec-f578-5f6c-a582-b137f3832010) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding-sdk > styles modals and tooltips mantine modals should render with our styles</code> | Unable to find an element with the text ""Our analytics"" within 4000ms, possibly due to broken or multiple elements. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51391?repo=metabase/metabase&commitHash=3e1c407fd5ee518af3d6c70bfdbba9ff1cff4630&utm_source=gh-comment&runConclusion=FAILURE&runId=f064db1a-334a-58ea-8042-b1ea28a69a7a) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51391?repo=metabase/metabase&commitHash=3e1c407fd5ee518af3d6c70bfdbba9ff1cff4630&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2744940229,pull_request,closed,,[serdes] make logs and errors a bit more consistent,"During last few discoveries for the errors I did some changes in how errors are reported, how logs are treated, etc; errors were false alarms, but those changes are fine. :)",piranha,2024-12-17 13:24:47+00:00,['piranha'],2025-01-27 22:13:04+00:00,2024-12-18 14:12:02+00:00,https://github.com/metabase/metabase/pull/51390,"[('Operation/Serialization', 'Enterprise contents migration'), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2548510520, 'issue_id': 2744940229, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/125456_tests-be3eb556-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51390?repo=metabase/metabase&commitHash=be3eb556657c107a140a53ddc23d632e70f91d09&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51390?repo=metabase/metabase&commitHash=be3eb556657c107a140a53ddc23d632e70f91d09&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51390?repo=metabase/metabase&commitHash=be3eb556657c107a140a53ddc23d632e70f91d09&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51390?repo=metabase/metabase&commitHash=be3eb556657c107a140a53ddc23d632e70f91d09&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > visualizations > legend should toggle series visibility in the query builder</code> | The test timed out waiting for an element with data-testid ""echarts-tooltip"" to appear. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51390?repo=metabase/metabase&commitHash=be3eb556657c107a140a53ddc23d632e70f91d09&utm_source=gh-comment&runConclusion=FAILURE&runId=edf9fc45-8306-535d-9af0-09f3cc2f5b5f) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51390?repo=metabase/metabase&commitHash=be3eb556657c107a140a53ddc23d632e70f91d09&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 17, 13, 48, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2548709411, 'issue_id': 2744940229, 'author': 'piranha', 'body': ""Ah, it's all fine, just expected a different message format, heh."", 'created_at': datetime.datetime(2024, 12, 17, 15, 10, 26, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-17 13:48:21 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/125456_tests-be3eb556-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51390?repo=metabase/metabase&commitHash=be3eb556657c107a140a53ddc23d632e70f91d09&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51390?repo=metabase/metabase&commitHash=be3eb556657c107a140a53ddc23d632e70f91d09&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51390?repo=metabase/metabase&commitHash=be3eb556657c107a140a53ddc23d632e70f91d09&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51390?repo=metabase/metabase&commitHash=be3eb556657c107a140a53ddc23d632e70f91d09&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > visualizations > legend should toggle series visibility in the query builder</code> | The test timed out waiting for an element with data-testid ""echarts-tooltip"" to appear. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51390?repo=metabase/metabase&commitHash=be3eb556657c107a140a53ddc23d632e70f91d09&utm_source=gh-comment&runConclusion=FAILURE&runId=edf9fc45-8306-535d-9af0-09f3cc2f5b5f) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51390?repo=metabase/metabase&commitHash=be3eb556657c107a140a53ddc23d632e70f91d09&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

piranha (Issue Creator) on (2024-12-17 15:10:26 UTC): Ah, it's all fine, just expected a different message format, heh.

"
2744911533,pull_request,closed,,Disable failing sdk e2e cross-version tests in 52 branch,"We merged the workflow fix to 52 branch (https://github.com/metabase/metabase/pull/51268), and that indeed fixed the ""module not found"" issue. However, I noticed there are 2 failures in the embedding sdk's cross-version e2e, which is likely because of cross-version tests picking up the wrong version as we released v0.52.4-nightly from master yesterday, due to releasing from x.52.x was not working, as well as 1 failures from `styles-test` still being flaky: https://github.com/metabase/metabase/actions/runs/12372685065/job/34533605594

![image](https://github.com/user-attachments/assets/a81b681f-c9f7-4c05-a419-914a48d4ae1c)

We didn't pick this up while testing the workflow, as it was working before we released [0.52.4-nightly](https://www.npmjs.com/package/@metabase/embedding-sdk-react/v/0.52.4-nightly) to npm.

We'll need to do the following for the 52 branch:

1. Disable [cross-version component tests](https://github.com/metabase/metabase/pull/51268/files#diff-da16a866090a437fe3582d6fec4066dce5f3a5adadc3a179339fb16b8d067f0d) workflow again, to avoid blocking others. We are here in this step.
2. Reconcile the version in the 52 and master branch, as the version does not match and caused the release workflow to break
3. Try to release SDK 52-nightly (or 52-stable) from the 52 branch, not the master branch
4. Try to fix `styles-test.cy.spec.tsx` as that is still failing
5. Try to run cross-version in the PR, pin the latest 52-nightly in the workflow run, see if create-question and interactive-question still fails
6. If it works, we then re-enable cross-version component tests in 52 branch",heypoom,2024-12-17 13:12:28+00:00,['heypoom'],2024-12-17 14:03:41+00:00,2024-12-17 14:03:13+00:00,https://github.com/metabase/metabase/pull/51389,"[('.Team/Embedding', '')]",[],
2744864711,pull_request,closed,,"ü§ñ backported ""adjusting webhook test response ui""","  #51043
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2024-12-17 12:53:15+00:00,"['npfitz', 'github-automation-metabase']",2025-01-06 14:21:39+00:00,2025-01-06 13:38:53+00:00,https://github.com/metabase/metabase/pull/51387,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2548499925, 'issue_id': 2744864711, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/141954_tests-2f15683b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51387?repo=metabase/metabase&commitHash=2f15683b49bb691671d9bfff2a4723712a9867f4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51387?repo=metabase/metabase&commitHash=2f15683b49bb691671d9bfff2a4723712a9867f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51387?repo=metabase/metabase&commitHash=2f15683b49bb691671d9bfff2a4723712a9867f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51387?repo=metabase/metabase&commitHash=2f15683b49bb691671d9bfff2a4723712a9867f4&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>refingerprint-fields-for-db!-test</code> | failure\\_text: fingerprint\\_test.clj:329:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\\#'sync.fingerprint/max-refingerp... | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51387?repo=metabase/metabase&commitHash=2f15683b49bb691671d9bfff2a4723712a9867f4&utm_source=gh-comment&runConclusion=FAILURE&runId=37d057bc-afab-506c-9fb7-eea763a08fb7) |\n| <code>Notebook Editor > Join Step temporal bucket sync should set the temporal bucket for all columns in an existing join condition to the temporal bucke...</code> | Unable to find a label with the text 'Temporal bucket' in the DOM. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51387?repo=metabase/metabase&commitHash=2f15683b49bb691671d9bfff2a4723712a9867f4&utm_source=gh-comment&runConclusion=FAILURE&runId=32943854-12f6-57f9-81a7-c4f20036764e) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51387?repo=metabase/metabase&commitHash=2f15683b49bb691671d9bfff2a4723712a9867f4&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 17, 13, 43, 57, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-17 13:43:57 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/141954_tests-2f15683b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51387?repo=metabase/metabase&commitHash=2f15683b49bb691671d9bfff2a4723712a9867f4&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51387?repo=metabase/metabase&commitHash=2f15683b49bb691671d9bfff2a4723712a9867f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51387?repo=metabase/metabase&commitHash=2f15683b49bb691671d9bfff2a4723712a9867f4&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51387?repo=metabase/metabase&commitHash=2f15683b49bb691671d9bfff2a4723712a9867f4&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>refingerprint-fields-for-db!-test</code> | failure\_text: fingerprint\_test.clj:329:bigquery-cloud-sdkrefingerprints up to a limitexpected: (< attempted (+ @\#'sync.fingerprint/max-refingerp... | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51387?repo=metabase/metabase&commitHash=2f15683b49bb691671d9bfff2a4723712a9867f4&utm_source=gh-comment&runConclusion=FAILURE&runId=37d057bc-afab-506c-9fb7-eea763a08fb7) |
| <code>Notebook Editor > Join Step temporal bucket sync should set the temporal bucket for all columns in an existing join condition to the temporal bucke...</code> | Unable to find a label with the text 'Temporal bucket' in the DOM. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51387?repo=metabase/metabase&commitHash=2f15683b49bb691671d9bfff2a4723712a9867f4&utm_source=gh-comment&runConclusion=FAILURE&runId=32943854-12f6-57f9-81a7-c4f20036764e) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51387?repo=metabase/metabase&commitHash=2f15683b49bb691671d9bfff2a4723712a9867f4&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2744658866,pull_request,closed,,test to check ms/QueryVectorOf works,"just a little test to check if ms/QueryVectorOf works

refs #48376",piranha,2024-12-17 11:19:47+00:00,['piranha'],2025-01-27 22:13:14+00:00,2024-12-17 14:32:29+00:00,https://github.com/metabase/metabase/pull/51385,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2548236407, 'issue_id': 2744658866, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/121902_tests-c836f6f7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51385?repo=metabase/metabase&commitHash=c836f6f75420dbef11db6cb179cf93f35e9142cc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51385?repo=metabase/metabase&commitHash=c836f6f75420dbef11db6cb179cf93f35e9142cc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51385?repo=metabase/metabase&commitHash=c836f6f75420dbef11db6cb179cf93f35e9142cc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51385?repo=metabase/metabase&commitHash=c836f6f75420dbef11db6cb179cf93f35e9142cc&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51385?repo=metabase/metabase&commitHash=c836f6f75420dbef11db6cb179cf93f35e9142cc&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 17, 11, 42, 51, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-17 11:42:51 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/121902_tests-c836f6f7-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51385?repo=metabase/metabase&commitHash=c836f6f75420dbef11db6cb179cf93f35e9142cc&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51385?repo=metabase/metabase&commitHash=c836f6f75420dbef11db6cb179cf93f35e9142cc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51385?repo=metabase/metabase&commitHash=c836f6f75420dbef11db6cb179cf93f35e9142cc&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51385?repo=metabase/metabase&commitHash=c836f6f75420dbef11db6cb179cf93f35e9142cc&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51385?repo=metabase/metabase&commitHash=c836f6f75420dbef11db6cb179cf93f35e9142cc&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2744547548,pull_request,closed,,fix(sdk): migrate to custom redux context to allow using the sdk on host apps that use redux,"Closes https://github.com/metabase/metabase/issues/51398, which is the first task in https://github.com/metabase/metabase/issues/51397

This PR adds a custom context for redux and only uses is in the sdk, this allows host apps that use redux to use the sdk without crashing because it finds the wrong store.

The [parent  project](https://github.com/metabase/metabase/issues/51397) includes follow up tasks like:
- fixing the `EnterpriseState` type
- fixing the eslint rules to make sure no code can import from `react-redux` directly
- switching the core app to use the custom context too

Tech plan was shared on slack [here](https://metaboat.slack.com/archives/C505ZNNH4/p1734374863986279)

I recommend reviewing watching the [at commits](https://github.com/metabase/metabase/pull/51382/commits)
The second commit was made with a codemod and it's just changing the imports




Codemod used:

codemod.js
```
/* eslint-disable import/no-commonjs */
const { execSync } = require(""node:child_process"");
const path = require(""node:path"");
const { run: jscodeshift } = require(""jscodeshift/src/Runner"");

const filesToExclude = [
  ""metabase/lib/redux/custom-context.tsx"",
  ""metabase/lib/redux/index.ts"",
];

// Find all files that import react-redux using grep
function findFilesWithReactReduxImport() {
  // Using a simpler grep pattern that won't confuse the shell
  const grepCommand =
    'grep -r ""from.*react-redux"" frontend/src enterprise/frontend/src';

  try {
    const output = execSync(grepCommand, { encoding: ""utf8"" });
    const files = output
      .split(""\n"")
      .filter(line => line.includes(""import""))
      .map(line => {
        const [filePath] = line.split("":"");
        return filePath;
      })
      .filter(Boolean); // Remove empty lines

    return files;
  } catch (error) {
    console.error(""Error finding files:"", error);
    return [];
  }
}

const filesThatImportReactRedux = findFilesWithReactReduxImport();
console.log(""Found files:"", filesThatImportReactRedux);

async function runTransform() {
  const transformPath = path.resolve(""transform.js"");

  // Filter out excluded files and prepare paths
  const paths = filesThatImportReactRedux
    .filter(file => !filesToExclude.some(excluded => file.includes(excluded)))
    .map(file => path.resolve(process.cwd(), file));

  const options = {
    dry: false,
    print: true,
    verbose: 1,
    babel: true,
    extensions: ""tsx,ts,jsx,js"",
    parser: ""tsx"",
  };

  try {
    const res = await jscodeshift(transformPath, paths, options);
    console.log(""Transform completed:"", res);

    // Run ESLint on transformed files
    console.log(""Running ESLint on transformed files..."");
    const filePaths = paths.join("" "");
    try {
      execSync(`yarn eslint --fix ${filePaths}`, {
        stdio: ""inherit"",
        encoding: ""utf8"",
      });
      console.log(""ESLint fixes applied successfully"");

      // Run Prettier on transformed files
      console.log(""Running Prettier on transformed files..."");
      execSync(`npx prettier --write ${filePaths}`, {
        stdio: ""inherit"",
        encoding: ""utf8"",
      });
      console.log(""Prettier formatting applied successfully"");
    } catch (error) {
      console.error(""Error running ESLint/Prettier:"", error);
    }
  } catch (error) {
    console.error(""Transform failed:"", error);
  }
}

runTransform().catch(console.error);
```
transform.js
```
module.exports = function transform(file, api) {
  const j = api.jscodeshift;
  const root = j(file.source);

  // List of imports that should be moved to our custom context
  const importsToMove = [""connect"", ""useDispatch"", ""useSelector""];

  // Find all imports from 'react-redux'
  root
    .find(j.ImportDeclaration, {
      source: {
        value: ""react-redux"",
      },
    })
    .forEach(path => {
      const specifiers = path.node.specifiers;
      const comments = path.node.comments; // Preserve any comments

      // Split specifiers into two groups
      const moveToCustom = [];
      const keepInReactRedux = [];

      specifiers.forEach(spec => {
        if (spec.type === ""ImportSpecifier"") {
          if (importsToMove.includes(spec.imported.name)) {
            moveToCustom.push(spec);
          } else {
            keepInReactRedux.push(spec);
          }
        }
      });

      // If we have specifiers to move, create a new import for them
      if (moveToCustom.length > 0) {
        const customImport = j.importDeclaration(
          moveToCustom,
          j.stringLiteral(""metabase/lib/redux""),
        );

        // If we have specifiers to keep, update the existing import
        if (keepInReactRedux.length > 0) {
          // Keep the original comments on the react-redux import
          path.node.specifiers = keepInReactRedux;
          path.node.comments = comments;

          // Insert the new import after the existing one
          path.insertAfter(customImport);
        } else {
          // If all specifiers are moved, replace the entire import but keep comments
          customImport.comments = comments;
          j(path).replaceWith(customImport);
        }
      }
    });

  return root.toSource({
    quote: ""double"",
    reuseWhitespace: true,
    useTabs: false,
    lineTerminator: ""\n"",
  });
};
```",npretto,2024-12-17 10:31:41+00:00,['npretto'],2024-12-17 17:41:54+00:00,2024-12-17 17:37:54+00:00,https://github.com/metabase/metabase/pull/51382,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 2548090926, 'issue_id': 2744547548, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@npretto You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2024, 12, 17, 10, 32, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2548337652, 'issue_id': 2744547548, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff cce25745a75a27813c55604276a240ad81654300...09a4f60666594eca8bfd56e235502ca887909445.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChoroplethMap.jsx<br>frontend/src/metabase/visualizations/components/ClickActions/ClickActionsPopover.tsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetail.tsx<br>frontend/src/metabase/visualizations/components/TableInteractive/TableInteractive.jsx<br>frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx<br>frontend/src/metabase/visualizations/visualizations/PivotTable/PivotTable.tsx |', 'created_at': datetime.datetime(2024, 12, 17, 12, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2548434662, 'issue_id': 2744547548, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/52060_tests-09a4f606-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51382?repo=metabase/metabase&commitHash=09a4f60666594eca8bfd56e235502ca887909445&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51382?repo=metabase/metabase&commitHash=09a4f60666594eca8bfd56e235502ca887909445&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51382?repo=metabase/metabase&commitHash=09a4f60666594eca8bfd56e235502ca887909445&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51382?repo=metabase/metabase&commitHash=09a4f60666594eca8bfd56e235502ca887909445&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51382?repo=metabase/metabase&commitHash=09a4f60666594eca8bfd56e235502ca887909445&utm_source=gh-comment&runConclusion=FAILURE&runId=0dc1ffc4-fb3f-5030-baba-775d735f2ed8) |\n| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51382?repo=metabase/metabase&commitHash=09a4f60666594eca8bfd56e235502ca887909445&utm_source=gh-comment&runConclusion=FAILURE&runId=3d87dcee-583b-51e5-a48d-0785773e8aff) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51382?repo=metabase/metabase&commitHash=09a4f60666594eca8bfd56e235502ca887909445&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 17, 13, 15, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2549137071, 'issue_id': 2744547548, 'author': 'npretto', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 12, 17, 17, 38, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2549140603, 'issue_id': 2744547548, 'author': 'github-actions[bot]', 'body': '@npretto Manual conflict resolution is required', 'created_at': datetime.datetime(2024, 12, 17, 17, 39, 33, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-12-17 10:32:04 UTC): <!---conventional commit reminder comment ID-->
@npretto You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

github-actions[bot] on (2024-12-17 12:32:00 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff cce25745a75a27813c55604276a240ad81654300...09a4f60666594eca8bfd56e235502ca887909445.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChoroplethMap.jsx<br>frontend/src/metabase/visualizations/components/ClickActions/ClickActionsPopover.tsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetail.tsx<br>frontend/src/metabase/visualizations/components/TableInteractive/TableInteractive.jsx<br>frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx<br>frontend/src/metabase/visualizations/visualizations/PivotTable/PivotTable.tsx |

trunk-io[bot] on (2024-12-17 13:15:51 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/52060_tests-09a4f606-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51382?repo=metabase/metabase&commitHash=09a4f60666594eca8bfd56e235502ca887909445&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51382?repo=metabase/metabase&commitHash=09a4f60666594eca8bfd56e235502ca887909445&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51382?repo=metabase/metabase&commitHash=09a4f60666594eca8bfd56e235502ca887909445&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51382?repo=metabase/metabase&commitHash=09a4f60666594eca8bfd56e235502ca887909445&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51382?repo=metabase/metabase&commitHash=09a4f60666594eca8bfd56e235502ca887909445&utm_source=gh-comment&runConclusion=FAILURE&runId=0dc1ffc4-fb3f-5030-baba-775d735f2ed8) |
| <code>Dashboard > Dashboard Questions admin can share a dashboard card via public link</code> | The test timed out while trying to find an element with data-testid ""embed-frame-header"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51382?repo=metabase/metabase&commitHash=09a4f60666594eca8bfd56e235502ca887909445&utm_source=gh-comment&runConclusion=FAILURE&runId=3d87dcee-583b-51e5-a48d-0785773e8aff) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51382?repo=metabase/metabase&commitHash=09a4f60666594eca8bfd56e235502ca887909445&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

npretto (Issue Creator) on (2024-12-17 17:38:06 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-12-17 17:39:33 UTC): @npretto Manual conflict resolution is required

"
2744521659,pull_request,closed,,"ü§ñ backported ""Add prometheus metric for search errors""","  #51357
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2024-12-17 10:21:01+00:00,"['crisptrutski', 'github-automation-metabase']",2024-12-17 17:46:40+00:00,2024-12-17 17:08:39+00:00,https://github.com/metabase/metabase/pull/51381,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2548927152, 'issue_id': 2744521659, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/6_tests-3d1f8e51-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51381?repo=metabase/metabase&commitHash=3d1f8e512b6a7271d4c33b96c280b30d8d3701d0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51381?repo=metabase/metabase&commitHash=3d1f8e512b6a7271d4c33b96c280b30d8d3701d0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51381?repo=metabase/metabase&commitHash=3d1f8e512b6a7271d4c33b96c280b30d8d3701d0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51381?repo=metabase/metabase&commitHash=3d1f8e512b6a7271d4c33b96c280b30d8d3701d0&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they were missing. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51381?repo=metabase/metabase&commitHash=3d1f8e512b6a7271d4c33b96c280b30d8d3701d0&utm_source=gh-comment&runConclusion=FAILURE&runId=d533ee94-5706-57e9-9b1c-2f8f281289ba) |\n| <code>scenarios > question > snippets should let you edit snippet</code> | The expected content \'select {{snippet: Math}}\' was not found within the specified element after 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51381?repo=metabase/metabase&commitHash=3d1f8e512b6a7271d4c33b96c280b30d8d3701d0&utm_source=gh-comment&runConclusion=FAILURE&runId=1d0ff379-90f0-5720-b79c-8ac099eeb433) |\n| <code>scenarios > visualizations > pie chart should mute items in legend when hovering (metabase\\#29224)</code> | The expected attribute \'aria-current\' with value \'true\' was not found in an HTML element. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51381?repo=metabase/metabase&commitHash=3d1f8e512b6a7271d4c33b96c280b30d8d3701d0&utm_source=gh-comment&runConclusion=FAILURE&runId=02144486-07a8-542f-a925-9d80e3ec1adb) |\n| <code>issue 16584 should pass parameters when running with \'Run select text\' (metabase\\#16584)</code> | The test timed out while trying to find an element with the placeholder text ""Country"". | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51381?repo=metabase/metabase&commitHash=3d1f8e512b6a7271d4c33b96c280b30d8d3701d0&utm_source=gh-comment&runConclusion=FAILURE&runId=6dacb920-7151-5fec-a537-ebe55cb55014) |\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding-sdk > styles modals and tooltips mantine modals should render with our styles</code> | The expected CSS property \'font-family\' with value \'Lato, sans-serif\' was not found, but the actual value was \'Lato\'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51381?repo=metabase/metabase&commitHash=3d1f8e512b6a7271d4c33b96c280b30d8d3701d0&utm_source=gh-comment&runConclusion=FAILURE&runId=4dfddb9b-c34f-545d-9638-e20fcca97f28) |\n| <code>scenarios > embedding-sdk > styles modals and tooltips mantine modals should render with our styles</code> | The expected font family \'Lato, sans-serif\' was not found, but only \'Lato\' was present. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51381?repo=metabase/metabase&commitHash=3d1f8e512b6a7271d4c33b96c280b30d8d3701d0&utm_source=gh-comment&runConclusion=FAILURE&runId=60649d61-4d82-560b-be72-624b638f4c09) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51381?repo=metabase/metabase&commitHash=3d1f8e512b6a7271d4c33b96c280b30d8d3701d0&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 17, 16, 19, 47, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-17 16:19:47 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/6_tests-3d1f8e51-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51381?repo=metabase/metabase&commitHash=3d1f8e512b6a7271d4c33b96c280b30d8d3701d0&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/4-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51381?repo=metabase/metabase&commitHash=3d1f8e512b6a7271d4c33b96c280b30d8d3701d0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/2-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51381?repo=metabase/metabase&commitHash=3d1f8e512b6a7271d4c33b96c280b30d8d3701d0&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51381?repo=metabase/metabase&commitHash=3d1f8e512b6a7271d4c33b96c280b30d8d3701d0&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-viz-settings-parameter-mappings-test</code> | Expected parameterMappings to have stage numbers, but they were missing. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51381?repo=metabase/metabase&commitHash=3d1f8e512b6a7271d4c33b96c280b30d8d3701d0&utm_source=gh-comment&runConclusion=FAILURE&runId=d533ee94-5706-57e9-9b1c-2f8f281289ba) |
| <code>scenarios > question > snippets should let you edit snippet</code> | The expected content 'select {{snippet: Math}}' was not found within the specified element after 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51381?repo=metabase/metabase&commitHash=3d1f8e512b6a7271d4c33b96c280b30d8d3701d0&utm_source=gh-comment&runConclusion=FAILURE&runId=1d0ff379-90f0-5720-b79c-8ac099eeb433) |
| <code>scenarios > visualizations > pie chart should mute items in legend when hovering (metabase\#29224)</code> | The expected attribute 'aria-current' with value 'true' was not found in an HTML element. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51381?repo=metabase/metabase&commitHash=3d1f8e512b6a7271d4c33b96c280b30d8d3701d0&utm_source=gh-comment&runConclusion=FAILURE&runId=02144486-07a8-542f-a925-9d80e3ec1adb) |
| <code>issue 16584 should pass parameters when running with 'Run select text' (metabase\#16584)</code> | The test timed out while trying to find an element with the placeholder text ""Country"". | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51381?repo=metabase/metabase&commitHash=3d1f8e512b6a7271d4c33b96c280b30d8d3701d0&utm_source=gh-comment&runConclusion=FAILURE&runId=6dacb920-7151-5fec-a537-ebe55cb55014) |


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding-sdk > styles modals and tooltips mantine modals should render with our styles</code> | The expected CSS property 'font-family' with value 'Lato, sans-serif' was not found, but the actual value was 'Lato'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51381?repo=metabase/metabase&commitHash=3d1f8e512b6a7271d4c33b96c280b30d8d3701d0&utm_source=gh-comment&runConclusion=FAILURE&runId=4dfddb9b-c34f-545d-9638-e20fcca97f28) |
| <code>scenarios > embedding-sdk > styles modals and tooltips mantine modals should render with our styles</code> | The expected font family 'Lato, sans-serif' was not found, but only 'Lato' was present. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51381?repo=metabase/metabase&commitHash=3d1f8e512b6a7271d4c33b96c280b30d8d3701d0&utm_source=gh-comment&runConclusion=FAILURE&runId=60649d61-4d82-560b-be72-624b638f4c09) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51381?repo=metabase/metabase&commitHash=3d1f8e512b6a7271d4c33b96c280b30d8d3701d0&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2744394173,pull_request,closed,,Send pulse asynchronously with a small pool size,"1.1 in https://www.notion.so/metabase/Send-pulse-OOM-15969354c90180a3a43edde37a9298e5?pvs=4

Making SendPulses task push jobs into a fixed thread pool queue of 2.

What's about recovery? it turns out that we didn't have any recovery mechanism before, so if a pulse fails, it won't be re-sent upon restart.
It's not ideal but at least this is not a breaking change.

",qnkhuat,2024-12-17 09:30:06+00:00,['qnkhuat'],2024-12-18 04:01:46+00:00,2024-12-17 13:38:39+00:00,https://github.com/metabase/metabase/pull/51380,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2548052291, 'issue_id': 2744394173, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/128634_tests-1315d990-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51380?repo=metabase/metabase&commitHash=1315d990aca94e7e72cbbdd49077dc74fd5b959d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51380?repo=metabase/metabase&commitHash=1315d990aca94e7e72cbbdd49077dc74fd5b959d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51380?repo=metabase/metabase&commitHash=1315d990aca94e7e72cbbdd49077dc74fd5b959d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51380?repo=metabase/metabase&commitHash=1315d990aca94e7e72cbbdd49077dc74fd5b959d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, but expected some. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51380?repo=metabase/metabase&commitHash=1315d990aca94e7e72cbbdd49077dc74fd5b959d&utm_source=gh-comment&runConclusion=FAILURE&runId=a46224a1-eb64-528a-953a-201da03f4739) |\n| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\\_mappings have no stage numbers, but expected stage numbers. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51380?repo=metabase/metabase&commitHash=1315d990aca94e7e72cbbdd49077dc74fd5b959d&utm_source=gh-comment&runConclusion=FAILURE&runId=7e5b4fe2-2918-504a-9dcd-7da01f18b21a) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51380?repo=metabase/metabase&commitHash=1315d990aca94e7e72cbbdd49077dc74fd5b959d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 17, 10, 15, 24, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-17 10:15:24 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/128634_tests-1315d990-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51380?repo=metabase/metabase&commitHash=1315d990aca94e7e72cbbdd49077dc74fd5b959d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/2-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51380?repo=metabase/metabase&commitHash=1315d990aca94e7e72cbbdd49077dc74fd5b959d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51380?repo=metabase/metabase&commitHash=1315d990aca94e7e72cbbdd49077dc74fd5b959d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51380?repo=metabase/metabase&commitHash=1315d990aca94e7e72cbbdd49077dc74fd5b959d&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, but expected some. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51380?repo=metabase/metabase&commitHash=1315d990aca94e7e72cbbdd49077dc74fd5b959d&utm_source=gh-comment&runConclusion=FAILURE&runId=a46224a1-eb64-528a-953a-201da03f4739) |
| <code>set-stage-number-in-parameter-mappings-test</code> | After reversing the migration, parameter\_mappings have no stage numbers, but expected stage numbers. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51380?repo=metabase/metabase&commitHash=1315d990aca94e7e72cbbdd49077dc74fd5b959d&utm_source=gh-comment&runConclusion=FAILURE&runId=7e5b4fe2-2918-504a-9dcd-7da01f18b21a) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51380?repo=metabase/metabase&commitHash=1315d990aca94e7e72cbbdd49077dc74fd5b959d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2744330504,pull_request,closed,,Add v0.51.9 to the list of releases,Like it says on the tin üòÅ,github-automation-metabase,2024-12-17 09:04:46+00:00,"['jeff-bruemmer', 'github-automation-metabase']",2024-12-17 16:51:29+00:00,2024-12-17 16:51:29+00:00,https://github.com/metabase/metabase/pull/51379,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]",[],
2744049348,pull_request,closed,,"ü§ñ backported ""remove translation for slack error""","  #51375
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",github-automation-metabase,2024-12-17 06:31:17+00:00,"['qnkhuat', 'github-automation-metabase']",2024-12-19 08:50:49+00:00,2024-12-19 08:25:44+00:00,https://github.com/metabase/metabase/pull/51378,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2547838694, 'issue_id': 2744049348, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/123809_tests-f5a68f4d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51378?repo=metabase/metabase&commitHash=f5a68f4d4411a23f1132bf9cc2a5870586278993&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51378?repo=metabase/metabase&commitHash=f5a68f4d4411a23f1132bf9cc2a5870586278993&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51378?repo=metabase/metabase&commitHash=f5a68f4d4411a23f1132bf9cc2a5870586278993&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51378?repo=metabase/metabase&commitHash=f5a68f4d4411a23f1132bf9cc2a5870586278993&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51378?repo=metabase/metabase&commitHash=f5a68f4d4411a23f1132bf9cc2a5870586278993&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 17, 8, 50, 31, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-17 08:50:31 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/123809_tests-f5a68f4d-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51378?repo=metabase/metabase&commitHash=f5a68f4d4411a23f1132bf9cc2a5870586278993&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51378?repo=metabase/metabase&commitHash=f5a68f4d4411a23f1132bf9cc2a5870586278993&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51378?repo=metabase/metabase&commitHash=f5a68f4d4411a23f1132bf9cc2a5870586278993&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51378?repo=metabase/metabase&commitHash=f5a68f4d4411a23f1132bf9cc2a5870586278993&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51378?repo=metabase/metabase&commitHash=f5a68f4d4411a23f1132bf9cc2a5870586278993&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2743951552,pull_request,closed,,deps: upgrade rspack,Upgrade Rspack to the latest version. They claimed perf improvements and improved memory consumption in the latest versions ,uladzimirdev,2024-12-17 05:13:34+00:00,['uladzimirdev'],2025-01-27 22:13:16+00:00,2024-12-17 10:28:33+00:00,https://github.com/metabase/metabase/pull/51377,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2547555284, 'issue_id': 2743951552, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/12959_tests-34140f66-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51377?repo=metabase/metabase&commitHash=34140f66f6d3324ea88861c1d09af4a5010406ac&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51377?repo=metabase/metabase&commitHash=34140f66f6d3324ea88861c1d09af4a5010406ac&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51377?repo=metabase/metabase&commitHash=34140f66f6d3324ea88861c1d09af4a5010406ac&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51377?repo=metabase/metabase&commitHash=34140f66f6d3324ea88861c1d09af4a5010406ac&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51377?repo=metabase/metabase&commitHash=34140f66f6d3324ea88861c1d09af4a5010406ac&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 17, 5, 44, 43, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-17 05:44:43 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/12959_tests-34140f66-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51377?repo=metabase/metabase&commitHash=34140f66f6d3324ea88861c1d09af4a5010406ac&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51377?repo=metabase/metabase&commitHash=34140f66f6d3324ea88861c1d09af4a5010406ac&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51377?repo=metabase/metabase&commitHash=34140f66f6d3324ea88861c1d09af4a5010406ac&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51377?repo=metabase/metabase&commitHash=34140f66f6d3324ea88861c1d09af4a5010406ac&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51377?repo=metabase/metabase&commitHash=34140f66f6d3324ea88861c1d09af4a5010406ac&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2743948001,pull_request,closed,,"ü§ñ backported ""Make formatter integral? dependent on scale""",#50609,github-automation-metabase,2024-12-17 05:10:10+00:00,"['tsplude', 'github-automation-metabase']",2024-12-17 06:19:10+00:00,2024-12-17 05:50:37+00:00,https://github.com/metabase/metabase/pull/51376,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2547552946, 'issue_id': 2743948001, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/123760_tests-40c7bbda-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51376?repo=metabase/metabase&commitHash=40c7bbda984873528e0e1c410f065586f6049d41&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51376?repo=metabase/metabase&commitHash=40c7bbda984873528e0e1c410f065586f6049d41&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51376?repo=metabase/metabase&commitHash=40c7bbda984873528e0e1c410f065586f6049d41&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51376?repo=metabase/metabase&commitHash=40c7bbda984873528e0e1c410f065586f6049d41&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding-sdk > styles modals and tooltips mantine modals should render with our styles</code> | The expected font family 'Lato, sans-serif' was not found, but only 'Lato' was present. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51376?repo=metabase/metabase&commitHash=40c7bbda984873528e0e1c410f065586f6049d41&utm_source=gh-comment&runConclusion=FAILURE&runId=bffc3a74-5948-50ed-ae36-9a2d359220c4) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51376?repo=metabase/metabase&commitHash=40c7bbda984873528e0e1c410f065586f6049d41&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 17, 5, 42, 24, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-17 05:42:24 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/123760_tests-40c7bbda-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51376?repo=metabase/metabase&commitHash=40c7bbda984873528e0e1c410f065586f6049d41&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51376?repo=metabase/metabase&commitHash=40c7bbda984873528e0e1c410f065586f6049d41&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51376?repo=metabase/metabase&commitHash=40c7bbda984873528e0e1c410f065586f6049d41&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51376?repo=metabase/metabase&commitHash=40c7bbda984873528e0e1c410f065586f6049d41&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding-sdk > styles modals and tooltips mantine modals should render with our styles</code> | The expected font family 'Lato, sans-serif' was not found, but only 'Lato' was present. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51376?repo=metabase/metabase&commitHash=40c7bbda984873528e0e1c410f065586f6049d41&utm_source=gh-comment&runConclusion=FAILURE&runId=bffc3a74-5948-50ed-ae36-9a2d359220c4) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51376?repo=metabase/metabase&commitHash=40c7bbda984873528e0e1c410f065586f6049d41&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2743877213,pull_request,closed,,remove translation for slack error,"These are not user facing text so we don't need to translate it.
It will help debugging simplify [this](https://metaboat.slack.com/archives/C07V53NHKKP/p1734397258501609) chart",qnkhuat,2024-12-17 04:05:47+00:00,['qnkhuat'],2024-12-19 08:26:12+00:00,2024-12-17 06:29:49+00:00,https://github.com/metabase/metabase/pull/51375,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2547495082, 'issue_id': 2743877213, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/165196_tests-d066aabb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51375?repo=metabase/metabase&commitHash=d066aabbf0b0bcb468f5f92b6ee5ecee2b738939&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51375?repo=metabase/metabase&commitHash=d066aabbf0b0bcb468f5f92b6ee5ecee2b738939&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51375?repo=metabase/metabase&commitHash=d066aabbf0b0bcb468f5f92b6ee5ecee2b738939&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51375?repo=metabase/metabase&commitHash=d066aabbf0b0bcb468f5f92b6ee5ecee2b738939&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51375?repo=metabase/metabase&commitHash=d066aabbf0b0bcb468f5f92b6ee5ecee2b738939&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 17, 4, 42, 56, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-17 04:42:56 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/165196_tests-d066aabb-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51375?repo=metabase/metabase&commitHash=d066aabbf0b0bcb468f5f92b6ee5ecee2b738939&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51375?repo=metabase/metabase&commitHash=d066aabbf0b0bcb468f5f92b6ee5ecee2b738939&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51375?repo=metabase/metabase&commitHash=d066aabbf0b0bcb468f5f92b6ee5ecee2b738939&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51375?repo=metabase/metabase&commitHash=d066aabbf0b0bcb468f5f92b6ee5ecee2b738939&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51375?repo=metabase/metabase&commitHash=d066aabbf0b0bcb468f5f92b6ee5ecee2b738939&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2743811218,pull_request,closed,,support parametrized iframe urls,"[Related product doc](https://www.notion.so/metabase/Support-variables-in-Iframe-and-Link-cards-15a69354c9018075955ded3076735fcd)

### Description

Supports parametrized iframe urls in Iframe dashboard cards.

### How to verify

- Create a dashboard with an iframe card
- Set the iframe content to `https://example.com/{{var1}}?q={{var2}}`
- Add parameters, connect them to `var1` and `var2`
- Ensure the iframe url uses filter values

### Demo

#### Editing mode
<img width=""566"" alt=""Screenshot 2024-12-17 at 4 13 21‚ÄØPM"" src=""https://github.com/user-attachments/assets/e19054f8-624a-4bc9-8128-76b39bf1520d"" />

#### Interpolated URL
<img width=""755"" alt=""Screenshot 2024-12-17 at 4 12 58‚ÄØPM"" src=""https://github.com/user-attachments/assets/cb54a260-9375-4e9b-b737-3a3aa283ded4"" />

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",alxnddr,2024-12-17 02:57:00+00:00,['alxnddr'],2025-01-27 22:12:59+00:00,2024-12-19 19:27:42+00:00,https://github.com/metabase/metabase/pull/51374,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2549703948, 'issue_id': 2743811218, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51574_tests-89e6ebed-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51374?repo=metabase/metabase&commitHash=89e6ebedb17c06d3143d8b94968be7baff068b6d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51374?repo=metabase/metabase&commitHash=89e6ebedb17c06d3143d8b94968be7baff068b6d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51374?repo=metabase/metabase&commitHash=89e6ebedb17c06d3143d8b94968be7baff068b6d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51374?repo=metabase/metabase&commitHash=89e6ebedb17c06d3143d8b94968be7baff068b6d&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51374?repo=metabase/metabase&commitHash=89e6ebedb17c06d3143d8b94968be7baff068b6d&utm_source=gh-comment&runConclusion=FAILURE&runId=da2e01cf-a2fc-5eed-b366-620e0b2e09f6) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51374?repo=metabase/metabase&commitHash=89e6ebedb17c06d3143d8b94968be7baff068b6d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 17, 21, 45, 10, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-17 21:45:10 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51574_tests-89e6ebed-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51374?repo=metabase/metabase&commitHash=89e6ebedb17c06d3143d8b94968be7baff068b6d&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51374?repo=metabase/metabase&commitHash=89e6ebedb17c06d3143d8b94968be7baff068b6d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51374?repo=metabase/metabase&commitHash=89e6ebedb17c06d3143d8b94968be7baff068b6d&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51374?repo=metabase/metabase&commitHash=89e6ebedb17c06d3143d8b94968be7baff068b6d&utm_source=gh-comment&runConclusion=QUARANTINED)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > native subquery autocomplete should complete question slugs inside template tags</code> | The test timed out while trying to find an element with the text '87-a-'. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51374?repo=metabase/metabase&commitHash=89e6ebedb17c06d3143d8b94968be7baff068b6d&utm_source=gh-comment&runConclusion=FAILURE&runId=da2e01cf-a2fc-5eed-b366-620e0b2e09f6) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51374?repo=metabase/metabase&commitHash=89e6ebedb17c06d3143d8b94968be7baff068b6d&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2743793613,pull_request,closed,,Avoid frequent setState calls in the add parameter popover in dashboards,"Tries to fix a non-reproducible issue from https://metaboat.slack.com/archives/C013N8XL286/p1734048949422669. Based on the logs there was a React exception in `handleRightSectionRef` in `setState` call; it doesn't like that we might want to call it several times in a row:

```
""{\""name\"":\""Error\"",\""message\"":\""Minified React error #185; visit https://reactjs.org/docs/error-decoder.html?invariant=185 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"",\""stack\"":\""Error: Minified React error #185; visit https://reactjs.org/docs/error-decoder.html?invariant=185
```

```
g=e=>{e&&f(t=>Math.max(t,e.clientWidth))}
```

In this PR I store the max width in a ref and re-render only once when the popover is opened.

How to verify:
- Dashboard -> Edit -> Click Add parameter
- The popover should have the same layout as before

<img width=""402"" alt=""Screenshot 2024-12-16 at 21 34 56"" src=""https://github.com/user-attachments/assets/4da808a4-f6b9-4e34-9483-75b9deea3c58"" />
",ranquild,2024-12-17 02:38:13+00:00,['ranquild'],2024-12-17 17:19:06+00:00,2024-12-17 15:28:28+00:00,https://github.com/metabase/metabase/pull/51373,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2547416378, 'issue_id': 2743793613, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/12959_tests-4e63b7f1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51373?repo=metabase/metabase&commitHash=4e63b7f164ab608f28baecc578f003db6e383014&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51373?repo=metabase/metabase&commitHash=4e63b7f164ab608f28baecc578f003db6e383014&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51373?repo=metabase/metabase&commitHash=4e63b7f164ab608f28baecc578f003db6e383014&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51373?repo=metabase/metabase&commitHash=4e63b7f164ab608f28baecc578f003db6e383014&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51373?repo=metabase/metabase&commitHash=4e63b7f164ab608f28baecc578f003db6e383014&utm_source=gh-comment&runConclusion=FAILURE&runId=654981db-6134-54a5-ab64-d8f92e2bc5eb) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51373?repo=metabase/metabase&commitHash=4e63b7f164ab608f28baecc578f003db6e383014&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 17, 3, 14, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2549011421, 'issue_id': 2743793613, 'author': 'ranquild', 'body': '@metabase-bot backport release-x.51.x', 'created_at': datetime.datetime(2024, 12, 17, 16, 49, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2549020869, 'issue_id': 2743793613, 'author': 'github-actions[bot]', 'body': '@ranquild something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12377623572)', 'created_at': datetime.datetime(2024, 12, 17, 16, 53, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2549090040, 'issue_id': 2743793613, 'author': 'github-actions[bot]', 'body': 'üöÄ This should also be released by [v0.52.4](https://github.com/metabase/metabase/milestone/294)', 'created_at': datetime.datetime(2024, 12, 17, 17, 18, 53, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-17 03:14:14 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/12959_tests-4e63b7f1-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51373?repo=metabase/metabase&commitHash=4e63b7f164ab608f28baecc578f003db6e383014&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51373?repo=metabase/metabase&commitHash=4e63b7f164ab608f28baecc578f003db6e383014&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51373?repo=metabase/metabase&commitHash=4e63b7f164ab608f28baecc578f003db6e383014&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51373?repo=metabase/metabase&commitHash=4e63b7f164ab608f28baecc578f003db6e383014&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > question > saved > alerts should allow you to test a webhook</code> | Unable to find an accessible element with the role ""heading"" and name ""/Requests 1/"" within 4000ms. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51373?repo=metabase/metabase&commitHash=4e63b7f164ab608f28baecc578f003db6e383014&utm_source=gh-comment&runConclusion=FAILURE&runId=654981db-6134-54a5-ab64-d8f92e2bc5eb) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51373?repo=metabase/metabase&commitHash=4e63b7f164ab608f28baecc578f003db6e383014&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

ranquild (Issue Creator) on (2024-12-17 16:49:36 UTC): @metabase-bot backport release-x.51.x

github-actions[bot] on (2024-12-17 16:53:07 UTC): @ranquild something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/12377623572)

github-actions[bot] on (2024-12-17 17:18:53 UTC): üöÄ This should also be released by [v0.52.4](https://github.com/metabase/metabase/milestone/294)

"
2743311914,pull_request,closed,,Entity picker search dashboard questions,"Closes https://github.com/metabase/metabase/issues/51346

### Description
Adds dashboards as a possible scope for searching in the entity picker, as well as surfaces dashboard questions in data picker search

### How to verify

1. New question -> Choose a dashboard that contains questions
2. Search bar should say ""Search in this dashboard"". Do a search and see that results are scoped to the current dashboard
3. Now click ""Everywhere"" and search for other dashboard questions. They should appear in search results, with the parent dashboard in the result item on the right.

### Demo
![image](https://github.com/user-attachments/assets/6f26554b-fe61-466d-bb55-fbccec5c93ff)

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",npfitz,2024-12-16 20:15:25+00:00,['npfitz'],2024-12-17 21:36:27+00:00,2024-12-17 21:36:25+00:00,https://github.com/metabase/metabase/pull/51367,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2546804245, 'issue_id': 2743311914, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51559_tests-bf8ad51b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Write Actions on Dashboards (postgres) adding and executing actions hidden fields adds a query action and runs it</code> | The expected value 55 was not equal to the actual value 0. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment&runConclusion=FAILURE&runId=01039b4f-193d-5351-99bc-a68d4666bae8) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 16, 21, 17, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2546804252, 'issue_id': 2743311914, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51497_tests-bf8ad51b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Write Actions on Dashboards (postgres) adding and executing actions hidden fields adds a query action and runs it</code> | The expected value 55 was not equal to the actual value 0. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment&runConclusion=FAILURE&runId=01039b4f-193d-5351-99bc-a68d4666bae8) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 16, 21, 17, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2546804254, 'issue_id': 2743311914, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/51497_tests-bf8ad51b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>Write Actions on Dashboards (postgres) adding and executing actions hidden fields adds a query action and runs it</code> | The expected value 55 was not equal to the actual value 0. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment&runConclusion=FAILURE&runId=01039b4f-193d-5351-99bc-a68d4666bae8) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 16, 21, 17, 31, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-16 21:17:30 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51559_tests-bf8ad51b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Write Actions on Dashboards (postgres) adding and executing actions hidden fields adds a query action and runs it</code> | The expected value 55 was not equal to the actual value 0. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment&runConclusion=FAILURE&runId=01039b4f-193d-5351-99bc-a68d4666bae8) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-12-16 21:17:31 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51497_tests-bf8ad51b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Write Actions on Dashboards (postgres) adding and executing actions hidden fields adds a query action and runs it</code> | The expected value 55 was not equal to the actual value 0. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment&runConclusion=FAILURE&runId=01039b4f-193d-5351-99bc-a68d4666bae8) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-12-16 21:17:31 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/51497_tests-bf8ad51b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/1-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>Write Actions on Dashboards (postgres) adding and executing actions hidden fields adds a query action and runs it</code> | The expected value 55 was not equal to the actual value 0. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment&runConclusion=FAILURE&runId=01039b4f-193d-5351-99bc-a68d4666bae8) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51367?repo=metabase/metabase&commitHash=bf8ad51b0d46d17a406c0c1019aafee84327d0cb&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2743270010,pull_request,closed,,docs - question in dashboards,"
![image](https://github.com/user-attachments/assets/9299100f-8335-4749-9805-224984a897e6)

This PR:

- Documents the new ability to save questions in dashboards.
- Reorganizes question docs into the following sections:
  - Questions (the entity). Content about how questions work, what you can do with them:  export results, set up alerts, save to dashboards, etc.
  - Viz
  - Query builder
  	- New pages for filtering and summarizing
  - Native editor
- Relocates public links to embedding.
- Promotes Alerts and Exporting data.
- Splits query builder docs into multiple sections (e.g., filters, summarizing and grouping). Which leaves room for further modularization (e.g., a custom column page).
- Clarifies that you can just copy/paste question links
- Recontextualizes the content in the answers page, and deletes the answers page.
- Removes the answer page.
- Removes the pulses page.
- And some other cleanup.

## Why the reorganization? 

- Establishes questions as a thing in Metabase. The previous organization conflated the concepts of questions and query builder.
- Makes room for more docs on the query builder.
- Elevates viz docs in the hierarchy.

We'll need to update the docs sidebar in the website.",jeff-bruemmer,2024-12-16 19:52:27+00:00,['jeff-bruemmer'],2025-01-27 22:12:48+00:00,2024-12-23 15:45:14+00:00,https://github.com/metabase/metabase/pull/51366,"[('Type:Documentation', ''), ('no-backport', 'Do not backport this PR to any branch')]",[],
2743179253,pull_request,closed,,Update SDK version to 0.52.4-nightly,Update Readme version references and published npm package version to 0.52.4-nightly,github-automation-metabase,2024-12-16 19:13:30+00:00,"['heypoom', 'github-automation-metabase']",2025-01-27 22:13:19+00:00,2024-12-16 19:14:52+00:00,https://github.com/metabase/metabase/pull/51365,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2546432126, 'issue_id': 2743179253, 'author': 'github-actions[bot]', 'body': '<!---conventional commit reminder comment ID-->\n@github-automation-metabase You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.\nHere are all the supported types that will be shown in the changelog:\n- `feat`\n- `fix`\n- `perf`\n\nThese types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.\n\nPlease also make sure to include `sdk` scope, otherwise, the changelog will not include this task.\n\nFor example, these are valid PR titles:\n- `feat(sdk): Add interactive dashboard component`\n- `feat(sdk): Support theming pie chart`\n- `fix(sdk): Fix static dashboard crash`', 'created_at': datetime.datetime(2024, 12, 16, 19, 13, 53, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-12-16 19:13:53 UTC): <!---conventional commit reminder comment ID-->
@github-automation-metabase You have modified embedding SDK code. Please make sure the PR title follows [Conventional Commits](https://www.conventionalcommits.org/en/v1.0.0/) style.
Here are all the supported types that will be shown in the changelog:
- `feat`
- `fix`
- `perf`

These types `docs`, `style`, `refactor`, `test`, `build`, and `ci` are also encouraged for non-changelog related tasks.

Please also make sure to include `sdk` scope, otherwise, the changelog will not include this task.

For example, these are valid PR titles:
- `feat(sdk): Add interactive dashboard component`
- `feat(sdk): Support theming pie chart`
- `fix(sdk): Fix static dashboard crash`

"
2743176407,pull_request,closed,,ci(sdk): re-enable cross-version component tests workflow,"This reverts https://github.com/metabase/metabase/pull/51265 to re-enable cross-version component tests. We've merged, backported and released https://github.com/metabase/metabase/pull/51328 so cross-version tests should be passing now.",heypoom,2024-12-16 19:12:12+00:00,['heypoom'],2025-02-04 15:20:07+00:00,2024-12-17 16:55:20+00:00,https://github.com/metabase/metabase/pull/51364,"[('.Team/Embedding', '')]","[{'comment_id': 2546580282, 'issue_id': 2743176407, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13264_tests-3103ddd5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51364?repo=metabase/metabase&commitHash=3103ddd50ab2cf51eaaa59f4c6c5bddfcd231af3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/8-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51364?repo=metabase/metabase&commitHash=3103ddd50ab2cf51eaaa59f4c6c5bddfcd231af3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51364?repo=metabase/metabase&commitHash=3103ddd50ab2cf51eaaa59f4c6c5bddfcd231af3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51364?repo=metabase/metabase&commitHash=3103ddd50ab2cf51eaaa59f4c6c5bddfcd231af3&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>scenarios > embedding-sdk > styles modals and tooltips mantine modals should render with our styles</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51364?repo=metabase/metabase&commitHash=3103ddd50ab2cf51eaaa59f4c6c5bddfcd231af3&utm_source=gh-comment&runConclusion=FAILURE&runId=678a54b1-08ca-5077-a8c5-787054025a42) |\n| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51364?repo=metabase/metabase&commitHash=3103ddd50ab2cf51eaaa59f4c6c5bddfcd231af3&utm_source=gh-comment&runConclusion=FAILURE&runId=4c4418cc-51b0-56ca-9ea6-0ab72ca8a3d5) |\n| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51364?repo=metabase/metabase&commitHash=3103ddd50ab2cf51eaaa59f4c6c5bddfcd231af3&utm_source=gh-comment&runConclusion=FAILURE&runId=50843051-3ca4-5b3c-bdba-d5d6bfd35077) |\n| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51364?repo=metabase/metabase&commitHash=3103ddd50ab2cf51eaaa59f4c6c5bddfcd231af3&utm_source=gh-comment&runConclusion=FAILURE&runId=782d19a3-85b5-5acd-8990-46c464a028c8) |\n\n[... and 4 more](https://app.trunk.io/metabase/flaky-tests/pr/51364?repo=metabase/metabase&commitHash=3103ddd50ab2cf51eaaa59f4c6c5bddfcd231af3&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51364?repo=metabase/metabase&commitHash=3103ddd50ab2cf51eaaa59f4c6c5bddfcd231af3&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 16, 19, 50, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2549029432, 'issue_id': 2743176407, 'author': 'heypoom', 'body': 'Superseded by https://github.com/metabase/metabase/pull/51402', 'created_at': datetime.datetime(2024, 12, 17, 16, 55, 21, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-16 19:50:22 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13264_tests-3103ddd5-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51364?repo=metabase/metabase&commitHash=3103ddd50ab2cf51eaaa59f4c6c5bddfcd231af3&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/8-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51364?repo=metabase/metabase&commitHash=3103ddd50ab2cf51eaaa59f4c6c5bddfcd231af3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51364?repo=metabase/metabase&commitHash=3103ddd50ab2cf51eaaa59f4c6c5bddfcd231af3&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51364?repo=metabase/metabase&commitHash=3103ddd50ab2cf51eaaa59f4c6c5bddfcd231af3&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>scenarios > embedding-sdk > styles modals and tooltips mantine modals should render with our styles</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51364?repo=metabase/metabase&commitHash=3103ddd50ab2cf51eaaa59f4c6c5bddfcd231af3&utm_source=gh-comment&runConclusion=FAILURE&runId=678a54b1-08ca-5077-a8c5-787054025a42) |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51364?repo=metabase/metabase&commitHash=3103ddd50ab2cf51eaaa59f4c6c5bddfcd231af3&utm_source=gh-comment&runConclusion=FAILURE&runId=4c4418cc-51b0-56ca-9ea6-0ab72ca8a3d5) |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51364?repo=metabase/metabase&commitHash=3103ddd50ab2cf51eaaa59f4c6c5bddfcd231af3&utm_source=gh-comment&runConclusion=FAILURE&runId=50843051-3ca4-5b3c-bdba-d5d6bfd35077) |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51364?repo=metabase/metabase&commitHash=3103ddd50ab2cf51eaaa59f4c6c5bddfcd231af3&utm_source=gh-comment&runConclusion=FAILURE&runId=782d19a3-85b5-5acd-8990-46c464a028c8) |

[... and 4 more](https://app.trunk.io/metabase/flaky-tests/pr/51364?repo=metabase/metabase&commitHash=3103ddd50ab2cf51eaaa59f4c6c5bddfcd231af3&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51364?repo=metabase/metabase&commitHash=3103ddd50ab2cf51eaaa59f4c6c5bddfcd231af3&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

heypoom (Issue Creator) on (2024-12-17 16:55:21 UTC): Superseded by https://github.com/metabase/metabase/pull/51402

"
2743167151,pull_request,closed,,ci(sdk): re-enable component test e2e workflow in 51,This reverts https://github.com/metabase/metabase/commit/a384826a7059e2f52ef51fbbe670a83a085dbcd3 to re-enable regular component testing (not cross-version). We've merged and backported https://github.com/metabase/metabase/pull/51328 so tests should be green now.,heypoom,2024-12-16 19:07:19+00:00,['heypoom'],2025-02-04 15:20:08+00:00,2024-12-17 17:40:32+00:00,https://github.com/metabase/metabase/pull/51363,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', ''), ('Embedding/SDK', 'Embedding SDK for React')]","[{'comment_id': 2546568314, 'issue_id': 2743167151, 'author': 'trunk-io[bot]', 'body': ""<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13235_tests-0a67468b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51363?repo=metabase/metabase&commitHash=0a67468bda2e3f08a5261bc0f6b450247e5dcb0e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/7-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51363?repo=metabase/metabase&commitHash=0a67468bda2e3f08a5261bc0f6b450247e5dcb0e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51363?repo=metabase/metabase&commitHash=0a67468bda2e3f08a5261bc0f6b450247e5dcb0e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51363?repo=metabase/metabase&commitHash=0a67468bda2e3f08a5261bc0f6b450247e5dcb0e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51363?repo=metabase/metabase&commitHash=0a67468bda2e3f08a5261bc0f6b450247e5dcb0e&utm_source=gh-comment&runConclusion=FAILURE&runId=107b7a47-5272-545f-a975-81b3fbab32ee) |\n| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51363?repo=metabase/metabase&commitHash=0a67468bda2e3f08a5261bc0f6b450247e5dcb0e&utm_source=gh-comment&runConclusion=FAILURE&runId=6e14185d-44d7-5655-bcb9-2a9f5a2e65d1) |\n| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51363?repo=metabase/metabase&commitHash=0a67468bda2e3f08a5261bc0f6b450247e5dcb0e&utm_source=gh-comment&runConclusion=FAILURE&runId=bfc032c8-9563-5c07-b9da-8c48f0040cbf) |\n| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51363?repo=metabase/metabase&commitHash=0a67468bda2e3f08a5261bc0f6b450247e5dcb0e&utm_source=gh-comment&runConclusion=FAILURE&runId=60a3b6e9-918f-5f77-a825-5efc053a4fa1) |\n\n[... and 3 more](https://app.trunk.io/metabase/flaky-tests/pr/51363?repo=metabase/metabase&commitHash=0a67468bda2e3f08a5261bc0f6b450247e5dcb0e&utm_source=gh-comment&runConclusion=FAILURE)\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51363?repo=metabase/metabase&commitHash=0a67468bda2e3f08a5261bc0f6b450247e5dcb0e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>"", 'created_at': datetime.datetime(2024, 12, 16, 19, 47, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2549143202, 'issue_id': 2743167151, 'author': 'heypoom', 'body': 'superseded by https://github.com/metabase/metabase/pull/51327', 'created_at': datetime.datetime(2024, 12, 17, 17, 40, 32, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-16 19:47:47 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13235_tests-0a67468b-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51363?repo=metabase/metabase&commitHash=0a67468bda2e3f08a5261bc0f6b450247e5dcb0e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/7-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51363?repo=metabase/metabase&commitHash=0a67468bda2e3f08a5261bc0f6b450247e5dcb0e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51363?repo=metabase/metabase&commitHash=0a67468bda2e3f08a5261bc0f6b450247e5dcb0e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51363?repo=metabase/metabase&commitHash=0a67468bda2e3f08a5261bc0f6b450247e5dcb0e&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51363?repo=metabase/metabase&commitHash=0a67468bda2e3f08a5261bc0f6b450247e5dcb0e&utm_source=gh-comment&runConclusion=FAILURE&runId=107b7a47-5272-545f-a975-81b3fbab32ee) |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51363?repo=metabase/metabase&commitHash=0a67468bda2e3f08a5261bc0f6b450247e5dcb0e&utm_source=gh-comment&runConclusion=FAILURE&runId=6e14185d-44d7-5655-bcb9-2a9f5a2e65d1) |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51363?repo=metabase/metabase&commitHash=0a67468bda2e3f08a5261bc0f6b450247e5dcb0e&utm_source=gh-comment&runConclusion=FAILURE&runId=bfc032c8-9563-5c07-b9da-8c48f0040cbf) |
| <code>An uncaught error was detected outside of a test</code> | The '@metabase/embedding-sdk-react' module was not found. | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51363?repo=metabase/metabase&commitHash=0a67468bda2e3f08a5261bc0f6b450247e5dcb0e&utm_source=gh-comment&runConclusion=FAILURE&runId=60a3b6e9-918f-5f77-a825-5efc053a4fa1) |

[... and 3 more](https://app.trunk.io/metabase/flaky-tests/pr/51363?repo=metabase/metabase&commitHash=0a67468bda2e3f08a5261bc0f6b450247e5dcb0e&utm_source=gh-comment&runConclusion=FAILURE)
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51363?repo=metabase/metabase&commitHash=0a67468bda2e3f08a5261bc0f6b450247e5dcb0e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

heypoom (Issue Creator) on (2024-12-17 17:40:32 UTC): superseded by https://github.com/metabase/metabase/pull/51327

"
2743137170,pull_request,closed,,Update SDK version to 0.51.12,Update Readme version references and published npm package version to 0.51.12,github-automation-metabase,2024-12-16 18:50:58+00:00,"['heypoom', 'github-automation-metabase']",2024-12-16 20:00:16+00:00,2024-12-16 18:51:53+00:00,https://github.com/metabase/metabase/pull/51362,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2546609999, 'issue_id': 2743137170, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/23_tests-bc555b44-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51362?repo=metabase/metabase&commitHash=bc555b4482fce3c75684d6f05c91c7be1ec02943&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51362?repo=metabase/metabase&commitHash=bc555b4482fce3c75684d6f05c91c7be1ec02943&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51362?repo=metabase/metabase&commitHash=bc555b4482fce3c75684d6f05c91c7be1ec02943&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51362?repo=metabase/metabase&commitHash=bc555b4482fce3c75684d6f05c91c7be1ec02943&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51362?repo=metabase/metabase&commitHash=bc555b4482fce3c75684d6f05c91c7be1ec02943&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 16, 20, 0, 15, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-16 20:00:15 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/23_tests-bc555b44-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51362?repo=metabase/metabase&commitHash=bc555b4482fce3c75684d6f05c91c7be1ec02943&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51362?repo=metabase/metabase&commitHash=bc555b4482fce3c75684d6f05c91c7be1ec02943&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51362?repo=metabase/metabase&commitHash=bc555b4482fce3c75684d6f05c91c7be1ec02943&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51362?repo=metabase/metabase&commitHash=bc555b4482fce3c75684d6f05c91c7be1ec02943&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51362?repo=metabase/metabase&commitHash=bc555b4482fce3c75684d6f05c91c7be1ec02943&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2743059169,pull_request,closed,,Remove some console errors due to prop forwarding,"Screenshots of the errors:

![image.png](https://graphite-user-uploaded-assets-prod.s3.amazonaws.com/utGnP2ljFMMNOgi82vVn/409f7f50-b3f7-4b5e-9757-9cc6d38ee0fb.png)

![image.png](https://graphite-user-uploaded-assets-prod.s3.amazonaws.com/utGnP2ljFMMNOgi82vVn/520140f1-2dd6-45d8-b02f-55d657185c00.png)

![image.png](https://graphite-user-uploaded-assets-prod.s3.amazonaws.com/utGnP2ljFMMNOgi82vVn/7b0379d5-ff43-4303-85e4-e54021f6ee82.png)

![image.png](https://graphite-user-uploaded-assets-prod.s3.amazonaws.com/utGnP2ljFMMNOgi82vVn/cb5b9da5-2de8-4c59-b88a-a6ab0aa587da.png)

![image.png](https://graphite-user-uploaded-assets-prod.s3.amazonaws.com/utGnP2ljFMMNOgi82vVn/e698bc4a-c1e4-4fe5-98c7-493be797a772.png)

![image.png](https://graphite-user-uploaded-assets-prod.s3.amazonaws.com/utGnP2ljFMMNOgi82vVn/3080f104-9cea-4b46-9faf-4cc7682d94d6.png)

![image.png](https://graphite-user-uploaded-assets-prod.s3.amazonaws.com/utGnP2ljFMMNOgi82vVn/16aecd9e-6c22-44f5-839c-3f8c89ed17d6.png)

![image.png](https://graphite-user-uploaded-assets-prod.s3.amazonaws.com/utGnP2ljFMMNOgi82vVn/3a236941-e3ea-4070-9706-33ae1dc88e57.png)

",rafpaf,2024-12-16 18:08:41+00:00,['rafpaf'],2025-01-27 22:13:17+00:00,2024-12-16 23:30:57+00:00,https://github.com/metabase/metabase/pull/51358,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2546310621, 'issue_id': 2743059169, 'author': 'rafpaf', 'body': '* **#51358** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51358?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51358?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>\n* `master`\n\n\n<h2></h2>\n\nThis stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.\n<!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 12, 16, 18, 8, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2546317381, 'issue_id': 2743059169, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff a21280000a66f4157b81c8fc2cd063e4c6641e5a...d063a24ab9c3dbf054a058eafe370159a5bba00e.\n\nNo notifications.', 'created_at': datetime.datetime(2024, 12, 16, 18, 12, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2546387331, 'issue_id': 2743059169, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/12959_tests-d063a24a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51358?repo=metabase/metabase&commitHash=d063a24ab9c3dbf054a058eafe370159a5bba00e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51358?repo=metabase/metabase&commitHash=d063a24ab9c3dbf054a058eafe370159a5bba00e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51358?repo=metabase/metabase&commitHash=d063a24ab9c3dbf054a058eafe370159a5bba00e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51358?repo=metabase/metabase&commitHash=d063a24ab9c3dbf054a058eafe370159a5bba00e&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51358?repo=metabase/metabase&commitHash=d063a24ab9c3dbf054a058eafe370159a5bba00e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 16, 18, 49, 32, tzinfo=datetime.timezone.utc)}]","rafpaf (Issue Creator) on (2024-12-16 18:08:58 UTC): * **#51358** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51358?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà <a href=""https://app.graphite.dev/github/pr/metabase/metabase/51358?utm_source=stack-comment-view-in-graphite"" target=""_blank"">(View in Graphite)</a>
* `master`


<h2></h2>

This stack of pull requests is managed by <a href=""https://graphite.dev?utm-source=stack-comment""><b>Graphite</b></a>. Learn more about <a href=""https://stacking.dev/?utm_source=stack-comment"">stacking</a>.
<!-- Current dependencies on/for this PR: -->

github-actions[bot] on (2024-12-16 18:12:26 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff a21280000a66f4157b81c8fc2cd063e4c6641e5a...d063a24ab9c3dbf054a058eafe370159a5bba00e.

No notifications.

trunk-io[bot] on (2024-12-16 18:49:32 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/12959_tests-d063a24a-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51358?repo=metabase/metabase&commitHash=d063a24ab9c3dbf054a058eafe370159a5bba00e&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51358?repo=metabase/metabase&commitHash=d063a24ab9c3dbf054a058eafe370159a5bba00e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51358?repo=metabase/metabase&commitHash=d063a24ab9c3dbf054a058eafe370159a5bba00e&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51358?repo=metabase/metabase&commitHash=d063a24ab9c3dbf054a058eafe370159a5bba00e&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51358?repo=metabase/metabase&commitHash=d063a24ab9c3dbf054a058eafe370159a5bba00e&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2743056732,pull_request,closed,,Add prometheus metric for search errors,Useful metrics for monitoring core functionality,crisptrutski,2024-12-16 18:07:25+00:00,['crisptrutski'],2024-12-17 17:09:18+00:00,2024-12-17 10:19:15+00:00,https://github.com/metabase/metabase/pull/51357,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2546385160, 'issue_id': 2743056732, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/122589_tests-9a787c51-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51357?repo=metabase/metabase&commitHash=9a787c51629a71d3f286e7a634dea7addf995f24&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51357?repo=metabase/metabase&commitHash=9a787c51629a71d3f286e7a634dea7addf995f24&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51357?repo=metabase/metabase&commitHash=9a787c51629a71d3f286e7a634dea7addf995f24&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51357?repo=metabase/metabase&commitHash=9a787c51629a71d3f286e7a634dea7addf995f24&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51357?repo=metabase/metabase&commitHash=9a787c51629a71d3f286e7a634dea7addf995f24&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 16, 18, 48, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2546385161, 'issue_id': 2743056732, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/86067_tests-8c3005ce-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51357?repo=metabase/metabase&commitHash=8c3005ce9667ccfcd17071d9608b0edf024d4ef9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/7-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51357?repo=metabase/metabase&commitHash=8c3005ce9667ccfcd17071d9608b0edf024d4ef9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51357?repo=metabase/metabase&commitHash=8c3005ce9667ccfcd17071d9608b0edf024d4ef9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51357?repo=metabase/metabase&commitHash=8c3005ce9667ccfcd17071d9608b0edf024d4ef9&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n| Failed Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>prometheus-response-metrics-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51357?repo=metabase/metabase&commitHash=8c3005ce9667ccfcd17071d9608b0edf024d4ef9&utm_source=gh-comment&runConclusion=FAILURE&runId=6b5fec25-34c4-553a-ac71-2b86f497ded8) |\n| <code>prometheus-response-metrics-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51357?repo=metabase/metabase&commitHash=8c3005ce9667ccfcd17071d9608b0edf024d4ef9&utm_source=gh-comment&runConclusion=FAILURE&runId=a8a8e33e-c763-52c5-9864-fa47e74cc02b) |\n| <code>prometheus-response-metrics-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51357?repo=metabase/metabase&commitHash=8c3005ce9667ccfcd17071d9608b0edf024d4ef9&utm_source=gh-comment&runConclusion=FAILURE&runId=6c7c5fd5-f587-5b33-8d1d-7d5487f7eb3c) |\n| <code>prometheus-response-metrics-test</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51357?repo=metabase/metabase&commitHash=8c3005ce9667ccfcd17071d9608b0edf024d4ef9&utm_source=gh-comment&runConclusion=FAILURE&runId=7d1a3bcf-bfcc-548e-aa3c-19393d8cf388) |\n\n[... and 3 more](https://app.trunk.io/metabase/flaky-tests/pr/51357?repo=metabase/metabase&commitHash=8c3005ce9667ccfcd17071d9608b0edf024d4ef9&utm_source=gh-comment&runConclusion=FAILURE)\n\n\n| Flaky Test | Failure Summary | Logs |\n| --- | --- | --- |\n| <code>datetime-binning-options-test-3</code> |  | [Logs\xa0‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51357?repo=metabase/metabase&commitHash=8c3005ce9667ccfcd17071d9608b0edf024d4ef9&utm_source=gh-comment&runConclusion=FAILURE&runId=9c27f769-3938-547d-96e7-88faa567324c) |\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51357?repo=metabase/metabase&commitHash=8c3005ce9667ccfcd17071d9608b0edf024d4ef9&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 16, 18, 48, 19, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-16 18:48:19 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/122589_tests-9a787c51-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51357?repo=metabase/metabase&commitHash=9a787c51629a71d3f286e7a634dea7addf995f24&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51357?repo=metabase/metabase&commitHash=9a787c51629a71d3f286e7a634dea7addf995f24&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51357?repo=metabase/metabase&commitHash=9a787c51629a71d3f286e7a634dea7addf995f24&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51357?repo=metabase/metabase&commitHash=9a787c51629a71d3f286e7a634dea7addf995f24&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51357?repo=metabase/metabase&commitHash=9a787c51629a71d3f286e7a634dea7addf995f24&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

trunk-io[bot] on (2024-12-16 18:48:19 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/86067_tests-8c3005ce-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51357?repo=metabase/metabase&commitHash=8c3005ce9667ccfcd17071d9608b0edf024d4ef9&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/7-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51357?repo=metabase/metabase&commitHash=8c3005ce9667ccfcd17071d9608b0edf024d4ef9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/1-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51357?repo=metabase/metabase&commitHash=8c3005ce9667ccfcd17071d9608b0edf024d4ef9&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51357?repo=metabase/metabase&commitHash=8c3005ce9667ccfcd17071d9608b0edf024d4ef9&utm_source=gh-comment&runConclusion=QUARANTINED)


| Failed Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>prometheus-response-metrics-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51357?repo=metabase/metabase&commitHash=8c3005ce9667ccfcd17071d9608b0edf024d4ef9&utm_source=gh-comment&runConclusion=FAILURE&runId=6b5fec25-34c4-553a-ac71-2b86f497ded8) |
| <code>prometheus-response-metrics-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51357?repo=metabase/metabase&commitHash=8c3005ce9667ccfcd17071d9608b0edf024d4ef9&utm_source=gh-comment&runConclusion=FAILURE&runId=a8a8e33e-c763-52c5-9864-fa47e74cc02b) |
| <code>prometheus-response-metrics-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51357?repo=metabase/metabase&commitHash=8c3005ce9667ccfcd17071d9608b0edf024d4ef9&utm_source=gh-comment&runConclusion=FAILURE&runId=6c7c5fd5-f587-5b33-8d1d-7d5487f7eb3c) |
| <code>prometheus-response-metrics-test</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51357?repo=metabase/metabase&commitHash=8c3005ce9667ccfcd17071d9608b0edf024d4ef9&utm_source=gh-comment&runConclusion=FAILURE&runId=7d1a3bcf-bfcc-548e-aa3c-19393d8cf388) |

[... and 3 more](https://app.trunk.io/metabase/flaky-tests/pr/51357?repo=metabase/metabase&commitHash=8c3005ce9667ccfcd17071d9608b0edf024d4ef9&utm_source=gh-comment&runConclusion=FAILURE)


| Flaky Test | Failure Summary | Logs |
| --- | --- | --- |
| <code>datetime-binning-options-test-3</code> |  | [Logs¬†‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51357?repo=metabase/metabase&commitHash=8c3005ce9667ccfcd17071d9608b0edf024d4ef9&utm_source=gh-comment&runConclusion=FAILURE&runId=9c27f769-3938-547d-96e7-88faa567324c) |
<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51357?repo=metabase/metabase&commitHash=8c3005ce9667ccfcd17071d9608b0edf024d4ef9&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
2743053979,pull_request,closed,,"ü§ñ backported ""fix(sdk): simplify font config by not providing sans-serif fallback""",#51343,github-automation-metabase,2024-12-16 18:06:03+00:00,"['npretto', 'github-automation-metabase']",2024-12-17 09:03:59+00:00,2024-12-17 09:03:57+00:00,https://github.com/metabase/metabase/pull/51356,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2546386673, 'issue_id': 2743053979, 'author': 'trunk-io[bot]', 'body': '<!-- Trunk Test Analytics -->\n\n\n[![Static Badge](https://img.shields.io/badge/13227_tests-917c4bf2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51356?repo=metabase/metabase&commitHash=917c4bf29810c9379e70f7b5add9eff6c3142803&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51356?repo=metabase/metabase&commitHash=917c4bf29810c9379e70f7b5add9eff6c3142803&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51356?repo=metabase/metabase&commitHash=917c4bf29810c9379e70f7b5add9eff6c3142803&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51356?repo=metabase/metabase&commitHash=917c4bf29810c9379e70f7b5add9eff6c3142803&utm_source=gh-comment&runConclusion=QUARANTINED)\n\n\n<sub>\n\n[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51356?repo=metabase/metabase&commitHash=917c4bf29810c9379e70f7b5add9eff6c3142803&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)\n\n</sub>', 'created_at': datetime.datetime(2024, 12, 16, 18, 49, 9, tzinfo=datetime.timezone.utc)}]","trunk-io[bot] on (2024-12-16 18:49:09 UTC): <!-- Trunk Test Analytics -->


[![Static Badge](https://img.shields.io/badge/13227_tests-917c4bf2-purple)](https://app.trunk.io/metabase/flaky-tests/pr/51356?repo=metabase/metabase&commitHash=917c4bf29810c9379e70f7b5add9eff6c3142803&utm_source=gh-comment) &ensp; [![Static Badge](https://img.shields.io/badge/0-failed-crimson)](https://app.trunk.io/metabase/flaky-tests/pr/51356?repo=metabase/metabase&commitHash=917c4bf29810c9379e70f7b5add9eff6c3142803&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-flaky-red)](https://app.trunk.io/metabase/flaky-tests/pr/51356?repo=metabase/metabase&commitHash=917c4bf29810c9379e70f7b5add9eff6c3142803&utm_source=gh-comment&runConclusion=FAILURE) &ensp; [![Static Badge](https://img.shields.io/badge/0-quarantined-yellow)](https://app.trunk.io/metabase/flaky-tests/pr/51356?repo=metabase/metabase&commitHash=917c4bf29810c9379e70f7b5add9eff6c3142803&utm_source=gh-comment&runConclusion=QUARANTINED)


<sub>

[View Full Report ‚ÜóÔ∏é](https://app.trunk.io/metabase/flaky-tests/pr/51356?repo=metabase/metabase&commitHash=917c4bf29810c9379e70f7b5add9eff6c3142803&utm_source=gh-comment) ‚ãÖ [Docs](https://docs.trunk.io/flaky-tests?utm_source=gh-comment)

</sub>

"
