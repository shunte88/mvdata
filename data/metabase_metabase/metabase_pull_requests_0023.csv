id,type,state,state_reason,title,body,author,created_at,assignees,updated_at,closed_at,url,labels,comments_list,comment_thread
2196546479,pull_request,closed,,fix time series x-axis ticks bugs,"Closes https://github.com/metabase/metabase/issues/39556
Closes https://github.com/metabase/metabase/issues/39419
Closes https://github.com/metabase/metabase/issues/39587
Closes https://github.com/metabase/metabase/issues/39555
Closes https://github.com/metabase/metabase/issues/40208
Closes https://github.com/metabase/metabase/issues/40182

### Description

This PR slightly reworks timeseries x-axis ticks to make it more similar to the previous implementation. Also, the previous timezone fix is removed from this PR because it [did not work well anyway given this issue report](https://github.com/metabase/metabase/issues/39322). It will be fixed separately.

#### 1. Too frequent ticks
Issue: https://github.com/metabase/metabase/issues/39556
Fixed by considering chart width while selecting the tick unit. 

Before
<img width=""705"" alt=""Screenshot 2024-03-22 at 12 45 10‚ÄØAM"" src=""https://github.com/metabase/metabase/assets/14301985/60b7b924-f16f-4a7e-9df6-2070b896a329"">

After
<img width=""721"" alt=""Screenshot 2024-03-22 at 12 44 41‚ÄØAM"" src=""https://github.com/metabase/metabase/assets/14301985/d6b37123-eee1-4969-b440-110ef91eac7f"">

Stats
<img width=""701"" alt=""Screenshot 2024-03-22 at 12 45 28‚ÄØAM"" src=""https://github.com/metabase/metabase/assets/14301985/938885e1-d76a-4dac-8b62-81d01a8ad13b"">


#### 2. Duplicated ticks
Issue: https://github.com/metabase/metabase/issues/39419

Before
<img width=""1358"" alt=""Screenshot 2024-03-22 at 12 13 30‚ÄØAM"" src=""https://github.com/metabase/metabase/assets/14301985/a77220df-d0e6-4ccd-84aa-88b995708b62"">

After
<img width=""1362"" alt=""Screenshot 2024-03-22 at 12 13 37‚ÄØAM"" src=""https://github.com/metabase/metabase/assets/14301985/e02a0a2b-adf5-4168-b322-f8efcb35bac9"">

#### 3. Uneven spacing 
Issues: https://github.com/metabase/metabase/issues/39587 and  https://github.com/metabase/metabase/issues/40208

Before
<img width=""1348"" alt=""Screenshot 2024-03-22 at 12 36 06‚ÄØAM"" src=""https://github.com/metabase/metabase/assets/14301985/d2240107-21ef-409c-a7f2-8404f70f0fd6"">

After
<img width=""1347"" alt=""Screenshot 2024-03-22 at 12 36 13‚ÄØAM"" src=""https://github.com/metabase/metabase/assets/14301985/3b344320-5946-4fce-a610-016fe5c69345"">


#### 4. Incorrect formatting
Issues: https://github.com/metabase/metabase/issues/39555 and https://github.com/metabase/metabase/issues/40182

There were two issues related to formatting
- Missing support of ""compact"" formatting which is fixed by providing ""compact"" setting to the formatter
- When data had weekly granularity but based on the x-axis range and available space we decided to show monthly or yearly ticks, we used formatting options for weekly granularity which shows days. Can be seen on the screenshots from the ""Too frequent ticks"" secion.

#### Other changes
In the Loki specs diff you will see charts that got less ticks now, this is because the PR tries to reproduce the old logic. The previous implementation on charts with small width frequently shows just 1 tick. Our static viz chart dimensions fall into this range. In this PR I also tweaked the unit selection logic so that ticks can be bi-yearly and the computed tick interval should produce at least two ticks. Example:

Stats
<img width=""587"" alt=""Screenshot 2024-03-22 at 12 49 39‚ÄØAM"" src=""https://github.com/metabase/metabase/assets/14301985/91327a16-0f63-4919-b71d-036a008f473e"">

This branch
<img width=""509"" alt=""Screenshot 2024-03-22 at 12 49 47‚ÄØAM"" src=""https://github.com/metabase/metabase/assets/14301985/b90b13b9-ea6b-420c-9f8e-016d40b38d87"">

### How to verify

Verify cases above and try breaking time series x-axis ticks in any other way.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",alxnddr,2024-03-20 02:21:51+00:00,['alxnddr'],2024-03-22 18:37:56+00:00,2024-03-22 18:05:02+00:00,https://github.com/metabase/metabase/pull/40339,"[('visual', 'Run Percy visual testing'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2008577163, 'issue_id': 2196546479, 'author': 'github-actions[bot]', 'body': 'üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8352958323)', 'created_at': datetime.datetime(2024, 3, 20, 2, 31, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2014323628, 'issue_id': 2196546479, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/cc32bca1-7696-4706-b166-1274d126193a"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>4b7daa8a07fbc45c73f609eb3dfcc093580f431c</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>175 Failed</b></div>\n<div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2040 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 22, 4, 16, 42, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-20 02:31:16 UTC): üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8352958323)

replay-io[bot] on (2024-03-22 04:16:42 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/cc32bca1-7696-4706-b166-1274d126193a"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>4b7daa8a07fbc45c73f609eb3dfcc093580f431c</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>175 Failed</b></div>
<div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2040 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2196146381,pull_request,closed,,Attach Static-viz render errors to subscription emails,"Fixes: #39814

Todo:
- [x] add test ensuring the .txt attachment exists for card render errors
- [x] add similar test for the card query error case

Our static-viz renders an error message into subscription emails if the render failed, but it provides no further details as to what caused the failure.

This PR adds a .txt attachment in the case of a card render or card query failure. The contents of the text file are a short message about the problem with the card's name, the visualization_settings that the card was rendered with, and the stacktrace.

This should be helpful if a user is reporting a render error as a bug since this can be attached or copy/pasted into the bug report.

The attachment was used so that the actual body of the email remains clean/legible.

Here's a screenshot:
![image](https://github.com/metabase/metabase/assets/21064735/9247acc3-d4de-4315-9d00-41b30aa4f6d1)

Above is a subscription email with a failing card. Below is the text attachment. Error attachment files are only created for cards that have an error.



To implement this change, I did a small refactor, pulling out a bit of file and map creation fns into `metabase.pulse.attachment`. For the purpose of this PR, I think it's wise to keep the `pulse` name. Removing references to pulses should be its own PR.",adam-james-v,2024-03-19 22:24:40+00:00,['adam-james-v'],2025-02-05 01:31:39+00:00,2025-02-05 01:31:39+00:00,https://github.com/metabase/metabase/pull/40336,"[('backport', 'Automatically create PR on current release branch on merge'), ('visual', 'Run Percy visual testing'), ('Stale', 'Stale PRs that will be auto-closed'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2016123070, 'issue_id': 2196146381, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs?testRunId=3c47f8fd-b2d8-4571-9abb-4c29c73602c1"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>ff11bd7f797aa0f8a80eb72dd885108c7ef7f385</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>6 Flaky</b></div>\n<div>‚úÖ <b>2577 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 22, 23, 28, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603451296, 'issue_id': 2196146381, 'author': 'github-actions[bot]', 'body': 'This pull request has had no activity for 90 days, it will be closed in 2 weeks if no further activity occurs.', 'created_at': datetime.datetime(2025, 1, 21, 1, 32, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635503433, 'issue_id': 2196146381, 'author': 'github-actions[bot]', 'body': 'This pull request was closed because it had no activity for more than 90 days.', 'created_at': datetime.datetime(2025, 2, 5, 1, 31, 38, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-22 23:28:30 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs?testRunId=3c47f8fd-b2d8-4571-9abb-4c29c73602c1"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>ff11bd7f797aa0f8a80eb72dd885108c7ef7f385</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>6 Flaky</b></div>
<div>‚úÖ <b>2577 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2025-01-21 01:32:51 UTC): This pull request has had no activity for 90 days, it will be closed in 2 weeks if no further activity occurs.

github-actions[bot] on (2025-02-05 01:31:38 UTC): This pull request was closed because it had no activity for more than 90 days.

"
2196136098,pull_request,closed,,Prevent QB header from jumping between modes,"This PR fixes https://github.com/metabase/metabase/issues/40334 by applying a fixed height to the header. This height is a few pixels larger than the sum of the height of the tallest child + padding + border.

We can solve this in a more refined way, but this should do for now.
Left a comment in the code.

### Before
![Kapture 2024-03-19 at 23 04 10](https://github.com/metabase/metabase/assets/31325167/80a8a62c-b34b-4646-8fdc-97bffd7b69f8)

### After
![Kapture 2024-03-19 at 23 17 48](https://github.com/metabase/metabase/assets/31325167/7e4203bc-0c17-4b45-a49f-5e1bbe35bb6d)
",nemanjaglumac,2024-03-19 22:18:39+00:00,['nemanjaglumac'],2024-03-20 12:19:12+00:00,2024-03-20 12:18:52+00:00,https://github.com/metabase/metabase/pull/40335,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2008270804, 'issue_id': 2196136098, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/3749f529-b24e-4d5b-a5de-f102abe02f51"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>4c3a8bd5ddb12b6d9760ada8e18607d373b5e767</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>5 Flaky</b></div>\n<div>‚úÖ <b>2367 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 22, 30, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2009437187, 'issue_id': 2196136098, 'author': 'github-actions[bot]', 'body': '@nemanjaglumac Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 20, 12, 19, 11, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-19 22:30:06 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/3749f529-b24e-4d5b-a5de-f102abe02f51"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>4c3a8bd5ddb12b6d9760ada8e18607d373b5e767</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>5 Flaky</b></div>
<div>‚úÖ <b>2367 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-20 12:19:11 UTC): @nemanjaglumac Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2196095109,pull_request,closed,,fix stacked pow scale,"Closes https://github.com/metabase/metabase/issues/40210

### Description

We needed to handle the power y-axis scale differently for stacked charts.

### Demo

| Stats | This PR |
|--------|--------|
|  <img width=""1886"" alt=""Screenshot 2024-03-19 at 3 02 24 PM"" src=""https://github.com/metabase/metabase/assets/37751258/68d12b21-40a8-491a-bffc-0a386cfdf2a4""> | <img width=""1867"" alt=""Screenshot 2024-03-19 at 3 02 45 PM"" src=""https://github.com/metabase/metabase/assets/37751258/ad0f8b1a-6499-4ada-bf8c-db1c59c791e6""> | 

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",EmmadUsmani,2024-03-19 21:55:37+00:00,['EmmadUsmani'],2024-03-25 18:51:10+00:00,2024-03-20 23:29:05+00:00,https://github.com/metabase/metabase/pull/40331,"[('visual', 'Run Percy visual testing'), ('.Team/DashViz', 'Dashboard and Viz team'), ('loki-update', '')]","[{'comment_id': 2008200561, 'issue_id': 2196095109, 'author': 'EmmadUsmani', 'body': '* **#40599** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40599?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#40413** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40413?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#40331** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40331?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* `echarts`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @EmmadUsmani and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 19, 21, 55, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2008201864, 'issue_id': 2196095109, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 05c619db00f83b0e6b7313de39fb6cce658fc24b...3957145610073625f6d1607eeba01eada2b4801c.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/echarts/cartesian/model/dataset.ts<br>frontend/src/metabase/visualizations/visualizations/CartesianChart/events.ts |', 'created_at': datetime.datetime(2024, 3, 19, 21, 57, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2008213683, 'issue_id': 2196095109, 'author': 'github-actions[bot]', 'body': 'üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8350599896)', 'created_at': datetime.datetime(2024, 3, 19, 22, 3, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2008227428, 'issue_id': 2196095109, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/d6dacbcd-629e-4705-a1c4-18594a50dcc4"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>3957145610073625f6d1607eeba01eada2b4801c</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>176 Failed</b></div>\n<div>‚úÖ <b>2041 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 22, 8, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2008246637, 'issue_id': 2196095109, 'author': 'github-actions[bot]', 'body': 'Snapshots have been updated', 'created_at': datetime.datetime(2024, 3, 19, 22, 15, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2010898932, 'issue_id': 2196095109, 'author': 'EmmadUsmani', 'body': '### Merge activity\n\n* **Mar 20, 7:28 PM EDT**: @EmmadUsmani started a stack merge that includes this pull request via [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/40331).\n* **Mar 20, 7:29 PM EDT**: @EmmadUsmani merged this pull request with [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/40331).', 'created_at': datetime.datetime(2024, 3, 20, 23, 28, 36, tzinfo=datetime.timezone.utc)}]","EmmadUsmani (Issue Creator) on (2024-03-19 21:55:55 UTC): * **#40599** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40599?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#40413** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40413?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#40331** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40331?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* `echarts`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @EmmadUsmani and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

github-actions[bot] on (2024-03-19 21:57:09 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 05c619db00f83b0e6b7313de39fb6cce658fc24b...3957145610073625f6d1607eeba01eada2b4801c.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/echarts/cartesian/model/dataset.ts<br>frontend/src/metabase/visualizations/visualizations/CartesianChart/events.ts |

github-actions[bot] on (2024-03-19 22:03:55 UTC): üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8350599896)

replay-io[bot] on (2024-03-19 22:08:55 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/d6dacbcd-629e-4705-a1c4-18594a50dcc4"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>3957145610073625f6d1607eeba01eada2b4801c</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>176 Failed</b></div>
<div>‚úÖ <b>2041 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-19 22:15:09 UTC): Snapshots have been updated

EmmadUsmani (Issue Creator) on (2024-03-20 23:28:36 UTC): ### Merge activity

* **Mar 20, 7:28 PM EDT**: @EmmadUsmani started a stack merge that includes this pull request via [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/40331).
* **Mar 20, 7:29 PM EDT**: @EmmadUsmani merged this pull request with [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/40331).

"
2196053048,pull_request,closed,,Toggle a native query sidebar preview [PoC/task-2],"This is the second task in the Milestone 1 (PoC) of https://github.com/metabase/metabase/issues/40254.
It merges into the `sql-sidebar-preview-poc` that's being used as a ""feature"" branch for this milestone.

## What does this PR accomplish?
- Hooks the `ToggleNativeQueryPreview` button to the Redux state where it saves the user preference about whether or not the sidebar preview should be shown
- Adds an alternative tooltip for this button that depends on the sidebar state
![Kapture 2024-03-19 at 22 22 23](https://github.com/metabase/metabase/assets/31325167/0d115265-cea0-49bf-b91d-077b85253c49)

### Demo
![Kapture 2024-03-20 at 11 24 43](https://github.com/metabase/metabase/assets/31325167/6794ec63-4225-49ce-a697-07d06a051208)

## The Scope
- Clicking the button toggles the sate of the sidebar
- Sidebar state is preserved in the redux store, and the notebook editor should be initialized with the proper state

## Out of Scope
- Styling
- Preserving the state to the localStorage or to the user setting",nemanjaglumac,2024-03-19 21:24:42+00:00,['nemanjaglumac'],2024-03-20 14:41:48+00:00,2024-03-20 14:41:47+00:00,https://github.com/metabase/metabase/pull/40327,"[('.Team/Querying', '')]","[{'comment_id': 2008176257, 'issue_id': 2196053048, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/24be94ea-e2f0-49fe-8204-7b1f3fb424af"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>5707857e0d61b6adedefc9bc802eeb2683cedb3b</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>6 Failed</b></div>\n<div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2362 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 21, 36, 5, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-19 21:36:05 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/24be94ea-e2f0-49fe-8204-7b1f3fb424af"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>5707857e0d61b6adedefc9bc802eeb2683cedb3b</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>6 Failed</b></div>
<div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2362 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2195879778,pull_request,closed,,"ü§ñ backported ""docs - add 48.9 to list of releases""",#40324,metabase-bot[bot],2024-03-19 20:00:52+00:00,['jeff-bruemmer'],2024-03-19 20:02:20+00:00,2024-03-19 20:02:19+00:00,https://github.com/metabase/metabase/pull/40326,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2195869311,pull_request,closed,,docs - add 48.9 to list of releases,Like it says on the label.,jeff-bruemmer,2024-03-19 19:54:42+00:00,['jeff-bruemmer'],2024-03-19 20:00:15+00:00,2024-03-19 20:00:03+00:00,https://github.com/metabase/metabase/pull/40324,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2008012905, 'issue_id': 2195869311, 'author': 'github-actions[bot]', 'body': '@jeff-bruemmer Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 19, 20, 0, 13, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-19 20:00:13 UTC): @jeff-bruemmer Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2195829016,pull_request,closed,,"ü§ñ backported ""Fix null values being applied to filters with click behavior custom URL links""",#40023,metabase-bot[bot],2024-03-19 19:33:56+00:00,['JesseSDevaney'],2024-03-19 20:06:20+00:00,2024-03-19 20:06:19+00:00,https://github.com/metabase/metabase/pull/40323,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2007991253, 'issue_id': 2195829016, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/c6860a5e-b9ee-49b4-9628-64b3725e26cd"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>75ceaa968590efc6aa9827f9bd843440d313719c</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2338 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 19, 46, 8, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-19 19:46:08 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/c6860a5e-b9ee-49b4-9628-64b3725e26cd"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>75ceaa968590efc6aa9827f9bd843440d313719c</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2338 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2195804514,pull_request,closed,,"ü§ñ backported ""`createNativeDataset` API using RTK query""","  #40286
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",metabase-bot[bot],2024-03-19 19:22:40+00:00,['nemanjaglumac'],2024-03-20 14:10:26+00:00,2024-03-20 14:10:24+00:00,https://github.com/metabase/metabase/pull/40322,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2009667151, 'issue_id': 2195804514, 'author': 'nemanjaglumac', 'body': 'My bad.\r\nThis was not supposed to be backported.', 'created_at': datetime.datetime(2024, 3, 20, 14, 10, 24, tzinfo=datetime.timezone.utc)}]","nemanjaglumac (Assginee) on (2024-03-20 14:10:24 UTC): My bad.
This was not supposed to be backported.

"
2195801336,pull_request,closed,,Add auto formatting logic for ECharts data labels,"- Closes: https://github.com/metabase/metabase/issues/39583

**Before**


https://github.com/metabase/metabase/assets/22608765/8e98492b-8507-439b-88f6-bbeb8a05cbcb



**After**


https://github.com/metabase/metabase/assets/22608765/18aca422-19cb-4f4d-b436-54d3cf140bfa

",JesseSDevaney,2024-03-19 19:21:27+00:00,['JesseSDevaney'],2024-03-21 19:43:11+00:00,2024-03-21 19:15:54+00:00,https://github.com/metabase/metabase/pull/40321,"[('visual', 'Run Percy visual testing'), ('.Team/DashViz', 'Dashboard and Viz team'), ('loki-update', '')]","[{'comment_id': 2007953724, 'issue_id': 2195801336, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 498f9a03575ff41ca257516537ba40903ff4e1c1...dfad0653849df6dcab8b1cf39af89a3182bde072.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/echarts/cartesian/option/series.ts<br>frontend/src/metabase/visualizations/echarts/cartesian/waterfall/option/index.ts |', 'created_at': datetime.datetime(2024, 3, 19, 19, 22, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2007964613, 'issue_id': 2195801336, 'author': 'github-actions[bot]', 'body': 'üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8348927070)', 'created_at': datetime.datetime(2024, 3, 19, 19, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2007972461, 'issue_id': 2195801336, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/ddcdbddf-ea6e-46b8-a2bd-b65b2b29e77a"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>dfad0653849df6dcab8b1cf39af89a3182bde072</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>176 Failed</b></div>\n<div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2039 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 19, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2010510591, 'issue_id': 2195801336, 'author': 'JesseSDevaney', 'body': '@alxnddr \r\n\r\n> Looks good! Can you please add visual variants where auto formatting compacts ticks?\r\n\r\n\r\n![image](https://github.com/metabase/metabase/assets/22608765/dbed8789-e447-4be5-83cc-fe85b91ebf46)', 'created_at': datetime.datetime(2024, 3, 20, 19, 56, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2010526303, 'issue_id': 2195801336, 'author': 'github-actions[bot]', 'body': 'üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8365069919)', 'created_at': datetime.datetime(2024, 3, 20, 20, 4, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2010527408, 'issue_id': 2195801336, 'author': 'github-actions[bot]', 'body': 'Snapshots have been updated', 'created_at': datetime.datetime(2024, 3, 20, 20, 5, 30, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-19 19:22:27 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 498f9a03575ff41ca257516537ba40903ff4e1c1...dfad0653849df6dcab8b1cf39af89a3182bde072.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/echarts/cartesian/option/series.ts<br>frontend/src/metabase/visualizations/echarts/cartesian/waterfall/option/index.ts |

github-actions[bot] on (2024-03-19 19:30:00 UTC): üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8348927070)

replay-io[bot] on (2024-03-19 19:35:00 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/ddcdbddf-ea6e-46b8-a2bd-b65b2b29e77a"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>dfad0653849df6dcab8b1cf39af89a3182bde072</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>176 Failed</b></div>
<div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2039 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

JesseSDevaney (Issue Creator) on (2024-03-20 19:56:53 UTC): @alxnddr 



![image](https://github.com/metabase/metabase/assets/22608765/dbed8789-e447-4be5-83cc-fe85b91ebf46)

github-actions[bot] on (2024-03-20 20:04:43 UTC): üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8365069919)

github-actions[bot] on (2024-03-20 20:05:30 UTC): Snapshots have been updated

"
2195792463,pull_request,closed,,Fix 40250 original,,oleggromov,2024-03-19 19:16:46+00:00,['oleggromov'],2024-03-20 09:49:19+00:00,2024-03-20 09:49:16+00:00,https://github.com/metabase/metabase/pull/40320,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2007965477, 'issue_id': 2195792463, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/e3119deb-79d4-4a2c-8b5f-6ac9e79853b9"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>a16b07cbf90590d6b960a47186a70e3883f3afeb</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2370 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 19, 30, 38, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-19 19:30:38 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/e3119deb-79d4-4a2c-8b5f-6ac9e79853b9"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>a16b07cbf90590d6b960a47186a70e3883f3afeb</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2370 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2195754913,pull_request,closed,,Autodescribe Question Prompt adjustments,"In a working meeting, some prompt adjustments were tried. This change felt like the best incremental improvement, considering feedback from users on stats.

We attempted to guide the LLM to return descriptions that:

 - don't state the chart type as if its *very* important (we can see what it is already, so its not that important)
 - do call out caveats and important specifics as implied by the question's filters, aggregations, and breakouts
 - are descriptive but not verbose
 - try not to state caveats too strongly

Here's an example auto-describe from before:
<img width=""1080"" alt=""image"" src=""https://github.com/metabase/metabase/assets/21064735/dcfbb44c-1cd7-4f7c-a1cb-e4ec2d79082a"">


And here's one from after:
<img width=""1080"" alt=""image"" src=""https://github.com/metabase/metabase/assets/21064735/9921cdbf-1764-42f2-8110-f4962ecd3dae"">
",adam-james-v,2024-03-19 18:57:33+00:00,['adam-james-v'],2024-03-20 17:17:19+00:00,2024-03-20 17:17:06+00:00,https://github.com/metabase/metabase/pull/40319,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2007933997, 'issue_id': 2195754913, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/b85cdcda-2542-4616-bb8b-e6283504d3eb"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>9e7339e808b3e6ae2436e0102312f8b0983a4d6f</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2369 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 19, 9, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2010129012, 'issue_id': 2195754913, 'author': 'github-actions[bot]', 'body': '@adam-james-v Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 20, 17, 17, 18, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-19 19:09:36 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/b85cdcda-2542-4616-bb8b-e6283504d3eb"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>9e7339e808b3e6ae2436e0102312f8b0983a4d6f</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2369 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-20 17:17:18 UTC): @adam-james-v Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2195754753,pull_request,closed,,SettingsSetting to Functional Component,"Closes https://github.com/metabase/metabase/issues/40317

### Description
Changes the <SettingsSetting/> component to FC and adds the ability to scroll it into view depending on the Hash in the URL, which is prep work for command palette functionality. Only noticeable difference to the end user is a slight bit of extra padding at the top of the list in certain screens.

### How to verify
No user facing changes should be present. Simply browse admin/settings to ensure that settings are still rendered

1. Settings -> Admin
2. Navigate through settings panels and ensure that things still look correct.
3. Hit a URL like `/admin/settings/general#enable-nested-queries` and you should see the page load with that setting scrolled into view and briefly highlighted

### Demo
![chrome_krsJVHavfi](https://github.com/metabase/metabase/assets/1328979/f0970b88-f227-416e-b661-e1dd68e2bf5e)

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",npfitz,2024-03-19 18:57:27+00:00,['npfitz'],2024-03-20 14:53:18+00:00,2024-03-20 14:53:17+00:00,https://github.com/metabase/metabase/pull/40318,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2007937961, 'issue_id': 2195754753, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/9dfdb32a-31f6-4545-ba82-1877068e2bf2"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>94cb050e14e646795da27226f332575963fb1eeb</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2368 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 19, 12, 19, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-19 19:12:19 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/9dfdb32a-31f6-4545-ba82-1877068e2bf2"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>94cb050e14e646795da27226f332575963fb1eeb</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2368 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2195626867,pull_request,closed,,Rename `QueryViewNotebook` to `NotebookContainer`,"## What does this PR accomplish?
This PR renames the `QueryViewNotebook` component to the `NotebookContainer`, which is what this component is actually about.

Additionally
- it converts the styled component to the Mantine component
- it converts the file to TypeScript

### Testing
Everything should still look and work the same, and all tests should pass.
No functional changes have been made.

### Additional notes
Fixes #40333

I've used this opportunity to remove the superfluous top border in the notebook editor.",nemanjaglumac,2024-03-19 17:59:35+00:00,['nemanjaglumac'],2024-03-20 09:40:22+00:00,2024-03-20 09:40:06+00:00,https://github.com/metabase/metabase/pull/40316,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2007835112, 'issue_id': 2195626867, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/f5e105b5-5afa-4898-959b-b44fe36049d7"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>d7546a81cae6d4abc3d57ebab5d0a5df6ec20903</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>6 Flaky</b></div>\n<div>‚úÖ <b>2366 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 18, 11, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2009135472, 'issue_id': 2195626867, 'author': 'github-actions[bot]', 'body': '@nemanjaglumac Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 20, 9, 40, 20, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-19 18:11:19 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/f5e105b5-5afa-4898-959b-b44fe36049d7"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>d7546a81cae6d4abc3d57ebab5d0a5df6ec20903</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>6 Flaky</b></div>
<div>‚úÖ <b>2366 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-20 09:40:20 UTC): @nemanjaglumac Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2195619208,pull_request,closed,,Moving new item modals to be global,"Closes https://github.com/metabase/metabase/issues/40312

### Description
PR to move new item modals (dashboard/collection/action) out of the NewMenuItem component and into a more accessible place. This is in preparation for the command palette as we should be able to open these modals from the admin app as well. This PR should have no obvious changes to the end user

### How to verify

1. Select New -> Collection / Dashboard / Action.
2. The modal should appear and function as it always has 

### Demo
![chrome_mT4yFOxrXM](https://github.com/metabase/metabase/assets/1328979/1cd797a4-2a4c-4537-9513-23905fb9a246)

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",npfitz,2024-03-19 17:56:10+00:00,['npfitz'],2024-03-20 12:19:07+00:00,2024-03-20 12:19:06+00:00,https://github.com/metabase/metabase/pull/40315,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2007827688, 'issue_id': 2195619208, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/d84da7b4-e91e-4860-bdc3-816d84a023fa"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>5aff01a1cc64fdce63bd00ed72ca888b976c0cc8</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2367 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 18, 8, 1, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-19 18:08:01 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/d84da7b4-e91e-4860-bdc3-816d84a023fa"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>5aff01a1cc64fdce63bd00ed72ca888b976c0cc8</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2367 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2195587273,pull_request,closed,,Fix areas render under bars in combo charts,"Closes #40209

### Before

![before](https://github.com/metabase/metabase/assets/17258145/756ce0fc-1156-4d78-a85d-c8c6ac33f215)

### After

![after](https://github.com/metabase/metabase/assets/17258145/c1ef36ad-7992-4177-8caa-9eb25598483c)
",kulyk,2024-03-19 17:40:25+00:00,['kulyk'],2024-03-21 11:12:01+00:00,2024-03-21 11:12:00+00:00,https://github.com/metabase/metabase/pull/40314,"[('visual', 'Run Percy visual testing'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2007780776, 'issue_id': 2195587273, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff e7f80a90ab05cca699e49acfeb48733e17a9f43d...9528c4bfb647bdb7c5a58d844568f52c4c124815.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/echarts/cartesian/constants/style.ts<br>frontend/src/metabase/visualizations/echarts/cartesian/option/series.ts |', 'created_at': datetime.datetime(2024, 3, 19, 17, 41, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2007798144, 'issue_id': 2195587273, 'author': 'github-actions[bot]', 'body': 'üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8347687825)', 'created_at': datetime.datetime(2024, 3, 19, 17, 51, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 2007803905, 'issue_id': 2195587273, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/4e22fe4b-9e48-493a-9dc3-7048d392b9d5"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>9528c4bfb647bdb7c5a58d844568f52c4c124815</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>176 Failed</b></div>\n<div>‚úÖ <b>2041 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 17, 54, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2007813600, 'issue_id': 2195587273, 'author': 'EmmadUsmani', 'body': ""@kulyk Looks good! Can you add a visual test snapshot before merging? You can see examples in `frontend/src/metabase/static-viz/components/ComboChart/stories-data`, and here's a small PR of mine that adds one: https://github.com/metabase/metabase/pull/40264. To get the `rawSeries` object that we put in the json file, just open your browser console when you open the question in the QB view, it should be logged there. Then once you update the PR add the `loki update` label and it will automatically update snapshots."", 'created_at': datetime.datetime(2024, 3, 19, 17, 59, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2008577032, 'issue_id': 2195587273, 'author': 'alxnddr', 'body': ""In addition to what Emmad mentioned, I found it convenient to update snapshots locally using `yarn test-visual:loki-update` when I want to check whether my changes broke anything or not. If the diff is valid, you can push all the updated screenshots and you won't need to use `loki update`. To update snapshots locally you also need to run Docker daemon since we use dockerized chromium for avoiding flakes on different platforms.\r\n\r\nThe fix looks good!"", 'created_at': datetime.datetime(2024, 3, 20, 2, 31, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2010430486, 'issue_id': 2195587273, 'author': 'kulyk', 'body': ""Thanks for your advice @EmmadUsmani @alxnddr üôè \r\nI've added a new JSON with raw series in [this commit](https://github.com/metabase/metabase/pull/40314/commits/3cd9ab8a57f9d6ebba0b6cef8768182dde197df9), and [here](https://github.com/metabase/metabase/blob/40209-fix-combo-chart-z-indexes/.loki/reference/chrome_laptop_static_viz_ComboChart_Combo_Histogram.png) is the new screenshot"", 'created_at': datetime.datetime(2024, 3, 20, 19, 20, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2010509005, 'issue_id': 2195587273, 'author': 'EmmadUsmani', 'body': ""@kulyk Thanks! I'll approve for now but before merging there's just one more thing to add. In `ComboChart.stories.tsx` you should import the json object for the story and render a story component for it. You should just be able to copy any of the other stories and just change the `rawSeries` arg to `data.areaOverBar` as well as the component name of course.\r\n\r\nAlso make sure to then re-run loki to generate the new snapshot for your story."", 'created_at': datetime.datetime(2024, 3, 20, 19, 55, 56, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-19 17:41:55 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff e7f80a90ab05cca699e49acfeb48733e17a9f43d...9528c4bfb647bdb7c5a58d844568f52c4c124815.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/echarts/cartesian/constants/style.ts<br>frontend/src/metabase/visualizations/echarts/cartesian/option/series.ts |

github-actions[bot] on (2024-03-19 17:51:20 UTC): üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8347687825)

replay-io[bot] on (2024-03-19 17:54:39 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/4e22fe4b-9e48-493a-9dc3-7048d392b9d5"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>9528c4bfb647bdb7c5a58d844568f52c4c124815</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>176 Failed</b></div>
<div>‚úÖ <b>2041 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

EmmadUsmani on (2024-03-19 17:59:52 UTC): @kulyk Looks good! Can you add a visual test snapshot before merging? You can see examples in `frontend/src/metabase/static-viz/components/ComboChart/stories-data`, and here's a small PR of mine that adds one: https://github.com/metabase/metabase/pull/40264. To get the `rawSeries` object that we put in the json file, just open your browser console when you open the question in the QB view, it should be logged there. Then once you update the PR add the `loki update` label and it will automatically update snapshots.

alxnddr on (2024-03-20 02:31:01 UTC): In addition to what Emmad mentioned, I found it convenient to update snapshots locally using `yarn test-visual:loki-update` when I want to check whether my changes broke anything or not. If the diff is valid, you can push all the updated screenshots and you won't need to use `loki update`. To update snapshots locally you also need to run Docker daemon since we use dockerized chromium for avoiding flakes on different platforms.

The fix looks good!

kulyk (Issue Creator) on (2024-03-20 19:20:48 UTC): Thanks for your advice @EmmadUsmani @alxnddr üôè 
I've added a new JSON with raw series in [this commit](https://github.com/metabase/metabase/pull/40314/commits/3cd9ab8a57f9d6ebba0b6cef8768182dde197df9), and [here](https://github.com/metabase/metabase/blob/40209-fix-combo-chart-z-indexes/.loki/reference/chrome_laptop_static_viz_ComboChart_Combo_Histogram.png) is the new screenshot

EmmadUsmani on (2024-03-20 19:55:56 UTC): @kulyk Thanks! I'll approve for now but before merging there's just one more thing to add. In `ComboChart.stories.tsx` you should import the json object for the story and render a story component for it. You should just be able to copy any of the other stories and just change the `rawSeries` arg to `data.areaOverBar` as well as the component name of course.

Also make sure to then re-run loki to generate the new snapshot for your story.

"
2195492625,pull_request,closed,,"ü§ñ backported ""Revert ""Revert updating FKs during metadata sync (#39679) (#39924)""""","  #40233
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",metabase-bot[bot],2024-03-19 16:59:45+00:00,['calherries'],2024-03-19 17:08:56+00:00,2024-03-19 17:08:56+00:00,https://github.com/metabase/metabase/pull/40311,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2007710107, 'issue_id': 2195492625, 'author': 'calherries', 'body': ""This doesn't need backporting, the revert was never backported"", 'created_at': datetime.datetime(2024, 3, 19, 17, 8, 56, tzinfo=datetime.timezone.utc)}]","calherries (Assginee) on (2024-03-19 17:08:56 UTC): This doesn't need backporting, the revert was never backported

"
2195475092,pull_request,closed,,Fake test dataset isolation for redshift,"Resolves https://github.com/metabase/metabase/issues/40058 and https://github.com/metabase/metabase/issues/39046

This PR avoids duplicating Table instances between databases during test runs with a simple trick: we limit sync for a database to only sync tables that are prefixed with the DB name. We prefix table names with the DB name already to avoid name conflicts.

### Context

We currently use one redshift database for all test runs.  

We ""isolate"" test runs from each other using a schema, and that means all test tables are in the same schema. So every time we fake creating a new test ""database"", we sync all the tables in all test databases that were previously created. 

That leads to many duplicated Table instances: one for each fake test database.

That's a waste of resources and time, but it also leads to test failures and flakes when tests expect databases to have non-overlapping sets of tables.

### What's in it for me? 

Fewer redshift flakes, no more commenting out tests, and faster test runs.",calherries,2024-03-19 16:51:12+00:00,['calherries'],2024-03-20 19:57:19+00:00,2024-03-20 19:57:04+00:00,https://github.com/metabase/metabase/pull/40310,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2009366392, 'issue_id': 2195475092, 'author': 'calherries', 'body': ""> One concern is whether we could ever have a test that triggers table creation in a way that doesn't apply this prefix. Perhaps unlikely, and we'd probably want to just fix that test then, but perhaps there's a way we can make this trick more obvious to save a developer tearing their hair out for a bit.\r\n\r\nYes, that's a fair concern. That's unfortunately a similar problem with writing tests for redshift anyway - you need to understand that when you create a table, you create it in the unique schema for the test run.\r\n\r\nI've added a docstring to the redshift test data namespace so hopefully that gives new developers some context. \r\nhttps://github.com/metabase/metabase/blob/097b8fe42803790bd18a92e1c44a0538bab01d4a/modules/drivers/redshift/test/metabase/test/data/redshift.clj#L2-L11"", 'created_at': datetime.datetime(2024, 3, 20, 11, 36, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2010511460, 'issue_id': 2195475092, 'author': 'github-actions[bot]', 'body': '@calherries Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 20, 19, 57, 17, tzinfo=datetime.timezone.utc)}]","calherries (Issue Creator) on (2024-03-20 11:36:51 UTC): Yes, that's a fair concern. That's unfortunately a similar problem with writing tests for redshift anyway - you need to understand that when you create a table, you create it in the unique schema for the test run.

I've added a docstring to the redshift test data namespace so hopefully that gives new developers some context. 
https://github.com/metabase/metabase/blob/097b8fe42803790bd18a92e1c44a0538bab01d4a/modules/drivers/redshift/test/metabase/test/data/redshift.clj#L2-L11

github-actions[bot] on (2024-03-20 19:57:17 UTC): @calherries Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2195459799,pull_request,closed,,Preserve negative sign on parenthesized zero floats when parsing,"### Description

This fixes a very subtle bug where we preserve the negative sign in the database for `-0.0` but not for `(0.0)`.
 
See https://github.com/metabase/metabase/pull/40275/files#r1530728193",crisptrutski,2024-03-19 16:43:47+00:00,['crisptrutski'],2024-03-19 18:47:09+00:00,2024-03-19 18:46:48+00:00,https://github.com/metabase/metabase/pull/40309,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2007660574, 'issue_id': 2195459799, 'author': 'crisptrutski', 'body': '* **#40309** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40309?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* **#40275** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40275?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 19, 16, 43, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2007693227, 'issue_id': 2195459799, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/0033e72f-8cab-472a-adcb-917556c80c6d"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>b587780f47774c54853cb48973855bd3ffd9c1d6</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2369 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 17, 1, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2007896590, 'issue_id': 2195459799, 'author': 'github-actions[bot]', 'body': '@crisptrutski Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 19, 18, 47, 7, tzinfo=datetime.timezone.utc)}]","crisptrutski (Issue Creator) on (2024-03-19 16:43:57 UTC): * **#40309** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40309?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* **#40275** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40275?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

replay-io[bot] on (2024-03-19 17:01:05 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/0033e72f-8cab-472a-adcb-917556c80c6d"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>b587780f47774c54853cb48973855bd3ffd9c1d6</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2369 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-19 18:47:07 UTC): @crisptrutski Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2195450038,pull_request,closed,,"ü§ñ backported ""Fix flaking tests using `mt/with-temp-copy-of-db`""",#40291,metabase-bot[bot],2024-03-19 16:38:38+00:00,['calherries'],2024-03-20 08:25:46+00:00,2024-03-20 08:25:45+00:00,https://github.com/metabase/metabase/pull/40308,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2195443662,pull_request,closed,,"ü§ñ backported ""Dimension field error handling""","  #40300
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",metabase-bot[bot],2024-03-19 16:35:14+00:00,['ranquild'],2024-03-20 17:37:35+00:00,2024-03-20 17:25:57+00:00,https://github.com/metabase/metabase/pull/40307,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2010075682, 'issue_id': 2195443662, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/788e2bc5-1d95-4507-99db-1243a51e3400"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>e25fdd2be18168ef47730db2ae497c2d39252c93</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2345 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 20, 17, 3, 47, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-20 17:03:47 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/788e2bc5-1d95-4507-99db-1243a51e3400"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>e25fdd2be18168ef47730db2ae497c2d39252c93</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2345 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2195321567,pull_request,closed,,mysql + liquibase flake,,piranha,2024-03-19 15:40:29+00:00,['piranha'],2024-03-25 14:25:24+00:00,2024-03-25 07:57:28+00:00,https://github.com/metabase/metabase/pull/40304,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2009975499, 'issue_id': 2195321567, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/628387c5-5e74-49ec-89c1-8900c9b9e35c"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>d93ce9ea468ae1d055bdd173555d9b474631e48d</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>5 Flaky</b></div>\n<div>‚úÖ <b>2369 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 20, 16, 20, 15, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-20 16:20:15 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/628387c5-5e74-49ec-89c1-8900c9b9e35c"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>d93ce9ea468ae1d055bdd173555d9b474631e48d</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>5 Flaky</b></div>
<div>‚úÖ <b>2369 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2195218390,pull_request,closed,,Use series names in click/hover object `data`,"Closes #39578 

Updates `getEventColumnsData` (used to build `clicked` and `hovered` objects) to prefer the series name over the column display name when provided.

### Demo

**Before**

![before](https://github.com/metabase/metabase/assets/17258145/61a69009-98ac-4862-bf65-307324a721fd)

**After**

![after](https://github.com/metabase/metabase/assets/17258145/0c4382f9-9026-4ef4-806e-3ca8cca6c7c8)
",kulyk,2024-03-19 15:00:48+00:00,['kulyk'],2024-03-20 18:46:58+00:00,2024-03-20 18:16:34+00:00,https://github.com/metabase/metabase/pull/40302,"[('visual', 'Run Percy visual testing'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2007422808, 'issue_id': 2195218390, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 2a55fc3e8d99e2b9f36835baa686348cbef3fdbf...9cc84dbdca9b3619ec0170157def3b28e56076c2.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/visualizations/CartesianChart/events.ts |', 'created_at': datetime.datetime(2024, 3, 19, 15, 1, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2007454411, 'issue_id': 2195218390, 'author': 'github-actions[bot]', 'body': 'üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8345319326)', 'created_at': datetime.datetime(2024, 3, 19, 15, 11, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 2007464909, 'issue_id': 2195218390, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/6accd84a-6f48-41cd-be6a-6cf8de322662"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>9cc84dbdca9b3619ec0170157def3b28e56076c2</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>176 Failed</b></div>\n<div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2035 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 15, 15, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2008290700, 'issue_id': 2195218390, 'author': 'EmmadUsmani', 'body': '@kulyk Could you also update the default x and y-axis titles since that was a part of the issue as well? Feel free to do it in another PR', 'created_at': datetime.datetime(2024, 3, 19, 22, 46, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2010350873, 'issue_id': 2195218390, 'author': 'kulyk', 'body': '> Could you also update the default x and y-axis titles since that was a part of the issue as well? Feel free to do it in another PR\r\n\r\nAh, I totally missed this; thanks, Emmad! Opened #40397 for that', 'created_at': datetime.datetime(2024, 3, 20, 18, 46, 57, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-19 15:01:54 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 2a55fc3e8d99e2b9f36835baa686348cbef3fdbf...9cc84dbdca9b3619ec0170157def3b28e56076c2.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/visualizations/CartesianChart/events.ts |

github-actions[bot] on (2024-03-19 15:11:18 UTC): üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8345319326)

replay-io[bot] on (2024-03-19 15:15:53 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/6accd84a-6f48-41cd-be6a-6cf8de322662"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>9cc84dbdca9b3619ec0170157def3b28e56076c2</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>176 Failed</b></div>
<div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2035 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

EmmadUsmani on (2024-03-19 22:46:27 UTC): @kulyk Could you also update the default x and y-axis titles since that was a part of the issue as well? Feel free to do it in another PR

kulyk (Issue Creator) on (2024-03-20 18:46:57 UTC): Ah, I totally missed this; thanks, Emmad! Opened #40397 for that

"
2195171506,pull_request,closed,,Backport #40294 - Fix e2e search tests running out of memory (v49) ,"Backports #40294

### Stress tests

We can't just run a single stress test job for an entire suite N times - it will surely make Cypress run out of memory. So I had to manually run N jobs for each test suite. N is 3 because it's a lot of clicking, and we've originally had [6 failures in a row](https://github.com/metabase/metabase/actions/runs/8341183119/job/22832312930), so if it does not fail 3 times in a row - we're certainly in a better place.


- `search.cy.spec.js`: [run 1](https://github.com/metabase/metabase/actions/runs/8345178150), [run 2](https://github.com/metabase/metabase/actions/runs/8345181993), [run 3](https://github.com/metabase/metabase/actions/runs/8345183848)
- `search-filters.cy.spec.js`: [run 1](https://github.com/metabase/metabase/actions/runs/8345186458), [run 2](https://github.com/metabase/metabase/actions/runs/8345188886), [run 3](https://github.com/metabase/metabase/actions/runs/8345198511)
- `search-snowplow.cy.spec.js`: [run 1](https://github.com/metabase/metabase/actions/runs/8345210369), [run 2](https://github.com/metabase/metabase/actions/runs/8345212870), [run 3](https://github.com/metabase/metabase/actions/runs/8345214563)",kamilmielnik,2024-03-19 14:43:43+00:00,['kamilmielnik'],2024-03-19 15:27:11+00:00,2024-03-19 15:27:10+00:00,https://github.com/metabase/metabase/pull/40301,"[('.Team/Querying', ''), ('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2007406346, 'issue_id': 2195171506, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/250094ad-b77a-47f8-b83b-2f58589cbace"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>4a4945c4dc011c4b9195f31db9891985e1e44c5c</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2302 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 14, 56, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2007449462, 'issue_id': 2195171506, 'author': 'crisptrutski', 'body': ""I see that the `describe` change in `search-pagination.cy.spec.js` didn't make it to either of the backports. \r\n\r\nI couldn't see a reason blocking it coming across, do you mind explaining this?\r\n\r\nThe discrepancy makes me wonder how deeply I need to sanity check the rest of the diff."", 'created_at': datetime.datetime(2024, 3, 19, 15, 9, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2007473803, 'issue_id': 2195171506, 'author': 'kamilmielnik', 'body': ""> I see that the `describe` change in `search-pagination.cy.spec.js` didn't make it to either of the backports.\r\n> \r\n> I couldn't see a reason blocking it coming across, do you mind explaining this?\r\n> \r\n> The discrepancy makes me wonder how deeply I need to sanity check the rest of the diff.\r\n\r\nGreat catch @crisptrutski. I reverted that change in the PR that goes to master: 1619a593a66b00c0c8c15dacac9beefe3594e7f4.\r\nIIRC the test name was the only change I did."", 'created_at': datetime.datetime(2024, 3, 19, 15, 19, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 2007490931, 'issue_id': 2195171506, 'author': 'crisptrutski', 'body': 'Vetted based on diff line counts and random scanning üòÖ', 'created_at': datetime.datetime(2024, 3, 19, 15, 26, 59, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-19 14:56:46 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/250094ad-b77a-47f8-b83b-2f58589cbace"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>4a4945c4dc011c4b9195f31db9891985e1e44c5c</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2302 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

crisptrutski on (2024-03-19 15:09:08 UTC): I see that the `describe` change in `search-pagination.cy.spec.js` didn't make it to either of the backports. 

I couldn't see a reason blocking it coming across, do you mind explaining this?

The discrepancy makes me wonder how deeply I need to sanity check the rest of the diff.

kamilmielnik (Issue Creator) on (2024-03-19 15:19:42 UTC): Great catch @crisptrutski. I reverted that change in the PR that goes to master: 1619a593a66b00c0c8c15dacac9beefe3594e7f4.
IIRC the test name was the only change I did.

crisptrutski on (2024-03-19 15:26:59 UTC): Vetted based on diff line counts and random scanning üòÖ

"
2195159257,pull_request,closed,,Add Dimension field error handling,"https://metaboat.slack.com/archives/C052ZBWRG3W/p1705460762737549

Add basic error handling in `Dimension.field()`. Now when this logic throws the entire dashboard wouldn't fail. Hide whitespace when reviewing.",ranquild,2024-03-19 14:38:34+00:00,['ranquild'],2024-04-01 10:56:05+00:00,2024-03-19 16:34:30+00:00,https://github.com/metabase/metabase/pull/40300,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2007399037, 'issue_id': 2195159257, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/6f1af366-cfbf-4518-bdac-84da93b01949"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>09fad4e3110df766bbf867618c5a25af9c6342b2</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2370 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 14, 54, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2007642873, 'issue_id': 2195159257, 'author': 'github-actions[bot]', 'body': '@ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 19, 16, 34, 42, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-19 14:54:40 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/6f1af366-cfbf-4518-bdac-84da93b01949"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>09fad4e3110df766bbf867618c5a25af9c6342b2</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2370 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-19 16:34:42 UTC): @ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2195124541,pull_request,closed,,Backport #40294 - Fix e2e search tests running out of memory (v48),"Backports #40294

### Stress tests

We can't just run a single stress test job for an entire suite N times - it will surely make Cypress run out of memory. So I had to manually run N jobs for each test suite. N is 3 because it's a lot of clicking, and we've originally had [6 failures in a row](https://github.com/metabase/metabase/actions/runs/8341183119/job/22832312930), so if it does not fail 3 times in a row - we're certainly in a better place.


- `search.cy.spec.js`: [run 1](https://github.com/metabase/metabase/actions/runs/8344806025), [run 2](https://github.com/metabase/metabase/actions/runs/8344809689), [run 3](https://github.com/metabase/metabase/actions/runs/8344812651)
- `search-filters.cy.spec.js`: [run 1](https://github.com/metabase/metabase/actions/runs/8344829409), [run 2](https://github.com/metabase/metabase/actions/runs/8344831838), [run 3](https://github.com/metabase/metabase/actions/runs/8344833674)
- `search-snowplow.cy.spec.js`: [run 1](https://github.com/metabase/metabase/actions/runs/8344842138), [run 2](https://github.com/metabase/metabase/actions/runs/8344843688), [run 3](https://github.com/metabase/metabase/actions/runs/8344844879)",kamilmielnik,2024-03-19 14:25:26+00:00,['kamilmielnik'],2024-03-19 15:27:54+00:00,2024-03-19 15:27:53+00:00,https://github.com/metabase/metabase/pull/40299,"[('.Team/Querying', ''), ('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2007360203, 'issue_id': 2195124541, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/3c87fd23-cd37-40e3-aec8-031f376183e2"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>6cb4fb61db4166b59b4f7eca36139d7525f0f515</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2110 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 14, 38, 47, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-19 14:38:47 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/3c87fd23-cd37-40e3-aec8-031f376183e2"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>6cb4fb61db4166b59b4f7eca36139d7525f0f515</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2110 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2194980976,pull_request,closed,,more security fixes for 47.*,Whatever Snyk reported and it made sense.,piranha,2024-03-19 13:29:19+00:00,['piranha'],2024-03-19 15:14:16+00:00,2024-03-19 15:14:15+00:00,https://github.com/metabase/metabase/pull/40295,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2194977315,pull_request,closed,,Fix e2e search tests running out of memory,"### Description

Fixes onboarding tests crashing during [pre-release job](https://github.com/metabase/metabase/actions/runs/8341183119/job/22829801933). See [Slack](https://metaboat.slack.com/archives/C864UT5CZ/p1710848053247989?thread_ts=1710842503.653589&cid=C864UT5CZ) (and [older thread](https://metaboat.slack.com/archives/C864UT5CZ/p1709658485139069?thread_ts=1709653311.807689&cid=C864UT5CZ) with the same problem).

This PR breaks down `e2e/test/scenarios/onboarding/search/search.cy.spec.js` into:
- `e2e/test/scenarios/onboarding/search/search.cy.spec.js`
- `e2e/test/scenarios/onboarding/search/search-filters.cy.spec.js`
- `e2e/test/scenarios/onboarding/search/search-snowplow.cy.spec.js`
- `e2e/support/helpers/e2e-search-helpers.js`

`search.cy.spec.js` used to be 2nd largest e2e test suite in our codebase.
`search-filters.cy.spec.js` will now be 9th largest e2e suite.

### Stress tests

We can't just run a single stress test job for an entire suite N times - it will surely make Cypress run out of memory. So I had to manually run N jobs for each test suite. N is 3 because it's a lot of clicking, and we've originally had [6 failures in a row](https://github.com/metabase/metabase/actions/runs/8341183119/job/22832312930), so if it does not fail 3 times in a row - we're certainly in a better place.

#### This PR (`master`)

- `search.cy.spec.js`: [run 1](https://github.com/metabase/metabase/actions/runs/8345265968), [run 2](https://github.com/metabase/metabase/actions/runs/8345269891), [run 3](https://github.com/metabase/metabase/actions/runs/8345269976)
- `search-filters.cy.spec.js`: [run 1](https://github.com/metabase/metabase/actions/runs/8345280075), [run 2](https://github.com/metabase/metabase/actions/runs/8345282598), [run 3](https://github.com/metabase/metabase/actions/runs/8345284906)
- `search-snowplow.cy.spec.js`: [run 1](https://github.com/metabase/metabase/actions/runs/8345287696), [run 2](https://github.com/metabase/metabase/actions/runs/8345290749), [run 3](https://github.com/metabase/metabase/actions/runs/8345294044)

#### Backport to v49

#40301

- `search.cy.spec.js`: [run 1](https://github.com/metabase/metabase/actions/runs/8345178150), [run 2](https://github.com/metabase/metabase/actions/runs/8345181993), [run 3](https://github.com/metabase/metabase/actions/runs/8345183848)
- `search-filters.cy.spec.js`: [run 1](https://github.com/metabase/metabase/actions/runs/8345186458), [run 2](https://github.com/metabase/metabase/actions/runs/8345188886), [run 3](https://github.com/metabase/metabase/actions/runs/8345198511)
- `search-snowplow.cy.spec.js`: [run 1](https://github.com/metabase/metabase/actions/runs/8345210369), [run 2](https://github.com/metabase/metabase/actions/runs/8345212870), [run 3](https://github.com/metabase/metabase/actions/runs/8345214563)

#### Backport to v48

#40299

- `search.cy.spec.js`: [run 1](https://github.com/metabase/metabase/actions/runs/8344806025), [run 2](https://github.com/metabase/metabase/actions/runs/8344809689), [run 3](https://github.com/metabase/metabase/actions/runs/8344812651)
- `search-filters.cy.spec.js`: [run 1](https://github.com/metabase/metabase/actions/runs/8344829409), [run 2](https://github.com/metabase/metabase/actions/runs/8344831838), [run 3](https://github.com/metabase/metabase/actions/runs/8344833674)
- `search-snowplow.cy.spec.js`: [run 1](https://github.com/metabase/metabase/actions/runs/8344842138), [run 2](https://github.com/metabase/metabase/actions/runs/8344843688), [run 3](https://github.com/metabase/metabase/actions/runs/8344844879)",kamilmielnik,2024-03-19 13:27:48+00:00,['kamilmielnik'],2024-03-19 15:55:31+00:00,2024-03-19 15:55:17+00:00,https://github.com/metabase/metabase/pull/40294,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2007202483, 'issue_id': 2194977315, 'author': 'kamilmielnik', 'body': '@metabase-bot backport release-x.48.x', 'created_at': datetime.datetime(2024, 3, 19, 13, 37, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2007204963, 'issue_id': 2194977315, 'author': 'github-actions[bot]', 'body': '@kamilmielnik something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/8344030436)', 'created_at': datetime.datetime(2024, 3, 19, 13, 38, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2007206574, 'issue_id': 2194977315, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/6908803c-7585-46b2-ade8-79ed8e97c429"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>1619a593a66b00c0c8c15dacac9beefe3594e7f4</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2370 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 13, 39, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2007558907, 'issue_id': 2194977315, 'author': 'github-actions[bot]', 'body': '@kamilmielnik Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 19, 15, 55, 29, tzinfo=datetime.timezone.utc)}]","kamilmielnik (Issue Creator) on (2024-03-19 13:37:45 UTC): @metabase-bot backport release-x.48.x

github-actions[bot] on (2024-03-19 13:38:51 UTC): @kamilmielnik something went wrong while creating a backport [[Logs]](https://github.com/metabase/metabase/actions/runs/8344030436)

replay-io[bot] on (2024-03-19 13:39:32 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/6908803c-7585-46b2-ade8-79ed8e97c429"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>1619a593a66b00c0c8c15dacac9beefe3594e7f4</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2370 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-19 15:55:29 UTC): @kamilmielnik Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2194915799,pull_request,closed,,Druid jdbc,"Closes #39938

This PR adds the Druid JDBC driver.

Testing is done using timeseries qp tests. Then by porting existing Druid tests to Druid JDBC and porting of nested field columns tests. Also some of the jdbc tests were enabled for this PR.",lbrdnk,2024-03-19 13:01:42+00:00,['lbrdnk'],2024-05-05 20:45:17+00:00,2024-05-05 14:01:54+00:00,https://github.com/metabase/metabase/pull/40293,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2009632259, 'issue_id': 2194915799, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs?testRunId=cda2df07-d4cf-430e-873c-f8a0352da1d6"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>7aa93718c0fd39955864e7f4b0790fb74b4fc5ce</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>6 Flaky</b></div>\n<div>‚úÖ <b>2459 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 20, 13, 56, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2094821120, 'issue_id': 2194915799, 'author': 'github-actions[bot]', 'body': '@lbrdnk Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 5, 5, 14, 2, 5, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-20 13:56:36 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs?testRunId=cda2df07-d4cf-430e-873c-f8a0352da1d6"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>7aa93718c0fd39955864e7f4b0790fb74b4fc5ce</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>6 Flaky</b></div>
<div>‚úÖ <b>2459 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-05-05 14:02:05 UTC): @lbrdnk Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2194859691,pull_request,closed,,Fix flaking tests using `mt/with-temp-copy-of-db`,"(hopefully) solves https://github.com/metabase/metabase/issues/38052 (also the dupe https://github.com/metabase/metabase/issues/39861)

This fixes nondeterministic behaviour in `metabase.test.data.impl/copy-db-tables!` which can result in accidental mismatches between old and new copies of tables. When a Table instance is copied, we can accidentally associate fields from another table to that table, e.g. the new `CHECKINS` fields having a `table_id` that references the new `USERS` table instead of the new `CHECKINS` table. This explains why we can get puzzling errors like this:

```
ERROR in metabase-enterprise.sandbox.models.params.field-values-test/get-or-create-advanced-field-values!-test (impl.clj:219)
Uncaught exception, not in assertion.

clojure.lang.ExceptionInfo: Couldn't find Field ""USER_ID"" for Table ""CHECKINS"".
                            Found:
                            {2345 ""ID"", 2346 ""LAST_LOGIN"", 2347 ""PASSWORD"", 2348 ""NAME""} <---- these are columns from the USER table, not the CHECKINS table
```


`copy-db-tables!` has always had undeterministic behaviour, but a recent change probably made it turn into an observable problem.

I don't know exactly why it has come up now, but my best guess is Noah's https://github.com/metabase/metabase/issues/37473, which changed the way permissions checks are done for the model table and coincided with the start of the flakes.",calherries,2024-03-19 12:37:49+00:00,['calherries'],2024-03-20 08:31:47+00:00,2024-03-19 16:37:43+00:00,https://github.com/metabase/metabase/pull/40291,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2007649160, 'issue_id': 2194859691, 'author': 'github-actions[bot]', 'body': '@calherries Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 19, 16, 37, 54, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-19 16:37:54 UTC): @calherries Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2194851747,pull_request,closed,,Manual backport ‚Äî Include filters when exporting dashboard to PDF,Backporting #38231 to 48,kulyk,2024-03-19 12:33:45+00:00,['kulyk'],2024-03-19 14:06:30+00:00,2024-03-19 14:06:29+00:00,https://github.com/metabase/metabase/pull/40290,"[('visual', 'Run Percy visual testing'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2007062706, 'issue_id': 2194851747, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 19f18a931fb92ba20973aa5e54198090f4019164...b09bcfe10bb8d4d0ab4043240ca88313d2285fed.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/lib/save-dashboard-pdf.ts |', 'created_at': datetime.datetime(2024, 3, 19, 12, 34, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2007085207, 'issue_id': 2194851747, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/7ff6ee9a-dd9f-4445-a420-25bdb7dfde3e"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 53 / 54</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>b09bcfe10bb8d4d0ab4043240ca88313d2285fed</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>1 Failed</b></div>\n<div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2104 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 12, 47, 12, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-19 12:34:51 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 19f18a931fb92ba20973aa5e54198090f4019164...b09bcfe10bb8d4d0ab4043240ca88313d2285fed.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/lib/save-dashboard-pdf.ts |

replay-io[bot] on (2024-03-19 12:47:12 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/7ff6ee9a-dd9f-4445-a420-25bdb7dfde3e"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 53 / 54</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>b09bcfe10bb8d4d0ab4043240ca88313d2285fed</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>1 Failed</b></div>
<div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2104 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2194801257,pull_request,closed,,Convert `arrow.module.css` to CSS Modules,"### Description

Converts `arrow.module.css` to CSS modules. There is only one place that this class is used, it might make more sense to put it into a local `.modules.css` file that's specific to the component. Let me know what you think.

### How to verify

Go to `Admin > Table Metadata > Segments` OR `Metrics`, then click `New Segment/Metric`. You should see under the `Data` element that there's a subtle arrow. That's the `arrowRight` class that has been converted to CSS modules. 

<img width=""548"" alt=""image"" src=""https://github.com/metabase/metabase/assets/25306947/e9835724-4f59-43d8-9456-0948571ab66c"">

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",oisincoveney,2024-03-19 12:11:12+00:00,['oisincoveney'],2024-03-21 14:04:31+00:00,2024-03-21 14:04:16+00:00,https://github.com/metabase/metabase/pull/40289,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', '')]","[{'comment_id': 2007100606, 'issue_id': 2194801257, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/d69eb345-5efd-402d-a1f6-eef400be3596"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>f6969a137cceedc2f46fa6cf3e5f34839d507bb2</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>5 Flaky</b></div>\n<div>‚úÖ <b>2369 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 12, 53, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2012389922, 'issue_id': 2194801257, 'author': 'github-actions[bot]', 'body': '@oisincoveney Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 21, 14, 4, 29, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-19 12:53:16 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/d69eb345-5efd-402d-a1f6-eef400be3596"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>f6969a137cceedc2f46fa6cf3e5f34839d507bb2</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>5 Flaky</b></div>
<div>‚úÖ <b>2369 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-21 14:04:29 UTC): @oisincoveney Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2194778809,pull_request,closed,,Fix: allow running native queries with required parameters and no defaults,"Fixes https://github.com/metabase/metabase/issues/40250

Before, having a required parameter without a default value in a native query prevented both saving and running the query. However, the latter is incorrect ‚Äî and was in fact a regression for one of the clients.

## How to check
1. create a native query `select * from people where state = {{ state }}`
2. set state to be required and don't set a default for it
3. make sure you cannot save it but can run it

Alternatively, you might add a `required` parameter to a saved native query's template tags to exactly reproduce the situation that the client has. But the behavior will be the same.",oleggromov,2024-03-19 12:01:57+00:00,['oleggromov'],2024-03-21 07:19:46+00:00,2024-03-20 09:48:41+00:00,https://github.com/metabase/metabase/pull/40288,"[('Type:Bug', 'Product defects'), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2007023937, 'issue_id': 2194778809, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/ccc39797-0026-4b17-91f4-2499ead16827"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>69f16385c8b45d5f98610da421a4d90b17c10a68</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2368 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 12, 13, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2007494761, 'issue_id': 2194778809, 'author': 'ranquild', 'body': '@bshepherdson addressed the comments. Please let me know if I forgot something', 'created_at': datetime.datetime(2024, 3, 19, 15, 28, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2009153069, 'issue_id': 2194778809, 'author': 'github-actions[bot]', 'body': '@oleggromov Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 20, 9, 48, 53, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-19 12:13:51 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/ccc39797-0026-4b17-91f4-2499ead16827"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>69f16385c8b45d5f98610da421a4d90b17c10a68</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2368 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

ranquild on (2024-03-19 15:28:45 UTC): @bshepherdson addressed the comments. Please let me know if I forgot something

github-actions[bot] on (2024-03-20 09:48:53 UTC): @oleggromov Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2194728282,pull_request,closed,,"ü§ñ backported ""[E2E] Refactor question commands to function helpers""","  #40236
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",metabase-bot[bot],2024-03-19 11:37:27+00:00,['kamilmielnik'],2024-03-19 14:53:35+00:00,2024-03-19 14:53:34+00:00,https://github.com/metabase/metabase/pull/40287,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2007343862, 'issue_id': 2194728282, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/48e1fac4-81f5-4b21-8ef5-e4f7dd709e4a"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>6885d85aa1ba6eb0b1ea2168570bd936c1ce1b8e</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2336 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 14, 33, 17, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-19 14:33:17 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/48e1fac4-81f5-4b21-8ef5-e4f7dd709e4a"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>6885d85aa1ba6eb0b1ea2168570bd936c1ce1b8e</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2336 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2194716295,pull_request,closed,,`createNativeDataset` API using RTK query,"### What does this PR accomplish?

It adds a new way to `POST` data on the `/api/dataset/native` endpoint using RTK Query.",nemanjaglumac,2024-03-19 11:32:06+00:00,['nemanjaglumac'],2024-03-20 14:10:46+00:00,2024-03-19 19:21:52+00:00,https://github.com/metabase/metabase/pull/40286,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2007895825, 'issue_id': 2194716295, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/1e2414ec-eeae-4dfd-b30b-514ce4898ffe"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>f0dba80652bfc510ee443645b556fabec1d5e53c</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2367 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 18, 46, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2007953066, 'issue_id': 2194716295, 'author': 'github-actions[bot]', 'body': '@nemanjaglumac Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 19, 19, 22, 7, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-19 18:46:39 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/1e2414ec-eeae-4dfd-b30b-514ce4898ffe"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>f0dba80652bfc510ee443645b556fabec1d5e53c</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2367 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-19 19:22:07 UTC): @nemanjaglumac Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2194703495,pull_request,closed,,Convert `AdminPaneLayout` and `AdminPaneTitle` to TS,"### Description

Converts `AdminPaneLayout` and `AdminPaneTitle` to typescript.

### How to verify

Nothing should change, all tests should pass still.",oisincoveney,2024-03-19 11:26:13+00:00,['oisincoveney'],2024-03-19 15:34:29+00:00,2024-03-19 15:34:14+00:00,https://github.com/metabase/metabase/pull/40285,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', '')]","[{'comment_id': 2006954103, 'issue_id': 2194703495, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/8d9c6f0b-f89b-4ccc-94d3-89595fccd8a0"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>ce1e797a311a9f9707531211744e4d7701f175da</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2369 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 11, 38, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2007509365, 'issue_id': 2194703495, 'author': 'github-actions[bot]', 'body': '@oisincoveney Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 19, 15, 34, 27, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-19 11:38:04 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/8d9c6f0b-f89b-4ccc-94d3-89595fccd8a0"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>ce1e797a311a9f9707531211744e4d7701f175da</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2369 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-19 15:34:27 UTC): @oisincoveney Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2194671720,pull_request,closed,,Backport security fixes for 47,"Manually backport all security fixes we added to 48 and another new one.

2 PRs we added to 48
- https://github.com/metabase/metabase/pull/40229
- https://github.com/metabase/metabase/pull/40242

1 new backport for the security fixes that haven't been merged to 47
- https://github.com/metabase/metabase/pull/36504",WiNloSt,2024-03-19 11:09:54+00:00,[],2024-03-19 12:22:18+00:00,2024-03-19 12:22:17+00:00,https://github.com/metabase/metabase/pull/40284,[],[],
2194649452,pull_request,closed,,Metrics v2 37358 data source picker [WIP],,nemanjaglumac,2024-03-19 10:58:40+00:00,['nemanjaglumac'],2024-04-30 13:41:44+00:00,2024-04-30 13:41:42+00:00,https://github.com/metabase/metabase/pull/40283,"[('.Team/Querying', '')]",[],
2194439577,pull_request,closed,,"Backport #39614 - Refactor `cy.archiveQuestion`, `cy.createQuestion` & `cy.createNativeQuestion` to TypeScript",Manual backport of #39614,kamilmielnik,2024-03-19 09:23:05+00:00,['kamilmielnik'],2024-03-19 11:36:11+00:00,2024-03-19 11:36:10+00:00,https://github.com/metabase/metabase/pull/40282,"[('.Team/Querying', ''), ('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2006517696, 'issue_id': 2194439577, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/218b2538-1a91-426e-8fd4-b3d87db4cf82"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>d5838259812fc30d9fa77de3d813da18fca6fe08</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚úÖ <b>2338 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 9, 36, 18, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-19 09:36:18 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/218b2538-1a91-426e-8fd4-b3d87db4cf82"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>d5838259812fc30d9fa77de3d813da18fca6fe08</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚úÖ <b>2338 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2194436509,pull_request,closed,,Compose dataset mbql follow-ups,"https://github.com/metabase/metabase/pull/40181

Remove `composeQuestion` and use `composeQuestionAdhoc` where possible. `getQuestion` cannot be easily migrated as the entire QB seems to depend on the current behavior. ",ranquild,2024-03-19 09:21:30+00:00,['ranquild'],2024-03-19 11:26:18+00:00,2024-03-19 11:26:04+00:00,https://github.com/metabase/metabase/pull/40281,"[('visual', 'Run Percy visual testing'), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2006469222, 'issue_id': 2194436509, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 448a4f3dcaa80681a8154966b12235f217b6f2f4...6e60c5d65c933f25fc8dbcd894dc684615f0a481.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx |', 'created_at': datetime.datetime(2024, 3, 19, 9, 22, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 2006505411, 'issue_id': 2194436509, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/df924abd-de8c-4ad9-93d1-f62fa74259a3"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>6e60c5d65c933f25fc8dbcd894dc684615f0a481</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2368 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 9, 32, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2006932449, 'issue_id': 2194436509, 'author': 'github-actions[bot]', 'body': '@ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 19, 11, 26, 17, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-19 09:22:41 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 448a4f3dcaa80681a8154966b12235f217b6f2f4...6e60c5d65c933f25fc8dbcd894dc684615f0a481.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx |

replay-io[bot] on (2024-03-19 09:32:55 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/df924abd-de8c-4ad9-93d1-f62fa74259a3"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>6e60c5d65c933f25fc8dbcd894dc684615f0a481</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2368 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-19 11:26:17 UTC): @ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2194427382,pull_request,closed,,"ü§ñ backported ""[E2E] Overload the existing E2E visitQuestion helper to make it work with the alias""",#39683,metabase-bot[bot],2024-03-19 09:16:54+00:00,['kamilmielnik'],2024-03-19 09:50:25+00:00,2024-03-19 09:50:24+00:00,https://github.com/metabase/metabase/pull/40280,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2006495854, 'issue_id': 2194427382, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/ba01632e-4c72-4e36-b9b6-4e0a0debf7e9"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>eba84e9f56a7a5bfa0d46e744b3835d8abc9866a</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2334 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 9, 30, 14, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-19 09:30:14 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/ba01632e-4c72-4e36-b9b6-4e0a0debf7e9"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>eba84e9f56a7a5bfa0d46e744b3835d8abc9866a</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2334 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2194395562,pull_request,closed,,Show SQL in a notebook sidebar [PoC/task-1],"This is the first task in the Milestone 1 (PoC) of #40254.
It merges into the `sql-sidebar-preview-poc` that's being used as a ""feature"" branch for this milestone.

## What does this PR accomplish?
- Renames the `ConvertQueryModal` component to more fitting `SQLPreviewSidebar` and updates references
- Removes now unused modal type `CONVERT_QUERY` from the `QueryModals.tsx`
- Introduces a SQL in a notebook sidebar preview

![Kapture 2024-03-19 at 09 57 38](https://github.com/metabase/metabase/assets/31325167/2df291ac-376d-4b30-b0b1-abab42beda11)

> [!Important]
> For the sake of easier and faster reviews, changes in each of the subsequent PRs will not try to address all tasks in Milestone 1. In other words, some features might not work in individual PRs. The goal is to address them individually, and to have one last unifying PR with all working changes that will be created 

## The Scope
- Rework the notebook editor to always show a sidebar with a live-updating SQL preview of the GUI query

## Out of Scope
- Toggling the sidebar or preserving its state
- Converting the query to the SQL and starting a new SQL question
- Styling",nemanjaglumac,2024-03-19 09:01:08+00:00,['nemanjaglumac'],2024-03-19 19:01:57+00:00,2024-03-19 19:01:56+00:00,https://github.com/metabase/metabase/pull/40279,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2006433897, 'issue_id': 2194395562, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/8ca90ce0-bbe3-43aa-a5d3-4d2f685c4485"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>8c27236ac09b967af76d19fbbde2a80d70af96ef</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>12 Failed</b></div>\n<div>‚ö†Ô∏è <b>8 Flaky</b></div>\n<div>‚úÖ <b>2351 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 9, 12, 33, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-19 09:12:33 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/8ca90ce0-bbe3-43aa-a5d3-4d2f685c4485"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>8c27236ac09b967af76d19fbbde2a80d70af96ef</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>12 Failed</b></div>
<div>‚ö†Ô∏è <b>8 Flaky</b></div>
<div>‚úÖ <b>2351 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2194387281,pull_request,closed,,Fix UX for picking multiple values in filters,"Fixes https://github.com/metabase/metabase/issues/40265
Demo 1 https://www.loom.com/share/fff5821109244c8cb42b9412e04a7c95
Demo 2 https://www.loom.com/share/ba3ea79c9d684887bd79921d229bc9e2

Improvements:
- For ""search"" field values, the search value is automatically synced with the filter value. It means that you can type it in the input and press ""Add filter""; or change the filter operator and the value will not be lost.
- We no longer show the search value in search results. The problem with the previous behavior is that it overlaps the ""Add filter"" button and requires an extra click when adding a filter. It also makes it hard to understand that this value is not actually from the field values.
- Allows to paste multiple value from a spreadsheet

Downsides:
- It might be harder to understand how to add a custom filter value outside of the search results if there are some search results for your value. This is now exactly like it was before - the input should lose the focus, for instance, by pressing `Tab`.

How to test:
- New -> Question -> Sample DB -> People
- Try adding a filter for People.Name
- Try pasting values from a spreadsheet like in the referenced escalation

<img width=""412"" alt=""Screenshot 2024-03-19 at 10 57 36"" src=""https://github.com/metabase/metabase/assets/8542534/cdd032f2-0374-4180-878e-5a0d21c43483"">
<img width=""510"" alt=""Screenshot 2024-03-19 at 10 58 09"" src=""https://github.com/metabase/metabase/assets/8542534/9c0ed82c-ca36-4ed0-a4ab-2be1d81d40d6"">
<img width=""510"" alt=""Screenshot 2024-03-19 at 10 58 16"" src=""https://github.com/metabase/metabase/assets/8542534/e18afced-4373-4ebe-a031-bea570adde25"">
",ranquild,2024-03-19 08:57:15+00:00,['ranquild'],2024-03-20 12:18:30+00:00,2024-03-20 12:18:18+00:00,https://github.com/metabase/metabase/pull/40278,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2006384870, 'issue_id': 2194387281, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 25bac882cfb696dda3e1b974eea56dd5cda901e2...464fc99f7e745a0bd1e5fe83e12427600985c8c6.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/inputs/MultiAutocomplete/MultiAutocomplete.stories.mdx<br>frontend/src/metabase/ui/components/inputs/MultiAutocomplete/MultiAutocomplete.tsx<br>frontend/src/metabase/ui/components/inputs/MultiAutocomplete/index.ts<br>frontend/src/metabase/ui/components/inputs/index.ts |', 'created_at': datetime.datetime(2024, 3, 19, 8, 58, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2006421925, 'issue_id': 2194387281, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/60cd6096-c491-4950-8f66-44572b94376a"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>464fc99f7e745a0bd1e5fe83e12427600985c8c6</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2368 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 9, 9, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2009284233, 'issue_id': 2194387281, 'author': 'ranquild', 'body': ""@nemanjaglumac both is expected. For the first one, the reason is that we disallow creating duplicate values with copy-pasting. That's why you cannot paste the same values twice. But you can paste some other values"", 'created_at': datetime.datetime(2024, 3, 20, 10, 56, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2009436024, 'issue_id': 2194387281, 'author': 'github-actions[bot]', 'body': '@ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 20, 12, 18, 29, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-19 08:58:25 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 25bac882cfb696dda3e1b974eea56dd5cda901e2...464fc99f7e745a0bd1e5fe83e12427600985c8c6.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/inputs/MultiAutocomplete/MultiAutocomplete.stories.mdx<br>frontend/src/metabase/ui/components/inputs/MultiAutocomplete/MultiAutocomplete.tsx<br>frontend/src/metabase/ui/components/inputs/MultiAutocomplete/index.ts<br>frontend/src/metabase/ui/components/inputs/index.ts |

replay-io[bot] on (2024-03-19 09:09:07 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/60cd6096-c491-4950-8f66-44572b94376a"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>464fc99f7e745a0bd1e5fe83e12427600985c8c6</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2368 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

ranquild (Issue Creator) on (2024-03-20 10:56:33 UTC): @nemanjaglumac both is expected. For the first one, the reason is that we disallow creating duplicate values with copy-pasting. That's why you cannot paste the same values twice. But you can paste some other values

github-actions[bot] on (2024-03-20 12:18:29 UTC): @ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2194374043,pull_request,closed,,Restore lost csvupload snowplow schema,"### Description

We uploaded a version `1.0.1` for the `csvupload` events [around 5 months ago](https://metaboat.slack.com/archives/C04FZTRF457/p1698853388108969?thread_ts=1687340891.362279&cid=C04FZTRF457), but for some reason it never added or possibly removed from the repo. This meant we had a collision the [next time](https://github.com/metabase/metabase/pull/39944) we wanted to bump this schema.

This PR rewrites `1.0.1` to match what was uploaded verbatim, and rebases our latest changes to create version `1.0.2`.",crisptrutski,2024-03-19 08:50:45+00:00,['crisptrutski'],2024-03-21 04:52:34+00:00,2024-03-21 04:52:20+00:00,https://github.com/metabase/metabase/pull/40277,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2006404241, 'issue_id': 2194374043, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/ba8173e4-08ca-461b-9bd1-4dd9acf7b538"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>4dca9906048dde61edb4d6f91de8e2cc39424663</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2368 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 9, 4, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2007687488, 'issue_id': 2194374043, 'author': 'crisptrutski', 'body': 'Snowplow EE tests are failing now - thank goodness we have them. \r\n\r\n```\r\n   1) CSV Uploading\r\n       CSV Uploading (postgres)\r\n         Cannot upload invalid.csv to a collection:\r\n     Error: Snowplow retry timeout\r\n      at Context.eval (../../../../../../../../../../../work/metabase/metabase/e2e/support/helpers/e2e-snowplow-helpers.js:112:12)\r\n\r\n  2) CSV Uploading\r\n       CSV Uploading (postgres)\r\n         ""after each"" hook for ""Cannot upload invalid.csv to a collection"":\r\n     AssertionError: expected [ Array(1) ] to have a length of 0 but got 1\r\n\r\nBecause this error occurred during a `after each` hook we are skipping the remaining tests in the current suite: `CSV Uploading (postgres)`\r\n      at expectNoBadSnowplowEvents (../../../../../../../../../../../work/metabase/metabase/e2e/support/helpers/e2e-snowplow-helpers.js:94:47)\r\n      at Context.eval (../../../../../../../../../../../work/metabase/metabase/e2e/test/scenarios/collections/uploads.cy.spec.js:124:10)\r\n\r\n  3) CSV Uploading\r\n       CSV Uploading (mysql)\r\n         Cannot upload invalid.csv to a collection:\r\n     Error: Snowplow retry timeout\r\n      at Context.eval (../../../../../../../../../../../work/metabase/metabase/e2e/support/helpers/e2e-snowplow-helpers.js:112:12)\r\n\r\n  4) CSV Uploading\r\n       CSV Uploading (mysql)\r\n         ""after each"" hook for ""Cannot upload invalid.csv to a collection"":\r\n     AssertionError: expected [ Array(1) ] to have a length of 0 but got 1\r\n```\r\n\r\nGoing to dig into this in the morning.', 'created_at': datetime.datetime(2024, 3, 19, 16, 58, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2010299834, 'issue_id': 2194374043, 'author': 'crisptrutski', 'body': 'It turns out that the 1-0-1 schema published 5 months ago would never work for us, as it had ""generated-columns"" as required, but we did not publish it for errors. Rather than relaxing this to an optional column, I\'ve added it to the failure message. \r\n\r\nArguably this is less clean, as at this point we don\'t know whether we had such a side-effect, but in practice it should not matter.', 'created_at': datetime.datetime(2024, 3, 20, 18, 16, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2011214388, 'issue_id': 2194374043, 'author': 'github-actions[bot]', 'body': '@crisptrutski Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 21, 4, 52, 33, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-19 09:04:02 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/ba8173e4-08ca-461b-9bd1-4dd9acf7b538"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>4dca9906048dde61edb4d6f91de8e2cc39424663</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2368 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

crisptrutski (Issue Creator) on (2024-03-19 16:58:04 UTC): Snowplow EE tests are failing now - thank goodness we have them. 

```
   1) CSV Uploading
       CSV Uploading (postgres)
         Cannot upload invalid.csv to a collection:
     Error: Snowplow retry timeout
      at Context.eval (../../../../../../../../../../../work/metabase/metabase/e2e/support/helpers/e2e-snowplow-helpers.js:112:12)

  2) CSV Uploading
       CSV Uploading (postgres)
         ""after each"" hook for ""Cannot upload invalid.csv to a collection"":
     AssertionError: expected [ Array(1) ] to have a length of 0 but got 1

Because this error occurred during a `after each` hook we are skipping the remaining tests in the current suite: `CSV Uploading (postgres)`
      at expectNoBadSnowplowEvents (../../../../../../../../../../../work/metabase/metabase/e2e/support/helpers/e2e-snowplow-helpers.js:94:47)
      at Context.eval (../../../../../../../../../../../work/metabase/metabase/e2e/test/scenarios/collections/uploads.cy.spec.js:124:10)

  3) CSV Uploading
       CSV Uploading (mysql)
         Cannot upload invalid.csv to a collection:
     Error: Snowplow retry timeout
      at Context.eval (../../../../../../../../../../../work/metabase/metabase/e2e/support/helpers/e2e-snowplow-helpers.js:112:12)

  4) CSV Uploading
       CSV Uploading (mysql)
         ""after each"" hook for ""Cannot upload invalid.csv to a collection"":
     AssertionError: expected [ Array(1) ] to have a length of 0 but got 1
```

Going to dig into this in the morning.

crisptrutski (Issue Creator) on (2024-03-20 18:16:14 UTC): It turns out that the 1-0-1 schema published 5 months ago would never work for us, as it had ""generated-columns"" as required, but we did not publish it for errors. Rather than relaxing this to an optional column, I've added it to the failure message. 

Arguably this is less clean, as at this point we don't know whether we had such a side-effect, but in practice it should not matter.

github-actions[bot] on (2024-03-21 04:52:33 UTC): @crisptrutski Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2194367287,pull_request,closed,,"ü§ñ backported ""SQL in a sidebar prep: `NativeQueryPreview` component""",#40268,metabase-bot[bot],2024-03-19 08:47:15+00:00,['nemanjaglumac'],2024-03-19 09:20:39+00:00,2024-03-19 09:20:38+00:00,https://github.com/metabase/metabase/pull/40276,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2006389381, 'issue_id': 2194367287, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/25cc2038-448c-4b37-a2c8-c8ef3317c3de"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>633c64848783b37d652383c9e0913566bb2464c7</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2336 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 8, 59, 44, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-19 08:59:44 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/25cc2038-448c-4b37-a2c8-c8ef3317c3de"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>633c64848783b37d652383c9e0913566bb2464c7</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2336 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2194306810,pull_request,closed,,Fix float-to-int type coercion for CSV appends using declarative maps,"### Description

This follows on from the https://github.com/metabase/metabase/pull/39493 work, to fix a regression on float-to-int coercion that can cause needless column alteration. It also subsumes a simplified version of the [hiccup DSL](https://github.com/metabase/metabase/pull/39793), by removing the coupling to the ordering of child-to-parent edges.

This approach is an alternative to the [lattice approach](https://github.com/metabase/metabase/pull/39724), and instead takes a more domain centered and explicit approach. 

Removing `::explicit-int` is playing with fire in some ways, introducing for example the gotcha that `1.0` is a member of `::int` (in a column-type setting), but not a member of `::int` (in a value-type setting). It causes our hierarchy in the code to reflect a sub-typing relationship only for column-types, and the implicit, divergent hierarchy for value-types is never visualized. 

While I like the explicit nature of this interface, it is less general and extensible, with subtle gotchas. Overall I think it could work well for the foreseeable future, and suspect there is a way to heal the model if we stop overloading the keywords for both types. 

### How to verify

See [this test case.](https://github.com/metabase/metabase/pull/40275/files#diff-d72e1e62dbb726e6e563e8b2caec58e6cac2bbb9a650f10f0f42ecf2f2d00debL1793-R1794)",crisptrutski,2024-03-19 08:14:03+00:00,['crisptrutski'],2024-04-12 14:51:16+00:00,2024-03-19 17:47:00+00:00,https://github.com/metabase/metabase/pull/40275,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2006299274, 'issue_id': 2194306810, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/2b5e8883-06e4-4e31-812a-b31649da16c4"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>f4e6b8db50ff4494e29bbd19bcd7882df4f8cbde</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2368 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 8, 32, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2006911020, 'issue_id': 2194306810, 'author': 'crisptrutski', 'body': '* **#40309** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40309?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#40275** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40275?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 19, 11, 19, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2007790338, 'issue_id': 2194306810, 'author': 'github-actions[bot]', 'body': '@crisptrutski Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 19, 17, 47, 11, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-19 08:32:56 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/2b5e8883-06e4-4e31-812a-b31649da16c4"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>f4e6b8db50ff4494e29bbd19bcd7882df4f8cbde</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2368 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

crisptrutski (Issue Creator) on (2024-03-19 11:19:30 UTC): * **#40309** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40309?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#40275** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40275?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

github-actions[bot] on (2024-03-19 17:47:11 UTC): @crisptrutski Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2194209774,pull_request,closed,,Fix dnd clause composition,"Context https://metaboat.slack.com/archives/C0645JP1W81/p1710769889848229

Trying to select text in the expression popover for an existing clause won't start a drag-n-drop interaction. ",ranquild,2024-03-19 07:14:04+00:00,['ranquild'],2024-03-19 08:07:29+00:00,2024-03-19 08:07:12+00:00,https://github.com/metabase/metabase/pull/40274,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2006065333, 'issue_id': 2194209774, 'author': 'kamilmielnik', 'body': 'Please also add tests :pray:', 'created_at': datetime.datetime(2024, 3, 19, 7, 20, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2006066331, 'issue_id': 2194209774, 'author': 'ranquild', 'body': '@kamilmielnik how do you expect this to be tested?', 'created_at': datetime.datetime(2024, 3, 19, 7, 20, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2006071833, 'issue_id': 2194209774, 'author': 'kamilmielnik', 'body': '> @kamilmielnik how do you expect this to be tested?\r\n\r\nAn e2e test simulating text selection with `mousedown` + `mousemove` + `mouseup` in a way that would reorder the clauses (like in the loom video) and asserting that clauses have the same order afterwards.', 'created_at': datetime.datetime(2024, 3, 19, 7, 22, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2006104027, 'issue_id': 2194209774, 'author': 'ranquild', 'body': '@kamilmielnik \r\nbefore\r\n<img width=""1117"" alt=""Screenshot 2024-03-19 at 09 31 46"" src=""https://github.com/metabase/metabase/assets/8542534/a892c8b4-220c-4541-9daf-b7744f7e0ef2"">\r\n\r\nafter\r\n<img width=""1275"" alt=""Screenshot 2024-03-19 at 09 32 06"" src=""https://github.com/metabase/metabase/assets/8542534/69ea2a10-33a5-43c5-9db2-b63b86fbb77d"">', 'created_at': datetime.datetime(2024, 3, 19, 7, 32, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2006141172, 'issue_id': 2194209774, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/63bbee50-51c4-40f3-882e-651da1f2bdb3"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>c9fb20f2b0f9b72a437d832fb7cffa0a18b07c1a</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2366 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 7, 44, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2006216490, 'issue_id': 2194209774, 'author': 'github-actions[bot]', 'body': '@ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 19, 8, 7, 28, tzinfo=datetime.timezone.utc)}]","kamilmielnik on (2024-03-19 07:20:19 UTC): Please also add tests :pray:

ranquild (Issue Creator) on (2024-03-19 07:20:40 UTC): @kamilmielnik how do you expect this to be tested?

kamilmielnik on (2024-03-19 07:22:33 UTC): An e2e test simulating text selection with `mousedown` + `mousemove` + `mouseup` in a way that would reorder the clauses (like in the loom video) and asserting that clauses have the same order afterwards.

ranquild (Issue Creator) on (2024-03-19 07:32:54 UTC): @kamilmielnik 
before
<img width=""1117"" alt=""Screenshot 2024-03-19 at 09 31 46"" src=""https://github.com/metabase/metabase/assets/8542534/a892c8b4-220c-4541-9daf-b7744f7e0ef2"">

after
<img width=""1275"" alt=""Screenshot 2024-03-19 at 09 32 06"" src=""https://github.com/metabase/metabase/assets/8542534/69ea2a10-33a5-43c5-9db2-b63b86fbb77d"">

replay-io[bot] on (2024-03-19 07:44:19 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/63bbee50-51c4-40f3-882e-651da1f2bdb3"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>c9fb20f2b0f9b72a437d832fb7cffa0a18b07c1a</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2366 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-19 08:07:28 UTC): @ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2194191897,pull_request,closed,,Revert liquibase version to fix tests,"[Slack discussion](https://metaboat.slack.com/archives/CKZEMT1MJ/p1710831335780959?thread_ts=1710830406.521509&cid=CKZEMT1MJ)

This is likely caused by https://github.com/metabase/metabase/pull/40229",WiNloSt,2024-03-19 07:03:25+00:00,['WiNloSt'],2024-03-19 07:34:12+00:00,2024-03-19 07:06:08+00:00,https://github.com/metabase/metabase/pull/40273,"[('.Team/Embedding', '')]","[{'comment_id': 2006033102, 'issue_id': 2194191897, 'author': 'WiNloSt', 'body': 'Closed in favor of [this commit](https://github.com/metabase/metabase/pull/40249/commits/7ef168b4ca1554fc82da59a3bd55472ff55c73e1)', 'created_at': datetime.datetime(2024, 3, 19, 7, 9, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2006053643, 'issue_id': 2194191897, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/95f8cc52-fb12-4e59-8f9c-8dcfdcf86ed4"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>8a1cd4a0a1620a11c87c9b215bc9e830f6f678b2</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2109 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 7, 16, 22, tzinfo=datetime.timezone.utc)}]","WiNloSt (Issue Creator) on (2024-03-19 07:09:54 UTC): Closed in favor of [this commit](https://github.com/metabase/metabase/pull/40249/commits/7ef168b4ca1554fc82da59a3bd55472ff55c73e1)

replay-io[bot] on (2024-03-19 07:16:22 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/95f8cc52-fb12-4e59-8f9c-8dcfdcf86ed4"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>8a1cd4a0a1620a11c87c9b215bc9e830f6f678b2</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2109 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2194129491,pull_request,closed,,Detect N+1 hydration and throw an exception,"Throw an exception if a n+1 hydration is detected. Only do this during development and testing.

```clojure

(t2/hydrate (t2/select :model/Database {:limit 1}) :tables)
;; => this is fine

(t2/hydrate (t2/select :model/Database {:limit 2}) :tables)
;; => Execution error (ExceptionInfo) at metabase.models.interface/hydrate-with-strategy-before-method-toucan2-tools-hydrate-multimethod-simple (REPL:675).
;;    N+1 hydration detected!!! Model :model/Database, hydration key :tables
```",qnkhuat,2024-03-19 06:19:14+00:00,['qnkhuat'],2024-03-22 02:28:20+00:00,2024-03-22 02:27:09+00:00,https://github.com/metabase/metabase/pull/40272,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2005917190, 'issue_id': 2194129491, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/1cff0391-e4f3-4e43-a520-f567b2cc7400"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>c5cd242c5afeebddd7fcb6ae97fa72aef6188ccc</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>6 Flaky</b></div>\n<div>‚úÖ <b>2370 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 6, 30, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 2007376414, 'issue_id': 2194129491, 'author': 'piranha', 'body': ""Not sure what happens, but everything's broken üòÅ"", 'created_at': datetime.datetime(2024, 3, 19, 14, 45, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2012048104, 'issue_id': 2194129491, 'author': 'tsmacdonald', 'body': '![image](https://github.com/metabase/metabase/assets/784417/8a38bc6e-a482-45f0-9f3b-191bdb618b74)\r\ndid these commits get into master via a separate PR or something?', 'created_at': datetime.datetime(2024, 3, 21, 11, 42, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2012668766, 'issue_id': 2194129491, 'author': 'qnkhuat', 'body': ""@tsmacdonald yes, I didn't expect to get the CI passes on this so I moved those commit to its own PR https://github.com/metabase/metabase/pull/40345"", 'created_at': datetime.datetime(2024, 3, 21, 15, 33, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2012675704, 'issue_id': 2194129491, 'author': 'tsmacdonald', 'body': 'Awesome, thanks Ngoc!', 'created_at': datetime.datetime(2024, 3, 21, 15, 35, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2014198796, 'issue_id': 2194129491, 'author': 'github-actions[bot]', 'body': '@qnkhuat Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 22, 2, 28, 20, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-19 06:30:50 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/1cff0391-e4f3-4e43-a520-f567b2cc7400"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>c5cd242c5afeebddd7fcb6ae97fa72aef6188ccc</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>6 Flaky</b></div>
<div>‚úÖ <b>2370 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

piranha on (2024-03-19 14:45:29 UTC): Not sure what happens, but everything's broken üòÅ

tsmacdonald on (2024-03-21 11:42:21 UTC): ![image](https://github.com/metabase/metabase/assets/784417/8a38bc6e-a482-45f0-9f3b-191bdb618b74)
did these commits get into master via a separate PR or something?

qnkhuat (Issue Creator) on (2024-03-21 15:33:59 UTC): @tsmacdonald yes, I didn't expect to get the CI passes on this so I moved those commit to its own PR https://github.com/metabase/metabase/pull/40345

tsmacdonald on (2024-03-21 15:35:43 UTC): Awesome, thanks Ngoc!

github-actions[bot] on (2024-03-22 02:28:20 UTC): @qnkhuat Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2193784204,pull_request,closed,,SQL sidebar preview PoC [WIP],WIP,nemanjaglumac,2024-03-19 00:53:15+00:00,['nemanjaglumac'],2024-03-19 08:21:06+00:00,2024-03-19 08:21:06+00:00,https://github.com/metabase/metabase/pull/40271,"[('.Team/Querying', '')]",[],
2193674446,pull_request,closed,,fix showing comparison tooltip on single series,"Closes https://github.com/metabase/metabase/issues/39550

### Description

Fixes showing the comparison tooltip on a single series bar/area charts.

### How to verify

Create a bar chart with a single series
Ensure the tooltip shows key-values

### Demo

Before
<img width=""533"" alt=""Screenshot 2024-03-18 at 8 37 36‚ÄØPM"" src=""https://github.com/metabase/metabase/assets/14301985/fd7d79a8-ddb7-47a8-9901-ec3d2212a1e4"">

After
<img width=""457"" alt=""Screenshot 2024-03-18 at 8 36 51‚ÄØPM"" src=""https://github.com/metabase/metabase/assets/14301985/fcdc8380-23e5-451b-b723-ab0bcd3d99f8"">

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",alxnddr,2024-03-18 23:37:46+00:00,['alxnddr'],2024-03-19 18:51:29+00:00,2024-03-19 18:17:02+00:00,https://github.com/metabase/metabase/pull/40270,"[('visual', 'Run Percy visual testing'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2005329616, 'issue_id': 2193674446, 'author': 'github-actions[bot]', 'body': 'üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8335117974)', 'created_at': datetime.datetime(2024, 3, 18, 23, 47, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2005341215, 'issue_id': 2193674446, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/4c44c6a3-3dba-4644-a5a8-ca163372e8e0"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>8e3530ef6452ade500473ccc197449b3652effa2</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>176 Failed</b></div>\n<div>‚úÖ <b>2041 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 18, 23, 51, 46, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-18 23:47:33 UTC): üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8335117974)

replay-io[bot] on (2024-03-18 23:51:46 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/4c44c6a3-3dba-4644-a5a8-ca163372e8e0"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>8e3530ef6452ade500473ccc197449b3652effa2</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>176 Failed</b></div>
<div>‚úÖ <b>2041 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2193636912,pull_request,closed,,Upgrade @testing-library/user-event to v14,"Related to #40267

### Description

Upgrades the @testing-library/user-event to v14. This PR updates our tests to accomidate these changes:
- APIs always return a Promise.
- userEvent.paste API has new parameters
- skipPointerEvents has been removed, using pointerEventsCheck: PointerEventsCheckLevel.Never instead
- specialChars export has been removed
- `userEvent.type events` no longer include `keyCode` (came up with TokenField component)
- userEvent.type into `<input type=""time"" />` elements behaves somewhat oddly, but is mitigated by using the `initialSelectionStart` and `initialSelectionEnd` options
- Checking for `userEvent.click()` on non clickable items has changed somewhat (asserting that promise rejected first)
- using `{selectall}` in type didn't appear to work, but was replaced with `userEvent.clear()`
- when using jest fake timers, we need to pass `{advanceTimers: jest.advanceTimersByTime}` to `userEvent.setup()`

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",sloansparger,2024-03-18 23:12:38+00:00,"['npfitz', 'sloansparger']",2024-03-28 18:24:35+00:00,2024-03-28 18:24:24+00:00,https://github.com/metabase/metabase/pull/40269,"[('backport', 'Automatically create PR on current release branch on merge'), ('visual', 'Run Percy visual testing'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2005266957, 'issue_id': 2193636912, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 036de06748d6460b8f9d9f2103d50e02c9df9e52...f9e536d9ae71b5bbe4311ae44aee37117a3e0853.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartCaption.unit.spec.tsx<br>frontend/src/metabase/visualizations/components/ChartSettings.unit.spec.js<br>frontend/src/metabase/visualizations/components/ChartSettingsWidgetPopover.unit.spec.jsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetailView.unit.spec.tsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetailWrapper.unit.spec.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartNestedSettingsSeriesMultiple.unit.spec.js<br>frontend/src/metabase/visualizations/components/settings/ChartSettingFieldsPicker.unit.spec.js<br>frontend/src/metabase/visualizations/components/settings/ChartSettingInputNumeric.unit.spec.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingLinkUrlInput.unit.spec.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingTableColumns/TableColumnPanel/TableColumnPanel.unit.spec.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingsTableFormatting.unit.spec.js<br>frontend/src/metabase/visualizations/components/skeletons/ChartSkeleton/ChartSkeleton.unit.spec.tsx<br>frontend/src/metabase/visualizations/components/skeletons/SkeletonCaption/SkeletonCaption.unit.spec.tsx<br>frontend/src/metabase/visualizations/components/skeletons/StaticSkeleton/StaticSkeleton.unit.spec.tsx<br>frontend/src/metabase/visualizations/shared/components/RowChart/RowChart.unit.spec.tsx<br>frontend/src/metabase/visualizations/visualizations/Heading/Heading.unit.spec.tsx<br>frontend/src/metabase/visualizations/visualizations/LinkViz/LinkViz.unit.spec.tsx<br>frontend/src/metabase/visualizations/visualizations/PieChart/PieChart.unit.spec.js<br>frontend/src/metabase/visualizations/visualizations/PivotTable/PivotTable.unit.spec.js<br>frontend/src/metabase/visualizations/visualizations/PivotTable/PivotTable.unit.spec.tsx<br>frontend/src/metabase/visualizations/visualizations/Scalar/Scalar.unit.spec.js<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/SmartScalar.unit.spec.js<br>frontend/src/metabase/visualizations/visualizations/Table.unit.spec.js<br>frontend/src/metabase/visualizations/visualizations/Text/Text.unit.spec.tsx |\n| @kdoh | frontend/src/metabase/ui/components/inputs/NumberInput/NumberInput.unit.spec.tsx<br>frontend/src/metabase/ui/components/inputs/TextInputBlurChange/TextInputBlurChange.unit.spec.tsx<br>frontend/src/metabase/ui/components/inputs/TimeInput/TimeInput.unit.spec.tsx<br>frontend/src/metabase/ui/components/utils/DelayGroup/DelayGroup.unit.spec.tsx |\n| @ranquild | enterprise/frontend/src/metabase-enterprise/whitelabel/components/ColorSettings/ColorSettings.unit.spec.tsx<br>enterprise/frontend/src/metabase-enterprise/whitelabel/components/FontFilesWidget/FontFilesWidget.unit.spec.tsx<br>enterprise/frontend/src/metabase-enterprise/whitelabel/components/FontWidget/FontWidget.unit.spec.tsx<br>enterprise/frontend/src/metabase-enterprise/whitelabel/components/LighthouseToggleWidget/LighthouseToggleWidget.unit.spec.tsx<br>enterprise/frontend/src/metabase-enterprise/whitelabel/components/MetabotToggleWidget/MetabotToggleWidget.unit.spec.tsx<br>frontend/src/metabase/account/profile/components/UserProfileForm/UserProfileForm.unit.spec.tsx<br>frontend/src/metabase/auth/components/ForgotPassword/ForgotPassword.unit.spec.tsx<br>frontend/src/metabase/auth/components/PasswordPanel/PasswordPanel.unit.spec.tsx<br>frontend/src/metabase/auth/components/ResetPassword/ResetPassword.unit.spec.tsx<br>frontend/src/metabase/setup/components/DataUsageStep/DataUsageStep.unit.spec.tsx<br>frontend/src/metabase/setup/components/LanguageStep/LanguageStep.unit.spec.tsx<br>frontend/src/metabase/setup/components/NewsletterForm/NewsletterForm.unit.spec.tsx<br>frontend/src/metabase/setup/tests/common.unit.spec.tsx<br>frontend/src/metabase/setup/tests/enterprise.unit.spec.tsx<br>frontend/src/metabase/setup/tests/premium.unit.spec.tsx<br>frontend/src/metabase/setup/tests/setup.tsx<br>frontend/src/metabase/sharing/components/SharingSidebar/tests/common.unit.spec.ts<br>frontend/src/metabase/sharing/components/SharingSidebar/tests/enterprise.unit.spec.ts<br>frontend/src/metabase/sharing/components/SharingSidebar/tests/premium.unit.spec.ts<br>frontend/src/metabase/status/components/DatabaseStatus/DatabaseStatus.unit.spec.tsx<br>frontend/src/metabase/status/components/FileUploadStatus/FileUploadStatus.unit.spec.tsx<br>frontend/src/metabase/timelines/collections/components/EventCard/EventCard.unit.spec.tsx<br>frontend/src/metabase/timelines/collections/components/TimelineDetailsModal/TimelineDetailsModal.unit.spec.tsx<br>frontend/src/metabase/timelines/common/components/DeleteEventModal/DeleteEventModal.unit.spec.tsx<br>frontend/src/metabase/timelines/common/components/EditTimelineModal/EditTimelineModal.unit.spec.tsx<br>frontend/src/metabase/timelines/common/components/ModalHeader/ModalHeader.unit.spec.tsx<br>frontend/src/metabase/timelines/common/components/MoveEventModal/MoveEventModal.unit.spec.tsx<br>frontend/src/metabase/timelines/common/components/NewTimelineModal/NewTimelineModal.unit.spec.tsx<br>frontend/src/metabase/timelines/questions/components/EventCard/EventCard.unit.spec.tsx<br>frontend/src/metabase/timelines/questions/components/TimelineCard/TimelineCard.unit.spec.tsx<br>frontend/src/metabase/timelines/questions/components/TimelinePanel/TimelinePanel.unit.spec.tsx |', 'created_at': datetime.datetime(2024, 3, 18, 23, 13, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2005286540, 'issue_id': 2193636912, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/2da69594-ed31-4c1b-8baa-d2173ef79d3c"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>f9e536d9ae71b5bbe4311ae44aee37117a3e0853</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>1 Failed</b></div>\n<div>‚ö†Ô∏è <b>6 Flaky</b></div>\n<div>‚úÖ <b>2381 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 18, 23, 25, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2025848744, 'issue_id': 2193636912, 'author': 'github-actions[bot]', 'body': '@sloansparger Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 28, 18, 24, 35, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-18 23:13:46 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 036de06748d6460b8f9d9f2103d50e02c9df9e52...f9e536d9ae71b5bbe4311ae44aee37117a3e0853.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartCaption.unit.spec.tsx<br>frontend/src/metabase/visualizations/components/ChartSettings.unit.spec.js<br>frontend/src/metabase/visualizations/components/ChartSettingsWidgetPopover.unit.spec.jsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetailView.unit.spec.tsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetailWrapper.unit.spec.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartNestedSettingsSeriesMultiple.unit.spec.js<br>frontend/src/metabase/visualizations/components/settings/ChartSettingFieldsPicker.unit.spec.js<br>frontend/src/metabase/visualizations/components/settings/ChartSettingInputNumeric.unit.spec.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingLinkUrlInput.unit.spec.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingTableColumns/TableColumnPanel/TableColumnPanel.unit.spec.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingsTableFormatting.unit.spec.js<br>frontend/src/metabase/visualizations/components/skeletons/ChartSkeleton/ChartSkeleton.unit.spec.tsx<br>frontend/src/metabase/visualizations/components/skeletons/SkeletonCaption/SkeletonCaption.unit.spec.tsx<br>frontend/src/metabase/visualizations/components/skeletons/StaticSkeleton/StaticSkeleton.unit.spec.tsx<br>frontend/src/metabase/visualizations/shared/components/RowChart/RowChart.unit.spec.tsx<br>frontend/src/metabase/visualizations/visualizations/Heading/Heading.unit.spec.tsx<br>frontend/src/metabase/visualizations/visualizations/LinkViz/LinkViz.unit.spec.tsx<br>frontend/src/metabase/visualizations/visualizations/PieChart/PieChart.unit.spec.js<br>frontend/src/metabase/visualizations/visualizations/PivotTable/PivotTable.unit.spec.js<br>frontend/src/metabase/visualizations/visualizations/PivotTable/PivotTable.unit.spec.tsx<br>frontend/src/metabase/visualizations/visualizations/Scalar/Scalar.unit.spec.js<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/SmartScalar.unit.spec.js<br>frontend/src/metabase/visualizations/visualizations/Table.unit.spec.js<br>frontend/src/metabase/visualizations/visualizations/Text/Text.unit.spec.tsx |
| @kdoh | frontend/src/metabase/ui/components/inputs/NumberInput/NumberInput.unit.spec.tsx<br>frontend/src/metabase/ui/components/inputs/TextInputBlurChange/TextInputBlurChange.unit.spec.tsx<br>frontend/src/metabase/ui/components/inputs/TimeInput/TimeInput.unit.spec.tsx<br>frontend/src/metabase/ui/components/utils/DelayGroup/DelayGroup.unit.spec.tsx |
| @ranquild | enterprise/frontend/src/metabase-enterprise/whitelabel/components/ColorSettings/ColorSettings.unit.spec.tsx<br>enterprise/frontend/src/metabase-enterprise/whitelabel/components/FontFilesWidget/FontFilesWidget.unit.spec.tsx<br>enterprise/frontend/src/metabase-enterprise/whitelabel/components/FontWidget/FontWidget.unit.spec.tsx<br>enterprise/frontend/src/metabase-enterprise/whitelabel/components/LighthouseToggleWidget/LighthouseToggleWidget.unit.spec.tsx<br>enterprise/frontend/src/metabase-enterprise/whitelabel/components/MetabotToggleWidget/MetabotToggleWidget.unit.spec.tsx<br>frontend/src/metabase/account/profile/components/UserProfileForm/UserProfileForm.unit.spec.tsx<br>frontend/src/metabase/auth/components/ForgotPassword/ForgotPassword.unit.spec.tsx<br>frontend/src/metabase/auth/components/PasswordPanel/PasswordPanel.unit.spec.tsx<br>frontend/src/metabase/auth/components/ResetPassword/ResetPassword.unit.spec.tsx<br>frontend/src/metabase/setup/components/DataUsageStep/DataUsageStep.unit.spec.tsx<br>frontend/src/metabase/setup/components/LanguageStep/LanguageStep.unit.spec.tsx<br>frontend/src/metabase/setup/components/NewsletterForm/NewsletterForm.unit.spec.tsx<br>frontend/src/metabase/setup/tests/common.unit.spec.tsx<br>frontend/src/metabase/setup/tests/enterprise.unit.spec.tsx<br>frontend/src/metabase/setup/tests/premium.unit.spec.tsx<br>frontend/src/metabase/setup/tests/setup.tsx<br>frontend/src/metabase/sharing/components/SharingSidebar/tests/common.unit.spec.ts<br>frontend/src/metabase/sharing/components/SharingSidebar/tests/enterprise.unit.spec.ts<br>frontend/src/metabase/sharing/components/SharingSidebar/tests/premium.unit.spec.ts<br>frontend/src/metabase/status/components/DatabaseStatus/DatabaseStatus.unit.spec.tsx<br>frontend/src/metabase/status/components/FileUploadStatus/FileUploadStatus.unit.spec.tsx<br>frontend/src/metabase/timelines/collections/components/EventCard/EventCard.unit.spec.tsx<br>frontend/src/metabase/timelines/collections/components/TimelineDetailsModal/TimelineDetailsModal.unit.spec.tsx<br>frontend/src/metabase/timelines/common/components/DeleteEventModal/DeleteEventModal.unit.spec.tsx<br>frontend/src/metabase/timelines/common/components/EditTimelineModal/EditTimelineModal.unit.spec.tsx<br>frontend/src/metabase/timelines/common/components/ModalHeader/ModalHeader.unit.spec.tsx<br>frontend/src/metabase/timelines/common/components/MoveEventModal/MoveEventModal.unit.spec.tsx<br>frontend/src/metabase/timelines/common/components/NewTimelineModal/NewTimelineModal.unit.spec.tsx<br>frontend/src/metabase/timelines/questions/components/EventCard/EventCard.unit.spec.tsx<br>frontend/src/metabase/timelines/questions/components/TimelineCard/TimelineCard.unit.spec.tsx<br>frontend/src/metabase/timelines/questions/components/TimelinePanel/TimelinePanel.unit.spec.tsx |

replay-io[bot] on (2024-03-18 23:25:22 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/2da69594-ed31-4c1b-8baa-d2173ef79d3c"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>f9e536d9ae71b5bbe4311ae44aee37117a3e0853</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>1 Failed</b></div>
<div>‚ö†Ô∏è <b>6 Flaky</b></div>
<div>‚úÖ <b>2381 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-28 18:24:35 UTC): @sloansparger Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2193633980,pull_request,closed,,SQL in a sidebar prep: `NativeQueryPreview` component,"This is a step in the Milestone 0 of #40254
This PR is mostly just about renaming.

Before:
A component called `NativeQueryModal` was used in two other components (modals)
- `PreviewQueryModal` and
- `ConvertQueryModal`

After:
`NativeQueryModal` is renamed to `NativeQueryPreview` because it conveys what the component is doing more truthfully, and it gives us some flexibility in the future if we want to use this component in anything that is not a modal.

I've used the opportunity to do some cleanup while working on this. Two most notable changes:
1. named exports are now used where possible
2. Mantine is now used instead of styled components

### Testing
Everything should still work and look the same as before. The end user shouldn't notice any difference, and all tests should pass.",nemanjaglumac,2024-03-18 23:10:22+00:00,['nemanjaglumac'],2024-03-19 08:46:46+00:00,2024-03-19 08:46:32+00:00,https://github.com/metabase/metabase/pull/40268,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2005282413, 'issue_id': 2193633980, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/436479f0-ece5-44cc-a99e-249dc8869f02"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>412dfd43fece3cb0f0f3368b3ba6c033ff64c324</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2368 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 18, 23, 21, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2006345308, 'issue_id': 2193633980, 'author': 'github-actions[bot]', 'body': '@nemanjaglumac Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 19, 8, 46, 45, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-18 23:21:56 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/436479f0-ece5-44cc-a99e-249dc8869f02"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>412dfd43fece3cb0f0f3368b3ba6c033ff64c324</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2368 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-19 08:46:45 UTC): @nemanjaglumac Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2193609956,pull_request,closed,,fix unaggregated dimension tooltip,"Closes https://github.com/metabase/metabase/issues/39592

### Description

When the dimension column is unaggregated, the old dc.js implementation would show the first datum with that dimension value in the tooltip, however our new echarts implementation would show the last.

This PR fixes the new implementation so it uses the first datum.

### Demo

![Screenshot 2024-03-18 at 3.55.18 PM.png](https://graphite-user-uploaded-assets-prod.s3.amazonaws.com/9ULpbAzGBtvQRyZEpGvu/fd665abb-1aa7-4696-b2f1-6353da834102.png)


![Screenshot 2024-03-18 at 4.01.51 PM.png](https://graphite-user-uploaded-assets-prod.s3.amazonaws.com/9ULpbAzGBtvQRyZEpGvu/0dc113c3-aca6-48b8-b989-df25e61601fb.png)

Before

![Screenshot 2024-03-18 at 3.53.36 PM.png](https://graphite-user-uploaded-assets-prod.s3.amazonaws.com/9ULpbAzGBtvQRyZEpGvu/17cf63b5-aa5e-4f46-8a8f-1a8d9bdf1a77.png)

After",EmmadUsmani,2024-03-18 22:57:32+00:00,['EmmadUsmani'],2024-03-19 19:54:13+00:00,2024-03-19 17:53:23+00:00,https://github.com/metabase/metabase/pull/40266,"[('visual', 'Run Percy visual testing'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2005216818, 'issue_id': 2193609956, 'author': 'EmmadUsmani', 'body': '* **#40266** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40266?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* `echarts`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @EmmadUsmani and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 18, 22, 57, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 2005229017, 'issue_id': 2193609956, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 2a55fc3e8d99e2b9f36835baa686348cbef3fdbf...a53308ede1bd25e47d9073fb86e3eb223a05dd8f.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/echarts/cartesian/model/dataset.ts |', 'created_at': datetime.datetime(2024, 3, 18, 23, 2, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 2005243050, 'issue_id': 2193609956, 'author': 'github-actions[bot]', 'body': 'üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8334744753)', 'created_at': datetime.datetime(2024, 3, 18, 23, 7, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2005269731, 'issue_id': 2193609956, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/ceb436d1-9206-4745-abc2-28a1e48fcac5"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>a53308ede1bd25e47d9073fb86e3eb223a05dd8f</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>176 Failed</b></div>\n<div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2040 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 18, 23, 14, 25, tzinfo=datetime.timezone.utc)}]","EmmadUsmani (Issue Creator) on (2024-03-18 22:57:45 UTC): * **#40266** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40266?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* `echarts`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @EmmadUsmani and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

github-actions[bot] on (2024-03-18 23:02:21 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 2a55fc3e8d99e2b9f36835baa686348cbef3fdbf...a53308ede1bd25e47d9073fb86e3eb223a05dd8f.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/echarts/cartesian/model/dataset.ts |

github-actions[bot] on (2024-03-18 23:07:13 UTC): üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8334744753)

replay-io[bot] on (2024-03-18 23:14:25 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/ceb436d1-9206-4745-abc2-28a1e48fcac5"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>a53308ede1bd25e47d9073fb86e3eb223a05dd8f</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>176 Failed</b></div>
<div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2040 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2193468426,pull_request,closed,,fix waterfall null data labels,"Closes https://github.com/metabase/metabase/issues/40213

### Description

We were showing a `0` data label for datums that had a null value on waterfall charts, which was incorrect.

This PR fixes the issue by keeping null as the value under `WATERFALL_VALUE_KEY` instead of replacing it with 0.

### Demo

![Screenshot 2024-03-18 at 3.20.38 PM.png](https://graphite-user-uploaded-assets-prod.s3.amazonaws.com/9ULpbAzGBtvQRyZEpGvu/0bc83c37-ccbc-4446-9d10-55fcb0f26319.png)

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",EmmadUsmani,2024-03-18 22:07:19+00:00,['EmmadUsmani'],2024-03-19 17:53:35+00:00,2024-03-19 17:53:35+00:00,https://github.com/metabase/metabase/pull/40264,"[('visual', 'Run Percy visual testing'), ('.Team/DashViz', 'Dashboard and Viz team'), ('loki-update', '')]","[{'comment_id': 2005130719, 'issue_id': 2193468426, 'author': 'EmmadUsmani', 'body': '* **#40264** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40264?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* `echarts`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @EmmadUsmani and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 18, 22, 7, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 2005137322, 'issue_id': 2193468426, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 2a55fc3e8d99e2b9f36835baa686348cbef3fdbf...3619b13bd1c940957088d36ca4f033a02335f2ae.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/echarts/cartesian/waterfall/model/dataset.ts |', 'created_at': datetime.datetime(2024, 3, 18, 22, 12, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2005142789, 'issue_id': 2193468426, 'author': 'github-actions[bot]', 'body': 'üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8334263252)', 'created_at': datetime.datetime(2024, 3, 18, 22, 17, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2005153779, 'issue_id': 2193468426, 'author': 'github-actions[bot]', 'body': 'üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8334368205)', 'created_at': datetime.datetime(2024, 3, 18, 22, 25, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2005154636, 'issue_id': 2193468426, 'author': 'github-actions[bot]', 'body': 'üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8334368041)', 'created_at': datetime.datetime(2024, 3, 18, 22, 25, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2005159067, 'issue_id': 2193468426, 'author': 'github-actions[bot]', 'body': 'Snapshots have been updated', 'created_at': datetime.datetime(2024, 3, 18, 22, 29, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2005160797, 'issue_id': 2193468426, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/8bc8ea8a-9030-4f8d-8e2c-c8fd05436b26"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>3619b13bd1c940957088d36ca4f033a02335f2ae</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>176 Failed</b></div>\n<div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2039 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 18, 22, 31, tzinfo=datetime.timezone.utc)}]","EmmadUsmani (Issue Creator) on (2024-03-18 22:07:32 UTC): * **#40264** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40264?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* `echarts`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @EmmadUsmani and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

github-actions[bot] on (2024-03-18 22:12:56 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 2a55fc3e8d99e2b9f36835baa686348cbef3fdbf...3619b13bd1c940957088d36ca4f033a02335f2ae.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/echarts/cartesian/waterfall/model/dataset.ts |

github-actions[bot] on (2024-03-18 22:17:25 UTC): üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8334263252)

github-actions[bot] on (2024-03-18 22:25:16 UTC): üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8334368205)

github-actions[bot] on (2024-03-18 22:25:53 UTC): üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8334368041)

github-actions[bot] on (2024-03-18 22:29:33 UTC): Snapshots have been updated

replay-io[bot] on (2024-03-18 22:31:00 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/8bc8ea8a-9030-4f8d-8e2c-c8fd05436b26"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>3619b13bd1c940957088d36ca4f033a02335f2ae</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>176 Failed</b></div>
<div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2039 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2193333546,pull_request,closed,,"ü§ñ backported ""return collections in same order from /api/collections/tree and /api/collections/:id/items""","  #40044
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",metabase-bot[bot],2024-03-18 21:13:13+00:00,['johnswanson'],2024-03-27 13:58:13+00:00,2024-03-27 13:58:12+00:00,https://github.com/metabase/metabase/pull/40263,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2021522781, 'issue_id': 2193333546, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/bd0fc9ad-6cf9-4f71-a13f-a616deb5caf1"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>9be4948f3f31dfff054f62a9150d2d2af37802aa</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚úÖ <b>2353 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 26, 21, 41, 18, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-26 21:41:18 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/bd0fc9ad-6cf9-4f71-a13f-a616deb5caf1"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>9be4948f3f31dfff054f62a9150d2d2af37802aa</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚úÖ <b>2353 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2193244663,pull_request,closed,,"ü§ñ backported ""Fix time-interval-expression-test flake""",#40253,metabase-bot[bot],2024-03-18 20:30:20+00:00,['snoe'],2024-03-18 21:14:06+00:00,2024-03-18 21:14:05+00:00,https://github.com/metabase/metabase/pull/40262,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2193232634,pull_request,closed,,"ü§ñ backported ""Lock :display when using 'zoom' in Dashboard""",#38496,metabase-bot[bot],2024-03-18 20:25:41+00:00,['adam-james-v'],2024-03-18 21:56:44+00:00,2024-03-18 21:56:43+00:00,https://github.com/metabase/metabase/pull/40261,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2004942229, 'issue_id': 2193232634, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/26f993cd-1cc7-4eb5-9afe-43c89a7ed084"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>a31f10e73226312830c3d03a01a8f9bba348ed46</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2337 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 18, 20, 37, 20, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-18 20:37:20 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/26f993cd-1cc7-4eb5-9afe-43c89a7ed084"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>a31f10e73226312830c3d03a01a8f9bba348ed46</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2337 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2193209027,pull_request,closed,,"Hide y-axis split lines when setting[""graph.y_axis.axis_enabled""] is set to false","- Closes: https://github.com/metabase/metabase/issues/39574

**Before**

![image](https://github.com/metabase/metabase/assets/22608765/5187b4f9-6711-491b-bcd7-726b3ec63412)


**After**

![image](https://github.com/metabase/metabase/assets/22608765/f224db49-9d41-49a8-b60a-9b8f8a0f681c)
",JesseSDevaney,2024-03-18 20:17:25+00:00,['JesseSDevaney'],2024-03-19 17:50:22+00:00,2024-03-19 17:50:21+00:00,https://github.com/metabase/metabase/pull/40260,"[('visual', 'Run Percy visual testing'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2004889516, 'issue_id': 2193209027, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 2a55fc3e8d99e2b9f36835baa686348cbef3fdbf...fe72a17557c2f07bf1944e30fa0e77eca324c559.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/echarts/cartesian/option/axis.ts |', 'created_at': datetime.datetime(2024, 3, 18, 20, 18, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2004917924, 'issue_id': 2193209027, 'author': 'github-actions[bot]', 'body': 'üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8333067005)', 'created_at': datetime.datetime(2024, 3, 18, 20, 27, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2004932858, 'issue_id': 2193209027, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/2bab9a51-2ae8-4700-b580-d1197470b750"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>fe72a17557c2f07bf1944e30fa0e77eca324c559</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>176 Failed</b></div>\n<div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2040 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 18, 20, 31, 42, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-18 20:18:28 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 2a55fc3e8d99e2b9f36835baa686348cbef3fdbf...fe72a17557c2f07bf1944e30fa0e77eca324c559.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/echarts/cartesian/option/axis.ts |

github-actions[bot] on (2024-03-18 20:27:05 UTC): üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8333067005)

replay-io[bot] on (2024-03-18 20:31:42 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/2bab9a51-2ae8-4700-b580-d1197470b750"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>fe72a17557c2f07bf1944e30fa0e77eca324c559</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>176 Failed</b></div>
<div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2040 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2193181754,pull_request,closed,,[MLv2] Allow any arithmetic sub-clauses in an aggregation,"This issue was previously punted, because the schema for aggregation
clauses allowed the tag to be `:any`. Now it's a short list of permitted
arithmetic expressions, but that list is too short and excludes things
like `:round`.

This change searches for an aggregation clause transitively in the
expression, and so allows any arithmetic expression.

",bshepherdson,2024-03-18 20:06:09+00:00,['bshepherdson'],2024-03-19 18:45:31+00:00,2024-03-19 18:45:18+00:00,https://github.com/metabase/metabase/pull/40259,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2004849981, 'issue_id': 2193181754, 'author': 'bshepherdson', 'body': '* **#40259** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40259?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @bshepherdson and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 18, 20, 6, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2004887225, 'issue_id': 2193181754, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/d95d13ea-307e-4d96-84ad-5fc08952dbf1"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>1149635fa786f479644ab2f76e68f38be24669e7</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2369 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 18, 20, 17, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2007894046, 'issue_id': 2193181754, 'author': 'github-actions[bot]', 'body': '@bshepherdson Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 19, 18, 45, 30, tzinfo=datetime.timezone.utc)}]","bshepherdson (Issue Creator) on (2024-03-18 20:06:22 UTC): * **#40259** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40259?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @bshepherdson and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

replay-io[bot] on (2024-03-18 20:17:46 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/d95d13ea-307e-4d96-84ad-5fc08952dbf1"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>1149635fa786f479644ab2f76e68f38be24669e7</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2369 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-19 18:45:30 UTC): @bshepherdson Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2193011186,pull_request,closed,,Update athena.md,"Missing permissions in documentation (AWS Athena)
",alinerguio,2024-03-18 18:51:34+00:00,[],2024-03-19 11:11:40+00:00,2024-03-18 19:12:34+00:00,https://github.com/metabase/metabase/pull/40255,[],"[{'comment_id': 2004726885, 'issue_id': 2193011186, 'author': 'paoliniluis', 'body': 'Those permissions are already included', 'created_at': datetime.datetime(2024, 3, 18, 19, 12, 34, tzinfo=datetime.timezone.utc)}]","paoliniluis on (2024-03-18 19:12:34 UTC): Those permissions are already included

"
2192875045,pull_request,closed,,Fix time-interval-expression-test flake,"Updates test to handle the problem encountered in #40238

> 
> time-interval-expression-test has started to fail consistently on master and the 49 branch.
> 
> The test is flawed and only worked by coincidence when the test was added in February.
> 
> It uses checkins:1-per-day, which has this docstring:
> ""Dynamically generated dataset with 30 checkins spaced 24 hours apart, from 15 days ago to 14 days in the future.""
> 
> And then goes on to test a query that has filters with (lib/time-interval ... :current :quarter).
> 
> The problem is the current quarter, which ends on March 31, is 13 days in the future.
> 
> I've commented out the test for now, and will leave fixing the test to the QPD team.",snoe,2024-03-18 17:45:03+00:00,['snoe'],2024-03-21 07:33:35+00:00,2024-03-18 20:29:32+00:00,https://github.com/metabase/metabase/pull/40253,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2004925954, 'issue_id': 2192875045, 'author': 'github-actions[bot]', 'body': '@snoe Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 18, 20, 29, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2011380771, 'issue_id': 2192875045, 'author': 'WiNloSt', 'body': '@metabase-bot backport release-x.48.x', 'created_at': datetime.datetime(2024, 3, 21, 7, 33, 33, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-18 20:29:49 UTC): @snoe Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

WiNloSt on (2024-03-21 07:33:33 UTC): @metabase-bot backport release-x.48.x

"
2192804385,pull_request,closed,,"create ui for the full embedding homepage, without any logic","Part of  [[Epic] Initial homepage experience for embedding admins](https://github.com/metabase/metabase/issues/40005)

### Description

This only adds the ""dumb"" UI, all the logic and tests will come in separate PRs

Note that I'm currently importing `List` from `mantine`, I'll open a PR to re-export it from `metabase/ui` (see [slack](https://metaboat.slack.com/archives/C057WD5L0JG/p1710772511289899)) and to also fix the numbers not showing up without the inline style.

### How to verify

- `yarn storybook`
- open http://localhost:6006/?path=/story/features-embedhomepage--default
- play around with the controls

",npretto,2024-03-18 17:10:12+00:00,['npretto'],2024-03-20 15:11:25+00:00,2024-03-20 14:31:05+00:00,https://github.com/metabase/metabase/pull/40251,"[('.Team/Embedding', '')]","[{'comment_id': 2007239128, 'issue_id': 2192804385, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 6710930a62d107d1532c6961968042c60f0e48b0...25fb1b4ed3798d365bbe82968597a85c5f880b32.\n\n| Notify | File(s) |\n|-|-|\n| @ranquild | frontend/src/metabase/home/components/EmbedHomepage/EmbedHomepage.stories.tsx<br>frontend/src/metabase/home/components/EmbedHomepage/EmbedHomepage.tsx<br>frontend/src/metabase/home/components/EmbedHomepage/EmbedHomepageView.tsx<br>frontend/src/metabase/home/components/EmbedHomepage/InteractiveTabContent.tsx<br>frontend/src/metabase/home/components/EmbedHomepage/StaticTabContent.tsx<br>frontend/src/metabase/home/components/EmbedHomepage/index.ts |', 'created_at': datetime.datetime(2024, 3, 19, 13, 52, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2007266007, 'issue_id': 2192804385, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/6fdba6ea-1ca7-4e0b-b64d-ac60ba8ea946"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>25fb1b4ed3798d365bbe82968597a85c5f880b32</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2367 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 14, 2, 36, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-19 13:52:23 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 6710930a62d107d1532c6961968042c60f0e48b0...25fb1b4ed3798d365bbe82968597a85c5f880b32.

| Notify | File(s) |
|-|-|
| @ranquild | frontend/src/metabase/home/components/EmbedHomepage/EmbedHomepage.stories.tsx<br>frontend/src/metabase/home/components/EmbedHomepage/EmbedHomepage.tsx<br>frontend/src/metabase/home/components/EmbedHomepage/EmbedHomepageView.tsx<br>frontend/src/metabase/home/components/EmbedHomepage/InteractiveTabContent.tsx<br>frontend/src/metabase/home/components/EmbedHomepage/StaticTabContent.tsx<br>frontend/src/metabase/home/components/EmbedHomepage/index.ts |

replay-io[bot] on (2024-03-19 14:02:36 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/6fdba6ea-1ca7-4e0b-b64d-ac60ba8ea946"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>25fb1b4ed3798d365bbe82968597a85c5f880b32</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2367 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2192624126,pull_request,closed,,"ü§ñ backported ""Comment out failing time-interval-expression-test""",#40238,metabase-bot[bot],2024-03-18 16:01:52+00:00,['bshepherdson'],2024-03-19 07:44:21+00:00,2024-03-19 07:41:13+00:00,https://github.com/metabase/metabase/pull/40249,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2006065290, 'issue_id': 2192624126, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/9d1cd87c-9641-43a9-b955-297f3e371ecf"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 53 / 54</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>7ef168b4ca1554fc82da59a3bd55472ff55c73e1</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2110 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 7, 20, 19, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-19 07:20:19 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/9d1cd87c-9641-43a9-b955-297f3e371ecf"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 53 / 54</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>7ef168b4ca1554fc82da59a3bd55472ff55c73e1</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2110 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2192498042,pull_request,closed,,"adding a new section ""How x-ray works""","
Description:
This PR introduces a succinct ""How X-rays Work"" section to the Metabase documentation, responding to customer inquiries about understanding how X-rays work.


Project link: https://www.notion.so/metabase/project-Documenting-X-rays-and-Semantic-Types-02ff4b7b5e0d4603ab262cf4664844ae?pvs=4 

",abdhabli,2024-03-18 15:15:00+00:00,['abdhabli'],2024-03-21 09:42:30+00:00,2024-03-21 09:41:49+00:00,https://github.com/metabase/metabase/pull/40248,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2011761261, 'issue_id': 2192498042, 'author': 'github-actions[bot]', 'body': '@abdhabli Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 21, 9, 42, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2011762144, 'issue_id': 2192498042, 'author': 'abdhabli', 'body': 'Thanks, Jeff and Alex!', 'created_at': datetime.datetime(2024, 3, 21, 9, 42, 29, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-21 09:42:01 UTC): @abdhabli Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

abdhabli (Issue Creator) on (2024-03-21 09:42:29 UTC): Thanks, Jeff and Alex!

"
2192414885,pull_request,closed,,"ü§ñ backported ""Comment out failing time-interval-expression-test""",#40238,metabase-bot[bot],2024-03-18 14:42:43+00:00,['calherries'],2024-03-18 15:22:13+00:00,2024-03-18 15:22:12+00:00,https://github.com/metabase/metabase/pull/40246,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2192409200,pull_request,closed,,Remove instance settings from error diagnostics,"### Description

We were perhaps a little over-inclusive in the information we included in our diagnostic information download. This removes instance settings from that download.

![Screen Shot 2024-03-18 at 8 27 20 AM](https://github.com/metabase/metabase/assets/30528226/6344f310-1758-4e83-a075-049511fa0ca2)

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",iethree,2024-03-18 14:40:21+00:00,['iethree'],2024-03-19 13:59:09+00:00,2024-03-19 13:58:57+00:00,https://github.com/metabase/metabase/pull/40245,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2004130639, 'issue_id': 2192409200, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/cc1eca9e-1103-474a-b218-0323d346b012"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 50 / 52</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>1b595e3219067737c7bd5096f2826c10d394f0a9</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2332 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 18, 14, 51, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2007256500, 'issue_id': 2192409200, 'author': 'github-actions[bot]', 'body': '@iethree Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 19, 13, 59, 8, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-18 14:51:56 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/cc1eca9e-1103-474a-b218-0323d346b012"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 50 / 52</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>1b595e3219067737c7bd5096f2826c10d394f0a9</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2332 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-19 13:59:08 UTC): @iethree Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2192381043,pull_request,closed,,"ü§ñ backported ""E2E test coverage for ""Highlight the selected data source in the notebook editor"" project""",#40199,metabase-bot[bot],2024-03-18 14:29:28+00:00,['nemanjaglumac'],2024-03-19 21:17:09+00:00,2024-03-19 21:17:08+00:00,https://github.com/metabase/metabase/pull/40243,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2004104545, 'issue_id': 2192381043, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/e7486c30-c386-493d-9664-f6a56a4010e9"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>711f2b2327bc62fe7b70a365f83e15b789f7a37b</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2347 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 18, 14, 41, 19, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-18 14:41:19 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/e7486c30-c386-493d-9664-f6a56a4010e9"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>711f2b2327bc62fe7b70a365f83e15b789f7a37b</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2347 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2192378628,pull_request,closed,,Backport security fixes,"Backport #39286, #39321, #39857",piranha,2024-03-18 14:28:27+00:00,['piranha'],2024-03-18 15:25:45+00:00,2024-03-18 15:25:44+00:00,https://github.com/metabase/metabase/pull/40242,"[('.Team/Workflows', 'aka BEC'), ('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2004116015, 'issue_id': 2192378628, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/f26cc634-01e3-4679-a6a2-be52795f2b9d"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>a295678937f12408e48ccb599e611c92a625a165</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2109 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 18, 14, 46, 12, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-18 14:46:12 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/f26cc634-01e3-4679-a6a2-be52795f2b9d"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>a295678937f12408e48ccb599e611c92a625a165</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2109 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2192299953,pull_request,closed,,Comment out failing time-interval-expression-test,"`time-interval-expression-test` has started to fail consistently on master and the 49 branch.

The test is flawed and only worked by coincidence when the test was added in February.

It uses `checkins:1-per-day`, which has this docstring:
""Dynamically generated dataset with 30 checkins spaced 24 hours apart, from 15 days ago to 14 days in the future.""

And then goes on to test a query that has filters with `(lib/time-interval ... :current :quarter)`.

The problem is the current quarter, which ends on March 31, is 13 days in the future.

I've commented out the test for now, and will leave fixing the test to the QPD team.",calherries,2024-03-18 13:58:38+00:00,['calherries'],2024-03-18 16:01:10+00:00,2024-03-18 14:41:51+00:00,https://github.com/metabase/metabase/pull/40238,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2004106451, 'issue_id': 2192299953, 'author': 'github-actions[bot]', 'body': '@calherries Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 18, 14, 42, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2004320763, 'issue_id': 2192299953, 'author': 'bshepherdson', 'body': '@metabase-bot backport release-x.48.x', 'created_at': datetime.datetime(2024, 3, 18, 16, 1, 9, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-18 14:42:04 UTC): @calherries Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

bshepherdson on (2024-03-18 16:01:09 UTC): @metabase-bot backport release-x.48.x

"
2192293460,pull_request,closed,,save progress on dashboard,"> [!IMPORTANT]
> If you are merging into master, please add either a `backport` or a `no-backport` label to this PR. You will not be able to merge until you do this step. Refer to the section [Do I need to backport this PR?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#89f80d6f17714a0198aeb66c0efd1b71) in the Metabase Branching Strategy document for more details.

> **Warning**
>
> If that is your first contribution to Metabase, please sign the [Contributor License Agreement](https://docs.google.com/a/metabase.com/forms/d/1oV38o7b9ONFSwuzwmERRMi9SYrhYeOrkbmNaq9pOJ_E/viewform) (unless it's a tiny documentation change). Also, if you're attempting to fix a translation issue, please submit your changes to our [POEditor project](https://poeditor.com/join/project/ynjQmwSsGh) instead of opening a PR.

Closes https://github.com/metabase/metabase/issues/[issue_number]

### Description

Describe the overall approach and the problem being solved.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> ...
2. ...

### Demo

_Upload a demo video or before/after screenshots if sensible or remove the section_

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",oisincoveney,2024-03-18 13:56:28+00:00,['oisincoveney'],2024-04-02 08:56:12+00:00,2024-04-02 08:56:12+00:00,https://github.com/metabase/metabase/pull/40237,"[('.Team/Embedding', '')]",[],
2192179027,pull_request,closed,,[E2E] Refactor question commands to function helpers,"### Description

This PR marks the beginning of an effort to use function helpers instead of custom Cypress commands.
By migrating custom Cypress commands to function helpers we will be able to organize the helpers in any way we want, particularly in a way that will improve their discoverability (which affects the learning curve and convenience when writing tests).

----

While it's not clear how we would organize these helpers yet, we know that it'd be good to:
- make UI helpers (functions that ""click"" through the UI) clearly distinguishable from API helpers (functions that call API endpoints)
- have helpers related to particular entities live closely
- have helpers related to particular pages live closely


----

There's one more positive consequence (see line 234 in `notebook-data-source.cy.spec.ts`).
It's sometimes convenient to define objects (e.g. `questionDetails`) using types defined for arguments of custom commands/helper functions. When working with custom commands, getting references to those types is cumbersome, we can either:
- `const questionDetails: Parameters<typeof cy.createQuestion>[0];`
- import the type by referencing the file with custom command (`import { QuestionDetails } from ""e2e/support/commands/question""`)
- or define the type for command argument somewhere else (no good place for it; type for function argument should live next to the function anyway)

But once we turn a custom command into a function helper, it feels natural to import the type along with the function (`import { createQuestion, QuestionDetails } from ""e2e/support/helpers""`), similarly to how we do it with component props sometimes.

----

This PR:
- Refactors `cy.createQuestion`, `cy.createNativeQuestion` and `cy.archiveQuestion` to function helpers
- Deprecates `cy.createQuestion` and `cy.createNativeQuestion` commands
- Replaces `cy.createQuestion` usages in TS files with `createQuestion`
- Replaces the only `cy.archiveQuestion` usage with `archiveQuestion`
- Removes `cy.archiveQuestion`
",kamilmielnik,2024-03-18 13:16:27+00:00,['kamilmielnik'],2024-03-19 14:19:48+00:00,2024-03-19 11:36:35+00:00,https://github.com/metabase/metabase/pull/40236,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2003920354, 'issue_id': 2192179027, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/726a2b81-06f4-4f71-b1c5-8a9f4fb3c1ed"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>dcde43ee348f5bb5a1ee07085765b2e36cec93cd</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2370 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 18, 13, 33, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 2006952003, 'issue_id': 2192179027, 'author': 'github-actions[bot]', 'body': '@kamilmielnik Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 19, 11, 36, 50, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-18 13:33:49 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/726a2b81-06f4-4f71-b1c5-8a9f4fb3c1ed"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>dcde43ee348f5bb5a1ee07085765b2e36cec93cd</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2370 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-19 11:36:50 UTC): @kamilmielnik Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2192175272,pull_request,closed,,Upload CSVs: Rename boolean-or-int to boolean-int,"This PR comes from a moment of confusion where I forgot whether `boolean-or-int` includes true and false, and I had to check.

The reason for the confusion is the name: `boolean-or-int` could be interpreted to mean ""the union of boolean and integer values"". But actually the meaning is ""the intersection of boolean and integer values"".

I had the same confusion when I saw the `float-or-int` type in https://github.com/metabase/metabase/pull/39724.

This PR proposes a new name: `boolean-int`. 

It is more precise, unambiguous, and fits the intuition from English. In English, ""true"" is definitely not a ""boolean integer"", but ""0"" is.",calherries,2024-03-18 13:14:46+00:00,['calherries'],2024-03-18 19:19:25+00:00,2024-03-18 15:48:00+00:00,https://github.com/metabase/metabase/pull/40235,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2003901955, 'issue_id': 2192175272, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/3a2a5d07-ec88-4c8a-a479-0291d5be793d"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>8c7fb89bdae95712dbcf911e92e2cd64db64957b</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>5 Flaky</b></div>\n<div>‚úÖ <b>2359 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 18, 13, 26, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 2004122233, 'issue_id': 2192175272, 'author': 'crisptrutski', 'body': 'I\'ve actually had the same brain fart, so I sympathize. I\'m totally open to renaming.\r\n\r\nWhile I agree that the naming is ambiguous, I disagree that it\'s imprecise. It has a crisp interpretation, which is intuitive when looking at it from the right perspective.\r\n\r\n1. Every raw value must be assigned to some specific Value Type\r\n2. Certain raw values may support parsing as any number multiple Column Types.\r\n3. Eventually we must choose exactly one Column Type to parse the value as.\r\n\r\nIn this sense the ""or"" is the natural joining clause for the set in 2, corresponding to an ""exclusive or"" for selection that must be made in 3.\r\n\r\n---\r\n\r\nThe sense you explain thinking of ""true"" as as a being the union (""inclusive or"") from the dual perspective of sets is another way of thinking of things. In programming `or` always corresponds to ""inclusive or"", so it makes some sense to come from that angle, but I\'d argue that it\'s less natural, intuitive and less general to do so.\r\n\r\nTo get into it I should quickly lay out how I think about the type correspondences.\r\n\r\n(Update: it was not at all quick to lay this out in the end)\r\n\r\nIt can be natural to identify types with the set of their members. For example the Column Types can be identified with set of raw values that can parse to it, i.e. the set of values its parser won\'t throw an error for. \r\n\r\n*The fact that each column type can be **uniquely** identified by this set of raw values currently is nice, but there\'s no fundamental reason this holds for our domain - one can imagine distinct database column types which correspond to the exact same set of of  values, e.g. JSON and BSON.*\r\n\r\nThere\'s an interesting correspondence `C` we can create between most value types `V` and each concrete type `c`, where `R` is the set of all raw values. This correspondence\r\n\r\n1. $`\\left\\{c(V)\\right\\} = \\bigcap_{v \\in V} C(v)`$\r\n2. $`V = \\left\\{ v \\in R \\mid c(V) \\in C(v)    \\right\\}`$\r\n\r\nTo rephrase in less precise language, which at least to me is less clear:\r\n\r\n1. The column type corresponding to a value type is the unique type in the intersection of the column types for all the elements of the given value type.\r\n2. The value corresponding to a column type is given by the set of all values whose column type includes itself.\r\n\r\nObviously the correspondence only exists when the intersection in 1 is a singleton, but a key property is that whenever 1 is true, the reflexive condition in 2 is also satisfied.\r\n\r\nAlmost every Value Type has this correspondence, and the vast majority of raw value have such a Value Type. We call all such Value Types ""concrete"", and all other types are ""abstract"". Currently we have only 1 such abstract type in master, the one you\'re renaming, and then the closely related `float-or-int` being discussed in a PR.\r\n\r\nPhew, that was harder to explain than I expected. Just the way I\'ve been thinking about things intuitively ü§∑ \r\n\r\nBoth of these ""abstract types"" have members which correspond to the intersection of two ""concrete types"". While it was a bit formal to get here, I think this framing is where your intuition comes from - an `or` typically corresponds to a *union* rather an intersection, and so this set would instead include values like `true` and `2`. \r\n\r\nGiven this outlook, you could imagine rather calling these types `boolean-and-int` or `float-and-int`. This is similarly precise, and from a certain angle more intuitive.\r\n\r\nI hold out that it\'s natural to think of other abstract types that require other set operations, like the set `explicit-int` being the complement of `float-or-int` within `int`. I\'ll have more to say on that on the other PR thread üòÑ \r\n\r\nWhen in a certain frame of mind, I find this more intuitive, but when dealing with the code I\'m typically dealing with the values, and argue it is less natural.\r\n\r\nI don\'t like using this kind of set intuition for the following reasons:\r\n\r\n1. Identifying column types with their raw or logical values could break down.\r\n3. The 1-1 correspondence between value and column types could break down.\r\n4. The reflexive condition on the correspondence could break down.\r\n5. We could find ourselves dealing with more sets that aren\'t just intersections.\r\n\r\n---\r\n\r\nRegarding the proposal to simply strip out the conjunction, I think that\'s the worst of all worlds. One needs to guess at the relationship between the nouns, and one needs to also assume that it\'s the only relation we\'ll every have. It could also be ambiguous with column types that themselves are compound.', 'created_at': datetime.datetime(2024, 3, 18, 14, 48, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2004140445, 'issue_id': 2192175272, 'author': 'crisptrutski', 'body': 'The TLDR is that I think the strong correspondence we have between value types and column types right now is a bit flimsy, and I think the way you tripped up relies on thinking primarily in terms of that correspondence.', 'created_at': datetime.datetime(2024, 3, 18, 14, 55, 56, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-18 13:26:28 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/3a2a5d07-ec88-4c8a-a479-0291d5be793d"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>8c7fb89bdae95712dbcf911e92e2cd64db64957b</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>5 Flaky</b></div>
<div>‚úÖ <b>2359 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

crisptrutski on (2024-03-18 14:48:57 UTC): I've actually had the same brain fart, so I sympathize. I'm totally open to renaming.

While I agree that the naming is ambiguous, I disagree that it's imprecise. It has a crisp interpretation, which is intuitive when looking at it from the right perspective.

1. Every raw value must be assigned to some specific Value Type
2. Certain raw values may support parsing as any number multiple Column Types.
3. Eventually we must choose exactly one Column Type to parse the value as.

In this sense the ""or"" is the natural joining clause for the set in 2, corresponding to an ""exclusive or"" for selection that must be made in 3.

---

The sense you explain thinking of ""true"" as as a being the union (""inclusive or"") from the dual perspective of sets is another way of thinking of things. In programming `or` always corresponds to ""inclusive or"", so it makes some sense to come from that angle, but I'd argue that it's less natural, intuitive and less general to do so.

To get into it I should quickly lay out how I think about the type correspondences.

(Update: it was not at all quick to lay this out in the end)

It can be natural to identify types with the set of their members. For example the Column Types can be identified with set of raw values that can parse to it, i.e. the set of values its parser won't throw an error for. 

*The fact that each column type can be **uniquely** identified by this set of raw values currently is nice, but there's no fundamental reason this holds for our domain - one can imagine distinct database column types which correspond to the exact same set of of  values, e.g. JSON and BSON.*

There's an interesting correspondence `C` we can create between most value types `V` and each concrete type `c`, where `R` is the set of all raw values. This correspondence

1. $`\left\{c(V)\right\} = \bigcap_{v \in V} C(v)`$
2. $`V = \left\{ v \in R \mid c(V) \in C(v)    \right\}`$

To rephrase in less precise language, which at least to me is less clear:

1. The column type corresponding to a value type is the unique type in the intersection of the column types for all the elements of the given value type.
2. The value corresponding to a column type is given by the set of all values whose column type includes itself.

Obviously the correspondence only exists when the intersection in 1 is a singleton, but a key property is that whenever 1 is true, the reflexive condition in 2 is also satisfied.

Almost every Value Type has this correspondence, and the vast majority of raw value have such a Value Type. We call all such Value Types ""concrete"", and all other types are ""abstract"". Currently we have only 1 such abstract type in master, the one you're renaming, and then the closely related `float-or-int` being discussed in a PR.

Phew, that was harder to explain than I expected. Just the way I've been thinking about things intuitively ü§∑ 

Both of these ""abstract types"" have members which correspond to the intersection of two ""concrete types"". While it was a bit formal to get here, I think this framing is where your intuition comes from - an `or` typically corresponds to a *union* rather an intersection, and so this set would instead include values like `true` and `2`. 

Given this outlook, you could imagine rather calling these types `boolean-and-int` or `float-and-int`. This is similarly precise, and from a certain angle more intuitive.

I hold out that it's natural to think of other abstract types that require other set operations, like the set `explicit-int` being the complement of `float-or-int` within `int`. I'll have more to say on that on the other PR thread üòÑ 

When in a certain frame of mind, I find this more intuitive, but when dealing with the code I'm typically dealing with the values, and argue it is less natural.

I don't like using this kind of set intuition for the following reasons:

1. Identifying column types with their raw or logical values could break down.
3. The 1-1 correspondence between value and column types could break down.
4. The reflexive condition on the correspondence could break down.
5. We could find ourselves dealing with more sets that aren't just intersections.

---

Regarding the proposal to simply strip out the conjunction, I think that's the worst of all worlds. One needs to guess at the relationship between the nouns, and one needs to also assume that it's the only relation we'll every have. It could also be ambiguous with column types that themselves are compound.

crisptrutski on (2024-03-18 14:55:56 UTC): The TLDR is that I think the strong correspondence we have between value types and column types right now is a bit flimsy, and I think the way you tripped up relies on thinking primarily in terms of that correspondence.

"
2192170336,pull_request,closed,,[E2E] Refactor question commands to function helpers,"### Description

- Refactors `cy.createQuestion` and `cy.createNativeQuestion` to function helpers
- Deprecates `cy.createQuestion` and `cy.createNativeQuestion` commands
- [ ] Uses new function helpers in TS e2e tests
- Replaces the only `cy.archiveQuestion` usage with `archiveQuestion`
- Removes `cy.archiveQuestion`
",kamilmielnik,2024-03-18 13:12:32+00:00,['kamilmielnik'],2024-03-18 13:47:25+00:00,2024-03-18 13:13:12+00:00,https://github.com/metabase/metabase/pull/40234,"[('.Team/Querying', '')]","[{'comment_id': 2003900408, 'issue_id': 2192170336, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/2a4e2e44-d886-4851-bb1a-c93977f74355"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>0db9085e760e5e511dc9478058a06649571d76c8</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2263 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 18, 13, 25, 42, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-18 13:25:42 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/2a4e2e44-d886-4851-bb1a-c93977f74355"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>0db9085e760e5e511dc9478058a06649571d76c8</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2263 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2192145618,pull_request,closed,,"Revert ""Revert updating FKs during metadata sync (#39679) (#39924)""","My hunch was wrong that reverting https://github.com/metabase/metabase/pull/39679 would solve the flake, so this PR reverts the revert I made in https://github.com/metabase/metabase/pull/39924.

This is the flake fix https://github.com/metabase/metabase/pull/40291

",calherries,2024-03-18 13:01:32+00:00,['calherries'],2024-03-19 16:59:22+00:00,2024-03-19 16:59:06+00:00,https://github.com/metabase/metabase/pull/40233,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2003874609, 'issue_id': 2192145618, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/fbd91409-f927-423f-824e-1928e8494b67"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 53 / 54</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>1f20bcf8dbd58740e0477ada39770596e9e412e9</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2367 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 18, 13, 13, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 2007690043, 'issue_id': 2192145618, 'author': 'github-actions[bot]', 'body': '@calherries Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 19, 16, 59, 21, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-18 13:13:38 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/fbd91409-f927-423f-824e-1928e8494b67"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 53 / 54</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>1f20bcf8dbd58740e0477ada39770596e9e412e9</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2367 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-19 16:59:21 UTC): @calherries Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2192077370,pull_request,closed,,Fix mysql + liquibase flakes,Resolves #37884,piranha,2024-03-18 12:30:20+00:00,['piranha'],2024-03-19 09:28:17+00:00,2024-03-19 09:28:05+00:00,https://github.com/metabase/metabase/pull/40230,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2006489001, 'issue_id': 2192077370, 'author': 'github-actions[bot]', 'body': '@piranha Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 19, 9, 28, 16, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-19 09:28:16 UTC): @piranha Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2192039026,pull_request,closed,,[backport] update graalvm (#38218),backport of #38218 to close security issues in v0.48.*,piranha,2024-03-18 12:13:05+00:00,['piranha'],2024-03-18 13:51:17+00:00,2024-03-18 13:51:16+00:00,https://github.com/metabase/metabase/pull/40229,"[('.Team/Workflows', 'aka BEC'), ('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2003780670, 'issue_id': 2192039026, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/b5d69835-1e92-4791-a5b7-561112ee2732"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>7b7045218808bbc2df482ca071262baa463e189f</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>1 Failed</b></div>\n<div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2106 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 18, 12, 27, 13, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-18 12:27:13 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/b5d69835-1e92-4791-a5b7-561112ee2732"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>7b7045218808bbc2df482ca071262baa463e189f</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>1 Failed</b></div>
<div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2106 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2192024166,pull_request,closed,,Convert `animation.module.css` to CSS modules,"### Description

Converts `animation.module.css` to CSS modules. Since there's only one component that uses this class, it might make more sense to convert it to `ProgressBar.module.css` but let's see what others think.

### How to verify

This component is used in the static visualizations - I'm not totally sure how to verify these, but for whatever reason I wasn't able to get the animation working on master or on this branch. Let me know if somebody might know how to test this.",oisincoveney,2024-03-18 12:05:56+00:00,['oisincoveney'],2024-03-21 14:25:45+00:00,2024-03-21 14:25:30+00:00,https://github.com/metabase/metabase/pull/40228,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', '')]","[{'comment_id': 2003737432, 'issue_id': 2192024166, 'author': 'oisincoveney', 'body': '* **#40228** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40228?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @oisincoveney and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 18, 12, 6, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2003763166, 'issue_id': 2192024166, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/52e50cdb-6952-4802-bf6f-eed775aca32a"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>e87111fa79a83021d17037539aaf382f4f5d4d6f</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>8 Flaky</b></div>\n<div>‚úÖ <b>2365 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 18, 12, 18, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2012440006, 'issue_id': 2192024166, 'author': 'github-actions[bot]', 'body': '@oisincoveney Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 21, 14, 25, 43, tzinfo=datetime.timezone.utc)}]","oisincoveney (Issue Creator) on (2024-03-18 12:06:09 UTC): * **#40228** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40228?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @oisincoveney and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

replay-io[bot] on (2024-03-18 12:18:09 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/52e50cdb-6952-4802-bf6f-eed775aca32a"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>e87111fa79a83021d17037539aaf382f4f5d4d6f</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>8 Flaky</b></div>
<div>‚úÖ <b>2365 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-21 14:25:43 UTC): @oisincoveney Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2192003637,pull_request,closed,,"ü§ñ backported ""Disable saving models without up-to-date result_metadata""","  #40087
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",metabase-bot[bot],2024-03-18 11:56:12+00:00,['ranquild'],2024-03-18 12:32:59+00:00,2024-03-18 12:32:58+00:00,https://github.com/metabase/metabase/pull/40227,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2003748595, 'issue_id': 2192003637, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/ebbb9818-8b2e-412f-a0f3-d0d4df67d6e0"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>c25229e4571a88e9f432d7d2ca30b7d392275597</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2336 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 18, 12, 11, 34, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-18 12:11:34 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/ebbb9818-8b2e-412f-a0f3-d0d4df67d6e0"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>c25229e4571a88e9f432d7d2ca30b7d392275597</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2336 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2191688900,pull_request,closed,,"Provide more room for the ""expected behavior"" in bug reports","The ""Expected behavior"" in a bug report form was initially coded as a regular input field. It's often not enough, so we're changing that to the textarea in this PR.

This should encourage people to write better bug reports.",nemanjaglumac,2024-03-18 09:37:26+00:00,['nemanjaglumac'],2024-03-18 09:43:43+00:00,2024-03-18 09:43:30+00:00,https://github.com/metabase/metabase/pull/40222,"[('.CI & Tests', ''), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2003354692, 'issue_id': 2191688900, 'author': 'github-actions[bot]', 'body': '@nemanjaglumac Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 18, 9, 43, 41, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-18 09:43:41 UTC): @nemanjaglumac Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2191528894,pull_request,closed,,Support appending new CSV fields (#39951),"This is a recreated merge of #39951, with no additional changes.

For some reason the Graphite merge blocker didn't work, and this was prematurely merged into its [parent](https://github.com/metabase/metabase/pull/39944) before its auto-merge had triggered.

I'd like to keep the commits separate, so I reverted its parent and created this new PR.",crisptrutski,2024-03-18 08:27:24+00:00,['crisptrutski'],2024-03-18 18:22:03+00:00,2024-03-18 18:21:46+00:00,https://github.com/metabase/metabase/pull/40220,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2003204577, 'issue_id': 2191528894, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/9bc477ac-6e56-4d98-89ec-8a70f81d6936"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>2a7d46f9a4a4381f6d288d1b5591b4fa60bde225</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2366 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 18, 8, 38, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2004146671, 'issue_id': 2191528894, 'author': 'crisptrutski', 'body': '* **#40220** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40220?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* **#39944** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39944?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 1 other dependent PR ([#39951](https://github.com/metabase/metabase/pull/39951) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39951?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>)\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 18, 14, 58, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 2004632228, 'issue_id': 2191528894, 'author': 'github-actions[bot]', 'body': '@crisptrutski Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 18, 18, 22, 2, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-18 08:38:51 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/9bc477ac-6e56-4d98-89ec-8a70f81d6936"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>2a7d46f9a4a4381f6d288d1b5591b4fa60bde225</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2366 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

crisptrutski (Issue Creator) on (2024-03-18 14:58:35 UTC): * **#40220** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40220?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* **#39944** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39944?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 1 other dependent PR ([#39951](https://github.com/metabase/metabase/pull/39951) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39951?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>)
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

github-actions[bot] on (2024-03-18 18:22:02 UTC): @crisptrutski Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2191465907,pull_request,closed,,[M1] Metabase illustration settings,"Milestone 1 branch of #39246
[Product doc](https://www.notion.so/metabase/Let-white-labeling-customers-customize-illustrations-24e120498d5f414aaf52ddd0de9e20fc)
[Figma design](https://www.figma.com/file/yOksAHQ5ih6ospZd6f3RVc/Let-white-labeling-customers-customize-illustrations?type=design&node-id=1486-122158&mode=design&t=sKXiTjXPk4lqncYe-0)

This integration PR contains 5 other PRs for milestone 1 which are all approved and merged to this branch.

There are some merge conflict fixes that are introduced directly to this branch, but they're mostly global CSS migration conflicts.

### How to verify
We add 4 new illustration settings here.
1. Login and unsubscribe pages
    - Test login page with different illustration options
    - Test unsubscribe page with different illustration options. You can access the unsubscribe page here http://localhost:3000/unsubscribe?hash=hash&email=email&pulse-id=pulse-id
1. Landing page (aka home page)
    - Test home page with different illustration options
1. When calculations return no results. This is for query results.
    - Question that returns no results
    - A card in a dashboard that returns no results.
1. When no objects can be found. This is for anything that's not query results e.g. any entity that couldn't be found
    - Search app
    - Collection picker -> Search
    - Collection picker -> select an empty collection
",WiNloSt,2024-03-18 07:51:06+00:00,['WiNloSt'],2024-04-03 08:08:07+00:00,2024-04-03 08:07:55+00:00,https://github.com/metabase/metabase/pull/40219,"[('visual', 'Run Percy visual testing'), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', '')]","[{'comment_id': 2012755310, 'issue_id': 2191465907, 'author': 'WiNloSt', 'body': '* **#40219** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40219?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 3  dependent PRs ([#40139](https://github.com/metabase/metabase/pull/40139) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40139?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#40487](https://github.com/metabase/metabase/pull/40487) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40487?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#40491](https://github.com/metabase/metabase/pull/40491) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40491?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>) üëà\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @WiNloSt and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 21, 15, 55, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2026833544, 'issue_id': 2191465907, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 589a665eb4385fe91256d2a805e99c3b008e9747...e67f6ac5a787a46a3e34d6d57765f2ebc2cffce4.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/Visualization/NoResultsView/NoResultsView.tsx |\n| @kdoh | frontend/src/metabase/ui/components/data-display/Image/index.tsx |\n| @ranquild | enterprise/frontend/src/metabase-enterprise/whitelabel/components/IllustrationTitle.tsx<br>enterprise/frontend/src/metabase-enterprise/whitelabel/components/IllustrationWidget/IllustrationWidget.styled.tsx<br>enterprise/frontend/src/metabase-enterprise/whitelabel/components/IllustrationWidget/IllustrationWidget.tsx<br>enterprise/frontend/src/metabase-enterprise/whitelabel/components/IllustrationWidget/IllustrationWidget.unit.spec.tsx<br>enterprise/frontend/src/metabase-enterprise/whitelabel/components/IllustrationWidget/index.ts<br>enterprise/frontend/src/metabase-enterprise/whitelabel/components/ImageToggle/ImageToggle.tsx<br>enterprise/frontend/src/metabase-enterprise/whitelabel/components/ImageToggle/index.ts<br>enterprise/frontend/src/metabase-enterprise/whitelabel/components/ImageUploadInfoDot.tsx<br>enterprise/frontend/src/metabase-enterprise/whitelabel/components/LighthouseToggleWidget/LighthouseToggleWidget.tsx<br>enterprise/frontend/src/metabase-enterprise/whitelabel/components/MetabotToggleWidget/MetabotToggleWidget.tsx<br>enterprise/frontend/src/metabase-enterprise/whitelabel/components/MetabotToggleWidget/MetabotToggleWidget.unit.spec.tsx<br>enterprise/frontend/src/metabase-enterprise/whitelabel/components/MetabotToggleWidget/index.ts<br>enterprise/frontend/src/metabase-enterprise/whitelabel/index.js<br>frontend/src/metabase/auth/components/AuthLayout/AuthLayout.styled.tsx<br>frontend/src/metabase/auth/components/AuthLayout/AuthLayout.tsx<br>frontend/src/metabase/home/components/HomeLayout/HomeLayout.styled.tsx<br>frontend/src/metabase/home/components/HomeLayout/HomeLayout.tsx |', 'created_at': datetime.datetime(2024, 3, 29, 8, 0, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2026845690, 'issue_id': 2191465907, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/fdb27d8c-f2b0-4005-97d6-f3ea3dd31bf0"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>e67f6ac5a787a46a3e34d6d57765f2ebc2cffce4</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2389 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 29, 8, 11, 5, tzinfo=datetime.timezone.utc)}, {'comment_id': 2033848172, 'issue_id': 2191465907, 'author': 'WiNloSt', 'body': ""> Nit: when changing the no-results images to a custom one or to no-image, I found I had to hard refresh to see that take effect. Must've been cached.\r\n\r\nI couldn't reproduce this after updating the branch with the latest `master`.\r\n\r\nI've tried both no calculation results and no object results and made sure I click exit admin, so the page won't reload and I could still see those image settings reflect on the app."", 'created_at': datetime.datetime(2024, 4, 3, 8, 7, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2033849505, 'issue_id': 2191465907, 'author': 'github-actions[bot]', 'body': '@WiNloSt Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 4, 3, 8, 8, 6, tzinfo=datetime.timezone.utc)}]","WiNloSt (Issue Creator) on (2024-03-21 15:55:13 UTC): * **#40219** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40219?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 3  dependent PRs ([#40139](https://github.com/metabase/metabase/pull/40139) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40139?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#40487](https://github.com/metabase/metabase/pull/40487) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40487?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#40491](https://github.com/metabase/metabase/pull/40491) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40491?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>) üëà
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @WiNloSt and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

github-actions[bot] on (2024-03-29 08:00:09 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 589a665eb4385fe91256d2a805e99c3b008e9747...e67f6ac5a787a46a3e34d6d57765f2ebc2cffce4.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/Visualization/NoResultsView/NoResultsView.tsx |
| @kdoh | frontend/src/metabase/ui/components/data-display/Image/index.tsx |
| @ranquild | enterprise/frontend/src/metabase-enterprise/whitelabel/components/IllustrationTitle.tsx<br>enterprise/frontend/src/metabase-enterprise/whitelabel/components/IllustrationWidget/IllustrationWidget.styled.tsx<br>enterprise/frontend/src/metabase-enterprise/whitelabel/components/IllustrationWidget/IllustrationWidget.tsx<br>enterprise/frontend/src/metabase-enterprise/whitelabel/components/IllustrationWidget/IllustrationWidget.unit.spec.tsx<br>enterprise/frontend/src/metabase-enterprise/whitelabel/components/IllustrationWidget/index.ts<br>enterprise/frontend/src/metabase-enterprise/whitelabel/components/ImageToggle/ImageToggle.tsx<br>enterprise/frontend/src/metabase-enterprise/whitelabel/components/ImageToggle/index.ts<br>enterprise/frontend/src/metabase-enterprise/whitelabel/components/ImageUploadInfoDot.tsx<br>enterprise/frontend/src/metabase-enterprise/whitelabel/components/LighthouseToggleWidget/LighthouseToggleWidget.tsx<br>enterprise/frontend/src/metabase-enterprise/whitelabel/components/MetabotToggleWidget/MetabotToggleWidget.tsx<br>enterprise/frontend/src/metabase-enterprise/whitelabel/components/MetabotToggleWidget/MetabotToggleWidget.unit.spec.tsx<br>enterprise/frontend/src/metabase-enterprise/whitelabel/components/MetabotToggleWidget/index.ts<br>enterprise/frontend/src/metabase-enterprise/whitelabel/index.js<br>frontend/src/metabase/auth/components/AuthLayout/AuthLayout.styled.tsx<br>frontend/src/metabase/auth/components/AuthLayout/AuthLayout.tsx<br>frontend/src/metabase/home/components/HomeLayout/HomeLayout.styled.tsx<br>frontend/src/metabase/home/components/HomeLayout/HomeLayout.tsx |

replay-io[bot] on (2024-03-29 08:11:05 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/fdb27d8c-f2b0-4005-97d6-f3ea3dd31bf0"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>e67f6ac5a787a46a3e34d6d57765f2ebc2cffce4</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2389 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

WiNloSt (Issue Creator) on (2024-04-03 08:07:43 UTC): I couldn't reproduce this after updating the branch with the latest `master`.

I've tried both no calculation results and no object results and made sure I click exit admin, so the page won't reload and I could still see those image settings reflect on the app.

github-actions[bot] on (2024-04-03 08:08:06 UTC): @WiNloSt Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2190467808,pull_request,closed,,Convert simple hydration to batched hydration,"closes https://github.com/metabase/metabase/issues/38993

I didn't convert all because some hydration is easier to write as a simple hydrations.

I also have [Detect N+1 hydration and throw an exception](https://github.com/metabase/metabase/pull/40272) to make sure we don't have N+1 with the remaining simple hydrations.",qnkhuat,2024-03-17 04:03:32+00:00,['qnkhuat'],2024-03-20 07:04:34+00:00,2024-03-20 05:36:32+00:00,https://github.com/metabase/metabase/pull/40217,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2002301182, 'issue_id': 2190467808, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/83f7e053-eeec-4d87-8109-219de045832b"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>3528a4e57df9773fcad1d5afdf425ccda5e550e7</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2369 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 17, 4, 14, 47, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-17 04:14:47 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/83f7e053-eeec-4d87-8109-219de045832b"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>3528a4e57df9773fcad1d5afdf425ccda5e550e7</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2369 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2189547853,pull_request,closed,,Question + Model Picker,"Closes https://github.com/metabase/metabase/issues/36376

### Description

Adds a question/model picker using the entity picker.

Used by
- dashboard card replacement
- dashboard placeholder cards
- sql/dashboard parameter sourcing sidebar
- sandboxing modal
- actions saving modal

![Screen Shot 2024-04-10 at 5 37 07 PM](https://github.com/metabase/metabase/assets/30528226/8b551af9-fd9b-4726-8ce0-67797710b36f)



### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",iethree,2024-03-15 22:14:43+00:00,['iethree'],2024-04-18 22:04:35+00:00,2024-04-18 15:25:05+00:00,https://github.com/metabase/metabase/pull/40207,"[('visual', 'Run Percy visual testing'), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2000582278, 'issue_id': 2189547853, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/56429934-19ac-4115-b0cd-564b0e02a3e2"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>f8e2612f6d1d1322bd97ada07a373fefc56440c6</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>12 Flaky</b></div>\n<div>‚úÖ <b>2397 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 15, 22, 26, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2045464027, 'issue_id': 2189547853, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 152ca0e5009b46f5a40ffbad15317ab433f12328...f8e2612f6d1d1322bd97ada07a373fefc56440c6.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/visualizations/DashCardPlaceholder.tsx |', 'created_at': datetime.datetime(2024, 4, 9, 15, 21, 22, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-15 22:26:14 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/56429934-19ac-4115-b0cd-564b0e02a3e2"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>f8e2612f6d1d1322bd97ada07a373fefc56440c6</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>12 Flaky</b></div>
<div>‚úÖ <b>2397 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-04-09 15:21:22 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 152ca0e5009b46f5a40ffbad15317ab433f12328...f8e2612f6d1d1322bd97ada07a373fefc56440c6.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/visualizations/DashCardPlaceholder.tsx |

"
2189459574,pull_request,closed,,/api/collection/:id/items gets `here` and `below`,"This code could probably use a refactor, but:

During postprocessing of `collection` children retrieved by `/api/collection/:id/items`, annotate each of the children with `below` and `here` keys representing the presence of questions, models, or collections at this level of the hierarchy or below it.",johnswanson,2024-03-15 20:57:54+00:00,['johnswanson'],2024-03-21 16:54:26+00:00,2024-03-21 16:54:14+00:00,https://github.com/metabase/metabase/pull/40203,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2000443177, 'issue_id': 2189459574, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/2162f1c4-26cb-4141-af0d-18ceff312bef"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>0614e1e82dbaebc14472cd531dde92d9eabfba9a</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>5 Flaky</b></div>\n<div>‚úÖ <b>2368 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 15, 21, 9, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2007326037, 'issue_id': 2189459574, 'author': 'iethree', 'body': 'backend part of https://github.com/metabase/metabase/issues/39432', 'created_at': datetime.datetime(2024, 3, 19, 14, 26, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 2012998066, 'issue_id': 2189459574, 'author': 'github-actions[bot]', 'body': '@johnswanson Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 21, 16, 54, 24, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-15 21:09:34 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/2162f1c4-26cb-4141-af0d-18ceff312bef"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>0614e1e82dbaebc14472cd531dde92d9eabfba9a</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>5 Flaky</b></div>
<div>‚úÖ <b>2368 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

iethree on (2024-03-19 14:26:09 UTC): backend part of https://github.com/metabase/metabase/issues/39432

github-actions[bot] on (2024-03-21 16:54:24 UTC): @johnswanson Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2189408476,pull_request,closed,,"ü§ñ backported ""Re-export Mantine `rem` util""",Backport of  #40184 with the manual conflict resolution.,metabase-bot[bot],2024-03-15 20:22:03+00:00,['nemanjaglumac'],2024-03-18 16:11:04+00:00,2024-03-18 16:11:03+00:00,https://github.com/metabase/metabase/pull/40202,"[('visual', 'Run Percy visual testing'), ('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2002351414, 'issue_id': 2189408476, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 0ce9022f6c9d33bd2fdae1097e7114d254d394ca...23a7aaead7854b2845d95a251ce5571772313a79.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/visualizations/SmartScalar/SettingsComponents/ComparisonPicker.tsx<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/SettingsComponents/PeriodsAgoMenuOption.tsx |\n| @kdoh | frontend/src/metabase/ui/index.ts |', 'created_at': datetime.datetime(2024, 3, 17, 7, 57, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2002354978, 'issue_id': 2189408476, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/edda361d-1729-412d-b0bb-cabe30058e57"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>23a7aaead7854b2845d95a251ce5571772313a79</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2333 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 17, 8, 8, 39, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-17 07:57:23 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 0ce9022f6c9d33bd2fdae1097e7114d254d394ca...23a7aaead7854b2845d95a251ce5571772313a79.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/visualizations/SmartScalar/SettingsComponents/ComparisonPicker.tsx<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/SettingsComponents/PeriodsAgoMenuOption.tsx |
| @kdoh | frontend/src/metabase/ui/index.ts |

replay-io[bot] on (2024-03-17 08:08:39 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/edda361d-1729-412d-b0bb-cabe30058e57"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>23a7aaead7854b2845d95a251ce5571772313a79</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2333 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2189407062,pull_request,closed,,"Fix normalized, stacked bar tooltip names","- Closes: https://github.com/metabase/metabase/issues/39590

### Before

**Non-normalized Stacking**

![image](https://github.com/metabase/metabase/assets/22608765/0816af3f-88b0-48e7-825a-5e2ba9ceb8bc)

**Normalized Stacking**

![image](https://github.com/metabase/metabase/assets/22608765/8f635e9b-be64-411b-b375-e1fe0f8b4e6b)


### After

**Non-normalized Stacking**

![image](https://github.com/metabase/metabase/assets/22608765/8664c522-c5d2-43a0-b1e9-8b24c9038a94)


**Normalized Stacking**

![image](https://github.com/metabase/metabase/assets/22608765/90cba7ab-cc54-4031-b0d8-1879533379c9)
",JesseSDevaney,2024-03-15 20:20:55+00:00,['JesseSDevaney'],2024-03-19 17:41:06+00:00,2024-03-19 17:41:06+00:00,https://github.com/metabase/metabase/pull/40201,"[('visual', 'Run Percy visual testing'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2000389837, 'issue_id': 2189407062, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 6fa9ff3a63ae2fe4ab03a7ce53c47a861d178824...a776c895573c96d568b6624f0acdd388de1d4c1e.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartTooltip/ChartTooltip.tsx<br>frontend/src/metabase/visualizations/components/ChartTooltip/StackedDataTooltip/StackedDataTooltip.tsx<br>frontend/src/metabase/visualizations/components/ChartTooltip/TooltipRow/TooltipRow.tsx |', 'created_at': datetime.datetime(2024, 3, 15, 20, 21, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2000404360, 'issue_id': 2189407062, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/9dfab53f-f895-46af-86e6-9407aaa8c807"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>a776c895573c96d568b6624f0acdd388de1d4c1e</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>176 Failed</b></div>\n<div>‚úÖ <b>2041 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 15, 20, 34, 6, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-15 20:21:59 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 6fa9ff3a63ae2fe4ab03a7ce53c47a861d178824...a776c895573c96d568b6624f0acdd388de1d4c1e.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartTooltip/ChartTooltip.tsx<br>frontend/src/metabase/visualizations/components/ChartTooltip/StackedDataTooltip/StackedDataTooltip.tsx<br>frontend/src/metabase/visualizations/components/ChartTooltip/TooltipRow/TooltipRow.tsx |

replay-io[bot] on (2024-03-15 20:34:06 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/9dfab53f-f895-46af-86e6-9407aaa8c807"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>a776c895573c96d568b6624f0acdd388de1d4c1e</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>176 Failed</b></div>
<div>‚úÖ <b>2041 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2189385961,pull_request,closed,,[MLv2] Support `Extract` to get the domain from emails,"Milestone 3 of #38964.

Single regex this time, rather than two-layer.
",bshepherdson,2024-03-15 20:03:10+00:00,['bshepherdson'],2024-03-18 22:02:20+00:00,2024-03-18 22:02:06+00:00,https://github.com/metabase/metabase/pull/40200,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2000369744, 'issue_id': 2189385961, 'author': 'bshepherdson', 'body': '* **#40200** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40200?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* **#40188** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40188?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @bshepherdson and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 15, 20, 3, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2004066250, 'issue_id': 2189385961, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/e8033d44-77d8-48d3-907f-adc79c5bdfda"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>e0a89ec140bd0aaa448306a72efdc99b31800cbd</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2368 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 18, 14, 27, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2005124023, 'issue_id': 2189385961, 'author': 'github-actions[bot]', 'body': '@bshepherdson Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 18, 22, 2, 19, tzinfo=datetime.timezone.utc)}]","bshepherdson (Issue Creator) on (2024-03-15 20:03:24 UTC): * **#40200** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40200?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* **#40188** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40188?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @bshepherdson and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

replay-io[bot] on (2024-03-18 14:27:04 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/e8033d44-77d8-48d3-907f-adc79c5bdfda"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>e0a89ec140bd0aaa448306a72efdc99b31800cbd</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2368 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-18 22:02:19 UTC): @bshepherdson Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2189303316,pull_request,closed,,"E2E test coverage for ""Highlight the selected data source in the notebook editor"" project","This PR adds a test coverage for #39542
Closes #39542
Closes #39544
Closes #25142

Reproduces #25142
Reproduces #40223 
",nemanjaglumac,2024-03-15 19:10:47+00:00,['nemanjaglumac'],2024-03-18 14:28:45+00:00,2024-03-18 14:28:44+00:00,https://github.com/metabase/metabase/pull/40199,"[('.CI & Tests', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 2000313731, 'issue_id': 2189303316, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/c7fc821f-80df-4784-95b4-42bb994ca9cd"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>ff0d3509a80e245d24a85f16f10022afce23b198</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>13 Flaky</b></div>\n<div>‚úÖ <b>2356 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 15, 19, 23, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2003871000, 'issue_id': 2189303316, 'author': 'nemanjaglumac', 'body': 'Stress-test after https://github.com/metabase/metabase/pull/40199/commits/ff0d3509a80e245d24a85f16f10022afce23b198 ‚úÖ \r\nhttps://github.com/metabase/metabase/actions/runs/8324903214', 'created_at': datetime.datetime(2024, 3, 18, 13, 11, 49, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-15 19:23:13 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/c7fc821f-80df-4784-95b4-42bb994ca9cd"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>ff0d3509a80e245d24a85f16f10022afce23b198</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>13 Flaky</b></div>
<div>‚úÖ <b>2356 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

nemanjaglumac (Issue Creator) on (2024-03-18 13:11:49 UTC): Stress-test after https://github.com/metabase/metabase/pull/40199/commits/ff0d3509a80e245d24a85f16f10022afce23b198 ‚úÖ 
https://github.com/metabase/metabase/actions/runs/8324903214

"
2189302744,pull_request,closed,,Embedding SDK - integration commit,"Relates to https://github.com/metabase/metabase/issues/40241

### Description

Embedding SDK code.


### How to verify


### Demo


### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",deniskaber,2024-03-15 19:10:26+00:00,['deniskaber'],2024-03-27 07:21:54+00:00,2024-03-26 23:10:41+00:00,https://github.com/metabase/metabase/pull/40198,"[('visual', 'Run Percy visual testing'), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', '')]","[{'comment_id': 2000294328, 'issue_id': 2189302744, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 4543a7fd9b1c6c4fa2222ef72e1455f04ce5440d...21428dfaf1e93f99152d48d3682e1ec19f25d6ad.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChoroplethMap.jsx |', 'created_at': datetime.datetime(2024, 3, 15, 19, 12, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2000313754, 'issue_id': 2189302744, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/93bf34b3-bbac-4a21-aa5e-e37a48c019cb"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>21428dfaf1e93f99152d48d3682e1ec19f25d6ad</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>6 Flaky</b></div>\n<div>‚úÖ <b>2378 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 15, 19, 23, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2021619224, 'issue_id': 2189302744, 'author': 'github-actions[bot]', 'body': '@deniskaber Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 26, 23, 10, 51, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-15 19:12:03 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 4543a7fd9b1c6c4fa2222ef72e1455f04ce5440d...21428dfaf1e93f99152d48d3682e1ec19f25d6ad.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChoroplethMap.jsx |

replay-io[bot] on (2024-03-15 19:23:14 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/93bf34b3-bbac-4a21-aa5e-e37a48c019cb"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>21428dfaf1e93f99152d48d3682e1ec19f25d6ad</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>6 Flaky</b></div>
<div>‚úÖ <b>2378 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-26 23:10:51 UTC): @deniskaber Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2189295870,pull_request,closed,,docs - update info collection page,"This PR simplifies the (out-of-date) information collection page.

The original page was too long, and keeping the page up to date is likely unnecessary (given that our source is open), and difficult in practice.

I removed the outdated table of events, and focused on the spirit of what this page was trying to communicate:

- We only collect Metabase data if you opt in.
- We don't collect your data.
- If you do give us data, thank you.
- Here's how to opt out.
- Here's a link to more info re: privacy and security.",jeff-bruemmer,2024-03-15 19:05:43+00:00,['jeff-bruemmer'],2024-03-28 17:08:25+00:00,2024-03-28 17:08:13+00:00,https://github.com/metabase/metabase/pull/40197,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2025712562, 'issue_id': 2189295870, 'author': 'github-actions[bot]', 'body': '@jeff-bruemmer Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 28, 17, 8, 25, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-28 17:08:25 UTC): @jeff-bruemmer Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2189238084,pull_request,closed,,"ü§ñ backported ""docs - update list of releases""",#40192,metabase-bot[bot],2024-03-15 18:27:10+00:00,['jeff-bruemmer'],2024-03-15 18:28:36+00:00,2024-03-15 18:28:35+00:00,https://github.com/metabase/metabase/pull/40195,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2189218331,pull_request,closed,,docs - update list of releases,Updates list of releases.,jeff-bruemmer,2024-03-15 18:15:16+00:00,['jeff-bruemmer'],2024-03-15 18:26:42+00:00,2024-03-15 18:26:28+00:00,https://github.com/metabase/metabase/pull/40192,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2000223907, 'issue_id': 2189218331, 'author': 'github-actions[bot]', 'body': '@jeff-bruemmer Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 15, 18, 26, 41, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-15 18:26:41 UTC): @jeff-bruemmer Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2189195970,pull_request,closed,,fix showing series comparison tooltip on non-stacked charts,"Closes https://github.com/metabase/metabase/issues/39550

### Description

Fixes showing series comparison tooltip on some line charts when the visualization settings include stacking settings.

### How to verify

- Create a stacked bar chart
- Switch the viz type to Line
- Hover data points, ensure it shows regular key-value tooltip

### Demo

Before
<img width=""430"" alt=""Screenshot 2024-03-15 at 3 00 40‚ÄØPM"" src=""https://github.com/metabase/metabase/assets/14301985/51f4e4d5-cd30-4f3d-8204-d356529f267a"">

After
<img width=""361"" alt=""Screenshot 2024-03-15 at 3 00 16‚ÄØPM"" src=""https://github.com/metabase/metabase/assets/14301985/2ddbec11-4377-4a69-86df-0d5676945b9f"">

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",alxnddr,2024-03-15 18:01:01+00:00,['alxnddr'],2024-03-15 19:10:23+00:00,2024-03-15 19:10:22+00:00,https://github.com/metabase/metabase/pull/40190,"[('visual', 'Run Percy visual testing'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2000194347, 'issue_id': 2189195970, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/94820208-dff3-4475-9439-cf6ce8dc582a"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>1b26d3dfe3442b4d7bfe3b2fae7d71235218974b</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>176 Failed</b></div>\n<div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2039 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 15, 18, 13, 39, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-15 18:13:39 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/94820208-dff3-4475-9439-cf6ce8dc582a"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>1b26d3dfe3442b4d7bfe3b2fae7d71235218974b</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>176 Failed</b></div>
<div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2039 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2189193227,pull_request,closed,,[MLv2] Support `Extract` action for (sub)domains from URLs,"Milestone 2 of #38964.

These regexes are pretty gnarly; I tried to explain how they work. There's a big stack of tests for each one.

Theoretically we could pre-wrap the `url->host-regex` around the others, but the resulting regexes are even harder to
understand. @camsaul is there a database-level performance concern here? (It can go in a follow-up PR.)
",bshepherdson,2024-03-15 17:59:12+00:00,['bshepherdson'],2024-03-18 18:03:03+00:00,2024-03-18 18:02:50+00:00,https://github.com/metabase/metabase/pull/40188,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2000171167, 'issue_id': 2189193227, 'author': 'bshepherdson', 'body': '* **#40200** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40200?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#40188** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40188?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @bshepherdson and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 15, 17, 59, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2000190107, 'issue_id': 2189193227, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/08d46935-cd41-4993-95d9-7c69eeea4c6d"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>db5db4f9c11049b0638c50cd69576efc670684c9</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>5 Flaky</b></div>\n<div>‚úÖ <b>2355 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 15, 18, 10, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2004594694, 'issue_id': 2189193227, 'author': 'github-actions[bot]', 'body': '@bshepherdson Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 18, 18, 3, 2, tzinfo=datetime.timezone.utc)}]","bshepherdson (Issue Creator) on (2024-03-15 17:59:29 UTC): * **#40200** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40200?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#40188** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40188?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @bshepherdson and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

replay-io[bot] on (2024-03-15 18:10:48 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/08d46935-cd41-4993-95d9-7c69eeea4c6d"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>db5db4f9c11049b0638c50cd69576efc670684c9</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>5 Flaky</b></div>
<div>‚úÖ <b>2355 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-18 18:03:02 UTC): @bshepherdson Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2189172864,pull_request,closed,,"ü§ñ backported ""Fix duplicate native column nesting""","  #39476
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",metabase-bot[bot],2024-03-15 17:45:54+00:00,['snoe'],2024-03-27 20:34:46+00:00,2024-03-27 20:34:45+00:00,https://github.com/metabase/metabase/pull/40187,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 2021532509, 'issue_id': 2189172864, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/f0d58c52-8ee6-4242-a56e-abf1c9d19aec"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>2fe2364dbf371ed298cc9b747e86a1833bc19cc8</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚úÖ <b>2353 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 26, 21, 49, 34, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-26 21:49:34 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/f0d58c52-8ee6-4242-a56e-abf1c9d19aec"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>2fe2364dbf371ed298cc9b747e86a1833bc19cc8</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚úÖ <b>2353 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2189112681,pull_request,closed,,Re-export Mantine `rem` util,"This PR re-exports a very helpful Mantine util `rem`.
It also uses it in a about a dozen components just as a PoC.",nemanjaglumac,2024-03-15 17:09:15+00:00,['nemanjaglumac'],2024-03-15 20:21:34+00:00,2024-03-15 20:21:22+00:00,https://github.com/metabase/metabase/pull/40184,"[('.Frontend', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('visual', 'Run Percy visual testing'), ('.Team/Querying', '')]","[{'comment_id': 2000094695, 'issue_id': 2189112681, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 4806e787b2b32a16ee5ad1f46f0052b1c6bef5d7...137384dbc697178dde251b71a013794ea631f90f.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/visualizations/SmartScalar/SettingsComponents/ComparisonPicker.tsx<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/SettingsComponents/PeriodsAgoMenuOption.tsx |\n| @kdoh | frontend/src/metabase/ui/index.ts |', 'created_at': datetime.datetime(2024, 3, 15, 17, 11, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 2000112206, 'issue_id': 2189112681, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/3cea48e0-32f8-43c2-8681-46a1d44e171b"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>137384dbc697178dde251b71a013794ea631f90f</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2363 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 15, 17, 21, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2000389335, 'issue_id': 2189112681, 'author': 'github-actions[bot]', 'body': '@nemanjaglumac Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 15, 20, 21, 32, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-15 17:11:01 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 4806e787b2b32a16ee5ad1f46f0052b1c6bef5d7...137384dbc697178dde251b71a013794ea631f90f.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/visualizations/SmartScalar/SettingsComponents/ComparisonPicker.tsx<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/SettingsComponents/PeriodsAgoMenuOption.tsx |
| @kdoh | frontend/src/metabase/ui/index.ts |

replay-io[bot] on (2024-03-15 17:21:08 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/3cea48e0-32f8-43c2-8681-46a1d44e171b"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>137384dbc697178dde251b71a013794ea631f90f</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2363 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-15 20:21:32 UTC): @nemanjaglumac Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2189025080,pull_request,closed,,Migrate composeDataset and composeThisQuery to MBQL lib,"For metrics, creating a ad-hoc question is not as simple as `""source-table"": ""card__1""`. There is an aggregation clause based on the metric, default breakouts, filters etc. All of this should be handled internally by MBQL lib if we call the appropriate method under the hood.

We need to call `queryFromTableOrCardMetadata` to create an ad-hoc question based on this query. The problem I faced immediately is that we create ad-hoc questions before metadata for the current (saved) model is fetched. So we need to fix our metadata fetching logic to load data for the saved model upfront before even attempting to create an ad-hoc question for this model. This is what this PR does. 

How to verify:
- CI is green",ranquild,2024-03-15 16:23:33+00:00,['ranquild'],2024-03-19 09:10:57+00:00,2024-03-19 09:10:45+00:00,https://github.com/metabase/metabase/pull/40181,"[('visual', 'Run Percy visual testing'), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 2000014674, 'issue_id': 2189025080, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 2fd5d6ebefdcbb1068d1bfe242e9c589058488cb...ca9c2a6d30410349a87d45d6a0c8fde3e4594858.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx |', 'created_at': datetime.datetime(2024, 3, 15, 16, 24, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 2000033862, 'issue_id': 2189025080, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/cf2f83b2-ad19-4877-a010-b4b85ad3d29b"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>ca9c2a6d30410349a87d45d6a0c8fde3e4594858</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>5 Flaky</b></div>\n<div>‚úÖ <b>2366 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 15, 16, 34, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2006428342, 'issue_id': 2189025080, 'author': 'github-actions[bot]', 'body': '@ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 19, 9, 10, 56, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-15 16:24:39 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 2fd5d6ebefdcbb1068d1bfe242e9c589058488cb...ca9c2a6d30410349a87d45d6a0c8fde3e4594858.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx |

replay-io[bot] on (2024-03-15 16:34:53 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/cf2f83b2-ad19-4877-a010-b4b85ad3d29b"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>ca9c2a6d30410349a87d45d6a0c8fde3e4594858</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>5 Flaky</b></div>
<div>‚úÖ <b>2366 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-19 09:10:56 UTC): @ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2188631588,pull_request,closed,,üçí Manual backport #39007 to 0.47,"issue #38429

This is a manual backport of https://github.com/metabase/metabase/pull/39007 since the [auto backport failed](https://github.com/metabase/metabase/actions/runs/8295777808)

The change is mostly like [the backport for 48](https://github.com/metabase/metabase/pull/40166) unless commented

### Demo
#### Before
<img width=""892"" alt=""image"" src=""https://github.com/metabase/metabase/assets/1937582/0399f2d5-d989-493f-9090-9a92719d052a"">

#### After
<img width=""897"" alt=""image"" src=""https://github.com/metabase/metabase/assets/1937582/2fdd4915-22e6-4030-849f-6aae0c15638f"">
",WiNloSt,2024-03-15 14:20:56+00:00,['WiNloSt'],2024-03-19 11:24:41+00:00,2024-03-18 07:23:52+00:00,https://github.com/metabase/metabase/pull/40173,"[('.Team/Embedding', ''), ('was-backported', 'apply this to PRs that are themselves backports')]",[],
2188620559,pull_request,closed,,"ü§ñ backported ""Fix notebook being unable to resize""",Backport of  #40136 with the manual conflict resolution.,metabase-bot[bot],2024-03-15 14:15:24+00:00,['nemanjaglumac'],2024-03-15 17:17:11+00:00,2024-03-15 17:17:10+00:00,https://github.com/metabase/metabase/pull/40172,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1999846028, 'issue_id': 2188620559, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/f11553ed-26ec-4c1d-8dbe-95cba6d4db62"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 53 / 55</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>4fdf7cb47296f3ff8f8c0e8f7c5385882a80ca3c</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>11 Flaky</b></div>\n<div>‚úÖ <b>2325 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 15, 14, 57, 26, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-15 14:57:26 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/f11553ed-26ec-4c1d-8dbe-95cba6d4db62"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 53 / 55</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>4fdf7cb47296f3ff8f8c0e8f7c5385882a80ca3c</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>11 Flaky</b></div>
<div>‚úÖ <b>2325 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2188571641,pull_request,closed,,"ü§ñ backported ""Use Mantine for DataSelector table picker""","Backport of  #40105 with the manual conflict resolution.
",metabase-bot[bot],2024-03-15 13:53:28+00:00,['nemanjaglumac'],2024-03-15 17:17:03+00:00,2024-03-15 17:17:02+00:00,https://github.com/metabase/metabase/pull/40171,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1999863722, 'issue_id': 2188571641, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/7ad55c8a-b72d-48a1-bf58-d68a07f2d96e"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>98c8da15f186bbd535ea427660cf32f6329b37b9</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2335 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 15, 15, 5, 31, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-15 15:05:31 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/7ad55c8a-b72d-48a1-bf58-d68a07f2d96e"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>98c8da15f186bbd535ea427660cf32f6329b37b9</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2335 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2188443950,pull_request,closed,,"ü§ñ backported ""Fix milestone name in release script""","  #40169
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",metabase-bot[bot],2024-03-15 12:48:58+00:00,['kamilmielnik'],2024-03-15 13:04:14+00:00,2024-03-15 13:04:13+00:00,https://github.com/metabase/metabase/pull/40170,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2188434167,pull_request,closed,,Fix milestone name in release script,"See https://metaboat.slack.com/archives/C864UT5CZ/p1710495982900369

Yesterday we've had milestone `0.50.0` created instead of `0.50`.",kamilmielnik,2024-03-15 12:43:32+00:00,['kamilmielnik'],2024-03-15 13:57:59+00:00,2024-03-15 12:48:08+00:00,https://github.com/metabase/metabase/pull/40169,"[('.Building & Releasing', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 1999596461, 'issue_id': 2188434167, 'author': 'github-actions[bot]', 'body': '@kamilmielnik Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 15, 12, 48, 19, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-15 12:48:19 UTC): @kamilmielnik Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2188432682,pull_request,closed,,Improve homepage experience for embedding users,"Relate to Epic https://github.com/metabase/metabase/issues/40005

### Description

This implements [this design](https://www.figma.com/file/UFay4YjWyUMyl23T1cXzeC/Meet-first-time-embedders-at-the-door-with-a-dashboard?type=design&node-id=1821-22598&mode=design&t=nl2XxAXnoO36aNk5-4) as suggested [here](https://metaboat.slack.com/archives/C063Q3F1HPF/p1709288042496439?thread_ts=1709224918.522439&cid=C063Q3F1HPF).

I show the card together with xrays, the card will only be shown once at the first load and I can't think of a reason why the first time we load the homepage xrays shouldn't be what we show.

Note: even though it's now technically just a card and not a homepage, I still left the name as is, as next week I'll work on making it a homepage again (milestone v50).

### How to verify

Do the setup and select that you're interested in embedding.

You should see the card as in the screenshot above, if you refresh or dismiss it, it should go away.

### Demo
<img width=""1844"" alt=""image"" src=""https://github.com/metabase/metabase/assets/1914270/5f0f43b7-fe01-443b-a8a0-bdddbd2fac9a"">


If you want to re-enable the card for testing you can paste `localStorage.setItem(""showEmbedHomepage"", ""true"")` in the browser console and reload the page.
",npretto,2024-03-15 12:42:42+00:00,['npretto'],2024-03-21 07:49:01+00:00,2024-03-20 08:19:56+00:00,https://github.com/metabase/metabase/pull/40168,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Embedding', '')]","[{'comment_id': 1999589194, 'issue_id': 2188432682, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 4f7b562c909d287a045ac775ca4b3098c1be4e26...901ef05ebd40d1408624bdc4cb67fabc5b0bdb09.\n\n| Notify | File(s) |\n|-|-|\n| @ranquild | frontend/src/metabase/home/components/EmbedMinimalHomepage/EmbedMinimalHomepage.tsx<br>frontend/src/metabase/home/components/HomeContent/HomeContent.tsx<br>frontend/src/metabase/home/components/HomeContent/HomeContent.unit.spec.tsx |', 'created_at': datetime.datetime(2024, 3, 15, 12, 43, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 1999607197, 'issue_id': 2188432682, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/27eac17a-b46c-46dd-aa88-c392c5ed5498"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>901ef05ebd40d1408624bdc4cb67fabc5b0bdb09</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>10 Flaky</b></div>\n<div>‚úÖ <b>2354 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 15, 12, 54, 57, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-15 12:43:56 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 4f7b562c909d287a045ac775ca4b3098c1be4e26...901ef05ebd40d1408624bdc4cb67fabc5b0bdb09.

| Notify | File(s) |
|-|-|
| @ranquild | frontend/src/metabase/home/components/EmbedMinimalHomepage/EmbedMinimalHomepage.tsx<br>frontend/src/metabase/home/components/HomeContent/HomeContent.tsx<br>frontend/src/metabase/home/components/HomeContent/HomeContent.unit.spec.tsx |

replay-io[bot] on (2024-03-15 12:54:57 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/27eac17a-b46c-46dd-aa88-c392c5ed5498"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>901ef05ebd40d1408624bdc4cb67fabc5b0bdb09</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>10 Flaky</b></div>
<div>‚úÖ <b>2354 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2188430158,pull_request,closed,,"ü§ñ backported ""Fix the stale collection information when the source in the data selector changes""","Backport of  #40063 with a manual conflict resolution.
",metabase-bot[bot],2024-03-15 12:41:14+00:00,['nemanjaglumac'],2024-03-19 20:44:05+00:00,2024-03-19 20:44:04+00:00,https://github.com/metabase/metabase/pull/40167,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1999704663, 'issue_id': 2188430158, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/cdfaa8cc-b7ae-4b75-905c-eaa98a35477d"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>81eac204727ee3ecca8266b33f926238aa625664</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚úÖ <b>2340 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 15, 13, 47, 19, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-15 13:47:19 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/cdfaa8cc-b7ae-4b75-905c-eaa98a35477d"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>81eac204727ee3ecca8266b33f926238aa625664</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚úÖ <b>2340 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2188409749,pull_request,closed,,üçí Manual backport #39007 to 0.48,"issue #38429

This is a manual backport of #39007 since the [auto backport failed](https://github.com/metabase/metabase/actions/runs/8295777808)

### Demo
#### Before
<img width=""1243"" alt=""Screenshot 2024-03-15 at 7 28 22‚ÄØPM"" src=""https://github.com/metabase/metabase/assets/1937582/ae23d438-5d55-4945-99c2-0f114b809f93"">

#### After
<img width=""1237"" alt=""Screenshot 2024-03-15 at 7 22 43‚ÄØPM"" src=""https://github.com/metabase/metabase/assets/1937582/71aeeed2-d489-4324-8a79-751e3a287431"">
",WiNloSt,2024-03-15 12:29:33+00:00,['WiNloSt'],2024-03-19 11:24:36+00:00,2024-03-15 14:27:42+00:00,https://github.com/metabase/metabase/pull/40166,"[('.Team/Embedding', ''), ('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1999588169, 'issue_id': 2188409749, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/f065915f-1c91-41b1-a8b4-a400cfda36b2"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>0869ac231b8aed4717cf36809c357da91b193eb1</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2110 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 15, 12, 43, 33, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-15 12:43:33 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/f065915f-1c91-41b1-a8b4-a400cfda36b2"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>0869ac231b8aed4717cf36809c357da91b193eb1</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2110 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2188383466,pull_request,closed,,"ü§ñ backported ""docs - fix anchor links""",#40148,metabase-bot[bot],2024-03-15 12:13:42+00:00,['jeff-bruemmer'],2024-03-15 12:15:19+00:00,2024-03-15 12:15:18+00:00,https://github.com/metabase/metabase/pull/40165,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2188306556,pull_request,closed,,Convert `inputs.module.css` to CSS Modules,"### Description

Converts the `inputs.module.css` file to CSS modules. The files modified are (with a base of `frontend/src/metabase/...`

- admin/datamodel/components/FormInput/FormInput.tsx
- admin/datamodel/components/FormTextArea/FormTextArea.tsx
- admin/datamodel/components/ObjectRetireModal.jsx
	- not sure if this is being used
- admin/datamodel/components/filters/pickers/DefaultPicker/DefaultPicker.tsx
- admin/datamodel/components/filters/pickers/LegacyDatePicker/HoursMinutesInput.jsx
- admin/datamodel/components/filters/pickers/TextPicker.jsx
- admin/people/components/AddRow.jsx
- admin/settings/components/widgets/GroupMappingsWidget/AddMappingRow/AddMappingRow.tsx
- components/CopyWidget/CopyWidget.jsx
- components/TokenField/TokenField.tsx
- containers/ItemPicker/ItemPickerView.tsx
- parameters/components/widgets/ParameterFieldWidget/ParameterFieldWidget.jsx
- query_builder/components/LimitInput.tsx
- query_builder/components/template_tags/SnippetSidebar/SnippetSidebar.jsx
- visualizations/components/settings/ChartSettingGaugeSegments.jsx

### How to verify

Check these sections of the app and ensure that nothing looks weird in relation to the visible text inputs:
* Admin > People Groups - adding groups and members
* Snippets in the Query Builder
* Filters on the query builder
	* All of the filters with text inputs
* The copy widget when creating a public link for a dashboard/question

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",oisincoveney,2024-03-15 11:31:06+00:00,[],2024-03-20 09:53:44+00:00,2024-03-20 09:53:31+00:00,https://github.com/metabase/metabase/pull/40163,"[('visual', 'Run Percy visual testing'), ('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 1999490501, 'issue_id': 2188306556, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 99758685e9b6be293e974b7a9ee8ab539ea4571a...0c924b6daedd908e4fd312a446487d892ba9cb1f.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/settings/ChartSettingGaugeSegments.jsx |', 'created_at': datetime.datetime(2024, 3, 15, 11, 48, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 1999727005, 'issue_id': 2188306556, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/871e6f72-7ae9-44a7-998c-83ac2149467e"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>0c924b6daedd908e4fd312a446487d892ba9cb1f</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2370 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 15, 13, 58, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2009161649, 'issue_id': 2188306556, 'author': 'github-actions[bot]', 'body': '@oisincoveney Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 20, 9, 53, 42, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-15 11:48:28 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 99758685e9b6be293e974b7a9ee8ab539ea4571a...0c924b6daedd908e4fd312a446487d892ba9cb1f.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/settings/ChartSettingGaugeSegments.jsx |

replay-io[bot] on (2024-03-15 13:58:29 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/871e6f72-7ae9-44a7-998c-83ac2149467e"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>0c924b6daedd908e4fd312a446487d892ba9cb1f</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2370 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-20 09:53:42 UTC): @oisincoveney Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2188303993,pull_request,closed,,OpenAPI docs,"Adds OpenAPI generation for `defendpoint` and an interface for it at `/api/docs/`.

Caveats:
- I don't understand why clj-kondo refuses to see those 4 endpoints by name (`GET_docs*` mentioned in `api.routes` and others I'm using for tests)
- There is no security scheme defined, so it says ""Authentication: Not Required"" everywhere (see screenshot)
- If we have POST/PUT requests having query parameters, we need some way of differentiating them
- Lots of fields are `required`, but `... or null` - that needs to improve

I'd really love to fix clj-kondo, but don't understand how. I think others are fine to fix later on when we get a bit of feedback on this.

<img width=""1038"" alt=""image"" src=""https://github.com/metabase/metabase/assets/6553/269b7d30-189b-4d37-bbd5-b14f54e82aa5"">
",piranha,2024-03-15 11:29:34+00:00,['piranha'],2024-03-20 18:46:33+00:00,2024-03-20 17:22:37+00:00,https://github.com/metabase/metabase/pull/40162,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 1999493680, 'issue_id': 2188303993, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/d17ba647-9ad6-4ba0-8f2d-91412356936b"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>8206707cf58ba99d040a20f51274541e912ab7fe</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>7 Flaky</b></div>\n<div>‚úÖ <b>2365 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 15, 11, 50, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2000375163, 'issue_id': 2188303993, 'author': 'piranha', 'body': ""> Is this going to be some followup work?\r\n\r\nYeah, I think so. Making this perfect will take lots of time - meanwhile it's going to be useful as it is."", 'created_at': datetime.datetime(2024, 3, 15, 20, 9, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2007956915, 'issue_id': 2188303993, 'author': 'piranha', 'body': 'Right... I still need to understand why `clj-kondo` is unhappy. üòÅ', 'created_at': datetime.datetime(2024, 3, 19, 19, 24, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 2010151014, 'issue_id': 2188303993, 'author': 'github-actions[bot]', 'body': '@piranha Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 20, 17, 22, 54, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-15 11:50:40 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/d17ba647-9ad6-4ba0-8f2d-91412356936b"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>8206707cf58ba99d040a20f51274541e912ab7fe</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>7 Flaky</b></div>
<div>‚úÖ <b>2365 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

piranha (Issue Creator) on (2024-03-15 20:09:10 UTC): Yeah, I think so. Making this perfect will take lots of time - meanwhile it's going to be useful as it is.

piranha (Issue Creator) on (2024-03-19 19:24:36 UTC): Right... I still need to understand why `clj-kondo` is unhappy. üòÅ

github-actions[bot] on (2024-03-20 17:22:54 UTC): @piranha Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2188277141,pull_request,closed,,"ü§ñ backported ""Fix png download in safari in embedding""",#40130,metabase-bot[bot],2024-03-15 11:15:06+00:00,['ranquild'],2024-03-15 11:49:13+00:00,2024-03-15 11:49:12+00:00,https://github.com/metabase/metabase/pull/40160,"[('visual', 'Run Percy visual testing'), ('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1999441118, 'issue_id': 2188277141, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 7e3172c3d24b55d2e8e57a0b4e3e7be0b6e09abb...001c01dcbdbdeb757bd6dbceb68c0bc6def9163b.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/lib/save-chart-image.ts |', 'created_at': datetime.datetime(2024, 3, 15, 11, 16, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 1999461011, 'issue_id': 2188277141, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/d80e8ffa-9f43-48c1-8776-1b77469a8911"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>001c01dcbdbdeb757bd6dbceb68c0bc6def9163b</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2332 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 15, 11, 28, 20, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-15 11:16:14 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 7e3172c3d24b55d2e8e57a0b4e3e7be0b6e09abb...001c01dcbdbdeb757bd6dbceb68c0bc6def9163b.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/lib/save-chart-image.ts |

replay-io[bot] on (2024-03-15 11:28:20 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/d80e8ffa-9f43-48c1-8776-1b77469a8911"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>001c01dcbdbdeb757bd6dbceb68c0bc6def9163b</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2332 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2188059612,pull_request,closed,,"ü§ñ backported ""Fix multi-schema data selector header styling""",#40101,metabase-bot[bot],2024-03-15 09:17:14+00:00,['nemanjaglumac'],2024-03-15 09:53:35+00:00,2024-03-15 09:53:34+00:00,https://github.com/metabase/metabase/pull/40159,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1999262052, 'issue_id': 2188059612, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/784cab4c-d3e9-4729-aa4d-b37dacaa591e"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>b851d634c163918fe2c9559fc69ab6aba7dc714b</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚úÖ <b>2335 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 15, 9, 30, 4, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-15 09:30:04 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/784cab4c-d3e9-4729-aa4d-b37dacaa591e"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>b851d634c163918fe2c9559fc69ab6aba7dc714b</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚úÖ <b>2335 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2187686525,pull_request,closed,,Rename `metabase.mbql` to `metabase.legacy-mbql`,"Also, move `metabase.mbql.util.match/match` and friends to `metabase.lib.util.match`, and remove the aliases in `metabase.legacy-mbql.util`, since they made things tricky with Cljs. 

`match` was the only thing we wanted to keep there; everything else in `metabase.legacy-util.*` is effectively deprecated at this point now",camsaul,2024-03-15 04:14:21+00:00,['camsaul'],2024-03-21 05:38:53+00:00,2024-03-21 05:38:41+00:00,https://github.com/metabase/metabase/pull/40158,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2000837738, 'issue_id': 2187686525, 'author': 'camsaul', 'body': ""I do think we need to clean up the exports of `metabase.lib.*` and put a lot more stuff into `metabase.lib.core`. I want to do that at some point, but I was trying to keep this PR from getting too big.\r\n\r\nThe `match`/`replace` stuff has a lot of logic in it specific to MBQL queries, for example it can has built-in matching on clause tag or tags. So it's not really a general `match++`"", 'created_at': datetime.datetime(2024, 3, 16, 0, 49, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2007798307, 'issue_id': 2187686525, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/e27ccd5c-59c5-45d9-9f73-64d30f5282f7"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>8a490279c07cc6237ee4f891aa0bd7fc0d7b0fd5</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>5 Flaky</b></div>\n<div>‚úÖ <b>2367 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 19, 17, 51, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2011258386, 'issue_id': 2187686525, 'author': 'github-actions[bot]', 'body': '@camsaul Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 21, 5, 38, 52, tzinfo=datetime.timezone.utc)}]","camsaul (Issue Creator) on (2024-03-16 00:49:06 UTC): I do think we need to clean up the exports of `metabase.lib.*` and put a lot more stuff into `metabase.lib.core`. I want to do that at some point, but I was trying to keep this PR from getting too big.

The `match`/`replace` stuff has a lot of logic in it specific to MBQL queries, for example it can has built-in matching on clause tag or tags. So it's not really a general `match++`

replay-io[bot] on (2024-03-19 17:51:25 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/e27ccd5c-59c5-45d9-9f73-64d30f5282f7"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>8a490279c07cc6237ee4f891aa0bd7fc0d7b0fd5</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>5 Flaky</b></div>
<div>‚úÖ <b>2367 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-21 05:38:52 UTC): @camsaul Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2187534984,pull_request,closed,,fix messed up stacked areas with various missing.values setting,"Follow up on https://github.com/metabase/metabase/issues/38682

### Description

Fixes stacked areas on datasets with multiple series that include null values. This PR replicates the area stacking behavior on master which is: **if at least one series has ""line.missing"" is not ""none"", then we replace all missing values for all series with zeros**

### How to verify

Create stacked areas with multiple series and null values, try different compinations of ""Replace missing values"" settings for series.

The question used in the demo:
<img width=""1183"" alt=""Screenshot 2024-03-14 at 10 17 37‚ÄØPM"" src=""https://github.com/metabase/metabase/assets/14301985/63f79700-6741-4a23-94f7-d63285add837"">

### Demo

#### All series has `""line.missing"": ""none""`
master
<img width=""1367"" alt=""Screenshot 2024-03-14 at 9 47 20‚ÄØPM"" src=""https://github.com/metabase/metabase/assets/14301985/d75f01aa-d442-4ac2-8259-51e4cbbc7a86"">

echarts
<img width=""1368"" alt=""Screenshot 2024-03-14 at 9 47 12‚ÄØPM"" src=""https://github.com/metabase/metabase/assets/14301985/f7f5690c-c3d9-48d6-ac92-71c8737f5bc2"">

#### 3 series have `""line.missing"": ""none""` but one has `""line.missing"": ""interpolate""`
master
<img width=""1370"" alt=""Screenshot 2024-03-14 at 9 46 29‚ÄØPM"" src=""https://github.com/metabase/metabase/assets/14301985/e3df8a1d-d591-4a44-ba72-e3c68634adfa"">

echarts
<img width=""1367"" alt=""Screenshot 2024-03-14 at 9 46 16‚ÄØPM"" src=""https://github.com/metabase/metabase/assets/14301985/bb970372-963a-4985-8b32-0eea160c250b"">

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",alxnddr,2024-03-15 01:18:40+00:00,['alxnddr'],2024-03-15 15:41:05+00:00,2024-03-15 15:41:04+00:00,https://github.com/metabase/metabase/pull/40157,"[('visual', 'Run Percy visual testing'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 1998739671, 'issue_id': 2187534984, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/3fd43378-7756-4637-a300-476942c7715e"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>b038e910cdfc27351ff3068669b74e5619c1b6f4</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>177 Failed</b></div>\n<div>‚ö†Ô∏è <b>10 Flaky</b></div>\n<div>‚úÖ <b>1974 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 15, 1, 31, 53, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-15 01:31:53 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/3fd43378-7756-4637-a300-476942c7715e"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>b038e910cdfc27351ff3068669b74e5619c1b6f4</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>177 Failed</b></div>
<div>‚ö†Ô∏è <b>10 Flaky</b></div>
<div>‚úÖ <b>1974 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2187504206,pull_request,closed,,Fingerprint as a driver feature,Closes https://github.com/metabase/metabase/issues/39389,qnkhuat,2024-03-15 00:40:53+00:00,['qnkhuat'],2024-03-15 05:23:14+00:00,2024-03-15 05:23:13+00:00,https://github.com/metabase/metabase/pull/40155,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 1998710317, 'issue_id': 2187504206, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/37bcd8d6-4a0c-41ad-82a6-87d66148963f"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>3b2e238d3d65e450b47e6acf12a9b67d1db78ed0</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>1 Failed</b></div>\n<div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2360 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 15, 0, 52, 52, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-15 00:52:52 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/37bcd8d6-4a0c-41ad-82a6-87d66148963f"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>3b2e238d3d65e450b47e6acf12a9b67d1db78ed0</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>1 Failed</b></div>
<div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2360 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2187446923,pull_request,closed,,fix incorrect y-axis range,"Closes https://github.com/metabase/metabase/issues/39596

### Description

The root cause was that we were including datums with null dimension values on timeseries, numeric (linear, log, power) and histogram charts, when they actually should be excluded from the dataset since we don't render them.

We fix this by filtering out those datums before applying other dataset transformations.


### Demo

<img width=""561"" alt=""Screenshot 2024-03-14 at 4 34 50 PM"" src=""https://github.com/metabase/metabase/assets/37751258/54cdd165-6320-4230-99ad-672614e80697"">

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",EmmadUsmani,2024-03-14 23:28:55+00:00,['EmmadUsmani'],2024-03-16 01:14:38+00:00,2024-03-16 00:43:39+00:00,https://github.com/metabase/metabase/pull/40154,"[('visual', 'Run Percy visual testing'), ('.Team/DashViz', 'Dashboard and Viz team'), ('loki-update', '')]","[{'comment_id': 1998642748, 'issue_id': 2187446923, 'author': 'EmmadUsmani', 'body': '* **#40026** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40026?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* **#40154** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40154?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* `echarts`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @EmmadUsmani and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 14, 23, 29, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 1998650552, 'issue_id': 2187446923, 'author': 'github-actions[bot]', 'body': 'üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8288924481)', 'created_at': datetime.datetime(2024, 3, 14, 23, 37, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 1998651621, 'issue_id': 2187446923, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 6fa9ff3a63ae2fe4ab03a7ce53c47a861d178824...b0d02fa2be1b9f53cd30fbb688916e8bb8a5ccfb.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/echarts/cartesian/chart-measurements/index.ts<br>frontend/src/metabase/visualizations/echarts/cartesian/constants/dataset.ts<br>frontend/src/metabase/visualizations/echarts/cartesian/model/dataset.ts<br>frontend/src/metabase/visualizations/echarts/cartesian/option/series.ts |', 'created_at': datetime.datetime(2024, 3, 14, 23, 38, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 1998656898, 'issue_id': 2187446923, 'author': 'github-actions[bot]', 'body': 'Snapshots have been updated', 'created_at': datetime.datetime(2024, 3, 14, 23, 45, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 1998661618, 'issue_id': 2187446923, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/10fc9393-f9ba-4819-999e-297d376cecc4"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>b0d02fa2be1b9f53cd30fbb688916e8bb8a5ccfb</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>176 Failed</b></div>\n<div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2040 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 14, 23, 51, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2000823846, 'issue_id': 2187446923, 'author': 'EmmadUsmani', 'body': '### Merge activity\n\n* **Mar 15, 8:43 PM EDT**: @EmmadUsmani started a stack merge that includes this pull request via [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/40154).\n* **Mar 15, 8:43 PM EDT**: @EmmadUsmani merged this pull request with [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/40154).', 'created_at': datetime.datetime(2024, 3, 16, 0, 43, 2, tzinfo=datetime.timezone.utc)}]","EmmadUsmani (Issue Creator) on (2024-03-14 23:29:09 UTC): * **#40026** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40026?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* **#40154** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40154?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* `echarts`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @EmmadUsmani and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

github-actions[bot] on (2024-03-14 23:37:12 UTC): üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8288924481)

github-actions[bot] on (2024-03-14 23:38:47 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 6fa9ff3a63ae2fe4ab03a7ce53c47a861d178824...b0d02fa2be1b9f53cd30fbb688916e8bb8a5ccfb.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/echarts/cartesian/chart-measurements/index.ts<br>frontend/src/metabase/visualizations/echarts/cartesian/constants/dataset.ts<br>frontend/src/metabase/visualizations/echarts/cartesian/model/dataset.ts<br>frontend/src/metabase/visualizations/echarts/cartesian/option/series.ts |

github-actions[bot] on (2024-03-14 23:45:52 UTC): Snapshots have been updated

replay-io[bot] on (2024-03-14 23:51:52 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/10fc9393-f9ba-4819-999e-297d376cecc4"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>b0d02fa2be1b9f53cd30fbb688916e8bb8a5ccfb</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>176 Failed</b></div>
<div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2040 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

EmmadUsmani (Issue Creator) on (2024-03-16 00:43:02 UTC): ### Merge activity

* **Mar 15, 8:43 PM EDT**: @EmmadUsmani started a stack merge that includes this pull request via [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/40154).
* **Mar 15, 8:43 PM EDT**: @EmmadUsmani merged this pull request with [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/40154).

"
2187374597,pull_request,closed,,Handle double escape in entityPicker,"
Closes https://github.com/metabase/metabase/issues/39966

### Description

Prevents hitting `escape` in the entitypicker from also closing any other modals that are open at the same time. (Since entitypicker is often used above another modal (like new collection or new dashboard modal)

_caption: note the modals close separately when the user presses `escape` twice_
![DOUBLE ESCAPE WHAT DOES IT MEAN](https://github.com/metabase/metabase/assets/30528226/ddd9a541-d4fa-43d5-a0e5-2a2751674cae)

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",iethree,2024-03-14 22:28:07+00:00,['iethree'],2024-03-19 22:53:16+00:00,2024-03-19 22:53:15+00:00,https://github.com/metabase/metabase/pull/40151,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 1998598067, 'issue_id': 2187374597, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/a46422ed-522e-48b8-a65f-1a89226b178d"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>ae4a4fc3e76d8353df5e9862475d0485ac9b7978</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2369 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 14, 22, 39, 19, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-14 22:39:19 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/a46422ed-522e-48b8-a65f-1a89226b178d"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>ae4a4fc3e76d8353df5e9862475d0485ac9b7978</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2369 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2187367693,pull_request,closed,,Fix missing tooltip for goal line label,"- Closes: https://github.com/metabase/metabase/issues/39600

**Before**

![image](https://github.com/metabase/metabase/assets/22608765/42bd325a-f062-4b53-8782-9b04eefe2f0a)


**After**

![image](https://github.com/metabase/metabase/assets/22608765/888bfaff-a476-4750-8c34-c65a42049f55)

---
**Things to Consider:**
- Hovering over line causes line to be bold
  - Before
   ![image](https://github.com/metabase/metabase/assets/22608765/e21c5f80-dff0-49f0-b823-1060234f913c)
  - After
   ![image](https://github.com/metabase/metabase/assets/22608765/6190f7de-4286-4c37-b214-3e07e80c89d1)
- See code comments for additional things to consider",JesseSDevaney,2024-03-14 22:23:48+00:00,['JesseSDevaney'],2024-03-15 18:39:48+00:00,2024-03-15 18:07:32+00:00,https://github.com/metabase/metabase/pull/40150,"[('visual', 'Run Percy visual testing'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 1998581418, 'issue_id': 2187367693, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 2d64d3d3e6799d342750791c3103ad5fa8610e76...fd4bab19903b6f95c4b7e4dd6a3bbac271179cc2.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/echarts/cartesian/option/goal-line.ts<br>frontend/src/metabase/visualizations/visualizations/CartesianChart/events.ts<br>frontend/src/metabase/visualizations/visualizations/CartesianChart/use-chart-events.ts |', 'created_at': datetime.datetime(2024, 3, 14, 22, 24, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 1998588379, 'issue_id': 2187367693, 'author': 'JesseSDevaney', 'body': 'Also, is it expected to have so many failing CI checks with the ECharts branch right now?', 'created_at': datetime.datetime(2024, 3, 14, 22, 30, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 1998595398, 'issue_id': 2187367693, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/316b14d8-07fe-480d-837b-d5e401ead6f8"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>fd4bab19903b6f95c4b7e4dd6a3bbac271179cc2</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>176 Failed</b></div>\n<div>‚úÖ <b>2039 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 14, 22, 36, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 1998740163, 'issue_id': 2187367693, 'author': 'alxnddr', 'body': '> Also, is it expected to have so many failing CI checks with the ECharts branch right now?\r\n\r\nThis is okay, there is a separate epic for fixing specs. Now we have bugs that would not make CI green and also all the selectors have changed significantly. But we do expect Loki specs to be green', 'created_at': datetime.datetime(2024, 3, 15, 1, 32, 31, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-14 22:24:53 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 2d64d3d3e6799d342750791c3103ad5fa8610e76...fd4bab19903b6f95c4b7e4dd6a3bbac271179cc2.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/echarts/cartesian/option/goal-line.ts<br>frontend/src/metabase/visualizations/visualizations/CartesianChart/events.ts<br>frontend/src/metabase/visualizations/visualizations/CartesianChart/use-chart-events.ts |

JesseSDevaney (Issue Creator) on (2024-03-14 22:30:26 UTC): Also, is it expected to have so many failing CI checks with the ECharts branch right now?

replay-io[bot] on (2024-03-14 22:36:27 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/316b14d8-07fe-480d-837b-d5e401ead6f8"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>fd4bab19903b6f95c4b7e4dd6a3bbac271179cc2</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>176 Failed</b></div>
<div>‚úÖ <b>2039 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

alxnddr on (2024-03-15 01:32:31 UTC): This is okay, there is a separate epic for fixing specs. Now we have bugs that would not make CI green and also all the selectors have changed significantly. But we do expect Loki specs to be green

"
2187310148,pull_request,closed,,Diagnostic Modal Updates,"### Description

Here, we've got a couple updates to the diagnostic modal:

1. **Handle uncaught errors better.** Adding the download button to the uncaught error component was causing certain errors to overflow, and made some pages look really bad. We made this better in a few ways:
	1. went back to just having a small ‚ö†Ô∏è icon that should fit in basically any errored component
	2. added a small border to the error component to make it clear what has errored - this is especially helpful on dashboards.
	3. gave that ‚ö†Ô∏è component an updated tooltip and made it clickable
	4. clicking the ‚ö†Ô∏è now pops up an intermediate generic error explanation modal from which a user can choose to open the error diagnostic modal.
	5. as a side-effect of all this, we no longer trigger API calls to gather diagnostic information unless a user opens the diagnostic modal - this will prevent duplicate information-gathering on pages that have multiple errored components at once.
2. **Better frontend error capturing** I discovered when testing this on stats that the production bundle handles error reporting differently than the hot-reloading dev bundle. 
    1. The biggest issue I discovered was that any error caught by our error boundary were swallowed. By adding a console.error to the error boundary component, we can be sure that our frontend error buffer gets those errors as well.   
    2. I also added some custom error serialization handling to make sure that error objects get properly serialized when downloaded in our diagnostic json.

![Screen Shot 2024-03-14 at 3 22 09 PM](https://github.com/metabase/metabase/assets/30528226/9db2f6c3-6f28-45de-ba83-326c4acb3a9f)
![diagnosticsmodals](https://github.com/metabase/metabase/assets/30528226/4939ae08-876b-4cf4-98e8-85f9195c9faa)

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",iethree,2024-03-14 21:38:20+00:00,['iethree'],2024-03-19 13:53:33+00:00,2024-03-19 13:53:21+00:00,https://github.com/metabase/metabase/pull/40149,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 1998540201, 'issue_id': 2187310148, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/04f8c4b6-b464-4213-baf7-fa68dde8df67"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>85aff057772156e84d1ec869bb6c34fdb264c064</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2361 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 14, 21, 50, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2007241935, 'issue_id': 2187310148, 'author': 'github-actions[bot]', 'body': '@iethree Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 19, 13, 53, 32, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-14 21:50:25 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/04f8c4b6-b464-4213-baf7-fa68dde8df67"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>85aff057772156e84d1ec869bb6c34fdb264c064</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2361 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-19 13:53:32 UTC): @iethree Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2187259195,pull_request,closed,,docs - fix anchor links,Updates some anchor links.,jeff-bruemmer,2024-03-14 20:59:54+00:00,['jeff-bruemmer'],2024-03-15 12:13:11+00:00,2024-03-15 12:12:59+00:00,https://github.com/metabase/metabase/pull/40148,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 1999538940, 'issue_id': 2187259195, 'author': 'github-actions[bot]', 'body': '@jeff-bruemmer Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 15, 12, 13, 10, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-15 12:13:10 UTC): @jeff-bruemmer Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2187194277,pull_request,closed,,"[MLv2] Offer only compatible units for ""Extract"" drill-thru","Eg. for a date column without a time, don't offer ""Hour of day"" as a
choice. For a time column without the date, only offer ""Hour of day"".

Fixes #40125.
",bshepherdson,2024-03-14 20:15:25+00:00,['bshepherdson'],2024-03-15 12:48:09+00:00,2024-03-15 11:01:15+00:00,https://github.com/metabase/metabase/pull/40147,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 1998352597, 'issue_id': 2187194277, 'author': 'bshepherdson', 'body': '* **#40147** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40147?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @bshepherdson and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 14, 20, 15, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 1998403715, 'issue_id': 2187194277, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/9ea77c6d-cf21-4e4c-9035-1fbe750fd165"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>67452da5b8db7cd998fcad250941cee5446171c0</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>6 Flaky</b></div>\n<div>‚úÖ <b>2356 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 14, 20, 27, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 1999417727, 'issue_id': 2187194277, 'author': 'github-actions[bot]', 'body': '@bshepherdson Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 15, 11, 1, 28, tzinfo=datetime.timezone.utc)}]","bshepherdson (Issue Creator) on (2024-03-14 20:15:45 UTC): * **#40147** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40147?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @bshepherdson and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

replay-io[bot] on (2024-03-14 20:27:02 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/9ea77c6d-cf21-4e4c-9035-1fbe750fd165"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>67452da5b8db7cd998fcad250941cee5446171c0</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>6 Flaky</b></div>
<div>‚úÖ <b>2356 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-15 11:01:28 UTC): @bshepherdson Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2187127032,pull_request,closed,,Upgrade to React 17,"Closes #40178

### Description

This PR upgrades us to React 17. A direct upgrade to React 18 was causing too many test failures, so the goal is to start walk some of our dependencies forward to help surface a smaller amount of errors at a time and make the source of those issues clearer.

I've tried to highlighted in code comments the motivation for each of the changes that feel like they require more context.

### How to verify

- Play around with the app and make sure nothing unexpected happens.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",sloansparger,2024-03-14 19:33:13+00:00,['sloansparger'],2024-03-18 14:11:35+00:00,2024-03-18 14:11:35+00:00,https://github.com/metabase/metabase/pull/40144,"[('visual', 'Run Percy visual testing'), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 1998303804, 'issue_id': 2187127032, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/821cd2ff-4263-42cb-9e7f-d78f8c25d020"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>384237611e841da373743062abf8b1cc7fed90d8</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2362 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 14, 19, 45, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 1998456740, 'issue_id': 2187127032, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff ed7e147b7cdace92b6f84e35523558927d1f5821...384237611e841da373743062abf8b1cc7fed90d8.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/shared/components/RowChart/RowChart.unit.spec.tsx |\n| @kdoh | frontend/src/metabase/ui/components/inputs/TextInputBlurChange/TextInputBlurChange.tsx<br>frontend/src/metabase/ui/components/overlays/Popover/Popover.styled.tsx |', 'created_at': datetime.datetime(2024, 3, 14, 20, 46, 39, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-14 19:45:43 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/821cd2ff-4263-42cb-9e7f-d78f8c25d020"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>384237611e841da373743062abf8b1cc7fed90d8</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2362 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-14 20:46:39 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff ed7e147b7cdace92b6f84e35523558927d1f5821...384237611e841da373743062abf8b1cc7fed90d8.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/shared/components/RowChart/RowChart.unit.spec.tsx |
| @kdoh | frontend/src/metabase/ui/components/inputs/TextInputBlurChange/TextInputBlurChange.tsx<br>frontend/src/metabase/ui/components/overlays/Popover/Popover.styled.tsx |

"
2186992309,pull_request,closed,,Backport fix to check base-type in isa if effective-type is missing,"Fixes #35640

Pulls snippet from a66db9e here https://github.com/metabase/metabase/blame/ed7e147b7cdace92b6f84e35523558927d1f5821/src/metabase/lib/types/isa.cljc#L24-L27
",snoe,2024-03-14 18:21:44+00:00,['snoe'],2024-05-27 15:24:07+00:00,2024-05-27 15:24:07+00:00,https://github.com/metabase/metabase/pull/40143,[],"[{'comment_id': 2018311399, 'issue_id': 2186992309, 'author': 'paoliniluis', 'body': 'Is this in v49 already @snoe ?', 'created_at': datetime.datetime(2024, 3, 25, 15, 42, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2133692343, 'issue_id': 2186992309, 'author': 'snoe', 'body': 'This backport was deemed unnecessary\r\nhttps://metaboat.slack.com/archives/C052ZBWRG3W/p1710335533341969', 'created_at': datetime.datetime(2024, 5, 27, 15, 24, 7, tzinfo=datetime.timezone.utc)}]","paoliniluis on (2024-03-25 15:42:46 UTC): Is this in v49 already @snoe ?

snoe (Issue Creator) on (2024-05-27 15:24:07 UTC): This backport was deemed unnecessary
https://metaboat.slack.com/archives/C052ZBWRG3W/p1710335533341969

"
2186929834,pull_request,closed,,MLv2 normalization overhaul,"MLv2 normalization was previously pretty incomplete, this PR overhauls it so it actually works 100% when things come out of the app DB or in thru the REST API; adds some QP preprocessing middleware to verify this as well.

The new normalization code uses Malli coercion using the `:decode/normalize` key attached to various MLv2 schemas.

I've also added `:encode/serialize` for preparing a MLv2 query for serialization to the app DB or over the REST API, this is currently mostly to help the new normalization tests avoid failing (shouldn't need to normalize keys that are added by QP entrypoints or middleware, like `:info`).

The MLv2 schema was also missing a lot of stuff like `:info`, `:parameters`, and `:template-tags`, so this adds them as well.

I'll call more stuff out in the comments",camsaul,2024-03-14 17:44:07+00:00,['camsaul'],2024-03-15 23:47:51+00:00,2024-03-15 23:47:37+00:00,https://github.com/metabase/metabase/pull/40142,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 1998833444, 'issue_id': 2186929834, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/1fc65600-d956-4139-818e-9dc7766120bc"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>ea2fbc626d885cf795b0b2b6a70c115faa4b9329</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2360 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 15, 2, 30, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 2000677819, 'issue_id': 2186929834, 'author': 'github-actions[bot]', 'body': '@camsaul Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 15, 23, 47, 49, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-15 02:30:03 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/1fc65600-d956-4139-818e-9dc7766120bc"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>ea2fbc626d885cf795b0b2b6a70c115faa4b9329</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2360 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-15 23:47:49 UTC): @camsaul Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2186927773,pull_request,closed,,Improved pivot QP: use MLv2 and avoid recursive preprocessing (performance improvement),"Updates pivot QP to handle MLv2 queries (actually, it uses MLv2 now and converts legacy queries if it sees them). This simplified the code a lot. I added a lot of documentation and Malli schemas here while I was in the process of figuring out how this code worked, hopefully it will make it easier to work with in the future.

While I was working on this I realized that the recursive preprocessing and `:name`-based column matching to line up columns from various subqueries was unnecessary, expensive, and error-prone; I replaced it with something that should lead to a nice performance boost and probably fix a few bugs (I'll have to profile and look for matching bugs soon.)

Part of #39024",camsaul,2024-03-14 17:42:57+00:00,['camsaul'],2024-04-09 23:10:40+00:00,2024-04-09 22:32:02+00:00,https://github.com/metabase/metabase/pull/40141,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2011041607, 'issue_id': 2186927773, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/81f4c279-f061-47bd-b17f-2739042314ab"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>c134fc0d989379e67c2d3b5ea6d5ba9175543210</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>10 Flaky</b></div>\n<div>‚úÖ <b>2396 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 21, 1, 52, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2046148183, 'issue_id': 2186927773, 'author': 'github-actions[bot]', 'body': '@camsaul Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 4, 9, 22, 32, 14, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-21 01:52:40 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/81f4c279-f061-47bd-b17f-2739042314ab"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>c134fc0d989379e67c2d3b5ea6d5ba9175543210</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>10 Flaky</b></div>
<div>‚úÖ <b>2396 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-04-09 22:32:14 UTC): @camsaul Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2186859349,pull_request,closed,,ParseSQL feature branch,,luizarakaki,2024-03-14 17:05:02+00:00,['luizarakaki'],2024-11-18 18:56:19+00:00,2024-11-18 18:56:12+00:00,https://github.com/metabase/metabase/pull/40140,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2020636089, 'issue_id': 2186859349, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/dc517414-05e9-4568-a580-ccb9cebe4916"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>d791075ad5f21932a0e5a23640ffcf75b91e71b0</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>2 Failed</b></div>\n<div>‚ö†Ô∏è <b>8 Flaky</b></div>\n<div>‚úÖ <b>2389 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 26, 14, 46, 59, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-26 14:46:59 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/dc517414-05e9-4568-a580-ccb9cebe4916"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>d791075ad5f21932a0e5a23640ffcf75b91e71b0</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>2 Failed</b></div>
<div>‚ö†Ô∏è <b>8 Flaky</b></div>
<div>‚úÖ <b>2389 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2186705665,pull_request,closed,,4. Connect illustrations to new setting values,"Epic: #39246

### Description

Connect the rest 3 illustration settings to the UI
1. Landing page (existing)
1. No question results
1. No search results

### How to verify
Change the 4 illustration settings to any values and visit
1. Login page
2. Landing page
3. Unsubscribe page `/unsubscribe?hash=hash&email=email&pulse-id=pulse-id`
4. Question without results
5. Questions without results as a card in a dashboard
6. `+ New` > Dashboard > Click the collection > you'll see the new collection picker
7. From the collection picker search anything that would return nothing
8. From the collection picker go to an empty collection
9. search in the app for anything that would return nothing

### Demo
![Screenshot 2024-03-14 at 10 45 39‚ÄØPM](https://github.com/metabase/metabase/assets/1937582/9623d7e2-c4a6-4d24-822d-bd74e0872742)


### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",WiNloSt,2024-03-14 15:47:15+00:00,['WiNloSt'],2024-03-28 05:43:14+00:00,2024-03-28 05:43:13+00:00,https://github.com/metabase/metabase/pull/40139,"[('visual', 'Run Percy visual testing'), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', '')]","[{'comment_id': 1997769648, 'issue_id': 2186705665, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 84591781e4d32c775b87139fb19ae176311515ea...114d47bb01d488f32434a19ad56be2503394473d.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/Visualization/NoResultsView/NoResultsView.tsx |\n| @kdoh | frontend/src/metabase/ui/components/data-display/Image/index.tsx |\n| @ranquild | enterprise/frontend/src/metabase-enterprise/whitelabel/components/IllustrationWidget/IllustrationWidget.tsx<br>enterprise/frontend/src/metabase-enterprise/whitelabel/components/IllustrationWidget/IllustrationWidget.unit.spec.tsx<br>enterprise/frontend/src/metabase-enterprise/whitelabel/index.js<br>frontend/src/metabase/auth/components/AuthLayout/AuthLayout.styled.tsx<br>frontend/src/metabase/auth/components/AuthLayout/AuthLayout.tsx<br>frontend/src/metabase/home/components/HomeLayout/HomeLayout.styled.tsx<br>frontend/src/metabase/home/components/HomeLayout/HomeLayout.tsx |', 'created_at': datetime.datetime(2024, 3, 14, 15, 48, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 2012755250, 'issue_id': 2186705665, 'author': 'WiNloSt', 'body': '> [!WARNING]\n> <b>This pull request is not mergeable via GitHub because a downstack PR is open. Once all requirements are satisfied, merge this PR as a stack <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40139?utm_source=stack-comment-downstack-mergeability-warning"" >on Graphite</a>.</b>\n> <a href=""https://graphite.dev/docs/merge-pull-requests"">Learn more</a>\n\n* **#40139** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40139?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* **#40219** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40219?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 2 other dependent PRs ([#40487](https://github.com/metabase/metabase/pull/40487) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40487?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#40491](https://github.com/metabase/metabase/pull/40491) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40491?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>)\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @WiNloSt and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 21, 15, 55, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 2020837815, 'issue_id': 2186705665, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/59b90b60-6097-41f3-9516-3b29d7a9ef49"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>114d47bb01d488f32434a19ad56be2503394473d</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>6 Flaky</b></div>\n<div>‚úÖ <b>2377 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 26, 16, 3, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 2022147742, 'issue_id': 2186705665, 'author': 'WiNloSt', 'body': ""@noahmoss Could you help take a look if the BE part looks good? They are just settings. The rename was made in between the integration branch, so they weren't on master yet."", 'created_at': datetime.datetime(2024, 3, 27, 7, 52, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 2023228155, 'issue_id': 2186705665, 'author': 'noahmoss', 'body': '@WiNloSt looks fine!', 'created_at': datetime.datetime(2024, 3, 27, 16, 32, 46, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-14 15:48:25 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 84591781e4d32c775b87139fb19ae176311515ea...114d47bb01d488f32434a19ad56be2503394473d.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/Visualization/NoResultsView/NoResultsView.tsx |
| @kdoh | frontend/src/metabase/ui/components/data-display/Image/index.tsx |
| @ranquild | enterprise/frontend/src/metabase-enterprise/whitelabel/components/IllustrationWidget/IllustrationWidget.tsx<br>enterprise/frontend/src/metabase-enterprise/whitelabel/components/IllustrationWidget/IllustrationWidget.unit.spec.tsx<br>enterprise/frontend/src/metabase-enterprise/whitelabel/index.js<br>frontend/src/metabase/auth/components/AuthLayout/AuthLayout.styled.tsx<br>frontend/src/metabase/auth/components/AuthLayout/AuthLayout.tsx<br>frontend/src/metabase/home/components/HomeLayout/HomeLayout.styled.tsx<br>frontend/src/metabase/home/components/HomeLayout/HomeLayout.tsx |

WiNloSt (Issue Creator) on (2024-03-21 15:55:12 UTC): * **#40139** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40139?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* **#40219** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40219?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 2 other dependent PRs ([#40487](https://github.com/metabase/metabase/pull/40487) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40487?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#40491](https://github.com/metabase/metabase/pull/40491) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40491?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>)
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @WiNloSt and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

replay-io[bot] on (2024-03-26 16:03:22 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/59b90b60-6097-41f3-9516-3b29d7a9ef49"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>114d47bb01d488f32434a19ad56be2503394473d</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>6 Flaky</b></div>
<div>‚úÖ <b>2377 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

WiNloSt (Issue Creator) on (2024-03-27 07:52:30 UTC): @noahmoss Could you help take a look if the BE part looks good? They are just settings. The rename was made in between the integration branch, so they weren't on master yet.

noahmoss on (2024-03-27 16:32:46 UTC): @WiNloSt looks fine!

"
2186605698,pull_request,closed,,Running CI for external contribution #39471,#39471,metamben,2024-03-14 15:02:59+00:00,['metamben'],2024-03-20 22:43:09+00:00,2024-03-20 22:43:09+00:00,https://github.com/metabase/metabase/pull/40137,"[('do not merge', ''), ('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 1997706318, 'issue_id': 2186605698, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/0cdf9ba8-a889-4aa3-aaaf-d16f7c5863c9"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>085406ff69fda94d13b7d89c816718c9a03bcd49</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚úÖ <b>2364 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 14, 15, 20, 29, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-14 15:20:29 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/0cdf9ba8-a889-4aa3-aaaf-d16f7c5863c9"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>085406ff69fda94d13b7d89c816718c9a03bcd49</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚úÖ <b>2364 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2186535922,pull_request,closed,,Fix notebook being unable to resize,"Fixes #33982 
Fixes #39628

### Description

Upgrading the `react-resizable` library in #29414 broke the ability to resize Notebook in ""Editing model query"" view. This was reported in #33982.

We jumped from v1 to v3 of this library. There was a breaking change that hasn't been addressed originally.
https://github.com/react-grid-layout/react-resizable/blob/master/CHANGELOG.md#breaking

The handle now needs an explicit ref. Failing to attach the ref results in an error 
```
<DraggableCore> not mounted on DragStart!
```

Apart from fixing this problem, this PR also removes the styled components and uses Mantine instead.

### How to verify
Follow the reproduction steps from the original issue.

### Demo
![Kapture 2024-03-14 at 18 54 04](https://github.com/metabase/metabase/assets/31325167/e220903b-b20a-44b4-9a6e-670b68c14b7f)


### Checklist
- [ ] Tests have been added/updated to cover changes in this PR
",nemanjaglumac,2024-03-14 14:33:16+00:00,['nemanjaglumac'],2024-03-15 14:14:55+00:00,2024-03-15 14:14:40+00:00,https://github.com/metabase/metabase/pull/40136,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 1998042746, 'issue_id': 2186535922, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/c547e886-9d64-4d03-a6b0-7f584e50a497"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>5de64cae285bba3998911096d5445ead473f20a0</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>8 Flaky</b></div>\n<div>‚úÖ <b>2356 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 14, 18, 6, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 1999761277, 'issue_id': 2186535922, 'author': 'github-actions[bot]', 'body': '@nemanjaglumac Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 15, 14, 14, 54, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-14 18:06:53 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/c547e886-9d64-4d03-a6b0-7f584e50a497"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>5de64cae285bba3998911096d5445ead473f20a0</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>8 Flaky</b></div>
<div>‚úÖ <b>2356 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-15 14:14:54 UTC): @nemanjaglumac Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2186529876,pull_request,closed,,Update environment-variables.md,"Add note about the fact that inline scripts and styling are not supported with SVG logos.

> [!IMPORTANT]
> If you are merging into master, please add either a `backport` or a `no-backport` label to this PR. You will not be able to merge until you do this step. Refer to the section [Do I need to backport this PR?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#89f80d6f17714a0198aeb66c0efd1b71) in the Metabase Branching Strategy document for more details.

> **Warning**
>
> If that is your first contribution to Metabase, please sign the [Contributor License Agreement](https://docs.google.com/a/metabase.com/forms/d/1oV38o7b9ONFSwuzwmERRMi9SYrhYeOrkbmNaq9pOJ_E/viewform) (unless it's a tiny documentation change). Also, if you're attempting to fix a translation issue, please submit your changes to our [POEditor project](https://poeditor.com/join/project/ynjQmwSsGh) instead of opening a PR.

Closes https://github.com/metabase/metabase/issues/[issue_number]

### Description

Describe the overall approach and the problem being solved.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> ...
2. ...

### Demo

_Upload a demo video or before/after screenshots if sensible or remove the section_

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",ixipixi,2024-03-14 14:30:33+00:00,[],2024-06-04 22:49:23+00:00,2024-06-04 22:49:23+00:00,https://github.com/metabase/metabase/pull/40135,[],[],
2186478216,pull_request,closed,,Convert `pulse.module.css` to CSS modules,"### Description

Removes `pulse.module.css` from the global CSS and uses local styles to (hopefully) make the styling for the components more easily understood.

### How to verify

Go to the Question Alerts button (the bell button on the bottom right of the view) and create an alert. Ensure that there are no weird or obvious style failures when using the email and slack widgets.

### Checklist

- [X] Tests have been added/updated to cover changes in this PR
",oisincoveney,2024-03-14 14:07:21+00:00,[],2024-03-19 11:40:10+00:00,2024-03-19 11:11:37+00:00,https://github.com/metabase/metabase/pull/40134,"[('visual', 'Run Percy visual testing')]","[{'comment_id': 1997618860, 'issue_id': 2186478216, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/82d1dcdb-cb2f-4bd0-aff7-a3395154a469"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>d93e1e555a4a822781dfc8b276201b5fbc193f92</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>1 Failed</b></div>\n<div>‚úÖ <b>2369 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 14, 14, 42, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 1999908679, 'issue_id': 2186478216, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 403c40f5f825a789c0bc2c60c4a3405b716cddee...d93e1e555a4a822781dfc8b276201b5fbc193f92.\n\nNo notifications.', 'created_at': datetime.datetime(2024, 3, 15, 15, 27, 51, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-14 14:42:27 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/82d1dcdb-cb2f-4bd0-aff7-a3395154a469"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>d93e1e555a4a822781dfc8b276201b5fbc193f92</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>1 Failed</b></div>
<div>‚úÖ <b>2369 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-15 15:27:51 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 403c40f5f825a789c0bc2c60c4a3405b716cddee...d93e1e555a4a822781dfc8b276201b5fbc193f92.

No notifications.

"
2186324817,pull_request,closed,,Global to local css migration - form,"Relates to https://github.com/metabase/metabase/issues/38811 , Milestone 2

### Description

This migrates global CSS rules from `form.module.css` to be locally scoped.

### How to verify
- Mainly visual and code comparison
",deniskaber,2024-03-14 12:59:45+00:00,['deniskaber'],2024-03-22 14:34:28+00:00,2024-03-22 14:34:27+00:00,https://github.com/metabase/metabase/pull/40133,"[('visual', 'Run Percy visual testing'), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', '')]","[{'comment_id': 1997408130, 'issue_id': 2186324817, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 2f7952b5f6239ce061880b204eec7fff7242fd28...f6c44a84016511ee134005abcdcca2746e6ed49c.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettingsWidget.styled.tsx<br>frontend/src/metabase/visualizations/components/ChartSettingsWidget.tsx |', 'created_at': datetime.datetime(2024, 3, 14, 13, 0, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 1997431942, 'issue_id': 2186324817, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/20a1fbdc-b5d8-416d-b074-4f861ff62473"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>f6c44a84016511ee134005abcdcca2746e6ed49c</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2374 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 14, 13, 12, 1, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-14 13:00:54 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 2f7952b5f6239ce061880b204eec7fff7242fd28...f6c44a84016511ee134005abcdcca2746e6ed49c.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettingsWidget.styled.tsx<br>frontend/src/metabase/visualizations/components/ChartSettingsWidget.tsx |

replay-io[bot] on (2024-03-14 13:12:01 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/20a1fbdc-b5d8-416d-b074-4f861ff62473"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>f6c44a84016511ee134005abcdcca2746e6ed49c</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2374 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2186241418,pull_request,closed,,Add UI to swap clauses in the notebook (#39205),"Cherry-picked from https://github.com/metabase/metabase/pull/39205, which was already approved",ranquild,2024-03-14 12:30:34+00:00,['ranquild'],2024-03-14 16:07:13+00:00,2024-03-14 16:07:00+00:00,https://github.com/metabase/metabase/pull/40131,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 1997370244, 'issue_id': 2186241418, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/979f9780-d717-4d80-a2c1-5e0d39353976"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>3319367e773357e372ec144577cf77e9185b5990</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2358 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 14, 12, 42, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 1997809835, 'issue_id': 2186241418, 'author': 'github-actions[bot]', 'body': '@ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 14, 16, 7, 12, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-14 12:42:08 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/979f9780-d717-4d80-a2c1-5e0d39353976"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>3319367e773357e372ec144577cf77e9185b5990</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2358 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-14 16:07:12 UTC): @ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2186232706,pull_request,closed,,Fix png download in safari in embedding,"Fixes https://github.com/metabase/metabase/issues/40095

Data URLs do not work with strict CSP in embedding. Object URLs do and they are used for pdf export. Let's do PNG export as we do PDF export.",ranquild,2024-03-14 12:27:46+00:00,['ranquild'],2024-03-15 11:14:04+00:00,2024-03-15 11:13:50+00:00,https://github.com/metabase/metabase/pull/40130,"[('backport', 'Automatically create PR on current release branch on merge'), ('visual', 'Run Percy visual testing'), ('.Team/Querying', '')]","[{'comment_id': 1997390077, 'issue_id': 2186232706, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 37b50677ed0b029708d6aa3b9db797f1b6a66e64...553a7935c43a59c597587b29c4a26792104d202a.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/lib/save-chart-image.ts |', 'created_at': datetime.datetime(2024, 3, 14, 12, 52, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 1997413315, 'issue_id': 2186232706, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/3d95c4f6-72e4-4d63-be1f-0ff93dc92e35"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>553a7935c43a59c597587b29c4a26792104d202a</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2359 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 14, 13, 3, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 1999437575, 'issue_id': 2186232706, 'author': 'github-actions[bot]', 'body': '@ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 15, 11, 14, 3, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-14 12:52:18 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 37b50677ed0b029708d6aa3b9db797f1b6a66e64...553a7935c43a59c597587b29c4a26792104d202a.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/lib/save-chart-image.ts |

replay-io[bot] on (2024-03-14 13:03:13 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/3d95c4f6-72e4-4d63-be1f-0ff93dc92e35"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>553a7935c43a59c597587b29c4a26792104d202a</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2359 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-15 11:14:03 UTC): @ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2186159243,pull_request,closed,,"ü§ñ backported ""Faster sync-fields""",#38828,metabase-bot[bot],2024-03-14 11:55:17+00:00,['calherries'],2024-03-14 12:32:37+00:00,2024-03-14 12:32:36+00:00,https://github.com/metabase/metabase/pull/40123,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1997296781, 'issue_id': 2186159243, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/85a6a0be-a77a-45ec-9927-44cc0632a346"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>c77690f41106baf33258fb4b440b73ad02a87908</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2332 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 14, 12, 7, 33, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-14 12:07:33 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/85a6a0be-a77a-45ec-9927-44cc0632a346"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>c77690f41106baf33258fb4b440b73ad02a87908</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2332 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2186147801,pull_request,closed,,"ü§ñ backported ""Don't include blank actions in the entitymenu""","  #40111
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",metabase-bot[bot],2024-03-14 11:49:01+00:00,['rafpaf'],2024-03-14 13:06:32+00:00,2024-03-14 13:06:32+00:00,https://github.com/metabase/metabase/pull/40122,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1997420620, 'issue_id': 2186147801, 'author': 'rafpaf', 'body': 'Backport of this is not needed', 'created_at': datetime.datetime(2024, 3, 14, 13, 6, 32, tzinfo=datetime.timezone.utc)}]","rafpaf (Assginee) on (2024-03-14 13:06:32 UTC): Backport of this is not needed

"
2185738832,pull_request,closed,,"ü§ñ backported ""TableDefinition can define a composite PK""",#40006,metabase-bot[bot],2024-03-14 08:28:10+00:00,['calherries'],2024-03-14 09:07:45+00:00,2024-03-14 09:07:44+00:00,https://github.com/metabase/metabase/pull/40119,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2185709136,pull_request,closed,,Mention dev-scripts and UTM in dev namespace doc,,qnkhuat,2024-03-14 08:13:01+00:00,['qnkhuat'],2024-03-15 00:39:32+00:00,2024-03-15 00:39:31+00:00,https://github.com/metabase/metabase/pull/40118,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]",[],
2185147933,pull_request,closed,,fix stack display setting,"Closes https://github.com/metabase/metabase/issues/39597
Closes https://github.com/metabase/metabase/issues/39598
Closes https://github.com/metabase/metabase/issues/39649

### Description

Fixes non-working stack display setting which should override series display settings:
<img width=""356"" alt=""Screenshot 2024-03-13 at 9 22 52‚ÄØPM"" src=""https://github.com/metabase/metabase/assets/14301985/942160f7-8b41-4e7c-96a1-d49ddc9d4cf5"">

### How to verify

- Create a bar/area chart
- Change some series display settings to line
- Make it stacked
- Ensure the stack display setting overrides series display settings

### Demo

Before
<img width=""1260"" alt=""Screenshot 2024-03-13 at 9 25 01‚ÄØPM"" src=""https://github.com/metabase/metabase/assets/14301985/f22145ea-8a1c-40c5-ab8f-f1832ec14840"">

After
<img width=""1260"" alt=""Screenshot 2024-03-13 at 9 24 29‚ÄØPM"" src=""https://github.com/metabase/metabase/assets/14301985/e5d00ed1-5a17-4e23-89f2-ef8860c08dc7"">

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",alxnddr,2024-03-14 00:25:31+00:00,['alxnddr'],2024-03-14 19:30:53+00:00,2024-03-14 19:30:53+00:00,https://github.com/metabase/metabase/pull/40116,"[('visual', 'Run Percy visual testing'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 1996189789, 'issue_id': 2185147933, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/91c8bddc-de04-4653-b874-2edde128ddde"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>acf4cc1975de53610737cc763edf56f80a92593c</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>177 Failed</b></div>\n<div>‚úÖ <b>2040 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 14, 0, 38, 46, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-14 00:38:46 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/91c8bddc-de04-4653-b874-2edde128ddde"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>acf4cc1975de53610737cc763edf56f80a92593c</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>177 Failed</b></div>
<div>‚úÖ <b>2040 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2185057415,pull_request,closed,,"ü§ñ backported ""Remove Models from Browse data""","  #40108

‚úÖ conflicts resolved manually",metabase-bot[bot],2024-03-13 23:10:06+00:00,"['rafpaf', 'iethree']",2024-03-14 12:12:18+00:00,2024-03-14 12:12:17+00:00,https://github.com/metabase/metabase/pull/40115,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1997268941, 'issue_id': 2185057415, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/92c20022-21ac-4411-b90f-76b938e12485"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>f42d57c96b5773bd700b020538bab10ab44cfef8</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2334 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 14, 11, 50, 39, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-14 11:50:39 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/92c20022-21ac-4411-b90f-76b938e12485"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>f42d57c96b5773bd700b020538bab10ab44cfef8</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2334 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2185040779,pull_request,closed,,Funnel Chart Static-Viz should handle row data more robustly,"Fixes: #39743 

The row data coming into the funnel chart render method can evidently have a few slightly different shapes, and may need to be 'coordinated' with the :funnel.rows key from viz-settings (names and order are specified there).

The specific bug is that we previously assumed the rows always had indices: `[idx val]`, but they can actually be strings too, so (dec idx) would fail.

This PR makes the method more robust to different row data shapes. For example:

`[[1 100] [2 200]]` should work as well as `[[""A"" 100] [""B"" 200]]` and correctly handle the viz-settings, when possible. There may be cases where the :funnel.rows key has non-unique keys. In such a case, the row order can't be determined, so we hope that the query's results are returned in order. I suspect this case is rare in practice, so this feels like an acceptable solution for now.

I also noticed that the funnel.rows may have `:enabled false` and took the opportunity to filter those rows out as well.
",adam-james-v,2024-03-13 22:58:25+00:00,['adam-james-v'],2024-03-22 21:15:45+00:00,2024-03-22 21:15:32+00:00,https://github.com/metabase/metabase/pull/40114,"[('.Backend', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('Visualization/Static', 'Subscriptions/pulse generated image'), ('visual', 'Run Percy visual testing'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 2000681518, 'issue_id': 2185040779, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/dc7676c6-cc6b-424e-8918-72224c89cb56"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>605abd1bbb62304034fdcccb14b199659b2e73ee</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2378 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 15, 23, 49, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 2015939149, 'issue_id': 2185040779, 'author': 'github-actions[bot]', 'body': '@adam-james-v Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 22, 21, 15, 44, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-15 23:49:23 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/dc7676c6-cc6b-424e-8918-72224c89cb56"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>605abd1bbb62304034fdcccb14b199659b2e73ee</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2378 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-22 21:15:44 UTC): @adam-james-v Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2184969416,pull_request,closed,,[WIP] Collection perm graph reduce payload,,escherize,2024-03-13 22:03:55+00:00,"['escherize', 'npfitz']",2025-02-04 18:15:20+00:00,2024-03-22 21:14:51+00:00,https://github.com/metabase/metabase/pull/40113,"[('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 2015937945, 'issue_id': 2184969416, 'author': 'escherize', 'body': ""This isn't being worked on currently, let's reopen when it is."", 'created_at': datetime.datetime(2024, 3, 22, 21, 14, 51, tzinfo=datetime.timezone.utc)}]","escherize (Issue Creator) on (2024-03-22 21:14:51 UTC): This isn't being worked on currently, let's reopen when it is.

"
2184963447,pull_request,closed,,Remove global css module that was applying red borders,"This PR
* removes global.module.css, which was applying a red border to anything with class ""undefined""
* adds a simple hook that checks the CSS for aberrations every 15s. Alerts are sent via `console.error`

Here's how the red border previously looked:
![image](https://github.com/metabase/metabase/assets/130925/e9338ff1-125b-4f76-b160-3c41230218a3)

Screenshot from `/reference/segments`",rafpaf,2024-03-13 21:58:57+00:00,['rafpaf'],2024-08-02 20:54:00+00:00,2024-08-02 20:23:28+00:00,https://github.com/metabase/metabase/pull/40112,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 1995980864, 'issue_id': 2184963447, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/07e86c15-6589-46a7-a6b6-8e08e7889b71"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>e80c44d4ac59a8ebfe97c6fe263f6913c65d8f8d</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>1 Failed</b></div>\n<div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2346 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 13, 22, 12, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 1996039132, 'issue_id': 2184963447, 'author': 'iethree', 'body': ""ü§î  This feels like a strange approach to me. I can see how this red box would be helpful in development, but it looks like we're shipping debug code in production here."", 'created_at': datetime.datetime(2024, 3, 13, 22, 50, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2108715370, 'issue_id': 2184963447, 'author': 'rafpaf', 'body': 'I\'m still concerned about this. I only know part of the story, so let me share that part - how things look from my point of view. The red line might make sense *if we will easily notice it*. On the screenshotted page, though, it appeared on items that are tucked away on the ""Learn about our data"" page. That is a somewhat high-visibility page (you can get to it by clicking two high-visibility links in a row). But it\'s not a page that we visit often, and we don\'t have any visual tests that cover it. To my mind, this indicates that the red border strategy is quite risky. It risks creating an embarrassing visual error that we might not notice until we hear about it from users.\n\nI am sure that I don\'t understand the whole context though. What am I missing?', 'created_at': datetime.datetime(2024, 5, 13, 20, 11, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2108950424, 'issue_id': 2184963447, 'author': 'rafpaf', 'body': 'A middle way might be to switch this on just in development environments and in stats, if this is possible.', 'created_at': datetime.datetime(2024, 5, 13, 23, 6, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2108951142, 'issue_id': 2184963447, 'author': 'dpsutton', 'body': ""@deniskaber would a good solution being coming up with a way to enable the red CSS in stats and local dev, but suppressing it in the regular course of business in production builds?\r\n\r\nI really like stats to highlight these as it's heavily used. Highlighting these CSS cases in the regular production jar feels far worse than an undefined class to me.\r\n\r\nDoes this seem like a good way to track CSS issues while not drawing unwarranted attention to perhaps minor mistakes in customer builds?"", 'created_at': datetime.datetime(2024, 5, 13, 23, 7, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2110796640, 'issue_id': 2184963447, 'author': 'deniskaber', 'body': ""> @deniskaber would a good solution being coming up with a way to enable the red CSS in stats and local dev, but suppressing it in the regular course of business in production builds?\r\n> \r\n> I really like stats to highlight these as it's heavily used. Highlighting these CSS cases in the regular production jar feels far worse than an undefined class to me.\r\n> \r\n> Does this seem like a good way to track CSS issues while not drawing unwarranted attention to perhaps minor mistakes in customer builds?\r\n\r\nHey @dpsutton! Sure! I think it is a good idea, let's do it."", 'created_at': datetime.datetime(2024, 5, 14, 17, 49, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 2265468993, 'issue_id': 2184963447, 'author': 'rafpaf', 'body': ""@deniskaber @dpsutton I've just pushed an approach that I think gets most of the value here cheaply: every 15s the app checks for problematic elements and `console.error`s if any are found. I think that's probably sufficient visibility. Wdyt?"", 'created_at': datetime.datetime(2024, 8, 2, 14, 2, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 2265836197, 'issue_id': 2184963447, 'author': 'rafpaf', 'body': '@deniskaber Done! The PR now just removes `global.module.css`', 'created_at': datetime.datetime(2024, 8, 2, 17, 24, 6, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-13 22:12:18 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/07e86c15-6589-46a7-a6b6-8e08e7889b71"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>e80c44d4ac59a8ebfe97c6fe263f6913c65d8f8d</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>1 Failed</b></div>
<div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2346 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

iethree on (2024-03-13 22:50:48 UTC): ü§î  This feels like a strange approach to me. I can see how this red box would be helpful in development, but it looks like we're shipping debug code in production here.

rafpaf (Issue Creator) on (2024-05-13 20:11:33 UTC): I'm still concerned about this. I only know part of the story, so let me share that part - how things look from my point of view. The red line might make sense *if we will easily notice it*. On the screenshotted page, though, it appeared on items that are tucked away on the ""Learn about our data"" page. That is a somewhat high-visibility page (you can get to it by clicking two high-visibility links in a row). But it's not a page that we visit often, and we don't have any visual tests that cover it. To my mind, this indicates that the red border strategy is quite risky. It risks creating an embarrassing visual error that we might not notice until we hear about it from users.

I am sure that I don't understand the whole context though. What am I missing?

rafpaf (Issue Creator) on (2024-05-13 23:06:33 UTC): A middle way might be to switch this on just in development environments and in stats, if this is possible.

dpsutton on (2024-05-13 23:07:14 UTC): @deniskaber would a good solution being coming up with a way to enable the red CSS in stats and local dev, but suppressing it in the regular course of business in production builds?

I really like stats to highlight these as it's heavily used. Highlighting these CSS cases in the regular production jar feels far worse than an undefined class to me.

Does this seem like a good way to track CSS issues while not drawing unwarranted attention to perhaps minor mistakes in customer builds?

deniskaber on (2024-05-14 17:49:14 UTC): Hey @dpsutton! Sure! I think it is a good idea, let's do it.

rafpaf (Issue Creator) on (2024-08-02 14:02:04 UTC): @deniskaber @dpsutton I've just pushed an approach that I think gets most of the value here cheaply: every 15s the app checks for problematic elements and `console.error`s if any are found. I think that's probably sufficient visibility. Wdyt?

rafpaf (Issue Creator) on (2024-08-02 17:24:06 UTC): @deniskaber Done! The PR now just removes `global.module.css`

"
2184912456,pull_request,closed,,Don't include blank actions in the entitymenu,"This PR removes the blank entity menus from tables and schemas

The blank menus looked like this:
![image](https://github.com/metabase/metabase/assets/130925/18852b30-ab8c-4a78-bbdb-316bc18b51c2)

The PR fixes a problem introduced in https://github.com/metabase/metabase/pull/39782
",rafpaf,2024-03-13 21:21:52+00:00,['rafpaf'],2024-03-14 12:53:19+00:00,2024-03-14 11:48:12+00:00,https://github.com/metabase/metabase/pull/40111,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 1995902848, 'issue_id': 2184912456, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/abc85af3-ddff-48fa-9412-6724312aad04"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>a16963aeab4a952e5afe50ba8c1879bb8565e845</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2352 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 13, 21, 33, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 1997265577, 'issue_id': 2184912456, 'author': 'github-actions[bot]', 'body': '@rafpaf Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 14, 11, 48, 29, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-13 21:33:37 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/abc85af3-ddff-48fa-9412-6724312aad04"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>a16963aeab4a952e5afe50ba8c1879bb8565e845</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2352 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-14 11:48:29 UTC): @rafpaf Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2184883445,pull_request,closed,,"ü§ñ backported ""Don't store analytics checksum if audit loading failed""",#40097,metabase-bot[bot],2024-03-13 21:04:29+00:00,['noahmoss'],2024-03-13 21:38:13+00:00,2024-03-13 21:38:12+00:00,https://github.com/metabase/metabase/pull/40110,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1995853476, 'issue_id': 2184883445, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/f4b9723b-9772-40ba-afb5-50b9608821a6"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>237b7ef136f1101a2fbac36fd0635ef4c2d1eb16</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚úÖ <b>2323 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 13, 21, 17, 13, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-13 21:17:13 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/f4b9723b-9772-40ba-afb5-50b9608821a6"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>237b7ef136f1101a2fbac36fd0635ef4c2d1eb16</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚úÖ <b>2323 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2184853161,pull_request,closed,,Remove Models from Browse data,"Closes #40037

<img src=""https://github.com/metabase/metabase/assets/130925/d9966aa9-15d2-4f4b-bf85-8dbea413ed8f"" width=""600"">
",rafpaf,2024-03-13 20:43:48+00:00,['rafpaf'],2024-03-13 23:09:20+00:00,2024-03-13 23:09:20+00:00,https://github.com/metabase/metabase/pull/40108,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 1995830872, 'issue_id': 2184853161, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/beb7bb8c-e26f-49bf-9075-e47454a11386"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>3b3beae1598d2a49323ea13fc3c18d0004eb0452</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>1715 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 13, 21, 10, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 1996040417, 'issue_id': 2184853161, 'author': 'iethree', 'body': 'Looks good! üëç', 'created_at': datetime.datetime(2024, 3, 13, 22, 52, 1, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-13 21:10:55 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/beb7bb8c-e26f-49bf-9075-e47454a11386"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>3b3beae1598d2a49323ea13fc3c18d0004eb0452</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>1715 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

iethree on (2024-03-13 22:52:01 UTC): Looks good! üëç

"
2184820902,pull_request,closed,,"Global to local css migration - Query Builder, Dashboard","Relates to https://github.com/metabase/metabase/issues/38811 , Milestone 2

### Description

This migrates global CSS rules related to query builder and dashboard to be locally scoped.

### How to verify
- Mainly visual and code comparison

",deniskaber,2024-03-13 20:20:48+00:00,['deniskaber'],2024-03-20 18:42:56+00:00,2024-03-20 18:42:55+00:00,https://github.com/metabase/metabase/pull/40106,"[('visual', 'Run Percy visual testing'), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', '')]","[{'comment_id': 1995670115, 'issue_id': 2184820902, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 84735b5571ceb1c6d29a08d9671a32e645ea76c3...ddb316e523ba95339f78a42f0c7a9bdb9aae56c6.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartWithLegend.jsx<br>frontend/src/metabase/visualizations/components/Legend.module.css<br>frontend/src/metabase/visualizations/components/LegendHeader.jsx<br>frontend/src/metabase/visualizations/components/LegendItem.jsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetailsTable.tsx<br>frontend/src/metabase/visualizations/components/ScalarValue/ScalarValue.jsx<br>frontend/src/metabase/visualizations/components/TableSimple/TableCell.tsx<br>frontend/src/metabase/visualizations/components/TableSimple/TableFooter.tsx<br>frontend/src/metabase/visualizations/components/TableSimple/TableSimple.tsx<br>frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx<br>frontend/src/metabase/visualizations/components/legend/LegendCaption.jsx<br>frontend/src/metabase/visualizations/components/legend/LegendItem.jsx<br>frontend/src/metabase/visualizations/visualizations/Heading/Heading.styled.tsx<br>frontend/src/metabase/visualizations/visualizations/PieChart/PieChart.jsx<br>frontend/src/metabase/visualizations/visualizations/Scalar/Scalar.jsx<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/SmartScalar.jsx<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/SmartScalar.styled.tsx<br>frontend/src/metabase/visualizations/visualizations/Text/Text.styled.tsx |', 'created_at': datetime.datetime(2024, 3, 13, 20, 22, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 1995714276, 'issue_id': 2184820902, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/7ced1e93-c3d5-4b73-904f-8fd7cd49c50b"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 59 / 60</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>ddb316e523ba95339f78a42f0c7a9bdb9aae56c6</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>7 Flaky</b></div>\n<div>‚úÖ <b>2365 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 13, 20, 35, 42, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-13 20:22:03 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 84735b5571ceb1c6d29a08d9671a32e645ea76c3...ddb316e523ba95339f78a42f0c7a9bdb9aae56c6.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartWithLegend.jsx<br>frontend/src/metabase/visualizations/components/Legend.module.css<br>frontend/src/metabase/visualizations/components/LegendHeader.jsx<br>frontend/src/metabase/visualizations/components/LegendItem.jsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetailsTable.tsx<br>frontend/src/metabase/visualizations/components/ScalarValue/ScalarValue.jsx<br>frontend/src/metabase/visualizations/components/TableSimple/TableCell.tsx<br>frontend/src/metabase/visualizations/components/TableSimple/TableFooter.tsx<br>frontend/src/metabase/visualizations/components/TableSimple/TableSimple.tsx<br>frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx<br>frontend/src/metabase/visualizations/components/legend/LegendCaption.jsx<br>frontend/src/metabase/visualizations/components/legend/LegendItem.jsx<br>frontend/src/metabase/visualizations/visualizations/Heading/Heading.styled.tsx<br>frontend/src/metabase/visualizations/visualizations/PieChart/PieChart.jsx<br>frontend/src/metabase/visualizations/visualizations/Scalar/Scalar.jsx<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/SmartScalar.jsx<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/SmartScalar.styled.tsx<br>frontend/src/metabase/visualizations/visualizations/Text/Text.styled.tsx |

replay-io[bot] on (2024-03-13 20:35:42 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/7ced1e93-c3d5-4b73-904f-8fd7cd49c50b"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 59 / 60</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>ddb316e523ba95339f78a42f0c7a9bdb9aae56c6</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>7 Flaky</b></div>
<div>‚úÖ <b>2365 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2184815896,pull_request,closed,,Use Mantine for DataSelector table picker,"Follow up after #40101.

We're getting rid of styled components wherever possible and replacing them with Mantine UI elements.
Everything should be the same after this refactor, except for the `NoTablesFound` that previously had a padding of 64px, but the largest spacing we currently have in Mantine theme is 32px, which corresponds to `xl` size.


",nemanjaglumac,2024-03-13 20:17:09+00:00,['nemanjaglumac'],2024-03-15 13:52:59+00:00,2024-03-15 13:52:46+00:00,https://github.com/metabase/metabase/pull/40105,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 1995694316, 'issue_id': 2184815896, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/8390a66c-04cd-4e47-a387-b8b5ab17f432"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>d03ec74717ee0873251702cecdb143d9507d8a64</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2360 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 13, 20, 29, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 1999715502, 'issue_id': 2184815896, 'author': 'github-actions[bot]', 'body': '@nemanjaglumac Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 15, 13, 52, 57, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-13 20:29:30 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/8390a66c-04cd-4e47-a387-b8b5ab17f432"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>d03ec74717ee0873251702cecdb143d9507d8a64</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2360 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-15 13:52:57 UTC): @nemanjaglumac Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2184797232,pull_request,closed,,fix insights error,"Closes https://github.com/metabase/metabase/issues/39608

### Description

The error happens when there is a chart where not all columns are visualized, for example the chart has 4 columns, 1 is a dimension, 2 are metrics, but one is not rendered. In this case the insights array will still contain the object for that column, which causes an error to be thrown in `trend-line.ts` because we only have 2 `seriesModels`, but 3 insight objects.

The solution is to filter out insight objects that are not being rendered as a series.

### Demo

![Screenshot 2024-03-13 at 1.07.22 PM.png](https://graphite-user-uploaded-assets-prod.s3.amazonaws.com/9ULpbAzGBtvQRyZEpGvu/738ca266-fc39-4644-b6fc-2991daeea480.png)

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",EmmadUsmani,2024-03-13 20:05:05+00:00,['EmmadUsmani'],2024-03-14 19:00:58+00:00,2024-03-14 19:00:57+00:00,https://github.com/metabase/metabase/pull/40104,"[('visual', 'Run Percy visual testing'), ('.Team/DashViz', 'Dashboard and Viz team'), ('loki-update', '')]","[{'comment_id': 1995615329, 'issue_id': 2184797232, 'author': 'EmmadUsmani', 'body': '* **#40104** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40104?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* `echarts`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @EmmadUsmani and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 13, 20, 5, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 1995627748, 'issue_id': 2184797232, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 54e4773cb29cae017c062944bcda286f03d2b2da...2446cd1abda1a80237b3f08505cfb780d3d7382c.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/echarts/cartesian/constants/dataset.ts<br>frontend/src/metabase/visualizations/echarts/cartesian/option/trend-line.ts<br>frontend/src/metabase/visualizations/echarts/cartesian/option/types.ts |', 'created_at': datetime.datetime(2024, 3, 13, 20, 9, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 1995643612, 'issue_id': 2184797232, 'author': 'github-actions[bot]', 'body': 'üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8270863911)', 'created_at': datetime.datetime(2024, 3, 13, 20, 13, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 1995649515, 'issue_id': 2184797232, 'author': 'github-actions[bot]', 'body': 'Snapshots have been updated', 'created_at': datetime.datetime(2024, 3, 13, 20, 15, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 1995668218, 'issue_id': 2184797232, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/3f317eef-6f68-40ce-8271-8a7fe885fdc7"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>2446cd1abda1a80237b3f08505cfb780d3d7382c</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>176 Failed</b></div>\n<div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2038 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 13, 20, 21, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 1998144946, 'issue_id': 2184797232, 'author': 'EmmadUsmani', 'body': '@alxnddr That makes sense. Can you file an issue for this and put it in the code review feedback portion of the regressions epic?', 'created_at': datetime.datetime(2024, 3, 14, 19, 0, 36, tzinfo=datetime.timezone.utc)}]","EmmadUsmani (Issue Creator) on (2024-03-13 20:05:21 UTC): * **#40104** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40104?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* `echarts`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @EmmadUsmani and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

github-actions[bot] on (2024-03-13 20:09:04 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 54e4773cb29cae017c062944bcda286f03d2b2da...2446cd1abda1a80237b3f08505cfb780d3d7382c.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/echarts/cartesian/constants/dataset.ts<br>frontend/src/metabase/visualizations/echarts/cartesian/option/trend-line.ts<br>frontend/src/metabase/visualizations/echarts/cartesian/option/types.ts |

github-actions[bot] on (2024-03-13 20:13:50 UTC): üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8270863911)

github-actions[bot] on (2024-03-13 20:15:40 UTC): Snapshots have been updated

replay-io[bot] on (2024-03-13 20:21:27 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/3f317eef-6f68-40ce-8271-8a7fe885fdc7"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>2446cd1abda1a80237b3f08505cfb780d3d7382c</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>176 Failed</b></div>
<div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2038 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

EmmadUsmani (Issue Creator) on (2024-03-14 19:00:36 UTC): @alxnddr That makes sense. Can you file an issue for this and put it in the code review feedback portion of the regressions epic?

"
2184782689,pull_request,closed,,Global to local css migration - Buttons,"Relates to https://github.com/metabase/metabase/issues/38811 , Milestone 2

### Description

This migrates global CSS rules related to buttons to be locally scoped.

### How to verify
- Mainly visual and code comparison

",deniskaber,2024-03-13 19:55:04+00:00,['deniskaber'],2024-03-14 19:41:20+00:00,2024-03-14 19:41:19+00:00,https://github.com/metabase/metabase/pull/40103,"[('visual', 'Run Percy visual testing'), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', '')]","[{'comment_id': 1995584314, 'issue_id': 2184782689, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff f73b40c5abbc9995ce89d06286be00cd2d37cb9c...b2d65702284701b4ee703f9405dc457348503871.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/PinMap.jsx |\n| @ranquild | frontend/src/metabase/setup/components/CompletedStep/CompletedStep.tsx<br>frontend/src/metabase/sharing/components/AddEditSidebar/DeleteSubscriptionAction.jsx<br>frontend/src/metabase/timelines/collections/components/TimelineDetailsModal/TimelineDetailsModal.tsx<br>frontend/src/metabase/timelines/collections/components/TimelineEmptyState/TimelineEmptyState.tsx |', 'created_at': datetime.datetime(2024, 3, 13, 19, 56, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 1995619772, 'issue_id': 2184782689, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/f161d678-bf5e-4626-bb2c-ed0f08fec400"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>b2d65702284701b4ee703f9405dc457348503871</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚úÖ <b>2362 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 13, 20, 6, 36, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-13 19:56:07 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff f73b40c5abbc9995ce89d06286be00cd2d37cb9c...b2d65702284701b4ee703f9405dc457348503871.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/PinMap.jsx |
| @ranquild | frontend/src/metabase/setup/components/CompletedStep/CompletedStep.tsx<br>frontend/src/metabase/sharing/components/AddEditSidebar/DeleteSubscriptionAction.jsx<br>frontend/src/metabase/timelines/collections/components/TimelineDetailsModal/TimelineDetailsModal.tsx<br>frontend/src/metabase/timelines/collections/components/TimelineEmptyState/TimelineEmptyState.tsx |

replay-io[bot] on (2024-03-13 20:06:36 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/f161d678-bf5e-4626-bb2c-ed0f08fec400"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>b2d65702284701b4ee703f9405dc457348503871</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚úÖ <b>2362 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2184738788,pull_request,closed,,"ü§ñ backported ""[Docs] note that Cloud doesn't support vpn""",#40090,metabase-bot[bot],2024-03-13 19:26:07+00:00,['alexyarosh'],2024-03-13 19:28:23+00:00,2024-03-13 19:28:22+00:00,https://github.com/metabase/metabase/pull/40102,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2184715616,pull_request,closed,,Fix multi-schema data selector header styling,"- Makes spacing equal on both sides of the divider
- Changes the divider from the hyphen to the forward slash

### Before
![image](https://github.com/metabase/metabase/assets/31325167/5e3379d3-f941-4750-a61b-e9d9c02ac128)

### After
![image](https://github.com/metabase/metabase/assets/31325167/4ebd6d68-ede8-4ce4-a577-ddd5d5b8604f)

Fixes #39999 ",nemanjaglumac,2024-03-13 19:11:07+00:00,['nemanjaglumac'],2024-03-15 09:16:45+00:00,2024-03-15 09:16:28+00:00,https://github.com/metabase/metabase/pull/40101,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 1995476292, 'issue_id': 2184715616, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/fa1af847-2b2e-4e45-9099-decc7b4610d2"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 55 / 56</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>320d033cad78f83fccb4fbc6dc4e49a60bd7a542</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>8 Flaky</b></div>\n<div>‚úÖ <b>2354 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 13, 19, 22, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 1998676611, 'issue_id': 2184715616, 'author': 'nemanjaglumac', 'body': '> Are my eyes deceiving me?\r\n\r\nThey are not.\r\nChrome vs Firefox screenshots :)', 'created_at': datetime.datetime(2024, 3, 15, 0, 10, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 1999238843, 'issue_id': 2184715616, 'author': 'github-actions[bot]', 'body': '@nemanjaglumac Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 15, 9, 16, 44, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-13 19:22:28 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/fa1af847-2b2e-4e45-9099-decc7b4610d2"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 55 / 56</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>320d033cad78f83fccb4fbc6dc4e49a60bd7a542</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>8 Flaky</b></div>
<div>‚úÖ <b>2354 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

nemanjaglumac (Issue Creator) on (2024-03-15 00:10:29 UTC): They are not.
Chrome vs Firefox screenshots :)

github-actions[bot] on (2024-03-15 09:16:44 UTC): @nemanjaglumac Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2184681139,pull_request,closed,,"ü§ñ backported ""[docs] Explicit callouts about data download in embedding""",#40049,metabase-bot[bot],2024-03-13 18:50:34+00:00,['alexyarosh'],2024-03-13 18:52:05+00:00,2024-03-13 18:52:04+00:00,https://github.com/metabase/metabase/pull/40100,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2184640096,pull_request,closed,,"ü§ñ backported ""Fix sidebar border on X-Rays""","  #40029
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",metabase-bot[bot],2024-03-13 18:25:54+00:00,['JesseSDevaney'],2024-03-13 20:56:06+00:00,2024-03-13 20:55:14+00:00,https://github.com/metabase/metabase/pull/40099,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1995783733, 'issue_id': 2184640096, 'author': 'JesseSDevaney', 'body': 'Backport is not needed here as the fix for this PR was addressing a bug associated with master, and not 49.', 'created_at': datetime.datetime(2024, 3, 13, 20, 56, 5, tzinfo=datetime.timezone.utc)}]","JesseSDevaney (Assginee) on (2024-03-13 20:56:05 UTC): Backport is not needed here as the fix for this PR was addressing a bug associated with master, and not 49.

"
2184625600,pull_request,closed,,"ü§ñ backported ""Update Translations for v49""",#40089,metabase-bot[bot],2024-03-13 18:19:41+00:00,['iethree'],2024-03-13 19:01:58+00:00,2024-03-13 19:01:57+00:00,https://github.com/metabase/metabase/pull/40098,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1995304468, 'issue_id': 2184625600, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/412230c2-eeff-495d-b72e-dcced73820db"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>e2ead33339c6c419278c3d24fba9b4fe78305751</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚úÖ <b>2335 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 13, 18, 31, 5, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-13 18:31:05 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/412230c2-eeff-495d-b72e-dcced73820db"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>e2ead33339c6c419278c3d24fba9b4fe78305751</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚úÖ <b>2335 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2184587892,pull_request,closed,,Don't store analytics checksum if audit loading failed,"We only want to store the checksum if audit loading succeeded. Otherwise we should ensure that it's attempted again next time startup occurs. In particular, this solves an edge case where Metabase is shut down between the checksum being saved and audit content load finishing, and then not loading the content on the next startup.

Context: https://metaboat.slack.com/archives/C04K1LEUPC5/p1710346505855739",noahmoss,2024-03-13 17:55:49+00:00,['noahmoss'],2024-03-13 21:03:45+00:00,2024-03-13 21:03:26+00:00,https://github.com/metabase/metabase/pull/40097,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 1995185663, 'issue_id': 2184587892, 'author': 'noahmoss', 'body': '* **#40097** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40097?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @noahmoss and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 13, 17, 56, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 1995236918, 'issue_id': 2184587892, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/13f4ec15-8c3b-4535-9055-35c6be524e38"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>7be317afab92e467fec156032091892fda034f13</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2362 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 13, 18, 11, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 1995807437, 'issue_id': 2184587892, 'author': 'github-actions[bot]', 'body': '@noahmoss Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 13, 21, 3, 43, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2024-03-13 17:56:02 UTC): * **#40097** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40097?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @noahmoss and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

replay-io[bot] on (2024-03-13 18:11:24 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/13f4ec15-8c3b-4535-9055-35c6be524e38"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>7be317afab92e467fec156032091892fda034f13</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2362 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-13 21:03:43 UTC): @noahmoss Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2184526677,pull_request,closed,,Forward-port changes from 49 backport: Faster sync-fks for redshift (#38970),"#38970 made it into 49, so this forward ports the changes I made there to the driver changelog.",calherries,2024-03-13 17:19:24+00:00,['calherries'],2024-03-14 08:27:57+00:00,2024-03-14 08:27:38+00:00,https://github.com/metabase/metabase/pull/40092,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 1995102346, 'issue_id': 2184526677, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/4bac70d7-143b-4b28-8e6d-eb5bf36ede52"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 53 / 54</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>03f1ec6dd4a7dbd54ae85c5e347d80c9850a448d</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>9 Flaky</b></div>\n<div>‚úÖ <b>2356 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 13, 17, 31, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 1996842602, 'issue_id': 2184526677, 'author': 'github-actions[bot]', 'body': '@calherries Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 14, 8, 27, 56, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-13 17:31:23 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/4bac70d7-143b-4b28-8e6d-eb5bf36ede52"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 53 / 54</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>03f1ec6dd4a7dbd54ae85c5e347d80c9850a448d</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>9 Flaky</b></div>
<div>‚úÖ <b>2356 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-14 08:27:56 UTC): @calherries Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2184466949,pull_request,closed,,[Docs] note that Cloud doesn't support vpn,Recreating #39823 directly because it didn't like PR from a fork,alexyarosh,2024-03-13 16:46:02+00:00,['alexyarosh'],2024-03-13 19:25:46+00:00,2024-03-13 19:24:44+00:00,https://github.com/metabase/metabase/pull/40090,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 1995486247, 'issue_id': 2184466949, 'author': 'github-actions[bot]', 'body': '@alexyarosh Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 13, 19, 25, 45, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-13 19:25:45 UTC): @alexyarosh Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2184409272,pull_request,closed,,Update Translations for v49,"Resolves https://github.com/metabase/metabase/issues/40086

Unfortunately, only a few languages were updated by contributors. Most languages had to be machine-translated üòû ",iethree,2024-03-13 16:18:35+00:00,['iethree'],2024-03-13 18:19:07+00:00,2024-03-13 18:18:55+00:00,https://github.com/metabase/metabase/pull/40089,"[('Customization/i18n', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 1994901441, 'issue_id': 2184409272, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/38216955-9b5b-4a14-b335-c6907f398866"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>a23dbd7e306139d896fd74ce8e92acf54bfc27d8</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2364 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 13, 16, 32, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 1995263478, 'issue_id': 2184409272, 'author': 'github-actions[bot]', 'body': '@iethree Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 13, 18, 19, 6, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-13 16:32:33 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/38216955-9b5b-4a14-b335-c6907f398866"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>a23dbd7e306139d896fd74ce8e92acf54bfc27d8</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2364 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-13 18:19:06 UTC): @iethree Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2184334480,pull_request,closed,,"ü§ñ backported ""Fix `@cypress/grep` types by upgrading the library to its latest version""",Manual backport of  #40079,metabase-bot[bot],2024-03-13 15:44:23+00:00,['nemanjaglumac'],2024-03-14 08:32:01+00:00,2024-03-14 08:32:00+00:00,https://github.com/metabase/metabase/pull/40088,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1994905334, 'issue_id': 2184334480, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/a521eba3-0566-44eb-ba68-8c88f35b7ab1"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>763006df5f7e379bcd17f2a0d6b145e8597d39af</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2338 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 13, 16, 33, 36, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-13 16:33:36 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/a521eba3-0566-44eb-ba68-8c88f35b7ab1"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>763006df5f7e379bcd17f2a0d6b145e8597d39af</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2338 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2184304901,pull_request,closed,,Disable saving models without up-to-date result_metadata,"Fixes https://github.com/metabase/metabase/issues/37009

Disables creating new and updating existing models without `result_metadata`. That means that if the query was changed, the user would have to run the query first and wait for results.

How to verify:
- New -> Modal -> Native
- SELECT * FROM PRODUCTS
- Try to save the model without running the query. The button should be disabled and there should be a tooltip.
- Run the query
- Now the save button should become enabled
- Save the model
- ... menu -> Edit query definition
- Try changing the model query. The button should become disabled
- Run the updated query. The button should become enabled

<img width=""1727"" alt=""Screenshot 2024-03-15 at 16 23 04"" src=""https://github.com/metabase/metabase/assets/8542534/3715f83d-482f-4da3-bfb7-547785dcf8fb"">
",ranquild,2024-03-13 15:31:18+00:00,['ranquild'],2024-03-18 11:55:39+00:00,2024-03-18 11:55:27+00:00,https://github.com/metabase/metabase/pull/40087,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 1994747223, 'issue_id': 2184304901, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/39134e0a-8db9-4007-bd6a-66ce0ce5f7b0"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>e20008f355d4b23d62dee00d53e9279f447c869f</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2363 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 13, 15, 51, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2003716885, 'issue_id': 2184304901, 'author': 'github-actions[bot]', 'body': '@ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 18, 11, 55, 38, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-13 15:51:19 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/39134e0a-8db9-4007-bd6a-66ce0ce5f7b0"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>e20008f355d4b23d62dee00d53e9279f447c869f</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2363 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-18 11:55:38 UTC): @ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2184283099,pull_request,closed,,"ü§ñ backported ""Fix scrolling with filter field values""",#40075,metabase-bot[bot],2024-03-13 15:22:26+00:00,['ranquild'],2024-03-13 16:42:58+00:00,2024-03-13 16:42:57+00:00,https://github.com/metabase/metabase/pull/40085,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1994684642, 'issue_id': 2184283099, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/9de87811-8314-4ea8-9c99-676512618a60"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>0ec7ddd5413a884ac6a616a1c9bd88061088e932</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚úÖ <b>2335 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 13, 15, 35, 28, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-13 15:35:28 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/9de87811-8314-4ea8-9c99-676512618a60"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>0ec7ddd5413a884ac6a616a1c9bd88061088e932</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚úÖ <b>2335 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2184258420,pull_request,closed,,eslint: Disable testing-library/no-unnecessary-act,"## Description

As discussed [on Slack](https://metaboat.slack.com/archives/C505ZNNH4/p1710341080945209), we're removing the rule to allow `act(() => {}` in unit tests.

There's another possible solution to the issue, which I will investigate further so this PR might be not needed. ",oleggromov,2024-03-13 15:11:26+00:00,['oleggromov'],2024-03-18 11:43:03+00:00,2024-03-18 11:42:50+00:00,https://github.com/metabase/metabase/pull/40084,"[('no-backport', 'Do not backport this PR to any branch'), (':broom:', 'no-brainer cleanup issues to clear out when you have an hour left until EoD or something'), ('.Team/Querying', '')]","[{'comment_id': 1994658091, 'issue_id': 2184258420, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/33b31e7d-1700-4e63-a8b7-45f60f2f4120"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>f0f9009fab17f07ed62d437751a1b4605c4aab26</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2363 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 13, 15, 24, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2003692823, 'issue_id': 2184258420, 'author': 'github-actions[bot]', 'body': '@oleggromov Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 18, 11, 43, 1, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-13 15:24:40 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/33b31e7d-1700-4e63-a8b7-45f60f2f4120"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>f0f9009fab17f07ed62d437751a1b4605c4aab26</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2363 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-18 11:43:01 UTC): @oleggromov Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2184245942,pull_request,closed,,"ü§ñ backported ""docs - csv append""",#38974,metabase-bot[bot],2024-03-13 15:06:12+00:00,['jeff-bruemmer'],2024-03-13 15:08:00+00:00,2024-03-13 15:07:59+00:00,https://github.com/metabase/metabase/pull/40083,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2184226973,pull_request,closed,,"[FE] ""Combine columns"" drill thru","Closes #39980

### Description
Adds combine column drill through to the chill mode header columns.


### How to verify

- Open the `Accounts` table in chill mode
- Click the header of a string column (eg. `Email`, `First Name` or `Plan`)
- Click `+ Combine columns`
- Play around with the column editor
- Click `Done`
- Verify the new column is added as the last column


### Demo

See video attached to [this Slack message](https://metaboat.slack.com/archives/C0645JP1W81/p1710427151050319)

<img width=""361"" alt=""Screenshot 2024-04-19 at 14 52 22"" src=""https://github.com/metabase/metabase/assets/1250185/e57de922-897d-4446-8f23-8e77fe283435"">
<img width=""528"" alt=""Screenshot 2024-04-19 at 14 52 26"" src=""https://github.com/metabase/metabase/assets/1250185/d546f3df-efcd-49b7-bfbc-1df67b81b5d3"">
<img width=""502"" alt=""Screenshot 2024-04-19 at 14 52 34"" src=""https://github.com/metabase/metabase/assets/1250185/029e83a1-830e-483b-af46-f05dccf4cc21"">
",kamilmielnik,2024-03-13 14:58:01+00:00,"['romeovs', 'kamilmielnik']",2024-04-30 09:26:05+00:00,2024-04-30 09:26:04+00:00,https://github.com/metabase/metabase/pull/40082,"[('visual', 'Run Percy visual testing'), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 1997615940, 'issue_id': 2184226973, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 08331d895c2b6a395918eff5ccb18de2c5a97f90...8af69a27e836d4495815d5fabeb88c354983d069.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ClickActions/utils.ts<br>frontend/src/metabase/visualizations/types/click-actions.ts |\n| @kdoh | frontend/src/metabase/ui/components/inputs/Input/index.ts<br>frontend/src/metabase/ui/components/typography/Text/Text.styled.tsx |', 'created_at': datetime.datetime(2024, 3, 14, 14, 41, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 1997644960, 'issue_id': 2184226973, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs?testRunId=706e902b-1a05-4289-83ea-a37f25100ad2"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>8af69a27e836d4495815d5fabeb88c354983d069</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>10 Flaky</b></div>\n<div>‚úÖ <b>2397 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 14, 14, 53, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 1999129585, 'issue_id': 2184226973, 'author': 'kamilmielnik', 'body': 'Dismissing request for review for now due to uncertainty on how we want to shape the UI here.', 'created_at': datetime.datetime(2024, 3, 15, 8, 7, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 2082615307, 'issue_id': 2184226973, 'author': 'romeovs', 'body': '> I\'m seeing some weirdness with the column position when switching between the visualization and the raw table views. https://www.loom.com/share/a7cfa7b8b09d4314955ec03dfcfdd786?sid=071f3a6b-86ea-46e7-9cfa-82ffe5906cea\r\n\r\nIs that not was is expected?\r\n\r\nThe way I understand it, the table view is showing the ""raw"" table and thus showing the column at the end, whereas the visualization as a table is showing the ""customized"" table.\r\n\r\nYou can do the same with any column (even non-generated ones) in the table and it would yield the same issue.', 'created_at': datetime.datetime(2024, 4, 29, 12, 34, 17, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-14 14:41:04 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 08331d895c2b6a395918eff5ccb18de2c5a97f90...8af69a27e836d4495815d5fabeb88c354983d069.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ClickActions/utils.ts<br>frontend/src/metabase/visualizations/types/click-actions.ts |
| @kdoh | frontend/src/metabase/ui/components/inputs/Input/index.ts<br>frontend/src/metabase/ui/components/typography/Text/Text.styled.tsx |

replay-io[bot] on (2024-03-14 14:53:17 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs?testRunId=706e902b-1a05-4289-83ea-a37f25100ad2"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>8af69a27e836d4495815d5fabeb88c354983d069</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>10 Flaky</b></div>
<div>‚úÖ <b>2397 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

kamilmielnik (Issue Creator) on (2024-03-15 08:07:27 UTC): Dismissing request for review for now due to uncertainty on how we want to shape the UI here.

romeovs (Assginee) on (2024-04-29 12:34:17 UTC): Is that not was is expected?

The way I understand it, the table view is showing the ""raw"" table and thus showing the column at the end, whereas the visualization as a table is showing the ""customized"" table.

You can do the same with any column (even non-generated ones) in the table and it would yield the same issue.

"
2184206965,pull_request,closed,,Convert `admin.module.css` to CSS modules,"Epic #38811

### Description

Converts standard CSS classes to CSS modules within `admin.module.css`. These classes affect the components within the `Admin` section of the app.

### How to verify

_will write down specific areas to look at_

**_Ensure that nothing looks weird (or surprises you), and that things haven't changed in these areas:_**

_General_
- The left panes within the Admin section of metabase
- Inputs for emails, passwords, and text. Make sure that text sizes, inputs, and the like are consistent.

_Route specific_
`/admin/databases`
- Database list
![image](https://github.com/metabase/metabase/assets/25306947/4cf3ce19-ef16-4dcf-ab78-10f58085bccd)

`/admin/datamodel/[segments AND metrics]`
- Actions menu on the right side of the row
![image](https://github.com/metabase/metabase/assets/25306947/1885ffa4-fea1-4bf1-bd9b-1f6d3dac4c09)
![image](https://github.com/metabase/metabase/assets/25306947/19e825af-fa73-449f-94c8-60df10ab4f0e)

`/admin/settings/maps`
- `Add a new map` widget (ignore the red border, this PR didn't create the problem. It'll be fixed in another PR)
![image](https://github.com/metabase/metabase/assets/25306947/c771f1a1-ef63-4855-93a8-ecff582ea9f8)

`/admin/people`
- the list of users

`/admin/people/groups`
- the popover for a row in groups
![image](https://github.com/metabase/metabase/assets/25306947/b584b65c-4ee9-4995-a7b9-54d37824a309)

`/admin/settings/general`
- the site url widget 
![image](https://github.com/metabase/metabase/assets/25306947/dc8133d2-3328-447d-b063-7a5710ee707d)

`/admin/troubleshooting/jobs`
- the left pane
- the modal that appears when clicking `View triggers` on a job
![image](https://github.com/metabase/metabase/assets/25306947/70764f8d-8b7e-4928-ba71-998fb5a89756)

`/admin/settings/authentication/api-keys`
- the API key table

`/admin/settings/authentication/[ldap AND saml AND jwt]`
- the group schema / mapping tables
![image](https://github.com/metabase/metabase/assets/25306947/a7203c42-58b5-48f8-b936-6660e75071bf)

`/admin/datamodel/database/`
- Almost all of it - play around and see if you can find anything weird.

	
`/admin/tools/model-caching`
- the table

`/admin/settings/public-sharing`
- the table of public links

`/admin/troubleshooting/tasks`
- the table",oisincoveney,2024-03-13 14:50:27+00:00,['oisincoveney'],2024-03-19 12:08:46+00:00,2024-03-19 12:08:32+00:00,https://github.com/metabase/metabase/pull/40081,"[('visual', 'Run Percy visual testing'), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', '')]","[{'comment_id': 1994688996, 'issue_id': 2184206965, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/4b77dada-8a4d-4780-b90b-1529a1ff30a3"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>30ea29f3204291cdcc411b02d5783a8a590365cb</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚úÖ <b>2370 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 13, 15, 36, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 1999884592, 'issue_id': 2184206965, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 99758685e9b6be293e974b7a9ee8ab539ea4571a...30ea29f3204291cdcc411b02d5783a8a590365cb.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettingsWidget.styled.tsx |', 'created_at': datetime.datetime(2024, 3, 15, 15, 15, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 2007013758, 'issue_id': 2184206965, 'author': 'github-actions[bot]', 'body': '@oisincoveney Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 19, 12, 8, 44, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-13 15:36:36 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/4b77dada-8a4d-4780-b90b-1529a1ff30a3"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>30ea29f3204291cdcc411b02d5783a8a590365cb</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚úÖ <b>2370 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-15 15:15:19 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 99758685e9b6be293e974b7a9ee8ab539ea4571a...30ea29f3204291cdcc411b02d5783a8a590365cb.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettingsWidget.styled.tsx |

github-actions[bot] on (2024-03-19 12:08:44 UTC): @oisincoveney Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2184139390,pull_request,closed,,Fix `@cypress/grep` types by upgrading the library to its latest version,"Prior to this PR if you wanted to create a TS Cypress spec that was using `tags`, it would've failed. Adding its types to our E2E TS config didn't help either. We were one major version behind.

Once I updated the library locally, TS config propagated its types and the TS was happy.
As a good test, I converted the existing JS test to TS. It should pass in CI, and `type-check` should not complain.",nemanjaglumac,2024-03-13 14:20:52+00:00,['nemanjaglumac'],2024-03-13 15:43:48+00:00,2024-03-13 15:43:23+00:00,https://github.com/metabase/metabase/pull/40079,"[('.CI & Tests', ''), ('.Frontend', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 1994545026, 'issue_id': 2184139390, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/abf02970-8499-4b5f-8fbf-07b571f89909"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>eb7666331808f2038bcb463451004d8c9331ba40</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2358 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 13, 14, 34, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 1994717054, 'issue_id': 2184139390, 'author': 'github-actions[bot]', 'body': '@nemanjaglumac Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 13, 15, 43, 47, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-13 14:34:29 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/abf02970-8499-4b5f-8fbf-07b571f89909"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>eb7666331808f2038bcb463451004d8c9331ba40</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2358 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-13 15:43:47 UTC): @nemanjaglumac Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2184123177,pull_request,closed,,"ü§ñ backported ""[docs] Clarifications about dashboard subscriptions""",#40045,metabase-bot[bot],2024-03-13 14:13:29+00:00,['alexyarosh'],2024-03-13 14:15:49+00:00,2024-03-13 14:15:48+00:00,https://github.com/metabase/metabase/pull/40078,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2184098239,pull_request,closed,,"ü§ñ backported ""Correctly show a selected table (in the data selector) which comes from a multi-schema database""",#39930,metabase-bot[bot],2024-03-13 14:02:19+00:00,['nemanjaglumac'],2024-03-13 14:35:42+00:00,2024-03-13 14:35:41+00:00,https://github.com/metabase/metabase/pull/40076,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1994505498, 'issue_id': 2184098239, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/97d3d5a5-003b-432d-9f44-ee58f960970e"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>03562547075a40da625b5e5ebb7dfc32112f18f9</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2313 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 13, 14, 14, 30, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-13 14:14:30 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/97d3d5a5-003b-432d-9f44-ee58f960970e"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>03562547075a40da625b5e5ebb7dfc32112f18f9</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2313 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2184075595,pull_request,closed,,Fix scrolling with filter field values,"Fixes https://github.com/metabase/metabase/issues/40071

The fix is not ideal but it should fix the issue in real world cases.

Ideally I wanted to make the value dynamic but I cannot make it work with `Popover`.

How to verify:
- New -> Question -> Orders
- Try adding a filter on Orders.Quantity and Product.Category on different screen sizes:

<img width=""506"" alt=""Screenshot 2024-03-13 at 15 50 26"" src=""https://github.com/metabase/metabase/assets/8542534/be80aeff-67e3-4f03-9854-ded771fcd485"">
<img width=""460"" alt=""Screenshot 2024-03-13 at 15 50 35"" src=""https://github.com/metabase/metabase/assets/8542534/b052045f-0de1-4c75-86f5-ec947e67c2ea"">
<img width=""426"" alt=""Screenshot 2024-03-13 at 15 50 55"" src=""https://github.com/metabase/metabase/assets/8542534/aa92b767-c6bc-426c-8719-ed706af7d07c"">
",ranquild,2024-03-13 13:52:02+00:00,['ranquild'],2024-03-13 15:21:16+00:00,2024-03-13 15:20:17+00:00,https://github.com/metabase/metabase/pull/40075,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 1994511574, 'issue_id': 2184075595, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/ebefb4d0-1333-4f03-ac31-b2bfbc5a45e7"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>efc421439efe934738f83914ed272e30b869a4fe</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2359 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 13, 14, 17, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 1994650545, 'issue_id': 2184075595, 'author': 'github-actions[bot]', 'body': '@ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 13, 15, 21, 14, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-13 14:17:37 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/ebefb4d0-1333-4f03-ac31-b2bfbc5a45e7"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>efc421439efe934738f83914ed272e30b869a4fe</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2359 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-13 15:21:14 UTC): @ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2184047462,pull_request,closed,,"ü§ñ backported ""Revert ""docs - update basic exploration""""",#40067,metabase-bot[bot],2024-03-13 13:39:46+00:00,['jeff-bruemmer'],2024-03-13 13:43:13+00:00,2024-03-13 13:43:12+00:00,https://github.com/metabase/metabase/pull/40074,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2184045748,pull_request,closed,,fix stacked series order,"Closes https://github.com/metabase/metabase/issues/39667

### Description

Fixes stacked bar/area series order.
Merging this before review to have the staging updated for the bug bash.

### How to verify

Check the order of series matches the previous implementation for stacked breakout series and stacked multiple metrics series

### Demo
Multiple metrics
<img width=""1725"" alt=""Screenshot 2024-03-13 at 11 09 16‚ÄØAM"" src=""https://github.com/metabase/metabase/assets/14301985/32177bfb-e0dd-49c0-b71b-5cb0aaa408c8"">

ECharts
<img width=""1725"" alt=""Screenshot 2024-03-13 at 11 07 19‚ÄØAM"" src=""https://github.com/metabase/metabase/assets/14301985/e109cc92-9dbb-4da2-abc8-c5aabe7a7f0b"">

**Breakouts**

Stats
<img width=""1719"" alt=""Screenshot 2024-03-13 at 11 08 36‚ÄØAM"" src=""https://github.com/metabase/metabase/assets/14301985/9e334a5c-6736-44eb-a606-5ae368c9f104"">

ECharts
<img width=""1719"" alt=""Screenshot 2024-03-13 at 11 06 50‚ÄØAM"" src=""https://github.com/metabase/metabase/assets/14301985/369f9c36-6627-44ed-8118-138c2f3cce0b"">

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",alxnddr,2024-03-13 13:38:56+00:00,['alxnddr'],2024-03-13 16:16:55+00:00,2024-03-13 13:39:54+00:00,https://github.com/metabase/metabase/pull/40073,"[('visual', 'Run Percy visual testing'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 1994466767, 'issue_id': 2184045748, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/4203e951-866d-40b7-9d52-5a7d89ebcd89"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>94f428affc7d0be3c5d1cda20c74c2f03f56ee6a</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>176 Failed</b></div>\n<div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2038 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 13, 13, 55, 52, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-13 13:55:52 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/4203e951-866d-40b7-9d52-5a7d89ebcd89"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>94f428affc7d0be3c5d1cda20c74c2f03f56ee6a</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>176 Failed</b></div>
<div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2038 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2184043676,pull_request,closed,,"ü§ñ backported "" search display name in filter picker""","  #40002
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",metabase-bot[bot],2024-03-13 13:37:57+00:00,['romeovs'],2024-03-26 11:14:19+00:00,2024-03-26 11:14:18+00:00,https://github.com/metabase/metabase/pull/40072,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1994911550, 'issue_id': 2184043676, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/0e95374b-f399-4c69-8859-8b84997986d1"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>c8816b025240a57e3605993e4795b613e2a49679</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚úÖ <b>2340 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 13, 16, 35, 19, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-13 16:35:19 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/0e95374b-f399-4c69-8859-8b84997986d1"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>c8816b025240a57e3605993e4795b613e2a49679</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚úÖ <b>2340 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2183987323,pull_request,closed,,"ü§ñ backported ""Elevate selected filter field values""",#40055,metabase-bot[bot],2024-03-13 13:10:44+00:00,['ranquild'],2024-03-13 13:55:56+00:00,2024-03-13 13:43:58+00:00,https://github.com/metabase/metabase/pull/40070,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1994396043, 'issue_id': 2183987323, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/4c9ac62c-22f5-4401-aee6-d27a5ce77d74"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 53 / 54</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>6f992a0f4c0659a0c11469cf2265c4547f77f2ab</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>6 Flaky</b></div>\n<div>‚úÖ <b>2332 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 13, 13, 22, 29, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-13 13:22:29 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/4c9ac62c-22f5-4401-aee6-d27a5ce77d74"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 53 / 54</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>6f992a0f4c0659a0c11469cf2265c4547f77f2ab</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>6 Flaky</b></div>
<div>‚úÖ <b>2332 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2183955715,pull_request,closed,,WIP - Global css migration part 3,"> [!IMPORTANT]
> If you are merging into master, please add either a `backport` or a `no-backport` label to this PR. You will not be able to merge until you do this step. Refer to the section [Do I need to backport this PR?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#89f80d6f17714a0198aeb66c0efd1b71) in the Metabase Branching Strategy document for more details.

> **Warning**
>
> If that is your first contribution to Metabase, please sign the [Contributor License Agreement](https://docs.google.com/a/metabase.com/forms/d/1oV38o7b9ONFSwuzwmERRMi9SYrhYeOrkbmNaq9pOJ_E/viewform) (unless it's a tiny documentation change). Also, if you're attempting to fix a translation issue, please submit your changes to our [POEditor project](https://poeditor.com/join/project/ynjQmwSsGh) instead of opening a PR.

Closes https://github.com/metabase/metabase/issues/[issue_number]

### Description

Describe the overall approach and the problem being solved.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> ...
2. ...

### Demo

_Upload a demo video or before/after screenshots if sensible or remove the section_

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",oisincoveney,2024-03-13 12:55:14+00:00,['oisincoveney'],2024-03-18 08:16:33+00:00,2024-03-18 08:16:33+00:00,https://github.com/metabase/metabase/pull/40069,"[('.Team/Embedding', '')]",[],
2183917466,pull_request,closed,,"Revert ""docs - update basic exploration""",Models in data browser will not ship with 49.,jeff-bruemmer,2024-03-13 12:41:03+00:00,['jeff-bruemmer'],2024-03-13 13:38:55+00:00,2024-03-13 13:37:34+00:00,https://github.com/metabase/metabase/pull/40067,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 1994428865, 'issue_id': 2183917466, 'author': 'github-actions[bot]', 'body': '@jeff-bruemmer Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 13, 13, 38, 54, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-13 13:38:54 UTC): @jeff-bruemmer Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2183803833,pull_request,closed,,"ü§ñ backported ""Fix redshift flake by not clean up tables on some tests""",#40060,metabase-bot[bot],2024-03-13 11:48:57+00:00,['qnkhuat'],2024-03-13 12:31:08+00:00,2024-03-13 12:31:07+00:00,https://github.com/metabase/metabase/pull/40065,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2183642885,pull_request,closed,,Fix the stale collection information when the source in the data selector changes,"Reproduces #39812 
Fixes #39812 

### Description
Due to the entity framework internals, the card object and the state object can get out of sync in certain cases. One such example was moving the source of a nested question (or a model) to a different collection.

Actually, there were two places where code was out of sync, and this PR fixed/patched both:
1. `schema` on the _Tables_ entity was pointing to the stale schema
    - Fixed at this commit https://github.com/metabase/metabase/pull/40063/commits/db4b44c8f4f34537c48a8c6bbe40fd633bf7b629
2. the virtual schema on the _Schemas_ entity could be missing
    - Fixed at this commit https://github.com/metabase/metabase/pull/40063/commits/ebac2c9c304f8b029d3478e2c05c5ae80f2e2f60

The DataSelector component is obtaining the `collectionName` from the schema. It then passes it down to its children.
```jsx
collectionName={
  selectedTable &&
  selectedTable.schema &&
  getSchemaName(selectedTable.schema.id)
}
```
Source: https://github.com/metabase/metabase/blob/fd6fab2/frontend/src/metabase/query_builder/components/DataSelector/DataSelector.jsx#L992-L996

### How to verify
Either follow the clear reproduction steps from the original issue, or run the E2E reproduction form this branch.

### Checklist
- [x] Tests have been added/updated to cover changes in this PR

### Additional Info
This section aims to explain why we get the collection name from the table schema. What does table have to do with a saved question or a model?

There is a concept at Metabase called a virtual table.
This means that if a source for a saved card is another card (which is true for both the nested questions and saved models), then the `source-table` equals to `card__:source-card-id`.

Following that logic, there is also a virtual schema on a virtual table. In the case of saved questions and saved models, the schema is the collection those questions/models are saved in.",nemanjaglumac,2024-03-13 10:29:13+00:00,['nemanjaglumac'],2024-03-15 12:40:36+00:00,2024-03-15 12:40:22+00:00,https://github.com/metabase/metabase/pull/40063,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 1994216654, 'issue_id': 2183642885, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/0694aa53-770c-442f-b957-25458da8e737"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>64c8981cf5e2399395cf107d3fdf8e4eb26952a1</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2361 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 13, 11, 59, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 1999582004, 'issue_id': 2183642885, 'author': 'github-actions[bot]', 'body': '@nemanjaglumac Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 15, 12, 40, 34, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-13 11:59:49 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/0694aa53-770c-442f-b957-25458da8e737"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>64c8981cf5e2399395cf107d3fdf8e4eb26952a1</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2361 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-15 12:40:34 UTC): @nemanjaglumac Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2183627961,pull_request,closed,,49 backport: Faster sync-fks for redshift (#38970),"#38970

This commit contains the additional changes from master: https://github.com/metabase/metabase/pull/40062/commits/cd31fd9ea9d970a5d43b164fde9e148c476f237a

Because this is now making the 49.0 release, I've updated the driver changelog. Also, we can now remove `describe-table-fks` in 52 (3 releases from 49), instead of 53.

I'll update master with the amending commit if it makes the 49.0 release.",metabase-bot[bot],2024-03-13 10:22:25+00:00,['calherries'],2024-03-13 14:50:28+00:00,2024-03-13 14:36:11+00:00,https://github.com/metabase/metabase/pull/40062,"[('.Team/Workflows', 'aka BEC'), ('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1994067039, 'issue_id': 2183627961, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/bcb84dca-e8a9-4d4b-bfe8-8e70dea25e43"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>14c68f1b56e2f5479ff3b2634ee5a7d2f7da4235</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2301 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 13, 10, 34, 14, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-13 10:34:14 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/bcb84dca-e8a9-4d4b-bfe8-8e70dea25e43"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>14c68f1b56e2f5479ff3b2634ee5a7d2f7da4235</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2301 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2183457210,pull_request,closed,,Fix redshift flake by not clean up tables on some tests,"Found these flakes in : 
- https://github.com/metabase/metabase/actions/runs/8236592940/job/22523412407#step:3:1096
- https://github.com/metabase/metabase/actions/runs/8235733448/job/22522618837#step:3:952

This is a temporary fix, we have a proposal for a more robust fix: https://github.com/metabase/metabase/issues/40058",qnkhuat,2024-03-13 09:02:28+00:00,['qnkhuat'],2024-03-13 11:48:17+00:00,2024-03-13 11:48:03+00:00,https://github.com/metabase/metabase/pull/40060,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 1994004917, 'issue_id': 2183457210, 'author': 'tsmacdonald', 'body': 'I don\'t think I understand how this works. The error I\'m seeing in the test run is\r\n\r\n```\r\nclojure.lang.ExceptionInfo: Failed to create :redshift \'VXFVIFQTUITWKYLCDFUQ\' test database: Failed to sync test database ""VXFVIFQTUITWKYLCDFUQ"": Error in sync step Sync redshift Database 373 \'\'VXFVIFQTUITWKYLCDFUQ\'\': Error in sync step Sync metadata for redshift Database 373 \'\'VXFVIFQTUITWKYLCDFUQ\'\': ERROR: relation ""2024_03_11_486b968a_fce2_4d72_a16d_70ece5397dc0_schema.mv_tbl__test_tp_materialized_view__0"" does not exist\r\n    database-name: ""VXFVIFQTUITWKYLCDFUQ""\r\n           driver: :redshift\r\n```\r\n\r\nHow would the `DROP TABLE IF EXISTS` affect that? It seems strictly helpful to clean up unneeded tables if they exist, but obviously I\'m missing something', 'created_at': datetime.datetime(2024, 3, 13, 10, 2, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 1994005341, 'issue_id': 2183457210, 'author': 'tsmacdonald', 'body': 'meta-comment: there are a ton of whitespace changes in this PR which I think are not right', 'created_at': datetime.datetime(2024, 3, 13, 10, 2, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 1994038220, 'issue_id': 2183457210, 'author': 'calherries', 'body': ""> How would the DROP TABLE IF EXISTS affect that? It seems strictly helpful to clean up unneeded tables if they exist, but obviously I'm missing something\r\n\r\nThis was discussed on [this thread](https://metaboat.slack.com/archives/C064TCGEAV6/p1710323277228199?thread_ts=1710315562.594649&cid=C064TCGEAV6). But to summarize,  my leading hypothesis for why these flakes happen is the table is dropped somewhere between the start of a sync (in another test) and the end. If that happens the table is picked up during the `sync-tables` step, and then in a sync step following that, the table is missing, causing the exception.\r\n\r\nNormally missing tables wouldn't be an issue, we would just log the error and move on. But in tests, we're intentionally throwing exceptions to guarantee that the sync works, see this https://github.com/metabase/metabase/blob/f52b46692d967a44da6264d7e9e2d35311fd05ca/test/metabase/test/data/impl/get_or_create.clj#L121"", 'created_at': datetime.datetime(2024, 3, 13, 10, 19, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 1994078985, 'issue_id': 2183457210, 'author': 'tsmacdonald', 'body': 'Cool, thanks for the explanation! Makes sense', 'created_at': datetime.datetime(2024, 3, 13, 10, 40, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 1994197400, 'issue_id': 2183457210, 'author': 'github-actions[bot]', 'body': '@qnkhuat Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 13, 11, 48, 15, tzinfo=datetime.timezone.utc)}]","tsmacdonald on (2024-03-13 10:02:28 UTC): I don't think I understand how this works. The error I'm seeing in the test run is

```
clojure.lang.ExceptionInfo: Failed to create :redshift 'VXFVIFQTUITWKYLCDFUQ' test database: Failed to sync test database ""VXFVIFQTUITWKYLCDFUQ"": Error in sync step Sync redshift Database 373 ''VXFVIFQTUITWKYLCDFUQ'': Error in sync step Sync metadata for redshift Database 373 ''VXFVIFQTUITWKYLCDFUQ'': ERROR: relation ""2024_03_11_486b968a_fce2_4d72_a16d_70ece5397dc0_schema.mv_tbl__test_tp_materialized_view__0"" does not exist
    database-name: ""VXFVIFQTUITWKYLCDFUQ""
           driver: :redshift
```

How would the `DROP TABLE IF EXISTS` affect that? It seems strictly helpful to clean up unneeded tables if they exist, but obviously I'm missing something

tsmacdonald on (2024-03-13 10:02:42 UTC): meta-comment: there are a ton of whitespace changes in this PR which I think are not right

calherries on (2024-03-13 10:19:08 UTC): This was discussed on [this thread](https://metaboat.slack.com/archives/C064TCGEAV6/p1710323277228199?thread_ts=1710315562.594649&cid=C064TCGEAV6). But to summarize,  my leading hypothesis for why these flakes happen is the table is dropped somewhere between the start of a sync (in another test) and the end. If that happens the table is picked up during the `sync-tables` step, and then in a sync step following that, the table is missing, causing the exception.

Normally missing tables wouldn't be an issue, we would just log the error and move on. But in tests, we're intentionally throwing exceptions to guarantee that the sync works, see this https://github.com/metabase/metabase/blob/f52b46692d967a44da6264d7e9e2d35311fd05ca/test/metabase/test/data/impl/get_or_create.clj#L121

tsmacdonald on (2024-03-13 10:40:19 UTC): Cool, thanks for the explanation! Makes sense

github-actions[bot] on (2024-03-13 11:48:15 UTC): @qnkhuat Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2183433255,pull_request,closed,,"ü§ñ backported ""Make static field values select searchable""",#40054,metabase-bot[bot],2024-03-13 08:49:38+00:00,['ranquild'],2024-03-13 09:22:46+00:00,2024-03-13 09:22:45+00:00,https://github.com/metabase/metabase/pull/40057,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1993864592, 'issue_id': 2183433255, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/610b8f4d-92ea-4e8f-91dc-1e1e82b8a8e4"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>841f016113d5f190529f80f13a9043d32d29b542</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2338 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 13, 9, 1, 35, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-13 09:01:35 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/610b8f4d-92ea-4e8f-91dc-1e1e82b8a8e4"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>841f016113d5f190529f80f13a9043d32d29b542</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2338 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2183329010,pull_request,closed,,TODO triaging: link issues,"This PR adds links to issues created during TODO triaging yesterday
",calherries,2024-03-13 07:49:02+00:00,['calherries'],2024-03-13 14:19:24+00:00,2024-03-13 14:19:10+00:00,https://github.com/metabase/metabase/pull/40056,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 1993767582, 'issue_id': 2183329010, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/b8492be3-fdf3-4ea2-b50d-053b1ac28e77"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 53 / 54</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>f52b46692d967a44da6264d7e9e2d35311fd05ca</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2358 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 13, 8, 1, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 1993771178, 'issue_id': 2183329010, 'author': 'tsmacdonald', 'body': ':boat: \r\n\r\nadded `no-backport` and turned on automerge', 'created_at': datetime.datetime(2024, 3, 13, 8, 4, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 1994515126, 'issue_id': 2183329010, 'author': 'github-actions[bot]', 'body': '@calherries Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 13, 14, 19, 22, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-13 08:01:53 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/b8492be3-fdf3-4ea2-b50d-053b1ac28e77"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 53 / 54</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>f52b46692d967a44da6264d7e9e2d35311fd05ca</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2358 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

tsmacdonald on (2024-03-13 08:04:29 UTC): :boat: 

added `no-backport` and turned on automerge

github-actions[bot] on (2024-03-13 14:19:22 UTC): @calherries Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2183302229,pull_request,closed,,Elevate selected filter field values,"Product doc https://www.notion.so/metabase/Show-the-selected-filter-values-on-top-of-multi-select-list-6e3f2e1880dc40bc8c50170236ca0aaa

Elevate selected field values on initial render when rendering them as a list of checkboxes.

How to verify:
- New -> Question -> Products
- Add a filter Category -> Gizmo
- Click on the added filter
- See that the Gizmo is at the top of the list
- Try checking and unchecking options. Gizmo stays at the same position, other options also don't jump.

<img width=""463"" alt=""Screenshot 2024-03-13 at 13 37 01"" src=""https://github.com/metabase/metabase/assets/8542534/404d6306-0897-4e46-ac06-394e36dbdc68"">
<img width=""439"" alt=""Screenshot 2024-03-13 at 13 37 07"" src=""https://github.com/metabase/metabase/assets/8542534/dbcc4ecc-cbdf-4e53-ba9b-51049fc4e176"">
",ranquild,2024-03-13 07:30:38+00:00,['ranquild'],2024-03-13 13:10:56+00:00,2024-03-13 13:09:57+00:00,https://github.com/metabase/metabase/pull/40055,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 1994202803, 'issue_id': 2183302229, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/30f7563a-3de5-4b66-a847-8a6a331d0c92"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>4aed83fbf81abbed27a8c0bc4b6df188b8204dc3</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2357 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 13, 11, 51, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 1994372729, 'issue_id': 2183302229, 'author': 'github-actions[bot]', 'body': '@ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 13, 13, 10, 10, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-13 11:51:13 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/30f7563a-3de5-4b66-a847-8a6a331d0c92"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>4aed83fbf81abbed27a8c0bc4b6df188b8204dc3</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2357 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-13 13:10:10 UTC): @ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2183278604,pull_request,closed,,Make static field values select searchable,"Small UX fix. Now in the filter modal you can actually ""search the list"" of static field values:

<img width=""1183"" alt=""Screenshot 2024-03-13 at 09 13 43"" src=""https://github.com/metabase/metabase/assets/8542534/ec87bfb9-1bb3-44ae-8a99-10d404b9c0e3"">

",ranquild,2024-03-13 07:14:10+00:00,['ranquild'],2024-03-13 08:49:07+00:00,2024-03-13 08:48:55+00:00,https://github.com/metabase/metabase/pull/40054,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 1993720640, 'issue_id': 2183278604, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/051b1bdf-3e55-436e-8f0c-6e7445288259"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>be813793f430b067bd23744eb4fc48e7e343e6c0</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>5 Flaky</b></div>\n<div>‚úÖ <b>2356 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 13, 7, 26, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 1993843002, 'issue_id': 2183278604, 'author': 'github-actions[bot]', 'body': '@ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 13, 8, 49, 6, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-13 07:26:09 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/051b1bdf-3e55-436e-8f0c-6e7445288259"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>be813793f430b067bd23744eb4fc48e7e343e6c0</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>5 Flaky</b></div>
<div>‚úÖ <b>2356 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-13 08:49:06 UTC): @ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2183268371,pull_request,closed,,"ü§ñ backported ""Repro #29943 - Wrong field highlighted when editing model metadata if custom column added to left of column""",#39996,metabase-bot[bot],2024-03-13 07:06:42+00:00,['kamilmielnik'],2024-03-13 07:48:55+00:00,2024-03-13 07:40:23+00:00,https://github.com/metabase/metabase/pull/40053,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1993712106, 'issue_id': 2183268371, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/2a1e7b66-eb58-45bc-83a0-55eb2fc54fbb"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 53 / 54</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>3d5faf7105a0a5b391f342e65b64df8b257a6fc7</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2331 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 13, 7, 18, 30, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-13 07:18:30 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/2a1e7b66-eb58-45bc-83a0-55eb2fc54fbb"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 53 / 54</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>3d5faf7105a0a5b391f342e65b64df8b257a6fc7</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2331 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2183124093,pull_request,closed,,Redshift and Oracle test sync: do not use hack,We don't need to overwrite `sql-jdbc.sync/filtered-syncable-schemas` for redshift and oracle in test as we already have a schema filter mechanism.,qnkhuat,2024-03-13 05:04:04+00:00,['qnkhuat'],2024-05-01 15:32:11+00:00,2024-03-20 05:08:11+00:00,https://github.com/metabase/metabase/pull/40052,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2008668300, 'issue_id': 2183124093, 'author': 'github-actions[bot]', 'body': '@qnkhuat Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 20, 5, 8, 21, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-20 05:08:21 UTC): @qnkhuat Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2182901841,pull_request,closed,,[docs] Organize and add undocumented custom expressions,"- Organize custom expressions by use case
<img width=""142"" alt=""image"" src=""https://github.com/metabase/metabase/assets/16640109/906a6ca0-a7b7-4595-9064-b89ca15dcc58"">


Diff is a bit hard to look at so here are the expressions that changed:
- document `doesNotContain`, `nonnull`, `nonempty`, `relativeDateTime`, `timeSpan`
- add case sensitivity notes to `startsWith`, `endsWith`, `contains`, `doesNotContain`
- logic of `isempty` and `isnull`
",alexyarosh,2024-03-13 00:40:17+00:00,['alexyarosh'],2024-03-21 23:39:25+00:00,2024-03-21 23:39:12+00:00,https://github.com/metabase/metabase/pull/40050,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 2014051692, 'issue_id': 2182901841, 'author': 'github-actions[bot]', 'body': '@alexyarosh Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 21, 23, 39, 23, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-21 23:39:23 UTC): @alexyarosh Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2182843226,pull_request,closed,,[docs] Explicit callouts about data download in embedding,"Add an explicit callout to check the iframe URL for data download parameter, as we had multiple questions about this.",alexyarosh,2024-03-12 23:24:48+00:00,['alexyarosh'],2024-03-13 18:50:05+00:00,2024-03-13 18:49:52+00:00,https://github.com/metabase/metabase/pull/40049,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 1995370100, 'issue_id': 2182843226, 'author': 'github-actions[bot]', 'body': '@alexyarosh Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 13, 18, 50, 4, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-13 18:50:04 UTC): @alexyarosh Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2182827756,pull_request,closed,,"ü§ñ backported ""Postgres: Fix sync does not recognize schema with backslashes""",#38946,metabase-bot[bot],2024-03-12 23:05:16+00:00,['qnkhuat'],2024-03-13 01:42:57+00:00,2024-03-13 01:42:56+00:00,https://github.com/metabase/metabase/pull/40048,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1992726265, 'issue_id': 2182827756, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/463009a0-296d-4a07-b0f7-5fb65673e6fb"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>a603c2d6c55ce4a20f75b8c0869ff29319144ddf</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚úÖ <b>2338 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 12, 23, 16, 40, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-12 23:16:40 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/463009a0-296d-4a07-b0f7-5fb65673e6fb"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>a603c2d6c55ce4a20f75b8c0869ff29319144ddf</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚úÖ <b>2338 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2182788658,pull_request,closed,,"ü§ñ backported ""[QP] When querying a bare model with parameters, wrap an extra stage""","  #39963
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",metabase-bot[bot],2024-03-12 22:23:29+00:00,['bshepherdson'],2024-03-13 14:36:45+00:00,2024-03-13 14:36:44+00:00,https://github.com/metabase/metabase/pull/40047,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1994469371, 'issue_id': 2182788658, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/57b50e70-8330-415f-9330-b9e0607d62b2"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>1e0d2f9b239f48e8976eb87dccd160c2c74f5f3f</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2333 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 13, 13, 57, 10, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-13 13:57:10 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/57b50e70-8330-415f-9330-b9e0607d62b2"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>1e0d2f9b239f48e8976eb87dccd160c2c74f5f3f</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2333 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2182769250,pull_request,closed,,[docs] Clarifications about dashboard subscriptions,"- Note that the list of recipients can be configured
- Note that the row limit can be configured
- Clarify which of the subscription row limit -related  env variables is responsible for what
- Fix wrong reference in blockquote 
- Clarify that Slack username is probably not what you think 
(I wonder if we should talk about this even more? This is actually the username that's configured in workplace setting, and Slack interface says that the concept of username only exists for technical reasons)
",alexyarosh,2024-03-12 22:03:50+00:00,['alexyarosh'],2024-03-13 14:13:00+00:00,2024-03-13 14:12:23+00:00,https://github.com/metabase/metabase/pull/40045,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 1994502236, 'issue_id': 2182769250, 'author': 'github-actions[bot]', 'body': '@alexyarosh Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 13, 14, 12, 59, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-13 14:12:59 UTC): @alexyarosh Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2182758063,pull_request,closed,,return collections in same order from /api/collections/tree and /api/collections/:id/items,"There were two problems here:

- one endpoint was sorting in the database, but not putting 'analytics' last.

- one endpoint was sorting in the database, but then sorting again in clojure, which had subtly different behavior for special characters

Fixes #39965",johnswanson,2024-03-12 21:53:50+00:00,['johnswanson'],2024-03-18 21:12:46+00:00,2024-03-18 21:12:33+00:00,https://github.com/metabase/metabase/pull/40044,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 1992661941, 'issue_id': 2182758063, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/f0399652-fb5b-4dcb-b649-2b70b9a2e293"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>2fa1359ffe1719f458127b84b3bdcbaa42b1816b</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>5 Flaky</b></div>\n<div>‚úÖ <b>2363 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 12, 22, 4, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2005000108, 'issue_id': 2182758063, 'author': 'github-actions[bot]', 'body': '@johnswanson Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 18, 21, 12, 45, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-12 22:04:54 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/f0399652-fb5b-4dcb-b649-2b70b9a2e293"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>2fa1359ffe1719f458127b84b3bdcbaa42b1816b</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>5 Flaky</b></div>
<div>‚úÖ <b>2363 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-18 21:12:45 UTC): @johnswanson Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2182736890,pull_request,closed,,RTKQuery integration: API Keys,"see: https://www.notion.so/metabase/Picking-a-real-data-fetching-library-d38077b06b9d4b09ba15db09ad608be0

This PR ports our API Keys feature to use RTKQuery",sloansparger,2024-03-12 21:39:40+00:00,['sloansparger'],2024-03-18 16:59:40+00:00,2024-03-18 16:59:28+00:00,https://github.com/metabase/metabase/pull/40043,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 1992647282, 'issue_id': 2182736890, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/cbc7b44a-5989-4dc6-a8cb-0c9d3f04104c"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>6d9fbb4cadfdfde5fe93d4e4b1eccf19df73b553</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>9 Flaky</b></div>\n<div>‚úÖ <b>2356 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 12, 21, 51, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2004459968, 'issue_id': 2182736890, 'author': 'github-actions[bot]', 'body': '@sloansparger Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 18, 16, 59, 38, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-12 21:51:57 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/cbc7b44a-5989-4dc6-a8cb-0c9d3f04104c"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>6d9fbb4cadfdfde5fe93d4e4b1eccf19df73b553</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>9 Flaky</b></div>
<div>‚úÖ <b>2356 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-18 16:59:38 UTC): @sloansparger Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2182733741,pull_request,closed,,"ü§ñ backported ""Add LDAP logging""",#40036,metabase-bot[bot],2024-03-12 21:38:13+00:00,['noahmoss'],2024-03-12 22:18:54+00:00,2024-03-12 22:18:53+00:00,https://github.com/metabase/metabase/pull/40042,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1992645037, 'issue_id': 2182733741, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/58a0a7e2-595c-4eb7-8e34-86909cf9670b"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>a0a1660cc721251dbbcbbe9cea87bce6cf77a2c1</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2332 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 12, 21, 50, 2, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-12 21:50:02 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/58a0a7e2-595c-4eb7-8e34-86909cf9670b"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>a0a1660cc721251dbbcbbe9cea87bce6cf77a2c1</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2332 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2182685835,pull_request,closed,,fix interpolate missing values setting on stacked areas,"Closes https://github.com/metabase/metabase/issues/38682

### Description

Fixes stacked areas with ""Replace missing values with Linear interpolated"" setting. Here is the visual explanation of how it works:
<img width=""1725"" alt=""Screenshot 2024-03-12 at 5 22 53‚ÄØPM"" src=""https://github.com/metabase/metabase/assets/14301985/4d601343-03c4-41ed-9490-701605a70b2e"">

### How to verify

Ensure stacked area chart with ""Replace missing values with Linear interpolated"":
- interpolates area polygons when all series have nulls
- replaces nulls with zeros if at least one series in the dataset has non-null value

Example query
```
select 1 x, 10 y1, 20 y2, 30 y3
union all select 2, 10, null, 30
union all select 3, null, null, 30
union all select 4, null, null, null
union all select 5, 10, null, 30
```

### Demo

Before
<img width=""1724"" alt=""Screenshot 2024-03-12 at 5 28 35‚ÄØPM"" src=""https://github.com/metabase/metabase/assets/14301985/9823dc59-db93-400b-b549-58ca12f707b2"">

After
<img width=""1728"" alt=""Screenshot 2024-03-12 at 5 24 13‚ÄØPM"" src=""https://github.com/metabase/metabase/assets/14301985/5dafd309-ca3b-4914-ad5f-5514c7471715"">

DC.js
<img width=""1725"" alt=""Screenshot 2024-03-12 at 5 22 44‚ÄØPM"" src=""https://github.com/metabase/metabase/assets/14301985/64ead00f-e600-49ed-9f20-766d9bb7d7da"">

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",alxnddr,2024-03-12 21:14:32+00:00,['alxnddr'],2024-03-13 02:16:44+00:00,2024-03-13 02:16:43+00:00,https://github.com/metabase/metabase/pull/40041,"[('visual', 'Run Percy visual testing'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 1992617456, 'issue_id': 2182685835, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/cf4278a6-6e68-40cd-aad9-074a71155ed1"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>6cb027f56ef918115f80d98e2af05ea2873254e6</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>177 Failed</b></div>\n<div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2039 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 12, 21, 28, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-12 21:28:00 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/cf4278a6-6e68-40cd-aad9-074a71155ed1"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>6cb027f56ef918115f80d98e2af05ea2873254e6</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>177 Failed</b></div>
<div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2039 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2182681470,pull_request,closed,,Update environment-variables.md,"Added a note that logos in SVG format do not support inline styling or inline scripts.

> [!IMPORTANT]
> If you are merging into master, please add either a `backport` or a `no-backport` label to this PR. You will not be able to merge until you do this step. Refer to the section [Do I need to backport this PR?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#89f80d6f17714a0198aeb66c0efd1b71) in the Metabase Branching Strategy document for more details.

> **Warning**
>
> If that is your first contribution to Metabase, please sign the [Contributor License Agreement](https://docs.google.com/a/metabase.com/forms/d/1oV38o7b9ONFSwuzwmERRMi9SYrhYeOrkbmNaq9pOJ_E/viewform) (unless it's a tiny documentation change). Also, if you're attempting to fix a translation issue, please submit your changes to our [POEditor project](https://poeditor.com/join/project/ynjQmwSsGh) instead of opening a PR.

Closes https://github.com/metabase/metabase/issues/[issue_number]

### Description

Describe the overall approach and the problem being solved.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> ...
2. ...

### Demo

_Upload a demo video or before/after screenshots if sensible or remove the section_

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",ixipixi,2024-03-12 21:11:07+00:00,[],2024-04-23 16:42:54+00:00,2024-04-23 16:42:54+00:00,https://github.com/metabase/metabase/pull/40040,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 1992883509, 'issue_id': 2182681470, 'author': 'paoliniluis', 'body': '@ixipixi have you signed the CLA?', 'created_at': datetime.datetime(2024, 3, 13, 0, 52, 42, tzinfo=datetime.timezone.utc)}, {'comment_id': 1992906100, 'issue_id': 2182681470, 'author': 'ixipixi', 'body': 'Yep! Do I need to follow up with someone?', 'created_at': datetime.datetime(2024, 3, 13, 1, 2, 41, tzinfo=datetime.timezone.utc)}]","paoliniluis on (2024-03-13 00:52:42 UTC): @ixipixi have you signed the CLA?

ixipixi (Issue Creator) on (2024-03-13 01:02:41 UTC): Yep! Do I need to follow up with someone?

"
2182645995,pull_request,closed,,"ü§ñ backported ""No view logging for oss""","  #39957
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",metabase-bot[bot],2024-03-12 20:49:32+00:00,['escherize'],2025-02-04 18:16:09+00:00,2024-05-16 14:59:50+00:00,https://github.com/metabase/metabase/pull/40039,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1992606330, 'issue_id': 2182645995, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs?testRunId=237f870b-48ec-4e87-a393-3d3cc9e523b6"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>572c1dc9c0f65badbee0cd3a833940fe6c0bc8be</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚úÖ <b>2369 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 12, 21, 19, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 2020461532, 'issue_id': 2182645995, 'author': 'luizarakaki', 'body': ""I'll cancel this backport.\r\nIt is not urgent and we may need this data for another ongoing epic."", 'created_at': datetime.datetime(2024, 3, 26, 13, 40, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 2115489532, 'issue_id': 2182645995, 'author': 'escherize', 'body': ""Not sure why this was reopened, I'll close it now. Please reopen with some reasoning otherwise."", 'created_at': datetime.datetime(2024, 5, 16, 14, 59, 50, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-12 21:19:26 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs?testRunId=237f870b-48ec-4e87-a393-3d3cc9e523b6"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>572c1dc9c0f65badbee0cd3a833940fe6c0bc8be</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚úÖ <b>2369 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

luizarakaki on (2024-03-26 13:40:58 UTC): I'll cancel this backport.
It is not urgent and we may need this data for another ongoing epic.

escherize (Assginee) on (2024-05-16 14:59:50 UTC): Not sure why this was reopened, I'll close it now. Please reopen with some reasoning otherwise.

"
2182598455,pull_request,closed,,Add LDAP logging,"Pretty straightforward... adds a bunch of debug logging when obtaining an LDAP connection and executing a search. 

Resolves https://github.com/metabase/metabase/issues/39760",noahmoss,2024-03-12 20:17:53+00:00,['noahmoss'],2024-03-12 21:37:47+00:00,2024-03-12 21:37:34+00:00,https://github.com/metabase/metabase/pull/40036,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 1992506706, 'issue_id': 2182598455, 'author': 'noahmoss', 'body': '* **#40036** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40036?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @noahmoss and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 12, 20, 18, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 1992525039, 'issue_id': 2182598455, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/2474a407-ad05-4c9f-9d1d-eecee7254845"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>80a705132e071cbfec44fb73b905f19f8a99c1c8</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚úÖ <b>2360 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 12, 20, 31, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 1992630092, 'issue_id': 2182598455, 'author': 'github-actions[bot]', 'body': '@noahmoss Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 12, 21, 37, 46, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2024-03-12 20:18:08 UTC): * **#40036** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40036?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @noahmoss and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

replay-io[bot] on (2024-03-12 20:31:08 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/2474a407-ad05-4c9f-9d1d-eecee7254845"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>80a705132e071cbfec44fb73b905f19f8a99c1c8</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚úÖ <b>2360 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-12 21:37:46 UTC): @noahmoss Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2182541358,pull_request,closed,,Postgres: fix sync tables with partial select perm,"Fixes https://github.com/metabase/metabase/issues/40338

### Description

As part of CSV uploads introduced in 0.47 via https://github.com/metabase/metabase/pull/33415 metabase began excluding postgresql tables that have only a subset of their columns selectable from the schema for simple questions (you can still query them via native sql).  This appears to have been unintentional since scanning for permissions looks to have been to determine which tables are writable by csv upload and tables that aren't even in the list, like the known limitation for foreign tables, are still included in the database schema sync for building simple questions on.  It'd be even nicer if columns without select permission were automatically hidden so simple questions would work by default on them but that's beyond the scope of this bugfix.  

This is a serious security limitation as it's the safest way to remove access for particular columns from even metabase users constructing native sql, and it is the only way to achieve this with postgres:

https://www.postgresql.org/docs/current/sql-grant.html
""Granting the privilege at the table level and then revoking it for one column will not do what one might wish: the table-level grant is unaffected by a column-level operation.""

The has_any_column_privilege function has been around since postgresql 8.4 so doesn't seem to introduce any new compatibility restriction.  

I believe they could be dug out of the column_privileges information_schema or pg_attribute.attacl ala https://dba.stackexchange.com/a/285632/113307 but that seems more complex and this was a smaller change.

column grants don't appear to be supported by the same code used in the redshift driver  https://docs.aws.amazon.com/redshift/latest/dg/r_System_information_functions.html

### How to verify

1. Instead of granting whole table permission grant it on a set of columns like the test does, e.g. GRANT SELECT (id) ON foo TO bar
2. See that the table is available for simple questions.  

I also ran the query current-user-table-privileges uses with this modification and saw that our tables that are this way now appear in it:

```
       with table_privileges as (
        select
          NULL as role,
          t.schemaname as schema,
          t.objectname as table,
          pg_catalog.has_any_column_privilege(current_user, '""' || t.schemaname || '""' || '.' || '""' || t.objectname || '""',  'update') as update,
          pg_catalog.has_any_column_privilege(current_user, '""' || t.schemaname || '""' || '.' || '""' || t.objectname || '""',  'select') as select,
          pg_catalog.has_any_column_privilege(current_user, '""' || t.schemaname || '""' || '.' || '""' || t.objectname || '""',  'insert') as insert,
          pg_catalog.has_table_privilege(current_user, '""' || t.schemaname || '""' || '.' || '""' || t.objectname || '""',  'delete') as delete
        from (
          select schemaname, tablename as objectname from pg_catalog.pg_tables
          union
          select schemaname, viewname as objectname from pg_catalog.pg_views
          union
          select schemaname, matviewname as objectname from pg_catalog.pg_matviews
        ) t
        where t.schemaname !~ '^pg_'
          and t.schemaname <> 'information_schema'
          and pg_catalog.has_schema_privilege(current_user, t.schemaname, 'usage')
       )
       select t.*
       from table_privileges t
```

### Checklist

- [X] Tests have been added/updated to cover changes in this PR
",ericcj,2024-03-12 19:41:03+00:00,[],2024-03-25 08:15:57+00:00,2024-03-25 08:15:57+00:00,https://github.com/metabase/metabase/pull/40034,"[('Administration/Metadata & Sync', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 2009260850, 'issue_id': 2182541358, 'author': 'qnkhuat', 'body': 'CI PR: https://github.com/metabase/metabase/pull/40351', 'created_at': datetime.datetime(2024, 3, 20, 10, 49, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2009754549, 'issue_id': 2182541358, 'author': 'ericcj', 'body': ""Thanks for the review.  I'm not sure when we'll get around to writing tests for every permutation of this significant regression introduced in 0.47.  Perhaps the author of the regression would be better positioned to thoroughly test it?\n\nAlso FYI I wasn't able to figure out how to rebuild and get the tests to run my changes is there documentation for the build command to run to affect unit tests?  Or can I run them by CI somehow?  I wasn't clear from https://www.metabase.com/docs/master/developers-guide/devenv#building-drivers whether I should build-drivers for postgres or build the uberjar but neither seemed to affect the code run by clojure -X:dev:test"", 'created_at': datetime.datetime(2024, 3, 20, 14, 48, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 2011210099, 'issue_id': 2182541358, 'author': 'qnkhuat', 'body': ""@ericcj on testing. \r\nI'd only add 3 more cases:\r\n- a table with select permission on an ID column\r\n- same but with update permission\r\n- same but with insert permission\r\n\r\nI can write those tests; just lmk if you want me to.\r\n\r\nOn executing the test, since it's a driver test, you'll need to have set the env var `DRIVERS=postgres`. This is to make driver tests executed for Postgres.\r\n\r\n```bash\r\nDRIVERS=postgres clj -X:dev:drivers:drivers-dev:test :only metabase.driver.postgres-test/table-privileges-test\r\n```\r\n\r\nThis will run only the `table-privileges-test` for Postgres.\r\n\r\nIt expects a local Postgres server running at localhost:5432.\r\nTips: you can use this [script](https://github.com/metabase/dev-scripts/blob/master/run-postgresql-13.sh) to get a postgres server running."", 'created_at': datetime.datetime(2024, 3, 21, 4, 47, 5, tzinfo=datetime.timezone.utc)}]","qnkhuat on (2024-03-20 10:49:24 UTC): CI PR: https://github.com/metabase/metabase/pull/40351

ericcj (Issue Creator) on (2024-03-20 14:48:59 UTC): Thanks for the review.  I'm not sure when we'll get around to writing tests for every permutation of this significant regression introduced in 0.47.  Perhaps the author of the regression would be better positioned to thoroughly test it?

Also FYI I wasn't able to figure out how to rebuild and get the tests to run my changes is there documentation for the build command to run to affect unit tests?  Or can I run them by CI somehow?  I wasn't clear from https://www.metabase.com/docs/master/developers-guide/devenv#building-drivers whether I should build-drivers for postgres or build the uberjar but neither seemed to affect the code run by clojure -X:dev:test

qnkhuat on (2024-03-21 04:47:05 UTC): @ericcj on testing. 
I'd only add 3 more cases:
- a table with select permission on an ID column
- same but with update permission
- same but with insert permission

I can write those tests; just lmk if you want me to.

On executing the test, since it's a driver test, you'll need to have set the env var `DRIVERS=postgres`. This is to make driver tests executed for Postgres.

```bash
DRIVERS=postgres clj -X:dev:drivers:drivers-dev:test :only metabase.driver.postgres-test/table-privileges-test
```

This will run only the `table-privileges-test` for Postgres.

It expects a local Postgres server running at localhost:5432.
Tips: you can use this [script](https://github.com/metabase/dev-scripts/blob/master/run-postgresql-13.sh) to get a postgres server running.

"
2182506414,pull_request,closed,,add todo issues for sql/query-processor,adds a few issues to todo comments,dpsutton,2024-03-12 19:20:45+00:00,['dpsutton'],2025-02-05 01:31:41+00:00,2025-02-05 01:31:40+00:00,https://github.com/metabase/metabase/pull/40033,"[('Stale', 'Stale PRs that will be auto-closed')]","[{'comment_id': 1992392525, 'issue_id': 2182506414, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/f829fb1d-32e5-445d-9548-92b49aef9a90"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>17f814990ad750ab9a0f2e6d7d8a5e0e008eeabc</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2356 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 12, 19, 32, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2603451332, 'issue_id': 2182506414, 'author': 'github-actions[bot]', 'body': 'This pull request has had no activity for 90 days, it will be closed in 2 weeks if no further activity occurs.', 'created_at': datetime.datetime(2025, 1, 21, 1, 32, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 2635503455, 'issue_id': 2182506414, 'author': 'github-actions[bot]', 'body': 'This pull request was closed because it had no activity for more than 90 days.', 'created_at': datetime.datetime(2025, 2, 5, 1, 31, 40, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-12 19:32:43 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/f829fb1d-32e5-445d-9548-92b49aef9a90"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>17f814990ad750ab9a0f2e6d7d8a5e0e008eeabc</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2356 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2025-01-21 01:32:53 UTC): This pull request has had no activity for 90 days, it will be closed in 2 weeks if no further activity occurs.

github-actions[bot] on (2025-02-05 01:31:40 UTC): This pull request was closed because it had no activity for more than 90 days.

"
2182435400,pull_request,closed,,Enable RTL for admin/webapp components,"This is a partial solution to https://github.com/metabase/metabase/issues/24954

### Description

This PR applies the correct writing direction (left-to-right or right-to-left) to these parts of the app:
* Admin settings
* Account settings
* Home page
* Sidebar
* Nav
* Collection table
* Archive

The Loom is in two parts: [part 1 (2m43s)](https://www.loom.com/share/49200f87ffad467a9af1671c1091e265?sid=502acd44-e488-41f6-821a-ffdd5051e934), [part 2 (8m45s)](https://www.loom.com/share/7ac26aa655a749f28836f9b30e06d2aa)

## Screenshots

### Homepage in Arabic

<img width=""800"" src=""https://github.com/metabase/metabase/assets/130925/0cfde9fd-6f90-4ce0-b4b6-ee4a59ace0c9"">

### Admin/People in Hebrew

<img width=""800"" src=""https://github.com/metabase/metabase/assets/130925/29122a94-4703-481f-857e-9eea9d162d04"">

### Admin settings in Persian with nav menu open

<img width=""800"" alt=""image"" src=""https://github.com/metabase/metabase/assets/130925/5269864d-6b85-42fc-baac-e6f0c1cb4663"">

## Tools for further development

bookmarklet for flipping text direction: `javascript:(function() {  var direction = document.body.getAttribute(""dir"") || document.body.style.direction || ""ltr""; direction = (direction === 'rtl') ? ""ltr"" : ""rtl""; [...document.querySelectorAll(""body, [dir]"")].forEach((x) => x.setAttribute(""dir"", direction))  })();`",rafpaf,2024-03-12 18:43:46+00:00,['rafpaf'],2025-01-01 06:05:19+00:00,2024-08-02 13:20:36+00:00,https://github.com/metabase/metabase/pull/40031,"[('backport', 'Automatically create PR on current release branch on merge'), ('visual', 'Run Percy visual testing'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 1993267703, 'issue_id': 2182435400, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 4711aa313471458ac258369c41ac7e2c2f434f12...7eda5bc4640c3f5d0d74e0b65f01db2c04671bb9.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/TableSimple/TableSimple.styled.tsx |\n| @kdoh | frontend/src/metabase/ui/components/buttons/Button/Button.styled.tsx<br>frontend/src/metabase/ui/components/icons/Icon/ChevronIcon.tsx<br>frontend/src/metabase/ui/components/icons/Icon/Icon.tsx<br>frontend/src/metabase/ui/components/icons/Icon/icons/index.ts<br>frontend/src/metabase/ui/components/inputs/Input/Input.styled.tsx<br>frontend/src/metabase/ui/components/inputs/Radio/Radio.styled.tsx<br>frontend/src/metabase/ui/components/inputs/Switch/Switch.styled.tsx<br>frontend/src/metabase/ui/components/layout/Flex/index.ts<br>frontend/src/metabase/ui/components/layout/Flex/index.tsx<br>frontend/src/metabase/ui/components/theme/ThemeProvider/ThemeProvider.tsx<br>frontend/src/metabase/ui/components/typography/Text/index.ts<br>frontend/src/metabase/ui/components/typography/Text/index.tsx<br>frontend/src/metabase/ui/components/utils/Box/index.ts<br>frontend/src/metabase/ui/components/utils/Box/index.tsx |\n| @ranquild | enterprise/frontend/src/metabase-enterprise/whitelabel/components/HelpLinkSettings/HelpLinkSettings.tsx<br>enterprise/frontend/src/metabase-enterprise/whitelabel/index.js<br>frontend/src/metabase/account/profile/components/UserProfileForm/UserProfileForm.tsx<br>frontend/src/metabase/home/components/HomeCard/HomeCard.styled.tsx<br>frontend/src/metabase/home/components/HomeGreeting/HomeGreeting.styled.tsx<br>frontend/src/metabase/home/components/HomeHelpCard/HomeHelpCard.styled.tsx<br>frontend/src/metabase/home/components/HomeLayout/HomeLayout.styled.tsx<br>frontend/src/metabase/home/components/HomeLayout/HomeLayout.tsx<br>frontend/src/metabase/home/components/HomeModelCard/HomeModelCard.styled.tsx |', 'created_at': datetime.datetime(2024, 3, 13, 3, 6, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 1993335092, 'issue_id': 2182435400, 'author': 'rafpaf', 'body': 'Maybe this should be backported?', 'created_at': datetime.datetime(2024, 3, 13, 3, 34, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 1993357682, 'issue_id': 2182435400, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/b0258029-fe74-48c1-8d98-b5793ac2379c"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>7eda5bc4640c3f5d0d74e0b65f01db2c04671bb9</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>8 Failed</b></div>\n<div>‚úÖ <b>1520 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 13, 3, 44, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 2558469262, 'issue_id': 2182435400, 'author': 'seidnerj', 'body': 'Hi, would love to see this in a release! Why was this jot merged? Can we help?', 'created_at': datetime.datetime(2024, 12, 22, 14, 10, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2566864796, 'issue_id': 2182435400, 'author': 'okaeiz', 'body': ""Why isn't this merged?"", 'created_at': datetime.datetime(2025, 1, 1, 6, 5, 18, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-13 03:06:25 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 4711aa313471458ac258369c41ac7e2c2f434f12...7eda5bc4640c3f5d0d74e0b65f01db2c04671bb9.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/TableSimple/TableSimple.styled.tsx |
| @kdoh | frontend/src/metabase/ui/components/buttons/Button/Button.styled.tsx<br>frontend/src/metabase/ui/components/icons/Icon/ChevronIcon.tsx<br>frontend/src/metabase/ui/components/icons/Icon/Icon.tsx<br>frontend/src/metabase/ui/components/icons/Icon/icons/index.ts<br>frontend/src/metabase/ui/components/inputs/Input/Input.styled.tsx<br>frontend/src/metabase/ui/components/inputs/Radio/Radio.styled.tsx<br>frontend/src/metabase/ui/components/inputs/Switch/Switch.styled.tsx<br>frontend/src/metabase/ui/components/layout/Flex/index.ts<br>frontend/src/metabase/ui/components/layout/Flex/index.tsx<br>frontend/src/metabase/ui/components/theme/ThemeProvider/ThemeProvider.tsx<br>frontend/src/metabase/ui/components/typography/Text/index.ts<br>frontend/src/metabase/ui/components/typography/Text/index.tsx<br>frontend/src/metabase/ui/components/utils/Box/index.ts<br>frontend/src/metabase/ui/components/utils/Box/index.tsx |
| @ranquild | enterprise/frontend/src/metabase-enterprise/whitelabel/components/HelpLinkSettings/HelpLinkSettings.tsx<br>enterprise/frontend/src/metabase-enterprise/whitelabel/index.js<br>frontend/src/metabase/account/profile/components/UserProfileForm/UserProfileForm.tsx<br>frontend/src/metabase/home/components/HomeCard/HomeCard.styled.tsx<br>frontend/src/metabase/home/components/HomeGreeting/HomeGreeting.styled.tsx<br>frontend/src/metabase/home/components/HomeHelpCard/HomeHelpCard.styled.tsx<br>frontend/src/metabase/home/components/HomeLayout/HomeLayout.styled.tsx<br>frontend/src/metabase/home/components/HomeLayout/HomeLayout.tsx<br>frontend/src/metabase/home/components/HomeModelCard/HomeModelCard.styled.tsx |

rafpaf (Issue Creator) on (2024-03-13 03:34:52 UTC): Maybe this should be backported?

replay-io[bot] on (2024-03-13 03:44:31 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/b0258029-fe74-48c1-8d98-b5793ac2379c"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>7eda5bc4640c3f5d0d74e0b65f01db2c04671bb9</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>8 Failed</b></div>
<div>‚úÖ <b>1520 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

seidnerj on (2024-12-22 14:10:13 UTC): Hi, would love to see this in a release! Why was this jot merged? Can we help?

okaeiz on (2025-01-01 06:05:18 UTC): Why isn't this merged?

"
2182380669,pull_request,closed,,Fix sidebar border on X-Rays,"In response to: https://metaboat.slack.com/archives/C0641E4PB9B/p1710265281615549

**Before**

![image](https://github.com/metabase/metabase/assets/22608765/312eba91-5940-4dae-8535-48d6c1fa0cd0)


**After**

![image](https://github.com/metabase/metabase/assets/22608765/9d364f2f-3c79-42eb-9e69-1f74ed6dbb9c)
",JesseSDevaney,2024-03-12 18:15:58+00:00,['JesseSDevaney'],2024-03-13 18:25:27+00:00,2024-03-13 18:25:15+00:00,https://github.com/metabase/metabase/pull/40029,"[('Reporting/Dashboards', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 1992295244, 'issue_id': 2182380669, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/9ae44fd1-e101-4ad8-a8e6-27bd475500ec"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>298d3494e8bb94c47202c879bdb839345e243ac9</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2359 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 12, 18, 27, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 1995284993, 'issue_id': 2182380669, 'author': 'github-actions[bot]', 'body': '@JesseSDevaney Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 13, 18, 25, 26, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-12 18:27:32 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/9ae44fd1-e101-4ad8-a8e6-27bd475500ec"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>298d3494e8bb94c47202c879bdb839345e243ac9</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2359 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-13 18:25:26 UTC): @JesseSDevaney Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2182376555,pull_request,closed,,docs - updates api docs script to handle exception,"Updates API docs to handle advanced-config namespace. 

See https://github.com/metabase/metabase/pull/38864.",jeff-bruemmer,2024-03-12 18:14:04+00:00,['jeff-bruemmer'],2024-04-01 18:57:48+00:00,2024-04-01 18:57:37+00:00,https://github.com/metabase/metabase/pull/40028,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 1992303309, 'issue_id': 2182376555, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/6cffaadc-b646-4800-9c06-ea221f2ee9bd"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>a71bc85db848c2e60ec9e30ba78f79ce94020632</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2388 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 12, 18, 32, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2030360793, 'issue_id': 2182376555, 'author': 'github-actions[bot]', 'body': '@jeff-bruemmer Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 4, 1, 18, 57, 48, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-12 18:32:40 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/6cffaadc-b646-4800-9c06-ea221f2ee9bd"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>a71bc85db848c2e60ec9e30ba78f79ce94020632</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2388 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-04-01 18:57:48 UTC): @jeff-bruemmer Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2182366833,pull_request,closed,,"ü§ñ backported ""[MLv2] Include implicit joins for breakout/order on models""",  #39801,metabase-bot[bot],2024-03-12 18:10:49+00:00,['bshepherdson'],2024-03-12 19:42:51+00:00,2024-03-12 19:42:50+00:00,https://github.com/metabase/metabase/pull/40027,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1992367949, 'issue_id': 2182366833, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/2c5e28a7-c90c-480e-80ed-eb5f378a81a1"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>4a332ca89405e59b01aaeb18debc2a02a8d575e5</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2336 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 12, 19, 16, 4, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-12 19:16:04 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/2c5e28a7-c90c-480e-80ed-eb5f378a81a1"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>4a332ca89405e59b01aaeb18debc2a02a8d575e5</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2336 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2182343360,pull_request,closed,,fix histogram label positioning,"Closes https://github.com/metabase/metabase/issues/39564

### Description

To fix the inaccurate placement, there are two things we need to do:

1. Position the labels on the left of the bar, instead of the center

We do this by adding a `padding` option to `xAxis.axisLabel` in `option/axis.ts`

2. Add a label for the end of the last bin

3. Add padding to the sides of the bars (wasn't mentioned in the original issue, but it's also a regression from the old implementation)

We achieve both of these by adding two extra values to the chart dataset, one at the beginning where the x-axis value is less than the minimum dimension value by one bin interval, and one at the end where the x-axis value is greater than the maximum dimension value by one bin interval.

Note that the padding is larger than it was on the old implementation. Unfortunately there's no easy way to fix this, the padding has to be one dimension width, echarts does not allow customization of a single datum's width in a bar series.

### Demo

![Screenshot 2024-03-12 at 11.16.50 AM.png](https://graphite-user-uploaded-assets-prod.s3.amazonaws.com/9ULpbAzGBtvQRyZEpGvu/9932f1e7-5642-4cd9-afcd-eb6a5cd4569c.png)

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",EmmadUsmani,2024-03-12 18:00:40+00:00,['EmmadUsmani'],2024-03-16 01:19:42+00:00,2024-03-16 00:45:50+00:00,https://github.com/metabase/metabase/pull/40026,"[('visual', 'Run Percy visual testing'), ('.Team/DashViz', 'Dashboard and Viz team'), ('loki-update', '')]","[{'comment_id': 1992250841, 'issue_id': 2182343360, 'author': 'EmmadUsmani', 'body': '* **#40026** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40026?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* **#40154** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40154?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* `echarts`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @EmmadUsmani and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 12, 18, 0, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 1992264858, 'issue_id': 2182343360, 'author': 'github-actions[bot]', 'body': 'üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8253615379)', 'created_at': datetime.datetime(2024, 3, 12, 18, 9, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 1992297403, 'issue_id': 2182343360, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff c3bb7741dcdeb262167a3ee7a17dd407d5135176...7a474ebaf5bd891583b29a99e271a09f6e2ad2fe.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/echarts/cartesian/model/axis.ts<br>frontend/src/metabase/visualizations/echarts/cartesian/model/dataset.ts<br>frontend/src/metabase/visualizations/echarts/cartesian/model/types.ts<br>frontend/src/metabase/visualizations/echarts/cartesian/option/axis.ts<br>frontend/src/metabase/visualizations/echarts/cartesian/waterfall/model/index.ts<br>frontend/src/metabase/visualizations/visualizations/CartesianChart/events.ts |', 'created_at': datetime.datetime(2024, 3, 12, 18, 28, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 1992308238, 'issue_id': 2182343360, 'author': 'github-actions[bot]', 'body': 'Snapshots have been updated', 'created_at': datetime.datetime(2024, 3, 12, 18, 35, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 1992315635, 'issue_id': 2182343360, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/7c38d97b-7872-4bc5-b577-e73063d1529b"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>7a474ebaf5bd891583b29a99e271a09f6e2ad2fe</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>176 Failed</b></div>\n<div>‚úÖ <b>2041 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 12, 18, 40, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 1992667709, 'issue_id': 2182343360, 'author': 'github-actions[bot]', 'body': 'üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8256285725)', 'created_at': datetime.datetime(2024, 3, 12, 22, 10, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 1992667786, 'issue_id': 2182343360, 'author': 'github-actions[bot]', 'body': 'üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8256285620)', 'created_at': datetime.datetime(2024, 3, 12, 22, 10, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 1992668627, 'issue_id': 2182343360, 'author': 'github-actions[bot]', 'body': 'Snapshots have been updated', 'created_at': datetime.datetime(2024, 3, 12, 22, 11, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 1992752198, 'issue_id': 2182343360, 'author': 'github-actions[bot]', 'body': 'üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8257137417)', 'created_at': datetime.datetime(2024, 3, 12, 23, 52, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 1998376133, 'issue_id': 2182343360, 'author': 'github-actions[bot]', 'body': 'üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8286984057)', 'created_at': datetime.datetime(2024, 3, 14, 20, 20, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 1998381199, 'issue_id': 2182343360, 'author': 'github-actions[bot]', 'body': 'üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8286984154)', 'created_at': datetime.datetime(2024, 3, 14, 20, 21, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 1998388966, 'issue_id': 2182343360, 'author': 'github-actions[bot]', 'body': 'Snapshots have been updated', 'created_at': datetime.datetime(2024, 3, 14, 20, 22, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 1998645184, 'issue_id': 2182343360, 'author': 'EmmadUsmani', 'body': '@alxnddr Makes sense, I implemented this change on another PR that also needs it and made that the parent of this PR\r\n\r\nhttps://github.com/metabase/metabase/pull/40154', 'created_at': datetime.datetime(2024, 3, 14, 23, 31, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 1998651593, 'issue_id': 2182343360, 'author': 'github-actions[bot]', 'body': 'üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8288926356)', 'created_at': datetime.datetime(2024, 3, 14, 23, 38, 44, tzinfo=datetime.timezone.utc)}, {'comment_id': 1998651849, 'issue_id': 2182343360, 'author': 'github-actions[bot]', 'body': 'üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8288926331)', 'created_at': datetime.datetime(2024, 3, 14, 23, 39, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2000823847, 'issue_id': 2182343360, 'author': 'EmmadUsmani', 'body': '### Merge activity\n\n* **Mar 15, 8:43 PM EDT**: @EmmadUsmani started a stack merge that includes this pull request via [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/40026).\n* **Mar 15, 8:45 PM EDT**: [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/40026) rebased this pull request as part of a merge.\n* **Mar 15, 8:45 PM EDT**: @EmmadUsmani merged this pull request with [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/40026).', 'created_at': datetime.datetime(2024, 3, 16, 0, 43, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 2000834095, 'issue_id': 2182343360, 'author': 'github-actions[bot]', 'body': 'üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8303954513)', 'created_at': datetime.datetime(2024, 3, 16, 0, 47, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 2000834641, 'issue_id': 2182343360, 'author': 'github-actions[bot]', 'body': 'üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8303954475)', 'created_at': datetime.datetime(2024, 3, 16, 0, 47, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2000847876, 'issue_id': 2182343360, 'author': 'github-actions[bot]', 'body': 'üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8303988317)', 'created_at': datetime.datetime(2024, 3, 16, 0, 52, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 2000849988, 'issue_id': 2182343360, 'author': 'github-actions[bot]', 'body': 'üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8303988224)', 'created_at': datetime.datetime(2024, 3, 16, 0, 52, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 2000852961, 'issue_id': 2182343360, 'author': 'github-actions[bot]', 'body': 'üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8304009035)', 'created_at': datetime.datetime(2024, 3, 16, 0, 53, 26, tzinfo=datetime.timezone.utc)}]","EmmadUsmani (Issue Creator) on (2024-03-12 18:00:54 UTC): * **#40026** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40026?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* **#40154** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40154?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* `echarts`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @EmmadUsmani and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

github-actions[bot] on (2024-03-12 18:09:12 UTC): üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8253615379)

github-actions[bot] on (2024-03-12 18:28:57 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff c3bb7741dcdeb262167a3ee7a17dd407d5135176...7a474ebaf5bd891583b29a99e271a09f6e2ad2fe.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/echarts/cartesian/model/axis.ts<br>frontend/src/metabase/visualizations/echarts/cartesian/model/dataset.ts<br>frontend/src/metabase/visualizations/echarts/cartesian/model/types.ts<br>frontend/src/metabase/visualizations/echarts/cartesian/option/axis.ts<br>frontend/src/metabase/visualizations/echarts/cartesian/waterfall/model/index.ts<br>frontend/src/metabase/visualizations/visualizations/CartesianChart/events.ts |

github-actions[bot] on (2024-03-12 18:35:51 UTC): Snapshots have been updated

replay-io[bot] on (2024-03-12 18:40:49 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/7c38d97b-7872-4bc5-b577-e73063d1529b"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>7a474ebaf5bd891583b29a99e271a09f6e2ad2fe</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>176 Failed</b></div>
<div>‚úÖ <b>2041 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-12 22:10:19 UTC): üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8256285725)

github-actions[bot] on (2024-03-12 22:10:23 UTC): üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8256285620)

github-actions[bot] on (2024-03-12 22:11:13 UTC): Snapshots have been updated

github-actions[bot] on (2024-03-12 23:52:36 UTC): üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8257137417)

github-actions[bot] on (2024-03-14 20:20:24 UTC): üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8286984057)

github-actions[bot] on (2024-03-14 20:21:20 UTC): üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8286984154)

github-actions[bot] on (2024-03-14 20:22:49 UTC): Snapshots have been updated

EmmadUsmani (Issue Creator) on (2024-03-14 23:31:19 UTC): @alxnddr Makes sense, I implemented this change on another PR that also needs it and made that the parent of this PR

https://github.com/metabase/metabase/pull/40154

github-actions[bot] on (2024-03-14 23:38:44 UTC): üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8288926356)

github-actions[bot] on (2024-03-14 23:39:06 UTC): üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8288926331)

EmmadUsmani (Issue Creator) on (2024-03-16 00:43:02 UTC): ### Merge activity

* **Mar 15, 8:43 PM EDT**: @EmmadUsmani started a stack merge that includes this pull request via [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/40026).
* **Mar 15, 8:45 PM EDT**: [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/40026) rebased this pull request as part of a merge.
* **Mar 15, 8:45 PM EDT**: @EmmadUsmani merged this pull request with [Graphite](https://app.graphite.dev/github/pr/metabase/metabase/40026).

github-actions[bot] on (2024-03-16 00:47:33 UTC): üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8303954513)

github-actions[bot] on (2024-03-16 00:47:47 UTC): üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8303954475)

github-actions[bot] on (2024-03-16 00:52:06 UTC): üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8303988317)

github-actions[bot] on (2024-03-16 00:52:40 UTC): üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8303988224)

github-actions[bot] on (2024-03-16 00:53:26 UTC): üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8304009035)

"
2182301259,pull_request,closed,,Fix null values being applied to filters with click behavior custom URL links,"- Closes: https://github.com/metabase/metabase/issues/38489

**Before**

https://github.com/metabase/metabase/assets/22608765/0e76ea3a-d97c-43d7-89f5-6a2d696d9158

**After**

https://github.com/metabase/metabase/assets/22608765/f69d40bc-e692-4fd7-adc9-ba2e24b9b099

",JesseSDevaney,2024-03-12 17:41:10+00:00,['JesseSDevaney'],2024-03-19 19:33:27+00:00,2024-03-19 19:33:15+00:00,https://github.com/metabase/metabase/pull/40023,"[('backport', 'Automatically create PR on current release branch on merge'), ('Reporting/Dashboards/Click Behavior', ''), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 1992237035, 'issue_id': 2182301259, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/994f7c9e-10a5-4a51-885b-98075ee807a4"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>41767168699709e783c6b65eb213460bba729efe</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2371 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 12, 17, 52, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2007969782, 'issue_id': 2182301259, 'author': 'github-actions[bot]', 'body': '@JesseSDevaney Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 19, 19, 33, 26, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-12 17:52:46 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/994f7c9e-10a5-4a51-885b-98075ee807a4"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>41767168699709e783c6b65eb213460bba729efe</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2371 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-19 19:33:26 UTC): @JesseSDevaney Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2182289013,pull_request,closed,,backend triage todo changes,PR just adding issue numbers to todos in comments.,adam-james-v,2024-03-12 17:35:42+00:00,['adam-james-v'],2024-03-12 18:55:07+00:00,2024-03-12 18:54:52+00:00,https://github.com/metabase/metabase/pull/40022,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 1992228454, 'issue_id': 2182289013, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/62164302-5590-4f22-a774-283776bde354"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>b8a7c16ac777a909161334942d3e85ba3ba252d6</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>5 Flaky</b></div>\n<div>‚úÖ <b>2355 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 12, 17, 47, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 1992336580, 'issue_id': 2182289013, 'author': 'github-actions[bot]', 'body': '@adam-james-v Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 12, 18, 55, 5, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-12 17:47:27 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/62164302-5590-4f22-a774-283776bde354"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>b8a7c16ac777a909161334942d3e85ba3ba252d6</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>5 Flaky</b></div>
<div>‚úÖ <b>2355 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-12 18:55:05 UTC): @adam-james-v Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2182277050,pull_request,closed,,remove TODOs from metabase.models.setting,"3 TODOs were removed here:

- ""a way to SET Database-local values."" More like TODONE :haaa:

- ""we should probably also bind this [that is, *database-local-values*] in sync contexts e.g. functions in [[metabase.sync]]"" I think we don't need to do this. The full set of maybe-database-local settings right now is `aggregated-query-row-limit`, `unaggregated-query-row-limit`, `database-enable-actions`, and `persist-models-enabled`. None of these need to be set when `sync`ing. If at some point we do add a db-local setting that should affect the way syncing works, we will need to do this - but I don't think this TODO will help figure that out.

- ""settings sent via an env var aren't returned for security purposes. It is an open question whether we should obfuscate them and still show the last two characters like we do for sensitive values that are set via the UI."" I think if it's been this way for 5 years, it no longer qualifies as an ""open question."" We can reopen if down the road if this is something we want.",johnswanson,2024-03-12 17:30:09+00:00,['johnswanson'],2024-05-15 19:10:31+00:00,2024-05-15 19:10:16+00:00,https://github.com/metabase/metabase/pull/40020,"[('backport', 'Automatically create PR on current release branch on merge'), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 1992219453, 'issue_id': 2182277050, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/befec5a0-9d25-4592-a22f-0b58c62090c5"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>93cb07823696510d9fb6f2573a01dfefea1595c7</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2353 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 12, 17, 42, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 2113279058, 'issue_id': 2182277050, 'author': 'github-actions[bot]', 'body': '@johnswanson Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 5, 15, 19, 10, 30, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-12 17:42:24 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/befec5a0-9d25-4592-a22f-0b58c62090c5"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>93cb07823696510d9fb6f2573a01dfefea1595c7</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2353 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-05-15 19:10:30 UTC): @johnswanson Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2182275601,pull_request,closed,,"ü§ñ backported ""Focus the top card in a newly created section""",#39961,metabase-bot[bot],2024-03-12 17:29:28+00:00,['JesseSDevaney'],2024-03-12 18:02:49+00:00,2024-03-12 18:02:48+00:00,https://github.com/metabase/metabase/pull/40019,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1992219501, 'issue_id': 2182275601, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/005e81e6-0c14-4eec-8f2b-3bcdcda12cdf"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>9aa6327f71e799284d2dad8df0f5b2e09b29623c</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2228 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 12, 17, 42, 25, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-12 17:42:25 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/005e81e6-0c14-4eec-8f2b-3bcdcda12cdf"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>9aa6327f71e799284d2dad8df0f5b2e09b29623c</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2228 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2182273550,pull_request,closed,,Remove activity table and model,Removes the `activity` table and associated model which has been replaced by `audit_log`.,noahmoss,2024-03-12 17:28:40+00:00,['noahmoss'],2024-03-15 13:06:35+00:00,2024-03-15 13:06:22+00:00,https://github.com/metabase/metabase/pull/40017,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 1992189658, 'issue_id': 2182273550, 'author': 'noahmoss', 'body': '* **#40017** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40017?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @noahmoss and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 12, 17, 28, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 1992215317, 'issue_id': 2182273550, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/a9780a58-4c15-4d86-b60a-60aa6b5b5103"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>696f52110539814c6c28d849c0c24e94170a880f</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2360 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 12, 17, 41, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 1999626864, 'issue_id': 2182273550, 'author': 'github-actions[bot]', 'body': '@noahmoss Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 15, 13, 6, 33, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2024-03-12 17:28:54 UTC): * **#40017** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40017?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @noahmoss and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

replay-io[bot] on (2024-03-12 17:41:04 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/a9780a58-4c15-4d86-b60a-60aa6b5b5103"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>696f52110539814c6c28d849c0c24e94170a880f</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2360 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-15 13:06:33 UTC): @noahmoss Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2182213043,pull_request,closed,,Fix flaky redshift tests due to missing late_binding_view,"I saw a flaky test where the `late_binding_view` table was missing during sync. I lost the link to an example test run unfortunately. 

I'm pretty sure there's no harm in keeping an extra table around, and this should fix the flake.",calherries,2024-03-12 17:01:16+00:00,['calherries'],2024-03-13 10:25:07+00:00,2024-03-13 10:24:33+00:00,https://github.com/metabase/metabase/pull/40009,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 1993741328, 'issue_id': 2182213043, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/396ef94c-be00-4828-9898-c533ad22d7c8"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>4d51b9c3da979f8e1f214ba133ee34b0e1efe645</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2358 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 13, 7, 42, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 1994048258, 'issue_id': 2182213043, 'author': 'calherries', 'body': 'I landed this (except the last commit, which was to debug a flake) as part of [Faster sync-fks](https://github.com/metabase/metabase/pull/38970/commits/ac6359ce8fa45e99e49a17da7b2f51530f547ec9)', 'created_at': datetime.datetime(2024, 3, 13, 10, 24, 33, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-13 07:42:04 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/396ef94c-be00-4828-9898-c533ad22d7c8"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>4d51b9c3da979f8e1f214ba133ee34b0e1efe645</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2358 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

calherries (Issue Creator) on (2024-03-13 10:24:33 UTC): I landed this (except the last commit, which was to debug a flake) as part of [Faster sync-fks](https://github.com/metabase/metabase/pull/38970/commits/ac6359ce8fa45e99e49a17da7b2f51530f547ec9)

"
2182192420,pull_request,closed,,Move search to toplevel in accordionlist,"Closes https://github.com/metabase/metabase/issues/41085

Moves the search box in the accordion list to the top level.

<img width=""369"" alt=""Screenshot 2024-03-12 at 17 51 17"" src=""https://github.com/metabase/metabase/assets/1250185/bbb430d8-7e22-4069-9bc6-fd96d5995412"">

<img width=""357"" alt=""Screenshot 2024-04-01 at 12 56 52"" src=""https://github.com/metabase/metabase/assets/1250185/5d9a7512-bce9-4905-a14e-b5357b410b5f"">

",romeovs,2024-03-12 16:52:13+00:00,['romeovs'],2024-04-08 13:59:05+00:00,2024-04-08 13:59:04+00:00,https://github.com/metabase/metabase/pull/40008,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 1992143430, 'issue_id': 2182192420, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/acc81b6e-44d5-4b60-bf20-0080d704c9a5"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>a5f780defd983634028e22d58c9476d88963eaf1</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>9 Flaky</b></div>\n<div>‚úÖ <b>2396 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 12, 17, 3, 47, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-12 17:03:47 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/acc81b6e-44d5-4b60-bf20-0080d704c9a5"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>a5f780defd983634028e22d58c9476d88963eaf1</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>9 Flaky</b></div>
<div>‚úÖ <b>2396 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2182172551,pull_request,closed,,Global to local css migration - grabber,"Relates to https://github.com/metabase/metabase/issues/38811 , Milestone 2

### Description

This migrates global CSS rules from `grabber.module.css` to be locally scoped.

### How to verify
- Mainly visual and code comparison
",deniskaber,2024-03-12 16:43:42+00:00,['deniskaber'],2024-03-18 22:12:01+00:00,2024-03-18 22:12:00+00:00,https://github.com/metabase/metabase/pull/40007,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', '')]","[{'comment_id': 1997429849, 'issue_id': 2182172551, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/37dc17cf-3d99-487e-afbe-191a2120667c"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>277c784667ee75fa7160958594ccc86584a51152</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2368 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 14, 13, 10, 52, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-14 13:10:52 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/37dc17cf-3d99-487e-afbe-191a2120667c"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>277c784667ee75fa7160958594ccc86584a51152</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2368 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2182122309,pull_request,closed,,TableDefinition can define a composite PK,"Follows on from https://github.com/metabase/metabase/pull/39038

Allows us to create composite PKs in test datasets by having multiple FieldDefinitions with `{:pk? true}`.

It might be more future-proof to allow defining a PK order separate from the order of the fields, but I don't need that right now and we can easily change it later.",calherries,2024-03-12 16:26:42+00:00,['calherries'],2024-03-14 08:27:41+00:00,2024-03-14 08:27:25+00:00,https://github.com/metabase/metabase/pull/40006,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 1996842127, 'issue_id': 2182122309, 'author': 'github-actions[bot]', 'body': '@calherries Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 14, 8, 27, 39, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-14 08:27:39 UTC): @calherries Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2182031673,pull_request,closed,,"ü§ñ backported ""docs - load analytics content""",#40001,metabase-bot[bot],2024-03-12 15:58:51+00:00,['jeff-bruemmer'],2024-03-12 16:02:53+00:00,2024-03-12 16:02:52+00:00,https://github.com/metabase/metabase/pull/40004,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2182025931,pull_request,closed,,"ü§ñ backported ""docs - load analytics content""",#40001,metabase-bot[bot],2024-03-12 15:56:50+00:00,['paoliniluis'],2024-03-12 15:58:23+00:00,2024-03-12 15:58:22+00:00,https://github.com/metabase/metabase/pull/40003,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2182005951,pull_request,closed,, search display name in filter picker,"Closes https://github.com/metabase/metabase/issues/39622

### Description

Allows searching by display name in the summarize and filter column pickers.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question ‚Üí Sample Dataset ‚Üí Orders
2. Add a filter and unfurl the User section
3. In the search bar type `Birth Date`, you should see one search result
4. Do the same for the summarization breakout

### Demo

<img width=""484"" alt=""Screenshot 2024-03-12 at 16 49 59"" src=""https://github.com/metabase/metabase/assets/1250185/d0b7c200-2a23-44e9-bb31-133d14d43b73"">


### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",romeovs,2024-03-12 15:50:20+00:00,['romeovs'],2024-03-13 13:36:59+00:00,2024-03-13 13:36:58+00:00,https://github.com/metabase/metabase/pull/40002,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 1992008334, 'issue_id': 2182005951, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/51f33a86-4c7b-4d60-b032-84671e69eb11"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>238f8adb11567287cdcd8ede6511426163886f0b</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2358 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 12, 16, 2, 6, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-12 16:02:06 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/51f33a86-4c7b-4d60-b032-84671e69eb11"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>238f8adb11567287cdcd8ede6511426163886f0b</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2358 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2182001035,pull_request,closed,,docs - load analytics content,Adds docs for `MB_LOAD_ANALYTICS_CONTENT` environment variable.,jeff-bruemmer,2024-03-12 15:48:42+00:00,['jeff-bruemmer'],2024-03-12 15:57:41+00:00,2024-03-12 15:55:57+00:00,https://github.com/metabase/metabase/pull/40001,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 1991995571, 'issue_id': 2182001035, 'author': 'github-actions[bot]', 'body': '@jeff-bruemmer Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 12, 15, 56, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 1991998712, 'issue_id': 2182001035, 'author': 'jeff-bruemmer', 'body': '@metabase-bot backport release-x.48.x', 'created_at': datetime.datetime(2024, 3, 12, 15, 57, 40, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-12 15:56:09 UTC): @jeff-bruemmer Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

jeff-bruemmer (Issue Creator) on (2024-03-12 15:57:40 UTC): @metabase-bot backport release-x.48.x

"
2181936301,pull_request,closed,,"ü§ñ backported ""docs - add refresh parameter""",#39452,metabase-bot[bot],2024-03-12 15:29:31+00:00,['jeff-bruemmer'],2024-03-12 15:31:07+00:00,2024-03-12 15:31:06+00:00,https://github.com/metabase/metabase/pull/40000,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2181579539,pull_request,closed,,Repro #29943 - Wrong field highlighted when editing model metadata if custom column added to left of column,"Closes #29943

Stress test: https://github.com/metabase/metabase/actions/runs/8249658549",kamilmielnik,2024-03-12 13:07:17+00:00,['kamilmielnik'],2024-03-13 07:04:47+00:00,2024-03-13 07:04:47+00:00,https://github.com/metabase/metabase/pull/39996,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 1991645417, 'issue_id': 2181579539, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/8eea4bf5-389c-47ba-b1f4-4c8721388267"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>32f80c2c245cf8b8fde7cd0c66faa9b199ee3be2</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2359 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 12, 13, 24, 14, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-12 13:24:14 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/8eea4bf5-389c-47ba-b1f4-4c8721388267"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>32f80c2c245cf8b8fde7cd0c66faa9b199ee3be2</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2359 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2181568842,pull_request,closed,,"ü§ñ backported ""docs - add link""",#39962,metabase-bot[bot],2024-03-12 13:02:05+00:00,['jeff-bruemmer'],2024-03-12 13:03:42+00:00,2024-03-12 13:03:41+00:00,https://github.com/metabase/metabase/pull/39995,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2181519805,pull_request,closed,,Remove TODOs and warnings around hard deletes,"We have some warnings and TODOs in the code for hard-deleting cards and dashboards. 

These are super out-of-date. We've been using these endpoints for years for hard-deleting cards and dashboards from the /archive page. 

In the future we might change the /archive page to also soft-delete, but we'll always need to offer a way to hard delete things for legal requirements.",calherries,2024-03-12 12:39:02+00:00,['calherries'],2024-03-12 15:22:52+00:00,2024-03-12 15:22:34+00:00,https://github.com/metabase/metabase/pull/39994,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 1991581515, 'issue_id': 2181519805, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/eb0a3994-aea6-4132-9861-2a2d70fdefd6"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>6c60e3dd1e229253258d8cce6a8ae70e75a521fa</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2358 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 12, 12, 50, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 1991909600, 'issue_id': 2181519805, 'author': 'github-actions[bot]', 'body': '@calherries Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 12, 15, 22, 51, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-12 12:50:51 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/eb0a3994-aea6-4132-9861-2a2d70fdefd6"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>6c60e3dd1e229253258d8cce6a8ae70e75a521fa</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2358 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-12 15:22:51 UTC): @calherries Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2181454197,pull_request,closed,,Move extracted column after the column for which the drill was applied for,,ranquild,2024-03-12 12:05:51+00:00,['ranquild'],2024-03-12 20:20:09+00:00,2024-03-12 20:20:07+00:00,https://github.com/metabase/metabase/pull/39992,"[('.Team/Querying', '')]",[],
2181437194,pull_request,closed,,"ü§ñ backported ""TableDefinition can define a custom PK""",#39038,metabase-bot[bot],2024-03-12 11:57:20+00:00,['qnkhuat'],2024-03-13 00:48:21+00:00,2024-03-13 00:48:20+00:00,https://github.com/metabase/metabase/pull/39990,"[('.Team/Workflows', 'aka BEC'), ('was-backported', 'apply this to PRs that are themselves backports')]",[],
2181369912,pull_request,closed,,"ü§ñ backported ""Detect the use of unsupported features in the expression editor""","  #39778
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",metabase-bot[bot],2024-03-12 11:21:20+00:00,['romeovs'],2024-03-12 16:36:51+00:00,2024-03-12 16:36:50+00:00,https://github.com/metabase/metabase/pull/39989,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1991971658, 'issue_id': 2181369912, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/dc13fbd0-7013-4241-a7bf-c9e19bc2d839"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>46f83db052238216073138bf6502b1714cfd6b59</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚úÖ <b>2338 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 12, 15, 45, 47, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-12 15:45:47 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/dc13fbd0-7013-4241-a7bf-c9e19bc2d839"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>46f83db052238216073138bf6502b1714cfd6b59</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚úÖ <b>2338 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2181341685,pull_request,closed,,Remove DELETE endpoints for cards and dashboards,"Archive them instead, as we have been for 7 years
",tsmacdonald,2024-03-12 11:07:03+00:00,['tsmacdonald'],2024-03-12 12:43:13+00:00,2024-03-12 12:21:41+00:00,https://github.com/metabase/metabase/pull/39988,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 1991414643, 'issue_id': 2181341685, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/8103bd1a-6bf4-4f02-9fcb-41ba3a354e2a"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>f195aa6909787b22317e088d526e562d75f1c10c</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>1 Failed</b></div>\n<div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2355 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 12, 11, 20, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 1991527446, 'issue_id': 2181341685, 'author': 'tsmacdonald', 'body': ""This is going to change, and the endpoints are almost certainly _not_ deprecated, but I'm delaying decisionmaking until https://metaboat.slack.com/archives/C02H619CJ8K/p1708528706182949 is sorted out"", 'created_at': datetime.datetime(2024, 3, 12, 12, 21, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 1991567937, 'issue_id': 2181341685, 'author': 'calherries', 'body': '@tsmacdonald we should probably do this at least anyway [Remove TODOs and warnings around hard deletes](https://github.com/metabase/metabase/pull/39994)', 'created_at': datetime.datetime(2024, 3, 12, 12, 43, 12, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-12 11:20:20 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/8103bd1a-6bf4-4f02-9fcb-41ba3a354e2a"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>f195aa6909787b22317e088d526e562d75f1c10c</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>1 Failed</b></div>
<div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2355 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

tsmacdonald (Issue Creator) on (2024-03-12 12:21:41 UTC): This is going to change, and the endpoints are almost certainly _not_ deprecated, but I'm delaying decisionmaking until https://metaboat.slack.com/archives/C02H619CJ8K/p1708528706182949 is sorted out

calherries on (2024-03-12 12:43:12 UTC): @tsmacdonald we should probably do this at least anyway [Remove TODOs and warnings around hard deletes](https://github.com/metabase/metabase/pull/39994)

"
2181266211,pull_request,closed,,Change team board for QPD team,,perivamsi,2024-03-12 10:31:18+00:00,['perivamsi'],2024-03-12 17:15:25+00:00,2024-03-12 17:15:24+00:00,https://github.com/metabase/metabase/pull/39987,"[('no-backport', 'Do not backport this PR to any branch')]",[],
2180917143,pull_request,closed,,"ü§ñ backported ""Split up ""Doing science..."" message""",#39619,metabase-bot[bot],2024-03-12 07:27:56+00:00,['romeovs'],2024-03-12 08:17:20+00:00,2024-03-12 08:17:19+00:00,https://github.com/metabase/metabase/pull/39976,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1990945442, 'issue_id': 2180917143, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 738830a8d1fcf1e37e4a5aab7997be12183532f6...eb1d687101967c8fb6010a2a3baafe7650f6c599.\n\n| Notify | File(s) |\n|-|-|\n| @ranquild | enterprise/frontend/src/metabase-enterprise/whitelabel/lib/loading-message.ts |', 'created_at': datetime.datetime(2024, 3, 12, 7, 28, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 1990958535, 'issue_id': 2180917143, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/46bd6a9a-b897-4123-8c3f-c623e7926dcd"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>eb1d687101967c8fb6010a2a3baafe7650f6c599</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2334 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 12, 7, 39, 44, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-12 07:28:55 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 738830a8d1fcf1e37e4a5aab7997be12183532f6...eb1d687101967c8fb6010a2a3baafe7650f6c599.

| Notify | File(s) |
|-|-|
| @ranquild | enterprise/frontend/src/metabase-enterprise/whitelabel/lib/loading-message.ts |

replay-io[bot] on (2024-03-12 07:39:44 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/46bd6a9a-b897-4123-8c3f-c623e7926dcd"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>eb1d687101967c8fb6010a2a3baafe7650f6c599</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2334 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2180904246,pull_request,closed,,Move metabase-lib v1 to a sub folder,Currently it's unclear what files are deprecated and which are not. Let's make it clear.,ranquild,2024-03-12 07:19:32+00:00,['ranquild'],2024-03-13 07:22:55+00:00,2024-03-13 07:22:40+00:00,https://github.com/metabase/metabase/pull/39975,"[('visual', 'Run Percy visual testing'), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 1990932443, 'issue_id': 2180904246, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 5d3335957841abda6f8050a115dc5c775667c4fa...4d84f70903fa49e1187a294472ffc7813d70c06f.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/click-actions/Mode/Mode.ts<br>frontend/src/metabase/visualizations/click-actions/actions/ColumnFormattingAction/ColumnFormattingAction.tsx<br>frontend/src/metabase/visualizations/click-actions/actions/DashboardClickAction.tsx<br>frontend/src/metabase/visualizations/click-actions/actions/HideColumnAction/HideColumnAction.tsx<br>frontend/src/metabase/visualizations/click-actions/actions/NativeQueryClickFallback.ts<br>frontend/src/metabase/visualizations/click-actions/actions/NativeQueryClickFallback.unit.spec.tsx<br>frontend/src/metabase/visualizations/click-actions/lib/modes.ts<br>frontend/src/metabase/visualizations/components/ChartSettings.jsx<br>frontend/src/metabase/visualizations/components/ChoroplethMap.jsx<br>frontend/src/metabase/visualizations/components/LeafletGridHeatMap.jsx<br>frontend/src/metabase/visualizations/components/LeafletMap.jsx<br>frontend/src/metabase/visualizations/components/LeafletMarkerPinMap.jsx<br>frontend/src/metabase/visualizations/components/LineAreaBarChart.jsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetail.tsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetailBody.tsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetailView.tsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetailWrapper.tsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetailsTable.tsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetailsTable.unit.spec.tsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectRelationships.tsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/types.ts<br>frontend/src/metabase/visualizations/components/ObjectDetail/utils.ts<br>frontend/src/metabase/visualizations/components/ObjectDetail/utils.unit.spec.ts<br>frontend/src/metabase/visualizations/components/PinMap.jsx<br>frontend/src/metabase/visualizations/components/TableInteractive/TableInteractive.jsx<br>frontend/src/metabase/visualizations/components/TableSimple/TableCell.tsx<br>frontend/src/metabase/visualizations/components/TableSimple/TableFooter.tsx<br>frontend/src/metabase/visualizations/components/TableSimple/TableSimple.tsx<br>frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingFieldPicker.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingFieldsPartition.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingTableColumns/ChartSettingTableColumns.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingTableColumns/TableColumnPanel/utils.ts<br>frontend/src/metabase/visualizations/components/settings/ChartSettingsListColumns/ChartSettingsListColumns.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingsTableFormatting.jsx<br>frontend/src/metabase/visualizations/lib/LineAreaBarRenderer.js<br>frontend/src/metabase/visualizations/lib/apply_axis.js<br>frontend/src/metabase/visualizations/lib/numeric.js<br>frontend/src/metabase/visualizations/lib/renderer_utils.js<br>frontend/src/metabase/visualizations/lib/scalar_utils.unit.spec.ts<br>frontend/src/metabase/visualizations/lib/settings/column.js<br>frontend/src/metabase/visualizations/lib/settings/graph.js<br>frontend/src/metabase/visualizations/lib/settings/utils.js<br>frontend/src/metabase/visualizations/lib/settings/visualization.js<br>frontend/src/metabase/visualizations/lib/table.js<br>frontend/src/metabase/visualizations/lib/table.unit.spec.js<br>frontend/src/metabase/visualizations/lib/timeseries.js<br>frontend/src/metabase/visualizations/lib/timeseries.unit.spec.js<br>frontend/src/metabase/visualizations/lib/utils.js<br>frontend/src/metabase/visualizations/types/click-actions.ts<br>frontend/src/metabase/visualizations/types/visualization.ts<br>frontend/src/metabase/visualizations/visualizations/BarChart.unit.spec.tsx<br>frontend/src/metabase/visualizations/visualizations/Gauge/Gauge.jsx<br>frontend/src/metabase/visualizations/visualizations/Heading/Heading.unit.spec.tsx<br>frontend/src/metabase/visualizations/visualizations/Map/Map.jsx<br>frontend/src/metabase/visualizations/visualizations/PieChart/PieChart.unit.spec.js<br>frontend/src/metabase/visualizations/visualizations/PivotTable/PivotTable.unit.spec.js<br>frontend/src/metabase/visualizations/visualizations/PivotTable/partitions.tsx<br>frontend/src/metabase/visualizations/visualizations/PivotTable/settings.ts<br>frontend/src/metabase/visualizations/visualizations/PivotTable/utils.ts<br>frontend/src/metabase/visualizations/visualizations/Progress/Progress.jsx<br>frontend/src/metabase/visualizations/visualizations/RowChart/RowChart.tsx<br>frontend/src/metabase/visualizations/visualizations/RowChart/utils/events.ts<br>frontend/src/metabase/visualizations/visualizations/Scalar/Scalar.jsx<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/compute.js<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/utils.ts<br>frontend/src/metabase/visualizations/visualizations/Table.tsx<br>frontend/src/metabase/visualizations/visualizations/Table.unit.spec.js |', 'created_at': datetime.datetime(2024, 3, 12, 7, 20, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 1990948104, 'issue_id': 2180904246, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/4217e784-81d8-4bda-8976-1bd10c0c6178"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>4d84f70903fa49e1187a294472ffc7813d70c06f</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2358 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 12, 7, 31, 3, tzinfo=datetime.timezone.utc)}, {'comment_id': 1993716809, 'issue_id': 2180904246, 'author': 'github-actions[bot]', 'body': '@ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 13, 7, 22, 53, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-12 07:20:41 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 5d3335957841abda6f8050a115dc5c775667c4fa...4d84f70903fa49e1187a294472ffc7813d70c06f.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/click-actions/Mode/Mode.ts<br>frontend/src/metabase/visualizations/click-actions/actions/ColumnFormattingAction/ColumnFormattingAction.tsx<br>frontend/src/metabase/visualizations/click-actions/actions/DashboardClickAction.tsx<br>frontend/src/metabase/visualizations/click-actions/actions/HideColumnAction/HideColumnAction.tsx<br>frontend/src/metabase/visualizations/click-actions/actions/NativeQueryClickFallback.ts<br>frontend/src/metabase/visualizations/click-actions/actions/NativeQueryClickFallback.unit.spec.tsx<br>frontend/src/metabase/visualizations/click-actions/lib/modes.ts<br>frontend/src/metabase/visualizations/components/ChartSettings.jsx<br>frontend/src/metabase/visualizations/components/ChoroplethMap.jsx<br>frontend/src/metabase/visualizations/components/LeafletGridHeatMap.jsx<br>frontend/src/metabase/visualizations/components/LeafletMap.jsx<br>frontend/src/metabase/visualizations/components/LeafletMarkerPinMap.jsx<br>frontend/src/metabase/visualizations/components/LineAreaBarChart.jsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetail.tsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetailBody.tsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetailView.tsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetailWrapper.tsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetailsTable.tsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetailsTable.unit.spec.tsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/ObjectRelationships.tsx<br>frontend/src/metabase/visualizations/components/ObjectDetail/types.ts<br>frontend/src/metabase/visualizations/components/ObjectDetail/utils.ts<br>frontend/src/metabase/visualizations/components/ObjectDetail/utils.unit.spec.ts<br>frontend/src/metabase/visualizations/components/PinMap.jsx<br>frontend/src/metabase/visualizations/components/TableInteractive/TableInteractive.jsx<br>frontend/src/metabase/visualizations/components/TableSimple/TableCell.tsx<br>frontend/src/metabase/visualizations/components/TableSimple/TableFooter.tsx<br>frontend/src/metabase/visualizations/components/TableSimple/TableSimple.tsx<br>frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingFieldPicker.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingFieldsPartition.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingTableColumns/ChartSettingTableColumns.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingTableColumns/TableColumnPanel/utils.ts<br>frontend/src/metabase/visualizations/components/settings/ChartSettingsListColumns/ChartSettingsListColumns.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingsTableFormatting.jsx<br>frontend/src/metabase/visualizations/lib/LineAreaBarRenderer.js<br>frontend/src/metabase/visualizations/lib/apply_axis.js<br>frontend/src/metabase/visualizations/lib/numeric.js<br>frontend/src/metabase/visualizations/lib/renderer_utils.js<br>frontend/src/metabase/visualizations/lib/scalar_utils.unit.spec.ts<br>frontend/src/metabase/visualizations/lib/settings/column.js<br>frontend/src/metabase/visualizations/lib/settings/graph.js<br>frontend/src/metabase/visualizations/lib/settings/utils.js<br>frontend/src/metabase/visualizations/lib/settings/visualization.js<br>frontend/src/metabase/visualizations/lib/table.js<br>frontend/src/metabase/visualizations/lib/table.unit.spec.js<br>frontend/src/metabase/visualizations/lib/timeseries.js<br>frontend/src/metabase/visualizations/lib/timeseries.unit.spec.js<br>frontend/src/metabase/visualizations/lib/utils.js<br>frontend/src/metabase/visualizations/types/click-actions.ts<br>frontend/src/metabase/visualizations/types/visualization.ts<br>frontend/src/metabase/visualizations/visualizations/BarChart.unit.spec.tsx<br>frontend/src/metabase/visualizations/visualizations/Gauge/Gauge.jsx<br>frontend/src/metabase/visualizations/visualizations/Heading/Heading.unit.spec.tsx<br>frontend/src/metabase/visualizations/visualizations/Map/Map.jsx<br>frontend/src/metabase/visualizations/visualizations/PieChart/PieChart.unit.spec.js<br>frontend/src/metabase/visualizations/visualizations/PivotTable/PivotTable.unit.spec.js<br>frontend/src/metabase/visualizations/visualizations/PivotTable/partitions.tsx<br>frontend/src/metabase/visualizations/visualizations/PivotTable/settings.ts<br>frontend/src/metabase/visualizations/visualizations/PivotTable/utils.ts<br>frontend/src/metabase/visualizations/visualizations/Progress/Progress.jsx<br>frontend/src/metabase/visualizations/visualizations/RowChart/RowChart.tsx<br>frontend/src/metabase/visualizations/visualizations/RowChart/utils/events.ts<br>frontend/src/metabase/visualizations/visualizations/Scalar/Scalar.jsx<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/compute.js<br>frontend/src/metabase/visualizations/visualizations/SmartScalar/utils.ts<br>frontend/src/metabase/visualizations/visualizations/Table.tsx<br>frontend/src/metabase/visualizations/visualizations/Table.unit.spec.js |

replay-io[bot] on (2024-03-12 07:31:03 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/4217e784-81d8-4bda-8976-1bd10c0c6178"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>4d84f70903fa49e1187a294472ffc7813d70c06f</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2358 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-13 07:22:53 UTC): @ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2180777503,pull_request,closed,,"ü§ñ backported ""Fix unable to start on windows with h2""",#39739,metabase-bot[bot],2024-03-12 05:40:12+00:00,['qnkhuat'],2024-03-12 07:40:50+00:00,2024-03-12 07:40:49+00:00,https://github.com/metabase/metabase/pull/39974,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1990684236, 'issue_id': 2180777503, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/f2405d47-15d8-48e6-adf0-ae937f37bd1a"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>3958389db4368bcf4e7d4dd80f53099c39386aae</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2109 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 12, 5, 53, 31, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-12 05:53:31 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/f2405d47-15d8-48e6-adf0-ae937f37bd1a"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>3958389db4368bcf4e7d4dd80f53099c39386aae</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2109 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2180733856,pull_request,closed,,fix incorrect tooltip positioning on waterfall charts,"Closes https://github.com/metabase/metabase/issues/39408

### Description

Due to non-working labels on custom series, the waterfall chart rendered line series with a transparent line for data labels. Even though, the `silent` option was `true` ECharts still triggered events on the entire line <path /> element which caused invalid positioning of the tooltip. This PR changes the data labels series to `scatter`

### How to verify

1. Create a waterfall chart
2. Hover the top left corner of waterfall bars
3. Ensure the tooltip is positioned correctly

### Demo

Before
https://github.com/metabase/metabase/assets/14301985/dfe1778a-17eb-4182-b569-8d084f51df67

After
https://github.com/metabase/metabase/assets/14301985/2ff7c441-95b0-419a-a5fb-bb8a2e557ed3

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",alxnddr,2024-03-12 05:00:36+00:00,['alxnddr'],2024-03-12 17:43:49+00:00,2024-03-12 17:43:49+00:00,https://github.com/metabase/metabase/pull/39973,"[('visual', 'Run Percy visual testing'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 1991803144, 'issue_id': 2180733856, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/5f14c552-5608-4580-829d-55fd21ca678a"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>b6d560f2dacb7951ed5bf3c39807d6f787974abe</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>177 Failed</b></div>\n<div>‚úÖ <b>2040 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 12, 14, 37, 27, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-12 14:37:27 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/5f14c552-5608-4580-829d-55fd21ca678a"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>b6d560f2dacb7951ed5bf3c39807d6f787974abe</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>177 Failed</b></div>
<div>‚úÖ <b>2040 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2180652668,pull_request,closed,,"ü§ñ backported ""Fix unable to start on windows with h2""",#39739,metabase-bot[bot],2024-03-12 03:34:08+00:00,['qnkhuat'],2024-03-12 12:54:25+00:00,2024-03-12 04:33:25+00:00,https://github.com/metabase/metabase/pull/39972,"[('.Team/Workflows', 'aka BEC'), ('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1990108778, 'issue_id': 2180652668, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/6dfba612-b7b5-4219-9ee1-25ea97363f49"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>d7505b67f1d261369d29637fbcc3a467c5a07f39</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2333 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 12, 3, 45, 50, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-12 03:45:50 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/6dfba612-b7b5-4219-9ee1-25ea97363f49"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>d7505b67f1d261369d29637fbcc3a467c5a07f39</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2333 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2180608465,pull_request,closed,,E2E support for CRUD + running pMBQL queries,"Support saving MLv2 queries in the application database, and running them from the ad-hoc `POST /api/dataset` REST API endpoint as well as the Card and Dashcard endpoints. I will follow this on with more PRs to support other things like pivot queries (#40141) and other things

Resolves #39024",camsaul,2024-03-12 02:43:59+00:00,['camsaul'],2024-03-21 01:16:25+00:00,2024-03-21 01:16:12+00:00,https://github.com/metabase/metabase/pull/39969,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2000872237, 'issue_id': 2180608465, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/c33f895c-5f93-4bfb-8e42-b33638d84eca"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>4f16c8238b5f919a80c5d19734fbdfeee5435e4d</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>5 Flaky</b></div>\n<div>‚úÖ <b>2367 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 16, 0, 58, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 2011010996, 'issue_id': 2180608465, 'author': 'github-actions[bot]', 'body': '@camsaul Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 21, 1, 16, 24, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-16 00:58:29 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/c33f895c-5f93-4bfb-8e42-b33638d84eca"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>4f16c8238b5f919a80c5d19734fbdfeee5435e4d</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>5 Flaky</b></div>
<div>‚úÖ <b>2367 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-21 01:16:24 UTC): @camsaul Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2180402020,pull_request,closed,,Allow new view-data and create-queries permissions to be read and written via permission graph,Adds `view-data` and `create-queries` to the perms graph and allows them to be fetched and set via the normal permissions API. Does _not_ remove the old `data-access` and `native-query-editing` perms yet; we'll do that in a subsequent PR which will also require updating all the tests that were relying on the `:data` key in the graph. But this PR should be enough to unblock the FE work.,noahmoss,2024-03-11 22:54:49+00:00,['noahmoss'],2024-04-22 13:18:35+00:00,2024-03-24 18:41:17+00:00,https://github.com/metabase/metabase/pull/39967,"[('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 1989619479, 'issue_id': 2180402020, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/5f0ea1f1-2dec-4d6f-956c-de631745280d"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>7919baeea0c3fb86e6534f77b6c3ee0ae1e1c2f6</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>7 Flaky</b></div>\n<div>‚úÖ <b>2374 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 11, 23, 13, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 1997960648, 'issue_id': 2180402020, 'author': 'noahmoss', 'body': '* **#39967** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39967?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* **#39209** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39209?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 6 other dependent PRs ([#40534](https://github.com/metabase/metabase/pull/40534) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40534?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#40545](https://github.com/metabase/metabase/pull/40545) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40545?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#40825](https://github.com/metabase/metabase/pull/40825) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40825?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> and 3 others)\n* **#37473** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/37473?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 26 other dependent PRs ([#37191](https://github.com/metabase/metabase/pull/37191) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/37191?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#37377](https://github.com/metabase/metabase/pull/37377) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/37377?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#37379](https://github.com/metabase/metabase/pull/37379) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/37379?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> and 23 others)\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @noahmoss and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 14, 17, 20, 39, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-11 23:13:50 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/5f0ea1f1-2dec-4d6f-956c-de631745280d"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>7919baeea0c3fb86e6534f77b6c3ee0ae1e1c2f6</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>7 Flaky</b></div>
<div>‚úÖ <b>2374 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

noahmoss (Issue Creator) on (2024-03-14 17:20:39 UTC): * **#39967** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39967?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* **#39209** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39209?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 6 other dependent PRs ([#40534](https://github.com/metabase/metabase/pull/40534) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40534?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#40545](https://github.com/metabase/metabase/pull/40545) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40545?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#40825](https://github.com/metabase/metabase/pull/40825) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40825?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> and 3 others)
* **#37473** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/37473?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 26 other dependent PRs ([#37191](https://github.com/metabase/metabase/pull/37191) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/37191?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#37377](https://github.com/metabase/metabase/pull/37377) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/37377?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#37379](https://github.com/metabase/metabase/pull/37379) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/37379?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> and 23 others)
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @noahmoss and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

"
2180200663,pull_request,closed,,Support metric based queries,"Part of #38724.

The PR allows creating ad-hoc queries based on metrics.

<img width=""615"" alt=""image"" src=""https://github.com/metabase/metabase/assets/103100869/5bc96064-1599-45d9-a5cd-db2fbe80255d"">

```clojure
{:lib/type :mbql/query,
 :stages
 [{:lib/type :mbql.stage/mbql,
   :aggregation [[:metric #:lib{:uuid ""32fb5904-efcb-4ce1-8255-e44ddb95db57""} 90]],
   :filters
   [[:=
     #:lib{:uuid ""b1467ea2-c6fc-4478-a876-0dea97fb2390""}
     [:field {:base-type :type/Text, :source-field 37, :lib/uuid ""378c9312-ddae-43bd-b84a-d5c30761095e""} 64]
     ""Widget""]],
   :sources [{:lib/type :source/metric, :id 90}]}],
 :database 1}
```
",metamben,2024-03-11 20:48:19+00:00,['metamben'],2025-02-04 20:01:17+00:00,2024-03-25 20:32:51+00:00,https://github.com/metabase/metabase/pull/39964,"[('visual', 'Run Percy visual testing'), ('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 1989437137, 'issue_id': 2180200663, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/37e22de8-24d1-4319-98ee-1b7aecdd436d"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>29858e3cf88734d76a8ac693fb42eaff7742f956</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>4 Failed</b></div>\n<div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2353 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 11, 21, 1, 5, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-11 21:01:05 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/37e22de8-24d1-4319-98ee-1b7aecdd436d"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>29858e3cf88734d76a8ac693fb42eaff7742f956</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>4 Failed</b></div>
<div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2353 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2180180602,pull_request,closed,,"[QP] When querying a bare model with parameters, wrap an extra stage","This matches how models are visualized, and how the parameters are
attached to them in the first place - an extra ad-hoc query is wrapped
around the model.

Because of that wrapping, a parameter will be targeting a model's field
by name rather than by ID, but that parameter cannot be applied directly
on the model's last stage.

Fixes #39940.

",bshepherdson,2024-03-11 20:38:50+00:00,['bshepherdson'],2024-03-12 22:22:23+00:00,2024-03-12 22:22:22+00:00,https://github.com/metabase/metabase/pull/39963,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 1989402318, 'issue_id': 2180180602, 'author': 'bshepherdson', 'body': '* **#39963** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39963?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @bshepherdson and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 11, 20, 39, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 1989421754, 'issue_id': 2180180602, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/c272da38-a9c6-4dd8-b400-dc24f175644c"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>d027a8315c3fd69c7c69fe4c0f08a1ce7a9ce554</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2358 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 11, 20, 51, 14, tzinfo=datetime.timezone.utc)}]","bshepherdson (Issue Creator) on (2024-03-11 20:39:04 UTC): * **#39963** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39963?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @bshepherdson and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

replay-io[bot] on (2024-03-11 20:51:14 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/c272da38-a9c6-4dd8-b400-dc24f175644c"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>d027a8315c3fd69c7c69fe4c0f08a1ce7a9ce554</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2358 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2180150472,pull_request,closed,,docs - add link,Link to static docs from intro.,jeff-bruemmer,2024-03-11 20:23:22+00:00,['jeff-bruemmer'],2024-03-12 13:01:39+00:00,2024-03-12 13:01:26+00:00,https://github.com/metabase/metabase/pull/39962,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 1991601692, 'issue_id': 2180150472, 'author': 'github-actions[bot]', 'body': '@jeff-bruemmer Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 12, 13, 1, 37, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-12 13:01:37 UTC): @jeff-bruemmer Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2180146994,pull_request,closed,,Focus the top card in a newly created section,"Fixing in response to: https://metaboat.slack.com/archives/C021BPRNNBT/p1710171974281159?thread_ts=1709291532.952949&cid=C021BPRNNBT

**Before**


https://github.com/metabase/metabase/assets/22608765/6c1bfe9a-e5c0-4b5b-b124-c119416e30ad



**After**

https://github.com/metabase/metabase/assets/22608765/a5c26ff3-3fc3-4d09-9f9d-67b4f2013161

",JesseSDevaney,2024-03-11 20:22:07+00:00,['JesseSDevaney'],2024-03-12 17:28:54+00:00,2024-03-12 17:28:39+00:00,https://github.com/metabase/metabase/pull/39961,"[('Reporting/Dashboards', ''), ('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 1989393350, 'issue_id': 2180146994, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/ad31ec53-a436-4fa5-9ad2-a2fce423b419"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>d94397138ab037aeca315912d80bd48941e63ad0</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2352 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 11, 20, 33, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 1992189628, 'issue_id': 2180146994, 'author': 'github-actions[bot]', 'body': '@JesseSDevaney Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 12, 17, 28, 53, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-11 20:33:58 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/ad31ec53-a436-4fa5-9ad2-a2fce423b419"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>d94397138ab037aeca315912d80bd48941e63ad0</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2352 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-12 17:28:53 UTC): @JesseSDevaney Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2180062078,pull_request,closed,,remove hours of day waterfall story,"> [!IMPORTANT]
> If you are merging into master, please add either a `backport` or a `no-backport` label to this PR. You will not be able to merge until you do this step. Refer to the section [Do I need to backport this PR?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#89f80d6f17714a0198aeb66c0efd1b71) in the Metabase Branching Strategy document for more details.

> **Warning**
>
> If that is your first contribution to Metabase, please sign the [Contributor License Agreement](https://docs.google.com/a/metabase.com/forms/d/1oV38o7b9ONFSwuzwmERRMi9SYrhYeOrkbmNaq9pOJ_E/viewform) (unless it's a tiny documentation change). Also, if you're attempting to fix a translation issue, please submit your changes to our [POEditor project](https://poeditor.com/join/project/ynjQmwSsGh) instead of opening a PR.

Closes https://github.com/metabase/metabase/issues/[issue_number]

### Description

Describe the overall approach and the problem being solved.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> ...
2. ...

### Demo

_Upload a demo video or before/after screenshots if sensible or remove the section_

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",EmmadUsmani,2024-03-11 19:37:45+00:00,['EmmadUsmani'],2024-03-11 20:13:36+00:00,2024-03-11 19:38:11+00:00,https://github.com/metabase/metabase/pull/39960,"[('visual', 'Run Percy visual testing'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 1989285505, 'issue_id': 2180062078, 'author': 'EmmadUsmani', 'body': '* **#39960** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39960?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* `echarts`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @EmmadUsmani and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 11, 19, 37, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 1989312513, 'issue_id': 2180062078, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/b6e81f76-877b-4f57-9e31-24b5acd56f18"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>7e157ff780e6ea8501774f0db718330f96f5bb44</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>178 Failed</b></div>\n<div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2037 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 11, 19, 51, 36, tzinfo=datetime.timezone.utc)}]","EmmadUsmani (Issue Creator) on (2024-03-11 19:37:58 UTC): * **#39960** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39960?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* `echarts`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @EmmadUsmani and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

replay-io[bot] on (2024-03-11 19:51:36 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/b6e81f76-877b-4f57-9e31-24b5acd56f18"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>7e157ff780e6ea8501774f0db718330f96f5bb44</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>178 Failed</b></div>
<div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2037 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2179939078,pull_request,closed,,Extract action column placement,"To put the newly created column in the right place, we need to set `table.columns` viz setting. It requires the following props: `name`, `field_ref`. Later, when displaying the query results, vizualizations match these settings with columns from query results (coming from the QP). So, do we need to get the name and ref of the column and put it into the settings? Nope, this won't work because of the following issues:
- `name` and `field_ref` computed by CLJS and QP differ. When viz calls `getColumnKey`, it won't match the setting with the query column if the setting was produced with CLJS input. This is so far the biggest challenge in this project. So, to make it work, we need to somehow ""remember"" the current drill and update the viz settings when we receive new query results.
- viz settings are ""computed"", and only manually changed parts are set in the card object. We can get the up-to-date computed settings with `getVisualizationSettings` selector, or via `computedSettings` property available in viz and click actions. This does not affect the final solution but was a big issue when I was trying different approches.
- viz settings are kept in-sync with the query by inspecting query results and comparing them with the settings. If there is a new column in the results, for instance, for which there is no `table.columns` entry, such an entry would be automatically created. This makes new columns in the query automatically appear in query results. 
- viz settings sync mechanism relies not only the latest query results but also on previous query results. There was a bug in the code where such results before removed from the redux state, and the sync process didn't work as expected. Unfortunately we cannot stop removing such query results, and the alternative I came up with is manually passing them in case where we remove them from the store.
- by default the viz settings sync process doesn't change `table.columns` property if it has the default value. We have to adjust that to re-generate the viz settings for the columns to be able to manipulate them.

The final solution does the following:
- Passes `column` object from the `column-extract` drill to the viz sync process
- Compares query results with previous query results and finds out what the new columns are (if multiple)
- Finds the corresponding viz setting for the column selected by the drill
- Moves settings for the newly created columns just after the selected column

How to verify:
- Orders -> Created At -> Extract ... -> Year
- Make sure the new column is placed correctly

<img width=""384"" alt=""Screenshot 2024-03-12 at 17 31 26"" src=""https://github.com/metabase/metabase/assets/8542534/d99811a8-993b-4867-aa15-c410699633c4"">

",ranquild,2024-03-11 18:34:54+00:00,['ranquild'],2024-03-13 15:21:16+00:00,2024-03-13 15:19:30+00:00,https://github.com/metabase/metabase/pull/39958,"[('visual', 'Run Percy visual testing'), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 1991974358, 'issue_id': 2179939078, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff c8cb2d138ee4ea33f677ba7b7b8fe9c63ca04eee...3108785830d97122ffe41112bee0516902b27573.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/click-actions/Mode/Mode.ts<br>frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx<br>frontend/src/metabase/visualizations/types/click-actions.ts |', 'created_at': datetime.datetime(2024, 3, 12, 15, 46, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 1992009488, 'issue_id': 2179939078, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/b00f68ee-edbb-40c5-9b64-52fa45a73ea3"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>3108785830d97122ffe41112bee0516902b27573</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2339 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 12, 16, 2, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 1994650563, 'issue_id': 2179939078, 'author': 'github-actions[bot]', 'body': '@ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 13, 15, 21, 15, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-12 15:46:59 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff c8cb2d138ee4ea33f677ba7b7b8fe9c63ca04eee...3108785830d97122ffe41112bee0516902b27573.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/click-actions/Mode/Mode.ts<br>frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx<br>frontend/src/metabase/visualizations/types/click-actions.ts |

replay-io[bot] on (2024-03-12 16:02:39 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/b00f68ee-edbb-40c5-9b64-52fa45a73ea3"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>3108785830d97122ffe41112bee0516902b27573</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2339 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-13 15:21:15 UTC): @ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2179894638,pull_request,closed,,No view logging for oss,"Follow on fix for #35288

We mustn't record view logging in OSS, but we were anyway.

",escherize,2024-03-11 18:21:59+00:00,['escherize'],2024-03-12 20:48:45+00:00,2024-03-12 20:48:44+00:00,https://github.com/metabase/metabase/pull/39957,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 1989176413, 'issue_id': 2179894638, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/468e39b2-34c1-4bdd-8bc5-d89875daf3ce"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>80cfe3d0039c1ba12fdecf4ac76f0f549502e9a0</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2357 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 11, 18, 35, 4, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-11 18:35:04 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/468e39b2-34c1-4bdd-8bc5-d89875daf3ce"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>80cfe3d0039c1ba12fdecf4ac76f0f549502e9a0</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2357 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2179772676,pull_request,closed,,"ü§ñ backported ""Db api""","  #39731
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",metabase-bot[bot],2024-03-11 17:39:53+00:00,['dpsutton'],2024-03-12 19:33:55+00:00,2024-03-12 19:33:54+00:00,https://github.com/metabase/metabase/pull/39956,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1992394186, 'issue_id': 2179772676, 'author': 'dpsutton', 'body': ""This is more effort than its worth to backport at the moment. Lots of annoying conflicts and there's no huge lift in this for the 49.x series."", 'created_at': datetime.datetime(2024, 3, 12, 19, 33, 54, tzinfo=datetime.timezone.utc)}]","dpsutton (Assginee) on (2024-03-12 19:33:54 UTC): This is more effort than its worth to backport at the moment. Lots of annoying conflicts and there's no huge lift in this for the 49.x series.

"
2179722883,pull_request,closed,,[Metrics V2] query processor phase 1,,snoe,2024-03-11 17:23:26+00:00,['snoe'],2024-03-11 21:58:12+00:00,2024-03-11 21:58:12+00:00,https://github.com/metabase/metabase/pull/39955,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 1989039947, 'issue_id': 2179722883, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/f61097a6-5eee-4c5e-8301-9d5728daed92"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>1c94ede260250f6501039de09b18b690cb221da7</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2355 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 11, 17, 35, 12, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-11 17:35:12 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/f61097a6-5eee-4c5e-8301-9d5728daed92"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>1c94ede260250f6501039de09b18b690cb221da7</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2355 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2179665194,pull_request,closed,,do not blur timeline events when series hovered,"Closes https://github.com/metabase/metabase/issues/39565

### Description

Do not blur timeline events lines and icons when other series are hovered

### How to verify

Open a chart with timeline events, hover series, ensure timeline events are not blurred
",alxnddr,2024-03-11 17:07:05+00:00,['alxnddr'],2024-03-11 19:09:04+00:00,2024-03-11 19:09:04+00:00,https://github.com/metabase/metabase/pull/39952,"[('visual', 'Run Percy visual testing'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 1989002805, 'issue_id': 2179665194, 'author': 'github-actions[bot]', 'body': 'üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8236878421)', 'created_at': datetime.datetime(2024, 3, 11, 17, 16, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 1989011157, 'issue_id': 2179665194, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/48834d14-afd8-4c88-a894-44a876d5820f"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>af7fbd0a54856ec1fa4270eaf2ae2102c89776f3</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>178 Failed</b></div>\n<div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2037 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 11, 17, 20, 48, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-11 17:16:36 UTC): üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8236878421)

replay-io[bot] on (2024-03-11 17:20:48 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/48834d14-afd8-4c88-a894-44a876d5820f"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>af7fbd0a54856ec1fa4270eaf2ae2102c89776f3</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>178 Failed</b></div>
<div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2037 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2179654483,pull_request,closed,,Support appending new CSV fields,"Closes https://github.com/metabase/metabase/issues/39868

### Description

With this change new CSV files can add new fields.",crisptrutski,2024-03-11 17:03:02+00:00,['crisptrutski'],2024-04-11 15:47:29+00:00,2024-03-18 08:20:41+00:00,https://github.com/metabase/metabase/pull/39951,"[('backport', 'Automatically create PR on current release branch on merge'), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 1988967968, 'issue_id': 2179654483, 'author': 'crisptrutski', 'body': '> [!WARNING]\n> <b>This pull request is not mergeable via GitHub because a downstack PR is open. Once all requirements are satisfied, merge this PR as a stack <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39951?utm_source=stack-comment-downstack-mergeability-warning"" >on Graphite</a>.</b>\n> <a href=""https://graphite.dev/docs/merge-pull-requests"">Learn more</a>\n\n* **#39951** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39951?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* **#39944** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39944?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 1 other dependent PR ([#40220](https://github.com/metabase/metabase/pull/40220) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40220?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>)\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 11, 17, 3, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 1989001085, 'issue_id': 2179654483, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/d09f4332-9bda-4167-8fcc-3755be0750c3"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>98a5f307d460dd0900cf098f43a440fe07f8019e</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>1 Failed</b></div>\n<div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2362 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 11, 17, 15, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 1997980787, 'issue_id': 2179654483, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 544ed3b69c42afcc177fc694b146619b9ebbd43d...551d0a4f3f4745013422bd3cae733780014eb51e.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettings.jsx<br>frontend/src/metabase/visualizations/components/FunnelNormal.jsx<br>frontend/src/metabase/visualizations/components/LeafletChoropleth.jsx<br>frontend/src/metabase/visualizations/components/LegacyChoropleth.jsx<br>frontend/src/metabase/visualizations/components/LegendItem.jsx<br>frontend/src/metabase/visualizations/components/PinMap.jsx<br>frontend/src/metabase/visualizations/components/TableInteractive/TableInteractive.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartNestedSettingSeriesMultiple.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingFieldsPartition.jsx<br>frontend/src/metabase/visualizations/visualizations/Gauge/Gauge.jsx<br>frontend/src/metabase/visualizations/visualizations/Progress/Progress.jsx<br>frontend/src/metabase/visualizations/visualizations/Scalar/Scalar.jsx |\n| @ranquild | frontend/src/metabase/account/login-history/components/LoginHistory/LoginHistory.jsx<br>frontend/src/metabase/sharing/components/AddEditSidebar/AddEditEmailSidebar.jsx<br>frontend/src/metabase/sharing/components/AddEditSidebar/AddEditSlackSidebar.jsx<br>frontend/src/metabase/sharing/components/AddEditSidebar/DeleteSubscriptionAction.jsx |', 'created_at': datetime.datetime(2024, 3, 14, 17, 30, 59, tzinfo=datetime.timezone.utc)}]","crisptrutski (Issue Creator) on (2024-03-11 17:03:14 UTC): * **#39951** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39951?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* **#39944** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39944?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 1 other dependent PR ([#40220](https://github.com/metabase/metabase/pull/40220) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40220?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>)
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

replay-io[bot] on (2024-03-11 17:15:45 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/d09f4332-9bda-4167-8fcc-3755be0750c3"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>98a5f307d460dd0900cf098f43a440fe07f8019e</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>1 Failed</b></div>
<div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2362 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-14 17:30:59 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 544ed3b69c42afcc177fc694b146619b9ebbd43d...551d0a4f3f4745013422bd3cae733780014eb51e.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartSettings.jsx<br>frontend/src/metabase/visualizations/components/FunnelNormal.jsx<br>frontend/src/metabase/visualizations/components/LeafletChoropleth.jsx<br>frontend/src/metabase/visualizations/components/LegacyChoropleth.jsx<br>frontend/src/metabase/visualizations/components/LegendItem.jsx<br>frontend/src/metabase/visualizations/components/PinMap.jsx<br>frontend/src/metabase/visualizations/components/TableInteractive/TableInteractive.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartNestedSettingSeriesMultiple.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingFieldsPartition.jsx<br>frontend/src/metabase/visualizations/visualizations/Gauge/Gauge.jsx<br>frontend/src/metabase/visualizations/visualizations/Progress/Progress.jsx<br>frontend/src/metabase/visualizations/visualizations/Scalar/Scalar.jsx |
| @ranquild | frontend/src/metabase/account/login-history/components/LoginHistory/LoginHistory.jsx<br>frontend/src/metabase/sharing/components/AddEditSidebar/AddEditEmailSidebar.jsx<br>frontend/src/metabase/sharing/components/AddEditSidebar/AddEditSlackSidebar.jsx<br>frontend/src/metabase/sharing/components/AddEditSidebar/DeleteSubscriptionAction.jsx |

"
2179563317,pull_request,closed,,Add test for column re-ordering,"Refs https://github.com/metabase/metabase/issues/39868

### Description

It turns out that we already supported re-ordering, but this added an explicit test to cover that.

It turns out that a bunch of tests were not actually being run, due to mixing up helpers for running with a single driver or a collection of them, so fixed that too.",crisptrutski,2024-03-11 16:25:56+00:00,['crisptrutski'],2024-04-11 15:47:57+00:00,2024-03-15 01:48:24+00:00,https://github.com/metabase/metabase/pull/39948,"[('backport', 'Automatically create PR on current release branch on merge'), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 1988854940, 'issue_id': 2179563317, 'author': 'crisptrutski', 'body': '* **#39948** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39948?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 11, 16, 26, 9, tzinfo=datetime.timezone.utc)}, {'comment_id': 1988908928, 'issue_id': 2179563317, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/bae45ed6-e471-404f-809e-1579e3d94962"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>544ed3b69c42afcc177fc694b146619b9ebbd43d</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>12 Flaky</b></div>\n<div>‚úÖ <b>2349 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 11, 16, 41, 37, tzinfo=datetime.timezone.utc)}, {'comment_id': 1998772827, 'issue_id': 2179563317, 'author': 'github-actions[bot]', 'body': '@crisptrutski Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 15, 1, 48, 35, tzinfo=datetime.timezone.utc)}]","crisptrutski (Issue Creator) on (2024-03-11 16:26:09 UTC): * **#39948** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39948?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

replay-io[bot] on (2024-03-11 16:41:37 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/bae45ed6-e471-404f-809e-1579e3d94962"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>544ed3b69c42afcc177fc694b146619b9ebbd43d</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>12 Flaky</b></div>
<div>‚úÖ <b>2349 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-15 01:48:35 UTC): @crisptrutski Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2179540244,pull_request,closed,,[MLv2] Use cached Malli validators/explainers; make `:fn` schemas cacheable,"This improves our Malli performance substantially! Many of our code paths were calling vanilla `malli.core/validate` or `malli.core/explain`; these redo the (possibly expensive) compilation of the schema into a validator or explainer for every call.

We should use the caching versions in `metabase.util.malli.registry` everywhere, and our runtime performance will be much improved.

However when I started using these cached versions, I found that the memory use was growing out of control. Eventually I tracked this down to `:fn` schemas. Functions are only comparable by pointer equality, so they make poor cache keys. `(fn ...)` or `comp` calls in a schema on a `mu/defn` function **get re-created for every call of the `mu/defn`'d function**! That's a big time sink recompiling the schemas if we're *not* caching, and a huge memory sink if we *are* caching!

This PR pulls every such schema I could find out into a `def` so it uses the same closure and is cacheable. I'd like to automate that in some part of the Malli pipeline, or maybe a linter rule, but I haven't found a good way to do it yet.

Part of #39946.
",bshepherdson,2024-03-11 16:15:54+00:00,['bshepherdson'],2024-04-16 17:16:36+00:00,2024-04-16 17:16:24+00:00,https://github.com/metabase/metabase/pull/39947,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 1988829321, 'issue_id': 2179540244, 'author': 'bshepherdson', 'body': '* **#39947** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39947?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @bshepherdson and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 11, 16, 16, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 1988858304, 'issue_id': 2179540244, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/5c593005-e0fa-4d88-8619-3b7b013b0721"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>120674d23a82c3d2814fdb603847482201317f97</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>9 Flaky</b></div>\n<div>‚úÖ <b>2400 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 11, 16, 27, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 2059570158, 'issue_id': 2179540244, 'author': 'github-actions[bot]', 'body': '@bshepherdson Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 4, 16, 17, 16, 35, tzinfo=datetime.timezone.utc)}]","bshepherdson (Issue Creator) on (2024-03-11 16:16:08 UTC): * **#39947** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39947?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @bshepherdson and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

replay-io[bot] on (2024-03-11 16:27:47 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/5c593005-e0fa-4d88-8619-3b7b013b0721"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>120674d23a82c3d2814fdb603847482201317f97</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>9 Flaky</b></div>
<div>‚úÖ <b>2400 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-04-16 17:16:35 UTC): @bshepherdson Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2179529029,pull_request,closed,,"ü§ñ backported ""docs - add filter customization""",#39719,metabase-bot[bot],2024-03-11 16:11:16+00:00,['jeff-bruemmer'],2024-03-11 16:17:04+00:00,2024-03-11 16:17:03+00:00,https://github.com/metabase/metabase/pull/39945,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2179488206,pull_request,closed,,Publish snowplow events on CSV append success / failure,"Closes https://github.com/metabase/metabase/issues/39867

### Description

This takes ""heavy inspiration"" from the initial upload events to give analytics coverage for appends as well - the only salient difference is that we don't refer back to the original model created when the table was first created.

### How to verify

... I'd actually appreciate a pointer here, I'm not sure how to test all the wiring. 

Could even have missed something, in fact.",crisptrutski,2024-03-11 15:52:38+00:00,['crisptrutski'],2024-03-18 17:44:05+00:00,2024-03-18 16:16:56+00:00,https://github.com/metabase/metabase/pull/39944,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 1988799729, 'issue_id': 2179488206, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/2f93276f-1fe8-4eed-88cd-3aea912ad3e5"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 53 / 54</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>a0a4bbe7d6f39fbea379109516aa830fd3ad72a8</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2365 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 11, 16, 4, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 1997979095, 'issue_id': 2179488206, 'author': 'crisptrutski', 'body': '* **#39944** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39944?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 2  dependent PRs ([#39951](https://github.com/metabase/metabase/pull/39951) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39951?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#40220](https://github.com/metabase/metabase/pull/40220) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40220?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>) üëà\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 14, 17, 29, 59, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-11 16:04:46 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/2f93276f-1fe8-4eed-88cd-3aea912ad3e5"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 53 / 54</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>a0a4bbe7d6f39fbea379109516aa830fd3ad72a8</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2365 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

crisptrutski (Issue Creator) on (2024-03-14 17:29:59 UTC): * **#39944** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39944?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 2  dependent PRs ([#39951](https://github.com/metabase/metabase/pull/39951) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39951?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#40220](https://github.com/metabase/metabase/pull/40220) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/40220?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>) üëà
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

"
2179474380,pull_request,closed,,"ü§ñ backported ""docs - add embedding step""",#39790,metabase-bot[bot],2024-03-11 15:46:12+00:00,['jeff-bruemmer'],2024-03-11 15:47:38+00:00,2024-03-11 15:47:37+00:00,https://github.com/metabase/metabase/pull/39943,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2179444423,pull_request,closed,,"ü§ñ backported ""Text cards not skipped in pulses""",#39216,metabase-bot[bot],2024-03-11 15:32:53+00:00,['adam-james-v'],2024-03-11 17:00:15+00:00,2024-03-11 17:00:14+00:00,https://github.com/metabase/metabase/pull/39942,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1988760998, 'issue_id': 2179444423, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/08582d87-57f1-4972-88ed-a96587b4514e"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>c58029bbe4d90c4955d0ec992e2ee48e2fec8f39</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2110 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 11, 15, 47, 16, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-11 15:47:16 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/08582d87-57f1-4972-88ed-a96587b4514e"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>c58029bbe4d90c4955d0ec992e2ee48e2fec8f39</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2110 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2179267942,pull_request,closed,,Add token parameter to JWT SSO,"Adds a `token` parameter to the JWT SSO endpoint.

### Why?

Two reasons, based on our work on the Embedding SDK.

1. Using tokens, we can monitor the expiration and renew the token ahead of its expiration. Right now, we're using cookies in interactive embedding, which can cause an embedded Metabase instance to redirect to a JWT identity provider which will break user flows and possibly lose a user's progress if they're editing or creating something new.

2. [Browsers are moving away from third-party cookies to preserve customer privacy](https://developers.google.com/privacy-sandbox/3pcd). This PR will help us refactor iframes and such in the future to make sure we're using token authentication rather than cookies, and hopefully help us ensure that things won't immediately break when this policy is put into place.

### How to verify

The tests should pass. We'll have some examples from the embedding side in the future. In the meantime, no behavior should change at all.


### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",oisincoveney,2024-03-11 14:24:01+00:00,['oisincoveney'],2024-03-13 13:51:11+00:00,2024-03-13 13:50:54+00:00,https://github.com/metabase/metabase/pull/39941,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', '')]","[{'comment_id': 1988566258, 'issue_id': 2179267942, 'author': 'oisincoveney', 'body': '* **#39941** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39941?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @oisincoveney and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 11, 14, 24, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 1988592179, 'issue_id': 2179267942, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/64d688fd-b7e4-4466-b42d-5a9e65a7c182"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>7cd70bd6de90b367e85a8364276f642f12079840</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2359 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 11, 14, 35, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 1994456380, 'issue_id': 2179267942, 'author': 'github-actions[bot]', 'body': '@oisincoveney Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 13, 13, 51, 10, tzinfo=datetime.timezone.utc)}]","oisincoveney (Issue Creator) on (2024-03-11 14:24:16 UTC): * **#39941** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39941?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @oisincoveney and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

replay-io[bot] on (2024-03-11 14:35:50 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/64d688fd-b7e4-4466-b42d-5a9e65a7c182"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>7cd70bd6de90b367e85a8364276f642f12079840</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2359 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-13 13:51:10 UTC): @oisincoveney Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2179037785,pull_request,closed,,Add Marginalia link to the Developer Guide,@crisptrutski pointed out we didn't link to this anywhere,tsmacdonald,2024-03-11 12:40:52+00:00,['tsmacdonald'],2024-03-11 13:38:56+00:00,2024-03-11 13:38:41+00:00,https://github.com/metabase/metabase/pull/39937,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 1988465796, 'issue_id': 2179037785, 'author': 'github-actions[bot]', 'body': '@tsmacdonald Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 11, 13, 38, 55, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-11 13:38:55 UTC): @tsmacdonald Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2178998739,pull_request,closed,,"ü§ñ backported ""Allow dropdown source for all string operators in dashboards""","  #39703
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",metabase-bot[bot],2024-03-11 12:21:33+00:00,['ranquild'],2024-03-12 14:13:20+00:00,2024-03-12 14:13:20+00:00,https://github.com/metabase/metabase/pull/39935,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1991606222, 'issue_id': 2178998739, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/591a71ab-bd4b-4922-8b84-d317f7b16ad3"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>822f85627839ba4849b83a97b2f5a85ea876ad17</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2336 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 12, 13, 4, 2, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-12 13:04:02 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/591a71ab-bd4b-4922-8b84-d317f7b16ad3"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>822f85627839ba4849b83a97b2f5a85ea876ad17</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2336 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2178868911,pull_request,closed,,setup e2e with token activation,"Part of https://github.com/metabase/metabase/issues/38867

### Description

This adds a e2e that tests that the token used during the setup is actually activating the license after the setup is finished.

Thread about the token: https://metaboat.slack.com/archives/C010ZSXQY87/p1709306366048049?thread_ts=1708606268.785609&cid=C010ZSXQY87

### How to verify

CI should be green


",npretto,2024-03-11 11:15:18+00:00,['npretto'],2024-03-12 11:39:34+00:00,2024-03-12 11:39:22+00:00,https://github.com/metabase/metabase/pull/39931,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Embedding', '')]","[{'comment_id': 1988222412, 'issue_id': 2178868911, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/d032256b-f59c-4351-9882-5d2182be35b1"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>0a908f45ecb0b1e537053fc3409cf4d9e5a8f545</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2358 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 11, 11, 26, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 1991455755, 'issue_id': 2178868911, 'author': 'github-actions[bot]', 'body': '@npretto Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 12, 11, 39, 32, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-11 11:26:50 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/d032256b-f59c-4351-9882-5d2182be35b1"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>0a908f45ecb0b1e537053fc3409cf4d9e5a8f545</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2358 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-12 11:39:32 UTC): @npretto Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2178812160,pull_request,closed,,Correctly show a selected table (in the data selector) which comes from a multi-schema database,"Similar to #39699, we don't have the necessary information when opening the table from a multi-schema database. And similar to #39699, the information is there when we go through ""New > Question/Model"" flow. The `DataSelector` component seems to have been built with that one way flow in mind.

This PR is adding this missing piece of information about the schema to the state when we're opening a saved question.

Reproduces and fixes #39807.

## Testing
This PR also introduces a real [multi-schema database](https://github.com/metabase/metabase/pull/39930/commits/7063c0569126ebec31ac040bb6ac1270608857e8) in E2E tests. I had to work around some of the existing implicit contracts in the related helpers. Ideally, we will adjust those helpers to support the multi-schema context in a more natural way.

The biggest downside currently is that the information about the schema names and the table names stays unavailable to the outside world. This can easily be solved with a callback that takes the return value of a `resetTable` Cypress task as an argument. cc @iethree 

Solving that is outside the scope of this PR.",nemanjaglumac,2024-03-11 10:46:51+00:00,['nemanjaglumac'],2024-03-13 14:01:51+00:00,2024-03-13 14:01:34+00:00,https://github.com/metabase/metabase/pull/39930,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 1988167488, 'issue_id': 2178812160, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/bc42d4bd-95c9-493f-b1c7-de451aa093f0"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>467b3e4b386cbab7e0d94067a02d054924a3b353</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2346 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 11, 10, 58, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 1994479388, 'issue_id': 2178812160, 'author': 'github-actions[bot]', 'body': '@nemanjaglumac Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 13, 14, 1, 49, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-11 10:58:24 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/bc42d4bd-95c9-493f-b1c7-de451aa093f0"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>467b3e4b386cbab7e0d94067a02d054924a3b353</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2346 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-13 14:01:49 UTC): @nemanjaglumac Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2178808703,pull_request,closed,,Make `update-card-with-type-and-dataset-test` not parallel,Hopefully fixes https://github.com/metabase/metabase/issues/39928,calherries,2024-03-11 10:45:08+00:00,['calherries'],2024-03-11 12:58:02+00:00,2024-03-11 12:57:47+00:00,https://github.com/metabase/metabase/pull/39929,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 1988382855, 'issue_id': 2178808703, 'author': 'github-actions[bot]', 'body': '@calherries Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 11, 12, 58, 1, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-11 12:58:01 UTC): @calherries Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2178732117,pull_request,closed,,"Revert ""Update existing foreign keys during metadata sync (#39679)""",Hopefully fixes https://github.com/metabase/metabase/issues/39861,calherries,2024-03-11 10:07:26+00:00,['calherries'],2024-03-11 12:54:53+00:00,2024-03-11 12:54:53+00:00,https://github.com/metabase/metabase/pull/39926,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 1988062988, 'issue_id': 2178732117, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/86a65324-1211-4715-94f1-ada8083b8402"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>ee55b0d2b890bd7084d53b63dc1de41d9866a94b</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2353 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 11, 10, 19, 27, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-11 10:19:27 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/86a65324-1211-4715-94f1-ada8083b8402"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>ee55b0d2b890bd7084d53b63dc1de41d9866a94b</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2353 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2178729488,pull_request,closed,,"ü§ñ backported ""Only copy active fields and tables with data/with-temp-copy-of-db""",#39862,metabase-bot[bot],2024-03-11 10:06:11+00:00,['calherries'],2024-03-11 11:07:28+00:00,2024-03-11 11:07:27+00:00,https://github.com/metabase/metabase/pull/39925,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2178717532,pull_request,closed,,Revert updating FKs during metadata sync (#39679),"Hopefully fixes this flake https://github.com/metabase/metabase/issues/39861

This reverts the change in behaviour in https://github.com/metabase/metabase/pull/39679, while keeping the rest of the code intact.

So it will reopen https://github.com/metabase/metabase/issues/39685

This is just temporary until I figure out what's going on with the flake.",calherries,2024-03-11 10:00:23+00:00,['calherries'],2024-03-12 06:12:46+00:00,2024-03-12 06:12:34+00:00,https://github.com/metabase/metabase/pull/39924,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 1988050423, 'issue_id': 2178717532, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/67464c74-8c44-4a04-9540-30f3e6188abf"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>0a579d55466eb56f01553c2f08b5e74f7b93f3ab</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>5 Flaky</b></div>\n<div>‚úÖ <b>2350 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 11, 10, 12, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 1990772712, 'issue_id': 2178717532, 'author': 'github-actions[bot]', 'body': '@calherries Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 12, 6, 12, 45, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-11 10:12:32 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/67464c74-8c44-4a04-9540-30f3e6188abf"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>0a579d55466eb56f01553c2f08b5e74f7b93f3ab</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>5 Flaky</b></div>
<div>‚úÖ <b>2350 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-12 06:12:45 UTC): @calherries Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2178338413,pull_request,closed,,"ü§ñ backported ""Repro #35711 - Models broken with custom fields""",#39763,metabase-bot[bot],2024-03-11 06:36:14+00:00,['kamilmielnik'],2024-03-11 07:24:55+00:00,2024-03-11 07:24:55+00:00,https://github.com/metabase/metabase/pull/39922,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1987733900, 'issue_id': 2178338413, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/eef2688b-c49f-4b6e-8cae-32330cb19ff7"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>cdd3715b14f7893744520cba1c42eec9d82bc296</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>5 Flaky</b></div>\n<div>‚úÖ <b>2290 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 11, 6, 48, 20, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-11 06:48:20 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/eef2688b-c49f-4b6e-8cae-32330cb19ff7"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>cdd3715b14f7893744520cba1c42eec9d82bc296</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>5 Flaky</b></div>
<div>‚úÖ <b>2290 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2178337102,pull_request,closed,,"ü§ñ backported ""Fix - Description for calculated columns in model metadata editing page is incorrectly populated with description from other columns""",#39851,metabase-bot[bot],2024-03-11 06:35:10+00:00,['kamilmielnik'],2024-03-11 07:23:17+00:00,2024-03-11 07:23:16+00:00,https://github.com/metabase/metabase/pull/39921,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1987732297, 'issue_id': 2178337102, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/fabf3c20-b5a4-4a34-b1db-9832675a490f"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>fc9cba831dba40b7fecd93a062a08c2b7942739b</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2327 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 11, 6, 46, 42, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-11 06:46:42 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/fabf3c20-b5a4-4a34-b1db-9832675a490f"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>fc9cba831dba40b7fecd93a062a08c2b7942739b</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2327 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2178154508,pull_request,closed,,Fix e2e specs of the echarts feature branch,"### Description

This PR replaces selectors in E2E tests to refer to ECharts elements instead of dc.js ones.

### How to verify

E2E CI checks are green",alxnddr,2024-03-11 03:29:28+00:00,['alxnddr'],2024-05-15 23:42:03+00:00,2024-05-15 23:42:00+00:00,https://github.com/metabase/metabase/pull/39919,"[('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 1987581523, 'issue_id': 2178154508, 'author': 'github-actions[bot]', 'body': 'üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8227266323)', 'created_at': datetime.datetime(2024, 3, 11, 3, 39, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 1987588788, 'issue_id': 2178154508, 'author': 'github-actions[bot]', 'body': 'üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8227349923)', 'created_at': datetime.datetime(2024, 3, 11, 3, 50, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 1987593439, 'issue_id': 2178154508, 'author': 'github-actions[bot]', 'body': 'üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8227396019)', 'created_at': datetime.datetime(2024, 3, 11, 3, 58, 3, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-11 03:39:50 UTC): üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8227266323)

github-actions[bot] on (2024-03-11 03:50:54 UTC): üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8227349923)

github-actions[bot] on (2024-03-11 03:58:03 UTC): üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8227396019)

"
2177028323,pull_request,closed,,"ü§ñ backported ""Using CSS transition and  component for QB header""","  #39794
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",metabase-bot[bot],2024-03-09 03:18:58+00:00,['npfitz'],2024-03-09 03:58:50+00:00,2024-03-09 03:58:49+00:00,https://github.com/metabase/metabase/pull/39915,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1986714572, 'issue_id': 2177028323, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/4a24c52c-01d5-4dd0-9a7f-8e5ff05d0b05"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>8dd491dc9366c681e1626af1348f0ec4fcb1c7d4</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚úÖ <b>2333 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 9, 3, 38, 17, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-09 03:38:17 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/4a24c52c-01d5-4dd0-9a7f-8e5ff05d0b05"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>8dd491dc9366c681e1626af1348f0ec4fcb1c7d4</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚úÖ <b>2333 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2176991540,pull_request,closed,,Send  Subscriptions when there are text cards + all other cards have no results,"Fixes: #39190 

A fix was created that mostly did the trick: https://github.com/metabase/metabase/pull/39216

What that still doesn't fix is the following Dashboard setup:
 - 1 virtual card (text card)
 - 1 real card which currently has no results

There's some logic for `should-send-notification?` that will give `false` in this scenario because we still treat a virtual card as empty in `is-card-empty?`.

This PR adjusts the way `execute-dashboard` returns parts: 
 - if all cards are virtual, we don't return any parts
 - if `skip_if_empty` is true, we filter out any real cards with no results, but keep virtual cards (as in the prev. fix)
 - otherwise, we return all parts

Then, the logic for `should-send-notification?` (for subscriptions) becomes simply: `(seq parts)` which means ""are there any parts?"".",adam-james-v,2024-03-09 01:26:45+00:00,['adam-james-v'],2024-03-11 15:53:13+00:00,2024-03-11 15:53:13+00:00,https://github.com/metabase/metabase/pull/39914,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 1986681348, 'issue_id': 2176991540, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/92f7a889-c80b-40f9-84a5-f5196377cb13"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>2bfb4d5a85f51b5c65814c792ee54424dfc66162</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>1 Failed</b></div>\n<div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2349 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 9, 1, 38, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 1988773417, 'issue_id': 2176991540, 'author': 'adam-james-v', 'body': ""As it turns out, the situation this PR addresses (a dashboard with 1 text card and 1 'real' card with no results) is behaving fine as is. Consider:\r\n\r\n- if you make a dashboard with only text cards, we don't allow you to create a subscription anyway\r\n- A subscription that would be sent in this case would have no 'new' content anyway, so it's not really important to send the email.\r\n\r\nTherefore, this change is not necessary."", 'created_at': datetime.datetime(2024, 3, 11, 15, 52, 54, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-09 01:38:08 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/92f7a889-c80b-40f9-84a5-f5196377cb13"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>2bfb4d5a85f51b5c65814c792ee54424dfc66162</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>1 Failed</b></div>
<div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2349 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

adam-james-v (Issue Creator) on (2024-03-11 15:52:54 UTC): As it turns out, the situation this PR addresses (a dashboard with 1 text card and 1 'real' card with no results) is behaving fine as is. Consider:

- if you make a dashboard with only text cards, we don't allow you to create a subscription anyway
- A subscription that would be sent in this case would have no 'new' content anyway, so it's not really important to send the email.

Therefore, this change is not necessary.

"
2176871854,pull_request,closed,,Fix null ordinal value formatting,"Closes https://github.com/metabase/metabase/issues/39558

### Description

Fixes null formatting on ordinal scales.

### How to verify

Create a question
```
select 1 x, 10 y
union all select null, 10
union all select 3, 10
```
Switch x-axis to Ordinal and ensure the null is formatted as `(empty)`

### Demo

<img width=""938"" alt=""Screenshot 2024-03-08 at 7 20 27‚ÄØPM"" src=""https://github.com/metabase/metabase/assets/14301985/736481d5-ee71-4f3e-8088-68c9e7bc0bb7"">

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",alxnddr,2024-03-08 22:29:08+00:00,['alxnddr'],2024-03-11 20:23:55+00:00,2024-03-11 19:48:07+00:00,https://github.com/metabase/metabase/pull/39913,"[('visual', 'Run Percy visual testing'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 1986526204, 'issue_id': 2176871854, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/94ca632a-d265-4949-bab4-903866926ee1"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>f513920509d83284bdaa82f5379180455798f811</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>177 Failed</b></div>\n<div>‚úÖ <b>2040 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 8, 22, 42, 47, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-08 22:42:47 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/94ca632a-d265-4949-bab4-903866926ee1"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>f513920509d83284bdaa82f5379180455798f811</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>177 Failed</b></div>
<div>‚úÖ <b>2040 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2176814283,pull_request,closed,,fix multiple merged timeline events icon is not star,"Closes https://github.com/metabase/metabase/issues/39572

### Description

When multiple timeline events are grouped their icon should always be ""star"".

### How to verify

- create a time series questions in a folder with multiple timeline events within the same year
- change the datetime bucket to ""year"" to make events grouped
- ensure the event group has ""star"" icon always

### Demo

<img width=""323"" alt=""Screenshot 2024-03-08 at 6 36 56‚ÄØPM"" src=""https://github.com/metabase/metabase/assets/14301985/56d2bc82-fe1f-4492-b2ed-3d3378e98d1d"">

",alxnddr,2024-03-08 21:38:42+00:00,['alxnddr'],2024-03-11 19:09:35+00:00,2024-03-11 19:09:34+00:00,https://github.com/metabase/metabase/pull/39876,"[('visual', 'Run Percy visual testing'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 1986471507, 'issue_id': 2176814283, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/58d06f94-8eec-4882-b60a-04a82bd5dc21"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>f5f79bd7e3689c7f3f7dbbff3efc8a2ced743927</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>177 Failed</b></div>\n<div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2034 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 8, 21, 52, 43, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-08 21:52:43 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/58d06f94-8eec-4882-b60a-04a82bd5dc21"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>f5f79bd7e3689c7f3f7dbbff3efc8a2ced743927</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>177 Failed</b></div>
<div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2034 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2176783084,pull_request,closed,,Clean up unused perms code,Cleans up a bunch of now-unused perms-related code now that https://github.com/metabase/metabase/pull/37473 is merged,noahmoss,2024-03-08 21:17:22+00:00,['noahmoss'],2024-03-11 19:22:36+00:00,2024-03-11 19:22:23+00:00,https://github.com/metabase/metabase/pull/39875,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 1986431885, 'issue_id': 2176783084, 'author': 'noahmoss', 'body': '* **#39875** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39875?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @noahmoss and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 8, 21, 17, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 1986511079, 'issue_id': 2176783084, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/1601f698-5228-42aa-be7e-46a4085be13e"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>0ae965f564d77f76af4414d65eb05efa25cccbbe</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2355 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 8, 22, 25, 59, tzinfo=datetime.timezone.utc)}, {'comment_id': 1989254517, 'issue_id': 2176783084, 'author': 'github-actions[bot]', 'body': '@noahmoss Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 11, 19, 22, 35, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2024-03-08 21:17:36 UTC): * **#39875** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39875?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @noahmoss and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

replay-io[bot] on (2024-03-08 22:25:59 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/1601f698-5228-42aa-be7e-46a4085be13e"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>0ae965f564d77f76af4414d65eb05efa25cccbbe</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2355 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-11 19:22:35 UTC): @noahmoss Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2176624102,pull_request,closed,,reduce unnecessary debug logs,"### Description

Reduces unnecessary logging due to the performance impact. Hovers should not trigger logging of series and the option since they are not being changed",alxnddr,2024-03-08 19:11:52+00:00,['alxnddr'],2024-03-08 20:16:14+00:00,2024-03-08 20:16:13+00:00,https://github.com/metabase/metabase/pull/39871,"[('visual', 'Run Percy visual testing'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 1986269415, 'issue_id': 2176624102, 'author': 'github-actions[bot]', 'body': 'üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8207921976)', 'created_at': datetime.datetime(2024, 3, 8, 19, 21, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 1986274765, 'issue_id': 2176624102, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/8c3879a9-4484-43f3-a53b-5516844af3f1"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>8bb532585abbbfe14bc817b7b7b1cc665cdb5249</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>177 Failed</b></div>\n<div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2037 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 8, 19, 25, 35, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-08 19:21:30 UTC): üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8207921976)

replay-io[bot] on (2024-03-08 19:25:35 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/8c3879a9-4484-43f3-a53b-5516844af3f1"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>8bb532585abbbfe14bc817b7b7b1cc665cdb5249</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>177 Failed</b></div>
<div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2037 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2176614891,pull_request,closed,,hide execution time from percy snapshots,"### Description

Recently added execution time will cause permanent flakes on visual tests. This PR makes the element invisible
<img width=""884"" alt=""Screenshot 2024-03-08 at 4 02 04‚ÄØPM"" src=""https://github.com/metabase/metabase/assets/14301985/e82cc2d0-02d3-4ae1-885e-4461d5bb2e8e"">

### How to verify

Check there is no execution time on the Percy specs run on this PR.

",alxnddr,2024-03-08 19:04:14+00:00,['alxnddr'],2024-03-08 22:40:40+00:00,2024-03-08 22:40:27+00:00,https://github.com/metabase/metabase/pull/39870,"[('visual', 'Run Percy visual testing'), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 1986524305, 'issue_id': 2176614891, 'author': 'github-actions[bot]', 'body': '@alxnddr Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 8, 22, 40, 40, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-08 22:40:40 UTC): @alxnddr Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2176595159,pull_request,closed,,Collection moving with EntityPicker,"Closes https://github.com/metabase/metabase/issues/37833
Closes https://github.com/metabase/metabase/issues/30117
Closes https://github.com/metabase/metabase/issues/21786

### Description

Allows moving items around in metabase using the new item picker.
- collections (can't be moved inside themselves)
- questions / models
- dashboards

![move](https://github.com/metabase/metabase/assets/30528226/e647a129-201b-417f-ae83-ed4347a5e96c)

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",iethree,2024-03-08 18:50:58+00:00,['iethree'],2024-05-08 19:42:33+00:00,2024-03-27 16:22:05+00:00,https://github.com/metabase/metabase/pull/39869,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 1986247271, 'issue_id': 2176595159, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/c81e3299-dcdb-48ab-b67e-e38900ace160"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>57dfe4836c8c7a042c6b32c958fe4f0a566faa88</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>14 Flaky</b></div>\n<div>‚úÖ <b>2375 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 8, 19, 2, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2012934221, 'issue_id': 2176595159, 'author': 'iethree', 'body': 'needs some refactoring in light of https://github.com/metabase/metabase/pull/40377', 'created_at': datetime.datetime(2024, 3, 21, 16, 38, 17, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-08 19:02:52 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/c81e3299-dcdb-48ab-b67e-e38900ace160"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>57dfe4836c8c7a042c6b32c958fe4f0a566faa88</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>14 Flaky</b></div>
<div>‚úÖ <b>2375 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

iethree (Issue Creator) on (2024-03-21 16:38:17 UTC): needs some refactoring in light of https://github.com/metabase/metabase/pull/40377

"
2176569601,pull_request,closed,,"ü§ñ backported ""Specify GH project board per team""",#39631,metabase-bot[bot],2024-03-08 18:36:23+00:00,['alxnddr'],2024-03-08 18:37:49+00:00,2024-03-08 18:37:48+00:00,https://github.com/metabase/metabase/pull/39866,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2176563019,pull_request,closed,,"ü§ñ backported ""Fix progress bar value display when progress card is minimum height""",#39819,metabase-bot[bot],2024-03-08 18:31:53+00:00,['JesseSDevaney'],2024-03-08 19:04:38+00:00,2024-03-08 19:04:37+00:00,https://github.com/metabase/metabase/pull/39865,"[('visual', 'Run Percy visual testing'), ('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1986206709, 'issue_id': 2176563019, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 4534c4b8b94d5812a8c07ed6219e9f195c28506d...ac5bf5ccfeaafd933f7f11c6d4bfa1e3f3375867.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/visualizations/Progress/Progress.jsx |', 'created_at': datetime.datetime(2024, 3, 8, 18, 32, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 1986221033, 'issue_id': 2176563019, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/f9d99ab4-d357-4532-9753-c24a96f55769"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>ac5bf5ccfeaafd933f7f11c6d4bfa1e3f3375867</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2331 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 8, 18, 43, 24, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-08 18:32:56 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 4534c4b8b94d5812a8c07ed6219e9f195c28506d...ac5bf5ccfeaafd933f7f11c6d4bfa1e3f3375867.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/visualizations/Progress/Progress.jsx |

replay-io[bot] on (2024-03-08 18:43:24 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/f9d99ab4-d357-4532-9753-c24a96f55769"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>ac5bf5ccfeaafd933f7f11c6d4bfa1e3f3375867</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2331 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2176562319,pull_request,closed,,"ü§ñ backported ""Adjust padding to hide scrollbars for single line text dash-cards""",#39811,metabase-bot[bot],2024-03-08 18:31:21+00:00,['JesseSDevaney'],2024-03-08 19:04:05+00:00,2024-03-08 19:04:04+00:00,https://github.com/metabase/metabase/pull/39864,"[('visual', 'Run Percy visual testing'), ('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1986205987, 'issue_id': 2176562319, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 4534c4b8b94d5812a8c07ed6219e9f195c28506d...6715ae77aefdc74ae7f77d9a57130c089ad1e3b3.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/visualizations/Text/Text.styled.tsx |', 'created_at': datetime.datetime(2024, 3, 8, 18, 32, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 1986220991, 'issue_id': 2176562319, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/1b1dc767-5215-4b68-8b9c-1891082850c2"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>6715ae77aefdc74ae7f77d9a57130c089ad1e3b3</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2313 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 8, 18, 43, 22, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-08 18:32:33 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 4534c4b8b94d5812a8c07ed6219e9f195c28506d...6715ae77aefdc74ae7f77d9a57130c089ad1e3b3.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/visualizations/Text/Text.styled.tsx |

replay-io[bot] on (2024-03-08 18:43:22 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/1b1dc767-5215-4b68-8b9c-1891082850c2"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>6715ae77aefdc74ae7f77d9a57130c089ad1e3b3</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2313 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2176509333,pull_request,closed,,Only copy active fields and tables with data/with-temp-copy-of-db,"Hopefully fixes this flake https://github.com/metabase/metabase/issues/39861

We're checking for fields and tables being `active=true` inconsistently in the implementation of `data/with-temp-copy-of-db`. This PR changes that so we're always checking for `active=true`, so we'll never attempt to copy inactive fields and tables.

### My theory for why this fixes the flake:
I think some fields are being made inactive in the app db, and when we try to copy over their fk relationships we can't find the field the fk relationships correspond to because the field is inactive.",calherries,2024-03-08 17:54:54+00:00,['calherries'],2024-03-11 10:05:37+00:00,2024-03-11 10:05:23+00:00,https://github.com/metabase/metabase/pull/39862,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 1986294516, 'issue_id': 2176509333, 'author': 'crisptrutski', 'body': ""Don't see any harm in this change, but unfortunately the postgres tests [flaked again](https://github.com/metabase/metabase/actions/runs/8207471053/job/22448848555?pr=39862) on this branch's run üòû"", 'created_at': datetime.datetime(2024, 3, 8, 19, 35, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 1988037583, 'issue_id': 2176509333, 'author': 'github-actions[bot]', 'body': '@calherries Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 11, 10, 5, 36, tzinfo=datetime.timezone.utc)}]","crisptrutski on (2024-03-08 19:35:10 UTC): Don't see any harm in this change, but unfortunately the postgres tests [flaked again](https://github.com/metabase/metabase/actions/runs/8207471053/job/22448848555?pr=39862) on this branch's run üòû

github-actions[bot] on (2024-03-11 10:05:36 UTC): @calherries Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2176436255,pull_request,closed,,"ü§ñ backported ""Bump clojure to 11.1.2""",#39857,metabase-bot[bot],2024-03-08 17:05:46+00:00,['noahmoss'],2024-03-11 16:41:12+00:00,2024-03-11 16:41:11+00:00,https://github.com/metabase/metabase/pull/39859,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1986095847, 'issue_id': 2176436255, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/237a027a-bb6a-4e42-a5c1-a04b9765f566"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>fcf24c58bfec92106979a6e761de891b9b7e784b</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2329 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 8, 17, 18, 23, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-08 17:18:23 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/237a027a-bb6a-4e42-a5c1-a04b9765f566"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>fcf24c58bfec92106979a6e761de891b9b7e784b</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2329 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2176435388,pull_request,closed,,Fixes for LLM auto-description,"1. Fixes the FE was using the wrong card summarize endpoint
2. Fixes ""AI Features"" section in admin settings was visible for tokens without the LLM feature
3. Fixes the AI button was visible only starting from `settings-manager` user role by introducing a ""AI features"" on/off public setting",kulyk,2024-03-08 17:05:08+00:00,['adam-james-v'],2024-03-11 14:06:02+00:00,2024-03-11 14:05:46+00:00,https://github.com/metabase/metabase/pull/39858,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 1986288375, 'issue_id': 2176435388, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/7d12ec8f-f009-4807-9c96-3cd203a29ec7"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>9921146c3e692c94082408859d414f4c6294dbcb</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2352 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 8, 19, 32, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 1988526239, 'issue_id': 2176435388, 'author': 'github-actions[bot]', 'body': '@kulyk Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 11, 14, 6, 1, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-08 19:32:18 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/7d12ec8f-f009-4807-9c96-3cd203a29ec7"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>9921146c3e692c94082408859d414f4c6294dbcb</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2352 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-11 14:06:01 UTC): @kulyk Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2176289995,pull_request,closed,,Bump clojure to 11.1.2,Context: https://metaboat.slack.com/archives/C05MPF0TM3L/p1709569165451279,noahmoss,2024-03-08 15:45:48+00:00,['noahmoss'],2024-03-08 17:05:12+00:00,2024-03-08 17:04:58+00:00,https://github.com/metabase/metabase/pull/39857,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 1985946911, 'issue_id': 2176289995, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/768f70d5-f55c-4dda-857d-3854bf259b7e"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>518aa04c164e61071ecfe6d29201c63c7a99a22b</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2351 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 8, 15, 57, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 1986077296, 'issue_id': 2176289995, 'author': 'github-actions[bot]', 'body': '@noahmoss Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 8, 17, 5, 11, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-08 15:57:12 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/768f70d5-f55c-4dda-857d-3854bf259b7e"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>518aa04c164e61071ecfe6d29201c63c7a99a22b</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2351 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-08 17:05:11 UTC): @noahmoss Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2176279672,pull_request,closed,,"ü§ñ backported ""Remove react motion - Undo component""",#39787,metabase-bot[bot],2024-03-08 15:39:30+00:00,['sloansparger'],2024-03-08 16:11:35+00:00,2024-03-08 16:11:34+00:00,https://github.com/metabase/metabase/pull/39856,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1985935415, 'issue_id': 2176279672, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/251839eb-c25e-4425-af6a-9862f54723d7"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>91850e00ec8eb0a2dff578242bedadf799ed8b7e</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2330 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 8, 15, 51, 19, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-08 15:51:19 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/251839eb-c25e-4425-af6a-9862f54723d7"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>91850e00ec8eb0a2dff578242bedadf799ed8b7e</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2330 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2176235590,pull_request,closed,,Remove info icon on table,"### Description

Incorporate @mazameli's feedback for the info icon on the table header

### How to verify

Describe the steps to verify that the changes are working as expected.

1. Browse data -> Orders
2. Make sure there is an info icon in the header
3. Save the question
4. Open the saved question and hover the header
5. Make sure the `Orders` link in the subheader does not have the info icon


- [x] Tests have been added/updated to cover changes in this PR
",romeovs,2024-03-08 15:15:36+00:00,['romeovs'],2024-03-11 14:02:25+00:00,2024-03-11 14:02:24+00:00,https://github.com/metabase/metabase/pull/39853,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 1985895013, 'issue_id': 2176235590, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/30d4c8e2-ef8b-45b4-8a42-1b30bb31d6c7"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>b93946b3ab179e3c513b5ce18f5f52fb3bcbc36b</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2351 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 8, 15, 27, 52, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-08 15:27:52 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/30d4c8e2-ef8b-45b4-8a42-1b30bb31d6c7"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>b93946b3ab179e3c513b5ce18f5f52fb3bcbc36b</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2351 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2176105800,pull_request,closed,,Native query default parameter values: ParameterValuePicker for list values,"Part of [[Epic] Better UI/UX for picking default parameter values](https://github.com/metabase/metabase/issues/39211).

## Description
Parameters of type ""Text"" might have a list of allowed values coming from either:
- another model/card 
- or a static list

This PR creates a new `ListPicker` and `ListPickerConnected` components that together support picking a single value from the list, including data fetching it if needed. Search is also supported.

Unlike the previous incarnation, this component has a significantly simpler UX and is less janky and ugly. 

## Demo

https://github.com/metabase/metabase/assets/2196347/1352343c-deca-4f12-98d3-34b21b645b48


## How to check
1. Create a native query with one or more parameters of type `Text`.
2. Set one of types ""Dropdown list"", ""Search box"", ""Input box""
3. Use edit to select a model/question as source of values, or input a ""custom list""
4. Play with search, etc

As previously, this change _only_ affects native query default parameter pickers.

## Important details to keep in mind
When there's over 50 items in a list, we force search even if dropdown was selected.

### Static list and plain values
1. When we choose ""input box"", a regular text input is rendered (there's no values to choose from)
2. When we choose dropdown or search but don't specify the data source, it's plain input again
3. With a ""custom list"" of values, no data fetching is happening regardless of the list length

### Fetched values
1. Originally, when the component renders it has no values loaded
2. When you click on the select, it starts fetching data
3. Search is debounced with a default 150ms delay, which feels reasonable
4. When there's `has_more_values: false` in the response, it no longer attempts to fetch, unless it's been reset to a new parameter values source/type

### Implementation
Component relies on `fetchParameterValues`, which uses bespoke caching and stores parameters in `parameterValues` key in redux store. This part is questionable but I haven't changed it.

There are a few ugly hacks mostly related to Mantine and its lack of customization capabilities. 

### Parameter type / source change
Important situation that wasn't accounted for before is when parameter's value source type or config changes, meaning there's a significant change in the parameter, we reset both the default value and internal state (what's fetched, etc).

## Tests
New component is covered very well with ""unit"" tests in RTL. I believe we don't need to test its intricacies _additionally_ with e2e tests.  ",oleggromov,2024-03-08 14:03:14+00:00,['oleggromov'],2024-03-28 11:31:59+00:00,2024-03-28 11:31:45+00:00,https://github.com/metabase/metabase/pull/39852,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 1985770917, 'issue_id': 2176105800, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/47159572-c55d-48c7-96e1-591b3d0bbcb6"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>127f229e1fbf27d1656a970014e6790aeb2160fb</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>6 Flaky</b></div>\n<div>‚úÖ <b>2378 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 8, 14, 14, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2024965796, 'issue_id': 2176105800, 'author': 'github-actions[bot]', 'body': '@oleggromov Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 28, 11, 31, 58, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-08 14:14:51 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/47159572-c55d-48c7-96e1-591b3d0bbcb6"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>127f229e1fbf27d1656a970014e6790aeb2160fb</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>6 Flaky</b></div>
<div>‚úÖ <b>2378 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-28 11:31:58 UTC): @oleggromov Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2176096351,pull_request,closed,,Fix - Description for calculated columns in model metadata editing page is incorrectly populated with description from other columns,"Fixes #34349
Fixes #25884

Stress test: https://github.com/metabase/metabase/actions/runs/8204344171
",kamilmielnik,2024-03-08 13:58:20+00:00,['kamilmielnik'],2024-03-11 06:34:42+00:00,2024-03-11 06:34:27+00:00,https://github.com/metabase/metabase/pull/39851,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 1985772744, 'issue_id': 2176096351, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/346ce2da-6228-40d9-a3c2-25b76b643ccc"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>fc2a567161507995465b377954b4ec4a891dd16e</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>11 Flaky</b></div>\n<div>‚úÖ <b>2342 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 8, 14, 16, 6, tzinfo=datetime.timezone.utc)}, {'comment_id': 1987719900, 'issue_id': 2176096351, 'author': 'github-actions[bot]', 'body': '@kamilmielnik Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 11, 6, 34, 40, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-08 14:16:06 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/346ce2da-6228-40d9-a3c2-25b76b643ccc"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>fc2a567161507995465b377954b4ec4a891dd16e</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>11 Flaky</b></div>
<div>‚úÖ <b>2342 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-11 06:34:40 UTC): @kamilmielnik Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2176082974,pull_request,closed,,"[MLv2] Introduce `swap-clauses` to reorder aggregations, etc.","This includes some generative testing, since that felt like
a great way to try all kinds of permutations of swapping clauses.

This also patches `metabase.types/assignable?` to memoize it.
Deeply nested `assignable?` calls made 100 tests of swapping
filters take 1600ms rather than the 50-60ms of the other clauses.

I think this is safe and reasonable on memory to cache forever,
but speak up if you're concerned. There's perhaps O(60) type
keywords, so `type X type -> Boolean` is a small space impact.

",bshepherdson,2024-03-08 13:50:15+00:00,['bshepherdson'],2024-03-11 22:26:48+00:00,2024-03-11 22:26:47+00:00,https://github.com/metabase/metabase/pull/39850,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 1985731001, 'issue_id': 2176082974, 'author': 'bshepherdson', 'body': '* **#39850** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39850?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @bshepherdson and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 8, 13, 50, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 1985761137, 'issue_id': 2176082974, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/6c737e44-9382-45c5-9dc9-737ff5310a9f"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>469fb1de13e3029301d19f3569f4312a75d69dc6</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2352 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 8, 14, 8, 14, tzinfo=datetime.timezone.utc)}, {'comment_id': 1988251015, 'issue_id': 2176082974, 'author': 'ranquild', 'body': ""> I believe order can be dependent in expressions & joins. I'm not sure if the FE is requesting these swaps or not, if not then I would leave them out of swappable causes for the moment, if so then I would prevent illegal swaps.\r\n\r\nCurrently the FE would not call `swapClauses` with joins."", 'created_at': datetime.datetime(2024, 3, 11, 11, 44, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 1988251413, 'issue_id': 2176082974, 'author': 'ranquild', 'body': 'FE changes were approved here https://github.com/metabase/metabase/pull/39205', 'created_at': datetime.datetime(2024, 3, 11, 11, 44, 19, tzinfo=datetime.timezone.utc)}]","bshepherdson (Issue Creator) on (2024-03-08 13:50:29 UTC): * **#39850** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39850?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @bshepherdson and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

replay-io[bot] on (2024-03-08 14:08:14 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/6c737e44-9382-45c5-9dc9-737ff5310a9f"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>469fb1de13e3029301d19f3569f4312a75d69dc6</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2352 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

ranquild on (2024-03-11 11:44:04 UTC): Currently the FE would not call `swapClauses` with joins.

ranquild on (2024-03-11 11:44:19 UTC): FE changes were approved here https://github.com/metabase/metabase/pull/39205

"
2176065140,pull_request,closed,,"ü§ñ backported ""[chain filters] should not be using inactive fields for joins""",#39635,metabase-bot[bot],2024-03-08 13:39:28+00:00,['piranha'],2024-03-08 15:28:46+00:00,2024-03-08 15:28:45+00:00,https://github.com/metabase/metabase/pull/39849,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1985735331, 'issue_id': 2176065140, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/2dc036c8-f403-44ed-afd5-7491faf89520"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>1ad4808365302055c3ec43c3484b935e56a8c731</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2106 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 8, 13, 53, 20, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-08 13:53:20 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/2dc036c8-f403-44ed-afd5-7491faf89520"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>1ad4808365302055c3ec43c3484b935e56a8c731</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2106 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2175965713,pull_request,closed,,"ü§ñ backported ""[chain filters] should not be using inactive fields for joins""",#39635,metabase-bot[bot],2024-03-08 12:40:10+00:00,['piranha'],2024-03-08 14:02:18+00:00,2024-03-08 14:02:17+00:00,https://github.com/metabase/metabase/pull/39847,"[('.Team/Workflows', 'aka BEC'), ('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1985640793, 'issue_id': 2175965713, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/d1be577f-e90b-49f2-8ee4-18e4202aef06"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>c728a0b58929cda20a2c0a62ff5b4ce9dfd9e43f</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2329 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 8, 12, 52, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-08 12:52:00 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/d1be577f-e90b-49f2-8ee4-18e4202aef06"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>c728a0b58929cda20a2c0a62ff5b4ce9dfd9e43f</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2329 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2175879568,pull_request,closed,,"ü§ñ backported ""Update existing foreign keys during metadata sync""",#39679,metabase-bot[bot],2024-03-08 11:45:01+00:00,['calherries'],2024-03-08 12:24:24+00:00,2024-03-08 12:24:23+00:00,https://github.com/metabase/metabase/pull/39846,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1985567214, 'issue_id': 2175879568, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/a8623348-a63f-416d-81f0-51a7dec65da0"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>5ec0fb0066ad52fef97079c1e3f8d6247639af6d</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2323 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 8, 11, 56, 49, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-08 11:56:49 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/a8623348-a63f-416d-81f0-51a7dec65da0"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>5ec0fb0066ad52fef97079c1e3f8d6247639af6d</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2323 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2175857335,pull_request,closed,,try case sensitive matching on FKs,This is a test,calherries,2024-03-08 11:28:58+00:00,[],2024-03-08 12:17:50+00:00,2024-03-08 12:17:40+00:00,https://github.com/metabase/metabase/pull/39845,[],"[{'comment_id': 1985548178, 'issue_id': 2175857335, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/5b3602fb-ece4-49fe-a0e4-becedb910a56"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>114820689ad1c1bef4e0cddf2c361f771943c160</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>166 Failed</b></div>\n<div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2033 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 8, 11, 41, 40, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-08 11:41:40 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/5b3602fb-ece4-49fe-a0e4-becedb910a56"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>114820689ad1c1bef4e0cddf2c361f771943c160</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>166 Failed</b></div>
<div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2033 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2175678843,pull_request,closed,,"ü§ñ backported ""Fix table columns remapped fields""",#39798,metabase-bot[bot],2024-03-08 09:55:20+00:00,['ranquild'],2024-03-08 10:29:02+00:00,2024-03-08 10:29:01+00:00,https://github.com/metabase/metabase/pull/39844,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1985410248, 'issue_id': 2175678843, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/80e717e3-40e6-44fb-af57-9346fc480392"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>97d6f8d813d65dc6bb793bf2c3ef74a8521d2f22</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚úÖ <b>2332 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 8, 10, 8, 6, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-08 10:08:06 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/80e717e3-40e6-44fb-af57-9346fc480392"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>97d6f8d813d65dc6bb793bf2c3ef74a8521d2f22</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚úÖ <b>2332 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2175601052,pull_request,closed,,"ü§ñ backported ""Only return helpText for supported features""",#39766,metabase-bot[bot],2024-03-08 09:08:43+00:00,['romeovs'],2024-03-08 09:54:03+00:00,2024-03-08 09:54:02+00:00,https://github.com/metabase/metabase/pull/39842,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1985338390, 'issue_id': 2175601052, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/b0e75442-278d-4763-ada6-367c7d079300"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>7286f0345749f4da24adb4118a34bc7ea383c522</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2330 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 8, 9, 21, 12, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-08 09:21:12 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/b0e75442-278d-4763-ada6-367c7d079300"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>7286f0345749f4da24adb4118a34bc7ea383c522</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2330 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2175280369,pull_request,closed,,"ü§ñ backported ""Upgrade redux-auth-wrapper package""","  #39708
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",metabase-bot[bot],2024-03-08 04:55:33+00:00,['npfitz'],2024-03-08 14:56:51+00:00,2024-03-08 14:56:50+00:00,https://github.com/metabase/metabase/pull/39841,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1985786989, 'issue_id': 2175280369, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/4f52e47c-9121-4bf6-8b1f-cd3e6de7e183"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>2b67201fb1c7dc3d4abfbb625a7619ec7fe5546f</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚úÖ <b>2332 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 8, 14, 25, 8, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-08 14:25:08 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/4f52e47c-9121-4bf6-8b1f-cd3e6de7e183"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>2b67201fb1c7dc3d4abfbb625a7619ec7fe5546f</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚úÖ <b>2332 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2175267653,pull_request,closed,,"ü§ñ backported ""Chart Settings Table Formatting DnD kit""","  #39705
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",metabase-bot[bot],2024-03-08 04:40:15+00:00,['npfitz'],2024-03-08 18:26:36+00:00,2024-03-08 18:26:35+00:00,https://github.com/metabase/metabase/pull/39840,"[('visual', 'Run Percy visual testing'), ('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1985807949, 'issue_id': 2175267653, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 21b33fb1051b3243454ce0e4f78158c239d8e131...d2111e72ab5646ebb08f6d1d440b3134f41b8409.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/settings/ChartSettingsTableFormatting.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingsTableFormatting.unit.spec.js<br>frontend/src/metabase/visualizations/visualizations/PivotTable/settings.ts<br>frontend/src/metabase/visualizations/visualizations/Table.tsx |', 'created_at': datetime.datetime(2024, 3, 8, 14, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 1985826884, 'issue_id': 2175267653, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/f74c3b8f-d6ca-44c8-816d-dac83fa89a79"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>d2111e72ab5646ebb08f6d1d440b3134f41b8409</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2332 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 8, 14, 48, 19, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-08 14:38:00 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 21b33fb1051b3243454ce0e4f78158c239d8e131...d2111e72ab5646ebb08f6d1d440b3134f41b8409.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/settings/ChartSettingsTableFormatting.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingsTableFormatting.unit.spec.js<br>frontend/src/metabase/visualizations/visualizations/PivotTable/settings.ts<br>frontend/src/metabase/visualizations/visualizations/Table.tsx |

replay-io[bot] on (2024-03-08 14:48:19 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/f74c3b8f-d6ca-44c8-816d-dac83fa89a79"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>d2111e72ab5646ebb08f6d1d440b3134f41b8409</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2332 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2175243624,pull_request,closed,,"ü§ñ backported ""Disclosure triangle and Fullpage modal transitions""",#39780,metabase-bot[bot],2024-03-08 04:10:18+00:00,['npfitz'],2024-03-08 15:08:01+00:00,2024-03-08 15:08:00+00:00,https://github.com/metabase/metabase/pull/39839,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1985016605, 'issue_id': 2175243624, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/9af0a81a-8a1f-4514-af29-05553c4e18a6"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>aed3ac2a03f87e08286675ad3c0bd227d6b20339</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2330 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 8, 4, 22, 7, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-08 04:22:07 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/9af0a81a-8a1f-4514-af29-05553c4e18a6"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>aed3ac2a03f87e08286675ad3c0bd227d6b20339</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2330 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2175114446,pull_request,closed,,Convert QP to MLv2 Part 2,"Convert `metabase.query-processor.middleware.resolve-referenced`, make `metabase.query-processor.middleware.resolve-source-table` work with either pMBQL or legacy, and remove most of the stuff in `fetch-source-query-legacy`. Some misc cleanup and moving QP utils into metabase lib 

Resolves #39830
Resolves #39831 
Resolves #39833",camsaul,2024-03-08 01:34:20+00:00,['camsaul'],2024-03-11 20:12:26+00:00,2024-03-11 20:12:13+00:00,https://github.com/metabase/metabase/pull/39824,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 1984903741, 'issue_id': 2175114446, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/f09f3ccd-2cc4-4909-bfd3-428941c2b5e4"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>c16a19c7fbe1e21c4659bff792344f37e561de0d</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2349 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 8, 1, 45, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 1989349130, 'issue_id': 2175114446, 'author': 'github-actions[bot]', 'body': '@camsaul Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 11, 20, 12, 24, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-08 01:45:41 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/f09f3ccd-2cc4-4909-bfd3-428941c2b5e4"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>c16a19c7fbe1e21c4659bff792344f37e561de0d</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2349 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-11 20:12:24 UTC): @camsaul Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2175042381,pull_request,closed,,[docs] Note about VPN,"The question about VPN keeps being asked so maybe if we add a sentence, it'll reduce the number of asks",alexyarosh,2024-03-08 00:09:01+00:00,['alexyarosh'],2024-03-13 16:46:08+00:00,2024-03-13 16:45:51+00:00,https://github.com/metabase/metabase/pull/39823,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 1994948865, 'issue_id': 2175042381, 'author': 'alexyarosh', 'body': ""Closing this because it was from a fork which doesn't seem to work with backport checker, will recreate directly"", 'created_at': datetime.datetime(2024, 3, 13, 16, 45, 51, tzinfo=datetime.timezone.utc)}]","alexyarosh (Issue Creator) on (2024-03-13 16:45:51 UTC): Closing this because it was from a fork which doesn't seem to work with backport checker, will recreate directly

"
2175027259,pull_request,closed,,Clean up type inference interface,"### Description

This is a small tweak to address [this comment](https://github.com/metabase/metabase/pull/39741#discussion_r1516151874).

We reorganise some helper methods, rename things, and ensure that both the Create and Append paths use a typed interface.
",crisptrutski,2024-03-07 23:52:15+00:00,['crisptrutski'],2024-03-14 10:19:58+00:00,2024-03-13 14:47:09+00:00,https://github.com/metabase/metabase/pull/39822,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 1984799289, 'issue_id': 2175027259, 'author': 'crisptrutski', 'body': '* **#39822** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39822?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* **#39493** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39493?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 4 other dependent PRs ([#39706](https://github.com/metabase/metabase/pull/39706) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39706?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#39724](https://github.com/metabase/metabase/pull/39724) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39724?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#39741](https://github.com/metabase/metabase/pull/39741) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39741?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> and 1 other)\n* **#39491** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39491?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 7, 23, 52, 33, tzinfo=datetime.timezone.utc)}, {'comment_id': 1984817920, 'issue_id': 2175027259, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/2c079190-4349-47a2-8db9-a993aac85333"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 53 / 54</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>6e3c7a8565ff6669fde954bc178fad27db24593b</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2349 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 8, 0, 10, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 1994571519, 'issue_id': 2175027259, 'author': 'github-actions[bot]', 'body': '@crisptrutski Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 13, 14, 47, 20, tzinfo=datetime.timezone.utc)}]","crisptrutski (Issue Creator) on (2024-03-07 23:52:33 UTC): * **#39822** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39822?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* **#39493** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39493?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 4 other dependent PRs ([#39706](https://github.com/metabase/metabase/pull/39706) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39706?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#39724](https://github.com/metabase/metabase/pull/39724) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39724?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#39741](https://github.com/metabase/metabase/pull/39741) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39741?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> and 1 other)
* **#39491** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39491?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

replay-io[bot] on (2024-03-08 00:10:29 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/2c079190-4349-47a2-8db9-a993aac85333"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 53 / 54</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>6e3c7a8565ff6669fde954bc178fad27db24593b</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2349 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-13 14:47:20 UTC): @crisptrutski Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2175001312,pull_request,closed,,Publish audit logs for CSV uploads,"Closes https://github.com/metabase/metabase/issues/39818

### Description

This adds new audit log events for when we create and append to upload tables.

It publishes a similar payload to our snowplow events.
",crisptrutski,2024-03-07 23:24:21+00:00,['crisptrutski'],2024-03-08 18:29:18+00:00,2024-03-08 18:29:17+00:00,https://github.com/metabase/metabase/pull/39821,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 1984771935, 'issue_id': 2175001312, 'author': 'crisptrutski', 'body': '* **#39821** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39821?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* **#39493** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39493?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 4 other dependent PRs ([#39706](https://github.com/metabase/metabase/pull/39706) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39706?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#39724](https://github.com/metabase/metabase/pull/39724) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39724?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#39741](https://github.com/metabase/metabase/pull/39741) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39741?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> and 1 other)\n* **#39491** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39491?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 7, 23, 24, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 1984788710, 'issue_id': 2175001312, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/63fed581-3a83-4e20-9986-b36bfe2e361f"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>e48b77107c4843742b9ec2b936142245c9fab8a0</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2350 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 23, 42, 38, tzinfo=datetime.timezone.utc)}]","crisptrutski (Issue Creator) on (2024-03-07 23:24:36 UTC): * **#39821** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39821?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* **#39493** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39493?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 4 other dependent PRs ([#39706](https://github.com/metabase/metabase/pull/39706) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39706?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#39724](https://github.com/metabase/metabase/pull/39724) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39724?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#39741](https://github.com/metabase/metabase/pull/39741) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39741?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> and 1 other)
* **#39491** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39491?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

replay-io[bot] on (2024-03-07 23:42:38 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/63fed581-3a83-4e20-9986-b36bfe2e361f"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>e48b77107c4843742b9ec2b936142245c9fab8a0</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2350 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2174989652,pull_request,closed,,fix echarts layout and style,"Closes https://github.com/metabase/metabase/issues/39579
Closes https://github.com/metabase/metabase/issues/39607
Closes https://github.com/metabase/metabase/issues/39601
Closes https://github.com/metabase/metabase/issues/39593

### Description

Tiny polishing of the chart layout:
1) Fixes missing margin between the dashcard title and the chart legend
2) Fixes timeline events spacing was added for the x-axis nameGap calculation on ordinal scales
3) Updates the axis name font size from 14px to 12px
4) Fixes data labels on stacked charts got opacity

### Demo

#### Dashcard missing title spacing

Before
<img width=""842"" alt=""Screenshot 2024-03-07 at 7 58 41‚ÄØPM"" src=""https://github.com/metabase/metabase/assets/14301985/b068d29e-4570-45a4-bf40-a66b85ff03fa"">

After
<img width=""842"" alt=""Screenshot 2024-03-07 at 7 58 25‚ÄØPM"" src=""https://github.com/metabase/metabase/assets/14301985/d565229c-84d7-4db2-b2ea-cc57170e2d98"">

#### Excessive timeline events spacing pushes x-axis title down on Ordinal scales

Before
<img width=""1357"" alt=""Screenshot 2024-03-07 at 8 16 41‚ÄØPM"" src=""https://github.com/metabase/metabase/assets/14301985/aa5a8dd4-95b3-4ddf-8ec8-23ce72ec27d7"">

After
<img width=""1359"" alt=""Screenshot 2024-03-07 at 8 16 55‚ÄØPM"" src=""https://github.com/metabase/metabase/assets/14301985/03f6d774-d9f7-4bfc-a69f-8cc15b8cd861"">

#### Fixes stack totals labels got blurred when hovering series

Before
<img width=""1725"" alt=""Screenshot 2024-03-08 at 1 39 21‚ÄØAM"" src=""https://github.com/metabase/metabase/assets/14301985/b687c2fc-4547-468f-8954-de2d8c04c0cf"">

After
<img width=""1706"" alt=""Screenshot 2024-03-08 at 1 38 44‚ÄØAM"" src=""https://github.com/metabase/metabase/assets/14301985/24a31cd9-b034-4c66-91d9-d1ab24e77e71"">

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR ‚Äî blocked by https://github.com/metabase/metabase/issues/39660
",alxnddr,2024-03-07 23:14:42+00:00,['alxnddr'],2024-03-08 20:24:12+00:00,2024-03-08 20:24:12+00:00,https://github.com/metabase/metabase/pull/39820,"[('visual', 'Run Percy visual testing'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 1984775689, 'issue_id': 2174989652, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/e95e7840-6d5a-4d71-a370-9b7e372471e9"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>91f10d24f0d399ac36fdfb1a620e7828544c08e2</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>178 Failed</b></div>\n<div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2036 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 23, 28, 37, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-07 23:28:37 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/e95e7840-6d5a-4d71-a370-9b7e372471e9"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>91f10d24f0d399ac36fdfb1a620e7828544c08e2</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>178 Failed</b></div>
<div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2036 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2174968644,pull_request,closed,,Fix progress bar value display when progress card is minimum height,"- Closes: https://github.com/metabase/metabase/issues/5554

**Before**

https://github.com/metabase/metabase/assets/22608765/0cd782b3-e276-4458-b189-e56f1d3dafaf


**After**

https://github.com/metabase/metabase/assets/22608765/a504f60d-0d48-4c78-82f2-539e42866503

",JesseSDevaney,2024-03-07 22:56:41+00:00,['JesseSDevaney'],2024-03-08 18:31:18+00:00,2024-03-08 18:31:06+00:00,https://github.com/metabase/metabase/pull/39819,"[('Visualization/Scalars', 'Numbers, progress bars, gauges'), ('backport', 'Automatically create PR on current release branch on merge'), ('visual', 'Run Percy visual testing'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 1984726831, 'issue_id': 2174968644, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff cefc94c9881f659192b369bbc172c18ceee1ac98...8d7502e1a451ef6f1bad326e0001f98237a7988a.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/visualizations/Progress/Progress.jsx |', 'created_at': datetime.datetime(2024, 3, 7, 22, 57, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 1984757227, 'issue_id': 2174968644, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/203bb59d-e354-4946-96b7-b7dd4e53dbeb"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>8d7502e1a451ef6f1bad326e0001f98237a7988a</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2338 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 23, 9, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 1986204332, 'issue_id': 2174968644, 'author': 'github-actions[bot]', 'body': '@JesseSDevaney Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 8, 18, 31, 17, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-07 22:57:49 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff cefc94c9881f659192b369bbc172c18ceee1ac98...8d7502e1a451ef6f1bad326e0001f98237a7988a.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/visualizations/Progress/Progress.jsx |

replay-io[bot] on (2024-03-07 23:09:31 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/203bb59d-e354-4946-96b7-b7dd4e53dbeb"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>8d7502e1a451ef6f1bad326e0001f98237a7988a</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2338 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-08 18:31:17 UTC): @JesseSDevaney Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2174854299,pull_request,closed,,Diagnostic Information Modal,"Closes https://github.com/metabase/metabase/issues/38930
Closes https://github.com/metabase/metabase/issues/34417

### Description

Pressing `ctrl/cmd + F1` on any page in metabase will now bring up an error reporting modal that allows a user to download a .json file with lots of diagnostic information that will be helpful to our support team to be able to debug a wide variety of errors faster. In addition, any uncaught error will now display a button to pop up this modal as well.

üî§ | üñºÔ∏è
---|---
Model | ![Screen Shot 2024-03-07 at 2 28 10 PM](https://github.com/metabase/metabase/assets/30528226/5fb85214-f3c1-4410-bb03-676591289b4f)
Question | ![Screen Shot 2024-03-07 at 2 41 04 PM](https://github.com/metabase/metabase/assets/30528226/5e26cc16-e0ff-460a-9d30-9c741e62ea4c)
Dashboard |  ![Screen Shot 2024-03-07 at 2 28 23 PM](https://github.com/metabase/metabase/assets/30528226/6337d5a9-1f3e-4694-83a4-4d471cd32c18)
Collection |  ![Screen Shot 2024-03-07 at 2 28 39 PM](https://github.com/metabase/metabase/assets/30528226/1d45a869-d0c6-4625-991d-2d84cb440975) 
Homepage |  ![Screen Shot 2024-03-07 at 2 27 57 PM](https://github.com/metabase/metabase/assets/30528226/9e51695d-37e5-4c74-8244-6892e024b69a)
Non-admin <br>(no backend logs) | ![Screen Shot 2024-03-07 at 2 29 16 PM](https://github.com/metabase/metabase/assets/30528226/aa5eaa33-a9c4-4429-bac4-575366035d65)
uncaught error | ![screen_shot_2024-03-06_at_11 25 39_am](https://github.com/metabase/metabase/assets/30528226/254b8c21-5de9-4d56-90f7-e6c04adb1f4f)

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",iethree,2024-03-07 21:44:42+00:00,"['johnswanson', 'iethree']",2024-03-11 14:15:16+00:00,2024-03-11 13:54:52+00:00,https://github.com/metabase/metabase/pull/39817,"[('visual', 'Run Percy visual testing'), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 1984556267, 'issue_id': 2174854299, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff e3de88900a3e9ce05b485019897df7743d9b3bcf...fc5c37ff220f447c5bf7b31bce0cede0218b32a5.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetailView.tsx |\n| @kdoh | frontend/src/metabase/ui/components/inputs/Checkbox/Checkbox.styled.tsx |', 'created_at': datetime.datetime(2024, 3, 7, 21, 46, 26, tzinfo=datetime.timezone.utc)}, {'comment_id': 1984570646, 'issue_id': 2174854299, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/793d1f15-29ba-41f2-bafe-37ad71633ccd"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>fc5c37ff220f447c5bf7b31bce0cede0218b32a5</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2354 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 21, 57, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 1984573794, 'issue_id': 2174854299, 'author': 'iethree', 'body': '@paoliniluis do you think this could address your concerns in https://github.com/metabase/metabase/issues/37779 ?', 'created_at': datetime.datetime(2024, 3, 7, 21, 59, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 1986092624, 'issue_id': 2174854299, 'author': 'rafpaf', 'body': '@iethree Will take a look this afternoon', 'created_at': datetime.datetime(2024, 3, 8, 17, 15, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 1986133386, 'issue_id': 2174854299, 'author': 'rafpaf', 'body': ""I'm hesitating over the plan to use Ctrl+F1 / Cmd+F1 as a shortcut since this pattern is unusual in web apps, as far as I know. On some Macs, [Cmd+F1 toggles display mirroring](https://www.macobserver.com/tips/quick-tip/os-x-use-keyboard-shortcut-display-mirroring)."", 'created_at': datetime.datetime(2024, 3, 8, 17, 41, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 1988493012, 'issue_id': 2174854299, 'author': 'iethree', 'body': ""There's one issue here that I'll look into a bit more, and probably handle (if at all) in a follow-up. Certain of our form fields capture all keyboard input and prevent it from bubbling globally, so we can't trigger this modal when a form field is focused üòû"", 'created_at': datetime.datetime(2024, 3, 11, 13, 50, 28, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-07 21:46:26 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff e3de88900a3e9ce05b485019897df7743d9b3bcf...fc5c37ff220f447c5bf7b31bce0cede0218b32a5.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ObjectDetail/ObjectDetailView.tsx |
| @kdoh | frontend/src/metabase/ui/components/inputs/Checkbox/Checkbox.styled.tsx |

replay-io[bot] on (2024-03-07 21:57:02 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/793d1f15-29ba-41f2-bafe-37ad71633ccd"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>fc5c37ff220f447c5bf7b31bce0cede0218b32a5</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2354 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

iethree (Issue Creator) on (2024-03-07 21:59:39 UTC): @paoliniluis do you think this could address your concerns in https://github.com/metabase/metabase/issues/37779 ?

rafpaf on (2024-03-08 17:15:58 UTC): @iethree Will take a look this afternoon

rafpaf on (2024-03-08 17:41:47 UTC): I'm hesitating over the plan to use Ctrl+F1 / Cmd+F1 as a shortcut since this pattern is unusual in web apps, as far as I know. On some Macs, [Cmd+F1 toggles display mirroring](https://www.macobserver.com/tips/quick-tip/os-x-use-keyboard-shortcut-display-mirroring).

iethree (Issue Creator) on (2024-03-11 13:50:28 UTC): There's one issue here that I'll look into a bit more, and probably handle (if at all) in a follow-up. Certain of our form fields capture all keyboard input and prevent it from bubbling globally, so we can't trigger this modal when a form field is focused üòû

"
2174853731,pull_request,closed,,fix combined cards drills,"Closes https://github.com/metabase/metabase/issues/39742
Closes https://github.com/metabase/metabase/issues/39610

### Description

Fixes combined cards drills on the combo chart. The root cause of missing series on combined cards is wrong viz settings key computation. There is a special case for the first card without a breakout: the series key is the raw column name without the card name prefix.

### How to verify

Combine the following variants on a dashcard, the order of combining matters:
1) Multiple metrics card + Breakout card
2) Breakout card + Multiple metrics card

- Ensure all series rendered in the first place
- Ensure drills open the right card and apply correct filter

### Demo

Before
<img width=""845"" alt=""Screenshot 2024-03-08 at 9 35 30‚ÄØPM"" src=""https://github.com/metabase/metabase/assets/14301985/58417622-0f07-4a19-acb8-53a275cabfda"">

After
<img width=""853"" alt=""Screenshot 2024-03-08 at 9 35 02‚ÄØPM"" src=""https://github.com/metabase/metabase/assets/14301985/c6490759-e6b6-4c6d-a876-1c1e1eddad49"">

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",alxnddr,2024-03-07 21:44:14+00:00,['alxnddr'],2024-03-11 20:20:37+00:00,2024-03-11 19:46:31+00:00,https://github.com/metabase/metabase/pull/39816,"[('visual', 'Run Percy visual testing'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 1984567250, 'issue_id': 2174853731, 'author': 'github-actions[bot]', 'body': 'üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8195198682)', 'created_at': datetime.datetime(2024, 3, 7, 21, 54, 12, tzinfo=datetime.timezone.utc)}, {'comment_id': 1984675139, 'issue_id': 2174853731, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/52bf2371-4004-4185-85ee-39acb7b92428"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>c649c4093673b2cfd1f323f97868fed0a761ce05</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>178 Failed</b></div>\n<div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2036 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 22, 38, 6, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-07 21:54:12 UTC): üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8195198682)

replay-io[bot] on (2024-03-07 22:38:06 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/52bf2371-4004-4185-85ee-39acb7b92428"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>c649c4093673b2cfd1f323f97868fed0a761ce05</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>178 Failed</b></div>
<div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2036 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2174853181,pull_request,closed,,"ü§ñ backported ""Fix janky db refreshing""",#39796,metabase-bot[bot],2024-03-07 21:43:44+00:00,['rafpaf'],2024-03-07 22:15:58+00:00,2024-03-07 22:15:57+00:00,https://github.com/metabase/metabase/pull/39815,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1984568421, 'issue_id': 2174853181, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/dd6f06d4-15e3-4139-96b3-f68426ced15b"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>78d69e8f498ad1c56fbdbb23f0e01f265a18a9da</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2328 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 21, 55, 8, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-07 21:55:08 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/dd6f06d4-15e3-4139-96b3-f68426ced15b"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>78d69e8f498ad1c56fbdbb23f0e01f265a18a9da</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2328 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2174826019,pull_request,closed,,Maintain user-level state in dashboards for filters,"Closes https://github.com/metabase/metabase/issues/39809

### Description

1. If there is no default value and user used some value on the dashboard, we need to restore this value when user gets back to the dashboard, no matter how user opens a dashboard (with a direct URL, after a search)
2. values are saved on BE after every run of the `/query`
3. public dashboards does not provide `last_used_param_values` property on the dashboard (should it be added at BE?), so 
preserving functionality doesn't work there 

### How to verify

- Go to any dashboard with filters
- set value on the filter
- either remove URL search parameters (after `?`) or go to the root collection
- then find your dashboard and with filters and make sure that 
a. values are preserved
b. query for the mapped questions includes preserved parameter value into account


### Demo

1. main functionality

saves last usage of the filter, resets saved value if you reset a filter

https://github.com/metabase/metabase/assets/125459446/75a171f7-7e0e-423d-990a-15a9b8b2d892


2. no auto-apply filter

a. if you use `apply` button, values are saved and reused next time
b. if you do not click ""apply"", then dashboard is not affected

https://github.com/metabase/metabase/assets/125459446/fa739376-736f-4bc7-9eb0-4511d55caf9b

3. Static embedding is not affected
<img width=""1310"" alt=""image"" src=""https://github.com/metabase/metabase/assets/125459446/4300db6e-a1c4-4d70-973f-859666d734c2"">

4. Interactive embedding - not tested",uladzimirdev,2024-03-07 21:24:23+00:00,['uladzimirdev'],2024-05-17 09:37:15+00:00,2024-05-17 09:37:14+00:00,https://github.com/metabase/metabase/pull/39813,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 1984550151, 'issue_id': 2174826019, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs?testRunId=138b5400-2fe2-4f85-a2a8-8e36a7747f3d"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>0dca479bb5a1d7a529510ea97d2461b8e8bd8aac</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2511 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 21, 41, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2113059133, 'issue_id': 2174826019, 'author': 'uladzimirdev', 'body': 'Stress test for a flaky parameters test https://github.com/metabase/metabase/actions/runs/9097780561/job/25006416075', 'created_at': datetime.datetime(2024, 5, 15, 17, 13, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2117058044, 'issue_id': 2174826019, 'author': 'uladzimirdev', 'body': 'stress run for new e2e tests https://github.com/metabase/metabase/actions/runs/9125507229/job/25091830889', 'created_at': datetime.datetime(2024, 5, 17, 8, 46, 25, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-07 21:41:48 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs?testRunId=138b5400-2fe2-4f85-a2a8-8e36a7747f3d"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>0dca479bb5a1d7a529510ea97d2461b8e8bd8aac</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2511 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

uladzimirdev (Issue Creator) on (2024-05-15 17:13:48 UTC): Stress test for a flaky parameters test https://github.com/metabase/metabase/actions/runs/9097780561/job/25006416075

uladzimirdev (Issue Creator) on (2024-05-17 08:46:25 UTC): stress run for new e2e tests https://github.com/metabase/metabase/actions/runs/9125507229/job/25091830889

"
2174821665,pull_request,closed,,Adjust padding to hide scrollbars for single line text dash-cards,"- Closes: https://github.com/metabase/metabase/issues/34537

**Before**

https://github.com/metabase/metabase/assets/22608765/6d8a497a-6894-4d91-a17a-ffcc0d2a3a19


**After**

https://github.com/metabase/metabase/assets/22608765/8830cb2b-23cf-4d9f-a342-993a2ec4e11a

",JesseSDevaney,2024-03-07 21:21:22+00:00,['JesseSDevaney'],2024-03-08 18:30:49+00:00,2024-03-08 18:30:36+00:00,https://github.com/metabase/metabase/pull/39811,"[('backport', 'Automatically create PR on current release branch on merge'), ('visual', 'Run Percy visual testing'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 1984523861, 'issue_id': 2174821665, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 180cf7870b91c722375d6842ceb19d1b223df294...f4382fe1f0a222fc28a8788897a0f9540c3e1635.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/visualizations/Text/Text.styled.tsx |', 'created_at': datetime.datetime(2024, 3, 7, 21, 22, 25, tzinfo=datetime.timezone.utc)}, {'comment_id': 1984538587, 'issue_id': 2174821665, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/3af914ce-a55c-42d3-8ca6-a5b6a0e842ef"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>f4382fe1f0a222fc28a8788897a0f9540c3e1635</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2336 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 21, 33, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 1986203666, 'issue_id': 2174821665, 'author': 'github-actions[bot]', 'body': '@JesseSDevaney Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 8, 18, 30, 48, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-07 21:22:25 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 180cf7870b91c722375d6842ceb19d1b223df294...f4382fe1f0a222fc28a8788897a0f9540c3e1635.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/visualizations/Text/Text.styled.tsx |

replay-io[bot] on (2024-03-07 21:33:07 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/3af914ce-a55c-42d3-8ca6-a5b6a0e842ef"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>f4382fe1f0a222fc28a8788897a0f9540c3e1635</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2336 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-08 18:30:48 UTC): @JesseSDevaney Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2174716465,pull_request,closed,,docs - api formatting,Autogenerated formatting updates for 49 API docs.,jeff-bruemmer,2024-03-07 20:20:32+00:00,['jeff-bruemmer'],2024-03-07 20:28:35+00:00,2024-03-07 20:28:34+00:00,https://github.com/metabase/metabase/pull/39806,"[('Type:Documentation', '')]",[],
2174712900,pull_request,closed,,"ü§ñ backported ""Fix order of actions in question, dashboard and collection item menus""","  #39782
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",metabase-bot[bot],2024-03-07 20:18:27+00:00,['kulyk'],2024-03-18 11:45:22+00:00,2024-03-18 11:45:19+00:00,https://github.com/metabase/metabase/pull/39805,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2174708088,pull_request,closed,,Debug QP 2.0,"New QP debugger uses Portal and can be enabled with a dynamic var so you can use it anywhere now.

![image](https://github.com/metabase/metabase/assets/1455846/6dff2e0a-0734-413e-be7d-9ebb55528bc7)

```clj
;; start Portal if you have not done so already. Open http://localhost:4000 in your browser
(dev.debug-qp/start-portal!)

;; run a query with debugging enabled
(binding [metabase.query-processor.debug/*debug* true]
  (metabase.query-processor/process-query query)
```

You can add debug output with a new `qp.debug/debug>` tapping macro. Currently I've added preprocessing middleware as well as some of the `annotate` post-processing stuff. We can add other stuff as well going forward.",camsaul,2024-03-07 20:16:05+00:00,['camsaul'],2024-10-08 17:05:26+00:00,2024-07-02 21:12:07+00:00,https://github.com/metabase/metabase/pull/39804,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 2204372543, 'issue_id': 2174708088, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs?testRunId=1ead0c61-427d-4000-adb4-e2846562d131"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>c414a6bd39037d805206433d1255bdd3f8c62243</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2735 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 7, 2, 20, 38, 38, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-07-02 20:38:38 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs?testRunId=1ead0c61-427d-4000-adb4-e2846562d131"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>c414a6bd39037d805206433d1255bdd3f8c62243</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2735 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2174698463,pull_request,closed,,"ü§ñ backported ""Fix the `dismissed-custom-dashboard-toast` setting case""",#39785,metabase-bot[bot],2024-03-07 20:09:41+00:00,['nemanjaglumac'],2024-03-07 20:41:54+00:00,2024-03-07 20:41:53+00:00,https://github.com/metabase/metabase/pull/39803,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1984342613, 'issue_id': 2174698463, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 1a70d69542f265c94adc34767f143cf8c44bafdf...8b410bb289f408bc968be1662319c331b5b34635.\n\n| Notify | File(s) |\n|-|-|\n| @ranquild | frontend/src/metabase/home/components/CustomHomePageModal/CustomHomePageModal.tsx |', 'created_at': datetime.datetime(2024, 3, 7, 20, 10, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 1984357958, 'issue_id': 2174698463, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/6b701a6a-fdac-4e32-86f2-6ee713bdfe4f"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>8b410bb289f408bc968be1662319c331b5b34635</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2329 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 20, 21, 24, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-07 20:10:45 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 1a70d69542f265c94adc34767f143cf8c44bafdf...8b410bb289f408bc968be1662319c331b5b34635.

| Notify | File(s) |
|-|-|
| @ranquild | frontend/src/metabase/home/components/CustomHomePageModal/CustomHomePageModal.tsx |

replay-io[bot] on (2024-03-07 20:21:24 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/6b701a6a-fdac-4e32-86f2-6ee713bdfe4f"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>8b410bb289f408bc968be1662319c331b5b34635</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2329 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2174607853,pull_request,closed,,[MLv2] Include implicit joins for breakout/order on models,Fixes #39657.,bshepherdson,2024-03-07 19:24:06+00:00,['bshepherdson'],2024-03-12 18:10:07+00:00,2024-03-12 18:09:55+00:00,https://github.com/metabase/metabase/pull/39801,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 1984264931, 'issue_id': 2174607853, 'author': 'bshepherdson', 'body': '* **#39801** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39801?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @bshepherdson and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 7, 19, 24, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 1984438892, 'issue_id': 2174607853, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/826b6087-a5f2-4238-ab31-37f60f62c8d2"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>f96721b087dda6ed252e2ce4acf43bd8ea761a41</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>5 Flaky</b></div>\n<div>‚úÖ <b>2355 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 20, 55, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 1992266277, 'issue_id': 2174607853, 'author': 'github-actions[bot]', 'body': '@bshepherdson Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 12, 18, 10, 6, tzinfo=datetime.timezone.utc)}]","bshepherdson (Issue Creator) on (2024-03-07 19:24:18 UTC): * **#39801** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39801?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @bshepherdson and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

replay-io[bot] on (2024-03-07 20:55:24 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/826b6087-a5f2-4238-ab31-37f60f62c8d2"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>f96721b087dda6ed252e2ce4acf43bd8ea761a41</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>5 Flaky</b></div>
<div>‚úÖ <b>2355 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-12 18:10:06 UTC): @bshepherdson Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2174581921,pull_request,closed,,"ü§ñ backported ""Dashboard width revision message should handle nil""",#39710,metabase-bot[bot],2024-03-07 19:09:10+00:00,['adam-james-v'],2024-03-07 19:49:09+00:00,2024-03-07 19:49:08+00:00,https://github.com/metabase/metabase/pull/39800,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1984260386, 'issue_id': 2174581921, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/fedbf54c-b73e-476f-b44e-2669cd140875"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>198a462290a02b6ec728616d28047741f1ed9b0d</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2327 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 19, 21, 6, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-07 19:21:06 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/fedbf54c-b73e-476f-b44e-2669cd140875"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>198a462290a02b6ec728616d28047741f1ed9b0d</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2327 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2174555423,pull_request,closed,,"ü§ñ backported ""Properly highlight models as the data source""","Backport of #39792.
Manual conflict resolution.

frontend/src/metabase/query_builder/components/DataSelector/DataSelector.jsx was quite different from the one in `master`, so I had to carefully apply only the related changes.

Luckily, a related E2E test was backported as well, and that should give us some confidence that the things are working as expected.


",metabase-bot[bot],2024-03-07 18:56:24+00:00,['nemanjaglumac'],2024-03-07 20:36:09+00:00,2024-03-07 20:36:09+00:00,https://github.com/metabase/metabase/pull/39799,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1984277322, 'issue_id': 2174555423, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/67567fce-57e8-45fd-8c83-af638d783e76"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>56d4c489b3e5e753e03dd3297eda12c84e7f329e</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2300 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 19, 31, 36, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-07 19:31:36 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/67567fce-57e8-45fd-8c83-af638d783e76"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>56d4c489b3e5e753e03dd3297eda12c84e7f329e</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2300 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2174545425,pull_request,closed,,Fix table columns remapped fields,"Fixes https://github.com/metabase/metabase/issues/39795
Caused by https://github.com/metabase/metabase/pull/38995",ranquild,2024-03-07 18:52:43+00:00,['ranquild'],2024-03-08 09:54:50+00:00,2024-03-08 09:54:36+00:00,https://github.com/metabase/metabase/pull/39798,"[('backport', 'Automatically create PR on current release branch on merge'), ('visual', 'Run Percy visual testing'), ('.Team/Querying', '')]","[{'comment_id': 1984216864, 'issue_id': 2174545425, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 08a189ca9f52dc1bc79b96d4c20232be2d77f6d6...ce0afee59e1d1bdcda009f2a5f78ef3dfe587cb5.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/lib/settings/column.js |', 'created_at': datetime.datetime(2024, 3, 7, 18, 53, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 1984234967, 'issue_id': 2174545425, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/7c0960b1-4d46-4a34-9462-2c0d550e6079"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>33715f4d519cd0bf53da180f2968362b6b92f89f</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2340 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 19, 4, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 1985388855, 'issue_id': 2174545425, 'author': 'github-actions[bot]', 'body': '@ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 8, 9, 54, 50, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-07 18:53:43 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 08a189ca9f52dc1bc79b96d4c20232be2d77f6d6...ce0afee59e1d1bdcda009f2a5f78ef3dfe587cb5.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/lib/settings/column.js |

replay-io[bot] on (2024-03-07 19:04:34 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/7c0960b1-4d46-4a34-9462-2c0d550e6079"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>33715f4d519cd0bf53da180f2968362b6b92f89f</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2340 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-08 09:54:50 UTC): @ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2174539591,pull_request,closed,,Remove deprecated and unused `searchTypeaheadEnabled` method,"This PR removes a deprecated and unused `searchTypeaheadEnabled` method from the `MetabaseSettings` prototype.

### How to verify?
- All tests should still pass.
- Search for `search-typeahead-enabled` in all files. You should never see `MetabaseSettings.get(""search-typeahead-enabled"")` or `MetabaseSettings.searchTypeaheadEnabled()`

This setting is fetched properly (using a hook) in https://github.com/metabase/metabase/blob/master/frontend/src/metabase/nav/components/search/SearchBar/SearchBar.tsx",nemanjaglumac,2024-03-07 18:49:29+00:00,['nemanjaglumac'],2024-03-07 22:37:14+00:00,2024-03-07 22:37:01+00:00,https://github.com/metabase/metabase/pull/39797,"[('Organization/Search', ''), ('.Frontend', ''), ('Administration/Settings', ''), ('no-backport', 'Do not backport this PR to any branch'), (':broom:', 'no-brainer cleanup issues to clear out when you have an hour left until EoD or something'), ('.Team/Querying', '')]","[{'comment_id': 1984228651, 'issue_id': 2174539591, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/5c7830fa-52ea-4493-b632-4604821057a8"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>3003efa988cc5716a45f8eb735ced5657b34ea34</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>8 Flaky</b></div>\n<div>‚úÖ <b>2330 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 19, 0, 38, tzinfo=datetime.timezone.utc)}, {'comment_id': 1984672863, 'issue_id': 2174539591, 'author': 'github-actions[bot]', 'body': '@nemanjaglumac Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 7, 22, 37, 12, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-07 19:00:38 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/5c7830fa-52ea-4493-b632-4604821057a8"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>3003efa988cc5716a45f8eb735ced5657b34ea34</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>8 Flaky</b></div>
<div>‚úÖ <b>2330 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-07 22:37:12 UTC): @nemanjaglumac Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2174531902,pull_request,closed,,Fix janky db refreshing,"Closes #39732 

### Description

The problem is that when a new database is added, the tables are handled in a background process which updates the data available through `/api/database`. The Browse databases page pulls in data from that endpoint. But when the endpoint has fresh data to provide, the page goes into a loading state for a split second, causing the page to instantly scroll back up to the top, which is annoying.

This PR fixes the problem by showing the loading spinner only when there are no databases already loaded into the page.

[Loom](https://www.loom.com/share/2afbc170b42a414e8b78d5fbbd6904a3?sid=6180d129-61ce-490e-a88e-0daf69eb7224)
",rafpaf,2024-03-07 18:45:20+00:00,['rafpaf'],2024-03-14 12:41:44+00:00,2024-03-07 21:42:32+00:00,https://github.com/metabase/metabase/pull/39796,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 1984307362, 'issue_id': 2174531902, 'author': 'iethree', 'body': ""let's backport this to 49, it's a simple bugfix for a feature in 49 (milestone should be 49)"", 'created_at': datetime.datetime(2024, 3, 7, 19, 46, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 1984319903, 'issue_id': 2174531902, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/bc4a3148-4ac3-46a5-8e82-d289bf60b76c"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>165ca0b3ddf0b5b865a39168b05f176868d0cfbe</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2337 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 19, 55, 2, tzinfo=datetime.timezone.utc)}]","iethree on (2024-03-07 19:46:18 UTC): let's backport this to 49, it's a simple bugfix for a feature in 49 (milestone should be 49)

replay-io[bot] on (2024-03-07 19:55:02 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/bc4a3148-4ac3-46a5-8e82-d289bf60b76c"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>165ca0b3ddf0b5b865a39168b05f176868d0cfbe</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2337 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2174484348,pull_request,closed,,Using CSS transition and  component for QB header,"Closes https://github.com/metabase/metabase/issues/39776

### Description
Small change to migrate QB header away from `react-motion`. Essentially before you have picked a data source, we show you one header, and when you've selected one we fade the current header out and a new header in. The transition component will actually take care of unmounting the `NewQuestionHeader` if it's been removed, or not mounting it at all if it was never needed.

### How to verify

1. New question -> Sample Dataset
2. Observe the header as you select a table. You should notice a transition

### Demo
![chrome_5UnlMKR4tw](https://github.com/metabase/metabase/assets/1328979/d1efb9ab-af97-46c0-8ac7-07b7285349d1)

### Checklist
This is purely presentation. there are existing tests that cover whether or not we show ""Pick your starting data""
- [ ] ~Tests have been added/updated to cover changes in this PR~
",npfitz,2024-03-07 18:23:27+00:00,['npfitz'],2024-03-09 03:18:15+00:00,2024-03-09 03:18:14+00:00,https://github.com/metabase/metabase/pull/39794,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 1984187226, 'issue_id': 2174484348, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/f3591232-b159-4e59-98ed-377218ca5342"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>c7912d194dc01d40ae831d216b5220fa201efffc</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2350 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 18, 35, 7, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-07 18:35:07 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/f3591232-b159-4e59-98ed-377218ca5342"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>c7912d194dc01d40ae831d216b5220fa201efffc</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2350 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2174479302,pull_request,closed,,Use hiccup syntax for value-type DAG,"### Description

Introduce some sugar - it's good for you.

This change switches from low-level `derive` calls to a data-driven hiccup expression. While these data structures are not trees, if we avoid listing the children of every node whenever it is repeated, it seems like we get something quite readable.[^1]

It's arguably easier to scan the structure this way, objectively, especially when it comes to noting the ordering of the child edges.

A limitation of this representation is that we are no longer able to order the edges from each child to their parents.

[^1]: Another option would be to repeat the children exactly each time, but this could add a lot of bloat. If we're not repeating however, perhaps it's worth adding some indication that that this is a repeated node, and not a leaf.",crisptrutski,2024-03-07 18:20:45+00:00,['crisptrutski'],2024-03-19 18:16:01+00:00,2024-03-19 18:16:01+00:00,https://github.com/metabase/metabase/pull/39793,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 1984163562, 'issue_id': 2174479302, 'author': 'crisptrutski', 'body': '* **#39793** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39793?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 7, 18, 20, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 1984182934, 'issue_id': 2174479302, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/b43a65bb-a33d-44c2-b7b8-2888478911f8"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>0df109c7f67ef777ec4870725b1a03cadf761427</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>1 Failed</b></div>\n<div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2349 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 18, 32, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 1985210350, 'issue_id': 2174479302, 'author': 'piranha', 'body': ""Love the code! But I really think this ought to have a test for `make-hierarchy`, so that we can reason about what's happening (I wonder whenever generative testing can be used here haha)."", 'created_at': datetime.datetime(2024, 3, 8, 7, 51, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 1985862763, 'issue_id': 2174479302, 'author': 'crisptrutski', 'body': ""So we are using this version of the constructor in `metabase.upload/h`, which we then test in `metabase.util.ordered-hierarchy-test`[^1]. Is that not enough coverage?\n\n[^1]: Yes this is janky. The idea is to break out a `metabase.upload.types` namespace for the hierarchy and its related methods, and put these current hierarchy tests there. Then in the util's test namespace we'll create new tests that use a polygon based hierarchy defined in the test."", 'created_at': datetime.datetime(2024, 3, 8, 15, 8, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 1985916535, 'issue_id': 2174479302, 'author': 'piranha', 'body': ""I mean, yeah, we're testing that our hierarchy works, but I would love to see tests for behavior of `make-hierarchy`. I was thinking something like this maybe:\r\n\r\n```\r\n(let [coll (atom [])]\r\n  (mt/with-dynamic-redefs [derive #(swap! coll conj %&)]\r\n    (make-hierarchy ...)))\r\n```\r\n\r\nthen we'll see with our eyes what it rolls out into. If behavior ever gets more complex we'll get to see what's going on there with examples."", 'created_at': datetime.datetime(2024, 3, 8, 15, 40, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 1985947551, 'issue_id': 2174479302, 'author': 'crisptrutski', 'body': 'I\'m not sure I want an ""open box"" test like that, as the semantics are robust to quite a few reordering of the statements[^1], I prefer to only test the observable properties.\n\n[^1]: You can reorder and interleave the order of the children nodes\' derive statements, but for each child we depend on the order of the parents being defined.\n\nIt\'s a fairly easy test to write and maintain though, so if you feel strongly I\'ll go ahead.', 'created_at': datetime.datetime(2024, 3, 8, 15, 57, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 1985955749, 'issue_id': 2174479302, 'author': 'crisptrutski', 'body': 'Thinking about things a bit more, we essentially capture the entire structure of the graph in (:parents h), I could just assert that it has the right structure, coercing the parent nodes to vectors, and relying on the arbitrary order of keys in a map. I prefer that to the ""test spy"" approach, I am not a mockist üòÅ', 'created_at': datetime.datetime(2024, 3, 8, 16, 1, 34, tzinfo=datetime.timezone.utc)}, {'comment_id': 2007842860, 'issue_id': 2174479302, 'author': 'crisptrutski', 'body': 'The bulk of this has now been smuggled in through [this PR](https://github.com/metabase/metabase/pull/40275) already. It\'s a simplified version that only supports the top-down vector based DSL, and not the bottom-up map based one. We have removed any dependence on the order of child-to-parent edges in the application, so it\'s YAGNI for now.\r\n\r\nThe introduction of the polygon tests which decouple this ""library"" from the application will come in another PR.', 'created_at': datetime.datetime(2024, 3, 19, 18, 16, 1, tzinfo=datetime.timezone.utc)}]","crisptrutski (Issue Creator) on (2024-03-07 18:20:58 UTC): * **#39793** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39793?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

replay-io[bot] on (2024-03-07 18:32:28 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/b43a65bb-a33d-44c2-b7b8-2888478911f8"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>0df109c7f67ef777ec4870725b1a03cadf761427</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>1 Failed</b></div>
<div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2349 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

piranha on (2024-03-08 07:51:21 UTC): Love the code! But I really think this ought to have a test for `make-hierarchy`, so that we can reason about what's happening (I wonder whenever generative testing can be used here haha).

crisptrutski (Issue Creator) on (2024-03-08 15:08:54 UTC): So we are using this version of the constructor in `metabase.upload/h`, which we then test in `metabase.util.ordered-hierarchy-test`[^1]. Is that not enough coverage?

[^1]: Yes this is janky. The idea is to break out a `metabase.upload.types` namespace for the hierarchy and its related methods, and put these current hierarchy tests there. Then in the util's test namespace we'll create new tests that use a polygon based hierarchy defined in the test.

piranha on (2024-03-08 15:40:32 UTC): I mean, yeah, we're testing that our hierarchy works, but I would love to see tests for behavior of `make-hierarchy`. I was thinking something like this maybe:

```
(let [coll (atom [])]
  (mt/with-dynamic-redefs [derive #(swap! coll conj %&)]
    (make-hierarchy ...)))
```

then we'll see with our eyes what it rolls out into. If behavior ever gets more complex we'll get to see what's going on there with examples.

crisptrutski (Issue Creator) on (2024-03-08 15:57:28 UTC): I'm not sure I want an ""open box"" test like that, as the semantics are robust to quite a few reordering of the statements[^1], I prefer to only test the observable properties.

[^1]: You can reorder and interleave the order of the children nodes' derive statements, but for each child we depend on the order of the parents being defined.

It's a fairly easy test to write and maintain though, so if you feel strongly I'll go ahead.

crisptrutski (Issue Creator) on (2024-03-08 16:01:34 UTC): Thinking about things a bit more, we essentially capture the entire structure of the graph in (:parents h), I could just assert that it has the right structure, coercing the parent nodes to vectors, and relying on the arbitrary order of keys in a map. I prefer that to the ""test spy"" approach, I am not a mockist üòÅ

crisptrutski (Issue Creator) on (2024-03-19 18:16:01 UTC): The bulk of this has now been smuggled in through [this PR](https://github.com/metabase/metabase/pull/40275) already. It's a simplified version that only supports the top-down vector based DSL, and not the bottom-up map based one. We have removed any dependence on the order of child-to-parent edges in the application, so it's YAGNI for now.

The introduction of the polygon tests which decouple this ""library"" from the application will come in another PR.

"
2174469412,pull_request,closed,,Properly highlight models as the data source,"This PR is a combination of two already reviewed PRs.
- https://github.com/metabase/metabase/pull/39681 and
- https://github.com/metabase/metabase/pull/39686

The have been merged to a feature branch, but we decided to merge these changes into `master` in order to deliver the value to the customers.

In theory, the feature branch wasn't needed and in an ideal scenario both PRs would already be merged to `master`.

Closes #39699",nemanjaglumac,2024-03-07 18:16:22+00:00,['nemanjaglumac'],2024-03-07 18:55:39+00:00,2024-03-07 18:55:38+00:00,https://github.com/metabase/metabase/pull/39792,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 1984175440, 'issue_id': 2174469412, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/95c5c7c2-e143-4db9-8f46-4363e51f2eff"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>b07ca2afb4bce42a8df807fa98bf84e91f0fbce1</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2338 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 18, 28, 2, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-07 18:28:02 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/95c5c7c2-e143-4db9-8f46-4363e51f2eff"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>b07ca2afb4bce42a8df807fa98bf84e91f0fbce1</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2338 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2174455726,pull_request,closed,,Fix quick filter drill test name,https://github.com/metabase/metabase/pull/39162#discussion_r1516452558,ranquild,2024-03-07 18:09:05+00:00,['ranquild'],2024-03-08 12:08:06+00:00,2024-03-08 12:07:53+00:00,https://github.com/metabase/metabase/pull/39791,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 1985582218, 'issue_id': 2174455726, 'author': 'github-actions[bot]', 'body': '@ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 8, 12, 8, 5, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-08 12:08:05 UTC): @ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2174400286,pull_request,closed,,docs - add embedding step,Adds embedding step to setup flow.,jeff-bruemmer,2024-03-07 17:39:32+00:00,['jeff-bruemmer'],2024-03-11 15:45:37+00:00,2024-03-11 15:45:23+00:00,https://github.com/metabase/metabase/pull/39790,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 1988757177, 'issue_id': 2174400286, 'author': 'github-actions[bot]', 'body': '@jeff-bruemmer Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 11, 15, 45, 36, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-11 15:45:36 UTC): @jeff-bruemmer Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2174375021,pull_request,closed,,tweak default modal spacing,"Sets an updated default of ""lg"" for modal spacing.

Note something is wrong with fonts in storybook right now, so ignore that part and just concentrate on the spacing for the purposes of this PR

Old default:
![Screenshot 2024-03-07 at 12 27 57‚ÄØPM](https://github.com/metabase/metabase/assets/5248953/44949da2-60e5-4b58-b54b-12effc30b8d6)

New default:
![Screenshot 2024-03-07 at 12 27 31‚ÄØPM](https://github.com/metabase/metabase/assets/5248953/077b79b7-5f44-4bd3-adb1-e8a95b6819fa)
",kdoh,2024-03-07 17:26:53+00:00,['kdoh'],2024-03-07 19:09:13+00:00,2024-03-07 19:08:52+00:00,https://github.com/metabase/metabase/pull/39788,"[('no-backport', 'Do not backport this PR to any branch')]","[{'comment_id': 1984067669, 'issue_id': 2174375021, 'author': 'iethree', 'body': '@kdoh can you check this out with some body content? The header padding goes all the way around, so at larger padding values puts a lot of space between the header and the body content. \r\n\r\nI don\'t have a dog in this fight, I just want to make sure it\'s ""right"" from a design standpoint so I can just use it and not have to tweak it every time.\r\n\r\nexample (this is xl)\r\n\r\n![Screen Shot 2024-03-07 at 10 33 23 AM](https://github.com/metabase/metabase/assets/30528226/8eab2ccf-a660-4558-8bee-f0de95830cc8)', 'created_at': datetime.datetime(2024, 3, 7, 17, 33, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 1984100862, 'issue_id': 2174375021, 'author': 'kdoh', 'body': '@iethree. Yep good catch on the even-ness. I set it so the header accommodates for that. This looks right to my eye in terms of relation between everything. XL is overly spaced out I think. (again excuse the type being busted in storybook)\r\n\r\n![Screenshot 2024-03-07 at 12 41 01\u202fPM](https://github.com/metabase/metabase/assets/5248953/c29ed635-c37a-469b-8254-2fb56a19775b)', 'created_at': datetime.datetime(2024, 3, 7, 17, 43, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 1984171560, 'issue_id': 2174375021, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/54ca4cde-4ac0-4cf0-9bb5-f48965fe4922"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>572b03f9e6858fc09560144bd193c696fd969979</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2334 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 18, 25, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 1984242315, 'issue_id': 2174375021, 'author': 'github-actions[bot]', 'body': '@kdoh Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 7, 19, 9, 12, tzinfo=datetime.timezone.utc)}]","iethree on (2024-03-07 17:33:11 UTC): @kdoh can you check this out with some body content? The header padding goes all the way around, so at larger padding values puts a lot of space between the header and the body content. 

I don't have a dog in this fight, I just want to make sure it's ""right"" from a design standpoint so I can just use it and not have to tweak it every time.

example (this is xl)

![Screen Shot 2024-03-07 at 10 33 23 AM](https://github.com/metabase/metabase/assets/30528226/8eab2ccf-a660-4558-8bee-f0de95830cc8)

kdoh (Issue Creator) on (2024-03-07 17:43:36 UTC): @iethree. Yep good catch on the even-ness. I set it so the header accommodates for that. This looks right to my eye in terms of relation between everything. XL is overly spaced out I think. (again excuse the type being busted in storybook)

![Screenshot 2024-03-07 at 12 41 01‚ÄØPM](https://github.com/metabase/metabase/assets/5248953/c29ed635-c37a-469b-8254-2fb56a19775b)

replay-io[bot] on (2024-03-07 18:25:35 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/54ca4cde-4ac0-4cf0-9bb5-f48965fe4922"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>572b03f9e6858fc09560144bd193c696fd969979</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2334 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-07 19:09:12 UTC): @kdoh Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2174367740,pull_request,closed,,Remove react motion - Undo component,"Closes #39775 

### Description

Removes react motion usage from Undo component.

### How to verify

- Do any action that would cause an undo to appear (try archiving something)

### Demo

**before**

https://github.com/metabase/metabase/assets/7104357/dfc9d6da-a587-4ba5-98d5-b4fda4bfe915

**after**

https://github.com/metabase/metabase/assets/7104357/be6a836d-69c9-43c3-8f80-8f70c233c668

### Checklist

~- [ ] Tests have been added/updated to cover changes in this PR~
Cosmetic, not much to test here.
",sloansparger,2024-03-07 17:22:23+00:00,['sloansparger'],2024-03-08 15:38:48+00:00,2024-03-08 15:38:48+00:00,https://github.com/metabase/metabase/pull/39787,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 1984071446, 'issue_id': 2174367740, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/e18f6154-bdba-492a-999b-c4b575fc1d89"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>d78a39fe1b84bac4c626b57c99dcda1f66ebd4a3</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2336 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 17, 34, 15, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-07 17:34:15 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/e18f6154-bdba-492a-999b-c4b575fc1d89"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>d78a39fe1b84bac4c626b57c99dcda1f66ebd4a3</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2336 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2174345386,pull_request,closed,,Remove `user-locale` from settings,"`user-locale` doesn't exist anymore in settings.
You can easily verify that by greping the code base for `defsetting user-locale` or simply by observing the `GET /api/session/properties` response.",nemanjaglumac,2024-03-07 17:10:00+00:00,['nemanjaglumac'],2024-03-07 19:52:54+00:00,2024-03-07 19:52:37+00:00,https://github.com/metabase/metabase/pull/39786,"[('Type:Tech Debt', 'or Refactoring'), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 1984048332, 'issue_id': 2174345386, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/e2379189-3bcd-455e-9e88-9fdb999eb5e2"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>154f335ac9ccb31522d4f043fe7918dfe5a657c1</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚úÖ <b>2337 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 17, 21, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 1984173370, 'issue_id': 2174345386, 'author': 'nemanjaglumac', 'body': '> Should we also change src/metabase/util/i18n.clj? I see references there to ""user-locale"".\r\n\r\nThanks for the review, @rafpaf \r\nI believe we don\'t have to touch that file, but I will double check with @metabase/backend-developers and will follow-up if needed.\r\n\r\nEdit:\r\nMy best guess why we still have the fallback mechanism here is the backwards compatibility.', 'created_at': datetime.datetime(2024, 3, 7, 18, 26, 45, tzinfo=datetime.timezone.utc)}, {'comment_id': 1984316567, 'issue_id': 2174345386, 'author': 'github-actions[bot]', 'body': '@nemanjaglumac Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 7, 19, 52, 52, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-07 17:21:54 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/e2379189-3bcd-455e-9e88-9fdb999eb5e2"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>154f335ac9ccb31522d4f043fe7918dfe5a657c1</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚úÖ <b>2337 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

nemanjaglumac (Issue Creator) on (2024-03-07 18:26:45 UTC): Thanks for the review, @rafpaf 
I believe we don't have to touch that file, but I will double check with @metabase/backend-developers and will follow-up if needed.

Edit:
My best guess why we still have the fallback mechanism here is the backwards compatibility.

github-actions[bot] on (2024-03-07 19:52:52 UTC): @nemanjaglumac Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2174337139,pull_request,closed,,Fix the `dismissed-custom-dashboard-toast` setting case,"This setting key is defined using kebab-case.
Not sure how it worked (if it worked) using the snake_case?",nemanjaglumac,2024-03-07 17:05:04+00:00,['nemanjaglumac'],2024-03-07 20:09:00+00:00,2024-03-07 20:08:46+00:00,https://github.com/metabase/metabase/pull/39785,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 1984020047, 'issue_id': 2174337139, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff bbe3f1a3546b3575f09ed56be6dcb0fdaac9984f...284efd803d53f393b81315671ec6cee36db2bd47.\n\n| Notify | File(s) |\n|-|-|\n| @ranquild | frontend/src/metabase/home/components/CustomHomePageModal/CustomHomePageModal.tsx |', 'created_at': datetime.datetime(2024, 3, 7, 17, 6, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 1984038522, 'issue_id': 2174337139, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/477e9b93-c3d4-4a2e-b3c0-5a15735348be"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>284efd803d53f393b81315671ec6cee36db2bd47</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>6 Flaky</b></div>\n<div>‚úÖ <b>2332 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 17, 16, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 1984340318, 'issue_id': 2174337139, 'author': 'github-actions[bot]', 'body': '@nemanjaglumac Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 7, 20, 8, 59, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-07 17:06:10 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff bbe3f1a3546b3575f09ed56be6dcb0fdaac9984f...284efd803d53f393b81315671ec6cee36db2bd47.

| Notify | File(s) |
|-|-|
| @ranquild | frontend/src/metabase/home/components/CustomHomePageModal/CustomHomePageModal.tsx |

replay-io[bot] on (2024-03-07 17:16:43 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/477e9b93-c3d4-4a2e-b3c0-5a15735348be"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>284efd803d53f393b81315671ec6cee36db2bd47</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>6 Flaky</b></div>
<div>‚úÖ <b>2332 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-07 20:08:59 UTC): @nemanjaglumac Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2174300458,pull_request,closed,,"ü§ñ backported ""Make tabs e2e test stable again""",#39762,metabase-bot[bot],2024-03-07 16:44:50+00:00,['uladzimirdev'],2024-03-07 17:17:30+00:00,2024-03-07 17:17:29+00:00,https://github.com/metabase/metabase/pull/39784,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1984001292, 'issue_id': 2174300458, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/f27ff682-3daa-482a-9ee3-ba04e5d91edf"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>2a3a2ec7954af4db048beee56e9546709a85a02e</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2327 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 16, 56, 18, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-07 16:56:18 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/f27ff682-3daa-482a-9ee3-ba04e5d91edf"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>2a3a2ec7954af4db048beee56e9546709a85a02e</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2327 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2174297605,pull_request,closed,,Fixes tabs cy spec flake,"### Description

We cancel cards requests when switching to other tabs if they haven't been loaded. The spec has been updated to wait until cards data is loaded (visible) before changing tabs.

### How to verify

To reproduce the flake on powerful machines put `cy.pause()` on line 411. Once it gets there, enable throttling Fast 3G and resume the spec. It should not flake
",alxnddr,2024-03-07 16:43:19+00:00,['alxnddr'],2024-03-07 20:15:59+00:00,2024-03-07 20:15:55+00:00,https://github.com/metabase/metabase/pull/39783,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 1983998247, 'issue_id': 2174297605, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/55e88872-4918-41f2-946e-74f0524ed65e"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>c963aea17017d5023f8b4e0c08515aa75e6c0ef8</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>6 Flaky</b></div>\n<div>‚úÖ <b>2330 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 16, 54, 40, tzinfo=datetime.timezone.utc)}, {'comment_id': 1984350026, 'issue_id': 2174297605, 'author': 'alxnddr', 'body': 'There is a race condition has to be fixed on the initial dashboard opening', 'created_at': datetime.datetime(2024, 3, 7, 20, 15, 55, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-07 16:54:40 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/55e88872-4918-41f2-946e-74f0524ed65e"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>c963aea17017d5023f8b4e0c08515aa75e6c0ef8</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>6 Flaky</b></div>
<div>‚úÖ <b>2330 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

alxnddr (Issue Creator) on (2024-03-07 20:15:55 UTC): There is a race condition has to be fixed on the initial dashboard opening

"
2174227532,pull_request,closed,,"Fix order of actions in question, dashboard and collection item menus","Followup on #39755

Desired order from an internal thread: https://metaboat.slack.com/archives/C02H619CJ8K/p1709817314095929

**Pinned collection item**

- unpin
- bookmark
- move
- duplicate
- archive

**Unpinned collection item**

- bookmark
- pin
- move
- duplicate
- archive

**Dashboards**

- enter full screen
- export as pdf
- move
- duplicate
- usage insights
- archive

**Questions**

- add to dashboard
- move
- duplicate
- turn into model
- usage insights
- archive

### Demos

![dashboard-after](https://github.com/metabase/metabase/assets/17258145/d4796a2d-3c83-4bd0-9b88-849407e8b4b8)

![question-after](https://github.com/metabase/metabase/assets/17258145/b6605e71-6b99-401d-9279-0520ea9d1ede)

![CleanShot 2024-03-07 at 16 12 43@2x](https://github.com/metabase/metabase/assets/17258145/51e5f692-6cad-4056-864e-7b5a58ded2d9)

![CleanShot 2024-03-07 at 16 12 34@2x](https://github.com/metabase/metabase/assets/17258145/aec77015-2ade-4714-8546-4a569b95e9c7)
",kulyk,2024-03-07 16:13:25+00:00,['kulyk'],2024-03-07 20:17:58+00:00,2024-03-07 20:17:44+00:00,https://github.com/metabase/metabase/pull/39782,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 1983919978, 'issue_id': 2174227532, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/7793e6a5-7408-495f-a4d7-2852126dc9f7"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>2a28af620634390b29bb84360fb4c8bcae183bec</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>1 Failed</b></div>\n<div>‚ö†Ô∏è <b>5 Flaky</b></div>\n<div>‚úÖ <b>2332 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 16, 25, 30, tzinfo=datetime.timezone.utc)}, {'comment_id': 1984352778, 'issue_id': 2174227532, 'author': 'github-actions[bot]', 'body': '@kulyk Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 7, 20, 17, 56, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-07 16:25:30 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/7793e6a5-7408-495f-a4d7-2852126dc9f7"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>2a28af620634390b29bb84360fb4c8bcae183bec</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>1 Failed</b></div>
<div>‚ö†Ô∏è <b>5 Flaky</b></div>
<div>‚úÖ <b>2332 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-07 20:17:56 UTC): @kulyk Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2174220458,pull_request,closed,,"ü§ñ backported ""using CSS animations for notebook previews""",#39717,metabase-bot[bot],2024-03-07 16:09:44+00:00,['npfitz'],2024-03-08 14:31:45+00:00,2024-03-08 14:31:44+00:00,https://github.com/metabase/metabase/pull/39781,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1985765408, 'issue_id': 2174220458, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/e18860bf-1c2e-4495-89e9-18098f5350ff"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>da083f2976893f9e97cffc1a7c5fbf6c605e1835</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2328 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 8, 14, 11, 11, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-08 14:11:11 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/e18860bf-1c2e-4495-89e9-18098f5350ff"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>da083f2976893f9e97cffc1a7c5fbf6c605e1835</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2328 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2174210609,pull_request,closed,,Disclosure triangle and Fullpage modal transitions,"Closes https://github.com/metabase/metabase/issues/39764
Closes https://github.com/metabase/metabase/issues/39772

### Description
Grouping a couple of these because they're both quite small. Adjusting the `<DisclosureTriangle />` to be powered by CSS animations, and the `<FullPageModal/>` to use mantine transitions. Both are simple adjustments that remove the need for the `react-motion` package. The only change that may require a look is how the opened state is now handled in FullPageModal. We need to mount the `Transition` component with the ""out"" styles before changing them if we want them to animate in. Because of how the modals are mounted and unmounted, this is handled by setting the state to false in the constructor, then setting it to true in `componentDidMount`

### How to verify
Disclosure Triangles can be found in the JWT, SAML, and LDAP auth forms.
The only instance of a full page modal being used that I could find was creating alerts for Questions (in the future, this could probably be migrated to a Mantine modal with fullPage set to true)

### Demo
Fullpage Modal:
![chrome_DcgbwIJKRa](https://github.com/metabase/metabase/assets/1328979/153daf5a-22ee-4c9c-b1d5-57bbc65cc253)

Disclosure Triangle:
![chrome_RTTPFMwMQS](https://github.com/metabase/metabase/assets/1328979/2d6314b2-b247-4e8c-9151-4f5bb8f11d15)



### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",npfitz,2024-03-07 16:04:44+00:00,['npfitz'],2024-03-08 04:09:41+00:00,2024-03-08 04:09:40+00:00,https://github.com/metabase/metabase/pull/39780,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 1983879150, 'issue_id': 2174210609, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/918aa45d-aff9-4ac8-8951-5ba654876f91"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>d86f57a396d229d58925af890c4a68eafb6a7114</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2337 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 16, 16, 15, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-07 16:16:15 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/918aa45d-aff9-4ac8-8951-5ba654876f91"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>d86f57a396d229d58925af890c4a68eafb6a7114</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2337 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2174180012,pull_request,closed,,Detect the use of unsupported features in the expression editor,"Closes https://github.com/metabase/metabase/issues/39773

### Description

This adds an extra check to the diagnostics to make sure a functions is supported by the database in the custom expression editor.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question ‚Üí Sample Dataset ‚Üí Orders (or any database that does not support `percentile-aggregations`)
2. Click ""Pick the metric you want to see"" ‚Üí Custom Expression
3. In the expression editor, type `percentile([Discount], 0.9)`
4. Tab out of the expression editor text field
5. An error should show up: `Unsupported function percentile`

### Demo

<img width=""514"" alt=""Screenshot 2024-03-07 at 16 49 50"" src=""https://github.com/metabase/metabase/assets/1250185/38023375-4ab9-455e-bc0c-16dda51c0dd5"">

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",romeovs,2024-03-07 15:51:01+00:00,['romeovs'],2024-03-12 11:20:40+00:00,2024-03-12 11:20:40+00:00,https://github.com/metabase/metabase/pull/39778,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 1983838598, 'issue_id': 2174180012, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/925a13a2-f75b-4041-92dc-0540866561f6"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>131d0f3c3ba8ca6db6efadb647c0f5d892281aae</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2356 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 16, 2, 41, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-07 16:02:41 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/925a13a2-f75b-4041-92dc-0540866561f6"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>131d0f3c3ba8ca6db6efadb647c0f5d892281aae</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2356 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2174177043,pull_request,closed,,"ü§ñ backported ""Remove react-motion - Bulk Actions""","  #39729
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",metabase-bot[bot],2024-03-07 15:49:31+00:00,['npfitz'],2024-03-08 13:54:04+00:00,2024-03-08 13:54:03+00:00,https://github.com/metabase/metabase/pull/39777,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1985050479, 'issue_id': 2174177043, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 4e7c5aa8ca7f521ea12663bf2b371123f098cd66...f270028e0b1c4620b0e8bebaf42ef18d66cc4c9f.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/utils/Transition/index.ts<br>frontend/src/metabase/ui/components/utils/index.ts |', 'created_at': datetime.datetime(2024, 3, 8, 5, 12, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 1985057614, 'issue_id': 2174177043, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/c84578bb-b25d-40be-86ef-e8c861f642b9"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>f270028e0b1c4620b0e8bebaf42ef18d66cc4c9f</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2329 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 8, 5, 22, 7, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-08 05:12:04 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 4e7c5aa8ca7f521ea12663bf2b371123f098cd66...f270028e0b1c4620b0e8bebaf42ef18d66cc4c9f.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/utils/Transition/index.ts<br>frontend/src/metabase/ui/components/utils/index.ts |

replay-io[bot] on (2024-03-08 05:22:07 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/c84578bb-b25d-40be-86ef-e8c861f642b9"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>f270028e0b1c4620b0e8bebaf42ef18d66cc4c9f</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2329 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2174093990,pull_request,closed,,"ü§ñ backported ""Fix invisible chart legend dots when printing""",#39752,metabase-bot[bot],2024-03-07 15:12:11+00:00,['kulyk'],2024-03-07 15:44:52+00:00,2024-03-07 15:44:51+00:00,https://github.com/metabase/metabase/pull/39774,"[('visual', 'Run Percy visual testing'), ('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1983725336, 'issue_id': 2174093990, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 3b4cc24d89d694aab0f633b0986a9b9fae3650a6...5ac0da4d2f517b4b707c223af36197bcdd962958.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/legend/LegendItem.styled.tsx |', 'created_at': datetime.datetime(2024, 3, 7, 15, 13, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 1983749205, 'issue_id': 2174093990, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/b260005d-b19d-435d-8c81-cea3c48103ea"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>5ac0da4d2f517b4b707c223af36197bcdd962958</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2328 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 15, 24, 12, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-07 15:13:23 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 3b4cc24d89d694aab0f633b0986a9b9fae3650a6...5ac0da4d2f517b4b707c223af36197bcdd962958.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/legend/LegendItem.styled.tsx |

replay-io[bot] on (2024-03-07 15:24:12 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/b260005d-b19d-435d-8c81-cea3c48103ea"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>5ac0da4d2f517b4b707c223af36197bcdd962958</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2328 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2174058545,pull_request,closed,,Extract column e2e,"Epic https://github.com/metabase/metabase/pull/39162
Testing plan https://github.com/metabase/metabase/issues/39291

Checks:
- Each option type (unit)
- Breakout and aggregation columns
- Editing the generated expression in the notebook editor
- Duplicate column names
- Using localized values for temporal units

Doesn't check:
- Column is appended to the right - that's not the case now
- Different viz settings for each option - that's not the case now and I'm not sure if everything from the testing plan is correct about this",ranquild,2024-03-07 14:56:48+00:00,['ranquild'],2024-03-08 13:14:00+00:00,2024-03-08 13:13:45+00:00,https://github.com/metabase/metabase/pull/39770,"[('visual', 'Run Percy visual testing'), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 1983686364, 'issue_id': 2174058545, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 08a189ca9f52dc1bc79b96d4c20232be2d77f6d6...8a87cd859160c60bd6cfb74c13a93501f4f75ba3.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/TableInteractive/TableInteractive.jsx |', 'created_at': datetime.datetime(2024, 3, 7, 14, 57, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 1983719152, 'issue_id': 2174058545, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/57ede7b6-df2a-4ca4-b910-41bbc30ccb88"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>8a87cd859160c60bd6cfb74c13a93501f4f75ba3</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2348 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 15, 10, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 1985577908, 'issue_id': 2174058545, 'author': 'ranquild', 'body': '@nemanjaglumac for the record, this is not how ""intercept"" in cypress works. The problem arises when you have multiple intercepts for the same url:\r\n```\r\ncy.intercept(""POST"", ""/api/dataset"").as(""dataset"");\r\nopenOrdersTable(); // calls intercept for the same URL but different alias\r\n// ... some action\r\ncy.wait(""@dataset""); // <-- this call would wait for the /api/dataset request made by `openOrdersTable` and will return immediately\r\n```\r\n\r\nWe can solve this issue by using `intercept` closer to the action, and using unique aliases.', 'created_at': datetime.datetime(2024, 3, 8, 12, 4, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 1985675832, 'issue_id': 2174058545, 'author': 'github-actions[bot]', 'body': '@ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 8, 13, 13, 59, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-07 14:57:49 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 08a189ca9f52dc1bc79b96d4c20232be2d77f6d6...8a87cd859160c60bd6cfb74c13a93501f4f75ba3.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/TableInteractive/TableInteractive.jsx |

replay-io[bot] on (2024-03-07 15:10:31 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/57ede7b6-df2a-4ca4-b910-41bbc30ccb88"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>8a87cd859160c60bd6cfb74c13a93501f4f75ba3</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2348 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

ranquild (Issue Creator) on (2024-03-08 12:04:56 UTC): @nemanjaglumac for the record, this is not how ""intercept"" in cypress works. The problem arises when you have multiple intercepts for the same url:
```
cy.intercept(""POST"", ""/api/dataset"").as(""dataset"");
openOrdersTable(); // calls intercept for the same URL but different alias
// ... some action
cy.wait(""@dataset""); // <-- this call would wait for the /api/dataset request made by `openOrdersTable` and will return immediately
```

We can solve this issue by using `intercept` closer to the action, and using unique aliases.

github-actions[bot] on (2024-03-08 13:13:59 UTC): @ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2174039959,pull_request,closed,,Only return helpText for supported features,"Closes https://github.com/metabase/metabase/issues/35156

### Description

Avoid showing help text for unsupported functions.

### How to verify

1. New question ‚Üí Mariadb
2. Select a table
3. Add a custom expression filter
4. In the textbox type: `percentile(`
5. No help text should show

Doing the same for a Postgres database, should show the help text because it supports percentiles.

### Demo

<img width=""573"" alt=""Screenshot 2024-03-07 at 15 48 04"" src=""https://github.com/metabase/metabase/assets/1250185/dd6af033-63b7-4212-8fd3-73be9d2b7f99"">

- [x] Tests have been added/updated to cover changes in this PR
",romeovs,2024-03-07 14:48:37+00:00,['romeovs'],2024-03-14 12:46:02+00:00,2024-03-08 09:08:02+00:00,https://github.com/metabase/metabase/pull/39766,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 1983692030, 'issue_id': 2174039959, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/fba8a7e9-e70c-4daf-b778-639f1e1a1da5"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>ad754ab26eab1954243361ef025c8f2842332890</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>1 Failed</b></div>\n<div>‚ö†Ô∏è <b>5 Flaky</b></div>\n<div>‚úÖ <b>2332 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 15, 0, 27, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-07 15:00:27 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/fba8a7e9-e70c-4daf-b778-639f1e1a1da5"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>ad754ab26eab1954243361ef025c8f2842332890</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>1 Failed</b></div>
<div>‚ö†Ô∏è <b>5 Flaky</b></div>
<div>‚úÖ <b>2332 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2174027835,pull_request,closed,,"ü§ñ backported ""Fix unresponsive dashboard header button""",#39757,metabase-bot[bot],2024-03-07 14:42:57+00:00,['kulyk'],2024-03-07 16:03:07+00:00,2024-03-07 16:03:06+00:00,https://github.com/metabase/metabase/pull/39765,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1983678703, 'issue_id': 2174027835, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/67e4a600-670a-4ab5-9a4f-ad95ee2403eb"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>8383792b5ddb6cb8cc5ed01f5f4d16b1b005d3b8</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚úÖ <b>2307 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 14, 54, 25, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-07 14:54:25 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/67e4a600-670a-4ab5-9a4f-ad95ee2403eb"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>8383792b5ddb6cb8cc5ed01f5f4d16b1b005d3b8</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚úÖ <b>2307 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2174004867,pull_request,closed,,Repro #35711 - Models broken with custom fields,"Closes #35711

Stress test: https://github.com/metabase/metabase/actions/runs/8190677780",kamilmielnik,2024-03-07 14:32:32+00:00,['kamilmielnik'],2024-03-11 06:35:24+00:00,2024-03-11 06:35:23+00:00,https://github.com/metabase/metabase/pull/39763,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 1983670291, 'issue_id': 2174004867, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/6b13ac97-855b-4c3d-8a0f-71e910bce1f9"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>0780cf98b4bbd7b39df242f8a003b83588d4d80b</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2336 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 14, 50, 34, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-07 14:50:34 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/6b13ac97-855b-4c3d-8a0f-71e910bce1f9"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>0780cf98b4bbd7b39df242f8a003b83588d4d80b</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2336 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2173998819,pull_request,closed,,Make tabs e2e test stable again,"### Description

Fixes test flakiness as we could have 2 requests to `/query` (first canceled, second is actual) depends on the network speed

### How to verify

run it locally 

[stress test](https://github.com/metabase/metabase/actions/runs/8191547958)
",uladzimirdev,2024-03-07 14:29:54+00:00,['uladzimirdev'],2024-03-07 17:02:57+00:00,2024-03-07 16:44:05+00:00,https://github.com/metabase/metabase/pull/39762,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 1983652173, 'issue_id': 2173998819, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/29d059e0-96f3-438a-961e-585f923e0cb8"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>bb4e8b2ba24fd18698347c4f7fbeea68f2ea8530</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>7 Flaky</b></div>\n<div>‚úÖ <b>2331 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 14, 42, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 1983976160, 'issue_id': 2173998819, 'author': 'github-actions[bot]', 'body': '@uladzimirdev Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 7, 16, 44, 17, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-07 14:42:13 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/29d059e0-96f3-438a-961e-585f923e0cb8"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>bb4e8b2ba24fd18698347c4f7fbeea68f2ea8530</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>7 Flaky</b></div>
<div>‚úÖ <b>2331 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-07 16:44:17 UTC): @uladzimirdev Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2173984069,pull_request,closed,,"ü§ñ backported ""Disable animation on NewItemMenu""",#39712,metabase-bot[bot],2024-03-07 14:23:03+00:00,['iethree'],2024-03-07 14:55:15+00:00,2024-03-07 14:55:09+00:00,https://github.com/metabase/metabase/pull/39761,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1983635676, 'issue_id': 2173984069, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/6a88dc44-045f-402e-9ec7-f8fe6584bbf6"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>c7f16c31235031f2b0c42e717b5a23990db3e87b</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2329 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 14, 34, 35, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-07 14:34:35 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/6a88dc44-045f-402e-9ec7-f8fe6584bbf6"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>c7f16c31235031f2b0c42e717b5a23990db3e87b</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2329 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2173956259,pull_request,closed,,"ü§ñ backported ""Show ""Bookmark"" before ""Archive"" in entity menus""",#39755,metabase-bot[bot],2024-03-07 14:10:26+00:00,['kulyk'],2024-03-07 14:58:28+00:00,2024-03-07 14:58:27+00:00,https://github.com/metabase/metabase/pull/39759,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1983609621, 'issue_id': 2173956259, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/3a26efc8-82e8-4b27-abd3-6eed79a27534"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>891a7fd114c6addcf2e3f9920601b37cc491f8ae</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>10 Flaky</b></div>\n<div>‚úÖ <b>2319 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 14, 22, 14, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-07 14:22:14 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/3a26efc8-82e8-4b27-abd3-6eed79a27534"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>891a7fd114c6addcf2e3f9920601b37cc491f8ae</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>10 Flaky</b></div>
<div>‚úÖ <b>2319 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2173925969,pull_request,closed,,Fix unresponsive dashboard header button,Repeats #39712 for dashboard header's menu button. Could be annoying to wait for some queries to load when you just wanted to Move or Archive a dashboard,kulyk,2024-03-07 13:55:53+00:00,['kulyk'],2024-03-07 14:42:31+00:00,2024-03-07 14:42:18+00:00,https://github.com/metabase/metabase/pull/39757,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 1983580199, 'issue_id': 2173925969, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/75fd9aae-e79a-4436-ac4f-ec4b28d1dec5"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>bdff6c0f1b9448c6a2a97f630a2628e54b93addb</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>1 Failed</b></div>\n<div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2333 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 14, 7, 29, tzinfo=datetime.timezone.utc)}, {'comment_id': 1983652773, 'issue_id': 2173925969, 'author': 'github-actions[bot]', 'body': '@kulyk Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 7, 14, 42, 30, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-07 14:07:29 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/75fd9aae-e79a-4436-ac4f-ec4b28d1dec5"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>bdff6c0f1b9448c6a2a97f630a2628e54b93addb</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>1 Failed</b></div>
<div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2333 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-07 14:42:30 UTC): @kulyk Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2173877122,pull_request,closed,,"Show ""Bookmark"" before ""Archive"" in entity menus","**Before**
![CleanShot 2024-03-07 at 13 30 46@2x](https://github.com/metabase/metabase/assets/17258145/ad90b1bd-8df9-4872-8001-888e64a38619)

**After**
![CleanShot 2024-03-07 at 13 31 50@2x](https://github.com/metabase/metabase/assets/17258145/94486281-97cf-4166-b4e1-dbb628f840a4)
",kulyk,2024-03-07 13:32:33+00:00,['kulyk'],2024-03-07 14:10:02+00:00,2024-03-07 14:09:47+00:00,https://github.com/metabase/metabase/pull/39755,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 1983536423, 'issue_id': 2173877122, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/8c64341d-4685-499d-bee3-15d50a1e2fb6"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>1f4045bca92d6dd170b2d896482affa41cef10c7</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2334 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 13, 43, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 1983584900, 'issue_id': 2173877122, 'author': 'github-actions[bot]', 'body': '@kulyk Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 7, 14, 10, 1, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-07 13:43:39 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/8c64341d-4685-499d-bee3-15d50a1e2fb6"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>1f4045bca92d6dd170b2d896482affa41cef10c7</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2334 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-07 14:10:01 UTC): @kulyk Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2173740244,pull_request,closed,,"ü§ñ backported ""Cache `fromLegacyQuery` calls""",#39682,metabase-bot[bot],2024-03-07 12:21:39+00:00,['ranquild'],2024-03-07 12:56:52+00:00,2024-03-07 12:56:51+00:00,https://github.com/metabase/metabase/pull/39753,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1983416443, 'issue_id': 2173740244, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/16f29b17-3566-41c4-8897-f8ee6192bdf7"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>22536bc56762475117d90ae41057422f887481a6</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2327 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 12, 33, 49, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-07 12:33:49 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/16f29b17-3566-41c4-8897-f8ee6192bdf7"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>22536bc56762475117d90ae41057422f887481a6</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2327 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2173701157,pull_request,closed,,Fix invisible chart legend dots when printing,"Fixes #6963

### To verify

1. Open a dashboard with a chart that has a legend
2. Press `CMD + P` to print
3. Ensure you can see legend dots in the final PDF

### Demo

**Before**
![CleanShot 2024-03-07 at 11 58 55@2x](https://github.com/metabase/metabase/assets/17258145/960a4805-bdaa-4d49-bca5-8760ab85be6d)

**After**
![CleanShot 2024-03-07 at 11 59 35@2x](https://github.com/metabase/metabase/assets/17258145/19f5097f-dc03-4f2f-9e4d-c21a136444e5)
",kulyk,2024-03-07 12:00:05+00:00,['kulyk'],2024-03-07 15:10:36+00:00,2024-03-07 15:10:23+00:00,https://github.com/metabase/metabase/pull/39752,"[('backport', 'Automatically create PR on current release branch on merge'), ('visual', 'Run Percy visual testing'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 1983364204, 'issue_id': 2173701157, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff cd1cad550ca5fe35b501da7a4eac6127b680d7d3...7865e9d4eddbcef38d8f78b3e9bb1868482fc2e3.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/legend/LegendItem.styled.tsx |', 'created_at': datetime.datetime(2024, 3, 7, 12, 1, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 1983381442, 'issue_id': 2173701157, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/8dff5daf-f609-4d33-b336-593cd8385097"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>7865e9d4eddbcef38d8f78b3e9bb1868482fc2e3</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2334 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 12, 11, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 1983719349, 'issue_id': 2173701157, 'author': 'github-actions[bot]', 'body': '@kulyk Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 7, 15, 10, 35, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-07 12:01:13 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff cd1cad550ca5fe35b501da7a4eac6127b680d7d3...7865e9d4eddbcef38d8f78b3e9bb1868482fc2e3.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/legend/LegendItem.styled.tsx |

replay-io[bot] on (2024-03-07 12:11:49 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/8dff5daf-f609-4d33-b336-593cd8385097"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>7865e9d4eddbcef38d8f78b3e9bb1868482fc2e3</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2334 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-07 15:10:35 UTC): @kulyk Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2173651304,pull_request,closed,,Try swc again,"> [!IMPORTANT]
> If you are merging into master, please add either a `backport` or a `no-backport` label to this PR. You will not be able to merge until you do this step. Refer to the section [Do I need to backport this PR?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#89f80d6f17714a0198aeb66c0efd1b71) in the Metabase Branching Strategy document for more details.

> **Warning**
>
> If that is your first contribution to Metabase, please sign the [Contributor License Agreement](https://docs.google.com/a/metabase.com/forms/d/1oV38o7b9ONFSwuzwmERRMi9SYrhYeOrkbmNaq9pOJ_E/viewform) (unless it's a tiny documentation change). Also, if you're attempting to fix a translation issue, please submit your changes to our [POEditor project](https://poeditor.com/join/project/ynjQmwSsGh) instead of opening a PR.

Closes https://github.com/metabase/metabase/issues/[issue_number]

### Description

Describe the overall approach and the problem being solved.

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> ...
2. ...

### Demo

_Upload a demo video or before/after screenshots if sensible or remove the section_

### Checklist

- [ ] Tests have been added/updated to cover changes in this PR
",uladzimirdev,2024-03-07 11:33:58+00:00,['uladzimirdev'],2024-03-07 20:49:14+00:00,2024-03-07 20:49:11+00:00,https://github.com/metabase/metabase/pull/39751,"[('.Team/Querying', '')]","[{'comment_id': 1983426397, 'issue_id': 2173651304, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/7d9a52ed-455d-46af-8470-75574fff1005"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 50 / 52</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>a9c7da270a9ba0a0c288cf7369beee41d5ad5112</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>1564 Failed</b></div>\n<div>‚úÖ <b>298 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 12, 40, 7, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-07 12:40:07 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/7d9a52ed-455d-46af-8470-75574fff1005"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 50 / 52</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>a9c7da270a9ba0a0c288cf7369beee41d5ad5112</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>1564 Failed</b></div>
<div>‚úÖ <b>298 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2173567729,pull_request,closed,,"ü§ñ backported ""Do not create questions for dashcards with permission errors""",#39688,metabase-bot[bot],2024-03-07 10:49:54+00:00,['ranquild'],2024-03-07 11:39:42+00:00,2024-03-07 11:39:41+00:00,https://github.com/metabase/metabase/pull/39748,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1983268278, 'issue_id': 2173567729, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/94d35738-3dcb-4acc-91d5-160b1b609022"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>083057c6db3d591d5f21f629692b4697bbd3632d</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>12 Flaky</b></div>\n<div>‚úÖ <b>2318 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 11, 1, 20, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-07 11:01:20 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/94d35738-3dcb-4acc-91d5-160b1b609022"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>083057c6db3d591d5f21f629692b4697bbd3632d</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>12 Flaky</b></div>
<div>‚úÖ <b>2318 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2173565661,pull_request,closed,,"ü§ñ backported ""Cache can-run""",#39695,metabase-bot[bot],2024-03-07 10:48:46+00:00,['ranquild'],2024-03-07 11:36:08+00:00,2024-03-07 11:36:07+00:00,https://github.com/metabase/metabase/pull/39747,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1983266517, 'issue_id': 2173565661, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/6fb307c5-b1a4-47e3-a590-af0f2124c479"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>e38fc9b48ffe00656c4cb850c2c45b4d7a0aa445</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2320 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 11, 0, 15, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-07 11:00:15 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/6fb307c5-b1a4-47e3-a590-af0f2124c479"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>e38fc9b48ffe00656c4cb850c2c45b4d7a0aa445</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2320 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2173423919,pull_request,closed,,Column info fixes,"### Description

Adds some small fixes for the #39296 PR.


### How to verify

1. New Question ‚Üí Sample Dataset
2. Hover the info icons on the tables and verify that the loading spinner only shows up when there is something to be loaded
3. Select People
4. Add an aggregation: Birth Date: Quarter of Year
5. Add another aggregation and hover the `Birth Date: Quarter of Year` item, the icon should not be overlapping the rest of the text

### Demo

<img width=""672"" alt=""Screenshot 2024-03-07 at 10 41 58"" src=""https://github.com/metabase/metabase/assets/1250185/a011fab4-0166-48de-ac28-f359ac482c21"">
",romeovs,2024-03-07 09:42:34+00:00,['romeovs'],2024-03-07 15:52:10+00:00,2024-03-07 15:52:09+00:00,https://github.com/metabase/metabase/pull/39746,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 1983138599, 'issue_id': 2173423919, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/2a306242-b9b8-4848-a3e9-f127369496b6"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>471be14c71947c2f14c1c7028fb58c48109cb499</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2337 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 9, 54, 9, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-07 09:54:09 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/2a306242-b9b8-4848-a3e9-f127369496b6"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>471be14c71947c2f14c1c7028fb58c48109cb499</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2337 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2173090030,pull_request,closed,,"ü§ñ backported ""Repro #39508 - Query builder silently fails on duplicate custom column names""",#39692,metabase-bot[bot],2024-03-07 06:50:48+00:00,['kamilmielnik'],2024-03-07 07:14:11+00:00,2024-03-07 07:14:10+00:00,https://github.com/metabase/metabase/pull/39745,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2172689064,pull_request,closed,,Optimize upload type inference,"Closes https://github.com/metabase/metabase/issues/38958

### Description

This change signifantly optimizes how we infer the types of the columns in a CSV upload.

Without this change we relied on sampling the rows of large files to infer the schema, and after removing the sampling we would now spin for a while before throwing a stack overflow.

With this change the reference file from the Slack conversation gets inferred almost instantly.

There are two small tricks:

- Strict evaluation at every step, to avoid building a huge call stack.
- Skip types we've ruled out already, i.e. start from the current type.

Since I'd already started using this optimization for the append flow, this unifies the code nicely.

If we want to eek out a bit more performance here, we could make a `u/mapv-all` function using a vector transient, but even `clojure.core/mapv` uses laziness for more than 1 collection.

### How to verify

1. Upload the CSV file for which we incorrectly inferred the and int column as float before.
2. It loads quickly, and the column has type float, with uncoerced values.
",crisptrutski,2024-03-07 00:34:57+00:00,['crisptrutski'],2024-03-07 23:52:32+00:00,2024-03-07 21:40:50+00:00,https://github.com/metabase/metabase/pull/39741,"[('.Team/Workflows', 'aka BEC')]","[{'comment_id': 1982124032, 'issue_id': 2172689064, 'author': 'crisptrutski', 'body': '> [!WARNING]\n> <b>This pull request is not mergeable via GitHub because a downstack PR is open. Once all requirements are satisfied, merge this PR as a stack <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39741?utm_source=stack-comment-downstack-mergeability-warning"" >on Graphite</a>.</b>\n> <a href=""https://graphite.dev/docs/merge-pull-requests"">Learn more</a>\n\n* **#39741** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39741?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* **#39493** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39493?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 4 other dependent PRs ([#39706](https://github.com/metabase/metabase/pull/39706) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39706?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#39724](https://github.com/metabase/metabase/pull/39724) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39724?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#39821](https://github.com/metabase/metabase/pull/39821) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39821?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> and 1 other)\n* **#39491** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39491?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 7, 0, 35, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 1982150346, 'issue_id': 2172689064, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/937b3595-f91e-452c-bb01-cb2b16a8a52f"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>049abfc2b5084de694617c9352edca180847712d</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2329 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 1, 4, 1, tzinfo=datetime.timezone.utc)}, {'comment_id': 1983530302, 'issue_id': 2172689064, 'author': 'crisptrutski', 'body': ""> Would be nice to maybe do some simple benchmarks? Even a `time $(curl ...)` sort of thing would be great\n\nYeah I really want benchmarks in this area. There are still a bunch more optimizations on the table, I'm planning to cut an issue today outlining them, with its first step to add a criterium benchmark.\n\nIn retrospect it would have been nice to quantity both the line length where the previously implementation exploded, and long that took. I could also have added vec to the old implementation and given it a fair comparison, and also compared to the time when we still had sampling.\n\nSince the subjective difference is so large, I'm going to save this kind of comparison for future. I even have 3 different sampling algorithms hiding on in my no-commit that I'd be curious to try out for even more ludicrous file sizes..."", 'created_at': datetime.datetime(2024, 3, 7, 13, 40, 9, tzinfo=datetime.timezone.utc)}]","crisptrutski (Issue Creator) on (2024-03-07 00:35:13 UTC): * **#39741** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39741?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* **#39493** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39493?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 4 other dependent PRs ([#39706](https://github.com/metabase/metabase/pull/39706) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39706?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#39724](https://github.com/metabase/metabase/pull/39724) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39724?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#39821](https://github.com/metabase/metabase/pull/39821) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39821?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> and 1 other)
* **#39491** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39491?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

replay-io[bot] on (2024-03-07 01:04:01 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/937b3595-f91e-452c-bb01-cb2b16a8a52f"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>049abfc2b5084de694617c9352edca180847712d</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2329 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

crisptrutski (Issue Creator) on (2024-03-07 13:40:09 UTC): Yeah I really want benchmarks in this area. There are still a bunch more optimizations on the table, I'm planning to cut an issue today outlining them, with its first step to add a criterium benchmark.

In retrospect it would have been nice to quantity both the line length where the previously implementation exploded, and long that took. I could also have added vec to the old implementation and given it a fair comparison, and also compared to the time when we still had sampling.

Since the subjective difference is so large, I'm going to save this kind of comparison for future. I even have 3 different sampling algorithms hiding on in my no-commit that I'd be curious to try out for even more ludicrous file sizes...

"
2172644502,pull_request,closed,,Fix unable to start on windows with h2,"We have a special treatment for h2 connections in that every time we try to get a connection from data-source, we check whether or not we should update h2 version, this is a trick we did in https://github.com/metabase/metabase/pull/26576 during h2 migration from v1 to v2.

The function that is used to check whether or not we need to update h2 is [metabase.db.update-h2/update-if-needed!](https://github.com/metabase/metabase/blob/9413706bd2778dedf575eb38ce9a7de06253c96f/src/metabase/db/update_h2.clj#L90), the basic idea of this function is that: if the current connection is an h2 database, open the file and read the header to see if the database is v1, if it is, then try to migrate the database to version 2.

This causes a deadlock while trying to run the `migrations/001_update_migrations.yaml::v46.00-086` migration on Windows with this error message
> Caused by: java.io.IOException: The process cannot access the file because another process has locked a portion of the file

Why does this happen on Windows but not on our CI or Mac? I don't know for sure... it might be that liquibase locked the h2 file but did not release the lock properly.

One thing I know for sure is that we _shouldn't_ do the upgrade check by reading h2 file every time a connection is fetched, this is super inefficient. And also I do not think that we need to do this in `.getConnection` we can just do that when we create a data source. I think the original idea of why we do that during `getConnection` is that we do it ""on demand"", but that's unnecessary IMO.

How to test
1. If you're on windows: download the jar and try to run it
2. if you're Mac, follow this [tutorial](https://mac.getutm.app/gallery/windows-11-arm) using UTM to start a Windows VM, then download a jar from this branch and start it. You shouldn't see any errors.
3. If you're on ubuntu: you'll need to find some VM yourself bc I really don't know... or maybe get a mac? :p 

Fixes https://github.com/metabase/metabase/issues/39040",qnkhuat,2024-03-06 23:54:07+00:00,['qnkhuat'],2024-03-12 05:39:57+00:00,2024-03-12 03:33:19+00:00,https://github.com/metabase/metabase/pull/39739,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 1982074367, 'issue_id': 2172644502, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/b479bc8d-5f48-48fb-8f55-5d84a6d501f4"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>29d133387e3004bb19f3a8d666dda55f212e411c</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2350 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 0, 5, 15, tzinfo=datetime.timezone.utc)}, {'comment_id': 1982196942, 'issue_id': 2172644502, 'author': 'qnkhuat', 'body': 'we should backport to 48 too', 'created_at': datetime.datetime(2024, 3, 7, 1, 54, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 1982236917, 'issue_id': 2172644502, 'author': 'crisptrutski', 'body': 'Just some nits, but taking back my tick as a lot of checks failed.', 'created_at': datetime.datetime(2024, 3, 7, 2, 44, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 1982240366, 'issue_id': 2172644502, 'author': 'crisptrutski', 'body': ""I haven't dug into it, but one theory is that a bunch of tests don't provide a valid config string, and this hasn't been a problem as we ended up not using the connection. If that's the case you could perhaps use a `delay` so that we up doing the upgrade just-in-time, right at the old spot."", 'created_at': datetime.datetime(2024, 3, 7, 2, 49, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 1990053676, 'issue_id': 2172644502, 'author': 'github-actions[bot]', 'body': '@qnkhuat Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 12, 3, 33, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 1990616543, 'issue_id': 2172644502, 'author': 'qnkhuat', 'body': '@metabase-bot backport release-x.48.x', 'created_at': datetime.datetime(2024, 3, 12, 5, 39, 25, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-07 00:05:15 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/b479bc8d-5f48-48fb-8f55-5d84a6d501f4"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>29d133387e3004bb19f3a8d666dda55f212e411c</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2350 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

qnkhuat (Issue Creator) on (2024-03-07 01:54:53 UTC): we should backport to 48 too

crisptrutski on (2024-03-07 02:44:41 UTC): Just some nits, but taking back my tick as a lot of checks failed.

crisptrutski on (2024-03-07 02:49:21 UTC): I haven't dug into it, but one theory is that a bunch of tests don't provide a valid config string, and this hasn't been a problem as we ended up not using the connection. If that's the case you could perhaps use a `delay` so that we up doing the upgrade just-in-time, right at the old spot.

github-actions[bot] on (2024-03-12 03:33:31 UTC): @qnkhuat Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

qnkhuat (Issue Creator) on (2024-03-12 05:39:25 UTC): @metabase-bot backport release-x.48.x

"
2172572655,pull_request,closed,,Adds property based test for `u/map-all`,"Adds a simple property-based test for a util function, as an example.",escherize,2024-03-06 22:44:19+00:00,['escherize'],2024-03-07 22:32:10+00:00,2024-03-07 22:31:57+00:00,https://github.com/metabase/metabase/pull/39738,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 1984659593, 'issue_id': 2172572655, 'author': 'github-actions[bot]', 'body': '@escherize Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 7, 22, 32, 9, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-07 22:32:09 UTC): @escherize Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2172520408,pull_request,closed,,"ü§ñ backported ""docs - update basic exploration""",#39559,metabase-bot[bot],2024-03-06 22:04:52+00:00,['jeff-bruemmer'],2024-03-06 22:06:27+00:00,2024-03-06 22:06:26+00:00,https://github.com/metabase/metabase/pull/39736,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2172504906,pull_request,closed,,add airgap public key defsetting,,escherize,2024-03-06 21:57:35+00:00,['escherize'],2025-02-04 18:15:17+00:00,2024-03-11 16:19:28+00:00,https://github.com/metabase/metabase/pull/39735,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 1981890665, 'issue_id': 2172504906, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/8c0847d9-0763-4e68-b1e3-33aaa1aa1584"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>5769b785fb09a3ef3beaecda892ce8d5f3d5f14c</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2306 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 22, 9, 13, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-06 22:09:13 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/8c0847d9-0763-4e68-b1e3-33aaa1aa1584"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>5769b785fb09a3ef3beaecda892ce8d5f3d5f14c</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2306 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2172493979,pull_request,closed,,Define PrivilegedSettings type,"This PR further breaks down the ambiguous ""Settings"" type and identifies admin and setting manager related settings. This should help us identify the privileged settings more easily in the future, and make us use appropriate actions to dispatch these values.

A part of https://github.com/metabase/metabase/issues/39461.",nemanjaglumac,2024-03-06 21:49:16+00:00,['nemanjaglumac'],2024-03-07 17:01:07+00:00,2024-03-07 17:00:53+00:00,https://github.com/metabase/metabase/pull/39734,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 1983418211, 'issue_id': 2172493979, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/8db2a361-0d04-4257-bdaa-748d4e85c668"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>df671775a7909c43f221836e580fab5b124a495e</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2333 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 12, 34, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 1984010515, 'issue_id': 2172493979, 'author': 'github-actions[bot]', 'body': '@nemanjaglumac Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 7, 17, 1, 6, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-07 12:34:57 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/8db2a361-0d04-4257-bdaa-748d4e85c668"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>df671775a7909c43f221836e580fab5b124a495e</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2333 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-07 17:01:06 UTC): @nemanjaglumac Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2172472447,pull_request,closed,,Feature branch for airgap-token: Milestone 1,"Epic: https://github.com/metabase/metabase/issues/39711

**Not to be merged to master until the epic is completed.**",escherize,2024-03-06 21:35:12+00:00,['escherize'],2024-03-20 21:31:39+00:00,2024-03-20 21:31:25+00:00,https://github.com/metabase/metabase/pull/39733,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 1981867853, 'issue_id': 2172472447, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/4c301596-4b4b-4bd2-a1d6-15a050ad2d39"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>72c317cc5d8199060f9286656f4ddc8d79db3186</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>7 Flaky</b></div>\n<div>‚úÖ <b>2365 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 21, 52, 55, tzinfo=datetime.timezone.utc)}, {'comment_id': 2010253910, 'issue_id': 2172472447, 'author': 'noahmoss', 'body': ""Overall looks pretty reasonable to me but I have some questions and it looks like some tests are failing. Ping me whenever it's ready and I'll ‚úÖ"", 'created_at': datetime.datetime(2024, 3, 20, 17, 51, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 2010675618, 'issue_id': 2172472447, 'author': 'github-actions[bot]', 'body': '@escherize Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 20, 21, 31, 38, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-06 21:52:55 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/4c301596-4b4b-4bd2-a1d6-15a050ad2d39"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>72c317cc5d8199060f9286656f4ddc8d79db3186</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>7 Flaky</b></div>
<div>‚úÖ <b>2365 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

noahmoss on (2024-03-20 17:51:57 UTC): Overall looks pretty reasonable to me but I have some questions and it looks like some tests are failing. Ping me whenever it's ready and I'll ‚úÖ

github-actions[bot] on (2024-03-20 21:31:38 UTC): @escherize Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2172468508,pull_request,closed,,Db api,"Let's get an api namespace for `metabase.db` and company.

Namespaces in the `src/metabase/db` folder:

```
‚ùØ tree src/metabase/db
src/metabase/db
‚îú‚îÄ‚îÄ connection.clj
‚îú‚îÄ‚îÄ connection_pool_setup.clj
‚îú‚îÄ‚îÄ custom_migrations.clj
‚îú‚îÄ‚îÄ data_source.clj
‚îú‚îÄ‚îÄ env.clj
‚îú‚îÄ‚îÄ jdbc_protocols.clj
‚îú‚îÄ‚îÄ liquibase
‚îÇ¬†¬† ‚îú‚îÄ‚îÄ h2.clj
‚îÇ¬†¬† ‚îî‚îÄ‚îÄ mysql.clj
‚îú‚îÄ‚îÄ liquibase.clj
‚îú‚îÄ‚îÄ metadata_queries.clj
‚îú‚îÄ‚îÄ query.clj
‚îú‚îÄ‚îÄ setup.clj
‚îú‚îÄ‚îÄ spec.clj
‚îî‚îÄ‚îÄ update_h2.clj

2 directories, 14 files
```

This ends up with two namespaces:
- `metabase.db`
- `metabase.db.query`: this seems to be pretty extensively used and is a quasi api namespace in its own right. I don't have a better name for it at the moment

#### APIs

##### metabase.db
```clojure
db=> (dir metabase.db)
app-db
data-source
db-file
db-is-set-up?
db-type
increment-app-db-unique-indentifier!
make-subname
memoize-for-application-db
migrate!
quoting-style
recent-activity?
setup-db!
spec
unique-identifier
```

##### metabase.db.query
```clojure
db=> (dir metabase.db.query)
compile
format-sql
isa
join
qualify
query
reducible-query
select-or-insert!
update-or-insert!
with-conflict-retry
```

### Exceptions:

#### src/metabase/cmd

This does some special one-offs with app-db connections for commands and establishing a app-db connection that felt a bit more specialized than we want the api to be.

#### src/metabase/driver/h2.clj

Does some special registering for clob reading. Could probably be tidied up but would prefer someone from the drivers team to do this.

#### metabase.db.metadata-queries

Used in some sync related stuff. This could be moved to a sync namespace in the future. This was getting a bit larger so I'll delay that.

### Finding usages:

Some helpful utilities i used:

Finding all `[metabase.db.<something> :as <something>]` references:
```
ag --ignore src/metabase/db --ignore src/metabase/db.clj ""\[metabase\.db\..*\ :as .*]"" src enterprise > usages

cat usages
src/metabase/cmd/dump_to_h2.clj:20:   [metabase.db.connection :as mdb.connection]
src/metabase/cmd/copy.clj:12:   [metabase.db.setup :as mdb.setup]
src/metabase/cmd/copy/h2.clj:6:   [metabase.db.data-source :as mdb.data-source]
src/metabase/metabot/util.clj:9:   [metabase.db.query :as mdb.query]
src/metabase/driver/h2.clj:8:   [metabase.db.jdbc-protocols :as mdb.jdbc-protocols]
src/metabase/driver/sql_jdbc/sync/describe_table.clj:9:   [metabase.db.metadata-queries :as metadata-queries]
src/metabase/models/bookmark.clj:5:   [metabase.db.query :as mdb.query]
src/metabase/models/collection/graph.clj:6:   [metabase.db.query :as mdb.query]
src/metabase/models/table.clj:4:   [metabase.db.query :as mdb.query]
src/metabase/models/pulse_channel.clj:6:   [metabase.db.query :as mdb.query]
src/metabase/models/permissions_group_membership.clj:3:   [metabase.db.query :as mdb.query]
src/metabase/models/params.clj:16:   [metabase.db.query :as mdb.query]
src/metabase/models/card.clj:14:   [metabase.db.query :as mdb.query]
src/metabase/models/params/field_values.clj:6:   [metabase.db.query :as mdb.query]
src/metabase/models/params/chain_filter.clj:70:   [metabase.db.query :as mdb.query]
src/metabase/models/field_values.clj:30:   [metabase.db.query :as mdb.query]
src/metabase/models/permissions_group.clj:13:   [metabase.db.query :as mdb.query]
src/metabase/models/dashboard.clj:9:   [metabase.db.query :as mdb.query]
src/metabase/models/database.clj:4:   [metabase.db.query :as mdb.query]
src/metabase/models/moderation_review.clj:5:   [metabase.db.query :as mdb.query]
src/metabase/models/user.clj:7:   [metabase.db.query :as mdb.query]
src/metabase/models/dashboard_card.clj:6:   [metabase.db.query :as mdb.query]
src/metabase/automagic_dashboards/core.clj:159:   [metabase.db.query :as mdb.query]
src/metabase/task/sync_databases.clj:14:   [metabase.db.query :as mdb.query]
src/metabase/api/activity.clj:7:   [metabase.db.query :as mdb.query]
src/metabase/api/collection.clj:16:   [metabase.db.query :as mdb.query]
src/metabase/api/table.clj:8:   [metabase.db.query :as mdb.query]
src/metabase/api/database.clj:12:   [metabase.db.query :as mdb.query]
src/metabase/api/permissions.clj:12:   [metabase.db.query :as mdb.query]
src/metabase/api/field.clj:6:   [metabase.db.metadata-queries :as metadata-queries]
src/metabase/api/field.clj:7:   [metabase.db.query :as mdb.query]
src/metabase/api/public.clj:16:   [metabase.db.query :as mdb.query]
src/metabase/api/search.clj:10:   [metabase.db.query :as mdb.query]
src/metabase/sync/analyze/fingerprint.clj:7:   [metabase.db.metadata-queries :as metadata-queries]
src/metabase/sync/analyze/fingerprint.clj:8:   [metabase.db.query :as mdb.query]
src/metabase/query_processor/middleware/cache_backend/db.clj:5:   [metabase.db.query :as mdb.query]
src/metabase/email/messages.clj:13:   [metabase.db.query :as mdb.query]
src/metabase/analytics/stats.clj:11:   [metabase.db.query :as mdb.query]
enterprise/backend/test/metabase_enterprise/serialization/test_util.clj:7:   [metabase.db.connection :as mdb.connection]
enterprise/backend/test/metabase_enterprise/serialization/test_util.clj:8:   [metabase.db.data-source :as mdb.data-source]
enterprise/backend/src/metabase_enterprise/sandbox/models/permissions/delete_sandboxes.clj:5:   [metabase.db.query :as mdb.query]
enterprise/backend/src/metabase_enterprise/audit_app/pages/common.clj:13:   [metabase.db.query :as mdb.query]
```",dpsutton,2024-03-06 21:33:22+00:00,[],2024-03-12 17:00:17+00:00,2024-03-11 17:38:27+00:00,https://github.com/metabase/metabase/pull/39731,"[('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 1981992135, 'issue_id': 2172468508, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/6a33be3a-8143-47c7-828a-4dd12ae66695"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>29a09015e19a27ca6610893e490f67e2eeaf2eaa</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2355 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 22, 52, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 1989049189, 'issue_id': 2172468508, 'author': 'github-actions[bot]', 'body': '@dpsutton Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 11, 17, 38, 38, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-06 22:52:21 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/6a33be3a-8143-47c7-828a-4dd12ae66695"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>29a09015e19a27ca6610893e490f67e2eeaf2eaa</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2355 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-11 17:38:38 UTC): @dpsutton Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2172457643,pull_request,closed,,Remove react-motion - Bulk Actions,"Closes #39730

### Description

This is part of an in-progress effort to remove react-motion from our UI to aid in our our React 18 upgrade.

### How to verify
- To verify BulkActions changes
  - Go to a collection with content
  - Select any item
  - Make sure the component slides in from bottom of the screen in the position you expect
- To verify BulkActionsBar changes
  - Archive something
  - Go to the archive page (three dots in side bar will give you the option to go to this page)
  - Select an archived item
  - Make sure the component slides in from the bottom in the position you expect
  
### Demo

note: playback controls on the video cover up the important bits, you have to hit play and quick unhover the video

**Bulk actions**

before

https://github.com/metabase/metabase/assets/7104357/eb1445f0-1ca0-4551-a386-9a9c495b138e


after

https://github.com/metabase/metabase/assets/7104357/29383fb0-9104-43ee-b353-0a3bcf27a754


**Bulk actions bar**

before

https://github.com/metabase/metabase/assets/7104357/7c116c83-405c-4928-b2e3-c45fadcdc3d0

after

https://github.com/metabase/metabase/assets/7104357/3abc02bd-c0aa-4464-93f6-524f2c881c1f

### Checklist

- [x] Tests have been added/updated to cover changes in this PR",sloansparger,2024-03-06 21:26:50+00:00,['sloansparger'],2024-03-07 15:48:49+00:00,2024-03-07 15:48:48+00:00,https://github.com/metabase/metabase/pull/39729,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 1981817034, 'issue_id': 2172457643, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 22917f3dd3b415f1214e3487588cc3b5da31e214...98d1b53bcfc25e92c537aafa6c121c259b655883.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/utils/Transition/index.ts<br>frontend/src/metabase/ui/components/utils/index.ts |', 'created_at': datetime.datetime(2024, 3, 6, 21, 27, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 1981858202, 'issue_id': 2172457643, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/d3d4d884-660e-41db-aa33-6f920f48d63f"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>98d1b53bcfc25e92c537aafa6c121c259b655883</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>1 Failed</b></div>\n<div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2330 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 21, 47, 1, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-06 21:27:58 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 22917f3dd3b415f1214e3487588cc3b5da31e214...98d1b53bcfc25e92c537aafa6c121c259b655883.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/utils/Transition/index.ts<br>frontend/src/metabase/ui/components/utils/index.ts |

replay-io[bot] on (2024-03-06 21:47:01 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/d3d4d884-660e-41db-aa33-6f920f48d63f"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>98d1b53bcfc25e92c537aafa6c121c259b655883</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>1 Failed</b></div>
<div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2330 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2172442903,pull_request,closed,,Do not allow `undefined` when updating a user setting,"As mentioned in [this comment](https://github.com/metabase/metabase/pull/39734#discussion_r1516072045), we define settings types as potentially undefined but we don't know if they are going to be used when setting/updating (dispatch) or when getting (fetch) a setting.

This PR removes the ability to erroneously update the setting with an `undefined` value. Backend would reject it anyway.
Inspiration for [this pattern](https://github.com/metabase/metabase/pull/39728/commits/712b1278838b59c7108c1883bb04037c071fe584): https://www.totaltypescript.com/tips/derive-a-union-type-from-an-object

Credits to @hypernurb for teaching me about the [mapping modifiers](https://www.typescriptlang.org/docs/handbook/2/mapped-types.html#mapping-modifiers).",nemanjaglumac,2024-03-06 21:17:46+00:00,['nemanjaglumac'],2024-03-07 22:36:36+00:00,2024-03-07 22:36:22+00:00,https://github.com/metabase/metabase/pull/39728,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 1983434727, 'issue_id': 2172442903, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/fb94c31a-31dc-4613-8af9-a9bb721e73a7"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>ea50b7ecadde3fe47673d0e75a9f876cdeabb58b</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2334 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 7, 12, 45, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 1984671261, 'issue_id': 2172442903, 'author': 'github-actions[bot]', 'body': '@nemanjaglumac Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 7, 22, 36, 35, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-07 12:45:32 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/fb94c31a-31dc-4613-8af9-a9bb721e73a7"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>ea50b7ecadde3fe47673d0e75a9f876cdeabb58b</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2334 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-07 22:36:35 UTC): @nemanjaglumac Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2172417151,pull_request,closed,,Fix failing sql-filters-source e2e test,"Fixes a failing e2e test on the permissions feature branch.

This test was a little odd since it was requiring a user to have native query editing access _and_ be sandboxed. This isn't actually a valid permission state, since you need full non-sandboxed data access permissions if you have native access. So I think we're OK to remove the part of this test that was relying on that.",noahmoss,2024-03-06 21:00:23+00:00,['noahmoss'],2024-03-07 15:15:19+00:00,2024-03-06 21:10:13+00:00,https://github.com/metabase/metabase/pull/39727,"[('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 1981778732, 'issue_id': 2172417151, 'author': 'noahmoss', 'body': '* **#39727** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39727?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* **#37473** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/37473?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 26 other dependent PRs ([#37191](https://github.com/metabase/metabase/pull/37191) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/37191?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#37377](https://github.com/metabase/metabase/pull/37377) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/37377?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#37379](https://github.com/metabase/metabase/pull/37379) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/37379?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> and 23 others)\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @noahmoss and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 6, 21, 1, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 1981805333, 'issue_id': 2172417151, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/c0e2be7d-6bb9-4a27-a03c-8aec154b27fb"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>4ebd0c791650503a3ecf6553a2ab587575114ed8</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2314 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 21, 20, 15, tzinfo=datetime.timezone.utc)}]","noahmoss (Issue Creator) on (2024-03-06 21:01:02 UTC): * **#39727** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39727?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* **#37473** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/37473?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 26 other dependent PRs ([#37191](https://github.com/metabase/metabase/pull/37191) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/37191?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#37377](https://github.com/metabase/metabase/pull/37377) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/37377?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#37379](https://github.com/metabase/metabase/pull/37379) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/37379?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> and 23 others)
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @noahmoss and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

replay-io[bot] on (2024-03-06 21:20:15 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/c0e2be7d-6bb9-4a27-a03c-8aec154b27fb"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>4ebd0c791650503a3ecf6553a2ab587575114ed8</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2314 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2172410275,pull_request,closed,,"ü§ñ backported ""Render CSV append errors as markdown""",#39651,metabase-bot[bot],2024-03-06 20:55:22+00:00,['crisptrutski'],2024-03-06 21:56:51+00:00,2024-03-06 21:56:50+00:00,https://github.com/metabase/metabase/pull/39726,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1981787018, 'issue_id': 2172410275, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/3a2afae0-9cc8-47ce-844d-d6ea90ec498a"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>bc0983dd845354454b28f6664e06165c2c52024d</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2328 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 21, 6, 58, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-06 21:06:58 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/3a2afae0-9cc8-47ce-844d-d6ea90ec498a"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>bc0983dd845354454b28f6664e06165c2c52024d</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2328 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2172377261,pull_request,closed,,"ü§ñ backported ""Fix text cutoff for error view and no results view on dash-cards""",#39656,metabase-bot[bot],2024-03-06 20:32:43+00:00,['JesseSDevaney'],2024-03-06 21:07:39+00:00,2024-03-06 21:07:38+00:00,https://github.com/metabase/metabase/pull/39725,"[('visual', 'Run Percy visual testing'), ('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1981735153, 'issue_id': 2172377261, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff a3d75d0b98122d073d2cadf0d3e3bc0dbfe81ca6...1b316f925e2cb9fe411bfc127fb7ce6bc653c799.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx |', 'created_at': datetime.datetime(2024, 3, 6, 20, 33, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 1981749958, 'issue_id': 2172377261, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/b5ec2f88-d2df-45ae-be8f-b5147052264e"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>1b316f925e2cb9fe411bfc127fb7ce6bc653c799</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2329 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 20, 44, 25, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-06 20:33:48 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff a3d75d0b98122d073d2cadf0d3e3bc0dbfe81ca6...1b316f925e2cb9fe411bfc127fb7ce6bc653c799.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx |

replay-io[bot] on (2024-03-06 20:44:25 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/b5ec2f88-d2df-45ae-be8f-b5147052264e"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>1b316f925e2cb9fe411bfc127fb7ce6bc653c799</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2329 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2172357108,pull_request,closed,,Graph gymnastics to handle type coercing and promotion,"### Description

This follows on from the [int to float promotion](https://github.com/metabase/metabase/pull/39493) work, to keep float-to-int coercion working as well.

It turns out to be quite complex, but also served as a nice stress test of the `ordered-hierarchy`, and it was gratifying to see it handle it.

Two things that occur to me are:

1. Perhaps this complexity isn't worth it, and we should just let these `::float-or-int` values force a column promotion.
2. Getting this behavior might have been easier if we relaxed our DAG to a graph, instead of inserting two more abstract nodes to avoid a cycle. I'm not sure how those details would work out, but I have a hunch there's a way. Might just add a whole different kettle of complex lifeforms though.

### How to verify

See that the test suite is passing again - specifically this test:

```clojure
{:upload-type ::upload/int, :uncoerced ""2.0"", :coerced 2} ;; upload-test/append-type-coercion-test
```",crisptrutski,2024-03-06 20:19:46+00:00,['crisptrutski'],2024-03-20 11:46:45+00:00,2024-03-20 11:37:52+00:00,https://github.com/metabase/metabase/pull/39724,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 1981713650, 'issue_id': 2172357108, 'author': 'crisptrutski', 'body': '* **#39724** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39724?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* **#39493** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39493?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 4 other dependent PRs ([#39706](https://github.com/metabase/metabase/pull/39706) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39706?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#39741](https://github.com/metabase/metabase/pull/39741) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39741?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#39821](https://github.com/metabase/metabase/pull/39821) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39821?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> and 1 other)\n* **#39491** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39491?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 6, 20, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 1981757515, 'issue_id': 2172357108, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/2c638579-d346-453c-a138-84c67a0aa791"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>812244f34ac16d7e2af591506eb63a73cae9b07e</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>1 Failed</b></div>\n<div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2329 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 20, 50, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 1982184406, 'issue_id': 2172357108, 'author': 'crisptrutski', 'body': 'Tests are failing for Postgres - it appears to be generating an incorrect ""ALTER COLUMN"" statement.', 'created_at': datetime.datetime(2024, 3, 7, 1, 40, 31, tzinfo=datetime.timezone.utc)}, {'comment_id': 1994527444, 'issue_id': 2172357108, 'author': 'tsmacdonald', 'body': '@crisptrutski is this still ready for review? Happy to do so after you fix the merge conflicts', 'created_at': datetime.datetime(2024, 3, 13, 14, 25, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 1997162849, 'issue_id': 2172357108, 'author': 'crisptrutski', 'body': ""> @crisptrutski is this still ready for review? Happy to do so after you fix the merge conflicts\r\n\r\n@tsmacdonald Feel free to review as is. I'm primarily waiting on @calherries to have hammock time here on whether we the underlying behavior is worth a more complex graph structure.\r\n\r\nI've rebased the branch locally on https://github.com/metabase/metabase/pull/39793 which IMHO will make it harder to review since that's still up in the air as well, so decided to just leave this PR as is until the Hiccup PR is either merged or abandoned."", 'created_at': datetime.datetime(2024, 3, 14, 10, 51, 54, tzinfo=datetime.timezone.utc)}, {'comment_id': 2003386441, 'issue_id': 2172357108, 'author': 'calherries', 'body': 'Sorry for delaying this so long, the complexity of the graph really bothered me. This is just the beginning; it will become much more complicated when we handle datetime coercion, to the point where I was worried that we would find it ever be able to reverse this design decision as it became harder and harder to see the forest through the trees.\r\n\r\nA little hammock time has convinced that these graph gymnastics are akin to [epicycles](https://en.wikipedia.org/wiki/Deferent_and_epicycle) in that there\'s a simpler model for this behaviour.\r\n\r\nThis is how I see the current model:\r\n\r\nWe have two functions, `relax :: type-or-nil -> x -> type`, and `concretize :: type -> concrete-type`\r\n```\r\nfor an upload column:   new-column-type := concretize(reduce(relax, nil, xs))\r\nfor an appended column: new-column-type := concretize(reduce(relax, old-type, xs)))\r\n```\r\n\r\nThis model has done well in the past but is beginning to break down as `relax` has had to become increasingly complicated to fit the desired behaviour.\r\n\r\nHere\'s one way I think we could twist this model to allow `relax` to be a lot simpler:\r\n\r\nInstead of a single `concretize` function, we have one for append, and one for upload:\r\n```\r\nrelax :: type-or-nil -> x -> type\r\nupload-concretize :: type -> concrete-type\r\nappend-concretize :: old-type -> new-type -> concrete-type\r\n```\r\n\r\nThe `append-concretize` function represents the idea that for appends, we often want to conserve the old type, unless we really have to coerce the type for accuracy.\r\n\r\nAnd then, we use them like this:\r\n```\r\nfor an upload column:   new-column-type := upload-concretize(reduce(relax, nil, xs))\r\nfor an appended column: new-column-type := append-concretize(old-type, reduce(relax, old-type, xs)))\r\n```\r\n\r\nSo to support correct int/float type coercion, the bottom half of the graph can be simply extended to this:\r\n\r\n```\r\n;;  boolean float        datetime  offset-datetime\r\n;;     |     ‚îÇ             ‚îÇ\r\n;;     | *float-or-int*    |\r\n;;     ‚îÇ     ‚îÇ             ‚îÇ\r\n;;     |    int           date\r\n;;     |   /   \\\r\n;;     |  /     \\\r\n;;     | /       \\\r\n;;     |/         \\\r\n;; boolean-or-int  auto-incrementing-int-pk\r\n```\r\n\r\nFor uploads, a `*float-or-int*` concretizes up to `float`.\r\nFor appends, a `*float-or-int*` concretizes down to `int` if the old-type was `int` (well, old-type will always be `int` because of the way `relax` is reduced starting with the old-type, but that feels incidental). This reflects the decision that we don\'t want to change types unless necessary to preserve accuracy.\r\n\r\nWe could do the same thing with date/datetime coercion:\r\n\r\nFor uploads, a `*datetime-at-midnight*` type (e.g. ""2022-01-01 00:00:00"") concretizes up to a `datetime`.\r\nFor appends, a `*datetime-at-midnight*`  remains a `date` if the old-type was `date`.\r\n\r\nwhat do you think?', 'created_at': datetime.datetime(2024, 3, 18, 9, 53, 51, tzinfo=datetime.timezone.utc)}, {'comment_id': 2003454446, 'issue_id': 2172357108, 'author': 'calherries', 'body': 'another approach that would ""work"" is to special-case the `relax` function on uploads vs appends, so that\r\n\r\n```\r\nfor uploads: concretize(relax(int, ""1.0"")) => float\r\nfor appends: concretize(relax(int, ""1.0"")) => int\r\n```\r\n\r\nThis means either:\r\n1. removing *float-or-int* from the type graph for uploads\r\n2. having separate `type->check` functions for uploads vs appends. for uploads, ""1.0"" would be a float, and for appends ""1.0"" would be an int. \r\n\r\nBut I think these solutions suffer from the same type of problem as this PR in that these are complications to try and fit a flawed model to the desired behaviour, instead of reworking the model from the top-down.\r\n\r\nby occam\'s razor I prefer the approach in my previous comment.', 'created_at': datetime.datetime(2024, 3, 18, 10, 12, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2008984419, 'issue_id': 2172357108, 'author': 'calherries', 'body': '@crisptrutski you closing this?', 'created_at': datetime.datetime(2024, 3, 20, 8, 1, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2009367890, 'issue_id': 2172357108, 'author': 'crisptrutski', 'body': '> @crisptrutski you closing this?\r\n\r\nYip, I was just waiting for a chance to reply to some of your comments for posterity.\r\n\r\nRe: the epicycle comment, I just wanted to remark on the irony that the gymnastics here were about *avoiding* cycles. That said, I\'d had a hunch that somehow a restricted class of reversed edges might also work, and your idea of taking an extra argument to `concretize` proved to be just such a mechanism. Thanks!\r\n\r\nWe both were bothered by some of the complexity, but the bulk of these changes still made it through in the [alternate approach](https://github.com/metabase/metabase/pull/40275/files#diff-d72e1e62dbb726e6e563e8b2caec58e6cac2bbb9a650f10f0f42ecf2f2d00debL1793-R1794) in the end. From my perspective the major difference is putting a nice explicit, declarative layer on top, similar to how we introduce the explicit `abstract->concrete` map before. In the end I think we ended up with something even more complex, but with a better human interface - using maps instead of depending on edge orderings.\r\n\r\nThe only material part we left behind was using separate symbols for the value type classification (covering only integers without a decimal separator), and the concrete column type (accepting a superset which includes float literals that have a zero fractional component). As I laid out a bit in [this lengthy post](https://github.com/metabase/metabase/pull/40235#issuecomment-2004122233) (""If I had more time, I would have written a shorter letter.""), I think that a precise relationship between the value type and column type objects that share overloaded symbols is a really good thing\r\n\r\nSo, essentially in many ways I still prefer this graph. It\'s still compatible with what we ended up implementing so far. \r\n\r\nIgnoring the actual names for a second, I thing having some symbol `int-value` (an abstract, i.e. non column-type) as distinct from `int-column` (a new kind of thing we haven\'t named, a non value-type) would be a good thing. A clean way to get past the awkward `*explicit-int*` naming would be to use separate symbols for all our types, e.g. `upload.value/int` and `upload.column/int`. This would allow us to keep the relationships both precise and intuitive relationships. It\'d also remove ambiguity as to which type we mean by a given value being passed around.\r\n\r\nRather than being a ""flawed model"", I counter that maybe just a bit of an ivory tower. I can\'t think of a nice way to fork the symbols this way without adding a lot of code, but maybe it\'s something we\'ll come back to if the hacky overloading we\'ve gone with ends up painting us into a corner. There might even be a really neat and concise way of expressing it.', 'created_at': datetime.datetime(2024, 3, 20, 11, 37, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2009378094, 'issue_id': 2172357108, 'author': 'crisptrutski', 'body': 'Whoops, I also meant to comment on why we didn\'t go with any of the above suggestions of splitting based on on creating and appending contexts:\r\n\r\n1. The semantics are column level, we want the ""create"" semantics when adding new columns to existing tables too.\r\n2. There are more verbs coming, like ""replace"" and ""merge"", and they\'ll also have these ""append"" semantics.\r\n\r\nOverloading the type-checking would also essentially add a third category (splitting value types into column-creating-value-types and column-promoting-value-types). Removing ""float-or-type"" would go even further and give these two categories a different hierarchical structure!\r\n\r\nWith a very slight semantic and structural tweak though that 1st suggestion worked a treat.', 'created_at': datetime.datetime(2024, 3, 20, 11, 44, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 2009382159, 'issue_id': 2172357108, 'author': 'crisptrutski', 'body': 'Whoops ""and one more thing"" üçè \r\n\r\nI\'m not sure how our current formulation would cope on making types ""abstract"" on a per-driver basis (i.e. does it support JSON). That might be the driver for another round of graphonimics.', 'created_at': datetime.datetime(2024, 3, 20, 11, 46, 44, tzinfo=datetime.timezone.utc)}]","crisptrutski (Issue Creator) on (2024-03-06 20:20:00 UTC): * **#39724** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39724?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* **#39493** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39493?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 4 other dependent PRs ([#39706](https://github.com/metabase/metabase/pull/39706) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39706?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#39741](https://github.com/metabase/metabase/pull/39741) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39741?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#39821](https://github.com/metabase/metabase/pull/39821) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39821?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> and 1 other)
* **#39491** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39491?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

replay-io[bot] on (2024-03-06 20:50:08 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/2c638579-d346-453c-a138-84c67a0aa791"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>812244f34ac16d7e2af591506eb63a73cae9b07e</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>1 Failed</b></div>
<div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2329 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

crisptrutski (Issue Creator) on (2024-03-07 01:40:31 UTC): Tests are failing for Postgres - it appears to be generating an incorrect ""ALTER COLUMN"" statement.

tsmacdonald on (2024-03-13 14:25:36 UTC): @crisptrutski is this still ready for review? Happy to do so after you fix the merge conflicts

crisptrutski (Issue Creator) on (2024-03-14 10:51:54 UTC): @tsmacdonald Feel free to review as is. I'm primarily waiting on @calherries to have hammock time here on whether we the underlying behavior is worth a more complex graph structure.

I've rebased the branch locally on https://github.com/metabase/metabase/pull/39793 which IMHO will make it harder to review since that's still up in the air as well, so decided to just leave this PR as is until the Hiccup PR is either merged or abandoned.

calherries on (2024-03-18 09:53:51 UTC): Sorry for delaying this so long, the complexity of the graph really bothered me. This is just the beginning; it will become much more complicated when we handle datetime coercion, to the point where I was worried that we would find it ever be able to reverse this design decision as it became harder and harder to see the forest through the trees.

A little hammock time has convinced that these graph gymnastics are akin to [epicycles](https://en.wikipedia.org/wiki/Deferent_and_epicycle) in that there's a simpler model for this behaviour.

This is how I see the current model:

We have two functions, `relax :: type-or-nil -> x -> type`, and `concretize :: type -> concrete-type`
```
for an upload column:   new-column-type := concretize(reduce(relax, nil, xs))
for an appended column: new-column-type := concretize(reduce(relax, old-type, xs)))
```

This model has done well in the past but is beginning to break down as `relax` has had to become increasingly complicated to fit the desired behaviour.

Here's one way I think we could twist this model to allow `relax` to be a lot simpler:

Instead of a single `concretize` function, we have one for append, and one for upload:
```
relax :: type-or-nil -> x -> type
upload-concretize :: type -> concrete-type
append-concretize :: old-type -> new-type -> concrete-type
```

The `append-concretize` function represents the idea that for appends, we often want to conserve the old type, unless we really have to coerce the type for accuracy.

And then, we use them like this:
```
for an upload column:   new-column-type := upload-concretize(reduce(relax, nil, xs))
for an appended column: new-column-type := append-concretize(old-type, reduce(relax, old-type, xs)))
```

So to support correct int/float type coercion, the bottom half of the graph can be simply extended to this:

```
;;  boolean float        datetime  offset-datetime
;;     |     ‚îÇ             ‚îÇ
;;     | *float-or-int*    |
;;     ‚îÇ     ‚îÇ             ‚îÇ
;;     |    int           date
;;     |   /   \
;;     |  /     \
;;     | /       \
;;     |/         \
;; boolean-or-int  auto-incrementing-int-pk
```

For uploads, a `*float-or-int*` concretizes up to `float`.
For appends, a `*float-or-int*` concretizes down to `int` if the old-type was `int` (well, old-type will always be `int` because of the way `relax` is reduced starting with the old-type, but that feels incidental). This reflects the decision that we don't want to change types unless necessary to preserve accuracy.

We could do the same thing with date/datetime coercion:

For uploads, a `*datetime-at-midnight*` type (e.g. ""2022-01-01 00:00:00"") concretizes up to a `datetime`.
For appends, a `*datetime-at-midnight*`  remains a `date` if the old-type was `date`.

what do you think?

calherries on (2024-03-18 10:12:43 UTC): another approach that would ""work"" is to special-case the `relax` function on uploads vs appends, so that

```
for uploads: concretize(relax(int, ""1.0"")) => float
for appends: concretize(relax(int, ""1.0"")) => int
```

This means either:
1. removing *float-or-int* from the type graph for uploads
2. having separate `type->check` functions for uploads vs appends. for uploads, ""1.0"" would be a float, and for appends ""1.0"" would be an int. 

But I think these solutions suffer from the same type of problem as this PR in that these are complications to try and fit a flawed model to the desired behaviour, instead of reworking the model from the top-down.

by occam's razor I prefer the approach in my previous comment.

calherries on (2024-03-20 08:01:56 UTC): @crisptrutski you closing this?

crisptrutski (Issue Creator) on (2024-03-20 11:37:46 UTC): Yip, I was just waiting for a chance to reply to some of your comments for posterity.

Re: the epicycle comment, I just wanted to remark on the irony that the gymnastics here were about *avoiding* cycles. That said, I'd had a hunch that somehow a restricted class of reversed edges might also work, and your idea of taking an extra argument to `concretize` proved to be just such a mechanism. Thanks!

We both were bothered by some of the complexity, but the bulk of these changes still made it through in the [alternate approach](https://github.com/metabase/metabase/pull/40275/files#diff-d72e1e62dbb726e6e563e8b2caec58e6cac2bbb9a650f10f0f42ecf2f2d00debL1793-R1794) in the end. From my perspective the major difference is putting a nice explicit, declarative layer on top, similar to how we introduce the explicit `abstract->concrete` map before. In the end I think we ended up with something even more complex, but with a better human interface - using maps instead of depending on edge orderings.

The only material part we left behind was using separate symbols for the value type classification (covering only integers without a decimal separator), and the concrete column type (accepting a superset which includes float literals that have a zero fractional component). As I laid out a bit in [this lengthy post](https://github.com/metabase/metabase/pull/40235#issuecomment-2004122233) (""If I had more time, I would have written a shorter letter.""), I think that a precise relationship between the value type and column type objects that share overloaded symbols is a really good thing

So, essentially in many ways I still prefer this graph. It's still compatible with what we ended up implementing so far. 

Ignoring the actual names for a second, I thing having some symbol `int-value` (an abstract, i.e. non column-type) as distinct from `int-column` (a new kind of thing we haven't named, a non value-type) would be a good thing. A clean way to get past the awkward `*explicit-int*` naming would be to use separate symbols for all our types, e.g. `upload.value/int` and `upload.column/int`. This would allow us to keep the relationships both precise and intuitive relationships. It'd also remove ambiguity as to which type we mean by a given value being passed around.

Rather than being a ""flawed model"", I counter that maybe just a bit of an ivory tower. I can't think of a nice way to fork the symbols this way without adding a lot of code, but maybe it's something we'll come back to if the hacky overloading we've gone with ends up painting us into a corner. There might even be a really neat and concise way of expressing it.

crisptrutski (Issue Creator) on (2024-03-20 11:44:13 UTC): Whoops, I also meant to comment on why we didn't go with any of the above suggestions of splitting based on on creating and appending contexts:

1. The semantics are column level, we want the ""create"" semantics when adding new columns to existing tables too.
2. There are more verbs coming, like ""replace"" and ""merge"", and they'll also have these ""append"" semantics.

Overloading the type-checking would also essentially add a third category (splitting value types into column-creating-value-types and column-promoting-value-types). Removing ""float-or-type"" would go even further and give these two categories a different hierarchical structure!

With a very slight semantic and structural tweak though that 1st suggestion worked a treat.

crisptrutski (Issue Creator) on (2024-03-20 11:46:44 UTC): Whoops ""and one more thing"" üçè 

I'm not sure how our current formulation would cope on making types ""abstract"" on a per-driver basis (i.e. does it support JSON). That might be the driver for another round of graphonimics.

"
2172319417,pull_request,closed,,"ü§ñ backported ""Fix action button label cut off""",#39661,metabase-bot[bot],2024-03-06 20:00:12+00:00,['JesseSDevaney'],2024-03-06 20:36:18+00:00,2024-03-06 20:36:17+00:00,https://github.com/metabase/metabase/pull/39720,"[('visual', 'Run Percy visual testing'), ('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1981686628, 'issue_id': 2172319417, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff f34f3d9300b32b61cf70d0436cdfc8ab296d6051...9329836f43709646b970749d975fcd9d42198c20.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx |', 'created_at': datetime.datetime(2024, 3, 6, 20, 1, 47, tzinfo=datetime.timezone.utc)}, {'comment_id': 1981703106, 'issue_id': 2172319417, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/a69e4186-9713-463c-bb66-7430de174daf"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>9329836f43709646b970749d975fcd9d42198c20</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2294 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 20, 12, 59, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-06 20:01:47 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff f34f3d9300b32b61cf70d0436cdfc8ab296d6051...9329836f43709646b970749d975fcd9d42198c20.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/Visualization/Visualization.jsx |

replay-io[bot] on (2024-03-06 20:12:59 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/a69e4186-9713-463c-bb66-7430de174daf"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>9329836f43709646b970749d975fcd9d42198c20</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2294 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2172297887,pull_request,closed,,docs - add filter customization,"Notes on filter customization with dropdown lists and search boxes for the native editor.

Did some cleanup while I was in there. There's a case for revamping this whole section (e.g., splitting field filters into their own page and maybe combining it with the learn article), but wanted to get this change in first.",jeff-bruemmer,2024-03-06 19:45:49+00:00,['jeff-bruemmer'],2024-03-11 16:10:48+00:00,2024-03-11 16:10:33+00:00,https://github.com/metabase/metabase/pull/39719,"[('Type:Documentation', ''), ('backport', 'Automatically create PR on current release branch on merge')]","[{'comment_id': 1988813467, 'issue_id': 2172297887, 'author': 'github-actions[bot]', 'body': '@jeff-bruemmer Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 11, 16, 10, 47, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-11 16:10:47 UTC): @jeff-bruemmer Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2172292884,pull_request,closed,,update Admin Webapp team members,,escherize,2024-03-06 19:42:52+00:00,['escherize'],2024-03-06 19:48:23+00:00,2024-03-06 19:48:23+00:00,https://github.com/metabase/metabase/pull/39718,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]",[],
2172239478,pull_request,closed,,using CSS animations for notebook previews,"Closes https://github.com/metabase/metabase/issues/39715

### Description
Removing use of react-motion in Notebook preview in favor of using CSS transitions. Component was changed from Class based component to functional, though that didn't end up being totally necessary. Should be minimal impact to end users

### How to verify

Describe the steps to verify that the changes are working as expected.

1. New question -> Sample Dataset -> Orders
2. Click the preview button and observe the height change animation

### Demo
before: (taken from stats)
![chrome_piXIGVv3zF](https://github.com/metabase/metabase/assets/1328979/673d54e8-67cb-4152-b3d3-55781929b6eb)

After: (artificially added latency to show a loading transition)
![chrome_weQtFqhfZi](https://github.com/metabase/metabase/assets/1328979/25fd8154-7247-410e-afca-e9ef59bbff65)


### Checklist

- [ ] ~Tests have been added/updated to cover changes in this PR~
",npfitz,2024-03-06 19:17:53+00:00,['npfitz'],2024-03-07 16:08:56+00:00,2024-03-07 16:08:55+00:00,https://github.com/metabase/metabase/pull/39717,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 1981635028, 'issue_id': 2172239478, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/45175ecc-473d-44d5-9e42-d44e1b391c52"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 55 / 56</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>3af9aaa4b534c94e4b033d7d692e6b38b2c99ec2</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>1 Failed</b></div>\n<div>‚ö†Ô∏è <b>7 Flaky</b></div>\n<div>‚úÖ <b>2330 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 19, 29, 39, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-06 19:29:39 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/45175ecc-473d-44d5-9e42-d44e1b391c52"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 55 / 56</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>3af9aaa4b534c94e4b033d7d692e6b38b2c99ec2</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>1 Failed</b></div>
<div>‚ö†Ô∏è <b>7 Flaky</b></div>
<div>‚úÖ <b>2330 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2172234236,pull_request,closed,,remove mark from dashviz team,,perivamsi,2024-03-06 19:14:21+00:00,['perivamsi'],2024-03-06 19:16:55+00:00,2024-03-06 19:16:54+00:00,https://github.com/metabase/metabase/pull/39716,"[('no-backport', 'Do not backport this PR to any branch')]",[],
2172224781,pull_request,closed,,"ü§ñ backported ""38092 metadata table columns dnd""",#39637,metabase-bot[bot],2024-03-06 19:08:06+00:00,['npfitz'],2024-03-06 20:00:44+00:00,2024-03-06 20:00:43+00:00,https://github.com/metabase/metabase/pull/39713,"[('visual', 'Run Percy visual testing'), ('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1981594689, 'issue_id': 2172224781, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff f34f3d9300b32b61cf70d0436cdfc8ab296d6051...782a6d0d465dd746e4e35cecac939780462ec855.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/settings/ChartSettingOrderedItems/ChartSettingOrderedItems.tsx |', 'created_at': datetime.datetime(2024, 3, 6, 19, 10, 11, tzinfo=datetime.timezone.utc)}, {'comment_id': 1981610029, 'issue_id': 2172224781, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/cc022437-fbdd-4afd-8a9c-1ccb63341316"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>782a6d0d465dd746e4e35cecac939780462ec855</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2325 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 19, 20, 25, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-06 19:10:11 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff f34f3d9300b32b61cf70d0436cdfc8ab296d6051...782a6d0d465dd746e4e35cecac939780462ec855.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/settings/ChartSettingOrderedItems/ChartSettingOrderedItems.tsx |

replay-io[bot] on (2024-03-06 19:20:25 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/cc022437-fbdd-4afd-8a9c-1ccb63341316"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>782a6d0d465dd746e4e35cecac939780462ec855</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2325 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2172223980,pull_request,closed,,Disable animation on NewItemMenu,"Closes #39303

### Description

[Loom](https://www.loom.com/share/730ce6be841e4cbfaa926d8def8cb01f)

Bug: While a complex dashboard or question is loading, the right-hand buttons in the nav don't work.

The root cause of the bug is that the fade-in animation that Mantine applies to the popover is intensive enough that the browser postpones it until the main work on the page is done.

Some ""smart"" solutions exist for this problem, such as disabling the animation when a certain condition is met. Let me explain why I prefer the ""dumb"" approach of flatly disabling the animation.

The popover has a white background like the elements beneath it, so the visual impact of the animation is scarcely noticeable. The benefit of the fade-in is small. It's a decorative animation; it does not tell the user anything or usefully guide their eye to something they wouldn't have noticed otherwise.

However, if the New button fails to work, what is the impact on the user's experience? I think it is significant. This button is sometimes the most salient clickable thing on the page. If a homepage dashboard is complex, the user may find that one of the first things they try to do on Metabase just doesn't work. This is not a good first impression. To avoid this, I think it is worth unconditionally disabling the animation. Any condition we introduce might miss certain cases. Today we see that dashboards and questions can create this problem, but tomorrow other pages may create the problem.

If we could have the popover determine whether or not its animation is about to get postponed and only then disable the animation, that would be nice. Unfortunately, the popover's efforts to assess whether it is getting postponed will themselves get postponed while the main thread is busy.

The Collections ""..."" popover in the side nav can fade in while a complex dashboard is loading. It would be nice if we could make the Mantine popover animation more like this other animation, which is managed through Tippy. I spent some time trying to achieve this, by nudging the Mantine popover to use hardware acceleration, but I believe this is not worth continued effort.

To quote some authorities:

> ""Before attempting to delight users with animations, designers should meet user‚Äôs base expectations and try to remove friction first"" - Naema Baskanderi, [""UI Animation: Please Use Responsibly"", 2017](https://uxdesign.cc/ui-animation-please-use-responsibly-e707dbdb12d5)

> ""Our brains respond powerfully to movement, so use animation sparingly. If you can do without animation, avoid it. Your microinteraction will be faster and less cognitively challenging without it. That being said, tiny, brief animations can add interest and convey meaning if done well."" - Dan Saffer, *Microinteractions: Designing with Details* (2013)",rafpaf,2024-03-06 19:07:34+00:00,['rafpaf'],2024-03-14 12:37:01+00:00,2024-03-07 02:29:58+00:00,https://github.com/metabase/metabase/pull/39712,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 1981706607, 'issue_id': 2172223980, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/3a89e9b5-f3d6-4deb-8dcc-00c28c438c29"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>3544bcad2f7b836f7879c590a1912ce01415527c</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2305 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 20, 15, 18, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-06 20:15:18 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/3a89e9b5-f3d6-4deb-8dcc-00c28c438c29"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>3544bcad2f7b836f7879c590a1912ce01415527c</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2305 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2172128528,pull_request,closed,,Dashboard width revision message should handle nil,"Fixes: #38910

Even though there shouldn't be `nil` values in `:width` keys on the dashboard, (because the migration populates w/ the default value of `full`), it is still true that because of the version before the migration, revisions  can have `nil` for the width
value. The diff string impl didn't consider this, causing an NPE with `(name nil)`.

This change should guard the diff string from trying to run on these `nil` values.",adam-james-v,2024-03-06 18:06:23+00:00,['adam-james-v'],2024-03-07 19:08:42+00:00,2024-03-07 19:08:28+00:00,https://github.com/metabase/metabase/pull/39710,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 1981515661, 'issue_id': 2172128528, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/7c81e12f-4941-44ee-9b16-89d4c1ff0227"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>7434ee6d778821cdd2c2c63a632977705fb56b2b</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2329 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 18, 18, 39, tzinfo=datetime.timezone.utc)}, {'comment_id': 1981680279, 'issue_id': 2172128528, 'author': 'adam-james-v', 'body': ""> change looks good, but can we please get a test for this? We like tests in these here parts\r\n\r\n@camsaul, I made a slight modification and added a test. It's probably still ok, but a quick second look might be good, if you have a second."", 'created_at': datetime.datetime(2024, 3, 6, 19, 57, 23, tzinfo=datetime.timezone.utc)}, {'comment_id': 1984241566, 'issue_id': 2172128528, 'author': 'github-actions[bot]', 'body': '@adam-james-v Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 7, 19, 8, 41, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-06 18:18:39 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/7c81e12f-4941-44ee-9b16-89d4c1ff0227"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>7434ee6d778821cdd2c2c63a632977705fb56b2b</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2329 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

adam-james-v (Issue Creator) on (2024-03-06 19:57:23 UTC): @camsaul, I made a slight modification and added a test. It's probably still ok, but a quick second look might be good, if you have a second.

github-actions[bot] on (2024-03-07 19:08:41 UTC): @adam-james-v Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2172064760,pull_request,closed,,Upgrade redux-auth-wrapper package,"### Description

Required dependency upgrade to unblock react v18 upgrade

### Checklist

~- [ ] Tests have been added/updated to cover changes in this PR~
Existing test coverage should be sufficient",sloansparger,2024-03-06 17:29:38+00:00,['sloansparger'],2024-03-08 04:55:03+00:00,2024-03-08 04:54:50+00:00,https://github.com/metabase/metabase/pull/39708,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 1981448679, 'issue_id': 2172064760, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/e72e5f38-7858-465a-ab65-fe3dfef30994"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>ed51cf304ae614d98dbf057471cd2f622ba5cdc6</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2329 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 17, 42, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 1985038392, 'issue_id': 2172064760, 'author': 'github-actions[bot]', 'body': '@sloansparger Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 8, 4, 55, 2, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-06 17:42:28 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/e72e5f38-7858-465a-ab65-fe3dfef30994"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 51 / 52</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>ed51cf304ae614d98dbf057471cd2f622ba5cdc6</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2329 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-08 04:55:02 UTC): @sloansparger Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2172052948,pull_request,closed,,"SQL Lineage: Track field usage, expose stale queries","This links Cards (with native queries) to Fields, showing us which queries use which Fields.

QueryFields are automatically maintained as part of the Card lifecycle.

When a Field is deactivated, the QueryField becomes stale. Affected cards are available via HTTP request.",tsmacdonald,2024-03-06 17:22:39+00:00,['tsmacdonald'],2024-03-14 12:34:26+00:00,2024-03-14 12:34:11+00:00,https://github.com/metabase/metabase/pull/39707,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 1988312957, 'issue_id': 2172052948, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/84239442-e19c-4114-b926-d8efa366cdea"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>a79b4cc0fae76abf70e63c20923e8488c8b0acf3</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2359 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 11, 12, 19, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 1988534877, 'issue_id': 2172052948, 'author': 'crisptrutski', 'body': ""> Still to do: identifying stale FieldUsages as part of sync.\r\n\r\nSince this is marked for review I'm guessing this is for a later PR? Just checking so I don't review prematurely üòÑ"", 'created_at': datetime.datetime(2024, 3, 11, 14, 9, 57, tzinfo=datetime.timezone.utc)}, {'comment_id': 1988541513, 'issue_id': 2172052948, 'author': 'tsmacdonald', 'body': ""> Since this is marked for review I'm guessing this is for a later PR? Just checking so I don't review prematurely üòÑ\r\n\r\n@crisptrutski nope, that was a stale comment. Updated the description, sorry!"", 'created_at': datetime.datetime(2024, 3, 11, 14, 13, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 1988959681, 'issue_id': 2172052948, 'author': 'tsmacdonald', 'body': '[Fixes #38926]', 'created_at': datetime.datetime(2024, 3, 11, 17, 0, 24, tzinfo=datetime.timezone.utc)}, {'comment_id': 1988966875, 'issue_id': 2172052948, 'author': 'tsmacdonald', 'body': 'Also [Fixes #39950]', 'created_at': datetime.datetime(2024, 3, 11, 17, 2, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 1997352623, 'issue_id': 2172052948, 'author': 'github-actions[bot]', 'body': '@tsmacdonald Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 14, 12, 34, 25, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-11 12:19:46 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/84239442-e19c-4114-b926-d8efa366cdea"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>a79b4cc0fae76abf70e63c20923e8488c8b0acf3</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2359 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

crisptrutski on (2024-03-11 14:09:57 UTC): Since this is marked for review I'm guessing this is for a later PR? Just checking so I don't review prematurely üòÑ

tsmacdonald (Issue Creator) on (2024-03-11 14:13:07 UTC): @crisptrutski nope, that was a stale comment. Updated the description, sorry!

tsmacdonald (Issue Creator) on (2024-03-11 17:00:24 UTC): [Fixes #38926]

tsmacdonald (Issue Creator) on (2024-03-11 17:02:56 UTC): Also [Fixes #39950]

github-actions[bot] on (2024-03-14 12:34:25 UTC): @tsmacdonald Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2172030628,pull_request,closed,,Take upload settings as an argument for easier testing,"### Description

This updates all the pure functions which use settings to take them as an argument.

Even if we're not similarly enamored with purity, perhaps we can agree on consistency? üòÜ ",crisptrutski,2024-03-06 17:09:44+00:00,['crisptrutski'],2024-03-14 11:58:10+00:00,2024-03-07 22:36:34+00:00,https://github.com/metabase/metabase/pull/39706,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 1981376343, 'issue_id': 2172030628, 'author': 'crisptrutski', 'body': '> [!WARNING]\n> <b>This pull request is not mergeable via GitHub because a downstack PR is open. Once all requirements are satisfied, merge this PR as a stack <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39706?utm_source=stack-comment-downstack-mergeability-warning"" >on Graphite</a>.</b>\n> <a href=""https://graphite.dev/docs/merge-pull-requests"">Learn more</a>\n\n* **#39706** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39706?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà\n* **#39493** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39493?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 4 other dependent PRs ([#39724](https://github.com/metabase/metabase/pull/39724) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39724?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#39741](https://github.com/metabase/metabase/pull/39741) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39741?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#39821](https://github.com/metabase/metabase/pull/39821) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39821?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> and 1 other)\n* **#39491** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39491?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>\n* `master`\n\nThis stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>\n<h2></h2>\n\n Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>\n  <!-- Current dependencies on/for this PR: -->', 'created_at': datetime.datetime(2024, 3, 6, 17, 9, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 1981404775, 'issue_id': 2172030628, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/4bfa80d4-96f5-4ff0-a46d-981e1ede9113"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>820bb265ba5f446f07ac3eddf45f49d4490b5590</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2337 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 17, 26, 21, tzinfo=datetime.timezone.utc)}]","crisptrutski (Issue Creator) on (2024-03-06 17:09:58 UTC): * **#39706** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39706?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> üëà
* **#39493** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39493?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>: 4 other dependent PRs ([#39724](https://github.com/metabase/metabase/pull/39724) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39724?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#39741](https://github.com/metabase/metabase/pull/39741) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39741?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>, [#39821](https://github.com/metabase/metabase/pull/39821) <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39821?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a> and 1 other)
* **#39491** <a href=""https://app.graphite.dev/github/pr/metabase/metabase/39491?utm_source=stack-comment-icon"" target=""_blank""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""10px"" height=""10px""/></a>
* `master`

This stack of pull requests is managed by Graphite. <a href=""https://stacking.dev/?utm_source=stack-comment"">Learn more about stacking.</a>
<h2></h2>

 Join @crisptrutski and the rest of your teammates on <a href=""https://graphite.dev?utm-source=stack-comment""><img src=""https://static.graphite.dev/graphite-32x32-black.png"" alt=""Graphite"" width=""11px"" height=""11px""/> <b>Graphite</b></a>
  <!-- Current dependencies on/for this PR: -->

replay-io[bot] on (2024-03-06 17:26:21 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/4bfa80d4-96f5-4ff0-a46d-981e1ede9113"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>820bb265ba5f446f07ac3eddf45f49d4490b5590</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2337 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2172016294,pull_request,closed,,Chart Settings Table Formatting DnD kit,"Closes https://github.com/metabase/metabase/issues/39655

### Description
PR to transition DnD logic in `<ChartSettingsTableFormatting />`  from `react-sortable-hoc` to `@dnd-kit`. Needed to introduce the idea of an ID to formatting rules, but this should not impact user experience. Added e2e test for adding/removing/reordering formatting rules

### How to verify

1. Go to a table visualization, add / remove / reorder any formatting rules
2. Same for pivot table visualization.

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",npfitz,2024-03-06 17:02:09+00:00,['npfitz'],2024-03-08 04:39:35+00:00,2024-03-08 04:39:34+00:00,https://github.com/metabase/metabase/pull/39705,"[('backport', 'Automatically create PR on current release branch on merge'), ('visual', 'Run Percy visual testing'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 1981363750, 'issue_id': 2172016294, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff e8dcda839cb25dff811a420dec51dfe38ae4cbcc...215735116f4d22ef6b45774bb0092299e33d0f88.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/settings/ChartSettingsTableFormatting.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingsTableFormatting.unit.spec.js<br>frontend/src/metabase/visualizations/visualizations/PivotTable/settings.ts<br>frontend/src/metabase/visualizations/visualizations/Table.tsx |', 'created_at': datetime.datetime(2024, 3, 6, 17, 3, 21, tzinfo=datetime.timezone.utc)}, {'comment_id': 1981383864, 'issue_id': 2172016294, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/5fead4a2-6af2-46b3-b331-7841a8084116"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>215735116f4d22ef6b45774bb0092299e33d0f88</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2337 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 17, 14, 15, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-06 17:03:21 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff e8dcda839cb25dff811a420dec51dfe38ae4cbcc...215735116f4d22ef6b45774bb0092299e33d0f88.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/settings/ChartSettingsTableFormatting.jsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingsTableFormatting.unit.spec.js<br>frontend/src/metabase/visualizations/visualizations/PivotTable/settings.ts<br>frontend/src/metabase/visualizations/visualizations/Table.tsx |

replay-io[bot] on (2024-03-06 17:14:15 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/5fead4a2-6af2-46b3-b331-7841a8084116"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>215735116f4d22ef6b45774bb0092299e33d0f88</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2337 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2172005780,pull_request,closed,,Add dashboard tabs E2E test to the flaky ones,"This test is failing almost consistently.
Putting it in a flaky group so it doesn't block development.",nemanjaglumac,2024-03-06 16:56:43+00:00,['nemanjaglumac'],2024-03-06 16:58:55+00:00,2024-03-06 16:58:54+00:00,https://github.com/metabase/metabase/pull/39704,[],[],
2171954996,pull_request,closed,,Allow dropdown source for all string operators in dashboards,"How to verify:
- Add string/contains parameter to the dashboard and connect it to a field
- Set ""dropdown"" options in the sidebar for this parameter
- Make sure you can select field values in the widget for this parameter
- Custom value source options should also work

<img width=""1603"" alt=""Screenshot 2024-03-06 at 18 38 27"" src=""https://github.com/metabase/metabase/assets/8542534/192046fc-aa33-48c2-aa2d-afbcde611685"">
<img width=""653"" alt=""Screenshot 2024-03-06 at 18 38 33"" src=""https://github.com/metabase/metabase/assets/8542534/f2d5f5d1-764f-4886-a21f-ae7714e15631"">
",ranquild,2024-03-06 16:38:52+00:00,['ranquild'],2024-03-11 12:21:05+00:00,2024-03-11 12:20:51+00:00,https://github.com/metabase/metabase/pull/39703,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 1981354302, 'issue_id': 2171954996, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/a8531aee-af8a-44fb-9e8d-4a943f1b15c0"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>a2ec40fd4024c4bc97e6167148bc0c9e519bdc2c</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2351 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 16, 58, 20, tzinfo=datetime.timezone.utc)}, {'comment_id': 1988315324, 'issue_id': 2171954996, 'author': 'github-actions[bot]', 'body': '@ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 11, 12, 21, 4, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-06 16:58:20 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/a8531aee-af8a-44fb-9e8d-4a943f1b15c0"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>a2ec40fd4024c4bc97e6167148bc0c9e519bdc2c</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2351 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-11 12:21:04 UTC): @ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2171830556,pull_request,closed,,"ü§ñ backported ""ChartSettingOrderedItems using SortableList""",#39561,metabase-bot[bot],2024-03-06 15:47:57+00:00,['npfitz'],2024-03-06 16:24:51+00:00,2024-03-06 16:24:50+00:00,https://github.com/metabase/metabase/pull/39698,"[('visual', 'Run Percy visual testing'), ('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1981181780, 'issue_id': 2171830556, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff dc7a1cbc23fec9804f96f1c5e2ba20502218c9a3...0bbba4179235b3d490c013d2a55ad09fd340f1cc.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/settings/ChartSettingOrderedItems/ChartSettingOrderedItems.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingOrderedSimple.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingTableColumns/TableColumnPanel/TableColumnPanel.tsx<br>frontend/src/metabase/visualizations/visualizations/Table.unit.spec.js |', 'created_at': datetime.datetime(2024, 3, 6, 15, 49, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 1981204194, 'issue_id': 2171830556, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/f62137bd-8694-4fac-818d-9ed404c49e26"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>0bbba4179235b3d490c013d2a55ad09fd340f1cc</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>5 Flaky</b></div>\n<div>‚úÖ <b>2318 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 15, 59, 44, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-06 15:49:07 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff dc7a1cbc23fec9804f96f1c5e2ba20502218c9a3...0bbba4179235b3d490c013d2a55ad09fd340f1cc.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/settings/ChartSettingOrderedItems/ChartSettingOrderedItems.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingOrderedSimple.tsx<br>frontend/src/metabase/visualizations/components/settings/ChartSettingTableColumns/TableColumnPanel/TableColumnPanel.tsx<br>frontend/src/metabase/visualizations/visualizations/Table.unit.spec.js |

replay-io[bot] on (2024-03-06 15:59:44 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/f62137bd-8694-4fac-818d-9ed404c49e26"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>0bbba4179235b3d490c013d2a55ad09fd340f1cc</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>5 Flaky</b></div>
<div>‚úÖ <b>2318 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2171724864,pull_request,closed,,Embedding SDK theme,"PoC for theming
",WiNloSt,2024-03-06 15:05:05+00:00,[],2024-06-21 14:13:39+00:00,2024-06-21 14:13:36+00:00,https://github.com/metabase/metabase/pull/39696,[],[],
2171578340,pull_request,closed,,Cache can-run,https://metaboat.slack.com/archives/C05MPF0TM3L/p1708940856401629,ranquild,2024-03-06 13:57:34+00:00,['ranquild'],2024-03-07 10:48:17+00:00,2024-03-07 10:48:04+00:00,https://github.com/metabase/metabase/pull/39695,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 1980957977, 'issue_id': 2171578340, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/4cb685ea-cddb-49d1-a14b-8b8188d6318a"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>78097391c8a56cbd0ac9ac1578c2d97257d033ef</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2326 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 14, 10, 2, tzinfo=datetime.timezone.utc)}, {'comment_id': 1983246295, 'issue_id': 2171578340, 'author': 'github-actions[bot]', 'body': '@ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 7, 10, 48, 16, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-06 14:10:02 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/4cb685ea-cddb-49d1-a14b-8b8188d6318a"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>78097391c8a56cbd0ac9ac1578c2d97257d033ef</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2326 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-07 10:48:16 UTC): @ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2171573683,pull_request,closed,,"ü§ñ backported ""Fix field-vales query to specify :full type""",#39652,metabase-bot[bot],2024-03-06 13:55:18+00:00,['crisptrutski'],2024-03-06 21:12:27+00:00,2024-03-06 21:12:26+00:00,https://github.com/metabase/metabase/pull/39694,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1980952582, 'issue_id': 2171573683, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/107d2067-0c5c-4d27-8e08-5d8895803115"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>3e6e59e819c6376df0872b2be83007d0cd9c5a29</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>7 Flaky</b></div>\n<div>‚úÖ <b>2315 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 14, 7, 9, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-06 14:07:09 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/107d2067-0c5c-4d27-8e08-5d8895803115"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>3e6e59e819c6376df0872b2be83007d0cd9c5a29</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>7 Flaky</b></div>
<div>‚úÖ <b>2315 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2171571391,pull_request,closed,,"ü§ñ backported ""Fail number parsing if it is only a substring""",#39576,metabase-bot[bot],2024-03-06 13:54:10+00:00,['crisptrutski'],2024-03-06 14:29:20+00:00,2024-03-06 14:29:19+00:00,https://github.com/metabase/metabase/pull/39693,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1980951265, 'issue_id': 2171571391, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/d4988673-fce8-4f82-b429-b85ce82413ee"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>b42573f6a891641657308e6eaa361312414e9515</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚úÖ <b>2296 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 14, 6, 30, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-06 14:06:30 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/d4988673-fce8-4f82-b429-b85ce82413ee"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>b42573f6a891641657308e6eaa361312414e9515</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚úÖ <b>2296 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2171536152,pull_request,closed,,Repro #39508 - Query builder silently fails on duplicate custom column names,"Closes #39508

### How to verify

This test should fail on `v0.49.0-RC1` tag.",kamilmielnik,2024-03-06 13:37:17+00:00,['kamilmielnik'],2024-03-07 06:50:02+00:00,2024-03-07 06:50:01+00:00,https://github.com/metabase/metabase/pull/39692,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]",[],
2171530751,pull_request,closed,,"ü§ñ backported ""Migrate from legacy popover in notebook components""","  #39200
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",metabase-bot[bot],2024-03-06 13:34:58+00:00,['ranquild'],2024-03-06 14:32:58+00:00,2024-03-06 14:32:57+00:00,https://github.com/metabase/metabase/pull/39690,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1980902730, 'issue_id': 2171530751, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 5ce81a0e4ffb5efac92f11f33797760b6ffab086...4cf34714c82b45ca415b87ab15ecaf5b7088b49b.\n\n| Notify | File(s) |\n|-|-|\n| @kdoh | frontend/src/metabase/ui/components/overlays/Popover/Popover.styled.tsx |', 'created_at': datetime.datetime(2024, 3, 6, 13, 41, 53, tzinfo=datetime.timezone.utc)}, {'comment_id': 1980923761, 'issue_id': 2171530751, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/03ec2e94-a7b9-4672-9bba-9d160ee4787d"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>4cf34714c82b45ca415b87ab15ecaf5b7088b49b</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2325 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 13, 52, 26, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-06 13:41:53 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 5ce81a0e4ffb5efac92f11f33797760b6ffab086...4cf34714c82b45ca415b87ab15ecaf5b7088b49b.

| Notify | File(s) |
|-|-|
| @kdoh | frontend/src/metabase/ui/components/overlays/Popover/Popover.styled.tsx |

replay-io[bot] on (2024-03-06 13:52:26 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/03ec2e94-a7b9-4672-9bba-9d160ee4787d"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>4cf34714c82b45ca415b87ab15ecaf5b7088b49b</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2325 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2171491911,pull_request,closed,,"ü§ñ backported ""Repro #11994 - Clicking RawData-toggle on pivoted table makes the question dirty and shows Save-button""",#39629,metabase-bot[bot],2024-03-06 13:17:00+00:00,['kamilmielnik'],2024-03-06 14:53:13+00:00,2024-03-06 14:53:12+00:00,https://github.com/metabase/metabase/pull/39689,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1980874844, 'issue_id': 2171491911, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/0c1c059e-f877-4b97-9803-c5691b9212c5"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 55 / 56</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>1b81007dfeacc5660aa999ad3c31befc29709d83</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>\n<div>‚úÖ <b>2326 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 13, 28, 44, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-06 13:28:44 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/0c1c059e-f877-4b97-9803-c5691b9212c5"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 55 / 56</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>1b81007dfeacc5660aa999ad3c31befc29709d83</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>2 Flaky</b></div>
<div>‚úÖ <b>2326 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2171380173,pull_request,closed,,Do not create questions for dashcards with permission errors,"Spotted by https://github.com/metabase/metabase/pull/39682

We should never create an MLv2 query from `dataset_query: null`.",ranquild,2024-03-06 12:22:14+00:00,['ranquild'],2024-03-07 10:49:19+00:00,2024-03-07 10:49:04+00:00,https://github.com/metabase/metabase/pull/39688,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 1980772339, 'issue_id': 2171380173, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/a54277d2-4d91-414c-8ac8-767dae03fe92"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>2e5a81b72a9d7d3a218af86bb0bdd50e7369b68f</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2327 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 12, 33, 36, tzinfo=datetime.timezone.utc)}, {'comment_id': 1983248117, 'issue_id': 2171380173, 'author': 'github-actions[bot]', 'body': '@ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 7, 10, 49, 17, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-06 12:33:36 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/a54277d2-4d91-414c-8ac8-767dae03fe92"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>2e5a81b72a9d7d3a218af86bb0bdd50e7369b68f</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2327 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-07 10:49:17 UTC): @ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2171363327,pull_request,closed,,Show models correctly in the data source picker,"Models were supported in the data selector (data picker) only when starting the ""New > Question"" or a ""New > Model"" flow. But once you save that model and want to see its source, the data picker didn't work anymore. This was due to this check (that is passed as a prop to many child components):
```jsx
isDatasets={ selectedDataBucketId === DATA_BUCKET.MODELS }
```

But when you are opening a saved entity, this data bucket doesn't exist, and the component doesn't know what to display, so it always defaulted to ""Saved Questions"". Luckily, there is already an information (`id`) about the saved entity we're opening. This PR introduces a fetching logic that uses said `id` to fetch a question, and it then checks its `type`. The type can either be a question or a model (for now).

Now our previous logic that determines whether we're showing models in the data picker becomes:
```js
const isDatasets =
  // Are we in the ""New > ___"" mode
  selectedDataBucketId === DATA_BUCKET.MODELS ||
  // or do we open an already saved entity?
  savedEntityType === ""model"";
```

### Tests
An E2E reproduction has been added for now, until I figure out how much can I cover with FE unit/integration tests.

Reproduces and fixes #39699",nemanjaglumac,2024-03-06 12:12:38+00:00,['nemanjaglumac'],2024-03-07 14:11:41+00:00,2024-03-07 14:11:40+00:00,https://github.com/metabase/metabase/pull/39686,"[('.Team/Querying', '')]","[{'comment_id': 1980759130, 'issue_id': 2171363327, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/2c0df190-1ad1-491b-a561-abe42554b2a4"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>b196fd4bfc0dd62986c68f04be07c07f2d7808ac</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2345 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 12, 25, 54, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-06 12:25:54 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/2c0df190-1ad1-491b-a561-abe42554b2a4"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>b196fd4bfc0dd62986c68f04be07c07f2d7808ac</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2345 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2171349799,pull_request,closed,,"ü§ñ backported ""Scroll dashboard tabs to the end when adding a tab""",#39648,metabase-bot[bot],2024-03-06 12:05:13+00:00,['kulyk'],2024-03-06 12:40:56+00:00,2024-03-06 12:40:55+00:00,https://github.com/metabase/metabase/pull/39684,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1980745707, 'issue_id': 2171349799, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/bd08d556-a25c-4502-bbc3-d7ff133d0b85"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>5ea4e0a1e0364656ec5d8317c51eb3f3e57062ae</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚úÖ <b>2326 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 12, 17, 44, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-06 12:17:44 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/bd08d556-a25c-4502-bbc3-d7ff133d0b85"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>5ea4e0a1e0364656ec5d8317c51eb3f3e57062ae</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚úÖ <b>2326 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2171326155,pull_request,closed,,[E2E] Overload the existing E2E visitQuestion helper to make it work with the alias,"Similar to #38309 (I even copied the PR description from there)

Depends on #39629

### Description

This PR overloads the existing `visitQuestion` E2E helper to make it accept either:
1. a direct question id (number) or
2. a question id alias (string)

It then replaces and updates related specs that were grabbing the question id alias and then calling the `visitQuestion` function. The code can be simplified like this:

```diff
- cy.get(""@myQuestion"").then(id => {
-   visitQuestion(id);
- });
+ visitQuestion(""@myQuestion"");
```",kamilmielnik,2024-03-06 11:51:56+00:00,['kamilmielnik'],2024-03-19 09:15:59+00:00,2024-03-06 14:22:56+00:00,https://github.com/metabase/metabase/pull/39683,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 1980730029, 'issue_id': 2171326155, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/a2fc9ce7-f66a-4257-a3a1-b367186177df"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>c63043b31698b95500d74af3938805c0c6871ae3</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>7 Flaky</b></div>\n<div>‚úÖ <b>2325 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 12, 8, 27, tzinfo=datetime.timezone.utc)}, {'comment_id': 1980983681, 'issue_id': 2171326155, 'author': 'github-actions[bot]', 'body': '@kamilmielnik Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 6, 14, 23, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2006445838, 'issue_id': 2171326155, 'author': 'kamilmielnik', 'body': '@metabase-bot backport release-x.49.x', 'created_at': datetime.datetime(2024, 3, 19, 9, 15, 58, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-06 12:08:27 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/a2fc9ce7-f66a-4257-a3a1-b367186177df"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>c63043b31698b95500d74af3938805c0c6871ae3</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>7 Flaky</b></div>
<div>‚úÖ <b>2325 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-06 14:23:10 UTC): @kamilmielnik Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

kamilmielnik (Issue Creator) on (2024-03-19 09:15:58 UTC): @metabase-bot backport release-x.49.x

"
2171297826,pull_request,closed,,Cache `fromLegacyQuery` calls,"We often call `fromLegacyQuery` with the same metadata and query. This leads to performance issues. We could fix them at once by adding caching to this method in CLJS.

How to verify:
- Calling `Lib.fromLegacyQuery(databaseId, metadataProvider, datasetQuery)` twice should return the same object

<img width=""1513"" alt=""Screenshot 2024-03-06 at 13 23 17"" src=""https://github.com/metabase/metabase/assets/8542534/9ceb2d65-1366-485f-a10e-fd31778c638d"">

",ranquild,2024-03-06 11:35:49+00:00,['ranquild'],2024-03-07 12:21:13+00:00,2024-03-07 12:21:00+00:00,https://github.com/metabase/metabase/pull/39682,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Querying', '')]","[{'comment_id': 1980706080, 'issue_id': 2171297826, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/75dbb40e-eee2-4ac5-98cf-acdf5b0e8029"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>ba090907e88c9d00200104b8bb9f5d7e6890e289</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>1 Failed</b></div>\n<div>‚ö†Ô∏è <b>5 Flaky</b></div>\n<div>‚úÖ <b>2332 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 11, 54, 28, tzinfo=datetime.timezone.utc)}, {'comment_id': 1983396388, 'issue_id': 2171297826, 'author': 'github-actions[bot]', 'body': '@ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 7, 12, 21, 12, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-06 11:54:28 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/75dbb40e-eee2-4ac5-98cf-acdf5b0e8029"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>ba090907e88c9d00200104b8bb9f5d7e6890e289</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>1 Failed</b></div>
<div>‚ö†Ô∏è <b>5 Flaky</b></div>
<div>‚úÖ <b>2332 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-07 12:21:12 UTC): @ranquild Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2171273835,pull_request,closed,,[HDS] Prep/cleanup steps for Highlighting the data source,"This PR is only a cleanup phase that should support the work on #39542.

The problematic part in the `DataSelector` was that it was never designed to truly work with models 100%. The naming of many related components suggests this. Everything was revolving around a ""saved question"". In this PR I renamed methods and the components to reflect the fact there can be multiple different entities that are saved.

Currently, those are saved questions and (saved) models. But pretty soon we will have metrics as well (see https://github.com/metabase/metabase/issues/37358).

Since we're also moving from the use of the term ""dataset"" to ""model"" in more places in the code, I updated some of this references as well (see `DATA_BUCKET` for example).

Other than that, no code logic was changed in this PR.
Everything should still work the same, and all tests should pass.

> [!Note]
> Keep in mind this merges into a feature branch. Not `master`.",nemanjaglumac,2024-03-06 11:23:36+00:00,['nemanjaglumac'],2024-03-06 20:50:10+00:00,2024-03-06 20:50:09+00:00,https://github.com/metabase/metabase/pull/39681,"[('.Team/Querying', '')]","[{'comment_id': 1980677808, 'issue_id': 2171273835, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/a3d87948-0ae5-4bc6-b9e5-47880e21991c"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>97a0c1dc0fda5016e730ce18a074f9dd2ae3e754</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>\n<div>‚úÖ <b>2342 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 11, 36, 45, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-06 11:36:45 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/a3d87948-0ae5-4bc6-b9e5-47880e21991c"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>97a0c1dc0fda5016e730ce18a074f9dd2ae3e754</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>3 Flaky</b></div>
<div>‚úÖ <b>2342 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2171242234,pull_request,closed,,Add stylelint,"### Description

Introduce stylelint for css files.

if you think you already saw this PR, you're right https://github.com/metabase/metabase/pull/33033

### How to verify

- add duplicated line to the css file
- try to commit it
- lint-staged should fail",uladzimirdev,2024-03-06 11:11:13+00:00,['uladzimirdev'],2024-03-06 18:11:32+00:00,2024-03-06 18:11:19+00:00,https://github.com/metabase/metabase/pull/39680,"[('visual', 'Run Percy visual testing'), ('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 1980631291, 'issue_id': 2171242234, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 0483818e6a5d9ff0c37a637661f90901980d9a5d...f5849b7a0f132fe47cbcb2d4521504688e2ae9b0.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/components/ChartWithLegend.module.css<br>frontend/src/metabase/visualizations/components/LineAreaBarChart.module.css<br>frontend/src/metabase/visualizations/components/TableInteractive/TableInteractive.module.css |', 'created_at': datetime.datetime(2024, 3, 6, 11, 12, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 1980654636, 'issue_id': 2171242234, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/7ee5fdf0-6a0c-4e0c-9808-d169d63e6fb0"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>f5849b7a0f132fe47cbcb2d4521504688e2ae9b0</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>9 Flaky</b></div>\n<div>‚úÖ <b>2321 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 11, 23, 18, tzinfo=datetime.timezone.utc)}, {'comment_id': 1981504324, 'issue_id': 2171242234, 'author': 'github-actions[bot]', 'body': '@uladzimirdev Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 6, 18, 11, 30, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-06 11:12:16 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 0483818e6a5d9ff0c37a637661f90901980d9a5d...f5849b7a0f132fe47cbcb2d4521504688e2ae9b0.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/components/ChartWithLegend.module.css<br>frontend/src/metabase/visualizations/components/LineAreaBarChart.module.css<br>frontend/src/metabase/visualizations/components/TableInteractive/TableInteractive.module.css |

replay-io[bot] on (2024-03-06 11:23:18 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/7ee5fdf0-6a0c-4e0c-9808-d169d63e6fb0"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>f5849b7a0f132fe47cbcb2d4521504688e2ae9b0</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>9 Flaky</b></div>
<div>‚úÖ <b>2321 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-06 18:11:30 UTC): @uladzimirdev Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2171098696,pull_request,closed,,Update existing foreign keys during metadata sync,"Fixes https://github.com/metabase/metabase/issues/39685

This is also a pre-requisite for [Faster sync-fks](https://github.com/metabase/metabase/pull/38970), because the approach I'm taking there will use more memory without this change.

It also reduces the memory footprint of the ""sync-fks"" step for databases with many tables. Previously we would allocate all of the tables of a database every time in a vector.

I tested the impact on speed using the below criterium benchmark, which simulates the `sync-fks!` step for a database with 100 foreign keys:
```clojure
(let [n-foreign-keys 100]
  (mt/with-temp-test-data
    (mapcat
     (fn [i]
       [[(str ""continent_"" i)
         [{:field-name ""name"", :base-type :type/Text}]
         []]
        [(str ""country_"" i)
         [{:field-name ""name"", :base-type :type/Text}
          {:field-name ""continent_id"", :base-type :type/Integer}]
         []]])
     (range n-foreign-keys))
    (metabase.sync/sync-database! (mt/db) {:scan :schema})
    (doseq [i (range n-foreign-keys)]
      (t2/query-one (mt/db) (str ""ALTER TABLE country_"" i "" ADD CONSTRAINT contraint_"" i "" FOREIGN KEY (continent_id) REFERENCES continent_"" i ""(id);"")))
    (t2/with-call-count [call-count]
      (criterium.core/quick-bench (metabase.sync.sync-metadata.fks/sync-fks! (mt/db)))
      (call-count))))
```

Using a local postgres app DB and an H2 test DB:

Before:
Evaluation count : 12 in 6 samples of 2 calls.
Execution time mean : 73.440179 ms
After: 
Evaluation count : 6 in 6 samples of 1 calls.
Execution time mean : 132.344456 ms

I'd need to dive into the reason behind the difference in performance, but it gives me enough confidence to move on to [Faster sync-fks](https://github.com/metabase/metabase/pull/38970), which is where the real performance improvement will come from and more than make up for it.",calherries,2024-03-06 09:59:01+00:00,['calherries'],2024-03-08 11:54:22+00:00,2024-03-08 11:44:10+00:00,https://github.com/metabase/metabase/pull/39679,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 1980516657, 'issue_id': 2171098696, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/ab215980-50c4-4904-ab12-8d349f74a63c"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>d2980614a5d35215830a673d941dc150f94324ec</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>8 Flaky</b></div>\n<div>‚úÖ <b>2333 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 10, 10, 4, tzinfo=datetime.timezone.utc)}, {'comment_id': 1985551705, 'issue_id': 2171098696, 'author': 'github-actions[bot]', 'body': '@calherries Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 8, 11, 44, 26, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-06 10:10:04 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/ab215980-50c4-4904-ab12-8d349f74a63c"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>d2980614a5d35215830a673d941dc150f94324ec</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>8 Flaky</b></div>
<div>‚úÖ <b>2333 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-08 11:44:26 UTC): @calherries Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2171073920,pull_request,closed,,Fix dev/pprint-sql,#34991 broke this dev function. This PR fixes it and extends it to take the current application db's type by default,calherries,2024-03-06 09:46:45+00:00,['calherries'],2024-03-06 12:44:49+00:00,2024-03-06 12:44:36+00:00,https://github.com/metabase/metabase/pull/39678,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 1980790922, 'issue_id': 2171073920, 'author': 'github-actions[bot]', 'body': '@calherries Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 6, 12, 44, 48, tzinfo=datetime.timezone.utc)}]","github-actions[bot] on (2024-03-06 12:44:48 UTC): @calherries Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2170915567,pull_request,closed,,"ü§ñ backported ""Join performance issues""","  #39633
  > [!IMPORTANT]
  > Manual conflict resolution is required.
  Checkout the branch and run `./backport.sh` script. Force push your changes after cherry-picking.",metabase-bot[bot],2024-03-06 08:26:42+00:00,['ranquild'],2024-03-06 15:12:12+00:00,2024-03-06 15:12:11+00:00,https://github.com/metabase/metabase/pull/39676,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1980861926, 'issue_id': 2170915567, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/6a85d684-eb96-4a96-a7b5-8d8713c266f9"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>444075633dbe4356ac34002082634188c1634219</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2322 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 13, 21, 8, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-06 13:21:08 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/6a85d684-eb96-4a96-a7b5-8d8713c266f9"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>444075633dbe4356ac34002082634188c1634219</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2322 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2170871021,pull_request,closed,,"Refactor `cy.updatePermissionsGraph`, `cy.updatePermissionsSchemas` & `cy.updateCollectionGraph` to TypeScript","### Description

`cy.updatePermissionsGraph`, `cy.updatePermissionsSchemas` & `cy.updateCollectionGraph` are now defined in TS.

Required for #39629 repro to be implemented in TS.

### How to verify

1. Checkout the branch: `refactor/e2e-permissions-ts`
2. Open `16584-run-selected-text-does-not-preserve-parameter-values.cy.spec.ts`
3. Type `cy.updatePermissionsGraph({ ""1"": { } })` and enjoy your type hints",kamilmielnik,2024-03-06 07:58:35+00:00,['kamilmielnik'],2024-03-06 09:26:41+00:00,2024-03-06 09:25:39+00:00,https://github.com/metabase/metabase/pull/39675,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Querying', '')]","[{'comment_id': 1980306825, 'issue_id': 2170871021, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/ef9d3cf5-bfdd-4f80-aefa-909176916b1f"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 55 / 56</td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>3f3c0cc585b0059e1ed537e7a36abe7d29b82996</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>5 Flaky</b></div>\n<div>‚úÖ <b>2325 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 8, 15, 13, tzinfo=datetime.timezone.utc)}, {'comment_id': 1980433564, 'issue_id': 2170871021, 'author': 'github-actions[bot]', 'body': '@kamilmielnik Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 6, 9, 25, 52, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-06 08:15:13 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/ef9d3cf5-bfdd-4f80-aefa-909176916b1f"" target=""_blank"">In Progress ‚ÜóÔ∏é</a> 55 / 56</td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>3f3c0cc585b0059e1ed537e7a36abe7d29b82996</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>5 Flaky</b></div>
<div>‚úÖ <b>2325 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-06 09:25:52 UTC): @kamilmielnik Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2170685810,pull_request,closed,,"ü§ñ backported ""Fix mistake in API changelog: type can be ""question"" not ""query""""",#39673,metabase-bot[bot],2024-03-06 05:46:16+00:00,['calherries'],2024-03-06 05:47:48+00:00,2024-03-06 05:47:47+00:00,https://github.com/metabase/metabase/pull/39674,"[('was-backported', 'apply this to PRs that are themselves backports')]",[],
2170669215,pull_request,closed,,"Fix mistake in API changelog: type can be ""question"" not ""query""","This PR fixes a mistake in the API changelog: type can be ""question"" not ""query"".",calherries,2024-03-06 05:28:28+00:00,['calherries'],2024-03-06 05:45:30+00:00,2024-03-06 05:45:18+00:00,https://github.com/metabase/metabase/pull/39673,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 1980115805, 'issue_id': 2170669215, 'author': 'calherries', 'body': ""Just to sense check, see Cam's PR:\r\nhttps://github.com/metabase/metabase/pull/38981/files#diff-63be21df3f5f1d4567f91ecde84d2b1e08a726f45b44172e27f958c264f90ee4R25"", 'created_at': datetime.datetime(2024, 3, 6, 5, 29, 19, tzinfo=datetime.timezone.utc)}, {'comment_id': 1980128963, 'issue_id': 2170669215, 'author': 'github-actions[bot]', 'body': '@calherries Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 6, 5, 45, 30, tzinfo=datetime.timezone.utc)}]","calherries (Issue Creator) on (2024-03-06 05:29:19 UTC): Just to sense check, see Cam's PR:
https://github.com/metabase/metabase/pull/38981/files#diff-63be21df3f5f1d4567f91ecde84d2b1e08a726f45b44172e27f958c264f90ee4R25

github-actions[bot] on (2024-03-06 05:45:30 UTC): @calherries Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2170624751,pull_request,closed,,"ü§ñ backported ""Use timestamp in attachment filenames""",#39666,metabase-bot[bot],2024-03-06 04:43:22+00:00,['adam-james-v'],2024-03-06 05:17:52+00:00,2024-03-06 05:17:51+00:00,https://github.com/metabase/metabase/pull/39672,"[('was-backported', 'apply this to PRs that are themselves backports')]","[{'comment_id': 1980086945, 'issue_id': 2170624751, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/acebb987-00a9-4b39-9d44-84acfdaad084"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>66f6bcc5dd2b14c8b9a982d4d59b69611b4c1de5</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2325 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 4, 54, 32, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-06 04:54:32 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/acebb987-00a9-4b39-9d44-84acfdaad084"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>66f6bcc5dd2b14c8b9a982d4d59b69611b4c1de5</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2325 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

"
2170515903,pull_request,closed,,Count Field usage,"Closes https://github.com/metabase/metabase/issues/40494
Milestone 2 of https://github.com/metabase/metabase/issues/38229",qnkhuat,2024-03-06 02:45:12+00:00,['qnkhuat'],2024-04-18 03:45:37+00:00,2024-04-18 03:45:36+00:00,https://github.com/metabase/metabase/pull/39671,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 1979988471, 'issue_id': 2170515903, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/6b57a60e-b94d-484a-975d-7d6537b916dd"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>94afdca9ae47bf8afc6f439e37d7ac9959ca7536</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>13 Flaky</b></div>\n<div>‚úÖ <b>2396 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 2, 56, 52, tzinfo=datetime.timezone.utc)}, {'comment_id': 2022547476, 'issue_id': 2170515903, 'author': 'github-actions[bot]', 'body': '<!-- codenotify:CODENOTIFY report -->\n[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 5fb43f266334830533610b483f88fea1bdf631b5...416e289b27a88173b813a2f83184b9f280cd4a78.\n\n| Notify | File(s) |\n|-|-|\n| @alxnddr | frontend/src/metabase/visualizations/visualizations/Table.tsx |', 'created_at': datetime.datetime(2024, 3, 27, 11, 31, 10, tzinfo=datetime.timezone.utc)}, {'comment_id': 2033994363, 'issue_id': 2170515903, 'author': 'calherries', 'body': ""I would recommend someone from @metabase/core-backend-qp have a look at the code that uses MLv2. We're reaching into a few maps to get data and I'm not confident that we're not breaking any module boundaries."", 'created_at': datetime.datetime(2024, 4, 3, 9, 8, 46, tzinfo=datetime.timezone.utc)}, {'comment_id': 2036696985, 'issue_id': 2170515903, 'author': 'qnkhuat', 'body': ""okay so we(w/ Cal) had a huddle and decided that we don't want to store any json in this table of ease of querying in the future. No one like looking into parsing `breakout_binning` to get `:strategy` in SQL.\r\n\r\ninstead we'll now have 3 more columns: breakout_binning_strategy, breakout_binning_bin_width, breakout_binning_num_bin. \r\n\r\nAlso removed `filter_args` because of this reason. We'll revisit storing this in a different shape when we need it. One idea is to store one arg per row."", 'created_at': datetime.datetime(2024, 4, 4, 9, 41, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 2048966734, 'issue_id': 2170515903, 'author': 'qnkhuat', 'body': ""@bshepherdson I've updated so we don't process the query in process-userland-query middleware, instead we get the passed the processed query through metadata and then dissoc it before returning.\r\n\r\nPlease help reviews!"", 'created_at': datetime.datetime(2024, 4, 11, 5, 46, 18, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-06 02:56:52 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/6b57a60e-b94d-484a-975d-7d6537b916dd"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>94afdca9ae47bf8afc6f439e37d7ac9959ca7536</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>13 Flaky</b></div>
<div>‚úÖ <b>2396 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-27 11:31:10 UTC): <!-- codenotify:CODENOTIFY report -->
[Codenotify](https://github.com/sourcegraph/codenotify): Notifying subscribers in CODENOTIFY files for diff 5fb43f266334830533610b483f88fea1bdf631b5...416e289b27a88173b813a2f83184b9f280cd4a78.

| Notify | File(s) |
|-|-|
| @alxnddr | frontend/src/metabase/visualizations/visualizations/Table.tsx |

calherries on (2024-04-03 09:08:46 UTC): I would recommend someone from @metabase/core-backend-qp have a look at the code that uses MLv2. We're reaching into a few maps to get data and I'm not confident that we're not breaking any module boundaries.

qnkhuat (Issue Creator) on (2024-04-04 09:41:56 UTC): okay so we(w/ Cal) had a huddle and decided that we don't want to store any json in this table of ease of querying in the future. No one like looking into parsing `breakout_binning` to get `:strategy` in SQL.

instead we'll now have 3 more columns: breakout_binning_strategy, breakout_binning_bin_width, breakout_binning_num_bin. 

Also removed `filter_args` because of this reason. We'll revisit storing this in a different shape when we need it. One idea is to store one arg per row.

qnkhuat (Issue Creator) on (2024-04-11 05:46:18 UTC): @bshepherdson I've updated so we don't process the query in process-userland-query middleware, instead we get the passed the processed query through metadata and then dissoc it before returning.

Please help reviews!

"
2170441462,pull_request,closed,,Homebrew getTables for postgres,"Implementing our own DatabaseMetadata.getTables in SQL, currently, it'll return exactly the same as the jdbc method. but in the future we can add more fields to it; one thing I'll add after this is row count for the deep fingerprint project https://github.com/metabase/metabase/issues/38229

Kudos to @calherries  for coming up with this idea!",qnkhuat,2024-03-06 01:17:35+00:00,['qnkhuat'],2024-03-25 04:36:17+00:00,2024-03-25 04:36:05+00:00,https://github.com/metabase/metabase/pull/39670,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/Workflows', 'aka BEC')]","[{'comment_id': 1979917032, 'issue_id': 2170441462, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/ead9d1df-e4f1-4f0d-95ca-9a22dfb71080"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>1d2fe188770a49ab21296595b02ab9ba7c5ed375</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2377 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 1, 29, 41, tzinfo=datetime.timezone.utc)}, {'comment_id': 1998854086, 'issue_id': 2170441462, 'author': 'qnkhuat', 'body': 'yea, I did feel a bit itchy adding a new method like that; defining a multimethod `describe-database` for Postgres does look a lot cleaner! Please take another look.', 'created_at': datetime.datetime(2024, 3, 15, 2, 59, 32, tzinfo=datetime.timezone.utc)}, {'comment_id': 1999010285, 'issue_id': 2170441462, 'author': 'calherries', 'body': 'Much better! With this new change I think a lot more code can still be removed.', 'created_at': datetime.datetime(2024, 3, 15, 6, 15, 48, tzinfo=datetime.timezone.utc)}, {'comment_id': 2003468559, 'issue_id': 2170441462, 'author': 'qnkhuat', 'body': ""@calherries I've removed the types arg and simplified the SQL query, which is much smaller now. Please take another look."", 'created_at': datetime.datetime(2024, 3, 18, 10, 17, 8, tzinfo=datetime.timezone.utc)}, {'comment_id': 2003489462, 'issue_id': 2170441462, 'author': 'qnkhuat', 'body': ""@camsaul I've reverted the arity changes in driver public functions.\r\nOn making this more memory efficient: while that's a great idea, I think this can be shipped on its own. The get-tables implementation for Postgres already returns a reducible, so it's a good first start toward having a `reducible-describe-database`. I didn't want to make it into this PR because it involves changing how we sync tables. I've looked into it, and it's not trivial to do that in a reducing way; maybe there is a way, but I'll need to spend more time on it.\r\n\r\non SQL templating, I'm not very fond of it for this use case because we want to able to conditionally construct where clauses here, and also, the query is quite small, and honeysql is a good fit for it IMO."", 'created_at': datetime.datetime(2024, 3, 18, 10, 22, 17, tzinfo=datetime.timezone.utc)}, {'comment_id': 2007228717, 'issue_id': 2170441462, 'author': 'calherries', 'body': '@qnkhuat the postgres failures in CI are legit. I think you have to wrap the `sql-jdbc.execute/do-with-connection-with-options` call in a `(reify clojure.lang.IReduceInit ...)` like this https://github.com/metabase/metabase/blob/1a4b2dd84bd079ddc4e5d71265b848da805afde3/src/metabase/driver/sql_jdbc/execute.clj#L722-L724', 'created_at': datetime.datetime(2024, 3, 19, 13, 48, 7, tzinfo=datetime.timezone.utc)}, {'comment_id': 2009278970, 'issue_id': 2170441462, 'author': 'qnkhuat', 'body': ""@calherries updated to make sure we don't prematurely close the connection on a reducible and also make sure redshift use jdbc implementation."", 'created_at': datetime.datetime(2024, 3, 20, 10, 55, 43, tzinfo=datetime.timezone.utc)}, {'comment_id': 2011034239, 'issue_id': 2170441462, 'author': 'qnkhuat', 'body': '@camsaul could you please take another look.', 'created_at': datetime.datetime(2024, 3, 21, 1, 45, 16, tzinfo=datetime.timezone.utc)}, {'comment_id': 2017194249, 'issue_id': 2170441462, 'author': 'github-actions[bot]', 'body': '@qnkhuat Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 25, 4, 36, 16, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-06 01:29:41 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/ead9d1df-e4f1-4f0d-95ca-9a22dfb71080"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>1d2fe188770a49ab21296595b02ab9ba7c5ed375</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2377 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

qnkhuat (Issue Creator) on (2024-03-15 02:59:32 UTC): yea, I did feel a bit itchy adding a new method like that; defining a multimethod `describe-database` for Postgres does look a lot cleaner! Please take another look.

calherries on (2024-03-15 06:15:48 UTC): Much better! With this new change I think a lot more code can still be removed.

qnkhuat (Issue Creator) on (2024-03-18 10:17:08 UTC): @calherries I've removed the types arg and simplified the SQL query, which is much smaller now. Please take another look.

qnkhuat (Issue Creator) on (2024-03-18 10:22:17 UTC): @camsaul I've reverted the arity changes in driver public functions.
On making this more memory efficient: while that's a great idea, I think this can be shipped on its own. The get-tables implementation for Postgres already returns a reducible, so it's a good first start toward having a `reducible-describe-database`. I didn't want to make it into this PR because it involves changing how we sync tables. I've looked into it, and it's not trivial to do that in a reducing way; maybe there is a way, but I'll need to spend more time on it.

on SQL templating, I'm not very fond of it for this use case because we want to able to conditionally construct where clauses here, and also, the query is quite small, and honeysql is a good fit for it IMO.

calherries on (2024-03-19 13:48:07 UTC): @qnkhuat the postgres failures in CI are legit. I think you have to wrap the `sql-jdbc.execute/do-with-connection-with-options` call in a `(reify clojure.lang.IReduceInit ...)` like this https://github.com/metabase/metabase/blob/1a4b2dd84bd079ddc4e5d71265b848da805afde3/src/metabase/driver/sql_jdbc/execute.clj#L722-L724

qnkhuat (Issue Creator) on (2024-03-20 10:55:43 UTC): @calherries updated to make sure we don't prematurely close the connection on a reducible and also make sure redshift use jdbc implementation.

qnkhuat (Issue Creator) on (2024-03-21 01:45:16 UTC): @camsaul could you please take another look.

github-actions[bot] on (2024-03-25 04:36:16 UTC): @qnkhuat Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2170421199,pull_request,closed,,fix waterfall series is missing on enormous datasets,"Closes https://github.com/metabase/metabase/issues/39411

### Description

Candlestick series hides elements when they become too small, so this PR replaces it with `custom` series for waterfall charts.

### How to verify

Create a waterfall chart with a small enough bar width like Orders Count by Created At: Day and ensure it shows the waterfall series.

### Demo

<img width=""1702"" alt=""Screenshot 2024-03-05 at 9 54 48‚ÄØPM"" src=""https://github.com/metabase/metabase/assets/14301985/600e63da-d48a-40c3-a513-69714291c6ef"">

### Checklist

- [x] Tests have been added/updated to cover changes in this PR
",alxnddr,2024-03-06 00:56:07+00:00,['alxnddr'],2024-03-08 21:54:05+00:00,2024-03-08 21:23:43+00:00,https://github.com/metabase/metabase/pull/39669,"[('visual', 'Run Percy visual testing'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 1979900755, 'issue_id': 2170421199, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/ec16e0c8-8f9c-4806-b87f-a7ccfb6ccdb1"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>01077b4bded9470a2992ef23298fa6f5b7083d74</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ùå <b>178 Failed</b></div>\n<div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2037 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 6, 1, 9, 35, tzinfo=datetime.timezone.utc)}, {'comment_id': 1982155376, 'issue_id': 2170421199, 'author': 'github-actions[bot]', 'body': 'üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8181259085)', 'created_at': datetime.datetime(2024, 3, 7, 1, 8, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 1985036469, 'issue_id': 2170421199, 'author': 'github-actions[bot]', 'body': 'üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8181259085)', 'created_at': datetime.datetime(2024, 3, 8, 4, 51, 56, tzinfo=datetime.timezone.utc)}, {'comment_id': 1986357460, 'issue_id': 2170421199, 'author': 'EmmadUsmani', 'body': 'https://github.com/metabase/metabase/assets/37751258/a0ba4704-fcae-479a-8def-c97eab6ec80d\r\n\r\nNot necessarily related to this PR but I noticed timescale has different spacing than the ordinal scale for the same number of bars', 'created_at': datetime.datetime(2024, 3, 8, 20, 14, 49, tzinfo=datetime.timezone.utc)}, {'comment_id': 1986438843, 'issue_id': 2170421199, 'author': 'alxnddr', 'body': '> Not necessarily related to this PR but I noticed timescale has different spacing than the ordinal scale for the same number of bars\r\n\r\nThe spacing of these axes types is inherently different and it was different in the previous implementation. I think this is not worth even creating a P3', 'created_at': datetime.datetime(2024, 3, 8, 21, 23, 35, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-06 01:09:35 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/ec16e0c8-8f9c-4806-b87f-a7ccfb6ccdb1"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>01077b4bded9470a2992ef23298fa6f5b7083d74</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ùå <b>178 Failed</b></div>
<div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2037 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-07 01:08:56 UTC): üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8181259085)

github-actions[bot] on (2024-03-08 04:51:56 UTC): üö® Visual Regression Tests failed. Get the [report artifact](https://github.com/metabase/metabase/actions/runs/8181259085)

EmmadUsmani on (2024-03-08 20:14:49 UTC): https://github.com/metabase/metabase/assets/37751258/a0ba4704-fcae-479a-8def-c97eab6ec80d

Not necessarily related to this PR but I noticed timescale has different spacing than the ordinal scale for the same number of bars

alxnddr (Issue Creator) on (2024-03-08 21:23:35 UTC): The spacing of these axes types is inherently different and it was different in the previous implementation. I think this is not worth even creating a P3

"
2170274704,pull_request,closed,,Use timestamp in attachment filenames,"Fixes: #39120

This modifies the subscriptin attachment filenames to match the same format used when doing a direct download from a dashboard or question.

That is:
 - card names are slugified (spaces and dashes turned to underscores, etc.)
 - a timestamp is appended to the slugified card name",adam-james-v,2024-03-05 22:52:22+00:00,['adam-james-v'],2024-03-06 04:42:55+00:00,2024-03-06 04:42:43+00:00,https://github.com/metabase/metabase/pull/39666,"[('backport', 'Automatically create PR on current release branch on merge'), ('.Team/DashViz', 'Dashboard and Viz team')]","[{'comment_id': 1979786785, 'issue_id': 2170274704, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/8425df99-5535-4dc8-aa74-c4fb5931a234"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>459cdcee46b31b9350c5c6f6884aa8fd8f77d6a6</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>\n<div>‚úÖ <b>2326 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 5, 23, 3, 50, tzinfo=datetime.timezone.utc)}, {'comment_id': 1980078468, 'issue_id': 2170274704, 'author': 'github-actions[bot]', 'body': '@adam-james-v Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 6, 4, 42, 53, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-05 23:03:50 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/8425df99-5535-4dc8-aa74-c4fb5931a234"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>459cdcee46b31b9350c5c6f6884aa8fd8f77d6a6</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>4 Flaky</b></div>
<div>‚úÖ <b>2326 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

github-actions[bot] on (2024-03-06 04:42:53 UTC): @adam-james-v Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
2170233532,pull_request,closed,,Fix hanging cache refresh jobs,"I started a much more complex fix with a job that tried to clean up stale `refreshing` PersistedInfos... then talked to Dan, who pointed out that because only one instance is running these jobs at any given time, we can just add `refreshing` to the list of refreshable states.

Will fix https://github.com/metabase/metabase/issues/39138",johnswanson,2024-03-05 22:16:29+00:00,['johnswanson'],2024-03-11 12:42:37+00:00,2024-03-11 12:42:23+00:00,https://github.com/metabase/metabase/pull/39664,"[('no-backport', 'Do not backport this PR to any branch'), ('.Team/AdminWebapp', 'Admin and Webapp team')]","[{'comment_id': 1979743093, 'issue_id': 2170233532, 'author': 'replay-io[bot]', 'body': '<h3></h3>\n<table>\n  <tbody>\n    <tr>\n      <td><b>Status</b></td>\n      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/20614362-71ba-4dbd-8e77-f1653de05539"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>\n    </tr>\n    <tr>\n      <td><b>Commit</b></td>\n      <td>5be9ac24a4d628574c4e91670c372c22a56a9e05</td>\n    </tr>\n    <tr>\n      <td valign=""top""><b>Results</b></td>\n      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>\n<div>‚úÖ <b>2351 Passed</b></div>\n</td>\n    </tr>\n  </tbody>\n</table>', 'created_at': datetime.datetime(2024, 3, 5, 22, 27, 58, tzinfo=datetime.timezone.utc)}, {'comment_id': 1986516855, 'issue_id': 2170233532, 'author': 'johnswanson', 'body': '> should there be a test for this?\r\n\r\nGood idea, just added one!', 'created_at': datetime.datetime(2024, 3, 8, 22, 32, 22, tzinfo=datetime.timezone.utc)}, {'comment_id': 1988354192, 'issue_id': 2170233532, 'author': 'github-actions[bot]', 'body': '@johnswanson Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_', 'created_at': datetime.datetime(2024, 3, 11, 12, 42, 36, tzinfo=datetime.timezone.utc)}]","replay-io[bot] on (2024-03-05 22:27:58 UTC): <h3></h3>
<table>
  <tbody>
    <tr>
      <td><b>Status</b></td>
      <td width=""2000""><a href=""https://app.replay.io/team/dzoyNTM4ZjRmOC05YmFlLTRiYjYtYjljYi1jOGYzOWUyMjRhZWY=/runs/20614362-71ba-4dbd-8e77-f1653de05539"" target=""_blank"">Complete ‚ÜóÔ∏é</a></td>
    </tr>
    <tr>
      <td><b>Commit</b></td>
      <td>5be9ac24a4d628574c4e91670c372c22a56a9e05</td>
    </tr>
    <tr>
      <td valign=""top""><b>Results</b></td>
      <td><div>‚ö†Ô∏è <b>1 Flaky</b></div>
<div>‚úÖ <b>2351 Passed</b></div>
</td>
    </tr>
  </tbody>
</table>

johnswanson (Issue Creator) on (2024-03-08 22:32:22 UTC): Good idea, just added one!

github-actions[bot] on (2024-03-11 12:42:36 UTC): @johnswanson Did you forget to add a milestone to the issue for this PR? _[When and where should I add a milestone?](https://www.notion.so/metabase/Metabase-Branching-Strategy-6eb577d5f61142aa960a626d6bbdfeb3?pvs=4#3dea255ffa3b4f74942a227844e889fa)_

"
